From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Feb  2 10:49:31 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Feb 1998 11:49:31 +0100
Subject: Summary of mails concerning R help system
In-Reply-To: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at> (message from
 Friedrich Leisch on Thu, 29 Jan 1998 10:17:29 +0100)
Message-ID: <199802021049.LAA27228@sophie.ethz.ch>

>>>>> "FrL" == Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

    FrL> Hi,

    FrL> here's a short summary of all the mails I got concerning the R
    FrL> help system during the last days ... I really want to have all
    FrL> open questions in this list, so if I forgot your most important
    FrL> topic please forgive (and remind me again) ... it's probably only
    FrL> because of lack of time such that I had to compile the list in a
    FrL> hurry ...

	.......

    FrL> 4) Rdconv -t rtf to support the windoze help format ... I
    FrL> definetely don't have time or any motivation to do that, so if
    FrL> somebody wants to do that, he's welcome.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Feb  2 11:00:29 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Feb 1998 12:00:29 +0100
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at> (message from
 Friedrich Leisch on Thu, 29 Jan 1998 10:17:29 +0100)
Message-ID: <199802021100.MAA27285@sophie.ethz.ch>


Excuse everyone my almost empty E-mail !!

>>>>> "FrL" == Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

    FrL> Hi,

    FrL> here's a short summary of all the mails I got concerning the R
    FrL> help system during the last days ... I really want to have all
    FrL> open questions in this list, so if I forgot your most important
    FrL> topic please forgive (and remind me again) ... it's probably only
    FrL> because of lack of time such that I had to compile the list in a
    FrL> hurry ...

	.......

    FrL> 4) Rdconv -t rtf to support the windoze help format ... I
    FrL> definetely don't have time or any motivation to do that, so if
    FrL> somebody wants to do that, he's welcome.

In the  V&R (Venables & Ripley) Online Complements to MASS2,
	[page 3, producing Windows help files]
I've found that they provide a
	troff -> rtf
translation utility ("spwinhlp.zip" )
for S-plus help pages, and then mention the Windows help-compiler for 
producing windows *.hlp files

In principle, one could use this as

	foo.Rd	--->  foo.troff  -->  foo.rtf  --> foo.hlp
		 1		  2		3
 1: Rdconv
 2: spwinhlp
 3: Windows help compiler.

If anyone here (of you R-develers) is willing to do these steps,
I am sure that the CRAN maintainers will glad to include these *.hlp files
in the 'preformatted-help' directories.

However, I agree with Luke Tierney, that also for windows, HTML should be
enough in principle.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Mon Feb  2 12:55:35 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 2 Feb 1998 13:55:35 +0100
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: <199802021100.MAA27285@sophie.ethz.ch>
References: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at>
 <199802021100.MAA27285@sophie.ethz.ch>
Message-ID: <199802021255.NAA02853@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 2 Feb 1998 12:00:29 +0100,
>>>>> Martin Maechler (MM) wrote:

MM> Excuse everyone my almost empty E-mail !!

>>>>> "FrL" =3D=3D Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> wr=
ites:

MM> ...
MM> However, I agree with Luke Tierney, that also for windows, HTML shoul=
d be
MM> enough in principle.

Especially now that I'm finished with supporting short filenames for HTML
conversion :-)

So the next windows version could/should contain all html help files.=20

I will submit this to the current sources in a minute.

Best,
Fritz

--=20
-------------------------------------------------------------------
                        Friedrich  Leisch                            =20
Institut f=FCr Statistik                      Tel: (+43 1) 58801 4541
Technische Universit=E4t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra=DFe 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Feb  2 13:27:20 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Feb 1998 14:27:20 +0100
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: Friedrich Leisch's message of Mon, 2 Feb 1998 13:55:35 +0100
References: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at>
 <199802021100.MAA27285@sophie.ethz.ch>
 <199802021255.NAA02853@galadriel.ci.tuwien.ac.at>
Message-ID: <x2iuqyuog7.fsf@blueberry.kubism.ku.dk>

Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

> MM> However, I agree with Luke Tierney, that also for windows, HTML should be
> MM> enough in principle.
> 
> Especially now that I'm finished with supporting short filenames for HTML
> conversion :-)

Yup. 

There are still two arguments remaining for doing the WinHelp thingie:

- Uniformity with other Windows application (if compiler vendors are
shipping with HTML help, that point may be a bit moot, though.)

- People who don't have the browsers. Getting rare nowadays, I suppose.

Anyways, I found out that an elaborate tex2rtf system is contained in
the wxwin package, so if someone has a couple of spare days (or
weeks), I suspect that it would be rather easy to change it into
rdconv -t rtf. I agree, however, that there's no particular hurry with
this compared to all the other stuff we want to do.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Feb  2 14:42:45 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 02 Feb 1998 08:42:45 -0600
Subject: Installation on SuSE Linux [was Re: Copyrights for R contributed libraries]
In-Reply-To: Christian Hoffmann's message of Mon, 02 Feb 1998 13:55:57 +0100
References: <199802021255.NAA10410@wsl.ch>
Message-ID: <6rd8h6xe3e.fsf@verdi.stat.wisc.edu>

Christian Hoffmann <hoffmann@wsl.ch> writes:

> I just installed the SuSE distribution of Linux (from Fuerth, Germany). I
> would be very interested in learning of a SuSE compatible form of R.
> Installing Linux was expressly made to be able to use R :-)
> 
> SuSE  (suse@suse.de,  http://www.suse.de) is a distribution which is quickly
> gaining users for Linux because of its well thought out smooth tools and
> handbooks, both in English and in German. 

I'm sorry but I don't know anything about installing R on SuSE.  If
SuSE accepts .rpm packages you could try to install those from the
CRAN archive.  It may require a bit of work to get the libraries
consistent with what the .rpm packages require.  The big distinction
is whether your system is based on libc5 or libc6 (also called glibc2
or GNU libc 2.0).  A RedHat-5.0 binary requires libc6.

It is usually fairly easy to install from the original sources.  You
could do that instead of trying to find a binary package.
-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Mon Feb  2 14:44:45 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Mon, 2 Feb 1998 08:44:45 -0600 (CST)
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: <x2iuqyuog7.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Feb 2, 98 02:27:20 pm
Message-ID: <9802021444.AA25205@nokomis.stat.umn.edu>

Peter Dalgaard BSA wrote:
> 
> Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:
> 
> > MM> However, I agree with Luke Tierney, that also for windows, HTML should be
> > MM> enough in principle.
> > 
> > Especially now that I'm finished with supporting short filenames for HTML
> > conversion :-)
> 
> Yup. 
> 
> There are still two arguments remaining for doing the WinHelp thingie:
> 
> - Uniformity with other Windows application (if compiler vendors are
> shipping with HTML help, that point may be a bit moot, though.)
> 

The current Borland and Watcom products both still use WinHelp. But
Microsoft VC++, and I think their entire DevStudio, uses html with
Internet Explorer integrated into their development environments.
What impact, if any, current legal actions will have on this is
anyone's guess.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From efh@nessie.mcc.ac.uk  Mon Feb  2 15:38:31 1998
From: efh@nessie.mcc.ac.uk (Ted Harding)
Date: Mon, 02 Feb 1998 15:38:31 -0000 (GMT)
Subject: Installation on SuSE Linux [was Re: Copyrights for R contrib
In-Reply-To: <6rd8h6xe3e.fsf@verdi.stat.wisc.edu>
Message-ID: <XFMail.980202153831.Ted.Harding@nessie.mcc.ac.uk>

On 02-Feb-98 Douglas Bates wrote:
> Christian Hoffmann <hoffmann@wsl.ch> writes:
> 
>> I just installed the SuSE distribution of Linux (from Fuerth, Germany). I
>> would be very interested in learning of a SuSE compatible form of R.
>> Installing Linux was expressly made to be able to use R :-)
> 
> I'm sorry but I don't know anything about installing R on SuSE.  If
> SuSE accepts .rpm packages you could try to install those from the
> CRAN archive.  It may require a bit of work to get the libraries
> consistent with what the .rpm packages require.  The big distinction
> is whether your system is based on libc5 or libc6 (also called glibc2
> or GNU libc 2.0).  A RedHat-5.0 binary requires libc6.

S.u.S.E. Linux uses RPM as its basic installation engine. As to libc5/6,
I quote from the documentation in the S.u.S.E.-5.1 distribution:

  This is the beta release of the Linux C library 5.4.33.

  Due to the new, improved locale, the Linux C library 5.4.33 is binary
  compatible with libc 5.3.12 but not vice versa. The binaries
  compiled/linked with libc.so.5.4.33 may not run with libc.so.5.3.12.
  You may need to regenerate locale files for the new locale in libc
  5.4.33 if you use locales other tha C/POSIX which are the defaults.

I'm not sure where this leaves installation of R (which I have not tried on
S.u.S.E.-5.1 yet, since I only upgraded yesterday), but I hope this info is
useful.

Best wishes to all,
Ted.

--------------------------------------------------------------------
E-Mail: Ted Harding <Ted.Harding@nessie.mcc.ac.uk>
Date: 02-Feb-98                                       Time: 15:38:31
--------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Mon Feb  2 17:26:07 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 2 Feb 1998 18:26:07 +0100
Subject: R-beta: Submissions to CRAN
In-Reply-To: <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at>
 <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
Message-ID: <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 30 Jan 1998 11:38:07 -0800 (PST),
>>>>> Thomas Lumley (TL) wrote:

TL> On Fri, 30 Jan 1998, Friedrich Leisch wrote:
>> **********************************************************
>> 
>> Package: e1071
>> Version: 0.7-3
>> Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
>> Description: Miscellaneous functions used at the Department of
>> Statistics at TU Wien (E1071). 
>> Copyright: GPL
>> 
>> **********************************************************
>> 

>> 
>> PLEASE MAKE SURE TO INCLUDE A COPYRIGHT LINE IN THE DESCRIPTION!!!
>> 

TL> I think we should be more careful to distinguish between copyright and
TL> licensing conditions (eg R is copyright Ross & Robert, and licensed GPL, 
TL> survival4 is copyrighted by the Mayo Foundation and licensed for free
TL> distribution and use without modification). 

Ooops ... sorry but English is not my mother tongue ... and my
knowledge is probably better suited to ordering a beer in a 
pub than to legal matters :-) ... so please excuse the confusion ...

Of course I want license information, not copyright information ...

So is it ok if we change the above to something like

**********************************************************

Package: e1071
Version: 0.7-3
Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
Description: Miscellaneous functions used at the Department of
Statistics at TU Wien (E1071). 
License: GPL

**********************************************************


or is it better if we use the keyword `Copying'?

I also want to complile a list of known Licenses:

	GPL
	BSD
	Artistic

These (and similar ones) are what Debian considers `free'.

How should we treat the rest? Providing some more keywords or have
people explain it in detail in the DESCRIPTION file?


Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Feb  2 19:37:32 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 02 Feb 1998 13:37:32 -0600
Subject: Licenses on Submissions to CRAN
In-Reply-To: Friedrich Leisch's message of Mon, 2 Feb 1998 18:26:07 +0100
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at> 	<Pine.SUN.3.95.980130113536.17212B-100000@chekov> <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>
Message-ID: <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu>

Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

> So is it ok if we change the above to something like
> 
> **********************************************************
> 
> Package: e1071
> Version: 0.7-3
> Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
> Description: Miscellaneous functions used at the Department of
> Statistics at TU Wien (E1071). 
> License: GPL
> 
> **********************************************************

I hate to be picky but I think it would be better to have it a bit
more complete as in 

License: GPL version 2 or later

> or is it better if we use the keyword `Copying'?

I think License is better than Copying.

> I also want to complile a list of known Licenses:
> 
> 	GPL
> 	BSD
> 	Artistic
> 
> These (and similar ones) are what Debian considers `free'.


> How should we treat the rest? Providing some more keywords or have
> people explain it in detail in the DESCRIPTION file?

We might use a general phrase followed by a reference to the
DESCRIPTION file.  For example

License: Free for non-commercial use.  See the file DESCRIPTION for details.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Feb  3 08:03:13 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 3 Feb 1998 09:03:13 +0100
Subject: Licenses on Submissions to CRAN
In-Reply-To: <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu>
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at>
 <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
 <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>
 <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu>
Message-ID: <199802030803.JAA12957@galadriel.ci.tuwien.ac.at>

>>>>> On 02 Feb 1998 13:37:32 -0600,
>>>>> Douglas Bates (DB) wrote:

DB> Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:
>> So is it ok if we change the above to something like
>> 
>> **********************************************************
>> 
>> Package: e1071
>> Version: 0.7-3
>> Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
>> Description: Miscellaneous functions used at the Department of
>> Statistics at TU Wien (E1071). 
>> License: GPL
>> 
>> **********************************************************

DB> I hate to be picky ...

Better than being sloppy like me :-)

DB> but I think it would be better to have it a bit
DB> more complete as in 

DB> License: GPL version 2 or later

Ok

>> or is it better if we use the keyword `Copying'?

DB> I think License is better than Copying.

Ok


>> I also want to complile a list of known Licenses:
>> 
>> GPL
>> BSD
>> Artistic
>> 
>> These (and similar ones) are what Debian considers `free'.


>> How should we treat the rest? Providing some more keywords or have
>> people explain it in detail in the DESCRIPTION file?

DB> We might use a general phrase followed by a reference to the
DB> DESCRIPTION file.  For example

DB> License: Free for non-commercial use.  See the file DESCRIPTION for details.


Well, now I hate to be picky ... but that is a neverending loop
... the License statement is in the file DESCRIPTION ... so we'll
change that to

  License: Free for non-commercial use.  See the file COPYING for details


Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Andreas.Weingessel@ci.tuwien.ac.at  Tue Feb  3 08:10:42 1998
From: Andreas.Weingessel@ci.tuwien.ac.at (Andreas Weingessel)
Date: Tue, 3 Feb 1998 09:10:42 +0100
Subject: linear models
Message-ID: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>


How can I use linear model regression for more than 1 dependent (response=
)
variable?

In S it is possible to do something like
S> x<-matrix(rnorm(300),100,3)
S> lm(x[,1:2]~x[,3])
to get

----------------------------------------------------------------------

Response: Y1=20
Call:
lm(formula =3D x[, 1:2] ~ x[, 3])

Coefficients:
 (Intercept)     x[, 3]=20
  0.02778965 -0.1081179

Degrees of freedom: 100 total; 98 residual
Residual standard error: 0.8294969=20

Response: Y2=20
Call:
lm(formula =3D x[, 1:2] ~ x[, 3])

Coefficients:
 (Intercept)     x[, 3]=20
  0.08045632 -0.1815675

Degrees of freedom: 100 total; 98 residual
Residual standard error: 1.081359=20

----------------------------------------------------------------------

This is not possible in R:

R> x<-matrix(rnorm(300),100,3)
R> lm(x[,1:2]~x[,3])
Error: dimnames: number of dimensions must equal number of names


	Andreas

************************************************************************
*                          Andreas Weingessel                          *
************************************************************************
* Institut f=FCr Statistik      *                Tel: (+43 1) 58801 4541 =
*
* Technische Universit=E4t Wien *                Fax: (+43 1)  504 14 98 =
*
* Wiedner Hauptstr. 8-10/1071 *     Andreas.Weingessel@ci.tuwien.ac.at *
* A-1040 Wien, Austria        * http://www.ci.tuwien.ac.at/~weingessel *
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Feb  3 10:49:54 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 3 Feb 1998 11:49:54 +0100
Subject: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
Message-ID: <199802031049.LAA00411@sophie.ethz.ch>

I have been implementing a proposal of Jim Lindsey for  glm(.)
to return AIC values, and
print.glm(.) and print.summary.glm(.)  printing them....
however:

>>>>> "Jim" == Jim Lindsey <jlindsey@luc.ac.be> writes:

    Jim> The problem still remains of getting the correct AIC when the user
    Jim> wants the scale parameter to be fixed. (The calculation should use
    Jim> the fixed, supplied value, instead of estimating it from the
    Jim> deviance.) As I mentioned earlier, the problem is that this is
    Jim> specified in summary, after the AIC has already been
    Jim> calculated. Would it not be possible to add an option in glm
    Jim> itself, allowing the scale parameter to be specified there?
    Jim> Otherwise, the AIC should in fact be recalculated every time
    Jim> summary is called.
Yes, I think that's what should really happen.

For binomial and poisson,
there are even three possibilities:
	
	1. no dispersion (as by the proper GLM)
	2. overdispersion estimated by the deviance (ratio)
	3. overdispersion specified by the user

S has adopted the concept that the glm(.) model is always the same,
the dispersion being an orthogonal nuisance parameter,
which the user should specify in
	summary(....) , i.e.,
	summary.glm(object, dispersion = NULL, correlation=FALSE, ..)
			    ^^^^^^^^^^^^^^^^^
[but wouldn't the dispersion also be used in predict.glm(..., se = TRUE) ?].

As a consequence, glm(.) wouldn't (and shouldn't ??) have a
	`dispersion = ' argument,
and  print.glm(.) maybe also shouldn't print the AIC

BTW, V&R's  MASS library contains the following functions
 > apropos("[Aa][Ii][Cc]")
 [1] "extractAIC"         "extractAIC.aov"     "extractAIC.coxph"  
 [4] "extractAIC.glm"     "extractAIC.lm"      "extractAIC.negbin" 
 [7] "extractAIC.survreg" "stepAIC"           

where   "stepAIC" is the main function, calling the generic  "extractAIC"
					(and one of its methods).
Maybe we should try look adopt what they've done.
(haven't looked at it really).
-------

Opinions, proposals, please ?

Martin Maechler <maechler@stat.math.ethz.ch>			<><
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 14:39:34 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 09:39:34 -0500
Subject: Licenses on Submissions to CRAN
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at>
 <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
 <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>
 <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu> <199802030803.JAA12957@galadriel.ci.tuwien.ac.at>
Message-ID: <98Feb3.095516est.13441@mailgate.bank-banque-canada.ca>

>change that to
>  License: Free for non-commercial use.  See the file COPYING for details

Although it doesn't really matter, you might want to use LICENSE or COPYRIGHT
instead of COPYING for the file name. That way people are more likely to know
what it is without seeing the description. (note: LICENSE is 8.3 compliant.
COPYRIGHT is not.)

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb  3 15:50:18 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 03 Feb 1998 09:50:18 -0600
Subject: netcdf
Message-ID: <6rk9bclmbp.fsf@verdi.stat.wisc.edu>

Has anyone experimented with the Network Common Data Format (netcdf)
described at
        http://www.unidata.ucar.edu/packages/netcdf
for archiving data?

Is this format widely used outside of atmospheric research?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Tue Feb  3 16:14:13 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Tue, 3 Feb 1998 10:14:13 -0600 (CST)
Subject: netcdf
In-Reply-To: <6rk9bclmbp.fsf@verdi.stat.wisc.edu> from "Douglas Bates" at Feb 3, 98 09:50:18 am
Message-ID: <9802031614.AA08758@nokomis.stat.umn.edu>

Douglas Bates wrote:
> 
> Has anyone experimented with the Network Common Data Format (netcdf)
> described at
>         http://www.unidata.ucar.edu/packages/netcdf
> for archiving data?
> 
> Is this format widely used outside of atmospheric research?

I think Sigbrt Klinke has added support for it to Xplore. Looking into
NetCDF/CDF/HDF is on my list to do fairly soon for xlispstat but I
haven't gotten to it yet. My impression is that these are used a fair
bit in the "scientific visualization" community, but I need to explore
this further.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Tue Feb  3 16:56:22 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Tue, 3 Feb 1998 08:56:22 -0800 (PST)
Subject: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
In-Reply-To: <199802031049.LAA00411@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980203085427.9015D-100000@chekov>

On Tue, 3 Feb 1998, Martin Maechler wrote:

> I have been implementing a proposal of Jim Lindsey for  glm(.)
> to return AIC values, and
> print.glm(.) and print.summary.glm(.)  printing them....
> however:
<snip>
> 
> For binomial and poisson,
> there are even three possibilities:
> 	
> 	1. no dispersion (as by the proper GLM)
> 	2. overdispersion estimated by the deviance (ratio)
> 	3. overdispersion specified by the user
> 

How about overdispersion as estimated by the mean squared Pearson
residual. Unlike the deviance estimate this works for quasilikelihood (ie
when only first two moments are specified correctly), at least according
to McCullagh & Nelder.


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 18:20:48 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 13:20:48 -0500
Subject: Another Rdse question
References: <9802031217.ZM19548@tor056.fi.gs.com>
Message-ID: <98Feb3.133635est.13441@mailgate.bank-banque-canada.ca>

>Error in .Fortran("arma", pred = matrix(1e+20, predictT, p),
>as.integer(length(error.weights)),  : C/Fortran function not in load table

I think what is happening is that the compiled code is not getting loaded. There
was a message the other day on r-devel about a bug in library.dynam which may be
causing the problem. I've lost the message, but as I recall (someone please
correct me if I'm wrong), if you save your workspace when you q() (ie. create
the .RData file) then when it is reloads it loads a variable .Dyn.libs which
indicates libraries which have been loaded (even though they are not yet loaded
in the new session). I think if you
    rm(.Dyn.libs)
before you do
    library("dse")
then it may work.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Tue Feb  3 18:43:38 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 4 Feb 1998 07:43:38 +1300 (NZDT)
Subject: netcdf
Message-ID: <199802031843.HAA06468@stat1.stat.auckland.ac.nz>

> Luke Tierney wrote:
> Douglas Bates wrote:
> > 
> > Has anyone experimented with the Network Common Data Format (netcdf)
> > described at
> >         http://www.unidata.ucar.edu/packages/netcdf
> > for archiving data?
> > 
> > Is this format widely used outside of atmospheric research?
>
> I think Sigbrt Klinke has added support for it to Xplore. Looking into
> NetCDF/CDF/HDF is on my list to do fairly soon for xlispstat but I
> haven't gotten to it yet. My impression is that these are used a fair
> bit in the "scientific visualization" community, but I need to explore
> this further.

By coincidence I just picked up a copy of netcdf last night.  I'm going
to have a look at GMT, particularly the map data base.  NSF funded a big
cleanup of the freely available maps as part of GMT developement.
The maps are in a NetCDF database ...

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 18:45:31 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 13:45:31 -0500
Subject: netcdf
References: <9802031614.AA08758@nokomis.stat.umn.edu>
Message-ID: <98Feb3.140112est.13449@mailgate.bank-banque-canada.ca>

> Has anyone experimented with the Network Common Data Format (netcdf)
> described at
>         http://www.unidata.ucar.edu/packages/netcdf
> for archiving data?

If anyone gets around to looking at this and would like to compare it with the
UN/EDIFACT Generic Statistical Message (GESMES), I sure would appreciate a
summary.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 20:37:38 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 15:37:38 -0500
Subject: fortran Makefile
Message-ID: <98Feb3.155327est.13444@mailgate.bank-banque-canada.ca>

My library uses compiled code which I converted from fortran to C with f2c. I
put copies of the same Makefile in the both dse/src and dse/src-c. (I'm not sure
why, but I niavely assumed the same Makefile might work.) Now, I haven't tried
the fortran version with R. But of course the first person (as far as I know) to
actually try and use the package defaulted to compiling the fortran directly
(using R INSTALL). I assume this is something that gets set by configure, but
I'm not sure. What should be in the Makefile for the fortran, or should I not
have any Makefile in the src directory? The src-c/Makefile is

LIBNAME=dse
LD=ld
OBJS= dsefor.o
all: $(LIBNAME).so message
$(LIBNAME).so: $(OBJS)
      $(LD) $(SHLIBLDFLAGS) -o $@ $(OBJS)
clean:
      @rm -f *.o *.so

Below is a copy of an email with the errors from the attempted fortran compile,
and a manual way to compile, but I'm not sure how much of that should be done in
the Makefile and how much is done by configure.

Paul Gilbert
___________
Thanks a lot for providing dse for R. I installed it under Linux. The 'usual'
installation fails as your Rdse/dse/src/Makefile uses implicit rules quite a
bit. It calls g77 first as the compiler. However, each of g77 5.0.19, 5.0.20
and 5.0.21 failed on dsefor.f, mostly with errors of the following type:

dsefor.f:283:
         SUBROUTINE KFP(EY, HPERR, PREDERR, ERRWT,
                    1
dsefor.f:1695: (continued):
                     CALL KFP(F2, HPERR,PREDERR, ERRWT,
                          2
Argument #18 (named `r') of `kfp' is one type at (2) but is some other type at
(1) [info -f
g77 M GLOBALS]
However, it works fine with a manual
        fort77 -c -O2 -fPIC dsefor.f
        gcc -shared -o dse.so dsefor.o



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Feb  4 11:26:00 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 4 Feb 1998 12:26:00 +0100
Subject: [J.Lindsey: Re: glm(.) / summary.glm(.); [over]dispersion and returning AIC..]
Message-ID: <199802041126.MAA02543@sophie.ethz.ch>

--Multipart_Wed_Feb__4_12:25:40_1998-1
Content-Type: text/plain; charset=US-ASCII


Jim, I am relating your message to R-devel.

This should be discussed in a broader audience; 
I am not an expert on GLM's, I know you are
and others on this group also...

R-develers, please CC to Jim Lindsey (on this topic), since he hasn't
been part of the R-devel list for a while..

BTW: I will be gone to the snowy mountains,
      for two weeks by end of Friday....
- Martin


--Multipart_Wed_Feb__4_12:25:40_1998-1
Content-Type: message/rfc822

Return-Path: jlindsey@luc.ac.be
From: Jim Lindsey <jlindsey@luc.ac.be>
Subject: Re: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
To: maechler@stat.math.ethz.ch
Date: Wed, 4 Feb 1998 10:15:50 +0100 (MET)
In-Reply-To: <199802031049.LAA00411@sophie.ethz.ch> from "Martin Maechler" at Feb 3, 98 11:49:54 am

> 
> For binomial and poisson,
> there are even three possibilities:
> 	
> 	1. no dispersion (as by the proper GLM)
> 	2. overdispersion estimated by the deviance (ratio)
> 	3. overdispersion specified by the user

None of these except the first give true AICs. Hence, the AIC for
these models is always correct and should not be touched.

> 
> S has adopted the concept that the glm(.) model is always the same,
> the dispersion being an orthogonal nuisance parameter,
> which the user should specify in
> 	summary(....) , i.e.,
> 	summary.glm(object, dispersion = NULL, correlation=FALSE, ..)
> 			    ^^^^^^^^^^^^^^^^^

But in fact it is unity for binomial and poisson so some action must
be taken in summary. The orthogonality is a characteristic of
exponential dispersion models.

> [but wouldn't the dispersion also be used in predict.glm(..., se = TRUE) ?].
> 

Dispersion does not affect predictions, only their precision.

> As a consequence, glm(.) wouldn't (and shouldn't ??) have a
> 	`dispersion = ' argument,

Agreed. Basically, I was lazy in implementing the AIC and did not try
to pass the function to summary, only the calculated value.

> and  print.glm(.) maybe also shouldn't print the AIC
> 

I think it should, because it is always correct for the best model, ie
that using the estimated dispersion parameter. The AIC for a fixed
value of the dispersion parameter will always be poorer (except for
the penalty of 2 perhaps).

> BTW, V&R's  MASS library contains the following functions
>  > apropos("[Aa][Ii][Cc]")
>  [1] "extractAIC"         "extractAIC.aov"     "extractAIC.coxph"  
>  [4] "extractAIC.glm"     "extractAIC.lm"      "extractAIC.negbin" 
>  [7] "extractAIC.survreg" "stepAIC"           
> 
> where   "stepAIC" is the main function, calling the generic  "extractAIC"
> 					(and one of its methods).
> Maybe we should try look adopt what they've done.
> (haven't looked at it really).

I don't think the AIC should need to be extracted. It should always be
available. I think it is much more fundamental than z statistics or P-values.
Jim


--Multipart_Wed_Feb__4_12:25:40_1998-1--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Feb  4 16:00:16 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 4 Feb 1998 17:00:16 +0100
Subject: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
In-Reply-To: <9802040915.AA22734@alpha.luc.ac.be> (message from Jim Lindsey on
 Wed, 4 Feb 1998 10:15:50 +0100 (MET))
Message-ID: <199802041600.RAA02976@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey@luc.ac.be> writes:

  MM>> S has adopted the concept that the glm(.) model is always the same,
  MM>> the dispersion being an orthogonal nuisance parameter,
  MM>> which the user should specify in
  MM>> 	summary(....) , i.e.,
  MM>> 	summary.glm(object, dispersion = NULL, correlation=FALSE, ..)
  MM>> 			    ^^^^^^^^^^^^^^^^^

    Jim> But in fact it is unity for binomial and poisson so some action must
    Jim> be taken in summary. The orthogonality is a characteristic of
    Jim> exponential dispersion models.
Sure; the above meant:  
	-  dispersion  *is* an optional parameter to  summary.glm(.).
	-  it has a default depending on the model fitted (e.g. =1 for binomial)
	-  if the user specifies a different value, that one is used ...

  MM>> [but wouldn't the dispersion also be used in predict.glm(..., se=TRUE) ?]

    Jim> Dispersion does not affect predictions, only their precision.

Exactly, and the point is that ``predict( ... , se = TRUE )
						^^^^^^^^^^
			asks for 'standard errors' !
 it is short for  'se.fit' and actually
 not (yet) available in R, but in S-plus  predict.lm & predict.glm.

The question remains (actually an S-plus only question for the current R):

  How to get standard errors for predicted values
  WITH user-specified / non-standard estimated dispersion value?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Feb  5 09:49:46 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 5 Feb 1998 10:49:46 +0100
Subject: linear models
In-Reply-To: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>
References: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>
Message-ID: <199802050949.KAA00669@pc25.none>

>>>>> Andreas Weingessel writes:

> How can I use linear model regression for more than 1 dependent (response)
> variable?

> In S it is possible to do something like
S> x<-matrix(rnorm(300),100,3)
S> lm(x[,1:2]~x[,3])
> to get

The problem is the final line

	dimnames(z$effects)[1] <- list(NULL)

in the multivariate version of lm.fit().

I think this used to work for some time, but now does neither in 0.61.1
nor in 0.62.

Could we replace the line by

	rownames(z$effects) <- NULL

?

-k

	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Feb  5 17:05:11 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 5 Feb 1998 18:05:11 +0100
Subject: linear models
In-Reply-To: <199802050949.KAA00669@pc25.none>
References: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>
 <199802050949.KAA00669@pc25.none>
Message-ID: <199802051705.SAA18856@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 5 Feb 1998 10:49:46 +0100,
>>>>> Kurt Hornik (KH) wrote:

>>>>> Andreas Weingessel writes:
>> How can I use linear model regression for more than 1 dependent (response)
>> variable?

>> In S it is possible to do something like
S> x<-matrix(rnorm(300),100,3)
S> lm(x[,1:2]~x[,3])
>> to get

KH> The problem is the final line

KH> 	dimnames(z$effects)[1] <- list(NULL)

KH> in the multivariate version of lm.fit().

KH> I think this used to work for some time, but now does neither in 0.61.1
KH> nor in 0.62.

KH> Could we replace the line by

KH> 	rownames(z$effects) <- NULL

KH> ?

As it seems to work I've committed the change.

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb 10 18:01:22 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 10 Feb 1998 13:01:22 -0500
Subject: Makefiles
References: <Pine.SUN.3.95.980115094935.10831A-100000@paca>
 <Pine.SUN.3.95.980115083356.18298B-100000@chekov>
 <199802101414.PAA08591@wrin27.urz.uni-wuppertal.de>
 <x2afbzfrlz.fsf@blueberry.kubism.ku.dk> <199802101554.QAA09176@wrin27.urz.uni-wuppertal.de>
Message-ID: <98Feb10.130235est.13441@mailgate.bank-banque-canada.ca>

While on the subject of makefiles, I have discovered a few problems:

If a package directory has a src subdirectory with fortran code and a makefile,
and a fortran compiler is available, I think R INSTALL tries to use this rather
than the src-c directory. Is this the generally preferred stategy? Currently g77
seems to have a bug and my fortran code does not compile.  If I were to just
include the fortran code for reference, but not expect anyone to compile it, is
the best way to put it in src-c, or should I put it in src and not put a
Makefile there?

I previously reported that my compiled C code does not find pow_ii and was led
to believe this is a routine in the f2c lib which I need to include in some way.
However, prompted by the above problem, I experimented with compliing using the
Solaris SunPro fortran compiler. Now I don't find __pow_ii and __pow_ri unless I
"hard code" the location of libF77 and libM77 into the .so file using -L. R
INSTALL doesn't do this. I'm not sure how this should be fixed. Also, I would
appreciate it if someone could explain whether it should be my .so file or
R.binary that resolves these references.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Feb 12 16:06:15 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 12 Feb 1998 17:06:15 +0100
Subject: Submissions to CRAN
Message-ID: <199802121606.RAA15350@galadriel.ci.tuwien.ac.at>


Hi again,

a fortnight ago I've sent an email concerning the package format for
submissions to CRAN ... it turned out that

	a) my english wasn't good enough and
	b) I hadn't given it enough thought :-)

Anyway, after some discussion here on this list (and some direct
emails) here is a new proposal summing everything up:

Every package should contain a file called DESCRIPTION in the top
directory (the one containing the R, man, src, ... dirs) looking like:

Package: e1071
Version: 0.7-3
Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
Description: Miscellaneous functions used at the Department of
        Statistics at TU Wien (E1071). 
Depends:
License: GPL version 2 or later



I've changed `Copyright' to `License'. This field should contain a
general phrase or well-known abbreviation, maybe  followed by a
reference to the actual License file.

Examples:

License: GPL version 2 or later

License: Free for non-commercial use, see the file COPYRIGHT for details


Is this OK with everybody?


**********************************************************

The second thing is, if we want to have a single tar ball for each
package, or if one tar ball can contain several (closely related)
packages (like the dse tar file currently in CRAN/src/contrib/devel)

I'm not sure ... (first I said `No!', than Paul said `Why?' and I had no
good answer so I said `Don't know') ... any preferences?



Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Feb 12 16:47:58 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Feb 1998 11:47:58 -0500
Subject: Submissions to CRAN
References: <199802121606.RAA15350@galadriel.ci.tuwien.ac.at>
Message-ID: <98Feb12.115202est.13447@mailgate.bank-banque-canada.ca>

>The second thing is, if we want to have a single tar ball for each
>package, or if one tar ball can contain several (closely related)
>packages (like the dse tar file currently in CRAN/src/contrib/devel)

"Closely related" does not totally capture the flavour of my problem. The only
reason a few of the packages are not together as one is because, at one time, I
was not able to load the libraries in R that way. (I don't know if anything has
changed recently to fix that. I suppose I should check it.) To make it easy for
someone to install I would like to put everything together, if this does not
complicate other things too much.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Andreas.Weingessel@ci.tuwien.ac.at  Fri Feb 13 14:18:26 1998
From: Andreas.Weingessel@ci.tuwien.ac.at (Andreas Weingessel)
Date: Fri, 13 Feb 1998 15:18:26 +0100
Subject: R/S differences
Message-ID: <199802131418.PAA01441@elendil.ci.tuwien.ac.at>


I noted the following R/S differences:


*) read.table behaves differently when determining the rownames. If
row.names is not given, S+ uses the first nonnumeric field with no
duplicates as the row names, whereas R uses 1:n as rownames in this case.

*) In S+ it is possible to sum over the lines of a data.frame. The
behavior of R might be more accurate in that situation, since a
data.frame is a list, but this causes problems, if one wants to use
code written for S+ in R.

S> aa<-data.frame(matrix(1:4,nrow=3D1))
S> sum(aa)
[1] 10

R> aa<-data.frame(matrix(1:4,nrow=3D1))
R> sum(aa)
Error in sum(..., na.rm =3D na.rm) : invalid argument type

*) The as.vector argument removes the vector names in S+. I do not
think that this difference can cause any problems, but I report it
just for completeness.

R> aa<-1:3
R> names(aa)<-letters[1:3]
R> as.vector(aa)
a b c=20
1 2 3=20
R> names(as.vector(aa))
[1] "a" "b" "c"

S> aa<-1:3
S> names(aa)<-letters[1:3]
S> as.vector(aa)
[1] 1 2 3
S> names(as.vector(aa))
NULL


As a final question. Does anyone know whether there is code for
nnls.fit (Linear least-squares fit with coefficients constrained to be
nonnegative.) available for R?

Thanks,
	Andreas

************************************************************************
*                          Andreas Weingessel                          *
************************************************************************
* Institut f=FCr Statistik      *                Tel: (+43 1) 58801 4541 =
*
* Technische Universit=E4t Wien *                Fax: (+43 1)  504 14 98 =
*
* Wiedner Hauptstr. 8-10/1071 *     Andreas.Weingessel@ci.tuwien.ac.at *
* A-1040 Wien, Austria        * http://www.ci.tuwien.ac.at/~weingessel *
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Feb 16 19:36:32 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Mon, 16 Feb 1998 13:36:32 -0600 (CST)
Subject: R listing on SAL
Message-ID: <m0y4WLA-0000ZpC@verdi.stat.wisc.edu>

SAL is the directory of Scientific Applications on Linux.  It is
rather well done, I think.  There is an entry for R
		http://SAL.KachinaTech.COM/F/1/R.html 
that mentions the Debian package but does not mention the RedHat
package.  I submitted a user-feedback comment to tell them about the
RedHat packages and give the address of the CRAN archives.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Feb 16 19:52:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Feb 1998 20:52:25 +0100
Subject: R listing on SAL
In-Reply-To: Douglas Bates's message of Mon, 16 Feb 1998 13:36:32 -0600 (CST)
References: <m0y4WLA-0000ZpC@verdi.stat.wisc.edu>
Message-ID: <x290rbuy2u.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates@stat.wisc.edu> writes:

> package.  I submitted a user-feedback comment to tell them about the
> RedHat packages and give the address of the CRAN archives.

They seem to have the FAQ and CRAN now, but the version is set at 0.49
and RPM is set as "no"... 

Hmm. On the other hand, there are no *official* RedHat packages, and
maybe they won't take unofficial ones?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Tue Feb 17 01:53:56 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 17 Feb 1998 14:53:56 +1300 (NZDT)
Subject: "tck" parameter
Message-ID: <199802170153.OAA25252@stat1.stat.auckland.ac.nz>

I have been making some changes to the axis drawing code which will
allow users to use par(tck=...) to produce grid lines and tick marks
which go into a plot rather than pointing outwards.

I don't particularly like the strategy that S uses for determining
tick mark size so I have introduces an alternative mechanism as well.
There is now a new "par" parameter called "tcl" (appologies to John
Ousterhout for this) which lets a user specify the tick length as
a fraction of the height of a standard sized line.

The default is to use par(tcl=-0.5) which gives the present look.

I don't like introducing a new "par" value, but there seems to be
no other way to resolve the fixed vs variable-sized tick mark needs.
If anyone has a better solution, I'd be happy to consider it.
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb 17 17:30:42 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Tue, 17 Feb 1998 11:30:42 -0600 (CST)
Subject: unique(NULL)
Message-ID: <m0y4qqw-0000XAC@verdi.stat.wisc.edu>

I spent a while chasing this one down!

In S
 S> unique(NULL)
 NULL
whereas in R (both 0.61.1 and yesterday's 0.62-snapshot)
 > unique(NULL)
 Error: duplicated applies only to vectors

I think I prefer the behaviour in S.

Although there is code in the do_duplicated function in
		       $RHOME/src/main/unique.c
to handle the case of zero-length vectors it appears that the check
for isVector(x) immediately before that is what is causing the
problem.

Would it be as simple as changing the check on
 if (!isVector(x))
to
 if (!(isVector(x) || isNull(x)))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb 17 22:17:17 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Tue, 17 Feb 1998 16:17:17 -0600 (CST)
Subject: a very preliminary lme for R
Message-ID: <m0y4vKH-0000XAC@verdi.stat.wisc.edu>

Jose and I have a version of the lme (linear mixed effects) library
that is known to work with at least one example on at least one
version of R on at least one computer so that means it is time to
upload to CRAN, right?

In the near future a file lme_2.8-0.tar.gz will appear in the
src/contrib/devel area under CRAN.  Please remember this is a snapshot
of the development version.  We know there are things that don't work
with it under R (like all the trellis-based graphics, for example) but
it does currently work in R to the extent that it will fit
mixed-effects models using maximum likelihood or restricted maximum
likelihood (REML), including nested models.

The documentation is, shall we say, "sketchy".  It is more than
non-existent but not much more.  In other words this release is for
the brave early adopter who doesn't mind reading the source code to
figure out how the damn thing works.

If you do pick it up you may find it helpful to look at some recent
presentations we have given on the design of the library.  These are
available at
		 http://franz.stat.wisc.edu/pub/NLME/
right beside one of the CRAN archive sites
		 http://franz.stat.wisc.edu/pub/CRAN/
A paper on the computational methods used in this version of the
library will appear there "real soon".

Features of the library include:
 - use of a "groupedData" class that extends the data.frame class to
   describe relationships amoung the variables and the grouping of the
   observations. 
 - multiple levels of grouping in the data and nested random effects
   in the models.
 - summarization of data according to grouping of the observations via 
   the gsummary function (don't know if this works in R yet).
 - trellis-based plots of data and fitted models and derived
   quantities (definitely doesn't work in R yet)
 - much more stable computational methods, selection of starting
   values, etc. for fitting linear mixed-effects models
 - maximum likelihood or restricted maximum likelihood estimation
   criteria

Our interest in putting this up is to get feedback.  Please be gentle.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb 24 18:05:48 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 24 Feb 1998 13:05:48 -0500
Subject: dse+linux
References: <199802241645.QAA29793@hengill.rhi.hi.is>
Message-ID: <98Feb24.131355est.13447@mailgate.bank-banque-canada.ca>

Does anyone recogize the following problem which was just reported to me?

Paul Gilbert
________

I am trying to install dse on linux redhat 4.2 when I do

  R INSTALL dse     rlibs
I get the following

 R INSTALL dse     rlibs
Installing package `dse' ...
libs
gcc -g -fpic -I/usr/local/R-0.61/include   -c dsefor.c -o dsefor.o
/tmp/cca02533.i:1: numeric constant with no digits
/tmp/cca02533.i:1: numeric constant with no digits
/tmp/cca02533.i:1: invalid #line
/tmp/cca02533.i:7: numeric constant with no digits
/tmp/cca02533.i:7: numeric constant with no digits
/tmp/cca02533.i:7: invalid #line
/tmp/cca02533.i:21: parse error at null character
/tmp/cca02533.i:21: virtual memory exhausted
make: *** [dsefor.o] Error 1
cp: src-c/*.so: No such file or directory
R
data
DONE

Is there something wrong with my gcc or is there some
option missing somewhere?

Sincerely yours
Helgi Tomasson




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb 24 18:10:49 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 24 Feb 1998 12:10:49 -0600
Subject: Representation of data in libraries
In-Reply-To: Ralf Goertz's message of Tue, 24 Feb 1998 18:02:29 +0100
Message-ID: <6rhg5ox49i.fsf@verdi.stat.wisc.edu>

At present the example data sets in R libraries are to be given as
expressions that can be read directly into R.  For example, the acid.R 
file in the main library looks like
 acid <- data.frame(
  carb  = c(0.1, 0.3, 0.5, 0.6, 0.7, 0.9),
  optden = c(0.086, 0.269, 0.446, 0.538, 0.626, 0.782), row.names = paste(1:6))

This is great when you have only a few observations.  I have one
example data set with over 9000 rows and 17 variables.  Even when I
set -v 40, I exhaust the available memory trying to read it in as a
data.frame.  I believe this is because of the recursive nature of the
parsing of data objects.

Are there alternatives that would cause less memory usage?  In
S/S-PLUS the data.dump/data.restore functions use a portable
representation that can be parsed without exponential memory growth.
-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Tue Feb 24 21:16:22 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Tue, 24 Feb 1998 13:16:22 -0800 (PST)
Subject: Representation of data in libraries
In-Reply-To: <6rhg5ox49i.fsf@verdi.stat.wisc.edu>
Message-ID: <Pine.SUN.3.95.980224131029.23525A-100000@chekov>

On 24 Feb 1998, Douglas Bates wrote:

> At present the example data sets in R libraries are to be given as
> expressions that can be read directly into R.  For example, the acid.R 
> file in the main library looks like
>  acid <- data.frame(
>   carb  = c(0.1, 0.3, 0.5, 0.6, 0.7, 0.9),
>   optden = c(0.086, 0.269, 0.446, 0.538, 0.626, 0.782), row.names = paste(1:6))
> 
> This is great when you have only a few observations.  I have one
> example data set with over 9000 rows and 17 variables.  Even when I
> set -v 40, I exhaust the available memory trying to read it in as a
> data.frame. 

You need to specify -n some_large_number to read in large data sets,
specifying -v is not enough.  You can see this by using gcinfo(T) to
report heap and cons cell usage at each garbage collection.

> Are there alternatives that would cause less memory usage?  In
> S/S-PLUS the data.dump/data.restore functions use a portable
> representation that can be parsed without exponential memory growth.

The R save() format is portable, at least among Unices. You could have the
data.R file contain the command
	eval(load("data.Rdata"),.GlobalEnv)
where "data.Rdata" is the saved file. There is an ascii=T option, which
might make it more portable to other operating systems.

I haven't checked, but I assume that this format can be read more
efficiently than sourcing R code.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Feb 25 07:34:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 25 Feb 1998 08:34:03 +0100
Subject: Representation of data in libraries
In-Reply-To: <6rhg5ox49i.fsf@verdi.stat.wisc.edu> (message from Douglas Bates
 on 24 Feb 1998 12:10:49 -0600)
Message-ID: <199802250734.IAA03015@sophie.ethz.ch>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> At present the example data sets in R libraries are to be given as
    DougB> expressions that can be read directly into R.  For example, the acid.R 
    DougB> file in the main library looks like
    DougB> acid <- data.frame(
    DougB> carb  = c(0.1, 0.3, 0.5, 0.6, 0.7, 0.9),
    DougB> optden = c(0.086, 0.269, 0.446, 0.538, 0.626, 0.782), row.names = paste(1:6))

    DougB> This is great when you have only a few observations.  I have one
    DougB> example data set with over 9000 rows and 17 variables.  Even when I
    DougB> set -v 40, I exhaust the available memory trying to read it in as a
    DougB> data.frame.  I believe this is because of the recursive nature of the
    DougB> parsing of data objects.

yes; 

    DougB> Are there alternatives that would cause less memory usage?

yes; but only in the 0.62 development version.
The current 0.62 ``standard'' is:

if a 'data' file ends in
	.R,	source(.) is used to read it
if it ends in
	.tab	read.table(..., header = TRUE)  is used to read it.
(you find the new data(.) function in  src/library/base/data in R-snapshot.)

Note that this is still not really satisfactory for large data files,
since read.table(.) is not really efficient:
	it first reads everything as character matrix and then converts
	variable by variable, some to numeric, some to factor.

On the other hand: does it really make sense to distribute huge example
data sets as yours above?
If yes, AND if you have only numeric data,
I'd propose the following:
 1) create a  <pkg>/data/dougBex.R
    file which only contains something like
	dougBex <- as.data.frame(
		    matrix(scan(system.file("<pkg>/data/dougBex.dat")),
			   ncol = ...,  
			   dimnames = ...))
 2) create   <pkg>/data/dougBex.dat  to contain all your data, white-space
				     delimited numeric.


    DougB> In S/S-PLUS the data.dump/data.restore functions use a portable
    DougB> representation that can be parsed without exponential memory growth.

hmm, yes, we have been longing for someone to write  data.dump/data.restore
for R.
	Any volunteers?

--
Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Feb 25 10:10:01 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Feb 1998 11:10:01 +0100
Subject: R-beta: qr(A)$rank
In-Reply-To: John Bacon-Shone's message of Wed, 25 Feb 1998 11:27:10 +0800
References: Bertram Zinner's message of Tue, 24 Feb 98 15:07:46 -0600
 <199802242105.PAA02418@mallard.duc.auburn.edu>
 <v04003a13b1193fdd81f5@[147.8.208.251]>
Message-ID: <x2ra4s807a.fsf@blueberry.kubism.ku.dk>

John Bacon-Shone <johnbs@hku.hk> writes:

> >Seriously speaking, yes, we really should get around to getting the
> >Mac version up to date. Volunteers?
> 
> What needs to be done?  Create an up-to-date CodeWarrior project, or do coding?
> 
> John
> 
> Dr John Bacon-Shone, Director, Social Sciences Research Centre,
> The University of Hong Kong, Pokfulam Road, Hong Kong
> Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
> Web http://www.ssrc.hku.hk

If only I knew... I suspect that some actual coding changes are needed
for the event loop and the graphics interface, whereas the main body
of the parser and the internals, as well as the interpreted code are
highly portable. That's the situation with the Windows version anyway,
and I can't believe that MacProgramming can be worse that the Win32
API.

One thing that I have been looking at a bit is the possibility of
coding up a Tcl/Tk version of R. This could be made portable between
all three architectures (X/Win32/Mac) and probably evolve into a set
of R/Tk language bindings a.m. STk (Scheme Tk), so we could have menu
interfaces and R functions that are call via a button-click, etc.

[I'm Cc-ing this to the R-devel list. Slightly bad netiquette since
your email was to me privately, but I hope you won't mind.]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Feb 25 11:20:05 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Feb 1998 12:20:05 +0100
Subject: R-beta: Mac version
In-Reply-To: Colin Farrow's message of Wed, 25 Feb 1998 09:53:31 +0000
References: <E0y7dWt-0000XX-00@alligin>
Message-ID: <x2n2fg7wyi.fsf@blueberry.kubism.ku.dk>

Colin Farrow <C.Farrow@geology.gla.ac.uk> writes:

> Peter,
> 
> Cautiously sticking my neck above the water line here. I have been
> wondering about the Mac version for a while now. I may be able to get
> an MSc IT student to work on this as a project for about 3 months
> June-Sept. Before putting up the proposal some idea of the scale of the
> task would be useful. Do you know what would be involved? Is there a
> preferred compiler?
> 
> CC'd to R+R for when the power returns:-)
> 
> Colin

I got a letter on the same topic a bit earlier today from John
Bacon-Shone. I'm copying my reply to him below. Basically, I think
that the scale of the task is highly dependent on whether you know
your way around the Mac API to begin with. As for compilers, I have no
knowledge of the Mac platform, but in general freeware is preferred,
if it exists (and works!), because it enlarges the number of potential
bugfixers. (I saw something about the PWB being available freely from
Apple now).

I'll Cc: this one to R-devel too. If anyone there who actually know
what they're talking about (as opposed to me) re. Macs have anything
to add, please do.

---------
John Bacon-Shone <johnbs@hku.hk> writes:

> >Seriously speaking, yes, we really should get around to getting the
> >Mac version up to date. Volunteers?
> 
> What needs to be done?  Create an up-to-date CodeWarrior project, or do coding?
> 
> John
> 
> Dr John Bacon-Shone, Director, Social Sciences Research Centre,
> The University of Hong Kong, Pokfulam Road, Hong Kong
> Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
> Web http://www.ssrc.hku.hk

If only I knew... I suspect that some actual coding changes are needed
for the event loop and the graphics interface, whereas the main body
of the parser and the internals, as well as the interpreted code are
highly portable. That's the situation with the Windows version anyway,
and I can't believe that MacProgramming can be worse that the Win32
API.

One thing that I have been looking at a bit is the possibility of
coding up a Tcl/Tk version of R. This could be made portable between
all three architectures (X/Win32/Mac) and probably evolve into a set
of R/Tk language bindings a.m. STk (Scheme Tk), so we could have menu
interfaces and R functions that are call via a button-click, etc.

[I'm Cc-ing this to the R-devel list. Slightly bad netiquette since
your email was to me privately, but I hope you won't mind.]
-----------

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From johnbs@hku.hk  Wed Feb 25 14:49:33 1998
From: johnbs@hku.hk (John Bacon-Shone)
Date: Wed, 25 Feb 1998 22:49:33 +0800
Subject: R-beta: Mac version
In-Reply-To: <x2n2fg7wyi.fsf@blueberry.kubism.ku.dk>
References: Colin Farrow's message of Wed, 25 Feb 1998 09:53:31 +0000
 <E0y7dWt-0000XX-00@alligin>
Message-ID: <v04003a0cb119ddb7ee62@[147.8.208.251]>

>Colin Farrow <C.Farrow@geology.gla.ac.uk> writes:
>
>> Peter,
>>
>> Cautiously sticking my neck above the water line here. I have been
>> wondering about the Mac version for a while now. I may be able to get
>> an MSc IT student to work on this as a project for about 3 months
>> June-Sept. Before putting up the proposal some idea of the scale of the
>> task would be useful. Do you know what would be involved? Is there a
>> preferred compiler?

While MPW is now free, almost all developers have given up on MPW and
Symantec (both have development stopped)and switched to Metrowerks, who
have good academic prices and good onward development.

Having a student do the work sounds appealing to me :)

>>
>> CC'd to R+R for when the power returns:-)
>>
>> Colin
>
>I got a letter on the same topic a bit earlier today from John
>Bacon-Shone. I'm copying my reply to him below. Basically, I think
>that the scale of the task is highly dependent on whether you know
>your way around the Mac API to begin with. As for compilers, I have no
>knowledge of the Mac platform, but in general freeware is preferred,
>if it exists (and works!), because it enlarges the number of potential
>bugfixers. (I saw something about the PWB being available freely from
>Apple now).

I think you mean MPW

>I'll Cc: this one to R-devel too. If anyone there who actually know
>what they're talking about (as opposed to me) re. Macs have anything
>to add, please do.
>
>---------
>John Bacon-Shone <johnbs@hku.hk> writes:
>
>> >Seriously speaking, yes, we really should get around to getting the
>> >Mac version up to date. Volunteers?
>>
>> What needs to be done?  Create an up-to-date CodeWarrior project, or do
>>coding?
>>
>> John
>>
>> Dr John Bacon-Shone, Director, Social Sciences Research Centre,
>> The University of Hong Kong, Pokfulam Road, Hong Kong
>> Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
>> Web http://www.ssrc.hku.hk
>
>If only I knew... I suspect that some actual coding changes are needed
>for the event loop and the graphics interface, whereas the main body
>of the parser and the internals, as well as the interpreted code are
>highly portable. That's the situation with the Windows version anyway,
>and I can't believe that MacProgramming can be worse that the Win32
>API.
>
>One thing that I have been looking at a bit is the possibility of
>coding up a Tcl/Tk version of R. This could be made portable between
>all three architectures (X/Win32/Mac) and probably evolve into a set
>of R/Tk language bindings a.m. STk (Scheme Tk), so we could have menu
>interfaces and R functions that are call via a button-click, etc.

Another possibility may be to use the replacemnet for OpenStep , now known
as YellowBox, that will deploy on Mac, Rhapsody, Win32 at the very least.
The YellowBox uses DisplayPostscript, which might help.

>[I'm Cc-ing this to the R-devel list. Slightly bad netiquette since
>your email was to me privately, but I hope you won't mind.]

In my case this was careless, I meant it to go at least to the r-help list :)
Please copy replies to me, as I am not on the developer list, I think.

John


Dr John Bacon-Shone, Director, Social Sciences Research Centre,
The University of Hong Kong, Pokfulam Road, Hong Kong
Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
Web http://www.ssrc.hku.hk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Wed Feb 25 17:04:53 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Wed, 25 Feb 1998 09:04:53 -0800 (PST)
Subject: R-beta: Mac version
In-Reply-To: <v04003a0cb119ddb7ee62@[147.8.208.251]>
Message-ID: <Pine.SUN.3.95.980225085929.25647A-100000@chekov>

On Wed, 25 Feb 1998, John Bacon-Shone wrote:
> 
> While MPW is now free, almost all developers have given up on MPW and
> Symantec (both have development stopped)and switched to Metrowerks, who
> have good academic prices and good onward development.

Metrowerks now has a Win32 version as well, which may make it easier to
keep the Win and Mac versions in sync. It seems from the box as though you
get the ability to cross-compile, which might make it easy to keep
versions in sync.
 
> Having a student do the work sounds appealing to me :)
> 
Provided that it doesn't cause the university to think it owns the
results....

	-thomas


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Feb 25 17:38:40 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 25 Feb 1998 12:38:40 -0500
Subject: memory trick
Message-ID: <98Feb25.124720est.13448@mailgate.bank-banque-canada.ca>

> # New code
> while(temp$iv[1] < 3) {
>                       temp <- nlminb.0(temp, p, liv, lv,
>                                         objective, bounds, scale)
>                        NULL
>                }
>
> This has the effect of returning the null value on exiting the loop instead of

> everything else that the while loop normally returns.

Does this trick for reducing memory usage in S also have an affect in R?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Wed Feb 25 21:52:34 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Wed, 25 Feb 1998 15:52:34 -0600 (CST)
Subject: R-beta: Mac version
In-Reply-To: <Pine.SUN.3.95.980225085929.25647A-100000@chekov> from "Thomas Lumley" at Feb 25, 98 09:04:53 am
Message-ID: <9802252152.AA11595@nokomis.stat.umn.edu>

Thomas Lumley wrote:
> 
> On Wed, 25 Feb 1998, John Bacon-Shone wrote:
> > 
> > While MPW is now free, almost all developers have given up on MPW and
> > Symantec (both have development stopped)and switched to Metrowerks, who
> > have good academic prices and good onward development.
> 
> Metrowerks now has a Win32 version as well, which may make it easier to
> keep the Win and Mac versions in sync. It seems from the box as though you
> get the ability to cross-compile, which might make it easy to keep
> versions in sync.

Cross compiling is possible but I think debugging is a pain - there is
some mechanism but I think it's pretty awkward. I'm actually doing my
Windows stuff in Borland 5.0, but using SoftWindows on a Mac -- that
seems to work nicely if you can live with a 200 MHz Mac running at
about 486/33 speed :-).

I played with Metrowerks CW Pro 1 for Windows a bit and wasn't really
happy with it for my purposes. I use CW Pro 2 on the Mac and am quite
pleased there, but I did not try the new Windows version to see if
some of the issues I'll mention here have been resolved. (I decided to
upgrade my Borland compiler and stick with that.)

In CW Pro 1 for Win I didn't see any way to use a makefile, only the
IDE. Whether you consider that good or bad is up to you. I also could
not get some things to work with DLL's, in particular calling back
into the .EXE file. Both may have been my problem -- it might be
possible but I just didn't figure it out.

Another issue is IEEE compliant handling of comparisons to NaN's. None
of Borland, MS VC++, CW Pro 1, or lcc are compliant. Watcom and
gcc-win32 are (at least with the right compiler flag settings). If R
has code that relies on compliant handling of these comparisons, then
using any of these would be a bad idea.

Just my 2c.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From oncley@atd.ucar.edu  Wed Feb 25 22:08:55 1998
From: oncley@atd.ucar.edu (Steve Oncley)
Date: Wed, 25 Feb 1998 15:08:55 -0700 (MST)
Subject: attributes
Message-ID: <199802252208.PAA11635@stout.atd.ucar.edu>

During the last couple of months (at least) there has been a trickle of
messages on R-help related to attributes (other than dim/dimnames) not being 
inherited.  
Example:
	x <- 1
	class(x) <- "test"
	class(x+1) [returns NULL, not "test"]
I have not seen a response from anyone in the R-core about this issue.  
Since our group uses locally-written code (in S+) that is object-oriented, 
R is useless to us until this capability exists.

Do any of you have this on your tasks-list, or should we <attempt> to add 
attribute inheriting on our own?  Thanks...Steve Oncley (oncley@ucar.edu)

P.S. Please respond directly to me (or r-help), since I'm not on r-devel.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From johnbs@hku.hk  Thu Feb 26 00:42:44 1998
From: johnbs@hku.hk (John Bacon-Shone)
Date: Thu, 26 Feb 1998 08:42:44 +0800
Subject: R-beta: Mac version
In-Reply-To: <9802252152.AA11595@nokomis.stat.umn.edu>
References: <Pine.SUN.3.95.980225085929.25647A-100000@chekov>
Message-ID: <v04003a15b11a6a86149a@[147.8.208.251]>

>Thomas Lumley wrote:
>>
>> On Wed, 25 Feb 1998, John Bacon-Shone wrote:
>> >
>> > While MPW is now free, almost all developers have given up on MPW and
>> > Symantec (both have development stopped)and switched to Metrowerks, who
>> > have good academic prices and good onward development.
>>
>> Metrowerks now has a Win32 version as well, which may make it easier to
>> keep the Win and Mac versions in sync. It seems from the box as though you
>> get the ability to cross-compile, which might make it easy to keep
>> versions in sync.
>
>Cross compiling is possible but I think debugging is a pain - there is
>some mechanism but I think it's pretty awkward.

true, but the CD contains native compilers/debuggers for both

> I'm actually doing my
>Windows stuff in Borland 5.0, but using SoftWindows on a Mac -- that
>seems to work nicely if you can live with a 200 MHz Mac running at
>about 486/33 speed :-).

I prefer Virtual PC, quite good on a G3, more like a P90 :)

Regards

John

Dr John Bacon-Shone, Director, Social Sciences Research Centre,
The University of Hong Kong, Pokfulam Road, Hong Kong
Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
Web http://www.ssrc.hku.hk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Feb 26 09:31:36 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Feb 1998 10:31:36 +0100
Subject: attributes loss with arithmetic...
In-Reply-To: <199802252208.PAA11635@stout.atd.ucar.edu> (message from Steve
 Oncley on Wed, 25 Feb 1998 15:08:55 -0700 (MST))
Message-ID: <199802260931.KAA04501@sophie.ethz.ch>

>>>>> "Steve" == Steve Oncley <oncley@atd.ucar.edu> writes:

    Steve> During the last couple of months (at least) there has been a
    Steve> trickle of messages on R-help related to attributes (other than
    Steve> dim/dimnames) not being inherited.
    Steve> Example:
    Steve> 	x <- 1
    Steve> 	class(x) <- "test"
    Steve> 	class(x+1) [returns NULL, not "test"]

    Steve> I have not seen a response from anyone in the R-core about this
    Steve> issue.
Well, excuse us..
    Steve> Since our group uses locally-written code (in S+) that
    Steve> is object-oriented,  
    Steve> R is useless to us until this capability exists.
		^^^^^^^
pretty hard word;   
I understand however that you definitely want this working.

The reason, there was no answer is probably:
It is obviously something ``deep down in the bowels of the C code'' for R,
and "usually", these things are left to R&R for fixing.
On the other hand, Ross and Robert are always overloaded with work...

    Steve> Do any of you have this on your tasks-list, or should we
    Steve> <attempt> to add attribute inheriting on our own?

If you feel knowledgable to do it in C, we'll be more than glad for your
contribution... !

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
http://www.stat.math.ethz.ch/~maechler/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Feb 26 15:03:50 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 26 Feb 1998 10:03:50 -0500
Subject: Bus Error
Message-ID: <98Feb26.101259est.13444@mailgate.bank-banque-canada.ca>

I was experimenting a bit with the memory saving trick mentioned on Snew
recently and I've discovered that adding NULL to the end of the loop in the
function below gives me "Bus Error - core dumped" in Solaris with R 0.61.1. The
problem does not occur every time the function is called, but it is reproducible
in the sense that I twice tried  a set of test I have and it occured in the the
same spot, and when I remove the NULL it does not occur. I also added a NULL in
some other loops with no problems, but no obvious time savings in R. For my
purposes I will just remove the NULL, since this is going to be very difficult
for me to isolate (it takes a hour on an ultra 10 to get to the point where the
error occurs). I thought I would mention the problem in the hope that someone
can  immediately see a bug.

Paul Gilbert
________

hessian.default <- function(func, x, func.args=NULL, d=0.01, eps=1e-4,r=6)
{  D <- genD.default(func,x,func.args=func.args, d=d, eps=eps, r=r)$D
   H <- diag(0,length(x))
   u <- 0
   for(i in 1:length(x))
     {for(j in 1:i)
        {u <- u + 1
         H[i,j] <- D[,u]
         NULL
     }  }
   H <- H +t(H)
   diag(H) <- diag(H)/2
   H
}



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Feb 26 15:57:57 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 26 Feb 1998 09:57:57 -0600
Subject: Representation of data in libraries
In-Reply-To: Martin Maechler's message of Wed, 25 Feb 1998 08:34:03 +0100
References: <199802250734.IAA03015@sophie.ethz.ch>
Message-ID: <6rafbewe7u.fsf@verdi.stat.wisc.edu>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> On the other hand: does it really make sense to distribute huge example
> data sets as yours above?

The purpose of this example is to show that the lme methods work with
very large data sets.  These data are from a survey conducted by a
sociologist.  He fit a mixed-effects model to them using SAS PROC
MIXED.  It took five hours of cpu time on a relatively fast machine
(Pentium II 233 MHz, 64 Mb memory).  Once I decide what the model he
used is in our notation, I will try it in lme.  I am confident we
can do it much faster.

I decide to omit this data set from the standard distribution for lme
although the way that data sets are organized in R there is not much
penalty other than the disc space for including large examples that
are rarely used.

Following Thomas's suggestion of increasing the -n as well as the -v
option I was able to read the data in with its current form.

-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Feb 27 08:27:02 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Feb 1998 09:27:02 +0100
Subject: R-beta: quantile
In-Reply-To: <x2hg5mt15o.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 27 Feb 1998 00:08:19 +0100)
Message-ID: <199802270827.JAA06769@sophie.ethz.ch>

	[diverted from R-help to R-devel]

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

    PD> Bill Simpson <wsimpson@uwinnipeg.ca> writes:
    >> 
    >> I do:
    >> x<-rnorm(1000)
    >> quantile(x,c(.025,.975))
    >> 2%       98% 
    >> -1.844753  1.931762 
    >> 
Yes, this is a pain;
I've known about this for months, and always been too busy / diverted 
to fix it..

    >> Since I want to find a 95% confidence interval, I take the .025 and .975
    >> quantiles.  HOWEVER R says I have the 2% (not 2.5%) and 98% (not 97.5%)
    >> points.  Is it just rounding the printed 2% and 98%, or is it REALLY
    >> finding .02 and .98 points instead of .025 and .975?

    PD> It's rounding... 

    PD> At the end of the quantile function, you'll see:

    PD> names(qs) <- paste(round(100 * probs), "%", sep = "")
    PD> qs
    PD> }

    PD> Maybe we should put in an extra argument for controlling the precision
    PD> of the rounding?

Hmm, I think we agree that we should improve that 'names(gs)..' line.

However, the first step should be to use a much better default than
	round(100 * probs)
If the default is ``smart enough'', 
maybe we don't really need a new argument
[Can still have one for the ones who really want to fine-tune the names..]

-------------

Some untested proposals for replacement of   
	round(100 * probs)	


1)  formatC(100*probs, dig=3,				 format='f')
2)  formatC(100*probs, dig= max(3, .Options$digits - 3), format='f')
3)  signif(100*probs,       max(3, .Options$digits - 3))

or then replace  "max(3, .Options$digits - 3)"
by the new argument  'digits.names'
and have that one default to
	digits.names = max(3, .Options$digits - 3)


Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Fri Feb 27 12:44:51 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Fri, 27 Feb 1998 13:44:51 +0100
Subject: R-beta: quantile
References: <199802270827.JAA06769@sophie.ethz.ch>
Message-ID: <34F6B543.68813EFB@iarc.fr>

Martin Maechler wrote:
> 
>         [diverted from R-help to R-devel]
> 
> >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

>     PD> Maybe we should put in an extra argument for controlling the precision
>     PD> of the rounding?
> 
> Hmm, I think we agree that we should improve that 'names(gs)..' line.
> 
> However, the first step should be to use a much better default than
>         round(100 * probs)
> If the default is ``smart enough'',
> maybe we don't really need a new argument
> [Can still have one for the ones who really want to fine-tune the names..]
> 
> -------------
> 
> Some untested proposals for replacement of
>         round(100 * probs)
> 
> 1)  formatC(100*probs, dig=3,                            format='f')
> 2)  formatC(100*probs, dig= max(3, .Options$digits - 3), format='f')
> 3)  signif(100*probs,       max(3, .Options$digits - 3))
> 
> or then replace  "max(3, .Options$digits - 3)"
> by the new argument  'digits.names'
> and have that one default to
>         digits.names = max(3, .Options$digits - 3)

What about just using format(100*probs)?

R> foo <- function(probs) paste(format(100 * probs), "%", sep="")
R> foo(c(0.02,0.25,0.50))
[1] " 2%" "25%" "50%"
R> foo(c(0.025,0.25,0.50))
[1] " 2.5%" "25.0%" "50.0%"
R> foo(c(0.0125,0.25,0.50))
[1] " 1.25%" "25.00%" "50.00%"

I am probably missing something but this seems to be "smart" enough.
Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Feb 27 12:59:55 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Feb 1998 13:59:55 +0100
Subject: R-beta: quantile
In-Reply-To: Martyn Plummer's message of Fri, 27 Feb 1998 13:44:51 +0100
References: <199802270827.JAA06769@sophie.ethz.ch> <34F6B543.68813EFB@iarc.fr>
Message-ID: <x2ra4p6w4z.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer@iarc.fr> writes:

> What about just using format(100*probs)?
> 
> R> foo <- function(probs) paste(format(100 * probs), "%", sep="")
> R> foo(c(0.02,0.25,0.50))
> [1] " 2%" "25%" "50%"
> R> foo(c(0.025,0.25,0.50))
> [1] " 2.5%" "25.0%" "50.0%"
> R> foo(c(0.0125,0.25,0.50))
> [1] " 1.25%" "25.00%" "50.00%"
> 
> I am probably missing something but this seems to be "smart" enough.


I can do one better, I think:

> sapply(c(0.1,2.5,25),format)
[1] "0.1" "2.5" "25" 
> foo <- function(probs) paste(sapply(100 * probs,format), "%", sep="")
> foo(c(0.02,0.25,0.50))
[1] "2%"  "25%" "50%"
> foo(c(0.025,0.25,0.50))
[1] "2.5%" "25%"  "50%" 
> foo(c(0.0125,0.25,0.50))
[1] "1.25%" "25%"   "50%"  


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Feb 27 14:39:20 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Feb 1998 15:39:20 +0100
Subject: R-beta: quantile
In-Reply-To: <x2ra4p6w4z.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 27 Feb 1998 13:59:55 +0100)
Message-ID: <199802271439.PAA14045@sophie.ethz.ch>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

    PD> Martyn Plummer <plummer@iarc.fr> writes:
    >> What about just using format(100*probs)?
    >> 
    R> foo <- function(probs) paste(format(100 * probs), "%", sep="")
    R> foo(c(0.02,0.25,0.50))
    >> [1] " 2%" "25%" "50%"
    R> foo(c(0.025,0.25,0.50))
    >> [1] " 2.5%" "25.0%" "50.0%"
    R> foo(c(0.0125,0.25,0.50))
    >> [1] " 1.25%" "25.00%" "50.00%"
    >> 
    >> I am probably missing something but this seems to be "smart" enough.


    PD> I can do one better, I think:

    >> sapply(c(0.1,2.5,25),format)
    PD> [1] "0.1" "2.5" "25"
    >> foo <- function(probs) paste(sapply(100 * probs,format), "%",
    >> sep="") foo(c(0.02,0.25,0.50))
    PD> [1] "2%" "25%" "50%"
    >> foo(c(0.025,0.25,0.50))
    PD> [1] "2.5%" "25%" "50%"
    >> foo(c(0.0125,0.25,0.50))
    PD> [1] "1.25%" "25%" "50%"

Yes, this is better;
but it actually ``the same'' as  formatC !

[TEACHER:]
   One of the main differences between format(.) and formatC(.)
   is that  format(.) formats a vector into a  COMMON format
   (hence the "50.00%" in Martyn's answer)
   whereas  formatC(.) formats each element INDIVIDUALLY
which is what Peter proposed by
	 sapply(...., format)

formatC however runs the loop in C code rather than interpreted language,
hence my original proposals :

MM> Some untested proposals for replacement of
MM>         round(100 * probs)
MM> 
MM> 1)  formatC(100*probs, dig=3,                            format='f')
MM> 2)  formatC(100*probs, dig= max(3, .Options$digits - 3), format='f')
MM> 3)  signif(100*probs,       max(3, .Options$digits - 3))
MM> 
MM> or then replace  "max(3, .Options$digits - 3)"
MM> by the new argument  'digits.names'
MM> and have that one default to
MM>         digits.names = max(3, .Options$digits - 3)

which should be corrected...
to something like

	formatC(100 * probs, dig= max(3, .Options$digits), wid=3)

[which is marginally better than Peter's solution...
 HOWEVER, when tested with funny .Options$digits,
 triggered a bug in formatC(.) ....  which I am going to fix now.....
]

- Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Feb 27 18:49:02 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 27 Feb 1998 13:49:02 -0500
Subject: gcc memory requirement
Message-ID: <98Feb27.135843est.13441@mailgate.bank-banque-canada.ca>

Helgi Tomasson send thanks to people who helped get the compiled dse fortran to
work when he did R INSTALL. Some of my test programs reported Error: memory
exhausted (he had not used R -v6 -n250000 as in my test script). He now reports:

>I was getting complaint of virtual memory exhausted.  I never
>understood why but the problem dissapered when I upgrade
>gcc and gcc-g77 from the contributed directory at sunsite.

I'm not sure why this should change the -n and -v memory requirement, but if
anyone knows I would like to hear.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Feb  2 10:49:31 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Feb 1998 11:49:31 +0100
Subject: Summary of mails concerning R help system
In-Reply-To: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at> (message from
 Friedrich Leisch on Thu, 29 Jan 1998 10:17:29 +0100)
Message-ID: <199802021049.LAA27228@sophie.ethz.ch>

>>>>> "FrL" == Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

    FrL> Hi,

    FrL> here's a short summary of all the mails I got concerning the R
    FrL> help system during the last days ... I really want to have all
    FrL> open questions in this list, so if I forgot your most important
    FrL> topic please forgive (and remind me again) ... it's probably only
    FrL> because of lack of time such that I had to compile the list in a
    FrL> hurry ...

	.......

    FrL> 4) Rdconv -t rtf to support the windoze help format ... I
    FrL> definetely don't have time or any motivation to do that, so if
    FrL> somebody wants to do that, he's welcome.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Feb  2 11:00:29 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Feb 1998 12:00:29 +0100
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at> (message from
 Friedrich Leisch on Thu, 29 Jan 1998 10:17:29 +0100)
Message-ID: <199802021100.MAA27285@sophie.ethz.ch>


Excuse everyone my almost empty E-mail !!

>>>>> "FrL" == Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

    FrL> Hi,

    FrL> here's a short summary of all the mails I got concerning the R
    FrL> help system during the last days ... I really want to have all
    FrL> open questions in this list, so if I forgot your most important
    FrL> topic please forgive (and remind me again) ... it's probably only
    FrL> because of lack of time such that I had to compile the list in a
    FrL> hurry ...

	.......

    FrL> 4) Rdconv -t rtf to support the windoze help format ... I
    FrL> definetely don't have time or any motivation to do that, so if
    FrL> somebody wants to do that, he's welcome.

In the  V&R (Venables & Ripley) Online Complements to MASS2,
	[page 3, producing Windows help files]
I've found that they provide a
	troff -> rtf
translation utility ("spwinhlp.zip" )
for S-plus help pages, and then mention the Windows help-compiler for 
producing windows *.hlp files

In principle, one could use this as

	foo.Rd	--->  foo.troff  -->  foo.rtf  --> foo.hlp
		 1		  2		3
 1: Rdconv
 2: spwinhlp
 3: Windows help compiler.

If anyone here (of you R-develers) is willing to do these steps,
I am sure that the CRAN maintainers will glad to include these *.hlp files
in the 'preformatted-help' directories.

However, I agree with Luke Tierney, that also for windows, HTML should be
enough in principle.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Mon Feb  2 12:55:35 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 2 Feb 1998 13:55:35 +0100
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: <199802021100.MAA27285@sophie.ethz.ch>
References: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at>
 <199802021100.MAA27285@sophie.ethz.ch>
Message-ID: <199802021255.NAA02853@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 2 Feb 1998 12:00:29 +0100,
>>>>> Martin Maechler (MM) wrote:

MM> Excuse everyone my almost empty E-mail !!

>>>>> "FrL" =3D=3D Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> wr=
ites:

MM> ...
MM> However, I agree with Luke Tierney, that also for windows, HTML shoul=
d be
MM> enough in principle.

Especially now that I'm finished with supporting short filenames for HTML
conversion :-)

So the next windows version could/should contain all html help files.=20

I will submit this to the current sources in a minute.

Best,
Fritz

--=20
-------------------------------------------------------------------
                        Friedrich  Leisch                            =20
Institut f=FCr Statistik                      Tel: (+43 1) 58801 4541
Technische Universit=E4t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra=DFe 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Feb  2 13:27:20 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Feb 1998 14:27:20 +0100
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: Friedrich Leisch's message of Mon, 2 Feb 1998 13:55:35 +0100
References: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at>
 <199802021100.MAA27285@sophie.ethz.ch>
 <199802021255.NAA02853@galadriel.ci.tuwien.ac.at>
Message-ID: <x2iuqyuog7.fsf@blueberry.kubism.ku.dk>

Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

> MM> However, I agree with Luke Tierney, that also for windows, HTML should be
> MM> enough in principle.
> 
> Especially now that I'm finished with supporting short filenames for HTML
> conversion :-)

Yup. 

There are still two arguments remaining for doing the WinHelp thingie:

- Uniformity with other Windows application (if compiler vendors are
shipping with HTML help, that point may be a bit moot, though.)

- People who don't have the browsers. Getting rare nowadays, I suppose.

Anyways, I found out that an elaborate tex2rtf system is contained in
the wxwin package, so if someone has a couple of spare days (or
weeks), I suspect that it would be rather easy to change it into
rdconv -t rtf. I agree, however, that there's no particular hurry with
this compared to all the other stuff we want to do.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Feb  2 14:42:45 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 02 Feb 1998 08:42:45 -0600
Subject: Installation on SuSE Linux [was Re: Copyrights for R contributed libraries]
In-Reply-To: Christian Hoffmann's message of Mon, 02 Feb 1998 13:55:57 +0100
References: <199802021255.NAA10410@wsl.ch>
Message-ID: <6rd8h6xe3e.fsf@verdi.stat.wisc.edu>

Christian Hoffmann <hoffmann@wsl.ch> writes:

> I just installed the SuSE distribution of Linux (from Fuerth, Germany). I
> would be very interested in learning of a SuSE compatible form of R.
> Installing Linux was expressly made to be able to use R :-)
> 
> SuSE  (suse@suse.de,  http://www.suse.de) is a distribution which is quickly
> gaining users for Linux because of its well thought out smooth tools and
> handbooks, both in English and in German. 

I'm sorry but I don't know anything about installing R on SuSE.  If
SuSE accepts .rpm packages you could try to install those from the
CRAN archive.  It may require a bit of work to get the libraries
consistent with what the .rpm packages require.  The big distinction
is whether your system is based on libc5 or libc6 (also called glibc2
or GNU libc 2.0).  A RedHat-5.0 binary requires libc6.

It is usually fairly easy to install from the original sources.  You
could do that instead of trying to find a binary package.
-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Mon Feb  2 14:44:45 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Mon, 2 Feb 1998 08:44:45 -0600 (CST)
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: <x2iuqyuog7.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Feb 2, 98 02:27:20 pm
Message-ID: <9802021444.AA25205@nokomis.stat.umn.edu>

Peter Dalgaard BSA wrote:
> 
> Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:
> 
> > MM> However, I agree with Luke Tierney, that also for windows, HTML should be
> > MM> enough in principle.
> > 
> > Especially now that I'm finished with supporting short filenames for HTML
> > conversion :-)
> 
> Yup. 
> 
> There are still two arguments remaining for doing the WinHelp thingie:
> 
> - Uniformity with other Windows application (if compiler vendors are
> shipping with HTML help, that point may be a bit moot, though.)
> 

The current Borland and Watcom products both still use WinHelp. But
Microsoft VC++, and I think their entire DevStudio, uses html with
Internet Explorer integrated into their development environments.
What impact, if any, current legal actions will have on this is
anyone's guess.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From efh@nessie.mcc.ac.uk  Mon Feb  2 15:38:31 1998
From: efh@nessie.mcc.ac.uk (Ted Harding)
Date: Mon, 02 Feb 1998 15:38:31 -0000 (GMT)
Subject: Installation on SuSE Linux [was Re: Copyrights for R contrib
In-Reply-To: <6rd8h6xe3e.fsf@verdi.stat.wisc.edu>
Message-ID: <XFMail.980202153831.Ted.Harding@nessie.mcc.ac.uk>

On 02-Feb-98 Douglas Bates wrote:
> Christian Hoffmann <hoffmann@wsl.ch> writes:
> 
>> I just installed the SuSE distribution of Linux (from Fuerth, Germany). I
>> would be very interested in learning of a SuSE compatible form of R.
>> Installing Linux was expressly made to be able to use R :-)
> 
> I'm sorry but I don't know anything about installing R on SuSE.  If
> SuSE accepts .rpm packages you could try to install those from the
> CRAN archive.  It may require a bit of work to get the libraries
> consistent with what the .rpm packages require.  The big distinction
> is whether your system is based on libc5 or libc6 (also called glibc2
> or GNU libc 2.0).  A RedHat-5.0 binary requires libc6.

S.u.S.E. Linux uses RPM as its basic installation engine. As to libc5/6,
I quote from the documentation in the S.u.S.E.-5.1 distribution:

  This is the beta release of the Linux C library 5.4.33.

  Due to the new, improved locale, the Linux C library 5.4.33 is binary
  compatible with libc 5.3.12 but not vice versa. The binaries
  compiled/linked with libc.so.5.4.33 may not run with libc.so.5.3.12.
  You may need to regenerate locale files for the new locale in libc
  5.4.33 if you use locales other tha C/POSIX which are the defaults.

I'm not sure where this leaves installation of R (which I have not tried on
S.u.S.E.-5.1 yet, since I only upgraded yesterday), but I hope this info is
useful.

Best wishes to all,
Ted.

--------------------------------------------------------------------
E-Mail: Ted Harding <Ted.Harding@nessie.mcc.ac.uk>
Date: 02-Feb-98                                       Time: 15:38:31
--------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Mon Feb  2 17:26:07 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 2 Feb 1998 18:26:07 +0100
Subject: R-beta: Submissions to CRAN
In-Reply-To: <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at>
 <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
Message-ID: <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 30 Jan 1998 11:38:07 -0800 (PST),
>>>>> Thomas Lumley (TL) wrote:

TL> On Fri, 30 Jan 1998, Friedrich Leisch wrote:
>> **********************************************************
>> 
>> Package: e1071
>> Version: 0.7-3
>> Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
>> Description: Miscellaneous functions used at the Department of
>> Statistics at TU Wien (E1071). 
>> Copyright: GPL
>> 
>> **********************************************************
>> 

>> 
>> PLEASE MAKE SURE TO INCLUDE A COPYRIGHT LINE IN THE DESCRIPTION!!!
>> 

TL> I think we should be more careful to distinguish between copyright and
TL> licensing conditions (eg R is copyright Ross & Robert, and licensed GPL, 
TL> survival4 is copyrighted by the Mayo Foundation and licensed for free
TL> distribution and use without modification). 

Ooops ... sorry but English is not my mother tongue ... and my
knowledge is probably better suited to ordering a beer in a 
pub than to legal matters :-) ... so please excuse the confusion ...

Of course I want license information, not copyright information ...

So is it ok if we change the above to something like

**********************************************************

Package: e1071
Version: 0.7-3
Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
Description: Miscellaneous functions used at the Department of
Statistics at TU Wien (E1071). 
License: GPL

**********************************************************


or is it better if we use the keyword `Copying'?

I also want to complile a list of known Licenses:

	GPL
	BSD
	Artistic

These (and similar ones) are what Debian considers `free'.

How should we treat the rest? Providing some more keywords or have
people explain it in detail in the DESCRIPTION file?


Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Feb  2 19:37:32 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 02 Feb 1998 13:37:32 -0600
Subject: Licenses on Submissions to CRAN
In-Reply-To: Friedrich Leisch's message of Mon, 2 Feb 1998 18:26:07 +0100
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at> 	<Pine.SUN.3.95.980130113536.17212B-100000@chekov> <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>
Message-ID: <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu>

Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

> So is it ok if we change the above to something like
> 
> **********************************************************
> 
> Package: e1071
> Version: 0.7-3
> Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
> Description: Miscellaneous functions used at the Department of
> Statistics at TU Wien (E1071). 
> License: GPL
> 
> **********************************************************

I hate to be picky but I think it would be better to have it a bit
more complete as in 

License: GPL version 2 or later

> or is it better if we use the keyword `Copying'?

I think License is better than Copying.

> I also want to complile a list of known Licenses:
> 
> 	GPL
> 	BSD
> 	Artistic
> 
> These (and similar ones) are what Debian considers `free'.


> How should we treat the rest? Providing some more keywords or have
> people explain it in detail in the DESCRIPTION file?

We might use a general phrase followed by a reference to the
DESCRIPTION file.  For example

License: Free for non-commercial use.  See the file DESCRIPTION for details.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Feb  3 08:03:13 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 3 Feb 1998 09:03:13 +0100
Subject: Licenses on Submissions to CRAN
In-Reply-To: <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu>
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at>
 <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
 <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>
 <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu>
Message-ID: <199802030803.JAA12957@galadriel.ci.tuwien.ac.at>

>>>>> On 02 Feb 1998 13:37:32 -0600,
>>>>> Douglas Bates (DB) wrote:

DB> Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:
>> So is it ok if we change the above to something like
>> 
>> **********************************************************
>> 
>> Package: e1071
>> Version: 0.7-3
>> Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
>> Description: Miscellaneous functions used at the Department of
>> Statistics at TU Wien (E1071). 
>> License: GPL
>> 
>> **********************************************************

DB> I hate to be picky ...

Better than being sloppy like me :-)

DB> but I think it would be better to have it a bit
DB> more complete as in 

DB> License: GPL version 2 or later

Ok

>> or is it better if we use the keyword `Copying'?

DB> I think License is better than Copying.

Ok


>> I also want to complile a list of known Licenses:
>> 
>> GPL
>> BSD
>> Artistic
>> 
>> These (and similar ones) are what Debian considers `free'.


>> How should we treat the rest? Providing some more keywords or have
>> people explain it in detail in the DESCRIPTION file?

DB> We might use a general phrase followed by a reference to the
DB> DESCRIPTION file.  For example

DB> License: Free for non-commercial use.  See the file DESCRIPTION for details.


Well, now I hate to be picky ... but that is a neverending loop
... the License statement is in the file DESCRIPTION ... so we'll
change that to

  License: Free for non-commercial use.  See the file COPYING for details


Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Andreas.Weingessel@ci.tuwien.ac.at  Tue Feb  3 08:10:42 1998
From: Andreas.Weingessel@ci.tuwien.ac.at (Andreas Weingessel)
Date: Tue, 3 Feb 1998 09:10:42 +0100
Subject: linear models
Message-ID: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>


How can I use linear model regression for more than 1 dependent (response=
)
variable?

In S it is possible to do something like
S> x<-matrix(rnorm(300),100,3)
S> lm(x[,1:2]~x[,3])
to get

----------------------------------------------------------------------

Response: Y1=20
Call:
lm(formula =3D x[, 1:2] ~ x[, 3])

Coefficients:
 (Intercept)     x[, 3]=20
  0.02778965 -0.1081179

Degrees of freedom: 100 total; 98 residual
Residual standard error: 0.8294969=20

Response: Y2=20
Call:
lm(formula =3D x[, 1:2] ~ x[, 3])

Coefficients:
 (Intercept)     x[, 3]=20
  0.08045632 -0.1815675

Degrees of freedom: 100 total; 98 residual
Residual standard error: 1.081359=20

----------------------------------------------------------------------

This is not possible in R:

R> x<-matrix(rnorm(300),100,3)
R> lm(x[,1:2]~x[,3])
Error: dimnames: number of dimensions must equal number of names


	Andreas

************************************************************************
*                          Andreas Weingessel                          *
************************************************************************
* Institut f=FCr Statistik      *                Tel: (+43 1) 58801 4541 =
*
* Technische Universit=E4t Wien *                Fax: (+43 1)  504 14 98 =
*
* Wiedner Hauptstr. 8-10/1071 *     Andreas.Weingessel@ci.tuwien.ac.at *
* A-1040 Wien, Austria        * http://www.ci.tuwien.ac.at/~weingessel *
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Feb  3 10:49:54 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 3 Feb 1998 11:49:54 +0100
Subject: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
Message-ID: <199802031049.LAA00411@sophie.ethz.ch>

I have been implementing a proposal of Jim Lindsey for  glm(.)
to return AIC values, and
print.glm(.) and print.summary.glm(.)  printing them....
however:

>>>>> "Jim" == Jim Lindsey <jlindsey@luc.ac.be> writes:

    Jim> The problem still remains of getting the correct AIC when the user
    Jim> wants the scale parameter to be fixed. (The calculation should use
    Jim> the fixed, supplied value, instead of estimating it from the
    Jim> deviance.) As I mentioned earlier, the problem is that this is
    Jim> specified in summary, after the AIC has already been
    Jim> calculated. Would it not be possible to add an option in glm
    Jim> itself, allowing the scale parameter to be specified there?
    Jim> Otherwise, the AIC should in fact be recalculated every time
    Jim> summary is called.
Yes, I think that's what should really happen.

For binomial and poisson,
there are even three possibilities:
	
	1. no dispersion (as by the proper GLM)
	2. overdispersion estimated by the deviance (ratio)
	3. overdispersion specified by the user

S has adopted the concept that the glm(.) model is always the same,
the dispersion being an orthogonal nuisance parameter,
which the user should specify in
	summary(....) , i.e.,
	summary.glm(object, dispersion = NULL, correlation=FALSE, ..)
			    ^^^^^^^^^^^^^^^^^
[but wouldn't the dispersion also be used in predict.glm(..., se = TRUE) ?].

As a consequence, glm(.) wouldn't (and shouldn't ??) have a
	`dispersion = ' argument,
and  print.glm(.) maybe also shouldn't print the AIC

BTW, V&R's  MASS library contains the following functions
 > apropos("[Aa][Ii][Cc]")
 [1] "extractAIC"         "extractAIC.aov"     "extractAIC.coxph"  
 [4] "extractAIC.glm"     "extractAIC.lm"      "extractAIC.negbin" 
 [7] "extractAIC.survreg" "stepAIC"           

where   "stepAIC" is the main function, calling the generic  "extractAIC"
					(and one of its methods).
Maybe we should try look adopt what they've done.
(haven't looked at it really).
-------

Opinions, proposals, please ?

Martin Maechler <maechler@stat.math.ethz.ch>			<><
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 14:39:34 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 09:39:34 -0500
Subject: Licenses on Submissions to CRAN
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at>
 <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
 <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>
 <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu> <199802030803.JAA12957@galadriel.ci.tuwien.ac.at>
Message-ID: <98Feb3.095516est.13441@mailgate.bank-banque-canada.ca>

>change that to
>  License: Free for non-commercial use.  See the file COPYING for details

Although it doesn't really matter, you might want to use LICENSE or COPYRIGHT
instead of COPYING for the file name. That way people are more likely to know
what it is without seeing the description. (note: LICENSE is 8.3 compliant.
COPYRIGHT is not.)

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb  3 15:50:18 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 03 Feb 1998 09:50:18 -0600
Subject: netcdf
Message-ID: <6rk9bclmbp.fsf@verdi.stat.wisc.edu>

Has anyone experimented with the Network Common Data Format (netcdf)
described at
        http://www.unidata.ucar.edu/packages/netcdf
for archiving data?

Is this format widely used outside of atmospheric research?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Tue Feb  3 16:14:13 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Tue, 3 Feb 1998 10:14:13 -0600 (CST)
Subject: netcdf
In-Reply-To: <6rk9bclmbp.fsf@verdi.stat.wisc.edu> from "Douglas Bates" at Feb 3, 98 09:50:18 am
Message-ID: <9802031614.AA08758@nokomis.stat.umn.edu>

Douglas Bates wrote:
> 
> Has anyone experimented with the Network Common Data Format (netcdf)
> described at
>         http://www.unidata.ucar.edu/packages/netcdf
> for archiving data?
> 
> Is this format widely used outside of atmospheric research?

I think Sigbrt Klinke has added support for it to Xplore. Looking into
NetCDF/CDF/HDF is on my list to do fairly soon for xlispstat but I
haven't gotten to it yet. My impression is that these are used a fair
bit in the "scientific visualization" community, but I need to explore
this further.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Tue Feb  3 16:56:22 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Tue, 3 Feb 1998 08:56:22 -0800 (PST)
Subject: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
In-Reply-To: <199802031049.LAA00411@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980203085427.9015D-100000@chekov>

On Tue, 3 Feb 1998, Martin Maechler wrote:

> I have been implementing a proposal of Jim Lindsey for  glm(.)
> to return AIC values, and
> print.glm(.) and print.summary.glm(.)  printing them....
> however:
<snip>
> 
> For binomial and poisson,
> there are even three possibilities:
> 	
> 	1. no dispersion (as by the proper GLM)
> 	2. overdispersion estimated by the deviance (ratio)
> 	3. overdispersion specified by the user
> 

How about overdispersion as estimated by the mean squared Pearson
residual. Unlike the deviance estimate this works for quasilikelihood (ie
when only first two moments are specified correctly), at least according
to McCullagh & Nelder.


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 18:20:48 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 13:20:48 -0500
Subject: Another Rdse question
References: <9802031217.ZM19548@tor056.fi.gs.com>
Message-ID: <98Feb3.133635est.13441@mailgate.bank-banque-canada.ca>

>Error in .Fortran("arma", pred = matrix(1e+20, predictT, p),
>as.integer(length(error.weights)),  : C/Fortran function not in load table

I think what is happening is that the compiled code is not getting loaded. There
was a message the other day on r-devel about a bug in library.dynam which may be
causing the problem. I've lost the message, but as I recall (someone please
correct me if I'm wrong), if you save your workspace when you q() (ie. create
the .RData file) then when it is reloads it loads a variable .Dyn.libs which
indicates libraries which have been loaded (even though they are not yet loaded
in the new session). I think if you
    rm(.Dyn.libs)
before you do
    library("dse")
then it may work.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Tue Feb  3 18:43:38 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 4 Feb 1998 07:43:38 +1300 (NZDT)
Subject: netcdf
Message-ID: <199802031843.HAA06468@stat1.stat.auckland.ac.nz>

> Luke Tierney wrote:
> Douglas Bates wrote:
> > 
> > Has anyone experimented with the Network Common Data Format (netcdf)
> > described at
> >         http://www.unidata.ucar.edu/packages/netcdf
> > for archiving data?
> > 
> > Is this format widely used outside of atmospheric research?
>
> I think Sigbrt Klinke has added support for it to Xplore. Looking into
> NetCDF/CDF/HDF is on my list to do fairly soon for xlispstat but I
> haven't gotten to it yet. My impression is that these are used a fair
> bit in the "scientific visualization" community, but I need to explore
> this further.

By coincidence I just picked up a copy of netcdf last night.  I'm going
to have a look at GMT, particularly the map data base.  NSF funded a big
cleanup of the freely available maps as part of GMT developement.
The maps are in a NetCDF database ...

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 18:45:31 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 13:45:31 -0500
Subject: netcdf
References: <9802031614.AA08758@nokomis.stat.umn.edu>
Message-ID: <98Feb3.140112est.13449@mailgate.bank-banque-canada.ca>

> Has anyone experimented with the Network Common Data Format (netcdf)
> described at
>         http://www.unidata.ucar.edu/packages/netcdf
> for archiving data?

If anyone gets around to looking at this and would like to compare it with the
UN/EDIFACT Generic Statistical Message (GESMES), I sure would appreciate a
summary.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 20:37:38 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 15:37:38 -0500
Subject: fortran Makefile
Message-ID: <98Feb3.155327est.13444@mailgate.bank-banque-canada.ca>

My library uses compiled code which I converted from fortran to C with f2c. I
put copies of the same Makefile in the both dse/src and dse/src-c. (I'm not sure
why, but I niavely assumed the same Makefile might work.) Now, I haven't tried
the fortran version with R. But of course the first person (as far as I know) to
actually try and use the package defaulted to compiling the fortran directly
(using R INSTALL). I assume this is something that gets set by configure, but
I'm not sure. What should be in the Makefile for the fortran, or should I not
have any Makefile in the src directory? The src-c/Makefile is

LIBNAME=dse
LD=ld
OBJS= dsefor.o
all: $(LIBNAME).so message
$(LIBNAME).so: $(OBJS)
      $(LD) $(SHLIBLDFLAGS) -o $@ $(OBJS)
clean:
      @rm -f *.o *.so

Below is a copy of an email with the errors from the attempted fortran compile,
and a manual way to compile, but I'm not sure how much of that should be done in
the Makefile and how much is done by configure.

Paul Gilbert
___________
Thanks a lot for providing dse for R. I installed it under Linux. The 'usual'
installation fails as your Rdse/dse/src/Makefile uses implicit rules quite a
bit. It calls g77 first as the compiler. However, each of g77 5.0.19, 5.0.20
and 5.0.21 failed on dsefor.f, mostly with errors of the following type:

dsefor.f:283:
         SUBROUTINE KFP(EY, HPERR, PREDERR, ERRWT,
                    1
dsefor.f:1695: (continued):
                     CALL KFP(F2, HPERR,PREDERR, ERRWT,
                          2
Argument #18 (named `r') of `kfp' is one type at (2) but is some other type at
(1) [info -f
g77 M GLOBALS]
However, it works fine with a manual
        fort77 -c -O2 -fPIC dsefor.f
        gcc -shared -o dse.so dsefor.o



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Feb  4 11:26:00 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 4 Feb 1998 12:26:00 +0100
Subject: [J.Lindsey: Re: glm(.) / summary.glm(.); [over]dispersion and returning AIC..]
Message-ID: <199802041126.MAA02543@sophie.ethz.ch>

--Multipart_Wed_Feb__4_12:25:40_1998-1
Content-Type: text/plain; charset=US-ASCII


Jim, I am relating your message to R-devel.

This should be discussed in a broader audience; 
I am not an expert on GLM's, I know you are
and others on this group also...

R-develers, please CC to Jim Lindsey (on this topic), since he hasn't
been part of the R-devel list for a while..

BTW: I will be gone to the snowy mountains,
      for two weeks by end of Friday....
- Martin


--Multipart_Wed_Feb__4_12:25:40_1998-1
Content-Type: message/rfc822

Return-Path: jlindsey@luc.ac.be
From: Jim Lindsey <jlindsey@luc.ac.be>
Subject: Re: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
To: maechler@stat.math.ethz.ch
Date: Wed, 4 Feb 1998 10:15:50 +0100 (MET)
In-Reply-To: <199802031049.LAA00411@sophie.ethz.ch> from "Martin Maechler" at Feb 3, 98 11:49:54 am

> 
> For binomial and poisson,
> there are even three possibilities:
> 	
> 	1. no dispersion (as by the proper GLM)
> 	2. overdispersion estimated by the deviance (ratio)
> 	3. overdispersion specified by the user

None of these except the first give true AICs. Hence, the AIC for
these models is always correct and should not be touched.

> 
> S has adopted the concept that the glm(.) model is always the same,
> the dispersion being an orthogonal nuisance parameter,
> which the user should specify in
> 	summary(....) , i.e.,
> 	summary.glm(object, dispersion = NULL, correlation=FALSE, ..)
> 			    ^^^^^^^^^^^^^^^^^

But in fact it is unity for binomial and poisson so some action must
be taken in summary. The orthogonality is a characteristic of
exponential dispersion models.

> [but wouldn't the dispersion also be used in predict.glm(..., se = TRUE) ?].
> 

Dispersion does not affect predictions, only their precision.

> As a consequence, glm(.) wouldn't (and shouldn't ??) have a
> 	`dispersion = ' argument,

Agreed. Basically, I was lazy in implementing the AIC and did not try
to pass the function to summary, only the calculated value.

> and  print.glm(.) maybe also shouldn't print the AIC
> 

I think it should, because it is always correct for the best model, ie
that using the estimated dispersion parameter. The AIC for a fixed
value of the dispersion parameter will always be poorer (except for
the penalty of 2 perhaps).

> BTW, V&R's  MASS library contains the following functions
>  > apropos("[Aa][Ii][Cc]")
>  [1] "extractAIC"         "extractAIC.aov"     "extractAIC.coxph"  
>  [4] "extractAIC.glm"     "extractAIC.lm"      "extractAIC.negbin" 
>  [7] "extractAIC.survreg" "stepAIC"           
> 
> where   "stepAIC" is the main function, calling the generic  "extractAIC"
> 					(and one of its methods).
> Maybe we should try look adopt what they've done.
> (haven't looked at it really).

I don't think the AIC should need to be extracted. It should always be
available. I think it is much more fundamental than z statistics or P-values.
Jim


--Multipart_Wed_Feb__4_12:25:40_1998-1--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Feb  4 16:00:16 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 4 Feb 1998 17:00:16 +0100
Subject: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
In-Reply-To: <9802040915.AA22734@alpha.luc.ac.be> (message from Jim Lindsey on
 Wed, 4 Feb 1998 10:15:50 +0100 (MET))
Message-ID: <199802041600.RAA02976@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey@luc.ac.be> writes:

  MM>> S has adopted the concept that the glm(.) model is always the same,
  MM>> the dispersion being an orthogonal nuisance parameter,
  MM>> which the user should specify in
  MM>> 	summary(....) , i.e.,
  MM>> 	summary.glm(object, dispersion = NULL, correlation=FALSE, ..)
  MM>> 			    ^^^^^^^^^^^^^^^^^

    Jim> But in fact it is unity for binomial and poisson so some action must
    Jim> be taken in summary. The orthogonality is a characteristic of
    Jim> exponential dispersion models.
Sure; the above meant:  
	-  dispersion  *is* an optional parameter to  summary.glm(.).
	-  it has a default depending on the model fitted (e.g. =1 for binomial)
	-  if the user specifies a different value, that one is used ...

  MM>> [but wouldn't the dispersion also be used in predict.glm(..., se=TRUE) ?]

    Jim> Dispersion does not affect predictions, only their precision.

Exactly, and the point is that ``predict( ... , se = TRUE )
						^^^^^^^^^^
			asks for 'standard errors' !
 it is short for  'se.fit' and actually
 not (yet) available in R, but in S-plus  predict.lm & predict.glm.

The question remains (actually an S-plus only question for the current R):

  How to get standard errors for predicted values
  WITH user-specified / non-standard estimated dispersion value?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Feb  5 09:49:46 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 5 Feb 1998 10:49:46 +0100
Subject: linear models
In-Reply-To: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>
References: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>
Message-ID: <199802050949.KAA00669@pc25.none>

>>>>> Andreas Weingessel writes:

> How can I use linear model regression for more than 1 dependent (response)
> variable?

> In S it is possible to do something like
S> x<-matrix(rnorm(300),100,3)
S> lm(x[,1:2]~x[,3])
> to get

The problem is the final line

	dimnames(z$effects)[1] <- list(NULL)

in the multivariate version of lm.fit().

I think this used to work for some time, but now does neither in 0.61.1
nor in 0.62.

Could we replace the line by

	rownames(z$effects) <- NULL

?

-k

	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Feb  5 17:05:11 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 5 Feb 1998 18:05:11 +0100
Subject: linear models
In-Reply-To: <199802050949.KAA00669@pc25.none>
References: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>
 <199802050949.KAA00669@pc25.none>
Message-ID: <199802051705.SAA18856@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 5 Feb 1998 10:49:46 +0100,
>>>>> Kurt Hornik (KH) wrote:

>>>>> Andreas Weingessel writes:
>> How can I use linear model regression for more than 1 dependent (response)
>> variable?

>> In S it is possible to do something like
S> x<-matrix(rnorm(300),100,3)
S> lm(x[,1:2]~x[,3])
>> to get

KH> The problem is the final line

KH> 	dimnames(z$effects)[1] <- list(NULL)

KH> in the multivariate version of lm.fit().

KH> I think this used to work for some time, but now does neither in 0.61.1
KH> nor in 0.62.

KH> Could we replace the line by

KH> 	rownames(z$effects) <- NULL

KH> ?

As it seems to work I've committed the change.

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb 10 18:01:22 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 10 Feb 1998 13:01:22 -0500
Subject: Makefiles
References: <Pine.SUN.3.95.980115094935.10831A-100000@paca>
 <Pine.SUN.3.95.980115083356.18298B-100000@chekov>
 <199802101414.PAA08591@wrin27.urz.uni-wuppertal.de>
 <x2afbzfrlz.fsf@blueberry.kubism.ku.dk> <199802101554.QAA09176@wrin27.urz.uni-wuppertal.de>
Message-ID: <98Feb10.130235est.13441@mailgate.bank-banque-canada.ca>

While on the subject of makefiles, I have discovered a few problems:

If a package directory has a src subdirectory with fortran code and a makefile,
and a fortran compiler is available, I think R INSTALL tries to use this rather
than the src-c directory. Is this the generally preferred stategy? Currently g77
seems to have a bug and my fortran code does not compile.  If I were to just
include the fortran code for reference, but not expect anyone to compile it, is
the best way to put it in src-c, or should I put it in src and not put a
Makefile there?

I previously reported that my compiled C code does not find pow_ii and was led
to believe this is a routine in the f2c lib which I need to include in some way.
However, prompted by the above problem, I experimented with compliing using the
Solaris SunPro fortran compiler. Now I don't find __pow_ii and __pow_ri unless I
"hard code" the location of libF77 and libM77 into the .so file using -L. R
INSTALL doesn't do this. I'm not sure how this should be fixed. Also, I would
appreciate it if someone could explain whether it should be my .so file or
R.binary that resolves these references.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Feb 12 16:06:15 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 12 Feb 1998 17:06:15 +0100
Subject: Submissions to CRAN
Message-ID: <199802121606.RAA15350@galadriel.ci.tuwien.ac.at>


Hi again,

a fortnight ago I've sent an email concerning the package format for
submissions to CRAN ... it turned out that

	a) my english wasn't good enough and
	b) I hadn't given it enough thought :-)

Anyway, after some discussion here on this list (and some direct
emails) here is a new proposal summing everything up:

Every package should contain a file called DESCRIPTION in the top
directory (the one containing the R, man, src, ... dirs) looking like:

Package: e1071
Version: 0.7-3
Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
Description: Miscellaneous functions used at the Department of
        Statistics at TU Wien (E1071). 
Depends:
License: GPL version 2 or later



I've changed `Copyright' to `License'. This field should contain a
general phrase or well-known abbreviation, maybe  followed by a
reference to the actual License file.

Examples:

License: GPL version 2 or later

License: Free for non-commercial use, see the file COPYRIGHT for details


Is this OK with everybody?


**********************************************************

The second thing is, if we want to have a single tar ball for each
package, or if one tar ball can contain several (closely related)
packages (like the dse tar file currently in CRAN/src/contrib/devel)

I'm not sure ... (first I said `No!', than Paul said `Why?' and I had no
good answer so I said `Don't know') ... any preferences?



Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Feb 12 16:47:58 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Feb 1998 11:47:58 -0500
Subject: Submissions to CRAN
References: <199802121606.RAA15350@galadriel.ci.tuwien.ac.at>
Message-ID: <98Feb12.115202est.13447@mailgate.bank-banque-canada.ca>

>The second thing is, if we want to have a single tar ball for each
>package, or if one tar ball can contain several (closely related)
>packages (like the dse tar file currently in CRAN/src/contrib/devel)

"Closely related" does not totally capture the flavour of my problem. The only
reason a few of the packages are not together as one is because, at one time, I
was not able to load the libraries in R that way. (I don't know if anything has
changed recently to fix that. I suppose I should check it.) To make it easy for
someone to install I would like to put everything together, if this does not
complicate other things too much.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Andreas.Weingessel@ci.tuwien.ac.at  Fri Feb 13 14:18:26 1998
From: Andreas.Weingessel@ci.tuwien.ac.at (Andreas Weingessel)
Date: Fri, 13 Feb 1998 15:18:26 +0100
Subject: R/S differences
Message-ID: <199802131418.PAA01441@elendil.ci.tuwien.ac.at>


I noted the following R/S differences:


*) read.table behaves differently when determining the rownames. If
row.names is not given, S+ uses the first nonnumeric field with no
duplicates as the row names, whereas R uses 1:n as rownames in this case.

*) In S+ it is possible to sum over the lines of a data.frame. The
behavior of R might be more accurate in that situation, since a
data.frame is a list, but this causes problems, if one wants to use
code written for S+ in R.

S> aa<-data.frame(matrix(1:4,nrow=3D1))
S> sum(aa)
[1] 10

R> aa<-data.frame(matrix(1:4,nrow=3D1))
R> sum(aa)
Error in sum(..., na.rm =3D na.rm) : invalid argument type

*) The as.vector argument removes the vector names in S+. I do not
think that this difference can cause any problems, but I report it
just for completeness.

R> aa<-1:3
R> names(aa)<-letters[1:3]
R> as.vector(aa)
a b c=20
1 2 3=20
R> names(as.vector(aa))
[1] "a" "b" "c"

S> aa<-1:3
S> names(aa)<-letters[1:3]
S> as.vector(aa)
[1] 1 2 3
S> names(as.vector(aa))
NULL


As a final question. Does anyone know whether there is code for
nnls.fit (Linear least-squares fit with coefficients constrained to be
nonnegative.) available for R?

Thanks,
	Andreas

************************************************************************
*                          Andreas Weingessel                          *
************************************************************************
* Institut f=FCr Statistik      *                Tel: (+43 1) 58801 4541 =
*
* Technische Universit=E4t Wien *                Fax: (+43 1)  504 14 98 =
*
* Wiedner Hauptstr. 8-10/1071 *     Andreas.Weingessel@ci.tuwien.ac.at *
* A-1040 Wien, Austria        * http://www.ci.tuwien.ac.at/~weingessel *
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Feb 16 19:36:32 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Mon, 16 Feb 1998 13:36:32 -0600 (CST)
Subject: R listing on SAL
Message-ID: <m0y4WLA-0000ZpC@verdi.stat.wisc.edu>

SAL is the directory of Scientific Applications on Linux.  It is
rather well done, I think.  There is an entry for R
		http://SAL.KachinaTech.COM/F/1/R.html 
that mentions the Debian package but does not mention the RedHat
package.  I submitted a user-feedback comment to tell them about the
RedHat packages and give the address of the CRAN archives.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Feb 16 19:52:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Feb 1998 20:52:25 +0100
Subject: R listing on SAL
In-Reply-To: Douglas Bates's message of Mon, 16 Feb 1998 13:36:32 -0600 (CST)
References: <m0y4WLA-0000ZpC@verdi.stat.wisc.edu>
Message-ID: <x290rbuy2u.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates@stat.wisc.edu> writes:

> package.  I submitted a user-feedback comment to tell them about the
> RedHat packages and give the address of the CRAN archives.

They seem to have the FAQ and CRAN now, but the version is set at 0.49
and RPM is set as "no"... 

Hmm. On the other hand, there are no *official* RedHat packages, and
maybe they won't take unofficial ones?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Tue Feb 17 01:53:56 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 17 Feb 1998 14:53:56 +1300 (NZDT)
Subject: "tck" parameter
Message-ID: <199802170153.OAA25252@stat1.stat.auckland.ac.nz>

I have been making some changes to the axis drawing code which will
allow users to use par(tck=...) to produce grid lines and tick marks
which go into a plot rather than pointing outwards.

I don't particularly like the strategy that S uses for determining
tick mark size so I have introduces an alternative mechanism as well.
There is now a new "par" parameter called "tcl" (appologies to John
Ousterhout for this) which lets a user specify the tick length as
a fraction of the height of a standard sized line.

The default is to use par(tcl=-0.5) which gives the present look.

I don't like introducing a new "par" value, but there seems to be
no other way to resolve the fixed vs variable-sized tick mark needs.
If anyone has a better solution, I'd be happy to consider it.
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb 17 17:30:42 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Tue, 17 Feb 1998 11:30:42 -0600 (CST)
Subject: unique(NULL)
Message-ID: <m0y4qqw-0000XAC@verdi.stat.wisc.edu>

I spent a while chasing this one down!

In S
 S> unique(NULL)
 NULL
whereas in R (both 0.61.1 and yesterday's 0.62-snapshot)
 > unique(NULL)
 Error: duplicated applies only to vectors

I think I prefer the behaviour in S.

Although there is code in the do_duplicated function in
		       $RHOME/src/main/unique.c
to handle the case of zero-length vectors it appears that the check
for isVector(x) immediately before that is what is causing the
problem.

Would it be as simple as changing the check on
 if (!isVector(x))
to
 if (!(isVector(x) || isNull(x)))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb 17 22:17:17 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Tue, 17 Feb 1998 16:17:17 -0600 (CST)
Subject: a very preliminary lme for R
Message-ID: <m0y4vKH-0000XAC@verdi.stat.wisc.edu>

Jose and I have a version of the lme (linear mixed effects) library
that is known to work with at least one example on at least one
version of R on at least one computer so that means it is time to
upload to CRAN, right?

In the near future a file lme_2.8-0.tar.gz will appear in the
src/contrib/devel area under CRAN.  Please remember this is a snapshot
of the development version.  We know there are things that don't work
with it under R (like all the trellis-based graphics, for example) but
it does currently work in R to the extent that it will fit
mixed-effects models using maximum likelihood or restricted maximum
likelihood (REML), including nested models.

The documentation is, shall we say, "sketchy".  It is more than
non-existent but not much more.  In other words this release is for
the brave early adopter who doesn't mind reading the source code to
figure out how the damn thing works.

If you do pick it up you may find it helpful to look at some recent
presentations we have given on the design of the library.  These are
available at
		 http://franz.stat.wisc.edu/pub/NLME/
right beside one of the CRAN archive sites
		 http://franz.stat.wisc.edu/pub/CRAN/
A paper on the computational methods used in this version of the
library will appear there "real soon".

Features of the library include:
 - use of a "groupedData" class that extends the data.frame class to
   describe relationships amoung the variables and the grouping of the
   observations. 
 - multiple levels of grouping in the data and nested random effects
   in the models.
 - summarization of data according to grouping of the observations via 
   the gsummary function (don't know if this works in R yet).
 - trellis-based plots of data and fitted models and derived
   quantities (definitely doesn't work in R yet)
 - much more stable computational methods, selection of starting
   values, etc. for fitting linear mixed-effects models
 - maximum likelihood or restricted maximum likelihood estimation
   criteria

Our interest in putting this up is to get feedback.  Please be gentle.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb 24 18:05:48 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 24 Feb 1998 13:05:48 -0500
Subject: dse+linux
References: <199802241645.QAA29793@hengill.rhi.hi.is>
Message-ID: <98Feb24.131355est.13447@mailgate.bank-banque-canada.ca>

Does anyone recogize the following problem which was just reported to me?

Paul Gilbert
________

I am trying to install dse on linux redhat 4.2 when I do

  R INSTALL dse     rlibs
I get the following

 R INSTALL dse     rlibs
Installing package `dse' ...
libs
gcc -g -fpic -I/usr/local/R-0.61/include   -c dsefor.c -o dsefor.o
/tmp/cca02533.i:1: numeric constant with no digits
/tmp/cca02533.i:1: numeric constant with no digits
/tmp/cca02533.i:1: invalid #line
/tmp/cca02533.i:7: numeric constant with no digits
/tmp/cca02533.i:7: numeric constant with no digits
/tmp/cca02533.i:7: invalid #line
/tmp/cca02533.i:21: parse error at null character
/tmp/cca02533.i:21: virtual memory exhausted
make: *** [dsefor.o] Error 1
cp: src-c/*.so: No such file or directory
R
data
DONE

Is there something wrong with my gcc or is there some
option missing somewhere?

Sincerely yours
Helgi Tomasson




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb 24 18:10:49 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 24 Feb 1998 12:10:49 -0600
Subject: Representation of data in libraries
In-Reply-To: Ralf Goertz's message of Tue, 24 Feb 1998 18:02:29 +0100
Message-ID: <6rhg5ox49i.fsf@verdi.stat.wisc.edu>

At present the example data sets in R libraries are to be given as
expressions that can be read directly into R.  For example, the acid.R 
file in the main library looks like
 acid <- data.frame(
  carb  = c(0.1, 0.3, 0.5, 0.6, 0.7, 0.9),
  optden = c(0.086, 0.269, 0.446, 0.538, 0.626, 0.782), row.names = paste(1:6))

This is great when you have only a few observations.  I have one
example data set with over 9000 rows and 17 variables.  Even when I
set -v 40, I exhaust the available memory trying to read it in as a
data.frame.  I believe this is because of the recursive nature of the
parsing of data objects.

Are there alternatives that would cause less memory usage?  In
S/S-PLUS the data.dump/data.restore functions use a portable
representation that can be parsed without exponential memory growth.
-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Tue Feb 24 21:16:22 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Tue, 24 Feb 1998 13:16:22 -0800 (PST)
Subject: Representation of data in libraries
In-Reply-To: <6rhg5ox49i.fsf@verdi.stat.wisc.edu>
Message-ID: <Pine.SUN.3.95.980224131029.23525A-100000@chekov>

On 24 Feb 1998, Douglas Bates wrote:

> At present the example data sets in R libraries are to be given as
> expressions that can be read directly into R.  For example, the acid.R 
> file in the main library looks like
>  acid <- data.frame(
>   carb  = c(0.1, 0.3, 0.5, 0.6, 0.7, 0.9),
>   optden = c(0.086, 0.269, 0.446, 0.538, 0.626, 0.782), row.names = paste(1:6))
> 
> This is great when you have only a few observations.  I have one
> example data set with over 9000 rows and 17 variables.  Even when I
> set -v 40, I exhaust the available memory trying to read it in as a
> data.frame. 

You need to specify -n some_large_number to read in large data sets,
specifying -v is not enough.  You can see this by using gcinfo(T) to
report heap and cons cell usage at each garbage collection.

> Are there alternatives that would cause less memory usage?  In
> S/S-PLUS the data.dump/data.restore functions use a portable
> representation that can be parsed without exponential memory growth.

The R save() format is portable, at least among Unices. You could have the
data.R file contain the command
	eval(load("data.Rdata"),.GlobalEnv)
where "data.Rdata" is the saved file. There is an ascii=T option, which
might make it more portable to other operating systems.

I haven't checked, but I assume that this format can be read more
efficiently than sourcing R code.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Feb 25 07:34:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 25 Feb 1998 08:34:03 +0100
Subject: Representation of data in libraries
In-Reply-To: <6rhg5ox49i.fsf@verdi.stat.wisc.edu> (message from Douglas Bates
 on 24 Feb 1998 12:10:49 -0600)
Message-ID: <199802250734.IAA03015@sophie.ethz.ch>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> At present the example data sets in R libraries are to be given as
    DougB> expressions that can be read directly into R.  For example, the acid.R 
    DougB> file in the main library looks like
    DougB> acid <- data.frame(
    DougB> carb  = c(0.1, 0.3, 0.5, 0.6, 0.7, 0.9),
    DougB> optden = c(0.086, 0.269, 0.446, 0.538, 0.626, 0.782), row.names = paste(1:6))

    DougB> This is great when you have only a few observations.  I have one
    DougB> example data set with over 9000 rows and 17 variables.  Even when I
    DougB> set -v 40, I exhaust the available memory trying to read it in as a
    DougB> data.frame.  I believe this is because of the recursive nature of the
    DougB> parsing of data objects.

yes; 

    DougB> Are there alternatives that would cause less memory usage?

yes; but only in the 0.62 development version.
The current 0.62 ``standard'' is:

if a 'data' file ends in
	.R,	source(.) is used to read it
if it ends in
	.tab	read.table(..., header = TRUE)  is used to read it.
(you find the new data(.) function in  src/library/base/data in R-snapshot.)

Note that this is still not really satisfactory for large data files,
since read.table(.) is not really efficient:
	it first reads everything as character matrix and then converts
	variable by variable, some to numeric, some to factor.

On the other hand: does it really make sense to distribute huge example
data sets as yours above?
If yes, AND if you have only numeric data,
I'd propose the following:
 1) create a  <pkg>/data/dougBex.R
    file which only contains something like
	dougBex <- as.data.frame(
		    matrix(scan(system.file("<pkg>/data/dougBex.dat")),
			   ncol = ...,  
			   dimnames = ...))
 2) create   <pkg>/data/dougBex.dat  to contain all your data, white-space
				     delimited numeric.


    DougB> In S/S-PLUS the data.dump/data.restore functions use a portable
    DougB> representation that can be parsed without exponential memory growth.

hmm, yes, we have been longing for someone to write  data.dump/data.restore
for R.
	Any volunteers?

--
Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Feb 25 10:10:01 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Feb 1998 11:10:01 +0100
Subject: R-beta: qr(A)$rank
In-Reply-To: John Bacon-Shone's message of Wed, 25 Feb 1998 11:27:10 +0800
References: Bertram Zinner's message of Tue, 24 Feb 98 15:07:46 -0600
 <199802242105.PAA02418@mallard.duc.auburn.edu>
 <v04003a13b1193fdd81f5@[147.8.208.251]>
Message-ID: <x2ra4s807a.fsf@blueberry.kubism.ku.dk>

John Bacon-Shone <johnbs@hku.hk> writes:

> >Seriously speaking, yes, we really should get around to getting the
> >Mac version up to date. Volunteers?
> 
> What needs to be done?  Create an up-to-date CodeWarrior project, or do coding?
> 
> John
> 
> Dr John Bacon-Shone, Director, Social Sciences Research Centre,
> The University of Hong Kong, Pokfulam Road, Hong Kong
> Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
> Web http://www.ssrc.hku.hk

If only I knew... I suspect that some actual coding changes are needed
for the event loop and the graphics interface, whereas the main body
of the parser and the internals, as well as the interpreted code are
highly portable. That's the situation with the Windows version anyway,
and I can't believe that MacProgramming can be worse that the Win32
API.

One thing that I have been looking at a bit is the possibility of
coding up a Tcl/Tk version of R. This could be made portable between
all three architectures (X/Win32/Mac) and probably evolve into a set
of R/Tk language bindings a.m. STk (Scheme Tk), so we could have menu
interfaces and R functions that are call via a button-click, etc.

[I'm Cc-ing this to the R-devel list. Slightly bad netiquette since
your email was to me privately, but I hope you won't mind.]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Feb 25 11:20:05 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Feb 1998 12:20:05 +0100
Subject: R-beta: Mac version
In-Reply-To: Colin Farrow's message of Wed, 25 Feb 1998 09:53:31 +0000
References: <E0y7dWt-0000XX-00@alligin>
Message-ID: <x2n2fg7wyi.fsf@blueberry.kubism.ku.dk>

Colin Farrow <C.Farrow@geology.gla.ac.uk> writes:

> Peter,
> 
> Cautiously sticking my neck above the water line here. I have been
> wondering about the Mac version for a while now. I may be able to get
> an MSc IT student to work on this as a project for about 3 months
> June-Sept. Before putting up the proposal some idea of the scale of the
> task would be useful. Do you know what would be involved? Is there a
> preferred compiler?
> 
> CC'd to R+R for when the power returns:-)
> 
> Colin

I got a letter on the same topic a bit earlier today from John
Bacon-Shone. I'm copying my reply to him below. Basically, I think
that the scale of the task is highly dependent on whether you know
your way around the Mac API to begin with. As for compilers, I have no
knowledge of the Mac platform, but in general freeware is preferred,
if it exists (and works!), because it enlarges the number of potential
bugfixers. (I saw something about the PWB being available freely from
Apple now).

I'll Cc: this one to R-devel too. If anyone there who actually know
what they're talking about (as opposed to me) re. Macs have anything
to add, please do.

---------
John Bacon-Shone <johnbs@hku.hk> writes:

> >Seriously speaking, yes, we really should get around to getting the
> >Mac version up to date. Volunteers?
> 
> What needs to be done?  Create an up-to-date CodeWarrior project, or do coding?
> 
> John
> 
> Dr John Bacon-Shone, Director, Social Sciences Research Centre,
> The University of Hong Kong, Pokfulam Road, Hong Kong
> Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
> Web http://www.ssrc.hku.hk

If only I knew... I suspect that some actual coding changes are needed
for the event loop and the graphics interface, whereas the main body
of the parser and the internals, as well as the interpreted code are
highly portable. That's the situation with the Windows version anyway,
and I can't believe that MacProgramming can be worse that the Win32
API.

One thing that I have been looking at a bit is the possibility of
coding up a Tcl/Tk version of R. This could be made portable between
all three architectures (X/Win32/Mac) and probably evolve into a set
of R/Tk language bindings a.m. STk (Scheme Tk), so we could have menu
interfaces and R functions that are call via a button-click, etc.

[I'm Cc-ing this to the R-devel list. Slightly bad netiquette since
your email was to me privately, but I hope you won't mind.]
-----------

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From johnbs@hku.hk  Wed Feb 25 14:49:33 1998
From: johnbs@hku.hk (John Bacon-Shone)
Date: Wed, 25 Feb 1998 22:49:33 +0800
Subject: R-beta: Mac version
In-Reply-To: <x2n2fg7wyi.fsf@blueberry.kubism.ku.dk>
References: Colin Farrow's message of Wed, 25 Feb 1998 09:53:31 +0000
 <E0y7dWt-0000XX-00@alligin>
Message-ID: <v04003a0cb119ddb7ee62@[147.8.208.251]>

>Colin Farrow <C.Farrow@geology.gla.ac.uk> writes:
>
>> Peter,
>>
>> Cautiously sticking my neck above the water line here. I have been
>> wondering about the Mac version for a while now. I may be able to get
>> an MSc IT student to work on this as a project for about 3 months
>> June-Sept. Before putting up the proposal some idea of the scale of the
>> task would be useful. Do you know what would be involved? Is there a
>> preferred compiler?

While MPW is now free, almost all developers have given up on MPW and
Symantec (both have development stopped)and switched to Metrowerks, who
have good academic prices and good onward development.

Having a student do the work sounds appealing to me :)

>>
>> CC'd to R+R for when the power returns:-)
>>
>> Colin
>
>I got a letter on the same topic a bit earlier today from John
>Bacon-Shone. I'm copying my reply to him below. Basically, I think
>that the scale of the task is highly dependent on whether you know
>your way around the Mac API to begin with. As for compilers, I have no
>knowledge of the Mac platform, but in general freeware is preferred,
>if it exists (and works!), because it enlarges the number of potential
>bugfixers. (I saw something about the PWB being available freely from
>Apple now).

I think you mean MPW

>I'll Cc: this one to R-devel too. If anyone there who actually know
>what they're talking about (as opposed to me) re. Macs have anything
>to add, please do.
>
>---------
>John Bacon-Shone <johnbs@hku.hk> writes:
>
>> >Seriously speaking, yes, we really should get around to getting the
>> >Mac version up to date. Volunteers?
>>
>> What needs to be done?  Create an up-to-date CodeWarrior project, or do
>>coding?
>>
>> John
>>
>> Dr John Bacon-Shone, Director, Social Sciences Research Centre,
>> The University of Hong Kong, Pokfulam Road, Hong Kong
>> Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
>> Web http://www.ssrc.hku.hk
>
>If only I knew... I suspect that some actual coding changes are needed
>for the event loop and the graphics interface, whereas the main body
>of the parser and the internals, as well as the interpreted code are
>highly portable. That's the situation with the Windows version anyway,
>and I can't believe that MacProgramming can be worse that the Win32
>API.
>
>One thing that I have been looking at a bit is the possibility of
>coding up a Tcl/Tk version of R. This could be made portable between
>all three architectures (X/Win32/Mac) and probably evolve into a set
>of R/Tk language bindings a.m. STk (Scheme Tk), so we could have menu
>interfaces and R functions that are call via a button-click, etc.

Another possibility may be to use the replacemnet for OpenStep , now known
as YellowBox, that will deploy on Mac, Rhapsody, Win32 at the very least.
The YellowBox uses DisplayPostscript, which might help.

>[I'm Cc-ing this to the R-devel list. Slightly bad netiquette since
>your email was to me privately, but I hope you won't mind.]

In my case this was careless, I meant it to go at least to the r-help list :)
Please copy replies to me, as I am not on the developer list, I think.

John


Dr John Bacon-Shone, Director, Social Sciences Research Centre,
The University of Hong Kong, Pokfulam Road, Hong Kong
Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
Web http://www.ssrc.hku.hk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Wed Feb 25 17:04:53 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Wed, 25 Feb 1998 09:04:53 -0800 (PST)
Subject: R-beta: Mac version
In-Reply-To: <v04003a0cb119ddb7ee62@[147.8.208.251]>
Message-ID: <Pine.SUN.3.95.980225085929.25647A-100000@chekov>

On Wed, 25 Feb 1998, John Bacon-Shone wrote:
> 
> While MPW is now free, almost all developers have given up on MPW and
> Symantec (both have development stopped)and switched to Metrowerks, who
> have good academic prices and good onward development.

Metrowerks now has a Win32 version as well, which may make it easier to
keep the Win and Mac versions in sync. It seems from the box as though you
get the ability to cross-compile, which might make it easy to keep
versions in sync.
 
> Having a student do the work sounds appealing to me :)
> 
Provided that it doesn't cause the university to think it owns the
results....

	-thomas


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Feb 25 17:38:40 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 25 Feb 1998 12:38:40 -0500
Subject: memory trick
Message-ID: <98Feb25.124720est.13448@mailgate.bank-banque-canada.ca>

> # New code
> while(temp$iv[1] < 3) {
>                       temp <- nlminb.0(temp, p, liv, lv,
>                                         objective, bounds, scale)
>                        NULL
>                }
>
> This has the effect of returning the null value on exiting the loop instead of

> everything else that the while loop normally returns.

Does this trick for reducing memory usage in S also have an affect in R?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Wed Feb 25 21:52:34 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Wed, 25 Feb 1998 15:52:34 -0600 (CST)
Subject: R-beta: Mac version
In-Reply-To: <Pine.SUN.3.95.980225085929.25647A-100000@chekov> from "Thomas Lumley" at Feb 25, 98 09:04:53 am
Message-ID: <9802252152.AA11595@nokomis.stat.umn.edu>

Thomas Lumley wrote:
> 
> On Wed, 25 Feb 1998, John Bacon-Shone wrote:
> > 
> > While MPW is now free, almost all developers have given up on MPW and
> > Symantec (both have development stopped)and switched to Metrowerks, who
> > have good academic prices and good onward development.
> 
> Metrowerks now has a Win32 version as well, which may make it easier to
> keep the Win and Mac versions in sync. It seems from the box as though you
> get the ability to cross-compile, which might make it easy to keep
> versions in sync.

Cross compiling is possible but I think debugging is a pain - there is
some mechanism but I think it's pretty awkward. I'm actually doing my
Windows stuff in Borland 5.0, but using SoftWindows on a Mac -- that
seems to work nicely if you can live with a 200 MHz Mac running at
about 486/33 speed :-).

I played with Metrowerks CW Pro 1 for Windows a bit and wasn't really
happy with it for my purposes. I use CW Pro 2 on the Mac and am quite
pleased there, but I did not try the new Windows version to see if
some of the issues I'll mention here have been resolved. (I decided to
upgrade my Borland compiler and stick with that.)

In CW Pro 1 for Win I didn't see any way to use a makefile, only the
IDE. Whether you consider that good or bad is up to you. I also could
not get some things to work with DLL's, in particular calling back
into the .EXE file. Both may have been my problem -- it might be
possible but I just didn't figure it out.

Another issue is IEEE compliant handling of comparisons to NaN's. None
of Borland, MS VC++, CW Pro 1, or lcc are compliant. Watcom and
gcc-win32 are (at least with the right compiler flag settings). If R
has code that relies on compliant handling of these comparisons, then
using any of these would be a bad idea.

Just my 2c.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From oncley@atd.ucar.edu  Wed Feb 25 22:08:55 1998
From: oncley@atd.ucar.edu (Steve Oncley)
Date: Wed, 25 Feb 1998 15:08:55 -0700 (MST)
Subject: attributes
Message-ID: <199802252208.PAA11635@stout.atd.ucar.edu>

During the last couple of months (at least) there has been a trickle of
messages on R-help related to attributes (other than dim/dimnames) not being 
inherited.  
Example:
	x <- 1
	class(x) <- "test"
	class(x+1) [returns NULL, not "test"]
I have not seen a response from anyone in the R-core about this issue.  
Since our group uses locally-written code (in S+) that is object-oriented, 
R is useless to us until this capability exists.

Do any of you have this on your tasks-list, or should we <attempt> to add 
attribute inheriting on our own?  Thanks...Steve Oncley (oncley@ucar.edu)

P.S. Please respond directly to me (or r-help), since I'm not on r-devel.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From johnbs@hku.hk  Thu Feb 26 00:42:44 1998
From: johnbs@hku.hk (John Bacon-Shone)
Date: Thu, 26 Feb 1998 08:42:44 +0800
Subject: R-beta: Mac version
In-Reply-To: <9802252152.AA11595@nokomis.stat.umn.edu>
References: <Pine.SUN.3.95.980225085929.25647A-100000@chekov>
Message-ID: <v04003a15b11a6a86149a@[147.8.208.251]>

>Thomas Lumley wrote:
>>
>> On Wed, 25 Feb 1998, John Bacon-Shone wrote:
>> >
>> > While MPW is now free, almost all developers have given up on MPW and
>> > Symantec (both have development stopped)and switched to Metrowerks, who
>> > have good academic prices and good onward development.
>>
>> Metrowerks now has a Win32 version as well, which may make it easier to
>> keep the Win and Mac versions in sync. It seems from the box as though you
>> get the ability to cross-compile, which might make it easy to keep
>> versions in sync.
>
>Cross compiling is possible but I think debugging is a pain - there is
>some mechanism but I think it's pretty awkward.

true, but the CD contains native compilers/debuggers for both

> I'm actually doing my
>Windows stuff in Borland 5.0, but using SoftWindows on a Mac -- that
>seems to work nicely if you can live with a 200 MHz Mac running at
>about 486/33 speed :-).

I prefer Virtual PC, quite good on a G3, more like a P90 :)

Regards

John

Dr John Bacon-Shone, Director, Social Sciences Research Centre,
The University of Hong Kong, Pokfulam Road, Hong Kong
Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
Web http://www.ssrc.hku.hk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Feb 26 09:31:36 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Feb 1998 10:31:36 +0100
Subject: attributes loss with arithmetic...
In-Reply-To: <199802252208.PAA11635@stout.atd.ucar.edu> (message from Steve
 Oncley on Wed, 25 Feb 1998 15:08:55 -0700 (MST))
Message-ID: <199802260931.KAA04501@sophie.ethz.ch>

>>>>> "Steve" == Steve Oncley <oncley@atd.ucar.edu> writes:

    Steve> During the last couple of months (at least) there has been a
    Steve> trickle of messages on R-help related to attributes (other than
    Steve> dim/dimnames) not being inherited.
    Steve> Example:
    Steve> 	x <- 1
    Steve> 	class(x) <- "test"
    Steve> 	class(x+1) [returns NULL, not "test"]

    Steve> I have not seen a response from anyone in the R-core about this
    Steve> issue.
Well, excuse us..
    Steve> Since our group uses locally-written code (in S+) that
    Steve> is object-oriented,  
    Steve> R is useless to us until this capability exists.
		^^^^^^^
pretty hard word;   
I understand however that you definitely want this working.

The reason, there was no answer is probably:
It is obviously something ``deep down in the bowels of the C code'' for R,
and "usually", these things are left to R&R for fixing.
On the other hand, Ross and Robert are always overloaded with work...

    Steve> Do any of you have this on your tasks-list, or should we
    Steve> <attempt> to add attribute inheriting on our own?

If you feel knowledgable to do it in C, we'll be more than glad for your
contribution... !

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
http://www.stat.math.ethz.ch/~maechler/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Feb 26 15:03:50 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 26 Feb 1998 10:03:50 -0500
Subject: Bus Error
Message-ID: <98Feb26.101259est.13444@mailgate.bank-banque-canada.ca>

I was experimenting a bit with the memory saving trick mentioned on Snew
recently and I've discovered that adding NULL to the end of the loop in the
function below gives me "Bus Error - core dumped" in Solaris with R 0.61.1. The
problem does not occur every time the function is called, but it is reproducible
in the sense that I twice tried  a set of test I have and it occured in the the
same spot, and when I remove the NULL it does not occur. I also added a NULL in
some other loops with no problems, but no obvious time savings in R. For my
purposes I will just remove the NULL, since this is going to be very difficult
for me to isolate (it takes a hour on an ultra 10 to get to the point where the
error occurs). I thought I would mention the problem in the hope that someone
can  immediately see a bug.

Paul Gilbert
________

hessian.default <- function(func, x, func.args=NULL, d=0.01, eps=1e-4,r=6)
{  D <- genD.default(func,x,func.args=func.args, d=d, eps=eps, r=r)$D
   H <- diag(0,length(x))
   u <- 0
   for(i in 1:length(x))
     {for(j in 1:i)
        {u <- u + 1
         H[i,j] <- D[,u]
         NULL
     }  }
   H <- H +t(H)
   diag(H) <- diag(H)/2
   H
}



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Feb 26 15:57:57 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 26 Feb 1998 09:57:57 -0600
Subject: Representation of data in libraries
In-Reply-To: Martin Maechler's message of Wed, 25 Feb 1998 08:34:03 +0100
References: <199802250734.IAA03015@sophie.ethz.ch>
Message-ID: <6rafbewe7u.fsf@verdi.stat.wisc.edu>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> On the other hand: does it really make sense to distribute huge example
> data sets as yours above?

The purpose of this example is to show that the lme methods work with
very large data sets.  These data are from a survey conducted by a
sociologist.  He fit a mixed-effects model to them using SAS PROC
MIXED.  It took five hours of cpu time on a relatively fast machine
(Pentium II 233 MHz, 64 Mb memory).  Once I decide what the model he
used is in our notation, I will try it in lme.  I am confident we
can do it much faster.

I decide to omit this data set from the standard distribution for lme
although the way that data sets are organized in R there is not much
penalty other than the disc space for including large examples that
are rarely used.

Following Thomas's suggestion of increasing the -n as well as the -v
option I was able to read the data in with its current form.

-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Feb 27 08:27:02 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Feb 1998 09:27:02 +0100
Subject: R-beta: quantile
In-Reply-To: <x2hg5mt15o.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 27 Feb 1998 00:08:19 +0100)
Message-ID: <199802270827.JAA06769@sophie.ethz.ch>

	[diverted from R-help to R-devel]

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

    PD> Bill Simpson <wsimpson@uwinnipeg.ca> writes:
    >> 
    >> I do:
    >> x<-rnorm(1000)
    >> quantile(x,c(.025,.975))
    >> 2%       98% 
    >> -1.844753  1.931762 
    >> 
Yes, this is a pain;
I've known about this for months, and always been too busy / diverted 
to fix it..

    >> Since I want to find a 95% confidence interval, I take the .025 and .975
    >> quantiles.  HOWEVER R says I have the 2% (not 2.5%) and 98% (not 97.5%)
    >> points.  Is it just rounding the printed 2% and 98%, or is it REALLY
    >> finding .02 and .98 points instead of .025 and .975?

    PD> It's rounding... 

    PD> At the end of the quantile function, you'll see:

    PD> names(qs) <- paste(round(100 * probs), "%", sep = "")
    PD> qs
    PD> }

    PD> Maybe we should put in an extra argument for controlling the precision
    PD> of the rounding?

Hmm, I think we agree that we should improve that 'names(gs)..' line.

However, the first step should be to use a much better default than
	round(100 * probs)
If the default is ``smart enough'', 
maybe we don't really need a new argument
[Can still have one for the ones who really want to fine-tune the names..]

-------------

Some untested proposals for replacement of   
	round(100 * probs)	


1)  formatC(100*probs, dig=3,				 format='f')
2)  formatC(100*probs, dig= max(3, .Options$digits - 3), format='f')
3)  signif(100*probs,       max(3, .Options$digits - 3))

or then replace  "max(3, .Options$digits - 3)"
by the new argument  'digits.names'
and have that one default to
	digits.names = max(3, .Options$digits - 3)


Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Fri Feb 27 12:44:51 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Fri, 27 Feb 1998 13:44:51 +0100
Subject: R-beta: quantile
References: <199802270827.JAA06769@sophie.ethz.ch>
Message-ID: <34F6B543.68813EFB@iarc.fr>

Martin Maechler wrote:
> 
>         [diverted from R-help to R-devel]
> 
> >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

>     PD> Maybe we should put in an extra argument for controlling the precision
>     PD> of the rounding?
> 
> Hmm, I think we agree that we should improve that 'names(gs)..' line.
> 
> However, the first step should be to use a much better default than
>         round(100 * probs)
> If the default is ``smart enough'',
> maybe we don't really need a new argument
> [Can still have one for the ones who really want to fine-tune the names..]
> 
> -------------
> 
> Some untested proposals for replacement of
>         round(100 * probs)
> 
> 1)  formatC(100*probs, dig=3,                            format='f')
> 2)  formatC(100*probs, dig= max(3, .Options$digits - 3), format='f')
> 3)  signif(100*probs,       max(3, .Options$digits - 3))
> 
> or then replace  "max(3, .Options$digits - 3)"
> by the new argument  'digits.names'
> and have that one default to
>         digits.names = max(3, .Options$digits - 3)

What about just using format(100*probs)?

R> foo <- function(probs) paste(format(100 * probs), "%", sep="")
R> foo(c(0.02,0.25,0.50))
[1] " 2%" "25%" "50%"
R> foo(c(0.025,0.25,0.50))
[1] " 2.5%" "25.0%" "50.0%"
R> foo(c(0.0125,0.25,0.50))
[1] " 1.25%" "25.00%" "50.00%"

I am probably missing something but this seems to be "smart" enough.
Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Feb 27 12:59:55 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Feb 1998 13:59:55 +0100
Subject: R-beta: quantile
In-Reply-To: Martyn Plummer's message of Fri, 27 Feb 1998 13:44:51 +0100
References: <199802270827.JAA06769@sophie.ethz.ch> <34F6B543.68813EFB@iarc.fr>
Message-ID: <x2ra4p6w4z.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer@iarc.fr> writes:

> What about just using format(100*probs)?
> 
> R> foo <- function(probs) paste(format(100 * probs), "%", sep="")
> R> foo(c(0.02,0.25,0.50))
> [1] " 2%" "25%" "50%"
> R> foo(c(0.025,0.25,0.50))
> [1] " 2.5%" "25.0%" "50.0%"
> R> foo(c(0.0125,0.25,0.50))
> [1] " 1.25%" "25.00%" "50.00%"
> 
> I am probably missing something but this seems to be "smart" enough.


I can do one better, I think:

> sapply(c(0.1,2.5,25),format)
[1] "0.1" "2.5" "25" 
> foo <- function(probs) paste(sapply(100 * probs,format), "%", sep="")
> foo(c(0.02,0.25,0.50))
[1] "2%"  "25%" "50%"
> foo(c(0.025,0.25,0.50))
[1] "2.5%" "25%"  "50%" 
> foo(c(0.0125,0.25,0.50))
[1] "1.25%" "25%"   "50%"  


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Feb 27 14:39:20 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Feb 1998 15:39:20 +0100
Subject: R-beta: quantile
In-Reply-To: <x2ra4p6w4z.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 27 Feb 1998 13:59:55 +0100)
Message-ID: <199802271439.PAA14045@sophie.ethz.ch>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

    PD> Martyn Plummer <plummer@iarc.fr> writes:
    >> What about just using format(100*probs)?
    >> 
    R> foo <- function(probs) paste(format(100 * probs), "%", sep="")
    R> foo(c(0.02,0.25,0.50))
    >> [1] " 2%" "25%" "50%"
    R> foo(c(0.025,0.25,0.50))
    >> [1] " 2.5%" "25.0%" "50.0%"
    R> foo(c(0.0125,0.25,0.50))
    >> [1] " 1.25%" "25.00%" "50.00%"
    >> 
    >> I am probably missing something but this seems to be "smart" enough.


    PD> I can do one better, I think:

    >> sapply(c(0.1,2.5,25),format)
    PD> [1] "0.1" "2.5" "25"
    >> foo <- function(probs) paste(sapply(100 * probs,format), "%",
    >> sep="") foo(c(0.02,0.25,0.50))
    PD> [1] "2%" "25%" "50%"
    >> foo(c(0.025,0.25,0.50))
    PD> [1] "2.5%" "25%" "50%"
    >> foo(c(0.0125,0.25,0.50))
    PD> [1] "1.25%" "25%" "50%"

Yes, this is better;
but it actually ``the same'' as  formatC !

[TEACHER:]
   One of the main differences between format(.) and formatC(.)
   is that  format(.) formats a vector into a  COMMON format
   (hence the "50.00%" in Martyn's answer)
   whereas  formatC(.) formats each element INDIVIDUALLY
which is what Peter proposed by
	 sapply(...., format)

formatC however runs the loop in C code rather than interpreted language,
hence my original proposals :

MM> Some untested proposals for replacement of
MM>         round(100 * probs)
MM> 
MM> 1)  formatC(100*probs, dig=3,                            format='f')
MM> 2)  formatC(100*probs, dig= max(3, .Options$digits - 3), format='f')
MM> 3)  signif(100*probs,       max(3, .Options$digits - 3))
MM> 
MM> or then replace  "max(3, .Options$digits - 3)"
MM> by the new argument  'digits.names'
MM> and have that one default to
MM>         digits.names = max(3, .Options$digits - 3)

which should be corrected...
to something like

	formatC(100 * probs, dig= max(3, .Options$digits), wid=3)

[which is marginally better than Peter's solution...
 HOWEVER, when tested with funny .Options$digits,
 triggered a bug in formatC(.) ....  which I am going to fix now.....
]

- Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Feb 27 18:49:02 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 27 Feb 1998 13:49:02 -0500
Subject: gcc memory requirement
Message-ID: <98Feb27.135843est.13441@mailgate.bank-banque-canada.ca>

Helgi Tomasson send thanks to people who helped get the compiled dse fortran to
work when he did R INSTALL. Some of my test programs reported Error: memory
exhausted (he had not used R -v6 -n250000 as in my test script). He now reports:

>I was getting complaint of virtual memory exhausted.  I never
>understood why but the problem dissapered when I upgrade
>gcc and gcc-g77 from the contributed directory at sunsite.

I'm not sure why this should change the -n and -v memory requirement, but if
anyone knows I would like to hear.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Feb  2 10:49:31 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Feb 1998 11:49:31 +0100
Subject: Summary of mails concerning R help system
In-Reply-To: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at> (message from
 Friedrich Leisch on Thu, 29 Jan 1998 10:17:29 +0100)
Message-ID: <199802021049.LAA27228@sophie.ethz.ch>

>>>>> "FrL" == Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

    FrL> Hi,

    FrL> here's a short summary of all the mails I got concerning the R
    FrL> help system during the last days ... I really want to have all
    FrL> open questions in this list, so if I forgot your most important
    FrL> topic please forgive (and remind me again) ... it's probably only
    FrL> because of lack of time such that I had to compile the list in a
    FrL> hurry ...

	.......

    FrL> 4) Rdconv -t rtf to support the windoze help format ... I
    FrL> definetely don't have time or any motivation to do that, so if
    FrL> somebody wants to do that, he's welcome.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Feb  2 11:00:29 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Feb 1998 12:00:29 +0100
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at> (message from
 Friedrich Leisch on Thu, 29 Jan 1998 10:17:29 +0100)
Message-ID: <199802021100.MAA27285@sophie.ethz.ch>


Excuse everyone my almost empty E-mail !!

>>>>> "FrL" == Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

    FrL> Hi,

    FrL> here's a short summary of all the mails I got concerning the R
    FrL> help system during the last days ... I really want to have all
    FrL> open questions in this list, so if I forgot your most important
    FrL> topic please forgive (and remind me again) ... it's probably only
    FrL> because of lack of time such that I had to compile the list in a
    FrL> hurry ...

	.......

    FrL> 4) Rdconv -t rtf to support the windoze help format ... I
    FrL> definetely don't have time or any motivation to do that, so if
    FrL> somebody wants to do that, he's welcome.

In the  V&R (Venables & Ripley) Online Complements to MASS2,
	[page 3, producing Windows help files]
I've found that they provide a
	troff -> rtf
translation utility ("spwinhlp.zip" )
for S-plus help pages, and then mention the Windows help-compiler for 
producing windows *.hlp files

In principle, one could use this as

	foo.Rd	--->  foo.troff  -->  foo.rtf  --> foo.hlp
		 1		  2		3
 1: Rdconv
 2: spwinhlp
 3: Windows help compiler.

If anyone here (of you R-develers) is willing to do these steps,
I am sure that the CRAN maintainers will glad to include these *.hlp files
in the 'preformatted-help' directories.

However, I agree with Luke Tierney, that also for windows, HTML should be
enough in principle.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Mon Feb  2 12:55:35 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 2 Feb 1998 13:55:35 +0100
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: <199802021100.MAA27285@sophie.ethz.ch>
References: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at>
 <199802021100.MAA27285@sophie.ethz.ch>
Message-ID: <199802021255.NAA02853@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 2 Feb 1998 12:00:29 +0100,
>>>>> Martin Maechler (MM) wrote:

MM> Excuse everyone my almost empty E-mail !!

>>>>> "FrL" =3D=3D Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> wr=
ites:

MM> ...
MM> However, I agree with Luke Tierney, that also for windows, HTML shoul=
d be
MM> enough in principle.

Especially now that I'm finished with supporting short filenames for HTML
conversion :-)

So the next windows version could/should contain all html help files.=20

I will submit this to the current sources in a minute.

Best,
Fritz

--=20
-------------------------------------------------------------------
                        Friedrich  Leisch                            =20
Institut f=FCr Statistik                      Tel: (+43 1) 58801 4541
Technische Universit=E4t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra=DFe 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Feb  2 13:27:20 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Feb 1998 14:27:20 +0100
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: Friedrich Leisch's message of Mon, 2 Feb 1998 13:55:35 +0100
References: <199801290917.KAA25806@galadriel.ci.tuwien.ac.at>
 <199802021100.MAA27285@sophie.ethz.ch>
 <199802021255.NAA02853@galadriel.ci.tuwien.ac.at>
Message-ID: <x2iuqyuog7.fsf@blueberry.kubism.ku.dk>

Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

> MM> However, I agree with Luke Tierney, that also for windows, HTML should be
> MM> enough in principle.
> 
> Especially now that I'm finished with supporting short filenames for HTML
> conversion :-)

Yup. 

There are still two arguments remaining for doing the WinHelp thingie:

- Uniformity with other Windows application (if compiler vendors are
shipping with HTML help, that point may be a bit moot, though.)

- People who don't have the browsers. Getting rare nowadays, I suppose.

Anyways, I found out that an elaborate tex2rtf system is contained in
the wxwin package, so if someone has a couple of spare days (or
weeks), I suspect that it would be rather easy to change it into
rdconv -t rtf. I agree, however, that there's no particular hurry with
this compared to all the other stuff we want to do.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Feb  2 14:42:45 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 02 Feb 1998 08:42:45 -0600
Subject: Installation on SuSE Linux [was Re: Copyrights for R contributed libraries]
In-Reply-To: Christian Hoffmann's message of Mon, 02 Feb 1998 13:55:57 +0100
References: <199802021255.NAA10410@wsl.ch>
Message-ID: <6rd8h6xe3e.fsf@verdi.stat.wisc.edu>

Christian Hoffmann <hoffmann@wsl.ch> writes:

> I just installed the SuSE distribution of Linux (from Fuerth, Germany). I
> would be very interested in learning of a SuSE compatible form of R.
> Installing Linux was expressly made to be able to use R :-)
> 
> SuSE  (suse@suse.de,  http://www.suse.de) is a distribution which is quickly
> gaining users for Linux because of its well thought out smooth tools and
> handbooks, both in English and in German. 

I'm sorry but I don't know anything about installing R on SuSE.  If
SuSE accepts .rpm packages you could try to install those from the
CRAN archive.  It may require a bit of work to get the libraries
consistent with what the .rpm packages require.  The big distinction
is whether your system is based on libc5 or libc6 (also called glibc2
or GNU libc 2.0).  A RedHat-5.0 binary requires libc6.

It is usually fairly easy to install from the original sources.  You
could do that instead of trying to find a binary package.
-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Mon Feb  2 14:44:45 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Mon, 2 Feb 1998 08:44:45 -0600 (CST)
Subject: Summary of mails concerning R help system -- really --
In-Reply-To: <x2iuqyuog7.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Feb 2, 98 02:27:20 pm
Message-ID: <9802021444.AA25205@nokomis.stat.umn.edu>

Peter Dalgaard BSA wrote:
> 
> Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:
> 
> > MM> However, I agree with Luke Tierney, that also for windows, HTML should be
> > MM> enough in principle.
> > 
> > Especially now that I'm finished with supporting short filenames for HTML
> > conversion :-)
> 
> Yup. 
> 
> There are still two arguments remaining for doing the WinHelp thingie:
> 
> - Uniformity with other Windows application (if compiler vendors are
> shipping with HTML help, that point may be a bit moot, though.)
> 

The current Borland and Watcom products both still use WinHelp. But
Microsoft VC++, and I think their entire DevStudio, uses html with
Internet Explorer integrated into their development environments.
What impact, if any, current legal actions will have on this is
anyone's guess.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From efh@nessie.mcc.ac.uk  Mon Feb  2 15:38:31 1998
From: efh@nessie.mcc.ac.uk (Ted Harding)
Date: Mon, 02 Feb 1998 15:38:31 -0000 (GMT)
Subject: Installation on SuSE Linux [was Re: Copyrights for R contrib
In-Reply-To: <6rd8h6xe3e.fsf@verdi.stat.wisc.edu>
Message-ID: <XFMail.980202153831.Ted.Harding@nessie.mcc.ac.uk>

On 02-Feb-98 Douglas Bates wrote:
> Christian Hoffmann <hoffmann@wsl.ch> writes:
> 
>> I just installed the SuSE distribution of Linux (from Fuerth, Germany). I
>> would be very interested in learning of a SuSE compatible form of R.
>> Installing Linux was expressly made to be able to use R :-)
> 
> I'm sorry but I don't know anything about installing R on SuSE.  If
> SuSE accepts .rpm packages you could try to install those from the
> CRAN archive.  It may require a bit of work to get the libraries
> consistent with what the .rpm packages require.  The big distinction
> is whether your system is based on libc5 or libc6 (also called glibc2
> or GNU libc 2.0).  A RedHat-5.0 binary requires libc6.

S.u.S.E. Linux uses RPM as its basic installation engine. As to libc5/6,
I quote from the documentation in the S.u.S.E.-5.1 distribution:

  This is the beta release of the Linux C library 5.4.33.

  Due to the new, improved locale, the Linux C library 5.4.33 is binary
  compatible with libc 5.3.12 but not vice versa. The binaries
  compiled/linked with libc.so.5.4.33 may not run with libc.so.5.3.12.
  You may need to regenerate locale files for the new locale in libc
  5.4.33 if you use locales other tha C/POSIX which are the defaults.

I'm not sure where this leaves installation of R (which I have not tried on
S.u.S.E.-5.1 yet, since I only upgraded yesterday), but I hope this info is
useful.

Best wishes to all,
Ted.

--------------------------------------------------------------------
E-Mail: Ted Harding <Ted.Harding@nessie.mcc.ac.uk>
Date: 02-Feb-98                                       Time: 15:38:31
--------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Mon Feb  2 17:26:07 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 2 Feb 1998 18:26:07 +0100
Subject: R-beta: Submissions to CRAN
In-Reply-To: <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at>
 <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
Message-ID: <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 30 Jan 1998 11:38:07 -0800 (PST),
>>>>> Thomas Lumley (TL) wrote:

TL> On Fri, 30 Jan 1998, Friedrich Leisch wrote:
>> **********************************************************
>> 
>> Package: e1071
>> Version: 0.7-3
>> Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
>> Description: Miscellaneous functions used at the Department of
>> Statistics at TU Wien (E1071). 
>> Copyright: GPL
>> 
>> **********************************************************
>> 

>> 
>> PLEASE MAKE SURE TO INCLUDE A COPYRIGHT LINE IN THE DESCRIPTION!!!
>> 

TL> I think we should be more careful to distinguish between copyright and
TL> licensing conditions (eg R is copyright Ross & Robert, and licensed GPL, 
TL> survival4 is copyrighted by the Mayo Foundation and licensed for free
TL> distribution and use without modification). 

Ooops ... sorry but English is not my mother tongue ... and my
knowledge is probably better suited to ordering a beer in a 
pub than to legal matters :-) ... so please excuse the confusion ...

Of course I want license information, not copyright information ...

So is it ok if we change the above to something like

**********************************************************

Package: e1071
Version: 0.7-3
Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
Description: Miscellaneous functions used at the Department of
Statistics at TU Wien (E1071). 
License: GPL

**********************************************************


or is it better if we use the keyword `Copying'?

I also want to complile a list of known Licenses:

	GPL
	BSD
	Artistic

These (and similar ones) are what Debian considers `free'.

How should we treat the rest? Providing some more keywords or have
people explain it in detail in the DESCRIPTION file?


Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Feb  2 19:37:32 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 02 Feb 1998 13:37:32 -0600
Subject: Licenses on Submissions to CRAN
In-Reply-To: Friedrich Leisch's message of Mon, 2 Feb 1998 18:26:07 +0100
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at> 	<Pine.SUN.3.95.980130113536.17212B-100000@chekov> <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>
Message-ID: <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu>

Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

> So is it ok if we change the above to something like
> 
> **********************************************************
> 
> Package: e1071
> Version: 0.7-3
> Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
> Description: Miscellaneous functions used at the Department of
> Statistics at TU Wien (E1071). 
> License: GPL
> 
> **********************************************************

I hate to be picky but I think it would be better to have it a bit
more complete as in 

License: GPL version 2 or later

> or is it better if we use the keyword `Copying'?

I think License is better than Copying.

> I also want to complile a list of known Licenses:
> 
> 	GPL
> 	BSD
> 	Artistic
> 
> These (and similar ones) are what Debian considers `free'.


> How should we treat the rest? Providing some more keywords or have
> people explain it in detail in the DESCRIPTION file?

We might use a general phrase followed by a reference to the
DESCRIPTION file.  For example

License: Free for non-commercial use.  See the file DESCRIPTION for details.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Feb  3 08:03:13 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 3 Feb 1998 09:03:13 +0100
Subject: Licenses on Submissions to CRAN
In-Reply-To: <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu>
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at>
 <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
 <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>
 <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu>
Message-ID: <199802030803.JAA12957@galadriel.ci.tuwien.ac.at>

>>>>> On 02 Feb 1998 13:37:32 -0600,
>>>>> Douglas Bates (DB) wrote:

DB> Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:
>> So is it ok if we change the above to something like
>> 
>> **********************************************************
>> 
>> Package: e1071
>> Version: 0.7-3
>> Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
>> Description: Miscellaneous functions used at the Department of
>> Statistics at TU Wien (E1071). 
>> License: GPL
>> 
>> **********************************************************

DB> I hate to be picky ...

Better than being sloppy like me :-)

DB> but I think it would be better to have it a bit
DB> more complete as in 

DB> License: GPL version 2 or later

Ok

>> or is it better if we use the keyword `Copying'?

DB> I think License is better than Copying.

Ok


>> I also want to complile a list of known Licenses:
>> 
>> GPL
>> BSD
>> Artistic
>> 
>> These (and similar ones) are what Debian considers `free'.


>> How should we treat the rest? Providing some more keywords or have
>> people explain it in detail in the DESCRIPTION file?

DB> We might use a general phrase followed by a reference to the
DB> DESCRIPTION file.  For example

DB> License: Free for non-commercial use.  See the file DESCRIPTION for details.


Well, now I hate to be picky ... but that is a neverending loop
... the License statement is in the file DESCRIPTION ... so we'll
change that to

  License: Free for non-commercial use.  See the file COPYING for details


Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Andreas.Weingessel@ci.tuwien.ac.at  Tue Feb  3 08:10:42 1998
From: Andreas.Weingessel@ci.tuwien.ac.at (Andreas Weingessel)
Date: Tue, 3 Feb 1998 09:10:42 +0100
Subject: linear models
Message-ID: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>


How can I use linear model regression for more than 1 dependent (response=
)
variable?

In S it is possible to do something like
S> x<-matrix(rnorm(300),100,3)
S> lm(x[,1:2]~x[,3])
to get

----------------------------------------------------------------------

Response: Y1=20
Call:
lm(formula =3D x[, 1:2] ~ x[, 3])

Coefficients:
 (Intercept)     x[, 3]=20
  0.02778965 -0.1081179

Degrees of freedom: 100 total; 98 residual
Residual standard error: 0.8294969=20

Response: Y2=20
Call:
lm(formula =3D x[, 1:2] ~ x[, 3])

Coefficients:
 (Intercept)     x[, 3]=20
  0.08045632 -0.1815675

Degrees of freedom: 100 total; 98 residual
Residual standard error: 1.081359=20

----------------------------------------------------------------------

This is not possible in R:

R> x<-matrix(rnorm(300),100,3)
R> lm(x[,1:2]~x[,3])
Error: dimnames: number of dimensions must equal number of names


	Andreas

************************************************************************
*                          Andreas Weingessel                          *
************************************************************************
* Institut f=FCr Statistik      *                Tel: (+43 1) 58801 4541 =
*
* Technische Universit=E4t Wien *                Fax: (+43 1)  504 14 98 =
*
* Wiedner Hauptstr. 8-10/1071 *     Andreas.Weingessel@ci.tuwien.ac.at *
* A-1040 Wien, Austria        * http://www.ci.tuwien.ac.at/~weingessel *
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Feb  3 10:49:54 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 3 Feb 1998 11:49:54 +0100
Subject: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
Message-ID: <199802031049.LAA00411@sophie.ethz.ch>

I have been implementing a proposal of Jim Lindsey for  glm(.)
to return AIC values, and
print.glm(.) and print.summary.glm(.)  printing them....
however:

>>>>> "Jim" == Jim Lindsey <jlindsey@luc.ac.be> writes:

    Jim> The problem still remains of getting the correct AIC when the user
    Jim> wants the scale parameter to be fixed. (The calculation should use
    Jim> the fixed, supplied value, instead of estimating it from the
    Jim> deviance.) As I mentioned earlier, the problem is that this is
    Jim> specified in summary, after the AIC has already been
    Jim> calculated. Would it not be possible to add an option in glm
    Jim> itself, allowing the scale parameter to be specified there?
    Jim> Otherwise, the AIC should in fact be recalculated every time
    Jim> summary is called.
Yes, I think that's what should really happen.

For binomial and poisson,
there are even three possibilities:
	
	1. no dispersion (as by the proper GLM)
	2. overdispersion estimated by the deviance (ratio)
	3. overdispersion specified by the user

S has adopted the concept that the glm(.) model is always the same,
the dispersion being an orthogonal nuisance parameter,
which the user should specify in
	summary(....) , i.e.,
	summary.glm(object, dispersion = NULL, correlation=FALSE, ..)
			    ^^^^^^^^^^^^^^^^^
[but wouldn't the dispersion also be used in predict.glm(..., se = TRUE) ?].

As a consequence, glm(.) wouldn't (and shouldn't ??) have a
	`dispersion = ' argument,
and  print.glm(.) maybe also shouldn't print the AIC

BTW, V&R's  MASS library contains the following functions
 > apropos("[Aa][Ii][Cc]")
 [1] "extractAIC"         "extractAIC.aov"     "extractAIC.coxph"  
 [4] "extractAIC.glm"     "extractAIC.lm"      "extractAIC.negbin" 
 [7] "extractAIC.survreg" "stepAIC"           

where   "stepAIC" is the main function, calling the generic  "extractAIC"
					(and one of its methods).
Maybe we should try look adopt what they've done.
(haven't looked at it really).
-------

Opinions, proposals, please ?

Martin Maechler <maechler@stat.math.ethz.ch>			<><
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 14:39:34 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 09:39:34 -0500
Subject: Licenses on Submissions to CRAN
References: <199801301322.OAA06285@galadriel.ci.tuwien.ac.at>
 <Pine.SUN.3.95.980130113536.17212B-100000@chekov>
 <199802021726.SAA12466@galadriel.ci.tuwien.ac.at>
 <6ru3ahx0g3.fsf_-_@verdi.stat.wisc.edu> <199802030803.JAA12957@galadriel.ci.tuwien.ac.at>
Message-ID: <98Feb3.095516est.13441@mailgate.bank-banque-canada.ca>

>change that to
>  License: Free for non-commercial use.  See the file COPYING for details

Although it doesn't really matter, you might want to use LICENSE or COPYRIGHT
instead of COPYING for the file name. That way people are more likely to know
what it is without seeing the description. (note: LICENSE is 8.3 compliant.
COPYRIGHT is not.)

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb  3 15:50:18 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 03 Feb 1998 09:50:18 -0600
Subject: netcdf
Message-ID: <6rk9bclmbp.fsf@verdi.stat.wisc.edu>

Has anyone experimented with the Network Common Data Format (netcdf)
described at
        http://www.unidata.ucar.edu/packages/netcdf
for archiving data?

Is this format widely used outside of atmospheric research?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Tue Feb  3 16:14:13 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Tue, 3 Feb 1998 10:14:13 -0600 (CST)
Subject: netcdf
In-Reply-To: <6rk9bclmbp.fsf@verdi.stat.wisc.edu> from "Douglas Bates" at Feb 3, 98 09:50:18 am
Message-ID: <9802031614.AA08758@nokomis.stat.umn.edu>

Douglas Bates wrote:
> 
> Has anyone experimented with the Network Common Data Format (netcdf)
> described at
>         http://www.unidata.ucar.edu/packages/netcdf
> for archiving data?
> 
> Is this format widely used outside of atmospheric research?

I think Sigbrt Klinke has added support for it to Xplore. Looking into
NetCDF/CDF/HDF is on my list to do fairly soon for xlispstat but I
haven't gotten to it yet. My impression is that these are used a fair
bit in the "scientific visualization" community, but I need to explore
this further.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Tue Feb  3 16:56:22 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Tue, 3 Feb 1998 08:56:22 -0800 (PST)
Subject: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
In-Reply-To: <199802031049.LAA00411@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980203085427.9015D-100000@chekov>

On Tue, 3 Feb 1998, Martin Maechler wrote:

> I have been implementing a proposal of Jim Lindsey for  glm(.)
> to return AIC values, and
> print.glm(.) and print.summary.glm(.)  printing them....
> however:
<snip>
> 
> For binomial and poisson,
> there are even three possibilities:
> 	
> 	1. no dispersion (as by the proper GLM)
> 	2. overdispersion estimated by the deviance (ratio)
> 	3. overdispersion specified by the user
> 

How about overdispersion as estimated by the mean squared Pearson
residual. Unlike the deviance estimate this works for quasilikelihood (ie
when only first two moments are specified correctly), at least according
to McCullagh & Nelder.


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 18:20:48 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 13:20:48 -0500
Subject: Another Rdse question
References: <9802031217.ZM19548@tor056.fi.gs.com>
Message-ID: <98Feb3.133635est.13441@mailgate.bank-banque-canada.ca>

>Error in .Fortran("arma", pred = matrix(1e+20, predictT, p),
>as.integer(length(error.weights)),  : C/Fortran function not in load table

I think what is happening is that the compiled code is not getting loaded. There
was a message the other day on r-devel about a bug in library.dynam which may be
causing the problem. I've lost the message, but as I recall (someone please
correct me if I'm wrong), if you save your workspace when you q() (ie. create
the .RData file) then when it is reloads it loads a variable .Dyn.libs which
indicates libraries which have been loaded (even though they are not yet loaded
in the new session). I think if you
    rm(.Dyn.libs)
before you do
    library("dse")
then it may work.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Tue Feb  3 18:43:38 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 4 Feb 1998 07:43:38 +1300 (NZDT)
Subject: netcdf
Message-ID: <199802031843.HAA06468@stat1.stat.auckland.ac.nz>

> Luke Tierney wrote:
> Douglas Bates wrote:
> > 
> > Has anyone experimented with the Network Common Data Format (netcdf)
> > described at
> >         http://www.unidata.ucar.edu/packages/netcdf
> > for archiving data?
> > 
> > Is this format widely used outside of atmospheric research?
>
> I think Sigbrt Klinke has added support for it to Xplore. Looking into
> NetCDF/CDF/HDF is on my list to do fairly soon for xlispstat but I
> haven't gotten to it yet. My impression is that these are used a fair
> bit in the "scientific visualization" community, but I need to explore
> this further.

By coincidence I just picked up a copy of netcdf last night.  I'm going
to have a look at GMT, particularly the map data base.  NSF funded a big
cleanup of the freely available maps as part of GMT developement.
The maps are in a NetCDF database ...

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 18:45:31 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 13:45:31 -0500
Subject: netcdf
References: <9802031614.AA08758@nokomis.stat.umn.edu>
Message-ID: <98Feb3.140112est.13449@mailgate.bank-banque-canada.ca>

> Has anyone experimented with the Network Common Data Format (netcdf)
> described at
>         http://www.unidata.ucar.edu/packages/netcdf
> for archiving data?

If anyone gets around to looking at this and would like to compare it with the
UN/EDIFACT Generic Statistical Message (GESMES), I sure would appreciate a
summary.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb  3 20:37:38 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 3 Feb 1998 15:37:38 -0500
Subject: fortran Makefile
Message-ID: <98Feb3.155327est.13444@mailgate.bank-banque-canada.ca>

My library uses compiled code which I converted from fortran to C with f2c. I
put copies of the same Makefile in the both dse/src and dse/src-c. (I'm not sure
why, but I niavely assumed the same Makefile might work.) Now, I haven't tried
the fortran version with R. But of course the first person (as far as I know) to
actually try and use the package defaulted to compiling the fortran directly
(using R INSTALL). I assume this is something that gets set by configure, but
I'm not sure. What should be in the Makefile for the fortran, or should I not
have any Makefile in the src directory? The src-c/Makefile is

LIBNAME=dse
LD=ld
OBJS= dsefor.o
all: $(LIBNAME).so message
$(LIBNAME).so: $(OBJS)
      $(LD) $(SHLIBLDFLAGS) -o $@ $(OBJS)
clean:
      @rm -f *.o *.so

Below is a copy of an email with the errors from the attempted fortran compile,
and a manual way to compile, but I'm not sure how much of that should be done in
the Makefile and how much is done by configure.

Paul Gilbert
___________
Thanks a lot for providing dse for R. I installed it under Linux. The 'usual'
installation fails as your Rdse/dse/src/Makefile uses implicit rules quite a
bit. It calls g77 first as the compiler. However, each of g77 5.0.19, 5.0.20
and 5.0.21 failed on dsefor.f, mostly with errors of the following type:

dsefor.f:283:
         SUBROUTINE KFP(EY, HPERR, PREDERR, ERRWT,
                    1
dsefor.f:1695: (continued):
                     CALL KFP(F2, HPERR,PREDERR, ERRWT,
                          2
Argument #18 (named `r') of `kfp' is one type at (2) but is some other type at
(1) [info -f
g77 M GLOBALS]
However, it works fine with a manual
        fort77 -c -O2 -fPIC dsefor.f
        gcc -shared -o dse.so dsefor.o



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Feb  4 11:26:00 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 4 Feb 1998 12:26:00 +0100
Subject: [J.Lindsey: Re: glm(.) / summary.glm(.); [over]dispersion and returning AIC..]
Message-ID: <199802041126.MAA02543@sophie.ethz.ch>

--Multipart_Wed_Feb__4_12:25:40_1998-1
Content-Type: text/plain; charset=US-ASCII


Jim, I am relating your message to R-devel.

This should be discussed in a broader audience; 
I am not an expert on GLM's, I know you are
and others on this group also...

R-develers, please CC to Jim Lindsey (on this topic), since he hasn't
been part of the R-devel list for a while..

BTW: I will be gone to the snowy mountains,
      for two weeks by end of Friday....
- Martin


--Multipart_Wed_Feb__4_12:25:40_1998-1
Content-Type: message/rfc822

Return-Path: jlindsey@luc.ac.be
From: Jim Lindsey <jlindsey@luc.ac.be>
Subject: Re: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
To: maechler@stat.math.ethz.ch
Date: Wed, 4 Feb 1998 10:15:50 +0100 (MET)
In-Reply-To: <199802031049.LAA00411@sophie.ethz.ch> from "Martin Maechler" at Feb 3, 98 11:49:54 am

> 
> For binomial and poisson,
> there are even three possibilities:
> 	
> 	1. no dispersion (as by the proper GLM)
> 	2. overdispersion estimated by the deviance (ratio)
> 	3. overdispersion specified by the user

None of these except the first give true AICs. Hence, the AIC for
these models is always correct and should not be touched.

> 
> S has adopted the concept that the glm(.) model is always the same,
> the dispersion being an orthogonal nuisance parameter,
> which the user should specify in
> 	summary(....) , i.e.,
> 	summary.glm(object, dispersion = NULL, correlation=FALSE, ..)
> 			    ^^^^^^^^^^^^^^^^^

But in fact it is unity for binomial and poisson so some action must
be taken in summary. The orthogonality is a characteristic of
exponential dispersion models.

> [but wouldn't the dispersion also be used in predict.glm(..., se = TRUE) ?].
> 

Dispersion does not affect predictions, only their precision.

> As a consequence, glm(.) wouldn't (and shouldn't ??) have a
> 	`dispersion = ' argument,

Agreed. Basically, I was lazy in implementing the AIC and did not try
to pass the function to summary, only the calculated value.

> and  print.glm(.) maybe also shouldn't print the AIC
> 

I think it should, because it is always correct for the best model, ie
that using the estimated dispersion parameter. The AIC for a fixed
value of the dispersion parameter will always be poorer (except for
the penalty of 2 perhaps).

> BTW, V&R's  MASS library contains the following functions
>  > apropos("[Aa][Ii][Cc]")
>  [1] "extractAIC"         "extractAIC.aov"     "extractAIC.coxph"  
>  [4] "extractAIC.glm"     "extractAIC.lm"      "extractAIC.negbin" 
>  [7] "extractAIC.survreg" "stepAIC"           
> 
> where   "stepAIC" is the main function, calling the generic  "extractAIC"
> 					(and one of its methods).
> Maybe we should try look adopt what they've done.
> (haven't looked at it really).

I don't think the AIC should need to be extracted. It should always be
available. I think it is much more fundamental than z statistics or P-values.
Jim


--Multipart_Wed_Feb__4_12:25:40_1998-1--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Feb  4 16:00:16 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 4 Feb 1998 17:00:16 +0100
Subject: glm(.) / summary.glm(.); [over]dispersion and returning AIC..
In-Reply-To: <9802040915.AA22734@alpha.luc.ac.be> (message from Jim Lindsey on
 Wed, 4 Feb 1998 10:15:50 +0100 (MET))
Message-ID: <199802041600.RAA02976@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey@luc.ac.be> writes:

  MM>> S has adopted the concept that the glm(.) model is always the same,
  MM>> the dispersion being an orthogonal nuisance parameter,
  MM>> which the user should specify in
  MM>> 	summary(....) , i.e.,
  MM>> 	summary.glm(object, dispersion = NULL, correlation=FALSE, ..)
  MM>> 			    ^^^^^^^^^^^^^^^^^

    Jim> But in fact it is unity for binomial and poisson so some action must
    Jim> be taken in summary. The orthogonality is a characteristic of
    Jim> exponential dispersion models.
Sure; the above meant:  
	-  dispersion  *is* an optional parameter to  summary.glm(.).
	-  it has a default depending on the model fitted (e.g. =1 for binomial)
	-  if the user specifies a different value, that one is used ...

  MM>> [but wouldn't the dispersion also be used in predict.glm(..., se=TRUE) ?]

    Jim> Dispersion does not affect predictions, only their precision.

Exactly, and the point is that ``predict( ... , se = TRUE )
						^^^^^^^^^^
			asks for 'standard errors' !
 it is short for  'se.fit' and actually
 not (yet) available in R, but in S-plus  predict.lm & predict.glm.

The question remains (actually an S-plus only question for the current R):

  How to get standard errors for predicted values
  WITH user-specified / non-standard estimated dispersion value?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Feb  5 09:49:46 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 5 Feb 1998 10:49:46 +0100
Subject: linear models
In-Reply-To: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>
References: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>
Message-ID: <199802050949.KAA00669@pc25.none>

>>>>> Andreas Weingessel writes:

> How can I use linear model regression for more than 1 dependent (response)
> variable?

> In S it is possible to do something like
S> x<-matrix(rnorm(300),100,3)
S> lm(x[,1:2]~x[,3])
> to get

The problem is the final line

	dimnames(z$effects)[1] <- list(NULL)

in the multivariate version of lm.fit().

I think this used to work for some time, but now does neither in 0.61.1
nor in 0.62.

Could we replace the line by

	rownames(z$effects) <- NULL

?

-k

	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Feb  5 17:05:11 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 5 Feb 1998 18:05:11 +0100
Subject: linear models
In-Reply-To: <199802050949.KAA00669@pc25.none>
References: <199802030810.JAA12226@elendil.ci.tuwien.ac.at>
 <199802050949.KAA00669@pc25.none>
Message-ID: <199802051705.SAA18856@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 5 Feb 1998 10:49:46 +0100,
>>>>> Kurt Hornik (KH) wrote:

>>>>> Andreas Weingessel writes:
>> How can I use linear model regression for more than 1 dependent (response)
>> variable?

>> In S it is possible to do something like
S> x<-matrix(rnorm(300),100,3)
S> lm(x[,1:2]~x[,3])
>> to get

KH> The problem is the final line

KH> 	dimnames(z$effects)[1] <- list(NULL)

KH> in the multivariate version of lm.fit().

KH> I think this used to work for some time, but now does neither in 0.61.1
KH> nor in 0.62.

KH> Could we replace the line by

KH> 	rownames(z$effects) <- NULL

KH> ?

As it seems to work I've committed the change.

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb 10 18:01:22 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 10 Feb 1998 13:01:22 -0500
Subject: Makefiles
References: <Pine.SUN.3.95.980115094935.10831A-100000@paca>
 <Pine.SUN.3.95.980115083356.18298B-100000@chekov>
 <199802101414.PAA08591@wrin27.urz.uni-wuppertal.de>
 <x2afbzfrlz.fsf@blueberry.kubism.ku.dk> <199802101554.QAA09176@wrin27.urz.uni-wuppertal.de>
Message-ID: <98Feb10.130235est.13441@mailgate.bank-banque-canada.ca>

While on the subject of makefiles, I have discovered a few problems:

If a package directory has a src subdirectory with fortran code and a makefile,
and a fortran compiler is available, I think R INSTALL tries to use this rather
than the src-c directory. Is this the generally preferred stategy? Currently g77
seems to have a bug and my fortran code does not compile.  If I were to just
include the fortran code for reference, but not expect anyone to compile it, is
the best way to put it in src-c, or should I put it in src and not put a
Makefile there?

I previously reported that my compiled C code does not find pow_ii and was led
to believe this is a routine in the f2c lib which I need to include in some way.
However, prompted by the above problem, I experimented with compliing using the
Solaris SunPro fortran compiler. Now I don't find __pow_ii and __pow_ri unless I
"hard code" the location of libF77 and libM77 into the .so file using -L. R
INSTALL doesn't do this. I'm not sure how this should be fixed. Also, I would
appreciate it if someone could explain whether it should be my .so file or
R.binary that resolves these references.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Feb 12 16:06:15 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 12 Feb 1998 17:06:15 +0100
Subject: Submissions to CRAN
Message-ID: <199802121606.RAA15350@galadriel.ci.tuwien.ac.at>


Hi again,

a fortnight ago I've sent an email concerning the package format for
submissions to CRAN ... it turned out that

	a) my english wasn't good enough and
	b) I hadn't given it enough thought :-)

Anyway, after some discussion here on this list (and some direct
emails) here is a new proposal summing everything up:

Every package should contain a file called DESCRIPTION in the top
directory (the one containing the R, man, src, ... dirs) looking like:

Package: e1071
Version: 0.7-3
Author: Compiled by Fritz Leisch <Friedrich.Leisch@ci.tuwien.ac.at>.
Description: Miscellaneous functions used at the Department of
        Statistics at TU Wien (E1071). 
Depends:
License: GPL version 2 or later



I've changed `Copyright' to `License'. This field should contain a
general phrase or well-known abbreviation, maybe  followed by a
reference to the actual License file.

Examples:

License: GPL version 2 or later

License: Free for non-commercial use, see the file COPYRIGHT for details


Is this OK with everybody?


**********************************************************

The second thing is, if we want to have a single tar ball for each
package, or if one tar ball can contain several (closely related)
packages (like the dse tar file currently in CRAN/src/contrib/devel)

I'm not sure ... (first I said `No!', than Paul said `Why?' and I had no
good answer so I said `Don't know') ... any preferences?



Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Feb 12 16:47:58 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Feb 1998 11:47:58 -0500
Subject: Submissions to CRAN
References: <199802121606.RAA15350@galadriel.ci.tuwien.ac.at>
Message-ID: <98Feb12.115202est.13447@mailgate.bank-banque-canada.ca>

>The second thing is, if we want to have a single tar ball for each
>package, or if one tar ball can contain several (closely related)
>packages (like the dse tar file currently in CRAN/src/contrib/devel)

"Closely related" does not totally capture the flavour of my problem. The only
reason a few of the packages are not together as one is because, at one time, I
was not able to load the libraries in R that way. (I don't know if anything has
changed recently to fix that. I suppose I should check it.) To make it easy for
someone to install I would like to put everything together, if this does not
complicate other things too much.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Andreas.Weingessel@ci.tuwien.ac.at  Fri Feb 13 14:18:26 1998
From: Andreas.Weingessel@ci.tuwien.ac.at (Andreas Weingessel)
Date: Fri, 13 Feb 1998 15:18:26 +0100
Subject: R/S differences
Message-ID: <199802131418.PAA01441@elendil.ci.tuwien.ac.at>


I noted the following R/S differences:


*) read.table behaves differently when determining the rownames. If
row.names is not given, S+ uses the first nonnumeric field with no
duplicates as the row names, whereas R uses 1:n as rownames in this case.

*) In S+ it is possible to sum over the lines of a data.frame. The
behavior of R might be more accurate in that situation, since a
data.frame is a list, but this causes problems, if one wants to use
code written for S+ in R.

S> aa<-data.frame(matrix(1:4,nrow=3D1))
S> sum(aa)
[1] 10

R> aa<-data.frame(matrix(1:4,nrow=3D1))
R> sum(aa)
Error in sum(..., na.rm =3D na.rm) : invalid argument type

*) The as.vector argument removes the vector names in S+. I do not
think that this difference can cause any problems, but I report it
just for completeness.

R> aa<-1:3
R> names(aa)<-letters[1:3]
R> as.vector(aa)
a b c=20
1 2 3=20
R> names(as.vector(aa))
[1] "a" "b" "c"

S> aa<-1:3
S> names(aa)<-letters[1:3]
S> as.vector(aa)
[1] 1 2 3
S> names(as.vector(aa))
NULL


As a final question. Does anyone know whether there is code for
nnls.fit (Linear least-squares fit with coefficients constrained to be
nonnegative.) available for R?

Thanks,
	Andreas

************************************************************************
*                          Andreas Weingessel                          *
************************************************************************
* Institut f=FCr Statistik      *                Tel: (+43 1) 58801 4541 =
*
* Technische Universit=E4t Wien *                Fax: (+43 1)  504 14 98 =
*
* Wiedner Hauptstr. 8-10/1071 *     Andreas.Weingessel@ci.tuwien.ac.at *
* A-1040 Wien, Austria        * http://www.ci.tuwien.ac.at/~weingessel *
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Feb 16 19:36:32 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Mon, 16 Feb 1998 13:36:32 -0600 (CST)
Subject: R listing on SAL
Message-ID: <m0y4WLA-0000ZpC@verdi.stat.wisc.edu>

SAL is the directory of Scientific Applications on Linux.  It is
rather well done, I think.  There is an entry for R
		http://SAL.KachinaTech.COM/F/1/R.html 
that mentions the Debian package but does not mention the RedHat
package.  I submitted a user-feedback comment to tell them about the
RedHat packages and give the address of the CRAN archives.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Feb 16 19:52:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Feb 1998 20:52:25 +0100
Subject: R listing on SAL
In-Reply-To: Douglas Bates's message of Mon, 16 Feb 1998 13:36:32 -0600 (CST)
References: <m0y4WLA-0000ZpC@verdi.stat.wisc.edu>
Message-ID: <x290rbuy2u.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates@stat.wisc.edu> writes:

> package.  I submitted a user-feedback comment to tell them about the
> RedHat packages and give the address of the CRAN archives.

They seem to have the FAQ and CRAN now, but the version is set at 0.49
and RPM is set as "no"... 

Hmm. On the other hand, there are no *official* RedHat packages, and
maybe they won't take unofficial ones?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Tue Feb 17 01:53:56 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 17 Feb 1998 14:53:56 +1300 (NZDT)
Subject: "tck" parameter
Message-ID: <199802170153.OAA25252@stat1.stat.auckland.ac.nz>

I have been making some changes to the axis drawing code which will
allow users to use par(tck=...) to produce grid lines and tick marks
which go into a plot rather than pointing outwards.

I don't particularly like the strategy that S uses for determining
tick mark size so I have introduces an alternative mechanism as well.
There is now a new "par" parameter called "tcl" (appologies to John
Ousterhout for this) which lets a user specify the tick length as
a fraction of the height of a standard sized line.

The default is to use par(tcl=-0.5) which gives the present look.

I don't like introducing a new "par" value, but there seems to be
no other way to resolve the fixed vs variable-sized tick mark needs.
If anyone has a better solution, I'd be happy to consider it.
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb 17 17:30:42 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Tue, 17 Feb 1998 11:30:42 -0600 (CST)
Subject: unique(NULL)
Message-ID: <m0y4qqw-0000XAC@verdi.stat.wisc.edu>

I spent a while chasing this one down!

In S
 S> unique(NULL)
 NULL
whereas in R (both 0.61.1 and yesterday's 0.62-snapshot)
 > unique(NULL)
 Error: duplicated applies only to vectors

I think I prefer the behaviour in S.

Although there is code in the do_duplicated function in
		       $RHOME/src/main/unique.c
to handle the case of zero-length vectors it appears that the check
for isVector(x) immediately before that is what is causing the
problem.

Would it be as simple as changing the check on
 if (!isVector(x))
to
 if (!(isVector(x) || isNull(x)))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb 17 22:17:17 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Tue, 17 Feb 1998 16:17:17 -0600 (CST)
Subject: a very preliminary lme for R
Message-ID: <m0y4vKH-0000XAC@verdi.stat.wisc.edu>

Jose and I have a version of the lme (linear mixed effects) library
that is known to work with at least one example on at least one
version of R on at least one computer so that means it is time to
upload to CRAN, right?

In the near future a file lme_2.8-0.tar.gz will appear in the
src/contrib/devel area under CRAN.  Please remember this is a snapshot
of the development version.  We know there are things that don't work
with it under R (like all the trellis-based graphics, for example) but
it does currently work in R to the extent that it will fit
mixed-effects models using maximum likelihood or restricted maximum
likelihood (REML), including nested models.

The documentation is, shall we say, "sketchy".  It is more than
non-existent but not much more.  In other words this release is for
the brave early adopter who doesn't mind reading the source code to
figure out how the damn thing works.

If you do pick it up you may find it helpful to look at some recent
presentations we have given on the design of the library.  These are
available at
		 http://franz.stat.wisc.edu/pub/NLME/
right beside one of the CRAN archive sites
		 http://franz.stat.wisc.edu/pub/CRAN/
A paper on the computational methods used in this version of the
library will appear there "real soon".

Features of the library include:
 - use of a "groupedData" class that extends the data.frame class to
   describe relationships amoung the variables and the grouping of the
   observations. 
 - multiple levels of grouping in the data and nested random effects
   in the models.
 - summarization of data according to grouping of the observations via 
   the gsummary function (don't know if this works in R yet).
 - trellis-based plots of data and fitted models and derived
   quantities (definitely doesn't work in R yet)
 - much more stable computational methods, selection of starting
   values, etc. for fitting linear mixed-effects models
 - maximum likelihood or restricted maximum likelihood estimation
   criteria

Our interest in putting this up is to get feedback.  Please be gentle.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Feb 24 18:05:48 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 24 Feb 1998 13:05:48 -0500
Subject: dse+linux
References: <199802241645.QAA29793@hengill.rhi.hi.is>
Message-ID: <98Feb24.131355est.13447@mailgate.bank-banque-canada.ca>

Does anyone recogize the following problem which was just reported to me?

Paul Gilbert
________

I am trying to install dse on linux redhat 4.2 when I do

  R INSTALL dse     rlibs
I get the following

 R INSTALL dse     rlibs
Installing package `dse' ...
libs
gcc -g -fpic -I/usr/local/R-0.61/include   -c dsefor.c -o dsefor.o
/tmp/cca02533.i:1: numeric constant with no digits
/tmp/cca02533.i:1: numeric constant with no digits
/tmp/cca02533.i:1: invalid #line
/tmp/cca02533.i:7: numeric constant with no digits
/tmp/cca02533.i:7: numeric constant with no digits
/tmp/cca02533.i:7: invalid #line
/tmp/cca02533.i:21: parse error at null character
/tmp/cca02533.i:21: virtual memory exhausted
make: *** [dsefor.o] Error 1
cp: src-c/*.so: No such file or directory
R
data
DONE

Is there something wrong with my gcc or is there some
option missing somewhere?

Sincerely yours
Helgi Tomasson




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Tue Feb 24 18:10:49 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 24 Feb 1998 12:10:49 -0600
Subject: Representation of data in libraries
In-Reply-To: Ralf Goertz's message of Tue, 24 Feb 1998 18:02:29 +0100
Message-ID: <6rhg5ox49i.fsf@verdi.stat.wisc.edu>

At present the example data sets in R libraries are to be given as
expressions that can be read directly into R.  For example, the acid.R 
file in the main library looks like
 acid <- data.frame(
  carb  = c(0.1, 0.3, 0.5, 0.6, 0.7, 0.9),
  optden = c(0.086, 0.269, 0.446, 0.538, 0.626, 0.782), row.names = paste(1:6))

This is great when you have only a few observations.  I have one
example data set with over 9000 rows and 17 variables.  Even when I
set -v 40, I exhaust the available memory trying to read it in as a
data.frame.  I believe this is because of the recursive nature of the
parsing of data objects.

Are there alternatives that would cause less memory usage?  In
S/S-PLUS the data.dump/data.restore functions use a portable
representation that can be parsed without exponential memory growth.
-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Tue Feb 24 21:16:22 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Tue, 24 Feb 1998 13:16:22 -0800 (PST)
Subject: Representation of data in libraries
In-Reply-To: <6rhg5ox49i.fsf@verdi.stat.wisc.edu>
Message-ID: <Pine.SUN.3.95.980224131029.23525A-100000@chekov>

On 24 Feb 1998, Douglas Bates wrote:

> At present the example data sets in R libraries are to be given as
> expressions that can be read directly into R.  For example, the acid.R 
> file in the main library looks like
>  acid <- data.frame(
>   carb  = c(0.1, 0.3, 0.5, 0.6, 0.7, 0.9),
>   optden = c(0.086, 0.269, 0.446, 0.538, 0.626, 0.782), row.names = paste(1:6))
> 
> This is great when you have only a few observations.  I have one
> example data set with over 9000 rows and 17 variables.  Even when I
> set -v 40, I exhaust the available memory trying to read it in as a
> data.frame. 

You need to specify -n some_large_number to read in large data sets,
specifying -v is not enough.  You can see this by using gcinfo(T) to
report heap and cons cell usage at each garbage collection.

> Are there alternatives that would cause less memory usage?  In
> S/S-PLUS the data.dump/data.restore functions use a portable
> representation that can be parsed without exponential memory growth.

The R save() format is portable, at least among Unices. You could have the
data.R file contain the command
	eval(load("data.Rdata"),.GlobalEnv)
where "data.Rdata" is the saved file. There is an ascii=T option, which
might make it more portable to other operating systems.

I haven't checked, but I assume that this format can be read more
efficiently than sourcing R code.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Feb 25 07:34:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 25 Feb 1998 08:34:03 +0100
Subject: Representation of data in libraries
In-Reply-To: <6rhg5ox49i.fsf@verdi.stat.wisc.edu> (message from Douglas Bates
 on 24 Feb 1998 12:10:49 -0600)
Message-ID: <199802250734.IAA03015@sophie.ethz.ch>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> At present the example data sets in R libraries are to be given as
    DougB> expressions that can be read directly into R.  For example, the acid.R 
    DougB> file in the main library looks like
    DougB> acid <- data.frame(
    DougB> carb  = c(0.1, 0.3, 0.5, 0.6, 0.7, 0.9),
    DougB> optden = c(0.086, 0.269, 0.446, 0.538, 0.626, 0.782), row.names = paste(1:6))

    DougB> This is great when you have only a few observations.  I have one
    DougB> example data set with over 9000 rows and 17 variables.  Even when I
    DougB> set -v 40, I exhaust the available memory trying to read it in as a
    DougB> data.frame.  I believe this is because of the recursive nature of the
    DougB> parsing of data objects.

yes; 

    DougB> Are there alternatives that would cause less memory usage?

yes; but only in the 0.62 development version.
The current 0.62 ``standard'' is:

if a 'data' file ends in
	.R,	source(.) is used to read it
if it ends in
	.tab	read.table(..., header = TRUE)  is used to read it.
(you find the new data(.) function in  src/library/base/data in R-snapshot.)

Note that this is still not really satisfactory for large data files,
since read.table(.) is not really efficient:
	it first reads everything as character matrix and then converts
	variable by variable, some to numeric, some to factor.

On the other hand: does it really make sense to distribute huge example
data sets as yours above?
If yes, AND if you have only numeric data,
I'd propose the following:
 1) create a  <pkg>/data/dougBex.R
    file which only contains something like
	dougBex <- as.data.frame(
		    matrix(scan(system.file("<pkg>/data/dougBex.dat")),
			   ncol = ...,  
			   dimnames = ...))
 2) create   <pkg>/data/dougBex.dat  to contain all your data, white-space
				     delimited numeric.


    DougB> In S/S-PLUS the data.dump/data.restore functions use a portable
    DougB> representation that can be parsed without exponential memory growth.

hmm, yes, we have been longing for someone to write  data.dump/data.restore
for R.
	Any volunteers?

--
Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Feb 25 10:10:01 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Feb 1998 11:10:01 +0100
Subject: R-beta: qr(A)$rank
In-Reply-To: John Bacon-Shone's message of Wed, 25 Feb 1998 11:27:10 +0800
References: Bertram Zinner's message of Tue, 24 Feb 98 15:07:46 -0600
 <199802242105.PAA02418@mallard.duc.auburn.edu>
 <v04003a13b1193fdd81f5@[147.8.208.251]>
Message-ID: <x2ra4s807a.fsf@blueberry.kubism.ku.dk>

John Bacon-Shone <johnbs@hku.hk> writes:

> >Seriously speaking, yes, we really should get around to getting the
> >Mac version up to date. Volunteers?
> 
> What needs to be done?  Create an up-to-date CodeWarrior project, or do coding?
> 
> John
> 
> Dr John Bacon-Shone, Director, Social Sciences Research Centre,
> The University of Hong Kong, Pokfulam Road, Hong Kong
> Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
> Web http://www.ssrc.hku.hk

If only I knew... I suspect that some actual coding changes are needed
for the event loop and the graphics interface, whereas the main body
of the parser and the internals, as well as the interpreted code are
highly portable. That's the situation with the Windows version anyway,
and I can't believe that MacProgramming can be worse that the Win32
API.

One thing that I have been looking at a bit is the possibility of
coding up a Tcl/Tk version of R. This could be made portable between
all three architectures (X/Win32/Mac) and probably evolve into a set
of R/Tk language bindings a.m. STk (Scheme Tk), so we could have menu
interfaces and R functions that are call via a button-click, etc.

[I'm Cc-ing this to the R-devel list. Slightly bad netiquette since
your email was to me privately, but I hope you won't mind.]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Feb 25 11:20:05 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Feb 1998 12:20:05 +0100
Subject: R-beta: Mac version
In-Reply-To: Colin Farrow's message of Wed, 25 Feb 1998 09:53:31 +0000
References: <E0y7dWt-0000XX-00@alligin>
Message-ID: <x2n2fg7wyi.fsf@blueberry.kubism.ku.dk>

Colin Farrow <C.Farrow@geology.gla.ac.uk> writes:

> Peter,
> 
> Cautiously sticking my neck above the water line here. I have been
> wondering about the Mac version for a while now. I may be able to get
> an MSc IT student to work on this as a project for about 3 months
> June-Sept. Before putting up the proposal some idea of the scale of the
> task would be useful. Do you know what would be involved? Is there a
> preferred compiler?
> 
> CC'd to R+R for when the power returns:-)
> 
> Colin

I got a letter on the same topic a bit earlier today from John
Bacon-Shone. I'm copying my reply to him below. Basically, I think
that the scale of the task is highly dependent on whether you know
your way around the Mac API to begin with. As for compilers, I have no
knowledge of the Mac platform, but in general freeware is preferred,
if it exists (and works!), because it enlarges the number of potential
bugfixers. (I saw something about the PWB being available freely from
Apple now).

I'll Cc: this one to R-devel too. If anyone there who actually know
what they're talking about (as opposed to me) re. Macs have anything
to add, please do.

---------
John Bacon-Shone <johnbs@hku.hk> writes:

> >Seriously speaking, yes, we really should get around to getting the
> >Mac version up to date. Volunteers?
> 
> What needs to be done?  Create an up-to-date CodeWarrior project, or do coding?
> 
> John
> 
> Dr John Bacon-Shone, Director, Social Sciences Research Centre,
> The University of Hong Kong, Pokfulam Road, Hong Kong
> Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
> Web http://www.ssrc.hku.hk

If only I knew... I suspect that some actual coding changes are needed
for the event loop and the graphics interface, whereas the main body
of the parser and the internals, as well as the interpreted code are
highly portable. That's the situation with the Windows version anyway,
and I can't believe that MacProgramming can be worse that the Win32
API.

One thing that I have been looking at a bit is the possibility of
coding up a Tcl/Tk version of R. This could be made portable between
all three architectures (X/Win32/Mac) and probably evolve into a set
of R/Tk language bindings a.m. STk (Scheme Tk), so we could have menu
interfaces and R functions that are call via a button-click, etc.

[I'm Cc-ing this to the R-devel list. Slightly bad netiquette since
your email was to me privately, but I hope you won't mind.]
-----------

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From johnbs@hku.hk  Wed Feb 25 14:49:33 1998
From: johnbs@hku.hk (John Bacon-Shone)
Date: Wed, 25 Feb 1998 22:49:33 +0800
Subject: R-beta: Mac version
In-Reply-To: <x2n2fg7wyi.fsf@blueberry.kubism.ku.dk>
References: Colin Farrow's message of Wed, 25 Feb 1998 09:53:31 +0000
 <E0y7dWt-0000XX-00@alligin>
Message-ID: <v04003a0cb119ddb7ee62@[147.8.208.251]>

>Colin Farrow <C.Farrow@geology.gla.ac.uk> writes:
>
>> Peter,
>>
>> Cautiously sticking my neck above the water line here. I have been
>> wondering about the Mac version for a while now. I may be able to get
>> an MSc IT student to work on this as a project for about 3 months
>> June-Sept. Before putting up the proposal some idea of the scale of the
>> task would be useful. Do you know what would be involved? Is there a
>> preferred compiler?

While MPW is now free, almost all developers have given up on MPW and
Symantec (both have development stopped)and switched to Metrowerks, who
have good academic prices and good onward development.

Having a student do the work sounds appealing to me :)

>>
>> CC'd to R+R for when the power returns:-)
>>
>> Colin
>
>I got a letter on the same topic a bit earlier today from John
>Bacon-Shone. I'm copying my reply to him below. Basically, I think
>that the scale of the task is highly dependent on whether you know
>your way around the Mac API to begin with. As for compilers, I have no
>knowledge of the Mac platform, but in general freeware is preferred,
>if it exists (and works!), because it enlarges the number of potential
>bugfixers. (I saw something about the PWB being available freely from
>Apple now).

I think you mean MPW

>I'll Cc: this one to R-devel too. If anyone there who actually know
>what they're talking about (as opposed to me) re. Macs have anything
>to add, please do.
>
>---------
>John Bacon-Shone <johnbs@hku.hk> writes:
>
>> >Seriously speaking, yes, we really should get around to getting the
>> >Mac version up to date. Volunteers?
>>
>> What needs to be done?  Create an up-to-date CodeWarrior project, or do
>>coding?
>>
>> John
>>
>> Dr John Bacon-Shone, Director, Social Sciences Research Centre,
>> The University of Hong Kong, Pokfulam Road, Hong Kong
>> Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
>> Web http://www.ssrc.hku.hk
>
>If only I knew... I suspect that some actual coding changes are needed
>for the event loop and the graphics interface, whereas the main body
>of the parser and the internals, as well as the interpreted code are
>highly portable. That's the situation with the Windows version anyway,
>and I can't believe that MacProgramming can be worse that the Win32
>API.
>
>One thing that I have been looking at a bit is the possibility of
>coding up a Tcl/Tk version of R. This could be made portable between
>all three architectures (X/Win32/Mac) and probably evolve into a set
>of R/Tk language bindings a.m. STk (Scheme Tk), so we could have menu
>interfaces and R functions that are call via a button-click, etc.

Another possibility may be to use the replacemnet for OpenStep , now known
as YellowBox, that will deploy on Mac, Rhapsody, Win32 at the very least.
The YellowBox uses DisplayPostscript, which might help.

>[I'm Cc-ing this to the R-devel list. Slightly bad netiquette since
>your email was to me privately, but I hope you won't mind.]

In my case this was careless, I meant it to go at least to the r-help list :)
Please copy replies to me, as I am not on the developer list, I think.

John


Dr John Bacon-Shone, Director, Social Sciences Research Centre,
The University of Hong Kong, Pokfulam Road, Hong Kong
Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
Web http://www.ssrc.hku.hk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Wed Feb 25 17:04:53 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Wed, 25 Feb 1998 09:04:53 -0800 (PST)
Subject: R-beta: Mac version
In-Reply-To: <v04003a0cb119ddb7ee62@[147.8.208.251]>
Message-ID: <Pine.SUN.3.95.980225085929.25647A-100000@chekov>

On Wed, 25 Feb 1998, John Bacon-Shone wrote:
> 
> While MPW is now free, almost all developers have given up on MPW and
> Symantec (both have development stopped)and switched to Metrowerks, who
> have good academic prices and good onward development.

Metrowerks now has a Win32 version as well, which may make it easier to
keep the Win and Mac versions in sync. It seems from the box as though you
get the ability to cross-compile, which might make it easy to keep
versions in sync.
 
> Having a student do the work sounds appealing to me :)
> 
Provided that it doesn't cause the university to think it owns the
results....

	-thomas


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Feb 25 17:38:40 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 25 Feb 1998 12:38:40 -0500
Subject: memory trick
Message-ID: <98Feb25.124720est.13448@mailgate.bank-banque-canada.ca>

> # New code
> while(temp$iv[1] < 3) {
>                       temp <- nlminb.0(temp, p, liv, lv,
>                                         objective, bounds, scale)
>                        NULL
>                }
>
> This has the effect of returning the null value on exiting the loop instead of

> everything else that the while loop normally returns.

Does this trick for reducing memory usage in S also have an affect in R?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Wed Feb 25 21:52:34 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Wed, 25 Feb 1998 15:52:34 -0600 (CST)
Subject: R-beta: Mac version
In-Reply-To: <Pine.SUN.3.95.980225085929.25647A-100000@chekov> from "Thomas Lumley" at Feb 25, 98 09:04:53 am
Message-ID: <9802252152.AA11595@nokomis.stat.umn.edu>

Thomas Lumley wrote:
> 
> On Wed, 25 Feb 1998, John Bacon-Shone wrote:
> > 
> > While MPW is now free, almost all developers have given up on MPW and
> > Symantec (both have development stopped)and switched to Metrowerks, who
> > have good academic prices and good onward development.
> 
> Metrowerks now has a Win32 version as well, which may make it easier to
> keep the Win and Mac versions in sync. It seems from the box as though you
> get the ability to cross-compile, which might make it easy to keep
> versions in sync.

Cross compiling is possible but I think debugging is a pain - there is
some mechanism but I think it's pretty awkward. I'm actually doing my
Windows stuff in Borland 5.0, but using SoftWindows on a Mac -- that
seems to work nicely if you can live with a 200 MHz Mac running at
about 486/33 speed :-).

I played with Metrowerks CW Pro 1 for Windows a bit and wasn't really
happy with it for my purposes. I use CW Pro 2 on the Mac and am quite
pleased there, but I did not try the new Windows version to see if
some of the issues I'll mention here have been resolved. (I decided to
upgrade my Borland compiler and stick with that.)

In CW Pro 1 for Win I didn't see any way to use a makefile, only the
IDE. Whether you consider that good or bad is up to you. I also could
not get some things to work with DLL's, in particular calling back
into the .EXE file. Both may have been my problem -- it might be
possible but I just didn't figure it out.

Another issue is IEEE compliant handling of comparisons to NaN's. None
of Borland, MS VC++, CW Pro 1, or lcc are compliant. Watcom and
gcc-win32 are (at least with the right compiler flag settings). If R
has code that relies on compliant handling of these comparisons, then
using any of these would be a bad idea.

Just my 2c.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From oncley@atd.ucar.edu  Wed Feb 25 22:08:55 1998
From: oncley@atd.ucar.edu (Steve Oncley)
Date: Wed, 25 Feb 1998 15:08:55 -0700 (MST)
Subject: attributes
Message-ID: <199802252208.PAA11635@stout.atd.ucar.edu>

During the last couple of months (at least) there has been a trickle of
messages on R-help related to attributes (other than dim/dimnames) not being 
inherited.  
Example:
	x <- 1
	class(x) <- "test"
	class(x+1) [returns NULL, not "test"]
I have not seen a response from anyone in the R-core about this issue.  
Since our group uses locally-written code (in S+) that is object-oriented, 
R is useless to us until this capability exists.

Do any of you have this on your tasks-list, or should we <attempt> to add 
attribute inheriting on our own?  Thanks...Steve Oncley (oncley@ucar.edu)

P.S. Please respond directly to me (or r-help), since I'm not on r-devel.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From johnbs@hku.hk  Thu Feb 26 00:42:44 1998
From: johnbs@hku.hk (John Bacon-Shone)
Date: Thu, 26 Feb 1998 08:42:44 +0800
Subject: R-beta: Mac version
In-Reply-To: <9802252152.AA11595@nokomis.stat.umn.edu>
References: <Pine.SUN.3.95.980225085929.25647A-100000@chekov>
Message-ID: <v04003a15b11a6a86149a@[147.8.208.251]>

>Thomas Lumley wrote:
>>
>> On Wed, 25 Feb 1998, John Bacon-Shone wrote:
>> >
>> > While MPW is now free, almost all developers have given up on MPW and
>> > Symantec (both have development stopped)and switched to Metrowerks, who
>> > have good academic prices and good onward development.
>>
>> Metrowerks now has a Win32 version as well, which may make it easier to
>> keep the Win and Mac versions in sync. It seems from the box as though you
>> get the ability to cross-compile, which might make it easy to keep
>> versions in sync.
>
>Cross compiling is possible but I think debugging is a pain - there is
>some mechanism but I think it's pretty awkward.

true, but the CD contains native compilers/debuggers for both

> I'm actually doing my
>Windows stuff in Borland 5.0, but using SoftWindows on a Mac -- that
>seems to work nicely if you can live with a 200 MHz Mac running at
>about 486/33 speed :-).

I prefer Virtual PC, quite good on a G3, more like a P90 :)

Regards

John

Dr John Bacon-Shone, Director, Social Sciences Research Centre,
The University of Hong Kong, Pokfulam Road, Hong Kong
Tel: 852-28592412  Fax: 852-28584327 E-mail: mailto:johnbs@hku.hk
Web http://www.ssrc.hku.hk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Feb 26 09:31:36 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Feb 1998 10:31:36 +0100
Subject: attributes loss with arithmetic...
In-Reply-To: <199802252208.PAA11635@stout.atd.ucar.edu> (message from Steve
 Oncley on Wed, 25 Feb 1998 15:08:55 -0700 (MST))
Message-ID: <199802260931.KAA04501@sophie.ethz.ch>

>>>>> "Steve" == Steve Oncley <oncley@atd.ucar.edu> writes:

    Steve> During the last couple of months (at least) there has been a
    Steve> trickle of messages on R-help related to attributes (other than
    Steve> dim/dimnames) not being inherited.
    Steve> Example:
    Steve> 	x <- 1
    Steve> 	class(x) <- "test"
    Steve> 	class(x+1) [returns NULL, not "test"]

    Steve> I have not seen a response from anyone in the R-core about this
    Steve> issue.
Well, excuse us..
    Steve> Since our group uses locally-written code (in S+) that
    Steve> is object-oriented,  
    Steve> R is useless to us until this capability exists.
		^^^^^^^
pretty hard word;   
I understand however that you definitely want this working.

The reason, there was no answer is probably:
It is obviously something ``deep down in the bowels of the C code'' for R,
and "usually", these things are left to R&R for fixing.
On the other hand, Ross and Robert are always overloaded with work...

    Steve> Do any of you have this on your tasks-list, or should we
    Steve> <attempt> to add attribute inheriting on our own?

If you feel knowledgable to do it in C, we'll be more than glad for your
contribution... !

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
http://www.stat.math.ethz.ch/~maechler/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Feb 26 15:03:50 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 26 Feb 1998 10:03:50 -0500
Subject: Bus Error
Message-ID: <98Feb26.101259est.13444@mailgate.bank-banque-canada.ca>

I was experimenting a bit with the memory saving trick mentioned on Snew
recently and I've discovered that adding NULL to the end of the loop in the
function below gives me "Bus Error - core dumped" in Solaris with R 0.61.1. The
problem does not occur every time the function is called, but it is reproducible
in the sense that I twice tried  a set of test I have and it occured in the the
same spot, and when I remove the NULL it does not occur. I also added a NULL in
some other loops with no problems, but no obvious time savings in R. For my
purposes I will just remove the NULL, since this is going to be very difficult
for me to isolate (it takes a hour on an ultra 10 to get to the point where the
error occurs). I thought I would mention the problem in the hope that someone
can  immediately see a bug.

Paul Gilbert
________

hessian.default <- function(func, x, func.args=NULL, d=0.01, eps=1e-4,r=6)
{  D <- genD.default(func,x,func.args=func.args, d=d, eps=eps, r=r)$D
   H <- diag(0,length(x))
   u <- 0
   for(i in 1:length(x))
     {for(j in 1:i)
        {u <- u + 1
         H[i,j] <- D[,u]
         NULL
     }  }
   H <- H +t(H)
   diag(H) <- diag(H)/2
   H
}



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Feb 26 15:57:57 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 26 Feb 1998 09:57:57 -0600
Subject: Representation of data in libraries
In-Reply-To: Martin Maechler's message of Wed, 25 Feb 1998 08:34:03 +0100
References: <199802250734.IAA03015@sophie.ethz.ch>
Message-ID: <6rafbewe7u.fsf@verdi.stat.wisc.edu>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> On the other hand: does it really make sense to distribute huge example
> data sets as yours above?

The purpose of this example is to show that the lme methods work with
very large data sets.  These data are from a survey conducted by a
sociologist.  He fit a mixed-effects model to them using SAS PROC
MIXED.  It took five hours of cpu time on a relatively fast machine
(Pentium II 233 MHz, 64 Mb memory).  Once I decide what the model he
used is in our notation, I will try it in lme.  I am confident we
can do it much faster.

I decide to omit this data set from the standard distribution for lme
although the way that data sets are organized in R there is not much
penalty other than the disc space for including large examples that
are rarely used.

Following Thomas's suggestion of increasing the -n as well as the -v
option I was able to read the data in with its current form.

-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Feb 27 08:27:02 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Feb 1998 09:27:02 +0100
Subject: R-beta: quantile
In-Reply-To: <x2hg5mt15o.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 27 Feb 1998 00:08:19 +0100)
Message-ID: <199802270827.JAA06769@sophie.ethz.ch>

	[diverted from R-help to R-devel]

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

    PD> Bill Simpson <wsimpson@uwinnipeg.ca> writes:
    >> 
    >> I do:
    >> x<-rnorm(1000)
    >> quantile(x,c(.025,.975))
    >> 2%       98% 
    >> -1.844753  1.931762 
    >> 
Yes, this is a pain;
I've known about this for months, and always been too busy / diverted 
to fix it..

    >> Since I want to find a 95% confidence interval, I take the .025 and .975
    >> quantiles.  HOWEVER R says I have the 2% (not 2.5%) and 98% (not 97.5%)
    >> points.  Is it just rounding the printed 2% and 98%, or is it REALLY
    >> finding .02 and .98 points instead of .025 and .975?

    PD> It's rounding... 

    PD> At the end of the quantile function, you'll see:

    PD> names(qs) <- paste(round(100 * probs), "%", sep = "")
    PD> qs
    PD> }

    PD> Maybe we should put in an extra argument for controlling the precision
    PD> of the rounding?

Hmm, I think we agree that we should improve that 'names(gs)..' line.

However, the first step should be to use a much better default than
	round(100 * probs)
If the default is ``smart enough'', 
maybe we don't really need a new argument
[Can still have one for the ones who really want to fine-tune the names..]

-------------

Some untested proposals for replacement of   
	round(100 * probs)	


1)  formatC(100*probs, dig=3,				 format='f')
2)  formatC(100*probs, dig= max(3, .Options$digits - 3), format='f')
3)  signif(100*probs,       max(3, .Options$digits - 3))

or then replace  "max(3, .Options$digits - 3)"
by the new argument  'digits.names'
and have that one default to
	digits.names = max(3, .Options$digits - 3)


Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Fri Feb 27 12:44:51 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Fri, 27 Feb 1998 13:44:51 +0100
Subject: R-beta: quantile
References: <199802270827.JAA06769@sophie.ethz.ch>
Message-ID: <34F6B543.68813EFB@iarc.fr>

Martin Maechler wrote:
> 
>         [diverted from R-help to R-devel]
> 
> >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

>     PD> Maybe we should put in an extra argument for controlling the precision
>     PD> of the rounding?
> 
> Hmm, I think we agree that we should improve that 'names(gs)..' line.
> 
> However, the first step should be to use a much better default than
>         round(100 * probs)
> If the default is ``smart enough'',
> maybe we don't really need a new argument
> [Can still have one for the ones who really want to fine-tune the names..]
> 
> -------------
> 
> Some untested proposals for replacement of
>         round(100 * probs)
> 
> 1)  formatC(100*probs, dig=3,                            format='f')
> 2)  formatC(100*probs, dig= max(3, .Options$digits - 3), format='f')
> 3)  signif(100*probs,       max(3, .Options$digits - 3))
> 
> or then replace  "max(3, .Options$digits - 3)"
> by the new argument  'digits.names'
> and have that one default to
>         digits.names = max(3, .Options$digits - 3)

What about just using format(100*probs)?

R> foo <- function(probs) paste(format(100 * probs), "%", sep="")
R> foo(c(0.02,0.25,0.50))
[1] " 2%" "25%" "50%"
R> foo(c(0.025,0.25,0.50))
[1] " 2.5%" "25.0%" "50.0%"
R> foo(c(0.0125,0.25,0.50))
[1] " 1.25%" "25.00%" "50.00%"

I am probably missing something but this seems to be "smart" enough.
Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Feb 27 12:59:55 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Feb 1998 13:59:55 +0100
Subject: R-beta: quantile
In-Reply-To: Martyn Plummer's message of Fri, 27 Feb 1998 13:44:51 +0100
References: <199802270827.JAA06769@sophie.ethz.ch> <34F6B543.68813EFB@iarc.fr>
Message-ID: <x2ra4p6w4z.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer@iarc.fr> writes:

> What about just using format(100*probs)?
> 
> R> foo <- function(probs) paste(format(100 * probs), "%", sep="")
> R> foo(c(0.02,0.25,0.50))
> [1] " 2%" "25%" "50%"
> R> foo(c(0.025,0.25,0.50))
> [1] " 2.5%" "25.0%" "50.0%"
> R> foo(c(0.0125,0.25,0.50))
> [1] " 1.25%" "25.00%" "50.00%"
> 
> I am probably missing something but this seems to be "smart" enough.


I can do one better, I think:

> sapply(c(0.1,2.5,25),format)
[1] "0.1" "2.5" "25" 
> foo <- function(probs) paste(sapply(100 * probs,format), "%", sep="")
> foo(c(0.02,0.25,0.50))
[1] "2%"  "25%" "50%"
> foo(c(0.025,0.25,0.50))
[1] "2.5%" "25%"  "50%" 
> foo(c(0.0125,0.25,0.50))
[1] "1.25%" "25%"   "50%"  


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Feb 27 14:39:20 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Feb 1998 15:39:20 +0100
Subject: R-beta: quantile
In-Reply-To: <x2ra4p6w4z.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 27 Feb 1998 13:59:55 +0100)
Message-ID: <199802271439.PAA14045@sophie.ethz.ch>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

    PD> Martyn Plummer <plummer@iarc.fr> writes:
    >> What about just using format(100*probs)?
    >> 
    R> foo <- function(probs) paste(format(100 * probs), "%", sep="")
    R> foo(c(0.02,0.25,0.50))
    >> [1] " 2%" "25%" "50%"
    R> foo(c(0.025,0.25,0.50))
    >> [1] " 2.5%" "25.0%" "50.0%"
    R> foo(c(0.0125,0.25,0.50))
    >> [1] " 1.25%" "25.00%" "50.00%"
    >> 
    >> I am probably missing something but this seems to be "smart" enough.


    PD> I can do one better, I think:

    >> sapply(c(0.1,2.5,25),format)
    PD> [1] "0.1" "2.5" "25"
    >> foo <- function(probs) paste(sapply(100 * probs,format), "%",
    >> sep="") foo(c(0.02,0.25,0.50))
    PD> [1] "2%" "25%" "50%"
    >> foo(c(0.025,0.25,0.50))
    PD> [1] "2.5%" "25%" "50%"
    >> foo(c(0.0125,0.25,0.50))
    PD> [1] "1.25%" "25%" "50%"

Yes, this is better;
but it actually ``the same'' as  formatC !

[TEACHER:]
   One of the main differences between format(.) and formatC(.)
   is that  format(.) formats a vector into a  COMMON format
   (hence the "50.00%" in Martyn's answer)
   whereas  formatC(.) formats each element INDIVIDUALLY
which is what Peter proposed by
	 sapply(...., format)

formatC however runs the loop in C code rather than interpreted language,
hence my original proposals :

MM> Some untested proposals for replacement of
MM>         round(100 * probs)
MM> 
MM> 1)  formatC(100*probs, dig=3,                            format='f')
MM> 2)  formatC(100*probs, dig= max(3, .Options$digits - 3), format='f')
MM> 3)  signif(100*probs,       max(3, .Options$digits - 3))
MM> 
MM> or then replace  "max(3, .Options$digits - 3)"
MM> by the new argument  'digits.names'
MM> and have that one default to
MM>         digits.names = max(3, .Options$digits - 3)

which should be corrected...
to something like

	formatC(100 * probs, dig= max(3, .Options$digits), wid=3)

[which is marginally better than Peter's solution...
 HOWEVER, when tested with funny .Options$digits,
 triggered a bug in formatC(.) ....  which I am going to fix now.....
]

- Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Feb 27 18:49:02 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 27 Feb 1998 13:49:02 -0500
Subject: gcc memory requirement
Message-ID: <98Feb27.135843est.13441@mailgate.bank-banque-canada.ca>

Helgi Tomasson send thanks to people who helped get the compiled dse fortran to
work when he did R INSTALL. Some of my test programs reported Error: memory
exhausted (he had not used R -v6 -n250000 as in my test script). He now reports:

>I was getting complaint of virtual memory exhausted.  I never
>understood why but the problem dissapered when I upgrade
>gcc and gcc-g77 from the contributed directory at sunsite.

I'm not sure why this should change the -n and -v memory requirement, but if
anyone knows I would like to hear.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

