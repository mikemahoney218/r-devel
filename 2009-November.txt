From Mark.Bravington at csiro.au  Sun Nov  1 03:18:24 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Sun, 1 Nov 2009 13:18:24 +1100
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <4AEC4954.9070400@stats.uwo.ca>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>,
	<4AEC4954.9070400@stats.uwo.ca>
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>

> Does this happen in R-patched?  I've seen similar errors in 2.10.0, but
> not in a current build.

Yes, still there in R-patched.

(Still haven't got to your code, this was in
> mine.  I'm reluctant to spend time on code that is messing with
> internals, because you might be using things in a way not intended by
> the author.  Now, if you can show me some code that demonstrates the
> problem without using internals directly, I'll follow up.)

I did try, but it's not completely possible, because 'makeLazyLoadDB' is internal and there is no public alternative (a pity-- it's useful). However, the problem(s) can be demonstrated without directly calling 'parse_Rd', and with 'lazyLoad' (public) instead of 'fetchRdDB' (private), as per "pointer 1" below. If you have a look at 'tools:::.install_package_Rd_objects', you'll see that my use of 'makeLazyLoadDB' is quite standard.

The problem is not easy to reproduce. It took 4-5 hours work to get the 3-line reproducible example that I posted, plus another couple since, so I'm also reluctant to spend more time...

The examples in my previous post still apply-- the first one involves just 3 statements-- but here are some more pointers I've unearthed since:


1. Sometimes 'fetchRdDB' or 'lazyLoad' called directly from the prompt doesn't work, but public 'Rd_db' (which directly calls 'fetchRdDB') does. I've experimented with copying the installed 'tools' package into a new library "d:/temp/fakelib", then stuff like this:

test> e <- new.env()
test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e) # original files tools.rdx, tools.rdb
test> e <- as.list( e) # force evaluation
test> tools:::makeLazyLoadDB( e, 'd:/temp/fakelib/tools/help/tools') # modify tools.rd*
test> e1 <- new.env()
test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e1)
test> as.list( e1) # try to force evaluation...
Error in as.list.environment(e1) : 
  cannot allocate memory block of size 2.7 Gb
test> 
test> Rd_db( 'tools', 'd:/temp/fakelib') # no probs !?


2. Sometimes 'fetchRdDB' or 'lazyLoad' will fail in one R session, but will work in a fresh session on exactly the same files. For example, after restarting R, the previous commands involving 'e1' work fine.

Mark

> 
> Duncan Murdoch
> 

>
>>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-
>>> load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions
>>> that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be
>>> something strange going on; my code is very similar to code that lives inside
>>> 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
>> object.size() has problems when working on Rd objects, because it counts
>> every environment separately, even though they may all be references to
>> the same one. I haven't looked at your code, but that could be a problem.
>>
>>
>
> Mark
>
> ________________________________________
> From: Duncan Murdoch [murdoch at stats.uwo.ca]
> Sent: 31 October 2009 08:59
> To: Bravington, Mark (CMIS, Hobart)
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] parse_Rd and/or lazyload problem
>
> On 30/10/2009 12:50 AM, Mark.Bravington at csiro.au wrote:
>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be something strange going on; my code is very similar to code that lives inside 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
>
> object.size() has problems when working on Rd objects, because it counts
> every environment separately, even though they may all be references to
> the same one. I haven't looked at your code, but that could be a problem.
>
> Duncan Murdoch
>
>> The examples below use files which can be found at ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to modify the paths. The file "scrunge.Rd" is just "Rdiff.Rd" from the 'tools' package. The file "fakepack.7z" should unzip to create a fake package with a DESCRIPTION file and a "man" directory that contains two Rd files.
>>
>> Transcript of first example:
>> eglist <- list( scrunge=tools:::prepare_Rd(  'd:/temp/scrunge.Rd',
>>     defines=.Platform$OS.type, stages='install', warningCalls=FALSE))
>> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll', compress=FALSE)
>> tools:::fetchRdDB( 'd:/temp/ll')
>> # Error: cannot allocate vector of size 1.4 Gb
>>
>> The second example triggers an error with 'tools:::.install_package_Rd_objects' itself. It doesn't happen the first time, but frequently does after the Rd files have been changed. Transcript:
>>
>> # Make sure d:/temp/help/ is empty, then
>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>> # All good. Next, I *removed* one of the two Rd files in "d:/temp/fakepack/man", ...
>> # ...deleted "d:/temp/help/temp*", and tried again
>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>> Error: cannot allocate vector of size 1.9 Gb
>> # Or on other occasions I get
>> Error: internal error -3 in R_decompress1
>>
>> Mark Bravington
>> CSIRO CMIS
>> Hobart
>> Australia
>>
>> --please do not edit the information below--
>> Version:
>>  platform = i386-pc-mingw32
>>  arch = i386
>>  os = mingw32
>>  system = i386, mingw32
>>  status =
>>  major = 2
>>  minor = 10.0
>>  year = 2009
>>  month = 10
>>  day = 26
>>  svn rev = 50208
>>  language = R
>>  version.string = R version 2.10.0 (2009-10-26)
>> Windows XP (build 2600) Service Pack 2
>> Locale:
>> LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252
>> Search Path:
>>  .GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel


From macrakis at alum.mit.edu  Sun Nov  1 05:00:12 2009
From: macrakis at alum.mit.edu (macrakis at alum.mit.edu)
Date: Sun,  1 Nov 2009 05:00:12 +0100 (CET)
Subject: [Rd] Internal error in 'ls' for pathological environments (PR#14035)
Message-ID: <20091101040013.149F2282EF3D@mail.pubhealth.ku.dk>

nchar(with(list(2),ls())) gives an internal error. This is of course
a peculiar call (no names in the list), but the error is not caught
cleanly.

It is not clear from the documentation whether with(list(2)...) is
allowable; if it is not, it should presumably give an error. If it is, then
ls
shouldn't have problems with the resulting environment.

> qq <- with(list(2),ls())                         # An incorrect call (no
names in list)
> nchar(qq)
Error in nchar(qq) : 'getEncChar' must be called on a CHARSXP  # ls returned
a bad object
> qq
[1]Error: 'getEncChar' must be called on a CHARSXP
> qq[1]
[1]Error: 'getEncChar' must be called on a CHARSXP
> qq[2]
[1] NA

Apparently related:

> with(list(a=1,2),ls())
Error in ls() : 'getEncChar' must be called on a CHARSXP



--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status =
 major = 2
 minor = 9.2
 year = 2009
 month = 08
 day = 24
 svn rev = 49384
 language = R
 version.string = R version 2.9.2 (2009-08-24)

Windows Vista x64 (build 6002) Service Pack 2

Locale:
LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
States.1252;LC_MONETARY=English_United
States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252

Search Path:
 .GlobalEnv, package:stats, package:graphics, package:grDevices,
package:utils, package:datasets, package:methods, Autoloads, package:base

	[[alternative HTML version deleted]]


From p.dalgaard at biostat.ku.dk  Sun Nov  1 12:02:25 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sun, 01 Nov 2009 12:02:25 +0100
Subject: [Rd] Internal error in 'ls' for pathological environments
	(PR#14035)
In-Reply-To: <20091101040013.149F2282EF3D@mail.pubhealth.ku.dk>
References: <20091101040013.149F2282EF3D@mail.pubhealth.ku.dk>
Message-ID: <4AED6AC1.7000003@biostat.ku.dk>

macrakis at alum.mit.edu wrote:
> nchar(with(list(2),ls())) gives an internal error. This is of course
> a peculiar call (no names in the list), but the error is not caught
> cleanly.
> 
> It is not clear from the documentation whether with(list(2)...) is
> allowable; if it is not, it should presumably give an error. If it is, then
> ls
> shouldn't have problems with the resulting environment.
> 
>> qq <- with(list(2),ls())                         # An incorrect call (no
> names in list)
>> nchar(qq)
> Error in nchar(qq) : 'getEncChar' must be called on a CHARSXP  # ls returned
> a bad object
>> qq
> [1]Error: 'getEncChar' must be called on a CHARSXP
>> qq[1]
> [1]Error: 'getEncChar' must be called on a CHARSXP
>> qq[2]
> [1] NA
> 
> Apparently related:
> 
>> with(list(a=1,2),ls())
> Error in ls() : 'getEncChar' must be called on a CHARSXP

Thanks, yes, this looks wrong.

Also, closer to the root cause:

 > eval(quote(ls()),list(a=1,2))
Error in ls() : 'getEncChar' must be called on a CHARSXP


 > e <- evalq(environment(),list(2))
 > ls(e)
[1]Error: 'getEncChar' must be called on a CHARSXP

It is not quite clear that it should be allowed to have unnamed elements 
in lists used by eval (which is what with() uses internally). I suppose 
it should, since the intended semantics are unaffected in most cases. 
(I.e., there is nothing really wrong with eval(quote(a+b), 
list(a=1,b=2,3,4)), and people may have been using such code unwittingly 
all over.)

However, it IS a bug that we are creating ill-formed environments. The 
culprit seems to be that NewEnvironment (memory.c) is getting called in 
violation of its assumption that

" This definition allows
   the namelist argument to be shorter than the valuelist; in this
   case the remaining values must be named already.  (This is useful
   in cases where the entire valuelist is already named--namelist can
   then be R_NilValue.)
"

Removing the assumption from NewEnvironment looks like an efficiency 
sink, so I would suggest that we fix do_eval (eval.c) instead, 
effectively doing l <- l[names(l) != ""].  So in

     case LISTSXP:
	env = NewEnvironment(R_NilValue, duplicate(CADR(args)), encl);
	PROTECT(env);
	break;

we need to replace the duplicate() call with something that skips the 
unnamed elements.

The only side effect I can see from such a change is the resulting 
environments get a different length() than before. I'd say that if there 
are coder who actually rely on the length of an invalid environment, 
then they'd deserve what they'd get...

-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From p.dalgaard at biostat.ku.dk  Sun Nov  1 12:05:22 2009
From: p.dalgaard at biostat.ku.dk (p.dalgaard at biostat.ku.dk)
Date: Sun,  1 Nov 2009 12:05:22 +0100 (CET)
Subject: [Rd] Internal error in 'ls' for pathological environments
	(PR#14035)
Message-ID: <20091101110522.94DFF282EF3D@mail.pubhealth.ku.dk>

macrakis at alum.mit.edu wrote:
> nchar(with(list(2),ls())) gives an internal error. This is of course
> a peculiar call (no names in the list), but the error is not caught
> cleanly.
> 
> It is not clear from the documentation whether with(list(2)...) is
> allowable; if it is not, it should presumably give an error. If it is, then
> ls
> shouldn't have problems with the resulting environment.
> 
>> qq <- with(list(2),ls())                         # An incorrect call (no
> names in list)
>> nchar(qq)
> Error in nchar(qq) : 'getEncChar' must be called on a CHARSXP  # ls returned
> a bad object
>> qq
> [1]Error: 'getEncChar' must be called on a CHARSXP
>> qq[1]
> [1]Error: 'getEncChar' must be called on a CHARSXP
>> qq[2]
> [1] NA
> 
> Apparently related:
> 
>> with(list(a=1,2),ls())
> Error in ls() : 'getEncChar' must be called on a CHARSXP

Thanks, yes, this looks wrong.

Also, closer to the root cause:

 > eval(quote(ls()),list(a=1,2))
Error in ls() : 'getEncChar' must be called on a CHARSXP


 > e <- evalq(environment(),list(2))
 > ls(e)
[1]Error: 'getEncChar' must be called on a CHARSXP

It is not quite clear that it should be allowed to have unnamed elements 
in lists used by eval (which is what with() uses internally). I suppose 
it should, since the intended semantics are unaffected in most cases. 
(I.e., there is nothing really wrong with eval(quote(a+b), 
list(a=1,b=2,3,4)), and people may have been using such code unwittingly 
all over.)

However, it IS a bug that we are creating ill-formed environments. The 
culprit seems to be that NewEnvironment (memory.c) is getting called in 
violation of its assumption that

" This definition allows
   the namelist argument to be shorter than the valuelist; in this
   case the remaining values must be named already.  (This is useful
   in cases where the entire valuelist is already named--namelist can
   then be R_NilValue.)
"

Removing the assumption from NewEnvironment looks like an efficiency 
sink, so I would suggest that we fix do_eval (eval.c) instead, 
effectively doing l <- l[names(l) != ""].  So in

     case LISTSXP:
	env = NewEnvironment(R_NilValue, duplicate(CADR(args)), encl);
	PROTECT(env);
	break;

we need to replace the duplicate() call with something that skips the 
unnamed elements.

The only side effect I can see from such a change is the resulting 
environments get a different length() than before. I'd say that if there 
are coder who actually rely on the length of an invalid environment, 
then they'd deserve what they'd get...

-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From ggrothendieck at gmail.com  Sun Nov  1 13:19:58 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 1 Nov 2009 07:19:58 -0500
Subject: [Rd] Internal error in 'ls' for pathological environments
	(PR#14035)
In-Reply-To: <4AED6AC1.7000003@biostat.ku.dk>
References: <20091101040013.149F2282EF3D@mail.pubhealth.ku.dk> 
	<4AED6AC1.7000003@biostat.ku.dk>
Message-ID: <971536df0911010419g77bea545jcc30bd7165c82065@mail.gmail.com>

On Sun, Nov 1, 2009 at 6:02 AM, Peter Dalgaard <p.dalgaard at biostat.ku.dk> wrote:
> macrakis at alum.mit.edu wrote:
>>
>> nchar(with(list(2),ls())) gives an internal error. This is of course
>> a peculiar call (no names in the list), but the error is not caught
>> cleanly.
>>
>> It is not clear from the documentation whether with(list(2)...) is
>> allowable; if it is not, it should presumably give an error. If it is,
>> then
>> ls
>> shouldn't have problems with the resulting environment.
>>
>>> qq <- with(list(2),ls()) ? ? ? ? ? ? ? ? ? ? ? ? # An incorrect call (no
>>
>> names in list)
>>>
>>> nchar(qq)
>>
>> Error in nchar(qq) : 'getEncChar' must be called on a CHARSXP ?# ls
>> returned
>> a bad object
>>>
>>> qq
>>
>> [1]Error: 'getEncChar' must be called on a CHARSXP
>>>
>>> qq[1]
>>
>> [1]Error: 'getEncChar' must be called on a CHARSXP
>>>
>>> qq[2]
>>
>> [1] NA
>>
>> Apparently related:
>>
>>> with(list(a=1,2),ls())
>>
>> Error in ls() : 'getEncChar' must be called on a CHARSXP
>
> Thanks, yes, this looks wrong.
>
> Also, closer to the root cause:
>
>> eval(quote(ls()),list(a=1,2))
> Error in ls() : 'getEncChar' must be called on a CHARSXP
>
>
>> e <- evalq(environment(),list(2))
>> ls(e)
> [1]Error: 'getEncChar' must be called on a CHARSXP
>
> It is not quite clear that it should be allowed to have unnamed elements in
> lists used by eval (which is what with() uses internally). I suppose it
> should, since the intended semantics are unaffected in most cases. (I.e.,
> there is nothing really wrong with eval(quote(a+b), list(a=1,b=2,3,4)), and
> people may have been using such code unwittingly all over.)
>
> However, it IS a bug that we are creating ill-formed environments. The
> culprit seems to be that NewEnvironment (memory.c) is getting called in
> violation of its assumption that
>
> " This definition allows
> ?the namelist argument to be shorter than the valuelist; in this
> ?case the remaining values must be named already. ?(This is useful
> ?in cases where the entire valuelist is already named--namelist can
> ?then be R_NilValue.)
> "
>
> Removing the assumption from NewEnvironment looks like an efficiency sink,
> so I would suggest that we fix do_eval (eval.c) instead, effectively doing l
> <- l[names(l) != ""]. ?So in
>
> ? ?case LISTSXP:
> ? ? ? ?env = NewEnvironment(R_NilValue, duplicate(CADR(args)), encl);
> ? ? ? ?PROTECT(env);
> ? ? ? ?break;
>
> we need to replace the duplicate() call with something that skips the
> unnamed elements.
>
> The only side effect I can see from such a change is the resulting
> environments get a different length() than before. I'd say that if there are
> coder who actually rely on the length of an invalid environment, then they'd
> deserve what they'd get...
>

Why not go one further -- and have R crash That would really show them.


From ggrothendieck at gmail.com  Sun Nov  1 13:25:09 2009
From: ggrothendieck at gmail.com (ggrothendieck at gmail.com)
Date: Sun,  1 Nov 2009 13:25:09 +0100 (CET)
Subject: [Rd] Internal error in 'ls' for pathological environments
	(PR#14036)
Message-ID: <20091101122509.C80D9282EF3D@mail.pubhealth.ku.dk>

On Sun, Nov 1, 2009 at 6:02 AM, Peter Dalgaard <p.dalgaard at biostat.ku.dk> w=
rote:
> macrakis at alum.mit.edu wrote:
>>
>> nchar(with(list(2),ls())) gives an internal error. This is of course
>> a peculiar call (no names in the list), but the error is not caught
>> cleanly.
>>
>> It is not clear from the documentation whether with(list(2)...) is
>> allowable; if it is not, it should presumably give an error. If it is,
>> then
>> ls
>> shouldn't have problems with the resulting environment.
>>
>>> qq <- with(list(2),ls()) =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 # An incorrect call (no
>>
>> names in list)
>>>
>>> nchar(qq)
>>
>> Error in nchar(qq) : 'getEncChar' must be called on a CHARSXP =A0# ls
>> returned
>> a bad object
>>>
>>> qq
>>
>> [1]Error: 'getEncChar' must be called on a CHARSXP
>>>
>>> qq[1]
>>
>> [1]Error: 'getEncChar' must be called on a CHARSXP
>>>
>>> qq[2]
>>
>> [1] NA
>>
>> Apparently related:
>>
>>> with(list(a=3D1,2),ls())
>>
>> Error in ls() : 'getEncChar' must be called on a CHARSXP
>
> Thanks, yes, this looks wrong.
>
> Also, closer to the root cause:
>
>> eval(quote(ls()),list(a=3D1,2))
> Error in ls() : 'getEncChar' must be called on a CHARSXP
>
>
>> e <- evalq(environment(),list(2))
>> ls(e)
> [1]Error: 'getEncChar' must be called on a CHARSXP
>
> It is not quite clear that it should be allowed to have unnamed elements =
in
> lists used by eval (which is what with() uses internally). I suppose it
> should, since the intended semantics are unaffected in most cases. (I.e.,
> there is nothing really wrong with eval(quote(a+b), list(a=3D1,b=3D2,3,4)=
), and
> people may have been using such code unwittingly all over.)
>
> However, it IS a bug that we are creating ill-formed environments. The
> culprit seems to be that NewEnvironment (memory.c) is getting called in
> violation of its assumption that
>
> " This definition allows
> =A0the namelist argument to be shorter than the valuelist; in this
> =A0case the remaining values must be named already. =A0(This is useful
> =A0in cases where the entire valuelist is already named--namelist can
> =A0then be R_NilValue.)
> "
>
> Removing the assumption from NewEnvironment looks like an efficiency sink=
,
> so I would suggest that we fix do_eval (eval.c) instead, effectively doin=
g l
> <- l[names(l) !=3D ""]. =A0So in
>
> =A0 =A0case LISTSXP:
> =A0 =A0 =A0 =A0env =3D NewEnvironment(R_NilValue, duplicate(CADR(args)), =
encl);
> =A0 =A0 =A0 =A0PROTECT(env);
> =A0 =A0 =A0 =A0break;
>
> we need to replace the duplicate() call with something that skips the
> unnamed elements.
>
> The only side effect I can see from such a change is the resulting
> environments get a different length() than before. I'd say that if there =
are
> coder who actually rely on the length of an invalid environment, then the=
y'd
> deserve what they'd get...
>

Why not go one further -- and have R crash That would really show them.


From murdoch at stats.uwo.ca  Sun Nov  1 15:08:08 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 01 Nov 2009 09:08:08 -0500
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>,
	<4AEC4954.9070400@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>
Message-ID: <4AED9648.7080702@stats.uwo.ca>

On 31/10/2009 10:18 PM, Mark.Bravington at csiro.au wrote:
>> Does this happen in R-patched?  I've seen similar errors in 2.10.0, but
>> not in a current build.
> 
> Yes, still there in R-patched.
> 
> (Still haven't got to your code, this was in
>> mine.  I'm reluctant to spend time on code that is messing with
>> internals, because you might be using things in a way not intended by
>> the author.  Now, if you can show me some code that demonstrates the
>> problem without using internals directly, I'll follow up.)
> 
> I did try, but it's not completely possible, because 'makeLazyLoadDB' is internal and there is no public alternative (a pity-- it's useful). However, the problem(s) can be demonstrated without directly calling 'parse_Rd', and with 'lazyLoad' (public) instead of 'fetchRdDB' (private), as per "pointer 1" below. If you have a look at 'tools:::.install_package_Rd_objects', you'll see that my use of 'makeLazyLoadDB' is quite standard.
> 
> The problem is not easy to reproduce. It took 4-5 hours work to get the 3-line reproducible example that I posted, plus another couple since, so I'm also reluctant to spend more time...

Okay, then we both agree we should drop it.

Duncan Murdoch

> 
> The examples in my previous post still apply-- the first one involves just 3 statements-- but here are some more pointers I've unearthed since:
> 
> 
> 1. Sometimes 'fetchRdDB' or 'lazyLoad' called directly from the prompt doesn't work, but public 'Rd_db' (which directly calls 'fetchRdDB') does. I've experimented with copying the installed 'tools' package into a new library "d:/temp/fakelib", then stuff like this:
> 
> test> e <- new.env()
> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e) # original files tools.rdx, tools.rdb
> test> e <- as.list( e) # force evaluation
> test> tools:::makeLazyLoadDB( e, 'd:/temp/fakelib/tools/help/tools') # modify tools.rd*
> test> e1 <- new.env()
> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e1)
> test> as.list( e1) # try to force evaluation...
> Error in as.list.environment(e1) : 
>   cannot allocate memory block of size 2.7 Gb
> test> 
> test> Rd_db( 'tools', 'd:/temp/fakelib') # no probs !?
> 
> 
> 2. Sometimes 'fetchRdDB' or 'lazyLoad' will fail in one R session, but will work in a fresh session on exactly the same files. For example, after restarting R, the previous commands involving 'e1' work fine.
> 
> Mark
> 
>> Duncan Murdoch
>>
> 
>>>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-
>>>> load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions
>>>> that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be
>>>> something strange going on; my code is very similar to code that lives inside
>>>> 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
>>> object.size() has problems when working on Rd objects, because it counts
>>> every environment separately, even though they may all be references to
>>> the same one. I haven't looked at your code, but that could be a problem.
>>>
>>>
>> Mark
>>
>> ________________________________________
>> From: Duncan Murdoch [murdoch at stats.uwo.ca]
>> Sent: 31 October 2009 08:59
>> To: Bravington, Mark (CMIS, Hobart)
>> Cc: r-devel at r-project.org
>> Subject: Re: [Rd] parse_Rd and/or lazyload problem
>>
>> On 30/10/2009 12:50 AM, Mark.Bravington at csiro.au wrote:
>>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be something strange going on; my code is very similar to code that lives inside 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
>> object.size() has problems when working on Rd objects, because it counts
>> every environment separately, even though they may all be references to
>> the same one. I haven't looked at your code, but that could be a problem.
>>
>> Duncan Murdoch
>>
>>> The examples below use files which can be found at ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to modify the paths. The file "scrunge.Rd" is just "Rdiff.Rd" from the 'tools' package. The file "fakepack.7z" should unzip to create a fake package with a DESCRIPTION file and a "man" directory that contains two Rd files.
>>>
>>> Transcript of first example:
>>> eglist <- list( scrunge=tools:::prepare_Rd(  'd:/temp/scrunge.Rd',
>>>     defines=.Platform$OS.type, stages='install', warningCalls=FALSE))
>>> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll', compress=FALSE)
>>> tools:::fetchRdDB( 'd:/temp/ll')
>>> # Error: cannot allocate vector of size 1.4 Gb
>>>
>>> The second example triggers an error with 'tools:::.install_package_Rd_objects' itself. It doesn't happen the first time, but frequently does after the Rd files have been changed. Transcript:
>>>
>>> # Make sure d:/temp/help/ is empty, then
>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>>> # All good. Next, I *removed* one of the two Rd files in "d:/temp/fakepack/man", ...
>>> # ...deleted "d:/temp/help/temp*", and tried again
>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>> Error: cannot allocate vector of size 1.9 Gb
>>> # Or on other occasions I get
>>> Error: internal error -3 in R_decompress1
>>>
>>> Mark Bravington
>>> CSIRO CMIS
>>> Hobart
>>> Australia
>>>
>>> --please do not edit the information below--
>>> Version:
>>>  platform = i386-pc-mingw32
>>>  arch = i386
>>>  os = mingw32
>>>  system = i386, mingw32
>>>  status =
>>>  major = 2
>>>  minor = 10.0
>>>  year = 2009
>>>  month = 10
>>>  day = 26
>>>  svn rev = 50208
>>>  language = R
>>>  version.string = R version 2.10.0 (2009-10-26)
>>> Windows XP (build 2600) Service Pack 2
>>> Locale:
>>> LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252
>>> Search Path:
>>>  .GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From Mark.Bravington at csiro.au  Sun Nov  1 21:12:18 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Mon, 2 Nov 2009 07:12:18 +1100
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <4AED9648.7080702@stats.uwo.ca>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>,
	<4AEC4954.9070400@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>,
	<4AED9648.7080702@stats.uwo.ca>
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F87055595B005@exvic-mbx03.nexus.csiro.au>

> Okay, then we both agree we should drop it.
> Duncan Murdoch


No we don't. I can't provide a functioning mvbutils, or debug, until this is resolved.

I am trying to be a good citizen and prepare reproducible bug reports-- e.g. the 3 line example. It would be quicker for me to write some ugly hack that modifies base R and gets round the problem *for me*, but that doesn't seem the best outcome for R. A culture which discourages careful bug reporting is unhealthy culture.

Mark Bravington


________________________________________
From: Duncan Murdoch [murdoch at stats.uwo.ca]
Sent: 02 November 2009 01:08
To: Bravington, Mark (CMIS, Hobart)
Cc: r-devel at r-project.org
Subject: Re: [Rd] parse_Rd and/or lazyload problem

On 31/10/2009 10:18 PM, Mark.Bravington at csiro.au wrote:
>> Does this happen in R-patched?  I've seen similar errors in 2.10.0, but
>> not in a current build.
>
> Yes, still there in R-patched.
>
> (Still haven't got to your code, this was in
>> mine.  I'm reluctant to spend time on code that is messing with
>> internals, because you might be using things in a way not intended by
>> the author.  Now, if you can show me some code that demonstrates the
>> problem without using internals directly, I'll follow up.)
>
> I did try, but it's not completely possible, because 'makeLazyLoadDB' is internal and there is no public alternative (a pity-- it's useful). However, the problem(s) can be demonstrated without directly calling 'parse_Rd', and with 'lazyLoad' (public) instead of 'fetchRdDB' (private), as per "pointer 1" below. If you have a look at 'tools:::.install_package_Rd_objects', you'll see that my use of 'makeLazyLoadDB' is quite standard.
>
> The problem is not easy to reproduce. It took 4-5 hours work to get the 3-line reproducible example that I posted, plus another couple since, so I'm also reluctant to spend more time...

Okay, then we both agree we should drop it.
Duncan Murdoch


>
> The examples in my previous post still apply-- the first one involves just 3 statements-- but here are some more pointers I've unearthed since:
>
>
> 1. Sometimes 'fetchRdDB' or 'lazyLoad' called directly from the prompt doesn't work, but public 'Rd_db' (which directly calls 'fetchRdDB') does. I've experimented with copying the installed 'tools' package into a new library "d:/temp/fakelib", then stuff like this:
>
> test> e <- new.env()
> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e) # original files tools.rdx, tools.rdb
> test> e <- as.list( e) # force evaluation
> test> tools:::makeLazyLoadDB( e, 'd:/temp/fakelib/tools/help/tools') # modify tools.rd*
> test> e1 <- new.env()
> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e1)
> test> as.list( e1) # try to force evaluation...
> Error in as.list.environment(e1) :
>   cannot allocate memory block of size 2.7 Gb
> test>
> test> Rd_db( 'tools', 'd:/temp/fakelib') # no probs !?
>
>
> 2. Sometimes 'fetchRdDB' or 'lazyLoad' will fail in one R session, but will work in a fresh session on exactly the same files. For example, after restarting R, the previous commands involving 'e1' work fine.
>
> Mark
>
>> Duncan Murdoch
>>
>
>>>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-
>>>> load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions
>>>> that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be
>>>> something strange going on; my code is very similar to code that lives inside
>>>> 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
>>> object.size() has problems when working on Rd objects, because it counts
>>> every environment separately, even though they may all be references to
>>> the same one. I haven't looked at your code, but that could be a problem.
>>>
>>>
>> Mark
>>
>> ________________________________________
>> From: Duncan Murdoch [murdoch at stats.uwo.ca]
>> Sent: 31 October 2009 08:59
>> To: Bravington, Mark (CMIS, Hobart)
>> Cc: r-devel at r-project.org
>> Subject: Re: [Rd] parse_Rd and/or lazyload problem
>>
>> On 30/10/2009 12:50 AM, Mark.Bravington at csiro.au wrote:
>>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be something strange going on; my code is very similar to code that lives inside 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
>> object.size() has problems when working on Rd objects, because it counts
>> every environment separately, even though they may all be references to
>> the same one. I haven't looked at your code, but that could be a problem.
>>
>> Duncan Murdoch
>>
>>> The examples below use files which can be found at ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to modify the paths. The file "scrunge.Rd" is just "Rdiff.Rd" from the 'tools' package. The file "fakepack.7z" should unzip to create a fake package with a DESCRIPTION file and a "man" directory that contains two Rd files.
>>>
>>> Transcript of first example:
>>> eglist <- list( scrunge=tools:::prepare_Rd(  'd:/temp/scrunge.Rd',
>>>     defines=.Platform$OS.type, stages='install', warningCalls=FALSE))
>>> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll', compress=FALSE)
>>> tools:::fetchRdDB( 'd:/temp/ll')
>>> # Error: cannot allocate vector of size 1.4 Gb
>>>
>>> The second example triggers an error with 'tools:::.install_package_Rd_objects' itself. It doesn't happen the first time, but frequently does after the Rd files have been changed. Transcript:
>>>
>>> # Make sure d:/temp/help/ is empty, then
>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>>> # All good. Next, I *removed* one of the two Rd files in "d:/temp/fakepack/man", ...
>>> # ...deleted "d:/temp/help/temp*", and tried again
>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>> Error: cannot allocate vector of size 1.9 Gb
>>> # Or on other occasions I get
>>> Error: internal error -3 in R_decompress1
>>>
>>> Mark Bravington
>>> CSIRO CMIS
>>> Hobart
>>> Australia
>>>
>>> --please do not edit the information below--
>>> Version:
>>>  platform = i386-pc-mingw32
>>>  arch = i386
>>>  os = mingw32
>>>  system = i386, mingw32
>>>  status =
>>>  major = 2
>>>  minor = 10.0
>>>  year = 2009
>>>  month = 10
>>>  day = 26
>>>  svn rev = 50208
>>>  language = R
>>>  version.string = R version 2.10.0 (2009-10-26)
>>> Windows XP (build 2600) Service Pack 2
>>> Locale:
>>> LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252
>>> Search Path:
>>>  .GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>

From murdoch at stats.uwo.ca  Sun Nov  1 21:28:32 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 01 Nov 2009 15:28:32 -0500
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <62C82B39B8A85E4B95A18F7F7B852F87055595B005@exvic-mbx03.nexus.csiro.au>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>,
	<4AEC4954.9070400@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>,
	<4AED9648.7080702@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B005@exvic-mbx03.nexus.csiro.au>
Message-ID: <4AEDEF70.5030004@stats.uwo.ca>

On 01/11/2009 3:12 PM, Mark.Bravington at csiro.au wrote:
>> Okay, then we both agree we should drop it.
>> Duncan Murdoch
> 
> 
> No we don't. I can't provide a functioning mvbutils, or debug, until this is resolved.
> 
> I am trying to be a good citizen and prepare reproducible bug reports-- e.g. the 3 line example. It would be quicker for me to write some ugly hack that modifies base R and gets round the problem *for me*, but that doesn't seem the best outcome for R. A culture which discourages careful bug reporting is unhealthy culture.

Sorry.  What I thought you said was that you had spent several hours on 
it and didn't want to spend more time on it.  I've told you I don't want 
to work on it either.

If there is no way to trigger this bug without using internals, then it 
has not been demonstrated to be a bug in R.  It might be one, or it 
might be a bug in your code.  Often I'll work on things that are 
demonstrated bugs, but I won't commit several hours to debugging your code.

Duncan Murdoch

> Mark Bravington
> 
> 
> ________________________________________
> From: Duncan Murdoch [murdoch at stats.uwo.ca]
> Sent: 02 November 2009 01:08
> To: Bravington, Mark (CMIS, Hobart)
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] parse_Rd and/or lazyload problem
> 
> On 31/10/2009 10:18 PM, Mark.Bravington at csiro.au wrote:
>>> Does this happen in R-patched?  I've seen similar errors in 2.10.0, but
>>> not in a current build.
>> Yes, still there in R-patched.
>>
>> (Still haven't got to your code, this was in
>>> mine.  I'm reluctant to spend time on code that is messing with
>>> internals, because you might be using things in a way not intended by
>>> the author.  Now, if you can show me some code that demonstrates the
>>> problem without using internals directly, I'll follow up.)
>> I did try, but it's not completely possible, because 'makeLazyLoadDB' is internal and there is no public alternative (a pity-- it's useful). However, the problem(s) can be demonstrated without directly calling 'parse_Rd', and with 'lazyLoad' (public) instead of 'fetchRdDB' (private), as per "pointer 1" below. If you have a look at 'tools:::.install_package_Rd_objects', you'll see that my use of 'makeLazyLoadDB' is quite standard.
>>
>> The problem is not easy to reproduce. It took 4-5 hours work to get the 3-line reproducible example that I posted, plus another couple since, so I'm also reluctant to spend more time...
> 
> Okay, then we both agree we should drop it.
> Duncan Murdoch
> 
> 
>> The examples in my previous post still apply-- the first one involves just 3 statements-- but here are some more pointers I've unearthed since:
>>
>>
>> 1. Sometimes 'fetchRdDB' or 'lazyLoad' called directly from the prompt doesn't work, but public 'Rd_db' (which directly calls 'fetchRdDB') does. I've experimented with copying the installed 'tools' package into a new library "d:/temp/fakelib", then stuff like this:
>>
>> test> e <- new.env()
>> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e) # original files tools.rdx, tools.rdb
>> test> e <- as.list( e) # force evaluation
>> test> tools:::makeLazyLoadDB( e, 'd:/temp/fakelib/tools/help/tools') # modify tools.rd*
>> test> e1 <- new.env()
>> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e1)
>> test> as.list( e1) # try to force evaluation...
>> Error in as.list.environment(e1) :
>>   cannot allocate memory block of size 2.7 Gb
>> test>
>> test> Rd_db( 'tools', 'd:/temp/fakelib') # no probs !?
>>
>>
>> 2. Sometimes 'fetchRdDB' or 'lazyLoad' will fail in one R session, but will work in a fresh session on exactly the same files. For example, after restarting R, the previous commands involving 'e1' work fine.
>>
>> Mark
>>
>>> Duncan Murdoch
>>>
>>>>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-
>>>>> load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions
>>>>> that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be
>>>>> something strange going on; my code is very similar to code that lives inside
>>>>> 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
>>>> object.size() has problems when working on Rd objects, because it counts
>>>> every environment separately, even though they may all be references to
>>>> the same one. I haven't looked at your code, but that could be a problem.
>>>>
>>>>
>>> Mark
>>>
>>> ________________________________________
>>> From: Duncan Murdoch [murdoch at stats.uwo.ca]
>>> Sent: 31 October 2009 08:59
>>> To: Bravington, Mark (CMIS, Hobart)
>>> Cc: r-devel at r-project.org
>>> Subject: Re: [Rd] parse_Rd and/or lazyload problem
>>>
>>> On 30/10/2009 12:50 AM, Mark.Bravington at csiro.au wrote:
>>>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be something strange going on; my code is very similar to code that lives inside 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
>>> object.size() has problems when working on Rd objects, because it counts
>>> every environment separately, even though they may all be references to
>>> the same one. I haven't looked at your code, but that could be a problem.
>>>
>>> Duncan Murdoch
>>>
>>>> The examples below use files which can be found at ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to modify the paths. The file "scrunge.Rd" is just "Rdiff.Rd" from the 'tools' package. The file "fakepack.7z" should unzip to create a fake package with a DESCRIPTION file and a "man" directory that contains two Rd files.
>>>>
>>>> Transcript of first example:
>>>> eglist <- list( scrunge=tools:::prepare_Rd(  'd:/temp/scrunge.Rd',
>>>>     defines=.Platform$OS.type, stages='install', warningCalls=FALSE))
>>>> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll', compress=FALSE)
>>>> tools:::fetchRdDB( 'd:/temp/ll')
>>>> # Error: cannot allocate vector of size 1.4 Gb
>>>>
>>>> The second example triggers an error with 'tools:::.install_package_Rd_objects' itself. It doesn't happen the first time, but frequently does after the Rd files have been changed. Transcript:
>>>>
>>>> # Make sure d:/temp/help/ is empty, then
>>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>>>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>>>> # All good. Next, I *removed* one of the two Rd files in "d:/temp/fakepack/man", ...
>>>> # ...deleted "d:/temp/help/temp*", and tried again
>>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>>>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>> Error: cannot allocate vector of size 1.9 Gb
>>>> # Or on other occasions I get
>>>> Error: internal error -3 in R_decompress1
>>>>
>>>> Mark Bravington
>>>> CSIRO CMIS
>>>> Hobart
>>>> Australia
>>>>
>>>> --please do not edit the information below--
>>>> Version:
>>>>  platform = i386-pc-mingw32
>>>>  arch = i386
>>>>  os = mingw32
>>>>  system = i386, mingw32
>>>>  status =
>>>>  major = 2
>>>>  minor = 10.0
>>>>  year = 2009
>>>>  month = 10
>>>>  day = 26
>>>>  svn rev = 50208
>>>>  language = R
>>>>  version.string = R version 2.10.0 (2009-10-26)
>>>> Windows XP (build 2600) Service Pack 2
>>>> Locale:
>>>> LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252
>>>> Search Path:
>>>>  .GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Sun Nov  1 21:57:10 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 01 Nov 2009 15:57:10 -0500
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
Message-ID: <4AEDF626.3030309@stats.uwo.ca>

On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
> Full_Name: alex galanos
> Version: 2.10.0
> OS: windows vista
> Submission from: (NULL) (86.11.78.110)
> 
> 
> I respectfully request that the chm help support for windows, which was very
> convenient, be reinstated...couldn't an online poll have been conducted to gauge
> the support of this format by window's users?

I don't think it's going to come back, because nobody who knows how to 
bring it back wants to take on the work of maintaining it.  However,
what you might want to do is to contact one of the commercial providers 
of R, and ask them to reinstate it.  They're much more interested in 
market research than R Core is, because their customers pay them for 
their product.  They'd probably be happy to sell you an enhanced R 
supporting CHM help if they think there's a market for it.

Duncan Murdoch


From ehlers at ucalgary.ca  Sun Nov  1 23:26:50 2009
From: ehlers at ucalgary.ca (Peter Ehlers)
Date: Sun, 01 Nov 2009 15:26:50 -0700
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <4AEDF626.3030309@stats.uwo.ca>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
	<4AEDF626.3030309@stats.uwo.ca>
Message-ID: <4AEE0B2A.1060107@ucalgary.ca>

Duncan Murdoch wrote:
> On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
>> Full_Name: alex galanos
>> Version: 2.10.0
>> OS: windows vista
>> Submission from: (NULL) (86.11.78.110)
>>
>>
>> I respectfully request that the chm help support for windows, which 
>> was very
>> convenient, be reinstated...couldn't an online poll have been 
>> conducted to gauge
>> the support of this format by window's users?

First, I don't think that complaints are bugs.
Secondly, why not give the new format a chance. Personally, I
like it. Thanks, Duncan.

  -Peter Ehlers

> 
> I don't think it's going to come back, because nobody who knows how to 
> bring it back wants to take on the work of maintaining it.  However,
> what you might want to do is to contact one of the commercial providers 
> of R, and ask them to reinstate it.  They're much more interested in 
> market research than R Core is, because their customers pay them for 
> their product.  They'd probably be happy to sell you an enhanced R 
> supporting CHM help if they think there's a market for it.
> 
> Duncan Murdoch
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
>


From murdoch at stats.uwo.ca  Sun Nov  1 23:55:56 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 01 Nov 2009 17:55:56 -0500
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <4AEE0FF1.5010006@4dscape.com>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca>
	<4AEE0FF1.5010006@4dscape.com>
Message-ID: <4AEE11FC.70102@stats.uwo.ca>

On 01/11/2009 5:47 PM, alexios wrote:
> Peter Ehlers wrote:
>> Duncan Murdoch wrote:
>>> On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
>>>> Full_Name: alex galanos
>>>> Version: 2.10.0
>>>> OS: windows vista
>>>> Submission from: (NULL) (86.11.78.110)
>>>>
>>>>
>>>> I respectfully request that the chm help support for windows, which 
>>>> was very
>>>> convenient, be reinstated...couldn't an online poll have been 
>>>> conducted to gauge
>>>> the support of this format by window's users?
>> First, I don't think that complaints are bugs.
>> Secondly, why not give the new format a chance. Personally, I
>> like it. Thanks, Duncan.
>>
>>  -Peter Ehlers
>>
> It was not a complaint but a simple request, which given the presence of 
> a wishlist subdirectory I thought was appropriate to post. Apologies if 
> it came across as such.

What is it that you particularly liked about the CHM help?  One thing it 
did well was the table of contents at the side, and the built-in search. 
  I would like to get those back, in the HTML help.  Is there anything else?

Duncan Murdoch


From ggrothendieck at gmail.com  Mon Nov  2 00:04:20 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 1 Nov 2009 18:04:20 -0500
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <4AEE11FC.70102@stats.uwo.ca>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk> 
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca> 
	<4AEE0FF1.5010006@4dscape.com> <4AEE11FC.70102@stats.uwo.ca>
Message-ID: <971536df0911011504j2a347b20r9936b3c0c05d7277@mail.gmail.com>

On Sun, Nov 1, 2009 at 5:55 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> What is it that you particularly liked about the CHM help? ?One thing it did
> well was the table of contents at the side, and the built-in search. ?I
> would like to get those back, in the HTML help. ?Is there anything else?
>

The main thing I miss is the speed. On my Vista system with IE8 it
seems to come up slower than the chm based help.

Has anyone tried it with a text-based browser such as lynx to see if
it runs faster that way?  Is there an option to specify which browser
to use for help?


From ehlers at ucalgary.ca  Mon Nov  2 00:06:02 2009
From: ehlers at ucalgary.ca (Peter Ehlers)
Date: Sun, 01 Nov 2009 16:06:02 -0700
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <4AEE0FF1.5010006@4dscape.com>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca>
	<4AEE0FF1.5010006@4dscape.com>
Message-ID: <4AEE145A.7000408@ucalgary.ca>

alexios wrote:
> Peter Ehlers wrote:
>> Duncan Murdoch wrote:
>>> On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
>>>> Full_Name: alex galanos
>>>> Version: 2.10.0
>>>> OS: windows vista
>>>> Submission from: (NULL) (86.11.78.110)
>>>>
>>>>
>>>> I respectfully request that the chm help support for windows, which 
>>>> was very
>>>> convenient, be reinstated...couldn't an online poll have been 
>>>> conducted to gauge
>>>> the support of this format by window's users?
>>
>> First, I don't think that complaints are bugs.
>> Secondly, why not give the new format a chance. Personally, I
>> like it. Thanks, Duncan.
>>
>>  -Peter Ehlers
>>
> It was not a complaint but a simple request, which given the presence of 
> a wishlist subdirectory I thought was appropriate to post. Apologies if 
> it came across as such.
> 
> -Alexios Ghalanos

You're quite right, Alexios, and I do apologize. I think I
jumped too hastily. It was the 'couldn't an online poll..'
part that got to me. The devel version of 2.10 was out for
quite awhile and it seems that there was mostly silence on the
issue.

  -Peter Ehlers

>>>
>>> I don't think it's going to come back, because nobody who knows how 
>>> to bring it back wants to take on the work of maintaining it.  However,
>>> what you might want to do is to contact one of the commercial 
>>> providers of R, and ask them to reinstate it.  They're much more 
>>> interested in market research than R Core is, because their customers 
>>> pay them for their product.  They'd probably be happy to sell you an 
>>> enhanced R supporting CHM help if they think there's a market for it.
>>>
>>> Duncan Murdoch
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>
>>
>>
> 
>


From ehlers at ucalgary.ca  Mon Nov  2 00:18:56 2009
From: ehlers at ucalgary.ca (Peter Ehlers)
Date: Sun, 01 Nov 2009 16:18:56 -0700
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <971536df0911011504j2a347b20r9936b3c0c05d7277@mail.gmail.com>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca>
	<4AEE0FF1.5010006@4dscape.com> <4AEE11FC.70102@stats.uwo.ca>
	<971536df0911011504j2a347b20r9936b3c0c05d7277@mail.gmail.com>
Message-ID: <4AEE1760.3080609@ucalgary.ca>

Gabor Grothendieck wrote:
> On Sun, Nov 1, 2009 at 5:55 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> What is it that you particularly liked about the CHM help?  One thing it did
>> well was the table of contents at the side, and the built-in search.  I
>> would like to get those back, in the HTML help.  Is there anything else?
>>
> 
> The main thing I miss is the speed. On my Vista system with IE8 it
> seems to come up slower than the chm based help.
> 
> Has anyone tried it with a text-based browser such as lynx to see if
> it runs faster that way?  Is there an option to specify which browser
> to use for help?
> 
Gabor, am I right in assuming that the speed problem is for the
first time you use help? I start Firefox whenever I start R. I don't
see much of a speed hit after that.

  -Peter Ehlers

> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
>


From ggrothendieck at gmail.com  Mon Nov  2 00:37:37 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 1 Nov 2009 18:37:37 -0500
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <4AEE1760.3080609@ucalgary.ca>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk> 
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca> 
	<4AEE0FF1.5010006@4dscape.com> <4AEE11FC.70102@stats.uwo.ca> 
	<971536df0911011504j2a347b20r9936b3c0c05d7277@mail.gmail.com> 
	<4AEE1760.3080609@ucalgary.ca>
Message-ID: <971536df0911011537u120111d2t4a59972ee6c1956c@mail.gmail.com>

I found the option in ?options and just tried it with Firefox and
Google Chrome and they do seem a bit faster than IE.

options(browser = function(x) shell(paste("start firefox", x)))
?help

options(browser = function(x)
shell(paste("%LocalAppData%\\Google\\Chrome\\Application\\chrome.exe",
x)))
?help.search

On Sun, Nov 1, 2009 at 6:18 PM, Peter Ehlers <ehlers at ucalgary.ca> wrote:
> Gabor Grothendieck wrote:
>>
>> On Sun, Nov 1, 2009 at 5:55 PM, Duncan Murdoch <murdoch at stats.uwo.ca>
>> wrote:
>>>
>>> What is it that you particularly liked about the CHM help? ?One thing it
>>> did
>>> well was the table of contents at the side, and the built-in search. ?I
>>> would like to get those back, in the HTML help. ?Is there anything else?
>>>
>>
>> The main thing I miss is the speed. On my Vista system with IE8 it
>> seems to come up slower than the chm based help.
>>
>> Has anyone tried it with a text-based browser such as lynx to see if
>> it runs faster that way? ?Is there an option to specify which browser
>> to use for help?
>>
> Gabor, am I right in assuming that the speed problem is for the
> first time you use help? I start Firefox whenever I start R. I don't
> see much of a speed hit after that.
>
> ?-Peter Ehlers
>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>


From murdoch at stats.uwo.ca  Mon Nov  2 01:57:27 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 01 Nov 2009 19:57:27 -0500
Subject: [Rd] recover and "called from" information
In-Reply-To: <4AE7250A.3090209@dbmail.com>
References: <4AE7250A.3090209@dbmail.com>
Message-ID: <4AEE2E77.5080903@stats.uwo.ca>

I've put a fix for this in place in R-devel now.  It required adding 
another parameter to browser(), so I'd like to test it out a while 
before backporting it to 2.10.0 patched.

Please give it a try, and let me know if you notice anything wrong.

Duncan Murdoch

On 27/10/2009 12:51 PM, Romain Francois wrote:
> Hello,
> 
> When using recover, the called from information is always "eval(expr, 
> envir, enclos)", which is not particularly useful.
> 
>  > f <- function( ){ g <- function(){ stop( "ouch") }; g() }
>  > options( error = recover )
>  > f()
> Error in g() : ouch
> 
> Enter a frame number, or 0 to exit
> 
> 1: f()
> 2: g()
> 
> Selection: 1
> Called from: eval(expr, envir, enclos)
> 
> 
> I'm using the following heuristic to guess if this was called from 
> recover and grab the actual call, and was wondering if something similar 
> could/should be integrated into R:
> 
> getcall <- function(){
> 	calls <- sys.calls()
> 	calls <- calls[ -length(calls) ]
> 	funs <- sapply( calls, function(x) as.character(x)[1L] )
> 	frames <- sys.frames()
> 	frames <- frames[ -length(frames) ]
> 	nc <- length(calls)
> 	
> 	if( nc >= 3L &&
> 		identical( tail(funs, 2L ), rep("eval", 2L) ) &&
> 		identical(
> 			paste( as.character( calls[[ nc - 1L ]] ), collapse = "--" ),
> 			"eval--quote(browser())--sys.frame(which)" )
> 			) {
> 		
> 		w <- get( "which", sys.frame(nc- 2L ), inherits = FALSE )
> 		if( typeof( w ) == "integer" && length(w) == 1L ){
> 			return( calls[[w]] )
> 		}
> 		
> 	}
> 	calls[[nc]]
> 	
> }
> 
> I'd be happy to work on an internal version instead of this one in R.
> 
> Romain
> 
>


From chuckwhite8 at charter.net  Mon Nov  2 03:20:39 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Sun, 1 Nov 2009 21:20:39 -0500
Subject: [Rd] unable to compile RODBC (R 2.9.2, AIX)
In-Reply-To: <19407CE5-BB27-4FF4-B620-9A7E7DAB223E@me.com>
Message-ID: <20091101212039.WG6YR.7991771.root@mp20>

I could compile RODBC on AIX 5.3/R-2.9.2. I set LDFLAGS to:

    export LDFLAGS="-L/usr/lib64 -L/opt/freeware/lib64 -L/usr/X11R6/lib"

Earlier, I had some other paths which had 32-bit libraries as well. Obviously, I re-compiled R and all the other libraries using this flag.

Prof. Ripley and Marc, thanks for your response.


---- Marc Schwartz <marc_schwartz at me.com> wrote: 
> On Oct 31, 2009, at 1:13 PM, Chuck White wrote:
> 
> > Hello -- I am trying to compile (linker error, not compiler error)  
> > RODBC for R 2.9.2 on AIX 5.3 using gcc. I get the following error:


From hb at stat.berkeley.edu  Mon Nov  2 03:22:23 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Sun, 1 Nov 2009 18:22:23 -0800
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <4AEDEF70.5030004@stats.uwo.ca>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>
	<4AEC4954.9070400@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>
	<4AED9648.7080702@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B005@exvic-mbx03.nexus.csiro.au>
	<4AEDEF70.5030004@stats.uwo.ca>
Message-ID: <59d7961d0911011822m139b1e9dufa82fccd0aba0cc8@mail.gmail.com>

If of any help, I got a related error message in my browser (Firefox),
from doing this:

1. In .Rprofile I set options(help.ports=6850)

2. I have one "R HELP" session running where I do help.start() so that
I always have one session providing the help pages.  This is to avoid
having to redo help.start() if I restart R etc, which tend to do alot
when I do package development.

3. While installing a package that I develop, I did reload (Ctrl-R)
multiple times on a HTML help page during the process.  This caused
the following message to be display in the browswer:

  Error in tools:::fetchRdDB(RdDB, helpdoc) :
    cannot allocate memory block of size 2.3 Gb

This message remains the same if I do reload.

4. After restarting the "R HELP" session above, the above page is
displayed properly.

> sessionInfo()
R version 2.10.0 Patched (2009-10-26 r50212)
i386-pc-mingw32

locale:
[1] LC_COLLATE=English_United States.1252
[2] LC_CTYPE=English_United States.1252
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.10.0

/Henrik

On Sun, Nov 1, 2009 at 12:28 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 01/11/2009 3:12 PM, Mark.Bravington at csiro.au wrote:
>>>
>>> Okay, then we both agree we should drop it.
>>> Duncan Murdoch
>>
>>
>> No we don't. I can't provide a functioning mvbutils, or debug, until this
>> is resolved.
>>
>> I am trying to be a good citizen and prepare reproducible bug reports--
>> e.g. the 3 line example. It would be quicker for me to write some ugly hack
>> that modifies base R and gets round the problem *for me*, but that doesn't
>> seem the best outcome for R. A culture which discourages careful bug
>> reporting is unhealthy culture.
>
> Sorry. ?What I thought you said was that you had spent several hours on it
> and didn't want to spend more time on it. ?I've told you I don't want to
> work on it either.
>
> If there is no way to trigger this bug without using internals, then it has
> not been demonstrated to be a bug in R. ?It might be one, or it might be a
> bug in your code. ?Often I'll work on things that are demonstrated bugs, but
> I won't commit several hours to debugging your code.
>
> Duncan Murdoch
>
>> Mark Bravington
>>
>>
>> ________________________________________
>> From: Duncan Murdoch [murdoch at stats.uwo.ca]
>> Sent: 02 November 2009 01:08
>> To: Bravington, Mark (CMIS, Hobart)
>> Cc: r-devel at r-project.org
>> Subject: Re: [Rd] parse_Rd and/or lazyload problem
>>
>> On 31/10/2009 10:18 PM, Mark.Bravington at csiro.au wrote:
>>>>
>>>> Does this happen in R-patched? ?I've seen similar errors in 2.10.0, but
>>>> not in a current build.
>>>
>>> Yes, still there in R-patched.
>>>
>>> (Still haven't got to your code, this was in
>>>>
>>>> mine. ?I'm reluctant to spend time on code that is messing with
>>>> internals, because you might be using things in a way not intended by
>>>> the author. ?Now, if you can show me some code that demonstrates the
>>>> problem without using internals directly, I'll follow up.)
>>>
>>> I did try, but it's not completely possible, because 'makeLazyLoadDB' is
>>> internal and there is no public alternative (a pity-- it's useful). However,
>>> the problem(s) can be demonstrated without directly calling 'parse_Rd', and
>>> with 'lazyLoad' (public) instead of 'fetchRdDB' (private), as per "pointer
>>> 1" below. If you have a look at 'tools:::.install_package_Rd_objects',
>>> you'll see that my use of 'makeLazyLoadDB' is quite standard.
>>>
>>> The problem is not easy to reproduce. It took 4-5 hours work to get the
>>> 3-line reproducible example that I posted, plus another couple since, so I'm
>>> also reluctant to spend more time...
>>
>> Okay, then we both agree we should drop it.
>> Duncan Murdoch
>>
>>
>>> The examples in my previous post still apply-- the first one involves
>>> just 3 statements-- but here are some more pointers I've unearthed since:
>>>
>>>
>>> 1. Sometimes 'fetchRdDB' or 'lazyLoad' called directly from the prompt
>>> doesn't work, but public 'Rd_db' (which directly calls 'fetchRdDB') does.
>>> I've experimented with copying the installed 'tools' package into a new
>>> library "d:/temp/fakelib", then stuff like this:
>>>
>>> test> e <- new.env()
>>> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e) # original files
>>> tools.rdx, tools.rdb
>>> test> e <- as.list( e) # force evaluation
>>> test> tools:::makeLazyLoadDB( e, 'd:/temp/fakelib/tools/help/tools') #
>>> modify tools.rd*
>>> test> e1 <- new.env()
>>> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e1)
>>> test> as.list( e1) # try to force evaluation...
>>> Error in as.list.environment(e1) :
>>> ?cannot allocate memory block of size 2.7 Gb
>>> test>
>>> test> Rd_db( 'tools', 'd:/temp/fakelib') # no probs !?
>>>
>>>
>>> 2. Sometimes 'fetchRdDB' or 'lazyLoad' will fail in one R session, but
>>> will work in a fresh session on exactly the same files. For example, after
>>> restarting R, the previous commands involving 'e1' work fine.
>>>
>>> Mark
>>>
>>>> Duncan Murdoch
>>>>
>>>>>> I'm encountering problems when making lazy-loadable databases of the
>>>>>> output from 'parse_Rd'. The lazy-
>>>>>> load database is of seemingly limitless size when I try to reload
>>>>>> it... Admittedly I am using functions
>>>>>> that I'm not really supposed to use, which is why this isn't a bug
>>>>>> report, but there does seem to be
>>>>>> something strange going on; my code is very similar to code that lives
>>>>>> inside
>>>>>> 'tools:::.install_package_Rd_objects'. The problems occur with
>>>>>> just-released R2.10.0 on Windows.
>>>>>
>>>>> object.size() has problems when working on Rd objects, because it
>>>>> counts
>>>>> every environment separately, even though they may all be references to
>>>>> the same one. I haven't looked at your code, but that could be a
>>>>> problem.
>>>>>
>>>>>
>>>> Mark
>>>>
>>>> ________________________________________
>>>> From: Duncan Murdoch [murdoch at stats.uwo.ca]
>>>> Sent: 31 October 2009 08:59
>>>> To: Bravington, Mark (CMIS, Hobart)
>>>> Cc: r-devel at r-project.org
>>>> Subject: Re: [Rd] parse_Rd and/or lazyload problem
>>>>
>>>> On 30/10/2009 12:50 AM, Mark.Bravington at csiro.au wrote:
>>>>>
>>>>> I'm encountering problems when making lazy-loadable databases of the
>>>>> output from 'parse_Rd'. The lazy-load database is of seemingly limitless
>>>>> size when I try to reload it... Admittedly I am using functions that I'm not
>>>>> really supposed to use, which is why this isn't a bug report, but there does
>>>>> seem to be something strange going on; my code is very similar to code that
>>>>> lives inside 'tools:::.install_package_Rd_objects'. The problems occur with
>>>>> just-released R2.10.0 on Windows.
>>>>
>>>> object.size() has problems when working on Rd objects, because it counts
>>>> every environment separately, even though they may all be references to
>>>> the same one. I haven't looked at your code, but that could be a
>>>> problem.
>>>>
>>>> Duncan Murdoch
>>>>
>>>>> The examples below use files which can be found at
>>>>> ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to modify the
>>>>> paths. The file "scrunge.Rd" is just "Rdiff.Rd" from the 'tools' package.
>>>>> The file "fakepack.7z" should unzip to create a fake package with a
>>>>> DESCRIPTION file and a "man" directory that contains two Rd files.
>>>>>
>>>>> Transcript of first example:
>>>>> eglist <- list( scrunge=tools:::prepare_Rd( ?'d:/temp/scrunge.Rd',
>>>>> ? ?defines=.Platform$OS.type, stages='install', warningCalls=FALSE))
>>>>> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll', compress=FALSE)
>>>>> tools:::fetchRdDB( 'd:/temp/ll')
>>>>> # Error: cannot allocate vector of size 1.4 Gb
>>>>>
>>>>> The second example triggers an error with
>>>>> 'tools:::.install_package_Rd_objects' itself. It doesn't happen the first
>>>>> time, but frequently does after the Rd files have been changed. Transcript:
>>>>>
>>>>> # Make sure d:/temp/help/ is empty, then
>>>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack',
>>>>> 'd:/temp')
>>>>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>>>>> # All good. Next, I *removed* one of the two Rd files in
>>>>> "d:/temp/fakepack/man", ...
>>>>> # ...deleted "d:/temp/help/temp*", and tried again
>>>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack',
>>>>> 'd:/temp')
>>>>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>>> Error: cannot allocate vector of size 1.9 Gb
>>>>> # Or on other occasions I get
>>>>> Error: internal error -3 in R_decompress1
>>>>>
>>>>> Mark Bravington
>>>>> CSIRO CMIS
>>>>> Hobart
>>>>> Australia
>>>>>
>>>>> --please do not edit the information below--
>>>>> Version:
>>>>> ?platform = i386-pc-mingw32
>>>>> ?arch = i386
>>>>> ?os = mingw32
>>>>> ?system = i386, mingw32
>>>>> ?status =
>>>>> ?major = 2
>>>>> ?minor = 10.0
>>>>> ?year = 2009
>>>>> ?month = 10
>>>>> ?day = 26
>>>>> ?svn rev = 50208
>>>>> ?language = R
>>>>> ?version.string = R version 2.10.0 (2009-10-26)
>>>>> Windows XP (build 2600) Service Pack 2
>>>>> Locale:
>>>>>
>>>>> LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252
>>>>> Search Path:
>>>>> ?.GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff,
>>>>> package:handy2, package:tweedie, package:statmod, package:handy,
>>>>> package:debug, package:mvbutils, mvb.session.info, package:tools,
>>>>> package:tcltk, package:stats, package:graphics, package:utils,
>>>>> package:methods, Autoloads, package:base
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From groemping at bht-berlin.de  Mon Nov  2 09:38:53 2009
From: groemping at bht-berlin.de (Ulrike Groemping)
Date: Mon, 2 Nov 2009 00:38:53 -0800 (PST)
Subject: [Rd]  Help with issues for update when defining S3 methods for lm
Message-ID: <26156624.post@talk.nabble.com>


Dear expeRts,

in my package DoE.base, I have defined a generic for lm 
(lm <- function(formula, ...){UseMethod("lm")}) 
and functions lm.design and lm.default (lm.default <- stats::lm). The
namespace exports "lm", and defines the methods with S3method (e.g.
S3method("lm",default)).

This construction causes a problem with update, as e.g. in 

swiss.lm <- lm(Fertility~Education+Examination, swiss)
upd.swiss.lm <- update(swiss.lm, .~.-Examination)

which works without DoE.base loaded, but not with DoE.base loaded. In the
latter case, I get 

Error in eval(expr, envir, enclos) : could not find function "lm.default"

I thought I exactly followed the directions in Section 1.6.2 of "Writing R
extensions". Any suggestions ?

Regards, Ulrike
-- 
View this message in context: http://old.nabble.com/Help-with-issues-for-update-when-defining-S3-methods-for-lm-tp26156624p26156624.html
Sent from the R devel mailing list archive at Nabble.com.


From alexios at 4dscape.com  Sun Nov  1 23:47:13 2009
From: alexios at 4dscape.com (alexios)
Date: Sun, 01 Nov 2009 22:47:13 +0000
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <4AEE0B2A.1060107@ucalgary.ca>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca>
Message-ID: <4AEE0FF1.5010006@4dscape.com>

Peter Ehlers wrote:
> Duncan Murdoch wrote:
>> On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
>>> Full_Name: alex galanos
>>> Version: 2.10.0
>>> OS: windows vista
>>> Submission from: (NULL) (86.11.78.110)
>>>
>>>
>>> I respectfully request that the chm help support for windows, which 
>>> was very
>>> convenient, be reinstated...couldn't an online poll have been 
>>> conducted to gauge
>>> the support of this format by window's users?
> 
> First, I don't think that complaints are bugs.
> Secondly, why not give the new format a chance. Personally, I
> like it. Thanks, Duncan.
> 
>  -Peter Ehlers
> 
It was not a complaint but a simple request, which given the presence of 
a wishlist subdirectory I thought was appropriate to post. Apologies if 
it came across as such.

-Alexios Ghalanos
>>
>> I don't think it's going to come back, because nobody who knows how to 
>> bring it back wants to take on the work of maintaining it.  However,
>> what you might want to do is to contact one of the commercial 
>> providers of R, and ask them to reinstate it.  They're much more 
>> interested in market research than R Core is, because their customers 
>> pay them for their product.  They'd probably be happy to sell you an 
>> enhanced R supporting CHM help if they think there's a market for it.
>>
>> Duncan Murdoch
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
> 
>


From alexios at 4dscape.com  Mon Nov  2 00:04:54 2009
From: alexios at 4dscape.com (alexios)
Date: Sun, 01 Nov 2009 23:04:54 +0000
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <4AEE11FC.70102@stats.uwo.ca>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca>
	<4AEE0FF1.5010006@4dscape.com> <4AEE11FC.70102@stats.uwo.ca>
Message-ID: <4AEE1416.5020906@4dscape.com>

Duncan Murdoch wrote:
> On 01/11/2009 5:47 PM, alexios wrote:
>> Peter Ehlers wrote:
>>> Duncan Murdoch wrote:
>>>> On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
>>>>> Full_Name: alex galanos
>>>>> Version: 2.10.0
>>>>> OS: windows vista
>>>>> Submission from: (NULL) (86.11.78.110)
>>>>>
>>>>>
>>>>> I respectfully request that the chm help support for windows, which 
>>>>> was very
>>>>> convenient, be reinstated...couldn't an online poll have been 
>>>>> conducted to gauge
>>>>> the support of this format by window's users?
>>> First, I don't think that complaints are bugs.
>>> Secondly, why not give the new format a chance. Personally, I
>>> like it. Thanks, Duncan.
>>>
>>>  -Peter Ehlers
>>>
>> It was not a complaint but a simple request, which given the presence 
>> of a wishlist subdirectory I thought was appropriate to post. 
>> Apologies if it came across as such.
> 
> What is it that you particularly liked about the CHM help?  One thing it 
> did well was the table of contents at the side, and the built-in search. 
>  I would like to get those back, in the HTML help.  Is there anything else?
> 
> Duncan Murdoch
> 
> 
Nothing else really, the table of contents and search facility were the 
biggest advantages. Thanks.

Alexios Ghalanos


From joehl at web.de  Mon Nov  2 14:15:03 2009
From: joehl at web.de (=?iso-8859-15?Q?Jens_Oehlschl=E4gel?=)
Date: Mon, 02 Nov 2009 14:15:03 +0100
Subject: [Rd] two small wishes (with code sugegstions) for R-core
Message-ID: <1405222243@web.de>

Dear R developers,

It would be great if you could implement the two minor code changes suggested below, which would help processing large objects in R.


Jens Oehlschl?gel


# Wish no. 1: let [.AsIs return the class AFTER subsetting, not the class of the original object
# Wish no. 2: adjust write.csv and write.csv2 for multiple calls in chunked writing

# Rationale no. 1: a couple of packages will return a different class than SomeClass when subsetting with [.SomeClass 
# and still need to keep the AsIs property
# Examples for classes returning different classes on subscipting are in packages 'bit', 'ff', 'bigmemory'
# For classes where [.SomeClass will return class SomeClass, such a change will not hurt

# Code suggestion no. 1: please use 
"[.AsIs" <- function (x, i, ...){
      ret <- NextMethod("[")
      oldClass(ret) <- c("AsIs", oldClass(ret))
      ret
}
# instead of
"[.AsIs" <- function (x, i, ...)
structure(NextMethod("["), class = class(x))


# Rationale no. 2: write.csv and write.csv2 currently enforce that a header must be written, even with append=TRUE
# This prevents a csv file being written in chunks.
# If argument append=TRUE is used, a header should not be enforced (may be even be forbidden)

# Code suggestion no. 2: please use
write.csv <-
function (...)
{
    Call <- match.call(write.table, expand.dots = TRUE)
    for (argname in c("col.names", "sep", "dec", "qmethod")) if (!is.null(Call[[argname]]))
        warning(gettextf("attempt to set '%s' ignored", argname),
            domain = NA)
    rn <- eval.parent(Call$row.names)
    ap <- eval.parent(Call$append)
    Call$col.names <- if (is.logical(ap) && ap) FALSE else {if (is.logical(rn) && !rn) TRUE else NA}
    Call$sep <- ","
    Call$dec <- "."
    Call$qmethod <- "double"
    Call[[1L]] <- as.name("write.table")
    eval.parent(Call)
}
write.csv2 <-
function (...)
{
    Call <- match.call(write.table, expand.dots = TRUE)
    for (argname in c("col.names", "sep", "dec", "qmethod")) if (!is.null(Call[[argname]]))
        warning(gettextf("attempt to set '%s' ignored", argname),
            domain = NA)
    rn <- eval.parent(Call$row.names)
    ap <- eval.parent(Call$append)
    Call$col.names <- if (is.logical(ap) && ap) FALSE else {if (is.logical(rn) && !rn) TRUE else NA}
    Call$sep <- ";"
    Call$dec <- ","
    Call$qmethod <- "double"
    Call[[1L]] <- as.name("write.table")
    eval.parent(Call)
}
# instead of
write.csv <- function (...) 
{
    Call <- match.call(expand.dots = TRUE)
    for (argname in c("col.names", "sep", "dec", "qmethod")) if (!is.null(Call[[argname]])) 
        warning(gettextf("attempt to set '%s' ignored", argname), 
            domain = NA)
    rn <- eval.parent(Call$row.names)
    Call$col.names <- if (is.logical(rn) && !rn) 
        TRUE
    else NA
    Call$sep <- ","
    Call$dec <- "."
    Call$qmethod <- "double"
    Call[[1L]] <- as.name("write.table")
    eval.parent(Call)
}
write.csv2 <- 
function (...) 
{
    Call <- match.call(expand.dots = TRUE)
    for (argname in c("col.names", "sep", "dec", "qmethod")) if (!is.null(Call[[argname]])) 
        warning(gettextf("attempt to set '%s' ignored", argname), 
            domain = NA)
    rn <- eval.parent(Call$row.names)
    Call$col.names <- if (is.logical(rn) && !rn) 
        TRUE
    else NA
    Call$sep <- ";"
    Call$dec <- ","
    Call$qmethod <- "double"
    Call[[1L]] <- as.name("write.table")
    eval.parent(Call)
}


From jfox at mcmaster.ca  Mon Nov  2 15:53:27 2009
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 2 Nov 2009 09:53:27 -0500
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <4AEE1416.5020906@4dscape.com>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>	<4AEDF626.3030309@stats.uwo.ca>
	<4AEE0B2A.1060107@ucalgary.ca>	<4AEE0FF1.5010006@4dscape.com>
	<4AEE11FC.70102@stats.uwo.ca> <4AEE1416.5020906@4dscape.com>
Message-ID: <001801ca5bcc$3c699990$b53cccb0$@ca>

Dear Alexios and Duncan,

I think that there's one more thing to be said in favour of chm help, and
that's that its format is familiar to Windows users. I've been using html
help on Windows myself for a long time, but before R 2.10.0 recommended chm
help to new Windows users of R. That said, I expect that retaining chm help
just isn't worth the effort.

Regards,
 John

> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org]
On
> Behalf Of alexios
> Sent: November-01-09 6:05 PM
> To: Duncan Murdoch
> Cc: r-devel at stat.math.ethz.ch
> Subject: Re: [Rd] Request: bring back windows chm help support (PR#14034)
> 
> Duncan Murdoch wrote:
> > On 01/11/2009 5:47 PM, alexios wrote:
> >> Peter Ehlers wrote:
> >>> Duncan Murdoch wrote:
> >>>> On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
> >>>>> Full_Name: alex galanos
> >>>>> Version: 2.10.0
> >>>>> OS: windows vista
> >>>>> Submission from: (NULL) (86.11.78.110)
> >>>>>
> >>>>>
> >>>>> I respectfully request that the chm help support for windows, which
> >>>>> was very
> >>>>> convenient, be reinstated...couldn't an online poll have been
> >>>>> conducted to gauge
> >>>>> the support of this format by window's users?
> >>> First, I don't think that complaints are bugs.
> >>> Secondly, why not give the new format a chance. Personally, I
> >>> like it. Thanks, Duncan.
> >>>
> >>>  -Peter Ehlers
> >>>
> >> It was not a complaint but a simple request, which given the presence
> >> of a wishlist subdirectory I thought was appropriate to post.
> >> Apologies if it came across as such.
> >
> > What is it that you particularly liked about the CHM help?  One thing it
> > did well was the table of contents at the side, and the built-in search.
> >  I would like to get those back, in the HTML help.  Is there anything
else?
> >
> > Duncan Murdoch
> >
> >
> Nothing else really, the table of contents and search facility were the
> biggest advantages. Thanks.
> 
> Alexios Ghalanos
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ggrothendieck at gmail.com  Mon Nov  2 16:59:08 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 2 Nov 2009 10:59:08 -0500
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <001801ca5bcc$3c699990$b53cccb0$@ca>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk> 
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca> 
	<4AEE0FF1.5010006@4dscape.com> <4AEE11FC.70102@stats.uwo.ca> 
	<4AEE1416.5020906@4dscape.com> <001801ca5bcc$3c699990$b53cccb0$@ca>
Message-ID: <971536df0911020759j60f3e3au2bb89c7887b300f7@mail.gmail.com>

On Mon, Nov 2, 2009 at 9:53 AM, John Fox <jfox at mcmaster.ca> wrote:
> I think that there's one more thing to be said in favour of chm help, and
> that's that its format is familiar to Windows users. I've been using html
> help on Windows myself for a long time, but before R 2.10.0 recommended chm
> help to new Windows users of R. That said, I expect that retaining chm help
> just isn't worth the effort.
>

Another point is that even Microsoft itself is moving from chm to
another format. See:

http://en.wikipedia.org/wiki/Microsoft_Compiled_HTML_Help
http://en.wikipedia.org/wiki/Microsoft_Assistance_Markup_Language


From pgilbert at bank-banque-canada.ca  Mon Nov  2 16:37:02 2009
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 02 Nov 2009 10:37:02 -0500
Subject: [Rd] reg-tests-1 failing in Ubuntu 9.10
Message-ID: <4AEEFC9E.7020803@bank-banque-canada.ca>

I upgraded one of my computers to Ubuntu 9.10 (Karmic) and  when I do 
make check with R-2.10.0 reg-tests-1 is failing.   The file 
reg-tests-1.Rout.fail is attached. I am having difficulty distinguishing 
what causes the error.  Any suggestions would be appreciated.

Paul
====================================================================================

La version fran?aise suit le texte anglais.

------------------------------------------------------------------------------------

This email may contain privileged and/or confidential information, and the Bank of
Canada does not waive any related rights. Any distribution, use, or copying of this
email or the information it contains by other than the intended recipient is
unauthorized. If you received this email in error please delete it immediately from
your system and notify the sender promptly by email that you have done so. 

------------------------------------------------------------------------------------

Le pr?sent courriel peut contenir de l'information privil?gi?e ou confidentielle.
La Banque du Canada ne renonce pas aux droits qui s'y rapportent. Toute diffusion,
utilisation ou copie de ce courriel ou des renseignements qu'il contient par une
personne autre que le ou les destinataires d?sign?s est interdite. Si vous recevez
ce courriel par erreur, veuillez le supprimer imm?diatement et envoyer sans d?lai ?
l'exp?diteur un message ?lectronique pour l'aviser que vous avez ?limin? de votre
ordinateur toute copie du courriel re?u.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: reg-tests-1.Rout.fail
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091102/bca47d09/attachment.pl>

From chuckwhite8 at charter.net  Mon Nov  2 17:50:16 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Mon, 2 Nov 2009 11:50:16 -0500
Subject: [Rd] R292 and tcl/tk
Message-ID: <20091102115016.9SC77.7903860.root@mp14>

BACKGROUND
      R2.9.2 built on  power5 aix5.3 using gcc 4.2.4   (also installed: tcl and tk 8.5.7)
     Access from a Windows XP machine using Exceed v9.0, aixterm (DISPLAY etc. setup)

    export LDFLAGS="-L/usr/lib64 -L/opt/freeware/lib64 -L/opt/freeware/64/lib -L/usr/X11R6/lib -L/opt/freeware/lib"
    export CPPFLAGS="-I/opt/freeware/include -I/usr/lpp/X11/include/X11"


CONFIGURATION 1 (with tcl/tk)
 ../R-2.9.2/configure --enable-R-shlib --enable-BLAS-shlib --with-tcl-config=/opt/freeware/lib64/tclConfig.sh --with-tk-config=/opt/freeware/lib64/tkConfig.sh --prefix=/usr/local/R-2.9.2 > config_292.log 2>&1

> update.packages()
--- Please select a CRAN mirror for use in this session ---
Loading Tcl/Tk interface ...
 *** caught segfault ***
address 21188073e, cause 'memory not mapped'
 
Traceback:
 1: .C("tcltk_init", PACKAGE = "tcltk")
 2: fun(...)
 3: doTryCatch(return(expr), name, parentenv, handler)
...............
19: tryCatch(asNamespace(pkg), hasNoNamespaceError = function(e) NULL)
20: tcltk::tk_select.list
21: menu(m[, 1L], graphics, "CRAN mirror")
22: chooseCRANmirror()
23: contrib.url(repos, type)
24: available.packages(contriburl = contriburl, method = method)
25: update.packages()


CONFIGURATION 2 (without tcl/tk)

../R-2.9.2/configure --enable-R-shlib --enable-BLAS-shlib --with-tcltk=no --prefix=/usr/local/R-2.9.2 > config_292.log 2>&1 ; make > make_292.log 2>&1

> update.packages()
--- Please select a CRAN mirror for use in this session ---
CRAN mirror
 
 1: Argentina (Buenos Aires)    2: Australia               
 3: Austria                     4: Belarus                 
 5: Belgium                     6: Brazil (PR)


QUESTION
1.  Are there any known issues with tcl/tk? Should I be doing anything different in the configuration?
2. When I try a simple plot command in either configuration   (eg.  plot(sin, -pi, pi)),  the plot window shows up immediately on my machine but the plot itself takes all of two minutes to draw.  I am not sure if the two issues are related.

I would appreciate any help with this.  Thanks.


From bolker at ufl.edu  Tue Nov  3 03:16:32 2009
From: bolker at ufl.edu (Ben Bolker)
Date: Tue, 3 Nov 2009 02:16:32 +0000 (UTC)
Subject: [Rd] odd evaluation within correlation argument of glmmPQL
References: <AC6F23A2BA13C347A59BDCBCFF41E27B5F538D4640@UFEXCH-MBXCL03.ad.ufl.edu>
	<26083255.post@talk.nabble.com>
Message-ID: <loom.20091103T031435-800@post.gmane.org>

Ben Bolker <bolker <at> ufl.edu> writes:

> > [snip example and patches]
>  The basic issue is that glmmPQL throws out data that are
> not involved in the fixed or random model terms, or in the offset
> term.  It doesn't save variables that are only found in the
> correlation formula argument.  It's hard to imagine how
> this behavior is anything other than a bug ... and the patch fixes it
> in a straightforward way.
> 

  Bumping again (sorry to nag, but it would seem a shame
for this to slip through the cracks).  Should I submit this as a bug?

   Ben Bolker


From phgrosjean at sciviews.org  Tue Nov  3 10:48:23 2009
From: phgrosjean at sciviews.org (Philippe Grosjean)
Date: Tue, 03 Nov 2009 10:48:23 +0100
Subject: [Rd] Strange code in `?`
Message-ID: <4AEFFC67.7070206@sciviews.org>

Hello,

In R 2.10, looking at:

 > `?`
function (e1, e2)
{
     if (missing(e2)) {
         type <- NULL
         topicExpr <- substitute(e1)
     }
     else {
         type <- substitute(e1)
         topicExpr <- substitute(e2)
     }
     if (is.call(topicExpr) && topicExpr[[1L]] == "?") {
         search <- TRUE
         topicExpr <- topicExpr[[2L]]
         if (is.call(topicExpr) && topicExpr[[1L]] == "?" && 
is.call(topicExpr[[2L]]) &&
             topicExpr[[2L]][[1L]] == "?") {
             cat("Contacting Delphi...")
             flush.console()
             Sys.sleep(2 + rpois(1, 2))
             cat("the oracle is unavailable.\nWe apologize for any 
inconvenience.\n")
             return(invisible())
         }
     }

[...]

I am especially puzzled by this part:

cat("Contacting Delphi...")
flush.console()
Sys.sleep(2 + rpois(1, 2))
cat("the oracle is unavailable.\nWe apologize for any inconvenience.\n")

We now got jokes in R code? Why not? ;-)
Best,

Philippe
-- 
..............................................<?}))><........
  ) ) ) ) )
( ( ( ( (    Prof. Philippe Grosjean
  ) ) ) ) )
( ( ( ( (    Numerical Ecology of Aquatic Systems
  ) ) ) ) )   Mons University, Belgium
( ( ( ( (
..............................................................


From ripley at stats.ox.ac.uk  Tue Nov  3 11:02:24 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Nov 2009 10:02:24 +0000 (GMT)
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
In-Reply-To: <001801ca5bcc$3c699990$b53cccb0$@ca>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca>
	<4AEE0FF1.5010006@4dscape.com> <4AEE11FC.70102@stats.uwo.ca>
	<4AEE1416.5020906@4dscape.com> <001801ca5bcc$3c699990$b53cccb0$@ca>
Message-ID: <alpine.LFD.2.00.0911021920540.32200@gannet.stats.ox.ac.uk>

Duncan gave the definitive answer in an earlier reply: the active R 
developers are no longer willing to support CHM help.  It is not open 
for discussion, period.

But three comments to ponder (but not discuss).

(a) CHM is unusable for many of us.  A year or two ago Microsoft 
disabled it on non-local drives via a Windows patch because of 
security risks -- overnight it simply failed to work (no error, no 
warning, just no response) in our computer labs.  And this year CERT 
issued a serious advisory on the CHM compiler that Microsoft has not 
fixed (and apparently is not going to) -- so many of us are banned 
from having it on a networked machine by company policy.

(b) CHM support was in the sources at the beginning of the 2.10.0 
alpha testing.  Not one user asked for it at that point, let alone 
compiled it up and tested it.  Since no one asked for it (not what we 
had anticipated), the sources were cleaned up.

The main consultation over R development is the making available of 
development versions for users to test out.

(c) We did ask for support for cross-compliation before removing it 
(https://stat.ethz.ch/pipermail/r-devel/2009-January/051864.html): no 
one responded but two shameless users months later whinged about its 
removal on this list.  That has left a sour taste and zero enthusiasm 
for supporting things that no one is prepared even to write in about 
when asked.  Ask not what the R developers can do for you, but what 
you can do for R development (and faithful alpha/beta testing would be 
a start).

One more comment inline.

On Mon, 2 Nov 2009, John Fox wrote:

> Dear Alexios and Duncan,
>
> I think that there's one more thing to be said in favour of chm help, and
> that's that its format is familiar to Windows users. I've been using html
> help on Windows myself for a long time, but before R 2.10.0 recommended chm
> help to new Windows users of R. That said, I expect that retaining chm help
> just isn't worth the effort.
>
> Regards,
> John
>
>> -----Original Message-----
>> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org]
> On
>> Behalf Of alexios
>> Sent: November-01-09 6:05 PM
>> To: Duncan Murdoch
>> Cc: r-devel at stat.math.ethz.ch
>> Subject: Re: [Rd] Request: bring back windows chm help support (PR#14034)
>>
>> Duncan Murdoch wrote:
>>> On 01/11/2009 5:47 PM, alexios wrote:
>>>> Peter Ehlers wrote:
>>>>> Duncan Murdoch wrote:
>>>>>> On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
>>>>>>> Full_Name: alex galanos
>>>>>>> Version: 2.10.0
>>>>>>> OS: windows vista
>>>>>>> Submission from: (NULL) (86.11.78.110)
>>>>>>>
>>>>>>>
>>>>>>> I respectfully request that the chm help support for windows, which
>>>>>>> was very
>>>>>>> convenient, be reinstated...couldn't an online poll have been
>>>>>>> conducted to gauge
>>>>>>> the support of this format by window's users?
>>>>> First, I don't think that complaints are bugs.
>>>>> Secondly, why not give the new format a chance. Personally, I
>>>>> like it. Thanks, Duncan.
>>>>>
>>>>>  -Peter Ehlers
>>>>>
>>>> It was not a complaint but a simple request, which given the presence
>>>> of a wishlist subdirectory I thought was appropriate to post.
>>>> Apologies if it came across as such.

It did, because you did not follow the instructions: from the FAQ:

  There is a section of the bug repository for suggestions for
  enhancements for R labelled 'wishlist'.  Suggestions can be
  submitted in the same ways as bugs, but please ensure that the
  subject line makes clear that this is for the wishlist and not a bug
  report, for example by starting with 'Wishlist:'.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From osklyar at maninvestments.com  Tue Nov  3 12:27:58 2009
From: osklyar at maninvestments.com (Sklyar, Oleg (London))
Date: Tue, 3 Nov 2009 11:27:58 -0000
Subject: [Rd] likely bug in 'serialize' or please explain the memory usage
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE430662A979@mildnpexmb01.maninvestments.ad.man.com>

Hi all,

assume the following problem: a function call takes a function object
and a data variable and calls this function with this data on a remote
host. It uses serialization to pass both the function and the data via a
socket connection to a remote host. The problem is that depending on the
way we call the same construct, the function may be serialized to
include the data, which was not requested as the example below
demonstrates (runnable). This is a problem for parallel computing. The
problem described below is actually a problem for Rmpi and any other
parallel implementation we tested leading to endless executions in some
cases, where the total data passed is huge.

Assume the below 'mycall' is the function that takes data and a function
object, serializes them and calls the remote host. To make it runable I
just print the size of the serialized objects. In a parallel apply
implemention it would serialize individual list elements and a function
and pass those over. Assuming 1 element is 1Mb and having 100 elements
and a function as simple as function(z) z we would expect to pass around
100Mb of data, 1 Mb to each individual process. However what happens is
that in some situations all 100Mb of data are passed to all the slaves
as the function is serialized to include all of the data! This always
happens when we make such a call from an S4 method when the function we
is defined inline, see last example. 

Anybody can explain this, and possibly suggest a solution? Well, one is
-- do not define functions to call in the same environment as the caller
:(

I do not have immediate access to the newest version of R, so would be
grateful if sombody could test it in that and let me know if the problem
is still there. The example is runnable.

Thanks,
Oleg

Dr Oleg Sklyar
Research Technologist
AHL / Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com

------------------------------------------------------------------------
-------

mycall = function(x, fun) {
    FUN = serialize(fun, NULL)
    DAT = serialize(x, NULL)
    
    cat(sprintf("length FUN=%d; length DAT=%d\n", length(FUN),
length(DAT)))
    invisible(NULL) ## return results of a call on a remote host with
FUN and DAN
}

## the function variant I  will be passing into mycall
innerfun = function(z) z
x = runif(1e6)

## test run from the command line
mycall(x, innerfun)
# output: length FUN=106; length DAT=8000022

## test run from within a function
outerfun1 = function(x) mycall(x, innerfun)
outerfun1(x)
# output: length FUN=106; length DAT=8000022

## test run from within a function, where function is defined within
outerfun2 = function(x) {
    nestedfun = function(z) z
    mycall(x, nestedfun)
}
outerfun2(x)
# output: length FUN=253; length DAT=8000022

setGeneric("outerfun3", function(x) standardGeneric("outerfun3"))
## define a method

## test run from within a method
setMethod("outerfun3", "numeric",
    function(x) mycall(x, innerfun))
outerfun3(x)
# output@ length FUN=106; length DAT=8000022

## test run from within a method, where function is defined within
setMethod("outerfun3", "numeric",
    function(x) {
        nestedfun = function(z) z
        mycall(x, nestedfun)
    })
## THIS WILL BE WRONG!
outerfun3(x)
# output: length FUN=8001680; length DAT=8000022


--------------------------------------------------
R version 2.9.0 (2009-04-17) 
x86_64-unknown-linux-gnu 

locale:
C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


**********************************************************************
 Please consider the environment before printing this email or its attachments.
The contents of this email are for the named addressees ...{{dropped:19}}


From murdoch at stats.uwo.ca  Tue Nov  3 12:59:03 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 03 Nov 2009 06:59:03 -0500
Subject: [Rd] likely bug in 'serialize' or please explain the memory
	usage
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE430662A979@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430662A979@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <4AF01B07.5030207@stats.uwo.ca>

I haven't had a chance to look really closely at this, but I would guess 
the problem is that in R functions are "closures".  The environment 
attached to the function will be serialized along with it, so if you 
have a big dataset in the same environment, you'll get that too.

I vaguely recall that the global environment and other system 
environments are handled specially, so that's not true for functions 
created at the top level, but I'd have to do some experiments to confirm.

So the solution to your problem is to pay attention to the environment 
of the functions you create.  If they need to refer to local variables 
in the creating frame, then
you'll get all of them, so be careful about what you create there.  If 
they don't need to refer to the local frame you can just attach a new 
smaller environment after building the function.

Duncan Murdoch

Sklyar, Oleg (London) wrote:
> Hi all,
>
> assume the following problem: a function call takes a function object
> and a data variable and calls this function with this data on a remote
> host. It uses serialization to pass both the function and the data via a
> socket connection to a remote host. The problem is that depending on the
> way we call the same construct, the function may be serialized to
> include the data, which was not requested as the example below
> demonstrates (runnable). This is a problem for parallel computing. The
> problem described below is actually a problem for Rmpi and any other
> parallel implementation we tested leading to endless executions in some
> cases, where the total data passed is huge.
>
> Assume the below 'mycall' is the function that takes data and a function
> object, serializes them and calls the remote host. To make it runable I
> just print the size of the serialized objects. In a parallel apply
> implemention it would serialize individual list elements and a function
> and pass those over. Assuming 1 element is 1Mb and having 100 elements
> and a function as simple as function(z) z we would expect to pass around
> 100Mb of data, 1 Mb to each individual process. However what happens is
> that in some situations all 100Mb of data are passed to all the slaves
> as the function is serialized to include all of the data! This always
> happens when we make such a call from an S4 method when the function we
> is defined inline, see last example. 
>
> Anybody can explain this, and possibly suggest a solution? Well, one is
> -- do not define functions to call in the same environment as the caller
> :(
>
> I do not have immediate access to the newest version of R, so would be
> grateful if sombody could test it in that and let me know if the problem
> is still there. The example is runnable.
>
> Thanks,
> Oleg
>
> Dr Oleg Sklyar
> Research Technologist
> AHL / Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com
>
> ------------------------------------------------------------------------
> -------
>
> mycall = function(x, fun) {
>     FUN = serialize(fun, NULL)
>     DAT = serialize(x, NULL)
>     
>     cat(sprintf("length FUN=%d; length DAT=%d\n", length(FUN),
> length(DAT)))
>     invisible(NULL) ## return results of a call on a remote host with
> FUN and DAN
> }
>
> ## the function variant I  will be passing into mycall
> innerfun = function(z) z
> x = runif(1e6)
>
> ## test run from the command line
> mycall(x, innerfun)
> # output: length FUN=106; length DAT=8000022
>
> ## test run from within a function
> outerfun1 = function(x) mycall(x, innerfun)
> outerfun1(x)
> # output: length FUN=106; length DAT=8000022
>
> ## test run from within a function, where function is defined within
> outerfun2 = function(x) {
>     nestedfun = function(z) z
>     mycall(x, nestedfun)
> }
> outerfun2(x)
> # output: length FUN=253; length DAT=8000022
>
> setGeneric("outerfun3", function(x) standardGeneric("outerfun3"))
> ## define a method
>
> ## test run from within a method
> setMethod("outerfun3", "numeric",
>     function(x) mycall(x, innerfun))
> outerfun3(x)
> # output@ length FUN=106; length DAT=8000022
>
> ## test run from within a method, where function is defined within
> setMethod("outerfun3", "numeric",
>     function(x) {
>         nestedfun = function(z) z
>         mycall(x, nestedfun)
>     })
> ## THIS WILL BE WRONG!
> outerfun3(x)
> # output: length FUN=8001680; length DAT=8000022
>
>
> --------------------------------------------------
> R version 2.9.0 (2009-04-17) 
> x86_64-unknown-linux-gnu 
>
> locale:
> C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
>
> **********************************************************************
>  Please consider the environment before printing this email or its attachments.
> The contents of this email are for the named addressees ...{{dropped:19}}
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From osklyar at maninvestments.com  Tue Nov  3 13:29:26 2009
From: osklyar at maninvestments.com (Sklyar, Oleg (London))
Date: Tue, 3 Nov 2009 12:29:26 -0000
Subject: [Rd] likely bug in 'serialize' or please explain the memory
	usage
In-Reply-To: <4AF01B07.5030207@stats.uwo.ca>
References: <1A68FCB28DE72F4BA3B967E6506CCE430662A979@mildnpexmb01.maninvestments.ad.man.com>
	<4AF01B07.5030207@stats.uwo.ca>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE430662A97D@mildnpexmb01.maninvestments.ad.man.com>

Duncan,

thanks for suggestions, I will try attaching a new environment.

However this still does not explain the behaviour and does not confirm
that it is correct. What puzzles me most is that if I define a function
within another function then only the function gets serialized, yet when
this is withing an S4 method definition, then also the args. Both have
their own environments, so I do not see why it should be different. As
an interim measure I just removed all the inline function definitions
from these 'parallel' calls defining the functions as hidden outside of
the caller, a bit ugly but works. I'd be thankful if you could look at
the examples when you get some more time.

My main problem is less in ensuring that my code works, but in ensuring
that when users use these parallel functionalities with their code, they
do not get stuck in transferring data for ages simply because with every
function one gets all the data passed.

Best,
Oleg

Dr Oleg Sklyar
Research Technologist
AHL / Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
> Sent: 03 November 2009 11:59
> To: Sklyar, Oleg (London)
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] likely bug in 'serialize' or please explain 
> the memory usage
> 
> I haven't had a chance to look really closely at this, but I 
> would guess 
> the problem is that in R functions are "closures".  The environment 
> attached to the function will be serialized along with it, so if you 
> have a big dataset in the same environment, you'll get that too.
> 
> I vaguely recall that the global environment and other system 
> environments are handled specially, so that's not true for functions 
> created at the top level, but I'd have to do some experiments 
> to confirm.
> 
> So the solution to your problem is to pay attention to the 
> environment 
> of the functions you create.  If they need to refer to local 
> variables 
> in the creating frame, then
> you'll get all of them, so be careful about what you create 
> there.  If 
> they don't need to refer to the local frame you can just attach a new 
> smaller environment after building the function.
> 
> Duncan Murdoch
> 
> Sklyar, Oleg (London) wrote:
> > Hi all,
> >
> > assume the following problem: a function call takes a 
> function object
> > and a data variable and calls this function with this data 
> on a remote
> > host. It uses serialization to pass both the function and 
> the data via a
> > socket connection to a remote host. The problem is that 
> depending on the
> > way we call the same construct, the function may be serialized to
> > include the data, which was not requested as the example below
> > demonstrates (runnable). This is a problem for parallel 
> computing. The
> > problem described below is actually a problem for Rmpi and any other
> > parallel implementation we tested leading to endless 
> executions in some
> > cases, where the total data passed is huge.
> >
> > Assume the below 'mycall' is the function that takes data 
> and a function
> > object, serializes them and calls the remote host. To make 
> it runable I
> > just print the size of the serialized objects. In a parallel apply
> > implemention it would serialize individual list elements 
> and a function
> > and pass those over. Assuming 1 element is 1Mb and having 
> 100 elements
> > and a function as simple as function(z) z we would expect 
> to pass around
> > 100Mb of data, 1 Mb to each individual process. However 
> what happens is
> > that in some situations all 100Mb of data are passed to all 
> the slaves
> > as the function is serialized to include all of the data! 
> This always
> > happens when we make such a call from an S4 method when the 
> function we
> > is defined inline, see last example. 
> >
> > Anybody can explain this, and possibly suggest a solution? 
> Well, one is
> > -- do not define functions to call in the same environment 
> as the caller
> > :(
> >
> > I do not have immediate access to the newest version of R, 
> so would be
> > grateful if sombody could test it in that and let me know 
> if the problem
> > is still there. The example is runnable.
> >
> > Thanks,
> > Oleg
> >
> > Dr Oleg Sklyar
> > Research Technologist
> > AHL / Man Investments Ltd
> > +44 (0)20 7144 3803
> > osklyar at maninvestments.com
> >
> > 
> --------------------------------------------------------------
> ----------
> > -------
> >
> > mycall = function(x, fun) {
> >     FUN = serialize(fun, NULL)
> >     DAT = serialize(x, NULL)
> >     
> >     cat(sprintf("length FUN=%d; length DAT=%d\n", length(FUN),
> > length(DAT)))
> >     invisible(NULL) ## return results of a call on a remote 
> host with
> > FUN and DAN
> > }
> >
> > ## the function variant I  will be passing into mycall
> > innerfun = function(z) z
> > x = runif(1e6)
> >
> > ## test run from the command line
> > mycall(x, innerfun)
> > # output: length FUN=106; length DAT=8000022
> >
> > ## test run from within a function
> > outerfun1 = function(x) mycall(x, innerfun)
> > outerfun1(x)
> > # output: length FUN=106; length DAT=8000022
> >
> > ## test run from within a function, where function is defined within
> > outerfun2 = function(x) {
> >     nestedfun = function(z) z
> >     mycall(x, nestedfun)
> > }
> > outerfun2(x)
> > # output: length FUN=253; length DAT=8000022
> >
> > setGeneric("outerfun3", function(x) standardGeneric("outerfun3"))
> > ## define a method
> >
> > ## test run from within a method
> > setMethod("outerfun3", "numeric",
> >     function(x) mycall(x, innerfun))
> > outerfun3(x)
> > # output@ length FUN=106; length DAT=8000022
> >
> > ## test run from within a method, where function is defined within
> > setMethod("outerfun3", "numeric",
> >     function(x) {
> >         nestedfun = function(z) z
> >         mycall(x, nestedfun)
> >     })
> > ## THIS WILL BE WRONG!
> > outerfun3(x)
> > # output: length FUN=8001680; length DAT=8000022
> >
> >
> > --------------------------------------------------
> > R version 2.9.0 (2009-04-17) 
> > x86_64-unknown-linux-gnu 
> >
> > locale:
> > C
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> >
> >
> > 
> **********************************************************************
> >  Please consider the environment before printing this email 
> or its attachments.
> > The contents of this email are for the named addressees 
> ...{{dropped:19}}
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >   
> 
> 

**********************************************************************
 Please consider the environment before printing this email or its attachments.
The contents of this email are for the named addressees ...{{dropped:19}}


From martin.becker at mx.uni-saarland.de  Tue Nov  3 13:34:03 2009
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Tue, 03 Nov 2009 13:34:03 +0100
Subject: [Rd] Strange code in `?`
In-Reply-To: <4AEFFC67.7070206@sciviews.org>
References: <4AEFFC67.7070206@sciviews.org>
Message-ID: <4AF0233B.4020500@mx.uni-saarland.de>

I don't know if this is really a joke. It is certainly not easy to answer
   `?`(`?`(`?`(`?`(`?`))))
and spending some time trying to contact Delphi (maybe in order to 
permit cosmic radiation to feed the solution into the computer's RAM) is 
possibly one of the most promising approaches ;-)

Best,
  Martin

Philippe Grosjean wrote:
> Hello,
>
> In R 2.10, looking at:
>
> > `?`
> function (e1, e2)
> {
>     if (missing(e2)) {
>         type <- NULL
>         topicExpr <- substitute(e1)
>     }
>     else {
>         type <- substitute(e1)
>         topicExpr <- substitute(e2)
>     }
>     if (is.call(topicExpr) && topicExpr[[1L]] == "?") {
>         search <- TRUE
>         topicExpr <- topicExpr[[2L]]
>         if (is.call(topicExpr) && topicExpr[[1L]] == "?" && 
> is.call(topicExpr[[2L]]) &&
>             topicExpr[[2L]][[1L]] == "?") {
>             cat("Contacting Delphi...")
>             flush.console()
>             Sys.sleep(2 + rpois(1, 2))
>             cat("the oracle is unavailable.\nWe apologize for any 
> inconvenience.\n")
>             return(invisible())
>         }
>     }
>
> [...]
>
> I am especially puzzled by this part:
>
> cat("Contacting Delphi...")
> flush.console()
> Sys.sleep(2 + rpois(1, 2))
> cat("the oracle is unavailable.\nWe apologize for any inconvenience.\n")
>
> We now got jokes in R code? Why not? ;-)
> Best,
>
> Philippe

-- 
Dr. Martin Becker
Statistics and Econometrics
Saarland University
Campus C3 1, Room 206
66123 Saarbruecken
Germany


From murdoch at stats.uwo.ca  Tue Nov  3 14:01:19 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 03 Nov 2009 08:01:19 -0500
Subject: [Rd] likely bug in 'serialize' or please explain the
	memory	usage
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE430662A97D@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430662A979@mildnpexmb01.maninvestments.ad.man.com>	<4AF01B07.5030207@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE430662A97D@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <4AF0299F.3010802@stats.uwo.ca>

On 03/11/2009 7:29 AM, Sklyar, Oleg (London) wrote:
> Duncan,
> 
> thanks for suggestions, I will try attaching a new environment.
> 
> However this still does not explain the behaviour and does not confirm
> that it is correct. What puzzles me most is that if I define a function
> within another function then only the function gets serialized, yet when
> this is withing an S4 method definition, then also the args. 


Okay, I've taken a look at your code.  I think what you're seeing is 
lazy evaluation.  S4 generics evaluate their args when they dispatch to 
a method, but normal functions don't.  So the increase from 106 bytes to 
253 bytes when the function was nested in a regular function was to hold 
the promise to evaluate x, whereas in the method, x had been evaluated 
to determine that it was numeric, and your particular method should be 
dispatched to.

So if in your nested case you add a line

force(x)

I think you'll see the size balloon up.

Now, it might be a problem that you're serializing a promise, because I 
think you'd likely get trouble with something like this:

  outerfun2 = function(x) {
      nestedfun = function() x
      mycall(x, nestedfun)
  }

If you serialize nestedfun and it only saves the promise to evaluate x, 
then unserialize it somewhere else, the promise probably won't evaluate 
to what you expected.  But you often get problems when you create 
functions that depend on unevaluated promises, and there might be a 
valid reason to want to serialize one, so I wouldn't call it a bug.

Duncan Murdoch

Both have
> their own environments, so I do not see why it should be different. As
> an interim measure I just removed all the inline function definitions
> from these 'parallel' calls defining the functions as hidden outside of
> the caller, a bit ugly but works. I'd be thankful if you could look at
> the examples when you get some more time.
> 
> My main problem is less in ensuring that my code works, but in ensuring
> that when users use these parallel functionalities with their code, they
> do not get stuck in transferring data for ages simply because with every
> function one gets all the data passed.
> 
> Best,
> Oleg
> 
> Dr Oleg Sklyar
> Research Technologist
> AHL / Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com 
> 
>> -----Original Message-----
>> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
>> Sent: 03 November 2009 11:59
>> To: Sklyar, Oleg (London)
>> Cc: r-devel at r-project.org
>> Subject: Re: [Rd] likely bug in 'serialize' or please explain 
>> the memory usage
>>
>> I haven't had a chance to look really closely at this, but I 
>> would guess 
>> the problem is that in R functions are "closures".  The environment 
>> attached to the function will be serialized along with it, so if you 
>> have a big dataset in the same environment, you'll get that too.
>>
>> I vaguely recall that the global environment and other system 
>> environments are handled specially, so that's not true for functions 
>> created at the top level, but I'd have to do some experiments 
>> to confirm.
>>
>> So the solution to your problem is to pay attention to the 
>> environment 
>> of the functions you create.  If they need to refer to local 
>> variables 
>> in the creating frame, then
>> you'll get all of them, so be careful about what you create 
>> there.  If 
>> they don't need to refer to the local frame you can just attach a new 
>> smaller environment after building the function.
>>
>> Duncan Murdoch
>>
>> Sklyar, Oleg (London) wrote:
>>> Hi all,
>>>
>>> assume the following problem: a function call takes a 
>> function object
>>> and a data variable and calls this function with this data 
>> on a remote
>>> host. It uses serialization to pass both the function and 
>> the data via a
>>> socket connection to a remote host. The problem is that 
>> depending on the
>>> way we call the same construct, the function may be serialized to
>>> include the data, which was not requested as the example below
>>> demonstrates (runnable). This is a problem for parallel 
>> computing. The
>>> problem described below is actually a problem for Rmpi and any other
>>> parallel implementation we tested leading to endless 
>> executions in some
>>> cases, where the total data passed is huge.
>>>
>>> Assume the below 'mycall' is the function that takes data 
>> and a function
>>> object, serializes them and calls the remote host. To make 
>> it runable I
>>> just print the size of the serialized objects. In a parallel apply
>>> implemention it would serialize individual list elements 
>> and a function
>>> and pass those over. Assuming 1 element is 1Mb and having 
>> 100 elements
>>> and a function as simple as function(z) z we would expect 
>> to pass around
>>> 100Mb of data, 1 Mb to each individual process. However 
>> what happens is
>>> that in some situations all 100Mb of data are passed to all 
>> the slaves
>>> as the function is serialized to include all of the data! 
>> This always
>>> happens when we make such a call from an S4 method when the 
>> function we
>>> is defined inline, see last example. 
>>>
>>> Anybody can explain this, and possibly suggest a solution? 
>> Well, one is
>>> -- do not define functions to call in the same environment 
>> as the caller
>>> :(
>>>
>>> I do not have immediate access to the newest version of R, 
>> so would be
>>> grateful if sombody could test it in that and let me know 
>> if the problem
>>> is still there. The example is runnable.
>>>
>>> Thanks,
>>> Oleg
>>>
>>> Dr Oleg Sklyar
>>> Research Technologist
>>> AHL / Man Investments Ltd
>>> +44 (0)20 7144 3803
>>> osklyar at maninvestments.com
>>>
>>>
>> --------------------------------------------------------------
>> ----------
>>> -------
>>>
>>> mycall = function(x, fun) {
>>>     FUN = serialize(fun, NULL)
>>>     DAT = serialize(x, NULL)
>>>     
>>>     cat(sprintf("length FUN=%d; length DAT=%d\n", length(FUN),
>>> length(DAT)))
>>>     invisible(NULL) ## return results of a call on a remote 
>> host with
>>> FUN and DAN
>>> }
>>>
>>> ## the function variant I  will be passing into mycall
>>> innerfun = function(z) z
>>> x = runif(1e6)
>>>
>>> ## test run from the command line
>>> mycall(x, innerfun)
>>> # output: length FUN=106; length DAT=8000022
>>>
>>> ## test run from within a function
>>> outerfun1 = function(x) mycall(x, innerfun)
>>> outerfun1(x)
>>> # output: length FUN=106; length DAT=8000022
>>>
>>> ## test run from within a function, where function is defined within
>>> outerfun2 = function(x) {
>>>     nestedfun = function(z) z
>>>     mycall(x, nestedfun)
>>> }
>>> outerfun2(x)
>>> # output: length FUN=253; length DAT=8000022
>>>
>>> setGeneric("outerfun3", function(x) standardGeneric("outerfun3"))
>>> ## define a method
>>>
>>> ## test run from within a method
>>> setMethod("outerfun3", "numeric",
>>>     function(x) mycall(x, innerfun))
>>> outerfun3(x)
>>> # output@ length FUN=106; length DAT=8000022
>>>
>>> ## test run from within a method, where function is defined within
>>> setMethod("outerfun3", "numeric",
>>>     function(x) {
>>>         nestedfun = function(z) z
>>>         mycall(x, nestedfun)
>>>     })
>>> ## THIS WILL BE WRONG!
>>> outerfun3(x)
>>> # output: length FUN=8001680; length DAT=8000022
>>>
>>>
>>> --------------------------------------------------
>>> R version 2.9.0 (2009-04-17) 
>>> x86_64-unknown-linux-gnu 
>>>
>>> locale:
>>> C
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>>
>>>
>> **********************************************************************
>>>  Please consider the environment before printing this email 
>> or its attachments.
>>> The contents of this email are for the named addressees 
>> ...{{dropped:19}}
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>   
>>
> 
> **********************************************************************
>  Please consider the environment before printing this email or its attachments.
> The contents of this email are for the named addressees ...{{dropped:19}}
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From info at aghmed.fsnet.co.uk  Tue Nov  3 15:49:10 2009
From: info at aghmed.fsnet.co.uk (Michael Dewey)
Date: Tue, 03 Nov 2009 14:49:10 +0000
Subject: [Rd] Request: bring back windows chm help support  (PR#14034)
In-Reply-To: <alpine.LFD.2.00.0911021920540.32200@gannet.stats.ox.ac.uk>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca>
	<4AEE0FF1.5010006@4dscape.com> <4AEE11FC.70102@stats.uwo.ca>
	<4AEE1416.5020906@4dscape.com> <001801ca5bcc$3c699990$b53cccb0$@ca>
	<alpine.LFD.2.00.0911021920540.32200@gannet.stats.ox.ac.uk>
Message-ID: <Zen-1N5KhH-0003A3-BX@smarthost03.mail.zen.net.uk>

At 10:02 03/11/2009, Prof Brian Ripley wrote:

Comment in line below


>Duncan gave the definitive answer in an earlier reply: the active R 
>developers are no longer willing to support CHM help.  It is not 
>open for discussion, period.
>
>But three comments to ponder (but not discuss).
>
>(a) CHM is unusable for many of us.  A year or two ago Microsoft 
>disabled it on non-local drives via a Windows patch because of 
>security risks -- overnight it simply failed to work (no error, no 
>warning, just no response) in our computer labs.  And this year CERT 
>issued a serious advisory on the CHM compiler that Microsoft has not 
>fixed (and apparently is not going to) -- so many of us are banned 
>from having it on a networked machine by company policy.
>
>(b) CHM support was in the sources at the beginning of the 2.10.0 
>alpha testing.  Not one user asked for it at that point, let alone 
>compiled it up and tested it.  Since no one asked for it (not what 
>we had anticipated), the sources were cleaned up.
>
>The main consultation over R development is the making available of 
>development versions for users to test out.
>
>(c) We did ask for support for cross-compliation before removing it 
>(https://stat.ethz.ch/pipermail/r-devel/2009-January/051864.html): 
>no one responded but two shameless users months later whinged about 
>its removal on this list.  That has left a sour taste and zero 
>enthusiasm for supporting things that no one is prepared even to 
>write in about when asked.  Ask not what the R developers can do for 
>you, but what you can do for R development (and faithful alpha/beta 
>testing would be a start).

What would be involved in testing such versions? Do you want people 
who are just regular users with limited computing skills like me, or 
users living on the cutting edge of computational statistics? At what 
stage in the process do pre-compiled versions (for Windows) come in? 
Is there somewhere I should have looked this up?

>One more comment inline.
>
>On Mon, 2 Nov 2009, John Fox wrote:
>
>>Dear Alexios and Duncan,
>>
>>I think that there's one more thing to be said in favour of chm help, and
>>that's that its format is familiar to Windows users. I've been using html
>>help on Windows myself for a long time, but before R 2.10.0 recommended chm
>>help to new Windows users of R. That said, I expect that retaining chm help
>>just isn't worth the effort.
>>
>>Regards,
>>John
>>
>>>-----Original Message-----
>>>From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org]
>>On
>>>Behalf Of alexios
>>>Sent: November-01-09 6:05 PM
>>>To: Duncan Murdoch
>>>Cc: r-devel at stat.math.ethz.ch
>>>Subject: Re: [Rd] Request: bring back windows chm help support (PR#14034)
>>>
>>>Duncan Murdoch wrote:
>>>>On 01/11/2009 5:47 PM, alexios wrote:
>>>>>Peter Ehlers wrote:
>>>>>>Duncan Murdoch wrote:
>>>>>>>On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
>>>>>>>>Full_Name: alex galanos
>>>>>>>>Version: 2.10.0
>>>>>>>>OS: windows vista
>>>>>>>>Submission from: (NULL) (86.11.78.110)
>>>>>>>>
>>>>>>>>
>>>>>>>>I respectfully request that the chm help support for windows, which
>>>>>>>>was very
>>>>>>>>convenient, be reinstated...couldn't an online poll have been
>>>>>>>>conducted to gauge
>>>>>>>>the support of this format by window's users?
>>>>>>First, I don't think that complaints are bugs.
>>>>>>Secondly, why not give the new format a chance. Personally, I
>>>>>>like it. Thanks, Duncan.
>>>>>>
>>>>>>  -Peter Ehlers
>>>>>It was not a complaint but a simple request, which given the presence
>>>>>of a wishlist subdirectory I thought was appropriate to post.
>>>>>Apologies if it came across as such.
>
>It did, because you did not follow the instructions: from the FAQ:
>
>  There is a section of the bug repository for suggestions for
>  enhancements for R labelled 'wishlist'.  Suggestions can be
>  submitted in the same ways as bugs, but please ensure that the
>  subject line makes clear that this is for the wishlist and not a bug
>  report, for example by starting with 'Wishlist:'.
>
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272866 (PA)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>______________________________________________
>R-devel at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-devel

Michael Dewey
http://www.aghmed.fsnet.co.uk


From hadley at rice.edu  Tue Nov  3 15:54:14 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Tue, 3 Nov 2009 08:54:14 -0600
Subject: [Rd] Removing cran mirrors
Message-ID: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com>

Hi all,

What's the procedure for removing out of date cran mirrors?  I've just
discovered the fantastic http://cran.r-project.org/mirmon_report.html,
but there 4 mirrors that have not been updated in over a month, and
quite a few others that have a chequered past.  Given that there are
many additional mirrors available, and the poor user experience if a
bad mirror is selected, perhaps these poorly functioning mirrors could
be removed from the list?

Hadley

-- 
http://had.co.nz/


From hadley at rice.edu  Tue Nov  3 15:58:55 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Tue, 3 Nov 2009 08:58:55 -0600
Subject: [Rd] Removing cran mirrors
In-Reply-To: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com>
Message-ID: <f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com>

Reading the documentation for mirmon, it also looks like it can output
a machine readable state file.  It would be really useful if this was
published on the r-help page as then we could construct tools to
automatically recommend mirrors based on average age and download
speed.

Hadley

On Tue, Nov 3, 2009 at 8:54 AM, Hadley Wickham <hadley at rice.edu> wrote:
> Hi all,
>
> What's the procedure for removing out of date cran mirrors? ?I've just
> discovered the fantastic http://cran.r-project.org/mirmon_report.html,
> but there 4 mirrors that have not been updated in over a month, and
> quite a few others that have a chequered past. ?Given that there are
> many additional mirrors available, and the poor user experience if a
> bad mirror is selected, perhaps these poorly functioning mirrors could
> be removed from the list?
>
> Hadley
>
> --
> http://had.co.nz/
>



-- 
http://had.co.nz/


From ligges at statistik.tu-dortmund.de  Tue Nov  3 16:37:17 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Tue, 03 Nov 2009 16:37:17 +0100
Subject: [Rd] Removing cran mirrors
In-Reply-To: <f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com>
	<f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com>
Message-ID: <4AF04E2D.7020500@statistik.tu-dortmund.de>



Hadley Wickham wrote:
> Reading the documentation for mirmon, it also looks like it can output
> a machine readable state file.  It would be really useful if this was
> published on the r-help page as then we could construct tools to
> automatically recommend mirrors based on average age and download
> speed.
> 
> Hadley
> 
> On Tue, Nov 3, 2009 at 8:54 AM, Hadley Wickham <hadley at rice.edu> wrote:
>> Hi all,
>>
>> What's the procedure for removing out of date cran mirrors?  I've just
>> discovered the fantastic http://cran.r-project.org/mirmon_report.html,
>> but there 4 mirrors that have not been updated in over a month, and
>> quite a few others that have a chequered past.  Given that there are
>> many additional mirrors available, and the poor user experience if a
>> bad mirror is selected, perhaps these poorly functioning mirrors could
>> be removed from the list?


Fritz does that from time to time. Note that this is always rather 
cumbersome: trying to contact maintainers whose addresses do not exist 
any more and so on.

Best,
Uwe



>> Hadley
>>
>> --
>> http://had.co.nz/
>>
> 
> 
>


From murdoch at stats.uwo.ca  Tue Nov  3 16:00:38 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 03 Nov 2009 10:00:38 -0500
Subject: [Rd] Request: bring back windows chm help support  (PR#14034)
In-Reply-To: <Zen-1N5KhH-0003A3-BX@smarthost03.mail.zen.net.uk>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>	<4AEDF626.3030309@stats.uwo.ca>
	<4AEE0B2A.1060107@ucalgary.ca>	<4AEE0FF1.5010006@4dscape.com>
	<4AEE11FC.70102@stats.uwo.ca>	<4AEE1416.5020906@4dscape.com>
	<001801ca5bcc$3c699990$b53cccb0$@ca>	<alpine.LFD.2.00.0911021920540.32200@gannet.stats.ox.ac.uk>
	<Zen-1N5KhH-0003A3-BX@smarthost03.mail.zen.net.uk>
Message-ID: <4AF04596.6050505@stats.uwo.ca>

On 11/3/2009 9:49 AM, Michael Dewey wrote:
> At 10:02 03/11/2009, Prof Brian Ripley wrote:
> 
> Comment in line below
> 
> 
>>Duncan gave the definitive answer in an earlier reply: the active R 
>>developers are no longer willing to support CHM help.  It is not 
>>open for discussion, period.
>>
>>But three comments to ponder (but not discuss).
>>
>>(a) CHM is unusable for many of us.  A year or two ago Microsoft 
>>disabled it on non-local drives via a Windows patch because of 
>>security risks -- overnight it simply failed to work (no error, no 
>>warning, just no response) in our computer labs.  And this year CERT 
>>issued a serious advisory on the CHM compiler that Microsoft has not 
>>fixed (and apparently is not going to) -- so many of us are banned 
>>from having it on a networked machine by company policy.
>>
>>(b) CHM support was in the sources at the beginning of the 2.10.0 
>>alpha testing.  Not one user asked for it at that point, let alone 
>>compiled it up and tested it.  Since no one asked for it (not what 
>>we had anticipated), the sources were cleaned up.
>>
>>The main consultation over R development is the making available of 
>>development versions for users to test out.
>>
>>(c) We did ask for support for cross-compliation before removing it 
>>(https://stat.ethz.ch/pipermail/r-devel/2009-January/051864.html): 
>>no one responded but two shameless users months later whinged about 
>>its removal on this list.  That has left a sour taste and zero 
>>enthusiasm for supporting things that no one is prepared even to 
>>write in about when asked.  Ask not what the R developers can do for 
>>you, but what you can do for R development (and faithful alpha/beta 
>>testing would be a start).
> 
> What would be involved in testing such versions? Do you want people 
> who are just regular users with limited computing skills like me, or 
> users living on the cutting edge of computational statistics? 

I don't know what Brian would say, but I would like to see both of the 
above groups testing, and familiar with the changes that are coming. 
All you need to do is to download and install a test version and see if 
anything goes wrong on your system.

 > At what
> stage in the process do pre-compiled versions (for Windows) come in? 
> Is there somewhere I should have looked this up?

There are announcements in the r-announce group when alpha or beta 
versions are about to be released, but you can download the r-devel 
builds any time to see what sort of things are going on, or subscribe to 
the RSS feed of NEWS changes to it.

The main problem with watching R-devel is that often it contains 
incomplete code, and some decisions aren't finalized until the end of 
the alpha testing period.  So please don't report things as bugs or 
expect everything to be in its final state, but do point out things that 
are causing problems.

Duncan Murdoch

> 
>>One more comment inline.
>>
>>On Mon, 2 Nov 2009, John Fox wrote:
>>
>>>Dear Alexios and Duncan,
>>>
>>>I think that there's one more thing to be said in favour of chm help, and
>>>that's that its format is familiar to Windows users. I've been using html
>>>help on Windows myself for a long time, but before R 2.10.0 recommended chm
>>>help to new Windows users of R. That said, I expect that retaining chm help
>>>just isn't worth the effort.
>>>
>>>Regards,
>>>John
>>>
>>>>-----Original Message-----
>>>>From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org]
>>>On
>>>>Behalf Of alexios
>>>>Sent: November-01-09 6:05 PM
>>>>To: Duncan Murdoch
>>>>Cc: r-devel at stat.math.ethz.ch
>>>>Subject: Re: [Rd] Request: bring back windows chm help support (PR#14034)
>>>>
>>>>Duncan Murdoch wrote:
>>>>>On 01/11/2009 5:47 PM, alexios wrote:
>>>>>>Peter Ehlers wrote:
>>>>>>>Duncan Murdoch wrote:
>>>>>>>>On 31/10/2009 6:05 PM, alexios at 4dscape.com wrote:
>>>>>>>>>Full_Name: alex galanos
>>>>>>>>>Version: 2.10.0
>>>>>>>>>OS: windows vista
>>>>>>>>>Submission from: (NULL) (86.11.78.110)
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>I respectfully request that the chm help support for windows, which
>>>>>>>>>was very
>>>>>>>>>convenient, be reinstated...couldn't an online poll have been
>>>>>>>>>conducted to gauge
>>>>>>>>>the support of this format by window's users?
>>>>>>>First, I don't think that complaints are bugs.
>>>>>>>Secondly, why not give the new format a chance. Personally, I
>>>>>>>like it. Thanks, Duncan.
>>>>>>>
>>>>>>>  -Peter Ehlers
>>>>>>It was not a complaint but a simple request, which given the presence
>>>>>>of a wishlist subdirectory I thought was appropriate to post.
>>>>>>Apologies if it came across as such.
>>
>>It did, because you did not follow the instructions: from the FAQ:
>>
>>  There is a section of the bug repository for suggestions for
>>  enhancements for R labelled 'wishlist'.  Suggestions can be
>>  submitted in the same ways as bugs, but please ensure that the
>>  subject line makes clear that this is for the wishlist and not a bug
>>  report, for example by starting with 'Wishlist:'.
>>
>>
>>--
>>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>University of Oxford,             Tel:  +44 1865 272861 (self)
>>1 South Parks Road,                     +44 1865 272866 (PA)
>>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>>______________________________________________
>>R-devel at r-project.org mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> Michael Dewey
> http://www.aghmed.fsnet.co.uk
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From hadley at rice.edu  Tue Nov  3 16:46:11 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Tue, 3 Nov 2009 09:46:11 -0600
Subject: [Rd] Removing cran mirrors
In-Reply-To: <4AF04E2D.7020500@statistik.tu-dortmund.de>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com> 
	<f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com> 
	<4AF04E2D.7020500@statistik.tu-dortmund.de>
Message-ID: <f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com>

> Fritz does that from time to time. Note that this is always rather
> cumbersome: trying to contact maintainers whose addresses do not exist any
> more and so on.

I'd be more draconian - if the mirror doesn't update for two weeks,
just cut it off automatically.  If they want to get back on the list,
it's their problem.  It shouldn't be Fritz's problem!

Hadley


-- 
http://had.co.nz/


From ligges at statistik.tu-dortmund.de  Tue Nov  3 16:59:34 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Tue, 03 Nov 2009 16:59:34 +0100
Subject: [Rd] Removing cran mirrors
In-Reply-To: <f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com>
	<f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com>
	<4AF04E2D.7020500@statistik.tu-dortmund.de>
	<f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com>
Message-ID: <4AF05366.7050704@statistik.tu-dortmund.de>



Hadley Wickham wrote:
>> Fritz does that from time to time. Note that this is always rather
>> cumbersome: trying to contact maintainers whose addresses do not exist any
>> more and so on.
> 
> I'd be more draconian - if the mirror doesn't update for two weeks,
> just cut it off automatically.  If they want to get back on the list,
> it's their problem.  It shouldn't be Fritz's problem!

I fully agree with the latter. Anyway, I fear it is his problem, because 
we may also (and particularly) want to keep some mirrors in regions of 
the world where connectivity and CRAN bandwitdh is an issue.


Note that with such a policy, half CRAN packages wouldn't work anymore, 
because then we'd had "cut off" several packages away that are 
dependencies for others etc.
Examples for packages we probably should "cut off" now (since they 
already caused too much time looking at them) are:

    clusterfly, ggplot2, lvplot, plyr

all of them giving WARNINGS under R-2.10.0 and I guess you know the 
miantiner who has been asked by automatical notification to fix the issues.

Best wishes,
Uwe





> Hadley
> 
>


From friedrich.leisch at stat.uni-muenchen.de  Tue Nov  3 17:05:49 2009
From: friedrich.leisch at stat.uni-muenchen.de (Friedrich Leisch)
Date: Tue, 3 Nov 2009 17:05:49 +0100
Subject: [Rd] Removing cran mirrors
In-Reply-To: <f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com>
	<f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com>
	<4AF04E2D.7020500@statistik.tu-dortmund.de>
	<f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com>
Message-ID: <19184.21725.867856.589972@ridcully.stat.uni-muenchen.de>

>>>>> On Tue, 3 Nov 2009 09:46:11 -0600,
>>>>> Hadley Wickham (HW) wrote:

  >> Fritz does that from time to time. Note that this is always rather
  >> cumbersome: trying to contact maintainers whose addresses do not exist any
  >> more and so on.  

  > I'd be more draconian - if the mirror doesn't update for two weeks,
  > just cut it off automatically.  If they want to get back on the list,
  > it's their problem.  It shouldn't be Fritz's problem!

Well, then we would have to create "two classes" of mirrors: If ETH
Z?rich goes down I'd prefer to inform Martin M?chler that there is a
problem rather than cutting off automatically (same for a lot of
others). 

But note that the list of "monitored mirrors" is a superset of the list
of "listed mirrors": The first real problem mirror.cricyt.edu.ar is not
in the list of mirrors at http://cran.r-project.org/mirrors.html (and
what you get when you are online and select a mirror via GUI). Same
for all the other very bad ones. It is a simple Flag "use mirror" in the
master table, which is used both by R itself and the scripts creating
the webpages (which run fully automated).

Best,
Fritz


From hadley at rice.edu  Tue Nov  3 17:32:44 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Tue, 3 Nov 2009 10:32:44 -0600
Subject: [Rd] Removing cran mirrors
In-Reply-To: <4AF05366.7050704@statistik.tu-dortmund.de>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com> 
	<f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com> 
	<4AF04E2D.7020500@statistik.tu-dortmund.de>
	<f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com> 
	<4AF05366.7050704@statistik.tu-dortmund.de>
Message-ID: <f8e6ff050911030832g33d8cf19tb0101062939fd179@mail.gmail.com>

> Note that with such a policy, half CRAN packages wouldn't work anymore,
> because then we'd had "cut off" several packages away that are dependencies
> for others etc.
> Examples for packages we probably should "cut off" now (since they already
> caused too much time looking at them) are:
>
> ? clusterfly, ggplot2, lvplot, plyr
>
> all of them giving WARNINGS under R-2.10.0 and I guess you know the
> miantiner who has been asked by automatical notification to fix the issues.

Hopefully this doesn't sound too self-serving, but:

 * Keeping a mirror up-to-date is _much_ easier than keeping a package
up-to-date (i.e. you just have to run rsync regularly).

 * I don't recall receiving any automated notices about problems, and
I've just tried searching for combinations of R 2.10, warning and
ggplot2 as well as several other attempts and haven't been able to
find anything.  I normally try and keep on top of issues like this.

Hadley

-- 
http://had.co.nz/


From hadley at rice.edu  Tue Nov  3 17:34:22 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Tue, 3 Nov 2009 10:34:22 -0600
Subject: [Rd] Removing cran mirrors
In-Reply-To: <19184.21725.867856.589972@ridcully.stat.uni-muenchen.de>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com> 
	<f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com> 
	<4AF04E2D.7020500@statistik.tu-dortmund.de>
	<f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com> 
	<19184.21725.867856.589972@ridcully.stat.uni-muenchen.de>
Message-ID: <f8e6ff050911030834g3b68c5b0td87ad91834215c71@mail.gmail.com>

> Well, then we would have to create "two classes" of mirrors: If ETH
> Z?rich goes down I'd prefer to inform Martin M?chler that there is a
> problem rather than cutting off automatically (same for a lot of
> others).

Oh, good point.

> But note that the list of "monitored mirrors" is a superset of the list
> of "listed mirrors": The first real problem mirror.cricyt.edu.ar is not
> in the list of mirrors at http://cran.r-project.org/mirrors.html (and
> what you get when you are online and select a mirror via GUI). Same
> for all the other very bad ones. It is a simple Flag "use mirror" in the
> master table, which is used both by R itself and the scripts creating
> the webpages (which run fully automated).

Ok, that makes sense.

But would it be possible to make available the resources of the
monitoring script in a machine readable form?  It would be very useful
to help suggest to people what mirror they should use - i.e.
automatically select one that is both fast (for them) and is updated
regularly.

Hadley

-- 
http://had.co.nz/


From ligges at statistik.tu-dortmund.de  Tue Nov  3 18:38:59 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Tue, 03 Nov 2009 18:38:59 +0100
Subject: [Rd] Removing cran mirrors
In-Reply-To: <f8e6ff050911030832g33d8cf19tb0101062939fd179@mail.gmail.com>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com>
	<f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com>
	<4AF04E2D.7020500@statistik.tu-dortmund.de>
	<f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com>
	<4AF05366.7050704@statistik.tu-dortmund.de>
	<f8e6ff050911030832g33d8cf19tb0101062939fd179@mail.gmail.com>
Message-ID: <4AF06AB3.8070405@statistik.tu-dortmund.de>



Hadley Wickham wrote:
>> Note that with such a policy, half CRAN packages wouldn't work anymore,
>> because then we'd had "cut off" several packages away that are dependencies
>> for others etc.
>> Examples for packages we probably should "cut off" now (since they already
>> caused too much time looking at them) are:
>>
>>   clusterfly, ggplot2, lvplot, plyr
>>
>> all of them giving WARNINGS under R-2.10.0 and I guess you know the
>> miantiner who has been asked by automatical notification to fix the issues.
> 
> Hopefully this doesn't sound too self-serving, but:
> 
>  * Keeping a mirror up-to-date is _much_ easier than keeping a package
> up-to-date (i.e. you just have to run rsync regularly).

Sure, I know.


>  * I don't recall receiving any automated notices about problems, and
> I've just tried searching for combinations of R 2.10, warning and
> ggplot2 as well as several other attempts and haven't been able to
> find anything.  I normally try and keep on top of issues like this.

Great, thank you very much for your efforts. Maybe it has been eaten by 
some spam filter (because of auto-generation?). So good chance to start 
working on the issues now. ;-)

Best wishes,
Uwe




> 
> Hadley
>


From hadley at rice.edu  Tue Nov  3 19:05:41 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Tue, 3 Nov 2009 12:05:41 -0600
Subject: [Rd] Removing cran mirrors
In-Reply-To: <4AF06AB3.8070405@statistik.tu-dortmund.de>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com> 
	<f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com> 
	<4AF04E2D.7020500@statistik.tu-dortmund.de>
	<f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com> 
	<4AF05366.7050704@statistik.tu-dortmund.de>
	<f8e6ff050911030832g33d8cf19tb0101062939fd179@mail.gmail.com> 
	<4AF06AB3.8070405@statistik.tu-dortmund.de>
Message-ID: <f8e6ff050911031005v713a73ccn9029475970c344b1@mail.gmail.com>

>> ?* I don't recall receiving any automated notices about problems, and
>> I've just tried searching for combinations of R 2.10, warning and
>> ggplot2 as well as several other attempts and haven't been able to
>> find anything. ?I normally try and keep on top of issues like this.
>
> Great, thank you very much for your efforts. Maybe it has been eaten by some
> spam filter (because of auto-generation?). So good chance to start working
> on the issues now. ;-)

Found the problem - it's because the subject is the same regardless of
whether or not the package builds without warnings.  I just saw the
emails and ignored them because I thought everything was ok.  Perhaps
the subject line could include WARNING if something went wrong?

Hadley


-- 
http://had.co.nz/


From hb at stat.berkeley.edu  Tue Nov  3 19:57:17 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Tue, 3 Nov 2009 10:57:17 -0800
Subject: [Rd] Wishlist: Downgrade missing Rd links to NOTEs for
	non-installed Suggested packages
Message-ID: <59d7961d0911031057k61d5b4e0wbd75e48ced30106c@mail.gmail.com>

Hi,

I wish to suggest that Rd cross references to help sections in
"Suggested" packages that are not installed should be reported as
NOTE:s and not WARNING:s by R CMD check.  This should only apply to
packages under Suggests: in DESCRIPTION.


RATIONALE:
1. One reason for putting a package under Suggests: is that it does
not exist on any public repositories, but still possible to install
and use.  The functions provided by such a package is not necessary by
most people, but may be used by a few who then take the effort to get
hold of and install that package.  [I don't want to discuss why such
package are not on public repositories; there are heaps of reasons
which are out of my control].

2. If option $R_check_force_suggests=false, then R CMD check will
silently accept that packages under Suggests: are not
available/installed.  This is the policy of CRAN.

3. However, R CMD check will give a WARNING for Rd cross reference to
such packages, e.g.

  * checking Rd cross-references ... WARNING
    Unknown package(s) ?JohnDoePkg? in Rd xrefs

4. CRAN has a strict policy of not allowing any WARNINGs (or ERRORs).
Hence, you are forced to remove such Rd references.

5. The only way to get rid of such WARNINGs is to removing the Rd
reference/replacing it with plain text, e.g replace
\link[JohnDoePkg:aFcn]{aFcn} with 'aFcn()' in \pkg{JohnDoePkg}.  This
will "break" the link for those who do got around to install the
Suggested package.  I believe this is counter productive [I'll spare
you with real-life analogues] and discourage good documentation.  I
argue that it makes sense to keep *potentially* missing references,
especially now with the new dynamic help system.


Because of the above, I wish to suggest that such Rd links are
replaced by NOTEs.  NOTEs are accepted by CRAN.

/Henrik


From gavin.simpson at ucl.ac.uk  Tue Nov  3 21:05:48 2009
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Tue, 03 Nov 2009 20:05:48 +0000
Subject: [Rd] Standard non-standard evaluation problem with 2.10-0
Message-ID: <1257278748.2210.77.camel@graptoleberis.geog.ucl.ac.uk>

Dear List

I am getting an error when checking my analogue package with
R2.10.0-patched. The error comes when running a function within which I
use the standard non-standard evaluation method. I've distilled the
error and functions involved out into the following simple example to
illustrate the error:

## Dummy data to illustrate formula method
d <- data.frame(A = runif(10), B = runif(10), C = runif(10))
## simulate some missings
d[sample(10,3), 1] <- NA

foo <- function(formula, data = NULL,
                subset = NULL,
                na.action = na.pass, ...) {
    mf <- match.call()
    mf[[1]] <- as.name("model.frame")
    mt <- terms(formula, data = data, simplify = TRUE)
    mf[[2]] <- formula(mt, data = data)
    mf$na.action <- substitute(na.action)
    dots <- list(...)
    mf[[names(dots)]] <- NULL
    mf <- eval(mf,parent.frame())
    mf
}

## apply foo using formula
foo(~ . - B, data = d, na.action = na.pass,
    method = "missing", na.value = 0)
Error in mf[[names(dots)]] <- NULL : 
  more elements supplied than there are to replace

If I debug(foo) and do:

Browse[2]> names(dots)
[1] "method"   "na.value"
Browse[2]> names(mf)
[1] ""          "formula"   "data"      "na.action" "method"   
[6] "na.value"
Browse[2]> mf[[names(dots)[1]]]
[1] "missing"
Browse[2]> mf[[names(dots)[2]]]
[1] 0

But
Browse[2]> mf[[names(dots)]]
Error in mf[[names(dots)]] : subscript out of bounds
Browse[2]> str(names(dots))
 chr [1:2] "method" "na.value"

I could have sworn I tested this during the beta test phase for 2.10.0 -
if I did I didn't get any errors at that time - and this code works fine
under R2.9.x branch. The package is now failing checks on CRAN and on my
local install.

Am I doing something patently stupid here? Has something changed in '[['
or 'names' that I'm now running foul of? I can probably work round this
by setting the individual names of 'mf' to NULL in two calls, but I'd
like to get to the bottom of the problem if at all possible.

Session Info:
R version 2.10.0 Patched (2009-11-01 r50276) 
i686-pc-linux-gnu 

locale:
 [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_GB.UTF-8        LC_COLLATE=en_GB.UTF-8    
 [5] LC_MONETARY=C              LC_MESSAGES=en_GB.UTF-8   
 [7] LC_PAPER=en_GB.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_GB.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods  
[7] base     

other attached packages:
[1] analogue_0.6-21 MASS_7.2-48     lattice_0.17-25
[4] vegan_1.15-3   

loaded via a namespace (and not attached):
[1] grid_2.10.0  tools_2.10.0

Thanks in advance,

G
-- 
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
 Dr. Gavin Simpson             [t] +44 (0)20 7679 0522
 ECRC, UCL Geography,          [f] +44 (0)20 7679 0565
 Pearson Building,             [e] gavin.simpsonATNOSPAMucl.ac.uk
 Gower Street, London          [w] http://www.ucl.ac.uk/~ucfagls/
 UK. WC1E 6BT.                 [w] http://www.freshwaters.org.uk
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%


From gavin.simpson at ucl.ac.uk  Tue Nov  3 21:36:22 2009
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Tue, 03 Nov 2009 20:36:22 +0000
Subject: [Rd] SOLVED: Re: Standard non-standard evaluation problem with
 2.10-0
In-Reply-To: <1257278748.2210.77.camel@graptoleberis.geog.ucl.ac.uk>
References: <1257278748.2210.77.camel@graptoleberis.geog.ucl.ac.uk>
Message-ID: <1257280582.2210.84.camel@graptoleberis.geog.ucl.ac.uk>

Dear list,

Prof Ripley has replied with the solution - I /was/ doing something
patently stupid.

The offending line:

mf[[names(dots)]] <- NULL

should have been

mf[names(dots)] <- NULL

That the offending line worked in R 2.9.x was the result of bug, which
has been fixed in the current version, and it was my mistake in using
'[[' where I meant '['.

All the best,

Gavin

On Tue, 2009-11-03 at 20:05 +0000, Gavin Simpson wrote:
> Dear List
> 
> I am getting an error when checking my analogue package with
> R2.10.0-patched. The error comes when running a function within which I
> use the standard non-standard evaluation method. I've distilled the
> error and functions involved out into the following simple example to
> illustrate the error:
> 
> ## Dummy data to illustrate formula method
> d <- data.frame(A = runif(10), B = runif(10), C = runif(10))
> ## simulate some missings
> d[sample(10,3), 1] <- NA
> 
> foo <- function(formula, data = NULL,
>                 subset = NULL,
>                 na.action = na.pass, ...) {
>     mf <- match.call()
>     mf[[1]] <- as.name("model.frame")
>     mt <- terms(formula, data = data, simplify = TRUE)
>     mf[[2]] <- formula(mt, data = data)
>     mf$na.action <- substitute(na.action)
>     dots <- list(...)
>     mf[[names(dots)]] <- NULL
>     mf <- eval(mf,parent.frame())
>     mf
> }
> 
> ## apply foo using formula
> foo(~ . - B, data = d, na.action = na.pass,
>     method = "missing", na.value = 0)
> Error in mf[[names(dots)]] <- NULL : 
>   more elements supplied than there are to replace
> 
> If I debug(foo) and do:
> 
> Browse[2]> names(dots)
> [1] "method"   "na.value"
> Browse[2]> names(mf)
> [1] ""          "formula"   "data"      "na.action" "method"   
> [6] "na.value"
> Browse[2]> mf[[names(dots)[1]]]
> [1] "missing"
> Browse[2]> mf[[names(dots)[2]]]
> [1] 0
> 
> But
> Browse[2]> mf[[names(dots)]]
> Error in mf[[names(dots)]] : subscript out of bounds
> Browse[2]> str(names(dots))
>  chr [1:2] "method" "na.value"
> 
> I could have sworn I tested this during the beta test phase for 2.10.0 -
> if I did I didn't get any errors at that time - and this code works fine
> under R2.9.x branch. The package is now failing checks on CRAN and on my
> local install.
> 
> Am I doing something patently stupid here? Has something changed in '[['
> or 'names' that I'm now running foul of? I can probably work round this
> by setting the individual names of 'mf' to NULL in two calls, but I'd
> like to get to the bottom of the problem if at all possible.
> 
> Session Info:
> R version 2.10.0 Patched (2009-11-01 r50276) 
> i686-pc-linux-gnu 
> 
> locale:
>  [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              
>  [3] LC_TIME=en_GB.UTF-8        LC_COLLATE=en_GB.UTF-8    
>  [5] LC_MONETARY=C              LC_MESSAGES=en_GB.UTF-8   
>  [7] LC_PAPER=en_GB.UTF-8       LC_NAME=C                 
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
> [11] LC_MEASUREMENT=en_GB.UTF-8 LC_IDENTIFICATION=C       
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods  
> [7] base     
> 
> other attached packages:
> [1] analogue_0.6-21 MASS_7.2-48     lattice_0.17-25
> [4] vegan_1.15-3   
> 
> loaded via a namespace (and not attached):
> [1] grid_2.10.0  tools_2.10.0
> 
> Thanks in advance,
> 
> G
-- 
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
 Dr. Gavin Simpson             [t] +44 (0)20 7679 0522
 ECRC, UCL Geography,          [f] +44 (0)20 7679 0565
 Pearson Building,             [e] gavin.simpsonATNOSPAMucl.ac.uk
 Gower Street, London          [w] http://www.ucl.ac.uk/~ucfagls/
 UK. WC1E 6BT.                 [w] http://www.freshwaters.org.uk
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%


From groemping at bht-berlin.de  Tue Nov  3 21:42:54 2009
From: groemping at bht-berlin.de (=?ISO-8859-15?Q?Ulrike_Gr=F6mping?=)
Date: Tue, 03 Nov 2009 21:42:54 +0100
Subject: [Rd] Registered S3 methods not found: Documentation bug or anomaly
 in function update or ... ?
Message-ID: <4AF095CE.3000905@bht-berlin.de>

Dear expeRts,

I recently asked for help on an issue with S3 methods for lm. The issue 
was (in DoE.base 0.9-4)
that function update from package stats would return an error whenever 
DoE.base was loaded,
complaining that lm.default was not found
(e.g.
require(DoE.base)
swiss.lm <- lm(Fertility~Education+Examination, swiss)
upd.swiss.lm <- update(swiss.lm, .~.-Examination)
).

In version 0.9-4 of DoE.base, I had followed the recommendations of 
Section 1.6.2 of "Writing R
extensions", exporting the generic function lm and registering the 
methods (lm.design and lm.default)
with S3method but not separately exporting them in the namespace file.
Not having received help fast, I decided to try to explicitly export the 
method functions
lm.design and lm.default. This did in fact remove the
issue with not finding lm.default when using function update, and I have 
uploaded this fixed version
as 0.9-5.

Is it generally advisable to also export the method functions (i.e. 
should section
1.6.2 of "Writing R extensions" be revised) ? Or is there an anomaly in 
function update ? Or ...?
Explanations are appreciated.

Thanks and regards, Ulrike

-- 

***********************************************
* Ulrike Groemping *
* BHT Berlin - University of Applied Sciences *
***********************************************
* +49 (30) 39404863 (Home Office) *
* +49 (30) 4504 5127 (BHT) *
***********************************************
* http://prof.tfh-berlin.de/groemping *
* groemping at bht-berlin.de *


From ligges at statistik.tu-dortmund.de  Tue Nov  3 21:44:32 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Tue, 03 Nov 2009 21:44:32 +0100
Subject: [Rd] Removing cran mirrors
In-Reply-To: <f8e6ff050911031005v713a73ccn9029475970c344b1@mail.gmail.com>
References: <f8e6ff050911030654s543023co879bc99d388cb693@mail.gmail.com>
	<f8e6ff050911030658g31461a2k896ed49aa20fa982@mail.gmail.com>
	<4AF04E2D.7020500@statistik.tu-dortmund.de>
	<f8e6ff050911030746x3817f8c1xa0e7d3bfe76d25b5@mail.gmail.com>
	<4AF05366.7050704@statistik.tu-dortmund.de>
	<f8e6ff050911030832g33d8cf19tb0101062939fd179@mail.gmail.com>
	<4AF06AB3.8070405@statistik.tu-dortmund.de>
	<f8e6ff050911031005v713a73ccn9029475970c344b1@mail.gmail.com>
Message-ID: <4AF09630.6070103@statistik.tu-dortmund.de>



Hadley Wickham wrote:
>>>  * I don't recall receiving any automated notices about problems, and
>>> I've just tried searching for combinations of R 2.10, warning and
>>> ggplot2 as well as several other attempts and haven't been able to
>>> find anything.  I normally try and keep on top of issues like this.
>> Great, thank you very much for your efforts. Maybe it has been eaten by some
>> spam filter (because of auto-generation?). So good chance to start working
>> on the issues now. ;-)
> 
> Found the problem - it's because the subject is the same regardless of
> whether or not the package builds without warnings.  I just saw the
> emails and ignored them because I thought everything was ok.  Perhaps
> the subject line could include WARNING if something went wrong?


OK, good point, will change before the next release.

Best wishes,
Uwe

> Hadley
> 
>


From ripley at stats.ox.ac.uk  Tue Nov  3 21:53:47 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Nov 2009 20:53:47 +0000 (GMT)
Subject: [Rd] Help with testing (was Re: Request: bring back windows chm
 help support)
In-Reply-To: <4AF04596.6050505@stats.uwo.ca>
References: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>
	<4AEDF626.3030309@stats.uwo.ca> <4AEE0B2A.1060107@ucalgary.ca>
	<4AEE0FF1.5010006@4dscape.com> <4AEE11FC.70102@stats.uwo.ca>
	<4AEE1416.5020906@4dscape.com> <001801ca5bcc$3c699990$b53cccb0$@ca>
	<alpine.LFD.2.00.0911021920540.32200@gannet.stats.ox.ac.uk>
	<Zen-1N5KhH-0003A3-BX@smarthost03.mail.zen.net.uk>
	<4AF04596.6050505@stats.uwo.ca>
Message-ID: <alpine.LFD.2.00.0911031535390.3039@gannet.stats.ox.ac.uk>

Duncan has echoed my thoughts.  Just to add: Windows users also need 
to monitor the CHANGES file (also available on an RSS feed).

The things that we find hardest to check by automated testing are the 
installation process and GUI elements: we do only minimal testing in 
languages other English: Windows users routinely using test versions 
in the DBCS languages (Japanese, Korean, Simplified and Traditional 
Chinese) would be particularly beneficial, but so too would users of 
European languages on any platform.

E.g. it needs no special skills to notice that the installer gave you 
text help when you asked for HTML help.  Yet no one reported it until 
after release.

On Tue, 3 Nov 2009, Duncan Murdoch wrote:

> On 11/3/2009 9:49 AM, Michael Dewey wrote:
>> At 10:02 03/11/2009, Prof Brian Ripley wrote:
>> 
>> Comment in line below
>> 
>>> Duncan gave the definitive answer in an earlier reply: the active R 
>>> developers are no longer willing to support CHM help.  It is not open for 
>>> discussion, period.
>>> 
>>> But three comments to ponder (but not discuss).
>>> 
>>> (a) CHM is unusable for many of us.  A year or two ago Microsoft disabled 
>>> it on non-local drives via a Windows patch because of security risks -- 
>>> overnight it simply failed to work (no error, no warning, just no 
>>> response) in our computer labs.  And this year CERT issued a serious 
>>> advisory on the CHM compiler that Microsoft has not fixed (and apparently 
>>> is not going to) -- so many of us are banned from having it on a networked 
>>> machine by company policy.
>>> 
>>> (b) CHM support was in the sources at the beginning of the 2.10.0 alpha 
>>> testing.  Not one user asked for it at that point, let alone compiled it 
>>> up and tested it.  Since no one asked for it (not what we had 
>>> anticipated), the sources were cleaned up.
>>> 
>>> The main consultation over R development is the making available of 
>>> development versions for users to test out.
>>> 
>>> (c) We did ask for support for cross-compliation before removing it 
>>> (https://stat.ethz.ch/pipermail/r-devel/2009-January/051864.html): no one 
>>> responded but two shameless users months later whinged about its removal 
>>> on this list.  That has left a sour taste and zero enthusiasm for 
>>> supporting things that no one is prepared even to write in about when 
>>> asked.  Ask not what the R developers can do for you, but what you can do 
>>> for R development (and faithful alpha/beta testing would be a start).
>> 
>> What would be involved in testing such versions? Do you want people who are 
>> just regular users with limited computing skills like me, or users living 
>> on the cutting edge of computational statistics? 
>
> I don't know what Brian would say, but I would like to see both of the above 
> groups testing, and familiar with the changes that are coming. All you need 
> to do is to download and install a test version and see if anything goes 
> wrong on your system.
>
>> At what
>> stage in the process do pre-compiled versions (for Windows) come in? Is 
>> there somewhere I should have looked this up?
>
> There are announcements in the r-announce group when alpha or beta versions 
> are about to be released, but you can download the r-devel builds any time to 
> see what sort of things are going on, or subscribe to the RSS feed of NEWS 
> changes to it.
>
> The main problem with watching R-devel is that often it contains incomplete 
> code, and some decisions aren't finalized until the end of the alpha testing 
> period.  So please don't report things as bugs or expect everything to be in 
> its final state, but do point out things that are causing problems.
>
> Duncan Murdoch

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From wdunlap at tibco.com  Tue Nov  3 23:28:40 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Tue, 3 Nov 2009 14:28:40 -0800
Subject: [Rd] memory misuse in subscript code when rep() is called in odd way
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D70002131E0B@NA-PA-VBE03.na.tibco.com>

The following odd call to rep()
gives somewhat random results:

> rep(1:4, 1:8, each=2)
 [1]  1  1  1  2  2  2  2  2  2  2  3  3  3  3  3  3  3  3  3  3  3  4
4  4  4
[26]  4  4  4  4  4  4  4  4  4  4  4 NA NA NA NA NA NA NA NA NA NA NA
NA NA NA
[51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
> rep(1:4, 1:8, each=2)
Error: only 0's may be mixed with negative subscripts
> rep(1:4, 1:8, each=2)
 [1]  1  1  1  2  2  2  2  2  2  2  3  3  3  3  3  3  3  3  3  3  3  4
4  4  4
[26]  4  4  4  4  4  4  4  4  4  4  4 NA NA NA NA NA NA NA NA NA NA NA
NA NA NA
[51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
> rep(1:4, 1:8, each=2)
 [1]  1  1  1  2  2  2  2  2  2  2  3  3  3  3  3  3  3  3  3  3  3  4
4  4  4
[26]  4  4  4  4  4  4  4  4  4  4  4 NA NA NA NA NA NA NA NA NA NA NA
NA NA NA
[51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
> rep(1:4, 1:8, each=2)
 [1]  1  1  1  2  2  2  2  2  2  2  3  3  3  3  3  3  3  3  3  3  3  4
4  4  4
[26]  4  4  4  4  4  4  4  4  4  4  4 NA NA NA NA NA NA NA NA NA NA NA
NA NA NA
[51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
> rep(1:4, 1:8, each=2)
 [1]  1  1  1  2  2  2  2  2  2  2  3  3  3  3  3  3  3  3  3  3  3  4
4  4  4
[26]  4  4  4  4  4  4  4  4  4  4  4 NA NA NA NA NA NA NA NA NA NA NA
NA NA NA
[51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA  2 NA NA  2 NA NA  2
>  version
               _
platform       i686-pc-linux-gnu
arch           i686
os             linux-gnu
system         i686, linux-gnu
status         Under development (unstable)
major          2
minor          11.0
year           2009
month          10
day            20
svn rev        50178
language       R
version.string R version 2.11.0 Under development (unstable) (2009-10-20
r50178)

valgrind says that the C code is using uninitialized data:
> rep(1:4, 1:8, each=2)
==26459== Conditional jump or move depends on uninitialised value(s)
==26459==    at 0x80C557D: integerSubscript (subscript.c:408)
==26459==    by 0x80C5EDC: Rf_vectorSubscript (subscript.c:658)
==26459==    by 0x80C5FFD: Rf_makeSubscript (subscript.c:613)
==26459==    by 0x80C7368: do_subset_dflt (subset.c:158)
==26459==    by 0x80B4283: do_rep (Rinlinedfuns.h:161)
==26459==    by 0x816491B: Rf_eval (eval.c:464)
==26459==    by 0x805A726: Rf_ReplIteration (main.c:262)
==26459==    by 0x805A95E: R_ReplConsole (main.c:311)
==26459==    by 0x805AFBC: run_Rmainloop (main.c:964)
==26459==    by 0x8058E2B: main (Rmain.c:33)
==26459==
==26459== Conditional jump or move depends on uninitialised value(s)
==26459==    at 0x80C5567: integerSubscript (subscript.c:409)
==26459==    by 0x80C5EDC: Rf_vectorSubscript (subscript.c:658)
==26459==    by 0x80C5FFD: Rf_makeSubscript (subscript.c:613)
==26459==    by 0x80C7368: do_subset_dflt (subset.c:158)
==26459==    by 0x80B4283: do_rep (Rinlinedfuns.h:161)
==26459==    by 0x816491B: Rf_eval (eval.c:464)
==26459==    by 0x805A726: Rf_ReplIteration (main.c:262)
==26459==    by 0x805A95E: R_ReplConsole (main.c:311)
==26459==    by 0x805AFBC: run_Rmainloop (main.c:964)
==26459==    by 0x8058E2B: main (Rmain.c:33)
==26459==
==26459== Conditional jump or move depends on uninitialised value(s)
==26459==    at 0x80C556E: integerSubscript (subscript.c:411)
==26459==    by 0x80C5EDC: Rf_vectorSubscript (subscript.c:658)
==26459==    by 0x80C5FFD: Rf_makeSubscript (subscript.c:613)
==26459==    by 0x80C7368: do_subset_dflt (subset.c:158)
==26459==    by 0x80B4283: do_rep (Rinlinedfuns.h:161)
==26459==    by 0x816491B: Rf_eval (eval.c:464)
==26459==    by 0x805A726: Rf_ReplIteration (main.c:262)
==26459==    by 0x805A95E: R_ReplConsole (main.c:311)
==26459==    by 0x805AFBC: run_Rmainloop (main.c:964)
==26459==    by 0x8058E2B: main (Rmain.c:33)
==26459==
==26459== Conditional jump or move depends on uninitialised value(s)
==26459==    at 0x80C558F: integerSubscript (subscript.c:415)
==26459==    by 0x80C5EDC: Rf_vectorSubscript (subscript.c:658)
==26459==    by 0x80C5FFD: Rf_makeSubscript (subscript.c:613)
==26459==    by 0x80C7368: do_subset_dflt (subset.c:158)
==26459==    by 0x80B4283: do_rep (Rinlinedfuns.h:161)
==26459==    by 0x816491B: Rf_eval (eval.c:464)
==26459==    by 0x805A726: Rf_ReplIteration (main.c:262)
==26459==    by 0x805A95E: R_ReplConsole (main.c:311)
==26459==    by 0x805AFBC: run_Rmainloop (main.c:964)
==26459==    by 0x8058E2B: main (Rmain.c:33)
==26459==
==26459== Conditional jump or move depends on uninitialised value(s)
==26459==    at 0x80C55C1: integerSubscript (subscript.c:387)
==26459==    by 0x80C5EDC: Rf_vectorSubscript (subscript.c:658)
==26459==    by 0x80C5FFD: Rf_makeSubscript (subscript.c:613)
==26459==    by 0x80C7368: do_subset_dflt (subset.c:158)
==26459==    by 0x80B4283: do_rep (Rinlinedfuns.h:161)
==26459==    by 0x816491B: Rf_eval (eval.c:464)
==26459==    by 0x805A726: Rf_ReplIteration (main.c:262)
==26459==    by 0x805A95E: R_ReplConsole (main.c:311)
==26459==    by 0x805AFBC: run_Rmainloop (main.c:964)
==26459==    by 0x8058E2B: main (Rmain.c:33)
==26459==
==26459== Conditional jump or move depends on uninitialised value(s)
==26459==    at 0x80C60BB: ExtractSubset (subset.c:64)
==26459==    by 0x80C73B9: do_subset_dflt (subset.c:171)
==26459==    by 0x80B4283: do_rep (Rinlinedfuns.h:161)
==26459==    by 0x816491B: Rf_eval (eval.c:464)
==26459==    by 0x805A726: Rf_ReplIteration (main.c:262)
==26459==    by 0x805A95E: R_ReplConsole (main.c:311)
==26459==    by 0x805AFBC: run_Rmainloop (main.c:964)
==26459==    by 0x8058E2B: main (Rmain.c:33)
==26459==
==26459== Conditional jump or move depends on uninitialised value(s)
==26459==    at 0x80C61F6: ExtractSubset (subset.c:74)
==26459==    by 0x80C73B9: do_subset_dflt (subset.c:171)
==26459==    by 0x80B4283: do_rep (Rinlinedfuns.h:161)
==26459==    by 0x816491B: Rf_eval (eval.c:464)
==26459==    by 0x805A726: Rf_ReplIteration (main.c:262)
==26459==    by 0x805A95E: R_ReplConsole (main.c:311)
==26459==    by 0x805AFBC: run_Rmainloop (main.c:964)
==26459==    by 0x8058E2B: main (Rmain.c:33)
==26459==
==26459== Conditional jump or move depends on uninitialised value(s)
==26459==    at 0x80C61FF: ExtractSubset (subset.c:74)
==26459==    by 0x80C73B9: do_subset_dflt (subset.c:171)
==26459==    by 0x80B4283: do_rep (Rinlinedfuns.h:161)
==26459==    by 0x816491B: Rf_eval (eval.c:464)
==26459==    by 0x805A726: Rf_ReplIteration (main.c:262)
==26459==    by 0x805A95E: R_ReplConsole (main.c:311)
==26459==    by 0x805AFBC: run_Rmainloop (main.c:964)
==26459==    by 0x8058E2B: main (Rmain.c:33)
 [1]  1  1  1  2  2  2  2  2  2  2  3  3  3  3  3  3  3  3  3  3  3  4
4  4  4
[26]  4  4  4  4  4  4  4  4  4  4  4 NA NA NA NA NA NA NA NA NA NA NA
NA NA NA
[51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
> rle(.Last.value)
Run Length Encoding
  lengths: int [1:40] 3 7 11 15 1 1 1 1 1 1 ...
  values : int [1:40] 1 2 3 4 NA NA NA NA NA NA ...

S+ returns the non-NA part of this output:
S+> rep(1:4, 1:8, each=2)
 [1] 1 1 1 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4
S+> rle( rep(1:4, 1:8, each=2))
$lengths:
[1]  3  7 11 15

$values:
[1] 1 2 3 4


Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com 


From Mark.Bravington at csiro.au  Wed Nov  4 03:51:28 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Wed, 4 Nov 2009 13:51:28 +1100
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <4AEDEF70.5030004@stats.uwo.ca>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>,
	<4AEC4954.9070400@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>,
	<4AED9648.7080702@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B005@exvic-mbx03.nexus.csiro.au>
	<4AEDEF70.5030004@stats.uwo.ca>
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F8705559AE070@exvic-mbx03.nexus.csiro.au>

> Sorry.  What I thought you said was that you had spent several hours
> on it and didn't want to spend more time on it.  I've told you I
> don't want to work on it either.  
> 
> If there is no way to trigger this bug without using internals, then
> it has not been demonstrated to be a bug in R.  It might be one, or
> it might be a bug in your code.  Often I'll work on things that are
> demonstrated bugs, but I won't commit several hours to debugging your
> code.    
> 
> Duncan Murdoch
> 

I sympathize with not wanting to spend hours on other people's code-- and I appreciate that you have spent a lot of time off-list trying to help me with 'parse_Rd' recently.

But in this case: 

(i) there were only 3 lines of code in the first example! If I've done something wrong in those 3 lines, it shouldn't take several hours to diagnose...

(ii) the real problem may well not be in 'parse_Rd' but in 'lazyLoad' etc, as the subject line says. Presumably you picked up the original thread because you're the 'parse_Rd' author. If you're sure it's not 'parse_Rd', or if you don't want to look at the code for other reasons, perhaps you could alert the author of the lazyloading routines (Luke Tierney?) to see if he's willing to look into it.

(iii) I deliberately haven't submitted a formal bug report, because my reproducible examples need to call 'makeLazyLoadDB'. (Though Henrik B is able to trigger the same problem without it.) As you say, by R's definition of a bug (which  certainly isn't the same as mine) I cannot demonstrate this is a "bug". So the R-bug lens may not be the correct filter for you to apply here.

Further to the problem itself: Henrik Bengtsson's report seems symptomatic of the same thing. I've generally hit the bug (damn!) only on the second or subsequent time in a session that I've lazyloaded, which is one reason it's hard to make reproducible. If you want a reproducible example to help track the bug down, then my original 3-liner would be easier to work with. However, while that one does reliably trigger an error on my laptop with 2GB R-usable memory, it doesn't on my 4GB-usable desktop. For that machine, a reproducible sequence with the only internal function being 'makeLazyLoadDB' is: 

file.copy( 'd:/temp/Rdiff.Rd', 'd:/temp/scrunge.Rd') # Rdiff.Rd from 'tools' package source

eglist <- list( scrunge=parse_Rd( ?'d:/temp/scrunge.Rd'))
tools:::makeLazyLoadDB( eglist, 'd:/temp/ll')
e <- new.env()
lazyLoad( 'd:/temp/ll', e)
as.list( e) # force; OK

eglist1 <- list( scrunge=parse_Rd( ?'d:/temp/Rdiff.Rd'))
tools:::makeLazyLoadDB( eglist1, 'd:/temp/ll')
e <- new.env()
lazyLoad( 'd:/temp/ll', e)
as.list( e) # Splat

It doesn't make any difference which file I process first; the error comes the second time round.


Mark


-- 
Mark Bravington
CSIRO Mathematical & Information Sciences
Marine Laboratory
Castray Esplanade
Hobart 7001
TAS

ph (+61) 3 6232 5118
fax (+61) 3 6232 5012
mob (+61) 438 315 623

Duncan Murdoch wrote:
> On 01/11/2009 3:12 PM, Mark.Bravington at csiro.au wrote:
>>> Okay, then we both agree we should drop it.
>>> Duncan Murdoch
>> 
>> 
>> No we don't. I can't provide a functioning mvbutils, or debug, until
>> this is resolved. 
>> 
>> I am trying to be a good citizen and prepare reproducible bug
>> reports-- e.g. the 3 line example. It would be quicker for me to
>> write some ugly hack that modifies base R and gets round the problem
>> *for me*, but that doesn't seem the best outcome for R. A culture
>> which discourages careful bug reporting is unhealthy culture.    
> 
> Sorry.  What I thought you said was that you had spent several hours
> on it and didn't want to spend more time on it.  I've told you I
> don't want to work on it either.  
> 
> If there is no way to trigger this bug without using internals, then
> it has not been demonstrated to be a bug in R.  It might be one, or
> it might be a bug in your code.  Often I'll work on things that are
> demonstrated bugs, but I won't commit several hours to debugging your
> code.    
> 
> Duncan Murdoch
> 
>> Mark Bravington
>> 
>> 
>> ________________________________________
>> From: Duncan Murdoch [murdoch at stats.uwo.ca]
>> Sent: 02 November 2009 01:08
>> To: Bravington, Mark (CMIS, Hobart)
>> Cc: r-devel at r-project.org
>> Subject: Re: [Rd] parse_Rd and/or lazyload problem
>> 
>> On 31/10/2009 10:18 PM, Mark.Bravington at csiro.au wrote:
>>>> Does this happen in R-patched?  I've seen similar errors in 2.10.0,
>>>> but not in a current build.
>>> Yes, still there in R-patched.
>>> 
>>> (Still haven't got to your code, this was in
>>>> mine.  I'm reluctant to spend time on code that is messing with
>>>> internals, because you might be using things in a way not intended
>>>> by the author.  Now, if you can show me some code that demonstrates
>>>> the problem without using internals directly, I'll follow up.)
>>> I did try, but it's not completely possible, because
>>> 'makeLazyLoadDB' is internal and there is no public alternative (a
>>> pity-- it's useful). However, the problem(s) can be demonstrated
>>> without directly calling 'parse_Rd', and with 'lazyLoad' (public)
>>> instead of 'fetchRdDB' (private), as per "pointer 1" below. If you
>>> have a look at 'tools:::.install_package_Rd_objects', you'll see
>>> that my use of 'makeLazyLoadDB' is quite standard.      
>>> 
>>> The problem is not easy to reproduce. It took 4-5 hours work to get
>>> the 3-line reproducible example that I posted, plus another couple
>>> since, so I'm also reluctant to spend more time...  
>> 
>> Okay, then we both agree we should drop it.
>> Duncan Murdoch
>> 
>> 
>>> The examples in my previous post still apply-- the first one
>>> involves just 3 statements-- but here are some more pointers I've
>>> unearthed since:  
>>> 
>>> 
>>> 1. Sometimes 'fetchRdDB' or 'lazyLoad' called directly from the
>>> prompt doesn't work, but public 'Rd_db' (which directly calls
>>> 'fetchRdDB') does. I've experimented with copying the installed
>>> 'tools' package into a new library "d:/temp/fakelib", then stuff
>>> like this:    
>>> 
>>> test> e <- new.env()
>>> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e) # original
>>> test> files tools.rdx, tools.rdb e <- as.list( e) # force evaluation
>>> test> tools:::makeLazyLoadDB( e, 'd:/temp/fakelib/tools/help/tools')
>>> test> # modify tools.rd*
>>> test> e1 <- new.env()
>>> test> lazyLoad( 'd:/temp/fakelib/tools/help/tools', e1) as.list( e1)
>>> test> # try to force evaluation...
>>> Error in as.list.environment(e1) :
>>>   cannot allocate memory block of size 2.7 Gb
>>> test>
>>> test> Rd_db( 'tools', 'd:/temp/fakelib') # no probs !?
>>> 
>>> 
>>> 2. Sometimes 'fetchRdDB' or 'lazyLoad' will fail in one R session,
>>> but will work in a fresh session on exactly the same files. For
>>> example, after restarting R, the previous commands involving 'e1'
>>> work fine.   
>>> 
>>> Mark
>>> 
>>>> Duncan Murdoch
>>>> 
>>>>>> I'm encountering problems when making lazy-loadable databases of
>>>>>> the output from 'parse_Rd'. The lazy- load database is of
>>>>>> seemingly limitless size when I try to reload it... Admittedly I
>>>>>> am using functions that I'm not really supposed to use, which is
>>>>>> why this isn't a bug report, but there does seem to be something
>>>>>> strange going on; my code is very similar to code that lives
>>>>>> inside 'tools:::.install_package_Rd_objects'. The problems occur
>>>>>> with just-released R2.10.0 on Windows.   
>>>>> object.size() has problems when working on Rd objects, because it
>>>>> counts every environment separately, even though they may all be
>>>>> references to the same one. I haven't looked at your code, but
>>>>> that could be a problem. 
>>>>> 
>>>>> 
>>>> Mark
>>>> 
>>>> ________________________________________
>>>> From: Duncan Murdoch [murdoch at stats.uwo.ca]
>>>> Sent: 31 October 2009 08:59
>>>> To: Bravington, Mark (CMIS, Hobart)
>>>> Cc: r-devel at r-project.org
>>>> Subject: Re: [Rd] parse_Rd and/or lazyload problem
>>>> 
>>>> On 30/10/2009 12:50 AM, Mark.Bravington at csiro.au wrote:
>>>>> I'm encountering problems when making lazy-loadable databases of
>>>>> the output from 'parse_Rd'. The lazy-load database is of
>>>>> seemingly limitless size when I try to reload it... Admittedly I
>>>>> am using functions that I'm not really supposed to use, which is
>>>>> why this isn't a bug report, but there does seem to be something
>>>>> strange going on; my code is very similar to code that lives
>>>>> inside 'tools:::.install_package_Rd_objects'. The problems occur
>>>>> with just-released R2.10.0 on Windows.       
>>>> object.size() has problems when working on Rd objects, because it
>>>> counts every environment separately, even though they may all be
>>>> references to the same one. I haven't looked at your code, but
>>>> that could be a problem. 
>>>> 
>>>> Duncan Murdoch
>>>> 
>>>>> The examples below use files which can be found at
>>>>> ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to
>>>>> modify the paths. The file "scrunge.Rd" is just "Rdiff.Rd" from
>>>>> the 'tools' package. The file "fakepack.7z" should unzip to
>>>>> create a fake package with a DESCRIPTION file and a "man"
>>>>> directory that contains two Rd files.     
>>>>> 
>>>>> Transcript of first example:
>>>>> eglist <- list( scrunge=tools:::prepare_Rd(  'd:/temp/scrunge.Rd',
>>>>>     defines=.Platform$OS.type, stages='install',
>>>>> warningCalls=FALSE)) tools:::makeLazyLoadDB( eglist, 'd:/temp/ll',
>>>>> compress=FALSE) tools:::fetchRdDB( 'd:/temp/ll') # Error: cannot
>>>>> allocate vector of size 1.4 Gb
>>>>> 
>>>>> The second example triggers an error with
>>>>> 'tools:::.install_package_Rd_objects' itself. It doesn't happen
>>>>> the first time, but frequently does after the Rd files have been
>>>>> changed. Transcript:   
>>>>> 
>>>>> # Make sure d:/temp/help/ is empty, then
>>>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack',
>>>>> test> 'd:/temp') tools:::fetchRdDB( 'd:/temp/help/temp')
>>>>> # All good. Next, I *removed* one of the two Rd files in
>>>>> "d:/temp/fakepack/man", ... # ...deleted "d:/temp/help/temp*",
>>>>> and tried again 
>>>>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack',
>>>>> test> 'd:/temp') tools:::fetchRdDB( 'd:/temp/help/temp')
>>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>>>>> Error: cannot allocate vector of size 1.9 Gb # Or on other
>>>>> occasions I get
>>>>> Error: internal error -3 in R_decompress1
>>>>> 
>>>>> Mark Bravington
>>>>> CSIRO CMIS
>>>>> Hobart
>>>>> Australia
>>>>> 
>>>>> --please do not edit the information below--
>>>>> Version:
>>>>>  platform = i386-pc-mingw32
>>>>>  arch = i386
>>>>>  os = mingw32
>>>>>  system = i386, mingw32
>>>>>  status =
>>>>>  major = 2
>>>>>  minor = 10.0
>>>>>  year = 2009
>>>>>  month = 10
>>>>>  day = 26
>>>>>  svn rev = 50208
>>>>>  language = R
>>>>>  version.string = R version 2.10.0 (2009-10-26) Windows XP (build
>>>>> 2600) Service Pack 2 
>>>>> Locale:
>>>>> LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;L
>>>>> C_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Aust
>>>>> ralia.1252
>>>>> Search Path:
>>>>>  .GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff,
>>>>> package:handy2, package:tweedie, package:statmod, package:handy,
>>>>> package:debug, package:mvbutils, mvb.session.info, package:tools,
>>>>> package:tcltk, package:stats, package:graphics, package:utils,
>>>>> package:methods, Autoloads, package:base
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel

From seth at userprimary.net  Wed Nov  4 06:40:04 2009
From: seth at userprimary.net (Seth Falcon)
Date: Tue, 03 Nov 2009 21:40:04 -0800
Subject: [Rd] memory misuse in subscript code when rep() is called in
 odd way
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D70002131E0B@NA-PA-VBE03.na.tibco.com>
References: <77EB52C6DD32BA4D87471DCD70C8D70002131E0B@NA-PA-VBE03.na.tibco.com>
Message-ID: <4AF113B4.6060006@userprimary.net>

Hi,

On 11/3/09 2:28 PM, William Dunlap wrote:
> The following odd call to rep()
> gives somewhat random results:
>
>> rep(1:4, 1:8, each=2)

I've committed a fix for this to R-devel.

I admit that I had to reread the rep man page as I first thought this 
was not a valid call to rep since times (1:8) is longer than x (1:4), 
but closer reading of the man page says:

   > If times is a vector of the same length as x (after replication
   > by each), the result consists of x[1] repeated times[1] times,
   > x[2] repeated times[2] times and so on.

So the expected result is the same as rep(rep(1:4, each=2), 1:8).

> valgrind says that the C code is using uninitialized data:
>> rep(1:4, 1:8, each=2)
> ==26459== Conditional jump or move depends on uninitialised value(s)
> ==26459==    at 0x80C557D: integerSubscript (subscript.c:408)
> ==26459==    by 0x80C5EDC: Rf_vectorSubscript (subscript.c:658)

A little investigation seems to suggest that the problem is originating 
earlier.  Debugging in seq.c:do_rep I see the following:

 > rep(1:4, 1:8, each=2)

Breakpoint 1, do_rep (call=0x102de0068, op=<value temporarily 
unavailable, due to optimizations>, args=<value temporarily unavailable, 
due to optimizations>, rho=0x1018829f0) at 
/Users/seth/src/R-devel-all/src/main/seq.c:434
434         ans = do_subset_dflt(R_NilValue, R_NilValue, list2(x, ind), 
rho);
(gdb) p Rf_PrintValue(ind)
  [1]          1          1          1          2          2          2
  [7]          2          2          2          2          3          3
[13]          3          3          3          3          3          3
[19]          3          3          3          4          4          4
[25]          4          4          4          4          4          4
[31]          4          4          4          4          4          4
[37]   44129344          1   44129560          1   44129776          1
[43]   44129992          1   44099592          1   44099808          1
[49]   44100024          1   44100456          1    2724144    3801089
[55] -536870733          0   54857992          1   22275728          1
[61]    2724144          1         34          1   44100744          1
[67]   44100960          1   44101176          1   43652616          1
$2 = void
(gdb) c
Continuing.
Error: only 0's may be mixed with negative subscripts

The patch I applied adjusts how the index vector length is computed when 
times has length more than one.

+ seth


From seth at userprimary.net  Wed Nov  4 07:26:44 2009
From: seth at userprimary.net (Seth Falcon)
Date: Tue, 03 Nov 2009 22:26:44 -0800
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <62C82B39B8A85E4B95A18F7F7B852F8705559AE070@exvic-mbx03.nexus.csiro.au>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>,
	<4AEC4954.9070400@stats.uwo.ca>	<62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>,
	<4AED9648.7080702@stats.uwo.ca>	<62C82B39B8A85E4B95A18F7F7B852F87055595B005@exvic-mbx03.nexus.csiro.au>	<4AEDEF70.5030004@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F8705559AE070@exvic-mbx03.nexus.csiro.au>
Message-ID: <4AF11EA4.7090705@userprimary.net>

Hi,

On 11/3/09 6:51 PM, Mark.Bravington at csiro.au wrote:
>
> file.copy( 'd:/temp/Rdiff.Rd', 'd:/temp/scrunge.Rd') # Rdiff.Rd from 'tools' package source
>
> eglist<- list( scrunge=parse_Rd(  'd:/temp/scrunge.Rd'))
> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll')
> e<- new.env()
> lazyLoad( 'd:/temp/ll', e)
> as.list( e) # force; OK
>
> eglist1<- list( scrunge=parse_Rd(  'd:/temp/Rdiff.Rd'))
> tools:::makeLazyLoadDB( eglist1, 'd:/temp/ll')
> e<- new.env()
> lazyLoad( 'd:/temp/ll', e)
> as.list( e) # Splat
>
> It doesn't make any difference which file I process first; the error comes the second time round.

If I adjust this example in terms of paths and run on OS X, I get the 
following error on the second run:

 > as.list(e) # Splat
Error in as.list.environment(e) : internal error -3 in R_decompress1

I haven't looked further yet.

+ seth


From michael_karsh at earthlink.net  Wed Nov  4 08:50:13 2009
From: michael_karsh at earthlink.net (michael_karsh at earthlink.net)
Date: Wed,  4 Nov 2009 08:50:13 +0100 (CET)
Subject: [Rd] Cannot Change Function (PR#14041)
Message-ID: <20091104075013.58C5F282EF4D@mail.pubhealth.ku.dk>

Full_Name: Michael Aaron Karsh
Version: 2.8.0
OS: Windows XP
Submission from: (NULL) (75.61.102.255)


Whenever I try changing a function, it keeps coming up with the same error
message.

I have the function
CN_state_log_sum=function(Tot_log_sum){ #estimate copy number state for the log
sum approach
	if(((Im(Tot_log_sum))!=0)|Re(Tot_log_sum)<=log(1/4)/log(2)) {return(0)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>log(1/4)/log(2))&&((Re(Tot_log_sum))<log(3/4)/log(2)))
{return(1)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>(log(3/4)/log(2)))&&((Re(Tot_log_sum))<log(5/4)/log(2)))
{return(2)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>log(5/4)/log(2))&&((Re(Tot_log_sum))<log(7/4)/log(2)))
{return(3)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>log(7/4)/log(2))) {return(4)}
}

When I try to run it in the loop:
for (j in 1:length(BB_mean_ref)){	# find copy number states (0 for homozygous
deletion, 1 for hemizygous deletion, 2 for neutral, 3 for single amplification,
4 for multiple amplification)
	state_log_sum[j]=CN_state_log_sum(Tot_log_sum[j])
	state_sum_log[j]=CN_state_sum_log(Tot_sum_log[j])
}
I get the error message:
Error in Im(Tot_sum_log) != 0 || Re(Tot_sum_log) <- 2 : 
  could not find function "||<-"

Originally, I had defined the function:
CN_state_log_sum=function(Tot_log_sum){ #estimate copy number state for the log
sum approach
	if(Im(Tot_log_sum)!=0||Re(Tot_log_sum)<-2) return(0)
	if(Im(Tot_log_sum)==0&&Re(Tot_log_sum)>-2)&&Re(Tot_log_sum)<-.4150375)
return(1)
	if(Im(Tot_log_sum)==0&&Re(Tot_log_sum)>-.4150375&&Re(Tot_log_sum)<.3219281)
return(2)
	if(Im(Tot_log_sum)==0&&Re(Tot_log_sum)>.3219281&&Re(Tot_log_sum)<.807355)
return(3)
	if(Im(Tot_log_sum)==0&&Re(Tot_log_sum)>.807355) return(4)
}
When I tried:
for (j in 1:length(BB_mean_ref)){	# find copy number states (0 for homozygous
deletion, 1 for hemizygous deletion, 2 for neutral, 3 for single amplification,
4 for multiple amplification)
	state_log_sum[j]=CN_state_log_sum(Tot_log_sum[j])
	state_sum_log[j]=CN_state_sum_log(Tot_sum_log[j])
}
I get the error message:
Error in Im(Tot_sum_log) != 0 || Re(Tot_sum_log) <- 2 : 
  could not find function "||<-"
I then tried changing the function to:
CN_state_log_sum=function(Tot_log_sum){ #estimate copy number state for the log
sum approach
	if((Im(Tot_log_sum)!=0)||(Re(Tot_log_sum)<-2)) return(0)
	if((Im(Tot_log_sum)==0)&&(Re(Tot_log_sum)>-2))&&(Re(Tot_log_sum)<-.4150375))
return(1)
	if((Im(Tot_log_sum)==0)&&(Re(Tot_log_sum)>-.4150375)&&(Re(Tot_log_sum)<.3219281))
return(2)
	if((Im(Tot_log_sum)==0)&&(Re(Tot_log_sum)>.3219281)&&(Re(Tot_log_sum)<.807355))
return(3)
	if((Im(Tot_log_sum)==0)&&(Re(Tot_log_sum)>.807355)) return(4)
}
I got the same error message.
I then remembered that <- is used to make assignments, when what I wanted to do
was compare one expression to a negative number.  I then tried changing the
function to:
CN_state_log_sum=function(Tot_log_sum){ #estimate copy number state for the log
sum approach
	if(((Im(Tot_log_sum))!=0)|Re(Tot_log_sum)<=log(1/4)/log(2)) {return(0)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>log(1/4)/log(2))&&((Re(Tot_log_sum))<log(3/4)/log(2)))
{return(1)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>(log(3/4)/log(2)))&&((Re(Tot_log_sum))<log(5/4)/log(2)))
{return(2)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>log(5/4)/log(2))&&((Re(Tot_log_sum))<log(7/4)/log(2)))
{return(3)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>log(7/4)/log(2))) {return(4)}
}
I got the same error message.

I then tried removing the function using the command:
rm(CN_state_log_sum) and then putting in the function again:
CN_state_log_sum=function(Tot_log_sum){ #estimate copy number state for the log
sum approach
	if(((Im(Tot_log_sum))!=0)|Re(Tot_log_sum)<=log(1/4)/log(2)) {return(0)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>log(1/4)/log(2))&&((Re(Tot_log_sum))<log(3/4)/log(2)))
{return(1)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>(log(3/4)/log(2)))&&((Re(Tot_log_sum))<log(5/4)/log(2)))
{return(2)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>log(5/4)/log(2))&&((Re(Tot_log_sum))<log(7/4)/log(2)))
{return(3)}
	if(((Im(Tot_log_sum))==0)&&((Re(Tot_log_sum))>log(7/4)/log(2))) {return(4)}
}
Same error message.
I tried removing the function again, and then tried saving the new workspace and
the workspace image when I closed R so that it would remember that that function
had been removed when I would open R again. I then opened R again and defined
the same function again. Again, when I tried running it, I got the same error
message.


From niels_h_jensen at hotmail.com  Tue Nov  3 03:00:10 2009
From: niels_h_jensen at hotmail.com (niels_h_jensen at hotmail.com)
Date: Tue,  3 Nov 2009 03:00:10 +0100 (CET)
Subject: [Rd] library gplots : heatmap.2 reordering broken (PR#14037)
Message-ID: <20091103020010.45940282EFE9@mail.pubhealth.ku.dk>

Full_Name: Niels
Version:  <= 2.10.0
OS: Windows
Submission from: (NULL) (76.182.102.23)


The reordering option in library gplots : heatmap.2 is broken. Re-ordering of
the dendrogram is supposed to work by providing a vector of ordering weighs in
Rowv. However, the tests in line 131 and 174 are not adequate for Rowv being a
vector and therefore break the code. The same is probably true for Colv. Also,
there is a typo in line 137 ("dedrogram" instead of "dendrogram").


From ligges at statistik.tu-dortmund.de  Wed Nov  4 12:19:59 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Wed, 04 Nov 2009 12:19:59 +0100
Subject: [Rd] Registered S3 methods not found: Documentation bug or
 anomaly in function update or ... ?
In-Reply-To: <4AF095CE.3000905@bht-berlin.de>
References: <4AF095CE.3000905@bht-berlin.de>
Message-ID: <4AF1635F.9030803@statistik.tu-dortmund.de>

Well,

 > swiss.lm

Call:
lm.default(formula = Fertility ~ Education + Examination, data = swiss)


That means the call is registered as lm.default and update calls that 
one (and it is hidden in your namespace.

You can fix it on your side so that the call is registered as lm(.....) 
in the lm object.

Anyway, I think it is a bit dangerous to redefine lm() the way you did it.

Best wishes,
Uwe






Ulrike Gr?mping wrote:
> Dear expeRts,
> 
> I recently asked for help on an issue with S3 methods for lm. The issue 
> was (in DoE.base 0.9-4)
> that function update from package stats would return an error whenever 
> DoE.base was loaded,
> complaining that lm.default was not found
> (e.g.
> require(DoE.base)
> swiss.lm <- lm(Fertility~Education+Examination, swiss)
> upd.swiss.lm <- update(swiss.lm, .~.-Examination)
> ).
> 
> In version 0.9-4 of DoE.base, I had followed the recommendations of 
> Section 1.6.2 of "Writing R
> extensions", exporting the generic function lm and registering the 
> methods (lm.design and lm.default)
> with S3method but not separately exporting them in the namespace file.
> Not having received help fast, I decided to try to explicitly export the 
> method functions
> lm.design and lm.default. This did in fact remove the
> issue with not finding lm.default when using function update, and I have 
> uploaded this fixed version
> as 0.9-5.
> 
> Is it generally advisable to also export the method functions (i.e. 
> should section
> 1.6.2 of "Writing R extensions" be revised) ? Or is there an anomaly in 
> function update ? Or ...?
> Explanations are appreciated.
> 
> Thanks and regards, Ulrike
>


From groemping at bht-berlin.de  Wed Nov  4 12:27:17 2009
From: groemping at bht-berlin.de (groemping at bht-berlin.de)
Date: Wed, 4 Nov 2009 12:27:17 +0100
Subject: [Rd] Registered S3 methods not found: Documentation bug or
	anomaly in function update or ... ?
In-Reply-To: <4AF1635F.9030803@statistik.tu-dortmund.de>
References: <4AF095CE.3000905@bht-berlin.de>
	<4AF1635F.9030803@statistik.tu-dortmund.de>
Message-ID: <20091104112412.M40919@beuth-hochschule.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091104/6b08b7d6/attachment.pl>

From stefan.evert at uos.de  Wed Nov  4 13:40:06 2009
From: stefan.evert at uos.de (Stefan Evert)
Date: Wed, 4 Nov 2009 13:40:06 +0100
Subject: [Rd] Cannot Change Function (PR#14041)
In-Reply-To: <20091104075013.58C5F282EF4D@mail.pubhealth.ku.dk>
References: <20091104075013.58C5F282EF4D@mail.pubhealth.ku.dk>
Message-ID: <02DC0A8C-49D4-49DD-9F81-10344F944B4E@uos.de>

What makes you think this is a bug in R?

> Whenever I try changing a function, it keeps coming up with the same  
> error
> message.
>
> I have the function
> CN_state_log_sum=function(Tot_log_sum){ #estimate copy number state  
> for the log
  [...]
> }
>
> When I try to run it in the loop:
> for (j in 1:length(BB_mean_ref)){	# find copy number states (0 for  
> homozygous
> deletion, 1 for hemizygous deletion, 2 for neutral, 3 for single  
> amplification,
> 4 for multiple amplification)
> 	state_log_sum[j]=CN_state_log_sum(Tot_log_sum[j])
> 	state_sum_log[j]=CN_state_sum_log(Tot_sum_log[j])
> }
> I get the error message:
> Error in Im(Tot_sum_log) != 0 || Re(Tot_sum_log) <- 2 :
>  could not find function "||<-"

The error message indicates that the problem happens in the function  
CN_state_sum_log() rather than CN_state_log_sum(), so it's hardly  
surprising that changing the latter doesn't have any effect.

My guess: you've go a condition (Re(Tot_sum_log)<-2), which is  
mistaken for the assignment operator "<-" by the R parser. Adding some  
whitespace (Re(Tot_sum_log) < -2) should help both R and human readers  
to make sense of it.

Best,
Stefan


From jpnolan at american.edu  Wed Nov  4 16:32:27 2009
From: jpnolan at american.edu (John Nolan)
Date: Wed, 4 Nov 2009 10:32:27 -0500
Subject: [Rd] cascade option for dev.new?
Message-ID: <OF6458FA00.B17591F8-ON85257664.00555E98-85257664.00555E9A@american.edu>

I frequently run scripts that generate multiple graphs.  Unless you specify a specific window location, dev.new superimposes all new graphics windows exactly on top of each other.  It would be nice to have a "cascade=TRUE" option in dev.new to prevent windows from being hidden.  A hasty approximation to this is the following function:

# utility function to prevent overlapping plot windows
cascade <- function( k=dev.cur(),x0=300,y0=50,dx=30,dy=30){ 
  dev.new( xpos=x0+k*dx, ypos=y0+k*dy); 
  invisible() }

x <- seq(-10,10,.1); y <- sin(x)
plot(x,y,type='l',main='first plot')
cascade()
plot(x,y,type='l',main='second plot')


John Nolan
Math/Stat Dept.
American University


 


From michael.m.spiegel at gmail.com  Wed Nov  4 17:05:10 2009
From: michael.m.spiegel at gmail.com (michael.m.spiegel at gmail.com)
Date: Wed,  4 Nov 2009 17:05:10 +0100 (CET)
Subject: [Rd] error in install.packages() (PR#14042)
Message-ID: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>

Full_Name: Michael Spiegel
Version: 2.10
OS: Windows Vista
Submission from: (NULL) (76.104.24.156)


The following error is produced when attempting to call install.packages.  Here
is the results of the traceback:

> source('http://openmx.psyc.virginia.edu/getOpenMx.R')
Error in f(res) : invalid subscript type 'list'
> traceback()
7: f(res)
6: available.packages(contriburl = contriburl, method = method)
5: .install.winbinary(pkgs = pkgs, lib = lib, contriburl = contriburl, 
       method = method, available = available, destdir = destdir, 
       dependencies = dependencies, ...)
4: install.packages(pkgs = c("OpenMx"), repos = repos)
3: eval.with.vis(expr, envir, enclos)
2: eval.with.vis(ei, envir)
1: source("http://openmx.psyc.virginia.edu/getOpenMx.R")

I've tracked the error down to somewhere in available.packages defined in
src\library\utils\R\packages.R.  I am guessing that the error in version 2.10
has something to do with the change: "available.packages() gains a 'filters'
argument for specifying the filtering operations performed on the packages found
in the repositories."


From rkoenker at uiuc.edu  Wed Nov  4 17:32:36 2009
From: rkoenker at uiuc.edu (Roger Koenker)
Date: Wed, 4 Nov 2009 10:32:36 -0600
Subject: [Rd] s4 generic issue
Message-ID: <DBFFDE16-6480-498F-912A-F326E6930A30@uiuc.edu>

I'm hoping that someone with deeper insight into S4 than I,
that is to say virtually everyone reading this list, could help
resolve the following problem in SparseM.  We have

setGeneric("backsolve",
         function(r, x, k = NULL, upper.tri = NULL, transpose = NULL,   
twice = TRUE, ...)
                 standardGeneric("backsolve"),
         useAsDefault= function(r, x,  k = ncol(r), upper.tri = TRUE,
                 transpose = FALSE, twice = TRUE, ...)
                 base::backsolve(r, x, k = ncol(r), upper.tri = TRUE,
                         transpose = FALSE, ...))

and then proceed to use setMethod for a class matrix.csr.chol.   
However, this seems
to cause problems in the following instance:  if one does the following

require(lars)
require(SparseM)
example(lars)
....[snip]
lars> object3 <- lars(x,y,type="for") # Can use abbreviations
Error in base::backsolve(r, x, k = ncol(r), upper.tri = TRUE,  
transpose = FALSE,  :
   NA/NaN/Inf in foreign function call (arg 4)
 > traceback()
10: .C("bakslv", t = r, ldt = nrow(r), n = k, b = x, ldb = k, nb = nb,
         x = matrix(0, k, nb), job = job, info = integer(1L), DUP =  
FALSE,
         PACKAGE = "base")
9: base::backsolve(r, x, k = ncol(r), upper.tri = TRUE, transpose =  
FALSE,
        ...)
8: backsolve(R, backsolvet(R, Sign[positive]))
7: backsolve(R, backsolvet(R, Sign[positive]))
6: nnls.lars(active, Sign, R, directions, Gram[active, active],
        trace = trace, use.Gram = TRUE, eps = eps)
5: lars(x, y, type = "for")
4: eval.with.vis(expr, envir, enclos)
3: eval.with.vis(ei, envir)
2: source(zfile, local, echo = echo, prompt.echo = paste(prompt.prefix,
        getOption("prompt"), sep = ""), continue.echo = paste 
(prompt.prefix,
        getOption("continue"), sep = ""), verbose = verbose,  
max.deparse.length = Inf,
        encoding = encoding, skip.echo = skips, keep.source = TRUE)
1: example(lars)

So clearly base::backsolve is getting called as would be desired in  
this case,
but something is rotten in the way arguments are being passed.

I'm aware that the R-extensions manual suggests another strategy than
setGeneric for making generics, but I would like to understand what is  
going
wrong here.

Roger


url:    www.econ.uiuc.edu/~roger            Roger Koenker
email    rkoenker at uiuc.edu            Department of Economics
vox:     217-333-4558                University of Illinois
fax:       217-244-6678                Urbana, IL 61801


From murdoch at stats.uwo.ca  Wed Nov  4 17:40:16 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 04 Nov 2009 11:40:16 -0500
Subject: [Rd] error in install.packages() (PR#14042)
In-Reply-To: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>
Message-ID: <4AF1AE70.7050003@stats.uwo.ca>

On 11/4/2009 11:05 AM, michael.m.spiegel at gmail.com wrote:
> Full_Name: Michael Spiegel
> Version: 2.10
> OS: Windows Vista
> Submission from: (NULL) (76.104.24.156)
> 
> 
> The following error is produced when attempting to call install.packages.  Here
> is the results of the traceback:
> 
>> source('http://openmx.psyc.virginia.edu/getOpenMx.R')
> Error in f(res) : invalid subscript type 'list'
>> traceback()
> 7: f(res)
> 6: available.packages(contriburl = contriburl, method = method)
> 5: .install.winbinary(pkgs = pkgs, lib = lib, contriburl = contriburl, 
>        method = method, available = available, destdir = destdir, 
>        dependencies = dependencies, ...)
> 4: install.packages(pkgs = c("OpenMx"), repos = repos)
> 3: eval.with.vis(expr, envir, enclos)
> 2: eval.with.vis(ei, envir)
> 1: source("http://openmx.psyc.virginia.edu/getOpenMx.R")
> 
> I've tracked the error down to somewhere in available.packages defined in
> src\library\utils\R\packages.R.  I am guessing that the error in version 2.10
> has something to do with the change: "available.packages() gains a 'filters'
> argument for specifying the filtering operations performed on the packages found
> in the repositories."
> 

I can reproduce this, and yes, it is happening in one of the filters. 
I'd guess it happens because your repository has only one entry (a 
missed "drop=FALSE" somewhere maybe) or because the filter is finding no 
matches.  I'll track down the details and fix it.

Thanks for the report.

Duncan Murdoch


From murdoch at stats.uwo.ca  Wed Nov  4 17:47:09 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 04 Nov 2009 11:47:09 -0500
Subject: [Rd] error in install.packages() (PR#14042)
In-Reply-To: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>
Message-ID: <4AF1B00D.7060809@stats.uwo.ca>

On 11/4/2009 11:05 AM, michael.m.spiegel at gmail.com wrote:
> Full_Name: Michael Spiegel
> Version: 2.10
> OS: Windows Vista
> Submission from: (NULL) (76.104.24.156)
> 
> 
> The following error is produced when attempting to call install.packages.  Here
> is the results of the traceback:
> 
>> source('http://openmx.psyc.virginia.edu/getOpenMx.R')
> Error in f(res) : invalid subscript type 'list'
>> traceback()
> 7: f(res)
> 6: available.packages(contriburl = contriburl, method = method)
> 5: .install.winbinary(pkgs = pkgs, lib = lib, contriburl = contriburl, 
>        method = method, available = available, destdir = destdir, 
>        dependencies = dependencies, ...)
> 4: install.packages(pkgs = c("OpenMx"), repos = repos)
> 3: eval.with.vis(expr, envir, enclos)
> 2: eval.with.vis(ei, envir)
> 1: source("http://openmx.psyc.virginia.edu/getOpenMx.R")
> 
> I've tracked the error down to somewhere in available.packages defined in
> src\library\utils\R\packages.R.  I am guessing that the error in version 2.10
> has something to do with the change: "available.packages() gains a 'filters'
> argument for specifying the filtering operations performed on the packages found
> in the repositories."

I've found the error, and will fix and commit to R-devel and R-patched.

For future reference:  the problem was that it assigned the result of 
sapply() to a subset of a vector.  Normally sapply() simplifies its 
result to a vector, but in this case the result was empty, so sapply() 
returned an empty list; assigning a list to a vector coerced the vector 
to a list, and then the "invalid subscript type 'list'" came soon after.

Duncan Murdoch


From wdunlap at tibco.com  Wed Nov  4 18:15:08 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 4 Nov 2009 09:15:08 -0800
Subject: [Rd] error in install.packages() (PR#14042)
In-Reply-To: <4AF1B00D.7060809@stats.uwo.ca>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>
	<4AF1B00D.7060809@stats.uwo.ca>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Duncan Murdoch
> Sent: Wednesday, November 04, 2009 8:47 AM
> To: michael.m.spiegel at gmail.com
> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
> Subject: Re: [Rd] error in install.packages() (PR#14042)
> 
> On 11/4/2009 11:05 AM, michael.m.spiegel at gmail.com wrote:
> > Full_Name: Michael Spiegel
> > Version: 2.10
> > OS: Windows Vista
> > Submission from: (NULL) (76.104.24.156)
> > 
> > 
> > The following error is produced when attempting to call 
> install.packages.  Here
> > is the results of the traceback:
> > 
> >> source('http://openmx.psyc.virginia.edu/getOpenMx.R')
> > Error in f(res) : invalid subscript type 'list'
> >> traceback()
> > 7: f(res)
> > 6: available.packages(contriburl = contriburl, method = method)
> > 5: .install.winbinary(pkgs = pkgs, lib = lib, contriburl = 
> contriburl, 
> >        method = method, available = available, destdir = destdir, 
> >        dependencies = dependencies, ...)
> > 4: install.packages(pkgs = c("OpenMx"), repos = repos)
> > 3: eval.with.vis(expr, envir, enclos)
> > 2: eval.with.vis(ei, envir)
> > 1: source("http://openmx.psyc.virginia.edu/getOpenMx.R")
> > 
> > I've tracked the error down to somewhere in 
> available.packages defined in
> > src\library\utils\R\packages.R.  I am guessing that the 
> error in version 2.10
> > has something to do with the change: "available.packages() 
> gains a 'filters'
> > argument for specifying the filtering operations performed 
> on the packages found
> > in the repositories."
> 
> I've found the error, and will fix and commit to R-devel and 
> R-patched.
> 
> For future reference:  the problem was that it assigned the result of 
> sapply() to a subset of a vector.  Normally sapply() simplifies its 
> result to a vector, but in this case the result was empty, so 
> sapply() 
> returned an empty list; assigning a list to a vector coerced 
> the vector 
> to a list, and then the "invalid subscript type 'list'" came 
> soon after.

I've run into this sort of problem a lot (0-long input to sapply
causes it to return list()).  A related problem is that when sapply's
FUN doesn't always return the type of value you expect for some
corner case then sapply won't do the expected simplication.  If
sapply had an argument that gave the expected form of FUN's output
then sapply could (a) die if some call to FUN didn't return something
of that form and (b) return a 0-long object of the correct form
if sapply's X has length zero so FUN is never called.  E.g.,
   sapply(2:0, function(i)(11:20)[i], FUN.VALUE=integer(1)) # die on
third iteration
   sapply(integer(0), function(i)i>0, FUN.VALUE=logical(1)) # return
logical(0)

Another benefit of sapply knowing the type of FUN's return value is
that it wouldn't have to waste space creating a list of FUN's return
values but could stuff them directly into the final output structure.
A list of n scalar doubles is 4.5 times bigger than double(n) and the
factor is 9.0 for integers and logicals.

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com 

> 
> Duncan Murdoch
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From jmc at r-project.org  Wed Nov  4 19:22:31 2009
From: jmc at r-project.org (John Chambers)
Date: Wed, 04 Nov 2009 10:22:31 -0800
Subject: [Rd] s4 generic issue
In-Reply-To: <DBFFDE16-6480-498F-912A-F326E6930A30@uiuc.edu>
References: <DBFFDE16-6480-498F-912A-F326E6930A30@uiuc.edu>
Message-ID: <4AF1C667.3050001@r-project.org>

If you mean us to run the code you supplied:

1.  There are two generic backsolve() functions, one in the gobal 
environment and one in SparseM:

 > showMethods(backsolve)
Function: backsolve (package .GlobalEnv)
r="ANY"
r="matrix"
    (inherited from: r="ANY")

 > showMethods(SparseM::backsolve)
Function: backsolve (package SparseM)
r="ANY"
r="matrix.csr.chol"

2.  Package "lars" does not (unfortunately) have a NAMESPACE, so calls 
from lars will get the version without a special method.  This is 
generally a recipe for trouble, but does not seem to be the issue in 
this case.

3.  A little inspection with options(error=recover) suggests the 
computations screwed up some time before the actual call here (the 
rather opaque error message is complaining because the x argument, 
returned by backsolvet(), has NaNs and an Inf in it).  Since 
backsolvet()  calls backsolve() with transpose=TRUE, it won't be happy 
with your default method, which ignores the transpose= argument.  Did 
you really mean to do that?  (Again, this would not show up in lars if 
that package had a NAMESPACE).

I think the last point may explain your problem.  It has nothing to do 
with S4 generics, only with the general "keep it simple" advice.

Cheers,
 John

Roger Koenker wrote:
> I'm hoping that someone with deeper insight into S4 than I,
> that is to say virtually everyone reading this list, could help
> resolve the following problem in SparseM.  We have
>
> setGeneric("backsolve",
>         function(r, x, k = NULL, upper.tri = NULL, transpose = NULL,  
> twice = TRUE, ...)
>                 standardGeneric("backsolve"),
>         useAsDefault= function(r, x,  k = ncol(r), upper.tri = TRUE,
>                 transpose = FALSE, twice = TRUE, ...)
>                 base::backsolve(r, x, k = ncol(r), upper.tri = TRUE,
>                         transpose = FALSE, ...))
>
> and then proceed to use setMethod for a class matrix.csr.chol.  
> However, this seems
> to cause problems in the following instance:  if one does the following
>
> require(lars)
> require(SparseM)
> example(lars)
> ....[snip]
> lars> object3 <- lars(x,y,type="for") # Can use abbreviations
> Error in base::backsolve(r, x, k = ncol(r), upper.tri = TRUE, 
> transpose = FALSE,  :
>   NA/NaN/Inf in foreign function call (arg 4)
> > traceback()
> 10: .C("bakslv", t = r, ldt = nrow(r), n = k, b = x, ldb = k, nb = nb,
>         x = matrix(0, k, nb), job = job, info = integer(1L), DUP = FALSE,
>         PACKAGE = "base")
> 9: base::backsolve(r, x, k = ncol(r), upper.tri = TRUE, transpose = 
> FALSE,
>        ...)
> 8: backsolve(R, backsolvet(R, Sign[positive]))
> 7: backsolve(R, backsolvet(R, Sign[positive]))
> 6: nnls.lars(active, Sign, R, directions, Gram[active, active],
>        trace = trace, use.Gram = TRUE, eps = eps)
> 5: lars(x, y, type = "for")
> 4: eval.with.vis(expr, envir, enclos)
> 3: eval.with.vis(ei, envir)
> 2: source(zfile, local, echo = echo, prompt.echo = paste(prompt.prefix,
>        getOption("prompt"), sep = ""), continue.echo = 
> paste(prompt.prefix,
>        getOption("continue"), sep = ""), verbose = verbose, 
> max.deparse.length = Inf,
>        encoding = encoding, skip.echo = skips, keep.source = TRUE)
> 1: example(lars)
>
> So clearly base::backsolve is getting called as would be desired in 
> this case,
> but something is rotten in the way arguments are being passed.
>
> I'm aware that the R-extensions manual suggests another strategy than
> setGeneric for making generics, but I would like to understand what is 
> going
> wrong here.
>
> Roger
>
>
> url:    www.econ.uiuc.edu/~roger            Roger Koenker
> email    rkoenker at uiuc.edu            Department of Economics
> vox:     217-333-4558                University of Illinois
> fax:       217-244-6678                Urbana, IL 61801
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From murdoch at stats.uwo.ca  Wed Nov  4 19:25:23 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 04 Nov 2009 13:25:23 -0500
Subject: [Rd] error in install.packages() (PR#14042)
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
Message-ID: <4AF1C713.9070603@stats.uwo.ca>

On 11/4/2009 12:15 PM, William Dunlap wrote:
>> -----Original Message-----
>> From: r-devel-bounces at r-project.org 
>> [mailto:r-devel-bounces at r-project.org] On Behalf Of Duncan Murdoch
>> Sent: Wednesday, November 04, 2009 8:47 AM
>> To: michael.m.spiegel at gmail.com
>> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
>> Subject: Re: [Rd] error in install.packages() (PR#14042)
>> 
>> On 11/4/2009 11:05 AM, michael.m.spiegel at gmail.com wrote:
>> > Full_Name: Michael Spiegel
>> > Version: 2.10
>> > OS: Windows Vista
>> > Submission from: (NULL) (76.104.24.156)
>> > 
>> > 
>> > The following error is produced when attempting to call 
>> install.packages.  Here
>> > is the results of the traceback:
>> > 
>> >> source('http://openmx.psyc.virginia.edu/getOpenMx.R')
>> > Error in f(res) : invalid subscript type 'list'
>> >> traceback()
>> > 7: f(res)
>> > 6: available.packages(contriburl = contriburl, method = method)
>> > 5: .install.winbinary(pkgs = pkgs, lib = lib, contriburl = 
>> contriburl, 
>> >        method = method, available = available, destdir = destdir, 
>> >        dependencies = dependencies, ...)
>> > 4: install.packages(pkgs = c("OpenMx"), repos = repos)
>> > 3: eval.with.vis(expr, envir, enclos)
>> > 2: eval.with.vis(ei, envir)
>> > 1: source("http://openmx.psyc.virginia.edu/getOpenMx.R")
>> > 
>> > I've tracked the error down to somewhere in 
>> available.packages defined in
>> > src\library\utils\R\packages.R.  I am guessing that the 
>> error in version 2.10
>> > has something to do with the change: "available.packages() 
>> gains a 'filters'
>> > argument for specifying the filtering operations performed 
>> on the packages found
>> > in the repositories."
>> 
>> I've found the error, and will fix and commit to R-devel and 
>> R-patched.
>> 
>> For future reference:  the problem was that it assigned the result of 
>> sapply() to a subset of a vector.  Normally sapply() simplifies its 
>> result to a vector, but in this case the result was empty, so 
>> sapply() 
>> returned an empty list; assigning a list to a vector coerced 
>> the vector 
>> to a list, and then the "invalid subscript type 'list'" came 
>> soon after.
> 
> I've run into this sort of problem a lot (0-long input to sapply
> causes it to return list()).  A related problem is that when sapply's
> FUN doesn't always return the type of value you expect for some
> corner case then sapply won't do the expected simplication.  If
> sapply had an argument that gave the expected form of FUN's output
> then sapply could (a) die if some call to FUN didn't return something
> of that form and (b) return a 0-long object of the correct form
> if sapply's X has length zero so FUN is never called.  E.g.,
>    sapply(2:0, function(i)(11:20)[i], FUN.VALUE=integer(1)) # die on
> third iteration
>    sapply(integer(0), function(i)i>0, FUN.VALUE=logical(1)) # return
> logical(0)
> 
> Another benefit of sapply knowing the type of FUN's return value is
> that it wouldn't have to waste space creating a list of FUN's return
> values but could stuff them directly into the final output structure.
> A list of n scalar doubles is 4.5 times bigger than double(n) and the
> factor is 9.0 for integers and logicals.

That sounds like a good idea.  It would be a bit of work, because the 
current sapply depends on lapply while this would need its own internal 
implementation:  but it would probably be worthwhile.

Duncan Murdoch


From adrian_d at eskimo.com  Wed Nov  4 20:44:34 2009
From: adrian_d at eskimo.com (Adrian Dragulescu)
Date: Wed, 4 Nov 2009 11:44:34 -0800 (PST)
Subject: [Rd] inconsistent behavior for logical vectors when using apply ("
	TRUE")
Message-ID: <Pine.LNX.4.64.0911041137150.6795@shell.eskimo.com>


Hello,

> X <- data.frame(letters=letters[1:3], flag=c(TRUE, FALSE, TRUE))
> X
   letters  flag
1       a  TRUE
2       b FALSE
3       c  TRUE
> apply(X, 1, as.list)
[[1]]
[[1]]$letters
[1] "a"

[[1]]$flag
[1] " TRUE"


[[2]]
[[2]]$letters
[1] "b"

[[2]]$flag
[1] "FALSE"


[[3]]
[[3]]$letters
[1] "c"

[[3]]$flag
[1] " TRUE"

Notice how TRUE becomes " TRUE" and FALSE becomes "FALSE".  Not sure why 
TRUE gets an extra whitespace in front.

Checked with R-2.10.0, but can reproduce the behavior as far back as 
R-2.8.1.

Adrian Dragulescu

> sessionInfo()
R version 2.10.0 (2009-10-26)
i386-pc-mingw32

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United 
States.1252
[3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.10.0


From Greg.Snow at imail.org  Wed Nov  4 21:02:21 2009
From: Greg.Snow at imail.org (Greg Snow)
Date: Wed, 4 Nov 2009 13:02:21 -0700
Subject: [Rd] inconsistent behavior for logical vectors when using apply
 ("	TRUE")
In-Reply-To: <Pine.LNX.4.64.0911041137150.6795@shell.eskimo.com>
References: <Pine.LNX.4.64.0911041137150.6795@shell.eskimo.com>
Message-ID: <B37C0A15B8FB3C468B5BC7EBC7DA14CC62F518D98F@LP-EXMBVS10.CO.IHC.COM>

The apply function was meant to work on matrices and arrays, when you use it on a data frame, the frame is first converted to a matrix.  Since your data frame has columns of different modes, the logical column is converted to character and the matrix is of the single mode character.  That is what you are seeing.

-- 
Gregory (Greg) L. Snow Ph.D.
Statistical Data Center
Intermountain Healthcare
greg.snow at imail.org
801.408.8111

> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
> project.org] On Behalf Of Adrian Dragulescu
> Sent: Wednesday, November 04, 2009 12:45 PM
> To: r-devel
> Subject: [Rd] inconsistent behavior for logical vectors when using
> apply (" TRUE")
> 
> 
> Hello,
> 
> > X <- data.frame(letters=letters[1:3], flag=c(TRUE, FALSE, TRUE))
> > X
>    letters  flag
> 1       a  TRUE
> 2       b FALSE
> 3       c  TRUE
> > apply(X, 1, as.list)
> [[1]]
> [[1]]$letters
> [1] "a"
> 
> [[1]]$flag
> [1] " TRUE"
> 
> 
> [[2]]
> [[2]]$letters
> [1] "b"
> 
> [[2]]$flag
> [1] "FALSE"
> 
> 
> [[3]]
> [[3]]$letters
> [1] "c"
> 
> [[3]]$flag
> [1] " TRUE"
> 
> Notice how TRUE becomes " TRUE" and FALSE becomes "FALSE".  Not sure
> why
> TRUE gets an extra whitespace in front.
> 
> Checked with R-2.10.0, but can reproduce the behavior as far back as
> R-2.8.1.
> 
> Adrian Dragulescu
> 
> > sessionInfo()
> R version 2.10.0 (2009-10-26)
> i386-pc-mingw32
> 
> locale:
> [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United
> States.1252
> [3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Wed Nov  4 21:19:06 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Nov 2009 20:19:06 +0000 (GMT)
Subject: [Rd] error in install.packages() (PR#14042)
In-Reply-To: <4AF1C713.9070603@stats.uwo.ca>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>
	<4AF1B00D.7060809@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
	<4AF1C713.9070603@stats.uwo.ca>
Message-ID: <alpine.LFD.2.00.0911042017570.9844@gannet.stats.ox.ac.uk>

I agree it is a good idea, but a new name seems justified to avoid 
confusion.

On Wed, 4 Nov 2009, Duncan Murdoch wrote:

> On 11/4/2009 12:15 PM, William Dunlap wrote:
>>> -----Original Message-----
>>> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org] 
>>> On Behalf Of Duncan Murdoch
>>> Sent: Wednesday, November 04, 2009 8:47 AM
>>> To: michael.m.spiegel at gmail.com
>>> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
>>> Subject: Re: [Rd] error in install.packages() (PR#14042)
>>> 
>>> On 11/4/2009 11:05 AM, michael.m.spiegel at gmail.com wrote:
>>> > Full_Name: Michael Spiegel
>>> > Version: 2.10
>>> > OS: Windows Vista
>>> > Submission from: (NULL) (76.104.24.156)
>>> > > > The following error is produced when attempting to call 
>>> install.packages.  Here
>>> > is the results of the traceback:
>>> > >> source('http://openmx.psyc.virginia.edu/getOpenMx.R')
>>> > Error in f(res) : invalid subscript type 'list'
>>> >> traceback()
>>> > 7: f(res)
>>> > 6: available.packages(contriburl = contriburl, method = method)
>>> > 5: .install.winbinary(pkgs = pkgs, lib = lib, contriburl = contriburl, > 
>>> method = method, available = available, destdir = destdir, > 
>>> dependencies = dependencies, ...)
>>> > 4: install.packages(pkgs = c("OpenMx"), repos = repos)
>>> > 3: eval.with.vis(expr, envir, enclos)
>>> > 2: eval.with.vis(ei, envir)
>>> > 1: source("http://openmx.psyc.virginia.edu/getOpenMx.R")
>>> > > I've tracked the error down to somewhere in available.packages defined 
>>> in
>>> > src\library\utils\R\packages.R.  I am guessing that the error in version 
>>> 2.10
>>> > has something to do with the change: "available.packages() gains a 
>>> 'filters'
>>> > argument for specifying the filtering operations performed on the 
>>> packages found
>>> > in the repositories."
>>> 
>>> I've found the error, and will fix and commit to R-devel and R-patched.
>>> 
>>> For future reference:  the problem was that it assigned the result of 
>>> sapply() to a subset of a vector.  Normally sapply() simplifies its result 
>>> to a vector, but in this case the result was empty, so sapply() returned 
>>> an empty list; assigning a list to a vector coerced the vector to a list, 
>>> and then the "invalid subscript type 'list'" came soon after.
>> 
>> I've run into this sort of problem a lot (0-long input to sapply
>> causes it to return list()).  A related problem is that when sapply's
>> FUN doesn't always return the type of value you expect for some
>> corner case then sapply won't do the expected simplication.  If
>> sapply had an argument that gave the expected form of FUN's output
>> then sapply could (a) die if some call to FUN didn't return something
>> of that form and (b) return a 0-long object of the correct form
>> if sapply's X has length zero so FUN is never called.  E.g.,
>>    sapply(2:0, function(i)(11:20)[i], FUN.VALUE=integer(1)) # die on
>> third iteration
>>    sapply(integer(0), function(i)i>0, FUN.VALUE=logical(1)) # return
>> logical(0)
>> 
>> Another benefit of sapply knowing the type of FUN's return value is
>> that it wouldn't have to waste space creating a list of FUN's return
>> values but could stuff them directly into the final output structure.
>> A list of n scalar doubles is 4.5 times bigger than double(n) and the
>> factor is 9.0 for integers and logicals.
>
> That sounds like a good idea.  It would be a bit of work, because the current 
> sapply depends on lapply while this would need its own internal 
> implementation:  but it would probably be worthwhile.
>
> Duncan Murdoch
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From adrian_d at eskimo.com  Wed Nov  4 21:23:29 2009
From: adrian_d at eskimo.com (Adrian Dragulescu)
Date: Wed, 4 Nov 2009 12:23:29 -0800 (PST)
Subject: [Rd] inconsistent behavior for logical vectors when using apply
 (" TRUE")
In-Reply-To: <B37C0A15B8FB3C468B5BC7EBC7DA14CC62F518D98F@LP-EXMBVS10.CO.IHC.COM>
References: <Pine.LNX.4.64.0911041137150.6795@shell.eskimo.com>
	<B37C0A15B8FB3C468B5BC7EBC7DA14CC62F518D98F@LP-EXMBVS10.CO.IHC.COM>
Message-ID: <Pine.LNX.4.64.0911041222570.6795@shell.eskimo.com>


Well documented in ?as.matrix.

Ignore my previous post.

On Wed, 4 Nov 2009, Greg Snow wrote:

> The apply function was meant to work on matrices and arrays, when you use it on a data frame, the frame is first converted to a matrix.  Since your data frame has columns of different modes, the logical column is converted to character and the matrix is of the single mode character.  That is what you are seeing.
>
> -- 
> Gregory (Greg) L. Snow Ph.D.
> Statistical Data Center
> Intermountain Healthcare
> greg.snow at imail.org
> 801.408.8111
>
>> -----Original Message-----
>> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
>> project.org] On Behalf Of Adrian Dragulescu
>> Sent: Wednesday, November 04, 2009 12:45 PM
>> To: r-devel
>> Subject: [Rd] inconsistent behavior for logical vectors when using
>> apply (" TRUE")
>>
>>
>> Hello,
>>
>>> X <- data.frame(letters=letters[1:3], flag=c(TRUE, FALSE, TRUE))
>>> X
>>    letters  flag
>> 1       a  TRUE
>> 2       b FALSE
>> 3       c  TRUE
>>> apply(X, 1, as.list)
>> [[1]]
>> [[1]]$letters
>> [1] "a"
>>
>> [[1]]$flag
>> [1] " TRUE"
>>
>>
>> [[2]]
>> [[2]]$letters
>> [1] "b"
>>
>> [[2]]$flag
>> [1] "FALSE"
>>
>>
>> [[3]]
>> [[3]]$letters
>> [1] "c"
>>
>> [[3]]$flag
>> [1] " TRUE"
>>
>> Notice how TRUE becomes " TRUE" and FALSE becomes "FALSE".  Not sure
>> why
>> TRUE gets an extra whitespace in front.
>>
>> Checked with R-2.10.0, but can reproduce the behavior as far back as
>> R-2.8.1.
>>
>> Adrian Dragulescu
>>
>>> sessionInfo()
>> R version 2.10.0 (2009-10-26)
>> i386-pc-mingw32
>>
>> locale:
>> [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United
>> States.1252
>> [3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
>> [5] LC_TIME=English_United States.1252
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.10.0
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From murdoch at stats.uwo.ca  Wed Nov  4 21:24:12 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 04 Nov 2009 15:24:12 -0500
Subject: [Rd] sapply improvements
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
Message-ID: <4AF1E2EC.7060405@stats.uwo.ca>

On 11/4/2009 12:15 PM, William Dunlap wrote:
>> -----Original Message-----
>> From: r-devel-bounces at r-project.org 
>> [mailto:r-devel-bounces at r-project.org] On Behalf Of Duncan Murdoch
>> Sent: Wednesday, November 04, 2009 8:47 AM
>> To: michael.m.spiegel at gmail.com
>> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
>> Subject: Re: [Rd] error in install.packages() (PR#14042)
>> 
>> On 11/4/2009 11:05 AM, michael.m.spiegel at gmail.com wrote:
>> > Full_Name: Michael Spiegel
>> > Version: 2.10
>> > OS: Windows Vista
>> > Submission from: (NULL) (76.104.24.156)
>> > 
>> > 
>> > The following error is produced when attempting to call 
>> install.packages.  Here
>> > is the results of the traceback:
>> > 
>> >> source('http://openmx.psyc.virginia.edu/getOpenMx.R')
>> > Error in f(res) : invalid subscript type 'list'
>> >> traceback()
>> > 7: f(res)
>> > 6: available.packages(contriburl = contriburl, method = method)
>> > 5: .install.winbinary(pkgs = pkgs, lib = lib, contriburl = 
>> contriburl, 
>> >        method = method, available = available, destdir = destdir, 
>> >        dependencies = dependencies, ...)
>> > 4: install.packages(pkgs = c("OpenMx"), repos = repos)
>> > 3: eval.with.vis(expr, envir, enclos)
>> > 2: eval.with.vis(ei, envir)
>> > 1: source("http://openmx.psyc.virginia.edu/getOpenMx.R")
>> > 
>> > I've tracked the error down to somewhere in 
>> available.packages defined in
>> > src\library\utils\R\packages.R.  I am guessing that the 
>> error in version 2.10
>> > has something to do with the change: "available.packages() 
>> gains a 'filters'
>> > argument for specifying the filtering operations performed 
>> on the packages found
>> > in the repositories."
>> 
>> I've found the error, and will fix and commit to R-devel and 
>> R-patched.
>> 
>> For future reference:  the problem was that it assigned the result of 
>> sapply() to a subset of a vector.  Normally sapply() simplifies its 
>> result to a vector, but in this case the result was empty, so 
>> sapply() 
>> returned an empty list; assigning a list to a vector coerced 
>> the vector 
>> to a list, and then the "invalid subscript type 'list'" came 
>> soon after.
> 
> I've run into this sort of problem a lot (0-long input to sapply
> causes it to return list()).  A related problem is that when sapply's
> FUN doesn't always return the type of value you expect for some
> corner case then sapply won't do the expected simplication.  If
> sapply had an argument that gave the expected form of FUN's output
> then sapply could (a) die if some call to FUN didn't return something
> of that form and (b) return a 0-long object of the correct form
> if sapply's X has length zero so FUN is never called.  E.g.,
>    sapply(2:0, function(i)(11:20)[i], FUN.VALUE=integer(1)) # die on
> third iteration
>    sapply(integer(0), function(i)i>0, FUN.VALUE=logical(1)) # return
> logical(0)
> 
> Another benefit of sapply knowing the type of FUN's return value is
> that it wouldn't have to waste space creating a list of FUN's return
> values but could stuff them directly into the final output structure.
> A list of n scalar doubles is 4.5 times bigger than double(n) and the
> factor is 9.0 for integers and logicals.


What do you think of the behaviour of the sapply function below?  (I 
wouldn't put it into R as it is, I'd translate it to C code to avoid the 
lapply call; but I'd like to get the behaviour right before doing that.)

This one checks that the length() and typeof() results are consistent. 
If the FUN.VALUE has names, those are used (but it doesn't require the 
names from FUN to match).

Duncan Murdoch

sapply <- function(X, FUN, ..., simplify = TRUE, USE.NAMES = TRUE, 
FUN.VALUE)
{
     FUN <- match.fun(FUN)
     answer <- lapply(X, FUN, ...)
     if(USE.NAMES && is.character(X) && is.null(names(answer)))
                 names(answer) <- X
     if(simplify) {
     	if (missing(FUN.VALUE)) {
     	    if ((!length(answer))
     	        || length(common.len <- unique(unlist(lapply(answer, 
length)))) != 1L)
     	        return(answer)
     	    common.names <- names(answer[[1L]])
     	} else {
     	    common.len <- length(FUN.VALUE)
     	    common.type <- typeof(FUN.VALUE)
     	    common.names <- names(FUN.VALUE)
     	    if (length(answer)) {
     	    	if (any( unlist(lapply(answer, length)) != common.len ))
     	    	    stop(sprintf("%s values must be of length %d", "FUN", 
common.len))
     	    	if (any( unlist(lapply(answer, typeof)) != common.type ))
     	    	    stop(sprintf("%s values must be of type '%s'", "FUN", 
common.type))
     	    	if (is.null(common.names))
     	    	    common.names <- names(answer[[1L]])
     	    } else if (length(FUN.VALUE) > 1)
     	    	return(array(FUN.VALUE[0], dim=c(common.len, 0),
     	    	             dimnames= if(!is.null(common.names))
     	    	                       list(common.names,character(0))))
     	    else
     	    	return(FUN.VALUE[0])	
     	}
	if(common.len == 1L)
	    unlist(answer, recursive = FALSE)
	else if(common.len > 1L)
	    array(unlist(answer, recursive = FALSE),
		  dim= c(common.len, length(X)),
		  dimnames= if(!(is.null(common.names) &
			         is.null(n2 <- names(answer)))) list(common.names,n2))
	else answer
     } else answer
}


From tplate at acm.org  Wed Nov  4 21:25:43 2009
From: tplate at acm.org (Tony Plate)
Date: Wed, 04 Nov 2009 13:25:43 -0700
Subject: [Rd] inconsistent behavior for logical vectors when using apply
 ("	TRUE")
In-Reply-To: <Pine.LNX.4.64.0911041137150.6795@shell.eskimo.com>
References: <Pine.LNX.4.64.0911041137150.6795@shell.eskimo.com>
Message-ID: <4AF1E347.3060402@acm.org>

This happens in as.matrix(), which gets called by apply().

When you've got a mixed-mode dataframe like this, as.matrix() converts 
everything to character.  But, the rules it uses for each column don't 
seem to be entirely consistent regarding whether columns are 
space-padded to make each element have the same number of characters.

The way it works out, logical mode columns are passed through format(), 
which space-pads by default.  Factor columns are passed through 
as.vector(), and character-mode columns are left alone.  The result is 
that some columns come out space-padded, and some don't, depending on 
their original mode.

To get greater control of this, you theoretically should be able to do 
something like apply(as.matrix(format(X, justify="none")), ...),
except that format() seems to ignore the justify argument for logical 
vectors, e.g.:
 > format(c(T,F,T))
[1] " TRUE" "FALSE" " TRUE"
 > format(c(T,F,T), justify="none")
[1] " TRUE" "FALSE" " TRUE"
 >

If it's really important for you to get this to work the way you want, 
you can convert the logical column of the data frame using as.character 
(see the end of the example below).

Here's an example that shows probably far more than you wanted to know:

 > X <- data.frame(letters=letters[1:3], flag=c(TRUE, FALSE, TRUE), 
codef=c("a","ab","abcd"), codec=I(c("x", "xy", "xyz")))
 > sapply(X, class)
  letters      flag     codef     codec
 "factor" "logical"  "factor"    "AsIs"
 > as.matrix(X)
     letters flag    codef  codec
[1,] "a"     " TRUE" "a"    "x" 
[2,] "b"     "FALSE" "ab"   "xy"
[3,] "c"     " TRUE" "abcd" "xyz"
 > unclass(format(X))
$letters
[1] "a" "b" "c"

$flag
[1] " TRUE" "FALSE" " TRUE"

$codef
[1] "a"    "ab"   "abcd"

$codec
[1] "x"   "xy"  "xyz"

attr(,"row.names")
[1] "1" "2" "3"
 > unclass(format(X, justify="left"))
$letters
[1] "a" "b" "c"

$flag
[1] " TRUE" "FALSE" " TRUE"

$codef
[1] "a   " "ab  " "abcd"

$codec
[1] "x  " "xy " "xyz"

attr(,"row.names")
[1] "1" "2" "3"
 >
 > # The only way I can see to get the logical column converted to 
character without padding:
 > X1 <- X
 > X1$flag <- as.character(X1$flag)
 > as.matrix(X1)
     letters flag    codef  codec
[1,] "a"     "TRUE"  "a"    "x" 
[2,] "b"     "FALSE" "ab"   "xy"
[3,] "c"     "TRUE"  "abcd" "xyz"
 >

Adrian Dragulescu wrote:
>
> Hello,
>
>> X <- data.frame(letters=letters[1:3], flag=c(TRUE, FALSE, TRUE))
>> X
>   letters  flag
> 1       a  TRUE
> 2       b FALSE
> 3       c  TRUE
>> apply(X, 1, as.list)
> [[1]]
> [[1]]$letters
> [1] "a"
>
> [[1]]$flag
> [1] " TRUE"
>
>
> [[2]]
> [[2]]$letters
> [1] "b"
>
> [[2]]$flag
> [1] "FALSE"
>
>
> [[3]]
> [[3]]$letters
> [1] "c"
>
> [[3]]$flag
> [1] " TRUE"
>
> Notice how TRUE becomes " TRUE" and FALSE becomes "FALSE".  Not sure 
> why TRUE gets an extra whitespace in front.
>
> Checked with R-2.10.0, but can reproduce the behavior as far back as 
> R-2.8.1.
>
> Adrian Dragulescu
>
>> sessionInfo()
> R version 2.10.0 (2009-10-26)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United 
> States.1252
> [3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From wdunlap at tibco.com  Wed Nov  4 21:42:34 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 4 Nov 2009 12:42:34 -0800
Subject: [Rd] error in install.packages() (PR#14042)
In-Reply-To: <alpine.LFD.2.00.0911042017570.9844@gannet.stats.ox.ac.uk>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>
	<4AF1B00D.7060809@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
	<4AF1C713.9070603@stats.uwo.ca>
	<alpine.LFD.2.00.0911042017570.9844@gannet.stats.ox.ac.uk>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D700021320BE@NA-PA-VBE03.na.tibco.com>

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk] 
> Sent: Wednesday, November 04, 2009 12:19 PM
> To: Duncan Murdoch
> Cc: William Dunlap; r-devel at stat.math.ethz.ch
> Subject: Re: [Rd] error in install.packages() (PR#14042)
> 
> I agree it is a good idea, but a new name seems justified to avoid 
> confusion.

If you could decide on a good name for the new argument
and the format of the data in it I could implement it in
S+ and keep R & S+ compatible.  The format issue seems
bigger to me.  Giving a prototype of the expected return
value is very flexible but wastes a bit of space.  I propose
treating it much as the value of FUN(X[[1]]) is treated.
If the prototype included names then those could become the row
names of the matrix output, instead of the names on the
actual return values.  (I would ignore the row names
when asking if the expected return value sufficiently resembled
the actual one.)  E.g., the current
   > sapply(split(log(1:10), rep(letters[1:2],c(3,7))), quantile,
(1:2)/3)
                     a        b
   33.33333% 0.4620981 1.791759
   66.66667% 0.8283022 2.079442
with THE.NEW.ARGUMENT=c(T1=0,T2=0) would return
              a        b
   T1 0.4620981 1.791759
   T2 0.8283022 2.079442
(I don't know if that behavior is needed, but it is a correlary
of using THE.NEW.ARGUMENT instead of FUN(X[[1]]) as the source
of row names and perhaps other data.)

Should THE.NEW.ARGUMENT's mode have to match exactly the mode
of FUN(X[[i]]) or should it just be possible to coerce the value
of FUN(X[[i]]) to it?

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com 

> 
> On Wed, 4 Nov 2009, Duncan Murdoch wrote:
> 
> > On 11/4/2009 12:15 PM, William Dunlap wrote:
> >>> -----Original Message-----
> >>> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] 
> >>> On Behalf Of Duncan Murdoch
> >>> Sent: Wednesday, November 04, 2009 8:47 AM
> >>> To: michael.m.spiegel at gmail.com
> >>> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
> >>> Subject: Re: [Rd] error in install.packages() (PR#14042)
> >>> 
> >>> On 11/4/2009 11:05 AM, michael.m.spiegel at gmail.com wrote:
> >>> > Full_Name: Michael Spiegel
> >>> > Version: 2.10
> >>> > OS: Windows Vista
> >>> > Submission from: (NULL) (76.104.24.156)
> >>> > > > The following error is produced when attempting to call 
> >>> install.packages.  Here
> >>> > is the results of the traceback:
> >>> > >> source('http://openmx.psyc.virginia.edu/getOpenMx.R')
> >>> > Error in f(res) : invalid subscript type 'list'
> >>> >> traceback()
> >>> > 7: f(res)
> >>> > 6: available.packages(contriburl = contriburl, method = method)
> >>> > 5: .install.winbinary(pkgs = pkgs, lib = lib, 
> contriburl = contriburl, > 
> >>> method = method, available = available, destdir = destdir, > 
> >>> dependencies = dependencies, ...)
> >>> > 4: install.packages(pkgs = c("OpenMx"), repos = repos)
> >>> > 3: eval.with.vis(expr, envir, enclos)
> >>> > 2: eval.with.vis(ei, envir)
> >>> > 1: source("http://openmx.psyc.virginia.edu/getOpenMx.R")
> >>> > > I've tracked the error down to somewhere in 
> available.packages defined 
> >>> in
> >>> > src\library\utils\R\packages.R.  I am guessing that the 
> error in version 
> >>> 2.10
> >>> > has something to do with the change: 
> "available.packages() gains a 
> >>> 'filters'
> >>> > argument for specifying the filtering operations 
> performed on the 
> >>> packages found
> >>> > in the repositories."
> >>> 
> >>> I've found the error, and will fix and commit to R-devel 
> and R-patched.
> >>> 
> >>> For future reference:  the problem was that it assigned 
> the result of 
> >>> sapply() to a subset of a vector.  Normally sapply() 
> simplifies its result 
> >>> to a vector, but in this case the result was empty, so 
> sapply() returned 
> >>> an empty list; assigning a list to a vector coerced the 
> vector to a list, 
> >>> and then the "invalid subscript type 'list'" came soon after.
> >> 
> >> I've run into this sort of problem a lot (0-long input to sapply
> >> causes it to return list()).  A related problem is that 
> when sapply's
> >> FUN doesn't always return the type of value you expect for some
> >> corner case then sapply won't do the expected simplication.  If
> >> sapply had an argument that gave the expected form of FUN's output
> >> then sapply could (a) die if some call to FUN didn't 
> return something
> >> of that form and (b) return a 0-long object of the correct form
> >> if sapply's X has length zero so FUN is never called.  E.g.,
> >>    sapply(2:0, function(i)(11:20)[i], 
> FUN.VALUE=integer(1)) # die on
> >> third iteration
> >>    sapply(integer(0), function(i)i>0, 
> FUN.VALUE=logical(1)) # return
> >> logical(0)
> >> 
> >> Another benefit of sapply knowing the type of FUN's return value is
> >> that it wouldn't have to waste space creating a list of 
> FUN's return
> >> values but could stuff them directly into the final output 
> structure.
> >> A list of n scalar doubles is 4.5 times bigger than 
> double(n) and the
> >> factor is 9.0 for integers and logicals.
> >
> > That sounds like a good idea.  It would be a bit of work, 
> because the current 
> > sapply depends on lapply while this would need its own internal 
> > implementation:  but it would probably be worthwhile.
> >
> > Duncan Murdoch
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 


From ggrothendieck at gmail.com  Wed Nov  4 21:50:51 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 4 Nov 2009 15:50:51 -0500
Subject: [Rd] sapply improvements
In-Reply-To: <4AF1E2EC.7060405@stats.uwo.ca>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk> 
	<4AF1B00D.7060809@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
	<4AF1E2EC.7060405@stats.uwo.ca>
Message-ID: <971536df0911041250u1d38a40al2cd246ed67be0c97@mail.gmail.com>

S4 generics can specify a valueClass.  Perhaps that could be used in
those cases.

On Wed, Nov 4, 2009 at 3:24 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 11/4/2009 12:15 PM, William Dunlap wrote:
>>>
>>> -----Original Message-----
>>> From: r-devel-bounces at r-project.org
>>> [mailto:r-devel-bounces at r-project.org] On Behalf Of Duncan Murdoch
>>> Sent: Wednesday, November 04, 2009 8:47 AM
>>> To: michael.m.spiegel at gmail.com
>>> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
>>> Subject: Re: [Rd] error in install.packages() (PR#14042)
>>>
>>> On 11/4/2009 11:05 AM, michael.m.spiegel at gmail.com wrote:
>>> > Full_Name: Michael Spiegel
>>> > Version: 2.10
>>> > OS: Windows Vista
>>> > Submission from: (NULL) (76.104.24.156)
>>> > > > The following error is produced when attempting to call
>>> > > > install.packages. ?Here
>>> > is the results of the traceback:
>>> > >> source('http://openmx.psyc.virginia.edu/getOpenMx.R')
>>> > Error in f(res) : invalid subscript type 'list'
>>> >> traceback()
>>> > 7: f(res)
>>> > 6: available.packages(contriburl = contriburl, method = method)
>>> > 5: .install.winbinary(pkgs = pkgs, lib = lib, contriburl = contriburl,
>>> > > ? ? ? ?method = method, available = available, destdir = destdir, >
>>> > ?dependencies = dependencies, ...)
>>> > 4: install.packages(pkgs = c("OpenMx"), repos = repos)
>>> > 3: eval.with.vis(expr, envir, enclos)
>>> > 2: eval.with.vis(ei, envir)
>>> > 1: source("http://openmx.psyc.virginia.edu/getOpenMx.R")
>>> > > I've tracked the error down to somewhere in available.packages
>>> > > defined in
>>> > src\library\utils\R\packages.R. ?I am guessing that the error in
>>> > version 2.10
>>> > has something to do with the change: "available.packages() gains a
>>> > 'filters'
>>> > argument for specifying the filtering operations performed on the
>>> > packages found
>>> > in the repositories."
>>>
>>> I've found the error, and will fix and commit to R-devel and R-patched.
>>>
>>> For future reference: ?the problem was that it assigned the result of
>>> sapply() to a subset of a vector. ?Normally sapply() simplifies its result
>>> to a vector, but in this case the result was empty, so sapply() returned an
>>> empty list; assigning a list to a vector coerced the vector to a list, and
>>> then the "invalid subscript type 'list'" came soon after.
>>
>> I've run into this sort of problem a lot (0-long input to sapply
>> causes it to return list()). ?A related problem is that when sapply's
>> FUN doesn't always return the type of value you expect for some
>> corner case then sapply won't do the expected simplication. ?If
>> sapply had an argument that gave the expected form of FUN's output
>> then sapply could (a) die if some call to FUN didn't return something
>> of that form and (b) return a 0-long object of the correct form
>> if sapply's X has length zero so FUN is never called. ?E.g.,
>> ? sapply(2:0, function(i)(11:20)[i], FUN.VALUE=integer(1)) # die on
>> third iteration
>> ? sapply(integer(0), function(i)i>0, FUN.VALUE=logical(1)) # return
>> logical(0)
>>
>> Another benefit of sapply knowing the type of FUN's return value is
>> that it wouldn't have to waste space creating a list of FUN's return
>> values but could stuff them directly into the final output structure.
>> A list of n scalar doubles is 4.5 times bigger than double(n) and the
>> factor is 9.0 for integers and logicals.
>
>
> What do you think of the behaviour of the sapply function below? ?(I
> wouldn't put it into R as it is, I'd translate it to C code to avoid the
> lapply call; but I'd like to get the behaviour right before doing that.)
>
> This one checks that the length() and typeof() results are consistent. If
> the FUN.VALUE has names, those are used (but it doesn't require the names
> from FUN to match).
>
> Duncan Murdoch
>
> sapply <- function(X, FUN, ..., simplify = TRUE, USE.NAMES = TRUE,
> FUN.VALUE)
> {
> ? ?FUN <- match.fun(FUN)
> ? ?answer <- lapply(X, FUN, ...)
> ? ?if(USE.NAMES && is.character(X) && is.null(names(answer)))
> ? ? ? ? ? ? ? ?names(answer) <- X
> ? ?if(simplify) {
> ? ? ? ?if (missing(FUN.VALUE)) {
> ? ? ? ? ? ?if ((!length(answer))
> ? ? ? ? ? ? ? ?|| length(common.len <- unique(unlist(lapply(answer,
> length)))) != 1L)
> ? ? ? ? ? ? ? ?return(answer)
> ? ? ? ? ? ?common.names <- names(answer[[1L]])
> ? ? ? ?} else {
> ? ? ? ? ? ?common.len <- length(FUN.VALUE)
> ? ? ? ? ? ?common.type <- typeof(FUN.VALUE)
> ? ? ? ? ? ?common.names <- names(FUN.VALUE)
> ? ? ? ? ? ?if (length(answer)) {
> ? ? ? ? ? ? ? ?if (any( unlist(lapply(answer, length)) != common.len ))
> ? ? ? ? ? ? ? ? ? ?stop(sprintf("%s values must be of length %d", "FUN",
> common.len))
> ? ? ? ? ? ? ? ?if (any( unlist(lapply(answer, typeof)) != common.type ))
> ? ? ? ? ? ? ? ? ? ?stop(sprintf("%s values must be of type '%s'", "FUN",
> common.type))
> ? ? ? ? ? ? ? ?if (is.null(common.names))
> ? ? ? ? ? ? ? ? ? ?common.names <- names(answer[[1L]])
> ? ? ? ? ? ?} else if (length(FUN.VALUE) > 1)
> ? ? ? ? ? ? ? ?return(array(FUN.VALUE[0], dim=c(common.len, 0),
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? dimnames= if(!is.null(common.names))
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? list(common.names,character(0))))
> ? ? ? ? ? ?else
> ? ? ? ? ? ? ? ?return(FUN.VALUE[0])
> ? ? ? ?}
> ? ? ? ?if(common.len == 1L)
> ? ? ? ? ? ?unlist(answer, recursive = FALSE)
> ? ? ? ?else if(common.len > 1L)
> ? ? ? ? ? ?array(unlist(answer, recursive = FALSE),
> ? ? ? ? ? ? ? ? ?dim= c(common.len, length(X)),
> ? ? ? ? ? ? ? ? ?dimnames= if(!(is.null(common.names) &
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? is.null(n2 <- names(answer))))
> list(common.names,n2))
> ? ? ? ?else answer
> ? ?} else answer
> }
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From wdunlap at tibco.com  Wed Nov  4 21:53:29 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 4 Nov 2009 12:53:29 -0800
Subject: [Rd] sapply improvements
In-Reply-To: <4AF1E2EC.7060405@stats.uwo.ca>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
	<4AF1E2EC.7060405@stats.uwo.ca>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>

It looks good on following examples:

> z <- split(log(1:10), rep(letters[1:2],c(3,7)))
> sapply(z, length, FUN.VALUE=numeric(1))
Error in sapply(z, length, FUN.VALUE = numeric(1)) : 
  FUN values must be of type 'double'

(I'd like the error to say "... must be of type 'double',
not 'integer'", to give the user a fuller diagnosis of
the problem.)

> sapply(z, range, FUN.VALUE=c(Min=0,Max=0))
           a        b
Min 0.000000 1.386294
Max 1.098612 2.302585

Exactly matching the typeof's and using the names
for row.names on matrix output seem good to me.
 
Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com  

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
> Sent: Wednesday, November 04, 2009 12:24 PM
> To: William Dunlap
> Cc: michael.m.spiegel at gmail.com; r-devel at stat.math.ethz.ch
> Subject: sapply improvements
> 
> On 11/4/2009 12:15 PM, William Dunlap wrote:
> >> -----Original Message-----
> >> From: r-devel-bounces at r-project.org 
> >> [mailto:r-devel-bounces at r-project.org] On Behalf Of Duncan Murdoch
> >> Sent: Wednesday, November 04, 2009 8:47 AM
> >> To: michael.m.spiegel at gmail.com
> >> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
> >> Subject: Re: [Rd] error in install.packages() (PR#14042)
> >> 
... 
> >> For future reference:  the problem was that it assigned 
> the result of 
> >> sapply() to a subset of a vector.  Normally sapply() 
> simplifies its 
> >> result to a vector, but in this case the result was empty, so 
> >> sapply() 
> >> returned an empty list; assigning a list to a vector coerced 
> >> the vector 
> >> to a list, and then the "invalid subscript type 'list'" came 
> >> soon after.
> > 
> > I've run into this sort of problem a lot (0-long input to sapply
> > causes it to return list()).  A related problem is that 
> when sapply's
> > FUN doesn't always return the type of value you expect for some
> > corner case then sapply won't do the expected simplication.  If
> > sapply had an argument that gave the expected form of FUN's output
> > then sapply could (a) die if some call to FUN didn't return 
> something
> > of that form and (b) return a 0-long object of the correct form
> > if sapply's X has length zero so FUN is never called.  E.g.,
> >    sapply(2:0, function(i)(11:20)[i], FUN.VALUE=integer(1)) # die on
> > third iteration
> >    sapply(integer(0), function(i)i>0, FUN.VALUE=logical(1)) # return
> > logical(0)
> > 
> > Another benefit of sapply knowing the type of FUN's return value is
> > that it wouldn't have to waste space creating a list of FUN's return
> > values but could stuff them directly into the final output 
> structure.
> > A list of n scalar doubles is 4.5 times bigger than 
> double(n) and the
> > factor is 9.0 for integers and logicals.
> 
> 
> What do you think of the behaviour of the sapply function below?  (I 
> wouldn't put it into R as it is, I'd translate it to C code 
> to avoid the 
> lapply call; but I'd like to get the behaviour right before 
> doing that.)
> 
> This one checks that the length() and typeof() results are 
> consistent. 
> If the FUN.VALUE has names, those are used (but it doesn't 
> require the 
> names from FUN to match).
...


From wdunlap at tibco.com  Wed Nov  4 22:04:56 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 4 Nov 2009 13:04:56 -0800
Subject: [Rd] sapply improvements
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
	<4AF1E2EC.7060405@stats.uwo.ca> 
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D700021320D3@NA-PA-VBE03.na.tibco.com>

> -----Original Message-----
> From: William Dunlap 
> Sent: Wednesday, November 04, 2009 12:53 PM
> To: 'Duncan Murdoch'
> Cc: r-devel at r-project.org
> Subject: RE: sapply improvements
> 
> It looks good on following examples:
> 
> > z <- split(log(1:10), rep(letters[1:2],c(3,7)))
> > sapply(z, length, FUN.VALUE=numeric(1))
> Error in sapply(z, length, FUN.VALUE = numeric(1)) : 
>   FUN values must be of type 'double'
> 
> (I'd like the error to say "... must be of type 'double',
> not 'integer'", to give the user a fuller diagnosis of
> the problem.)

If this new argument gets used much it may give a
push towards getting functions to always return the
same type of output.  E.g., range(integer(0)) returns
a numeric while range(integer(1)) an integer, resulting
in:
   > z<-split(1:10, cut(log(1:10),breaks=0:4,include.lowest=TRUE))
   > # z[[4]] is integer(0)
   > sapply(z,range,FUN.VALUE=integer(2))
   Error in sapply(z, range, FUN.VALUE = integer(2)) : 
     FUN values must be of type 'integer'
   In addition: Warning messages:
   1: In min(x) : no non-missing arguments to min; returning Inf
   2: In max(x) : no non-missing arguments to max; returning -Inf

> 
> > sapply(z, range, FUN.VALUE=c(Min=0,Max=0))
>            a        b
> Min 0.000000 1.386294
> Max 1.098612 2.302585
> 
> Exactly matching the typeof's and using the names
> for row.names on matrix output seem good to me.
>  
> Bill Dunlap
> Spotfire, TIBCO Software
> wdunlap tibco.com  
> 
> > -----Original Message-----
> > From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
> > Sent: Wednesday, November 04, 2009 12:24 PM
> > To: William Dunlap
> > Cc: michael.m.spiegel at gmail.com; r-devel at stat.math.ethz.ch
> > Subject: sapply improvements
> > 
> > On 11/4/2009 12:15 PM, William Dunlap wrote:
> > >> -----Original Message-----
> > >> From: r-devel-bounces at r-project.org 
> > >> [mailto:r-devel-bounces at r-project.org] On Behalf Of 
> Duncan Murdoch
> > >> Sent: Wednesday, November 04, 2009 8:47 AM
> > >> To: michael.m.spiegel at gmail.com
> > >> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
> > >> Subject: Re: [Rd] error in install.packages() (PR#14042)
> > >> 
> ... 
> > >> For future reference:  the problem was that it assigned 
> > the result of 
> > >> sapply() to a subset of a vector.  Normally sapply() 
> > simplifies its 
> > >> result to a vector, but in this case the result was empty, so 
> > >> sapply() 
> > >> returned an empty list; assigning a list to a vector coerced 
> > >> the vector 
> > >> to a list, and then the "invalid subscript type 'list'" came 
> > >> soon after.
> > > 
> > > I've run into this sort of problem a lot (0-long input to sapply
> > > causes it to return list()).  A related problem is that 
> > when sapply's
> > > FUN doesn't always return the type of value you expect for some
> > > corner case then sapply won't do the expected simplication.  If
> > > sapply had an argument that gave the expected form of FUN's output
> > > then sapply could (a) die if some call to FUN didn't return 
> > something
> > > of that form and (b) return a 0-long object of the correct form
> > > if sapply's X has length zero so FUN is never called.  E.g.,
> > >    sapply(2:0, function(i)(11:20)[i], 
> FUN.VALUE=integer(1)) # die on
> > > third iteration
> > >    sapply(integer(0), function(i)i>0, 
> FUN.VALUE=logical(1)) # return
> > > logical(0)
> > > 
> > > Another benefit of sapply knowing the type of FUN's 
> return value is
> > > that it wouldn't have to waste space creating a list of 
> FUN's return
> > > values but could stuff them directly into the final output 
> > structure.
> > > A list of n scalar doubles is 4.5 times bigger than 
> > double(n) and the
> > > factor is 9.0 for integers and logicals.
> > 
> > 
> > What do you think of the behaviour of the sapply function 
> below?  (I 
> > wouldn't put it into R as it is, I'd translate it to C code 
> > to avoid the 
> > lapply call; but I'd like to get the behaviour right before 
> > doing that.)
> > 
> > This one checks that the length() and typeof() results are 
> > consistent. 
> > If the FUN.VALUE has names, those are used (but it doesn't 
> > require the 
> > names from FUN to match).
> ...


From smckinney at bccrc.ca  Wed Nov  4 22:04:00 2009
From: smckinney at bccrc.ca (Steven McKinney)
Date: Wed, 4 Nov 2009 13:04:00 -0800
Subject: [Rd] Cannot Change Function (PR#14041)
In-Reply-To: <21389_1257338427_1257338427_02DC0A8C-49D4-49DD-9F81-10344F944B4E@uos.de>
References: <20091104075013.58C5F282EF4D@mail.pubhealth.ku.dk>
	<21389_1257338427_1257338427_02DC0A8C-49D4-49DD-9F81-10344F944B4E@uos.de>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B032C624E12@crcmail4.BCCRC.CA>



> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
> project.org] On Behalf Of Stefan Evert
> Sent: Wednesday, November 04, 2009 4:40 AM
> To: michael_karsh at earthlink.net
> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
> Subject: Re: [Rd] Cannot Change Function (PR#14041)
> 
> What makes you think this is a bug in R?
> 
> > Whenever I try changing a function, it keeps coming up with the same
> > error
> > message.
> >
> > I have the function
> > CN_state_log_sum=function(Tot_log_sum){ #estimate copy number state
> > for the log
>   [...]
> > }
> >
> > When I try to run it in the loop:
> > for (j in 1:length(BB_mean_ref)){	# find copy number states (0 for
> > homozygous
> > deletion, 1 for hemizygous deletion, 2 for neutral, 3 for single
> > amplification,
> > 4 for multiple amplification)
> > 	state_log_sum[j]=CN_state_log_sum(Tot_log_sum[j])
> > 	state_sum_log[j]=CN_state_sum_log(Tot_sum_log[j])
> > }
> > I get the error message:
> > Error in Im(Tot_sum_log) != 0 || Re(Tot_sum_log) <- 2 :
> >  could not find function "||<-"
> 
> The error message indicates that the problem happens in the function
> CN_state_sum_log() rather than CN_state_log_sum(), so it's hardly
> surprising that changing the latter doesn't have any effect.
> 
> My guess: you've go a condition (Re(Tot_sum_log)<-2), which is
> mistaken for the assignment operator "<-" by the R parser. Adding some
> whitespace (Re(Tot_sum_log) < -2) should help both R and human readers
> to make sense of it.

Adding parentheses around the negative number is the only way to keep
such an expression robustly safe given the various whitespace alterations
that happen as such text passes through different parsers, editors,
mailers, proportional pitch font displays (which can fool human readers) ...

( ( Im(Tot_sum_log) != 0 ) || ( Re(Tot_sum_log) < (-2) ) )

Best

Steven McKinney

> 
> Best,
> Stefan
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From smckinney at bccrc.ca  Wed Nov  4 22:10:28 2009
From: smckinney at bccrc.ca (smckinney at bccrc.ca)
Date: Wed,  4 Nov 2009 22:10:28 +0100 (CET)
Subject: [Rd] Cannot Change Function (PR#14041)
Message-ID: <20091104211029.51D9F282EF59@mail.pubhealth.ku.dk>



> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
> project.org] On Behalf Of Stefan Evert
> Sent: Wednesday, November 04, 2009 4:40 AM
> To: michael_karsh at earthlink.net
> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
> Subject: Re: [Rd] Cannot Change Function (PR#14041)
>=20
> What makes you think this is a bug in R?
>=20
> > Whenever I try changing a function, it keeps coming up with the same
> > error
> > message.
> >
> > I have the function
> > CN_state_log_sum=3Dfunction(Tot_log_sum){ #estimate copy number state
> > for the log
>   [...]
> > }
> >
> > When I try to run it in the loop:
> > for (j in 1:length(BB_mean_ref)){	# find copy number states (0 for
> > homozygous
> > deletion, 1 for hemizygous deletion, 2 for neutral, 3 for single
> > amplification,
> > 4 for multiple amplification)
> > 	state_log_sum[j]=3DCN_state_log_sum(Tot_log_sum[j])
> > 	state_sum_log[j]=3DCN_state_sum_log(Tot_sum_log[j])
> > }
> > I get the error message:
> > Error in Im(Tot_sum_log) !=3D 0 || Re(Tot_sum_log) <- 2 :
> >  could not find function "||<-"
>=20
> The error message indicates that the problem happens in the function
> CN_state_sum_log() rather than CN_state_log_sum(), so it's hardly
> surprising that changing the latter doesn't have any effect.
>=20
> My guess: you've go a condition (Re(Tot_sum_log)<-2), which is
> mistaken for the assignment operator "<-" by the R parser. Adding some
> whitespace (Re(Tot_sum_log) < -2) should help both R and human readers
> to make sense of it.

Adding parentheses around the negative number is the only way to keep
such an expression robustly safe given the various whitespace alterations
that happen as such text passes through different parsers, editors,
mailers, proportional pitch font displays (which can fool human readers) ..=
.

( ( Im(Tot_sum_log) !=3D 0 ) || ( Re(Tot_sum_log) < (-2) ) )

Best

Steven McKinney

>=20
> Best,
> Stefan
>=20
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From p.dalgaard at biostat.ku.dk  Wed Nov  4 22:16:03 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Wed, 04 Nov 2009 22:16:03 +0100
Subject: [Rd] sapply improvements
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>	<4AF1E2EC.7060405@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>
Message-ID: <4AF1EF13.3090900@biostat.ku.dk>

William Dunlap wrote:
> It looks good on following examples:
> 
>> z <- split(log(1:10), rep(letters[1:2],c(3,7)))
>> sapply(z, length, FUN.VALUE=numeric(1))
> Error in sapply(z, length, FUN.VALUE = numeric(1)) : 
>   FUN values must be of type 'double'
> 
> (I'd like the error to say "... must be of type 'double',
> not 'integer'", to give the user a fuller diagnosis of
> the problem.)

Umm, not following too closely, but would it not be preferable just to 
coerce in such cases? I can see a lot of issues of the

if (x <= 0) NA else log(x)

variety otherwise.

>> sapply(z, range, FUN.VALUE=c(Min=0,Max=0))
>            a        b
> Min 0.000000 1.386294
> Max 1.098612 2.302585
> 
> Exactly matching the typeof's and using the names
> for row.names on matrix output seem good to me.
>  
> Bill Dunlap
> Spotfire, TIBCO Software
> wdunlap tibco.com  
> 
>> -----Original Message-----
>> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
>> Sent: Wednesday, November 04, 2009 12:24 PM
>> To: William Dunlap
>> Cc: michael.m.spiegel at gmail.com; r-devel at stat.math.ethz.ch
>> Subject: sapply improvements
>>
>> On 11/4/2009 12:15 PM, William Dunlap wrote:
>>>> -----Original Message-----
>>>> From: r-devel-bounces at r-project.org 
>>>> [mailto:r-devel-bounces at r-project.org] On Behalf Of Duncan Murdoch
>>>> Sent: Wednesday, November 04, 2009 8:47 AM
>>>> To: michael.m.spiegel at gmail.com
>>>> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
>>>> Subject: Re: [Rd] error in install.packages() (PR#14042)
>>>>
> ... 
>>>> For future reference:  the problem was that it assigned 
>> the result of 
>>>> sapply() to a subset of a vector.  Normally sapply() 
>> simplifies its 
>>>> result to a vector, but in this case the result was empty, so 
>>>> sapply() 
>>>> returned an empty list; assigning a list to a vector coerced 
>>>> the vector 
>>>> to a list, and then the "invalid subscript type 'list'" came 
>>>> soon after.
>>> I've run into this sort of problem a lot (0-long input to sapply
>>> causes it to return list()).  A related problem is that 
>> when sapply's
>>> FUN doesn't always return the type of value you expect for some
>>> corner case then sapply won't do the expected simplication.  If
>>> sapply had an argument that gave the expected form of FUN's output
>>> then sapply could (a) die if some call to FUN didn't return 
>> something
>>> of that form and (b) return a 0-long object of the correct form
>>> if sapply's X has length zero so FUN is never called.  E.g.,
>>>    sapply(2:0, function(i)(11:20)[i], FUN.VALUE=integer(1)) # die on
>>> third iteration
>>>    sapply(integer(0), function(i)i>0, FUN.VALUE=logical(1)) # return
>>> logical(0)
>>>
>>> Another benefit of sapply knowing the type of FUN's return value is
>>> that it wouldn't have to waste space creating a list of FUN's return
>>> values but could stuff them directly into the final output 
>> structure.
>>> A list of n scalar doubles is 4.5 times bigger than 
>> double(n) and the
>>> factor is 9.0 for integers and logicals.
>>
>> What do you think of the behaviour of the sapply function below?  (I 
>> wouldn't put it into R as it is, I'd translate it to C code 
>> to avoid the 
>> lapply call; but I'd like to get the behaviour right before 
>> doing that.)
>>
>> This one checks that the length() and typeof() results are 
>> consistent. 
>> If the FUN.VALUE has names, those are used (but it doesn't 
>> require the 
>> names from FUN to match).
> ...
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From andy at h-ashley.freeserve.co.uk  Wed Nov  4 21:50:15 2009
From: andy at h-ashley.freeserve.co.uk (andy at h-ashley.freeserve.co.uk)
Date: Wed,  4 Nov 2009 21:50:15 +0100 (CET)
Subject: [Rd] Possible bug in RTERM (PR#14043)
Message-ID: <20091104205015.15613282EF2D@mail.pubhealth.ku.dk>

Full_Name: Andy Ashley
Version: 2.10.0
OS: Windows XP SP3
Submission from: (NULL) (91.105.184.105)


I am updating a legacy program which called Rterm from within Excel VBA as
follows:
    Rexe = """C:\Program Files\R\R-2.4.0\bin\Rterm.exe"""
    Roptions = ""
    env_vars = " R_USER=" & dirname
    cmdstring = Rexe & Roptions & env_vars
    retval = Shell(cmdstring, 6)
    
R then executes .Rprofile
    setwd(?dirname?)
    source('run.R')

I had previously used R 2.4.0 and found that I could call functions in the base
package OK, but if I tried to call a function in stats, I got the error
message:

Error in eval.with.vis(expr,, envir, enclos) :
  could not find function ?wilcox.test?

This message is in the Rterm window which appears. If I then type search() in
this window, it tells me that package stats is loaded. I got around the problem
by specifically calling require(stats) at the start of the R code.

I upgraded the version of R used to 2.9.2 and I found that I now get the same
error message for base functions as well, but require(base) does not work. The
same problem occurs in R 2.10.0.

I have had to go back to using R2.4.0 in my application.

I realise that there is the Rexcel interface available, but it should still work
by calling Rterm.


From luke at stat.uiowa.edu  Wed Nov  4 22:23:30 2009
From: luke at stat.uiowa.edu (luke at stat.uiowa.edu)
Date: Wed, 4 Nov 2009 15:23:30 -0600 (CST)
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <4AF11EA4.7090705@userprimary.net>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>,
	<4AEC4954.9070400@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>,
	<4AED9648.7080702@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B005@exvic-mbx03.nexus.csiro.au>
	<4AEDEF70.5030004@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F8705559AE070@exvic-mbx03.nexus.csiro.au>
	<4AF11EA4.7090705@userprimary.net>
Message-ID: <alpine.OSX.2.00.0911041508400.2863@luke-tierneys-macbook-pro-15.local>

Here is a more stripped down variant generates and error on OS X for me:

     mkEg <- function(tm) list(scrunge = as.POSIXct(tm))

     extract <- function(db) {
 	e<- new.env()
 	lazyLoad(db, e)
 	as.list( e)
     }

     eg <- mkEg("2009-11-04 12:49:53")
     eg1 <- mkEg("2009-11-04 12:49:28")

     tools:::makeLazyLoadDB( eg, '/tmp/ll')
     extract('/tmp/ll') # force; OK

     tools:::makeLazyLoadDB( eg1, '/tmp/ll')
     extract('/tmp/ll')

Changing the second set of /tmp/ll makes the symptom go away.

I believe this comes down to unintended use of the lazyload mechanism
-- in particular it is not intended that a database be rewritten after
it has been loaded.  There is a chaching mechanism for improved
performance on slow file systems, and I believe what is happening is
that the new indices are being used to look in the old chached
data. There might be some merit in having lazyLoad call
R_lazyLoadDBflush.

luke

On Tue, 3 Nov 2009, Seth Falcon wrote:

> Hi,
>
> On 11/3/09 6:51 PM, Mark.Bravington at csiro.au wrote:
>> 
>> file.copy( 'd:/temp/Rdiff.Rd', 'd:/temp/scrunge.Rd') # Rdiff.Rd from 
>> 'tools' package source
>> 
>> eglist<- list( scrunge=parse_Rd(  'd:/temp/scrunge.Rd'))
>> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll')
>> e<- new.env()
>> lazyLoad( 'd:/temp/ll', e)
>> as.list( e) # force; OK
>> 
>> eglist1<- list( scrunge=parse_Rd(  'd:/temp/Rdiff.Rd'))
>> tools:::makeLazyLoadDB( eglist1, 'd:/temp/ll')
>> e<- new.env()
>> lazyLoad( 'd:/temp/ll', e)
>> as.list( e) # Splat
>> 
>> It doesn't make any difference which file I process first; the error comes 
>> the second time round.
>
> If I adjust this example in terms of paths and run on OS X, I get the 
> following error on the second run:
>
>> as.list(e) # Splat
> Error in as.list.environment(e) : internal error -3 in R_decompress1
>
> I haven't looked further yet.
>
> + seth
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From wdunlap at tibco.com  Wed Nov  4 22:30:18 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 4 Nov 2009 13:30:18 -0800
Subject: [Rd] sapply improvements
In-Reply-To: <4AF1EF13.3090900@biostat.ku.dk>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>	<4AF1E2EC.7060405@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>
	<4AF1EF13.3090900@biostat.ku.dk>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D700021320EE@NA-PA-VBE03.na.tibco.com>

> -----Original Message-----
> From: Peter Dalgaard [mailto:p.dalgaard at biostat.ku.dk] 
> Sent: Wednesday, November 04, 2009 1:16 PM
> To: William Dunlap
> Cc: Duncan Murdoch; r-devel at r-project.org
> Subject: Re: [Rd] sapply improvements
> 
> William Dunlap wrote:
> > It looks good on following examples:
> > 
> >> z <- split(log(1:10), rep(letters[1:2],c(3,7)))
> >> sapply(z, length, FUN.VALUE=numeric(1))
> > Error in sapply(z, length, FUN.VALUE = numeric(1)) : 
> >   FUN values must be of type 'double'
> > 
> > (I'd like the error to say "... must be of type 'double',
> > not 'integer'", to give the user a fuller diagnosis of
> > the problem.)
> 
> Umm, not following too closely, but would it not be 
> preferable just to 
> coerce in such cases? I can see a lot of issues of the
> 
> if (x <= 0) NA else log(x)
> 
> variety otherwise.

Would you only want it to coerce upwards to FUN.VALUES's
type?  E.g., allow
   sapply(z, length, FUN.VALUE=numeric(1))
to return a numeric vector but die on
   sapply(z, function(zi)as.complex(zi[1]), FUN.VALUE=numeric(1))
If the latter doesn't die should it return
a complex or a numeric vector?  (I'd say it
needs to be numeric, but I'd prefer that it
died.)
  
Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com  

> 
> >> sapply(z, range, FUN.VALUE=c(Min=0,Max=0))
> >            a        b
> > Min 0.000000 1.386294
> > Max 1.098612 2.302585
> > 
> > Exactly matching the typeof's and using the names
> > for row.names on matrix output seem good to me.
> >  
> > Bill Dunlap
> > Spotfire, TIBCO Software
> > wdunlap tibco.com  
> > 
> >> -----Original Message-----
> >> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
> >> Sent: Wednesday, November 04, 2009 12:24 PM
> >> To: William Dunlap
> >> Cc: michael.m.spiegel at gmail.com; r-devel at stat.math.ethz.ch
> >> Subject: sapply improvements
> >>
> >> On 11/4/2009 12:15 PM, William Dunlap wrote:
> >>>> -----Original Message-----
> >>>> From: r-devel-bounces at r-project.org 
> >>>> [mailto:r-devel-bounces at r-project.org] On Behalf Of 
> Duncan Murdoch
> >>>> Sent: Wednesday, November 04, 2009 8:47 AM
> >>>> To: michael.m.spiegel at gmail.com
> >>>> Cc: R-bugs at r-project.org; r-devel at stat.math.ethz.ch
> >>>> Subject: Re: [Rd] error in install.packages() (PR#14042)
> >>>>
> > ... 
> >>>> For future reference:  the problem was that it assigned 
> >> the result of 
> >>>> sapply() to a subset of a vector.  Normally sapply() 
> >> simplifies its 
> >>>> result to a vector, but in this case the result was empty, so 
> >>>> sapply() 
> >>>> returned an empty list; assigning a list to a vector coerced 
> >>>> the vector 
> >>>> to a list, and then the "invalid subscript type 'list'" came 
> >>>> soon after.
> >>> I've run into this sort of problem a lot (0-long input to sapply
> >>> causes it to return list()).  A related problem is that 
> >> when sapply's
> >>> FUN doesn't always return the type of value you expect for some
> >>> corner case then sapply won't do the expected simplication.  If
> >>> sapply had an argument that gave the expected form of FUN's output
> >>> then sapply could (a) die if some call to FUN didn't return 
> >> something
> >>> of that form and (b) return a 0-long object of the correct form
> >>> if sapply's X has length zero so FUN is never called.  E.g.,
> >>>    sapply(2:0, function(i)(11:20)[i], 
> FUN.VALUE=integer(1)) # die on
> >>> third iteration
> >>>    sapply(integer(0), function(i)i>0, 
> FUN.VALUE=logical(1)) # return
> >>> logical(0)
> >>>
> >>> Another benefit of sapply knowing the type of FUN's 
> return value is
> >>> that it wouldn't have to waste space creating a list of 
> FUN's return
> >>> values but could stuff them directly into the final output 
> >> structure.
> >>> A list of n scalar doubles is 4.5 times bigger than 
> >> double(n) and the
> >>> factor is 9.0 for integers and logicals.
> >>
> >> What do you think of the behaviour of the sapply function 
> below?  (I 
> >> wouldn't put it into R as it is, I'd translate it to C code 
> >> to avoid the 
> >> lapply call; but I'd like to get the behaviour right before 
> >> doing that.)
> >>
> >> This one checks that the length() and typeof() results are 
> >> consistent. 
> >> If the FUN.VALUE has names, those are used (but it doesn't 
> >> require the 
> >> names from FUN to match).
> > ...
> > 
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 
> -- 
>     O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
>    c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
>   (*) \(*) -- University of Copenhagen   Denmark      Ph:  
> (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: 
> (+45) 35327907
> 


From p.dalgaard at biostat.ku.dk  Thu Nov  5 00:28:51 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu, 05 Nov 2009 00:28:51 +0100
Subject: [Rd] sapply improvements
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D700021320EE@NA-PA-VBE03.na.tibco.com>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>	<4AF1E2EC.7060405@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>
	<4AF1EF13.3090900@biostat.ku.dk>
	<77EB52C6DD32BA4D87471DCD70C8D700021320EE@NA-PA-VBE03.na.tibco.com>
Message-ID: <4AF20E33.7070104@biostat.ku.dk>

William Dunlap wrote:
...
>>
>> if (x <= 0) NA else log(x)
>>
>> variety otherwise.
> 
> Would you only want it to coerce upwards to FUN.VALUES's
> type?  E.g., allow
>    sapply(z, length, FUN.VALUE=numeric(1))
> to return a numeric vector but die on
>    sapply(z, function(zi)as.complex(zi[1]), FUN.VALUE=numeric(1))
> If the latter doesn't die should it return
> a complex or a numeric vector?  (I'd say it
> needs to be numeric, but I'd prefer that it
> died.)

I'd say that it should probably die on downwards coercion. Getting a 
double when an integer is expected, or complex instead of double as you 
indicate, is a likely user error. If not, then the user can always 
coerce explicitly inside FUN.

Another issue is whether one would want to go beyond the base classes of 
  S (logical, integer, double, complex, character). For other classes, 
there may be no notion of "up" and "down" in coercion. Then again, 
sapply was always limited to what unlist() will handle, so e.g.

 > sapply(1:10,FUN=function(i)Sys.Date())
  [1] 14553 14553 14553 14553 14553 14553 14553 14553 14553 14553

as opposed to

 > structure(rep(14553,10), class="Date")
  [1] "2009-11-05" "2009-11-05" "2009-11-05" "2009-11-05" "2009-11-05"
  [6] "2009-11-05" "2009-11-05" "2009-11-05" "2009-11-05" "2009-11-05"




-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From Mark.Bravington at csiro.au  Thu Nov  5 02:51:13 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Thu, 5 Nov 2009 12:51:13 +1100
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <alpine.OSX.2.00.0911041508400.2863@luke-tierneys-macbook-pro-15.local>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>,
	<4AEC4954.9070400@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>,
	<4AED9648.7080702@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B005@exvic-mbx03.nexus.csiro.au>
	<4AEDEF70.5030004@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F8705559AE070@exvic-mbx03.nexus.csiro.au>
	<4AF11EA4.7090705@userprimary.net>
	<alpine.OSX.2.00.0911041508400.2863@luke-tierneys-macbook-pro-15.local>
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F87055757116D@exvic-mbx03.nexus.csiro.au>

Great-- thanks for the info.

For now, hopefully I can get the behaviour I want by sticking a .Call( 'R_lazyLoadDBflush'...) [as per 'detach'] before calling 'lazyLoad'. Seems to work on my examples, but please let me know if you don't think it'll work generally-- if not, I could presumably create the files under different names and then change them.

Is there merit in making 'makeLazyLoadDB' public, just as 'lazyLoad' already is? It's useful.

Mark

-- 
Mark Bravington
CSIRO Mathematical & Information Sciences
Marine Laboratory
Castray Esplanade
Hobart 7001
TAS

ph (+61) 3 6232 5118
fax (+61) 3 6232 5012
mob (+61) 438 315 623

luke at stat.uiowa.edu wrote:
> Here is a more stripped down variant generates and error on OS X for
> me: 
> 
>      mkEg <- function(tm) list(scrunge = as.POSIXct(tm))
> 
>      extract <- function(db) {
>  	e<- new.env()
>  	lazyLoad(db, e)
>  	as.list( e)
>      }
> 
>      eg <- mkEg("2009-11-04 12:49:53")
>      eg1 <- mkEg("2009-11-04 12:49:28")
> 
>      tools:::makeLazyLoadDB( eg, '/tmp/ll')
>      extract('/tmp/ll') # force; OK
> 
>      tools:::makeLazyLoadDB( eg1, '/tmp/ll')
>      extract('/tmp/ll')
> 
> Changing the second set of /tmp/ll makes the symptom go away.
> 
> I believe this comes down to unintended use of the lazyload mechanism
> -- in particular it is not intended that a database be rewritten
> after it has been loaded.  There is a chaching mechanism for improved
> performance on slow file systems, and I believe what is happening is
> that the new indices are being used to look in the old chached data.
> There might be some merit in having lazyLoad call R_lazyLoadDBflush. 
> 
> luke
> 
> On Tue, 3 Nov 2009, Seth Falcon wrote:
> 
>> Hi,
>> 
>> On 11/3/09 6:51 PM, Mark.Bravington at csiro.au wrote:
>>> 
>>> file.copy( 'd:/temp/Rdiff.Rd', 'd:/temp/scrunge.Rd') # Rdiff.Rd
>>> from 'tools' package source 
>>> 
>>> eglist<- list( scrunge=parse_Rd(  'd:/temp/scrunge.Rd'))
>>> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll')
>>> e<- new.env()
>>> lazyLoad( 'd:/temp/ll', e)
>>> as.list( e) # force; OK
>>> 
>>> eglist1<- list( scrunge=parse_Rd(  'd:/temp/Rdiff.Rd'))
>>> tools:::makeLazyLoadDB( eglist1, 'd:/temp/ll')
>>> e<- new.env()
>>> lazyLoad( 'd:/temp/ll', e)
>>> as.list( e) # Splat
>>> 
>>> It doesn't make any difference which file I process first; the error
>>> comes the second time round.
>> 
>> If I adjust this example in terms of paths and run on OS X, I get the
>> following error on the second run:
>> 
>>> as.list(e) # Splat
>> Error in as.list.environment(e) : internal error -3 in R_decompress1
>> 
>> I haven't looked further yet.
>> 
>> + seth
>> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel

From maechler at stat.math.ethz.ch  Thu Nov  5 10:05:16 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 5 Nov 2009 10:05:16 +0100
Subject: [Rd] sapply improvements
In-Reply-To: <4AF20E33.7070104@biostat.ku.dk>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>
	<4AF1B00D.7060809@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
	<4AF1E2EC.7060405@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>
	<4AF1EF13.3090900@biostat.ku.dk>
	<77EB52C6DD32BA4D87471DCD70C8D700021320EE@NA-PA-VBE03.na.tibco.com>
	<4AF20E33.7070104@biostat.ku.dk>
Message-ID: <19186.38220.572316.264152@lynne.math.ethz.ch>

>>>>> "PD" == Peter Dalgaard <p.dalgaard at biostat.ku.dk>
>>>>>     on Thu, 05 Nov 2009 00:28:51 +0100 writes:

    PD> William Dunlap wrote: ...
    >>> 
    >>> if (x <= 0) NA else log(x)
    >>> 
    >>> variety otherwise.
    >> 
    >> Would you only want it to coerce upwards to FUN.VALUES's
    >> type?  E.g., allow sapply(z, length,
    >> FUN.VALUE=numeric(1)) to return a numeric vector but die
    >> on sapply(z, function(zi)as.complex(zi[1]),
    >> FUN.VALUE=numeric(1)) If the latter doesn't die should it
    >> return a complex or a numeric vector?  (I'd say it needs
    >> to be numeric, but I'd prefer that it died.)

    PD> I'd say that it should probably die on downwards
    PD> coercion. Getting a double when an integer is expected,
    PD> or complex instead of double as you indicate, is a
    PD> likely user error. If not, then the user can always
    PD> coerce explicitly inside FUN.

I agree with Peter: Do allow coercion downwards

    PD> Another issue is whether one would want to go beyond the
    PD> base classes of S (logical, integer, double, complex,
    PD> character). For other classes, there may be no notion of
    PD> "up" and "down" in coercion. Then again, sapply was
    PD> always limited to what unlist() will handle, so e.g.

    >> sapply(1:10,FUN=function(i)Sys.Date())
    PD>   [1] 14553 14553 14553 14553 14553 14553 14553 14553
    PD> 14553 14553

    PD> as opposed to

    >> structure(rep(14553,10), class="Date")
    PD>   [1] "2009-11-05" "2009-11-05" "2009-11-05"
    PD> "2009-11-05" "2009-11-05" [6] "2009-11-05" "2009-11-05"
    PD> "2009-11-05" "2009-11-05" "2009-11-05"

Well, using    
      as(<prelim_result>,  class(<prototype>) )

would be really nice here.... 
but alas, we are still not allowed to use  as(.,.) in base
code which I'd tend to call  a "design bug" nowadays..

Martin


From romain.francois at dbmail.com  Thu Nov  5 12:17:39 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Thu, 05 Nov 2009 12:17:39 +0100
Subject: [Rd] MailingList: in DESCRIPTION
Message-ID: <4AF2B453.4040308@dbmail.com>

Hi,

Would it make sense to add a MailingList field in the DESCRIPTION file 
so that we can indicate where the package can be discussed.

More and more packages have dedicated mailing lists (mostly thanks to 
r[-]?forge ).

Romain


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From murdoch at stats.uwo.ca  Thu Nov  5 12:24:24 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 05 Nov 2009 06:24:24 -0500
Subject: [Rd] sapply improvements
In-Reply-To: <19186.38220.572316.264152@lynne.math.ethz.ch>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>	<4AF1E2EC.7060405@stats.uwo.ca>	<77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>	<4AF1EF13.3090900@biostat.ku.dk>	<77EB52C6DD32BA4D87471DCD70C8D700021320EE@NA-PA-VBE03.na.tibco.com>	<4AF20E33.7070104@biostat.ku.dk>
	<19186.38220.572316.264152@lynne.math.ethz.ch>
Message-ID: <4AF2B5E8.9000401@stats.uwo.ca>

On 05/11/2009 4:05 AM, Martin Maechler wrote:
>>>>>> "PD" == Peter Dalgaard <p.dalgaard at biostat.ku.dk>
>>>>>>     on Thu, 05 Nov 2009 00:28:51 +0100 writes:
> 
>     PD> William Dunlap wrote: ...
>     >>> 
>     >>> if (x <= 0) NA else log(x)
>     >>> 
>     >>> variety otherwise.
>     >> 
>     >> Would you only want it to coerce upwards to FUN.VALUES's
>     >> type?  E.g., allow sapply(z, length,
>     >> FUN.VALUE=numeric(1)) to return a numeric vector but die
>     >> on sapply(z, function(zi)as.complex(zi[1]),
>     >> FUN.VALUE=numeric(1)) If the latter doesn't die should it
>     >> return a complex or a numeric vector?  (I'd say it needs
>     >> to be numeric, but I'd prefer that it died.)
> 
>     PD> I'd say that it should probably die on downwards
>     PD> coercion. Getting a double when an integer is expected,
>     PD> or complex instead of double as you indicate, is a
>     PD> likely user error. If not, then the user can always
>     PD> coerce explicitly inside FUN.
> 
> I agree with Peter: Do allow coercion downwards

You missed "not", right?  I.e. we would never coerce a double down to an 
integer or logical, but coercion in the other direction would be fine?

Duncan Murdoch


> 
>     PD> Another issue is whether one would want to go beyond the
>     PD> base classes of S (logical, integer, double, complex,
>     PD> character). For other classes, there may be no notion of
>     PD> "up" and "down" in coercion. Then again, sapply was
>     PD> always limited to what unlist() will handle, so e.g.
> 
>     >> sapply(1:10,FUN=function(i)Sys.Date())
>     PD>   [1] 14553 14553 14553 14553 14553 14553 14553 14553
>     PD> 14553 14553
> 
>     PD> as opposed to
> 
>     >> structure(rep(14553,10), class="Date")
>     PD>   [1] "2009-11-05" "2009-11-05" "2009-11-05"
>     PD> "2009-11-05" "2009-11-05" [6] "2009-11-05" "2009-11-05"
>     PD> "2009-11-05" "2009-11-05" "2009-11-05"
> 
> Well, using    
>       as(<prelim_result>,  class(<prototype>) )
> 
> would be really nice here.... 
> but alas, we are still not allowed to use  as(.,.) in base
> code which I'd tend to call  a "design bug" nowadays..
> 
> Martin
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Thu Nov  5 12:44:10 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 5 Nov 2009 11:44:10 +0000 (GMT)
Subject: [Rd] MailingList: in DESCRIPTION
In-Reply-To: <4AF2B453.4040308@dbmail.com>
References: <4AF2B453.4040308@dbmail.com>
Message-ID: <alpine.LFD.2.00.0911051141510.18073@toucan.stats.ox.ac.uk>

On Thu, 5 Nov 2009, Romain Francois wrote:

> Hi,
>
> Would it make sense to add a MailingList field in the DESCRIPTION file so 
> that we can indicate where the package can be discussed.

You can add whatever fields you like, and many authors do.

> More and more packages have dedicated mailing lists (mostly thanks to 
> r[-]?forge ).

But those have a URL on R-forge, and surely giving that is more useful 
(and URL: is a documented field).

> Romain Francois

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From romain.francois at dbmail.com  Thu Nov  5 13:11:01 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Thu, 05 Nov 2009 13:11:01 +0100
Subject: [Rd] MailingList: in DESCRIPTION
In-Reply-To: <alpine.LFD.2.00.0911051141510.18073@toucan.stats.ox.ac.uk>
References: <4AF2B453.4040308@dbmail.com>
	<alpine.LFD.2.00.0911051141510.18073@toucan.stats.ox.ac.uk>
Message-ID: <4AF2C0D5.9060805@dbmail.com>

On 11/05/2009 12:44 PM, Prof Brian Ripley wrote:
>
> On Thu, 5 Nov 2009, Romain Francois wrote:
>
>> Hi,
>>
>> Would it make sense to add a MailingList field in the DESCRIPTION file
>> so that we can indicate where the package can be discussed.
>
> You can add whatever fields you like, and many authors do.
>
>> More and more packages have dedicated mailing lists (mostly thanks to
>> r[-]?forge ).
>
> But those have a URL on R-forge, and surely giving that is more useful
> (and URL: is a documented field).
>
>> Romain Francois

Sure. I was thinking of coupling this field with some code along the 
lines of bug.report.

BTW, since Maintainer is required, what about a "package" argument in 
bug.report, that if given just sets the address to the maintainer field 
(maybe making a separate case for core packages). I can submit a patch 
for this.

Romain

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From khansen at stat.Berkeley.EDU  Thu Nov  5 04:56:10 2009
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Wed, 4 Nov 2009 22:56:10 -0500
Subject: [Rd] R292 and tcl/tk
In-Reply-To: <20091102115016.9SC77.7903860.root@mp14>
References: <20091102115016.9SC77.7903860.root@mp14>
Message-ID: <836E9710-B860-48B3-A827-40724B6EEFED@stat.berkeley.edu>

> QUESTION
> 1.  Are there any known issues with tcl/tk? Should I be doing  
> anything different in the configuration?

As you might know, selecting a CRAN mirror normally uses tcltk.  Most  
likely something is wrong with tcltk (not the R package, but the  
library) on your machine.

> 2. When I try a simple plot command in either configuration   (eg.   
> plot(sin, -pi, pi)),  the plot window shows up immediately on my  
> machine but the plot itself takes all of two minutes to draw.  I am  
> not sure if the two issues are related.

This is unrelated to the bug above.  In newer versions of R, the X11  
device uses type = "cairo" per default.  This gives prettier results,  
but is slower on (some) network connections.

Use X11(type = "Xlib") before you issue your plot command.  This  
usually results in substantial speedup.  This is an old issue, that  
has been discussed at depth when type = "cairo" was set to be default.

Kasper


From murdoch at stats.uwo.ca  Thu Nov  5 16:06:55 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 05 Nov 2009 10:06:55 -0500
Subject: [Rd] sapply improvements
In-Reply-To: <19186.38220.572316.264152@lynne.math.ethz.ch>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>	<4AF1E2EC.7060405@stats.uwo.ca>	<77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>	<4AF1EF13.3090900@biostat.ku.dk>	<77EB52C6DD32BA4D87471DCD70C8D700021320EE@NA-PA-VBE03.na.tibco.com>	<4AF20E33.7070104@biostat.ku.dk>
	<19186.38220.572316.264152@lynne.math.ethz.ch>
Message-ID: <4AF2EA0F.6090302@stats.uwo.ca>

On 11/5/2009 4:05 AM, Martin Maechler wrote:
>>>>>> "PD" == Peter Dalgaard <p.dalgaard at biostat.ku.dk>
>>>>>>     on Thu, 05 Nov 2009 00:28:51 +0100 writes:
> 
>     PD> William Dunlap wrote: ...
>     >>> 
>     >>> if (x <= 0) NA else log(x)
>     >>> 
>     >>> variety otherwise.
>     >> 
>     >> Would you only want it to coerce upwards to FUN.VALUES's
>     >> type?  E.g., allow sapply(z, length,
>     >> FUN.VALUE=numeric(1)) to return a numeric vector but die
>     >> on sapply(z, function(zi)as.complex(zi[1]),
>     >> FUN.VALUE=numeric(1)) If the latter doesn't die should it
>     >> return a complex or a numeric vector?  (I'd say it needs
>     >> to be numeric, but I'd prefer that it died.)
> 
>     PD> I'd say that it should probably die on downwards
>     PD> coercion. Getting a double when an integer is expected,
>     PD> or complex instead of double as you indicate, is a
>     PD> likely user error. If not, then the user can always
>     PD> coerce explicitly inside FUN.
> 
> I agree with Peter: Do allow coercion downwards
> 
>     PD> Another issue is whether one would want to go beyond the
>     PD> base classes of S (logical, integer, double, complex,
>     PD> character). For other classes, there may be no notion of
>     PD> "up" and "down" in coercion. Then again, sapply was
>     PD> always limited to what unlist() will handle, so e.g.
> 
>     >> sapply(1:10,FUN=function(i)Sys.Date())
>     PD>   [1] 14553 14553 14553 14553 14553 14553 14553 14553
>     PD> 14553 14553
> 
>     PD> as opposed to
> 
>     >> structure(rep(14553,10), class="Date")
>     PD>   [1] "2009-11-05" "2009-11-05" "2009-11-05"
>     PD> "2009-11-05" "2009-11-05" [6] "2009-11-05" "2009-11-05"
>     PD> "2009-11-05" "2009-11-05" "2009-11-05"
> 
> Well, using    
>       as(<prelim_result>,  class(<prototype>) )
> 
> would be really nice here.... 
> but alas, we are still not allowed to use  as(.,.) in base
> code which I'd tend to call  a "design bug" nowadays..

Part of the difficulty here is that we have too many concepts of "class" 
and "type" in R.  For example, as() is not consistent with as.vector() 
in the following sense:

If neither input is an S4 object, we should have

as(<prelim_result>,  class(<prototype>) )

be the same as

as.vector(<prelim_result>, typeof(<prototype>))

and

as.vector(<prelim_result>, class(<prototype>))

and currently as() gives a different result.  For example,

 > str(as(1:10, class(double(1))))
  int [1:10] 1 2 3 4 5 6 7 8 9 10
 > str(as.vector(1:10, typeof(double(1))))
  num [1:10] 1 2 3 4 5 6 7 8 9 10
 > str(as.vector(1:10, class(double(1))))
  num [1:10] 1 2 3 4 5 6 7 8 9 10

So if the coercion were to support as(), we'd need to decide when to 
follow its rules, and when to follow the existing as.vector() rules 
(which I think we're more or less following in the current sapply()).

We'd also need to handle the cases involving S4 objects:

I'd say if the prototype is not S4 but the result is, we should die with 
an error.

If the prototype is S4, then we should use as().  We have fast C code to 
detect S4 objects, do we have C code to do the coercion?  I'd rather not 
write it, but I wouldn't object if someone else did/already has.

Duncan Murdoch


From jeffrey.horner at gmail.com  Thu Nov  5 16:53:42 2009
From: jeffrey.horner at gmail.com (Jeffrey Horner)
Date: Thu, 5 Nov 2009 09:53:42 -0600
Subject: [Rd] Active bindings in attached environments
Message-ID: <a8cee7640911050753g7ad9f5fcsd839866cb664af36@mail.gmail.com>

Hi,

Is this expected behavior for active bindings in attached
environments, or is this a bug:

> e <- new.env()
> makeActiveBinding('x',function() 'foo',e)
> ls(e)
[1] "x"
> attach(e)
> search()
[1] ".GlobalEnv"        "e"                 "package:graphics"
[4] "package:grDevices" "package:datasets"  "package:utils"
[7] "package:methods"   "Autoloads"         "package:base"
> x
function() 'foo'

Should this print 'foo' ? The following works as I would expect:

> with(e,x)
[1] "foo"

but this doesn't:

> f <- function() x
> f()
function() 'foo'

However, changing the environment of f does:

> environment(f) <- e
> f()
[1] "foo"


Jeff






-- 
http://biostat.mc.vanderbilt.edu/JeffreyHorner


From maechler at stat.math.ethz.ch  Thu Nov  5 17:30:02 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 5 Nov 2009 17:30:02 +0100
Subject: [Rd] sapply improvements
In-Reply-To: <4AF2B5E8.9000401@stats.uwo.ca>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>
	<4AF1B00D.7060809@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>
	<4AF1E2EC.7060405@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>
	<4AF1EF13.3090900@biostat.ku.dk>
	<77EB52C6DD32BA4D87471DCD70C8D700021320EE@NA-PA-VBE03.na.tibco.com>
	<4AF20E33.7070104@biostat.ku.dk>
	<19186.38220.572316.264152@lynne.math.ethz.ch>
	<4AF2B5E8.9000401@stats.uwo.ca>
Message-ID: <19186.64906.357469.268369@lynne.math.ethz.ch>

>>>>> Duncan Murdoch <murdoch at stats.uwo.ca>
>>>>>     on Thu, 05 Nov 2009 06:24:24 -0500 writes:

    > On 05/11/2009 4:05 AM, Martin Maechler wrote:
    >>>>>>> "PD" == Peter Dalgaard <p.dalgaard at biostat.ku.dk> on
    >>>>>>> Thu, 05 Nov 2009 00:28:51 +0100 writes:
    >> 
    PD> William Dunlap wrote: ...
    >> >>> 
    >> >>> if (x <= 0) NA else log(x)
    >> >>> 
    >> >>> variety otherwise.
    >> >> 
    >> >> Would you only want it to coerce upwards to
    >> FUN.VALUES's >> type?  E.g., allow sapply(z, length, >>
    >> FUN.VALUE=numeric(1)) to return a numeric vector but die
    >> >> on sapply(z, function(zi)as.complex(zi[1]), >>
    >> FUN.VALUE=numeric(1)) If the latter doesn't die should it
    >> >> return a complex or a numeric vector?  (I'd say it
    >> needs >> to be numeric, but I'd prefer that it died.)
    >> 
    PD> I'd say that it should probably die on downwards
    PD> coercion. Getting a double when an integer is expected,
    PD> or complex instead of double as you indicate, is a
    PD> likely user error. If not, then the user can always
    PD> coerce explicitly inside FUN.
    >> 
    >> I agree with Peter: Do allow coercion downwards

    > You missed "not", right?  I.e. we would never coerce a
    > double down to an integer or logical, but coercion in the
    > other direction would be fine?

Yes, indeed. I missed and you are right.
Martin


From jeffrey.horner at gmail.com  Thu Nov  5 17:40:44 2009
From: jeffrey.horner at gmail.com (Jeffrey Horner)
Date: Thu, 5 Nov 2009 10:40:44 -0600
Subject: [Rd] Active bindings in attached environments
Message-ID: <a8cee7640911050840gde26054o89db0c5cb3fbdd63@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091105/ff258244/attachment.pl>

From romain.francois at dbmail.com  Thu Nov  5 17:54:44 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Thu, 05 Nov 2009 17:54:44 +0100
Subject: [Rd] Active bindings in attached environments
In-Reply-To: <a8cee7640911050753g7ad9f5fcsd839866cb664af36@mail.gmail.com>
References: <a8cee7640911050753g7ad9f5fcsd839866cb664af36@mail.gmail.com>
Message-ID: <4AF30354.4090801@dbmail.com>


I think it is related to the call to duplicate in do_attach:

defineVar(TAG(p), duplicate(CAR(p)), s);

You can circumvent it by using "importIntoEnv", as in:

 > e
<environment: 0x9070064>
 > e <- new.env()
 > makeActiveBinding('x',function() 'foo',e)
 > f <- new.env()
 > attach( f, pos = 2 )
 > .Internal(importIntoEnv( as.environment(2), ls(e), e, ls(e) ))
NULL
 > x
[1] "foo"

Romain

On 11/05/2009 04:53 PM, Jeffrey Horner wrote:
>
> Hi,
>
> Is this expected behavior for active bindings in attached
> environments, or is this a bug:
>
>> e<- new.env()
>> makeActiveBinding('x',function() 'foo',e)
>> ls(e)
> [1] "x"
>> attach(e)
>> search()
> [1] ".GlobalEnv"        "e"                 "package:graphics"
> [4] "package:grDevices" "package:datasets"  "package:utils"
> [7] "package:methods"   "Autoloads"         "package:base"
>> x
> function() 'foo'
>
> Should this print 'foo' ? The following works as I would expect:
>
>> with(e,x)
> [1] "foo"
>
> but this doesn't:
>
>> f<- function() x
>> f()
> function() 'foo'
>
> However, changing the environment of f does:
>
>> environment(f)<- e
>> f()
> [1] "foo"
>
>
> Jeff

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From djsamperi at earthlink.net  Thu Nov  5 18:15:28 2009
From: djsamperi at earthlink.net (Dominick Samperi)
Date: Thu, 05 Nov 2009 12:15:28 -0500
Subject: [Rd] Problem with pdf graphics device
Message-ID: <4AF30830.8040806@earthlink.net>

This code does not work as expected:

pdf("foo.pdf")
x <- 1:20
y <- sin(x)
plot(x,y)
dev.off()

Instead of little circles at the points I get the letter 'q', and this
happens for the default pch, pch=1, pch=21. If I set pch='o' I
get the circles, but of course they are not centered. The problem
occurs with pdf viewer and with printing under Linux,
R 2.10.0.

Everything works as expected if I use other display devices.


From marc_schwartz at me.com  Thu Nov  5 18:26:42 2009
From: marc_schwartz at me.com (Marc Schwartz)
Date: Thu, 05 Nov 2009 11:26:42 -0600
Subject: [Rd] Problem with pdf graphics device
In-Reply-To: <4AF30830.8040806@earthlink.net>
References: <4AF30830.8040806@earthlink.net>
Message-ID: <602D18E7-F451-4536-8C36-ECB62E4070FA@me.com>


On Nov 5, 2009, at 11:15 AM, Dominick Samperi wrote:

> This code does not work as expected:
>
> pdf("foo.pdf")
> x <- 1:20
> y <- sin(x)
> plot(x,y)
> dev.off()
>
> Instead of little circles at the points I get the letter 'q', and this
> happens for the default pch, pch=1, pch=21. If I set pch='o' I
> get the circles, but of course they are not centered. The problem
> occurs with pdf viewer and with printing under Linux,
> R 2.10.0.
>
> Everything works as expected if I use other display devices.


See ?pdf and read through the "Note" section.

This was just covered on r-devel only days ago:

   https://stat.ethz.ch/pipermail/r-devel/2009-October/055357.html

HTH,

Marc Schwartz


From romain.francois at dbmail.com  Thu Nov  5 18:58:30 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Thu, 05 Nov 2009 18:58:30 +0100
Subject: [Rd] combine UserDefinedDatabase and regular environments
Message-ID: <4AF31246.1060004@dbmail.com>

Hello,

Is it possible to have the effect of UserDefinedDatabase outside of 
"attached" environments ? Can I disguise an environment of the 
sys.frames() as a UserDefinedDatabase ?

This seems to suggest that it might be possible :

 > f <- function(){ e <- environment(); class(e) <- 
"UserDefinedDatabase"; ff }
 > f()

  *** caught segfault ***
address (nil), cause 'unknown'

Traceback:
  1: f()

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace


At the moment, it seems to be either lookup using UserDefinedDatabase or 
regular lookup. Has anyone tried to combine both ?


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From romain.francois at dbmail.com  Thu Nov  5 19:02:03 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Thu, 05 Nov 2009 19:02:03 +0100
Subject: [Rd] Active bindings in attached environments
In-Reply-To: <4AF30354.4090801@dbmail.com>
References: <a8cee7640911050753g7ad9f5fcsd839866cb664af36@mail.gmail.com>
	<4AF30354.4090801@dbmail.com>
Message-ID: <4AF3131B.8050309@dbmail.com>

Also, active bindings on the search path seem to do only half of the job:

 > e <- new.env()
 > attach( e )
 > makeActiveBinding( "x", function(val) if(missing(val)) "get" else 
"set", as.environment(2) )
 > x
[1] "get"
 > x <- 3
 > x
[1] 3

Romain

On 11/05/2009 05:54 PM, Romain Francois wrote:
>
>
> I think it is related to the call to duplicate in do_attach:
>
> defineVar(TAG(p), duplicate(CAR(p)), s);
>
> You can circumvent it by using "importIntoEnv", as in:
>
>  > e
> <environment: 0x9070064>
>  > e <- new.env()
>  > makeActiveBinding('x',function() 'foo',e)
>  > f <- new.env()
>  > attach( f, pos = 2 )
>  > .Internal(importIntoEnv( as.environment(2), ls(e), e, ls(e) ))
> NULL
>  > x
> [1] "foo"
>
> Romain
>
> On 11/05/2009 04:53 PM, Jeffrey Horner wrote:
>>
>> Hi,
>>
>> Is this expected behavior for active bindings in attached
>> environments, or is this a bug:
>>
>>> e<- new.env()
>>> makeActiveBinding('x',function() 'foo',e)
>>> ls(e)
>> [1] "x"
>>> attach(e)
>>> search()
>> [1] ".GlobalEnv" "e" "package:graphics"
>> [4] "package:grDevices" "package:datasets" "package:utils"
>> [7] "package:methods" "Autoloads" "package:base"
>>> x
>> function() 'foo'
>>
>> Should this print 'foo' ? The following works as I would expect:
>>
>>> with(e,x)
>> [1] "foo"
>>
>> but this doesn't:
>>
>>> f<- function() x
>>> f()
>> function() 'foo'
>>
>> However, changing the environment of f does:
>>
>>> environment(f)<- e
>>> f()
>> [1] "foo"
>>
>>
>> Jeff
>


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From jeffrey.horner at gmail.com  Thu Nov  5 19:15:55 2009
From: jeffrey.horner at gmail.com (Jeffrey Horner)
Date: Thu, 5 Nov 2009 12:15:55 -0600
Subject: [Rd] Active bindings in attached environments
In-Reply-To: <4AF3131B.8050309@dbmail.com>
References: <a8cee7640911050753g7ad9f5fcsd839866cb664af36@mail.gmail.com>
	<4AF30354.4090801@dbmail.com> <4AF3131B.8050309@dbmail.com>
Message-ID: <a8cee7640911051015u489161f2oeaddafe188c6ab44@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091105/bcfe98aa/attachment.pl>

From jeffrey.horner at gmail.com  Thu Nov  5 20:37:27 2009
From: jeffrey.horner at gmail.com (Jeffrey Horner)
Date: Thu, 5 Nov 2009 13:37:27 -0600
Subject: [Rd] Active bindings in attached environments
In-Reply-To: <a8cee7640911050753g7ad9f5fcsd839866cb664af36@mail.gmail.com>
References: <a8cee7640911050753g7ad9f5fcsd839866cb664af36@mail.gmail.com>
Message-ID: <a8cee7640911051137v62f57aefm768451e0a9c3b486@mail.gmail.com>

On Thu, Nov 5, 2009 at 9:53 AM, Jeffrey Horner <jeffrey.horner at gmail.com> wrote:
>
> Hi,
>
> Is this expected behavior for active bindings in attached
> environments, or is this a bug:
>
> > e <- new.env()
> > makeActiveBinding('x',function() 'foo',e)
> > ls(e)
> [1] "x"
> > attach(e)
> > search()
> [1] ".GlobalEnv" ? ? ? ?"e" ? ? ? ? ? ? ? ? "package:graphics"
> [4] "package:grDevices" "package:datasets" ?"package:utils"
> [7] "package:methods" ? "Autoloads" ? ? ? ? "package:base"
> > x
> function() 'foo'
>
> Should this print 'foo' ? The following works as I would expect:
>
> > with(e,x)
> [1] "foo"
>
> but this doesn't:
>
> > f <- function() x
> > f()
> function() 'foo'
>
> However, changing the environment of f does:
>
> > environment(f) <- e
> > f()
> [1] "foo"

Actually, it is my understanding of attach() which is the bug. The
attach documentation clearly states that a copy of the object is
attached, not the object itself.

Thanks,

Jeff
--
http://biostat.mc.vanderbilt.edu/JeffreyHorner


From bolker at ufl.edu  Thu Nov  5 20:39:59 2009
From: bolker at ufl.edu (Ben Bolker)
Date: Thu, 5 Nov 2009 19:39:59 +0000 (UTC)
Subject: [Rd] Typos in ?pdf (was Re: Problem with pdf graphics device)
References: <4AF30830.8040806@earthlink.net>
	<602D18E7-F451-4536-8C36-ECB62E4070FA@me.com>
Message-ID: <loom.20091105T202221-457@post.gmane.org>

Marc Schwartz <marc_schwartz <at> me.com> writes:

> 

[snip]
 
> See ?pdf and read through the "Note" section.
> 

  While I was reading this I noticed two minor typos
in pdf.Rd.

  These patches are against the latest SVN devel version.


*** pdf.Rd.orig	2009-11-05 14:37:44.000000000 -0500
--- pdf.Rd	2009-11-05 14:38:24.000000000 -0500
***************
*** 199,205 ****
    problem is much more likely to be in your viewer than in \R.  Try
    another viewer if possible.  Symptoms for which the viewer has been at
    fault are apparent grids on image plots (turn off graphics
!   anti-aliasing in your viewer if you) and missing or incorrect glyphs
    in text (viewers silently doing font substitution).
  
    Unfortunately the default viewers on most Linux and Mac OS X systems
--- 199,205 ----
    problem is much more likely to be in your viewer than in \R.  Try
    another viewer if possible.  Symptoms for which the viewer has been at
    fault are apparent grids on image plots (turn off graphics
!   anti-aliasing in your viewer if you can) and missing or incorrect glyphs
    in text (viewers silently doing font substitution).
  
    Unfortunately the default viewers on most Linux and Mac OS X systems
***************
*** 224,230 ****
    On some systems the default plotting character \code{pch = 1} is
    displayed in some PDF viewers incorrectly as a \code{"q"}
    character.  (These seem to be viewers based on the \samp{poppler} PDF
!   rendering library). This may be due to incorrect or incomplete mapping
    of font names to those used by the system.  Adding the following lines
    to \file{~/.fonts.conf} or \file{/etc/fonts/local.conf} may circumvent
    this problem.
--- 224,230 ----
    On some systems the default plotting character \code{pch = 1} is
    displayed in some PDF viewers incorrectly as a \code{"q"}
    character.  (These seem to be viewers based on the \samp{poppler} PDF
!   rendering library.) This may be due to incorrect or incomplete mapping
    of font names to those used by the system.  Adding the following lines
    to \file{~/.fonts.conf} or \file{/etc/fonts/local.conf} may circumvent
    this problem.


From suharto_anggono at yahoo.com  Thu Nov  5 04:55:24 2009
From: suharto_anggono at yahoo.com (suharto_anggono at yahoo.com)
Date: Thu,  5 Nov 2009 04:55:24 +0100 (CET)
Subject: [Rd] A fix that for 'bquote' that may work  (PR#14031)
Message-ID: <20091105035524.BB272282EF59@mail.pubhealth.ku.dk>

This is a fix for 'bquote' that may work.

function (expr, where =3D parent.frame())=20
{
    unquote <- function(e) {
        if (length(e) <=3D 1 || !is.language(e))=20
            e
        else if (e[[1]] =3D=3D as.name("."))=20
            eval(e[[2]], where)
        else as.call(lapply(e, unquote))
    }
    unquote(substitute(expr))
}
=0A=0A=0A      Get your preferred Email name!=0ANow you can @ymail.com and =
@rocketmail.com. =0Ahttp://mail.promotions.yahoo.com/newdomains/aa/


From kare at modlab.se  Thu Nov  5 15:00:14 2009
From: kare at modlab.se (kare at modlab.se)
Date: Thu,  5 Nov 2009 15:00:14 +0100 (CET)
Subject: [Rd] Error when adding package RMySQL (PR#14044)
Message-ID: <20091105140014.74806282C76F@mail.pubhealth.ku.dk>

Full_Name: K?re Jonsson
Version: 2.10
OS: WinXP
Submission from: (NULL) (85.225.178.169)


I made a brand new installation of R 2.10 in two machines and got the same
problem.

Machine 1 is Win XP on metal installation
machine 2 is virtual in VMWare running a hacky OS named Tiny XP in which any
Microsoft windows XP siftware always successfully is installed.

Operation 1. Add package RMySQL from Swedish CRAN.
Operation 2. library(RMySQL)

You can see the textual dump below. I need help to understand what is wrong.

Kind regards,
K?re Jonsson


> utils:::menuInstallPkgs()
--- Please select a CRAN mirror for use in this session ---
also installing the dependency ?DBI?

trying URL 'http://ftp.sunet.se/pub/lang/CRAN/bin/windows/contrib/2.10/DBI_0.2-4.zip'
Content type 'application/zip' length 375508 bytes (366 Kb)
opened URL
downloaded 366 Kb

trying URL 'http://ftp.sunet.se/pub/lang/CRAN/bin/windows/contrib/2.10/RMySQL_0.7-4.zip'
Content type 'application/zip' length 284408 bytes (277 Kb)
opened URL
downloaded 277 Kb

package 'DBI' successfully unpacked and MD5 sums checked
package 'RMySQL' successfully unpacked and MD5 sums checked

The downloaded packages are in
        C:\Documents and Settings\Administrator\Local
Settings\Temp\Rtmpjqc0Bc\downloaded_packages
> library(RMySQL)
Loading required package: DBI
Error in utils::readRegistry("SOFTWARE\\MySQL AB", hive = "HLM", maxdepth = 2) :

  Registry key 'SOFTWARE\MySQL AB' not found
Error : .onLoad failed in 'loadNamespace' for 'RMySQL'
Error: package/namespace load failed for 'RMySQL'
> MySQL()
Error: could not find function "MySQL"
> con <- dbConnect(dbDriver("MySQL"), dbname = "mysql")
Error in do.call(as.character(drvName), list(...)) : 
  could not find function "MySQL"
Error in is(object, Cl) : 
  error in evaluating the argument 'drv' in selecting a method for function
'dbConnect'
> version
               _                            
platform       i386-pc-mingw32              
arch           i386                         
os             mingw32                      
system         i386, mingw32                
status                                      
major          2                            
minor          10.0                         
year           2009                         
month          10                           
day            26                           
svn rev        50208                        
language       R                            
version.string R version 2.10.0 (2009-10-26)
>


From jeff.horner at vanderbilt.edu  Thu Nov  5 16:41:31 2009
From: jeff.horner at vanderbilt.edu (Jeff Horner)
Date: Thu, 05 Nov 2009 09:41:31 -0600
Subject: [Rd] Active bindings in attached environments
Message-ID: <4AF2F22B.206@vanderbilt.edu>

Hi,

I was wondering if this is expected behavior for active bindings in 
attached environments, or if this is a bug:

 > e <- new.env()
 > makeActiveBinding('x',function() 'foo',e)
 > ls(e)
[1] "x"
 > attach(e)
 > search()
[1] ".GlobalEnv"        "e"                 "package:graphics"
[4] "package:grDevices" "package:datasets"  "package:utils"
[7] "package:methods"   "Autoloads"         "package:base"
 > x
function() 'foo' # Should this print 'foo' ?

This works as I would expect:

 > with(e,x)
[1] "foo"

but this doesn't:

 > f <- function() x
 > f()
function() 'foo'

However, changing the environment of f does:

 > environment(f) <- e
 > f()
[1] "foo"


Jeff


From neilt at neiltiffin.com  Thu Nov  5 20:05:14 2009
From: neilt at neiltiffin.com (neilt at neiltiffin.com)
Date: Thu,  5 Nov 2009 20:05:14 +0100 (CET)
Subject: [Rd] Typo in R Help INSTALL {utils} (PR#14045)
Message-ID: <20091105190514.86D4B2831FF7@mail.pubhealth.ku.dk>

Full_Name: Neil Tiffin
Version: R version 2.10.0 (2009-10-26) 
OS: [R.app GUI 1.30 (5511) i386-apple-darwin9.8.0] 
Submission from: (NULL) (99.68.31.116)


In  the help section 'INSTALL {utils}'  half way down the page the line

Use R CMD INSTALL ?help for concise usage information, including all the
available options

should have two '-' in front of help.  Therefor it should read

Use R CMD INSTALL ?-help for concise usage information, including all the
available options

At least when I copied and pasted the line it did not work until I added the
second '-'.


From tplate at acm.org  Thu Nov  5 21:09:46 2009
From: tplate at acm.org (Tony Plate)
Date: Thu, 05 Nov 2009 13:09:46 -0700
Subject: [Rd] Active bindings in attached environments
In-Reply-To: <a8cee7640911051137v62f57aefm768451e0a9c3b486@mail.gmail.com>
References: <a8cee7640911050753g7ad9f5fcsd839866cb664af36@mail.gmail.com>
	<a8cee7640911051137v62f57aefm768451e0a9c3b486@mail.gmail.com>
Message-ID: <4AF3310A.4020702@acm.org>

An explanation of this would be nice in ?makeActiveBinding, e.g.,

NOTE:

When an environment is attach()'ed to the search path, any active 
bindings in it are not preserved as active bindings.  This happens 
because attach() actually adds a new environment to the search path, and 
copies objects into it.  Thus, active bindings are evaluated and their 
values copied into the attached environment.

(Is this explanation correct?)

-- Tony Plate

(PS: Thunderbird wants to spell-correct "makeActiveBinding" to 
"vindictivenesses", which seems an amusingly appropriate allusion to the 
nature of this "gotcha" :-)

Jeffrey Horner wrote:
> On Thu, Nov 5, 2009 at 9:53 AM, Jeffrey Horner <jeffrey.horner at gmail.com> wrote:
>   
>> Hi,
>>
>> Is this expected behavior for active bindings in attached
>> environments, or is this a bug:
>>
>>     
>>> e <- new.env()
>>> makeActiveBinding('x',function() 'foo',e)
>>> ls(e)
>>>       
>> [1] "x"
>>     
>>> attach(e)
>>> search()
>>>       
>> [1] ".GlobalEnv"        "e"                 "package:graphics"
>> [4] "package:grDevices" "package:datasets"  "package:utils"
>> [7] "package:methods"   "Autoloads"         "package:base"
>>     
>>> x
>>>       
>> function() 'foo'
>>
>> Should this print 'foo' ? The following works as I would expect:
>>
>>     
>>> with(e,x)
>>>       
>> [1] "foo"
>>
>> but this doesn't:
>>
>>     
>>> f <- function() x
>>> f()
>>>       
>> function() 'foo'
>>
>> However, changing the environment of f does:
>>
>>     
>>> environment(f) <- e
>>> f()
>>>       
>> [1] "foo"
>>     
>
> Actually, it is my understanding of attach() which is the bug. The
> attach documentation clearly states that a copy of the object is
> attached, not the object itself.
>
> Thanks,
>
> Jeff
> --
> http://biostat.mc.vanderbilt.edu/JeffreyHorner
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From ligges at statistik.tu-dortmund.de  Thu Nov  5 21:10:30 2009
From: ligges at statistik.tu-dortmund.de (ligges at statistik.tu-dortmund.de)
Date: Thu,  5 Nov 2009 21:10:30 +0100 (CET)
Subject: [Rd] Error when adding package RMySQL (PR#14044)
Message-ID: <20091105201030.639C42831FF7@mail.pubhealth.ku.dk>



kare at modlab.se wrote:
> Full_Name: K?re Jonsson
> Version: 2.10
> OS: WinXP
> Submission from: (NULL) (85.225.178.169)
> 
> 
> I made a brand new installation of R 2.10 in two machines and got the same
> problem.
> 
> Machine 1 is Win XP on metal installation
> machine 2 is virtual in VMWare running a hacky OS named Tiny XP in which any
> Microsoft windows XP siftware always successfully is installed.
> 
> Operation 1. Add package RMySQL from Swedish CRAN.
> Operation 2. library(RMySQL)
> 
> You can see the textual dump below. I need help to understand what is wrong.
> 
> Kind regards,
> K?re Jonsson
> 
> 
>> utils:::menuInstallPkgs()
> --- Please select a CRAN mirror for use in this session ---
> also installing the dependency ?DBI?
> 
> trying URL 'http://ftp.sunet.se/pub/lang/CRAN/bin/windows/contrib/2.10/DBI_0.2-4.zip'
> Content type 'application/zip' length 375508 bytes (366 Kb)
> opened URL
> downloaded 366 Kb
> 
> trying URL 'http://ftp.sunet.se/pub/lang/CRAN/bin/windows/contrib/2.10/RMySQL_0.7-4.zip'
> Content type 'application/zip' length 284408 bytes (277 Kb)
> opened URL
> downloaded 277 Kb
> 
> package 'DBI' successfully unpacked and MD5 sums checked
> package 'RMySQL' successfully unpacked and MD5 sums checked
> 
> The downloaded packages are in
>         C:\Documents and Settings\Administrator\Local
> Settings\Temp\Rtmpjqc0Bc\downloaded_packages
>> library(RMySQL)
> Loading required package: DBI
> Error in utils::readRegistry("SOFTWARE\\MySQL AB", hive = "HLM", maxdepth = 2) :
> 
>   Registry key 'SOFTWARE\MySQL AB' not found



So you probably forgot to install MySQL?

Why do you think this is a bug in the base R distribution?
Note that bugs of contributed packages (if they are really bugs) should 
be reported to the corresponding package maintainer rather than to the R 
bug tracking system.


Best,
Uwe Ligges



> Error : .onLoad failed in 'loadNamespace' for 'RMySQL'
> Error: package/namespace load failed for 'RMySQL'
>> MySQL()
> Error: could not find function "MySQL"
>> con <- dbConnect(dbDriver("MySQL"), dbname = "mysql")
> Error in do.call(as.character(drvName), list(...)) : 
>   could not find function "MySQL"
> Error in is(object, Cl) : 
>   error in evaluating the argument 'drv' in selecting a method for function
> 'dbConnect'
>> version
>                _                            
> platform       i386-pc-mingw32              
> arch           i386                         
> os             mingw32                      
> system         i386, mingw32                
> status                                      
> major          2                            
> minor          10.0                         
> year           2009                         
> month          10                           
> day            26                           
> svn rev        50208                        
> language       R                            
> version.string R version 2.10.0 (2009-10-26)
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Thu Nov  5 23:13:43 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 5 Nov 2009 22:13:43 +0000 (GMT)
Subject: [Rd] Typo in R Help INSTALL {utils} (PR#14045)
In-Reply-To: <20091105190514.86D4B2831FF7@mail.pubhealth.ku.dk>
References: <20091105190514.86D4B2831FF7@mail.pubhealth.ku.dk>
Message-ID: <alpine.LFD.2.00.0911052203130.12167@gannet.stats.ox.ac.uk>

The source file reads

   Use \command{R CMD INSTALL --help} for concise usage information,

so I see no 'typo'.

The issue is apparently in the rendering of -- as - in \command.  I 
am presuming you are viewing HTML in the Mac GUI, but can you please 
confirm exactly what you are looking at.

On Thu, 5 Nov 2009, neilt at neiltiffin.com wrote:

> Full_Name: Neil Tiffin
> Version: R version 2.10.0 (2009-10-26)
> OS: [R.app GUI 1.30 (5511) i386-apple-darwin9.8.0]
> Submission from: (NULL) (99.68.31.116)
>
>
> In  the help section 'INSTALL {utils}'  half way down the page the line
>
> Use R CMD INSTALL ?help for concise usage information, including all the
> available options
>
> should have two '-' in front of help.  Therefor it should read
>
> Use R CMD INSTALL ?-help for concise usage information, including all the
> available options

I suspect from the ? I see (twice) in your message that you are 
seeing an endash and not a single hyphen.  That's what HTML help on 
Linux is showing as for me.

> At least when I copied and pasted the line it did not work until I added the
> second '-'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From luke at stat.uiowa.edu  Thu Nov  5 23:49:54 2009
From: luke at stat.uiowa.edu (luke at stat.uiowa.edu)
Date: Thu, 5 Nov 2009 16:49:54 -0600 (CST)
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <62C82B39B8A85E4B95A18F7F7B852F87055757116D@exvic-mbx03.nexus.csiro.au>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>,
	<4AEC4954.9070400@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B003@exvic-mbx03.nexus.csiro.au>,
	<4AED9648.7080702@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B005@exvic-mbx03.nexus.csiro.au>
	<4AEDEF70.5030004@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F8705559AE070@exvic-mbx03.nexus.csiro.au>
	<4AF11EA4.7090705@userprimary.net>
	<alpine.OSX.2.00.0911041508400.2863@luke-tierneys-macbook-pro-15.local>
	<62C82B39B8A85E4B95A18F7F7B852F87055757116D@exvic-mbx03.nexus.csiro.au>
Message-ID: <alpine.DEB.1.00.0911051645180.6391@luke-inspiron>

On Thu, 5 Nov 2009, Mark.Bravington at csiro.au wrote:

> Great-- thanks for the info.
>
> For now, hopefully I can get the behaviour I want by sticking a .Call( 'R_lazyLoadDBflush'...) [as per 'detach'] before calling 'lazyLoad'. Seems to work on my examples, but please let me know if you don't think it'll work generally-- if not, I could presumably create the files under different names and then change them.
>
> Is there merit in making 'makeLazyLoadDB' public, just as 'lazyLoad' already is? It's useful.

The internals of the lazy load mechanism are intended to be private.
This is now emphasized in the lazyLoad help page.  This is under
active development, and we need the freedom to be able to change these
internals as needed.  They may change without notice, so using them
directly in user code or packages is not a good idea and is strongly
discouraged.

luke

>
> Mark
>
> --
> Mark Bravington
> CSIRO Mathematical & Information Sciences
> Marine Laboratory
> Castray Esplanade
> Hobart 7001
> TAS
>
> ph (+61) 3 6232 5118
> fax (+61) 3 6232 5012
> mob (+61) 438 315 623
>
> luke at stat.uiowa.edu wrote:
>> Here is a more stripped down variant generates and error on OS X for
>> me:
>>
>>      mkEg <- function(tm) list(scrunge = as.POSIXct(tm))
>>
>>      extract <- function(db) {
>>  	e<- new.env()
>>  	lazyLoad(db, e)
>>  	as.list( e)
>>      }
>>
>>      eg <- mkEg("2009-11-04 12:49:53")
>>      eg1 <- mkEg("2009-11-04 12:49:28")
>>
>>      tools:::makeLazyLoadDB( eg, '/tmp/ll')
>>      extract('/tmp/ll') # force; OK
>>
>>      tools:::makeLazyLoadDB( eg1, '/tmp/ll')
>>      extract('/tmp/ll')
>>
>> Changing the second set of /tmp/ll makes the symptom go away.
>>
>> I believe this comes down to unintended use of the lazyload mechanism
>> -- in particular it is not intended that a database be rewritten
>> after it has been loaded.  There is a chaching mechanism for improved
>> performance on slow file systems, and I believe what is happening is
>> that the new indices are being used to look in the old chached data.
>> There might be some merit in having lazyLoad call R_lazyLoadDBflush.
>>
>> luke
>>
>> On Tue, 3 Nov 2009, Seth Falcon wrote:
>>
>>> Hi,
>>>
>>> On 11/3/09 6:51 PM, Mark.Bravington at csiro.au wrote:
>>>>
>>>> file.copy( 'd:/temp/Rdiff.Rd', 'd:/temp/scrunge.Rd') # Rdiff.Rd
>>>> from 'tools' package source
>>>>
>>>> eglist<- list( scrunge=parse_Rd(  'd:/temp/scrunge.Rd'))
>>>> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll')
>>>> e<- new.env()
>>>> lazyLoad( 'd:/temp/ll', e)
>>>> as.list( e) # force; OK
>>>>
>>>> eglist1<- list( scrunge=parse_Rd(  'd:/temp/Rdiff.Rd'))
>>>> tools:::makeLazyLoadDB( eglist1, 'd:/temp/ll')
>>>> e<- new.env()
>>>> lazyLoad( 'd:/temp/ll', e)
>>>> as.list( e) # Splat
>>>>
>>>> It doesn't make any difference which file I process first; the error
>>>> comes the second time round.
>>>
>>> If I adjust this example in terms of paths and run on OS X, I get the
>>> following error on the second run:
>>>
>>>> as.list(e) # Splat
>>> Error in as.list.environment(e) : internal error -3 in R_decompress1
>>>
>>> I haven't looked further yet.
>>>
>>> + seth
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From ross at biostat.ucsf.edu  Fri Nov  6 01:38:30 2009
From: ross at biostat.ucsf.edu (Ross Boylan)
Date: Thu, 05 Nov 2009 16:38:30 -0800
Subject: [Rd] bug in heatmap?
Message-ID: <1257467910.3193.51.camel@corn.betterworld.us>

Using R 2.10 on WinXP
    heatmap(mymap, Rowv=NA, Colv=NA)
with mymap values of
     0           1          2         3   4
0  NaN 0.000000000 0.00621118 0.0000000 NaN
1    0 0.000000000 0.01041667 0.1250000 NaN
2    0 0.004705882 0.02105263 0.3333333 NaN
3    0 0.004081633 0.02222222 0.5000000   0
4    0 0.000000000 0.01923077 0.1666667 NaN
6    0 0.000000000 0.00000000 0.0000000 NaN
10   0 0.002840909 0.00000000 0.0000000 NaN
20   0 0.002159827 0.00000000       NaN NaN
40 NaN 0.009433962 0.00000000       NaN NaN
(the first row and column are labels, not data)
produces a plot in which all of the row labelled 6 (all 0's and NaN) is
white.  This is the same color showing for the NaN values.

In contrast, all other 0 values appear as dark red.

Have I missed some subtlety, or is this a bug?

Ross Boylan


From ripley at stats.ox.ac.uk  Fri Nov  6 09:26:36 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 6 Nov 2009 08:26:36 +0000 (GMT)
Subject: [Rd] cascade option for dev.new?
In-Reply-To: <OF6458FA00.B17591F8-ON85257664.00555E98-85257664.00555E9A@american.edu>
References: <OF6458FA00.B17591F8-ON85257664.00555E98-85257664.00555E9A@american.edu>
Message-ID: <alpine.LFD.2.00.0911060814510.13184@gannet.stats.ox.ac.uk>

On Wed, 4 Nov 2009, John Nolan wrote:

> I frequently run scripts that generate multiple graphs.  Unless you 
> specify a specific window location, dev.new superimposes all new 
> graphics windows exactly on top of each other.  It would be nice to 
> have a "cascade=TRUE" option in dev.new to prevent windows from 
> being hidden.  A hasty approximation to this is the following 
> function:

dev.new just passes arguments on to the device selected.  *If* such 
an argument were appropriate, it would need to added to the screen 
devices, only some of which even have *pos arguments.

On the relatively few occasions I want multiple screeen devices open, 
I want to control their size and location in ways different from the 
defaults so would call X11() or quartz() directly.

If you find your suggestion has widespread support (and I've seen none 
so far), you are welcome to implement it on all relevant devices (and 
we don't even know your OS -- see the posting guide) and submit 
patches for consideration.

>
> # utility function to prevent overlapping plot windows
> cascade <- function( k=dev.cur(),x0=300,y0=50,dx=30,dy=30){
>  dev.new( xpos=x0+k*dx, ypos=y0+k*dy);
>  invisible() }
>
> x <- seq(-10,10,.1); y <- sin(x)
> plot(x,y,type='l',main='first plot')
> cascade()
> plot(x,y,type='l',main='second plot')
>
>
> John Nolan
> Math/Stat Dept.
> American University
>
>
>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From tlumley at u.washington.edu  Fri Nov  6 17:42:30 2009
From: tlumley at u.washington.edu (tlumley at u.washington.edu)
Date: Fri, 6 Nov 2009 08:42:30 -0800 (PST)
Subject: [Rd] A fix that for 'bquote' that may work  (PR#14031)
In-Reply-To: <20091105035524.BB272282EF59@mail.pubhealth.ku.dk>
Message-ID: <alpine.LRH.2.01.0911060842300.305@hymn12.u.washington.edu>

On Thu, 5 Nov 2009, suharto_anggono at yahoo.com wrote:

> This is a fix for 'bquote' that may work.
>
> function (expr, where =3D parent.frame())=20
> {
>    unquote <- function(e) {
>        if (length(e) <=3D 1 || !is.language(e))=20
>            e
>        else if (e[[1]] =3D=3D as.name("."))=20
>            eval(e[[2]], where)
>        else as.call(lapply(e, unquote))
>    }
>    unquote(substitute(expr))
> }

If you want to use bquote() on function definitions a better fix is

bquote <- function (expr, where = parent.frame())
{
     unquote <- function(e) {
         if (length(e) <= 1)
             e
         else if (e[[1]] == as.name("."))
             eval(e[[2]], where)
         else if (is.pairlist(e)){
             as.pairlist(lapply(e,unquote))
         }
         else as.call(lapply(e, unquote))
     }
     unquote(substitute(expr))
}

since that now allows substitution into default arguments, eg
   default<-1
   g<-b2quote(function(x,y=.(default)) x+y )



         -thomas

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


From romain.francois at dbmail.com  Sat Nov  7 11:24:18 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Sat, 07 Nov 2009 11:24:18 +0100
Subject: [Rd] getConnection, R_outpstream_st
Message-ID: <4AF54AD2.6020407@dbmail.com>

Hello,

I'm trying to use the limited connections api defined in Rinternals.h. I 
have code that looks like this (inspired from do_serializeToConn) :

SEXP serialize_to_connection( SEXP xp, SEXP connection ){

Rconnection con   ;
struct R_outpstream_st out;
R_pstream_format_t type = R_pstream_binary_format ;
SEXP (*hook)(SEXP, SEXP) = NULL ;
con = getConnection(Rf_asInteger(connection));
R_InitConnOutPStream(&out, con, type, 0, hook, R_NilValue );

return R_NilValue ;
}

The problem I have is that I cannot actually call getConnection since it 
is not part of the api. Is there another way to get the Rconnection that 
is associated with a number.

Many thanks.

Romain

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From gug at fnal.gov  Sat Nov  7 00:30:12 2009
From: gug at fnal.gov (gug at fnal.gov)
Date: Sat,  7 Nov 2009 00:30:12 +0100 (CET)
Subject: [Rd] Binning of integers with hist() function odd results (PR#14046)
Message-ID: <20091106233012.B2AB0282EF5A@mail.pubhealth.ku.dk>

Full_Name: Gerald Guglielmo
Version: 2.8.1 (2008-12-22)
OS: OSX Leopard
Submission from: (NULL) (131.225.103.35)


When I attempt to use the hist() function to bin integers the behavior seems
very odd as the bin boundary seems inconsistent across the various bins. For
some bins the upper boundary includes the next integer value, while in others it
does not. If I add 0.1 to every value, then the hist() binning behavior is what
I would normally expect. 

> h1<-hist(c(1,2,2,3,3,3,4,4,4,4,5,5,5,5,5))
> h1$mids
[1] 1.5 2.5 3.5 4.5
> h1$counts
[1] 3 3 4 5
> h2<-hist(c(1.1,2.1,2.1,3.1,3.1,3.1,4.1,4.1,4.1,4.1,5.1,5.1,5.1,5.1,5.1))
> h2$mids
[1] 1.5 2.5 3.5 4.5 5.5
> h2$counts
[1] 1 2 3 4 5

Naively I would have expected the same distribution of counts in the two cases,
but clearly that is not happening. This is a simple example to illustrate the
behavior, originally I noticed this while binning a large data sample where I
had set the breaks=c(0,24,1).


From christopher.masters at gmail.com  Fri Nov  6 15:49:54 2009
From: christopher.masters at gmail.com (Chris Masters)
Date: Fri, 6 Nov 2009 14:49:54 +0000
Subject: [Rd] Small patch to packages.R
Message-ID: <c1f3afcb0911060649s5fe0167do21a943a8e204cd63@mail.gmail.com>

Very small patch to packages.R

install.packages on an internal package repository that worked with 2.9
failed in 2.10

Problem:
> available.packages(contriburl="http://url.to.my/repo")
Error in f(res) : invalid subscript type 'list'

This occurred because the PACKAGES file had no dependency on R in the
Depends field on any of the packages. Got around it by adding "Depends: R
(>=2.7.0)" to the packages but it was still a regression from 2.9 behaviour.

Cheers

Chris

From Ted.Harding at manchester.ac.uk  Sat Nov  7 14:57:09 2009
From: Ted.Harding at manchester.ac.uk ( (Ted Harding))
Date: Sat, 07 Nov 2009 13:57:09 -0000 (GMT)
Subject: [Rd] Binning of integers with hist() function odd results (P
In-Reply-To: <20091106233012.B2AB0282EF5A@mail.pubhealth.ku.dk>
Message-ID: <XFMail.091107135709.Ted.Harding@manchester.ac.uk>

On 06-Nov-09 23:30:12, gug at fnal.gov wrote:
> Full_Name: Gerald Guglielmo
> Version: 2.8.1 (2008-12-22)
> OS: OSX Leopard
> Submission from: (NULL) (131.225.103.35)
> 
> When I attempt to use the hist() function to bin integers the behavior
> seems
> very odd as the bin boundary seems inconsistent across the various
> bins. For
> some bins the upper boundary includes the next integer value, while in
> others it
> does not. If I add 0.1 to every value, then the hist() binning behavior
> is what
> I would normally expect. 
> 
>> h1<-hist(c(1,2,2,3,3,3,4,4,4,4,5,5,5,5,5))
>> h1$mids
> [1] 1.5 2.5 3.5 4.5
>> h1$counts
> [1] 3 3 4 5
>> h2<-hist(c(1.1,2.1,2.1,3.1,3.1,3.1,4.1,4.1,4.1,4.1,5.1,5.1,5.1,5.1,5.1)
>> )
>> h2$mids
> [1] 1.5 2.5 3.5 4.5 5.5
>> h2$counts
> [1] 1 2 3 4 5
> 
> Naively I would have expected the same distribution of counts in the
> two cases, but clearly that is not happening. This is a simple example
> to illustrate the behavior, originally I noticed this while binning a
> large data sample where I had set the breaks=c(0,24,1).

This is the correct intended bahaviour. By default, values which are
exactly on the boundary between two bins are counted in the bin which
is just below the boundary value. Except that the bottom-most break
will count values on it into the bin just above it.

Hence 1,2,2 all go into the [1,2] bin; 3,3,3 into (2,3];
4,4,4,4 into (3,4]; and 5,5,5,5,5 into (4,5]. Hence the counts 3,3,4,5.

Since you did not set breaks in
  h1<-hist(c(1,2,2,3,3,3,4,4,4,4,5,5,5,5,5)),
they were set using the default method, and you can see what they are
with

  h1$breaks
  [1] 1 2 3 4 5

When you add 0.1 to each value, you push the values on the boundaries
up into the next bin. Now each value is inside its bin, and not on
any boundary. Hence 1.1 is in (1,2]; 2.1,2.1 in (2,3];
3.1,3.1,3.1 in (3,4]; 4.1,4.1,4.1,4.1 in (4,5]; and
5.1,5.1,5.1,5.1,5.1 in (5,6], giving counts 1,2,3,4,5 as you observe.

The default behaviour described above is defined by the default options

  include.lowest = TRUE, right = TRUE

where:

include.lowest: logical; if 'TRUE', an 'x[i]' equal to the 'breaks'
          value will be included in the first (or last, for 'right =
          FALSE') bar.  This will be ignored (with a warning) unless
          'breaks' is a vector.

   right: logical; if 'TRUE', the histograms cells are right-closed
          (left open) intervals.

See '?hist'. You can change this behaviour by shanging the options.

Hoping this helps,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at manchester.ac.uk>
Fax-to-email: +44 (0)870 094 0861
Date: 07-Nov-09                                       Time: 13:57:07
------------------------------ XFMail ------------------------------


From ted.harding at manchester.ac.uk  Sat Nov  7 15:00:09 2009
From: ted.harding at manchester.ac.uk (ted.harding at manchester.ac.uk)
Date: Sat,  7 Nov 2009 15:00:09 +0100 (CET)
Subject: [Rd] Binning of integers with hist() function odd results (P
	(PR#14047)
Message-ID: <20091107140009.F3B56282EF42@mail.pubhealth.ku.dk>

On 06-Nov-09 23:30:12, gug at fnal.gov wrote:
> Full_Name: Gerald Guglielmo
> Version: 2.8.1 (2008-12-22)
> OS: OSX Leopard
> Submission from: (NULL) (131.225.103.35)
> 
> When I attempt to use the hist() function to bin integers the behavior
> seems
> very odd as the bin boundary seems inconsistent across the various
> bins. For
> some bins the upper boundary includes the next integer value, while in
> others it
> does not. If I add 0.1 to every value, then the hist() binning behavior
> is what
> I would normally expect. 
> 
>> h1<-hist(c(1,2,2,3,3,3,4,4,4,4,5,5,5,5,5))
>> h1$mids
> [1] 1.5 2.5 3.5 4.5
>> h1$counts
> [1] 3 3 4 5
>> h2<-hist(c(1.1,2.1,2.1,3.1,3.1,3.1,4.1,4.1,4.1,4.1,5.1,5.1,5.1,5.1,5.1)
>> )
>> h2$mids
> [1] 1.5 2.5 3.5 4.5 5.5
>> h2$counts
> [1] 1 2 3 4 5
> 
> Naively I would have expected the same distribution of counts in the
> two cases, but clearly that is not happening. This is a simple example
> to illustrate the behavior, originally I noticed this while binning a
> large data sample where I had set the breaks=c(0,24,1).

This is the correct intended bahaviour. By default, values which are
exactly on the boundary between two bins are counted in the bin which
is just below the boundary value. Except that the bottom-most break
will count values on it into the bin just above it.

Hence 1,2,2 all go into the [1,2] bin; 3,3,3 into (2,3];
4,4,4,4 into (3,4]; and 5,5,5,5,5 into (4,5]. Hence the counts 3,3,4,5.

Since you did not set breaks in
  h1<-hist(c(1,2,2,3,3,3,4,4,4,4,5,5,5,5,5)),
they were set using the default method, and you can see what they are
with

  h1$breaks
  [1] 1 2 3 4 5

When you add 0.1 to each value, you push the values on the boundaries
up into the next bin. Now each value is inside its bin, and not on
any boundary. Hence 1.1 is in (1,2]; 2.1,2.1 in (2,3];
3.1,3.1,3.1 in (3,4]; 4.1,4.1,4.1,4.1 in (4,5]; and
5.1,5.1,5.1,5.1,5.1 in (5,6], giving counts 1,2,3,4,5 as you observe.

The default behaviour described above is defined by the default options

  include.lowest = TRUE, right = TRUE

where:

include.lowest: logical; if 'TRUE', an 'x[i]' equal to the 'breaks'
          value will be included in the first (or last, for 'right =
          FALSE') bar.  This will be ignored (with a warning) unless
          'breaks' is a vector.

   right: logical; if 'TRUE', the histograms cells are right-closed
          (left open) intervals.

See '?hist'. You can change this behaviour by shanging the options.

Hoping this helps,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at manchester.ac.uk>
Fax-to-email: +44 (0)870 094 0861
Date: 07-Nov-09                                       Time: 13:57:07
------------------------------ XFMail ------------------------------


From murdoch at stats.uwo.ca  Sat Nov  7 15:47:18 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 07 Nov 2009 09:47:18 -0500
Subject: [Rd] Small patch to packages.R
In-Reply-To: <c1f3afcb0911060649s5fe0167do21a943a8e204cd63@mail.gmail.com>
References: <c1f3afcb0911060649s5fe0167do21a943a8e204cd63@mail.gmail.com>
Message-ID: <4AF58876.8030602@stats.uwo.ca>

On 06/11/2009 9:49 AM, Chris Masters wrote:
> Very small patch to packages.R
> 
> install.packages on an internal package repository that worked with 2.9
> failed in 2.10
> 
> Problem:
>> available.packages(contriburl="http://url.to.my/repo")
> Error in f(res) : invalid subscript type 'list'
> 
> This occurred because the PACKAGES file had no dependency on R in the
> Depends field on any of the packages. Got around it by adding "Depends: R
> (>=2.7.0)" to the packages but it was still a regression from 2.9 behaviour.

Thanks.  We already had a patch under way for this one, but it hadn't 
made it into the code yet.  (See the thread "Re: [Rd] error in 
install.packages() (PR#14042)".)  It has also led to some discussion of 
changes to sapply, but those will be for 2.11.0, not R-patched.

Duncan


From gug at fnal.gov  Sat Nov  7 16:04:27 2009
From: gug at fnal.gov (Gerald Guglielmo)
Date: Sat, 07 Nov 2009 09:04:27 -0600
Subject: [Rd] Binning of integers with hist() function odd results (P
In-Reply-To: <XFMail.091107135709.Ted.Harding@manchester.ac.uk>
References: <XFMail.091107135709.Ted.Harding@manchester.ac.uk>
Message-ID: <77C9801C-65D1-4BAC-841A-240D5ADC3744@fnal.gov>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091107/c1d5f4c6/attachment.pl>

From gug at fnal.gov  Sat Nov  7 16:05:09 2009
From: gug at fnal.gov (gug at fnal.gov)
Date: Sat,  7 Nov 2009 16:05:09 +0100 (CET)
Subject: [Rd] Binning of integers with hist() function odd results (P
	(PR#14048)
Message-ID: <20091107150509.6C381282EF42@mail.pubhealth.ku.dk>

Hi,
    Thank you for responding quickly and explaining the behavior. By  
adding "include.lowest=TRUE,right=FALSE" and manually including breaks  
that resolved the simple test case. Next I updated my more complex  
data set, which already had manually defined breaks, and that resolved  
my issues there too. I have now gone in and updated all my functions  
which use hist() so I hopefully won't forget this in the future.

On Nov 7, 2009, at 7:57 AM, Ted Harding wrote:

> On 06-Nov-09 23:30:12, gug at fnal.gov wrote:
>> Full_Name: Gerald Guglielmo
>> Version: 2.8.1 (2008-12-22)
>> OS: OSX Leopard
>> Submission from: (NULL) (131.225.103.35)
>>
>> When I attempt to use the hist() function to bin integers the  
>> behavior
>> seems
>> very odd as the bin boundary seems inconsistent across the various
>> bins. For
>> some bins the upper boundary includes the next integer value, while  
>> in
>> others it
>> does not. If I add 0.1 to every value, then the hist() binning  
>> behavior
>> is what
>> I would normally expect.
>>
>>> h1<-hist(c(1,2,2,3,3,3,4,4,4,4,5,5,5,5,5))
>>> h1$mids
>> [1] 1.5 2.5 3.5 4.5
>>> h1$counts
>> [1] 3 3 4 5
>>> h2<- 
>>> hist(c(1.1,2.1,2.1,3.1,3.1,3.1,4.1,4.1,4.1,4.1,5.1,5.1,5.1,5.1,5.1)
>>> )
>>> h2$mids
>> [1] 1.5 2.5 3.5 4.5 5.5
>>> h2$counts
>> [1] 1 2 3 4 5
>>
>> Naively I would have expected the same distribution of counts in the
>> two cases, but clearly that is not happening. This is a simple  
>> example
>> to illustrate the behavior, originally I noticed this while binning a
>> large data sample where I had set the breaks=c(0,24,1).
>
> This is the correct intended bahaviour. By default, values which are
> exactly on the boundary between two bins are counted in the bin which
> is just below the boundary value. Except that the bottom-most break
> will count values on it into the bin just above it.
>
> Hence 1,2,2 all go into the [1,2] bin; 3,3,3 into (2,3];
> 4,4,4,4 into (3,4]; and 5,5,5,5,5 into (4,5]. Hence the counts  
> 3,3,4,5.
>
> Since you did not set breaks in
>  h1<-hist(c(1,2,2,3,3,3,4,4,4,4,5,5,5,5,5)),
> they were set using the default method, and you can see what they are
> with
>
>  h1$breaks
>  [1] 1 2 3 4 5
>
> When you add 0.1 to each value, you push the values on the boundaries
> up into the next bin. Now each value is inside its bin, and not on
> any boundary. Hence 1.1 is in (1,2]; 2.1,2.1 in (2,3];
> 3.1,3.1,3.1 in (3,4]; 4.1,4.1,4.1,4.1 in (4,5]; and
> 5.1,5.1,5.1,5.1,5.1 in (5,6], giving counts 1,2,3,4,5 as you observe.
>
> The default behaviour described above is defined by the default  
> options
>
>  include.lowest = TRUE, right = TRUE
>
> where:
>
> include.lowest: logical; if 'TRUE', an 'x[i]' equal to the 'breaks'
>          value will be included in the first (or last, for 'right =
>          FALSE') bar.  This will be ignored (with a warning) unless
>          'breaks' is a vector.
>
>   right: logical; if 'TRUE', the histograms cells are right-closed
>          (left open) intervals.
>
> See '?hist'. You can change this behaviour by shanging the options.
>
> Hoping this helps,
> Ted.
>
> --------------------------------------------------------------------
> E-Mail: (Ted Harding) <Ted.Harding at manchester.ac.uk>
> Fax-to-email: +44 (0)870 094 0861
> Date: 07-Nov-09                                       Time: 13:57:07
> ------------------------------ XFMail ------------------------------

-- 
-Jerry->
gug at fnal.gov
Pepe's Theory of everything: "Under the right circumstances, things  
happen."


	[[alternative HTML version deleted]]


From p.dalgaard at biostat.ku.dk  Sat Nov  7 17:27:35 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sat, 07 Nov 2009 17:27:35 +0100
Subject: [Rd] Binning of integers with hist() function odd results
	(PR#14046)
In-Reply-To: <20091106233012.B2AB0282EF5A@mail.pubhealth.ku.dk>
References: <20091106233012.B2AB0282EF5A@mail.pubhealth.ku.dk>
Message-ID: <4AF59FF7.2090905@biostat.ku.dk>

gug at fnal.gov wrote:
> Full_Name: Gerald Guglielmo
> Version: 2.8.1 (2008-12-22)
> OS: OSX Leopard
> Submission from: (NULL) (131.225.103.35)
> 
> 
> When I attempt to use the hist() function to bin integers the behavior seems
> very odd as the bin boundary seems inconsistent across the various bins. For
> some bins the upper boundary includes the next integer value, while in others it
> does not. If I add 0.1 to every value, then the hist() binning behavior is what
> I would normally expect. 
> 
>> h1<-hist(c(1,2,2,3,3,3,4,4,4,4,5,5,5,5,5))
>> h1$mids
> [1] 1.5 2.5 3.5 4.5
>> h1$counts
> [1] 3 3 4 5
>> h2<-hist(c(1.1,2.1,2.1,3.1,3.1,3.1,4.1,4.1,4.1,4.1,5.1,5.1,5.1,5.1,5.1))
>> h2$mids
> [1] 1.5 2.5 3.5 4.5 5.5
>> h2$counts
> [1] 1 2 3 4 5
> 
> Naively I would have expected the same distribution of counts in the two cases,
> but clearly that is not happening. This is a simple example to illustrate the
> behavior, originally I noticed this while binning a large data sample where I
> had set the breaks=c(0,24,1).

This is as documented. See the include.lowest argument. Annoying, but 
not a bug.

(It is arguably a design error that hist() is looking for "pretty" 
breakpoints rather than pretty midpoints, or maybe something more 
advanced to handle cases where the data are effectively tied to a 
lattice. It's been around "forever", though.)

-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From romain.francois at dbmail.com  Sun Nov  8 10:14:18 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Sun, 08 Nov 2009 10:14:18 +0100
Subject: [Rd] getConnection, R_outpstream_st
In-Reply-To: <4AF54AD2.6020407@dbmail.com>
References: <4AF54AD2.6020407@dbmail.com>
Message-ID: <4AF68BEA.2000507@dbmail.com>

Hello,

Maybe I should give more background about what we are trying to do with
this. We (Dirk, Saptarshi and I) are interfacing R with the protocol
buffer C++ library from google [1,2] .

protocol buffers are google's data interchange format, designed to be
efficient (much more efficient than XML) and language neutral.

Google supports bindings to java, c++ and python, and there are dozens
of third party bindings (perl, C, C#, ...) available. We are doing the
one for R, allowing to create and manipulate protocol buffer messages
from R. For example with this message type :

package tutorial ;
message Person {
   required int32 id = 1;
   required string name = 2;
   optional string email = 3;
}

you can create a message like this :

message <- new( tutorial.Person, id = 0, name = "Romain", email =
"francoisromain at free.fr" )

We can also read/write messages from/to files :

tutorial.Person$read( "somefile" )
serialize( message, "somefile" )

Now we'd like to be able to use the extensive IO support R provides
(connections) and essentially read and write messages from and to
arbitrary binary connections. Practically, it means calling this method
of the google::protobuf::Message c++ class [3,4]

bool Message::ParseFromIstream(istream * input)
bool Message::SerializeToOstream( ostream * output) const

This means we need to be able to build istream and ostream pointers
working together with a binary R connection. It seemed to me from
reading the code of serialize.c in R that we would be able to achieve
this by sort of wrapping R_inpstream_st and R_outpstream_st as c++
streams.

The only thing I cannot figure out at that point is how to access a
connection pointer (Rconnection). From this :

#ifdef NEED_CONNECTION_PSTREAMS
/* The connection interface is not yet available to packages.  To
    allow limited use of connection pointers this defines the opaque
    pointer type. */
#ifndef HAVE_RCONNECTION_TYPEDEF
typedef struct Rconn  *Rconnection;
#define HAVE_RCONNECTION_TYPEDEF
#endif
void R_InitConnOutPStream(R_outpstream_t stream, Rconnection con,
			  R_pstream_format_t type, int version,
			  SEXP (*phook)(SEXP, SEXP), SEXP pdata);
void R_InitConnInPStream(R_inpstream_t stream,  Rconnection con,
			 R_pstream_format_t type,
			 SEXP (*phook)(SEXP, SEXP), SEXP pdata);
#endif

I get that if I do have a Rconnection, then I can initialize a
R_outpstream_t and just use this, but I can't find a way to get one. The
internal "getConnection" seems to do just this, but it is not accessible
from packages.

We'd appreciate any help.

Romain


[1] http://r-forge.r-project.org/projects/rprotobuf/
[2] http://code.google.com/p/protobuf/
[3]
http://code.google.com/apis/protocolbuffers/docs/reference/cpp/google.protobuf.message.html#Message.ParseFromIstream.details
[4]
http://code.google.com/apis/protocolbuffers/docs/reference/cpp/google.protobuf.message.html#Message.SerializeToOstream.details


On 11/07/2009 11:24 AM, Romain Francois wrote:
> Hello,
>
> I'm trying to use the limited connections api defined in
> Rinternals.h. I have code that looks like this (inspired from
> do_serializeToConn) :
>
> SEXP serialize_to_connection( SEXP xp, SEXP connection ){
>
> Rconnection con ; struct R_outpstream_st out; R_pstream_format_t type
> = R_pstream_binary_format ; SEXP (*hook)(SEXP, SEXP) = NULL ; con =
> getConnection(Rf_asInteger(connection)); R_InitConnOutPStream(&out,
> con, type, 0, hook, R_NilValue );
>
> return R_NilValue ; }
>
> The problem I have is that I cannot actually call getConnection since
> it is not part of the api. Is there another way to get the
> Rconnection that is associated with a number.
>
> Many thanks.
>
> Romain
>


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From murdoch at stats.uwo.ca  Sun Nov  8 13:49:27 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 08 Nov 2009 07:49:27 -0500
Subject: [Rd] RSiteSearch and my R site
In-Reply-To: <20091108122359.GA25535@psych.upenn.edu>
References: <20091107023703.GA16844@psych.upenn.edu>
	<20091107024213.GA17117@psych.upenn.edu>
	<4AF52865.5060303@dbmail.com> <4AF56F34.5080501@stats.uwo.ca>
	<20091107131253.GA8497@psych.upenn.edu>
	<4AF5A249.7090005@dbmail.com> <4AF5A5D5.7030807@stats.uwo.ca>
	<4AF5B4BA.7050108@prodsyse.com>
	<20091107181036.GA20998@psych.upenn.edu>
	<4AF6144B.5040203@stats.uwo.ca>
	<20091108122359.GA25535@psych.upenn.edu>
Message-ID: <4AF6BE57.9030007@stats.uwo.ca>

On 08/11/2009 7:23 AM, Jonathan Baron wrote:
> Duncan,
> 
> This is not a problem with anything you just did, but I'm writing you
> and ccing r-devel, in case I am allowed to post there (which I think
> I'm not).

R-devel is a public list, no problem posting here.

> The problem (in case this gets to r-devel) is that I need to have
> static html files for all packages, and static html ONLY for new
> packages.  You have fixed the latter problem in the latest version of
> R-devel (11/08/09), in "R CMD INSTALL".

Actually that fix broke some other things, so it's not in place at the 
moment.  We'll get something there, but it might be different from what 
I did yesterday.

 >   But when I install R-devel
> from source I cannot get all the html files.  The configure script has
> an option for --enable-prebuilt-html, and this does build the static
> html files for about half of the standard packages!  These include
> base, utils, tools, ..., but they do not include datasets, boot,
> cluster, ...

> I can of course work around this by using your new version of R CMD
> INSTALL after installing everything else.  It does not wipe out the
> executables that are already installed (I think).  But this might
> actually be a bug that was not intended.

Yes, it sounds like it.

Duncan


From baron at psych.upenn.edu  Sun Nov  8 13:23:59 2009
From: baron at psych.upenn.edu (Jonathan Baron)
Date: Sun, 8 Nov 2009 07:23:59 -0500
Subject: [Rd] RSiteSearch and my R site
In-Reply-To: <4AF6144B.5040203@stats.uwo.ca>
References: <20091107023703.GA16844@psych.upenn.edu>
	<20091107024213.GA17117@psych.upenn.edu>
	<4AF52865.5060303@dbmail.com> <4AF56F34.5080501@stats.uwo.ca>
	<20091107131253.GA8497@psych.upenn.edu>
	<4AF5A249.7090005@dbmail.com> <4AF5A5D5.7030807@stats.uwo.ca>
	<4AF5B4BA.7050108@prodsyse.com>
	<20091107181036.GA20998@psych.upenn.edu>
	<4AF6144B.5040203@stats.uwo.ca>
Message-ID: <20091108122359.GA25535@psych.upenn.edu>

Duncan,

This is not a problem with anything you just did, but I'm writing you
and ccing r-devel, in case I am allowed to post there (which I think
I'm not).

The problem (in case this gets to r-devel) is that I need to have
static html files for all packages, and static html ONLY for new
packages.  You have fixed the latter problem in the latest version of
R-devel (11/08/09), in "R CMD INSTALL".  But when I install R-devel
from source I cannot get all the html files.  The configure script has
an option for --enable-prebuilt-html, and this does build the static
html files for about half of the standard packages!  These include
base, utils, tools, ..., but they do not include datasets, boot,
cluster, ...

I can of course work around this by using your new version of R CMD
INSTALL after installing everything else.  It does not wipe out the
executables that are already installed (I think).  But this might
actually be a bug that was not intended.

Jon
-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron


From HDoran at air.org  Sun Nov  8 21:26:28 2009
From: HDoran at air.org (Doran, Harold)
Date: Sun, 8 Nov 2009 15:26:28 -0500
Subject: [Rd] Summary methods
Message-ID: <C0772C7568B5374481D2F8A880E9BBDF5B4E0418@DC1EX07CMS.air.org>

I've defined the following for objects of a class called jml

summary.jml <- function(object, ...){
	tab <- cbind(Estimate = coef(object),
			StdError = object$se,
			Infit = object$Infit, 
			Outfit = object$Outfit)	
	res <- list(call = object$call, coefficients = tab, 
			N = nrow(object$Data), iter = object$Iterations)
	class(res) <- "summary.jml"
	res
}

print.summary.jml <- function(x, ...){
   cat("Call:\n")
   print(x$call)
   cat("\n")
   cat("Number of iterations to completion:", x$iter, "\n")
   cat("Number of individuals used in estimation:", x$N, "\n")
   cat("\n")
   printCoefmat(x$coefficients)
   }

Use of the methods on a fitted jml object yields:

> summary(aa)
Call:
jml2.formula(formula = ~V1 + V2 + V3 + V4 + V5 + V6 + V7 + V8 + 
    V9 + V10, data = itemDat, bias = F)

Number of iterations to completion: 6 
Number of individuals used in estimation: 486 

                 StdError     Infit Outfit
 [1,] -0.380346  0.103002  1.007466 0.9935
 [2,]  0.025939  0.104052  1.003050 1.0083
 [3,]  2.563784  0.171174  0.941453 0.9414
 [4,] -2.930519  0.156923  1.010786 1.0515
 [5,]  1.139241  0.118932  0.978101 1.1424
 [6,] -1.461751  0.111563  1.030612 1.2709
 [7,]  0.486202  0.107986  1.008374 1.0394
 [8,] -0.497102  0.103117  0.961431 0.9012
 [9,] -0.486478  0.103099  1.001752 0.9829
[10,]  1.541029  0.129214  1.010011 0.9150

Two questions. First, why is the name of the first column empty instead of "Estimate" as I have specified in the summary method? Second, I am struggling to get the row names of the coefficients to align with the formula call. For example, instead of 

                 StdError     Infit Outfit
 [1,] -0.380346  0.103002  1.007466 0.9935

I would prefer

                 StdError     Infit Outfit
 V1 -0.380346  0.103002  1.007466 0.9935

This also occurs in my print method

print.jml <- function(x, digits = 2, ...){
   cat("\nCall:\n", deparse(x$call), "\n\n", sep = "")
   cat("Coefficients:\n")
		print.default(format(coef(x), digits = digits), print.gap=2,
		quote = FALSE)
   invisible(x)
   }

Which produces

> win
Call:
jml2.default(dat = itemDat[, 1:10])

Coefficients:
             [,1]
 [1,] -0.38034638
 [2,]  0.02593937
 [3,]  2.56378422
 [4,] -2.93051899
 [5,]  1.13924076
 [6,] -1.46175119
 [7,]  0.48620247
 [8,] -0.49710150
 [9,] -0.48647770
[10,]  1.54102895

Thank you
Harold

> sessionInfo()
R version 2.10.0 (2009-10-26) 
i386-pc-mingw32 

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252   
[3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] MASS_7.3-3         lme4_0.999375-32   Matrix_0.999375-31 lattice_0.17-26   
[5] MiscPsycho_1.4     statmod_1.4.1     

loaded via a namespace (and not attached):
[1] grid_2.10.0  plink_1.2-2  tools_2.10.0

From djsamperi at earthlink.net  Mon Nov  9 02:48:09 2009
From: djsamperi at earthlink.net (Dominick Samperi)
Date: Sun, 08 Nov 2009 20:48:09 -0500
Subject: [Rd] RcppTemplate
Message-ID: <4AF774D9.3070603@earthlink.net>

The Rcpp R/C++ object mapping library and package template has
been updated on CRAN in package RcppTemplate. It allows you
to work with R objects like data frames and zoo time series in
C++ programs. R can call C++ functions, and C++ objects can
call R functions, with parameters and return values of any
of the most commonly used R data types (data frames,
factors, time series, etc.). By using as.zoo, as.irts, as.xts, etc. it
is possible to work with the other commonly used time series
on the C++ side. The main design goal was improved performance.

Dominick


From arne.henningsen at googlemail.com  Mon Nov  9 11:29:54 2009
From: arne.henningsen at googlemail.com (Arne Henningsen)
Date: Mon, 9 Nov 2009 11:29:54 +0100
Subject: [Rd] Bug in all.equal() or in the plm package
Message-ID: <ee2a35a60911090229q39087424u92fea71d6dbdb78c@mail.gmail.com>

Hi!

I noticed that there is a (minor) bug either the command all.equal()
or in the "plm" package. I demonstrate this using an example taken
from the documentation of plm():

======================================
R> data("Produc", package="plm")
R> zz <- plm(log(gsp)~log(pcap)+log(pc)+log(emp)+unemp,
+   data=Produc, index=c("state","year"))
R> all.equal(zz,zz)
[1] TRUE
Warning message:
In if (length(target) != length(current)) return(paste("target,
current differ in having response: ",  :
  the condition has length > 1 and only the first element will be used
> all.equal(zz$formula,zz$formula)
[1] TRUE
Warning message:
In if (length(target) != length(current)) return(paste("target,
current differ in having response: ",  :
  the condition has length > 1 and only the first element will be used
> class(zz$formula)
[1] "pFormula" "Formula"  "formula"
======================================

The last commands show that the warning message comes from comparing
the elements "formula", which are of the class "pFormula" (inheriting
from "Formula" and "formula"). It would be great if this issue could
be fixed in the future.

Thanks a lot,
Arne

-- 
Arne Henningsen
http://www.arne-henningsen.name


From murdoch at stats.uwo.ca  Mon Nov  9 12:24:05 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 09 Nov 2009 06:24:05 -0500
Subject: [Rd] Bug in all.equal() or in the plm package
In-Reply-To: <ee2a35a60911090229q39087424u92fea71d6dbdb78c@mail.gmail.com>
References: <ee2a35a60911090229q39087424u92fea71d6dbdb78c@mail.gmail.com>
Message-ID: <4AF7FBD5.3090706@stats.uwo.ca>

Arne Henningsen wrote:
> Hi!
>
> I noticed that there is a (minor) bug either the command all.equal()
> or in the "plm" package. I demonstrate this using an example taken
> from the documentation of plm():
>   

I'm not sure this is a bug, but I'd call it at least a design flaw.  The 
problem is that the length.Formula method in the Formula package (which 
plm depends on) returns a vector of length 2.  Now there's nothing in R 
that requires length() to return a scalar, but all.equal assumes it 
does, and I'd guess there are lots of other places this assumption is made.

Duncan Murdoch
> ======================================
> R> data("Produc", package="plm")
> R> zz <- plm(log(gsp)~log(pcap)+log(pc)+log(emp)+unemp,
> +   data=Produc, index=c("state","year"))
> R> all.equal(zz,zz)
> [1] TRUE
> Warning message:
> In if (length(target) != length(current)) return(paste("target,
> current differ in having response: ",  :
>   the condition has length > 1 and only the first element will be used
>   
>> all.equal(zz$formula,zz$formula)
>>     
> [1] TRUE
> Warning message:
> In if (length(target) != length(current)) return(paste("target,
> current differ in having response: ",  :
>   the condition has length > 1 and only the first element will be used
>   
>> class(zz$formula)
>>     
> [1] "pFormula" "Formula"  "formula"
> ======================================
>
> The last commands show that the warning message comes from comparing
> the elements "formula", which are of the class "pFormula" (inheriting
> from "Formula" and "formula"). It would be great if this issue could
> be fixed in the future.
>
> Thanks a lot,
> Arne
>
>


From dsamperi at DecisionSynergy.com  Mon Nov  9 02:36:25 2009
From: dsamperi at DecisionSynergy.com (Dominick Samperi)
Date: Sun, 08 Nov 2009 20:36:25 -0500
Subject: [Rd] RcppTemplate
Message-ID: <4AF77219.3080208@DecisionSynergy.com>

The Rcpp R/C++ object mapping library and package template has
been updated on CRAN in package RcppTemplate. It allows you
to work with R objects like data frames and zoo time series in
C++ programs. R can call C++ functions, and C++ objects can
call R functions, with parameters and return values of any
of the most commonly used R data types (data frames,
factors, time series, etc.). By using as.zoo, as.irts, as.xts, etc. it
is possible to work with the other commonly used time series
on the C++ side. The main design goal was improved performance.

Dominick


From romain.francois at dbmail.com  Mon Nov  9 13:39:39 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Mon, 09 Nov 2009 13:39:39 +0100
Subject: [Rd] \\signature macro generated by promptMethods
Message-ID: <4AF80D8B.1060205@dbmail.com>

Hello,

promptMethods generate a macro for signatures, but the macro does not 
exist in the Rd parser.

 > setClass("track",
+          representation(x="numeric", y="numeric"))
[1] "track"
 > setGeneric("foo", function(x){ standardGeneric("foo") } )
[1] "foo"
 > setMethod( "foo", "track", function(x){ NULL } )
[1] "foo"
 > promptMethods( "foo" )
A shell of methods documentation has been written to the file
?foo-methods.Rd?.
 > writeLines( readLines( "foo-methods.Rd" ) )
\name{foo-methods}
\docType{methods}
\alias{foo-methods}
\alias{foo,track-method}
\title{ ~~ Methods for Function foo  ~~}
\description{
  ~~ Methods for function \code{foo}  ~~
}
\section{Methods}{
\describe{
\item{\code{\signature(x = "track")}}{ ~~describe this method here }
}}
\keyword{methods}
\keyword{ ~~ other possible keyword(s)}

Romain

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/EAD5 : LondonR slides
|- http://tr.im/BcPw : celebrating R commit #50000
`- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc


From murdoch at stats.uwo.ca  Mon Nov  9 14:12:12 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 09 Nov 2009 08:12:12 -0500
Subject: [Rd] \\signature macro generated by promptMethods
In-Reply-To: <4AF80D8B.1060205@dbmail.com>
References: <4AF80D8B.1060205@dbmail.com>
Message-ID: <4AF8152C.80700@stats.uwo.ca>

On 09/11/2009 7:39 AM, Romain Francois wrote:
> Hello,
> 
> promptMethods generate a macro for signatures, but the macro does not 
> exist in the Rd parser.

Right, that's not supposed to be a macro.  See ?cbind2 for an example,

\item{\code{signature(x = "ANY", y = "ANY")}}{the default method
       using \R's internal code.}

Duncan Murdoch


> 
>  > setClass("track",
> +          representation(x="numeric", y="numeric"))
> [1] "track"
>  > setGeneric("foo", function(x){ standardGeneric("foo") } )
> [1] "foo"
>  > setMethod( "foo", "track", function(x){ NULL } )
> [1] "foo"
>  > promptMethods( "foo" )
> A shell of methods documentation has been written to the file
> ?foo-methods.Rd?.
>  > writeLines( readLines( "foo-methods.Rd" ) )
> \name{foo-methods}
> \docType{methods}
> \alias{foo-methods}
> \alias{foo,track-method}
> \title{ ~~ Methods for Function foo  ~~}
> \description{
>   ~~ Methods for function \code{foo}  ~~
> }
> \section{Methods}{
> \describe{
> \item{\code{\signature(x = "track")}}{ ~~describe this method here }
> }}
> \keyword{methods}
> \keyword{ ~~ other possible keyword(s)}
> 
> Romain
>


From murdoch at stats.uwo.ca  Mon Nov  9 15:22:58 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 09 Nov 2009 09:22:58 -0500
Subject: [Rd] \\signature macro generated by promptMethods
In-Reply-To: <4AF8152C.80700@stats.uwo.ca>
References: <4AF80D8B.1060205@dbmail.com> <4AF8152C.80700@stats.uwo.ca>
Message-ID: <4AF825C2.5080200@stats.uwo.ca>

On 11/9/2009 8:12 AM, Duncan Murdoch wrote:
> On 09/11/2009 7:39 AM, Romain Francois wrote:
>> Hello,
>> 
>> promptMethods generate a macro for signatures, but the macro does not 
>> exist in the Rd parser.
> 
> Right, that's not supposed to be a macro.  See ?cbind2 for an example,
> 
> \item{\code{signature(x = "ANY", y = "ANY")}}{the default method
>        using \R's internal code.}

promptMethods() is now fixed in R-devel and R-patched.

Duncan Murdoch

> 
> Duncan Murdoch
> 
> 
>> 
>>  > setClass("track",
>> +          representation(x="numeric", y="numeric"))
>> [1] "track"
>>  > setGeneric("foo", function(x){ standardGeneric("foo") } )
>> [1] "foo"
>>  > setMethod( "foo", "track", function(x){ NULL } )
>> [1] "foo"
>>  > promptMethods( "foo" )
>> A shell of methods documentation has been written to the file
>> ?foo-methods.Rd?.
>>  > writeLines( readLines( "foo-methods.Rd" ) )
>> \name{foo-methods}
>> \docType{methods}
>> \alias{foo-methods}
>> \alias{foo,track-method}
>> \title{ ~~ Methods for Function foo  ~~}
>> \description{
>>   ~~ Methods for function \code{foo}  ~~
>> }
>> \section{Methods}{
>> \describe{
>> \item{\code{\signature(x = "track")}}{ ~~describe this method here }
>> }}
>> \keyword{methods}
>> \keyword{ ~~ other possible keyword(s)}
>> 
>> Romain
>>
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From arnima at hafro.is  Mon Nov  9 16:35:10 2009
From: arnima at hafro.is (arnima at hafro.is)
Date: Mon,  9 Nov 2009 16:35:10 +0100 (CET)
Subject: [Rd] Alphanumeric tools::file_path_sans_ext() (PR#14050)
Message-ID: <20091109153510.B9F7F282EF57@mail.pubhealth.ku.dk>

The file_path_sans_ext() function in the 'tools' package does not handle 
alphanumeric file extensions correctly:

   require(tools)
   file_path_sans_ext("song.txt")  # song, correct
   file_path_sans_ext("song.mp3")  # song.mp3, wrong

The help page states that "only purely alphanumeric extensions are 
recognized", which I had expected. To fulfill this, the function body 
should be

   sub("([^.]+)\\.[[:alnum:]]+$", "\\1", x)

instead of the current definition:

   sub("([^.]+)\\.[[:alpha:]]+$", "\\1", x)

Thanks,

Arni


From wdunlap at tibco.com  Mon Nov  9 22:38:26 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Mon, 9 Nov 2009 13:38:26 -0800
Subject: [Rd] Negative integer subscripts in [[?
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D700021ECBBC@NA-PA-VBE03.na.tibco.com>

Should negative subscripts be outlawed in
   x[[subscript]]
?  

Currently, if subscript is a scalar then it can only
be negative if length(x)==1 (otherwise [[ throws an
error).  If length(subscript)>1 then it gets treated
as an attempt to recursively extract an element of
a nested list.

> list(10,20)[[-1]] # get the last element out of 2
[1] 20
> list(10,20,30)[[-(1:2)]] # get the last of 3?  No.
Error in list(10, 20, 30)[[-(1:2)]] :
  attempt to select more than one element
> list(10,list(20,30))[[-c(1:2)]] # see how recursive subscripting is
done
[1] 20

If negative subscripts were not allowed in [[ then 
there might be a little less confusion about [[.

(If recursive subscripting were done by a list instead
of by an integer or character vector there might be
less confusion and it would be more flexible.)


Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com 


From jmc at r-project.org  Mon Nov  9 23:00:17 2009
From: jmc at r-project.org (John Chambers)
Date: Mon, 09 Nov 2009 14:00:17 -0800
Subject: [Rd] Negative integer subscripts in [[?
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D700021ECBBC@NA-PA-VBE03.na.tibco.com>
References: <77EB52C6DD32BA4D87471DCD70C8D700021ECBBC@NA-PA-VBE03.na.tibco.com>
Message-ID: <4AF890F1.8020402@r-project.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091109/4b26392b/attachment.pl>

From bill.hopkins at level3.com  Tue Nov 10 00:40:11 2009
From: bill.hopkins at level3.com (bill.hopkins at level3.com)
Date: Tue, 10 Nov 2009 00:40:11 +0100 (CET)
Subject: [Rd] textConnection performance quadratic (PR#14053)
Message-ID: <20091109234011.1565B282EEFA@mail.pubhealth.ku.dk>

Full_Name: William E. Hopkins
Version: 2.9.0
OS: Windows XP
Submission from: (NULL) (209.244.4.106)


textConnection() has quadratic performance.

A function I wrote was taking outrageous amount of time to execute on a large
character vector (small test set was used for functional development). I created
a test harness to execute the function and gather stats (system.time) for
various dataset sizes (datasets generated by sample() of very large set). If I
used textConnection() to provide input to read.csv(), the performance was
quadratic with dataset size. However, if I had the function write the character
vector to a temp file then read the data back in via read.csv, the performance
was linear.

The reason for using a textConnection() was that the character vector was within
a data frame read in via read.csv. The character vector (URLs) needed to be
parsed into separate vectors, but no mechanism exists to do that directly (that
I know of). So, I used sub() to extract the proper pieces and put commas in
between so that I can use read.csv() to read the comma-separate strings directly
into vectors.


From ggrothendieck at gmail.com  Tue Nov 10 01:10:15 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 9 Nov 2009 19:10:15 -0500
Subject: [Rd] textConnection performance quadratic (PR#14053)
In-Reply-To: <20091109234011.1565B282EEFA@mail.pubhealth.ku.dk>
References: <20091109234011.1565B282EEFA@mail.pubhealth.ku.dk>
Message-ID: <971536df0911091610k7f8a3e29kc8da8edd9c4468c5@mail.gmail.com>

strsplit can split by separators and strapply in the gsubfn package
can split by content.

On Mon, Nov 9, 2009 at 6:40 PM,  <bill.hopkins at level3.com> wrote:
> Full_Name: William E. Hopkins
> Version: 2.9.0
> OS: Windows XP
> Submission from: (NULL) (209.244.4.106)
>
>
> textConnection() has quadratic performance.
>
> A function I wrote was taking outrageous amount of time to execute on a large
> character vector (small test set was used for functional development). I created
> a test harness to execute the function and gather stats (system.time) for
> various dataset sizes (datasets generated by sample() of very large set). If I
> used textConnection() to provide input to read.csv(), the performance was
> quadratic with dataset size. However, if I had the function write the character
> vector to a temp file then read the data back in via read.csv, the performance
> was linear.
>
> The reason for using a textConnection() was that the character vector was within
> a data frame read in via read.csv. The character vector (URLs) needed to be
> parsed into separate vectors, but no mechanism exists to do that directly (that
> I know of). So, I used sub() to extract the proper pieces and put commas in
> between so that I can use read.csv() to read the comma-separate strings directly
> into vectors.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From murdoch at stats.uwo.ca  Tue Nov 10 01:55:06 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 09 Nov 2009 19:55:06 -0500
Subject: [Rd] Negative integer subscripts in [[?
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D700021ECBBC@NA-PA-VBE03.na.tibco.com>
References: <77EB52C6DD32BA4D87471DCD70C8D700021ECBBC@NA-PA-VBE03.na.tibco.com>
Message-ID: <4AF8B9EA.103@stats.uwo.ca>

On 09/11/2009 4:38 PM, William Dunlap wrote:
> Should negative subscripts be outlawed in
>    x[[subscript]]
> ?  
> 
> Currently, if subscript is a scalar then it can only
> be negative if length(x)==1 (otherwise [[ throws an
> error).  If length(subscript)>1 then it gets treated
> as an attempt to recursively extract an element of
> a nested list.
> 
>> list(10,20)[[-1]] # get the last element out of 2
> [1] 20
>> list(10,20,30)[[-(1:2)]] # get the last of 3?  No.
> Error in list(10, 20, 30)[[-(1:2)]] :
>   attempt to select more than one element
>> list(10,list(20,30))[[-c(1:2)]] # see how recursive subscripting is
> done
> [1] 20
> 
> If negative subscripts were not allowed in [[ then 
> there might be a little less confusion about [[.

I agree, it would be better not to allow negatives here, but as John 
said it's probably too late to do away with them.

> (If recursive subscripting were done by a list instead
> of by an integer or character vector there might be
> less confusion and it would be more flexible.)

I don't follow this.  Recursive lists are trees, and you specify a 
single element of a tree by specifying a sequence of indices.  Why would 
it be less confusing to give a list?  What extra flexibility could there 
be?  I suppose you could mix integer and character indices, but what 
would be meant by x[[ list(1, list(2,3), 4) ]] ?

I don't know the original motivation for allowing vector indexing to 
lists, but I extended it to pairlists so that it would be possible to 
specify a location within a function exactly, by walking down the parse 
tree.  I think it's something that would be rarely used, but when you 
need it, it's very handy.

Duncan Murdoch


From wdunlap at tibco.com  Tue Nov 10 02:49:57 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Mon, 9 Nov 2009 17:49:57 -0800
Subject: [Rd] Negative integer subscripts in [[?
In-Reply-To: <4AF8B9EA.103@stats.uwo.ca>
References: <77EB52C6DD32BA4D87471DCD70C8D700021ECBBC@NA-PA-VBE03.na.tibco.com>
	<4AF8B9EA.103@stats.uwo.ca>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D700021ECCAA@NA-PA-VBE03.na.tibco.com>

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
> Sent: Monday, November 09, 2009 4:55 PM
> To: William Dunlap
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] Negative integer subscripts in [[?
> 
> On 09/11/2009 4:38 PM, William Dunlap wrote:
> > Should negative subscripts be outlawed in
> >    x[[subscript]]
> > ?  
> > 
> > Currently, if subscript is a scalar then it can only
> > be negative if length(x)==1 (otherwise [[ throws an

   Oops, I meant: length(x)==2

> > error).  If length(subscript)>1 then it gets treated
> > as an attempt to recursively extract an element of
> > a nested list.
> > 
> >> list(10,20)[[-1]] # get the last element out of 2
> > [1] 20
> >> list(10,20,30)[[-(1:2)]] # get the last of 3?  No.
> > Error in list(10, 20, 30)[[-(1:2)]] :
> >   attempt to select more than one element
> >> list(10,list(20,30))[[-c(1:2)]] # see how recursive subscripting is
> > done
> > [1] 20
> > 
> > If negative subscripts were not allowed in [[ then 
> > there might be a little less confusion about [[.
> 
> I agree, it would be better not to allow negatives here, but as John 
> said it's probably too late to do away with them.
> 
> > (If recursive subscripting were done by a list instead
> > of by an integer or character vector there might be
> > less confusion and it would be more flexible.)
> 
> I don't follow this.  Recursive lists are trees, and you specify a 
> single element of a tree by specifying a sequence of indices. 
>  Why would 
> it be less confusing to give a list?  What extra flexibility 
> could there 
> be?  I suppose you could mix integer and character indices, but what 
> would be meant by x[[ list(1, list(2,3), 4) ]] ?

It would allow mixed integer, character, and logical indices
and, since lists are not allowed for other forms of subscripts,
it would make it clear that you wanted a recursive subcript.
At each level you would have to select just one element, just as is
the restriction now.
E.g., now we do
   x <- list(A=list(10,20), B=list(B1=30, B2=40))
   x[[c(1,2)]] # gives 20
but this could be done as
   x[[list(1,2)]]
or
   x[[list("A",2)]]
or
   x[[list(c(TRUE,FALSE), -1)]]
It would mean that the following 2 functions would return the
same result
   f1 <- function(x, subscriptList) x[[subscriptList]]
   f2 <- function(x, subscriptList) {
             for(i in subscriptList)
                 x <- x[[i]] # or x[i][[1]] to handle logical subscripts
             x
          }
when subscriptList is a list.  Currently they return the same
when subscriptList is an integer vector.

> I don't know the original motivation for allowing vector indexing to 
> lists, but I extended it to pairlists so that it would be possible to 
> specify a location within a function exactly, by walking down 
> the parse 
> tree.  I think it's something that would be rarely used, but when you 
> need it, it's very handy.

That is the sort of thing I've used it for, rarely.
We can always change the logical and character vectors
into integers so it isn't a big deal.  I was more concerned
by folks accidently using [[ with a vector subscript where [
was appropriate and getting a mysterious error message or
the wrong answer from the unintended recursive subscript.
However, it is far too late to get rid of the integer vector
version of it.

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com 

> 
> Duncan Murdoch
> 


From ph.ebay at genion.de  Tue Nov 10 03:30:18 2009
From: ph.ebay at genion.de (ph.ebay at genion.de)
Date: Tue, 10 Nov 2009 03:30:18 +0100 (CET)
Subject: [Rd] Regression: PR#9602 - bquote(function(x,y) T)
Message-ID: <20091110023019.0A45E282EEFA@mail.pubhealth.ku.dk>

Dear R developers,

PR#9602 is currently marked as "Low-level-fixed".
Yet I have been caught by it on R-2.10.0 (see below).

Thanks in advance!

Best regards,
Pascal Hirsch


> quote(function(x, y) T)
function(x, y) T

> bquote(function(x, y) T)
function(, y) T

> eval(.Last.value)
Error in eval(expr, envir, enclos) :
  invalid formal argument list for "function"

> R.version
               _
platform       i386-pc-mingw32
arch           i386
os             mingw32
system         i386, mingw32
status         Patched
major          2
minor          10.0
year           2009
month          10
day            26
svn rev        50212
language       R
version.string R version 2.10.0 Patched (2009-10-26 r50212)


From osoong+r at gmail.com  Tue Nov 10 06:05:10 2009
From: osoong+r at gmail.com (Oliver Soong)
Date: Mon, 9 Nov 2009 21:05:10 -0800
Subject: [Rd] Windows installer, HTML help, R 2.10.0
Message-ID: <7559d52e0911092105j5dcad2agbae27a721d6ff96a@mail.gmail.com>

I'm not 100% sure this hasn't been covered already (I searched a bit,
but I had a little trouble filtering down to a useful number of useful
results).  Anyway, when I install R on Windows, the installer asks to
set the default help type.  For some reason, I can set it as HTML in
the installer, but the results open as if help_type = "text" by
default.  I presume this is related to the new changes to the help.
Calling help(help, help_type = "html") works as expected, so the HTML
help works and I could manually fix this by setting options(help_type
= "html") in a session or in my .Rprofile.

I'm not sure if I'm the only one seeing this, but for what it's worth,
I also set SDI and Internet = Standard.  I haven't experimented with
different installation settings to see which ones work.

Oliver


From deepayan.sarkar at gmail.com  Tue Nov 10 06:15:33 2009
From: deepayan.sarkar at gmail.com (Deepayan Sarkar)
Date: Tue, 10 Nov 2009 10:45:33 +0530
Subject: [Rd] Windows installer, HTML help, R 2.10.0
In-Reply-To: <7559d52e0911092105j5dcad2agbae27a721d6ff96a@mail.gmail.com>
References: <7559d52e0911092105j5dcad2agbae27a721d6ff96a@mail.gmail.com>
Message-ID: <eb555e660911092115q70e1198bs430959d11158bccf@mail.gmail.com>

On Tue, Nov 10, 2009 at 10:35 AM, Oliver Soong <osoong+r at gmail.com> wrote:
> I'm not 100% sure this hasn't been covered already (I searched a bit,
> but I had a little trouble filtering down to a useful number of useful
> results).

It has, see

http://old.nabble.com/Cannot-activate-chm-help-in-R-2.10-td26067423.html

-Deepayan

> Anyway, when I install R on Windows, the installer asks to
> set the default help type. ?For some reason, I can set it as HTML in
> the installer, but the results open as if help_type = "text" by
> default. ?I presume this is related to the new changes to the help.
> Calling help(help, help_type = "html") works as expected, so the HTML
> help works and I could manually fix this by setting options(help_type
> = "html") in a session or in my .Rprofile.
>
> I'm not sure if I'm the only one seeing this, but for what it's worth,
> I also set SDI and Internet = Standard. ?I haven't experimented with
> different installation settings to see which ones work.
>
> Oliver
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From arne.henningsen at googlemail.com  Tue Nov 10 11:24:13 2009
From: arne.henningsen at googlemail.com (Arne Henningsen)
Date: Tue, 10 Nov 2009 11:24:13 +0100
Subject: [Rd] Bug in all.equal() or in the plm package
In-Reply-To: <4AF7FBD5.3090706@stats.uwo.ca>
References: <ee2a35a60911090229q39087424u92fea71d6dbdb78c@mail.gmail.com>
	<4AF7FBD5.3090706@stats.uwo.ca>
Message-ID: <ee2a35a60911100224y78cdbb15w53c74b239a547048@mail.gmail.com>

On Mon, Nov 9, 2009 at 12:24 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> Arne Henningsen wrote:
>>
>> I noticed that there is a (minor) bug either the command all.equal()
>> or in the "plm" package. I demonstrate this using an example taken
>> from the documentation of plm():
>>
>
> I'm not sure this is a bug, but I'd call it at least a design flaw. ?The
> problem is that the length.Formula method in the Formula package (which plm
> depends on) returns a vector of length 2. ?Now there's nothing in R that
> requires length() to return a scalar, but all.equal assumes it does, and I'd
> guess there are lots of other places this assumption is made.

Okay, let's call it "design flaw". Given that the "unusual" behaviour
of length.Formula() causes this problem, I suggest that the
length.Formula() method should be changed. Maybe to something like

R> a <- as.Formula( y ~ x | z | w )
# current behaviour:
R> length(a)
[1] 1 3
# suggested behaviour:
R> length(a)
[1] 2
R> length(a[[1]])
[1] 1
R> length(a[[2]])
[1] 3

This would be more consistent with the usual behaviour of length, e.g.
R> b <- list( 1, 1:3 )
R> length(b)
[1] 2
R> length(b[[1]])
[1] 1
R> length(b[[2]])
[1] 3

/Arne


>> ======================================
>> R> data("Produc", package="plm")
>> R> zz <- plm(log(gsp)~log(pcap)+log(pc)+log(emp)+unemp,
>> + ? data=Produc, index=c("state","year"))
>> R> all.equal(zz,zz)
>> [1] TRUE
>> Warning message:
>> In if (length(target) != length(current)) return(paste("target,
>> current differ in having response: ", ?:
>> ?the condition has length > 1 and only the first element will be used
>>
>>>
>>> all.equal(zz$formula,zz$formula)
>>>
>>
>> [1] TRUE
>> Warning message:
>> In if (length(target) != length(current)) return(paste("target,
>> current differ in having response: ", ?:
>> ?the condition has length > 1 and only the first element will be used
>>
>>>
>>> class(zz$formula)
>>>
>>
>> [1] "pFormula" "Formula" ?"formula"
>> ======================================
>>
>> The last commands show that the warning message comes from comparing
>> the elements "formula", which are of the class "pFormula" (inheriting
>> from "Formula" and "formula"). It would be great if this issue could
>> be fixed in the future.
>>
>> Thanks a lot,
>> Arne

-- 
Arne Henningsen
http://www.arne-henningsen.name


From bates at stat.wisc.edu  Tue Nov 10 13:55:35 2009
From: bates at stat.wisc.edu (Douglas Bates)
Date: Tue, 10 Nov 2009 06:55:35 -0600
Subject: [Rd] Summary methods
In-Reply-To: <C0772C7568B5374481D2F8A880E9BBDF5B4E0418@DC1EX07CMS.air.org>
References: <C0772C7568B5374481D2F8A880E9BBDF5B4E0418@DC1EX07CMS.air.org>
Message-ID: <40e66e0b0911100455m3fee459ev86b177cf63fc3584@mail.gmail.com>

On Sun, Nov 8, 2009 at 2:26 PM, Doran, Harold <HDoran at air.org> wrote:
> I've defined the following for objects of a class called jml
>
> summary.jml <- function(object, ...){
> ? ? ? ?tab <- cbind(Estimate = coef(object),
> ? ? ? ? ? ? ? ? ? ? ? ?StdError = object$se,
> ? ? ? ? ? ? ? ? ? ? ? ?Infit = object$Infit,
> ? ? ? ? ? ? ? ? ? ? ? ?Outfit = object$Outfit)
> ? ? ? ?res <- list(call = object$call, coefficients = tab,
> ? ? ? ? ? ? ? ? ? ? ? ?N = nrow(object$Data), iter = object$Iterations)
> ? ? ? ?class(res) <- "summary.jml"
> ? ? ? ?res
> }
>
> print.summary.jml <- function(x, ...){
> ? cat("Call:\n")
> ? print(x$call)
> ? cat("\n")
> ? cat("Number of iterations to completion:", x$iter, "\n")
> ? cat("Number of individuals used in estimation:", x$N, "\n")
> ? cat("\n")
> ? printCoefmat(x$coefficients)
> ? }
>
> Use of the methods on a fitted jml object yields:
>
>> summary(aa)
> Call:
> jml2.formula(formula = ~V1 + V2 + V3 + V4 + V5 + V6 + V7 + V8 +
> ? ?V9 + V10, data = itemDat, bias = F)
>
> Number of iterations to completion: 6
> Number of individuals used in estimation: 486
>
> ? ? ? ? ? ? ? ? StdError ? ? Infit Outfit
> ?[1,] -0.380346 ?0.103002 ?1.007466 0.9935
> ?[2,] ?0.025939 ?0.104052 ?1.003050 1.0083
> ?[3,] ?2.563784 ?0.171174 ?0.941453 0.9414
> ?[4,] -2.930519 ?0.156923 ?1.010786 1.0515
> ?[5,] ?1.139241 ?0.118932 ?0.978101 1.1424
> ?[6,] -1.461751 ?0.111563 ?1.030612 1.2709
> ?[7,] ?0.486202 ?0.107986 ?1.008374 1.0394
> ?[8,] -0.497102 ?0.103117 ?0.961431 0.9012
> ?[9,] -0.486478 ?0.103099 ?1.001752 0.9829
> [10,] ?1.541029 ?0.129214 ?1.010011 0.9150
>
> Two questions. First, why is the name of the first column empty instead of "Estimate" as I have specified in the summary method?

Because you are using cbind to create the table.  Use data.frame
instead.  I think that will also help with the alignment issue.

> Second, I am struggling to get the row names of the coefficients to align with the formula call. For example, instead of
>
> ? ? ? ? ? ? ? ? StdError ? ? Infit Outfit
> ?[1,] -0.380346 ?0.103002 ?1.007466 0.9935
>
> I would prefer
>
> ? ? ? ? ? ? ? ? StdError ? ? Infit Outfit
> ?V1 -0.380346 ?0.103002 ?1.007466 0.9935
>
> This also occurs in my print method
>
> print.jml <- function(x, digits = 2, ...){
> ? cat("\nCall:\n", deparse(x$call), "\n\n", sep = "")
> ? cat("Coefficients:\n")
> ? ? ? ? ? ? ? ?print.default(format(coef(x), digits = digits), print.gap=2,
> ? ? ? ? ? ? ? ?quote = FALSE)
> ? invisible(x)
> ? }
>
> Which produces
>
>> win
> Call:
> jml2.default(dat = itemDat[, 1:10])
>
> Coefficients:
> ? ? ? ? ? ? [,1]
> ?[1,] -0.38034638
> ?[2,] ?0.02593937
> ?[3,] ?2.56378422
> ?[4,] -2.93051899
> ?[5,] ?1.13924076
> ?[6,] -1.46175119
> ?[7,] ?0.48620247
> ?[8,] -0.49710150
> ?[9,] -0.48647770
> [10,] ?1.54102895
>
> Thank you
> Harold
>
>> sessionInfo()
> R version 2.10.0 (2009-10-26)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=English_United States.1252 ?LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>
> other attached packages:
> [1] MASS_7.3-3 ? ? ? ? lme4_0.999375-32 ? Matrix_0.999375-31 lattice_0.17-26
> [5] MiscPsycho_1.4 ? ? statmod_1.4.1
>
> loaded via a namespace (and not attached):
> [1] grid_2.10.0 ?plink_1.2-2 ?tools_2.10.0
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From pgilbert at bank-banque-canada.ca  Tue Nov 10 17:12:18 2009
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 10 Nov 2009 11:12:18 -0500
Subject: [Rd] Makevars or Makevars.in
Message-ID: <4AF990E2.7080100@bank-banque-canada.ca>

I am just trying to adjust one of my packages so the C code builds in 
Windows.  This is code that has been around for a long time, and I'm am 
only a casual reader of C, so it has had the "if it is not broken don't 
touch it" approach for many years.  The section 1.2.1 "Using Makevars"  
of "Writing R extensions" starts:

"Sometimes writing your own configure script can be avoided by supplying 
a file Makevars: also one of the most common uses of a configure script 
is to make Makevars from Makevars.in." ...

I am still a bit confused about whether packages src/ should have, in 
addition to Makevars.win, a file Makevars or a file Makevars.in.  The 
rest of the section seems to imply that the file should be Makevars, but 
the first four examples I pulled of CRAN all have Makevars.in. My 
confusion is about whether R scripts will automatically turn Makevars.in 
into Makevars or would I need my own configure script to do this (and I 
am hoping not to need a configure script).

Which is preferred? (And could the first paragraph of the section be 
made more explicit?)

Thanks,
Paul

====================================================================================

La version fran?aise suit le texte anglais.

------------------------------------------------------------------------------------

This email may contain privileged and/or confidential in...{{dropped:26}}


From ripley at stats.ox.ac.uk  Tue Nov 10 17:32:31 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 10 Nov 2009 16:32:31 +0000 (GMT)
Subject: [Rd] Makevars or Makevars.in
In-Reply-To: <4AF990E2.7080100@bank-banque-canada.ca>
References: <4AF990E2.7080100@bank-banque-canada.ca>
Message-ID: <alpine.LFD.2.00.0911101623470.16389@gannet.stats.ox.ac.uk>

On Tue, 10 Nov 2009, Paul Gilbert wrote:

> I am just trying to adjust one of my packages so the C code builds in 
> Windows.  This is code that has been around for a long time, and I'm am only 
> a casual reader of C, so it has had the "if it is not broken don't touch it" 
> approach for many years.  The section 1.2.1 "Using Makevars"  of "Writing R 
> extensions" starts:
>
> "Sometimes writing your own configure script can be avoided by supplying a 
> file Makevars: also one of the most common uses of a configure script is to 
> make Makevars from Makevars.in." ...
>
> I am still a bit confused about whether packages src/ should have, in 
> addition to Makevars.win, a file Makevars or a file Makevars.in.  The rest of 
> the section seems to imply that the file should be Makevars, but the first 
> four examples I pulled of CRAN all have Makevars.in. My confusion is about 
> whether R scripts will automatically turn Makevars.in into Makevars or would 
> I need my own configure script to do this (and I am hoping not to need a 
> configure script).
>
> Which is preferred? (And could the first paragraph of the section be made 
> more explicit?)

I think you need to read the earlier mentions of Makevars in that 
manual: your confusion seems to be that you have jumped in to a later 
section.  The only use of src/Makevars.in is that it is a conventional 
name for a template file for configure to turn into src/Makevars.  As 
the manual says

   The default rules can be tweaked by setting macros in a file
   @file{src/Makevars} ... There are platform-specific file names on
   Windows: @file{src/Makevars.win} takes precedence over
   @file{src/Makevars}.

So to tweak the make rules you need src/Makevars: if you need a 
platform-specific version you need src/Makevars and src/Makevars.win.
You may choose to use configure (or configure.win) to make these, but 
you do not need to (and packages using e.g. LAPACK or BLAS do not do 
so).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From andrew.hartley at metoffice.gov.uk  Tue Nov 10 16:27:42 2009
From: andrew.hartley at metoffice.gov.uk (Hartley, Andrew)
Date: Tue, 10 Nov 2009 15:27:42 -0000
Subject: [Rd] Installing and compiling C code for R-windows
Message-ID: <E40ECC4BCBB70543AB323A3492ACB3460294C7E7@EXXMAIL01.desktop.frd.metoffice.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091110/cf5d8360/attachment.pl>

From ripley at stats.ox.ac.uk  Tue Nov 10 18:26:13 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 10 Nov 2009 17:26:13 +0000 (GMT)
Subject: [Rd] Installing and compiling C code for R-windows
In-Reply-To: <E40ECC4BCBB70543AB323A3492ACB3460294C7E7@EXXMAIL01.desktop.frd.metoffice.com>
References: <E40ECC4BCBB70543AB323A3492ACB3460294C7E7@EXXMAIL01.desktop.frd.metoffice.com>
Message-ID: <alpine.LFD.2.00.0911101717260.1720@gannet.stats.ox.ac.uk>

Having PP.o and PP.so will break things if (as I suspect) they are 
from a different architecture.  Your colleague's testing should have 
picked that up (R CMD check will warn you) but you can try deleting 
them.

Also, I think you have ignored all the comments about not installing R 
into a path with spaces in if you want to compile packages -- although 
it usually works, we do not support it.

On Tue, 10 Nov 2009, Hartley, Andrew wrote:

> Hi r-devers,
>
> This is the first time I've tried to install a package from source on
> Windows, so please bear with me. I'm trying to install a package written
> (and tested) by a colleague in C for R on linux, and I am trying to
> install it on windows following the directions here -
> http://cran.r-project.org/doc/manuals/R-admin.html#The-Windows-toolset
> and here - http://www.murdoch-sutherland.com/Rtools/
>
> I installed Rtools (but not InnoSetup or LaTeX because of permissions
> problems on my PC, although I don't think they are essential). I checked
> my environment variables are pointing to the correct tools, and then I
> ran the following:
>
> R CMD INSTALL --library="C:/R/library" --no-chm PP

--no-chm is obsolete: are you perchance not using a current version of 
R (see the posting guide)?

> The package is called PP, and contains the following files:
>> ls -R PP
> PP:
> DESCRIPTION  R  man  src  svn-commit.tmp~
>
> PP/R:
> PP.R
>
> PP/man:
> PP.Rd             pp.get.longs.Rd  pp.ppw.Rd    pp.strip.extra.Rd
> pp.close.file.Rd  pp.open.file.Rd  pp.print.Rd  pp.write.Rd
> pp.get.lats.Rd    pp.ppa.Rd        pp.read.Rd   tmp
>
> PP/src:
> PP.c  PP.o  PP.so  makefile.old
>
> The result is (based on my limited knowledge) quite promising, but it
> seems to be unable to link libraries. Here's what I get:
>
> * Installing *source* package 'PP' ...
> ** libs
>  making DLL ...

The hint is here: there is no sign that PP.c was compiled.

> gcc -shared -s -o PP.dll tmp.def PP.o -LC:/PROGRA~1/R/R-29~1.2/bin -lR
> Cannot export SwapEndian: symbol not found
> Cannot export close_file_c: symbol not found
> Cannot export open_file_c: symbol not found
> ..... Etc ....
>
> I don't have any experience compiling C code, so I'm a bit stumped. Do I
> need to override the default gcc settings by editing the makefile? Or
> have I missed something more obvious? Please let me know if you need any
> additional info.
>
> Kind regards,
> Andy
>
>
>
> 	[[alternative HTML version deleted]]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From smckinney at bccrc.ca  Tue Nov 10 20:17:53 2009
From: smckinney at bccrc.ca (Steven McKinney)
Date: Tue, 10 Nov 2009 11:17:53 -0800
Subject: [Rd] Bug in all.equal() or in the plm package
In-Reply-To: <20666_1257848745_1257848745_ee2a35a60911100224y78cdbb15w53c74b239a547048@mail.gmail.com>
References: <ee2a35a60911090229q39087424u92fea71d6dbdb78c@mail.gmail.com>
	<4AF7FBD5.3090706@stats.uwo.ca>
	<20666_1257848745_1257848745_ee2a35a60911100224y78cdbb15w53c74b239a547048@mail.gmail.com>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B032C624E98@crcmail4.BCCRC.CA>


> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
> project.org] On Behalf Of Arne Henningsen
> Sent: Tuesday, November 10, 2009 2:24 AM
> To: Duncan Murdoch; r-devel at r-project.org; Yves Croissant;
> Giovanni_Millo at generali.com; Achim Zeileis
> Subject: Re: [Rd] Bug in all.equal() or in the plm package
> 
> On Mon, Nov 9, 2009 at 12:24 PM, Duncan Murdoch <murdoch at stats.uwo.ca>
> wrote:
> > Arne Henningsen wrote:
> >>
> >> I noticed that there is a (minor) bug either the command all.equal()
> >> or in the "plm" package. I demonstrate this using an example taken
> >> from the documentation of plm():
> >>
> >
> > I'm not sure this is a bug, but I'd call it at least a design flaw.
> ?The
> > problem is that the length.Formula method in the Formula package
> (which plm
> > depends on) returns a vector of length 2. ?Now there's nothing in R
> that
> > requires length() to return a scalar, 

No, but outside of R, length is a one dimensional real number
except perhaps in some esoteric mathematics, so I'm puzzled
why length in R would be redefined to produce non-scalars.


> >but all.equal assumes it does,
> and I'd
> > guess there are lots of other places this assumption is made.
> 
> Okay, let's call it "design flaw". Given that the "unusual" behaviour
> of length.Formula() causes this problem, I suggest that the
> length.Formula() method should be changed. Maybe to something like
> 
> R> a <- as.Formula( y ~ x | z | w )
> # current behaviour:
> R> length(a)
> [1] 1 3
> # suggested behaviour:
> R> length(a)
> [1] 2
> R> length(a[[1]])
> [1] 1
> R> length(a[[2]])
> [1] 3
> 

How about 
# Total number of variables in model
R> length(a)
[1] 4

# Predictor variables (on the right hand side) pred(a) or rhs(a)
R> length(pred(a))
[1] 3

# Response variables (on the left hand side) resp(a) or lhs(a)
R> length(resp(a))
[1] 1

so all lengths of a formula's components can
be obtained as scalars.

R> length(a)
[1] 3
is what R 2.9.1 produced, and may often be what is expected
for the length of a formula, so the above could be

# Total number of variables in model
R> length(total(a))
[1] 4

# Predictor variables (on the right hand side) pred(a) or rhs(a)
R> length(a)
[1] 3

# Response variables (on the left hand side) resp(a) or lhs(a)
R> length(resp(a))
[1] 1

Steve McKinney

> This would be more consistent with the usual behaviour of length, e.g.
> R> b <- list( 1, 1:3 )
> R> length(b)
> [1] 2
> R> length(b[[1]])
> [1] 1
> R> length(b[[2]])
> [1] 3
> 
> /Arne
> 
> 
> >> ======================================
> >> R> data("Produc", package="plm")
> >> R> zz <- plm(log(gsp)~log(pcap)+log(pc)+log(emp)+unemp,
> >> + ? data=Produc, index=c("state","year"))
> >> R> all.equal(zz,zz)
> >> [1] TRUE
> >> Warning message:
> >> In if (length(target) != length(current)) return(paste("target,
> >> current differ in having response: ", ?:
> >> ?the condition has length > 1 and only the first element will be
> used
> >>
> >>>
> >>> all.equal(zz$formula,zz$formula)
> >>>
> >>
> >> [1] TRUE
> >> Warning message:
> >> In if (length(target) != length(current)) return(paste("target,
> >> current differ in having response: ", ?:
> >> ?the condition has length > 1 and only the first element will be
> used
> >>
> >>>
> >>> class(zz$formula)
> >>>
> >>
> >> [1] "pFormula" "Formula" ?"formula"
> >> ======================================
> >>
> >> The last commands show that the warning message comes from comparing
> >> the elements "formula", which are of the class "pFormula"
> (inheriting
> >> from "Formula" and "formula"). It would be great if this issue could
> >> be fixed in the future.
> >>
> >> Thanks a lot,
> >> Arne
> 
> --
> Arne Henningsen
> http://www.arne-henningsen.name
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From amabro23 at yahoo.com  Tue Nov 10 17:31:59 2009
From: amabro23 at yahoo.com (nana)
Date: Tue, 10 Nov 2009 08:31:59 -0800 (PST)
Subject: [Rd] NetCDF output in R
Message-ID: <269439.88765.qm@web65407.mail.ac4.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091110/79327fdc/attachment.pl>

From whorfin at pixar.com  Tue Nov 10 19:35:15 2009
From: whorfin at pixar.com (whorfin at pixar.com)
Date: Tue, 10 Nov 2009 19:35:15 +0100 (CET)
Subject: [Rd] Typo in 2.10.0 NEWS file (PR#14054)
Message-ID: <20091110183515.8DC892831FE1@mail.pubhealth.ku.dk>

Full_Name: Rick Sayre
Version: 2.10.0
OS: linux/windows/os x
Submission from: (NULL) (138.72.146.168)


Man, it feels ungrateful to report this, but it looks like in the
process of having my wish PR#13758 fulfilled, a typo snuck in to
the "NEWS" releasenotes:

    o	New as.raw() method for "tclObj" objects (wish of PR#13578).

I'm pretty sure that's a typo, and should be 13758 instead of 13578.

Perhaps "nobody cares", but I mention it for completeness.
[and thanks for the new method!]

Cheers
  --Rick


From jayoung at fhcrc.org  Tue Nov 10 20:37:38 2009
From: jayoung at fhcrc.org (Janet Young)
Date: Tue, 10 Nov 2009 11:37:38 -0800
Subject: [Rd] compiling R-2.10.0 on solaris - lib_I_dbg_gen.so.1: version
	`DBG_GEN_5.1' not found
Message-ID: <EBEFAEEB-4A8C-4F28-90ED-4EE4CF62378B@fhcrc.org>

Hi,

I'm having trouble compiling R-2.10.0 (R-patched_2009-11-02.tar.gz) on  
solaris 10 and am hoping for some advice. I'm getting errors about  
having the wrong version of lib_I_dbg_gen.so.1 ("version `DBG_GEN_5.1'  
not found"), when it gets to the step of compiling recommended  
packages (cluster).

I think we do have the right version of lib_I_dbg_gen.so.1 on the  
system somewhere, but we also have older versions in other places. I  
think it may be to do with our system having several versions of gcc  
and lib_I_dbg_gen.so.1 in different places, including some old  
versions, and me not managing to tell R where to find the right one -  
perhaps some modifications to my setenv commands will fix this? I also  
think we might have some non-standard library locations.

I'm not the sysadmin, and I'm a little out of my depth talking about  
libraries etc. I asked our sysadmin for some advice, but for now we  
are drawing a blank. If no-one has any ideas I may be able to ask them  
to spend some more time trying to figure this out.

Here's what I'm doing to try to compile R: (my default path and  
LD_LIBRARY_PATH have never worked for compiling R, hence the setenv  
commands)

----------------------------

setenv LD_LIBRARY_PATH /opt/SUNW0scgfss/4.0.3/prod/lib:/opt/gcc/lib:/ 
opt/gcc/lib/gcc/sparc-sun-solaris2.10:/opt/SUNWspro/lib:/usr/lib:/usr/ 
openwin/lib

setenv PATH /opt/gcc/bin:/bin:/sbin:/usr/sbin:/etc:/opt/SUNWspro/bin:/ 
usr/ccs/bin:/usr/sfw/bin

unsetenv R_HOME

./configure --enable-R-shlib R_PAPERSIZE='letter' --prefix='/home/ 
btrask/traskdata'

make

----------------------------

Here's some information on compiler versions, etc, etc

----------------------------

[72] bedrock:/home/jayoung> uname -a
SunOS bedrock 5.10 Generic_139555-08 sun4v sparc SUNW,Sun-Fire-T200

[17] bedrock:/home/jayoung> which gcc
/opt/gcc/bin/gcc

[18] bedrock:/home/jayoung> gcc -v
Using built-in specs.
Target: sparc-sun-solaris2.10
Configured with: /net/tibia/export/bldmstr/nightly/ 
20060817_mars_gcc.s10.opt.tarbuild/src/configure --prefix=/opt/gcc -- 
enable-shared --with-system-zlib --enable-checking=release --disable- 
libmudflap --enable-languages=c,c++ --enable-version-specific-runtime- 
libs --with-gxx-include-dir=/opt/gcc/include/c++/4.0.3 --with-cpu=v9
Thread model: posix
gcc version 4.0.3 (gccfss)

[21] bedrock:/home/jayoung> ldd /opt/gcc/libexec/gcc/sparc-sun- 
solaris2.10/4.0.3/cc1
         lib_I_dbg_gen.so.1 =>    /opt/SUNW0scgfss/4.0.3/prod/lib/ 
lib_I_dbg_gen.so.1
         libsunir.so =>   /opt/gcc/bin/../../SUNW0scgfss/4.0.3/prod/ 
lib/sys/libsunir.so
         libc.so.1 =>     /usr/lib/libc.so.1
         libmd5.so.1 =>   /usr/lib/libmd5.so.1
         libdl.so.1 =>    /usr/lib/libdl.so.1
         libelf.so.1 =>   /usr/lib/libelf.so.1
         liblni.so.1 =>   /opt/SUNW0scgfss/4.0.3/prod/lib/sys/ 
liblni.so.1
         libm.so.2 =>     /usr/lib/libm.so.2
         /platform/SUNW,Sun-Fire-T200/lib/libc_psr.so.1
         libmd.so.1 =>    /usr/lib/libmd.so.1
         /platform/SUNW,Sun-Fire-T200/lib/libmd_psr.so.1

[22] bedrock:/home/jayoung> version /opt/SUNW0scgfss/4.0.3/prod/lib/ 
lib_I_dbg_gen.so.1
version of "/opt/SUNW0scgfss/4.0.3/prod/lib/lib_I_dbg_gen.so.1": Sun  
Debug Information DBG_GEN 5.1.17 gcc2ir_lang 2006/08/17

----------------------------

And here's the error I get during the make process:

begin installing recommended package cluster
* installing *source* package 'cluster' ...
** libs
gcc -std=gnu99 -I/home/jayoung/source_codes/R/R-2.10.0/solaris_6/R- 
patched/include  -I/usr/local/include    -fPIC  -g -O2 -c clara.c -o  
clara.o
ld.so.1: cc1: fatal: lib_I_dbg_gen.so.1: version `DBG_GEN_5.1' not  
found (required by file /opt/gcc/libexec/gcc/sparc-sun- 
solaris2.10/4.0.3/cc1)
ld.so.1: cc1: fatal: lib_I_dbg_gen.so.1: open failed: No such file or  
directory
gcc: Internal error: Killed (program cc1)
Please submit a full bug report to
  <URL:http://forum.sun.com/jive/jorum.jspa?forumID=321>.
*** Error code 1
make: Fatal error: Command failed for target `clara.o'
Current working directory /tmp/RtmpJReZec/R.INSTALL2781446b/cluster/src
ERROR: compilation failed for package 'cluster'
* removing '/home/jayoung/source_codes/R/R-2.10.0/solaris_6/R-patched/ 
library/cluster'
*** Error code 1
The following command caused the error:
MAKE="make" R_LIBS= ../../../bin/R CMD INSTALL --no-lock -l "../../../ 
library" cluster.tgz > cluster.ts.out 2>&1 || (cat cluster.ts.out &&  
exit 1)
make: Fatal error: Command failed for target `cluster.ts'
Current working directory /home/jayoung/source_codes/R/R-2.10.0/ 
solaris_6/R-patched/src/library/Recommended
*** Error code 1
The following command caused the error:
make stamp-recommended
make: Fatal error: Command failed for target `recommended-packages'
Current working directory /home/jayoung/source_codes/R/R-2.10.0/ 
solaris_6/R-patched/src/library/Recommended
*** Error code 1
The following command caused the error:
(cd src/library/Recommended && make)
make: Fatal error: Command failed for target `stamp-recommended'

-----------------------

On a suggestion from the sysadmin, I also tried doing the compilation  
using a different LD_LIBRARY_PATH setting:

setenv LD_LIBRARY_PATH /opt/SUNWspro/prod/lib:/opt/SUNW0scgfss/4.0.3/ 
prod/lib:/opt/gcc/lib:/opt/gcc/lib/gcc/sparc-sun-solaris2.10:/opt/ 
SUNWspro/lib:/usr/lib:/usr/openwin/lib

With this setting, I get the same error (fatal: lib_I_dbg_gen.so.1:  
version `DBG_GEN_5.1' not found (required by file /opt/gcc/libexec/gcc/ 
sparc-sun-solaris2.10/4.0.3/cc1) during the configure command, instead  
of much later during the make of recommended packages. Here is the  
relevant chunk of config.log:

configure:4685: checking for gcc
configure:4701: found /opt/gcc/bin/gcc
configure:4712: result: gcc
configure:4950: checking for C compiler version
configure:4957: gcc --version >&5
sparc-sun-solaris2.10-gcc (GCC) 4.0.3 (gccfss)
Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There  
is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR  
PURPOSE.

configure:4960: $? = 0
configure:4967: gcc -v >&5
Using built-in specs.
Target: sparc-sun-solaris2.10
Configured with: /net/tibia/export/bldmstr/nightly/ 
20060817_mars_gcc.s10.opt.tarbuild/src/configure
  --prefix=/opt/gcc --enable-shared --with-system-zlib --enable- 
checking=release --disable-libmudfla
p --enable-languages=c,c++ --enable-version-specific-runtime-libs -- 
with-gxx-include-dir=/opt/gcc/i
nclude/c++/4.0.3 --with-cpu=v9
Thread model: posix
gcc version 4.0.3 (gccfss)
configure:4970: $? = 0
configure:4977: gcc -V >&5
gcc: '-V' option must have argument
configure:4980: $? = 1
configure:5003: checking for C compiler default output file name
configure:5030: gcc  -I/usr/local/include -L/usr/local/lib conftest.c   
 >&5
ld.so.1: cc1: fatal: lib_I_dbg_gen.so.1: version `DBG_GEN_5.1' not  
found (required by file /opt/gcc
/libexec/gcc/sparc-sun-solaris2.10/4.0.3/cc1)
ld.so.1: cc1: fatal: lib_I_dbg_gen.so.1: open failed: No such file or  
directory
gcc: Internal error: Killed (program cc1)
Please submit a full bug report to
  <URL:http://forum.sun.com/jive/jorum.jspa?forumID=321>.
configure:5033: $? = 1

-----------------------


This makes me think that when I use my first LD_LIBRARY_PATH setting  
(with SUNW0scgfss first), configure manages to see the correct version  
of lib_I_dbg_gen.so.1 but somehow when it gets to the make for cluster  
package, it sees another, wrong version of lib_I_dbg_gen.so.1. Does  
that make any sense? Is there a way to fix it?

thanks in advance for any advice,

Janet Young

-------------------------------------------------------------------

Dr. Janet Young (Trask lab)

Fred Hutchinson Cancer Research Center
1100 Fairview Avenue N., C3-168,
P.O. Box 19024, Seattle, WA 98109-1024, USA.

tel: (206) 667 1471 fax: (206) 667 6524
email: jayoung  ...at...  fhcrc.org

http://www.fhcrc.org/labs/trask/


From Kurt.Hornik at wu.ac.at  Tue Nov 10 21:03:52 2009
From: Kurt.Hornik at wu.ac.at (Kurt Hornik)
Date: Tue, 10 Nov 2009 21:03:52 +0100
Subject: [Rd] Alphanumeric tools::file_path_sans_ext() (PR#14050)
In-Reply-To: <20091109153510.B9F7F282EF57@mail.pubhealth.ku.dk>
References: <20091109153510.B9F7F282EF57@mail.pubhealth.ku.dk>
Message-ID: <19193.50984.56587.125821@fangorn.hornik.net>

>>>>> arnima  writes:

> The file_path_sans_ext() function in the 'tools' package does not handle 
> alphanumeric file extensions correctly:

>    require(tools)
>    file_path_sans_ext("song.txt")  # song, correct
>    file_path_sans_ext("song.mp3")  # song.mp3, wrong

> The help page states that "only purely alphanumeric extensions are 
> recognized", which I had expected. To fulfill this, the function body 
> should be

>    sub("([^.]+)\\.[[:alnum:]]+$", "\\1", x)

> instead of the current definition:

>    sub("([^.]+)\\.[[:alpha:]]+$", "\\1", x)

> Thanks,

> Arni

Thanks, fixed now.

Best
-k

> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From lpagie at xs4all.nl  Tue Nov 10 21:30:16 2009
From: lpagie at xs4all.nl (lpagie at xs4all.nl)
Date: Tue, 10 Nov 2009 21:30:16 +0100 (CET)
Subject: [Rd] polygon kills X-server (PR#14055)
Message-ID: <20091110203016.5C2272831FE1@mail.pubhealth.ku.dk>

Full_Name: Ludo Pagie
Version: 2.10.0
OS: linux, ubuntu, 8.04
Submission from: (NULL) (83.163.218.221)


when I make a polygon with 100,000 vertices my X-server is being
killed. This occurs in R-2.9.0 and a freshly installed R-2.10.0
I'm running Ubuntu with a locally compiled R:

uname -a
Linux onyx 2.6.24-24-generic #1 SMP Tue Aug 18 16:22:17 UTC 2009
x86_64 GNU/Linux

xlower = -2e6:2e6
xupper = rev(xlower)
ylower = runif(length(xlower))
yupper = ylower+.1
plot(NA,xlim=range(xlower),ylim=range(ylower))
idx=1:10000
# it draws fine for lower number of vertices:
polygon(x=c(xlower[idx],xupper[idx]),y=c(ylower[idx],yupper[idx]),col='grey')
# but X is killed when I draw 100000 vertices or more
idx=1:100000
# I've commented the next call to prevent people accidently
# killing their X?
#polygon(x=c(xlower[idx],xupper[idx]),y=c(ylower[idx],yupper[idx]),col='grey')


> sessionInfo()
R version 2.10.0 (2009-10-26)
x86_64-unknown-linux-gnu

locale:
[1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
[3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
[5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
[7] LC_PAPER=en_US.UTF-8       LC_NAME=C
[9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets
methods   base


I've posted above to the R-help list and got replies from Uwe Ligges saying it
also killed his Windows completely.


From p.dalgaard at biostat.ku.dk  Tue Nov 10 21:35:51 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Tue, 10 Nov 2009 21:35:51 +0100
Subject: [Rd] Typo in 2.10.0 NEWS file (PR#14054)
In-Reply-To: <20091110183515.8DC892831FE1@mail.pubhealth.ku.dk>
References: <20091110183515.8DC892831FE1@mail.pubhealth.ku.dk>
Message-ID: <4AF9CEA7.2020008@biostat.ku.dk>

whorfin at pixar.com wrote:
> Full_Name: Rick Sayre
> Version: 2.10.0
> OS: linux/windows/os x
> Submission from: (NULL) (138.72.146.168)
> 
> 
> Man, it feels ungrateful to report this, but it looks like in the
> process of having my wish PR#13758 fulfilled, a typo snuck in to
> the "NEWS" releasenotes:
> 
>     o	New as.raw() method for "tclObj" objects (wish of PR#13578).
> 
> I'm pretty sure that's a typo, and should be 13758 instead of 13578.
> 
> Perhaps "nobody cares", but I mention it for completeness.
> [and thanks for the new method!]

Maybe they do and maybe they don't, but I fixed it anyway. You're not 
getting yet another NEWS entry for #14054 though...

-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From bolker at ufl.edu  Tue Nov 10 23:33:25 2009
From: bolker at ufl.edu (Ben Bolker)
Date: Tue, 10 Nov 2009 22:33:25 +0000 (UTC)
Subject: [Rd] polygon kills X-server (PR#14055)
References: <20091110203016.5C2272831FE1@mail.pubhealth.ku.dk>
Message-ID: <loom.20091110T232355-0@post.gmane.org>

 <lpagie <at> xs4all.nl> writes:

> 
> Full_Name: Ludo Pagie
> Version: 2.10.0
> OS: linux, ubuntu, 8.04
> Submission from: (NULL) (83.163.218.221)
> 
> when I make a polygon with 100,000 vertices my X-server is being
> killed. This occurs in R-2.9.0 and a freshly installed R-2.10.0
> I'm running Ubuntu with a locally compiled R:


> [snip]

 It took quite a while, and every time I obscure the window
it hangs R while it redraws, but that all seems as expected.
The rest of my system seems to be running fine while it works
on that (one core is pegged at 100% CPU, but the other is
handling everything OK).

Linux bolker-lap2 2.6.27-15-generic #1 SMP Tue Oct 20 06:52:09 UTC 2009 i686
GNU/Linux

Ubuntu 8.10
for what it's worth, I'm not running a window manager with any
fancy screen effects (don't know if that would matter??)

R 2.10.0, stock Ubuntu installation


From tplate at acm.org  Wed Nov 11 04:52:45 2009
From: tplate at acm.org (Tony Plate)
Date: Tue, 10 Nov 2009 20:52:45 -0700
Subject: [Rd] typo in docs for unlink()
Message-ID: <4AFA350D.7060303@acm.org>

The VALUE section in the help for 'unlink' says:

|  0| for success, |1| for failure. Not deleting a non-existent file is 
not a failure, nor is being unable to delete a directory if |recursive = 
FALSE|. However, missing values in |x| result are regarded as failures.

The last phrase doesn't make sense to me.  Should it be either "missing 
values in x are regarded as failures" or "missing values in x result in 
failure" ?

Also, after reading the docs, I'm still unable to work out if unlink() 
will return 1 when the user tries to recursively delete a directory on 
systems that don't support recursive=T.

The DETAILS section says "recursive=TRUE is not supported on all 
platforms, and may be ignored, with a warning", which could be 
interpreted as implying no special action when recursive=TRUE is not 
implemented (other than a warning()), and the VALUE section doesn't say 
what the return value will be under such conditions.

I've skimmed the various *_unlink functions in src/main/platform.c, and 
it looks like they all implement recursive=TRUE, so I'm still in the 
dark about the required behavior on systems that don't support it.  
Could this be clarified in the help file?

thanks,

Tony Plate


From tplate at acm.org  Wed Nov 11 05:16:39 2009
From: tplate at acm.org (Tony Plate)
Date: Tue, 10 Nov 2009 21:16:39 -0700
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <4AFA350D.7060303@acm.org>
References: <4AFA350D.7060303@acm.org>
Message-ID: <4AFA3AA7.8080104@acm.org>

PS, I should have said that I'm reading the docs for unlink in R-2.10.0 
on a Linux system.  The docs that appear in a Windows installation of R 
are different (the Windows docs do not mention that not all systems 
support recursive=TRUE).

Here's a plea for docs to be uniform across all systems!  Trying to 
write R code that works on all systems is much harder when the docs are 
different across systems, and you might only see system specific notes 
on a different system than the one you're working on.

-- Tony Plate

Tony Plate wrote:
> The VALUE section in the help for 'unlink' says:
>
> |  0| for success, |1| for failure. Not deleting a non-existent file 
> is not a failure, nor is being unable to delete a directory if 
> |recursive = FALSE|. However, missing values in |x| result are 
> regarded as failures.
>
> The last phrase doesn't make sense to me.  Should it be either 
> "missing values in x are regarded as failures" or "missing values in x 
> result in failure" ?
>
> Also, after reading the docs, I'm still unable to work out if unlink() 
> will return 1 when the user tries to recursively delete a directory on 
> systems that don't support recursive=T.
>
> The DETAILS section says "recursive=TRUE is not supported on all 
> platforms, and may be ignored, with a warning", which could be 
> interpreted as implying no special action when recursive=TRUE is not 
> implemented (other than a warning()), and the VALUE section doesn't 
> say what the return value will be under such conditions.
>
> I've skimmed the various *_unlink functions in src/main/platform.c, 
> and it looks like they all implement recursive=TRUE, so I'm still in 
> the dark about the required behavior on systems that don't support 
> it.  Could this be clarified in the help file?
>
> thanks,
>
> Tony Plate
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From ligges at statistik.tu-dortmund.de  Wed Nov 11 10:01:02 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Wed, 11 Nov 2009 10:01:02 +0100
Subject: [Rd] polygon kills X-server (PR#14055)
In-Reply-To: <loom.20091110T232355-0@post.gmane.org>
References: <20091110203016.5C2272831FE1@mail.pubhealth.ku.dk>
	<loom.20091110T232355-0@post.gmane.org>
Message-ID: <4AFA7D4E.2060703@statistik.tu-dortmund.de>



Ben Bolker wrote:
>  <lpagie <at> xs4all.nl> writes:
> 
>> Full_Name: Ludo Pagie
>> Version: 2.10.0
>> OS: linux, ubuntu, 8.04
>> Submission from: (NULL) (83.163.218.221)
>>
>> when I make a polygon with 100,000 vertices my X-server is being
>> killed. This occurs in R-2.9.0 and a freshly installed R-2.10.0
>> I'm running Ubuntu with a locally compiled R:
> 
> 
>> [snip]
> 
>  It took quite a while, and every time I obscure the window
> it hangs R while it redraws, but that all seems as expected.
> The rest of my system seems to be running fine while it works
> on that (one core is pegged at 100% CPU, but the other is
> handling everything OK).
> 
> Linux bolker-lap2 2.6.27-15-generic #1 SMP Tue Oct 20 06:52:09 UTC 2009 i686
> GNU/Linux
> 
> Ubuntu 8.10
> for what it's worth, I'm not running a window manager with any
> fancy screen effects (don't know if that would matter??)
> 
> R 2.10.0, stock Ubuntu installation

Maybe related to graphics card driver that cannot handle it or even 
graphics hardware. I will try on some machine with really different 
graphics hardware as well as on some virtual machine.

Uwe


> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From abhibera at gmail.com  Wed Nov 11 11:34:50 2009
From: abhibera at gmail.com (Abhijit Bera)
Date: Wed, 11 Nov 2009 15:34:50 +0500
Subject: [Rd] Help with fPortfolio
In-Reply-To: <fc212e850911102252h2ec4e719mdc660519365601e4@mail.gmail.com>
References: <fc212e850911102252h2ec4e719mdc660519365601e4@mail.gmail.com>
Message-ID: <fc212e850911110234s572602a8n7ad7f2b7f5390841@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091111/37da432d/attachment.pl>

From murdoch at stats.uwo.ca  Wed Nov 11 11:36:33 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 11 Nov 2009 05:36:33 -0500
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <4AFA3AA7.8080104@acm.org>
References: <4AFA350D.7060303@acm.org> <4AFA3AA7.8080104@acm.org>
Message-ID: <4AFA93B1.6050508@stats.uwo.ca>

On 10/11/2009 11:16 PM, Tony Plate wrote:
> PS, I should have said that I'm reading the docs for unlink in R-2.10.0 
> on a Linux system.  The docs that appear in a Windows installation of R 
> are different (the Windows docs do not mention that not all systems 
> support recursive=TRUE).
> 
> Here's a plea for docs to be uniform across all systems!  Trying to 
> write R code that works on all systems is much harder when the docs are 
> different across systems, and you might only see system specific notes 
> on a different system than the one you're working on.

That's a good point, but in favour of the current practice, it is very 
irritating when searches take you to functions that don't work on your 
system.

One thing that might be possible is to render all versions of the help 
on all systems, but with some sort of indicator (e.g. a colour change) 
to indicate things that don't apply on your system, or only apply on 
your system.  I think the hardest part of doing this would be designing 
the output; actually implementing it would not be so bad.

Duncan Murdoch

> 
> -- Tony Plate
> 
> Tony Plate wrote:
>> The VALUE section in the help for 'unlink' says:
>>
>> |  0| for success, |1| for failure. Not deleting a non-existent file 
>> is not a failure, nor is being unable to delete a directory if 
>> |recursive = FALSE|. However, missing values in |x| result are 
>> regarded as failures.
>>
>> The last phrase doesn't make sense to me.  Should it be either 
>> "missing values in x are regarded as failures" or "missing values in x 
>> result in failure" ?
>>
>> Also, after reading the docs, I'm still unable to work out if unlink() 
>> will return 1 when the user tries to recursively delete a directory on 
>> systems that don't support recursive=T.
>>
>> The DETAILS section says "recursive=TRUE is not supported on all 
>> platforms, and may be ignored, with a warning", which could be 
>> interpreted as implying no special action when recursive=TRUE is not 
>> implemented (other than a warning()), and the VALUE section doesn't 
>> say what the return value will be under such conditions.
>>
>> I've skimmed the various *_unlink functions in src/main/platform.c, 
>> and it looks like they all implement recursive=TRUE, so I'm still in 
>> the dark about the required behavior on systems that don't support 
>> it.  Could this be clarified in the help file?
>>
>> thanks,
>>
>> Tony Plate
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From chalabi at phys.ethz.ch  Wed Nov 11 11:57:12 2009
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Wed, 11 Nov 2009 11:57:12 +0100
Subject: [Rd] Help with fPortfolio
In-Reply-To: <fc212e850911110234s572602a8n7ad7f2b7f5390841@mail.gmail.com>
References: <fc212e850911102252h2ec4e719mdc660519365601e4@mail.gmail.com>
	<fc212e850911110234s572602a8n7ad7f2b7f5390841@mail.gmail.com>
Message-ID: <20091111115712.4e5d4ce2@mimi>

>>>> "AB" == Abhijit Bera <abhibera at gmail.com>
>>>> on Wed, 11 Nov 2009 15:34:50 +0500

Hi Abhijit,

Please note that cross-posting is considered to be impolite.

   AB> I'm getting the following errors while using the
   AB> efficientPortfolio function
   AB> even though I'm setting the target return to the mean of the
   AB> TargetReturn I
   AB> obtain from the portfolio object created by the
   AB> feasiblePortfolio function.
   AB>
   AB> First Error:
   AB> Error: targetReturn >= min(mu) is not TRUE

As stated by the error message, the target return should be larger
or equal to the minimum return of your time series.

   AB>
   AB> Second Error:
   AB> Error in .rquadprog(Dmat = args, dvec = args, Amat = args, :
   AB>
   AB> NA/NaN/Inf in foreign function call (arg 8)

HTH,
Yohan

-- 
PhD candidate
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From hb at stat.berkeley.edu  Wed Nov 11 12:27:29 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Wed, 11 Nov 2009 12:27:29 +0100
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <4AFA93B1.6050508@stats.uwo.ca>
References: <4AFA350D.7060303@acm.org> <4AFA3AA7.8080104@acm.org> 
	<4AFA93B1.6050508@stats.uwo.ca>
Message-ID: <59d7961d0911110327xadd841te7652d135bc6e7f7@mail.gmail.com>

On Wed, Nov 11, 2009 at 11:36 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 10/11/2009 11:16 PM, Tony Plate wrote:
>>
>> PS, I should have said that I'm reading the docs for unlink in R-2.10.0 on
>> a Linux system. ?The docs that appear in a Windows installation of R are
>> different (the Windows docs do not mention that not all systems support
>> recursive=TRUE).
>>
>> Here's a plea for docs to be uniform across all systems! ?Trying to write
>> R code that works on all systems is much harder when the docs are different
>> across systems, and you might only see system specific notes on a different
>> system than the one you're working on.
>
> That's a good point, but in favour of the current practice, it is very
> irritating when searches take you to functions that don't work on your
> system.
>
> One thing that might be possible is to render all versions of the help on
> all systems, but with some sort of indicator (e.g. a colour change) to
> indicate things that don't apply on your system, or only apply on your
> system. ?I think the hardest part of doing this would be designing the
> output; actually implementing it would not be so bad.

I 2nd this wishlist - to see the documentation for all (known)
platforms, if possible.  A very simple solution is to have an Rd
section on operating-system specific features, e.g.
\section{Differences between operating systems}{...}.

This would decrease the trial and error of producing cross-platform code.

/Henrik

>
> Duncan Murdoch
>
>>
>> -- Tony Plate
>>
>> Tony Plate wrote:
>>>
>>> The VALUE section in the help for 'unlink' says:
>>>
>>> | ?0| for success, |1| for failure. Not deleting a non-existent file is
>>> not a failure, nor is being unable to delete a directory if |recursive =
>>> FALSE|. However, missing values in |x| result are regarded as failures.
>>>
>>> The last phrase doesn't make sense to me. ?Should it be either "missing
>>> values in x are regarded as failures" or "missing values in x result in
>>> failure" ?
>>>
>>> Also, after reading the docs, I'm still unable to work out if unlink()
>>> will return 1 when the user tries to recursively delete a directory on
>>> systems that don't support recursive=T.
>>>
>>> The DETAILS section says "recursive=TRUE is not supported on all
>>> platforms, and may be ignored, with a warning", which could be interpreted
>>> as implying no special action when recursive=TRUE is not implemented (other
>>> than a warning()), and the VALUE section doesn't say what the return value
>>> will be under such conditions.
>>>
>>> I've skimmed the various *_unlink functions in src/main/platform.c, and
>>> it looks like they all implement recursive=TRUE, so I'm still in the dark
>>> about the required behavior on systems that don't support it. ?Could this be
>>> clarified in the help file?
>>>
>>> thanks,
>>>
>>> Tony Plate
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From murdoch at stats.uwo.ca  Wed Nov 11 12:55:37 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 11 Nov 2009 06:55:37 -0500
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <59d7961d0911110327xadd841te7652d135bc6e7f7@mail.gmail.com>
References: <4AFA350D.7060303@acm.org> <4AFA3AA7.8080104@acm.org>
	<4AFA93B1.6050508@stats.uwo.ca>
	<59d7961d0911110327xadd841te7652d135bc6e7f7@mail.gmail.com>
Message-ID: <4AFAA639.3020606@stats.uwo.ca>

Henrik Bengtsson wrote:
> On Wed, Nov 11, 2009 at 11:36 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>   
>> On 10/11/2009 11:16 PM, Tony Plate wrote:
>>     
>>> PS, I should have said that I'm reading the docs for unlink in R-2.10.0 on
>>> a Linux system.  The docs that appear in a Windows installation of R are
>>> different (the Windows docs do not mention that not all systems support
>>> recursive=TRUE).
>>>
>>> Here's a plea for docs to be uniform across all systems!  Trying to write
>>> R code that works on all systems is much harder when the docs are different
>>> across systems, and you might only see system specific notes on a different
>>> system than the one you're working on.
>>>       
>> That's a good point, but in favour of the current practice, it is very
>> irritating when searches take you to functions that don't work on your
>> system.
>>
>> One thing that might be possible is to render all versions of the help on
>> all systems, but with some sort of indicator (e.g. a colour change) to
>> indicate things that don't apply on your system, or only apply on your
>> system.  I think the hardest part of doing this would be designing the
>> output; actually implementing it would not be so bad.
>>     
>
> I 2nd this wishlist - to see the documentation for all (known)
> platforms, if possible.  

One way to see this is to read the .Rd files, rather than the rendered 
version. 

> A very simple solution is to have an Rd
> section on operating-system specific features, e.g.
> \section{Differences between operating systems}{...}.
>
> This would decrease the trial and error of producing cross-platform code.
>
>   
This is not easy.  For example, with unlink should the "recursive=TRUE" 
option not be mentioned except in the platform-specific section?  I 
think that would make the docs a lot harder to read.

Duncan Murdoch

> /Henrik
>
>   
>> Duncan Murdoch
>>
>>     
>>> -- Tony Plate
>>>
>>> Tony Plate wrote:
>>>       
>>>> The VALUE section in the help for 'unlink' says:
>>>>
>>>> |  0| for success, |1| for failure. Not deleting a non-existent file is
>>>> not a failure, nor is being unable to delete a directory if |recursive =
>>>> FALSE|. However, missing values in |x| result are regarded as failures.
>>>>
>>>> The last phrase doesn't make sense to me.  Should it be either "missing
>>>> values in x are regarded as failures" or "missing values in x result in
>>>> failure" ?
>>>>
>>>> Also, after reading the docs, I'm still unable to work out if unlink()
>>>> will return 1 when the user tries to recursively delete a directory on
>>>> systems that don't support recursive=T.
>>>>
>>>> The DETAILS section says "recursive=TRUE is not supported on all
>>>> platforms, and may be ignored, with a warning", which could be interpreted
>>>> as implying no special action when recursive=TRUE is not implemented (other
>>>> than a warning()), and the VALUE section doesn't say what the return value
>>>> will be under such conditions.
>>>>
>>>> I've skimmed the various *_unlink functions in src/main/platform.c, and
>>>> it looks like they all implement recursive=TRUE, so I'm still in the dark
>>>> about the required behavior on systems that don't support it.  Could this be
>>>> clarified in the help file?
>>>>
>>>> thanks,
>>>>
>>>> Tony Plate
>>>>
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>>>         
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>       
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>     
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From lpagie at xs4all.nl  Wed Nov 11 11:59:12 2009
From: lpagie at xs4all.nl (Ludo Pagie)
Date: Wed, 11 Nov 2009 11:59:12 +0100
Subject: [Rd] polygon kills X-server (PR#14055)
In-Reply-To: <4AFA7D4E.2060703@statistik.tu-dortmund.de>
References: <20091110203016.5C2272831FE1@mail.pubhealth.ku.dk>
	<loom.20091110T232355-0@post.gmane.org>
	<4AFA7D4E.2060703@statistik.tu-dortmund.de>
Message-ID: <20091111105912.GD8104@onyx.nki.nl>

I was thinking along the same line. I have an NVidia, GeForce
6600 GT, 256 MB, NVIDIA Driver Version:169.12.

Ludo

On Wed, Nov 11, 2009 at 10:01:02AM +0100, Uwe Ligges wrote:
>
>
> Ben Bolker wrote:
>>  <lpagie <at> xs4all.nl> writes:
>>
>>> Full_Name: Ludo Pagie
>>> Version: 2.10.0
>>> OS: linux, ubuntu, 8.04
>>> Submission from: (NULL) (83.163.218.221)
>>>
>>> when I make a polygon with 100,000 vertices my X-server is being
>>> killed. This occurs in R-2.9.0 and a freshly installed R-2.10.0
>>> I'm running Ubuntu with a locally compiled R:
>>
>>
>>> [snip]
>>
>>  It took quite a while, and every time I obscure the window
>> it hangs R while it redraws, but that all seems as expected.
>> The rest of my system seems to be running fine while it works
>> on that (one core is pegged at 100% CPU, but the other is
>> handling everything OK).
>>
>> Linux bolker-lap2 2.6.27-15-generic #1 SMP Tue Oct 20 06:52:09 UTC 2009 i686
>> GNU/Linux
>>
>> Ubuntu 8.10
>> for what it's worth, I'm not running a window manager with any
>> fancy screen effects (don't know if that would matter??)
>>
>> R 2.10.0, stock Ubuntu installation
>
> Maybe related to graphics card driver that cannot handle it or even  
> graphics hardware. I will try on some machine with really different  
> graphics hardware as well as on some virtual machine.
>
> Uwe
>
>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From raimon.massanet at upc.edu  Wed Nov 11 13:15:11 2009
From: raimon.massanet at upc.edu (raimon.massanet at upc.edu)
Date: Wed, 11 Nov 2009 13:15:11 +0100 (CET)
Subject: [Rd] Unexpected behaviour of seq(from,to,by) (PR#14057)
Message-ID: <20091111121511.7A0842831FF8@mail.pubhealth.ku.dk>

Full_Name: Raimon Massanet
Version: 2.9.2
OS: Linux Ubuntu 8.10
Submission from: (NULL) (147.83.71.76)


# Hi there.
# I'm not sure whether or not this is a bug.
# But it surely is an unexpected behaviour.

V <- seq(from=0,to=1,by=0.1)

# Should generate a sequence with a step of 0.1

V==0
# [1]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
# Ok!

V==0.1
# [1] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
# Ok!

V==0.6
# [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
# None?

V[7]
# [1] 0.6
V[7]==0.6
# [1] FALSE
# Rounding!?

V[8]
# [1] 0.7
V[8]==0.7
# [1] FALSE
# Rounding!?

V[9]
# [1] 0.8
V[9]==0.8
# [1] TRUE
# Back to normal

# The generated sequence is fine for all values except for 0.6
# and 0.7, which appear to be somewhat off the expected value.

# According to the R manual the sequence is generated in the form:
# from, from+by, ..., to
# which is not the case.

# Either the function or the documentation lead to an unexpected
# behaviour of seq(from,to,by).

# Thanks!


From savicky at cs.cas.cz  Wed Nov 11 13:29:50 2009
From: savicky at cs.cas.cz (Petr Savicky)
Date: Wed, 11 Nov 2009 13:29:50 +0100
Subject: [Rd] Unexpected behaviour of seq(from,to,by) (PR#14057)
In-Reply-To: <20091111121511.7A0842831FF8@mail.pubhealth.ku.dk>
References: <20091111121511.7A0842831FF8@mail.pubhealth.ku.dk>
Message-ID: <20091111122950.GA25919@cs.cas.cz>

> # Hi there.
> # I'm not sure whether or not this is a bug.

No, this is not a bug. See FAQ 7.31 at
  http://cran.r-project.org/doc/FAQ/R-FAQ.html
and the comments below.

> # But it surely is an unexpected behaviour.
> 
> V <- seq(from=0,to=1,by=0.1)
> 
> # Should generate a sequence with a step of 0.1
> 
> V==0
> # [1]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> # Ok!
> 
> V==0.1
> # [1] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> # Ok!
> 
> V==0.6
> # [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> # None?
> 
> V[7]
> # [1] 0.6
> V[7]==0.6
> # [1] FALSE
> # Rounding!?

Yes. The sequence of operations, which leads to V[7], produce
slightly different rounding error than the direct conversion of 0.6
to binary representation. So, we have
  formatC(V[7], digits=20) # [1] "0.60000000000000008882"
  formatC(0.6, digits=20) # [1] "0.5999999999999999778"

See 
  http://wiki.r-project.org/rwiki/doku.php?id=misc:r_accuracy
for more examples and explanations.

Petr Savicky. 

> V[8]
> # [1] 0.7
> V[8]==0.7
> # [1] FALSE
> # Rounding!?
> 
> V[9]
> # [1] 0.8
> V[9]==0.8
> # [1] TRUE
> # Back to normal
> 
> # The generated sequence is fine for all values except for 0.6
> # and 0.7, which appear to be somewhat off the expected value.
> 
> # According to the R manual the sequence is generated in the form:
> # from, from+by, ..., to
> # which is not the case.
> 
> # Either the function or the documentation lead to an unexpected
> # behaviour of seq(from,to,by).
> 
> # Thanks!
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From Stephen at Prollenium.com  Wed Nov 11 13:50:10 2009
From: Stephen at Prollenium.com (Stephen at Prollenium.com)
Date: Wed, 11 Nov 2009 13:50:10 +0100 (CET)
Subject: [Rd] R 2.10.0 Mac OS X 10.6 (PR#14058)
Message-ID: <20091111125010.6006D282EFC6@mail.pubhealth.ku.dk>


--Apple-Mail-56-463481941
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii;
	format=flowed;
	delsp=yes

If you search for help on a phrase and double click on one of the  
items matching list an error is generated and R is hung.  This is very  
repeatable.  Using a MacBook Pro with 10.6.1 .

Here is a screen capture of the console window.

Best,

Steve Kennedy


--Apple-Mail-56-463481941
Content-Disposition: inline;
	filename="R Error.tiff"
Content-Type: image/tiff;
	x-mac-hide-extension=yes;
	x-unix-mode=0644;
	name="R Error.tiff"
Content-Transfer-Encoding: base64

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
0y1hcHBsF8uxlthVByKnAosE/LLsOgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARclhZ
WgAAAVAAAAAUZ1hZWgAAAWQAAAAUYlhZWgAAAXgAAAAUd3RwdAAAAYwAAAAUY2hhZAAAAaAAAAAs
clRSQwAAAcwAAAgMZ1RSQwAACdgAAAgMYlRSQwAAEeQAAAgMYWFyZwAAGfAAAAAgYWFnZwAAGhAA
AAAgYWFiZwAAGjAAAAAgdmNndAAAGlAAAAYSbmRpbgAAIGQAAAY+ZGVzYwAAJqQAAABkZHNjbQAA
JwgAAAJCbW1vZAAAKUwAAAAoY3BydAAAKXQAAAAkWFlaIAAAAAAAAF9CAAA1/QAABuhYWVogAAAA
AAAAbe0AALCFAAAbLFhZWiAAAAAAAAAppgAAGX0AALEZWFlaIAAAAAAAAPNSAAEAAAABFs9zZjMy
AAAAAAABDEIAAAXe///zJgAAB5IAAP2R///7ov///aMAAAPcAADAbGN1cnYAAAAAAAAEAAAAAAUA
CgAPABQAGQAeACMAKAAtADIANwA7AEAARQBKAE8AVABZAF4AYwBoAG0AcgB3AHwAgQCGAIsAkACV
AJoAnwCkAKkArgCyALcAvADBAMYAywDQANUA2gDgAOUA6gDwAPUA+wEBAQcBDAESARgBHgElASsB
MQE4AT4BRQFLAVIBWQFgAWYBbQF1AXwBgwGKAZIBmQGhAagBsAG4AcAByAHQAdgB4AHpAfEB+gIC
AgsCFAIcAiUCLgI3AkACSgJTAlwCZgJwAnkCgwKNApcCoQKrArUCvwLKAtQC3wLqAvQC/wMKAxUD
IAMrAzcDQgNNA1kDZQNwA3wDiAOUA6ADrAO5A8UD0gPeA+sD+AQEBBEEHgQsBDkERgRUBGEEbwR8
BIoEmASmBLQEwgTRBN8E7gT8BQsFGgUoBTcFRwVWBWUFdAWEBZMFowWzBcMF0wXjBfMGAwYUBiQG
NQZFBlYGZwZ4BokGmgarBr0GzgbgBvIHAwcVBycHOQdMB14HcAeDB5YHqAe7B84H4Qf0CAgIGwgv
CEIIVghqCH4IkgimCLoIzgjjCPcJDAkhCTYJSwlgCXUJigmgCbUJywngCfYKDAoiCjkKTwplCnwK
kgqpCsAK1wruCwULHQs0C0sLYwt7C5MLqwvDC9sL8wwMDCQMPQxWDG4MhwyhDLoM0wztDQYNIA06
DVQNbg2IDaINvA3XDfEODA4nDkIOXQ54DpMOrw7KDuYPAg8eDzoPVg9yD44Pqw/ID+QQARAeEDsQ
WBB2EJMQsRDOEOwRChEoEUYRZBGDEaERwBHfEf4SHRI8ElsSehKaErkS2RL5ExkTORNZE3oTmhO7
E9sT/BQdFD4UXxSBFKIUxBTlFQcVKRVLFW0VkBWyFdUV9xYaFj0WYBaDFqcWyhbuFxIXNRdZF30X
ohfGF+oYDxg0GFkYfRijGMgY7RkTGTgZXhmEGaoZ0Bn2Gh0aQxpqGpAatxreGwYbLRtUG3wboxvL
G/McGxxDHGwclBy9HOYdDh03HWAdih2zHd0eBh4wHloehB6uHtgfAx8tH1gfgx+uH9kgBCAwIFsg
hyCzIN4hCiE3IWMhjyG8IekiFSJCInAinSLKIvgjJSNTI4EjryPdJAwkOiRpJJckxiT1JSQlVCWD
JbMl4iYSJkImciajJtMnAyc0J2UnlifHJ/goKihbKI0ovijwKSIpVSmHKbkp7CofKlIqhSq4Kusr
HitSK4YruivuLCIsViyKLL8s9C0pLV4tky3ILf0uMy5pLp4u1C8LL0Evdy+uL+QwGzBSMIkwwTD4
MTAxZzGfMdcyDzJIMoAyuDLxMyozYzOcM9U0DzRINII0vDT2NTA1ajWlNd82GjZVNpA2yzcGN0I3
fje5N/U4MThtOKo45jkjOWA5nTnaOhc6VDqSOs87DTtLO4k7xzwGPEQ8gzzCPQE9QD1/Pb89/j4+
Pn4+vj7+Pz8/fz/AQABAQUCCQMRBBUFHQYhBykIMQk5CkULTQxZDWEObQ95EIURlRKhE7EUwRXRF
uEX8RkBGhUbKRw5HU0eZR95II0hpSK9I9Uk7SYFJx0oOSlVKm0riSypLcUu4TABMSEyQTNhNIE1o
TbFN+k5CToxO1U8eT2dPsU/7UEVQj1DZUSRRblG5UgRST1KaUuVTMVN8U8hUFFRgVK1U+VVGVZJV
31YsVnpWx1cUV2JXsFf+WExYmljpWThZhlnVWiRadFrDWxNbY1uyXANcU1yjXPRdRF2VXeZeN16J
XtpfLF9+X9BgImB0YMdhGWFsYb9iEmJlYrljDGNgY7RkCGRcZLFlBWVaZa9mBGZZZq9nBGdaZ7Bo
BmhcaLJpCWlfabZqDWpkarxrE2tra8NsG2xzbMttI218bdVuLm6HbuBvOm+Tb+1wR3ChcPtxVnGw
cgtyZnLBcxxzeHPTdC90i3TndUN1oHX8dll2tncTd3B3zngreIl453lFeaN6Anpger97Hnt9e9x8
PHybfPt9W327fht+fH7cfz1/nn//gGCAwoEjgYWB54JJgquDDoNwg9OENoSZhPyFYIXDhieGi4bv
h1SHuIgdiIGI5olMibGKFop8iuKLSIuujBSMe4zijUiNr44Xjn6O5Y9Nj7WQHZCFkO6RVpG/kiiS
kZL6k2STzZQ3lKGVC5V1leCWSpa1lyCXi5f3mGKYzpk6maaaEpp+muubV5vEnDGcn50MnXmd555V
nsOfMZ+goA+gfaDsoVuhy6I6oqqjGqOKo/qkaqTbpUylvKYupp+nEKeCp/SoZajYqUqpvKovqqKr
FauIq/usb6zjrVaty64/rrOvKK+dsBGwh7D8sXGx57JdstOzSbO/tDa0rbUktZu2EraJtwG3ebfx
uGm44blaudK6S7rEuz67t7wwvKq9JL2evhm+k78Ov4nABMB/wPrBdsHxwm3C6cNmw+LEX8TcxVnF
1sZTxtHHTsfMyErIyclHycbKRcrEy0PLwsxCzMHNQc3BzkLOws9Dz8PQRNDG0UfRyNJK0szTTtPQ
1FPU1tVY1dvWXtbi12XX6dht2PHZddn62n/bA9uI3A7ck90Z3Z7eJN6q3zHft+A+4MXhTOHT4lri
4uNq4/LkeuUC5YvmE+ac5yXnr+g46MLpTOnW6mDq6ut16//siu0W7aHuLO6470Tv0PBc8OnxdfIC
8o/zHPOq9Df0xfVT9eH2b/b+94z4G/iq+Tn5yfpZ+uj7ePwI/Jn9Kf26/kv+3P9uY3VydgAAAAAA
AAQAAAAABQAKAA8AFAAZAB4AIwAoAC0AMgA3ADsAQABFAEoATwBUAFkAXgBjAGgAbQByAHcAfACB
AIYAiwCQAJUAmgCfAKQAqQCuALIAtwC8AMEAxgDLANAA1QDaAOAA5QDqAPAA9QD7AQEBBwEMARIB
GAEeASUBKwExATgBPgFFAUsBUgFZAWABZgFtAXUBfAGDAYoBkgGZAaEBqAGwAbgBwAHIAdAB2AHg
AekB8QH6AgICCwIUAhwCJQIuAjcCQAJKAlMCXAJmAnACeQKDAo0ClwKhAqsCtQK/AsoC1ALfAuoC
9AL/AwoDFQMgAysDNwNCA00DWQNlA3ADfAOIA5QDoAOsA7kDxQPSA94D6wP4BAQEEQQeBCwEOQRG
BFQEYQRvBHwEigSYBKYEtATCBNEE3wTuBPwFCwUaBSgFNwVHBVYFZQV0BYQFkwWjBbMFwwXTBeMF
8wYDBhQGJAY1BkUGVgZnBngGiQaaBqsGvQbOBuAG8gcDBxUHJwc5B0wHXgdwB4MHlgeoB7sHzgfh
B/QICAgbCC8IQghWCGoIfgiSCKYIugjOCOMI9wkMCSEJNglLCWAJdQmKCaAJtQnLCeAJ9goMCiIK
OQpPCmUKfAqSCqkKwArXCu4LBQsdCzQLSwtjC3sLkwurC8ML2wvzDAwMJAw9DFYMbgyHDKEMugzT
DO0NBg0gDToNVA1uDYgNog28DdcN8Q4MDicOQg5dDngOkw6vDsoO5g8CDx4POg9WD3IPjg+rD8gP
5BABEB4QOxBYEHYQkxCxEM4Q7BEKESgRRhFkEYMRoRHAEd8R/hIdEjwSWxJ6EpoSuRLZEvkTGRM5
E1kTehOaE7sT2xP8FB0UPhRfFIEUohTEFOUVBxUpFUsVbRWQFbIV1RX3FhoWPRZgFoMWpxbKFu4X
Ehc1F1kXfReiF8YX6hgPGDQYWRh9GKMYyBjtGRMZOBleGYQZqhnQGfYaHRpDGmoakBq3Gt4bBhst
G1QbfBujG8sb8xwbHEMcbByUHL0c5h0OHTcdYB2KHbMd3R4GHjAeWh6EHq4e2B8DHy0fWB+DH64f
2SAEIDAgWyCHILMg3iEKITchYyGPIbwh6SIVIkIicCKdIsoi+CMlI1MjgSOvI90kDCQ6JGkklyTG
JPUlJCVUJYMlsyXiJhImQiZyJqMm0ycDJzQnZSeWJ8cn+CgqKFsojSi+KPApIilVKYcpuSnsKh8q
UiqFKrgq6yseK1Irhiu6K+4sIixWLIosvyz0LSktXi2TLcgt/S4zLmkuni7ULwsvQS93L64v5DAb
MFIwiTDBMPgxMDFnMZ8x1zIPMkgygDK4MvEzKjNjM5wz1TQPNEg0gjS8NPY1MDVqNaU13zYaNlU2
kDbLNwY3Qjd+N7k39TgxOG04qjjmOSM5YDmdOdo6FzpUOpI6zzsNO0s7iTvHPAY8RDyDPMI9AT1A
PX89vz3+Pj4+fj6+Pv4/Pz9/P8BAAEBBQIJAxEEFQUdBiEHKQgxCTkKRQtNDFkNYQ5tD3kQhRGVE
qETsRTBFdEW4RfxGQEaFRspHDkdTR5lH3kgjSGlIr0j1STtJgUnHSg5KVUqbSuJLKktxS7hMAExI
TJBM2E0gTWhNsU36TkJOjE7VTx5PZ0+xT/tQRVCPUNlRJFFuUblSBFJPUppS5VMxU3xTyFQUVGBU
rVT5VUZVklXfVixWelbHVxRXYlewV/5YTFiaWOlZOFmGWdVaJFp0WsNbE1tjW7JcA1xTXKNc9F1E
XZVd5l43Xole2l8sX35f0GAiYHRgx2EZYWxhv2ISYmViuWMMY2BjtGQIZFxksWUFZVplr2YEZllm
r2cEZ1pnsGgGaFxosmkJaV9ptmoNamRqvGsTa2trw2wbbHNsy20jbXxt1W4ubodu4G86b5Nv7XBH
cKFw+3FWcbByC3JmcsFzHHN4c9N0L3SLdOd1Q3Wgdfx2WXa2dxN3cHfOeCt4iXjneUV5o3oCemB6
v3see3173Hw8fJt8+31bfbt+G358ftx/PX+ef/+AYIDCgSOBhYHngkmCq4MOg3CD04Q2hJmE/IVg
hcOGJ4aLhu+HVIe4iB2IgYjmiUyJsYoWinyK4otIi66MFIx7jOKNSI2vjheOfo7lj02PtZAdkIWQ
7pFWkb+SKJKRkvqTZJPNlDeUoZULlXWV4JZKlrWXIJeLl/eYYpjOmTqZppoSmn6a65tXm8ScMZyf
nQydeZ3nnlWew58xn6CgD6B9oOyhW6HLojqiqqMao4qj+qRqpNulTKW8pi6mn6cQp4Kn9KhlqNip
Sqm8qi+qoqsVq4ir+6xvrOOtVq3Lrj+us68or52wEbCHsPyxcbHnsl2y07NJs7+0NrSttSS1m7YS
tom3Abd5t/G4abjhuVq50rpLusS7Pru3vDC8qr0kvZ6+Gb6Tvw6/icAEwH/A+sF2wfHCbcLpw2bD
4sRfxNzFWcXWxlPG0cdOx8zISsjJyUfJxspFysTLQ8vCzELMwc1BzcHOQs7Cz0PPw9BE0MbRR9HI
0krSzNNO09DUU9TW1VjV29Ze1uLXZdfp2G3Y8dl12fraf9sD24jcDtyT3Rndnt4k3qrfMd+34D7g
xeFM4dPiWuLi42rj8uR65QLli+YT5pznJeev6DjowulM6dbqYOrq63Xr/+yK7Rbtoe4s7rjvRO/Q
8Fzw6fF18gLyj/Mc86r0N/TF9VP14fZv9v73jPgb+Kr5OfnJ+ln66Pt4/Aj8mf0p/br+S/7c/25j
dXJ2AAAAAAAABAAAAAAFAAoADwAUABkAHgAjACgALQAyADcAOwBAAEUASgBPAFQAWQBeAGMAaABt
AHIAdwB8AIEAhgCLAJAAlQCaAJ8ApACpAK4AsgC3ALwAwQDGAMsA0ADVANoA4ADlAOoA8AD1APsB
AQEHAQwBEgEYAR4BJQErATEBOAE+AUUBSwFSAVkBYAFmAW0BdQF8AYMBigGSAZkBoQGoAbABuAHA
AcgB0AHYAeAB6QHxAfoCAgILAhQCHAIlAi4CNwJAAkoCUwJcAmYCcAJ5AoMCjQKXAqECqwK1Ar8C
ygLUAt8C6gL0Av8DCgMVAyADKwM3A0IDTQNZA2UDcAN8A4gDlAOgA6wDuQPFA9ID3gPrA/gEBAQR
BB4ELAQ5BEYEVARhBG8EfASKBJgEpgS0BMIE0QTfBO4E/AULBRoFKAU3BUcFVgVlBXQFhAWTBaMF
swXDBdMF4wXzBgMGFAYkBjUGRQZWBmcGeAaJBpoGqwa9Bs4G4AbyBwMHFQcnBzkHTAdeB3AHgweW
B6gHuwfOB+EH9AgICBsILwhCCFYIagh+CJIIpgi6CM4I4wj3CQwJIQk2CUsJYAl1CYoJoAm1CcsJ
4An2CgwKIgo5Ck8KZQp8CpIKqQrACtcK7gsFCx0LNAtLC2MLewuTC6sLwwvbC/MMDAwkDD0MVgxu
DIcMoQy6DNMM7Q0GDSANOg1UDW4NiA2iDbwN1w3xDgwOJw5CDl0OeA6TDq8Oyg7mDwIPHg86D1YP
cg+OD6sPyA/kEAEQHhA7EFgQdhCTELEQzhDsEQoRKBFGEWQRgxGhEcAR3xH+Eh0SPBJbEnoSmhK5
EtkS+RMZEzkTWRN6E5oTuxPbE/wUHRQ+FF8UgRSiFMQU5RUHFSkVSxVtFZAVshXVFfcWGhY9FmAW
gxanFsoW7hcSFzUXWRd9F6IXxhfqGA8YNBhZGH0YoxjIGO0ZExk4GV4ZhBmqGdAZ9hodGkMaahqQ
Grca3hsGGy0bVBt8G6MbyxvzHBscQxxsHJQcvRzmHQ4dNx1gHYodsx3dHgYeMB5aHoQerh7YHwMf
LR9YH4Mfrh/ZIAQgMCBbIIcgsyDeIQohNyFjIY8hvCHpIhUiQiJwIp0iyiL4IyUjUyOBI68j3SQM
JDokaSSXJMYk9SUkJVQlgyWzJeImEiZCJnImoybTJwMnNCdlJ5Ynxyf4KCooWyiNKL4o8CkiKVUp
hym5KewqHypSKoUquCrrKx4rUiuGK7or7iwiLFYsiiy/LPQtKS1eLZMtyC39LjMuaS6eLtQvCy9B
L3cvri/kMBswUjCJMMEw+DEwMWcxnzHXMg8ySDKAMrgy8TMqM2MznDPVNA80SDSCNLw09jUwNWo1
pTXfNho2VTaQNss3BjdCN343uTf1ODE4bTiqOOY5IzlgOZ052joXOlQ6kjrPOw07SzuJO8c8BjxE
PIM8wj0BPUA9fz2/Pf4+Pj5+Pr4+/j8/P38/wEAAQEFAgkDEQQVBR0GIQcpCDEJOQpFC00MWQ1hD
m0PeRCFEZUSoROxFMEV0RbhF/EZARoVGykcOR1NHmUfeSCNIaUivSPVJO0mBScdKDkpVSptK4ksq
S3FLuEwATEhMkEzYTSBNaE2xTfpOQk6MTtVPHk9nT7FP+1BFUI9Q2VEkUW5RuVIEUk9SmlLlUzFT
fFPIVBRUYFStVPlVRlWSVd9WLFZ6VsdXFFdiV7BX/lhMWJpY6Vk4WYZZ1VokWnRaw1sTW2NbslwD
XFNco1z0XURdlV3mXjdeiV7aXyxffl/QYCJgdGDHYRlhbGG/YhJiZWK5YwxjYGO0ZAhkXGSxZQVl
WmWvZgRmWWavZwRnWmewaAZoXGiyaQlpX2m2ag1qZGq8axNra2vDbBtsc2zLbSNtfG3Vbi5uh27g
bzpvk2/tcEdwoXD7cVZxsHILcmZywXMcc3hz03QvdIt053VDdaB1/HZZdrZ3E3dwd854K3iJeOd5
RXmjegJ6YHq/ex57fXvcfDx8m3z7fVt9u34bfnx+3H89f55//4BggMKBI4GFgeeCSYKrgw6DcIPT
hDaEmYT8hWCFw4YnhouG74dUh7iIHYiBiOaJTImxihaKfIrii0iLrowUjHuM4o1Ija+OF45+juWP
TY+1kB2QhZDukVaRv5IokpGS+pNkk82UN5ShlQuVdZXglkqWtZcgl4uX95himM6ZOpmmmhKafprr
m1ebxJwxnJ+dDJ15neeeVZ7DnzGfoKAPoH2g7KFbocuiOqKqoxqjiqP6pGqk26VMpbymLqafpxCn
gqf0qGWo2KlKqbyqL6qiqxWriKv7rG+s461WrcuuP66zryivnbARsIew/LFxseeyXbLTs0mzv7Q2
tK21JLWbthK2ibcBt3m38bhpuOG5WrnSuku6xLs+u7e8MLyqvSS9nr4ZvpO/Dr+JwATAf8D6wXbB
8cJtwunDZsPixF/E3MVZxdbGU8bRx07HzMhKyMnJR8nGykXKxMtDy8LMQszBzUHNwc5CzsLPQ8/D
0ETQxtFH0cjSStLM007T0NRT1NbVWNXb1l7W4tdl1+nYbdjx2XXZ+tp/2wPbiNwO3JPdGd2e3iTe
qt8x37fgPuDF4Uzh0+Ja4uLjauPy5HrlAuWL5hPmnOcl56/oOOjC6Uzp1upg6urrdev/7IrtFu2h
7izuuO9E79DwXPDp8XXyAvKP8xzzqvQ39MX1U/Xh9m/2/veM+Bv4qvk5+cn6Wfro+3j8CPyZ/Sn9
uv5L/tz/bnBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAAsDcGFyYQAAAAAAAwAAAAJmZgAA
8qcAAA1ZAAAT0AAACwNwYXJhAAAAAAADAAAAAmZmAADypwAADVkAABPQAAALA3ZjZ3QAAAAAAAAA
AAADAQAAAgAAAAIACAAUACYAPwBeAIQAsADlARUBQQFyAagB5AImAm8CvgMUA3cD4QRTBM0FUwXi
BnkHFwfDCHQJLQn0CsYLoQyCDWYOSw8yECARExIKEwQUBRUHFg8XIxg2GUwaaBuLHLMd2x8IIDkh
bCKhI+clMyZ9J8opGCplK7Es/C5IL5Ew2TIhM2M0ozXhNxs4VDmMOsE78z0kPlI/jUDLQgZDPUR2
RadG2EgGSTVKXkuBTKJNwk7dT/ZRDlIjUzlUTVVgVnNXhViZWaxavVvQXOFd8V8CYBBhIGIxYz5k
TGVbZm1ne2iMaZpqoGuObHRtWm5GbzNwIXETcglzA3P+dPt1+3b+eAJ5CHoRexp8I30mfiB/HIAX
gRKCC4MEg/+E+oXzhuyH54jjid6K2ovXjNSN1o74kGqR+ZN/lQGWf5ftmU+aqpv4nTuecJ+goMKh
4qL6pA6lIaZDp3iotKnvqyqsY62arsqv/bEsslazgLSptc229LgXuTe6V7tkvGW9Z75qv2rAa8Fu
wnPDeMSAxYvGmceryMHJ2sr0zA3NFs4QzwjP/tDz0ePS0dPA1LDVn9aR14TYfNl22nLbc9xN3QPd
nN463tzfh+A34OzhqeJq4zHj++TJ5ZjmaOc36AXoy+mC6jXq5uuX7E/tD+3c7sDvvPDb8i/zw/W3
+Fj8Rv//AAAAAQAGAA4AGQAqAD4AVwB1AJcAvwDrARsBTQGDAb8CAAJOAqMC/QNmA9YEUATUBWAF
9AaUBz4H8QipCWoKNQsIC9wMsg2LDmkPTBAyERkSBxL9E/MU7RXwFvcX/xkMGiAbOxxUHXEelB+2
IN4iEiNPJIglxicDKEApfSq3K/QtMC5mL54w0jIEMzQ0XzWJNrI32Dj8Oh47QTxuPZ8+zD/4QSJC
SENsRI5FsEbNR+VI+0oQSyBMLk06TkRPTVBZUWBSZ1NuVHRVe1aAV4hYjlmUWptboVynXa9etF+5
YMJhy2LTY9tk4mXgZsxnsmiWaX9qa2tXbEZtOW4xbylwI3Egch9zIHQkdSp2MHc1eDh5NHoyey98
LH0nfiJ/H4AbgRaCEIMMhAiFA4X/hvuH94j3ihGLcIzljlKPvpEkkoCT05UflmKXnJjNmfebHJw8
nViecJ+JoLSh+qNIpJKl36cnqGyprKrsrCqtZK6ar9GxBLI4s2m0mLXKtwe4RbmEusa8A709vnu/
tsDswiLDVMSFxbPG4cgLyTPKVstszHnNg86Iz4vQidGF0n/TetR01XDWbNdu2HLZeNqD24ncht1+
3nXfbeBm4V7iWONR5EvlSOZG50XoRulI6kzrUOxL7TbuGO7u78HwkfFl8kDzJPQY9Sf2WPe0+VT7
Wv36//8AAAAIABAAGQAhACkAOgBRAG0AjQCyANwBBwEoAU0BdQGgAc4CAAI8An0CwgMLA18DtwQV
BH0E6gVeBdYGVwbgB20H/wiQCSUJvQpXCvQLkgw1DNsNhA4xDuMPlhBNEQYRwxKEE0gUDRTWFZ0W
ahdCGCEY/BndGrsbmhx5HVceOB8XH/Mg0SGtIocjYCQ4JQ4l4ya4J4soXSkvKhAq9CvXLLgtmC53
L1QwMjEOMekywTOXNG01QTYUNuY3tziIOVo6KTr3O8Y8lT1kPjE/Aj/RQKBBcEJBQxFD4USxRYBG
UUchR/JIwUmPSltLGkvXTJVNVU4ZTtxPolBsUTlSBVLTU6JUc1VFVhhW7Fe/WJNZZ1o9Wxhb8lzN
XaZegF9cYDhhEmHsYshjpGR/ZVxmOGcTZ/BozGmkanlrTGwibPdtyW6Yb2dwMXD2cbhydnMtc+F0
k3U/de52p3eBeGd5T3o8eyx8HH0Qfgl/A3/+gPuB+YL4g/iE9oXyhviIGYlNioKLu4zxjiePY5Cf
kduTG5RblZ2W4ZgnmW6atZv5nTGeXZ+JoLSh36MHpDGlXqaSp8epA6pFq46s3a4xr42w6LJGs6i1
C7Z0t9+5UbrGvD69uL86wL7CRMPOxVXG4Mhtyg/Luc1SzujQgtIt0+rVwNfH2grcjd9/4vbnT+0Y
9gP//wAAbmRpbgAAAAAAAAY2AACYfwAAV9sAAFQsAACQDQAAKQ8AABcKAABQDQAAVDkAAfrhAAHj
1wABHrgAAwEAAAIAAAAvAHcAvAD7ATgBcgGsAeQCHQJUAooCwAL3AzADawOmA+IEHwRdBJsE2wUb
BVoFmwXdBh8GYgakBugHLQdyB7gH/ghICI4I1AkaCWIJqwn0Cj8KiwrYCycLdwvIDBsMbwzFDRwN
dg3RDi8Ojg7wD1MPuBAfEIgQ9BFhEdESPhKrExkTihP+FHIU6hVlFeAWYBbfF2MX6xh2GQIZkhom
GrwbVRvxHI4dLh3RHnUfHB/EIG0hHCHJInojLiPkJJslVyYSJtAnkihWKRop3yqoK3EsPy0PLfwu
9S/xMOkx4jLdM9Y0zTXCNro3sTioOZ86mDuPPIc9gj5/P4hAm0GrQsBD2ET2RhNHMEhUSXpKoUvJ
TPVOIU9PUIBRslLSU8JUhlVNVhdW51e4WItZYlpBWyhcFF0FXf9e/2ALYSJiPmNnZJRlymcKaExp
kWq5a9ts+m4cb0BwZnGQcr5z9HUodl93n3jheid7b3y+fgx/XYC5ghGDc4T4hoaIE4mhizmM0I5j
j/qRkZMklLeWSJfUmV6a55xvnfeflKFWox6k7KbAqKGqiKxxrlqwSLIztB61/7fjucG7nL4dwUjE
UMcwye/Ml88p0azUKNah2SHbo95J4TPkNuc56hPstu8V8TfzFfS79i/3ffit+af6mvtT/A38qP0n
/ab+Jf7B/2D//wAAAEcAlQDaARkBVQGQAckCAQI6AnICqgLkAyADXQObA9oEGwRcBJ0E4AUkBWcF
qwXxBjcGfQbDBwsHVAedB+cIMwh+CMgJEQldCakJ9gpFCpUK5gs5C44L4ww6DJQM7g1LDaoOCw5u
DtQPPA+lEBEQfxDwEWMR1xJJEroTLhOlFB0UmBUWFZYWGRadFyQXsBg/GNEZZRn+GpobORvbHH8d
JB3OHnofKB/ZIIshQSH2IrAjbCQoJOglqyZsJzMn/SjGKY8qXisrK/8s0S27LrMvsTCtMacypDOg
NJo1kjaNN4c4gTl7OnY7cDxrPWk+aT9wQIBBjkKgQ7VE0EXsRwZIJ0lMSnJLmUzDTfBPHlBPUYNS
rlOtVH9VVFYsVwtX6FjKWbFan1uTXIpdi16RX59gtmHTYvhkJGVTZoxnyGkFajFrR2xZbWhuf2+T
cK1xyXLrdBJ1OXZid5N4xnn+ezd8dn21fvaAPoGHgtCEEIVOhpCH0IkQilaLooztjjePiJDgkjWT
lJT0llqXwpktmp6cE52NnxGgrqJVpAOluad3qUGrD6zkrrewkrJotEK2D7fhua67db1Qvz/BNMMw
xSnHJckjyyPNJ88o0SjTJ9Un1ybZJ9sk3SvfXOGu5CjmselI683uN/B+8pD0b/Yg96P4/vou+zz8
N/0H/c3+yv//AAAATADBASgBhgHeAjUCiALcAzQDjgPrBEoEqgUMBW4F0gY4Bp4HBQdvB9kISAiy
CRoJhwnzCmQK1gtNC8QMPwy+DT4NxA5NDtoPaxAAEJgRNRHWEm4TBxOkFEUU6RWSFj4W7RehGFsZ
GBnbGqIbbRw9HQ4d5h7CH6EggyFqIlEjPiQsJR4mEycLKAkpCCoKKxAsHC0tLlYviDC4MeczGTRH
NXM2pDfUOQU6OTtsPKQ93z8dQFpBlELSRBRFW0agR+lJOUqKS9tNM06LT+hRSVKoVBRViFcFWH9a
AFuOXSJewmB1YjdkEGX6Z/tp92uWbSJurXAwcbNzOHS4djN3snkveq18LX2tfy+AvYJGg7mFAYZN
h5mI4Youi4CMz44aj2mQupIHk1eUp5X3l0iYl5nnmzmcjJ3hnz+gs6Iso6elJaakqCipsKsyrLeu
M6+xsSyynbQRtXu247hKua27Crxsvc2/LMCKwerDSMSixf3HVMirygDLVMypzf3PTdCc0evTOdSK
1dbXJ9h62cnbGtxo3afe3eAe4Wnit+QG5Vnmoefj6R/qU+t+7KLttO6577HwnvGI8l7zL/Pv9KX1
WPX59pr3NPe9+Eb4z/k++az6GvqJ+uH7NvuL++D8Nfx9/LT86/0i/Vn9kf3I/f/+N/5w/qn+4v8b
/1T/jf/G//8AAGRlc2MAAAAAAAAACkNvbG9yIExDRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtbHVj
AAAAAAAAABIAAAAMbmxOTAAAABYAAADoZGFESwAAABwAAAD+cGxQTAAAABIAAAEaZW5VUwAAABIA
AAEsbmJOTwAAABIAAAE+ZnJGUgAAABYAAAFQcHRCUgAAABgAAAFmcHRQVAAAABYAAAF+emhDTgAA
AAwAAAGUZXNFUwAAABIAAAGgamFKUAAAAA4AAAGycnVSVQAAACQAAAHAc3ZTRQAAABAAAAHkemhU
VwAAAA4AAAH0ZGVERQAAABAAAAICZmlGSQAAABAAAAISaXRJVAAAABQAAAIia29LUgAAAAwAAAI2
AEsAbABlAHUAcgBlAG4ALQBMAEMARABMAEMARAAtAGYAYQByAHYAZQBzAGsA5gByAG0ASwBvAGwA
bwByACAATABDAEQAQwBvAGwAbwByACAATABDAEQARgBhAHIAZwBlAC0ATABDAEQATABDAEQAIABj
AG8AdQBsAGUAdQByAEwAQwBEACAAQwBvAGwAbwByAGkAZABvAEwAQwBEACAAYQAgAEMAbwByAGUA
c19pgnIAIABMAEMARABMAEMARAAgAGMAbwBsAG8AcjCrMOkw/AAgAEwAQwBEBCYEMgQ1BEIEPQQ+
BDkAIAQWBBoALQQ0BDgEQQQ/BDsENQQ5AEYA5AByAGcALQBMAEMARF9pgnJtsmZ2mG95OlZoAEYA
YQByAGIALQBMAEMARABWAOQAcgBpAC0ATABDAEQATABDAEQAIABjAG8AbABvAHIAac7st+wAIABM
AEMARAAAbW1vZAAAAAAAAAYQAACchQAAAADEfK8AAAAAAAAAAAAAAAAAAAAAAHRleHQAAAAAQ29w
eXJpZ2h0IEFwcGxlLCBJbmMuLCAyMDA5AA==

--Apple-Mail-56-463481941
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii;
	format=flowed





--Apple-Mail-56-463481941--


From hb at stat.berkeley.edu  Wed Nov 11 15:29:06 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Wed, 11 Nov 2009 15:29:06 +0100
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <4AFAA639.3020606@stats.uwo.ca>
References: <4AFA350D.7060303@acm.org> <4AFA3AA7.8080104@acm.org> 
	<4AFA93B1.6050508@stats.uwo.ca>
	<59d7961d0911110327xadd841te7652d135bc6e7f7@mail.gmail.com> 
	<4AFAA639.3020606@stats.uwo.ca>
Message-ID: <59d7961d0911110629u21935654yecce39cde46253cb@mail.gmail.com>

On Wed, Nov 11, 2009 at 12:55 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> Henrik Bengtsson wrote:
>>
>> On Wed, Nov 11, 2009 at 11:36 AM, Duncan Murdoch <murdoch at stats.uwo.ca>
>> wrote:
>>
>>>
>>> On 10/11/2009 11:16 PM, Tony Plate wrote:
>>>
>>>>
>>>> PS, I should have said that I'm reading the docs for unlink in R-2.10.0
>>>> on
>>>> a Linux system. ?The docs that appear in a Windows installation of R are
>>>> different (the Windows docs do not mention that not all systems support
>>>> recursive=TRUE).
>>>>
>>>> Here's a plea for docs to be uniform across all systems! ?Trying to
>>>> write
>>>> R code that works on all systems is much harder when the docs are
>>>> different
>>>> across systems, and you might only see system specific notes on a
>>>> different
>>>> system than the one you're working on.
>>>>
>>>
>>> That's a good point, but in favour of the current practice, it is very
>>> irritating when searches take you to functions that don't work on your
>>> system.
>>>
>>> One thing that might be possible is to render all versions of the help on
>>> all systems, but with some sort of indicator (e.g. a colour change) to
>>> indicate things that don't apply on your system, or only apply on your
>>> system. ?I think the hardest part of doing this would be designing the
>>> output; actually implementing it would not be so bad.
>>>
>>
>> I 2nd this wishlist - to see the documentation for all (known)
>> platforms, if possible.
>
> One way to see this is to read the .Rd files, rather than the rendered
> version.
>>
>> A very simple solution is to have an Rd
>> section on operating-system specific features, e.g.
>> \section{Differences between operating systems}{...}.
>>
>> This would decrease the trial and error of producing cross-platform code.
>>
>>
>
> This is not easy. ?For example, with unlink should the "recursive=TRUE"
> option not be mentioned except in the platform-specific section? ?I think
> that would make the docs a lot harder to read.

I'd say the union across all OSes should be mentioned under the
\arguments{}.  Then one can add to \item{} making it clear that this
is specific to a particular OS, e.g. \item{recursive}{(Unix only)
...}.  That is in line with how some arguments are flagged
"(optional)" in \item{}.

At a minimum it is useful to have a note that makes the
reader/users/developer aware that the function differ between
platforms.  (With the new help system, this can be automated if such
functions have been flagged with an attribute, e.g. attr(fcn,
"differAcrossOSes") <- TRUE)

Just thoughts.

/Henrik

>
> Duncan Murdoch
>
>> /Henrik
>>
>>
>>>
>>> Duncan Murdoch
>>>
>>>
>>>>
>>>> -- Tony Plate
>>>>
>>>> Tony Plate wrote:
>>>>
>>>>>
>>>>> The VALUE section in the help for 'unlink' says:
>>>>>
>>>>> | ?0| for success, |1| for failure. Not deleting a non-existent file is
>>>>> not a failure, nor is being unable to delete a directory if |recursive
>>>>> =
>>>>> FALSE|. However, missing values in |x| result are regarded as failures.
>>>>>
>>>>> The last phrase doesn't make sense to me. ?Should it be either "missing
>>>>> values in x are regarded as failures" or "missing values in x result in
>>>>> failure" ?
>>>>>
>>>>> Also, after reading the docs, I'm still unable to work out if unlink()
>>>>> will return 1 when the user tries to recursively delete a directory on
>>>>> systems that don't support recursive=T.
>>>>>
>>>>> The DETAILS section says "recursive=TRUE is not supported on all
>>>>> platforms, and may be ignored, with a warning", which could be
>>>>> interpreted
>>>>> as implying no special action when recursive=TRUE is not implemented
>>>>> (other
>>>>> than a warning()), and the VALUE section doesn't say what the return
>>>>> value
>>>>> will be under such conditions.
>>>>>
>>>>> I've skimmed the various *_unlink functions in src/main/platform.c, and
>>>>> it looks like they all implement recursive=TRUE, so I'm still in the
>>>>> dark
>>>>> about the required behavior on systems that don't support it. ?Could
>>>>> this be
>>>>> clarified in the help file?
>>>>>
>>>>> thanks,
>>>>>
>>>>> Tony Plate
>>>>>
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>>
>>>>>
>>>>
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
>


From HDoran at air.org  Wed Nov 11 16:26:17 2009
From: HDoran at air.org (Doran, Harold)
Date: Wed, 11 Nov 2009 10:26:17 -0500
Subject: [Rd] Clarification on generic functions and methods
Message-ID: <C0772C7568B5374481D2F8A880E9BBDF5B4E042F@DC1EX07CMS.air.org>

I have constructed the following functions and need a little clarification:

### function to fit the model parameters
jml.fit <- function(dat, con = 1e-3, bias=FALSE, ...){
	do stuff ...
}

### default function which calls jml.fit
jml.default <- function(dat, con = 1e-3, bias=FALSE, ...){
	result <- jml.fit(dat, con = 1e-3, bias)
	result$call <- match.call()
	class(result) <- "jml"
	result
}

### Function to make use of formula
jml.formula <- function(formula, data, na.action, subset, ...){
	mf <- match.call(expand.dots = FALSE)
    m <- match(c("formula", "data", "na.action", "subset"), names(mf), 0L)
    mf <- mf[c(1L, m)]
    mf$drop.unused.levels <- TRUE
    mf[[1L]] <- as.name("model.frame")
    mf <- eval(mf, parent.frame())
	mt <- attr(mf, "terms")
	dat <- mf
	result <- jml.default(dat, ...)
	result$call <- match.call()
	result$formula <- formula
	result
}

### and the generic function 
jml <- function(dat, con = 1e-3, bias=FALSE, ...) UseMethod("jml")

Writing R Extensions states, "If the generic specifies defaults, all methods should use the same defaults." 

In my example above, the generic function has 2 defaults: one for argument con and another bias. I'm a little confused on exactly how the generic function should be structured for proper package development.

I think the options are:

1) jml <- function(dat, con = 1e-3, bias=FALSE, ...) UseMethod("jml")
2) jml <- function(x, con = 1e-3, bias=FALSE, ...) UseMethod("jml")
3) jml <- function(formula, data, na.action, subset, con = 1e-3, bias = FALSE, ...) UseMethod("jml")

I'm inclined to believe #3 is correct because the .Rd page needs to reflect the args in this function, is that right? Then, this generic function would include the formula, data, na.action, and subset and it includes the proper defaults as the other functions. 

Thank you
Harold

> sessionInfo()
R version 2.10.0 (2009-10-26) 
i386-pc-mingw32 

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252   
[3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] scoreFoo_1.1   MiscPsycho_1.4 statmod_1.4.1 

loaded via a namespace (and not attached):
[1] tools_2.10.0

From simon.urbanek at r-project.org  Wed Nov 11 16:40:23 2009
From: simon.urbanek at r-project.org (simon.urbanek at r-project.org)
Date: Wed, 11 Nov 2009 16:40:23 +0100 (CET)
Subject: [Rd] R 2.10.0 Mac OS X 10.6 (PR#14058)
Message-ID: <20091111154023.0EA492831FF3@mail.pubhealth.ku.dk>

Stephen,

I cannot reproduce it (using Leopard build). Please supply full  
information (including sessionInfo() and version of the GUI used) as  
required by the posing guide.

Thanks,
Simon



On Nov 11, 2009, at 7:50 , Stephen at Prollenium.com wrote:

>
> --Apple-Mail-56-463481941
> Content-Transfer-Encoding: 7bit
> Content-Type: text/plain;
> 	charset=us-ascii;
> 	format=flowed;
> 	delsp=yes
>
> If you search for help on a phrase and double click on one of the
> items matching list an error is generated and R is hung.  This is very
> repeatable.  Using a MacBook Pro with 10.6.1 .
>
> Here is a screen capture of the console window.
>
> Best,
>
> Steve Kennedy
>
>
> --Apple-Mail-56-463481941
> Content-Disposition: inline;
> 	filename="R Error.tiff"
> Content-Type: image/tiff;
> 	x-mac-hide-extension=yes;
> 	x-unix-mode=0644;
> 	name="R Error.tiff"
> Content-Transfer-Encoding: base64
>
> TU0AKgACY0CAACBAAXQUYFOEFYnQspCWHCeBxGJROKRWLReMRmNRuOR2PR 
> +QSGRSOSSWTSeUSmVS
> uWS2XS+YTGZTOaTWbTecTmdTueT2fT+gUGhUOiUWjUekUmlUumU2nU 
> +oSZtVNsLWrLFWVlUtGuM8
> X18YoexI4c2UgP60VG1Wu2W23W+4XG5XO6XW7Xe8Xm9Xu+X2/X/ 
> AYHBYPCSgBYcAMjFME8Y04oDI
> IY3ZM8v/LYXMZnNZvOZ3PZ/ 
> QaHRaPSaXTafUanVavAAHXABJ7FEMzaNkQ7cTazdbveb3fb/gcHhc
> PicXjcfkcnlU5v81tO3oP+U5bpWh/AB99kAPTuABw98APHxAACeWJPz0AAH+sAB/ 
> 3AAGfEAAX6AD
> DgIAa4AybqADrOw7TxHiABrwKAB2HYdYAH6frroiAcIAACkJgAFMLPU9j6AK+zEP0/jLv 
> +7J9vC8
> ZsRMAB1xS/x/H6AD+tc/ALxkAAURrDAHvm 
> +r7vy17lx9H8gSDIUhyJIsjSPJEkyUwjoHa6SUQZFp


From hb at stat.berkeley.edu  Wed Nov 11 16:43:50 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Wed, 11 Nov 2009 16:43:50 +0100
Subject: [Rd] Clarification on generic functions and methods
In-Reply-To: <C0772C7568B5374481D2F8A880E9BBDF5B4E042F@DC1EX07CMS.air.org>
References: <C0772C7568B5374481D2F8A880E9BBDF5B4E042F@DC1EX07CMS.air.org>
Message-ID: <59d7961d0911110743y72b7feeaya788095b0a19d1ab@mail.gmail.com>

Using

jml <- function(...) UseMethod("jml")

will do.

/Henrik


On Wed, Nov 11, 2009 at 4:26 PM, Doran, Harold <HDoran at air.org> wrote:
> I have constructed the following functions and need a little clarification:
>
> ### function to fit the model parameters
> jml.fit <- function(dat, con = 1e-3, bias=FALSE, ...){
> ? ? ? ?do stuff ...
> }
>
> ### default function which calls jml.fit
> jml.default <- function(dat, con = 1e-3, bias=FALSE, ...){
> ? ? ? ?result <- jml.fit(dat, con = 1e-3, bias)
> ? ? ? ?result$call <- match.call()
> ? ? ? ?class(result) <- "jml"
> ? ? ? ?result
> }
>
> ### Function to make use of formula
> jml.formula <- function(formula, data, na.action, subset, ...){
> ? ? ? ?mf <- match.call(expand.dots = FALSE)
> ? ?m <- match(c("formula", "data", "na.action", "subset"), names(mf), 0L)
> ? ?mf <- mf[c(1L, m)]
> ? ?mf$drop.unused.levels <- TRUE
> ? ?mf[[1L]] <- as.name("model.frame")
> ? ?mf <- eval(mf, parent.frame())
> ? ? ? ?mt <- attr(mf, "terms")
> ? ? ? ?dat <- mf
> ? ? ? ?result <- jml.default(dat, ...)
> ? ? ? ?result$call <- match.call()
> ? ? ? ?result$formula <- formula
> ? ? ? ?result
> }
>
> ### and the generic function
> jml <- function(dat, con = 1e-3, bias=FALSE, ...) UseMethod("jml")
>
> Writing R Extensions states, "If the generic specifies defaults, all methods should use the same defaults."
>
> In my example above, the generic function has 2 defaults: one for argument con and another bias. I'm a little confused on exactly how the generic function should be structured for proper package development.
>
> I think the options are:
>
> 1) jml <- function(dat, con = 1e-3, bias=FALSE, ...) UseMethod("jml")
> 2) jml <- function(x, con = 1e-3, bias=FALSE, ...) UseMethod("jml")
> 3) jml <- function(formula, data, na.action, subset, con = 1e-3, bias = FALSE, ...) UseMethod("jml")
>
> I'm inclined to believe #3 is correct because the .Rd page needs to reflect the args in this function, is that right? Then, this generic function would include the formula, data, na.action, and subset and it includes the proper defaults as the other functions.
>
> Thank you
> Harold
>
>> sessionInfo()
> R version 2.10.0 (2009-10-26)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=English_United States.1252 ?LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>
> other attached packages:
> [1] scoreFoo_1.1 ? MiscPsycho_1.4 statmod_1.4.1
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From chiefmurphy at gmail.com  Wed Nov 11 17:06:18 2009
From: chiefmurphy at gmail.com (Daniel Murphy)
Date: Wed, 11 Nov 2009 08:06:18 -0800
Subject: [Rd] Help in 2.10 lost its "Find" feature
Message-ID: <48f8cced0911110806x1196f9bejb6214b55d4e84bf3@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091111/d5506db9/attachment.pl>

From h.wickham at gmail.com  Wed Nov 11 17:40:14 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Wed, 11 Nov 2009 10:40:14 -0600
Subject: [Rd] Help in 2.10 lost its "Find" feature
In-Reply-To: <48f8cced0911110806x1196f9bejb6214b55d4e84bf3@mail.gmail.com>
References: <48f8cced0911110806x1196f9bejb6214b55d4e84bf3@mail.gmail.com>
Message-ID: <f8e6ff050911110840q8f11ebhe94c72cf014c4e28@mail.gmail.com>

> I understand that no one wanted to maintain the old Help, but one feature I
> used extensively -- as a newbie to R or to an unfamiliar package -- was the
> capability of searching for a word or phrase on the Help page itself.
> Ctrl-F/Command-F (Windows/mac) 'differently-phrased-capability' was a fast
> way to find out how to specify the arguments for a function call to
> accommodate a "capability" phrased differently than could be found in the
> author's designed argument list, especially for long and informative Help's.
> If new-Help could easily be enhanced to resurrect that feature, I believe
> many users would appreciate it. Thanks.

Most browsers offer this feature - it certainly works in safari and
firefox, and I'm sure in internet explorer too.

Hadley

-- 
http://had.co.nz/


From hb at stat.berkeley.edu  Wed Nov 11 17:57:19 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Wed, 11 Nov 2009 17:57:19 +0100
Subject: [Rd] Help in 2.10 lost its "Find" feature
In-Reply-To: <f8e6ff050911110840q8f11ebhe94c72cf014c4e28@mail.gmail.com>
References: <48f8cced0911110806x1196f9bejb6214b55d4e84bf3@mail.gmail.com> 
	<f8e6ff050911110840q8f11ebhe94c72cf014c4e28@mail.gmail.com>
Message-ID: <59d7961d0911110857y7c3d462cocd6ff468c061e989@mail.gmail.com>

For the text based help, there is no search feature on Windows, e.g.

options(help_type="text");
help(readLines);

but if you use the HTML-based help, you can use the browser's search
features as suggested/wanted:

options(help_type="html");
help(readLines);

/Henrik


On Wed, Nov 11, 2009 at 5:40 PM, hadley wickham <h.wickham at gmail.com> wrote:
>> I understand that no one wanted to maintain the old Help, but one feature I
>> used extensively -- as a newbie to R or to an unfamiliar package -- was the
>> capability of searching for a word or phrase on the Help page itself.
>> Ctrl-F/Command-F (Windows/mac) 'differently-phrased-capability' was a fast
>> way to find out how to specify the arguments for a function call to
>> accommodate a "capability" phrased differently than could be found in the
>> author's designed argument list, especially for long and informative Help's.
>> If new-Help could easily be enhanced to resurrect that feature, I believe
>> many users would appreciate it. Thanks.
>
> Most browsers offer this feature - it certainly works in safari and
> firefox, and I'm sure in internet explorer too.
>
> Hadley
>
> --
> http://had.co.nz/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From murdoch at stats.uwo.ca  Wed Nov 11 18:06:49 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 11 Nov 2009 12:06:49 -0500
Subject: [Rd] Help in 2.10 lost its "Find" feature
In-Reply-To: <f8e6ff050911110840q8f11ebhe94c72cf014c4e28@mail.gmail.com>
References: <48f8cced0911110806x1196f9bejb6214b55d4e84bf3@mail.gmail.com>
	<f8e6ff050911110840q8f11ebhe94c72cf014c4e28@mail.gmail.com>
Message-ID: <4AFAEF29.3050406@stats.uwo.ca>

On 11/11/2009 11:40 AM, hadley wickham wrote:
>> I understand that no one wanted to maintain the old Help, but one feature I
>> used extensively -- as a newbie to R or to an unfamiliar package -- was the
>> capability of searching for a word or phrase on the Help page itself.
>> Ctrl-F/Command-F (Windows/mac) 'differently-phrased-capability' was a fast
>> way to find out how to specify the arguments for a function call to
>> accommodate a "capability" phrased differently than could be found in the
>> author's designed argument list, especially for long and informative Help's.
>> If new-Help could easily be enhanced to resurrect that feature, I believe
>> many users would appreciate it. Thanks.
> 
> Most browsers offer this feature - it certainly works in safari and
> firefox, and I'm sure in internet explorer too.

I think Daniel was talking about the full text search of all pages. 
This index for this was built by the Microsoft Help Compiler so it was 
available in CHM help; the Mac has the full text search available in 
lots of places, so it worked there just because the system automatically 
indexed the static HTML pages.

I think it would be nice to get this back and make it less platform 
specific.  It would need indexing of the content of the pages, and 
Javascript or similar to access the indices.

Duncan Murdoch


From chiefmurphy at gmail.com  Wed Nov 11 18:07:33 2009
From: chiefmurphy at gmail.com (Daniel Murphy)
Date: Wed, 11 Nov 2009 09:07:33 -0800
Subject: [Rd] Help in 2.10 lost its "Find" feature
In-Reply-To: <59d7961d0911110857y7c3d462cocd6ff468c061e989@mail.gmail.com>
References: <48f8cced0911110806x1196f9bejb6214b55d4e84bf3@mail.gmail.com>
	<f8e6ff050911110840q8f11ebhe94c72cf014c4e28@mail.gmail.com>
	<59d7961d0911110857y7c3d462cocd6ff468c061e989@mail.gmail.com>
Message-ID: <48f8cced0911110907v1b0b9cf0nc9357f615a1503d9@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091111/bd903d44/attachment.pl>

From HDoran at air.org  Wed Nov 11 18:17:38 2009
From: HDoran at air.org (Doran, Harold)
Date: Wed, 11 Nov 2009 12:17:38 -0500
Subject: [Rd] Clarification on generic functions and methods
In-Reply-To: <59d7961d0911110743y72b7feeaya788095b0a19d1ab@mail.gmail.com>
Message-ID: <C0772C7568B5374481D2F8A880E9BBDF5B4E0431@DC1EX07CMS.air.org>

Thank you, Henrik. This actually doesn't work when I build the package, which may only require a slight modification to what I'm doing now. First, I create a NAMESPACE as:

### NAMESPACE FILE CONTENTS
export(jml2)
S3method(jml2, fit)
S3method(jml2, default)
S3method(jml2, formula)
S3method(print, jml)
S3method(summary, jml)
S3method(print, summary.jml)

So, only the generic function (jml) is exported. 

Now, I do as you suggest below for the generic function, but keep all others as they were previously. That creates a situation where jml.formula, jml.default, and jml have different arguments.

Now, in the .Rd file for the jml function I want the user to see the usage for the jml.formula method, which obviously has more args than "...". So, the .Rd file is structured as (for testing purposes only):

\name{jml2}
\alias{jml2}
\title{JML Estimation}
\description{JML Stuff}
\usage{
jml2(formula, data, na.action, subset, con = 1e-3, bias = FALSE, ...)
}
\arguments{
  \item{formula}{Describe later}
  \item{data}{Describe later}
  \item{na.action}{Describe later}
  \item{subset}{Describe later}
  \item{con}{Describe later}
  \item{bias}{Describe later}
  \item{\dots}{Not implemented}
}
\author{Me}
\examples{
\dontrun{jml(~V1 + V2, data)}
}
\keyword{misc}

But, because the args in the generic functions differ from what I have placed in the .Rd file, the check phase yields the following error, which indicates the .Rd file and code are different.

C:\Program Files\R\R-2.10.0\bin>Rcmd check g:\jmlFoo
* checking for working pdflatex ...pdflatex: not found
 NO
* checking for working latex ...latex: not found
 NO
* using log directory 'C:/Program Files/R/R-2.10.0/bin/jmlFoo.Rcheck'
* using R version 2.10.0 (2009-10-26)
* using session charset: ISO8859-1
* checking for file 'jmlFoo/DESCRIPTION' ... OK
* checking extension type ... Package
* this is package 'jmlFoo' version '1.0'
* checking package name space information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking for executable files ... OK
* checking whether package 'jmlFoo' can be installed ... OK
* checking package directory ... OK
* checking for portable file names ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the name space can be loaded with stated dependencies ... OK
* checking for unstated dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... NOTE
jml2.fit: no visible binding for global variable 'theta.max'
jml2.fit: no visible global function definition for 'fit.Stats'
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... OK
* checking for code/documentation mismatches ... WARNING
Codoc mismatches from documentation object 'jml2':
jml2
  Code: function(...)
  Docs: function(formula, data, na.action, subset, con = 0.001, bias =
                 FALSE, ...)
  Argument names in docs not in code:
    formula data na.action subset con bias
  Mismatches in argument names:
    Position: 1 Code: ... Docs: formula

* checking Rd \usage sections ... OK
* checking examples ... OK

WARNING: There was 1 warning, see
  C:/Program Files/R/R-2.10.0/bin/jmlFoo.Rcheck/00check.log
for details

So, what I'm trying to accomplish is to export the jml generic function and make this the only one visible to the user. All others are in the NAMESPACE as S3 methods. But this obviously creates a conflict between what I want in the .Rd file and what args are in the code for the generic jml function.

Can anyone help me understand how this might be resolved?

Harold


> -----Original Message-----
> From: henrik.bengtsson at gmail.com 
> [mailto:henrik.bengtsson at gmail.com] On Behalf Of Henrik Bengtsson
> Sent: Wednesday, November 11, 2009 10:44 AM
> To: Doran, Harold
> Cc: R-devel at stat.math.ethz.ch
> Subject: Re: [Rd] Clarification on generic functions and methods
> 
> Using
> 
> jml <- function(...) UseMethod("jml")
> 
> will do.
> 
> /Henrik
> 
> 
> On Wed, Nov 11, 2009 at 4:26 PM, Doran, Harold <HDoran at air.org> wrote:
> > I have constructed the following functions and need a 
> little clarification:
> >
> > ### function to fit the model parameters jml.fit <- 
> function(dat, con 
> > = 1e-3, bias=FALSE, ...){
> > ? ? ? ?do stuff ...
> > }
> >
> > ### default function which calls jml.fit jml.default <- 
> function(dat, 
> > con = 1e-3, bias=FALSE, ...){
> > ? ? ? ?result <- jml.fit(dat, con = 1e-3, bias)
> > ? ? ? ?result$call <- match.call()
> > ? ? ? ?class(result) <- "jml"
> > ? ? ? ?result
> > }
> >
> > ### Function to make use of formula
> > jml.formula <- function(formula, data, na.action, subset, ...){
> > ? ? ? ?mf <- match.call(expand.dots = FALSE)
> > ? ?m <- match(c("formula", "data", "na.action", "subset"), 
> names(mf), 
> > 0L)
> > ? ?mf <- mf[c(1L, m)]
> > ? ?mf$drop.unused.levels <- TRUE
> > ? ?mf[[1L]] <- as.name("model.frame")
> > ? ?mf <- eval(mf, parent.frame())
> > ? ? ? ?mt <- attr(mf, "terms")
> > ? ? ? ?dat <- mf
> > ? ? ? ?result <- jml.default(dat, ...)
> > ? ? ? ?result$call <- match.call()
> > ? ? ? ?result$formula <- formula
> > ? ? ? ?result
> > }
> >
> > ### and the generic function
> > jml <- function(dat, con = 1e-3, bias=FALSE, ...) UseMethod("jml")
> >
> > Writing R Extensions states, "If the generic specifies 
> defaults, all methods should use the same defaults."
> >
> > In my example above, the generic function has 2 defaults: 
> one for argument con and another bias. I'm a little confused 
> on exactly how the generic function should be structured for 
> proper package development.
> >
> > I think the options are:
> >
> > 1) jml <- function(dat, con = 1e-3, bias=FALSE, ...) 
> UseMethod("jml")
> > 2) jml <- function(x, con = 1e-3, bias=FALSE, ...) UseMethod("jml")
> > 3) jml <- function(formula, data, na.action, subset, con = 
> 1e-3, bias 
> > = FALSE, ...) UseMethod("jml")
> >
> > I'm inclined to believe #3 is correct because the .Rd page 
> needs to reflect the args in this function, is that right? 
> Then, this generic function would include the formula, data, 
> na.action, and subset and it includes the proper defaults as 
> the other functions.
> >
> > Thank you
> > Harold
> >
> >> sessionInfo()
> > R version 2.10.0 (2009-10-26)
> > i386-pc-mingw32
> >
> > locale:
> > [1] LC_COLLATE=English_United States.1252 ?LC_CTYPE=English_United 
> > States.1252 [3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C 
> > [5] LC_TIME=English_United States.1252
> >
> > attached base packages:
> > [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
> >
> > other attached packages:
> > [1] scoreFoo_1.1 ? MiscPsycho_1.4 statmod_1.4.1
> >
> > loaded via a namespace (and not attached):
> > [1] tools_2.10.0
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> 

From h.wickham at gmail.com  Wed Nov 11 18:22:53 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Wed, 11 Nov 2009 11:22:53 -0600
Subject: [Rd] Help in 2.10 lost its "Find" feature
In-Reply-To: <4AFAEF29.3050406@stats.uwo.ca>
References: <48f8cced0911110806x1196f9bejb6214b55d4e84bf3@mail.gmail.com> 
	<f8e6ff050911110840q8f11ebhe94c72cf014c4e28@mail.gmail.com> 
	<4AFAEF29.3050406@stats.uwo.ca>
Message-ID: <f8e6ff050911110922j5f2aed89j8f3c6ee26d358ce6@mail.gmail.com>

> I think it would be nice to get this back and make it less platform
> specific. ?It would need indexing of the content of the pages, and
> Javascript or similar to access the indices.

It would be nice to have an interface to something like lucene - would
be useful for other projects apart from R help.

Hadley


-- 
http://had.co.nz/


From j.zhang at dkfz-heidelberg.de  Wed Nov 11 17:15:12 2009
From: j.zhang at dkfz-heidelberg.de (j.zhang at dkfz-heidelberg.de)
Date: Wed, 11 Nov 2009 17:15:12 +0100 (CET)
Subject: [Rd] Bug in the stats package (PR#14059)
Message-ID: <20091111161512.B616F282EF4C@mail.pubhealth.ku.dk>

This is a multi-part message in MIME format.
--------------020309030400080109090707
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hello dear Maintainer,

  I report a bug (or at least a weak point needing documentation)
located in the nls.c file of the stats package.
($BASE/src/library/stats/src/nls.c, svn version 50393)

  They lie in the line 120 and 129, where the msgbuf char array is set
to the size limit of 70. Intriguingly in case of long formulaes
overriding this limit, the R session will crash complaining buffer
overflow detected (see the attachment session_crash_report). After
changing the array size to 255 (see the patch.nls file), the error is
avoided. I suggest either documentating the size limit of the formulae,
or to enlarge the array.

  Best wishes,
Jitao David Zhang

Attached: R.version
               _

platform       i686-pc-linux-gnu

arch           i686

os             linux-gnu

system         i686, linux-gnu

status         Under development (unstable)

major          2

minor          11.0

year           2009

month          11

day            06

svn rev        50320

language       R

version.string R version 2.11.0 Under development (unstable) (2009-11-06
r50320)



- --
THINK BEFORE YOU PRINT: DO OUR ENVIRONMENT GOOD

Jitao David Zhang
Computational Biology/Bioinformatics Ph.D. Candidate
Division of Molecular Genome Analysis, DKFZ
Im Neuenheimer Feld 580,
Heidelberg D-69120
Germany

Tel: 49-(0)6221-424711
Calendar:
http://www.google.com/calendar/embed?src=38m77vcknecr59sbpdj0vofndo%40group.calendar.google.com

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iEYEARECAAYFAkr64ekACgkQb+FFFSdYGiDF8ACeJJ65MQwpnd1cmjaN8aXkF7u2
ckYAn1sehdgXrxLl9gpeiNRpPlaykB2S
=VRCh
-----END PGP SIGNATURE-----

--------------020309030400080109090707
Content-Type: text/plain;
 name="session_crash_report"
Content-Transfer-Encoding: base64
Content-Disposition: inline;
 filename="session_crash_report"

KioqIGJ1ZmZlciBvdmVyZmxvdyBkZXRlY3RlZCAqKio6IC9ob21lL3poYW5nL0xpdmluZ09u
RWRnZS9SL3ItZGV2ZWwvYmluL2V4ZWMvUiB0ZXJtaW5hdGVkCj09PT09PT0gQmFja3RyYWNl
OiA9PT09PT09PT0KL2xpYi90bHMvaTY4Ni9jbW92L2xpYmMuc28uNihfX2ZvcnRpZnlfZmFp
bCsweDQ4KVsweGI3MmU0ZGU4XQovbGliL3Rscy9pNjg2L2Ntb3YvbGliYy5zby42WzB4Yjcy
ZTNlMjBdCi9saWIvdGxzL2k2ODYvY21vdi9saWJjLnNvLjZbMHhiNzJlMzU1OF0KL2xpYi90
bHMvaTY4Ni9jbW92L2xpYmMuc28uNihfSU9fZGVmYXVsdF94c3B1dG4rMHg5ZSlbMHhiNzI2
ZDU5ZV0KL2xpYi90bHMvaTY4Ni9jbW92L2xpYmMuc28uNihfSU9fdmZwcmludGYrMHg2MGEp
WzB4YjcyNDExNGFdCi9saWIvdGxzL2k2ODYvY21vdi9saWJjLnNvLjYoX192c3ByaW50Zl9j
aGsrMHhhZClbMHhiNzJlMzYwZF0KL2xpYi90bHMvaTY4Ni9jbW92L2xpYmMuc28uNihfX3Nw
cmludGZfY2hrKzB4MmQpWzB4YjcyZTM1NGRdCi9ob21lL3poYW5nL0xpdmluZ09uRWRnZS9S
L3ItZGV2ZWwvbGlicmFyeS9zdGF0cy9saWJzL3N0YXRzLnNvWzB4YjViMGYwYjBdCi9ob21l
L3poYW5nL0xpdmluZ09uRWRnZS9SL3ItZGV2ZWwvYmluL2V4ZWMvUlsweDgxNzFiMWRdCi9o
b21lL3poYW5nL0xpdmluZ09uRWRnZS9SL3ItZGV2ZWwvYmluL2V4ZWMvUihSZl9ldmFsKzB4
NzJkKVsweDgxOTI2ZWRdCi9ob21lL3poYW5nL0xpdmluZ09uRWRnZS9SL3ItZGV2ZWwvYmlu
L2V4ZWMvUlsweDgxOTQ4OWFdCi9ob21lL3poYW5nL0xpdmluZ09uRWRnZS9SL3ItZGV2ZWwv
YmluL2V4ZWMvUihSZl9ldmFsKzB4NGVmKVsweDgxOTI0YWZdCi9ob21lL3poYW5nL0xpdmlu
Z09uRWRnZS9SL3ItZGV2ZWwvYmluL2V4ZWMvUlsweDgxOTQ5NjddCi9ob21lL3poYW5nL0xp
dmluZ09uRWRnZS9SL3ItZGV2ZWwvYmluL2V4ZWMvUihSZl9ldmFsKzB4NGVmKVsweDgxOTI0
YWZdCi9ob21lL3poYW5nL0xpdmluZ09uRWRnZS9SL3ItZGV2ZWwvYmluL2V4ZWMvUihSZl9l
dmFsKzB4NGVmKVsweDgxOTI0YWZdCi9ob21lL3poYW5nL0xpdmluZ09uRWRnZS9SL3ItZGV2
ZWwvYmluL2V4ZWMvUlsweDgxOTQ5NjddCi9ob21lL3poYW5nL0xpdmluZ09uRWRnZS9SL3It
ZGV2ZWwvYmluL2V4ZWMvUihSZl9ldmFsKzB4NGVmKVsweDgxOTI0YWZdCi9ob21lL3poYW5n
L0xpdmluZ09uRWRnZS9SL3ItZGV2ZWwvYmluL2V4ZWMvUihSZl9hcHBseUNsb3N1cmUrMHgy
OGYpWzB4ODE5NjBmZl0KL2hvbWUvemhhbmcvTGl2aW5nT25FZGdlL1Ivci1kZXZlbC9iaW4v
ZXhlYy9SKFJmX2V2YWwrMHgzYmEpWzB4ODE5MjM3YV0KL2hvbWUvemhhbmcvTGl2aW5nT25F
ZGdlL1Ivci1kZXZlbC9iaW4vZXhlYy9SWzB4ODE5NDg5YV0KL2hvbWUvemhhbmcvTGl2aW5n
T25FZGdlL1Ivci1kZXZlbC9iaW4vZXhlYy9SKFJmX2V2YWwrMHg0ZWYpWzB4ODE5MjRhZl0K
L2hvbWUvemhhbmcvTGl2aW5nT25FZGdlL1Ivci1kZXZlbC9iaW4vZXhlYy9SKFJmX1JlcGxJ
dGVyYXRpb24rMHgyMGEpWzB4ODA1ZTExYV0KL2hvbWUvemhhbmcvTGl2aW5nT25FZGdlL1Iv
ci1kZXZlbC9iaW4vZXhlYy9SWzB4ODA1ZTNjMl0KL2hvbWUvemhhbmcvTGl2aW5nT25FZGdl
L1Ivci1kZXZlbC9iaW4vZXhlYy9SKHJ1bl9SbWFpbmxvb3ArMHg0OClbMHg4MDVlY2U4XQov
aG9tZS96aGFuZy9MaXZpbmdPbkVkZ2UvUi9yLWRldmVsL2Jpbi9leGVjL1IobWFpbisweDJh
KVsweDgwNWJmNGFdCi9saWIvdGxzL2k2ODYvY21vdi9saWJjLnNvLjYoX19saWJjX3N0YXJ0
X21haW4rMHhlNilbMHhiNzIxYWI1Nl0KL2hvbWUvemhhbmcvTGl2aW5nT25FZGdlL1Ivci1k
ZXZlbC9iaW4vZXhlYy9SWzB4ODA1YmU1MV0KPT09PT09PSBNZW1vcnkgbWFwOiA9PT09PT09
PQowODA0ODAwMC0wODJhNDAwMCByLXhwIDAwMDAwMDAwIDA4OjAzIDU0MjMxNDQgICAgL2hv
bWUvemhhbmcvTGl2aW5nT25FZGdlL1Ivci1kZXZlbC9iaW4vZXhlYy9SCjA4MmE0MDAwLTA4
MmE1MDAwIHItLXAgMDAyNWIwMDAgMDg6MDMgNTQyMzE0NCAgICAvaG9tZS96aGFuZy9MaXZp
bmdPbkVkZ2UvUi9yLWRldmVsL2Jpbi9leGVjL1IKMDgyYTUwMDAtMDgyYjAwMDAgcnctcCAw
MDI1YzAwMCAwODowMyA1NDIzMTQ0ICAgIC9ob21lL3poYW5nL0xpdmluZ09uRWRnZS9SL3It
ZGV2ZWwvYmluL2V4ZWMvUgowODJiMDAwMC0wODM0NzAwMCBydy1wIDAwMDAwMDAwIDAwOjAw
IDAgCjA5ZjE5MDAwLTBlYWU2MDAwIHJ3LXAgMDAwMDAwMDAgMDA6MDAgMCAgICAgICAgICBb
aGVhcF0KYjBiNTQwMDAtYjBiZGQwMDAgcnctcCAwMDAwMDAwMCAwMDowMCAwIApiMGM2NjAw
MC1iMGUwMTAwMCBydy1wIDAwMDAwMDAwIDAwOjAwIDAgCmIwZThhMDAwLWIxMWMwMDAwIHJ3
LXAgMDAwMDAwMDAgMDA6MDAgMCAKYjEyNDkwMDAtYjE4YjUwMDAgcnctcCAwMDAwMDAwMCAw
MDowMCAwIApiMTkzZTAwMC1iMWE1MDAwMCBydy1wIDAwMDAwMDAwIDAwOjAwIDAgCmIxYjYy
MDAwLWIxYmViMDAwIHJ3LXAgMDAwMDAwMDAgMDA6MDAgMCAKYjFkODYwMDAtYjFlMGYwMDAg
cnctcCAwMDAwMDAwMCAwMDowMCAwIApiMjBiYzAwMC1iMjE0NTAwMCBydy1wIDAwMDAwMDAw
IDAwOjAwIDAgCmIyMzY5MDAwLWIyM2YyMDAwIHJ3LXAgMDAwMDAwMDAgMDA6MDAgMCAKYjI4
ZmEwMDAtYjI4ZmMwMDAgci14cCAwMDAwMDAwMCAwODowMyA4MTc1NjE4ICAgIC91c3IvbGli
L3BhbmdvLzEuNi4wL21vZHVsZXMvcGFuZ28tYmFzaWMtZmMuc28KYjI4ZmMwMDAtYjI4ZmQw
MDAgci0tcCAwMDAwMTAwMCAwODowMyA4MTc1NjE4ICAgIC91c3IvbGliL3BhbmdvLzEuNi4w
L21vZHVsZXMvcGFuZ28tYmFzaWMtZmMuc28KYjI4ZmQwMDAtYjI4ZmUwMDAgcnctcCAwMDAw
MjAwMCAwODowMyA4MTc1NjE4ICAgIC91c3IvbGliL3BhbmdvLzEuNi4wL21vZHVsZXMvcGFu
Z28tYmFzaWMtZmMuc28KYjI4ZmUwMDAtYjI4ZmYwMDAgci0tcyAwMDAwMDAwMCAwODowMyA3
MzY5MzIwICAgIC92YXIvY2FjaGUvZm9udGNvbmZpZy9jMDU4ODBkZTU3ZDFmNWU5NDhmZGZh
Y2MxMzg3NzVkOS14ODYuY2FjaGUtMgpiMjhmZjAwMC1iMjkwNTAwMCByLS1zIDAwMDAwMDAw
IDA4OjAzIDczNjAwNzggICAgL3Zhci9jYWNoZS9mb250Y29uZmlnLzk0NTY3N2ViN2FlYWY2
MmYxZDUwZWZjM2ZiM2VjN2Q4LXg4Ni5jYWNoZS0yCmIyOTA1MDAwLWIyOTA3MDAwIHItLXMg
MDAwMDAwMDAgMDg6MDMgNzM2MzUyNSAgICAvdmFyL2NhY2hlL2ZvbnRjb25maWcvOTllOGVk
MGU1MzhmODQwYzU2NWI2ZWQ1ZGFkNjBkNTYteDg2LmNhY2hlLTIKYjI5MDcwMDAtYjI5MDkw
MDAgci0tcyAwMDAwMDAwMCAwODowMyA3MzY5MjgzICAgIC92YXIvY2FjaGUvZm9udGNvbmZp
Zy9mMjRiMjExMWFiODcwM2I0ZTk2MzExNWE4Y2YxNDI1OS14ODYuY2FjaGUtMgpiMjkwOTAw
MC1iMjkwYzAwMCByLS1zIDAwMDAwMDAwIDA4OjAzIDczNTkzNjAgICAgL3Zhci9jYWNoZS9m
b250Y29uZmlnL2UzODNkN2VhNWZiZTY2MmEzM2Q5YjQ0Y2FmMzkzMjk3LXg4Ni5jYWNoZS0y
CmIyOTBjMDAwLWIyOTEwMDAwIHItLXMgMDAwMDAwMDAgMDg6MDMgNzM1OTM1NiAgICAvdmFy
L2NhY2hlL2ZvbnRjb25maWcvOTIxYTMwYTE3ZjBiZTE1YzcwYWMxNDA0M2NiN2E3MzkteDg2
LmNhY2hlLTIKYjI5MTAwMDAtYjI5MTIwMDAgci0tcyAwMDAwMDAwMCAwODowMyA3MzU5MzMz
ICAgIC92YXIvY2FjaGUvZm9udGNvbmZpZy9jNjlmMDRhYjA1MDA0ZTMxYTZkNWU3MTU3NjRm
MTZkOC14ODYuY2FjaGUtMgpiMjkxMjAwMC1iMjkxNDAwMCByLS1zIDAwMDAwMDAwIDA4OjAz
IDczNjkyNTcgICAgL3Zhci9jYWNoZS9mb250Y29uZmlnL2I1ZWE2MzRiMGZiMzUzYjhlYTE3
NjMyZDFmOWVmNzY2LXg4Ni5jYWNoZS0yCmIyOTE0MDAwLWIyOTE3MDAwIHItLXMgMDAwMDAw
MDAgMDg6MDMgNzM1OTAxMSAgICAvdmFyL2NhY2hlL2ZvbnRjb25maWcvNmViMzk4NWFhNDEy
NDkwM2Y2ZmYwOGJhNzgxY2QzNjQteDg2LmNhY2hlLTIKYjI5MTcwMDAtYjI5MTgwMDAgci0t
cyAwMDAwMDAwMCAwODowMyA3MzU5MzIxICAgIC92YXIvY2FjaGUvZm9udGNvbmZpZy80Yzcz
ZmUwYzQ3NjE0NzM0YjE3ZDczNmRiZGU3NTgwYS14ODYuY2FjaGUtMgpiMjkxODAwMC1iMjkx
YzAwMCByLS1zIDAwMDAwMDAwIDA4OjAzIDczNjY5MDkgICAgL3Zhci9jYWNoZS9mb250Y29u
ZmlnLzA2MjgwOGMxMmU2ZTYwODI3MGY5M2JiMjMwYWVkNzMwLXg4Ni5jYWNoZS0yCmIyOTFj
MDAwLWIyOTFmMDAwIHItLXMgMDAwMDAwMDAgMDg6MDMgNzM1OTMwNSAgICAvdmFyL2NhY2hl
L2ZvbnRjb25maWcvYTc1NWFmZTRhMDhiZjViOTc4NTJjZWI3NDAwYjQ3YmMteDg2LmNhY2hl
LTIKYjI5MWYwMDAtYjI5MjYwMDAgci0tcyAwMDAwMDAwMCAwODowMyA3MzY0MzQ3ICAgIC92
YXIvY2FjaGUvZm9udGNvbmZpZy82ZDQxMjg4ZmQ3MGIwYmUyMmU4YzNhOTFlMDMyZWVjMC14
ODYuY2FjaGUtMgpiMjkyNjAwMC1iMjkyOTAwMCByLS1zIDAwMDAwMDAwIDA4OjAzIDczNTky
NTUgICAgL3Zhci9jYWNoZS9mb250Y29uZmlnL2RlMTU2Y2NkMmVkZGJkYzE5ZDM3YTQ1Yjhi
MmFhYzljLXg4Ni5jYWNoZS0yCmIyOTI5MDAwLWIyOTMxMDAwIHItLXMgMDAwMDAwMDAgMDg6
MDMgNzM1OTI1MiAgICAvdmFyL2NhY2hlL2ZvbnRjb25maWcvZTNkZTBkZTQ3OWY0MjMzMGVh
ZGY1ODhhNTVmYjViZjQteDg2LmNhY2hlLTIKYjI5MzEwMDAtYjI5M2MwMDAgci0tcyAwMDAw
MDAwMCAwODowMyA3MzU4OTk4ICAgIC92YXIvY2FjaGUvZm9udGNvbmZpZy8wZjM0YmNkNGI2
ZWU0MzBhZjMyNzM1Yjc1ZGI3ZjAyYi14ODYuY2FjaGUtMgpiMjkzYzAwMC1iMjkzZTAwMCBy
LS1zIDAwMDAwMDAwIDA4OjAzIDczNjYwNjEgICAgL3Zhci9jYWNoZS9mb250Y29uZmlnL2Rk
ZDQwODZhZWMzNWE1Mjc1YmFiYmE0NGJiNzU5YzNjLXg4Ni5jYWNoZS0yCmIyOTNlMDAwLWIy
OTNmMDAwIHItLXMgMDAwMDAwMDAgMDg6MDMgNzM2NjA2MCAgICAvdmFyL2NhY2hlL2ZvbnRj
b25maWcvNDc5NGEwODIxNjY2ZDc5MTkwZDU5YTM2Y2I0ZjQ0YjUteDg2LmNhY2hlLTIKYjI5
M2YwMDAtYjI5NjEwMDAgci0tcyAwMDAwMDAwMCAwODowMyA3MzU5MTgxICAgIC92YXIvY2Fj
aGUvZm9udGNvbmZpZy8zNjViNTVmMjEwYzBhMjJlOWExOWUzNTE5MTI0MGYzMi14ODYuY2Fj
aGUtMgpiMjk2MTAwMC1iMjk2MzAwMCByLS1zIDAwMDAwMDAwIDA4OjAzIDczNTg5NzYgICAg
L3Zhci9jYWNoZS9mb250Y29uZmlnLzJjNWJhODE0MmRmZmM4YmYwMzc3NzAwMzQyYjhjYTFh
LXg4Ni5jYWNoZS0yCmIyOTYzMDAwLWIyOTY2MDAwIHItLXMgMDAwMDAwMDAgMDg6MDMgNzM2
NDIzMyAgICAvdmFyL2NhY2hlL2ZvbnRjb25maWcvZGU5NDg2ZjBiNDdhNGQ3NjhhNTk0Y2I0
MTk4Y2IxYzYteDg2LmNhY2hlLTIKYjI5NjYwMDAtYjI5NmUwMDAgci0tcyAwMDAwMDAwMCAw
ODowMyA3MzY0MzQ2ICAgIC92YXIvY2FjaGUvZm9udGNvbmZpZy9kNTJhODY0NDA3M2Q1NGMx
MzY3OTMwMmNhMTE4MDY5NS14ODYuY2FjaGUtMgpiMjk2ZTAwMC1iMjk3OTAwMCByLS1zIDAw
MDAwMDAwIDA4OjAzIDczNTkxNDkgICAgL3Zhci9jYWNoZS9mb250Y29uZmlnLzA4OWRlYWQ4
ODJkZWEzNTcwZmZjMzFhOTg5OGNmYjY5LXg4Ni5jYWNoZS0yCmIyOTc5MDAwLWIyOTdiMDAw
IHItLXMgMDAwMDAwMDAgMDg6MDMgNzM2OTMyMSAgICAvdmFyL2NhY2hlL2ZvbnRjb25maWcv
ZTEzYjIwZmRiMDgzNDRlMGU2NjQ4NjRjYzJlZGU1M2QteDg2LmNhY2hlLTIKYjI5N2IwMDAt
YjI5N2QwMDAgci0tcyAwMDAwMDAwMCAwODowMyA3MzY5MjgyICAgIC92YXIvY2FjaGUvZm9u
dGNvbmZpZy83ZWYyMjk4ZmRlNDFjYzZlZWI3YWY0MmU0OGI3ZDI5My14ODYuY2FjaGUtMgpi
Mjk3ZDAwMC1iMjk4OTAwMCByLS1wIDAwMDAwMDAwIDA4OjAzIDQwOTg5MTIgICAgL3Vzci9z
aGFyZS9sb2NhbGUtbGFuZ3BhY2svZGUvTENfTUVTU0FHRVMvZ2xpYjIwLm1vCmIyOTg5MDAw
LWIyYmY5MDAwIHJ3LXAgMDAwMDAwMDAgMDA6MDAgMCAKYjJkMGIwMDAtYjJkOTQwMDAgcnct
cCAwMDAwMDAwMCAwMDowMCAwIApiMmU2OTAwMC1iMmU2ZDAwMCByLXhwIDAwMDAwMDAwIDA4
OjAzIDM2Mzg0MDYgICAgL3Vzci9saWIvbGliWGZpeGVzLnNvLjMuMS4wCmIyZTZkMDAwLWIy
ZTZlMDAwIHItLXAgMDAwMDMwMDAgMDg6MDMgMzYzODQwNiAgICAvdXNyL2xpYi9saWJYZml4
ZXMuc28uMy4xLjAKYjJlNmUwMDAtYjJlNmYwMDAgcnctcCAwMDAwNDAwMCAwODowMyAzNjM4
NDA2ICAgIC91c3IvbGliL2xpYlhmaXhlcy5zby4zLjEuMApiMmU2ZjAwMC1iMmU3ODAwMCBy
LXhwIDAwMDAwMDAwIDA4OjAzIDM2NDExMTcgICAgL3Vzci9saWIvbGliWGN1cnNvci5zby4x
LjAuMgpiMmU3ODAwMC1iMmU3OTAwMCByLS1wIDAwMDA4MDAwIDA4OjAzIDM2NDExMTcgICAg
L3Vzci9saWIvbGliWGN1cnNvci5zby4xLjAuMgpiMmU3OTAwMC1iMmU3YTAwMCBydy1wIDAw
MDA5MDAwIDA4OjAzIDM2NDExMTcgICAgL3Vzci9saWIvbGliWGN1cnNvci5zby4xLjAuMgpi
MmU3YTAwMC1iMmU3ZTAwMCByLXhwIDAwMDAwMDAwIDA4OjAzIDM2Mzg4ODYgICAgL3Vzci9s
aWIvbGliWGRtY3Auc28uNi4wLjAKYjJlN2UwMDAtYjJlN2YwMDAgcnctcCAwMDAwMzAwMCAw
ODowMyAzNjM4ODg2ICAgIC91c3IvbGliL2xpYlhkbWNwLnNvLjYuMC4wCmIyZTdmMDAwLWIy
ZWEzMDAwIHIteHAgMDAwMDAwMDAgMDg6MDMgMTA2NDk4NTcgICAvbGliL2xpYmV4cGF0LnNv
LjEuNS4yCmIyZWEzMDAwLWIyZWE1MDAwIHItLXAgMDAwMjQwMDAgMDg6MDMgMTA2NDk4NTcg
ICAvbGliL2xpYmV4cGF0LnNvLjEuNS4yCmIyZWE1MDAwLWIyZWE2MDAwIHJ3LXAgMDAwMjYw
MDAgMDg6MDMgMTA2NDk4NTcgICAvbGliL2xpYmV4cGF0LnNvLjEuNS4yCmIyZWE2MDAwLWIy
ZWI0MDAwIHIteHAgMDAwMDAwMDAgMDg6MDMgMzYzNzI1OSAgICAvdXNyL2xpYi9saWJYZXh0
LnNvLjYuNC4wCmIyZWI0MDAwLWIyZWI1MDAwIHItLXAgMDAwMGQwMDAgMDg6MDMgMzYzNzI1
OSAgICAvdXNyL2xpYi9saWJYZXh0LnNvLjYuNC4wCmIyZWI1MDAwLWIyZWI2MDAwIHJ3LXAg
MDAwMGUwMDAgMDg6MDMgMzYzNzI1OSAgICAvdXNyL2xpYi9saWJYZXh0LnNvLjYuNC4wCmIy
ZWI2MDAwLWIyZWJlMDAwIHIteHAgMDAwMDAwMDAgMDg6MDMgMzYzOTAzOSAgICAvdXNyL2xp
Yi9saWJYcmVuZGVyLnNvLjEuMy4wCmIyZWJlMDAwLWIyZWJmMDAwIHItLXAgMDAwMDcwMDAg
MDg6MDMgMzYzOTAzOSAgICAvdXNyL2xpYi9saWJYcmVuZGVyLnNvLjEuMy4wCmIyZWJmMDAw
LWIyZWMwMDAwIHJ3LXAgMDAwMDgwMDAgMDg6MDMgMzYzOTAzOSAgICAvdXNyL2xpYi9saWJY
cmVuZGVyLnNvLjEuMy4wCmIyZWMwMDAwLWIyZWQ1MDAwIHIteHAgMDAwMDAwMDAgMDg6MDMg
MTA2ODI5MDQgICAvbGliL3Rscy9pNjg2L2Ntb3YvbGlicHRocmVhZC0yLjEwLjEuc28KYjJl
ZDUwMDAtYjJlZDYwMDAgci0tcCAwMDAxNDAwMCAwODowMyAxMDY4MjkwNCAgIC9saWIvdGxz
L2k2ODYvY21vdi9saWJwdGhyZWFkLTIuMTAuMS5zbwpiMmVkNjAwMC1iMmVkNzAwMCBydy1w
IDAwMDE1MDAwIDA4OjAzIDEwNjgyOTA0ICAgL2xpYi90bHMvaTY4Ni9jbW92L2xpYnB0aHJl
YWQtMi4xMC4xLnNvCmIyZWQ3MDAwLWIyZWQ5MDAwIHJ3LXAgMDAwMDAwMDAgMDA6MDAgMCAK
YjJlZDkwMDAtYjJlZWYwMDAgci14cCAwMDAwMDAwMCAwODowMyAzNjM5OTA0ICAgIC91c3Iv
bGliL2xpYmRpcmVjdC0xLjIuc28uMC43LjAKYjJlZWYwMDAtYjJlZjAwMDAgci0tcCAwMDAx
NTAwMCAwODowMyAzNjM5OTA0ICAgIC91c3IvbGliL2xpYmRpcmVjdC0xLjIuc28uMC43LjAK
YjJlZgpQcm9jZXNzIFIgYWJvcnRlZCBhdCBXZWQgTm92IDExIDE2OjM1OjIxIDIwMDk=
--------------020309030400080109090707
Content-Type: text/plain;
 name="patch.nls"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="patch.nls"

--- nls.c	2009-07-30 08:30:11.000000000 +0200
+++ nls_new.c	2009-11-11 16:58:41.000000000 +0100
@@ -138,7 +138,7 @@
 
 #define NON_CONV_FINIS_1(_ID_, _MSG_, _A1_)	\
     if(warnOnly) {				\
-	char msgbuf[70];			\
+	char msgbuf[255];			\
 	warning(_MSG_, _A1_);			\
 	sprintf(msgbuf, _MSG_, _A1_);		\
 	return CONV_INFO_MSG(msgbuf, _ID_);	\
@@ -148,7 +148,7 @@
 
 #define NON_CONV_FINIS_2(_ID_, _MSG_, _A1_, _A2_)	\
     if(warnOnly) {					\
-	char msgbuf[70];				\
+	char msgbuf[255];				\
 	warning(_MSG_, _A1_, _A2_);			\
 	sprintf(msgbuf, _MSG_, _A1_, _A2_);		\
 	return CONV_INFO_MSG(msgbuf, _ID_);		\

--------------020309030400080109090707--


From ken.knoblauch at inserm.fr  Wed Nov 11 21:58:08 2009
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Wed, 11 Nov 2009 20:58:08 +0000 (UTC)
Subject: [Rd] Clarification on generic functions and methods
References: <59d7961d0911110743y72b7feeaya788095b0a19d1ab@mail.gmail.com>
	<C0772C7568B5374481D2F8A880E9BBDF5B4E0431@DC1EX07CMS.air.org>
Message-ID: <loom.20091111T215615-32@post.gmane.org>

Doran, Harold <HDoran <at> air.org> writes:
> 
> Thank you, Henrik. This actually doesn't work when I build the package, 
which may only require a slight
> modification to what I'm doing now. First, I create a NAMESPACE as:
> 
> ### NAMESPACE FILE CONTENTS
> export(jml2)
> S3method(jml2, fit)
> S3method(jml2, default)
> S3method(jml2, formula)
> S3method(print, jml)
> S3method(summary, jml)
> S3method(print, summary.jml)
> 
> So, only the generic function (jml) is exported. 
> 
> Now, I do as you suggest below for the generic function, but keep all others 
as they were previously. That
> creates a situation where jml.formula, jml.default, and jml have different
 arguments.
> 
> Now, in the .Rd file for the jml function I want the user to see the usage for 
the jml.formula method, which
> obviously has more args than "...". So, the .Rd file is structured as
 (for testing purposes only):

How about if you document the default method as well as the generic
method in your man page.  See ?lag for an example, and I've come
across several others recently.

HTH,

Ken

-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From HDoran at air.org  Wed Nov 11 22:06:18 2009
From: HDoran at air.org (Doran, Harold)
Date: Wed, 11 Nov 2009 16:06:18 -0500
Subject: [Rd] Clarification on generic functions and methods
In-Reply-To: <loom.20091111T215615-32@post.gmane.org>
Message-ID: <C0772C7568B5374481D2F8A880E9BBDF5B4E0433@DC1EX07CMS.air.org>

Hi Ken:

Well, I'm quite pleased with a solution I found. The t.test method and its .Rd file showed me that I can export only the generic method, use \alias{jml2.default} and \alias{jml2.formula} in the .Rd file for jml2, and then use \method{jml2}{default}{args} and \method{jml2}{formula}{args}.

Using this, I was able to build the package in both windows and Ubuntu without error.

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Ken Knoblauch
> Sent: Wednesday, November 11, 2009 3:58 PM
> To: r-devel at stat.math.ethz.ch
> Subject: Re: [Rd] Clarification on generic functions and methods
> 
> Doran, Harold <HDoran <at> air.org> writes:
> > 
> > Thank you, Henrik. This actually doesn't work when I build the 
> > package,
> which may only require a slight
> > modification to what I'm doing now. First, I create a NAMESPACE as:
> > 
> > ### NAMESPACE FILE CONTENTS
> > export(jml2)
> > S3method(jml2, fit)
> > S3method(jml2, default)
> > S3method(jml2, formula)
> > S3method(print, jml)
> > S3method(summary, jml)
> > S3method(print, summary.jml)
> > 
> > So, only the generic function (jml) is exported. 
> > 
> > Now, I do as you suggest below for the generic function, 
> but keep all 
> > others
> as they were previously. That
> > creates a situation where jml.formula, jml.default, and jml have 
> > different
>  arguments.
> > 
> > Now, in the .Rd file for the jml function I want the user 
> to see the 
> > usage for
> the jml.formula method, which
> > obviously has more args than "...". So, the .Rd file is 
> structured as
>  (for testing purposes only):
> 
> How about if you document the default method as well as the 
> generic method in your man page.  See ?lag for an example, 
> and I've come across several others recently.
> 
> HTH,
> 
> Ken
> 
> --
> Ken Knoblauch
> Inserm U846
> Stem-cell and Brain Research Institute
> Department of Integrative Neurosciences
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.sbri.fr/members/kenneth-knoblauch.html
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 

From Cameron.Bracken at colorado.edu  Wed Nov 11 22:41:48 2009
From: Cameron.Bracken at colorado.edu (Cameron Bracken)
Date: Wed, 11 Nov 2009 14:41:48 -0700
Subject: [Rd] Building package under windows which links against a cygwin
	library
Message-ID: <28152c800911111341j782f1a58q79d2dea081fafcaa@mail.gmail.com>

I am developing a package
(http://r-forge.r-project.org/projects/swfdevice/)?which links against
the ming C library. The package builds fine under Mac OS X and Linux.
I am really out of my element on windows, but I know there is a cygwin
package for libming.

My question is, does anyone have advice/examples on linking R packages
against cygwin libraries?  Is this even possible? ?How would I go
about writing a configure.win script to do this?

Cheers,
-Cameron


From bunny at lautloscrew.com  Wed Nov 11 23:38:08 2009
From: bunny at lautloscrew.com (Bunny, lautloscrew.com)
Date: Wed, 11 Nov 2009 23:38:08 +0100
Subject: [Rd] Fwd: fameInit TSfame fame.dll
References: <9514D18F-ABAA-4B24-B71C-EFFA773CA1A0@lautloscrew.com>
Message-ID: <575A91E4-2010-443F-81FD-FBE872326290@lautloscrew.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091111/6ba1d4e5/attachment.pl>

From murdoch at stats.uwo.ca  Thu Nov 12 00:36:56 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 11 Nov 2009 18:36:56 -0500
Subject: [Rd] Building package under windows which links against a
 cygwin library
In-Reply-To: <28152c800911111341j782f1a58q79d2dea081fafcaa@mail.gmail.com>
References: <28152c800911111341j782f1a58q79d2dea081fafcaa@mail.gmail.com>
Message-ID: <4AFB4A98.70905@stats.uwo.ca>

On 11/11/2009 4:41 PM, Cameron Bracken wrote:
> I am developing a package
> (http://r-forge.r-project.org/projects/swfdevice/) which links against
> the ming C library. The package builds fine under Mac OS X and Linux.
> I am really out of my element on windows, but I know there is a cygwin
> package for libming.
> 
> My question is, does anyone have advice/examples on linking R packages
> against cygwin libraries?  Is this even possible?  How would I go
> about writing a configure.win script to do this?

I suspect it's not going to work.  Linking to any Cygwin library will 
pull in the rest, and I would guess that will conflict with something 
else in R, which does not use Cygwin.

What you could do is include a copy of the source to the ming library, 
and get the regular R compilers to compile it.  I just tried, and it 
compiled without errors (though there were a few warnings).  Then you 
can write your R interface to it, and everything may just work.

The tricky bit might be getting the Makevars or Makefile right, but 
theirs is really simple, so that shouldn't be so bad.

Duncan Murdoch


From murdoch at stats.uwo.ca  Thu Nov 12 01:15:09 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 11 Nov 2009 19:15:09 -0500
Subject: [Rd] Building package under windows which links against a
 cygwin library
In-Reply-To: <28152c800911111549w33639c30w9d0d9e73a60aa54a@mail.gmail.com>
References: <28152c800911111341j782f1a58q79d2dea081fafcaa@mail.gmail.com>
	<4AFB4A98.70905@stats.uwo.ca>
	<28152c800911111549w33639c30w9d0d9e73a60aa54a@mail.gmail.com>
Message-ID: <4AFB538D.4010902@stats.uwo.ca>

On 11/11/2009 6:49 PM, Cameron Bracken wrote:
> On Wed, Nov 11, 2009 at 4:36 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 11/11/2009 4:41 PM, Cameron Bracken wrote:
>>> I am developing a package
>>> (http://r-forge.r-project.org/projects/swfdevice/) which links against
>>> the ming C library. The package builds fine under Mac OS X and Linux.
>>> I am really out of my element on windows, but I know there is a cygwin
>>> package for libming.
>>>
>>> My question is, does anyone have advice/examples on linking R packages
>>> against cygwin libraries?  Is this even possible?  How would I go
>>> about writing a configure.win script to do this?
>> I suspect it's not going to work.  Linking to any Cygwin library will pull in the rest, and I would guess that will conflict with something else in R, which does not use Cygwin.
>>
> 
> I figured that would be the case.
> 
>> What you could do is include a copy of the source to the ming library, and get the regular R compilers to compile it.  I just tried, and it compiled without errors (though there were a few warnings).  Then you can write your R interface to it, and everything may just work.
> 
> Hey, that is great! I thought about doing this but decided arbitrarily
> that it would be too hard.  Do I just plop a copy of the ming source
> in the src/ directory of my package (then adjust Makevars
> accordingly)?  Did you run the whole ming configure script as well?

I just ran make.  I don't think there is any configure script.

I'd probably put their stuff in a subdir of src, just to keep it cleanly 
separated from yours.  This also gives you the option of *not* compiling 
it on systems like Linux and MacOS that already have it.  Then make up a 
Makevars.win file that builds it as a static or dynamic lib on Windows 
and links to it, and a Makevars file that just links to it on other 
platforms.  (You might want to do a static compile on the other systems 
just so you're protected against version changes.)

Duncan Murdoch


From Cameron.Bracken at colorado.edu  Thu Nov 12 00:49:10 2009
From: Cameron.Bracken at colorado.edu (Cameron Bracken)
Date: Wed, 11 Nov 2009 16:49:10 -0700
Subject: [Rd] Building package under windows which links against a
	cygwin library
In-Reply-To: <4AFB4A98.70905@stats.uwo.ca>
References: <28152c800911111341j782f1a58q79d2dea081fafcaa@mail.gmail.com> 
	<4AFB4A98.70905@stats.uwo.ca>
Message-ID: <28152c800911111549w33639c30w9d0d9e73a60aa54a@mail.gmail.com>

On Wed, Nov 11, 2009 at 4:36 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>
> On 11/11/2009 4:41 PM, Cameron Bracken wrote:
>>
>> I am developing a package
>> (http://r-forge.r-project.org/projects/swfdevice/) which links against
>> the ming C library. The package builds fine under Mac OS X and Linux.
>> I am really out of my element on windows, but I know there is a cygwin
>> package for libming.
>>
>> My question is, does anyone have advice/examples on linking R packages
>> against cygwin libraries? ?Is this even possible? ?How would I go
>> about writing a configure.win script to do this?
>
> I suspect it's not going to work. ?Linking to any Cygwin library will pull in the rest, and I would guess that will conflict with something else in R, which does not use Cygwin.
>

I figured that would be the case.

>
> What you could do is include a copy of the source to the ming library, and get the regular R compilers to compile it. ?I just tried, and it compiled without errors (though there were a few warnings). ?Then you can write your R interface to it, and everything may just work.

Hey, that is great! I thought about doing this but decided arbitrarily
that it would be too hard.  Do I just plop a copy of the ming source
in the src/ directory of my package (then adjust Makevars
accordingly)?  Did you run the whole ming configure script as well?

-Cameron


From fjsim at buffalo.edu  Thu Nov 12 01:54:26 2009
From: fjsim at buffalo.edu (Fraser Sim)
Date: Wed, 11 Nov 2009 19:54:26 -0500
Subject: [Rd] html help in Windows
Message-ID: <00e501ca6332$af0c6460$0d252d20$@edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091111/aa0144ec/attachment.pl>

From ggrothendieck at gmail.com  Thu Nov 12 02:24:58 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 11 Nov 2009 20:24:58 -0500
Subject: [Rd] html help in Windows
In-Reply-To: <00e501ca6332$af0c6460$0d252d20$@edu>
References: <00e501ca6332$af0c6460$0d252d20$@edu>
Message-ID: <971536df0911111724j25fee180k7a3d5218dc7a2249@mail.gmail.com>

This has already been discussed on this list.

Its now a link at the bottom of the page labeled Index.

On Wed, Nov 11, 2009 at 7:54 PM, Fraser Sim <fjsim at buffalo.edu> wrote:
> Hi all,
>
>
>
> Another comment re: html help in Windows. It seems that we've lost the
> functionality of being able to browse the other functions in a package. In
> chm, after calling a help function on 'arrayw' in say package 'limma' in
> BioC, it was possible to see all of the other functions in the limma
> package. Now it seems we just get a flat html page with no links to the
> overall package and no side browsing. Can this be added to html help?
>
>
>
> Cheers,
>
> Fraser
>
>
>
>
> ? ? ? ?[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From Cameron.Bracken at colorado.edu  Thu Nov 12 02:03:42 2009
From: Cameron.Bracken at colorado.edu (Cameron Bracken)
Date: Wed, 11 Nov 2009 18:03:42 -0700
Subject: [Rd] Building package under windows which links against a
	cygwin library
In-Reply-To: <4AFB538D.4010902@stats.uwo.ca>
References: <28152c800911111341j782f1a58q79d2dea081fafcaa@mail.gmail.com> 
	<4AFB4A98.70905@stats.uwo.ca>
	<28152c800911111549w33639c30w9d0d9e73a60aa54a@mail.gmail.com> 
	<4AFB538D.4010902@stats.uwo.ca>
Message-ID: <28152c800911111703h747a9f7r22c3fc3ffb6f587c@mail.gmail.com>

On Wed, Nov 11, 2009 at 5:15 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 11/11/2009 6:49 PM, Cameron Bracken wrote:
>>
>> On Wed, Nov 11, 2009 at 4:36 PM, Duncan Murdoch <murdoch at stats.uwo.ca>
>> wrote:
>>>
>>> On 11/11/2009 4:41 PM, Cameron Bracken wrote:
>>>>
>>>> I am developing a package
>>>> (http://r-forge.r-project.org/projects/swfdevice/) which links against
>>>> the ming C library. The package builds fine under Mac OS X and Linux.
>>>> I am really out of my element on windows, but I know there is a cygwin
>>>> package for libming.
>>>>
>>>> My question is, does anyone have advice/examples on linking R packages
>>>> against cygwin libraries? ?Is this even possible? ?How would I go
>>>> about writing a configure.win script to do this?
>>>
>>> I suspect it's not going to work. ?Linking to any Cygwin library will
>>> pull in the rest, and I would guess that will conflict with something else
>>> in R, which does not use Cygwin.
>>>
>>
>> I figured that would be the case.
>>
>>> What you could do is include a copy of the source to the ming library,
>>> and get the regular R compilers to compile it. ?I just tried, and it
>>> compiled without errors (though there were a few warnings). ?Then you can
>>> write your R interface to it, and everything may just work.
>>
>> Hey, that is great! I thought about doing this but decided arbitrarily
>> that it would be too hard. ?Do I just plop a copy of the ming source
>> in the src/ directory of my package (then adjust Makevars
>> accordingly)? ?Did you run the whole ming configure script as well?
>
> I just ran make. ?I don't think there is any configure script.
>
> I'd probably put their stuff in a subdir of src, just to keep it cleanly
> separated from yours. ?This also gives you the option of *not* compiling it
> on systems like Linux and MacOS that already have it. ?Then make up a
> Makevars.win file that builds it as a static or dynamic lib on Windows and
> links to it, and a Makevars file that just links to it on other platforms.
> ?(You might want to do a static compile on the other systems just so you're
> protected against version changes.)
>
> Duncan Murdoch
>

Thanks for the feedback, I agree that would be the easiest and
preferable way.  But which version of ming are you using that only has
a makefile? The version I need (0.4.0 beta5) has a fairly involved
configure script.  I would have to pick out the components I need for
my package and create a custom makefile for it to be easily usable
(which I may end up doing, thank goodness for open source).

-Cameron


From marc_schwartz at me.com  Thu Nov 12 02:09:06 2009
From: marc_schwartz at me.com (Marc Schwartz)
Date: Wed, 11 Nov 2009 19:09:06 -0600
Subject: [Rd] html help in Windows
In-Reply-To: <00e501ca6332$af0c6460$0d252d20$@edu>
References: <00e501ca6332$af0c6460$0d252d20$@edu>
Message-ID: <7736D244-2FB6-43C0-9090-1B0FA7BD249E@me.com>

On Nov 11, 2009, at 6:54 PM, Fraser Sim wrote:

> Hi all,
>
>
>
> Another comment re: html help in Windows. It seems that we've lost the
> functionality of being able to browse the other functions in a  
> package. In
> chm, after calling a help function on 'arrayw' in say package  
> 'limma' in
> BioC, it was possible to see all of the other functions in the limma
> package. Now it seems we just get a flat html page with no links to  
> the
> overall package and no side browsing. Can this be added to html help?



If you scroll down to the bottom of the HTML help page, there is a  
link to the package index page.

For example, use ?plot and scroll to the bottom of the page. There  
will be a link to the Index page for the graphics package. Click on  
that link you will have a page upon which are links to the other  
functions in the package.

HTH,

Marc Schwartz


From seth at userprimary.net  Thu Nov 12 03:49:12 2009
From: seth at userprimary.net (Seth Falcon)
Date: Wed, 11 Nov 2009 18:49:12 -0800
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <4AFA93B1.6050508@stats.uwo.ca>
References: <4AFA350D.7060303@acm.org> <4AFA3AA7.8080104@acm.org>
	<4AFA93B1.6050508@stats.uwo.ca>
Message-ID: <4AFB77A8.30802@userprimary.net>

On 11/11/09 2:36 AM, Duncan Murdoch wrote:
> On 10/11/2009 11:16 PM, Tony Plate wrote:
>> PS, I should have said that I'm reading the docs for unlink in
>> R-2.10.0 on a Linux system. The docs that appear in a Windows
>> installation of R are different (the Windows docs do not mention that
>> not all systems support recursive=TRUE).
>>
>> Here's a plea for docs to be uniform across all systems! Trying to
>> write R code that works on all systems is much harder when the docs
>> are different across systems, and you might only see system specific
>> notes on a different system than the one you're working on.
>
> That's a good point, but in favour of the current practice, it is very
> irritating when searches take you to functions that don't work on your
> system.
>
> One thing that might be possible is to render all versions of the help
> on all systems, but with some sort of indicator (e.g. a colour change)
> to indicate things that don't apply on your system, or only apply on
> your system. I think the hardest part of doing this would be designing
> the output; actually implementing it would not be so bad.

I would be strongly in favor of a change that provided documentation for 
all systems on all systems.

Since platform specific behavior for R functions is the exception rather 
than the norm, I would imagine that simply displaying doc sections by 
platform would be sufficient.

I think the benefit of being able to see what might not work on another 
platform far out weighs the inconvenience of finding doc during a search 
for something that only works on another platform -- hey, that still 
might be useful as it would tell you what platform you should use ;-)

+ seth


From murdoch at stats.uwo.ca  Thu Nov 12 04:06:17 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 11 Nov 2009 22:06:17 -0500
Subject: [Rd] Building package under windows which links against a
 cygwin library
In-Reply-To: <28152c800911111703h747a9f7r22c3fc3ffb6f587c@mail.gmail.com>
References: <28152c800911111341j782f1a58q79d2dea081fafcaa@mail.gmail.com>
	<4AFB4A98.70905@stats.uwo.ca>
	<28152c800911111549w33639c30w9d0d9e73a60aa54a@mail.gmail.com>
	<4AFB538D.4010902@stats.uwo.ca>
	<28152c800911111703h747a9f7r22c3fc3ffb6f587c@mail.gmail.com>
Message-ID: <4AFB7BA9.7090206@stats.uwo.ca>

On 11/11/2009 8:03 PM, Cameron Bracken wrote:
> On Wed, Nov 11, 2009 at 5:15 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 11/11/2009 6:49 PM, Cameron Bracken wrote:
>>> On Wed, Nov 11, 2009 at 4:36 PM, Duncan Murdoch <murdoch at stats.uwo.ca>
>>> wrote:
>>>> On 11/11/2009 4:41 PM, Cameron Bracken wrote:
>>>>> I am developing a package
>>>>> (http://r-forge.r-project.org/projects/swfdevice/) which links against
>>>>> the ming C library. The package builds fine under Mac OS X and Linux.
>>>>> I am really out of my element on windows, but I know there is a cygwin
>>>>> package for libming.
>>>>>
>>>>> My question is, does anyone have advice/examples on linking R packages
>>>>> against cygwin libraries?  Is this even possible?  How would I go
>>>>> about writing a configure.win script to do this?
>>>> I suspect it's not going to work.  Linking to any Cygwin library will
>>>> pull in the rest, and I would guess that will conflict with something else
>>>> in R, which does not use Cygwin.
>>>>
>>> I figured that would be the case.
>>>
>>>> What you could do is include a copy of the source to the ming library,
>>>> and get the regular R compilers to compile it.  I just tried, and it
>>>> compiled without errors (though there were a few warnings).  Then you can
>>>> write your R interface to it, and everything may just work.
>>> Hey, that is great! I thought about doing this but decided arbitrarily
>>> that it would be too hard.  Do I just plop a copy of the ming source
>>> in the src/ directory of my package (then adjust Makevars
>>> accordingly)?  Did you run the whole ming configure script as well?
>> I just ran make.  I don't think there is any configure script.
>>
>> I'd probably put their stuff in a subdir of src, just to keep it cleanly
>> separated from yours.  This also gives you the option of *not* compiling it
>> on systems like Linux and MacOS that already have it.  Then make up a
>> Makevars.win file that builds it as a static or dynamic lib on Windows and
>> links to it, and a Makevars file that just links to it on other platforms.
>>  (You might want to do a static compile on the other systems just so you're
>> protected against version changes.)
>>
>> Duncan Murdoch
>>
> 
> Thanks for the feedback, I agree that would be the easiest and
> preferable way.  But which version of ming are you using that only has
> a makefile? The version I need (0.4.0 beta5) has a fairly involved
> configure script.  I would have to pick out the components I need for
> my package and create a custom makefile for it to be easily usable
> (which I may end up doing, thank goodness for open source).

I was looking at ming-0.2a.  It might not be the same library at all!

Duncan Murdoch


From Cameron.Bracken at colorado.edu  Thu Nov 12 04:12:41 2009
From: Cameron.Bracken at colorado.edu (Cameron Bracken)
Date: Wed, 11 Nov 2009 20:12:41 -0700
Subject: [Rd] Building package under windows which links against a
	cygwin library
In-Reply-To: <4AFB7BA9.7090206@stats.uwo.ca>
References: <28152c800911111341j782f1a58q79d2dea081fafcaa@mail.gmail.com> 
	<4AFB4A98.70905@stats.uwo.ca>
	<28152c800911111549w33639c30w9d0d9e73a60aa54a@mail.gmail.com> 
	<4AFB538D.4010902@stats.uwo.ca>
	<28152c800911111703h747a9f7r22c3fc3ffb6f587c@mail.gmail.com> 
	<4AFB7BA9.7090206@stats.uwo.ca>
Message-ID: <28152c800911111912q2aab0e48v7b6fb050f2bad240@mail.gmail.com>

On Wed, Nov 11, 2009 at 8:06 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 11/11/2009 8:03 PM, Cameron Bracken wrote:
>>
>> On Wed, Nov 11, 2009 at 5:15 PM, Duncan Murdoch <murdoch at stats.uwo.ca>
>> wrote:
>>>
>>> On 11/11/2009 6:49 PM, Cameron Bracken wrote:
>>>>
>>>> On Wed, Nov 11, 2009 at 4:36 PM, Duncan Murdoch <murdoch at stats.uwo.ca>
>>>> wrote:
>>>>>
>>>>> On 11/11/2009 4:41 PM, Cameron Bracken wrote:
>>>>>>
>>>>>> I am developing a package
>>>>>> (http://r-forge.r-project.org/projects/swfdevice/) which links against
>>>>>> the ming C library. The package builds fine under Mac OS X and Linux.
>>>>>> I am really out of my element on windows, but I know there is a cygwin
>>>>>> package for libming.
>>>>>>
>>>>>> My question is, does anyone have advice/examples on linking R packages
>>>>>> against cygwin libraries? ?Is this even possible? ?How would I go
>>>>>> about writing a configure.win script to do this?
>>>>>
>>>>> I suspect it's not going to work. ?Linking to any Cygwin library will
>>>>> pull in the rest, and I would guess that will conflict with something
>>>>> else
>>>>> in R, which does not use Cygwin.
>>>>>
>>>> I figured that would be the case.
>>>>
>>>>> What you could do is include a copy of the source to the ming library,
>>>>> and get the regular R compilers to compile it. ?I just tried, and it
>>>>> compiled without errors (though there were a few warnings). ?Then you
>>>>> can
>>>>> write your R interface to it, and everything may just work.
>>>>
>>>> Hey, that is great! I thought about doing this but decided arbitrarily
>>>> that it would be too hard. ?Do I just plop a copy of the ming source
>>>> in the src/ directory of my package (then adjust Makevars
>>>> accordingly)? ?Did you run the whole ming configure script as well?
>>>
>>> I just ran make. ?I don't think there is any configure script.
>>>
>>> I'd probably put their stuff in a subdir of src, just to keep it cleanly
>>> separated from yours. ?This also gives you the option of *not* compiling
>>> it
>>> on systems like Linux and MacOS that already have it. ?Then make up a
>>> Makevars.win file that builds it as a static or dynamic lib on Windows
>>> and
>>> links to it, and a Makevars file that just links to it on other
>>> platforms.
>>> ?(You might want to do a static compile on the other systems just so
>>> you're
>>> protected against version changes.)
>>>
>>> Duncan Murdoch
>>>
>>
>> Thanks for the feedback, I agree that would be the easiest and
>> preferable way. ?But which version of ming are you using that only has
>> a makefile? The version I need (0.4.0 beta5) has a fairly involved
>> configure script. ?I would have to pick out the components I need for
>> my package and create a custom makefile for it to be easily usable
>> (which I may end up doing, thank goodness for open source).
>
> I was looking at ming-0.2a. ?It might not be the same library at all!
>
> Duncan Murdoch
>

That is the same library but it is a very old version which has most,
but not all of the features I need (unfortunately).  You are correct
that it does only have a makefile though. On the other hand, I don't
really need the full functionality of the library, so I think I can
strip out a lot of things and create a custom makefile and build just
what I need.

Cheers,
-Cameron


From murdoch at stats.uwo.ca  Thu Nov 12 04:21:33 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 11 Nov 2009 22:21:33 -0500
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <4AFB77A8.30802@userprimary.net>
References: <4AFA350D.7060303@acm.org>
	<4AFA3AA7.8080104@acm.org>	<4AFA93B1.6050508@stats.uwo.ca>
	<4AFB77A8.30802@userprimary.net>
Message-ID: <4AFB7F3D.5020206@stats.uwo.ca>

On 11/11/2009 9:49 PM, Seth Falcon wrote:
> On 11/11/09 2:36 AM, Duncan Murdoch wrote:
>> On 10/11/2009 11:16 PM, Tony Plate wrote:
>>> PS, I should have said that I'm reading the docs for unlink in
>>> R-2.10.0 on a Linux system. The docs that appear in a Windows
>>> installation of R are different (the Windows docs do not mention that
>>> not all systems support recursive=TRUE).
>>>
>>> Here's a plea for docs to be uniform across all systems! Trying to
>>> write R code that works on all systems is much harder when the docs
>>> are different across systems, and you might only see system specific
>>> notes on a different system than the one you're working on.
>> That's a good point, but in favour of the current practice, it is very
>> irritating when searches take you to functions that don't work on your
>> system.
>>
>> One thing that might be possible is to render all versions of the help
>> on all systems, but with some sort of indicator (e.g. a colour change)
>> to indicate things that don't apply on your system, or only apply on
>> your system. I think the hardest part of doing this would be designing
>> the output; actually implementing it would not be so bad.
> 
> I would be strongly in favor of a change that provided documentation for 
> all systems on all systems.

As I said, I don't think that's hard to implement, but it's hard to 
design.  If you want to put together what the output (say in HTML) 
should look like for unlink, I'll let you know whether the 
implementation is really as easy as I think it will be.

Duncan Murdoch

> 
> Since platform specific behavior for R functions is the exception rather 
> than the norm, I would imagine that simply displaying doc sections by 
> platform would be sufficient.
> 
> I think the benefit of being able to see what might not work on another 
> platform far out weighs the inconvenience of finding doc during a search 
> for something that only works on another platform -- hey, that still 
> might be useful as it would tell you what platform you should use ;-)
> 
> + seth
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From hpages at fhcrc.org  Thu Nov 12 06:20:57 2009
From: hpages at fhcrc.org (=?ISO-8859-1?Q?Herv=E9_Pag=E8s?=)
Date: Wed, 11 Nov 2009 21:20:57 -0800
Subject: [Rd] unname() returns a named vector when the input vector has
 length 0
Message-ID: <5527_1258003273_4AFB9B48_5527_3290_1_4AFB9B39.7050804@fhcrc.org>

Hi,

 > x <- c(aa=22, bb=555)
 > unname(x[FALSE])
named numeric(0)

Cheers,
H.

 > sessionInfo()
R version 2.10.0 (2009-10-26)
x86_64-unknown-linux-gnu

locale:
  [1] LC_CTYPE=en_CA.UTF-8       LC_NUMERIC=C
  [3] LC_TIME=en_CA.UTF-8        LC_COLLATE=en_CA.UTF-8
  [5] LC_MONETARY=C              LC_MESSAGES=en_CA.UTF-8
  [7] LC_PAPER=en_CA.UTF-8       LC_NAME=C
  [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_CA.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.10.0


From maechler at stat.math.ethz.ch  Thu Nov 12 09:21:58 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 12 Nov 2009 09:21:58 +0100
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <4AFB77A8.30802@userprimary.net>
References: <4AFA350D.7060303@acm.org> <4AFA3AA7.8080104@acm.org>
	<4AFA93B1.6050508@stats.uwo.ca> <4AFB77A8.30802@userprimary.net>
Message-ID: <19195.50598.636144.927120@lynne.math.ethz.ch>

>>>>> "SF" == Seth Falcon <seth at userprimary.net>
>>>>>     on Wed, 11 Nov 2009 18:49:12 -0800 writes:

    SF> On 11/11/09 2:36 AM, Duncan Murdoch wrote:
    >> On 10/11/2009 11:16 PM, Tony Plate wrote:
    >>> PS, I should have said that I'm reading the docs for unlink in
    >>> R-2.10.0 on a Linux system. The docs that appear in a Windows
    >>> installation of R are different (the Windows docs do not mention that
    >>> not all systems support recursive=TRUE).
    >>> 
    >>> Here's a plea for docs to be uniform across all systems! Trying to
    >>> write R code that works on all systems is much harder when the docs
    >>> are different across systems, and you might only see system specific
    >>> notes on a different system than the one you're working on.
    >> 
    >> That's a good point, but in favour of the current practice, it is very
    >> irritating when searches take you to functions that don't work on your
    >> system.
    >> 
    >> One thing that might be possible is to render all versions of the help
    >> on all systems, but with some sort of indicator (e.g. a colour change)
    >> to indicate things that don't apply on your system, or only apply on
    >> your system. I think the hardest part of doing this would be designing
    >> the output; actually implementing it would not be so bad.

    SF> I would be strongly in favor of a change that provided documentation for 
    SF> all systems on all systems.

    SF> Since platform specific behavior for R functions is the exception rather 
    SF> than the norm, I would imagine that simply displaying doc sections by 
    SF> platform would be sufficient.

    SF> I think the benefit of being able to see what might not work on another 
    SF> platform far out weighs the inconvenience of finding doc during a search 
    SF> for something that only works on another platform -- hey, that still 
    SF> might be useful as it would tell you what platform you should use ;-)

I strongly agree.
As someone said, this only applies to relatively few help pages,
and I'm not sure if it's worth (at the moment) of first
designing a rendering scheme to emphasize your current platform.
Maybe even to the contrary, I'd want the PDF version of the
help page to (almost (*)) entirely platform independent.
It depends how thing *are* platform dependent.
If one function argument only applies to Windows, then the
corresponding paragraph could simply start,
"On Windows, .....".
In other situations, using something similar to what Henrik
proposed, a \section{..} on platform specific parts would
suffice.

I also find it very important that I read on "my" (OS) help page,
about less or more functionality on another platform, and I'd
rather want the full details of that platform than just 
a note that something is platform dependent.
Of course, there's the situation of missing / extra  capabilities()
but I think these are well documented where applicable, and they
*do* follow the idea that you should also learn about things
that are currently not available to you.

Martin


From maechler at stat.math.ethz.ch  Thu Nov 12 09:24:55 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 12 Nov 2009 09:24:55 +0100
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <59d7961d0911110629u21935654yecce39cde46253cb@mail.gmail.com>
References: <4AFA350D.7060303@acm.org> <4AFA3AA7.8080104@acm.org>
	<4AFA93B1.6050508@stats.uwo.ca>
	<59d7961d0911110327xadd841te7652d135bc6e7f7@mail.gmail.com>
	<4AFAA639.3020606@stats.uwo.ca>
	<59d7961d0911110629u21935654yecce39cde46253cb@mail.gmail.com>
Message-ID: <19195.50775.369333.874722@lynne.math.ethz.ch>

>>>>> "HenrikB" == Henrik Bengtsson <hb at stat.berkeley.edu>
>>>>>     on Wed, 11 Nov 2009 15:29:06 +0100 writes:

    HenrikB> On Wed, Nov 11, 2009 at 12:55 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
    >> Henrik Bengtsson wrote:
    >>> 
    >>> On Wed, Nov 11, 2009 at 11:36 AM, Duncan Murdoch <murdoch at stats.uwo.ca>
    >>> wrote:
    >>> 
    >>>> 
    >>>> On 10/11/2009 11:16 PM, Tony Plate wrote:
    >>>> 
    >>>>> 
    >>>>> PS, I should have said that I'm reading the docs for unlink in R-2.10.0
    >>>>> on
    >>>>> a Linux system. ?The docs that appear in a Windows installation of R are
    >>>>> different (the Windows docs do not mention that not all systems support
    >>>>> recursive=TRUE).
    >>>>> 
    >>>>> Here's a plea for docs to be uniform across all systems! ?Trying to
    >>>>> write
    >>>>> R code that works on all systems is much harder when the docs are
    >>>>> different
    >>>>> across systems, and you might only see system specific notes on a
    >>>>> different
    >>>>> system than the one you're working on.
    >>>>> 
    >>>> 
    >>>> That's a good point, but in favour of the current practice, it is very
    >>>> irritating when searches take you to functions that don't work on your
    >>>> system.
    >>>> 
    >>>> One thing that might be possible is to render all versions of the help on
    >>>> all systems, but with some sort of indicator (e.g. a colour change) to
    >>>> indicate things that don't apply on your system, or only apply on your
    >>>> system. ?I think the hardest part of doing this would be designing the
    >>>> output; actually implementing it would not be so bad.
    >>>> 
    >>> 
    >>> I 2nd this wishlist - to see the documentation for all (known)
    >>> platforms, if possible.
    >> 
    >> One way to see this is to read the .Rd files, rather than the rendered
    >> version.
    >>> 
    >>> A very simple solution is to have an Rd
    >>> section on operating-system specific features, e.g.
    >>> \section{Differences between operating systems}{...}.
    >>> 
    >>> This would decrease the trial and error of producing cross-platform code.
    >>> 
    >>> 
    >> 
    >> This is not easy. ?For example, with unlink should the "recursive=TRUE"
    >> option not be mentioned except in the platform-specific section? ?I think
    >> that would make the docs a lot harder to read.

    HenrikB> I'd say the union across all OSes should be mentioned under the
    HenrikB> \arguments{}.  Then one can add to \item{} making it clear that this
    HenrikB> is specific to a particular OS, e.g. \item{recursive}{(Unix only)
    HenrikB> ...}.  That is in line with how some arguments are flagged
    HenrikB> "(optional)" in \item{}.

I entirely agree with this
 (1) show union of arguments across OSes
 (2) {typically, there will be exceptions}, just mention within each
      argument's \item{} how it applies on different platforms.

Martin

    HenrikB> At a minimum it is useful to have a note that makes the
    HenrikB> reader/users/developer aware that the function differ between
    HenrikB> platforms.  (With the new help system, this can be automated if such
    HenrikB> functions have been flagged with an attribute, e.g. attr(fcn,
    HenrikB> "differAcrossOSes") <- TRUE)

    HenrikB> Just thoughts.

    HenrikB> /Henrik

    >> 
    >> Duncan Murdoch
    >> 
    >>> /Henrik
    >>> 
    >>> 
    >>>> 
    >>>> Duncan Murdoch
    >>>> 
    >>>> 
    >>>>> 
    >>>>> -- Tony Plate
    >>>>> 
    >>>>> Tony Plate wrote:
    >>>>> 
    >>>>>> 
>>>>> The VALUE section in the help for 'unlink' says:
    >>>>>> 
>>>>> | ?0| for success, |1| for failure. Not deleting a non-existent file is
>>>>> not a failure, nor is being unable to delete a directory if |recursive
>>>>> =
>>>>> FALSE|. However, missing values in |x| result are regarded as failures.
    >>>>>> 
>>>>> The last phrase doesn't make sense to me. ?Should it be either "missing
>>>>> values in x are regarded as failures" or "missing values in x result in
>>>>> failure" ?
    >>>>>> 
>>>>> Also, after reading the docs, I'm still unable to work out if unlink()
>>>>> will return 1 when the user tries to recursively delete a directory on
>>>>> systems that don't support recursive=T.
    >>>>>> 
>>>>> The DETAILS section says "recursive=TRUE is not supported on all
>>>>> platforms, and may be ignored, with a warning", which could be
>>>>> interpreted
>>>>> as implying no special action when recursive=TRUE is not implemented
>>>>> (other
>>>>> than a warning()), and the VALUE section doesn't say what the return
>>>>> value
>>>>> will be under such conditions.
    >>>>>> 
>>>>> I've skimmed the various *_unlink functions in src/main/platform.c, and
>>>>> it looks like they all implement recursive=TRUE, so I'm still in the
>>>>> dark
>>>>> about the required behavior on systems that don't support it. ?Could
>>>>> this be
>>>>> clarified in the help file?
    >>>>>> 
>>>>> thanks,
    >>>>>> 
>>>>> Tony Plate
    >>>>>> 
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
    >>>>>> 
    >>>>>> 
    >>>>> 
    >>>>> ______________________________________________
    >>>>> R-devel at r-project.org mailing list
    >>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
    >>>>> 
    >>>> 
    >>>> ______________________________________________
    >>>> R-devel at r-project.org mailing list
    >>>> https://stat.ethz.ch/mailman/listinfo/r-devel
    >>>> 
    >>>> 
    >>> 
    >>> ______________________________________________
    >>> R-devel at r-project.org mailing list
    >>> https://stat.ethz.ch/mailman/listinfo/r-devel
    >>> 
    >> 
    >> 

    HenrikB> ______________________________________________
    HenrikB> R-devel at r-project.org mailing list
    HenrikB> https://stat.ethz.ch/mailman/listinfo/r-devel


From rksh1 at cam.ac.uk  Thu Nov 12 10:50:15 2009
From: rksh1 at cam.ac.uk (Robin Hankin)
Date: Thu, 12 Nov 2009 09:50:15 +0000
Subject: [Rd] S4 objects in the data directory
Message-ID: <4AFBDA57.9000905@cam.ac.uk>

Hi

[R-2.10.0; suse linux]

I am having difficulty creating S4 objects in the data directory of a 
package. I want
to create a bunch of simple S4 objects for use in the examples section 
of the Rd files.

It says in R-exts that:

" R code should be ?self-sufficient? and not make use of extra 
functionality provided by the package, so that the data file can also be 
used without having to load the package"

My current minimal self-contained example follows.

le112:~% cat ./anRpackage/R/f.R
setClass("foo", representation=representation(x="numeric"))

le112:~% cat ./anRpackage/data/toy_foo.R
"toy_foo" <- new("foo",x=rep(2,7))

fails R CMD check (transcript below)

It fails because the class isn't defined. I can
add 'require(anRpackage)' to the toy_foo.R
but I'm not sure if this is consistent with the above
advice in R-exts (and it
fails R CMD check anyway).

What is best practice for creating a package with
"toy" S4 objects for use in the examples section
of the Rd files?


cheers


Robin








le112:~% R CMD check ./anRpackage
* checking for working pdflatex ... OK

[snip]

* checking data for non-ASCII characters ... NOTE
Error: "foo" is not a defined class
Call sequence:
8: stop(gettextf("\"%s\" is not a defined class", Class), domain = NA)
7: getClass(Class, where = topenv(parent.frame()))
6: new("foo", x = rep(2, 7))
5: eval(expr, envir, enclos)
4: eval(i, envir)
3: sys.source(zfile, chdir = TRUE, envir = envir)
2: switch(ext, R = , r = {
library("utils")
sys.source(zfile, chdir = TRUE, envir = envir)
}, RData = , rdata = , rda = load(zfile, envir = envir), TXT = ,
txt = , tab = , tab.gz = , tab.bz2 = , tab.xz = , txt.gz = ,
txt.bz2 = , txt.xz = assign(name, read.table(zfile, header = TRUE,
as.is = FALSE), envir = envir), CSV = , csv = , csv.gz = ,
csv.bz2 = , csv.xz = assign(name, read.table(zfile, header = TRUE,
sep = ";", as.is = FALSE), envir = envir), found <- FALSE)
1: utils::data(list = f, package = character(0L), envir = dataEnv)
Execution halted
Portable packages use only ASCII characters in their datasets.
* checking examples ...no parsed files found
NONE

WARNING: There were 2 warnings, see
/home/rksh/anRpackage.Rcheck/00check.log
for details

le112:~%



-- 
Robin K. S. Hankin
Uncertainty Analyst
University of Cambridge
19 Silver Street
Cambridge CB3 9EP
01223-764877


From maechler at stat.math.ethz.ch  Thu Nov 12 11:26:02 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 12 Nov 2009 11:26:02 +0100
Subject: [Rd] unname() returns a named vector when the input vector has
	length 0
In-Reply-To: <5527_1258003273_4AFB9B48_5527_3290_1_4AFB9B39.7050804@fhcrc.org>
References: <5527_1258003273_4AFB9B48_5527_3290_1_4AFB9B39.7050804@fhcrc.org>
Message-ID: <19195.58042.484653.915383@lynne.math.ethz.ch>

>>>>> "HP" == Herv? Pag?s <hpages at fhcrc.org>
>>>>>     on Wed, 11 Nov 2009 21:20:57 -0800 writes:

    HP> Hi,
    >> x <- c(aa=22, bb=555)
    >> unname(x[FALSE])
    HP> named numeric(0)

Thank you, Herv?,
I'm about to commit a simple fix for that.

Martin


From ripley at stats.ox.ac.uk  Thu Nov 12 11:54:46 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Nov 2009 10:54:46 +0000 (GMT)
Subject: [Rd] S4 objects in the data directory
In-Reply-To: <4AFBDA57.9000905@cam.ac.uk>
References: <4AFBDA57.9000905@cam.ac.uk>
Message-ID: <alpine.LFD.2.00.0911121031370.21185@toucan.stats.ox.ac.uk>

On Thu, 12 Nov 2009, Robin Hankin wrote:

> Hi
>
> [R-2.10.0; suse linux]
>
> I am having difficulty creating S4 objects in the data directory of a 
> package. I want
> to create a bunch of simple S4 objects for use in the examples section of the 
> Rd files.
>
> It says in R-exts that:
>
> " R code should be ?self-sufficient? and not make use of extra functionality 
> provided by the package, so that the data file can also be used without 
> having to load the package"
>
> My current minimal self-contained example follows.
>
> le112:~% cat ./anRpackage/R/f.R
> setClass("foo", representation=representation(x="numeric"))
>
> le112:~% cat ./anRpackage/data/toy_foo.R
> "toy_foo" <- new("foo",x=rep(2,7))
>
> fails R CMD check (transcript below)
>
> It fails because the class isn't defined. I can
> add 'require(anRpackage)' to the toy_foo.R
> but I'm not sure if this is consistent with the above
> advice in R-exts (and it
> fails R CMD check anyway).

It isn't consistent.

> What is best practice for creating a package with
> "toy" S4 objects for use in the examples section
> of the Rd files?

Why not do this either in the examples section, or in a
make_data_for_examples() function in the package?

I see the data() mechanism as having been largely superseded by 
lazy-loading.  It was primarily a way to avoid having large datasets 
always loaded (and taking up memory and gc() time).  It is sometimes 
convenient to load a dataset from a package without loading that 
package: see the help for 'alias' and 'logLik' for example, but if you 
don't need that possibility (and it seems that in your case it is not 
available to you) you might as well have the object lazy-loaded in the 
package or accessed by an accessor function in the package.

>
>
> cheers
>
>
> Robin
>
>
>
>
>
>
>
>
> le112:~% R CMD check ./anRpackage
> * checking for working pdflatex ... OK
>
> [snip]
>
> * checking data for non-ASCII characters ... NOTE
> Error: "foo" is not a defined class
> Call sequence:
> 8: stop(gettextf("\"%s\" is not a defined class", Class), domain = NA)
> 7: getClass(Class, where = topenv(parent.frame()))
> 6: new("foo", x = rep(2, 7))
> 5: eval(expr, envir, enclos)
> 4: eval(i, envir)
> 3: sys.source(zfile, chdir = TRUE, envir = envir)
> 2: switch(ext, R = , r = {
> library("utils")
> sys.source(zfile, chdir = TRUE, envir = envir)
> }, RData = , rdata = , rda = load(zfile, envir = envir), TXT = ,
> txt = , tab = , tab.gz = , tab.bz2 = , tab.xz = , txt.gz = ,
> txt.bz2 = , txt.xz = assign(name, read.table(zfile, header = TRUE,
> as.is = FALSE), envir = envir), CSV = , csv = , csv.gz = ,
> csv.bz2 = , csv.xz = assign(name, read.table(zfile, header = TRUE,
> sep = ";", as.is = FALSE), envir = envir), found <- FALSE)
> 1: utils::data(list = f, package = character(0L), envir = dataEnv)
> Execution halted
> Portable packages use only ASCII characters in their datasets.
> * checking examples ...no parsed files found
> NONE
>
> WARNING: There were 2 warnings, see
> /home/rksh/anRpackage.Rcheck/00check.log
> for details
>
> le112:~%
>
>
>
> -- 
> Robin K. S. Hankin
> Uncertainty Analyst
> University of Cambridge
> 19 Silver Street
> Cambridge CB3 9EP
> 01223-764877
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From murdoch at stats.uwo.ca  Thu Nov 12 12:36:53 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 12 Nov 2009 06:36:53 -0500
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <19195.50598.636144.927120@lynne.math.ethz.ch>
References: <4AFA350D.7060303@acm.org>	<4AFA3AA7.8080104@acm.org>	<4AFA93B1.6050508@stats.uwo.ca>	<4AFB77A8.30802@userprimary.net>
	<19195.50598.636144.927120@lynne.math.ethz.ch>
Message-ID: <4AFBF355.5010803@stats.uwo.ca>

Martin Maechler wrote:
>>>>>> "SF" == Seth Falcon <seth at userprimary.net>
>>>>>>     on Wed, 11 Nov 2009 18:49:12 -0800 writes:
>>>>>>             
>
>     SF> On 11/11/09 2:36 AM, Duncan Murdoch wrote:
>     >> On 10/11/2009 11:16 PM, Tony Plate wrote:
>     >>> PS, I should have said that I'm reading the docs for unlink in
>     >>> R-2.10.0 on a Linux system. The docs that appear in a Windows
>     >>> installation of R are different (the Windows docs do not mention that
>     >>> not all systems support recursive=TRUE).
>     >>> 
>     >>> Here's a plea for docs to be uniform across all systems! Trying to
>     >>> write R code that works on all systems is much harder when the docs
>     >>> are different across systems, and you might only see system specific
>     >>> notes on a different system than the one you're working on.
>     >> 
>     >> That's a good point, but in favour of the current practice, it is very
>     >> irritating when searches take you to functions that don't work on your
>     >> system.
>     >> 
>     >> One thing that might be possible is to render all versions of the help
>     >> on all systems, but with some sort of indicator (e.g. a colour change)
>     >> to indicate things that don't apply on your system, or only apply on
>     >> your system. I think the hardest part of doing this would be designing
>     >> the output; actually implementing it would not be so bad.
>
>     SF> I would be strongly in favor of a change that provided documentation for 
>     SF> all systems on all systems.
>
>     SF> Since platform specific behavior for R functions is the exception rather 
>     SF> than the norm, I would imagine that simply displaying doc sections by 
>     SF> platform would be sufficient.
>
>     SF> I think the benefit of being able to see what might not work on another 
>     SF> platform far out weighs the inconvenience of finding doc during a search 
>     SF> for something that only works on another platform -- hey, that still 
>     SF> might be useful as it would tell you what platform you should use ;-)
>
> I strongly agree.
> As someone said, this only applies to relatively few help pages,
> and I'm not sure if it's worth (at the moment) of first
> designing a rendering scheme to emphasize your current platform.
> Maybe even to the contrary, I'd want the PDF version of the
> help page to (almost (*)) entirely platform independent.
> It depends how thing *are* platform dependent.
> If one function argument only applies to Windows, then the
> corresponding paragraph could simply start,
> "On Windows, .....".
> In other situations, using something similar to what Henrik
> proposed, a \section{..} on platform specific parts would
> suffice.
>   

If that's the intention, there's nothing to stop you from editing the 
existing pages.  A quick grep suggests that there are about 100 pages 
with #ifdef in the base and recommended packages; there are also a few 
dozen pages which are completely platform-specific (mostly related to 
Windows API or GUI topics).   I suspect the Linux users are going to be 
the biggest complainers if the Windows-only material starts showing up 
on their systems.  They don't like to be told they should be using 
Windows rather than Linux.

Duncan Murdoch
> I also find it very important that I read on "my" (OS) help page,
> about less or more functionality on another platform, and I'd
> rather want the full details of that platform than just 
> a note that something is platform dependent.
> Of course, there's the situation of missing / extra  capabilities()
> but I think these are well documented where applicable, and they
> *do* follow the idea that you should also learn about things
> that are currently not available to you.
>
> Martin
>


From maechler at stat.math.ethz.ch  Thu Nov 12 15:00:14 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 12 Nov 2009 15:00:14 +0100
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <19195.61029.95797.512375@fangorn.hornik.net>
References: <4AFA350D.7060303@acm.org> <4AFA3AA7.8080104@acm.org>
	<4AFA93B1.6050508@stats.uwo.ca>
	<59d7961d0911110327xadd841te7652d135bc6e7f7@mail.gmail.com>
	<4AFAA639.3020606@stats.uwo.ca>
	<59d7961d0911110629u21935654yecce39cde46253cb@mail.gmail.com>
	<19195.50775.369333.874722@lynne.math.ethz.ch>
	<19195.61029.95797.512375@fangorn.hornik.net>
Message-ID: <19196.5358.355520.827299@lynne.math.ethz.ch>


>>>>> "KH" == Kurt Hornik <Kurt.Hornik at wu.ac.at>
>>>>>     on Thu, 12 Nov 2009 12:15:49 +0100 writes:

((only to R-core, not R-devel -- I think R-devel is find and so
  back-post there ))

>>>>> Martin Maechler writes:
>>>>> "HenrikB" == Henrik Bengtsson <hb at stat.berkeley.edu>
>>>>>     on Wed, 11 Nov 2009 15:29:06 +0100 writes:

    HenrikB> On Wed, Nov 11, 2009 at 12:55 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
    >>>> Henrik Bengtsson wrote:
    >>>>> 
    >>>>> On Wed, Nov 11, 2009 at 11:36 AM, Duncan Murdoch <murdoch at stats.uwo.ca>
    >>>>> wrote:
    >>>>> 
>>>>> 
>>>>> On 10/11/2009 11:16 PM, Tony Plate wrote:
>>>>> 
    >>>>>>> 
    >>>>>>> PS, I should have said that I'm reading the docs for unlink in R-2.10.0
    >>>>>>> on
    >>>>>>> a Linux system. ?The docs that appear in a Windows installation of R are
    >>>>>>> different (the Windows docs do not mention that not all systems support
    >>>>>>> recursive=TRUE).
    >>>>>>> 
    >>>>>>> Here's a plea for docs to be uniform across all systems! ?Trying to
    >>>>>>> write
    >>>>>>> R code that works on all systems is much harder when the docs are
    >>>>>>> different
    >>>>>>> across systems, and you might only see system specific notes on a
    >>>>>>> different
    >>>>>>> system than the one you're working on.
    >>>>>>> 
>>>>> 
>>>>> That's a good point, but in favour of the current practice, it is very
>>>>> irritating when searches take you to functions that don't work on your
>>>>> system.
>>>>> 
>>>>> One thing that might be possible is to render all versions of the help on
>>>>> all systems, but with some sort of indicator (e.g. a colour change) to
>>>>> indicate things that don't apply on your system, or only apply on your
>>>>> system. ?I think the hardest part of doing this would be designing the
>>>>> output; actually implementing it would not be so bad.
>>>>> 
    >>>>> 
    >>>>> I 2nd this wishlist - to see the documentation for all (known)
    >>>>> platforms, if possible.
    >>>> 
    >>>> One way to see this is to read the .Rd files, rather than the rendered
    >>>> version.
    >>>>> 
    >>>>> A very simple solution is to have an Rd
    >>>>> section on operating-system specific features, e.g.
    >>>>> \section{Differences between operating systems}{...}.
    >>>>> 
    >>>>> This would decrease the trial and error of producing cross-platform code.
    >>>>> 
    >>>>> 
    >>>> 
    >>>> This is not easy. ?For example, with unlink should the "recursive=TRUE"
    >>>> option not be mentioned except in the platform-specific section? ?I think
    >>>> that would make the docs a lot harder to read.

    HenrikB> I'd say the union across all OSes should be mentioned under the
    HenrikB> \arguments{}.  Then one can add to \item{} making it clear that this
    HenrikB> is specific to a particular OS, e.g. \item{recursive}{(Unix only)
    HenrikB> ...}.  That is in line with how some arguments are flagged
    HenrikB> "(optional)" in \item{}.

    >> I entirely agree with this
    >> (1) show union of arguments across OSes
    >> (2) {typically, there will be exceptions}, just mention within each
    >> argument's \item{} how it applies on different platforms.

    KH> I'm not getting it.  How will you then do with the mismatches between
    KH> the \usage and the \arguments?

Good point.  Of course, you are thinking about  'R CMD check'ing
the "base R" code,
where then, \usage{} is checked to match the actually existing
formal argument list of the function.

I see two possibilities (and there may be more) :

- Either we define Rd-markup for arguments that may be allowed
  to be missing (on some platforms)

- or we also extend the formal argument list of the function
  to be the same on all platforms.
  On those platforms where an argument is not sensible,
  users will get an error (or warning) when they specify (a
  non-default value for) it anyway.

The latter would be "easier" (still quite a bit of changes),
but much preferable to me in anyway.

Martin


From murdoch at stats.uwo.ca  Thu Nov 12 15:35:53 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 12 Nov 2009 09:35:53 -0500
Subject: [Rd] sapply improvements
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>
References: <20091104160510.1CF24282BE82@mail.pubhealth.ku.dk>	<4AF1B00D.7060809@stats.uwo.ca>	<77EB52C6DD32BA4D87471DCD70C8D70002131F9B@NA-PA-VBE03.na.tibco.com>	<4AF1E2EC.7060405@stats.uwo.ca>
	<77EB52C6DD32BA4D87471DCD70C8D700021320C6@NA-PA-VBE03.na.tibco.com>
Message-ID: <4AFC1D49.9060609@stats.uwo.ca>

I've just added a version of the improvements to R-devel.  After some 
discussion, we decided this should be a new function, not just a new arg 
to sapply, and I chose vapply from among the 52 different suggestions 
that were offered.

The usage is

  vapply(X, FUN, FUN.VALUE, ..., USE.NAMES = TRUE)

and some extracts from the docs say:


      ?vapply? is similar to ?sapply?, but has a pre-specified
      type of return value, so it can be safer (and sometimes faster) to
      use.

...

      Simplification is always done in ?vapply?.  This function
      checks that all values of ?FUN? are compatible with the
      ?FUN.VALUE?, in that they must have the same length and type.
      (Types may be promoted to a higher type within the ordering
      logical < integer < real < complex, but not demoted.)

...
      ?vapply? returns a vector or matrix of type matching the
      ?FUN.VALUE?. If ?length(FUN.VALUE) != 1? a matrix will be
      returned with ?length(FUN.VALUE)? rows and ?length(X)?
      columns, otherwise a vector of the same length as ?X?.  Names
      of rows in the matrix value are taken from the ?FUN.VALUE? if
      it is named, otherwise from the result of the first function call.
      Column names of the matrix value or names of the vector value are
      set from ?X? as in ?sapply?.

Thanks for suggesting this.

Duncan Murdoch


From maechler at stat.math.ethz.ch  Thu Nov 12 15:36:55 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 12 Nov 2009 15:36:55 +0100
Subject: [Rd] typo in docs for unlink()
In-Reply-To: <4AFBF355.5010803@stats.uwo.ca>
References: <4AFA350D.7060303@acm.org> <4AFA3AA7.8080104@acm.org>
	<4AFA93B1.6050508@stats.uwo.ca> <4AFB77A8.30802@userprimary.net>
	<19195.50598.636144.927120@lynne.math.ethz.ch>
	<4AFBF355.5010803@stats.uwo.ca>
Message-ID: <19196.7559.967761.336720@lynne.math.ethz.ch>

>>>>> Duncan Murdoch <murdoch at stats.uwo.ca>
>>>>>     on Thu, 12 Nov 2009 06:36:53 -0500 writes:

    > Martin Maechler wrote:
    >>>>>>> "SF" == Seth Falcon <seth at userprimary.net>
    >>>>>>> on Wed, 11 Nov 2009 18:49:12 -0800 writes:
    >>>>>>> 
    >> 
    SF> On 11/11/09 2:36 AM, Duncan Murdoch wrote:
    >> >> On 10/11/2009 11:16 PM, Tony Plate wrote:
    >> >>> PS, I should have said that I'm reading the docs for unlink in
    >> >>> R-2.10.0 on a Linux system. The docs that appear in a Windows
    >> >>> installation of R are different (the Windows docs do not mention that
    >> >>> not all systems support recursive=TRUE).
    >> >>> 
    >> >>> Here's a plea for docs to be uniform across all systems! Trying to
    >> >>> write R code that works on all systems is much harder when the docs
    >> >>> are different across systems, and you might only see system specific
    >> >>> notes on a different system than the one you're working on.
    >> >> 
    >> >> That's a good point, but in favour of the current practice, it is very
    >> >> irritating when searches take you to functions that don't work on your
    >> >> system.
    >> >> 
    >> >> One thing that might be possible is to render all versions of the help
    >> >> on all systems, but with some sort of indicator (e.g. a colour change)
    >> >> to indicate things that don't apply on your system, or only apply on
    >> >> your system. I think the hardest part of doing this would be designing
    >> >> the output; actually implementing it would not be so bad.
    >> 
    SF> I would be strongly in favor of a change that provided documentation for 
    SF> all systems on all systems.
    >> 
    SF> Since platform specific behavior for R functions is the exception rather 
    SF> than the norm, I would imagine that simply displaying doc sections by 
    SF> platform would be sufficient.
    >> 
    SF> I think the benefit of being able to see what might not work on another 
    SF> platform far out weighs the inconvenience of finding doc during a search 
    SF> for something that only works on another platform -- hey, that still 
    SF> might be useful as it would tell you what platform you should use ;-)
    >> 
    >> I strongly agree.
    >> As someone said, this only applies to relatively few help pages,
    >> and I'm not sure if it's worth (at the moment) of first
    >> designing a rendering scheme to emphasize your current platform.
    >> Maybe even to the contrary, I'd want the PDF version of the
    >> help page to (almost (*)) entirely platform independent.
    >> It depends how thing *are* platform dependent.
    >> If one function argument only applies to Windows, then the
    >> corresponding paragraph could simply start,
    >> "On Windows, .....".
    >> In other situations, using something similar to what Henrik
    >> proposed, a \section{..} on platform specific parts would
    >> suffice.
    >> 

    > If that's the intention, there's nothing to stop you from editing the 
    > existing pages.  A quick grep suggests that there are about 100 pages 
    > with #ifdef in the base and recommended packages; 

Yes, I know (did not know the "statistics" here, thanks),
but I'd really like us to agree on a slightly changed course
of what is desired, rather than the current  "#ifdef OS .."
parts in the help pages. 

The changes can well happen "as time permits".
One of the first things would be to somewhat discourage from
using  "#idef OS"   sections in Rd files,
in the "Writing R Extensions" manual.

    > there are also a few dozen pages which are completely
    > platform-specific (mostly related to Windows API or GUI topics).

I could  agree to keep these in man/windows/ and hence not be
visible otherwise.
Personally, I'd still much prefer them to be part of the help
system also on non-Windows.

    > I suspect the Linux users are going to be the
    > biggest complainers if the Windows-only material starts
    > showing up on their systems.  They don't like to be told
    > they should be using Windows rather than Linux.

The help page would just say that it is Windows-only.
That may not at all imply that someone should use Windows.

Martin

    > Duncan Murdoch
    >> I also find it very important that I read on "my" (OS) help page,
    >> about less or more functionality on another platform, and I'd
    >> rather want the full details of that platform than just 
    >> a note that something is platform dependent.
    >> Of course, there's the situation of missing / extra  capabilities()
    >> but I think these are well documented where applicable, and they
    >> *do* follow the idea that you should also learn about things
    >> that are currently not available to you.
    >> 
    >> Martin
    >>


From djsamperi at earthlink.net  Thu Nov 12 18:27:39 2009
From: djsamperi at earthlink.net (Dominick Samperi)
Date: Thu, 12 Nov 2009 12:27:39 -0500
Subject: [Rd] Problems building package at CRAN
Message-ID: <4AFC458B.9030604@earthlink.net>

Hello,

I submitted the package RcppTemplate to CRAN a couple of weeks ago but
the Mac OS X binary has not appeared, and the person in charge of that 
process
(Simon) suspects that the problem may be due to a
"nested DESCRIPTION file" so that "Package:" becomes
RcppTemplateRcppTemplate, or something like this.

Can somebody explain what a nested DESCRIPTION file is so I can
resolve this problem?

Thanks,
Dominick


From dsamperi at DecisionSynergy.com  Thu Nov 12 18:25:43 2009
From: dsamperi at DecisionSynergy.com (Dominick Samperi)
Date: Thu, 12 Nov 2009 12:25:43 -0500
Subject: [Rd] Problems building package at CRAN
Message-ID: <4AFC4517.1050007@DecisionSynergy.com>

Hello,

I submitted the package RcppTemplate to CRAN a couple of weeks ago but
the Mac OS X binary has not appeared, and the person in charge of that 
process
(Simon) suspects that the problem may be due to a
"nested DESCRIPTION file" so that "Package:" becomes
RcppTemplateRcppTemplate, or something like this.

Can somebody explain what a nested DESCRIPTION file is so I can
resolve this problem?

Thanks,
Dominick


From marc_schwartz at me.com  Thu Nov 12 22:03:25 2009
From: marc_schwartz at me.com (Marc Schwartz)
Date: Thu, 12 Nov 2009 15:03:25 -0600
Subject: [Rd] Problems building package at CRAN
In-Reply-To: <4AFC4517.1050007@DecisionSynergy.com>
References: <4AFC4517.1050007@DecisionSynergy.com>
Message-ID: <E4EB6AB0-CE54-44E3-95FB-19F5D4D22204@me.com>

On Nov 12, 2009, at 11:25 AM, Dominick Samperi wrote:

> Hello,
>
> I submitted the package RcppTemplate to CRAN a couple of weeks ago but
> the Mac OS X binary has not appeared, and the person in charge of  
> that process
> (Simon) suspects that the problem may be due to a
> "nested DESCRIPTION file" so that "Package:" becomes
> RcppTemplateRcppTemplate, or something like this.
>
> Can somebody explain what a nested DESCRIPTION file is so I can
> resolve this problem?
>
> Thanks,
> Dominick


Based upon a quick review of your package's page on CRAN:

   http://cran.r-project.org/web/packages/RcppTemplate/index.html

it would appear that the OSX binary is present and the CRAN check page  
at:

   http://cran.r-project.org/web/checks/check_results_RcppTemplate.html

only shows an ERROR for Solaris.

However, upon downloading the source package, you appear to have a  
".test" folder within the main package folder, which seems to have a  
redundant copy of the full package source within it. That folder of  
course includes a duplicate. albeit older, DESCRIPTION file. You  
should delete the .test folder to clean up the package source tree and  
re-submit.

HTH,

Marc Schwartz


From djsamperi at earthlink.net  Thu Nov 12 22:39:22 2009
From: djsamperi at earthlink.net (Dominick Samperi)
Date: Thu, 12 Nov 2009 16:39:22 -0500
Subject: [Rd] Problems building package at CRAN
In-Reply-To: <E4EB6AB0-CE54-44E3-95FB-19F5D4D22204@me.com>
References: <4AFC4517.1050007@DecisionSynergy.com>
	<E4EB6AB0-CE54-44E3-95FB-19F5D4D22204@me.com>
Message-ID: <4AFC808A.8090108@earthlink.net>

Thanks Marc, sounds like a plausible theory. I'll check it out...
Dominick

Marc Schwartz wrote:
> On Nov 12, 2009, at 11:25 AM, Dominick Samperi wrote:
>
>> Hello,
>>
>> I submitted the package RcppTemplate to CRAN a couple of weeks ago but
>> the Mac OS X binary has not appeared, and the person in charge of 
>> that process
>> (Simon) suspects that the problem may be due to a
>> "nested DESCRIPTION file" so that "Package:" becomes
>> RcppTemplateRcppTemplate, or something like this.
>>
>> Can somebody explain what a nested DESCRIPTION file is so I can
>> resolve this problem?
>>
>> Thanks,
>> Dominick
>
>
> Based upon a quick review of your package's page on CRAN:
>
>   http://cran.r-project.org/web/packages/RcppTemplate/index.html
>
> it would appear that the OSX binary is present and the CRAN check page 
> at:
>
>   http://cran.r-project.org/web/checks/check_results_RcppTemplate.html
>
> only shows an ERROR for Solaris.
>
> However, upon downloading the source package, you appear to have a 
> ".test" folder within the main package folder, which seems to have a 
> redundant copy of the full package source within it. That folder of 
> course includes a duplicate. albeit older, DESCRIPTION file. You 
> should delete the .test folder to clean up the package source tree and 
> re-submit.
>
> HTH,
>
> Marc Schwartz


From hb at stat.berkeley.edu  Fri Nov 13 09:37:31 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Fri, 13 Nov 2009 09:37:31 +0100
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start() page
Message-ID: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com>

Hi,

right now it is actually a bit tricky to locate and view the NEWS and
the CHANGES files, especially if you are a beginning and don't even
know that you are supposed to look for them.

I'd like to recommend that links to (local) NEWS and CHANGES are added
to the help.start() overview pages.  help("NEWS")/help("CHANGE LOG")
and help("CHANGES") could display/refer to them as well.

/Henrik


From ggrothendieck at gmail.com  Fri Nov 13 13:39:21 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 13 Nov 2009 07:39:21 -0500
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start()
	page
In-Reply-To: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com>
References: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com>
Message-ID: <971536df0911130439s2a5eb81dy620230e022bef17d@mail.gmail.com>

Its also difficult to know about demos unless you specifically issue a
demo(package = "mypackage") command.  It would be nice if these were
listed too.

Note that the NEWS and/or ChangeLog file are listed on the package's
CRAN page such as:

   http://cran.r-project.org/package=zoo

but the demos are not listed even there.

On Fri, Nov 13, 2009 at 3:37 AM, Henrik Bengtsson <hb at stat.berkeley.edu> wrote:
> Hi,
>
> right now it is actually a bit tricky to locate and view the NEWS and
> the CHANGES files, especially if you are a beginning and don't even
> know that you are supposed to look for them.
>
> I'd like to recommend that links to (local) NEWS and CHANGES are added
> to the help.start() overview pages. ?help("NEWS")/help("CHANGE LOG")
> and help("CHANGES") could display/refer to them as well.
>
> /Henrik
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From jayoung at fhcrc.org  Fri Nov 13 02:19:37 2009
From: jayoung at fhcrc.org (Janet Young)
Date: Thu, 12 Nov 2009 17:19:37 -0800
Subject: [Rd] compiling R-2.10.0 on solaris - lib_I_dbg_gen.so.1:
	version `DBG_GEN_5.1' not found
In-Reply-To: <EBEFAEEB-4A8C-4F28-90ED-4EE4CF62378B@fhcrc.org>
References: <EBEFAEEB-4A8C-4F28-90ED-4EE4CF62378B@fhcrc.org>
Message-ID: <E44A81CE-D5BD-4AC8-877C-0A1AFC8DB206@fhcrc.org>

Hi again,

My systems admin guy did come up with a fix after all:

setenv PATH /opt/gcc/bin:/usr/bin:/sbin:/usr/sbin:/usr/sfw/bin:/opt/ 
sfw/bin:/usr/xpg4/bin:/usr/ccs/bin:/usr/local/bin:/opt/torque/bin:/ 
home/mrg/bin
setenv LD_LIBRARY_PATH /home/mrg/apps/sparc-sun-solaris-2.10/lib:/usr/ 
sfw/lib:/opt/sfw/lib
unsetenv R_HOME
./configure R_PAPERSIZE='letter' --prefix='/home/btrask/traskdata'
make

(it doesn't work with the --enable-R-shlib option, but I can live  
without that now)

Janet

On Nov 10, 2009, at 11:37 AM, Janet Young wrote:

> Hi,
>
> I'm having trouble compiling R-2.10.0 (R-patched_2009-11-02.tar.gz)  
> on solaris 10 and am hoping for some advice. I'm getting errors  
> about having the wrong version of lib_I_dbg_gen.so.1 ("version  
> `DBG_GEN_5.1' not found"), when it gets to the step of compiling  
> recommended packages (cluster).
>
> I think we do have the right version of lib_I_dbg_gen.so.1 on the  
> system somewhere, but we also have older versions in other places. I  
> think it may be to do with our system having several versions of gcc  
> and lib_I_dbg_gen.so.1 in different places, including some old  
> versions, and me not managing to tell R where to find the right one  
> - perhaps some modifications to my setenv commands will fix this? I  
> also think we might have some non-standard library locations.
>
> I'm not the sysadmin, and I'm a little out of my depth talking about  
> libraries etc. I asked our sysadmin for some advice, but for now we  
> are drawing a blank. If no-one has any ideas I may be able to ask  
> them to spend some more time trying to figure this out.
>
> Here's what I'm doing to try to compile R: (my default path and  
> LD_LIBRARY_PATH have never worked for compiling R, hence the setenv  
> commands)
>
> ----------------------------
>
> setenv LD_LIBRARY_PATH /opt/SUNW0scgfss/4.0.3/prod/lib:/opt/gcc/lib:/ 
> opt/gcc/lib/gcc/sparc-sun-solaris2.10:/opt/SUNWspro/lib:/usr/lib:/ 
> usr/openwin/lib
>
> setenv PATH /opt/gcc/bin:/bin:/sbin:/usr/sbin:/etc:/opt/SUNWspro/ 
> bin:/usr/ccs/bin:/usr/sfw/bin
>
> unsetenv R_HOME
>
> ./configure --enable-R-shlib R_PAPERSIZE='letter' --prefix='/home/ 
> btrask/traskdata'
>
> make
>
> ----------------------------
>
> Here's some information on compiler versions, etc, etc
>
> ----------------------------
>
> [72] bedrock:/home/jayoung> uname -a
> SunOS bedrock 5.10 Generic_139555-08 sun4v sparc SUNW,Sun-Fire-T200
>
> [17] bedrock:/home/jayoung> which gcc
> /opt/gcc/bin/gcc
>
> [18] bedrock:/home/jayoung> gcc -v
> Using built-in specs.
> Target: sparc-sun-solaris2.10
> Configured with: /net/tibia/export/bldmstr/nightly/ 
> 20060817_mars_gcc.s10.opt.tarbuild/src/configure --prefix=/opt/gcc -- 
> enable-shared --with-system-zlib --enable-checking=release --disable- 
> libmudflap --enable-languages=c,c++ --enable-version-specific- 
> runtime-libs --with-gxx-include-dir=/opt/gcc/include/c++/4.0.3 -- 
> with-cpu=v9
> Thread model: posix
> gcc version 4.0.3 (gccfss)
>
> [21] bedrock:/home/jayoung> ldd /opt/gcc/libexec/gcc/sparc-sun- 
> solaris2.10/4.0.3/cc1
>        lib_I_dbg_gen.so.1 =>    /opt/SUNW0scgfss/4.0.3/prod/lib/ 
> lib_I_dbg_gen.so.1
>        libsunir.so =>   /opt/gcc/bin/../../SUNW0scgfss/4.0.3/prod/ 
> lib/sys/libsunir.so
>        libc.so.1 =>     /usr/lib/libc.so.1
>        libmd5.so.1 =>   /usr/lib/libmd5.so.1
>        libdl.so.1 =>    /usr/lib/libdl.so.1
>        libelf.so.1 =>   /usr/lib/libelf.so.1
>        liblni.so.1 =>   /opt/SUNW0scgfss/4.0.3/prod/lib/sys/ 
> liblni.so.1
>        libm.so.2 =>     /usr/lib/libm.so.2
>        /platform/SUNW,Sun-Fire-T200/lib/libc_psr.so.1
>        libmd.so.1 =>    /usr/lib/libmd.so.1
>        /platform/SUNW,Sun-Fire-T200/lib/libmd_psr.so.1
>
> [22] bedrock:/home/jayoung> version /opt/SUNW0scgfss/4.0.3/prod/lib/ 
> lib_I_dbg_gen.so.1
> version of "/opt/SUNW0scgfss/4.0.3/prod/lib/lib_I_dbg_gen.so.1": Sun  
> Debug Information DBG_GEN 5.1.17 gcc2ir_lang 2006/08/17
>
> ----------------------------
>
> And here's the error I get during the make process:
>
> begin installing recommended package cluster
> * installing *source* package 'cluster' ...
> ** libs
> gcc -std=gnu99 -I/home/jayoung/source_codes/R/R-2.10.0/solaris_6/R- 
> patched/include  -I/usr/local/include    -fPIC  -g -O2 -c clara.c -o  
> clara.o
> ld.so.1: cc1: fatal: lib_I_dbg_gen.so.1: version `DBG_GEN_5.1' not  
> found (required by file /opt/gcc/libexec/gcc/sparc-sun- 
> solaris2.10/4.0.3/cc1)
> ld.so.1: cc1: fatal: lib_I_dbg_gen.so.1: open failed: No such file  
> or directory
> gcc: Internal error: Killed (program cc1)
> Please submit a full bug report to
> <URL:http://forum.sun.com/jive/jorum.jspa?forumID=321>.
> *** Error code 1
> make: Fatal error: Command failed for target `clara.o'
> Current working directory /tmp/RtmpJReZec/R.INSTALL2781446b/cluster/ 
> src
> ERROR: compilation failed for package 'cluster'
> * removing '/home/jayoung/source_codes/R/R-2.10.0/solaris_6/R- 
> patched/library/cluster'
> *** Error code 1
> The following command caused the error:
> MAKE="make" R_LIBS= ../../../bin/R CMD INSTALL --no-lock -l  
> "../../../library" cluster.tgz > cluster.ts.out 2>&1 || (cat  
> cluster.ts.out && exit 1)
> make: Fatal error: Command failed for target `cluster.ts'
> Current working directory /home/jayoung/source_codes/R/R-2.10.0/ 
> solaris_6/R-patched/src/library/Recommended
> *** Error code 1
> The following command caused the error:
> make stamp-recommended
> make: Fatal error: Command failed for target `recommended-packages'
> Current working directory /home/jayoung/source_codes/R/R-2.10.0/ 
> solaris_6/R-patched/src/library/Recommended
> *** Error code 1
> The following command caused the error:
> (cd src/library/Recommended && make)
> make: Fatal error: Command failed for target `stamp-recommended'
>
> -----------------------
>
> On a suggestion from the sysadmin, I also tried doing the  
> compilation using a different LD_LIBRARY_PATH setting:
>
> setenv LD_LIBRARY_PATH /opt/SUNWspro/prod/lib:/opt/SUNW0scgfss/4.0.3/ 
> prod/lib:/opt/gcc/lib:/opt/gcc/lib/gcc/sparc-sun-solaris2.10:/opt/ 
> SUNWspro/lib:/usr/lib:/usr/openwin/lib
>
> With this setting, I get the same error (fatal: lib_I_dbg_gen.so.1:  
> version `DBG_GEN_5.1' not found (required by file /opt/gcc/libexec/ 
> gcc/sparc-sun-solaris2.10/4.0.3/cc1) during the configure command,  
> instead of much later during the make of recommended packages. Here  
> is the relevant chunk of config.log:
>
> configure:4685: checking for gcc
> configure:4701: found /opt/gcc/bin/gcc
> configure:4712: result: gcc
> configure:4950: checking for C compiler version
> configure:4957: gcc --version >&5
> sparc-sun-solaris2.10-gcc (GCC) 4.0.3 (gccfss)
> Copyright (C) 2006 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There  
> is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR  
> PURPOSE.
>
> configure:4960: $? = 0
> configure:4967: gcc -v >&5
> Using built-in specs.
> Target: sparc-sun-solaris2.10
> Configured with: /net/tibia/export/bldmstr/nightly/ 
> 20060817_mars_gcc.s10.opt.tarbuild/src/configure
> --prefix=/opt/gcc --enable-shared --with-system-zlib --enable- 
> checking=release --disable-libmudfla
> p --enable-languages=c,c++ --enable-version-specific-runtime-libs -- 
> with-gxx-include-dir=/opt/gcc/i
> nclude/c++/4.0.3 --with-cpu=v9
> Thread model: posix
> gcc version 4.0.3 (gccfss)
> configure:4970: $? = 0
> configure:4977: gcc -V >&5
> gcc: '-V' option must have argument
> configure:4980: $? = 1
> configure:5003: checking for C compiler default output file name
> configure:5030: gcc  -I/usr/local/include -L/usr/local/lib  
> conftest.c  >&5
> ld.so.1: cc1: fatal: lib_I_dbg_gen.so.1: version `DBG_GEN_5.1' not  
> found (required by file /opt/gcc
> /libexec/gcc/sparc-sun-solaris2.10/4.0.3/cc1)
> ld.so.1: cc1: fatal: lib_I_dbg_gen.so.1: open failed: No such file  
> or directory
> gcc: Internal error: Killed (program cc1)
> Please submit a full bug report to
> <URL:http://forum.sun.com/jive/jorum.jspa?forumID=321>.
> configure:5033: $? = 1
>
> -----------------------
>
>
> This makes me think that when I use my first LD_LIBRARY_PATH setting  
> (with SUNW0scgfss first), configure manages to see the correct  
> version of lib_I_dbg_gen.so.1 but somehow when it gets to the make  
> for cluster package, it sees another, wrong version of  
> lib_I_dbg_gen.so.1. Does that make any sense? Is there a way to fix  
> it?
>
> thanks in advance for any advice,
>
> Janet Young
>
> -------------------------------------------------------------------
>
> Dr. Janet Young (Trask lab)
>
> Fred Hutchinson Cancer Research Center
> 1100 Fairview Avenue N., C3-168,
> P.O. Box 19024, Seattle, WA 98109-1024, USA.
>
> tel: (206) 667 1471 fax: (206) 667 6524
> email: jayoung  ...at...  fhcrc.org
>
> http://www.fhcrc.org/labs/trask/
>
> -------------------------------------------------------------------
>
>
>
>
>
>


From david.shih at utoronto.ca  Fri Nov 13 07:57:46 2009
From: david.shih at utoronto.ca (dshih)
Date: Thu, 12 Nov 2009 22:57:46 -0800 (PST)
Subject: [Rd]  Problem building R 2.10 release
Message-ID: <26332190.post@talk.nabble.com>


Hi, 

I am having problem building R 2.10, and it does not seem anyone else is
having a similar problem...

My system information:
uname -m = x86_64
uname -r = 2.6.31-ARCH
uname -s = Linux

gcc (GCC) 4.4.1
icc (ICC) 11.0 20081105


The first problem I encounter seems to be with icc and wctype.h during
./configure.

export CC="icc -std=c99"
export CXX=icpc
export OBJC="icc -std=c99"
export FC=ifort
export CFLAGS="-mssse3 -g -O3 -wd188 -ip"
export CXXFLAGS="-mssse3 -g -O3 -no-gcc"
export OBJCFLAGS=-"-mssse3 -g -O3"
export FCFLAGS="-mssse3 -g -O3 -mp"

./configure --with-system-zlib --with-system-bzlib --with-system-pcre
--with-blas=/usr/local/lib/libgoto_penrynp-r1.26.so
--with-lapack=/usr/local/lib/liblapack.so
--with-readline=/usr/lib/libreadline.so --with-jpeglib=/usr/lib/libjpeg.so.7

The error:
checking wchar.h usability... yes
checking wchar.h presence... yes
checking for wchar.h... yes
checking wctype.h usability... no
checking wctype.h presence... yes
configure: WARNING: wctype.h: present but cannot be compiled
configure: WARNING: wctype.h:     check for missing prerequisite headers?
configure: WARNING: wctype.h: see the Autoconf documentation
configure: WARNING: wctype.h:     section "Present But Cannot Be Compiled"
configure: WARNING: wctype.h: proceeding with the preprocessor's result
configure: WARNING: wctype.h: in the future, the compiler will take
precedence
configure: WARNING:     ## ----------------------------------- ##
configure: WARNING:     ## Report this to r-bugs at R-project.org ##
configure: WARNING:     ## ----------------------------------- ##
checking for wctype.h... yes
checking whether mbrtowc exists and is declared... yes
checking whether wcrtomb exists and is declared... yes
checking whether wcscoll exists and is declared... yes
checking whether wcsftime exists and is declared... yes
checking whether wcstod exists and is declared... yes
checking whether mbstowcs exists and is declared... yes
checking whether wcstombs exists and is declared... yes
checking whether wctrans exists and is declared... no
checking whether iswblank exists and is declared... no
checking whether wctype exists and is declared... no
checking whether iswctype exists and is declared... no
configure: error: Support for MBCS locales is required.

----

wctype.h appears to be usable when I declare
export CC=gcc

However, I encountered another problem during make. I think it is because I
built the lapack libraries using intel compilers.

sparseQR.o: In function `sparseQR_coef':                                           
sparseQR.c:(.text+0x52a): undefined reference to `Rf_protect'                      
sparseQR.c:(.text+0x53a): undefined reference to `Rf_install'                      
sparseQR.c:(.text+0x54f): undefined reference to `R_do_slot'                       
sparseQR.c:(.text+0x55f): undefined reference to `Rf_install'                      
sparseQR.c:(.text+0x574): undefined reference to `R_do_slot'                       
sparseQR.c:(.text+0x5aa): undefined reference to `Rf_install'                      
sparseQR.c:(.text+0x5bf): undefined reference to `R_do_slot'                       
sparseQR.c:(.text+0x602): undefined reference to `R_do_slot'                       
sparseQR.c:(.text+0x60a): undefined reference to `INTEGER'                         
sparseQR.c:(.text+0x61a): undefined reference to `INTEGER'                         
sparseQR.c:(.text+0x62a): undefined reference to `LENGTH'
sparseQR.c:(.text+0x65a): undefined reference to `R_do_slot'
sparseQR.c:(.text+0x662): undefined reference to `REAL'
sparseQR.c:(.text+0x69a): undefined reference to `R_CheckStack'
sparseQR.c:(.text+0x69f): undefined reference to `R_CheckStack'
sparseQR.c:(.text+0x6b8): undefined reference to `R_do_slot'
sparseQR.c:(.text+0x6c0): undefined reference to `REAL'
sparseQR.c:(.text+0x6df): undefined reference to `R_do_slot'
sparseQR.c:(.text+0x6e7): undefined reference to `INTEGER'
sparseQR.c:(.text+0x6f6): undefined reference to `Rf_install'
sparseQR.c:(.text+0x70b): undefined reference to `R_do_slot'
sparseQR.c:(.text+0x713): undefined reference to `REAL'
sparseQR.c:(.text+0x7c5): undefined reference to `Rf_unprotect'
sparseQR.o: In function `sparseQR_resid_fitted':
sparseQR.c:(.text+0x801): undefined reference to `Rf_protect'
sparseQR.c:(.text+0x811): undefined reference to `Rf_install'
sparseQR.c:(.text+0x823): undefined reference to `R_do_slot'
sparseQR.c:(.text+0x866): undefined reference to `R_do_slot'
sparseQR.c:(.text+0x86e): undefined reference to `INTEGER'
sparseQR.c:(.text+0x88b): undefined reference to `R_do_slot'
sparseQR.c:(.text+0x893): undefined reference to `INTEGER'
sparseQR.c:(.text+0x8b7): undefined reference to `Rf_asLogical'
sparseQR.c:(.text+0x8d3): undefined reference to `R_do_slot'
sparseQR.c:(.text+0x8db): undefined reference to `REAL'
sparseQR.c:(.text+0x8eb): undefined reference to `Rf_install'
sparseQR.c:(.text+0x8fd): undefined reference to `R_do_slot'
sparseQR.c:(.text+0x905): undefined reference to `REAL'
sparseQR.c:(.text+0x90e): undefined reference to `R_CheckStack'
sparseQR.c:(.text+0x9f1): undefined reference to `Rf_unprotect'
/home/katana/builds/R-2.10.0/lib/libRlapack.so: undefined reference to
`xerbla_'
make[3]: *** [Matrix.so] Error 1
make[3]: Leaving directory `/tmp/Rtmp0FGSqu/R.INSTALL327b23c6/Matrix/src'
ERROR: compilation failed for package 'Matrix'

----

I had been able to compile R 2.9.1 using icc. There did not appear to be an
issue with wctype.h back then.

Is there any way for me to compile  R 2.10 using icc? There are other
programs on the lapack libraries I built with icc.

Thanks,
-- 
View this message in context: http://old.nabble.com/Problem-building-R-2.10-release-tp26332190p26332190.html
Sent from the R devel mailing list archive at Nabble.com.


From electronplus2008 at gmail.com  Fri Nov 13 10:16:20 2009
From: electronplus2008 at gmail.com (Louis Wong)
Date: Fri, 13 Nov 2009 17:16:20 +0800
Subject: [Rd] About read.table function when using StatConn Problem
In-Reply-To: <b28dcb30911130110r60205f87i1af43c92aee458ed@mail.gmail.com>
References: <b28dcb30911130110r60205f87i1af43c92aee458ed@mail.gmail.com>
Message-ID: <b28dcb30911130116n365a44afkfce1057be64a9aef@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091113/e3b49bc7/attachment.pl>

From dirk.jacob at ise.fraunhofer.de  Fri Nov 13 11:40:16 2009
From: dirk.jacob at ise.fraunhofer.de (dirk.jacob at ise.fraunhofer.de)
Date: Fri, 13 Nov 2009 11:40:16 +0100 (CET)
Subject: [Rd] format (PR#14062)
Message-ID: <20091113104016.88E6C2832015@mail.pubhealth.ku.dk>

Full_Name: Dirk Jacob
Version: R 2.8.1 and 2.9.1
OS: Win XP
Submission from: (NULL) (153.96.32.62)


I want to convert numbers to strings
like:
> inputs= c(0.3+0*(1:12) )
> (format(inputs,digits=3,scientific=T,collapse=" "))

and it works

 [1] "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01"
[10] "3e-01" "3e-01" "3e-01"

if I use different numbers it does not:

> C <- c(840,1000,1000,1000)
> R <- c(860,2500,2500,2000)
> L <- c(0.23,1,1,1.1)
> T <- c(0.2,0.2,0.3,0.175)
> I <- c(0.05,0.1,0.14,0.18)
> inputs <- cbind(C,R,L,T,I)

If I try the same format command, it does not:
> (format(c(inputs[1,]),digits=3, scientific=T))
Error in prettyNum(.Internal(format(x, trim, digits, nsmall, width, 3,  : 
  invalid 'scientific' argument

Only if I change scientific to NA
> (format(c(inputs[1,]),digits=3, scientific=NA))

remark (not important for the problem):
but I need scientific because sometimes the strings get to long otherwise


Now if I am trying the same thing as at the beginning it doesn't work anymore
> inputs= c(0.3+0*(1:12) )
> (format(inputs,digits=3,scientific=T,collapse=" "))
Error in prettyNum(.Internal(format(x, trim, digits, nsmall, width, 3,  : 
  invalid 'scientific' argument

This looks like some problem in .Internal(format, ...) to me!?

if I remove everything from my environment 
> rm(list=ls(all=T))
> 
> inputs= c(0.3+0*(1:12) )
> (format(inputs,digits=3,scientific=T,collapse=" "))
 [1] "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01"
[10] "3e-01" "3e-01" "3e-01"
>
it works again!

rm(list=ls(all=T))

inputs= c(0.3+0*(1:12) )
(format(inputs,digits=3,scientific=T,collapse=" "))


From karl at huftis.org  Fri Nov 13 10:52:37 2009
From: karl at huftis.org (Karl Ove Hufthammer)
Date: Fri, 13 Nov 2009 10:52:37 +0100
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start()
	page
References: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com>
Message-ID: <MPG.25674ac5c29f61089896a0@news.gmane.org>

On Fri, 13 Nov 2009 09:37:31 +0100 Henrik Bengtsson 
<hb at stat.berkeley.edu> wrote:
> I'd like to recommend that links to (local) NEWS and CHANGES are added
> to the help.start() overview pages.  help("NEWS")/help("CHANGE LOG")
> and help("CHANGES") could display/refer to them as well.

Are you talking of the NEWS and CHANGES for R itself, or for packages 
too? It would be very useful having a convenience function for this for 
packages too. Perhaps something like

library(news=MASS) (or MASS as a character string)
and
library(changes=spdep)

similar to library(help=MASS)

Or have I overlooked something, and a function for this already exists?

-- 
Karl Ove Hufthammer


From romain.francois at dbmail.com  Fri Nov 13 14:31:10 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Fri, 13 Nov 2009 14:31:10 +0100
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start()
 page
In-Reply-To: <MPG.25674ac5c29f61089896a0@news.gmane.org>
References: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com>
	<MPG.25674ac5c29f61089896a0@news.gmane.org>
Message-ID: <4AFD5F9E.6070502@dbmail.com>

On 11/13/2009 10:52 AM, Karl Ove Hufthammer wrote:
>
> On Fri, 13 Nov 2009 09:37:31 +0100 Henrik Bengtsson
> <hb at stat.berkeley.edu>  wrote:
>> I'd like to recommend that links to (local) NEWS and CHANGES are added
>> to the help.start() overview pages.  help("NEWS")/help("CHANGE LOG")
>> and help("CHANGES") could display/refer to them as well.
>
> Are you talking of the NEWS and CHANGES for R itself, or for packages
> too? It would be very useful having a convenience function for this for
> packages too. Perhaps something like
>
> library(news=MASS) (or MASS as a character string)
> and
> library(changes=spdep)
>
> similar to library(help=MASS)
>
> Or have I overlooked something, and a function for this already exists?

?news

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/EAD5 : LondonR slides
|- http://tr.im/BcPw : celebrating R commit #50000
`- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc


From hb at stat.berkeley.edu  Fri Nov 13 14:37:36 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Fri, 13 Nov 2009 14:37:36 +0100
Subject: [Rd] format (PR#14062)
In-Reply-To: <20091113104016.88E6C2832015@mail.pubhealth.ku.dk>
References: <20091113104016.88E6C2832015@mail.pubhealth.ku.dk>
Message-ID: <59d7961d0911130537g1b6ce55ch84daffc8c8068ec3@mail.gmail.com>

Ha, beautiful example of how you should never use 'T' when you mean 'TRUE'.

Thanks

/Henrik

PS. The error message does indeed give you a great hint what the problem is.


On Fri, Nov 13, 2009 at 11:40 AM,  <dirk.jacob at ise.fraunhofer.de> wrote:
> Full_Name: Dirk Jacob
> Version: R 2.8.1 and 2.9.1
> OS: Win XP
> Submission from: (NULL) (153.96.32.62)
>
>
> I want to convert numbers to strings
> like:
>> inputs= c(0.3+0*(1:12) )
>> (format(inputs,digits=3,scientific=T,collapse=" "))
>
> and it works
>
> ?[1] "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01"
> [10] "3e-01" "3e-01" "3e-01"
>
> if I use different numbers it does not:
>
>> C <- c(840,1000,1000,1000)
>> R <- c(860,2500,2500,2000)
>> L <- c(0.23,1,1,1.1)
>> T <- c(0.2,0.2,0.3,0.175)
>> I <- c(0.05,0.1,0.14,0.18)
>> inputs <- cbind(C,R,L,T,I)
>
> If I try the same format command, it does not:
>> (format(c(inputs[1,]),digits=3, scientific=T))
> Error in prettyNum(.Internal(format(x, trim, digits, nsmall, width, 3, ?:
> ?invalid 'scientific' argument
>
> Only if I change scientific to NA
>> (format(c(inputs[1,]),digits=3, scientific=NA))
>
> remark (not important for the problem):
> but I need scientific because sometimes the strings get to long otherwise
>
>
> Now if I am trying the same thing as at the beginning it doesn't work anymore
>> inputs= c(0.3+0*(1:12) )
>> (format(inputs,digits=3,scientific=T,collapse=" "))
> Error in prettyNum(.Internal(format(x, trim, digits, nsmall, width, 3, ?:
> ?invalid 'scientific' argument
>
> This looks like some problem in .Internal(format, ...) to me!?
>
> if I remove everything from my environment
>> rm(list=ls(all=T))
>>
>> inputs= c(0.3+0*(1:12) )
>> (format(inputs,digits=3,scientific=T,collapse=" "))
> ?[1] "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01"
> [10] "3e-01" "3e-01" "3e-01"
>>
> it works again!
>
> rm(list=ls(all=T))
>
> inputs= c(0.3+0*(1:12) )
> (format(inputs,digits=3,scientific=T,collapse=" "))
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From hb at stat.berkeley.edu  Fri Nov 13 14:44:01 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Fri, 13 Nov 2009 14:44:01 +0100
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start()
	page
In-Reply-To: <4AFD5F9E.6070502@dbmail.com>
References: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com> 
	<MPG.25674ac5c29f61089896a0@news.gmane.org>
	<4AFD5F9E.6070502@dbmail.com>
Message-ID: <59d7961d0911130544s3ec30b95n7fabb6748757db8f@mail.gmail.com>

Please note my initial comment that it is hard for newcomers to find
or even know about the existence of NEWS (and worse CHANGES) [for R
itself].  Yet, we often imply that they should have read those before
reporting problems.

/Henrik

On Fri, Nov 13, 2009 at 2:31 PM, Romain Francois
<romain.francois at dbmail.com> wrote:
> On 11/13/2009 10:52 AM, Karl Ove Hufthammer wrote:
>>
>> On Fri, 13 Nov 2009 09:37:31 +0100 Henrik Bengtsson
>> <hb at stat.berkeley.edu> ?wrote:
>>>
>>> I'd like to recommend that links to (local) NEWS and CHANGES are added
>>> to the help.start() overview pages. ?help("NEWS")/help("CHANGE LOG")
>>> and help("CHANGES") could display/refer to them as well.
>>
>> Are you talking of the NEWS and CHANGES for R itself, or for packages
>> too? It would be very useful having a convenience function for this for
>> packages too. Perhaps something like
>>
>> library(news=MASS) (or MASS as a character string)
>> and
>> library(changes=spdep)
>>
>> similar to library(help=MASS)
>>
>> Or have I overlooked something, and a function for this already exists?
>
> ?news
>
> --
> Romain Francois
> Professional R Enthusiast
> +33(0) 6 28 91 30 30
> http://romainfrancois.blog.free.fr
> |- http://tr.im/EAD5 : LondonR slides
> |- http://tr.im/BcPw : celebrating R commit #50000
> `- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From ggrothendieck at gmail.com  Fri Nov 13 15:09:29 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 13 Nov 2009 09:09:29 -0500
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start()
	page
In-Reply-To: <59d7961d0911130544s3ec30b95n7fabb6748757db8f@mail.gmail.com>
References: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com> 
	<MPG.25674ac5c29f61089896a0@news.gmane.org>
	<4AFD5F9E.6070502@dbmail.com> 
	<59d7961d0911130544s3ec30b95n7fabb6748757db8f@mail.gmail.com>
Message-ID: <971536df0911130609t67e68b0ev2beb0dd3274145b2@mail.gmail.com>

In the case of R itself and the Windows platform this might usefully
be placed into the Rgui help menu.

On Fri, Nov 13, 2009 at 8:44 AM, Henrik Bengtsson <hb at stat.berkeley.edu> wrote:
> Please note my initial comment that it is hard for newcomers to find
> or even know about the existence of NEWS (and worse CHANGES) [for R
> itself]. ?Yet, we often imply that they should have read those before
> reporting problems.
>
> /Henrik
>
> On Fri, Nov 13, 2009 at 2:31 PM, Romain Francois
> <romain.francois at dbmail.com> wrote:
>> On 11/13/2009 10:52 AM, Karl Ove Hufthammer wrote:
>>>
>>> On Fri, 13 Nov 2009 09:37:31 +0100 Henrik Bengtsson
>>> <hb at stat.berkeley.edu> ?wrote:
>>>>
>>>> I'd like to recommend that links to (local) NEWS and CHANGES are added
>>>> to the help.start() overview pages. ?help("NEWS")/help("CHANGE LOG")
>>>> and help("CHANGES") could display/refer to them as well.
>>>
>>> Are you talking of the NEWS and CHANGES for R itself, or for packages
>>> too? It would be very useful having a convenience function for this for
>>> packages too. Perhaps something like
>>>
>>> library(news=MASS) (or MASS as a character string)
>>> and
>>> library(changes=spdep)
>>>
>>> similar to library(help=MASS)
>>>
>>> Or have I overlooked something, and a function for this already exists?
>>
>> ?news
>>
>> --
>> Romain Francois
>> Professional R Enthusiast
>> +33(0) 6 28 91 30 30
>> http://romainfrancois.blog.free.fr
>> |- http://tr.im/EAD5 : LondonR slides
>> |- http://tr.im/BcPw : celebrating R commit #50000
>> `- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From info at aghmed.fsnet.co.uk  Fri Nov 13 15:34:14 2009
From: info at aghmed.fsnet.co.uk (Michael Dewey)
Date: Fri, 13 Nov 2009 14:34:14 +0000
Subject: [Rd] format (PR#14062)
In-Reply-To: <20091113104016.88E6C2832015@mail.pubhealth.ku.dk>
References: <20091113104016.88E6C2832015@mail.pubhealth.ku.dk>
Message-ID: <Zen-1N8xEG-0000HI-Qn@smarthost01.mail.zen.net.uk>

At 10:40 13/11/2009, dirk.jacob at ise.fraunhofer.de wrote:

>Full_Name: Dirk Jacob
>Version: R 2.8.1 and 2.9.1
>OS: Win XP
>Submission from: (NULL) (153.96.32.62)
>
>
>I want to convert numbers to strings
>like:
> > inputs= c(0.3+0*(1:12) )
> > (format(inputs,digits=3,scientific=T,collapse=" "))
>
>and it works
>
>  [1] "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01"
>[10] "3e-01" "3e-01" "3e-01"
>
>if I use different numbers it does not:
>
> > C <- c(840,1000,1000,1000)
> > R <- c(860,2500,2500,2000)
> > L <- c(0.23,1,1,1.1)
> > T <- c(0.2,0.2,0.3,0.175)

So now T has the value?

> > I <- c(0.05,0.1,0.14,0.18)
> > inputs <- cbind(C,R,L,T,I)
>
>If I try the same format command, it does not:
> > (format(c(inputs[1,]),digits=3, scientific=T))
>Error in prettyNum(.Internal(format(x, trim, digits, nsmall, width, 3,  :
>   invalid 'scientific' argument

It does work for scientific = TRUE (admittedly I am using R 2.10.0 
but I suspect it has been the same for most of this millennium).

I do not think this is a bug in R.

>Only if I change scientific to NA
> > (format(c(inputs[1,]),digits=3, scientific=NA))
>
>remark (not important for the problem):
>but I need scientific because sometimes the strings get to long otherwise
>
>
>Now if I am trying the same thing as at the beginning it doesn't work anymore
> > inputs= c(0.3+0*(1:12) )
> > (format(inputs,digits=3,scientific=T,collapse=" "))
>Error in prettyNum(.Internal(format(x, trim, digits, nsmall, width, 3,  :
>   invalid 'scientific' argument
>
>This looks like some problem in .Internal(format, ...) to me!?
>
>if I remove everything from my environment
> > rm(list=ls(all=T))
> >
> > inputs= c(0.3+0*(1:12) )
> > (format(inputs,digits=3,scientific=T,collapse=" "))
>  [1] "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01" "3e-01"
>[10] "3e-01" "3e-01" "3e-01"
> >
>it works again!
>
>rm(list=ls(all=T))
>
>inputs= c(0.3+0*(1:12) )
>(format(inputs,digits=3,scientific=T,collapse=" "))
>
>______________________________________________
>R-devel at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-devel

Michael Dewey
http://www.aghmed.fsnet.co.uk


From therneau at mayo.edu  Fri Nov 13 15:43:30 2009
From: therneau at mayo.edu (Terry Therneau)
Date: Fri, 13 Nov 2009 08:43:30 -0600
Subject: [Rd] error checks
Message-ID: <1258123410.17658.6.camel@punchbuggy>

 I'm currently packaging up some of the kinship matrix routines more
formally, these are used in coxme when dealing with family correlation
structures.  One of my test programs exercises error conditions, i.e.,
it purposely feeds particular types of invalid pedigree data in to see
if the right error message results.  So there are comment-action pairs
	# the next line should generate a "pedigree loop" error
	kindepth(.....

As I found out last night, such tests case a failure of R CMD check!
Any suggestions on how to properly package these?

 A second question is keywords.  None of the standard ones apply to this
code -- I'd like "genetics".  How do we add a new one?  

Terry T.


From tplate at acm.org  Fri Nov 13 17:02:41 2009
From: tplate at acm.org (Tony Plate)
Date: Fri, 13 Nov 2009 09:02:41 -0700
Subject: [Rd] error checks
In-Reply-To: <1258123410.17658.6.camel@punchbuggy>
References: <1258123410.17658.6.camel@punchbuggy>
Message-ID: <4AFD8321.7030107@acm.org>

Putting options(error=function() NULL) at the start of the .R will let R 
CMD check continue with commands in a file after stop() is called.  (Or 
anything other than the default options(error=NULL)).

-- Tony Plate


Terry Therneau wrote:
>  I'm currently packaging up some of the kinship matrix routines more
> formally, these are used in coxme when dealing with family correlation
> structures.  One of my test programs exercises error conditions, i.e.,
> it purposely feeds particular types of invalid pedigree data in to see
> if the right error message results.  So there are comment-action pairs
> 	# the next line should generate a "pedigree loop" error
> 	kindepth(.....
>
> As I found out last night, such tests case a failure of R CMD check!
> Any suggestions on how to properly package these?
>
>  A second question is keywords.  None of the standard ones apply to this
> code -- I'd like "genetics".  How do we add a new one?  
>
> Terry T.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From p.dalgaard at biostat.ku.dk  Fri Nov 13 17:24:26 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Fri, 13 Nov 2009 17:24:26 +0100
Subject: [Rd] error checks
In-Reply-To: <1258123410.17658.6.camel@punchbuggy>
References: <1258123410.17658.6.camel@punchbuggy>
Message-ID: <4AFD883A.7040907@biostat.ku.dk>

Terry Therneau wrote:
>  I'm currently packaging up some of the kinship matrix routines more
> formally, these are used in coxme when dealing with family correlation
> structures.  One of my test programs exercises error conditions, i.e.,
> it purposely feeds particular types of invalid pedigree data in to see
> if the right error message results.  So there are comment-action pairs
> 	# the next line should generate a "pedigree loop" error
> 	kindepth(.....
> 
> As I found out last night, such tests case a failure of R CMD check!
> Any suggestions on how to properly package these?

I believe the canonical way is to use a try() wrapper, then verify that 
the return value has class "try-error"

>  A second question is keywords.  None of the standard ones apply to this
> code -- I'd like "genetics".  How do we add a new one?  
> 
> Terry T.
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From seth at userprimary.net  Fri Nov 13 18:12:38 2009
From: seth at userprimary.net (Seth Falcon)
Date: Fri, 13 Nov 2009 09:12:38 -0800
Subject: [Rd] error checks
In-Reply-To: <4AFD8321.7030107@acm.org>
References: <1258123410.17658.6.camel@punchbuggy> <4AFD8321.7030107@acm.org>
Message-ID: <4AFD9386.6010002@userprimary.net>

On 11/13/09 8:02 AM, Tony Plate wrote:
> Putting options(error=function() NULL) at the start of the .R will let R
> CMD check continue with commands in a file after stop() is called. (Or
> anything other than the default options(error=NULL)).

But that's a rather heavy handed approach and could easily mask errors 
that you are not expecting.

Instead, how about using tryCatch so that you limit the errors that you 
trap and also can verify that an error was indeed trapped.  Perhaps 
something like this:


f <- function(x) if (x) stop("crash!") else NULL

res <- tryCatch(
      {
          f(TRUE)         # this will raise an error
          FALSE           # only get here if no error
      },
          error = function(e) TRUE)

## verify we saw an error
stopifnot(res)

+ seth

-- 
Seth Falcon | @sfalcon | http://userprimary.net/users


From tk47 at nyu.edu  Fri Nov 13 20:03:48 2009
From: tk47 at nyu.edu (Trishank Karthik Kuppusamy)
Date: Fri, 13 Nov 2009 14:03:48 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
Message-ID: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>

Greetings everyone,

I have a question about the default behaviour of a missing entry in an environment.
Let us look at the following sequence of R statements:

> e <- new.env()
> e$a <- 1
> e$a
[1] 1
> e$b
NULL
> 

I think I understand the logic for returning NULL to a missing entry in an environment,
but I do not think that it is fully justified.
I am sure that the R developers must have seen this argument before,
but I wish to call for attention to this problem again,
because I think that it is important to the default safety of the R programming language.

I suppose that one could argue that a good R programmer must be careful
not to use NULL in any of his environment entries,
but I think it is better to remove altogether this burden from the programmer
and simply raise a good, old-fashioned exception when the "$" operator
encounters a missing entry in an environment.
The biggest advantage is that it will easily eliminate a whole class of programming error.
The biggest disadvantage is that it is not backwards-compatible with old R programs.

I suppose a personal solution would be to simply redefine the "$" operator in my programs.
However, I really do think that the default safety of an R environment matters very much.
At the very least, it would be nice to be able to configure the safety of a new environment,
perhaps through a parameter.

-Trishank

From murdoch at stats.uwo.ca  Fri Nov 13 20:27:57 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 13 Nov 2009 14:27:57 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>
Message-ID: <4AFDB33D.5010607@stats.uwo.ca>

On 11/13/2009 2:03 PM, Trishank Karthik Kuppusamy wrote:
> Greetings everyone,
> 
> I have a question about the default behaviour of a missing entry in an environment.
> Let us look at the following sequence of R statements:
> 
>> e <- new.env()
>> e$a <- 1
>> e$a
> [1] 1
>> e$b
> NULL
>> 
> 
> I think I understand the logic for returning NULL to a missing entry in an environment,
> but I do not think that it is fully justified.
> I am sure that the R developers must have seen this argument before,
> but I wish to call for attention to this problem again,
> because I think that it is important to the default safety of the R programming language.

You get the same behaviour when asking for a nonexistent element of a 
list, or a nonexistent attribute.   If you want stricter checking, don't 
use $, use get():

 > get("b", e)
Error in get("b", e) : object 'b' not found

or check first with exists():

 > exists("b", e)
[1] FALSE

> I suppose that one could argue that a good R programmer must be careful
> not to use NULL in any of his environment entries,
> but I think it is better to remove altogether this burden from the programmer
> and simply raise a good, old-fashioned exception when the "$" operator
> encounters a missing entry in an environment.

But then it would be inconsistent with what it does in other situations.

Duncan Murdoch

> The biggest advantage is that it will easily eliminate a whole class of programming error.
> The biggest disadvantage is that it is not backwards-compatible with old R programs.
> 
> I suppose a personal solution would be to simply redefine the "$" operator in my programs.
> However, I really do think that the default safety of an R environment matters very much.
> At the very least, it would be nice to be able to configure the safety of a new environment,
> perhaps through a parameter.
> 
> -Trishank
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From tk47 at nyu.edu  Fri Nov 13 20:39:41 2009
From: tk47 at nyu.edu (Trishank Karthik Kuppusamy)
Date: Fri, 13 Nov 2009 14:39:41 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <4AFDB33D.5010607@stats.uwo.ca>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>
	<4AFDB33D.5010607@stats.uwo.ca>
Message-ID: <39831344-CF89-4D0C-9804-702B80D4DE4C@nyu.edu>

Hello Duncan,

Thanks for your reply.

On Nov 13, 2009, at 2:27 PM, Duncan Murdoch wrote:

> You get the same behaviour when asking for a nonexistent element of a list, or a nonexistent attribute.   If you want stricter checking, don't use $, use get():
> 
> > get("b", e)
> Error in get("b", e) : object 'b' not found

Yes, this is a solution. However, if we agree that "$" is (as it should be) syntactic sugar for get(), then why do we have different behaviour
for what should essentially be the same operations, albeit the former being easier to read and write than the latter?
Or is my premise mistaken and that is the whole point of having "$" and get() which are not identical?

> But then it would be inconsistent with what it does in other situations.

I am afraid that I did not fully understand this point. What would the inconsistencies be in other situations?

-Trishank

From murdoch at stats.uwo.ca  Fri Nov 13 20:47:38 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 13 Nov 2009 14:47:38 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <39831344-CF89-4D0C-9804-702B80D4DE4C@nyu.edu>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>	<4AFDB33D.5010607@stats.uwo.ca>
	<39831344-CF89-4D0C-9804-702B80D4DE4C@nyu.edu>
Message-ID: <4AFDB7DA.3080104@stats.uwo.ca>

On 11/13/2009 2:39 PM, Trishank Karthik Kuppusamy wrote:
> Hello Duncan,
> 
> Thanks for your reply.
> 
> On Nov 13, 2009, at 2:27 PM, Duncan Murdoch wrote:
> 
>> You get the same behaviour when asking for a nonexistent element of a list, or a nonexistent attribute.   If you want stricter checking, don't use $, use get():
>> 
>> > get("b", e)
>> Error in get("b", e) : object 'b' not found
> 
> Yes, this is a solution. However, if we agree that "$" is (as it should be) syntactic sugar for get(), then why do we have different behaviour
> for what should essentially be the same operations, albeit the former being easier to read and write than the latter?
> Or is my premise mistaken and that is the whole point of having "$" and get() which are not identical?
> 
>> But then it would be inconsistent with what it does in other situations.
> 
> I am afraid that I did not fully understand this point. What would the inconsistencies be in other situations?

Inconsistent with what happens for lists:

 > x <- list()
 > x$b
NULL

and attributes:

 > attr(x, "b")
NULL

It is already a little stricter than $ on a list:

 > x$longname <- 1
 > x$long
[1] 1
 > e$longname <- 1
 > e$long
NULL

so I supposed we could make it even more strict, but there is an awful 
lot of code out there that uses tests like

if (!is.null(x <- e$b)) { do something with x }

and all of that would break.

Duncan Murdoch


From tk47 at nyu.edu  Fri Nov 13 21:03:03 2009
From: tk47 at nyu.edu (Trishank Karthik Kuppusamy)
Date: Fri, 13 Nov 2009 15:03:03 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <4AFDB7DA.3080104@stats.uwo.ca>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>
	<4AFDB33D.5010607@stats.uwo.ca>
	<39831344-CF89-4D0C-9804-702B80D4DE4C@nyu.edu>
	<4AFDB7DA.3080104@stats.uwo.ca>
Message-ID: <6BB98E4A-8539-4C69-B754-2180AC6D7369@nyu.edu>


On Nov 13, 2009, at 2:47 PM, Duncan Murdoch wrote:

> Inconsistent with what happens for lists:
> 
> > x <- list()
> > x$b
> NULL
> 
> and attributes:
> 
> > attr(x, "b")
> NULL

Ah, I see. I would claim that the same argument for default safety should apply here too.

> It is already a little stricter than $ on a list:
> 
> > x$longname <- 1
> > x$long
> [1] 1
> > e$longname <- 1
> > e$long
> NULL

I apologize that I cannot say that this is a good idea for reasons of safety and readability.

> so I supposed we could make it even more strict, but there is an awful lot of code out there that uses tests like
> 
> if (!is.null(x <- e$b)) { do something with x }
> 
> and all of that would break.

Unfortunately, such code does make it harder to detect programming errors.
I understand should the hands of R be tied by backwards-compatability; bad habits are hard to break.
Thanks for your time.

-Trishank

From hb at stat.berkeley.edu  Fri Nov 13 21:42:37 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Fri, 13 Nov 2009 21:42:37 +0100
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <6BB98E4A-8539-4C69-B754-2180AC6D7369@nyu.edu>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu> 
	<4AFDB33D.5010607@stats.uwo.ca>
	<39831344-CF89-4D0C-9804-702B80D4DE4C@nyu.edu> 
	<4AFDB7DA.3080104@stats.uwo.ca>
	<6BB98E4A-8539-4C69-B754-2180AC6D7369@nyu.edu>
Message-ID: <59d7961d0911131242o1f070660m7fbe75f8501e1276@mail.gmail.com>

If you develop your own code you can add your own behavior by
"extending" the environment class.  I put "extending" in quotation
marks, because 'environment' is one of few classes you should *not*
extend from in the regular S3 (and S4?) sense, at least that was the
case a few years ago.  You can search the r-devel list about issues
when trying to do so.  One thing I remember is that it didn't work
well to save such objects.  Bla bla bla, there are workarounds for it
and the Object class in the R.oo package is one.  Here is how you can
add your protection for your own environment-like objects:

library("R.oo");
o <- Object();
o$foo
[1] NULL

setConstructorS3("PickyObject", function(...) {
  extend(Object(), "PickyObject");
});
setMethodS3("$", "PickyObject", function(this, name) {
  hasField(this, name) || throw("No such field: ", name);
  NextMethod("$");
});

po <- PickyObject();
po$foo

Error in list(`po$foo` = <environment>, ``$.PickyObject`(po, foo)` = <environmen
t>,  :

[2009-11-13 21:39:51] Exception: No such field: foo
  at throw(Exception(...))
  at throw.default("No such field: ", name)
  at throw("No such field: ", name)
  at `$.PickyObject`(po, foo)
  at po$foo

po$foo <- TRUE;
po$foo
[1] TRUE

If of any use.

/Henrik

On Fri, Nov 13, 2009 at 9:03 PM, Trishank Karthik Kuppusamy
<tk47 at nyu.edu> wrote:
>
> On Nov 13, 2009, at 2:47 PM, Duncan Murdoch wrote:
>
>> Inconsistent with what happens for lists:
>>
>> > x <- list()
>> > x$b
>> NULL
>>
>> and attributes:
>>
>> > attr(x, "b")
>> NULL
>
> Ah, I see. I would claim that the same argument for default safety should apply here too.
>
>> It is already a little stricter than $ on a list:
>>
>> > x$longname <- 1
>> > x$long
>> [1] 1
>> > e$longname <- 1
>> > e$long
>> NULL
>
> I apologize that I cannot say that this is a good idea for reasons of safety and readability.
>
>> so I supposed we could make it even more strict, but there is an awful lot of code out there that uses tests like
>>
>> if (!is.null(x <- e$b)) { do something with x }
>>
>> and all of that would break.
>
> Unfortunately, such code does make it harder to detect programming errors.
> I understand should the hands of R be tied by backwards-compatability; bad habits are hard to break.
> Thanks for your time.
>
> -Trishank
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From tk47 at nyu.edu  Fri Nov 13 21:50:54 2009
From: tk47 at nyu.edu (Trishank Karthik Kuppusamy)
Date: Fri, 13 Nov 2009 15:50:54 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <59d7961d0911131242o1f070660m7fbe75f8501e1276@mail.gmail.com>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>
	<4AFDB33D.5010607@stats.uwo.ca>
	<39831344-CF89-4D0C-9804-702B80D4DE4C@nyu.edu>
	<4AFDB7DA.3080104@stats.uwo.ca>
	<6BB98E4A-8539-4C69-B754-2180AC6D7369@nyu.edu>
	<59d7961d0911131242o1f070660m7fbe75f8501e1276@mail.gmail.com>
Message-ID: <75916416-7304-411D-BEFE-CE20583AB8E6@nyu.edu>

Hello Henrik,

On Nov 13, 2009, at 3:42 PM, Henrik Bengtsson wrote:

> If you develop your own code you can add your own behavior by
> "extending" the environment class.  I put "extending" in quotation
> marks, because 'environment' is one of few classes you should *not*
> extend from in the regular S3 (and S4?) sense, at least that was the
> case a few years ago.  You can search the r-devel list about issues
> when trying to do so.  One thing I remember is that it didn't work
> well to save such objects.  Bla bla bla, there are workarounds for it
> and the Object class in the R.oo package is one.  Here is how you can
> add your protection for your own environment-like objects:

I like this solution! (As well as the name of the picky object.)
If the environment class can be properly subclassed,
then everything should work in principle. Thanks for the tip.

-Trishank


From c.harpham at uea.ac.uk  Fri Nov 13 15:50:09 2009
From: c.harpham at uea.ac.uk (c.harpham at uea.ac.uk)
Date: Fri, 13 Nov 2009 15:50:09 +0100 (CET)
Subject: [Rd] plot arguments (PR#14063)
Message-ID: <20091113145009.A4770283201F@mail.pubhealth.ku.dk>

Hi there,

 

I have recently updated to ver 2.10 (windows - I'm running xp) and find I am
having problems with plot arguments, for e.g.

Using the errbar function the error bars are now in black despite col="red",
the central point is in red though. Axis labels are drawn but not the 'main'
title. No errors are reported.

Using the plot function directly I was only able to get type="l" to work - I
didn't try them all though!

Could well be other problems.

 

Now reinstalled 2.7 and everything fine again, be really useful to have
previous versions posted in case of problems - luckily I had an old
executable.

 

Regards,

Colin

 

 

Dr Colin Harpham

Senior Research Associate

Climatic Research Unit

School of Environmental Sciences

University of East Anglia

Norwich

NR4 7TJ

UK 

Tel: +44 -1603 593857

Fax: +44 -1603 507784

 


	[[alternative HTML version deleted]]


From karl at huftis.org  Fri Nov 13 15:11:44 2009
From: karl at huftis.org (Karl Ove Hufthammer)
Date: Fri, 13 Nov 2009 15:11:44 +0100
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start()
	page
References: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com>
	<MPG.25674ac5c29f61089896a0@news.gmane.org>
	<4AFD5F9E.6070502@dbmail.com>
Message-ID: <MPG.25678789768cbdff9896a3@news.gmane.org>

On Fri, 13 Nov 2009 14:31:10 +0100 Romain Francois 
<romain.francois at dbmail.com> wrote:
> > Or have I overlooked something, and a function for this already exists?
> 
> ?news

I know about the 'news' function, but that doesn't *show* the NEWS or 
CHANGES file for a package, at least not in any useful format.

The feature I'd prefer doesn't require any fancy parsing, just an 
ordinary listing of the contents of the text files NEWS/CHANGES (in a 
separate window, or perhaps opened in the user's browser).

-- 
Karl Ove Hufthammer


From Losangelessoul at hotmail.it  Fri Nov 13 16:55:11 2009
From: Losangelessoul at hotmail.it (Losangelessoul at hotmail.it)
Date: Fri, 13 Nov 2009 16:55:11 +0100 (CET)
Subject: [Rd] Bug in R (PR#14064)
Message-ID: <20091113155511.B3D70282EFC3@mail.pubhealth.ku.dk>

Full_Name: Luca Maestri
Version: 2.10.0
OS: Windows Vista /7
Submission from: (NULL) (193.204.41.157)


I don't know if it is really a bug or if it is only a particular case that
happened during my work: 

cbind(nameoftheelement[1:10],nameofthelement[1:10])

the output is not precise because it isn't in correct line : this was my output

        [,1] [,2]
         1    5      <------------ as you can see there is no match beetween
the
01_141   6   12                    line and the output 
01_142   13   19
01_143   20   26
01_144   27   33
01_145   34   41
01_146   42   50
01_147   51   60
01_148   61   64
01_149   65   72


From murdoch at stats.uwo.ca  Fri Nov 13 22:16:45 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 13 Nov 2009 16:16:45 -0500
Subject: [Rd] plot arguments (PR#14063)
In-Reply-To: <20091113145009.A4770283201F@mail.pubhealth.ku.dk>
References: <20091113145009.A4770283201F@mail.pubhealth.ku.dk>
Message-ID: <4AFDCCBD.6090101@stats.uwo.ca>

On 11/13/2009 9:50 AM, c.harpham at uea.ac.uk wrote:
> Hi there,
> 
>  
> 
> I have recently updated to ver 2.10 (windows - I'm running xp) and find I am
> having problems with plot arguments, for e.g.
> 
> Using the errbar function the error bars are now in black despite col="red",
> the central point is in red though. Axis labels are drawn but not the 'main'
> title. No errors are reported.

There is no errbar function in base R.  You are finding it in some 
package (sfsmisc? Hmisc? something else?); you should make sure you have 
an up to date version of that package, and if the error is still 
present, take up the issue with its author.

> Using the plot function directly I was only able to get type="l" to work - I
> didn't try them all though!

plot() works for me.

> 
> Could well be other problems.
> 
>  
> 
> Now reinstalled 2.7 and everything fine again, be really useful to have
> previous versions posted in case of problems - luckily I had an old
> executable.

Where did you download from that didn't have earlier versions posted?

Duncan Murdoch

> 
>  
> 
> Regards,
> 
> Colin
> 
>  
> 
>  
> 
> Dr Colin Harpham
> 
> Senior Research Associate
> 
> Climatic Research Unit
> 
> School of Environmental Sciences
> 
> University of East Anglia
> 
> Norwich
> 
> NR4 7TJ
> 
> UK 
> 
> Tel: +44 -1603 593857
> 
> Fax: +44 -1603 507784
> 
>  
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Fri Nov 13 22:24:21 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 13 Nov 2009 16:24:21 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <6BB98E4A-8539-4C69-B754-2180AC6D7369@nyu.edu>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>	<4AFDB33D.5010607@stats.uwo.ca>	<39831344-CF89-4D0C-9804-702B80D4DE4C@nyu.edu>	<4AFDB7DA.3080104@stats.uwo.ca>
	<6BB98E4A-8539-4C69-B754-2180AC6D7369@nyu.edu>
Message-ID: <4AFDCE85.9070105@stats.uwo.ca>

On 11/13/2009 3:03 PM, Trishank Karthik Kuppusamy wrote:
> On Nov 13, 2009, at 2:47 PM, Duncan Murdoch wrote:
> 
>> Inconsistent with what happens for lists:
>> 
>> > x <- list()
>> > x$b
>> NULL
>> 
>> and attributes:
>> 
>> > attr(x, "b")
>> NULL
> 
> Ah, I see. I would claim that the same argument for default safety should apply here too.

I have mixed feelings about this.  If you follow the rule in your 
programs that setting x to NULL acts the same as not having x at all, 
then things are fine.  (Sometimes that's impossible, but it is what 
happens when you do the list assignment x$b <- NULL).  Use NA or some 
other special value to signal missing, and NULL will usually cause a 
visible error soon after if you mess up.

> 
>> It is already a little stricter than $ on a list:
>> 
>> > x$longname <- 1
>> > x$long
>> [1] 1
>> > e$longname <- 1
>> > e$long
>> NULL
> 
> I apologize that I cannot say that this is a good idea for reasons of safety and readability.

I think the list behaviour is a bad design, but it's been in the 
language forever, so we're stuck with it.  It's related to the bad 
design of function calls, where arguments can similarly be abbreviated.

Duncan Murdoch

> 
>> so I supposed we could make it even more strict, but there is an awful lot of code out there that uses tests like
>> 
>> if (!is.null(x <- e$b)) { do something with x }
>> 
>> and all of that would break.
> 
> Unfortunately, such code does make it harder to detect programming errors.
> I understand should the hands of R be tied by backwards-compatability; bad habits are hard to break.
> Thanks for your time.
> 
> -Trishank
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From p.dalgaard at biostat.ku.dk  Fri Nov 13 22:48:40 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Fri, 13 Nov 2009 22:48:40 +0100
Subject: [Rd] Bug in R (PR#14064)
In-Reply-To: <20091113155511.B3D70282EFC3@mail.pubhealth.ku.dk>
References: <20091113155511.B3D70282EFC3@mail.pubhealth.ku.dk>
Message-ID: <4AFDD438.7060708@biostat.ku.dk>

Losangelessoul at hotmail.it wrote:
> Full_Name: Luca Maestri
> Version: 2.10.0
> OS: Windows Vista /7
> Submission from: (NULL) (193.204.41.157)
> 
> 
> I don't know if it is really a bug or if it is only a particular case that
> happened during my work: 
> 
> cbind(nameoftheelement[1:10],nameofthelement[1:10])

Please submit REPRODUCIBLE code! We have zero clue what those objects 
might contain.

-pd

> 
> the output is not precise because it isn't in correct line : this was my output
> 
>         [,1] [,2]
>          1    5      <------------ as you can see there is no match beetween
> the
> 01_141   6   12                    line and the output 
> 01_142   13   19
> 01_143   20   26
> 01_144   27   33
> 01_145   34   41
> 01_146   42   50
> 01_147   51   60
> 01_148   61   64
> 01_149   65   72
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From ggrothendieck at gmail.com  Sat Nov 14 00:39:48 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 13 Nov 2009 18:39:48 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <4AFDB33D.5010607@stats.uwo.ca>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu> 
	<4AFDB33D.5010607@stats.uwo.ca>
Message-ID: <971536df0911131539o5d702723u63645580bef5f1f@mail.gmail.com>

Note that one should use inherits = FALSE argument on get and exists
to avoid returning objects from the parent, the parent of the parent,
etc.

On Fri, Nov 13, 2009 at 2:27 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 11/13/2009 2:03 PM, Trishank Karthik Kuppusamy wrote:
>>
>> Greetings everyone,
>>
>> I have a question about the default behaviour of a missing entry in an
>> environment.
>> Let us look at the following sequence of R statements:
>>
>>> e <- new.env()
>>> e$a <- 1
>>> e$a
>>
>> [1] 1
>>>
>>> e$b
>>
>> NULL
>>>
>>
>> I think I understand the logic for returning NULL to a missing entry in an
>> environment,
>> but I do not think that it is fully justified.
>> I am sure that the R developers must have seen this argument before,
>> but I wish to call for attention to this problem again,
>> because I think that it is important to the default safety of the R
>> programming language.
>
> You get the same behaviour when asking for a nonexistent element of a list,
> or a nonexistent attribute. ? If you want stricter checking, don't use $,
> use get():
>
>> get("b", e)
> Error in get("b", e) : object 'b' not found
>
> or check first with exists():
>
>> exists("b", e)
> [1] FALSE
>
>> I suppose that one could argue that a good R programmer must be careful
>> not to use NULL in any of his environment entries,
>> but I think it is better to remove altogether this burden from the
>> programmer
>> and simply raise a good, old-fashioned exception when the "$" operator
>> encounters a missing entry in an environment.
>
> But then it would be inconsistent with what it does in other situations.
>
> Duncan Murdoch
>
>> The biggest advantage is that it will easily eliminate a whole class of
>> programming error.
>> The biggest disadvantage is that it is not backwards-compatible with old R
>> programs.
>>
>> I suppose a personal solution would be to simply redefine the "$" operator
>> in my programs.
>> However, I really do think that the default safety of an R environment
>> matters very much.
>> At the very least, it would be nice to be able to configure the safety of
>> a new environment,
>> perhaps through a parameter.
>>
>> -Trishank
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From murdoch at stats.uwo.ca  Sat Nov 14 01:21:54 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 13 Nov 2009 19:21:54 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <971536df0911131539o5d702723u63645580bef5f1f@mail.gmail.com>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>
	<4AFDB33D.5010607@stats.uwo.ca>
	<971536df0911131539o5d702723u63645580bef5f1f@mail.gmail.com>
Message-ID: <4AFDF822.5050602@stats.uwo.ca>

On 13/11/2009 6:39 PM, Gabor Grothendieck wrote:
> Note that one should use inherits = FALSE argument on get and exists
> to avoid returning objects from the parent, the parent of the parent,
> etc.

I disagree.  Normally you would want to receive those objects.  If you 
didn't, why didn't you set the parent of the environment to emptyenv() 
when you created it?

Duncan Murdoch

> On Fri, Nov 13, 2009 at 2:27 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 11/13/2009 2:03 PM, Trishank Karthik Kuppusamy wrote:
>>> Greetings everyone,
>>>
>>> I have a question about the default behaviour of a missing entry in an
>>> environment.
>>> Let us look at the following sequence of R statements:
>>>
>>>> e <- new.env()
>>>> e$a <- 1
>>>> e$a
>>> [1] 1
>>>> e$b
>>> NULL
>>> I think I understand the logic for returning NULL to a missing entry in an
>>> environment,
>>> but I do not think that it is fully justified.
>>> I am sure that the R developers must have seen this argument before,
>>> but I wish to call for attention to this problem again,
>>> because I think that it is important to the default safety of the R
>>> programming language.
>> You get the same behaviour when asking for a nonexistent element of a list,
>> or a nonexistent attribute.   If you want stricter checking, don't use $,
>> use get():
>>
>>> get("b", e)
>> Error in get("b", e) : object 'b' not found
>>
>> or check first with exists():
>>
>>> exists("b", e)
>> [1] FALSE
>>
>>> I suppose that one could argue that a good R programmer must be careful
>>> not to use NULL in any of his environment entries,
>>> but I think it is better to remove altogether this burden from the
>>> programmer
>>> and simply raise a good, old-fashioned exception when the "$" operator
>>> encounters a missing entry in an environment.
>> But then it would be inconsistent with what it does in other situations.
>>
>> Duncan Murdoch
>>
>>> The biggest advantage is that it will easily eliminate a whole class of
>>> programming error.
>>> The biggest disadvantage is that it is not backwards-compatible with old R
>>> programs.
>>>
>>> I suppose a personal solution would be to simply redefine the "$" operator
>>> in my programs.
>>> However, I really do think that the default safety of an R environment
>>> matters very much.
>>> At the very least, it would be nice to be able to configure the safety of
>>> a new environment,
>>> perhaps through a parameter.
>>>
>>> -Trishank
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>


From ggrothendieck at gmail.com  Sat Nov 14 01:26:44 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 13 Nov 2009 19:26:44 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <4AFDF822.5050602@stats.uwo.ca>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu> 
	<4AFDB33D.5010607@stats.uwo.ca>
	<971536df0911131539o5d702723u63645580bef5f1f@mail.gmail.com> 
	<4AFDF822.5050602@stats.uwo.ca>
Message-ID: <971536df0911131626k21bd7cefk391ad821b42170b6@mail.gmail.com>

On Fri, Nov 13, 2009 at 7:21 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 13/11/2009 6:39 PM, Gabor Grothendieck wrote:
>>
>> Note that one should use inherits = FALSE argument on get and exists
>> to avoid returning objects from the parent, the parent of the parent,
>> etc.
>
> I disagree. ?Normally you would want to receive those objects. ?If you
> didn't, why didn't you set the parent of the environment to emptyenv() when
> you created it?
>

$ does not look into the parent so if you are trying to get those
semantics you must use inherits = FALSE.

> x <- 3
> e <- new.env()
> "x" %in% names(e)
[1] FALSE
> get("x", e) # oops
[1] 3


From murdoch at stats.uwo.ca  Sat Nov 14 01:55:22 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 13 Nov 2009 19:55:22 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <971536df0911131626k21bd7cefk391ad821b42170b6@mail.gmail.com>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>
	<4AFDB33D.5010607@stats.uwo.ca>
	<971536df0911131539o5d702723u63645580bef5f1f@mail.gmail.com>
	<4AFDF822.5050602@stats.uwo.ca>
	<971536df0911131626k21bd7cefk391ad821b42170b6@mail.gmail.com>
Message-ID: <4AFDFFFA.9070306@stats.uwo.ca>

On 13/11/2009 7:26 PM, Gabor Grothendieck wrote:
> On Fri, Nov 13, 2009 at 7:21 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 13/11/2009 6:39 PM, Gabor Grothendieck wrote:
>>> Note that one should use inherits = FALSE argument on get and exists
>>> to avoid returning objects from the parent, the parent of the parent,
>>> etc.
>> I disagree.  Normally you would want to receive those objects.  If you
>> didn't, why didn't you set the parent of the environment to emptyenv() when
>> you created it?
>>
> 
> $ does not look into the parent so if you are trying to get those
> semantics you must use inherits = FALSE.

Whoops, yes.  That's another complaint about $ on environments.

Duncan Murdoch

> 
>> x <- 3
>> e <- new.env()
>> "x" %in% names(e)
> [1] FALSE
>> get("x", e) # oops
> [1] 3


From pburns at pburns.seanet.com  Sat Nov 14 13:02:27 2009
From: pburns at pburns.seanet.com (Patrick Burns)
Date: Sat, 14 Nov 2009 12:02:27 +0000
Subject: [Rd] Wish: more explicit error message with missing argument in c
Message-ID: <4AFE9C53.5040908@pburns.seanet.com>

Consider:

 > c(,2)
Error: argument is missing, with no default

That there is no traceback is unfortunate
but understandable.  If such a mistake were
made like this, there wouldn't be much problem.
But the mistake is likely to be made in more
complicated settings:

 > rbind(c(,2), c(3,4))
Error in rbind(c(, 2), c(3, 4)) : argument is missing, with no default
 > traceback()
1: rbind(c(, 2), c(3, 4))

So naive (and not-so-naive) users will be led
to think the problem is with 'rbind' and not with
'c'.

If the message could be:

Error: argument to 'c' is missing, with no default

Then that would be satisfactory, I think.



Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of "The R Inferno" and "A Guide for the Unwilling S User")


From guillaume.yziquel at citycable.ch  Sat Nov 14 16:45:11 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sat, 14 Nov 2009 16:45:11 +0100
Subject: [Rd] R_tryEval for OCaml-R.
Message-ID: <4AFED087.7090603@citycable.ch>

Hello.

I'm currently working on the OCaml-R binding allowing to call R code 
from Objective Caml.

As Objective Caml is a functional language, I'd like the binding to be 
as 'functional' as possible. Specifically, this means that I'd like 
using the R_tryEval function and all related entry points in libR.so.

I've had a look at R-exts.pdf, but R_tryEval is not documented.

Could someone please point me to relevant documentation, or the relevant 
part of the R source code?

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From edd at debian.org  Sat Nov 14 17:24:28 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 14 Nov 2009 10:24:28 -0600
Subject: [Rd] R_tryEval for OCaml-R.
In-Reply-To: <4AFED087.7090603@citycable.ch>
References: <4AFED087.7090603@citycable.ch>
Message-ID: <19198.55740.785453.541164@ron.nulle.part>


On 14 November 2009 at 16:45, Guillaume Yziquel wrote:
| I'm currently working on the OCaml-R binding allowing to call R code 
| from Objective Caml.
| 
| As Objective Caml is a functional language, I'd like the binding to be 
| as 'functional' as possible. Specifically, this means that I'd like 
| using the R_tryEval function and all related entry points in libR.so.
| 
| I've had a look at R-exts.pdf, but R_tryEval is not documented.
| 
| Could someone please point me to relevant documentation, 

I don't think it is documented as it is not part of the API -- see for
example R's src/main/context.c where you find

   R_tryEval is in Rinternals.h (so public), but not in the API.

That doesn't stop several projects from using it but we know it can break.

| or the relevant part of the R source code?

Besides the usual recursive grep 

   edd at ron:~$ grep -rinl R_tryEval /home/edd/src/debian/R/R-2.10.0/
   /home/edd/src/debian/R/R-2.10.0/ONEWS
   /home/edd/src/debian/R/R-2.10.0/src/library/methods/src/methods_list_dispatch.c
   /home/edd/src/debian/R/R-2.10.0/src/main/main.c
   /home/edd/src/debian/R/R-2.10.0/src/main/context.c
   /home/edd/src/debian/R/R-2.10.0/src/include/Rinternals.h
   /home/edd/src/debian/R/R-2.10.0/tests/Embedding/Rpackage.c
   /home/edd/src/debian/R/R-2.10.0/tests/Embedding/Rshutdown.c
   /home/edd/src/debian/R/R-2.10.0/tests/Embedding/embeddedRCall.c
   /home/edd/src/debian/R/R-2.10.0/tests/Embedding/RParseEval.c
   /home/edd/src/debian/R/R-2.10.0/tests/Embedding/RNamedCall.c
   /home/edd/src/debian/R/R-2.10.0/tests/Embedding/Rerror.c
   /home/edd/src/debian/R/R-2.10.0/tests/Embedding/tryEval.c
   edd at ron:~$

you can always try Google Code Search as in 

   http://www.google.com/codesearch?q=R_tryEval&hl=en&btnG=Search+Code

Hth, Dirk

-- 
Three out of two people have difficulties with fractions.


From romain.francois at dbmail.com  Sat Nov 14 19:03:05 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Sat, 14 Nov 2009 19:03:05 +0100
Subject: [Rd] R_tryEval for OCaml-R.
In-Reply-To: <19198.55740.785453.541164@ron.nulle.part>
References: <4AFED087.7090603@citycable.ch>
	<19198.55740.785453.541164@ron.nulle.part>
Message-ID: <4AFEF0D9.4040204@dbmail.com>

You can also see it in action in jri (in the Rengine.c file). 
http://www.rforge.net/JRI/

Romain

On 11/14/2009 05:24 PM, Dirk Eddelbuettel wrote:
>
>
> On 14 November 2009 at 16:45, Guillaume Yziquel wrote:
> | I'm currently working on the OCaml-R binding allowing to call R code
> | from Objective Caml.
> |
> | As Objective Caml is a functional language, I'd like the binding to be
> | as 'functional' as possible. Specifically, this means that I'd like
> | using the R_tryEval function and all related entry points in libR.so.
> |
> | I've had a look at R-exts.pdf, but R_tryEval is not documented.
> |
> | Could someone please point me to relevant documentation,
>
> I don't think it is documented as it is not part of the API -- see for
> example R's src/main/context.c where you find
>
>     R_tryEval is in Rinternals.h (so public), but not in the API.
>
> That doesn't stop several projects from using it but we know it can break.
>
> | or the relevant part of the R source code?
>
> Besides the usual recursive grep
>
>     edd at ron:~$ grep -rinl R_tryEval /home/edd/src/debian/R/R-2.10.0/
>     /home/edd/src/debian/R/R-2.10.0/ONEWS
>     /home/edd/src/debian/R/R-2.10.0/src/library/methods/src/methods_list_dispatch.c
>     /home/edd/src/debian/R/R-2.10.0/src/main/main.c
>     /home/edd/src/debian/R/R-2.10.0/src/main/context.c
>     /home/edd/src/debian/R/R-2.10.0/src/include/Rinternals.h
>     /home/edd/src/debian/R/R-2.10.0/tests/Embedding/Rpackage.c
>     /home/edd/src/debian/R/R-2.10.0/tests/Embedding/Rshutdown.c
>     /home/edd/src/debian/R/R-2.10.0/tests/Embedding/embeddedRCall.c
>     /home/edd/src/debian/R/R-2.10.0/tests/Embedding/RParseEval.c
>     /home/edd/src/debian/R/R-2.10.0/tests/Embedding/RNamedCall.c
>     /home/edd/src/debian/R/R-2.10.0/tests/Embedding/Rerror.c
>     /home/edd/src/debian/R/R-2.10.0/tests/Embedding/tryEval.c
>     edd at ron:~$
>
> you can always try Google Code Search as in
>
>     http://www.google.com/codesearch?q=R_tryEval&hl=en&btnG=Search+Code
>
> Hth, Dirk
>


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/EAD5 : LondonR slides
|- http://tr.im/BcPw : celebrating R commit #50000
`- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc


From guillaume.yziquel at citycable.ch  Sat Nov 14 23:37:55 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sat, 14 Nov 2009 23:37:55 +0100
Subject: [Rd] R_tryEval for OCaml-R.
In-Reply-To: <4AFEF0D9.4040204@dbmail.com>
References: <4AFED087.7090603@citycable.ch>
	<19198.55740.785453.541164@ron.nulle.part>
	<4AFEF0D9.4040204@dbmail.com>
Message-ID: <4AFF3143.7010200@citycable.ch>

Romain Francois a ?crit :
> You can also see it in action in jri (in the Rengine.c file). 
> http://www.rforge.net/JRI/
> 
> Romain

Thanks. I'll have a look.

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From guillaume.yziquel at citycable.ch  Sat Nov 14 23:52:03 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sat, 14 Nov 2009 23:52:03 +0100
Subject: [Rd] R_tryEval for OCaml-R.
In-Reply-To: <19198.55740.785453.541164@ron.nulle.part>
References: <4AFED087.7090603@citycable.ch>
	<19198.55740.785453.541164@ron.nulle.part>
Message-ID: <4AFF3493.1080609@citycable.ch>

Dirk Eddelbuettel a ?crit :
> On 14 November 2009 at 16:45, Guillaume Yziquel wrote:
> 
> | I've had a look at R-exts.pdf, but R_tryEval is not documented.
> | 
> | Could someone please point me to relevant documentation, 
> 
> I don't think it is documented as it is not part of the API -- see for
> example R's src/main/context.c where you find
> 
>    R_tryEval is in Rinternals.h (so public), but not in the API.

Thanks for your help, Dirk and Romain.

I've gathered that 'eval' and R_tryEval are roughly equivalent, except 
that R_tryEval has error checking mechanisms. Please correct me if I'm 
wrong.

Here's the code I've been writing:

> yziquel at seldon:~/sandbox/ocaml-r/src$ grep -A 16 r_eval_sexp_list r_base.c 
> CAMLprim value r_eval_sexp_list (value sexp_list) {
>   CAMLparam1(sexp_list);
> 
>   SEXP sexp2eval = (SEXP) Long_val(Field(sexp_list,0));
>   SEXP e;
>   int error = 0;
> 
>   /* Should this be wrapped with a PROTECT() and
>      an UNPROTECT(1)? */
>   e = R_tryEval(sexp2eval, R_GlobalEnv, &error);
> 
>   if (error) {caml_failwith(
>     "OCaml-R error in eval_sexp_list C stub."
>   );};
> 
>   CAMLreturn(Val_sexp(e));
> }
> yziquel at seldon:~/sandbox/ocaml-r/src$ 

Can be found over there:

http://svn.gna.org/viewcvs/ocaml-r/trunk/src/r_base.c?rev=45&view=markup

It seems to me that I should be wrapping the call to R_tryEval with a 
PROTECT(). Not too sure where to put the UNPROTECT(1) for now.

I've however been looking more closely at

http://cran.r-project.org/doc/manuals/R-exts.html#Evaluating-R-expressions-from-C

and more specifically at the function lapply2 and the piece of code just 
afterwards, from src/main/print.c. I'm therefore wondering what should 
the first argument of the LISTSXP be. In lapply2, it seems that it's an 
R function per se, whereas in the code from src/main/print.c, it seems 
that it's more a symbol.

There's very probably something obvious that I do not yet get.

What I'd like, is my r_eval_sexp_list to be pure SEXPs. Not symbols. I 
want to transparently move SEXPs from R to OCaml, and backwards. So 
ideally, the first element of the LISTSXP would be a function and 
nothing else.

So my question: what exactly is the first element of the LISTSXP 
supposed to be?

Please tell me if I'm going offtrack here.

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From dutangc at gmail.com  Sun Nov 15 09:44:43 2009
From: dutangc at gmail.com (Christophe Dutang)
Date: Sun, 15 Nov 2009 09:44:43 +0100
Subject: [Rd] Fwd: AR(2) modelling
References: <9D959877-C897-4301-AE52-1A8B4E292822@gmail.com>
Message-ID: <9078B936-1E5B-44A2-9C1C-0762F054E708@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091115/4f620d4b/attachment.pl>

From murdoch at stats.uwo.ca  Sun Nov 15 13:21:31 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 15 Nov 2009 07:21:31 -0500
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start()
 page
In-Reply-To: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com>
References: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com>
Message-ID: <4AFFF24B.2080705@stats.uwo.ca>

On 13/11/2009 3:37 AM, Henrik Bengtsson wrote:
> Hi,
> 
> right now it is actually a bit tricky to locate and view the NEWS and
> the CHANGES files, especially if you are a beginning and don't even
> know that you are supposed to look for them.
> 
> I'd like to recommend that links to (local) NEWS and CHANGES are added
> to the help.start() overview pages.  help("NEWS")/help("CHANGE LOG")
> and help("CHANGES") could display/refer to them as well.
> 

I've done this now in R-devel.

(I thought I'd written about this yesterday, but I don't see my post, so 
maybe it never made it out.  If it did, the text below may be a repeat.)

It would look better if the files were translated into HTML.  Anyone 
want to write a news2HTML function?

I haven't done any of the package-specific suggestions yet; they're 
slightly trickier because packages are inconsistent in how they present 
news.  For those, I think we should use the news() function, but it 
requires the news2HTML translation to give nice looking output.

Duncan Murdoch


From joehl at web.de  Sun Nov 15 15:35:12 2009
From: joehl at web.de (joehl at web.de)
Date: Sun, 15 Nov 2009 15:35:12 +0100 (CET)
Subject: [Rd] file.rename overwrites existing target (PR#14065)
Message-ID: <20091115143512.B31ED2830314@mail.pubhealth.ku.dk>

Full_Name: Jens Oehlschl?gel
Version: 2.10.0
OS: Windows XP Professional
Submission from: (NULL) (85.181.158.112)


file.rename() will successfully rename file a to b - even if b exists already. 
Though the documentation does not state what file.rename() will do in this
case,
I guess the expected behaviour is to fail and return FALSE.

Kind regards

Jens Oehlschl?gel

> cat("a\n", file="a.txt")
> cat("b\n", file="b.txt")
> file.rename("a.txt","b.txt")
[1] TRUE
> readLines("b.txt")
[1] "a"
> version
               _                            
platform       i386-pc-mingw32              
arch           i386                         
os             mingw32                      
system         i386, mingw32                
status                                      
major          2                            
minor          10.0                         
year           2009                         
month          10                           
day            26                           
svn rev        50208                        
language       R                            
version.string R version 2.10.0 (2009-10-26)


From jari.oksanen at oulu.fi  Sun Nov 15 15:58:43 2009
From: jari.oksanen at oulu.fi (Jari Oksanen)
Date: Sun, 15 Nov 2009 16:58:43 +0200
Subject: [Rd] file.rename overwrites existing target (PR#14065)
In-Reply-To: <20091115143512.B31ED2830314@mail.pubhealth.ku.dk>
Message-ID: <C725E3C3.8B9F%jari.oksanen@oulu.fi>

On 15/11/09 16:35 PM, "joehl at web.de" <joehl at web.de> wrote:

> Full_Name: Jens Oehlschl?gel
> Version: 2.10.0
> OS: Windows XP Professional
> Submission from: (NULL) (85.181.158.112)
> 
> 
> file.rename() will successfully rename file a to b - even if b exists already.
> Though the documentation does not state what file.rename() will do in this
> case,
> I guess the expected behaviour is to fail and return FALSE.

The *expected* behaviour is to overwrite the old file. Your expectation
seems to be different, but overwriting or deleting the old file has been the
behaviour for ever (= since 1970s). This is how MacOS defines the behaviour
of the system command 'rename':

RENAME(2)                   BSD System Calls Manual

NAME
     rename -- change the name of a file
...
DESCRIPTION
     The rename() system call causes the link named old to be renamed as
new.
     If new exists, it is first removed.

The behaviour is the same in all posixy systems. Sebsinble systems like R
follow the documented standard behaviour.

Why would you expect that 'file.rename' fails if the 'new' file exists?

The unix command 'mv' (move) that does the 'rename' has a switch to overturn
the standard 'rename' system call, and prompt for the removal of the 'new'
file. However, this switch is usually not the default in unixy systems,
unless defined so in the shell start up script of the user.

Cheers, Jari Oksanen


From dutangc at gmail.com  Sun Nov 15 16:06:24 2009
From: dutangc at gmail.com (Christophe Dutang)
Date: Sun, 15 Nov 2009 16:06:24 +0100
Subject: [Rd] Fwd: AR(2) modelling
In-Reply-To: <alpine.OSX.1.00.0911151103230.36843@tystie.local>
References: <9D959877-C897-4301-AE52-1A8B4E292822@gmail.com>
	<9078B936-1E5B-44A2-9C1C-0762F054E708@gmail.com>
	<alpine.OSX.1.00.0911151103230.36843@tystie.local>
Message-ID: <882952CD-BFBF-45F1-B199-FB67F0DDD2EA@gmail.com>

As you are sure of the accuracy of your code, why don't you tell me  
where is my mistake?

Le 15 nov. 2009 ? 12:03, Prof Brian Ripley a ?crit :

>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Christophe Dutang
Ph.D. student at ISFA, Lyon, France
website: http://dutangc.free.fr


From ggrothendieck at gmail.com  Sun Nov 15 16:09:52 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 15 Nov 2009 10:09:52 -0500
Subject: [Rd] file.rename overwrites existing target (PR#14065)
In-Reply-To: <C725E3C3.8B9F%jari.oksanen@oulu.fi>
References: <20091115143512.B31ED2830314@mail.pubhealth.ku.dk> 
	<C725E3C3.8B9F%jari.oksanen@oulu.fi>
Message-ID: <971536df0911150709n6cd3a8d8x2ca5252c9d65b79@mail.gmail.com>

On Sun, Nov 15, 2009 at 9:58 AM, Jari Oksanen <jari.oksanen at oulu.fi> wrote:
> On 15/11/09 16:35 PM, "joehl at web.de" <joehl at web.de> wrote:
>
>> Full_Name: Jens Oehlschl?gel
>> Version: 2.10.0
>> OS: Windows XP Professional
>> Submission from: (NULL) (85.181.158.112)
>>
>>
>> file.rename() will successfully rename file a to b - even if b exists already.
>> Though the documentation does not state what file.rename() will do in this
>> case,
>> I guess the expected behaviour is to fail and return FALSE.
>
> The *expected* behaviour is to overwrite the old file. Your expectation
> seems to be different, but overwriting or deleting the old file has been the

On UNIX the expected behavior would be to overwrite but on Windows the
rename command does not overwrite silently but fails so I think his
expectation is in line with how Windows works at the command line
level.  It might be worthwhile to have an overwrite= argument on
file.rename to control this.  If it defaulted to TRUE then the
expectation would be clear regardless of platform.


From ripley at stats.ox.ac.uk  Sun Nov 15 18:07:22 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 15 Nov 2009 17:07:22 +0000 (GMT)
Subject: [Rd] Fwd: AR(2) modelling
In-Reply-To: <882952CD-BFBF-45F1-B199-FB67F0DDD2EA@gmail.com>
References: <9D959877-C897-4301-AE52-1A8B4E292822@gmail.com>
	<9078B936-1E5B-44A2-9C1C-0762F054E708@gmail.com>
	<alpine.OSX.1.00.0911151103230.36843@tystie.local>
	<882952CD-BFBF-45F1-B199-FB67F0DDD2EA@gmail.com>
Message-ID: <alpine.OSX.1.00.0911151701510.66710@tystie.local>

On Sun, 15 Nov 2009, Christophe Dutang wrote:

> As you are sure of the accuracy of your code, why don't you tell me where is 
> my mistake?

Because your supervisor is paid to do that.

> Le 15 nov. 2009 ? 12:03, Prof Brian Ripley a ?crit :
>
>> 
>> 
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> --
> Christophe Dutang
> Ph.D. student at ISFA, Lyon, France
> website: http://dutangc.free.fr
>
>
>
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ggrothendieck at gmail.com  Sun Nov 15 18:13:30 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 15 Nov 2009 12:13:30 -0500
Subject: [Rd] Fwd: AR(2) modelling
In-Reply-To: <882952CD-BFBF-45F1-B199-FB67F0DDD2EA@gmail.com>
References: <9D959877-C897-4301-AE52-1A8B4E292822@gmail.com> 
	<9078B936-1E5B-44A2-9C1C-0762F054E708@gmail.com>
	<alpine.OSX.1.00.0911151103230.36843@tystie.local> 
	<882952CD-BFBF-45F1-B199-FB67F0DDD2EA@gmail.com>
Message-ID: <971536df0911150913g342b60bfk1645cb24dce31d69@mail.gmail.com>

Try this:

debug(stats:::ar.yw.default)

and then run the ar function to step through the ar code so you can
see the results line by line and understand what it is doing at a very
detailed level.

On Sun, Nov 15, 2009 at 10:06 AM, Christophe Dutang <dutangc at gmail.com> wrote:
> As you are sure of the accuracy of your code, why don't you tell me where is
> my mistake?
>
> Le 15 nov. 2009 ? 12:03, Prof Brian Ripley a ?crit :
>
>>
>>
>> --
>> Brian D. Ripley, ? ? ? ? ? ? ? ? ?ripley at stats.ox.ac.uk
>> Professor of Applied Statistics, ?http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford, ? ? ? ? ? ? Tel: ?+44 1865 272861 (self)
>> 1 South Parks Road, ? ? ? ? ? ? ? ? ? ? +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK ? ? ? ? ? ? ? ?Fax: ?+44 1865 272595
>
> --
> Christophe Dutang
> Ph.D. student at ISFA, Lyon, France
> website: http://dutangc.free.fr
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From dutangc at gmail.com  Sun Nov 15 19:00:23 2009
From: dutangc at gmail.com (Christophe Dutang)
Date: Sun, 15 Nov 2009 19:00:23 +0100
Subject: [Rd] Fwd: AR(2) modelling
In-Reply-To: <971536df0911150913g342b60bfk1645cb24dce31d69@mail.gmail.com>
References: <9D959877-C897-4301-AE52-1A8B4E292822@gmail.com>
	<9078B936-1E5B-44A2-9C1C-0762F054E708@gmail.com>
	<alpine.OSX.1.00.0911151103230.36843@tystie.local>
	<882952CD-BFBF-45F1-B199-FB67F0DDD2EA@gmail.com>
	<971536df0911150913g342b60bfk1645cb24dce31d69@mail.gmail.com>
Message-ID: <FBF3F315-41B0-45AE-A6EE-01F67477B3C5@gmail.com>

Thanks Gabor,

My mistake was I used the 'cor' function rather than the function  
'acf' with "correlation" argument.

Christophe

Le 15 nov. 2009 ? 18:13, Gabor Grothendieck a ?crit :

> Try this:
>
> debug(stats:::ar.yw.default)
>
> and then run the ar function to step through the ar code so you can
> see the results line by line and understand what it is doing at a very
> detailed level.
>
> On Sun, Nov 15, 2009 at 10:06 AM, Christophe Dutang  
> <dutangc at gmail.com> wrote:
>> As you are sure of the accuracy of your code, why don't you tell me  
>> where is
>> my mistake?
>>
>> Le 15 nov. 2009 ? 12:03, Prof Brian Ripley a ?crit :
>>
>>>
>>>
>>> --
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>> --
>> Christophe Dutang
>> Ph.D. student at ISFA, Lyon, France
>> website: http://dutangc.free.fr
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>

--
Christophe Dutang
Ph.D. student at ISFA, Lyon, France
website: http://dutangc.free.fr


From stephen.juggins at newcastle.ac.uk  Sun Nov 15 19:28:12 2009
From: stephen.juggins at newcastle.ac.uk (Stephen Juggins)
Date: Sun, 15 Nov 2009 18:28:12 +0000
Subject: [Rd] Problem building package for R 2.10.0 on Mac OS X
Message-ID: <467931F038D8AC4F85B4CB76256781E1132717AC68@EXSAN03.campus.ncl.ac.uk>

Hi

I have submitted a package (rioja) to CRAN.  It checks OK for all R versions and OS's except r-release-macosx-ix86 where it fails when checking the examples. Specifically, it fails because R can't find the package vegan which is needed in a function. Here is the snippet from the check results:

### Begin snippet

checking examples ... ERROR
Running examples in 'rioja-Ex.R' failed.
The error most likely occurred in:

> ### * chclust
>
> flush(stderr()); flush(stdout())
>
> ### Name: chclust
> ### Title: Constrained hierarchical clustering
> ### Aliases: chclust plot.chclust bstick.chclust
> ### Keywords: cluster hplot
>
> ### ** Examples
>
> data(RLGH)
> diss <- dist(sqrt(RLGH$spec/100)^2)
> clust <- chclust(diss)
> bstick.chclust(clust, 10)
Loading required package: vegan
Warning in library(package, lib.loc = lib.loc, character.only = TRUE, logical.return = TRUE, :
there is no package called 'vegan'
Error in bstick.chclust(clust, 10) : could not find function "bstick"
Execution halted

### End snippet

The function bstick.chclust listed below loads the package vegan which contains bstick.default.

bstick.chclust <- function(n, ng=10, plot=TRUE, ...) {
   if (n$method != "coniss")
      stop("bstick cannot display conslink results")
   require(vegan)
   disp <- rev(n$height)
   tot.disp <- disp[1]
   disp <- abs(diff(disp))
   nobj <- length(n$height)
   bs <- bstick(nobj, tot.disp)
   yR <- range(disp[1:(ng-1)], bs[1:(ng-1)])
   if (plot) {
      plot(2:ng, disp[1:(ng-1)], type="o", ylim=yR, ylab="Sum of Squares", xlab = "Number of groups")
      lines(2:ng, bs[1:(ng-1)], col="red", type="o")
   }
   invisible(data.frame(nGroups = 2:(ng), dispersion=disp[1:(ng-1)], bstick = bs[1:(ng-1)]))
}

vegan is included as a Suggests in the DESCRIPTION file and the package checks OK on r-oldrel-macosx-ix86.  It also checks OK with R 2.10.0 on OS X on my own Mac.  My code could be improved and I should probably trap the warning issued by require, but I don't understand why vegan is not loading when checking on CRAN.  Any help will be gratefully received!

Many thanks, Steve

Steve Juggins
School of Geography, Politics & Sociology
Newcastle University   Tel: +44 (0)191 222 8799
Newcastle upon Tyne    Fax: +44 (0)191 222 5421
NE1 7RU, UK            Mobile:   +44 (0)7740054905
http://www.staff.ncl.ac.uk/staff/stephen.juggins/


From nabble.30.miller_2555 at spamgourmet.com  Sun Nov 15 19:41:49 2009
From: nabble.30.miller_2555 at spamgourmet.com (nabble.30.miller_2555 at spamgourmet.com)
Date: Sun, 15 Nov 2009 13:41:49 -0500
Subject: [Rd] Segmentation faults on SEXP conversion
Message-ID: <1dd941090911151041q58de5995y281885f7afcdc48c@mail.gmail.com>

Hello -

I am making a first attempt at writing a simple C++ routine to print
out R objects (this is a simple proof-of-concept as part of a larger
package development). The relevant C++ routine is as follows:

void Rwrite(SEXP fd, SEXP msg) {
  int *ofd = INTEGER(fd);
  const char * omsg = CHAR(asChar(msg));
  printf("[%i] %s",*ofd,omsg);
}

And the corresponding interface in R is as follows:

ptest <- function()
  {
    cfd <- as.integer(2);
    cmsg <- as.character("Hi");
    storage.mode(cfd) <- "integer";
    storage.mode(cmsg) <- "character";
    .Call("Rwrite",
          fd=cfd,
          msg=cmsg,
          PACKAGE="forkex"
       );
  }

Upon running the above code as a call to `ptest()`, I receive a
segmentation fault. Building the package as `R CMD check
--use-valgrind ...` provides the following memcheck output:

> ptest();
==12591== Invalid read of size 1
==12591==    at 0x4D04209: SET_SYMVALUE (in /usr/lib64/R/lib/libR.so)
==12591==    by 0x4D01E51: Rf_ReplIteration (in /usr/lib64/R/lib/libR.so)
==12591==    by 0x4D020B7: (within /usr/lib64/R/lib/libR.so)
==12591==    by 0x4D027CF: run_Rmainloop (in /usr/lib64/R/lib/libR.so)
==12591==    by 0x40083A: main (in /usr/lib64/R/bin/exec/R)
==12591==  Address 0x9 is not stack'd, malloc'd or (recently) free'd
[2] Hi
 *** caught segfault ***
address 0x9, cause 'memory not mapped'
aborting ...
==12591==
==12591== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 18 from 1)
==12591== malloc/free: in use at exit: 22,564,238 bytes in 10,614 blocks.
==12591== malloc/free: 29,096 allocs, 18,482 frees, 44,702,479 bytes allocated.
==12591== For counts of detected errors, rerun with: -v
==12591== searching for pointers to 10,614 not-freed blocks.
==12591== checked 19,665,464 bytes.
==12591==
==12591== LEAK SUMMARY:
==12591==    definitely lost: 0 bytes in 0 blocks.
==12591==      possibly lost: 0 bytes in 0 blocks.
==12591==    still reachable: 22,564,238 bytes in 10,614 blocks.
==12591==         suppressed: 0 bytes in 0 blocks.
==12591== Rerun with --leak-check=full to see details of leaked memory.

The same segmentation fault occurs whether I try passing either the
`int` or `character` or both (as in the above). I have not tried other
types. However, I have attempted various type conversions in the
Rdefines.h header, but cannot avoid the segmentation fault. This is
the only code in the proof-of-concept pacakage (aside from useDynLoad
related registration structures and the R_init_??? call).

I have a feeling it is something simple, but I am not well versed in R
package development at this point. Please let me know if other
information is helpful.

I am running Linux 2.6.27.30-170.2.82.fc10.x86_64 with R 2.10.0.

Thanks!


From ripley at stats.ox.ac.uk  Sun Nov 15 20:43:04 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 15 Nov 2009 19:43:04 +0000 (GMT)
Subject: [Rd] (PR#13999) Extreme values of non-central chisq (was
 Accuracy)
In-Reply-To: <20091011114510.165AF282EF29@mail.pubhealth.ku.dk>
References: <20091011114510.165AF282EF29@mail.pubhealth.ku.dk>
Message-ID: <alpine.OSX.1.00.0911151920150.84109@tystie.local>

You crossed the value ncp = 80: the help page warned you of 
cancellation there, and at p = 1 - 1e-12, that is what you got 
(badly).

On Sun, 11 Oct 2009, witkovsky at savba.sk wrote:

> Full_Name: Viktor Witkovsky
> Version: 2.9.2
> OS: Windows XP
> Submission from: (NULL) (78.98.89.227)
>
>
> Hello,
>
> I have found strange behavior of the function qchisq (the non-central qchisq is
> based on inversion of pchisq, which is further based on pgamma). The function
> gives wrong results without any warning. For example:
>
> qchisq(1e-12,1,8.94^2,lower.tail=FALSE) gives 255.1840972465858 (notice that
> here the correct value should be 255.1841334848075),
> but
> qchisq(1e-12,1,8.95^2,lower.tail=FALSE) gives 1249.681320136836
> Here, the correct value should be 255.5037231613135.
>
> So, it seems that qchisq is inaccurate for small probability values and larger
> non/centrality parameter.

Actually, for probability values near 1, and it does say so in the 
documentation.  But see

> qchisq(1e-12, 1, 81, lower.tail=FALSE)
[1] 1258.412
> qchisq(1-1e-12, 1, 81)
[1] 257.1488

which I suggest gives you a workaround -- we'll look into giving a 
warning from the code.

>
> I am using the precompiled binary version of R, under Windows XP.
>
>               _
> platform       i386-pc-mingw32
> arch           i386
> os             mingw32
> system         i386, mingw32
> status
> major          2
> minor          9.2
> year           2009
> month          08
> day            24
> svn rev        49384
> language       R
> version.string R version 2.9.2 (2009-08-24)
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch at stats.uwo.ca  Sun Nov 15 20:52:18 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 15 Nov 2009 14:52:18 -0500
Subject: [Rd] Segmentation faults on SEXP conversion
In-Reply-To: <1dd941090911151041q58de5995y281885f7afcdc48c@mail.gmail.com>
References: <1dd941090911151041q58de5995y281885f7afcdc48c@mail.gmail.com>
Message-ID: <4B005BF2.4030001@stats.uwo.ca>

On 15/11/2009 1:41 PM, nabble.30.miller_2555 at spamgourmet.com wrote:
> Hello -
> 
> I am making a first attempt at writing a simple C++ routine to print
> out R objects (this is a simple proof-of-concept as part of a larger
> package development). The relevant C++ routine is as follows:
> 
> void Rwrite(SEXP fd, SEXP msg) {
>   int *ofd = INTEGER(fd);
>   const char * omsg = CHAR(asChar(msg));

The "character" type in R corresponds to STRSXP in C, which is a vector 
of CHARSXPs.  So you need an extra step to get to the C string:

const char * omsg = CHAR(STRING_ELT(msg, 0));

Duncan Murdoch


>   printf("[%i] %s",*ofd,omsg);
> }
> 
> And the corresponding interface in R is as follows:
> 
> ptest <- function()
>   {
>     cfd <- as.integer(2);
>     cmsg <- as.character("Hi");
>     storage.mode(cfd) <- "integer";
>     storage.mode(cmsg) <- "character";
>     .Call("Rwrite",
>           fd=cfd,
>           msg=cmsg,
>           PACKAGE="forkex"
>        );
>   }
> 
> Upon running the above code as a call to `ptest()`, I receive a
> segmentation fault. Building the package as `R CMD check
> --use-valgrind ...` provides the following memcheck output:
> 
>> ptest();
> ==12591== Invalid read of size 1
> ==12591==    at 0x4D04209: SET_SYMVALUE (in /usr/lib64/R/lib/libR.so)
> ==12591==    by 0x4D01E51: Rf_ReplIteration (in /usr/lib64/R/lib/libR.so)
> ==12591==    by 0x4D020B7: (within /usr/lib64/R/lib/libR.so)
> ==12591==    by 0x4D027CF: run_Rmainloop (in /usr/lib64/R/lib/libR.so)
> ==12591==    by 0x40083A: main (in /usr/lib64/R/bin/exec/R)
> ==12591==  Address 0x9 is not stack'd, malloc'd or (recently) free'd
> [2] Hi
>  *** caught segfault ***
> address 0x9, cause 'memory not mapped'
> aborting ...
> ==12591==
> ==12591== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 18 from 1)
> ==12591== malloc/free: in use at exit: 22,564,238 bytes in 10,614 blocks.
> ==12591== malloc/free: 29,096 allocs, 18,482 frees, 44,702,479 bytes allocated.
> ==12591== For counts of detected errors, rerun with: -v
> ==12591== searching for pointers to 10,614 not-freed blocks.
> ==12591== checked 19,665,464 bytes.
> ==12591==
> ==12591== LEAK SUMMARY:
> ==12591==    definitely lost: 0 bytes in 0 blocks.
> ==12591==      possibly lost: 0 bytes in 0 blocks.
> ==12591==    still reachable: 22,564,238 bytes in 10,614 blocks.
> ==12591==         suppressed: 0 bytes in 0 blocks.
> ==12591== Rerun with --leak-check=full to see details of leaked memory.
> 
> The same segmentation fault occurs whether I try passing either the
> `int` or `character` or both (as in the above). I have not tried other
> types. However, I have attempted various type conversions in the
> Rdefines.h header, but cannot avoid the segmentation fault. This is
> the only code in the proof-of-concept pacakage (aside from useDynLoad
> related registration structures and the R_init_??? call).
> 
> I have a feeling it is something simple, but I am not well versed in R
> package development at this point. Please let me know if other
> information is helpful.
> 
> I am running Linux 2.6.27.30-170.2.82.fc10.x86_64 with R 2.10.0.
> 
> Thanks!
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Sun Nov 15 21:04:32 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 15 Nov 2009 20:04:32 +0000 (GMT)
Subject: [Rd] Problem building package for R 2.10.0 on Mac OS X
In-Reply-To: <467931F038D8AC4F85B4CB76256781E1132717AC68@EXSAN03.campus.ncl.ac.uk>
References: <467931F038D8AC4F85B4CB76256781E1132717AC68@EXSAN03.campus.ncl.ac.uk>
Message-ID: <alpine.OSX.1.00.0911151846230.80685@tystie.local>

Please ask such questions on R-sig-mac, or directly to the Mac package 
builder (Simon Urbanek).

As you will see from

http://cran.r-project.org/web/checks/check_summary.html

at least 150 packages are in the same boat (not building because 
dependencies are missing), so something has gone wrong on the build 
machine.  There seem to be results for 'vegan', but they are for a 
pre-release (2.10.0 alpha), not the released version.

Perhaps related, there have been no R-patched builds on 
r.research.att.com for 'leopard' (the main R build for R 2.10.0) since 
Nov 4.

Simon has been travelling, and will no doubt get to this when he has 
time.  Meanwhile, Mac users can fairly easily build packages from the 
sources (provided they have installed Xcode), so this is not something 
to fret about.

One point specific to Mac is that the distributed packages are 
tri-architecture (i386, x86_64, ppc) and so need to work on all three 
archs to get distributed (at least in principle).  There have been 
quite a few packages (including earlier versions of yours) that failed 
on 64-bit platforms.

On Sun, 15 Nov 2009, Stephen Juggins wrote:

> Hi
>
> I have submitted a package (rioja) to CRAN.  It checks OK for all R versions and OS's except r-release-macosx-ix86 where it fails when checking the examples. Specifically, it fails because R can't find the package vegan which is needed in a function. Here is the snippet from the check results:
>
> ### Begin snippet
>
> checking examples ... ERROR
> Running examples in 'rioja-Ex.R' failed.
> The error most likely occurred in:
>
>> ### * chclust
>>
>> flush(stderr()); flush(stdout())
>>
>> ### Name: chclust
>> ### Title: Constrained hierarchical clustering
>> ### Aliases: chclust plot.chclust bstick.chclust
>> ### Keywords: cluster hplot
>>
>> ### ** Examples
>>
>> data(RLGH)
>> diss <- dist(sqrt(RLGH$spec/100)^2)
>> clust <- chclust(diss)
>> bstick.chclust(clust, 10)
> Loading required package: vegan
> Warning in library(package, lib.loc = lib.loc, character.only = TRUE, logical.return = TRUE, :
> there is no package called 'vegan'
> Error in bstick.chclust(clust, 10) : could not find function "bstick"
> Execution halted
>
> ### End snippet
>
> The function bstick.chclust listed below loads the package vegan which contains bstick.default.
>
> bstick.chclust <- function(n, ng=10, plot=TRUE, ...) {
>   if (n$method != "coniss")
>      stop("bstick cannot display conslink results")
>   require(vegan)
>   disp <- rev(n$height)
>   tot.disp <- disp[1]
>   disp <- abs(diff(disp))
>   nobj <- length(n$height)
>   bs <- bstick(nobj, tot.disp)
>   yR <- range(disp[1:(ng-1)], bs[1:(ng-1)])
>   if (plot) {
>      plot(2:ng, disp[1:(ng-1)], type="o", ylim=yR, ylab="Sum of Squares", xlab = "Number of groups")
>      lines(2:ng, bs[1:(ng-1)], col="red", type="o")
>   }
>   invisible(data.frame(nGroups = 2:(ng), dispersion=disp[1:(ng-1)], bstick = bs[1:(ng-1)]))
> }
>
> vegan is included as a Suggests in the DESCRIPTION file and the 
> package checks OK on r-oldrel-macosx-ix86.  It also checks OK with R 
> 2.10.0 on OS X on my own Mac.  My code could be improved and I 
> should probably trap the warning issued by require, but I don't 
> understand why vegan is not loading when checking on CRAN.  Any help 
> will be gratefully received!
>
> Many thanks, Steve
>
> Steve Juggins
> School of Geography, Politics & Sociology
> Newcastle University   Tel: +44 (0)191 222 8799
> Newcastle upon Tyne    Fax: +44 (0)191 222 5421
> NE1 7RU, UK            Mobile:   +44 (0)7740054905
> http://www.staff.ncl.ac.uk/staff/stephen.juggins/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From joehl at web.de  Mon Nov 16 00:15:09 2009
From: joehl at web.de (=?iso-8859-15?Q?Jens_Oehlschl=E4gel?=)
Date: Mon, 16 Nov 2009 00:15:09 +0100
Subject: [Rd] file.rename overwrites existing target (PR#14065)
Message-ID: <1417789480@web.de>

Thanks,

An overwrite flag would be great. Would make it cristal clear what the expected behaviour is. Agree that unix behaviour should in case of doubt have priority - in this case: documentation would help windows users.

Regards


Jens


From guillaume.yziquel at citycable.ch  Mon Nov 16 01:47:41 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Mon, 16 Nov 2009 01:47:41 +0100
Subject: [Rd] OCaml-R and xts works!
Message-ID: <4B00A12D.3030107@citycable.ch>

Hi.

I've managed to make a *very* simple wrapper around the xts library for 
R into OCaml. (Need to be downloaded from CRAN for OCaml users, but I 
expect other wrapping to be fairly similar...). The good, good, good 
thing (from my humble point of view) is that all loading is done 
statically: Loading the R interpreter is done statically. Loading the 
xts library is done statically... etc...

See below.

Hopefully, one may one day consider R to be a statically-typed, 
type-inferred, compiled, statistical language, with Lwt-style 
multithreading.

:)

> yziquel at seldon:~/git/ocamlr-xts$ ocamlbuild xts.cmo
> Finished, 1 target (0 cached) in 00:00:00.
> + ocamlfind ocamlc -c -package R.interpreter -o xts.cmo xts.ml
> File "xts.ml", line 37, characters 4-9:
> Warning P: this pattern-matching is not exhaustive.
> Here is an example of a value that is not matched:
> []
> Finished, 2 targets (0 cached) in 00:00:00.
> yziquel at seldon:~/git/ocamlr-xts$ cd _build/; ocaml-batteries
>         Objective Caml version 3.11.1
> 
>       _________________________________
>      |       | |                       |
>     [| +     | | Batteries Included  - |
>      |_______|_|_______________________|
>       _________________________________
>      |                       | |       |
>      | -    Type '#help;;'   | |     + |]
>      |_______________________|_|_______|
> 
> 
> # #require "R.interpreter";;

R interpreter statically loaded.

> # #load "xts.cmo";;

xts library statically loaded.

> Le chargement a n?cessit? le package : xts
> Le chargement a n?cessit? le package : zoo
> 
> Attachement du package : 'zoo'
> 
> 
> 	The following object(s) are masked from package:base :
> 
> 	 as.Date.numeric 
> 
> xts now requires a valid TZ variable to be set
>  no TZ var is set, setting to TZ=GMT

Printing stuff at "compile-time"... That's ugly, I know...

> # R.sexptype Xts.xts;;
> - : R.sexptype = R.PromSxp

So we indeed have a function.

> # let x = R.eval [Xts.xts];;
> val x : R.sexp = <abstr>

We construct a dummy time series...

> # R.sexptype x;;
> - : R.sexptype = R.RealSxp
> # 

Cool...

The xts.ml code is essentially:

> (* You describe the library, its name and symbols. *)
> module Description : R.LibraryDescription = struct
>   let name = "xts"
>   let symbols = ["xts"]
> end
> 
> (* You instatiate the library per se. *)
> module Library : R.Library = OCamlR.Require (Description)
> 
> (* Then you name the sexps in the same order as the symbols above. *)
> let [xts] = Library.root

The OCamlR wrapper and the xts binding are not finished at all, but an 
OCaml-R Debian package for 64 bits is available at

	http://yziquel.homelinux.org/topos/debian-ocamlr.html
	http://yziquel.homelinux.org/topos/debian-repository.html
	http://yziquel.homelinux.org/debian/pool/main/o/ocaml-r/

when my laptop's up, wifi working, et ceterae. All in french for now, 
and documentation is not up to date... That will come.

OCaml-R itself is hosted here:

	https://gna.org/projects/ocaml-r/

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From nabble.30.miller_2555 at spamgourmet.com  Mon Nov 16 02:25:27 2009
From: nabble.30.miller_2555 at spamgourmet.com (nabble.30.miller_2555 at spamgourmet.com)
Date: Sun, 15 Nov 2009 20:25:27 -0500
Subject: [Rd] Segmentation faults on SEXP conversion
Message-ID: <1dd941090911151725w31deb09y354e968b5326c947@mail.gmail.com>

On Sun, Nov 15, 2009 at 2:52 PM, Duncan Murdoch - murdoch at stats.uwo.ca
<+nabble+miller_2555+1412c7fca2.murdoch#stats.uwo.ca at spamgourmet.com>
wrote:
> On 15/11/2009 1:41 PM, nabble.30.miller_2555 at spamgourmet.com wrote:
>>
> The "character" type in R corresponds to STRSXP in C, which is a vector of
> CHARSXPs. ?So you need an extra step to get to the C string:
>
> const char * omsg = CHAR(STRING_ELT(msg, 0));
>
> Duncan Murdoch
>

Thank you for the suggestion. I have replaced the code as suggested,
but I had attempted this conversion earlier. Unfortunately, I still
receive the same segmentation fault (and backtrace). The underlying
problem no longer appears to relate to type conversion. The following
code represents the entirety of the extension's R and C code (and
NAMESPACE file), and still causes the segmentation fault:

NAMESPACE:
---------------------------------------------------
useDynLib("tstlib")
export( "ptest" )


ptest.R:
---------------------------------------------------
ptest <- function()  { .Call("Rwrite", PACKAGE="tstlib");};


ptest.c:
---------------------------------------------------
#include <R.h>
void Rwrite() { printf("[%i] %s",12,"Hi"); }


ptest.R:
---------------------------------------------------
ptest <- function()  { .Call("Rwrite", PACKAGE="tstlib");};


zzz.R:
---------------------------------------------------
.onLoad <- function(libname, pkgname)
{
}
.onUnload <- function(libpath) {
    library.dynam.unload("forkex", libpath)
  }


This is just about the most simple example I can think of, and don't
really know why it would segfault (if I change the interface in
ptest.R above from .Call to .C, no segfault occurs). The following is
the output from `R CMD SHLIB ptest.c`:

gcc -m64 -std=gnu99 -I/usr/include/R  -I/usr/local/include    -fpic
-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions
-fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -c
ptest.c -o ptest.o
gcc -m64 -std=gnu99 -shared -L/usr/local/lib64 -o ptest.so ./ptest.o
-L/usr/lib64/R/lib -lR


From duncan at wald.ucdavis.edu  Mon Nov 16 02:44:11 2009
From: duncan at wald.ucdavis.edu (Duncan Temple Lang)
Date: Sun, 15 Nov 2009 17:44:11 -0800
Subject: [Rd] Segmentation faults on SEXP conversion
In-Reply-To: <1dd941090911151725w31deb09y354e968b5326c947@mail.gmail.com>
References: <1dd941090911151725w31deb09y354e968b5326c947@mail.gmail.com>
Message-ID: <4B00AE6B.20604@wald.ucdavis.edu>



nabble.30.miller_2555 at spamgourmet.com wrote:
> On Sun, Nov 15, 2009 at 2:52 PM, Duncan Murdoch - murdoch at stats.uwo.ca
> <+nabble+miller_2555+1412c7fca2.murdoch#stats.uwo.ca at spamgourmet.com>
> wrote:
>> On 15/11/2009 1:41 PM, nabble.30.miller_2555 at spamgourmet.com wrote:
>> The "character" type in R corresponds to STRSXP in C, which is a vector of
>> CHARSXPs.  So you need an extra step to get to the C string:
>>
>> const char * omsg = CHAR(STRING_ELT(msg, 0));
>>
>> Duncan Murdoch
>>
> 
> Thank you for the suggestion. I have replaced the code as suggested,
> but I had attempted this conversion earlier. Unfortunately, I still
> receive the same segmentation fault (and backtrace). The underlying
> problem no longer appears to relate to type conversion. The following
> code represents the entirety of the extension's R and C code (and
> NAMESPACE file), and still causes the segmentation fault:
> 
> NAMESPACE:
> ---------------------------------------------------
> useDynLib("tstlib")
> export( "ptest" )
> 
> 
> ptest.R:
> ---------------------------------------------------
> ptest <- function()  { .Call("Rwrite", PACKAGE="tstlib");};
> 
> 
> ptest.c:
> ---------------------------------------------------
> #include <R.h>
> void Rwrite() { printf("[%i] %s",12,"Hi"); }
> 
> 
> ptest.R:
> ---------------------------------------------------
> ptest <- function()  { .Call("Rwrite", PACKAGE="tstlib");};
> 
> 
> zzz.R:
> ---------------------------------------------------
> .onLoad <- function(libname, pkgname)
> {
> }
> .onUnload <- function(libpath) {
>     library.dynam.unload("forkex", libpath)
>   }
> 
> 
> This is just about the most simple example I can think of, and don't
> really know why it would segfault (if I change the interface in
> ptest.R above from .Call to .C, no segfault occurs).


And that is your clue.

C routines that are invoked via .Call() _must_
return a SEXP object. Your routine (Rwrite)
has a return type of void.  Since you use .Call(),
takes the return value from the stack and it is garbage.
Seg fault ensues.

Declare your Rwrite() routine to return a SEXP
and have it return the symbol R_NilValue, i.e.

 SEXP Rwrite() { printf("[%i] %s",12,"Hi"); return(R_NilValue); }

and you can use .Call()


  D.


 D.



> The following is
> the output from `R CMD SHLIB ptest.c`:
> 
> gcc -m64 -std=gnu99 -I/usr/include/R  -I/usr/local/include    -fpic
> -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions
> -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -c
> ptest.c -o ptest.o
> gcc -m64 -std=gnu99 -shared -L/usr/local/lib64 -o ptest.so ./ptest.o
> -L/usr/lib64/R/lib -lR
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From nabble.30.miller_2555 at spamgourmet.com  Mon Nov 16 02:30:22 2009
From: nabble.30.miller_2555 at spamgourmet.com (nabble.30.miller_2555 at spamgourmet.com)
Date: Sun, 15 Nov 2009 20:30:22 -0500
Subject: [Rd] Segmentation faults on SEXP conversion
In-Reply-To: <1dd941090911151725w31deb09y354e968b5326c947@mail.gmail.com>
References: <1dd941090911151725w31deb09y354e968b5326c947@mail.gmail.com>
Message-ID: <4B00AB2E.5090205@stats.uwo.ca>

On 15/11/2009 8:25 PM, nabble.30.miller_2555 at spamgourmet.com wrote:
> On Sun, Nov 15, 2009 at 2:52 PM, Duncan Murdoch - nabble.30.miller_2555 at spamgourmet.com
> <>
> wrote:
>> On 15/11/2009 1:41 PM, nabble.30.miller_2555 at spamgourmet.com wrote:
>> The "character" type in R corresponds to STRSXP in C, which is a vector of
>> CHARSXPs.  So you need an extra step to get to the C string:
>>
>> const char * omsg = CHAR(STRING_ELT(msg, 0));
>>
>> Duncan Murdoch
>>
> 
> Thank you for the suggestion. I have replaced the code as suggested,
> but I had attempted this conversion earlier. Unfortunately, I still
> receive the same segmentation fault (and backtrace). The underlying
> problem no longer appears to relate to type conversion. The following
> code represents the entirety of the extension's R and C code (and
> NAMESPACE file), and still causes the segmentation fault:
> 
> NAMESPACE:
> ---------------------------------------------------
> useDynLib("tstlib")
> export( "ptest" )
> 
> 
> ptest.R:
> ---------------------------------------------------
> ptest <- function()  { .Call("Rwrite", PACKAGE="tstlib");};
> 
> 
> ptest.c:
> ---------------------------------------------------
> #include <R.h>
> void Rwrite() { printf("[%i] %s",12,"Hi"); }

I forget if you said which system you're working on, but it may be that 
you don't have an open file handle for printf to use.  Use Rprintf 
instead and things should be fine.

Duncan Murdoch

> 
> ptest.R:
> ---------------------------------------------------
> ptest <- function()  { .Call("Rwrite", PACKAGE="tstlib");};
> 
> 
> zzz.R:
> ---------------------------------------------------
> .onLoad <- function(libname, pkgname)
> {
> }
> .onUnload <- function(libpath) {
>     library.dynam.unload("forkex", libpath)
>   }
> 
> 
> This is just about the most simple example I can think of, and don't
> really know why it would segfault (if I change the interface in
> ptest.R above from .Call to .C, no segfault occurs). The following is
> the output from `R CMD SHLIB ptest.c`:
> 
> gcc -m64 -std=gnu99 -I/usr/include/R  -I/usr/local/include    -fpic
> -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions
> -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -c
> ptest.c -o ptest.o
> gcc -m64 -std=gnu99 -shared -L/usr/local/lib64 -o ptest.so ./ptest.o
> -L/usr/lib64/R/lib -lR
>


From nabble.30.miller_2555 at spamgourmet.com  Mon Nov 16 03:01:33 2009
From: nabble.30.miller_2555 at spamgourmet.com (nabble.30.miller_2555 at spamgourmet.com)
Date: Sun, 15 Nov 2009 21:01:33 -0500
Subject: [Rd] Segmentation faults on SEXP conversion	20)
In-Reply-To: <4B00AB2E.5090205@stats.uwo.ca>
References: <1dd941090911151725w31deb09y354e968b5326c947@mail.gmail.com>
	<4B00AB2E.5090205@stats.uwo.ca>
Message-ID: <1dd941090911151801w5795d37bhaa692ebc516b29be@mail.gmail.com>

On Sun, Nov 15, 2009 at 8:30 PM, Duncan Murdoch - murdoch at stats.uwo.ca
<+nabble+miller_2555+1412c7fca2.murdoch#stats.uwo.ca at spamgourmet.com>
wrote:
> On 15/11/2009 8:25 PM, nabble.30.miller_2555 at spamgourmet.com wrote:
>> ptest.c:
>> ---------------------------------------------------
>> #include <R.h>
>> void Rwrite() { printf("[%i] %s",12,"Hi"); }
>
> I forget if you said which system you're working on, but it may be that you
> don't have an open file handle for printf to use. ?Use Rprintf instead and
> things should be fine.
>
> Duncan Murdoch

Thank you - I attempted to use Rprintf as suggested. I also attempted
fprintf() using stdout. The platform is Linux
2.6.27.30-170.2.82.fc10.x86_64. It's a Fedora Core v10. I encountered
the same issue with both R v. 2.9.2 and 2.10.0 (currently running the
latter). If it helps, the following is the memcheck output after
making the suggested changes:
==25809== Invalid read of size 1
==25809==    at 0x4D04209: SET_SYMVALUE (in /usr/lib64/R/lib/libR.so)
==25809==    by 0x4D01E51: Rf_ReplIteration (in /usr/lib64/R/lib/libR.so)
==25809==    by 0x4D020B7: (within /usr/lib64/R/lib/libR.so)
==25809==    by 0x4D027CF: run_Rmainloop (in /usr/lib64/R/lib/libR.so)
==25809==    by 0x40083A: main (in /usr/lib64/R/bin/exec/R)
==25809==  Address 0x3 is not stack'd, malloc'd or (recently) free'd


From nabble.30.miller_2555 at spamgourmet.com  Mon Nov 16 03:16:58 2009
From: nabble.30.miller_2555 at spamgourmet.com (nabble.30.miller_2555 at spamgourmet.com)
Date: Sun, 15 Nov 2009 21:16:58 -0500
Subject: [Rd] Segmentation faults on SEXP conversion
In-Reply-To: <1dd941090911151725w31deb09y354e968b5326c947@mail.gmail.com>
References: <1dd941090911151725w31deb09y354e968b5326c947@mail.gmail.com>
Message-ID: <4B00B61A.3050601@stats.uwo.ca>

On 15/11/2009 8:25 PM, nabble.30.miller_2555 at spamgourmet.com wrote:
> On Sun, Nov 15, 2009 at 2:52 PM, Duncan Murdoch - nabble.30.miller_2555 at spamgourmet.com
> <>
> wrote:
>> On 15/11/2009 1:41 PM, nabble.30.miller_2555 at spamgourmet.com wrote:
>> The "character" type in R corresponds to STRSXP in C, which is a vector of
>> CHARSXPs.  So you need an extra step to get to the C string:
>>
>> const char * omsg = CHAR(STRING_ELT(msg, 0));
>>
>> Duncan Murdoch
>>
> 
> Thank you for the suggestion. I have replaced the code as suggested,
> but I had attempted this conversion earlier. Unfortunately, I still
> receive the same segmentation fault (and backtrace). The underlying
> problem no longer appears to relate to type conversion. The following
> code represents the entirety of the extension's R and C code (and
> NAMESPACE file), and still causes the segmentation fault:

Sorry, I missed something else that's obvious:  .Call needs a return 
value.  The c function needs to include Rinternals.h, and the function 
needs to return a SEXP.  So this works:

#include <Rinternals.h>
SEXP Rwrite() { Rprintf("[%i] %s",12,"Hi");  return R_NilValue; }

(and your ptest function will return NULL).

Duncan Murdoch

> 
> NAMESPACE:
> ---------------------------------------------------
> useDynLib("tstlib")
> export( "ptest" )
> 
> 
> ptest.R:
> ---------------------------------------------------
> ptest <- function()  { .Call("Rwrite", PACKAGE="tstlib");};
> 
> 
> ptest.c:
> ---------------------------------------------------
> #include <R.h>
> void Rwrite() { printf("[%i] %s",12,"Hi"); }
> 
> 
> ptest.R:
> ---------------------------------------------------
> ptest <- function()  { .Call("Rwrite", PACKAGE="tstlib");};
> 
> 
> zzz.R:
> ---------------------------------------------------
> .onLoad <- function(libname, pkgname)
> {
> }
> .onUnload <- function(libpath) {
>     library.dynam.unload("forkex", libpath)
>   }
> 
> 
> This is just about the most simple example I can think of, and don't
> really know why it would segfault (if I change the interface in
> ptest.R above from .Call to .C, no segfault occurs). The following is
> the output from `R CMD SHLIB ptest.c`:
> 
> gcc -m64 -std=gnu99 -I/usr/include/R  -I/usr/local/include    -fpic
> -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions
> -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -c
> ptest.c -o ptest.o
> gcc -m64 -std=gnu99 -shared -L/usr/local/lib64 -o ptest.so ./ptest.o
> -L/usr/lib64/R/lib -lR
>


From nabble.30.miller_2555 at spamgourmet.com  Mon Nov 16 03:38:22 2009
From: nabble.30.miller_2555 at spamgourmet.com (nabble.30.miller_2555 at spamgourmet.com)
Date: Sun, 15 Nov 2009 21:38:22 -0500
Subject: [Rd] Segmentation faults on SEXP conversion	20)
In-Reply-To: <4B00B61A.3050601@stats.uwo.ca>
References: <1dd941090911151725w31deb09y354e968b5326c947@mail.gmail.com>
	<4B00B61A.3050601@stats.uwo.ca>
Message-ID: <1dd941090911151838j11a906bewd28de1079d68dbf5@mail.gmail.com>

On Sun, Nov 15, 2009 at 9:16 PM, Duncan Murdoch - murdoch at stats.uwo.ca
<+nabble+miller_2555+1412c7fca2.murdoch#stats.uwo.ca at spamgourmet.com>
wrote:
>
> Sorry, I missed something else that's obvious: ?.Call needs a return value.
> ?The c function needs to include Rinternals.h, and the function needs to
> return a SEXP. ?So this works:
>
> #include <Rinternals.h>
> SEXP Rwrite() { Rprintf("[%i] %s",12,"Hi"); ?return R_NilValue; }
>
> (and your ptest function will return NULL).
>
> Duncan Murdoch

Ah - I must not have read the documentation closely enough to realize
a return value was required for external functions using the .Call
interface. By not returning anything, I think my erroneous calls were
mangling the stack heap. Thanks!

Will


From murdoch at stats.uwo.ca  Mon Nov 16 04:06:33 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 15 Nov 2009 22:06:33 -0500
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start()
 page
In-Reply-To: <971536df0911130439s2a5eb81dy620230e022bef17d@mail.gmail.com>
References: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com>
	<971536df0911130439s2a5eb81dy620230e022bef17d@mail.gmail.com>
Message-ID: <4B00C1B9.6040404@stats.uwo.ca>

On 13/11/2009 7:39 AM, Gabor Grothendieck wrote:
> Its also difficult to know about demos unless you specifically issue a
> demo(package = "mypackage") command.  It would be nice if these were
> listed too.

This is in R-devel now.

> Note that the NEWS and/or ChangeLog file are listed on the package's
> CRAN page such as:
> 
>    http://cran.r-project.org/package=zoo
> 
> but the demos are not listed even there.

The structure is in place for displaying package news, but it doesn't 
display yet.  I think Kurt Hornik is working on the actual display.

Duncan Murdoch

> 
> On Fri, Nov 13, 2009 at 3:37 AM, Henrik Bengtsson <hb at stat.berkeley.edu> wrote:
>> Hi,
>>
>> right now it is actually a bit tricky to locate and view the NEWS and
>> the CHANGES files, especially if you are a beginning and don't even
>> know that you are supposed to look for them.
>>
>> I'd like to recommend that links to (local) NEWS and CHANGES are added
>> to the help.start() overview pages.  help("NEWS")/help("CHANGE LOG")
>> and help("CHANGES") could display/refer to them as well.
>>
>> /Henrik
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From Sebastian.Wastl.Meyer at campus.lmu.de  Sun Nov 15 17:05:09 2009
From: Sebastian.Wastl.Meyer at campus.lmu.de (Sebastian.Wastl.Meyer at campus.lmu.de)
Date: Sun, 15 Nov 2009 17:05:09 +0100 (CET)
Subject: [Rd] model.frame error with formula=~1 and na.action=na.fail
	(PR#14066)
Message-ID: <20091115160509.C7D172830314@mail.pubhealth.ku.dk>

Full_Name: Sebastian Meyer
Version: 2.10.0
OS: x86_64-pc-linux-gnu
Submission from: (NULL) (77.135.124.96)


When using model.frame (model.frame.default) on an intercept-only model and with
na.action=na.fail SPECIFIED, i.e.

   data(iris)
   model.frame( ~ 1, data = iris, na.action = na.fail)

one gets the following error:

   Error in complete.cases(object) : negative length vectors are not allowed

There is no error if the na.action argument is left UNSPECIFIED (though the
default value also is na.fail!):

   model.frame( ~ 1, data = iris)

In either case, there should be no error. Specifing other na.action functions
(na.omit, na.pass, na.exclude) works.
If there is at least one (non-intercept) variable in the formula, e.g.

   model.frame( ~ 1 + Species, data = iris, na.action = na.fail)

there is obviously no issue. 

Best regards,
    Sebastian Meyer


From suharto_anggono at yahoo.com  Mon Nov 16 05:30:12 2009
From: suharto_anggono at yahoo.com (suharto_anggono at yahoo.com)
Date: Mon, 16 Nov 2009 05:30:12 +0100 (CET)
Subject: [Rd] (Date + difftime) and (POSIXt + difftime) does not use
	date/time arithmetics (PR#14067)
Message-ID: <20091116043012.1CC59283031A@mail.pubhealth.ku.dk>

Full_Name: Suharto Anggono
Version: 2.8.1
OS: Windows
Submission from: (NULL) (125.165.81.48)


There is already PR#13369. But, the problem is not just the warning.


C:\Program Files\R\R-2.8.1\bin>R --vanilla

R version 2.8.1 (2008-12-22)
Copyright (C) 2008 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> as.Date("2009-09-15") + as.difftime(8, units="weeks")
[1] "2009-09-23"
Warning message:
Incompatible methods ("+.Date", "Ops.difftime") for "+"


I expect to get the date 8 weeks after 2009-09-15, but I get 8 days after
2009-09-15.
To get the date 8 weeks after 2009-09-15, I have to call '+.Date' directly, or
convert weeks to days.


> `+.Date`(as.Date("2009-09-15"), as.difftime(8, units="weeks"))
[1] "2009-11-10"


The problem is the same for class "POSIXt".


> as.POSIXct("2009-09-09 09:09:09") + as.difftime(1, units="hours")
[1] "2009-09-09 09:09:10 ICT"
Warning message:
Incompatible methods ("+.POSIXt", "Ops.difftime") for "+"


I inspect the function definition for '+.Date' and 'Ops.difftime'.


> `+.Date`
function (e1, e2)
{
    coerceTimeUnit <- function(x) {
        round(switch(attr(x, "units"), secs = x/86400, mins = x/1440,
            hours = x/24, days = x, weeks = 7 * x))
    }
    if (nargs() == 1)
        return(e1)
    if (inherits(e1, "Date") && inherits(e2, "Date"))
        stop("binary + is not defined for Date objects")
    if (inherits(e1, "difftime"))
        e1 <- coerceTimeUnit(e1)
    if (inherits(e2, "difftime"))
        e2 <- coerceTimeUnit(e2)
    structure(unclass(e1) + unclass(e2), class = "Date")
}
<environment: namespace:base>
> Ops.difftime
function (e1, e2)
{
    coerceTimeUnit <- function(x) {
        switch(attr(x, "units"), secs = x, mins = 60 * x, hours = 60 *
            60 * x, days = 60 * 60 * 24 * x, weeks = 60 * 60 *
            24 * 7 * x)
    }
    if (nargs() == 1) {
        switch(.Generic, `+` = {
        }, `-` = {
            e1[] <- -unclass(e1)
        }, stop(gettextf("unary '%s' not defined for \"difftime\" objects",
            .Generic), domain = NA, call. = FALSE))
        return(e1)
    }
    boolean <- switch(.Generic, `<` = , `>` = , `==` = , `!=` = ,
        `<=` = , `>=` = TRUE, FALSE)
    if (boolean) {
        if (inherits(e1, "difftime") && inherits(e2, "difftime")) {
            e1 <- coerceTimeUnit(e1)
            e2 <- coerceTimeUnit(e2)
        }
        NextMethod(.Generic)
    }
    else if (.Generic == "+" || .Generic == "-") {
        if (inherits(e1, "difftime") && !inherits(e2, "difftime"))
            return(structure(NextMethod(.Generic), units = attr(e1,
                "units"), class = "difftime"))
        if (!inherits(e1, "difftime") && inherits(e2, "difftime"))
            return(structure(NextMethod(.Generic), units = attr(e2,
                "units"), class = "difftime"))
        u1 <- attr(e1, "units")
        if (attr(e2, "units") == u1) {
            structure(NextMethod(.Generic), units = u1, class = "difftime")
        }
        else {
            e1 <- coerceTimeUnit(e1)
            e2 <- coerceTimeUnit(e2)
            structure(NextMethod(.Generic), units = "secs", class = "difftime")
        }
    }
    else {
        stop(gettextf("'%s' not defined for \"difftime\" objects",
            .Generic), domain = NA)
    }
}
<environment: namespace:base>


I can see the conflict. In '+.Date', the result of operating "Date" and
"difftime" is of class "Date". In 'Ops.difftime', the result of '+' when one of
its operand is "difftime" is of class "difftime". So, maybe, both are not used;
what is used is the usual '+'.


From ripley at stats.ox.ac.uk  Mon Nov 16 12:41:47 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Nov 2009 11:41:47 +0000 (GMT)
Subject: [Rd] (PR#14066) model.frame error with formula=~1 and
 na.action=na.fail
In-Reply-To: <20091115160509.C7D172830314@mail.pubhealth.ku.dk>
References: <20091115160509.C7D172830314@mail.pubhealth.ku.dk>
Message-ID: <alpine.LFD.2.00.0911161134100.24784@gannet.stats.ox.ac.uk>

Thank you for the report -- but a bit more investigation of the root 
cause would have been even more helpful: this is not 'model.frame 
error', nor even reported by R as such.

The issue was that complete.cases() did not know how to find the 
number of rows of a 0-column data frame (it knew nothing about data 
frames). That has been changed in R-patched and R-devel, together with 
a more informative error message in other cases where the number of 
rows is unspecified.

On Sun, 15 Nov 2009, Sebastian.Wastl.Meyer at campus.lmu.de wrote:

> Full_Name: Sebastian Meyer
> Version: 2.10.0
> OS: x86_64-pc-linux-gnu
> Submission from: (NULL) (77.135.124.96)
>
>
> When using model.frame (model.frame.default) on an intercept-only model and with
> na.action=na.fail SPECIFIED, i.e.
>
>   data(iris)

That line is unnecessary: 'iris' is a visible object in package 
'datasets'.

>   model.frame( ~ 1, data = iris, na.action = na.fail)
>
> one gets the following error:
>
>   Error in complete.cases(object) : negative length vectors are not allowed
>
> There is no error if the na.action argument is left UNSPECIFIED (though the
> default value also is na.fail!):
>
>   model.frame( ~ 1, data = iris)
>
> In either case, there should be no error. Specifing other na.action functions
> (na.omit, na.pass, na.exclude) works.
> If there is at least one (non-intercept) variable in the formula, e.g.
>
>   model.frame( ~ 1 + Species, data = iris, na.action = na.fail)
>
> there is obviously no issue.
>
> Best regards,
>    Sebastian Meyer
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From Simon.Urbanek at r-project.org  Mon Nov 16 15:32:21 2009
From: Simon.Urbanek at r-project.org (Simon Urbanek)
Date: Mon, 16 Nov 2009 09:32:21 -0500
Subject: [Rd] Problem building package for R 2.10.0 on Mac OS X
In-Reply-To: <alpine.OSX.1.00.0911151846230.80685@tystie.local>
References: <467931F038D8AC4F85B4CB76256781E1132717AC68@EXSAN03.campus.ncl.ac.uk>
	<alpine.OSX.1.00.0911151846230.80685@tystie.local>
Message-ID: <E1139B51-AAA7-4594-AC31-CC1258B07B28@r-project.org>

Thanks, Brian, I was away traveling/away from Internet and all hell  
breaks lose :) [more precisely Fortran broke for some reason].

Stephen,
in the case of rioja it is really a bug in your code - you have to  
check the result of require() or "depend" on vegan. "Suggests" means  
that your package works without those packages but can have improved  
functionality with them. In your case the example breaks if you don't  
have vegan - thus the package doesn't really work without vegan. (As  
of why vegan is not there that is my problem ;)) Thanks for the  
report, though.

Cheers,
Simon


On Nov 15, 2009, at 15:04 , Prof Brian Ripley wrote:

> Please ask such questions on R-sig-mac, or directly to the Mac  
> package builder (Simon Urbanek).
>
> As you will see from
>
> http://cran.r-project.org/web/checks/check_summary.html
>
> at least 150 packages are in the same boat (not building because  
> dependencies are missing), so something has gone wrong on the build  
> machine.  There seem to be results for 'vegan', but they are for a  
> pre-release (2.10.0 alpha), not the released version.
>
> Perhaps related, there have been no R-patched builds on  
> r.research.att.com for 'leopard' (the main R build for R 2.10.0)  
> since Nov 4.
>
> Simon has been travelling, and will no doubt get to this when he has  
> time.  Meanwhile, Mac users can fairly easily build packages from  
> the sources (provided they have installed Xcode), so this is not  
> something to fret about.
>
> One point specific to Mac is that the distributed packages are tri- 
> architecture (i386, x86_64, ppc) and so need to work on all three  
> archs to get distributed (at least in principle).  There have been  
> quite a few packages (including earlier versions of yours) that  
> failed on 64-bit platforms.
>
> On Sun, 15 Nov 2009, Stephen Juggins wrote:
>
>> Hi
>>
>> I have submitted a package (rioja) to CRAN.  It checks OK for all R  
>> versions and OS's except r-release-macosx-ix86 where it fails when  
>> checking the examples. Specifically, it fails because R can't find  
>> the package vegan which is needed in a function. Here is the  
>> snippet from the check results:
>>
>> ### Begin snippet
>>
>> checking examples ... ERROR
>> Running examples in 'rioja-Ex.R' failed.
>> The error most likely occurred in:
>>
>>> ### * chclust
>>>
>>> flush(stderr()); flush(stdout())
>>>
>>> ### Name: chclust
>>> ### Title: Constrained hierarchical clustering
>>> ### Aliases: chclust plot.chclust bstick.chclust
>>> ### Keywords: cluster hplot
>>>
>>> ### ** Examples
>>>
>>> data(RLGH)
>>> diss <- dist(sqrt(RLGH$spec/100)^2)
>>> clust <- chclust(diss)
>>> bstick.chclust(clust, 10)
>> Loading required package: vegan
>> Warning in library(package, lib.loc = lib.loc, character.only =  
>> TRUE, logical.return = TRUE, :
>> there is no package called 'vegan'
>> Error in bstick.chclust(clust, 10) : could not find function "bstick"
>> Execution halted
>>
>> ### End snippet
>>
>> The function bstick.chclust listed below loads the package vegan  
>> which contains bstick.default.
>>
>> bstick.chclust <- function(n, ng=10, plot=TRUE, ...) {
>>  if (n$method != "coniss")
>>     stop("bstick cannot display conslink results")
>>  require(vegan)
>>  disp <- rev(n$height)
>>  tot.disp <- disp[1]
>>  disp <- abs(diff(disp))
>>  nobj <- length(n$height)
>>  bs <- bstick(nobj, tot.disp)
>>  yR <- range(disp[1:(ng-1)], bs[1:(ng-1)])
>>  if (plot) {
>>     plot(2:ng, disp[1:(ng-1)], type="o", ylim=yR, ylab="Sum of  
>> Squares", xlab = "Number of groups")
>>     lines(2:ng, bs[1:(ng-1)], col="red", type="o")
>>  }
>>  invisible(data.frame(nGroups = 2:(ng), dispersion=disp[1:(ng-1)],  
>> bstick = bs[1:(ng-1)]))
>> }
>>
>> vegan is included as a Suggests in the DESCRIPTION file and the  
>> package checks OK on r-oldrel-macosx-ix86.  It also checks OK with  
>> R 2.10.0 on OS X on my own Mac.  My code could be improved and I  
>> should probably trap the warning issued by require, but I don't  
>> understand why vegan is not loading when checking on CRAN.  Any  
>> help will be gratefully received!
>>
>> Many thanks, Steve
>>
>> Steve Juggins
>> School of Geography, Politics & Sociology
>> Newcastle University   Tel: +44 (0)191 222 8799
>> Newcastle upon Tyne    Fax: +44 (0)191 222 5421
>> NE1 7RU, UK            Mobile:   +44 (0)7740054905
>> http://www.staff.ncl.ac.uk/staff/stephen.juggins/
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


From Richard.Cotton at hsl.gov.uk  Mon Nov 16 17:00:01 2009
From: Richard.Cotton at hsl.gov.uk (Richard Cotton)
Date: Mon, 16 Nov 2009 08:00:01 -0800 (PST)
Subject: [Rd]  n=1 default for random number generators
Message-ID: <26374371.post@talk.nabble.com>


One tiny thing that would be very nice to have is a default value of n=1 in
the random number generator functions, enabling, e.g., runif() instead of
runif(1).  This won't break anyone's existing code and ought to be
relatively straightforward to do.  

Is there anyone in the core team who would be willing to include this
change?

-----
Regards,
Richie.

Mathematical Sciences Unit
HSL
-- 
View this message in context: http://old.nabble.com/n%3D1-default-for-random-number-generators-tp26374371p26374371.html
Sent from the R devel mailing list archive at Nabble.com.


From murdoch at stats.uwo.ca  Mon Nov 16 17:27:52 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 16 Nov 2009 11:27:52 -0500
Subject: [Rd] n=1 default for random number generators
In-Reply-To: <26374371.post@talk.nabble.com>
References: <26374371.post@talk.nabble.com>
Message-ID: <4B017D88.1000806@stats.uwo.ca>

On 11/16/2009 11:00 AM, Richard Cotton wrote:
> One tiny thing that would be very nice to have is a default value of n=1 in
> the random number generator functions, enabling, e.g., runif() instead of
> runif(1).  This won't break anyone's existing code and ought to be
> relatively straightforward to do.  
> 
> Is there anyone in the core team who would be willing to include this
> change?

I doubt it.  Even if you put together the patch (and I didn't see an 
offer to do so), merging it into the trunk code would take more work 
than you'd save in several years of typing the "1".

Duncan Murdoch


From wdunlap at tibco.com  Mon Nov 16 17:41:46 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Mon, 16 Nov 2009 08:41:46 -0800
Subject: [Rd] n=1 default for random number generators
In-Reply-To: <4B017D88.1000806@stats.uwo.ca>
References: <26374371.post@talk.nabble.com> <4B017D88.1000806@stats.uwo.ca>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D70002286EA9@NA-PA-VBE03.na.tibco.com>

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Duncan Murdoch
> Sent: Monday, November 16, 2009 8:28 AM
> To: Richard Cotton
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] n=1 default for random number generators
> 
> On 11/16/2009 11:00 AM, Richard Cotton wrote:
> > One tiny thing that would be very nice to have is a default 
> value of n=1 in
> > the random number generator functions, enabling, e.g., 
> runif() instead of
> > runif(1).  This won't break anyone's existing code and ought to be
> > relatively straightforward to do.  
> > 
> > Is there anyone in the core team who would be willing to 
> include this
> > change?
> 
> I doubt it.  Even if you put together the patch (and I didn't see an 
> offer to do so), merging it into the trunk code would take more work 
> than you'd save in several years of typing the "1".

Also, you would probably hear complaints that n=1 is
not a common value for the argument in 'well-written'
(really, vectorized cpu-efficient) R code.

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com 

 
> Duncan Murdoch
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From pburns at pburns.seanet.com  Mon Nov 16 17:43:14 2009
From: pburns at pburns.seanet.com (Patrick Burns)
Date: Mon, 16 Nov 2009 16:43:14 +0000
Subject: [Rd] n=1 default for random number generators
In-Reply-To: <4B017D88.1000806@stats.uwo.ca>
References: <26374371.post@talk.nabble.com> <4B017D88.1000806@stats.uwo.ca>
Message-ID: <4B018122.8090308@pburns.seanet.com>

Duncan Murdoch wrote:
> On 11/16/2009 11:00 AM, Richard Cotton wrote:
>> One tiny thing that would be very nice to have is a default value of 
>> n=1 in
>> the random number generator functions, enabling, e.g., runif() instead of
>> runif(1).  This won't break anyone's existing code and ought to be
>> relatively straightforward to do. 
>> Is there anyone in the core team who would be willing to include this
>> change?
> 
> I doubt it.  Even if you put together the patch (and I didn't see an 
> offer to do so), merging it into the trunk code would take more work 
> than you'd save in several years of typing the "1".
> 
> Duncan Murdoch

In the spirit of sour grapes, the proposed default
might discourage some users from vectorizing their
thinking.



Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of "The R Inferno" and "A Guide for the Unwilling S User")

> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From ripley at stats.ox.ac.uk  Mon Nov 16 17:38:44 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Nov 2009 16:38:44 +0000 (GMT)
Subject: [Rd] n=1 default for random number generators
In-Reply-To: <26374371.post@talk.nabble.com>
References: <26374371.post@talk.nabble.com>
Message-ID: <alpine.LFD.2.00.0911161634110.14954@gannet.stats.ox.ac.uk>

On Mon, 16 Nov 2009, Richard Cotton wrote:

>
> One tiny thing that would be very nice to have is a default value of n=1 in
> the random number generator functions, enabling, e.g., runif() instead of
> runif(1).  This won't break anyone's existing code and ought to be
> relatively straightforward to do.
>
> Is there anyone in the core team who would be willing to include this
> change?

For those in base R (not all are, of course), if someone makes a 
persuasive case (not just says 'would be very nice to have': e.g. 
produces statistics of usage by a wide group of users showing that is 
a commonly used value of 'n') and supplies a complete patch (to the 
help as well as the code).

> -----
> Regards,
> Richie.
>
> Mathematical Sciences Unit
> HSL


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From rgentlem at fhcrc.org  Mon Nov 16 18:07:23 2009
From: rgentlem at fhcrc.org (Robert Gentleman)
Date: Mon, 16 Nov 2009 09:07:23 -0800
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <4AFDFFFA.9070306@stats.uwo.ca>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>
	<4AFDB33D.5010607@stats.uwo.ca>
	<971536df0911131539o5d702723u63645580bef5f1f@mail.gmail.com>
	<4AFDF822.5050602@stats.uwo.ca>
	<971536df0911131626k21bd7cefk391ad821b42170b6@mail.gmail.com>
	<4AFDFFFA.9070306@stats.uwo.ca>
Message-ID: <b796582f0911160907k4d15751nc4cd14e85a005e93@mail.gmail.com>

Hi,

On Fri, Nov 13, 2009 at 4:55 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 13/11/2009 7:26 PM, Gabor Grothendieck wrote:
>>
>> On Fri, Nov 13, 2009 at 7:21 PM, Duncan Murdoch <murdoch at stats.uwo.ca>
>> wrote:
>>>
>>> On 13/11/2009 6:39 PM, Gabor Grothendieck wrote:
>>>>
>>>> Note that one should use inherits = FALSE argument on get and exists
>>>> to avoid returning objects from the parent, the parent of the parent,
>>>> etc.
>>>
>>> I disagree. ?Normally you would want to receive those objects. ?If you
>>> didn't, why didn't you set the parent of the environment to emptyenv()
>>> when
>>> you created it?
>>>
>>
>> $ does not look into the parent so if you are trying to get those
>> semantics you must use inherits = FALSE.
>
> Whoops, yes. ?That's another complaint about $ on environments.

 That was an intentional choice. AFAIR neither $ nor [[ on
environments was not meant to mimic get, but rather to work on the
current environment as if it were a hash-like object. One can always
get the inherits semantics by simple programming, but under the model
you seem to be suggesting, preventing such behavior when you don't own
the environments in question is problematic.

  Robert

>
> Duncan Murdoch
>
>>
>>> x <- 3
>>> e <- new.env()
>>> "x" %in% names(e)
>>
>> [1] FALSE
>>>
>>> get("x", e) # oops
>>
>> [1] 3
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>



-- 
Robert Gentleman
rgentlem at gmail.com


From murdoch at stats.uwo.ca  Mon Nov 16 18:26:05 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 16 Nov 2009 12:26:05 -0500
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <b796582f0911160907k4d15751nc4cd14e85a005e93@mail.gmail.com>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>	<4AFDB33D.5010607@stats.uwo.ca>	<971536df0911131539o5d702723u63645580bef5f1f@mail.gmail.com>	<4AFDF822.5050602@stats.uwo.ca>	<971536df0911131626k21bd7cefk391ad821b42170b6@mail.gmail.com>	<4AFDFFFA.9070306@stats.uwo.ca>
	<b796582f0911160907k4d15751nc4cd14e85a005e93@mail.gmail.com>
Message-ID: <4B018B2D.6090103@stats.uwo.ca>

On 11/16/2009 12:07 PM, Robert Gentleman wrote:
> Hi,
> 
> On Fri, Nov 13, 2009 at 4:55 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 13/11/2009 7:26 PM, Gabor Grothendieck wrote:
>>>
>>> On Fri, Nov 13, 2009 at 7:21 PM, Duncan Murdoch <murdoch at stats.uwo.ca>
>>> wrote:
>>>>
>>>> On 13/11/2009 6:39 PM, Gabor Grothendieck wrote:
>>>>>
>>>>> Note that one should use inherits = FALSE argument on get and exists
>>>>> to avoid returning objects from the parent, the parent of the parent,
>>>>> etc.
>>>>
>>>> I disagree.  Normally you would want to receive those objects.  If you
>>>> didn't, why didn't you set the parent of the environment to emptyenv()
>>>> when
>>>> you created it?
>>>>
>>>
>>> $ does not look into the parent so if you are trying to get those
>>> semantics you must use inherits = FALSE.
>>
>> Whoops, yes.  That's another complaint about $ on environments.
> 
>  That was an intentional choice. AFAIR neither $ nor [[ on
> environments was not meant to mimic get, but rather to work on the
> current environment as if it were a hash-like object. One can always
> get the inherits semantics by simple programming, but under the model
> you seem to be suggesting, preventing such behavior when you don't own
> the environments in question is problematic.

Sure, I agree with how you did that; I'm not sure you had any choice at 
the time (didn't all environments have base as a parent then?).  Even 
now, you do want both inherits=TRUE and inherits=FALSE behaviour in 
different circumstances, and $ has to pick just one.  Probably my 
wording should have been "That's another gotcha about $ on environments."

Duncan Murdoch


From p.dalgaard at biostat.ku.dk  Mon Nov 16 18:47:09 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Mon, 16 Nov 2009 18:47:09 +0100
Subject: [Rd] The default behaviour of a missing entry in an environment
In-Reply-To: <b796582f0911160907k4d15751nc4cd14e85a005e93@mail.gmail.com>
References: <D737F65B-A317-44C1-8421-E8DE2D0E0740@nyu.edu>	<4AFDB33D.5010607@stats.uwo.ca>	<971536df0911131539o5d702723u63645580bef5f1f@mail.gmail.com>	<4AFDF822.5050602@stats.uwo.ca>	<971536df0911131626k21bd7cefk391ad821b42170b6@mail.gmail.com>	<4AFDFFFA.9070306@stats.uwo.ca>
	<b796582f0911160907k4d15751nc4cd14e85a005e93@mail.gmail.com>
Message-ID: <4B01901D.4030200@biostat.ku.dk>

Robert Gentleman wrote:
> Hi,
> 
> On Fri, Nov 13, 2009 at 4:55 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 13/11/2009 7:26 PM, Gabor Grothendieck wrote:
>>> On Fri, Nov 13, 2009 at 7:21 PM, Duncan Murdoch <murdoch at stats.uwo.ca>
>>> wrote:
>>>> On 13/11/2009 6:39 PM, Gabor Grothendieck wrote:
>>>>> Note that one should use inherits = FALSE argument on get and exists
>>>>> to avoid returning objects from the parent, the parent of the parent,
>>>>> etc.
>>>> I disagree.  Normally you would want to receive those objects.  If you
>>>> didn't, why didn't you set the parent of the environment to emptyenv()
>>>> when
>>>> you created it?
>>>>
>>> $ does not look into the parent so if you are trying to get those
>>> semantics you must use inherits = FALSE.
>> Whoops, yes.  That's another complaint about $ on environments.
> 
>  That was an intentional choice. AFAIR neither $ nor [[ on
> environments was not meant to mimic get, but rather to work on the
> current environment as if it were a hash-like object. One can always
> get the inherits semantics by simple programming, but under the model
> you seem to be suggesting, preventing such behavior when you don't own
> the environments in question is problematic.
> 
>   Robert

Yes. Also, AFAIR, emptyenv() came later. At the time you couldn't go 
deeper than baseenv().

And at any rate, some of the intended applications are dataframe-like, 
and I don't think you want to preclude use of with() and other forms of 
evaluation in the environment, as in

 > e <- evalq(environment(),airquality)
 > ls(e)
[1] "Day"     "Month"   "Ozone"   "Solar.R" "Temp"    "Wind"

 > evalq(logO3 <- log(Ozone), e) # works fine
 > lm(Ozone~Wind, data=e) # ditto
...

 > parent.env(e) <- emptyenv()
 > evalq(logO3 <- log(Ozone), e)
Error in eval(substitute(expr), envir, enclos) :
   could not find function "<-"
 > lm(Ozone~Wind, data=e)
Error in eval(expr, envir, enclos) : could not find function "list"



-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From g.russell at eos-solutions.com  Mon Nov 16 14:10:09 2009
From: g.russell at eos-solutions.com (g.russell at eos-solutions.com)
Date: Mon, 16 Nov 2009 14:10:09 +0100 (CET)
Subject: [Rd] R crash with intToUtf8 on huge vectors (PR#14068)
Message-ID: <20091116131009.62BFA282C768@mail.pubhealth.ku.dk>

Full_Name: George Russell
Version: 2.10.0
OS: Windows XP Professional Version 2002 Service Pack 2
Submission from: (NULL) (217.111.3.131)


Typing the following command into R --vanilla causes R to crash:

k <- intToUtf8(rep(1e3,1e7))

This is the output of sessionInfo():
R version 2.10.0 (2009-10-26) 
i386-pc-mingw32 

locale:
[1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252   
[3] LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                   
[5] LC_TIME=German_Germany.1252    

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
[1] RODBC_1.3-1

Many thanks for your help and best wishes,

George Russell


From Sebastian.Wastl.Meyer at campus.lmu.de  Mon Nov 16 13:12:34 2009
From: Sebastian.Wastl.Meyer at campus.lmu.de (Sebastian Meyer)
Date: Mon, 16 Nov 2009 13:12:34 +0100
Subject: [Rd] (PR#14066) model.frame error with formula=~1 and
	na.action=na.fail
In-Reply-To: <alpine.LFD.2.00.0911161134100.24784@gannet.stats.ox.ac.uk>
References: <20091115160509.C7D172830314@mail.pubhealth.ku.dk>
	<alpine.LFD.2.00.0911161134100.24784@gannet.stats.ox.ac.uk>
Message-ID: <4B0141B2.3080200@campus.lmu.de>

Thank you for your rapid bug fix and for your instructive comments on my
bug report.

> this is not 'model.frame error', nor even reported by R as such.

Of course you are right, but I thought that a bug report on model.frame
would probably reach more attention further providing a more motivating
frame for the bug than just writing that
complete.cases(as.data.frame(matrix(,150,0)))
would not work, and I was absolutely sure that you would be able to
track down the source of the problem.

>> data(iris)
>
> That line is unnecessary: 'iris' is a visible object in package
> 'datasets'.

Ok. I was not sure about this and just wanted to be on the save side to
offer a reproducible example working in a maximum variety of R sessions.

Best regards and thank you very much for your intense development of R,
   Sebastian Meyer


From murdoch at stats.uwo.ca  Mon Nov 16 22:08:39 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 16 Nov 2009 16:08:39 -0500
Subject: [Rd] R crash with intToUtf8 on huge vectors (PR#14068)
In-Reply-To: <20091116131009.62BFA282C768@mail.pubhealth.ku.dk>
References: <20091116131009.62BFA282C768@mail.pubhealth.ku.dk>
Message-ID: <4B01BF57.1000804@stats.uwo.ca>

On 11/16/2009 8:10 AM, g.russell at eos-solutions.com wrote:
> Full_Name: George Russell
> Version: 2.10.0
> OS: Windows XP Professional Version 2002 Service Pack 2
> Submission from: (NULL) (217.111.3.131)
> 
> 
> Typing the following command into R --vanilla causes R to crash:
> 
> k <- intToUtf8(rep(1e3,1e7))

Thanks, I see this in R-patched and R-devel.  Will try to track it down.

> 
> This is the output of sessionInfo():
> R version 2.10.0 (2009-10-26) 
> i386-pc-mingw32 

> locale:
> [1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252   
> [3] LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                   
> [5] LC_TIME=German_Germany.1252    
> 
> attached base packages:
> [1] stats     graphics  grDevices datasets  utils     methods   base     
> 
> other attached packages:
> [1] RODBC_1.3-1

I didn't have RODBC present, and was working in an

English_United States.1252

locale.

Duncan Murdoch

> 
> Many thanks for your help and best wishes,
> 
> George Russell
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From hb at stat.berkeley.edu  Mon Nov 16 23:53:25 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Mon, 16 Nov 2009 23:53:25 +0100
Subject: [Rd] Suggestion: Add links to NEWS and CHANGES on help.start()
	page
In-Reply-To: <4B00C1B9.6040404@stats.uwo.ca>
References: <59d7961d0911130037w6d54c9a5y73734a5544e5d655@mail.gmail.com> 
	<971536df0911130439s2a5eb81dy620230e022bef17d@mail.gmail.com> 
	<4B00C1B9.6040404@stats.uwo.ca>
Message-ID: <59d7961d0911161453y5dfc3771qf81058b84e553695@mail.gmail.com>

On Mon, Nov 16, 2009 at 4:06 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 13/11/2009 7:39 AM, Gabor Grothendieck wrote:
>>
>> Its also difficult to know about demos unless you specifically issue a
>> demo(package = "mypackage") command. ?It would be nice if these were
>> listed too.
>
> This is in R-devel now.

I just got the Windows version. For others information, the main HTML
help page - help.start() - now ends with sections:

-- Miscellaneous Material --
About R \t Authors \t Resources
License \t Frequently Asked Questions \t Thanks
 \t NEWS

-- Material specific to the Windows port --
CHANGES \t Windows FAQ

The links to the NEWS and the CHANGES are new.

Thanks a bunch Duncan - beautiful and useful.

/Henrik

>
>> Note that the NEWS and/or ChangeLog file are listed on the package's
>> CRAN page such as:
>>
>> ? http://cran.r-project.org/package=zoo
>>
>> but the demos are not listed even there.
>
> The structure is in place for displaying package news, but it doesn't
> display yet. ?I think Kurt Hornik is working on the actual display.
>
> Duncan Murdoch
>
>>
>> On Fri, Nov 13, 2009 at 3:37 AM, Henrik Bengtsson <hb at stat.berkeley.edu>
>> wrote:
>>>
>>> Hi,
>>>
>>> right now it is actually a bit tricky to locate and view the NEWS and
>>> the CHANGES files, especially if you are a beginning and don't even
>>> know that you are supposed to look for them.
>>>
>>> I'd like to recommend that links to (local) NEWS and CHANGES are added
>>> to the help.start() overview pages. ?help("NEWS")/help("CHANGE LOG")
>>> and help("CHANGES") could display/refer to them as well.
>>>
>>> /Henrik
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From pengyu.ut at gmail.com  Tue Nov 17 04:51:52 2009
From: pengyu.ut at gmail.com (Peng Yu)
Date: Mon, 16 Nov 2009 21:51:52 -0600
Subject: [Rd] How to generate dependency file that can be used by gnu
	make?
In-Reply-To: <366c6f340911151845w75c4443j848d4edf986e7aa@mail.gmail.com>
References: <366c6f340911151845w75c4443j848d4edf986e7aa@mail.gmail.com>
Message-ID: <366c6f340911161951rbbc5d77hccf7d886ca7f14b7@mail.gmail.com>

On Sun, Nov 15, 2009 at 8:45 PM, Peng Yu <pengyu.ut at gmail.com> wrote:
> gcc has options like -MM, which can generate the dependence files for
> a C/C++ file that I can be used by gnu make. I'm wondering if there is
> a tool that can generate dependence file for an R script.
>
> For example, I have an R script test.R
>
> #########test.R
> load('input.RData')
> save.image('output.RData')
>
>
> I want to generate a dependence file like the following. Is there a
> tool to do so?
>
> output.RData:test.R input.RData

Is there a way to automatically generate the output files that depends
on an R script and the input files and sourced files that are depended
by an R script? I don't see this option in R. But I wish this can be
implemented in future version of R.


From ggrothendieck at gmail.com  Tue Nov 17 11:33:35 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 17 Nov 2009 05:33:35 -0500
Subject: [Rd] make.packages.html
Message-ID: <971536df0911170233w71d062cr2bcc9e6246aa0b13@mail.gmail.com>

In "R version 2.10.0 Patched (2009-11-15 r50445)" on Windows Vista
upon issuing help.start() and clicking on Packages I get this.

Packages in C:\Users\Gabor\Documents\R\win-library\2.10

C:\Users\Gabor\Documents/R/win-library/2.10/AER/DESCRIPTION -- Title
is missing --
C:\Users\Gabor\Documents/R/win-library/2.10/akima/DESCRIPTION -- Title
is missing --
C:\Users\Gabor\Documents/R/win-library/2.10/car/DESCRIPTION -- Title
is missing --
C:\Users\Gabor\Documents/R/win-library/2.10/caroline/DESCRIPTION --
Title is missing --
...

Looking at make.packages.html in utils, this code:

    for (lib in lib.loc) {
        pg <- Sys.glob(file.path(lib, "*", "DESCRIPTION"))
        pkgs[[lib]] <- sort(sub(paste(lib, "([^/]*)", "DESCRIPTION$",
            sep = "/"), "\\1", pg))
    }

has the problem that lib can contain regular expression characters but
is used in the pattern of sub.  This could be changed to the following
which does not use lib in any pattern. Only the pkgs[[lib]]<-
statement is changed relative to the original:

    for (lib in lib.loc) {
        pg <- Sys.glob(file.path(lib, "*", "DESCRIPTION"))
        pkgs[[lib]] <- sort(sub(".*[\\/]", "", sub(".DESCRIPTION$", "", pg)))
    }


From murdoch at stats.uwo.ca  Tue Nov 17 11:50:21 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 17 Nov 2009 05:50:21 -0500
Subject: [Rd] make.packages.html
In-Reply-To: <971536df0911170233w71d062cr2bcc9e6246aa0b13@mail.gmail.com>
References: <971536df0911170233w71d062cr2bcc9e6246aa0b13@mail.gmail.com>
Message-ID: <4B027FED.5020900@stats.uwo.ca>

On 17/11/2009 5:33 AM, Gabor Grothendieck wrote:
> In "R version 2.10.0 Patched (2009-11-15 r50445)" on Windows Vista
> upon issuing help.start() and clicking on Packages I get this.
> 
> Packages in C:\Users\Gabor\Documents\R\win-library\2.10
> 
> C:\Users\Gabor\Documents/R/win-library/2.10/AER/DESCRIPTION -- Title
> is missing --
> C:\Users\Gabor\Documents/R/win-library/2.10/akima/DESCRIPTION -- Title
> is missing --
> C:\Users\Gabor\Documents/R/win-library/2.10/car/DESCRIPTION -- Title
> is missing --
> C:\Users\Gabor\Documents/R/win-library/2.10/caroline/DESCRIPTION --
> Title is missing --
> ...
> 
> Looking at make.packages.html in utils, this code:
> 
>     for (lib in lib.loc) {
>         pg <- Sys.glob(file.path(lib, "*", "DESCRIPTION"))
>         pkgs[[lib]] <- sort(sub(paste(lib, "([^/]*)", "DESCRIPTION$",
>             sep = "/"), "\\1", pg))
>     }
> 
> has the problem that lib can contain regular expression characters but
> is used in the pattern of sub.  This could be changed to the following
> which does not use lib in any pattern. Only the pkgs[[lib]]<-
> statement is changed relative to the original:
> 
>     for (lib in lib.loc) {
>         pg <- Sys.glob(file.path(lib, "*", "DESCRIPTION"))
>         pkgs[[lib]] <- sort(sub(".*[\\/]", "", sub(".DESCRIPTION$", "", pg)))
>     }

Thanks, I'll take a look.

Duncan Murdoch


From murdoch at stats.uwo.ca  Tue Nov 17 12:40:00 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 17 Nov 2009 06:40:00 -0500
Subject: [Rd] make.packages.html
In-Reply-To: <971536df0911170233w71d062cr2bcc9e6246aa0b13@mail.gmail.com>
References: <971536df0911170233w71d062cr2bcc9e6246aa0b13@mail.gmail.com>
Message-ID: <4B028B90.4090607@stats.uwo.ca>

On 17/11/2009 5:33 AM, Gabor Grothendieck wrote:
> In "R version 2.10.0 Patched (2009-11-15 r50445)" on Windows Vista
> upon issuing help.start() and clicking on Packages I get this.
> 
> Packages in C:\Users\Gabor\Documents\R\win-library\2.10
> 
> C:\Users\Gabor\Documents/R/win-library/2.10/AER/DESCRIPTION -- Title
> is missing --
> C:\Users\Gabor\Documents/R/win-library/2.10/akima/DESCRIPTION -- Title
> is missing --
> C:\Users\Gabor\Documents/R/win-library/2.10/car/DESCRIPTION -- Title
> is missing --
> C:\Users\Gabor\Documents/R/win-library/2.10/caroline/DESCRIPTION --
> Title is missing --
> ...
> 
> Looking at make.packages.html in utils, this code:
> 
>     for (lib in lib.loc) {
>         pg <- Sys.glob(file.path(lib, "*", "DESCRIPTION"))
>         pkgs[[lib]] <- sort(sub(paste(lib, "([^/]*)", "DESCRIPTION$",
>             sep = "/"), "\\1", pg))
>     }
> 
> has the problem that lib can contain regular expression characters but
> is used in the pattern of sub.  This could be changed to the following
> which does not use lib in any pattern. Only the pkgs[[lib]]<-
> statement is changed relative to the original:
> 
>     for (lib in lib.loc) {
>         pg <- Sys.glob(file.path(lib, "*", "DESCRIPTION"))
>         pkgs[[lib]] <- sort(sub(".*[\\/]", "", sub(".DESCRIPTION$", "", pg)))
>     }

I've committed your patch to R-devel and R-patched now.  Thanks!

Duncan Murdoch


From pengyu.ut at gmail.com  Tue Nov 17 14:02:32 2009
From: pengyu.ut at gmail.com (Peng Yu)
Date: Tue, 17 Nov 2009 07:02:32 -0600
Subject: [Rd] How to generate dependency file that can be used by gnu
	make?
In-Reply-To: <8d4c23b10911162133t2dcf3d15l14b6d864c3be1616@mail.gmail.com>
References: <366c6f340911151845w75c4443j848d4edf986e7aa@mail.gmail.com>
	<366c6f340911161951rbbc5d77hccf7d886ca7f14b7@mail.gmail.com>
	<8d4c23b10911162133t2dcf3d15l14b6d864c3be1616@mail.gmail.com>
Message-ID: <366c6f340911170502t7fe40f12v440787818528d77a@mail.gmail.com>

This may not easy to do, when the filename are not hard coded strings.
For example, the variable 'filename' is a vector of strings.

for (i in 1:length(filename)){
do something...
save(....,file=filename[i])
}

On Mon, Nov 16, 2009 at 11:33 PM, Linlin Yan <yanlinlin82 at gmail.com> wrote:
> I don't think this function is same as gcc's option -MM. Because gcc
> checks pre-compile command #include, in which the filename can be
> fetched definitely. But in your scenario, the filename may be from
> some variables, which can not be determined by the R script only.
> Maybe you can write a tool by yourself to parse the R syntax to
> resolve your problem.
>
> On Tue, Nov 17, 2009 at 11:51 AM, Peng Yu <pengyu.ut at gmail.com> wrote:
>> On Sun, Nov 15, 2009 at 8:45 PM, Peng Yu <pengyu.ut at gmail.com> wrote:
>>> gcc has options like -MM, which can generate the dependence files for
>>> a C/C++ file that I can be used by gnu make. I'm wondering if there is
>>> a tool that can generate dependence file for an R script.
>>>
>>> For example, I have an R script test.R
>>>
>>> #########test.R
>>> load('input.RData')
>>> save.image('output.RData')
>>>
>>>
>>> I want to generate a dependence file like the following. Is there a
>>> tool to do so?
>>>
>>> output.RData:test.R input.RData
>>
>> Is there a way to automatically generate the output files that depends
>> on an R script and the input files and sourced files that are depended
>> by an R script? I don't see this option in R. But I wish this can be
>> implemented in future version of R.
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>


From seth at userprimary.net  Tue Nov 17 16:25:45 2009
From: seth at userprimary.net (Seth Falcon)
Date: Tue, 17 Nov 2009 07:25:45 -0800
Subject: [Rd] How to generate dependency file that can be used by gnu
 make?
In-Reply-To: <366c6f340911170502t7fe40f12v440787818528d77a@mail.gmail.com>
References: <366c6f340911151845w75c4443j848d4edf986e7aa@mail.gmail.com>	<366c6f340911161951rbbc5d77hccf7d886ca7f14b7@mail.gmail.com>	<8d4c23b10911162133t2dcf3d15l14b6d864c3be1616@mail.gmail.com>
	<366c6f340911170502t7fe40f12v440787818528d77a@mail.gmail.com>
Message-ID: <4B02C079.9020107@userprimary.net>

On 11/17/09 5:02 AM, Peng Yu wrote:
> This may not easy to do, when the filename are not hard coded strings.
> For example, the variable 'filename' is a vector of strings.
>
> for (i in 1:length(filename)){
> do something...
> save(....,file=filename[i])
> }
>

That's right.  I don't think there is a feasible general solution.  You 
might have more success with a convention-based approach for your 
scripts that would allow a simple parser to identify output files by 
name convention, for example.

+ seth


From hadley at rice.edu  Tue Nov 17 16:26:03 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Tue, 17 Nov 2009 09:26:03 -0600
Subject: [Rd] Codoc mismatches
Message-ID: <f8e6ff050911170726ic61a885p35ec4516e6931413@mail.gmail.com>

I have a function:

source_dir <- function(path, pattern = "\\.[rR]$", chdir = TRUE) ...

documented with

...
\usage{source_dir(path, pattern="\\.[rR]$", chdir=TRUE)}
...

But I get

Codoc mismatches from documentation object 'source_dir':
source_dir
  Code: function(path, pattern = "\\.[rR]$", chdir = TRUE)
  Docs: function(path, pattern = "\.[rR]$", chdir = TRUE)
  Mismatches in argument default values:
    Name: 'pattern' Code: "\\.[rR]$" Docs: "\.[rR]$"


Is this a bug, or do I need

\usage{source_dir(path, pattern="\\\\.[rR]$", chdir=TRUE)}

?

Hadley

-- 
http://had.co.nz/


From murdoch at stats.uwo.ca  Tue Nov 17 17:30:57 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 17 Nov 2009 11:30:57 -0500
Subject: [Rd] R crash with intToUtf8 on huge vectors (PR#14068)
In-Reply-To: <20091116131009.62BFA282C768@mail.pubhealth.ku.dk>
References: <20091116131009.62BFA282C768@mail.pubhealth.ku.dk>
Message-ID: <4B02CFC1.5070008@stats.uwo.ca>

On 11/16/2009 8:10 AM, g.russell at eos-solutions.com wrote:
> Full_Name: George Russell
> Version: 2.10.0
> OS: Windows XP Professional Version 2002 Service Pack 2
> Submission from: (NULL) (217.111.3.131)
> 
> 
> Typing the following command into R --vanilla causes R to crash:
> 
> k <- intToUtf8(rep(1e3,1e7))


Brian Ripley has tracked this one down and a fix should appear shortly. 
    The intToUtf8 code was written for reasonably small conversions, and 
it overflowed the stack when it tried to produce a 20 megabyte string there.

Do you have a real application that works with such large strings?

Duncan Murdoch

> This is the output of sessionInfo():
> R version 2.10.0 (2009-10-26) 
> i386-pc-mingw32 
> 
> locale:
> [1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252   
> [3] LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                   
> [5] LC_TIME=German_Germany.1252    
> 
> attached base packages:
> [1] stats     graphics  grDevices datasets  utils     methods   base     
> 
> other attached packages:
> [1] RODBC_1.3-1
> 
> Many thanks for your help and best wishes,
> 
> George Russell
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Tue Nov 17 17:20:30 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 17 Nov 2009 16:20:30 +0000 (GMT)
Subject: [Rd] R crash with intToUtf8 on huge vectors (PR#14068)
In-Reply-To: <20091116131009.62BFA282C768@mail.pubhealth.ku.dk>
References: <20091116131009.62BFA282C768@mail.pubhealth.ku.dk>
Message-ID: <alpine.LFD.2.00.0911171613470.29343@gannet.stats.ox.ac.uk>

Basically you have exceeded a resource limit, and Windows has not 
handled that gracefully (other OSes do in your example).  You are 
trying to create a single 20Mb string and no one envisaged anyone 
wanting to do that (nor that Windows would not fail gracefully, 
although generically that comes as no real surprise)).

We'll change the method to cope with very large strings (more slowly), 
but perhaps you could explain the real-world problem that needs 20Mb
strings to be produced from integer representations of Unicode points?

On Mon, 16 Nov 2009, g.russell at eos-solutions.com wrote:

> Full_Name: George Russell
> Version: 2.10.0
> OS: Windows XP Professional Version 2002 Service Pack 2
> Submission from: (NULL) (217.111.3.131)
>
>
> Typing the following command into R --vanilla causes R to crash:
>
> k <- intToUtf8(rep(1e3,1e7))
>
> This is the output of sessionInfo():
> R version 2.10.0 (2009-10-26)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252
> [3] LC_MONETARY=German_Germany.1252 LC_NUMERIC=C
> [5] LC_TIME=German_Germany.1252
>
> attached base packages:
> [1] stats     graphics  grDevices datasets  utils     methods   base
>
> other attached packages:
> [1] RODBC_1.3-1
>
> Many thanks for your help and best wishes,
>
> George Russell
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From wdunlap at tibco.com  Tue Nov 17 17:57:07 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Tue, 17 Nov 2009 08:57:07 -0800
Subject: [Rd] make.packages.html
In-Reply-To: <4B027FED.5020900@stats.uwo.ca>
References: <971536df0911170233w71d062cr2bcc9e6246aa0b13@mail.gmail.com>
	<4B027FED.5020900@stats.uwo.ca>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D700022871D2@NA-PA-VBE03.na.tibco.com>


> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Duncan Murdoch
> Sent: Tuesday, November 17, 2009 2:50 AM
> To: Gabor Grothendieck
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] make.packages.html
> 
> On 17/11/2009 5:33 AM, Gabor Grothendieck wrote:
> > In "R version 2.10.0 Patched (2009-11-15 r50445)" on Windows Vista
> > upon issuing help.start() and clicking on Packages I get this.
> > 
> > Packages in C:\Users\Gabor\Documents\R\win-library\2.10
> > 
> > C:\Users\Gabor\Documents/R/win-library/2.10/AER/DESCRIPTION -- Title
> > is missing --
> > 
> C:\Users\Gabor\Documents/R/win-library/2.10/akima/DESCRIPTION -- Title
> > is missing --
> > C:\Users\Gabor\Documents/R/win-library/2.10/car/DESCRIPTION -- Title
> > is missing --
> > C:\Users\Gabor\Documents/R/win-library/2.10/caroline/DESCRIPTION --
> > Title is missing --
> > ...
> > 
> > Looking at make.packages.html in utils, this code:
> > 
> >     for (lib in lib.loc) {
> >         pg <- Sys.glob(file.path(lib, "*", "DESCRIPTION"))
> >         pkgs[[lib]] <- sort(sub(paste(lib, "([^/]*)", 
> "DESCRIPTION$",
> >             sep = "/"), "\\1", pg))
> >     }
> > 
> > has the problem that lib can contain regular expression 
> characters but
> > is used in the pattern of sub.  This could be changed to 
> the following
> > which does not use lib in any pattern. Only the pkgs[[lib]]<-
> > statement is changed relative to the original:
> > 
> >     for (lib in lib.loc) {
> >         pg <- Sys.glob(file.path(lib, "*", "DESCRIPTION"))
> >         pkgs[[lib]] <- sort(sub(".*[\\/]", "", 
> sub(".DESCRIPTION$", "", pg)))
> >     }
> 
> Thanks, I'll take a look.

Hadley Wickham asked last week about a function that escaped
all the regular-expression special characters in a
string, so one could use gsub with fixed=TRUE,
and I suggested

   asFixedRegex <- function(pattern) {
      gsub("([][^${}().?*+|\\])", "\\\\\\1", pattern)
   }

(I left out the | in the original mail).  asFixedRegex()
could be used to fix this problem by changing 'lib' to
'asFixedRegex(lib)' in the offending call to sub
  sub(paste(asFixedRegex(lib), "([^/]*)", "DESCRIPTION$", sep = "/"),
     "\\1", pg)

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com 

> 
> Duncan Murdoch
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From xieyihui at gmail.com  Tue Nov 17 19:26:48 2009
From: xieyihui at gmail.com (Yihui Xie)
Date: Tue, 17 Nov 2009 12:26:48 -0600
Subject: [Rd] Codoc mismatches
In-Reply-To: <f8e6ff050911170726ic61a885p35ec4516e6931413@mail.gmail.com>
References: <f8e6ff050911170726ic61a885p35ec4516e6931413@mail.gmail.com>
Message-ID: <89b6b8c90911171026m5c6c88d2v487288e301375669@mail.gmail.com>

You need \\\\. See R-exts 2.14.2. It also confused me the other day.

Regards,
Yihui
--
Yihui Xie <xieyihui at gmail.com>
Phone: 515-294-6609 Web: http://yihui.name
Department of Statistics, Iowa State University
3211 Snedecor Hall, Ames, IA



On Tue, Nov 17, 2009 at 9:26 AM, Hadley Wickham <hadley at rice.edu> wrote:
> I have a function:
>
> source_dir <- function(path, pattern = "\\.[rR]$", chdir = TRUE) ...
>
> documented with
>
> ...
> \usage{source_dir(path, pattern="\\.[rR]$", chdir=TRUE)}
> ...
>
> But I get
>
> Codoc mismatches from documentation object 'source_dir':
> source_dir
> ?Code: function(path, pattern = "\\.[rR]$", chdir = TRUE)
> ?Docs: function(path, pattern = "\.[rR]$", chdir = TRUE)
> ?Mismatches in argument default values:
> ? ?Name: 'pattern' Code: "\\.[rR]$" Docs: "\.[rR]$"
>
>
> Is this a bug, or do I need
>
> \usage{source_dir(path, pattern="\\\\.[rR]$", chdir=TRUE)}
>
> ?
>
> Hadley
>
> --
> http://had.co.nz/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From guillaume.yziquel at citycable.ch  Wed Nov 18 02:45:53 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Wed, 18 Nov 2009 02:45:53 +0100
Subject: [Rd] R_NilValue and segfault.
Message-ID: <4B0351D1.5040105@citycable.ch>

Hello.

I've been trying to wrap up the R_NilValue into OCaml-R. I nevertheless 
get a segfault.

As I gathered, R_NilValue is declared in Rinternals.h:

> /* Special Values */
> LibExtern SEXP  R_NilValue;         /* The nil object */
> LibExtern SEXP  R_UnboundValue;     /* Unbound marker */
> LibExtern SEXP  R_MissingArg;       /* Missing argument marker */

So, in my r_data.c file, I have:

-1- an #include directive.

> #include <Rinternals.h>

-2- the function wrapping R data in OCaml data

> CAMLprim value Val_sexp (SEXP sexp)
> {
>   CAMLparam0();
>   CAMLlocal1(result);
>   result = caml_alloc(1, Abstract_tag);
>   Field(result, 0) = (value) sexp;
>     /* Do not use Val_long in the above statement,
>        as it will drop the top bit. See mlvalues.h. */
>   CAMLreturn(result);
> }

and a function taking no argument (in the sense of OCaml), and returning 
an OCaml object encapsulating a pointer which is R_NilValue. (R_NilValue 
is already a pointer, so we just copy it).

> /* The NULL constant in R... */
> 
> CAMLprim value r_null (value unit) {
>   CAMLparam1(unit);
>   CAMLreturn(Val_sexp(R_NilValue));
> }

OCaml code is straightforward:

> external null_creator : unit -> sexp = "r_null"
> let null = null_creator ()

And I get a segfault:

>         Objective Caml version 3.11.1
> 
> # R.sexptype (R.sexp "1");;
> - : R.sexptype = R.RealSxp
> # R.sexptype Quantmod.getSymbols;;
> - : R.sexptype = R.PromSxp

The two above are fine, but inspecting the type of R.null gives me a 
segfault.

> # R.sexptype R.null;;
> /usr/bin/ocaml-batteries: line 2:  3723 Erreur de segmentation  "/usr/lib/ocaml/batteries/toplevel.top" "/usr/lib/ocaml/batteries/top.ml" $@

Please tell me if there's anything obvious which causes this. There's a 
lot of conditional compilation directives in Rinternals.h, and I'm 
wondering whether or not that might be an issue.

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From guillaume.yziquel at citycable.ch  Wed Nov 18 03:31:19 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Wed, 18 Nov 2009 03:31:19 +0100
Subject: [Rd] R_NilValue and segfault.
In-Reply-To: <4B0351D1.5040105@citycable.ch>
References: <4B0351D1.5040105@citycable.ch>
Message-ID: <4B035C77.9000504@citycable.ch>

Guillaume Yziquel a ?crit :
> Hello.
> 
> I've been trying to wrap up the R_NilValue into OCaml-R. I nevertheless 
> get a segfault.

Is the value of R_NilValue (I mean the address in the R_NilValue pointer 
located in the uninitialized data section - i.e. the BSS section) set up 
*after* the init function is called?

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From guillaume.yziquel at citycable.ch  Wed Nov 18 03:39:35 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Wed, 18 Nov 2009 03:39:35 +0100
Subject: [Rd] R_NilValue and segfault.
In-Reply-To: <4B035C77.9000504@citycable.ch>
References: <4B0351D1.5040105@citycable.ch> <4B035C77.9000504@citycable.ch>
Message-ID: <4B035E67.4060502@citycable.ch>

Guillaume Yziquel a ?crit :
> Guillaume Yziquel a ?crit :
>> Hello.
>>
>> I've been trying to wrap up the R_NilValue into OCaml-R. I 
>> nevertheless get a segfault.
> 
> Is the value of R_NilValue (I mean the address in the R_NilValue pointer 
> located in the uninitialized data section - i.e. the BSS section) set up 
> *after* the init function is called?

I mean: after the Rf_initEmbeddedR is called?

I Objective Caml is really static. Which means that if I declare R.null 
to be R_NilValue, it will take the value of the pointer before 
Rf_initEmbeddedR is executed. And it would be garbage. That would 
perhaps be my issue.

Could someone confirm?

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From murdoch at stats.uwo.ca  Wed Nov 18 04:11:26 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 17 Nov 2009 22:11:26 -0500
Subject: [Rd] R_NilValue and segfault.
In-Reply-To: <4B035C77.9000504@citycable.ch>
References: <4B0351D1.5040105@citycable.ch> <4B035C77.9000504@citycable.ch>
Message-ID: <4B0365DE.7060907@stats.uwo.ca>

On 17/11/2009 9:31 PM, Guillaume Yziquel wrote:
> Guillaume Yziquel a ?crit :
>> Hello.
>>
>> I've been trying to wrap up the R_NilValue into OCaml-R. I nevertheless 
>> get a segfault.
> 
> Is the value of R_NilValue (I mean the address in the R_NilValue pointer 
> located in the uninitialized data section - i.e. the BSS section) set up 
> *after* the init function is called?

It is initialized in InitMemory, called from setup_Rmainloop, called 
from various places, including Rf_initEmbeddedR, which you should be 
calling.

Duncan Murdoch


From guillaume.yziquel at citycable.ch  Wed Nov 18 05:45:20 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Wed, 18 Nov 2009 05:45:20 +0100
Subject: [Rd] R_NilValue and segfault.
In-Reply-To: <4B0365DE.7060907@stats.uwo.ca>
References: <4B0351D1.5040105@citycable.ch> <4B035C77.9000504@citycable.ch>
	<4B0365DE.7060907@stats.uwo.ca>
Message-ID: <4B037BE0.2070803@citycable.ch>

Duncan Murdoch a ?crit :
> On 17/11/2009 9:31 PM, Guillaume Yziquel wrote:
>> Guillaume Yziquel a ?crit :
>>> Hello.
>>>
>>> I've been trying to wrap up the R_NilValue into OCaml-R. I 
>>> nevertheless get a segfault.
>>
>> Is the value of R_NilValue (I mean the address in the R_NilValue 
>> pointer located in the uninitialized data section - i.e. the BSS 
>> section) set up *after* the init function is called?
> 
> It is initialized in InitMemory, called from setup_Rmainloop, called 
> from various places, including Rf_initEmbeddedR, which you should be 
> calling.
> 
> Duncan Murdoch

Unfortunately, it's up to the user of my binding to choose in which 
order he will access Rf_initEmbeddedR or the NULL sexp. Not to me.

Thanks for the confirmation. I found a workaround.

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From ripley at stats.ox.ac.uk  Wed Nov 18 10:02:14 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 18 Nov 2009 09:02:14 +0000 (GMT)
Subject: [Rd] two small wishes (with code sugegstions) for R-core
In-Reply-To: <1405222243@web.de>
References: <1405222243@web.de>
Message-ID: <alpine.LFD.2.00.0911161638540.14954@gannet.stats.ox.ac.uk>

I've incorporated a more correct version of 1: think about what 
happens if the next method also copies over the class, for example.
(It was more complicated than that: [.AsIs was used for other classes 
in R -- did you actually test your suggestion, as 'make check' failed 
for me?)

But write.csv[2] are just wrappers, and if you want to do something 
complicated simply don't use them.  They are intended to help naive 
users of .csv files get them right, and banning append=TRUE seems the 
best way to help do that.  (A recent R-help thread shows that 
non-users of Excel are often unaware of its exact requirements -- and 
that includes me.)

The wishes may be small: the work to implement and test them is often 
not.

On Mon, 2 Nov 2009, Jens Oehlschl?gel wrote:

> Dear R developers,
>
> It would be great if you could implement the two minor code changes suggested below, which would help processing large objects in R.
>
>
> Jens Oehlschl?gel
>
>
> # Wish no. 1: let [.AsIs return the class AFTER subsetting, not the class of the original object
> # Wish no. 2: adjust write.csv and write.csv2 for multiple calls in chunked writing
>
> # Rationale no. 1: a couple of packages will return a different class than SomeClass when subsetting with [.SomeClass
> # and still need to keep the AsIs property
> # Examples for classes returning different classes on subscipting are in packages 'bit', 'ff', 'bigmemory'
> # For classes where [.SomeClass will return class SomeClass, such a change will not hurt
>
> # Code suggestion no. 1: please use
> "[.AsIs" <- function (x, i, ...){
>      ret <- NextMethod("[")
>      oldClass(ret) <- c("AsIs", oldClass(ret))
>      ret
> }
> # instead of
> "[.AsIs" <- function (x, i, ...)
> structure(NextMethod("["), class = class(x))
>
>
> # Rationale no. 2: write.csv and write.csv2 currently enforce that a header must be written, even with append=TRUE
> # This prevents a csv file being written in chunks.
> # If argument append=TRUE is used, a header should not be enforced (may be even be forbidden)
>
> # Code suggestion no. 2: please use
> write.csv <-
> function (...)
> {
>    Call <- match.call(write.table, expand.dots = TRUE)
>    for (argname in c("col.names", "sep", "dec", "qmethod")) if (!is.null(Call[[argname]]))
>        warning(gettextf("attempt to set '%s' ignored", argname),
>            domain = NA)
>    rn <- eval.parent(Call$row.names)
>    ap <- eval.parent(Call$append)
>    Call$col.names <- if (is.logical(ap) && ap) FALSE else {if (is.logical(rn) && !rn) TRUE else NA}
>    Call$sep <- ","
>    Call$dec <- "."
>    Call$qmethod <- "double"
>    Call[[1L]] <- as.name("write.table")
>    eval.parent(Call)
> }
> write.csv2 <-
> function (...)
> {
>    Call <- match.call(write.table, expand.dots = TRUE)
>    for (argname in c("col.names", "sep", "dec", "qmethod")) if (!is.null(Call[[argname]]))
>        warning(gettextf("attempt to set '%s' ignored", argname),
>            domain = NA)
>    rn <- eval.parent(Call$row.names)
>    ap <- eval.parent(Call$append)
>    Call$col.names <- if (is.logical(ap) && ap) FALSE else {if (is.logical(rn) && !rn) TRUE else NA}
>    Call$sep <- ";"
>    Call$dec <- ","
>    Call$qmethod <- "double"
>    Call[[1L]] <- as.name("write.table")
>    eval.parent(Call)
> }
> # instead of
> write.csv <- function (...)
> {
>    Call <- match.call(expand.dots = TRUE)
>    for (argname in c("col.names", "sep", "dec", "qmethod")) if (!is.null(Call[[argname]]))
>        warning(gettextf("attempt to set '%s' ignored", argname),
>            domain = NA)
>    rn <- eval.parent(Call$row.names)
>    Call$col.names <- if (is.logical(rn) && !rn)
>        TRUE
>    else NA
>    Call$sep <- ","
>    Call$dec <- "."
>    Call$qmethod <- "double"
>    Call[[1L]] <- as.name("write.table")
>    eval.parent(Call)
> }
> write.csv2 <-
> function (...)
> {
>    Call <- match.call(expand.dots = TRUE)
>    for (argname in c("col.names", "sep", "dec", "qmethod")) if (!is.null(Call[[argname]]))
>        warning(gettextf("attempt to set '%s' ignored", argname),
>            domain = NA)
>    rn <- eval.parent(Call$row.names)
>    Call$col.names <- if (is.logical(rn) && !rn)
>        TRUE
>    else NA
>    Call$sep <- ";"
>    Call$dec <- ","
>    Call$qmethod <- "double"
>    Call[[1L]] <- as.name("write.table")
>    eval.parent(Call)
> }
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From groemping at bht-berlin.de  Wed Nov 18 10:58:35 2009
From: groemping at bht-berlin.de (Ulrike Groemping)
Date: Wed, 18 Nov 2009 01:58:35 -0800 (PST)
Subject: [Rd]  Link to pdf documentation from other package ?
Message-ID: <26405139.post@talk.nabble.com>


Dear developeRs,

I have not found anything recent about how to link to a vignette or other
documentation from within Rd-files. Is this now possible with the new help
system ? For example, I would like to link to the file AlgDesign.pdf
provided within the doc directory of package AlgDesign.

Thanks for any suggestions,
regards, Ulrike 
-- 
View this message in context: http://old.nabble.com/Link-to-pdf-documentation-from-other-package---tp26405139p26405139.html
Sent from the R devel mailing list archive at Nabble.com.


From murdoch at stats.uwo.ca  Wed Nov 18 12:41:24 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 18 Nov 2009 06:41:24 -0500
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <26405139.post@talk.nabble.com>
References: <26405139.post@talk.nabble.com>
Message-ID: <4B03DD64.6010206@stats.uwo.ca>

Ulrike Groemping wrote:
> Dear developeRs,
>
> I have not found anything recent about how to link to a vignette or other
> documentation from within Rd-files. Is this now possible with the new help
> system ? For example, I would like to link to the file AlgDesign.pdf
> provided within the doc directory of package AlgDesign.
>
>   

Yes, you can do it with a \url{} macro.  Use a relative link, acting as 
though the starting page is located in /library/AlgDesign/html/*.  So 
\url{../doc/AlgDesign.pdf}
should work from the same package, 
\url{../../AlgDesign/doc/AlgDesign.pdf} from elsewhere.  Please let me 
know if this doesn't work, I haven't tested.

Duncan Murdoch
> Thanks for any suggestions,
> regards, Ulrike 
>


From groemping at bht-berlin.de  Wed Nov 18 13:06:48 2009
From: groemping at bht-berlin.de (Ulrike Groemping)
Date: Wed, 18 Nov 2009 04:06:48 -0800 (PST)
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <4B03DD64.6010206@stats.uwo.ca>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca>
Message-ID: <26406675.post@talk.nabble.com>




Duncan Murdoch-2 wrote:
> 
> Ulrike Groemping wrote:
>> Dear developeRs,
>>
>> I have not found anything recent about how to link to a vignette or other
>> documentation from within Rd-files. Is this now possible with the new
>> help
>> system ? For example, I would like to link to the file AlgDesign.pdf
>> provided within the doc directory of package AlgDesign.
>>
>>   
> 
> Yes, you can do it with a \url{} macro.  Use a relative link, acting as 
> though the starting page is located in /library/AlgDesign/html/*.  So 
> \url{../doc/AlgDesign.pdf}
> should work from the same package, 
> \url{../../AlgDesign/doc/AlgDesign.pdf} from elsewhere.  Please let me 
> know if this doesn't work, I haven't tested.
> 
> Duncan Murdoch
> 

Yes, this works, thanks! Is it also possible to display an alternative text
instead of the URL itself, like with other links (e.g. show text "Open pdf"
that operates the link) ?

Regards, Ulrike

-- 
View this message in context: http://old.nabble.com/Link-to-pdf-documentation-from-other-package---tp26405139p26406675.html
Sent from the R devel mailing list archive at Nabble.com.


From Jerry.Lewis at biogenidec.com  Tue Nov 17 05:05:10 2009
From: Jerry.Lewis at biogenidec.com (Jerry.Lewis at biogenidec.com)
Date: Tue, 17 Nov 2009 05:05:10 +0100 (CET)
Subject: [Rd] pt not monotonic with large noncentrality (PR#14069)
Message-ID: <20091117040510.193382830317@mail.pubhealth.ku.dk>

Full_Name: Jerry W. Lewis
Version: 2.10.0
OS: Windows XP Professional
Submission from: (NULL) (96.237.55.233)


pt(0,3,200)      # correctly returns 0
pt(-1000,3,200)  # erroniously returns 0.003116595

Since pt(0,df,nc) = pnorm(-nc), there is an easily computed upper bound for
pt(-t,df,nc) where t>0 and nc>0.


From murdoch at stats.uwo.ca  Wed Nov 18 13:13:29 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 18 Nov 2009 07:13:29 -0500
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <26406675.post@talk.nabble.com>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca>
	<26406675.post@talk.nabble.com>
Message-ID: <4B03E4E9.1090209@stats.uwo.ca>

Ulrike Groemping wrote:
>
> Duncan Murdoch-2 wrote:
>   
>> Ulrike Groemping wrote:
>>     
>>> Dear developeRs,
>>>
>>> I have not found anything recent about how to link to a vignette or other
>>> documentation from within Rd-files. Is this now possible with the new
>>> help
>>> system ? For example, I would like to link to the file AlgDesign.pdf
>>> provided within the doc directory of package AlgDesign.
>>>
>>>   
>>>       
>> Yes, you can do it with a \url{} macro.  Use a relative link, acting as 
>> though the starting page is located in /library/AlgDesign/html/*.  So 
>> \url{../doc/AlgDesign.pdf}
>> should work from the same package, 
>> \url{../../AlgDesign/doc/AlgDesign.pdf} from elsewhere.  Please let me 
>> know if this doesn't work, I haven't tested.
>>
>> Duncan Murdoch
>>
>>     
>
> Yes, this works, thanks! Is it also possible to display an alternative text
> instead of the URL itself, like with other links (e.g. show text "Open pdf"
> that operates the link) ?
>
>   

There's no optional text in the \url{} tag, but you could embed it in an 
\ifelse tag, e.g.

\ifelse{html}{\url{ ....  }}{ [open pdf ...] }

might work.  Using the \ifelse tag will make your package depend on R >= 
2.10.0.

Duncan Murdoch
>


From abhibera at gmail.com  Wed Nov 18 13:21:24 2009
From: abhibera at gmail.com (Abhijit Bera)
Date: Wed, 18 Nov 2009 17:21:24 +0500
Subject: [Rd] Help with R on windows
Message-ID: <fc212e850911180421l52be9e39jdcb76bdddaeb9577@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091118/4e2caee7/attachment.pl>

From groemping at bht-berlin.de  Wed Nov 18 13:28:51 2009
From: groemping at bht-berlin.de (=?ISO-8859-1?Q?Ulrike_Gr=F6mping?=)
Date: Wed, 18 Nov 2009 13:28:51 +0100
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <4B03E4E9.1090209@stats.uwo.ca>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca>
	<26406675.post@talk.nabble.com> <4B03E4E9.1090209@stats.uwo.ca>
Message-ID: <4B03E883.1080707@bht-berlin.de>

Duncan Murdoch schrieb:
> Ulrike Groemping wrote:
>>
>> Duncan Murdoch-2 wrote:
>>  
>>> Ulrike Groemping wrote:
>>>    
>>>> Dear developeRs,
>>>>
>>>> I have not found anything recent about how to link to a vignette or 
>>>> other
>>>> documentation from within Rd-files. Is this now possible with the new
>>>> help
>>>> system ? For example, I would like to link to the file AlgDesign.pdf
>>>> provided within the doc directory of package AlgDesign.
>>>>
>>>>         
>>> Yes, you can do it with a \url{} macro.  Use a relative link, acting 
>>> as though the starting page is located in 
>>> /library/AlgDesign/html/*.  So \url{../doc/AlgDesign.pdf}
>>> should work from the same package, 
>>> \url{../../AlgDesign/doc/AlgDesign.pdf} from elsewhere.  Please let 
>>> me know if this doesn't work, I haven't tested.
>>>
>>> Duncan Murdoch
>>>
>>>     
>>
>> Yes, this works, thanks! Is it also possible to display an 
>> alternative text
>> instead of the URL itself, like with other links (e.g. show text 
>> "Open pdf"
>> that operates the link) ?
>>
>>   
>
> There's no optional text in the \url{} tag, but you could embed it in 
> an \ifelse tag, e.g.
>
> \ifelse{html}{\url{ ....  }}{ [open pdf ...] }
>
> might work.  Using the \ifelse tag will make your package depend on R 
> >= 2.10.0.
>
> Duncan Murdoch
>>   
Another thought: the link only works, if the two packages are installed 
in the same library, doesn't it ? Would there be a way to make it work 
independently of this restriction ?

Regards, Ulrike


From ml-it-r-devel at epigenomics.com  Wed Nov 18 14:01:17 2009
From: ml-it-r-devel at epigenomics.com (ml-it-r-devel at epigenomics.com)
Date: Wed, 18 Nov 2009 14:01:17 +0100
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <4B03E883.1080707@bht-berlin.de>
References: <26405139.post@talk.nabble.com>
	<4B03DD64.6010206@stats.uwo.ca>	<26406675.post@talk.nabble.com>
	<4B03E4E9.1090209@stats.uwo.ca> <4B03E883.1080707@bht-berlin.de>
Message-ID: <4B03F01D.4010400@epigenomics.com>

Ulrike Gr?mping wrote, On 11/18/09 13:28:
> Duncan Murdoch schrieb:
>> Ulrike Groemping wrote:
>>>
>>> Duncan Murdoch-2 wrote:
>>>  
>>>> Ulrike Groemping wrote:
>>>>   
>>>>> Dear developeRs,
>>>>>
>>>>> I have not found anything recent about how to link to a vignette or
>>>>> other
>>>>> documentation from within Rd-files. Is this now possible with the new
>>>>> help
>>>>> system ? For example, I would like to link to the file AlgDesign.pdf
>>>>> provided within the doc directory of package AlgDesign.
>>>>>
>>>>>         
>>>> Yes, you can do it with a \url{} macro.  Use a relative link, acting
>>>> as though the starting page is located in
>>>> /library/AlgDesign/html/*.  So \url{../doc/AlgDesign.pdf}
>>>> should work from the same package,
>>>> \url{../../AlgDesign/doc/AlgDesign.pdf} from elsewhere.  Please let
>>>> me know if this doesn't work, I haven't tested.
>>>>
>>>> Duncan Murdoch
>>>>
>>>>     
>>>
>>> Yes, this works, thanks! Is it also possible to display an
>>> alternative text
>>> instead of the URL itself, like with other links (e.g. show text
>>> "Open pdf"
>>> that operates the link) ?
>>>
>>>   
>>
>> There's no optional text in the \url{} tag, but you could embed it in
>> an \ifelse tag, e.g.
>>
>> \ifelse{html}{\url{ ....  }}{ [open pdf ...] }
>>
>> might work.  Using the \ifelse tag will make your package depend on R
>> >= 2.10.0.
>>
>> Duncan Murdoch
>>>   
> Another thought: the link only works, if the two packages are installed
> in the same library, doesn't it ? Would there be a way to make it work
> independently of this restriction ?

you could use the Sweave like macro to compute the path inside the Rd environments

\Sexpr{file.path(system.file(package="AlgDesign", "doc"), "AlgDesign.pdf")}

described in 'Writing R extensions' 2.11
<http://stat.ethz.ch/R-manual/R-patched/doc/manual/R-exts.html#Dynamic-pages>

> Regards, Ulrike
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


-- 
Matthias Burger                     Project Manager/ Biostatistician
Epigenomics AG    Kleine Praesidentenstr. 1    10178 Berlin, Germany
phone:+49-30-24345-0                            fax:+49-30-24345-555
http://www.epigenomics.com           matthias.burger at epigenomics.com
--
Epigenomics AG Berlin           Amtsgericht Charlottenburg HRB 75861
Vorstand:                           Geert Nygaard (CEO/Vorsitzender)
                                            Oliver Schacht PhD (CFO)
Aufsichtsrat:   Prof. Dr. Dr. hc. Rolf Krebs (Chairman/Vorsitzender)


From murdoch at stats.uwo.ca  Wed Nov 18 14:22:11 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 18 Nov 2009 08:22:11 -0500
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <4B03E883.1080707@bht-berlin.de>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca>
	<26406675.post@talk.nabble.com> <4B03E4E9.1090209@stats.uwo.ca>
	<4B03E883.1080707@bht-berlin.de>
Message-ID: <4B03F503.6090005@stats.uwo.ca>

On 11/18/2009 7:28 AM, Ulrike Gr?mping wrote:
> Duncan Murdoch schrieb:
>> Ulrike Groemping wrote:
>>>
>>> Duncan Murdoch-2 wrote:
>>>  
>>>> Ulrike Groemping wrote:
>>>>    
>>>>> Dear developeRs,
>>>>>
>>>>> I have not found anything recent about how to link to a vignette or 
>>>>> other
>>>>> documentation from within Rd-files. Is this now possible with the new
>>>>> help
>>>>> system ? For example, I would like to link to the file AlgDesign.pdf
>>>>> provided within the doc directory of package AlgDesign.
>>>>>
>>>>>         
>>>> Yes, you can do it with a \url{} macro.  Use a relative link, acting 
>>>> as though the starting page is located in 
>>>> /library/AlgDesign/html/*.  So \url{../doc/AlgDesign.pdf}
>>>> should work from the same package, 
>>>> \url{../../AlgDesign/doc/AlgDesign.pdf} from elsewhere.  Please let 
>>>> me know if this doesn't work, I haven't tested.
>>>>
>>>> Duncan Murdoch
>>>>
>>>>     
>>>
>>> Yes, this works, thanks! Is it also possible to display an 
>>> alternative text
>>> instead of the URL itself, like with other links (e.g. show text 
>>> "Open pdf"
>>> that operates the link) ?
>>>
>>>   
>>
>> There's no optional text in the \url{} tag, but you could embed it in 
>> an \ifelse tag, e.g.
>>
>> \ifelse{html}{\url{ ....  }}{ [open pdf ...] }
>>
>> might work.  Using the \ifelse tag will make your package depend on R 
>> >= 2.10.0.
>>
>> Duncan Murdoch
>>>   
> Another thought: the link only works, if the two packages are installed 
> in the same library, doesn't it ? Would there be a way to make it work 
> independently of this restriction ?

With dynamic help, it doesn't matter where they are installed.  If you 
install the static HTML pages, then it matters.

Duncan Murdoch


From murdoch at stats.uwo.ca  Wed Nov 18 14:29:15 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 18 Nov 2009 08:29:15 -0500
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <4B03F01D.4010400@epigenomics.com>
References: <26405139.post@talk.nabble.com>	<4B03DD64.6010206@stats.uwo.ca>	<26406675.post@talk.nabble.com>	<4B03E4E9.1090209@stats.uwo.ca>
	<4B03E883.1080707@bht-berlin.de> <4B03F01D.4010400@epigenomics.com>
Message-ID: <4B03F6AB.8080503@stats.uwo.ca>

On 11/18/2009 8:01 AM, ml-it-r-devel at epigenomics.com wrote:
> Ulrike Gr?mping wrote, On 11/18/09 13:28:
>> Duncan Murdoch schrieb:
>>> Ulrike Groemping wrote:
>>>>
>>>> Duncan Murdoch-2 wrote:
>>>>  
>>>>> Ulrike Groemping wrote:
>>>>>   
>>>>>> Dear developeRs,
>>>>>>
>>>>>> I have not found anything recent about how to link to a vignette or
>>>>>> other
>>>>>> documentation from within Rd-files. Is this now possible with the new
>>>>>> help
>>>>>> system ? For example, I would like to link to the file AlgDesign.pdf
>>>>>> provided within the doc directory of package AlgDesign.
>>>>>>
>>>>>>         
>>>>> Yes, you can do it with a \url{} macro.  Use a relative link, acting
>>>>> as though the starting page is located in
>>>>> /library/AlgDesign/html/*.  So \url{../doc/AlgDesign.pdf}
>>>>> should work from the same package,
>>>>> \url{../../AlgDesign/doc/AlgDesign.pdf} from elsewhere.  Please let
>>>>> me know if this doesn't work, I haven't tested.
>>>>>
>>>>> Duncan Murdoch
>>>>>
>>>>>     
>>>>
>>>> Yes, this works, thanks! Is it also possible to display an
>>>> alternative text
>>>> instead of the URL itself, like with other links (e.g. show text
>>>> "Open pdf"
>>>> that operates the link) ?
>>>>
>>>>   
>>>
>>> There's no optional text in the \url{} tag, but you could embed it in
>>> an \ifelse tag, e.g.
>>>
>>> \ifelse{html}{\url{ ....  }}{ [open pdf ...] }
>>>
>>> might work.  Using the \ifelse tag will make your package depend on R
>>> >= 2.10.0.
>>>
>>> Duncan Murdoch
>>>>   
>> Another thought: the link only works, if the two packages are installed
>> in the same library, doesn't it ? Would there be a way to make it work
>> independently of this restriction ?
> 
> you could use the Sweave like macro to compute the path inside the Rd environments
> 
> \Sexpr{file.path(system.file(package="AlgDesign", "doc"), "AlgDesign.pdf")}
> 
> described in 'Writing R extensions' 2.11
> <http://stat.ethz.ch/R-manual/R-patched/doc/manual/R-exts.html#Dynamic-pages>


That won't work with dynamic help. (It surprised me, too.)  You can't 
link to the file system from within the dynamic help pages.  You can't 
link to a file:// link, which is what you'd need to get that to work.

This is a browser restriction, for security reasons.  You don't want 
someone's Javascript to be able to read your private files, because it 
could then send them anywhere.

Within the dynamic help, you're also restricted in what files you can 
link to:  they need to be help pages, or files in the doc directory of a 
package, or a few other special cases.

Duncan Murdoch


From epurdom at stat.berkeley.edu  Wed Nov 18 19:10:15 2009
From: epurdom at stat.berkeley.edu (epurdom at stat.berkeley.edu)
Date: Wed, 18 Nov 2009 19:10:15 +0100 (CET)
Subject: [Rd] bug in '...' of constrOptim (PR#14071)
Message-ID: <20091118181016.4F3362831FFC@mail.pubhealth.ku.dk>

Dear all,

There appears to be a bug in how constrOptim handles ... arguments that 
are suppose to be passed to optim, according to the documentation. This 
means you can't get the hessian to be returned, for example (so this is 
a real problem, and not just a question of mistaken documentation).

Looking at the code, it appears that a call to the user-defined f 
includes the ..., when the ... should only be passed to the optim call. 
  I get around it by putting a dummy 'hessian=TRUE' argument in my f 
function, but this is not how the function should work.

I show the relevant problem in the code, give an example, and also give 
my sessionInfo() call below.

Thanks,
Elizabeth

##Copy of the relevant segment of the code of constrOptim and where I 
think the problem might be:
for (i in 1L:outer.iterations) {
         obj.old <- obj
         r.old <- r
         theta.old <- theta
         fun <- function(theta, ...) { ##this one's okay
             R(theta, theta.old, ...)##this one's okay
         }
         gradient <- function(theta, ...) {##this one's okay
             dR(theta, theta.old, ...)##this one's okay
         }
         a <- optim(theta.old, fun, gradient, control = control,
             method = method, ...)##this one's okay
         r <- a$value
         if (is.finite(r) && is.finite(r.old) && abs(r - 
r.old)/(outer.eps +
             abs(r - r.old)) < outer.eps)
             break
         theta <- a$par
         obj <- f(theta, ...)##this one's NOT okay
         if (obj > obj.old)
             break
     }

###Here is an example modified from the examples of the help page of 
constrOptim:
 > fr <- function(x) {   ## Rosenbrock Banana function
+     x1 <- x[1]
+     x2 <- x[2]
+     100 * (x2 - x1 * x1)^2 + (1 - x1)^2
+ }
 > grr <- function(x) { ## Gradient of 'fr'
+     x1 <- x[1]
+     x2 <- x[2]
+     c(-400 * x1 * (x2 - x1 * x1) - 2 * (1 - x1),
+        200 *      (x2 - x1 * x1))
+ }
 > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), ci=c(-1,-1))
$par
[1] 0.9999761 0.9999522

$value
[1] 5.708626e-10

$counts
function gradient
        6        1

$convergence
[1] 0

$message
NULL

$outer.iterations
[1] 14

$barrier.value
[1] -0.0001999198

 > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), 
ci=c(-1,-1),hessian=TRUE)
Error in f(theta, ...) : unused argument(s) (hessian = TRUE)
#add in a dummy argument to my f function
 > fr <- function(x,hessian=TRUE) {   ## Rosenbrock Banana function
+     x1 <- x[1]
+     x2 <- x[2]
+     100 * (x2 - x1 * x1)^2 + (1 - x1)^2
+ }
 > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), 
ci=c(-1,-1),hessian=TRUE)
$par
[1] 0.9999761 0.9999522

$value
[1] 5.708626e-10

$counts
function gradient
        6        1

$convergence
[1] 0

$message
NULL

$hessian
           [,1]      [,2]
[1,]  801.9599 -399.9905
[2,] -399.9905  199.9952

$outer.iterations
[1] 14

$barrier.value
[1] -0.0001999198
###My Session info
 > sessionInfo()
R version 2.10.0 (2009-10-26)
x86_64-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] GEOquery_2.10.0    RCurl_1.2-1        bitops_1.0-4.1 
Biobase_2.5.8      biomaRt_2.1.0      projectManager_1.0 lattice_0.17-26 
    RColorBrewer_1.0-2
[9] XML_2.6-0

loaded via a namespace (and not attached):
[1] grid_2.10.0  tools_2.10.0
-- 
Elizabeth Purdom
Assistant Professor
Department of Statistics
UC, Berkeley
Evans Hall, Rm 433
epurdom at stat.berkeley.edu
(510) 642-6154 (office)
(510) 642-7892 (fax)


From RVaradhan at jhmi.edu  Wed Nov 18 23:04:14 2009
From: RVaradhan at jhmi.edu (Ravi Varadhan)
Date: Wed, 18 Nov 2009 17:04:14 -0500
Subject: [Rd] bug in '...' of constrOptim (PR#14071)
In-Reply-To: <20091118181016.4F3362831FFC@mail.pubhealth.ku.dk>
References: <20091118181016.4F3362831FFC@mail.pubhealth.ku.dk>
Message-ID: <00d301ca689b$10db2f60$32918e20$@edu>

Hi Elizabeth,

I have fixed this problem.  See the attached function.  There is also
another bug that can create a problem when control$fnscale = -1, i.e. when
the objective function is to be maximized.  I have commented this in the
code and have also fixed this problem.

There is a word of caution.  Hessian is problematic when the converged
parameter estimate is on the boundary of the feasible region, since the
derivatives are not defined there. 

Also, note that the default method is Nelder-Mead.  If you want to use
"BFGS", you have to specify the gradient function.  I have written an
extension of constrOptim that can use numerical gradients, and can also
handle nonlinear constraints. 


Hope this helps,

Ravi.

----------------------------------------------------------------------------
-------

Ravi Varadhan, Ph.D.

Assistant Professor, The Center on Aging and Health

Division of Geriatric Medicine and Gerontology 

Johns Hopkins University

Ph: (410) 502-2619

Fax: (410) 614-9625

Email: rvaradhan at jhmi.edu

Webpage:
http://www.jhsph.edu/agingandhealth/People/Faculty_personal_pages/Varadhan.h
tml

 

----------------------------------------------------------------------------
--------


-----Original Message-----
From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org]
On Behalf Of epurdom at stat.berkeley.edu
Sent: Wednesday, November 18, 2009 1:10 PM
To: r-devel at stat.math.ethz.ch
Cc: R-bugs at r-project.org
Subject: [Rd] bug in '...' of constrOptim (PR#14071)

Dear all,

There appears to be a bug in how constrOptim handles ... arguments that 
are suppose to be passed to optim, according to the documentation. This 
means you can't get the hessian to be returned, for example (so this is 
a real problem, and not just a question of mistaken documentation).

Looking at the code, it appears that a call to the user-defined f 
includes the ..., when the ... should only be passed to the optim call. 
  I get around it by putting a dummy 'hessian=TRUE' argument in my f 
function, but this is not how the function should work.

I show the relevant problem in the code, give an example, and also give 
my sessionInfo() call below.

Thanks,
Elizabeth

##Copy of the relevant segment of the code of constrOptim and where I 
think the problem might be:
for (i in 1L:outer.iterations) {
         obj.old <- obj
         r.old <- r
         theta.old <- theta
         fun <- function(theta, ...) { ##this one's okay
             R(theta, theta.old, ...)##this one's okay
         }
         gradient <- function(theta, ...) {##this one's okay
             dR(theta, theta.old, ...)##this one's okay
         }
         a <- optim(theta.old, fun, gradient, control = control,
             method = method, ...)##this one's okay
         r <- a$value
         if (is.finite(r) && is.finite(r.old) && abs(r - 
r.old)/(outer.eps +
             abs(r - r.old)) < outer.eps)
             break
         theta <- a$par
         obj <- f(theta, ...)##this one's NOT okay
         if (obj > obj.old)
             break
     }

###Here is an example modified from the examples of the help page of 
constrOptim:
 > fr <- function(x) {   ## Rosenbrock Banana function
+     x1 <- x[1]
+     x2 <- x[2]
+     100 * (x2 - x1 * x1)^2 + (1 - x1)^2
+ }
 > grr <- function(x) { ## Gradient of 'fr'
+     x1 <- x[1]
+     x2 <- x[2]
+     c(-400 * x1 * (x2 - x1 * x1) - 2 * (1 - x1),
+        200 *      (x2 - x1 * x1))
+ }
 > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), ci=c(-1,-1))
$par
[1] 0.9999761 0.9999522

$value
[1] 5.708626e-10

$counts
function gradient
        6        1

$convergence
[1] 0

$message
NULL

$outer.iterations
[1] 14

$barrier.value
[1] -0.0001999198

 > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), 
ci=c(-1,-1),hessian=TRUE)
Error in f(theta, ...) : unused argument(s) (hessian = TRUE)
#add in a dummy argument to my f function
 > fr <- function(x,hessian=TRUE) {   ## Rosenbrock Banana function
+     x1 <- x[1]
+     x2 <- x[2]
+     100 * (x2 - x1 * x1)^2 + (1 - x1)^2
+ }
 > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), 
ci=c(-1,-1),hessian=TRUE)
$par
[1] 0.9999761 0.9999522

$value
[1] 5.708626e-10

$counts
function gradient
        6        1

$convergence
[1] 0

$message
NULL

$hessian
           [,1]      [,2]
[1,]  801.9599 -399.9905
[2,] -399.9905  199.9952

$outer.iterations
[1] 14

$barrier.value
[1] -0.0001999198
###My Session info
 > sessionInfo()
R version 2.10.0 (2009-10-26)
x86_64-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] GEOquery_2.10.0    RCurl_1.2-1        bitops_1.0-4.1 
Biobase_2.5.8      biomaRt_2.1.0      projectManager_1.0 lattice_0.17-26 
    RColorBrewer_1.0-2
[9] XML_2.6-0

loaded via a namespace (and not attached):
[1] grid_2.10.0  tools_2.10.0
-- 
Elizabeth Purdom
Assistant Professor
Department of Statistics
UC, Berkeley
Evans Hall, Rm 433
epurdom at stat.berkeley.edu
(510) 642-6154 (office)
(510) 642-7892 (fax)

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: constrOptim2.txt
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091118/e57287dc/attachment.txt>

From RVaradhan at jhmi.edu  Wed Nov 18 23:39:29 2009
From: RVaradhan at jhmi.edu (Ravi Varadhan)
Date: Wed, 18 Nov 2009 17:39:29 -0500
Subject: [Rd] bug in '...' of constrOptim (PR#14071)
In-Reply-To: <4B04713A.8030801@stat.berkeley.edu>
References: <20091118181016.4F3362831FFC@mail.pubhealth.ku.dk>
	<00d301ca689b$10db2f60$32918e20$@edu>
	<4B04713A.8030801@stat.berkeley.edu>
Message-ID: <00d701ca689f$fd7914a0$f86b3de0$@edu>

Elizabeth,

If you look at the arguments in optim(), you will see that the only
additional argument that is in optim but not in constrOptim is the
`hessian'.  So, it makes sense to add that explicitly in constrOptim() as
well.  The other additional arguments are passed to optim via the `control'
argument.  So, apart from `control' and `hessian' you cannot pass any other
argument to optim.  

Ravi.

----------------------------------------------------------------------------
-------

Ravi Varadhan, Ph.D.

Assistant Professor, The Center on Aging and Health

Division of Geriatric Medicine and Gerontology 

Johns Hopkins University

Ph: (410) 502-2619

Fax: (410) 614-9625

Email: rvaradhan at jhmi.edu

Webpage:
http://www.jhsph.edu/agingandhealth/People/Faculty_personal_pages/Varadhan.h
tml

 

----------------------------------------------------------------------------
--------


-----Original Message-----
From: Elizabeth Purdom [mailto:epurdom at stat.berkeley.edu] 
Sent: Wednesday, November 18, 2009 5:12 PM
To: Ravi Varadhan
Cc: r-devel at stat.math.ethz.ch; R-bugs at r-project.org
Subject: Re: [Rd] bug in '...' of constrOptim (PR#14071)

Hi Ravi,
I just briefly looked at the code (and haven't run it). But it seems 
like there is still the underlying problem that '...' argument is sent 
to both optim and f. The documentation says that ... arguments are sent 
to optim, so at least based on this the ... should only appear in optim. 
This seems prefered since you don't need an explicit argument 'hessian' 
added; after all the user gets to define f, so the flexibility of ... 
there is minimal compared to being able to pass arguments to optim.

Here's the relevant code from what you sent:
	a <- optim(theta.old, fun, gradient, control = control,
             method = method, hessian=hessian, ...)
         r <- a$value
         if (is.finite(r) && is.finite(r.old) && abs(r - 
r.old)/(outer.eps +
             abs(r - r.old)) < outer.eps)
             break
         theta <- a$par
         obj <- f(theta, ...) ###I don't think this should have the ...

Best,
Elizabeth

Ravi Varadhan wrote:
> Hi Elizabeth,
> 
> I have fixed this problem.  See the attached function.  There is also
> another bug that can create a problem when control$fnscale = -1, i.e. when
> the objective function is to be maximized.  I have commented this in the
> code and have also fixed this problem.
> 
> There is a word of caution.  Hessian is problematic when the converged
> parameter estimate is on the boundary of the feasible region, since the
> derivatives are not defined there. 
> 
> Also, note that the default method is Nelder-Mead.  If you want to use
> "BFGS", you have to specify the gradient function.  I have written an
> extension of constrOptim that can use numerical gradients, and can also
> handle nonlinear constraints. 
> 
> 
> Hope this helps,
> 
> Ravi.
> 
>
----------------------------------------------------------------------------
> -------
> 
> Ravi Varadhan, Ph.D.
> 
> Assistant Professor, The Center on Aging and Health
> 
> Division of Geriatric Medicine and Gerontology 
> 
> Johns Hopkins University
> 
> Ph: (410) 502-2619
> 
> Fax: (410) 614-9625
> 
> Email: rvaradhan at jhmi.edu
> 
> Webpage:
>
http://www.jhsph.edu/agingandhealth/People/Faculty_personal_pages/Varadhan.h
> tml
> 
>  
> 
>
----------------------------------------------------------------------------
> --------
> 
> 
> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org]
> On Behalf Of epurdom at stat.berkeley.edu
> Sent: Wednesday, November 18, 2009 1:10 PM
> To: r-devel at stat.math.ethz.ch
> Cc: R-bugs at r-project.org
> Subject: [Rd] bug in '...' of constrOptim (PR#14071)
> 
> Dear all,
> 
> There appears to be a bug in how constrOptim handles ... arguments that 
> are suppose to be passed to optim, according to the documentation. This 
> means you can't get the hessian to be returned, for example (so this is 
> a real problem, and not just a question of mistaken documentation).
> 
> Looking at the code, it appears that a call to the user-defined f 
> includes the ..., when the ... should only be passed to the optim call. 
>   I get around it by putting a dummy 'hessian=TRUE' argument in my f 
> function, but this is not how the function should work.
> 
> I show the relevant problem in the code, give an example, and also give 
> my sessionInfo() call below.
> 
> Thanks,
> Elizabeth
> 
> ##Copy of the relevant segment of the code of constrOptim and where I 
> think the problem might be:
> for (i in 1L:outer.iterations) {
>          obj.old <- obj
>          r.old <- r
>          theta.old <- theta
>          fun <- function(theta, ...) { ##this one's okay
>              R(theta, theta.old, ...)##this one's okay
>          }
>          gradient <- function(theta, ...) {##this one's okay
>              dR(theta, theta.old, ...)##this one's okay
>          }
>          a <- optim(theta.old, fun, gradient, control = control,
>              method = method, ...)##this one's okay
>          r <- a$value
>          if (is.finite(r) && is.finite(r.old) && abs(r - 
> r.old)/(outer.eps +
>              abs(r - r.old)) < outer.eps)
>              break
>          theta <- a$par
>          obj <- f(theta, ...)##this one's NOT okay
>          if (obj > obj.old)
>              break
>      }
> 
> ###Here is an example modified from the examples of the help page of 
> constrOptim:
>  > fr <- function(x) {   ## Rosenbrock Banana function
> +     x1 <- x[1]
> +     x2 <- x[2]
> +     100 * (x2 - x1 * x1)^2 + (1 - x1)^2
> + }
>  > grr <- function(x) { ## Gradient of 'fr'
> +     x1 <- x[1]
> +     x2 <- x[2]
> +     c(-400 * x1 * (x2 - x1 * x1) - 2 * (1 - x1),
> +        200 *      (x2 - x1 * x1))
> + }
>  > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)),
ci=c(-1,-1))
> $par
> [1] 0.9999761 0.9999522
> 
> $value
> [1] 5.708626e-10
> 
> $counts
> function gradient
>         6        1
> 
> $convergence
> [1] 0
> 
> $message
> NULL
> 
> $outer.iterations
> [1] 14
> 
> $barrier.value
> [1] -0.0001999198
> 
>  > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), 
> ci=c(-1,-1),hessian=TRUE)
> Error in f(theta, ...) : unused argument(s) (hessian = TRUE)
> #add in a dummy argument to my f function
>  > fr <- function(x,hessian=TRUE) {   ## Rosenbrock Banana function
> +     x1 <- x[1]
> +     x2 <- x[2]
> +     100 * (x2 - x1 * x1)^2 + (1 - x1)^2
> + }
>  > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), 
> ci=c(-1,-1),hessian=TRUE)
> $par
> [1] 0.9999761 0.9999522
> 
> $value
> [1] 5.708626e-10
> 
> $counts
> function gradient
>         6        1
> 
> $convergence
> [1] 0
> 
> $message
> NULL
> 
> $hessian
>            [,1]      [,2]
> [1,]  801.9599 -399.9905
> [2,] -399.9905  199.9952
> 
> $outer.iterations
> [1] 14
> 
> $barrier.value
> [1] -0.0001999198
> ###My Session info
>  > sessionInfo()
> R version 2.10.0 (2009-10-26)
> x86_64-apple-darwin9.8.0
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] GEOquery_2.10.0    RCurl_1.2-1        bitops_1.0-4.1 
> Biobase_2.5.8      biomaRt_2.1.0      projectManager_1.0 lattice_0.17-26 
>     RColorBrewer_1.0-2
> [9] XML_2.6-0
> 
> loaded via a namespace (and not attached):
> [1] grid_2.10.0  tools_2.10.0
> 

-- 
Elizabeth Purdom
Assistant Professor
Department of Statistics
UC, Berkeley
Evans Hall, Rm 433
epurdom at stat.berkeley.edu
(510) 642-6154 (office)
(510) 642-7892 (fax)


From lgautier at gmail.com  Thu Nov 19 08:40:12 2009
From: lgautier at gmail.com (Laurent Gautier)
Date: Thu, 19 Nov 2009 08:40:12 +0100
Subject: [Rd] Issue when calling deparse(substitute(x)) from C with
 "anonymous" R vectors ?
Message-ID: <4B04F65C.2040002@gmail.com>

Dear list,


When calling R from C, what appears like a spurious error can be 
triggered during the execution of chisq.test(x, y).

This is happening when the following conditions are met:

- x and y are "anonymous" C-level R vectors (they do not have a symbol),
but they are protected from garbage collection

- x and y are "not too small" (it was experienced as soon as they are 
longer than 17 elements).


The error is

Error in names(dimnames(x)) <- DNAME :
   'names' attribute [4] must be the same length as the vector [2]

and can be traced to the use of deparse(substitute(x)) and 
deparse(substitute(y)) in the R code.

What seems to be happening is that the deparse(substitute(x)) call
gives a character vector of length > 1 as soon as x is "not so small".

To demonstrate this, I am using rpy2 (as the problem was found when using it
http://sourceforge.net/mailarchive/forum.php?thread_name=4B043CA1.9050500%40salilab.org&forum_name=rpy-list
), but it will likely be present in other bridges to R as well.


#using R-2.10 and rpy2-2.1.dev
 >>> import rpy2.robjects as robjects

 >>> f = robjects.r('''function(x) return(deparse(substitute(x)))''')

 >>> tuple(f(robjects.FloatVector(range(17))))
('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16)',)
# length 1
 >>> tuple(f(robjects.FloatVector(range(18))))
('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17', ')')
# length 2 !!


Does it seem to others like an issue present in other bridges as well ?



L.


From P.Dalgaard at biostat.ku.dk  Thu Nov 19 09:37:05 2009
From: P.Dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu, 19 Nov 2009 09:37:05 +0100
Subject: [Rd] Issue when calling deparse(substitute(x)) from C with
 "anonymous" R vectors ?
In-Reply-To: <4B04F65C.2040002@gmail.com>
References: <4B04F65C.2040002@gmail.com>
Message-ID: <4B0503B1.3050906@biostat.ku.dk>

Laurent Gautier wrote:
> Dear list,
> 
> 
> When calling R from C, what appears like a spurious error can be
> triggered during the execution of chisq.test(x, y).
> 
> This is happening when the following conditions are met:
> 
> - x and y are "anonymous" C-level R vectors (they do not have a symbol),
> but they are protected from garbage collection
> 
> - x and y are "not too small" (it was experienced as soon as they are
> longer than 17 elements).
> 
> 
> The error is
> 
> Error in names(dimnames(x)) <- DNAME :
>   'names' attribute [4] must be the same length as the vector [2]
> 
> and can be traced to the use of deparse(substitute(x)) and
> deparse(substitute(y)) in the R code.
> 
> What seems to be happening is that the deparse(substitute(x)) call
> gives a character vector of length > 1 as soon as x is "not so small".
> 
> To demonstrate this, I am using rpy2 (as the problem was found when
> using it
> http://sourceforge.net/mailarchive/forum.php?thread_name=4B043CA1.9050500%40salilab.org&forum_name=rpy-list
> 
> ), but it will likely be present in other bridges to R as well.
> 
> 
> #using R-2.10 and rpy2-2.1.dev
>>>> import rpy2.robjects as robjects
> 
>>>> f = robjects.r('''function(x) return(deparse(substitute(x)))''')
> 
>>>> tuple(f(robjects.FloatVector(range(17))))
> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16)',)
> # length 1
>>>> tuple(f(robjects.FloatVector(range(18))))
> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17', ')')
> # length 2 !!
> 
> 
> Does it seem to others like an issue present in other bridges as well ?
> 

It can be generated from R itself:

> x <- sample(0:1,2000,replace=T)
> y <- sample(0:1,2000,replace=T)
> eval(substitute(chisq.test(x,y),list(x=x,y=y)))
Error in names(dimnames(x)) <- DNAME :
  'names' attribute [252] must be the same length as the vector [2]

Looks like nlines=1 is needed in the deparse().

-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From ripley at stats.ox.ac.uk  Thu Nov 19 09:40:50 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 19 Nov 2009 08:40:50 +0000 (GMT)
Subject: [Rd] Issue when calling deparse(substitute(x)) from C with
 "anonymous" R vectors ?
In-Reply-To: <4B04F65C.2040002@gmail.com>
References: <4B04F65C.2040002@gmail.com>
Message-ID: <alpine.OSX.1.00.0911190836300.72406@tystie.local>

This is easy to reproduce in R:

chisq.test(c(1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011),
c(1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011))

The simple answer is: don't do that.

It is unclear what is a reasonable label to give in such a case: maybe 
simply 'x' and 'y'?

On Thu, 19 Nov 2009, Laurent Gautier wrote:

> Dear list,
>
>
> When calling R from C, what appears like a spurious error can be triggered 
> during the execution of chisq.test(x, y).
>
> This is happening when the following conditions are met:
>
> - x and y are "anonymous" C-level R vectors (they do not have a symbol),
> but they are protected from garbage collection
>
> - x and y are "not too small" (it was experienced as soon as they are longer 
> than 17 elements).
>
>
> The error is
>
> Error in names(dimnames(x)) <- DNAME :
>  'names' attribute [4] must be the same length as the vector [2]
>
> and can be traced to the use of deparse(substitute(x)) and 
> deparse(substitute(y)) in the R code.
>
> What seems to be happening is that the deparse(substitute(x)) call
> gives a character vector of length > 1 as soon as x is "not so small".
>
> To demonstrate this, I am using rpy2 (as the problem was found when using it
> http://sourceforge.net/mailarchive/forum.php?thread_name=4B043CA1.9050500%40salilab.org&forum_name=rpy-list
> ), but it will likely be present in other bridges to R as well.
>
>
> #using R-2.10 and rpy2-2.1.dev
>>>> import rpy2.robjects as robjects
>
>>>> f = robjects.r('''function(x) return(deparse(substitute(x)))''')
>
>>>> tuple(f(robjects.FloatVector(range(17))))
> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16)',)
> # length 1
>>>> tuple(f(robjects.FloatVector(range(18))))
> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17', ')')
> # length 2 !!
>
>
> Does it seem to others like an issue present in other bridges as well ?
>
>
>
> L.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From epurdom at stat.berkeley.edu  Wed Nov 18 23:12:10 2009
From: epurdom at stat.berkeley.edu (Elizabeth Purdom)
Date: Wed, 18 Nov 2009 14:12:10 -0800
Subject: [Rd] bug in '...' of constrOptim (PR#14071)
In-Reply-To: <00d301ca689b$10db2f60$32918e20$@edu>
References: <20091118181016.4F3362831FFC@mail.pubhealth.ku.dk>
	<00d301ca689b$10db2f60$32918e20$@edu>
Message-ID: <4B04713A.8030801@stat.berkeley.edu>

Hi Ravi,
I just briefly looked at the code (and haven't run it). But it seems 
like there is still the underlying problem that '...' argument is sent 
to both optim and f. The documentation says that ... arguments are sent 
to optim, so at least based on this the ... should only appear in optim. 
This seems prefered since you don't need an explicit argument 'hessian' 
added; after all the user gets to define f, so the flexibility of ... 
there is minimal compared to being able to pass arguments to optim.

Here's the relevant code from what you sent:
	a <- optim(theta.old, fun, gradient, control = control,
             method = method, hessian=hessian, ...)
         r <- a$value
         if (is.finite(r) && is.finite(r.old) && abs(r - 
r.old)/(outer.eps +
             abs(r - r.old)) < outer.eps)
             break
         theta <- a$par
         obj <- f(theta, ...) ###I don't think this should have the ...

Best,
Elizabeth

Ravi Varadhan wrote:
> Hi Elizabeth,
> 
> I have fixed this problem.  See the attached function.  There is also
> another bug that can create a problem when control$fnscale = -1, i.e. when
> the objective function is to be maximized.  I have commented this in the
> code and have also fixed this problem.
> 
> There is a word of caution.  Hessian is problematic when the converged
> parameter estimate is on the boundary of the feasible region, since the
> derivatives are not defined there. 
> 
> Also, note that the default method is Nelder-Mead.  If you want to use
> "BFGS", you have to specify the gradient function.  I have written an
> extension of constrOptim that can use numerical gradients, and can also
> handle nonlinear constraints. 
> 
> 
> Hope this helps,
> 
> Ravi.
> 
> ----------------------------------------------------------------------------
> -------
> 
> Ravi Varadhan, Ph.D.
> 
> Assistant Professor, The Center on Aging and Health
> 
> Division of Geriatric Medicine and Gerontology 
> 
> Johns Hopkins University
> 
> Ph: (410) 502-2619
> 
> Fax: (410) 614-9625
> 
> Email: rvaradhan at jhmi.edu
> 
> Webpage:
> http://www.jhsph.edu/agingandhealth/People/Faculty_personal_pages/Varadhan.h
> tml
> 
>  
> 
> ----------------------------------------------------------------------------
> --------
> 
> 
> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org]
> On Behalf Of epurdom at stat.berkeley.edu
> Sent: Wednesday, November 18, 2009 1:10 PM
> To: r-devel at stat.math.ethz.ch
> Cc: R-bugs at r-project.org
> Subject: [Rd] bug in '...' of constrOptim (PR#14071)
> 
> Dear all,
> 
> There appears to be a bug in how constrOptim handles ... arguments that 
> are suppose to be passed to optim, according to the documentation. This 
> means you can't get the hessian to be returned, for example (so this is 
> a real problem, and not just a question of mistaken documentation).
> 
> Looking at the code, it appears that a call to the user-defined f 
> includes the ..., when the ... should only be passed to the optim call. 
>   I get around it by putting a dummy 'hessian=TRUE' argument in my f 
> function, but this is not how the function should work.
> 
> I show the relevant problem in the code, give an example, and also give 
> my sessionInfo() call below.
> 
> Thanks,
> Elizabeth
> 
> ##Copy of the relevant segment of the code of constrOptim and where I 
> think the problem might be:
> for (i in 1L:outer.iterations) {
>          obj.old <- obj
>          r.old <- r
>          theta.old <- theta
>          fun <- function(theta, ...) { ##this one's okay
>              R(theta, theta.old, ...)##this one's okay
>          }
>          gradient <- function(theta, ...) {##this one's okay
>              dR(theta, theta.old, ...)##this one's okay
>          }
>          a <- optim(theta.old, fun, gradient, control = control,
>              method = method, ...)##this one's okay
>          r <- a$value
>          if (is.finite(r) && is.finite(r.old) && abs(r - 
> r.old)/(outer.eps +
>              abs(r - r.old)) < outer.eps)
>              break
>          theta <- a$par
>          obj <- f(theta, ...)##this one's NOT okay
>          if (obj > obj.old)
>              break
>      }
> 
> ###Here is an example modified from the examples of the help page of 
> constrOptim:
>  > fr <- function(x) {   ## Rosenbrock Banana function
> +     x1 <- x[1]
> +     x2 <- x[2]
> +     100 * (x2 - x1 * x1)^2 + (1 - x1)^2
> + }
>  > grr <- function(x) { ## Gradient of 'fr'
> +     x1 <- x[1]
> +     x2 <- x[2]
> +     c(-400 * x1 * (x2 - x1 * x1) - 2 * (1 - x1),
> +        200 *      (x2 - x1 * x1))
> + }
>  > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), ci=c(-1,-1))
> $par
> [1] 0.9999761 0.9999522
> 
> $value
> [1] 5.708626e-10
> 
> $counts
> function gradient
>         6        1
> 
> $convergence
> [1] 0
> 
> $message
> NULL
> 
> $outer.iterations
> [1] 14
> 
> $barrier.value
> [1] -0.0001999198
> 
>  > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), 
> ci=c(-1,-1),hessian=TRUE)
> Error in f(theta, ...) : unused argument(s) (hessian = TRUE)
> #add in a dummy argument to my f function
>  > fr <- function(x,hessian=TRUE) {   ## Rosenbrock Banana function
> +     x1 <- x[1]
> +     x2 <- x[2]
> +     100 * (x2 - x1 * x1)^2 + (1 - x1)^2
> + }
>  > constrOptim(c(-1.2,0.9), fr, grr, ui=rbind(c(-1,0),c(0,-1)), 
> ci=c(-1,-1),hessian=TRUE)
> $par
> [1] 0.9999761 0.9999522
> 
> $value
> [1] 5.708626e-10
> 
> $counts
> function gradient
>         6        1
> 
> $convergence
> [1] 0
> 
> $message
> NULL
> 
> $hessian
>            [,1]      [,2]
> [1,]  801.9599 -399.9905
> [2,] -399.9905  199.9952
> 
> $outer.iterations
> [1] 14
> 
> $barrier.value
> [1] -0.0001999198
> ###My Session info
>  > sessionInfo()
> R version 2.10.0 (2009-10-26)
> x86_64-apple-darwin9.8.0
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] GEOquery_2.10.0    RCurl_1.2-1        bitops_1.0-4.1 
> Biobase_2.5.8      biomaRt_2.1.0      projectManager_1.0 lattice_0.17-26 
>     RColorBrewer_1.0-2
> [9] XML_2.6-0
> 
> loaded via a namespace (and not attached):
> [1] grid_2.10.0  tools_2.10.0
> 

-- 
Elizabeth Purdom
Assistant Professor
Department of Statistics
UC, Berkeley
Evans Hall, Rm 433
epurdom at stat.berkeley.edu
(510) 642-6154 (office)
(510) 642-7892 (fax)


From suharto_anggono at yahoo.com  Thu Nov 19 05:50:11 2009
From: suharto_anggono at yahoo.com (suharto_anggono at yahoo.com)
Date: Thu, 19 Nov 2009 05:50:11 +0100 (CET)
Subject: [Rd] Wishlist: In documentation, say that `+.Date`(Date,
	difftime) should be called directly or remove 'or an object of
	class "difftime"' (PR#14072)
Message-ID: <20091119045011.DEA4D2831FEC@mail.pubhealth.ku.dk>

Full_Name: Suharto Anggono
Version: 2.8.1
OS: Windows
Submission from: (NULL) (125.161.134.206)


About PR#14067, now I understand why (Date + difftime) does not use '+.Date'.
But, before I understand, it was surprising. The surprise is also reflected in
the post "Problem with +(POSIXt, difftime) dispatching -- WAS: How to create
sequence of constant time interval" in R-help 2009-02-17.

This is taken from the documentation of Ops.Date.

Usage

date + x
...

Arguments
date 	date objects
...
x 	a numeric vector (in days) or an object of class "difftime".
...

Reading the documentation above suggests me that I can use (Date + difftime),
which I expect to use date/time arithmetic. PR#13369 also mentions that.

So, the documentation should mention that, to add "Date" with "difftime",
'+.Date' should be called directly, better with example. Alternatively, the
clause 'or an object of class "difftime"' should be removed.

It would be nice if (Date + difftime) could use '+.Date'. But, I think it would
not be easy. One way is making a virtual class that includes "Date", "POSIXct",
and "difftime", say "DateTimeComp", so that the 'class' attribute of
"Date" is c("DateTimeComp", "Date");
"POSIXct" is c("DateTimeComp", "POSIXt", "POSIXct");
"POSIXlt" is c("DateTimeComp", "POSIXt", "POSIXlt");
"difftime" is c("DateTimeComp", "difftime").
Then, define '+.DateTimeComp' or 'Ops.DateTimeComp' that ensures that (Date +
difftime) uses '+.Date'. If it is chosen to define 'Ops.DateTimeComp', the
definition could be like this.

function (e1, e2)
{
    if (nargs() == 1)
        return(NextMethod(.Generic))
    if (.Generic == "+" || .Generic == "-") {
        if ((inherits(e1, "Date") && inherits(e2, "POSIXt")) ||
            (inherits(e1, "POSIXt") && inherits(e2, "Date")))
            stop("binary ", .Generic,
                " between Date and POSIXt objects is not defined")
        if (inherits(e1, "Date") || inherits(e2, "Date"))
            return(do.call(paste(.Generic, "Date", sep = "."), list(e1, e2)))
        if (inherits(e1, "POSIXt") || inherits(e2, "POSIXt"))
            return(do.call(paste(.Generic, "POSIXt", sep = "."), list(e1, e2)))
    }
    else {
        h1 <- inherits(e1, c("Date", "POSIXt", "difftime"), which = TRUE)
        h2 <- inherits(e2, c("Date", "POSIXt", "difftime"), which = TRUE)
        if (sum(h1 | h2) > 1)
            stop(.Generic, " not defined")
    }
    NextMethod(.Generic)
}

But, that would require many changes and might break someone's code that access
the 'class' attribute directly.


From lgautier at gmail.com  Thu Nov 19 11:16:32 2009
From: lgautier at gmail.com (Laurent Gautier)
Date: Thu, 19 Nov 2009 11:16:32 +0100
Subject: [Rd] Issue when calling deparse(substitute(x)) from C with
 "anonymous" R vectors ?
In-Reply-To: <alpine.OSX.1.00.0911190836300.72406@tystie.local>
References: <4B04F65C.2040002@gmail.com>
	<alpine.OSX.1.00.0911190836300.72406@tystie.local>
Message-ID: <4B051B00.5060206@gmail.com>

Thanks to you and Peter for the quick answer.

I should definitely have tried I R. It just seemed to me so unlikely 
that no one ever reported that anonymous vectors would fail with 
chisq.test().

Having a label that would be x or y is along the lines of something I 
was thinking of, and this not only for chisq.test(). It would be helpful 
for functions such as plot() for example.

The idea would be to replace an anonymous object by its variable name, 
unless the anonymous variable is coming from a function call.

Example:

foo <- function(x) {
   xlabel <- deparse(substitute(x))
   # do things
}

foo(y) # xlabel is 'y'

foo(log(y)) # xlabel is 'log(y)'

foo(c(1,2,3)) # xlabel is 'x'

foo(log(c(1,2,3)) # xlabel is 'x'

This would likely require looking at the parse tree for the argument, 
and have a switch such as "if any leave is an anonymous object, use the 
parameter name".



L.








Prof Brian Ripley wrote:
> This is easy to reproduce in R:
> 
> chisq.test(c(1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 
> 1010, 1011),
> c(1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011))
> 
> The simple answer is: don't do that.
> 
> It is unclear what is a reasonable label to give in such a case: maybe 
> simply 'x' and 'y'?
> 
> On Thu, 19 Nov 2009, Laurent Gautier wrote:
> 
>> Dear list,
>>
>>
>> When calling R from C, what appears like a spurious error can be 
>> triggered during the execution of chisq.test(x, y).
>>
>> This is happening when the following conditions are met:
>>
>> - x and y are "anonymous" C-level R vectors (they do not have a symbol),
>> but they are protected from garbage collection
>>
>> - x and y are "not too small" (it was experienced as soon as they are 
>> longer than 17 elements).
>>
>>
>> The error is
>>
>> Error in names(dimnames(x)) <- DNAME :
>>  'names' attribute [4] must be the same length as the vector [2]
>>
>> and can be traced to the use of deparse(substitute(x)) and 
>> deparse(substitute(y)) in the R code.
>>
>> What seems to be happening is that the deparse(substitute(x)) call
>> gives a character vector of length > 1 as soon as x is "not so small".
>>
>> To demonstrate this, I am using rpy2 (as the problem was found when 
>> using it
>> http://sourceforge.net/mailarchive/forum.php?thread_name=4B043CA1.9050500%40salilab.org&forum_name=rpy-list 
>>
>> ), but it will likely be present in other bridges to R as well.
>>
>>
>> #using R-2.10 and rpy2-2.1.dev
>>>>> import rpy2.robjects as robjects
>>
>>>>> f = robjects.r('''function(x) return(deparse(substitute(x)))''')
>>
>>>>> tuple(f(robjects.FloatVector(range(17))))
>> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16)',)
>> # length 1
>>>>> tuple(f(robjects.FloatVector(range(18))))
>> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17', ')')
>> # length 2 !!
>>
>>
>> Does it seem to others like an issue present in other bridges as well ?
>>
>>
>>
>> L.
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>


From ripley at stats.ox.ac.uk  Thu Nov 19 11:39:17 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 19 Nov 2009 10:39:17 +0000 (GMT)
Subject: [Rd] Issue when calling deparse(substitute(x)) from C with
 "anonymous" R vectors ?
In-Reply-To: <4B051B00.5060206@gmail.com>
References: <4B04F65C.2040002@gmail.com>
	<alpine.OSX.1.00.0911190836300.72406@tystie.local>
	<4B051B00.5060206@gmail.com>
Message-ID: <alpine.LFD.2.00.0911191035580.10058@auk.stats.ox.ac.uk>

On Thu, 19 Nov 2009, Laurent Gautier wrote:

> Thanks to you and Peter for the quick answer.
>
> I should definitely have tried I R. It just seemed to me so unlikely that no 
> one ever reported that anonymous vectors would fail with chisq.test().
>
> Having a label that would be x or y is along the lines of something I was 
> thinking of, and this not only for chisq.test(). It would be helpful for 
> functions such as plot() for example.

But '1:10' is probably what you do want.  Changiong the way R does 
things in general on the basis of a single example after ca 12 years 
would be unwise, not least because the user can change the way he 
calls the function to achieve this.

I've chosen simple not to name the dimensions if the deparse is too 
long.  The description (used by the print method) is trickier, and 
results in a long description.  Again, if you don't like it, change 
the call.

> The idea would be to replace an anonymous object by its variable name, unless 
> the anonymous variable is coming from a function call.
>
> Example:
>
> foo <- function(x) {
>  xlabel <- deparse(substitute(x))
>  # do things
> }
>
> foo(y) # xlabel is 'y'
>
> foo(log(y)) # xlabel is 'log(y)'
>
> foo(c(1,2,3)) # xlabel is 'x'
>
> foo(log(c(1,2,3)) # xlabel is 'x'
>
> This would likely require looking at the parse tree for the argument, and 
> have a switch such as "if any leave is an anonymous object, use the parameter 
> name".
>
>
>
> L.
>
>
>
>
>
>
>
>
> Prof Brian Ripley wrote:
>> This is easy to reproduce in R:
>> 
>> chisq.test(c(1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 
>> 1010, 1011),
>> c(1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011))
>> 
>> The simple answer is: don't do that.
>> 
>> It is unclear what is a reasonable label to give in such a case: maybe 
>> simply 'x' and 'y'?
>> 
>> On Thu, 19 Nov 2009, Laurent Gautier wrote:
>> 
>>> Dear list,
>>> 
>>> 
>>> When calling R from C, what appears like a spurious error can be triggered 
>>> during the execution of chisq.test(x, y).
>>> 
>>> This is happening when the following conditions are met:
>>> 
>>> - x and y are "anonymous" C-level R vectors (they do not have a symbol),
>>> but they are protected from garbage collection
>>> 
>>> - x and y are "not too small" (it was experienced as soon as they are 
>>> longer than 17 elements).
>>> 
>>> 
>>> The error is
>>> 
>>> Error in names(dimnames(x)) <- DNAME :
>>>  'names' attribute [4] must be the same length as the vector [2]
>>> 
>>> and can be traced to the use of deparse(substitute(x)) and 
>>> deparse(substitute(y)) in the R code.
>>> 
>>> What seems to be happening is that the deparse(substitute(x)) call
>>> gives a character vector of length > 1 as soon as x is "not so small".
>>> 
>>> To demonstrate this, I am using rpy2 (as the problem was found when using 
>>> it
>>> http://sourceforge.net/mailarchive/forum.php?thread_name=4B043CA1.9050500%40salilab.org&forum_name=rpy-list 
>>> ), but it will likely be present in other bridges to R as well.
>>> 
>>> 
>>> #using R-2.10 and rpy2-2.1.dev
>>>>>> import rpy2.robjects as robjects
>>> 
>>>>>> f = robjects.r('''function(x) return(deparse(substitute(x)))''')
>>> 
>>>>>> tuple(f(robjects.FloatVector(range(17))))
>>> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16)',)
>>> # length 1
>>>>>> tuple(f(robjects.FloatVector(range(18))))
>>> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17', ')')
>>> # length 2 !!
>>> 
>>> 
>>> Does it seem to others like an issue present in other bridges as well ?
>>> 
>>> 
>>> 
>>> L.
>>> 
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> 
>> 
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From suharto_anggono at yahoo.com  Thu Nov 19 11:45:45 2009
From: suharto_anggono at yahoo.com (suharto_anggono at yahoo.com)
Date: Thu, 19 Nov 2009 11:45:45 +0100 (CET)
Subject: [Rd] In the documentation of 'Ops.Date',
	please remove mention about "difftime",
	like in the documentation of 'DateTimeClasses' (PR#14072)
Message-ID: <20091119104545.868BB2832006@mail.pubhealth.ku.dk>

I am sorry to reply. But I need to clarify things.=0A=0AFrom searching over=
 the internet, I know that, before R 2.5.0, in the documentation of 'DateTi=
meClasses', in 'date + x', in the explanation about 'x', there is also ment=
ion that 'x' can be a 'difftime' object. Now, it has been removed.=0A=0AWhy=
 not doing the same in the documentation of 'Ops.Date'? I have read the doc=
umentation carefully. Also, I have just downloaded http://cran.bic.nus.edu.=
sg/src/base-prerelease/R-latest.tar.gz. In the file Ops.Date.Rd, the phrase=
=0A\emph{or} an object of class=0A    \code{"\link{difftime}"}=0Ais still t=
here. This is a snapshot from Ops.Date.Rd.=0A=0A\usage{=0A\special{date + x=
}=0A\special{date - x}=0A\special{date1 lop date2}=0A}=0A\arguments{=0A  \i=
tem{date}{date objects}=0A  \item{date1, date2}{date objects or character v=
ectors.  (Character=0A    vectors are converted by \code{\link{as.Date}}.)}=
=0A  \item{x}{a numeric vector (in days) \emph{or} an object of class=0A   =
 \code{"\link{difftime}"}.}=0A  \item{lop}{One of \code{=3D=3D}, \code{!=3D=
}, \code{<}, \code{<=3D}, \code{>}=0A    or \code{>=3D}.}=0A}=0A=0AThe docu=
mentation says that the usage is=0Adate + x=0ASo,=0Adate + x=0Ashould work.=
=0A=0ASo, in the documentation of 'Ops.Date', in the explanation about argu=
ment 'x', please remove the phrase "or an object of class "difftime".". Tha=
t would be in line with the documentation of 'DateTimeClasses', and at leas=
t saves new users.=0A=0AThank you.=0A=0A=0A      New Email addresses availa=
ble on Yahoo!=0AGet the Email name you&#39;ve always wanted on the new @yma=
il and @rocketmail. =0AHurry before someone else does!=0Ahttp://mail.promot=
ions.yahoo.com/newdomains/aa/


From murdoch at stats.uwo.ca  Thu Nov 19 12:32:38 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 19 Nov 2009 06:32:38 -0500
Subject: [Rd] Issue when calling deparse(substitute(x)) from C with
 "anonymous" R vectors ?
In-Reply-To: <4B04F65C.2040002@gmail.com>
References: <4B04F65C.2040002@gmail.com>
Message-ID: <4B052CD6.2040904@stats.uwo.ca>

Can you put together a minimal, self contained example, not requiring an 
external system?  This has the symptoms of a bug in the external code 
(e.g. a missing PROTECT), but it is possible it's a bug in R.

Duncan Murdoch

On 19/11/2009 2:40 AM, Laurent Gautier wrote:
> Dear list,
> 
> 
> When calling R from C, what appears like a spurious error can be 
> triggered during the execution of chisq.test(x, y).
> 
> This is happening when the following conditions are met:
> 
> - x and y are "anonymous" C-level R vectors (they do not have a symbol),
> but they are protected from garbage collection
> 
> - x and y are "not too small" (it was experienced as soon as they are 
> longer than 17 elements).
> 
> 
> The error is
> 
> Error in names(dimnames(x)) <- DNAME :
>    'names' attribute [4] must be the same length as the vector [2]
> 
> and can be traced to the use of deparse(substitute(x)) and 
> deparse(substitute(y)) in the R code.
> 
> What seems to be happening is that the deparse(substitute(x)) call
> gives a character vector of length > 1 as soon as x is "not so small".
> 
> To demonstrate this, I am using rpy2 (as the problem was found when using it
> http://sourceforge.net/mailarchive/forum.php?thread_name=4B043CA1.9050500%40salilab.org&forum_name=rpy-list
> ), but it will likely be present in other bridges to R as well.
> 
> 
> #using R-2.10 and rpy2-2.1.dev
>  >>> import rpy2.robjects as robjects
> 
>  >>> f = robjects.r('''function(x) return(deparse(substitute(x)))''')
> 
>  >>> tuple(f(robjects.FloatVector(range(17))))
> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16)',)
> # length 1
>  >>> tuple(f(robjects.FloatVector(range(18))))
> ('c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17', ')')
> # length 2 !!
> 
> 
> Does it seem to others like an issue present in other bridges as well ?
> 
> 
> 
> L.
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Thu Nov 19 12:40:36 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 19 Nov 2009 06:40:36 -0500
Subject: [Rd] Issue when calling deparse(substitute(x)) from C with
 "anonymous" R vectors ?
In-Reply-To: <4B052CD6.2040904@stats.uwo.ca>
References: <4B04F65C.2040002@gmail.com> <4B052CD6.2040904@stats.uwo.ca>
Message-ID: <4B052EB4.8070903@stats.uwo.ca>

On 19/11/2009 6:32 AM, Duncan Murdoch wrote:
> Can you put together a minimal, self contained example, not requiring an 
> external system?  This has the symptoms of a bug in the external code 
> (e.g. a missing PROTECT), but it is possible it's a bug in R.

And I should have read the followups before replying.  Sorry for the noise.

Duncan Murdoch


From landronimirc at gmail.com  Thu Nov 19 13:22:05 2009
From: landronimirc at gmail.com (Liviu Andronic)
Date: Thu, 19 Nov 2009 12:22:05 +0000
Subject: [Rd] strange crashes caused by 'cairoDevice' and 'tcltk' dialogues
Message-ID: <68b1e2610911190422p7d3e95c8m105ed282214684bd@mail.gmail.com>

Dear developers
I get some strange crashes when 'cairoDevice' and 'tcltk' are both
loaded in the same R vanilla session.

When executing the following in that order
require(relimp)
require(cairoDevice)
showData (iris)

I get a crash with the following message (see R-relimp-cairoDevice.txt):
The program 'R' received an X Window System error.
This probably reflects a bug in the program.
The error was 'BadWindow (invalid Window parameter)'.
  (Details: serial 2832 error_code 3 request_code 15 minor_code 0)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)


When I inverse the order of calls, I no longer seem to get issues.
(See R-cairoDevice-relimp.txt)
require(cairoDevice)
require(relimp)
showData (iris)

Initially I got issues with 'playwith' and 'Rcmdr', but managed to pin
down to  'cairoDevice' and 'tcltk' (although it could still be
something else). At this point I'm stuck. I tried
R -d gdb --vanilla

but
> require(relimp)
Loading required package: relimp
Loading Tcl/Tk interface ... [Thread debugging using libthread_db enabled]
Cannot find new threads: generic error
(gdb) quit

I get the same error when trying to load Rcmdr in gdb.

Could someone point me to the right direction of investigating these
crashes? Thank you
Liviu



liviu at debian-liv:~$ uname -a
Linux debian-liv 2.6.30-1-amd64 #1 SMP Sat Aug 15 18:09:19 UTC 2009
x86_64 GNU/Linux
liviu at debian-liv:~$ cat /etc/apt/sources.list | grep cran2deb
deb http://debian.cran.r-project.org/cran2deb/debian-amd64/ testing/
> sessionInfo()
R version 2.10.0 (2009-10-26)
x86_64-pc-linux-gnu

locale:
 [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_GB.UTF-8        LC_COLLATE=en_GB.UTF-8
 [5] LC_MONETARY=C              LC_MESSAGES=en_GB.UTF-8
 [7] LC_PAPER=en_GB.UTF-8       LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_GB.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] relimp_1.0-1     cairoDevice_2.10

loaded via a namespace (and not attached):
[1] tcltk_2.10.0
-------------- next part --------------
liviu at debian-liv:~$ R --vanilla

R version 2.10.0 (2009-10-26)
Copyright (C) 2009 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> require(relimp)
Loading required package: relimp
Loading Tcl/Tk interface ... done
> showData (iris)
> require(cairoDevice)
Loading required package: cairoDevice

Warning message:
package 'cairoDevice' was built under R version 2.9.0 and help may not work correctly 
> 
> showData (iris)
> The program 'R' received an X Window System error.
This probably reflects a bug in the program.
The error was 'BadWindow (invalid Window parameter)'.
  (Details: serial 2832 error_code 3 request_code 15 minor_code 0)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)
-------------- next part --------------
liviu at debian-liv:~$ R --vanilla

R version 2.10.0 (2009-10-26)
Copyright (C) 2009 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> require(cairoDevice)
Loading required package: cairoDevice
Warning message:
package 'cairoDevice' was built under R version 2.9.0 and help may not work correctly 
> require(relimp)
Loading required package: relimp
Loading Tcl/Tk interface ... done
> showData(iris)
> sessionInfo()
R version 2.10.0 (2009-10-26) 
x86_64-pc-linux-gnu 

locale:
 [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_GB.UTF-8        LC_COLLATE=en_GB.UTF-8    
 [5] LC_MONETARY=C              LC_MESSAGES=en_GB.UTF-8   
 [7] LC_PAPER=en_GB.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_GB.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] relimp_1.0-1     cairoDevice_2.10

loaded via a namespace (and not attached):
[1] tcltk_2.10.0
> quit()

From lawremi at gmail.com  Thu Nov 19 18:14:24 2009
From: lawremi at gmail.com (Michael Lawrence)
Date: Thu, 19 Nov 2009 09:14:24 -0800
Subject: [Rd] combine UserDefinedDatabase and regular environments
In-Reply-To: <4AF31246.1060004@dbmail.com>
References: <4AF31246.1060004@dbmail.com>
Message-ID: <509e0620911190914g3cd6838eyd91b049680d737e7@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091119/524e4565/attachment.pl>

From krcoombes at mdacc.tmc.edu  Thu Nov 19 19:47:47 2009
From: krcoombes at mdacc.tmc.edu (Kevin R. Coombes)
Date: Thu, 19 Nov 2009 12:47:47 -0600
Subject: [Rd] R Usage Statistics
Message-ID: <4B0592D3.5000200@mdacc.tmc.edu>

Hi,

I got the following comment from the reviewer of a paper (describing an 
algorithm implemented in R) that I submitted to BMC Bioinformatics:

"Finally, which useful for exploratory work and some prototyping, 
neither R nor S-Plus are appropriate environments for deploying user 
applications that would receive much use."

I can certainly respond by pointing out that CRAN contains more than 
2000 packages and Bioconductor contains more than 350. However, does 
anyone have statistics on how often R (and possibly some R packages) are 
downloaded, or on how many people actually use R?

Thanks,
    Kevin


From romain.francois at dbmail.com  Thu Nov 19 19:54:28 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Thu, 19 Nov 2009 19:54:28 +0100
Subject: [Rd] combine UserDefinedDatabase and regular environments
In-Reply-To: <509e0620911190914g3cd6838eyd91b049680d737e7@mail.gmail.com>
References: <4AF31246.1060004@dbmail.com>
	<509e0620911190914g3cd6838eyd91b049680d737e7@mail.gmail.com>
Message-ID: <4B059464.2020003@dbmail.com>

On 11/19/2009 06:14 PM, Michael Lawrence wrote:
>
>
> On Thu, Nov 5, 2009 at 9:58 AM, Romain Francois
> <romain.francois at dbmail.com <mailto:romain.francois at dbmail.com>> wrote:
>
>     Hello,
>
>     Is it possible to have the effect of UserDefinedDatabase outside of
>     "attached" environments ? Can I disguise an environment of the
>     sys.frames() as a UserDefinedDatabase ?
>
>     This seems to suggest that it might be possible :
>
>      > f <- function(){ e <- environment(); class(e) <-
>     "UserDefinedDatabase"; ff }
>      > f()
>
>
> The UserDefinedDatabase support expects an R_ObjectTable C structure
> embedded within an externalptr as the HASHTAB of the environment. So
> it's really only possible from C.

Sure. Too bad both environments and user defined database use HASHTAB 
with completely different meanings.

What I would want is something like this:

f <- function(){
	attachLocally( getSomeUserDefinedDatabaseFromC()  )
	HELLO
}

and the variable associated with the binding "HELLO" would come 
dynamically from the user defined database.


A more concrete example : rJava now has javaImport, that combined with 
attach allows dynamic lookup for class names within a set of imported 
java package paths:

attach( javaImport( "java.util" ), name = "java:java.util" )
v <- new( Vector )
m <- new( HashMap )

This is nice, but then as usual with attach, you forget to detach, ... 
this question is about to find a way to have this instead:

f <- function(){
	import( "java.util" )
	v <- new( Vector )
	v$add( 1 )
	v
}

where the "java.util" is no more looked up when f returns.


>       *** caught segfault ***
>     address (nil), cause 'unknown'
>
>     Traceback:
>       1: f()
>
>     Possible actions:
>     1: abort (with core dump, if enabled)
>     2: normal R exit
>     3: exit R without saving workspace
>     4: exit R saving workspace
>
>
>     At the moment, it seems to be either lookup using
>     UserDefinedDatabase or regular lookup. Has anyone tried to combine
>     both ?

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/EAD5 : LondonR slides
|- http://tr.im/BcPw : celebrating R commit #50000
`- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc


From cberry at tajo.ucsd.edu  Thu Nov 19 23:09:42 2009
From: cberry at tajo.ucsd.edu (Charles C. Berry)
Date: Thu, 19 Nov 2009 14:09:42 -0800
Subject: [Rd] R Usage Statistics
In-Reply-To: <4B0592D3.5000200@mdacc.tmc.edu>
References: <4B0592D3.5000200@mdacc.tmc.edu>
Message-ID: <Pine.LNX.4.64.0911191400500.11560@tajo.ucsd.edu>

On Thu, 19 Nov 2009, Kevin R. Coombes wrote:

> Hi,
>
> I got the following comment from the reviewer of a paper (describing an 
> algorithm implemented in R) that I submitted to BMC Bioinformatics:
>
> "Finally, which useful for exploratory work and some prototyping, neither R 
> nor S-Plus are appropriate environments for deploying user applications that 
> would receive much use."

The reviewer needs to get out more...


"Intel Capital has placed the number of R users at 1 million, and 
Revolution kicks the estimate all the way up to 2 million."

from the New York Times Business Innovation Technology Blog

 	http://bits.blogs.nytimes.com/2009/01/08/r-you-ready-for-r/

which follows up on this article

 	http://www.nytimes.com/2009/01/07/technology/business-computing/07program.html

in their printed paper. Did the reviewer notice where that article said:

"Companies as diverse as Google, Pfizer, Merck, Bank of America, the 
InterContinental Hotels Group and Shell use it."

???

<sarcasm>
Yeah, Google and those other companies just don't have much ken 
for  muscular computing. ;-)
</sarcasm>

<more sarcasm>
Maybe you should retool in Visual Basic.
</more sarcasm>

HTH,

Chuck


>
> I can certainly respond by pointing out that CRAN contains more than 2000 
> packages and Bioconductor contains more than 350. However, does anyone have 
> statistics on how often R (and possibly some R packages) are downloaded, or 
> on how many people actually use R?
>
> Thanks,
>    Kevin
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>

Charles C. Berry                            (858) 534-2098
                                             Dept of Family/Preventive Medicine
E mailto:cberry at tajo.ucsd.edu	            UC San Diego
http://famprevmed.ucsd.edu/faculty/cberry/  La Jolla, San Diego 92093-0901


From smckinney at bccrc.ca  Thu Nov 19 23:21:44 2009
From: smckinney at bccrc.ca (Steven McKinney)
Date: Thu, 19 Nov 2009 14:21:44 -0800
Subject: [Rd] R Usage Statistics
In-Reply-To: <16322_1258656496_1258656496_4B0592D3.5000200@mdacc.tmc.edu>
References: <16322_1258656496_1258656496_4B0592D3.5000200@mdacc.tmc.edu>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B032C7C5A89@crcmail4.BCCRC.CA>

Hi Kevin,

What a surprising comment from a reviewer for BMC Bioinformatics.

I just did a PubMed search for "limma" and "aroma.affymetrix",
just two methods for which I use R software regularly.
"limma" yields 28 hits, several of which are published
in BMC Bioinformatics.  Bengtsson's aroma.affymetrix paper
"Estimation and assessment of raw copy numbers at the single locus level."
is already cited by 6 others.

It almost seems too easy to work up lists of usage of R packages.

Spotfire is an application built around S-Plus that has widespread use
in the biopharmaceutical industry at a minimum.  Vivek Ranadive's
TIBCO company just purchased Insightful, the S-Plus company.
(They bought Spotfire previously.)
Mr. Ranadive does not spend money on environments that are
not appropriate for deploying applications.

You could easily cull a list of corporation names from the 
various R email listservs as well.

Press back with the reviewer.  Reviewers can learn new things
and will respond to arguments with good evidence behind them.
Good luck!


Steven McKinney


________________________________________
From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Kevin R. Coombes [krcoombes at mdacc.tmc.edu]
Sent: November 19, 2009 10:47 AM
To: r-devel at r-project.org
Subject: [Rd] R Usage Statistics

Hi,

I got the following comment from the reviewer of a paper (describing an
algorithm implemented in R) that I submitted to BMC Bioinformatics:

"Finally, which useful for exploratory work and some prototyping,
neither R nor S-Plus are appropriate environments for deploying user
applications that would receive much use."

I can certainly respond by pointing out that CRAN contains more than
2000 packages and Bioconductor contains more than 350. However, does
anyone have statistics on how often R (and possibly some R packages) are
downloaded, or on how many people actually use R?

Thanks,
    Kevin

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel


From marc_schwartz at me.com  Thu Nov 19 23:25:16 2009
From: marc_schwartz at me.com (Marc Schwartz)
Date: Thu, 19 Nov 2009 16:25:16 -0600
Subject: [Rd] R Usage Statistics
In-Reply-To: <Pine.LNX.4.64.0911191400500.11560@tajo.ucsd.edu>
References: <4B0592D3.5000200@mdacc.tmc.edu>
	<Pine.LNX.4.64.0911191400500.11560@tajo.ucsd.edu>
Message-ID: <4238E4E9-4B0A-4C71-BCEB-D19A180F77B0@me.com>

On Nov 19, 2009, at 4:09 PM, Charles C. Berry wrote:

> On Thu, 19 Nov 2009, Kevin R. Coombes wrote:
>
>> Hi,
>>
>> I got the following comment from the reviewer of a paper  
>> (describing an algorithm implemented in R) that I submitted to BMC  
>> Bioinformatics:
>>
>> "Finally, which useful for exploratory work and some prototyping,  
>> neither R nor S-Plus are appropriate environments for deploying  
>> user applications that would receive much use."
>
> The reviewer needs to get out more...
>
>
> "Intel Capital has placed the number of R users at 1 million, and  
> Revolution kicks the estimate all the way up to 2 million."
>
> from the New York Times Business Innovation Technology Blog
>
> 	http://bits.blogs.nytimes.com/2009/01/08/r-you-ready-for-r/
>
> which follows up on this article
>
> 	http://www.nytimes.com/2009/01/07/technology/business-computing/07program.html
>
> in their printed paper. Did the reviewer notice where that article  
> said:
>
> "Companies as diverse as Google, Pfizer, Merck, Bank of America, the  
> InterContinental Hotels Group and Shell use it."
>
> ???
>
> <sarcasm>
> Yeah, Google and those other companies just don't have much ken for   
> muscular computing. ;-)
> </sarcasm>
>
> <more sarcasm>
> Maybe you should retool in Visual Basic.
> </more sarcasm>
>
> HTH,
>
> Chuck


<snip>

Clearly, a fortunes package nominee...  :-)

Regards,

Marc Schwartz


From mark at celos.net  Thu Nov 19 23:30:13 2009
From: mark at celos.net (mark at celos.net)
Date: Thu, 19 Nov 2009 23:30:13 +0100 (CET)
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
Message-ID: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>

Arrays of POSIXlt dates always return a length of 9.  This
is correct (they're really lists of vectors of seconds,
hours, and so forth), but other methods disguise them as
flat vectors, giving superficially surprising behaviour:

  strings <- paste('2009-1-', 1:31, sep='')
  dates <- strptime(strings, format="%Y-%m-%d")

  print(dates)
  #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" "2009-01-05"
  #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09" "2009-01-10"
  # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14" "2009-01-15"
  # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19" "2009-01-20"
  # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24" "2009-01-25"
  # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29" "2009-01-30"
  # [31] "2009-01-31"

  print(length(dates))
  # [1] 9
  
  str(dates)
  # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" ...

  print(dates[20])
  # [1] "2009-01-20"

  print(length(dates[20]))
  # [1] 9

I've since realised that POSIXct makes date vectors easier,
but could we also have something like:

  length.POSIXlt <- function(x) { length(x$sec) }

in datetime.R, to avoid breaking functions (like the
str.POSIXt method) which use length() in this way?

Thanks,
Mark <><

------

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 2
 minor = 10.0
 year = 2009
 month = 10
 day = 26
 svn rev = 50208
 language = R
 version.string = R version 2.10.0 (2009-10-26)

Locale:
C

Search Path:
 .GlobalEnv, package:stats, package:graphics, package:grDevices, package:utils, package:datasets, package:methods, Autoloads, package:base


From bcarvalh at jhsph.edu  Fri Nov 20 01:28:55 2009
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Thu, 19 Nov 2009 22:28:55 -0200
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>
References: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>
Message-ID: <C787288D-4F7C-4013-A173-B24A88515225@jhsph.edu>

Check the documentation and the archives. Not a bug. b

On Nov 19, 2009, at 8:30 PM, mark at celos.net wrote:

> Arrays of POSIXlt dates always return a length of 9.  This
> is correct (they're really lists of vectors of seconds,
> hours, and so forth), but other methods disguise them as
> flat vectors, giving superficially surprising behaviour:
>
>  strings <- paste('2009-1-', 1:31, sep='')
>  dates <- strptime(strings, format="%Y-%m-%d")
>
>  print(dates)
>  #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04"  
> "2009-01-05"
>  #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09"  
> "2009-01-10"
>  # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14"  
> "2009-01-15"
>  # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19"  
> "2009-01-20"
>  # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24"  
> "2009-01-25"
>  # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29"  
> "2009-01-30"
>  # [31] "2009-01-31"
>
>  print(length(dates))
>  # [1] 9
>
>  str(dates)
>  # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03"  
> "2009-01-04" ...
>
>  print(dates[20])
>  # [1] "2009-01-20"
>
>  print(length(dates[20]))
>  # [1] 9
>
> I've since realised that POSIXct makes date vectors easier,
> but could we also have something like:
>
>  length.POSIXlt <- function(x) { length(x$sec) }
>
> in datetime.R, to avoid breaking functions (like the
> str.POSIXt method) which use length() in this way?
>
> Thanks,
> Mark <><
>
> ------
>
> Version:
> platform = i686-pc-linux-gnu
> arch = i686
> os = linux-gnu
> system = i686, linux-gnu
> status =
> major = 2
> minor = 10.0
> year = 2009
> month = 10
> day = 26
> svn rev = 50208
> language = R
> version.string = R version 2.10.0 (2009-10-26)
>
> Locale:
> C
>
> Search Path:
> .GlobalEnv, package:stats, package:graphics, package:grDevices,  
> package:utils, package:datasets, package:methods, Autoloads,  
> package:base
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From smckinney at bccrc.ca  Fri Nov 20 03:19:36 2009
From: smckinney at bccrc.ca (Steven McKinney)
Date: Thu, 19 Nov 2009 18:19:36 -0800
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <4143_1258676975_1258676975_C787288D-4F7C-4013-A173-B24A88515225@jhsph.edu>
References: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>
	<4143_1258676975_1258676975_C787288D-4F7C-4013-A173-B24A88515225@jhsph.edu>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B032C624F65@crcmail4.BCCRC.CA>


I've checked the archives, and this problem crops up every
few months going back for years.

What I was not able to find was an explanation of why a
function such as 
  length.POSIXlt <- function(x) { length(x$sec) }
is a Bad Idea, or what it would break.  listserv threads
seem to end without presenting an answer.  R News 2001
Vol 1/2 discusses that "lots of methods are needed..."
(page 11) but I haven't found discussion of why a length
method isn't feasible.

Can anyone clarify this, or point me at the right
archive or documentation source that discusses why
objects of class POSIXlt always need to return a
length of 9?

Thanks
Steve McKinney 


> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
> project.org] On Behalf Of Benilton Carvalho
> Sent: Thursday, November 19, 2009 4:29 PM
> To: mark at celos.net
> Cc: r-devel at stat.math.ethz.ch
> Subject: Re: [Rd] Surprising length() of POSIXlt vector (PR#14073)
> 
> Check the documentation and the archives. Not a bug. b
> 
> On Nov 19, 2009, at 8:30 PM, mark at celos.net wrote:
> 
> > Arrays of POSIXlt dates always return a length of 9.  This
> > is correct (they're really lists of vectors of seconds,
> > hours, and so forth), but other methods disguise them as
> > flat vectors, giving superficially surprising behaviour:
> >
> >  strings <- paste('2009-1-', 1:31, sep='')
> >  dates <- strptime(strings, format="%Y-%m-%d")
> >
> >  print(dates)
> >  #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04"
> > "2009-01-05"
> >  #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09"
> > "2009-01-10"
> >  # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14"
> > "2009-01-15"
> >  # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19"
> > "2009-01-20"
> >  # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24"
> > "2009-01-25"
> >  # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29"
> > "2009-01-30"
> >  # [31] "2009-01-31"
> >
> >  print(length(dates))
> >  # [1] 9
> >
> >  str(dates)
> >  # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03"
> > "2009-01-04" ...
> >
> >  print(dates[20])
> >  # [1] "2009-01-20"
> >
> >  print(length(dates[20]))
> >  # [1] 9
> >
> > I've since realised that POSIXct makes date vectors easier,
> > but could we also have something like:
> >
> >  length.POSIXlt <- function(x) { length(x$sec) }
> >
> > in datetime.R, to avoid breaking functions (like the
> > str.POSIXt method) which use length() in this way?
> >
> > Thanks,
> > Mark <><
> >
> > ------
> >
> > Version:
> > platform = i686-pc-linux-gnu
> > arch = i686
> > os = linux-gnu
> > system = i686, linux-gnu
> > status =
> > major = 2
> > minor = 10.0
> > year = 2009
> > month = 10
> > day = 26
> > svn rev = 50208
> > language = R
> > version.string = R version 2.10.0 (2009-10-26)
> >
> > Locale:
> > C
> >
> > Search Path:
> > .GlobalEnv, package:stats, package:graphics, package:grDevices,
> > package:utils, package:datasets, package:methods, Autoloads,
> > package:base
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From gus1201 at optimizelife.com  Fri Nov 20 03:45:12 2009
From: gus1201 at optimizelife.com (gus1201 at optimizelife.com)
Date: Fri, 20 Nov 2009 03:45:12 +0100 (CET)
Subject: [Rd] rounding the time: significant 0 does not appear (PR#14074)
Message-ID: <20091120024512.C9B7E282EF2D@mail.pubhealth.ku.dk>

Full_Name: Gustavo Lacerda
Version: 2.9.1
OS: Windows
Submission from: (NULL) (137.82.157.97)


I obtained 'time' by subtracting the results of two calls to sys.Time().


> round(time,0)
Time difference of 1 mins
> round(time,1)
Time difference of 1 mins
> round(time,2)
Time difference of 1.03 mins
> round(time,3)
Time difference of 1.032 mins


Note that the second command above should return "1.0 mins", rather than "1
min".


From bcarvalh at jhsph.edu  Fri Nov 20 03:58:32 2009
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Fri, 20 Nov 2009 00:58:32 -0200
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <DCE81E14EB74504B971DAD4D2DB0356B032C624F65@crcmail4.BCCRC.CA>
References: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>
	<4143_1258676975_1258676975_C787288D-4F7C-4013-A173-B24A88515225@jhsph.edu>
	<DCE81E14EB74504B971DAD4D2DB0356B032C624F65@crcmail4.BCCRC.CA>
Message-ID: <65610626-C857-4DDA-BE74-C5CEA8724A38@jhsph.edu>

Steve,

I'm no expert on this, but my understanding is that the choice was to  
stick to the definition.

The help file for length() [1] says:

"For vectors (including lists) and factors the length is the number of  
elements."

The help file for POSIXlt [2] (for example) says:

"Class ?"POSIXlt"? is a named list of vectors representing (...)"

and then lists the 9 elements (sec / min / hour / mday / mon / year /  
wday / yday / isdst).

So, by [1] length of POSIXlt objects is 9, because it "is a named list  
of vectors representing (...)".

b

On Nov 20, 2009, at 12:19 AM, Steven McKinney wrote:

>
> I've checked the archives, and this problem crops up every
> few months going back for years.
>
> What I was not able to find was an explanation of why a
> function such as
>  length.POSIXlt <- function(x) { length(x$sec) }
> is a Bad Idea, or what it would break.  listserv threads
> seem to end without presenting an answer.  R News 2001
> Vol 1/2 discusses that "lots of methods are needed..."
> (page 11) but I haven't found discussion of why a length
> method isn't feasible.
>
> Can anyone clarify this, or point me at the right
> archive or documentation source that discusses why
> objects of class POSIXlt always need to return a
> length of 9?
>
> Thanks
> Steve McKinney
>
>
>> -----Original Message-----
>> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
>> project.org] On Behalf Of Benilton Carvalho
>> Sent: Thursday, November 19, 2009 4:29 PM
>> To: mark at celos.net
>> Cc: r-devel at stat.math.ethz.ch
>> Subject: Re: [Rd] Surprising length() of POSIXlt vector (PR#14073)
>>
>> Check the documentation and the archives. Not a bug. b
>>
>> On Nov 19, 2009, at 8:30 PM, mark at celos.net wrote:
>>
>>> Arrays of POSIXlt dates always return a length of 9.  This
>>> is correct (they're really lists of vectors of seconds,
>>> hours, and so forth), but other methods disguise them as
>>> flat vectors, giving superficially surprising behaviour:
>>>
>>> strings <- paste('2009-1-', 1:31, sep='')
>>> dates <- strptime(strings, format="%Y-%m-%d")
>>>
>>> print(dates)
>>> #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04"
>>> "2009-01-05"
>>> #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09"
>>> "2009-01-10"
>>> # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14"
>>> "2009-01-15"
>>> # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19"
>>> "2009-01-20"
>>> # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24"
>>> "2009-01-25"
>>> # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29"
>>> "2009-01-30"
>>> # [31] "2009-01-31"
>>>
>>> print(length(dates))
>>> # [1] 9
>>>
>>> str(dates)
>>> # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03"
>>> "2009-01-04" ...
>>>
>>> print(dates[20])
>>> # [1] "2009-01-20"
>>>
>>> print(length(dates[20]))
>>> # [1] 9
>>>
>>> I've since realised that POSIXct makes date vectors easier,
>>> but could we also have something like:
>>>
>>> length.POSIXlt <- function(x) { length(x$sec) }
>>>
>>> in datetime.R, to avoid breaking functions (like the
>>> str.POSIXt method) which use length() in this way?
>>>
>>> Thanks,
>>> Mark <><
>>>
>>> ------
>>>
>>> Version:
>>> platform = i686-pc-linux-gnu
>>> arch = i686
>>> os = linux-gnu
>>> system = i686, linux-gnu
>>> status =
>>> major = 2
>>> minor = 10.0
>>> year = 2009
>>> month = 10
>>> day = 26
>>> svn rev = 50208
>>> language = R
>>> version.string = R version 2.10.0 (2009-10-26)
>>>
>>> Locale:
>>> C
>>>
>>> Search Path:
>>> .GlobalEnv, package:stats, package:graphics, package:grDevices,
>>> package:utils, package:datasets, package:methods, Autoloads,
>>> package:base
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel


From smckinney at bccrc.ca  Fri Nov 20 04:47:54 2009
From: smckinney at bccrc.ca (Steven McKinney)
Date: Thu, 19 Nov 2009 19:47:54 -0800
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <65610626-C857-4DDA-BE74-C5CEA8724A38@jhsph.edu>
References: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>
	<4143_1258676975_1258676975_C787288D-4F7C-4013-A173-B24A88515225@jhsph.edu>
	<DCE81E14EB74504B971DAD4D2DB0356B032C624F65@crcmail4.BCCRC.CA>
	<65610626-C857-4DDA-BE74-C5CEA8724A38@jhsph.edu>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B032C624F67@crcmail4.BCCRC.CA>


> -----Original Message-----
> From: Benilton Carvalho [mailto:bcarvalh at jhsph.edu]
> Sent: Thursday, November 19, 2009 6:59 PM
> To: Steven McKinney
> Cc: 'mark at celos.net'; 'r-devel at stat.math.ethz.ch'
> Subject: Re: [Rd] Surprising length() of POSIXlt vector (PR#14073)
> 
> Steve,
> 
> I'm no expert on this, but my understanding is that the choice was to
> stick to the definition.
> 
> The help file for length() [1] says:
> 
> "For vectors (including lists) and factors the length is the number of
> elements."
> 
> The help file for POSIXlt [2] (for example) says:
> 
> "Class '"POSIXlt"' is a named list of vectors representing (...)"
> 
> and then lists the 9 elements (sec / min / hour / mday / mon / year /
> wday / yday / isdst).
> 
> So, by [1] length of POSIXlt objects is 9, because it "is a named list
> of vectors representing (...)".

Thanks, a most sensible description.
After how many bug reports does it qualify for addition to the FAQ?!

Steve McKinney

> 
> b
> 
> On Nov 20, 2009, at 12:19 AM, Steven McKinney wrote:
> 
> >
> > I've checked the archives, and this problem crops up every
> > few months going back for years.
> >
> > What I was not able to find was an explanation of why a
> > function such as
> >  length.POSIXlt <- function(x) { length(x$sec) }
> > is a Bad Idea, or what it would break.  listserv threads
> > seem to end without presenting an answer.  R News 2001
> > Vol 1/2 discusses that "lots of methods are needed..."
> > (page 11) but I haven't found discussion of why a length
> > method isn't feasible.
> >
> > Can anyone clarify this, or point me at the right
> > archive or documentation source that discusses why
> > objects of class POSIXlt always need to return a
> > length of 9?
> >
> > Thanks
> > Steve McKinney
> >
> >
> >> -----Original Message-----
> >> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
> >> project.org] On Behalf Of Benilton Carvalho
> >> Sent: Thursday, November 19, 2009 4:29 PM
> >> To: mark at celos.net
> >> Cc: r-devel at stat.math.ethz.ch
> >> Subject: Re: [Rd] Surprising length() of POSIXlt vector (PR#14073)
> >>
> >> Check the documentation and the archives. Not a bug. b
> >>
> >> On Nov 19, 2009, at 8:30 PM, mark at celos.net wrote:
> >>
> >>> Arrays of POSIXlt dates always return a length of 9.  This
> >>> is correct (they're really lists of vectors of seconds,
> >>> hours, and so forth), but other methods disguise them as
> >>> flat vectors, giving superficially surprising behaviour:
> >>>
> >>> strings <- paste('2009-1-', 1:31, sep='')
> >>> dates <- strptime(strings, format="%Y-%m-%d")
> >>>
> >>> print(dates)
> >>> #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04"
> >>> "2009-01-05"
> >>> #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09"
> >>> "2009-01-10"
> >>> # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14"
> >>> "2009-01-15"
> >>> # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19"
> >>> "2009-01-20"
> >>> # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24"
> >>> "2009-01-25"
> >>> # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29"
> >>> "2009-01-30"
> >>> # [31] "2009-01-31"
> >>>
> >>> print(length(dates))
> >>> # [1] 9
> >>>
> >>> str(dates)
> >>> # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03"
> >>> "2009-01-04" ...
> >>>
> >>> print(dates[20])
> >>> # [1] "2009-01-20"
> >>>
> >>> print(length(dates[20]))
> >>> # [1] 9
> >>>
> >>> I've since realised that POSIXct makes date vectors easier,
> >>> but could we also have something like:
> >>>
> >>> length.POSIXlt <- function(x) { length(x$sec) }
> >>>
> >>> in datetime.R, to avoid breaking functions (like the
> >>> str.POSIXt method) which use length() in this way?
> >>>
> >>> Thanks,
> >>> Mark <><
> >>>
> >>> ------
> >>>
> >>> Version:
> >>> platform = i686-pc-linux-gnu
> >>> arch = i686
> >>> os = linux-gnu
> >>> system = i686, linux-gnu
> >>> status =
> >>> major = 2
> >>> minor = 10.0
> >>> year = 2009
> >>> month = 10
> >>> day = 26
> >>> svn rev = 50208
> >>> language = R
> >>> version.string = R version 2.10.0 (2009-10-26)
> >>>
> >>> Locale:
> >>> C
> >>>
> >>> Search Path:
> >>> .GlobalEnv, package:stats, package:graphics, package:grDevices,
> >>> package:utils, package:datasets, package:methods, Autoloads,
> >>> package:base
> >>>
> >>> ______________________________________________
> >>> R-devel at r-project.org mailing list
> >>> https://stat.ethz.ch/mailman/listinfo/r-devel
> >>
> >> ______________________________________________
> >> R-devel at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-devel


From macq at llnl.gov  Fri Nov 20 05:23:52 2009
From: macq at llnl.gov (Don MacQueen)
Date: Thu, 19 Nov 2009 20:23:52 -0800
Subject: [Rd] rounding the time: significant 0 does not appear (PR#14074)
In-Reply-To: <20091120024512.C9B7E282EF2D@mail.pubhealth.ku.dk>
References: <20091120024512.C9B7E282EF2D@mail.pubhealth.ku.dk>
Message-ID: <p06240804c72bc7e744ad@[192.168.11.5]>

This is not a bug, and has nothing to do with times. For example:

>  round(1.03,1)
[1] 1

Formatting is not the same as rounding. Perhaps you are assuming R 
formats numbers according to the concept of significant digits, but 
it doesn't. See the help page for the format function to get started 
with understanding R's rules for formatting numbers when it displays 
them. Maybe also some of the introductory R documents available on 
CRAN.

-Don


At 3:45 AM +0100 11/20/09, gus1201 at optimizelife.com wrote:
>Full_Name: Gustavo Lacerda
>Version: 2.9.1
>OS: Windows
>Submission from: (NULL) (137.82.157.97)
>
>
>I obtained 'time' by subtracting the results of two calls to sys.Time().
>
>
>>  round(time,0)
>Time difference of 1 mins
>>  round(time,1)
>Time difference of 1 mins
>>  round(time,2)
>Time difference of 1.03 mins
>>  round(time,3)
>Time difference of 1.032 mins
>
>
>Note that the second command above should return "1.0 mins", rather than "1
>min".
>
>______________________________________________
>R-devel at r-project.org mailing list
>https://*stat.ethz.ch/mailman/listinfo/r-devel


-- 
---------------------------------
Don MacQueen
Lawrence Livermore National Laboratory
Livermore, CA, USA
925-423-1062
macq at llnl.gov


From macq at llnl.gov  Fri Nov 20 05:25:09 2009
From: macq at llnl.gov (macq at llnl.gov)
Date: Fri, 20 Nov 2009 05:25:09 +0100 (CET)
Subject: [Rd] rounding the time: significant 0 does not appear (PR#14075)
Message-ID: <20091120042509.E8098282EF2D@mail.pubhealth.ku.dk>

This is not a bug, and has nothing to do with times. For example:

>  round(1.03,1)
[1] 1

Formatting is not the same as rounding. Perhaps you are assuming R 
formats numbers according to the concept of significant digits, but 
it doesn't. See the help page for the format function to get started 
with understanding R's rules for formatting numbers when it displays 
them. Maybe also some of the introductory R documents available on 
CRAN.

-Don


At 3:45 AM +0100 11/20/09, gus1201 at optimizelife.com wrote:
>Full_Name: Gustavo Lacerda
>Version: 2.9.1
>OS: Windows
>Submission from: (NULL) (137.82.157.97)
>
>
>I obtained 'time' by subtracting the results of two calls to sys.Time().
>
>
>>  round(time,0)
>Time difference of 1 mins
>>  round(time,1)
>Time difference of 1 mins
>>  round(time,2)
>Time difference of 1.03 mins
>>  round(time,3)
>Time difference of 1.032 mins
>
>
>Note that the second command above should return "1.0 mins", rather than "1
>min".
>
>______________________________________________
>R-devel at r-project.org mailing list
>https://*stat.ethz.ch/mailman/listinfo/r-devel


-- 
---------------------------------
Don MacQueen
Lawrence Livermore National Laboratory
Livermore, CA, USA
925-423-1062
macq at llnl.gov


From wdunlap at tibco.com  Fri Nov 20 06:36:32 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Thu, 19 Nov 2009 21:36:32 -0800
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <65610626-C857-4DDA-BE74-C5CEA8724A38@jhsph.edu>
References: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk><4143_1258676975_1258676975_C787288D-4F7C-4013-A173-B24A88515225@jhsph.edu><DCE81E14EB74504B971DAD4D2DB0356B032C624F65@crcmail4.BCCRC.CA>
	<65610626-C857-4DDA-BE74-C5CEA8724A38@jhsph.edu>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D70002287A26@NA-PA-VBE03.na.tibco.com>

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Benilton Carvalho
> Sent: Thursday, November 19, 2009 6:59 PM
> To: Steven McKinney
> Cc: 'mark at celos.net'; 'r-devel at stat.math.ethz.ch'
> Subject: Re: [Rd] Surprising length() of POSIXlt vector (PR#14073)
> 
> Steve,
> 
> I'm no expert on this, but my understanding is that the 
> choice was to  
> stick to the definition.
> 
> The help file for length() [1] says:
> 
> "For vectors (including lists) and factors the length is the 
> number of  
> elements."
> 
> The help file for POSIXlt [2] (for example) says:
> 
> "Class '"POSIXlt"' is a named list of vectors representing (...)"
> 
> and then lists the 9 elements (sec / min / hour / mday / mon 
> / year /  
> wday / yday / isdst).
> 
> So, by [1] length of POSIXlt objects is 9, because it "is a 
> named list  
> of vectors representing (...)".
> 
> b

Before data.frames existed (c. 1991) the S help files
probably would have described describe 'dim()' in a
similar way for matrices, but it made sense to extend
it and its help file to work on data.frames after they
were invented.  Aren't the real questions how much code
would break, how much code would start working, and how
easy or hard would it be for a user to make sense of it
if length(POSIXlt.thing) reported how many dates were
in POSIXlt.thing instead of reporting how many components
were in its representation?

R's rep method for POSIXlt has a length argument that
represents the number of dates, as it must.  Its subscript
operator for POSIXlt accepts an index in the range
1:numberOfDates.  I.e., lots of its methods act like its
length is the number of dates.  However POSIXlt is not
vector-like enough to make a matrix out of or to attach
names to its dates.

I don't think a possibly out-of-date help file
is the definitive answer to the question of whether
or not there should be a length method for POSIXlt.

S+ has a timeDate class (represented as 2 vectors
of integers and some scalar attributes) with a length
method that gives the number of dates.  I think the
main problem with the method is that the C-level get_length
function returns a different value than the SV4 method
does.

S+ also has a numRows functions which is documented to
to return the 'number of cases' in a data object, with
methods for lots of classes (vector, matrix, timeSeries,
data.frame, etc.).  Users can call that and know it
never represents some accident of implementation as length
might.  Then users could abandon the use of length in
favor of numRows except when writing low-level code that
deals with the representation of things.  Does R has a
similar high level function?  (In that same family of
functions S+ has rowIds, numCols, and colIds to supplant
rownames, ncol, and colnames, respectively.) 

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com 
 
> On Nov 20, 2009, at 12:19 AM, Steven McKinney wrote:
> 
> >
> > I've checked the archives, and this problem crops up every
> > few months going back for years.
> >
> > What I was not able to find was an explanation of why a
> > function such as
> >  length.POSIXlt <- function(x) { length(x$sec) }
> > is a Bad Idea, or what it would break.  listserv threads
> > seem to end without presenting an answer.  R News 2001
> > Vol 1/2 discusses that "lots of methods are needed..."
> > (page 11) but I haven't found discussion of why a length
> > method isn't feasible.
> >
> > Can anyone clarify this, or point me at the right
> > archive or documentation source that discusses why
> > objects of class POSIXlt always need to return a
> > length of 9?
> >
> > Thanks
> > Steve McKinney
> >
> >
> >> -----Original Message-----
> >> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
> >> project.org] On Behalf Of Benilton Carvalho
> >> Sent: Thursday, November 19, 2009 4:29 PM
> >> To: mark at celos.net
> >> Cc: r-devel at stat.math.ethz.ch
> >> Subject: Re: [Rd] Surprising length() of POSIXlt vector (PR#14073)
> >>
> >> Check the documentation and the archives. Not a bug. b
> >>
> >> On Nov 19, 2009, at 8:30 PM, mark at celos.net wrote:
> >>
> >>> Arrays of POSIXlt dates always return a length of 9.  This
> >>> is correct (they're really lists of vectors of seconds,
> >>> hours, and so forth), but other methods disguise them as
> >>> flat vectors, giving superficially surprising behaviour:
> >>>
> >>> strings <- paste('2009-1-', 1:31, sep='')
> >>> dates <- strptime(strings, format="%Y-%m-%d")
> >>>
> >>> print(dates)
> >>> #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04"
> >>> "2009-01-05"
> >>> #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09"
> >>> "2009-01-10"
> >>> # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14"
> >>> "2009-01-15"
> >>> # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19"
> >>> "2009-01-20"
> >>> # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24"
> >>> "2009-01-25"
> >>> # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29"
> >>> "2009-01-30"
> >>> # [31] "2009-01-31"
> >>>
> >>> print(length(dates))
> >>> # [1] 9
> >>>
> >>> str(dates)
> >>> # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03"
> >>> "2009-01-04" ...
> >>>
> >>> print(dates[20])
> >>> # [1] "2009-01-20"
> >>>
> >>> print(length(dates[20]))
> >>> # [1] 9
> >>>
> >>> I've since realised that POSIXct makes date vectors easier,
> >>> but could we also have something like:
> >>>
> >>> length.POSIXlt <- function(x) { length(x$sec) }
> >>>
> >>> in datetime.R, to avoid breaking functions (like the
> >>> str.POSIXt method) which use length() in this way?
> >>>
> >>> Thanks,
> >>> Mark <><
> >>>
> >>> ------
> >>>
> >>> Version:
> >>> platform = i686-pc-linux-gnu
> >>> arch = i686
> >>> os = linux-gnu
> >>> system = i686, linux-gnu
> >>> status =
> >>> major = 2
> >>> minor = 10.0
> >>> year = 2009
> >>> month = 10
> >>> day = 26
> >>> svn rev = 50208
> >>> language = R
> >>> version.string = R version 2.10.0 (2009-10-26)
> >>>
> >>> Locale:
> >>> C
> >>>
> >>> Search Path:
> >>> .GlobalEnv, package:stats, package:graphics, package:grDevices,
> >>> package:utils, package:datasets, package:methods, Autoloads,
> >>> package:base
> >>>
> >>> ______________________________________________
> >>> R-devel at r-project.org mailing list
> >>> https://stat.ethz.ch/mailman/listinfo/r-devel
> >>
> >> ______________________________________________
> >> R-devel at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From guillaume.yziquel at citycable.ch  Fri Nov 20 07:59:46 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Fri, 20 Nov 2009 07:59:46 +0100
Subject: [Rd] structure of SYMSXP values.
Message-ID: <4B063E62.1010003@citycable.ch>

Hello.

I've now added some support to OCaml-R in order to investigate low-level 
structures. See below for an output, concerning 'str'.

But I'm having an issue concerning SEXPs with type SYMSXP.

>       lazy
>        {content =
>          SYMSXP
>           {pname = lazy {content = NILSXP};
>            sym_value =
>             lazy
>              {content =
>                SYMSXP
>                 {pname = lazy {content = NILSXP};
>                  sym_value =
>                   lazy
>                    {content =
>                      SYMSXP
>                       {pname = <lazy>; sym_value = <lazy>; internal = <lazy>}};
>                  internal = lazy {content = NILSXP}}};
>            internal = lazy {content = NILSXP}}};

It seems that the sym_value of a SYMSXP is a SYMSXP. But apparently they 
seem to be different structures, as the pointers pointing to these 
structures (the parent SYMSXP and the child SYMSXP) give different 
addresses...

So I'm wondering: what's the structure of SYMSXPs? Is its sym_value 
always a SYMSXP? I guess not. When its sym_value is a SYMSXP, is it 
pointing to itself?

All the best,

Guillaume Yziquel.


> # t;;
> - : R.Internal.t = <lazy>
> # unfold 1 t;;
> - : unit = ()
> # t;;
> - : R.Internal.t =
> lazy {content = PROMSXP {prom_value = <lazy>; expr = <lazy>; env = <lazy>}}
> # unfold 2 t;;
> - : unit = ()
> # t;;
> - : R.Internal.t =
> lazy
>  {content =
>    PROMSXP
>     {prom_value =
>       lazy
>        {content =
>          SYMSXP {pname = <lazy>; sym_value = <lazy>; internal = <lazy>}};
>      expr =
>       lazy
>        {content = LANGSXP {carval = <lazy>; cdrval = <lazy>; tagval = <lazy>}};
>      env = lazy {content = ENVSXP}}}
> # unfold 3 t;;
> - : unit = ()
> # t;;
> - : R.Internal.t =
> lazy
>  {content =
>    PROMSXP
>     {prom_value =
>       lazy
>        {content =
>          SYMSXP
>           {pname = lazy {content = NILSXP};
>            sym_value =
>             lazy
>              {content =
>                SYMSXP {pname = <lazy>; sym_value = <lazy>; internal = <lazy>}};
>            internal = lazy {content = NILSXP}}};
>      expr =
>       lazy
>        {content =
>          LANGSXP
>           {carval =
>             lazy
>              {content =
>                SYMSXP {pname = <lazy>; sym_value = <lazy>; internal = <lazy>}};
>            cdrval =
>             lazy
>              {content =
>                LISTSXP {carval = <lazy>; cdrval = <lazy>; tagval = <lazy>}};
>            tagval = lazy {content = NILSXP}}};
>      env = lazy {content = ENVSXP}}}
> # unfold 4 t;;
> - : unit = ()
> # t;;
> - : R.Internal.t =
> lazy
>  {content =
>    PROMSXP
>     {prom_value =
>       lazy
>        {content =
>          SYMSXP
>           {pname = lazy {content = NILSXP};
>            sym_value =
>             lazy
>              {content =
>                SYMSXP
>                 {pname = lazy {content = NILSXP};
>                  sym_value =
>                   lazy
>                    {content =
>                      SYMSXP
>                       {pname = <lazy>; sym_value = <lazy>; internal = <lazy>}};
>                  internal = lazy {content = NILSXP}}};
>            internal = lazy {content = NILSXP}}};
>      expr =
>       lazy
>        {content =
>          LANGSXP
>           {carval =
>             lazy
>              {content =
>                SYMSXP
>                 {pname = lazy {content = CHARSXP};
>                  sym_value = lazy {content = BUILTINSXP};
>                  internal = lazy {content = NILSXP}}};
>            cdrval =
>             lazy
>              {content =
>                LISTSXP
>                 {carval = lazy {content = INTSXP};
>                  cdrval =
>                   lazy
>                    {content =
>                      LISTSXP
>                       {carval = <lazy>; cdrval = <lazy>; tagval = <lazy>}};
>                  tagval = lazy {content = NILSXP}}};
>            tagval = lazy {content = NILSXP}}};
>      env = lazy {content = ENVSXP}}}


-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From abhibera at gmail.com  Fri Nov 20 09:01:44 2009
From: abhibera at gmail.com (Abhijit Bera)
Date: Fri, 20 Nov 2009 13:01:44 +0500
Subject: [Rd] How do I bundle R with my Win32 Application?
Message-ID: <fc212e850911200001i676b9670pd15b9a3f20405b08@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091120/18656b08/attachment.pl>

From p.dalgaard at biostat.ku.dk  Fri Nov 20 09:54:34 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Fri, 20 Nov 2009 09:54:34 +0100
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>
References: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>
Message-ID: <4B06594A.8030802@biostat.ku.dk>

mark at celos.net wrote:
> Arrays of POSIXlt dates always return a length of 9.  This
> is correct (they're really lists of vectors of seconds,
> hours, and so forth), but other methods disguise them as
> flat vectors, giving superficially surprising behaviour:
> 
>   strings <- paste('2009-1-', 1:31, sep='')
>   dates <- strptime(strings, format="%Y-%m-%d")
> 
>   print(dates)
>   #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" "2009-01-05"
>   #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09" "2009-01-10"
>   # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14" "2009-01-15"
>   # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19" "2009-01-20"
>   # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24" "2009-01-25"
>   # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29" "2009-01-30"
>   # [31] "2009-01-31"
> 
>   print(length(dates))
>   # [1] 9
>   
>   str(dates)
>   # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" ...
> 
>   print(dates[20])
>   # [1] "2009-01-20"
> 
>   print(length(dates[20]))
>   # [1] 9
> 
> I've since realised that POSIXct makes date vectors easier,
> but could we also have something like:
> 
>   length.POSIXlt <- function(x) { length(x$sec) }
> 
> in datetime.R, to avoid breaking functions (like the
> str.POSIXt method) which use length() in this way?


[You need "wishlist" in the title for this sort of stuff.]

I'd be wary of this. Just the other day we found that identical() broke 
on some objects because a package had length() redefined as a class 
method. I.e. the danger is that something wants to use length() with its 
original low-level interpretation.


> Thanks,
> Mark <><
> 
> ------
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status = 
>  major = 2
>  minor = 10.0
>  year = 2009
>  month = 10
>  day = 26
>  svn rev = 50208
>  language = R
>  version.string = R version 2.10.0 (2009-10-26)
> 
> Locale:
> C
> 
> Search Path:
>  .GlobalEnv, package:stats, package:graphics, package:grDevices, package:utils, package:datasets, package:methods, Autoloads, package:base
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From romain.francois at dbmail.com  Fri Nov 20 10:02:39 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Fri, 20 Nov 2009 10:02:39 +0100
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <4B06594A.8030802@biostat.ku.dk>
References: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>
	<4B06594A.8030802@biostat.ku.dk>
Message-ID: <4B065B2F.8040802@dbmail.com>

On 11/20/2009 09:54 AM, Peter Dalgaard wrote:
>
> mark at celos.net wrote:
>> Arrays of POSIXlt dates always return a length of 9. This
>> is correct (they're really lists of vectors of seconds,
>> hours, and so forth), but other methods disguise them as
>> flat vectors, giving superficially surprising behaviour:
>>
>> strings <- paste('2009-1-', 1:31, sep='')
>> dates <- strptime(strings, format="%Y-%m-%d")
>>
>> print(dates)
>> # [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" "2009-01-05"
>> # [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09" "2009-01-10"
>> # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14" "2009-01-15"
>> # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19" "2009-01-20"
>> # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24" "2009-01-25"
>> # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29" "2009-01-30"
>> # [31] "2009-01-31"
>>
>> print(length(dates))
>> # [1] 9
>> str(dates)
>> # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03"
>> "2009-01-04" ...
>>
>> print(dates[20])
>> # [1] "2009-01-20"
>>
>> print(length(dates[20]))
>> # [1] 9
>>
>> I've since realised that POSIXct makes date vectors easier,
>> but could we also have something like:
>>
>> length.POSIXlt <- function(x) { length(x$sec) }
>>
>> in datetime.R, to avoid breaking functions (like the
>> str.POSIXt method) which use length() in this way?
>
>
> [You need "wishlist" in the title for this sort of stuff.]
>
> I'd be wary of this. Just the other day we found that identical() broke
> on some objects because a package had length() redefined as a class
> method. I.e. the danger is that something wants to use length() with its
> original low-level interpretation.

str is another example

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/EAD5 : LondonR slides
|- http://tr.im/BcPw : celebrating R commit #50000
`- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc


From hb at stat.berkeley.edu  Fri Nov 20 10:24:09 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Fri, 20 Nov 2009 10:24:09 +0100
Subject: [Rd] Suggestion: Clarification in Rd for utils::getAnywhere()
Message-ID: <59d7961d0911200124u66f8c8b9t6010b56b485d27a4@mail.gmail.com>

In order to clarify that getAnywhere(str) where str is a character
string object, will look for object with name "str" and not the value
of 'str', I suggest the following Rd updated for utils::getAnywhere():

Update the argument list:

\item{x}{a [literal] character string or name.}

The term 'literal character string' is used in library().

Add to the example code:

str <- "format.dist"
do.call("getAnywhere", list(str))

Alternatively, getAnywhere() should gain an argument 'character.only'
as in library().

/Henrik


From mark at celos.net  Fri Nov 20 11:53:43 2009
From: mark at celos.net (Mark White)
Date: Fri, 20 Nov 2009 10:53:43 +0000
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <65610626-C857-4DDA-BE74-C5CEA8724A38@jhsph.edu>
References: <20091119223013.53B2C282EF57@mail.pubhealth.ku.dk>
	<4143_1258676975_1258676975_C787288D-4F7C-4013-A173-B24A88515225@jhsph.edu>
	<DCE81E14EB74504B971DAD4D2DB0356B032C624F65@crcmail4.BCCRC.CA>
	<65610626-C857-4DDA-BE74-C5CEA8724A38@jhsph.edu>
Message-ID: <20091120105343.GD1848@celos.net>

Benilton Carvalho writes:
> I'm no expert on this, but my understanding is that the choice was
> to stick to the definition.
> 
> The help file for length() [1] says:
> 
> "For vectors (including lists) and factors the length is the number
> of elements."
> 
> The help file for POSIXlt [2] (for example) says:
> 
> "Class ?"POSIXlt"? is a named list of vectors representing (...)"
> 
> and then lists the 9 elements (sec / min / hour / mday / mon / year
> / wday / yday / isdst).
> 
> So, by [1] length of POSIXlt objects is 9, because it "is a named
> list of vectors representing (...)".

Thanks, all.  Yes, I'd already read both, and it's obviously
true that a length() of 9 is correct (as I said up-front).

The difficulty is that some functions -- importantly
including "[" -- already have methods which make POSIXlt
behave like a vector.  The documentation for POSIXlt just
says it's a list of 9 elements: it mentions methods for
addition etc, but AFAICT it doesn't say that subsetting won't
behave is "["'s help says for a list-like object.

In the end, "[" sees a different length to "[[" and "$"
here, so a length.POSIXlt() just shuffles the issue around.

Anyhow, I somehow missed there have been other PRs on this,
including discussion on r-devel of "[" and logical vs physical
length() under PR#10507.  I'm sorry for being repetitive.

Mark <><


From mariotomo at gmail.com  Fri Nov 20 09:35:11 2009
From: mariotomo at gmail.com (mariotomo at gmail.com)
Date: Fri, 20 Nov 2009 09:35:11 +0100 (CET)
Subject: [Rd] ISOdate and strptime results are not interoperable (PR#14076)
Message-ID: <20091120083511.1A3C4282EF2D@mail.pubhealth.ku.dk>

Full_Name: Mario Frasca
Version: 2.9.2, 2.10.0, 2.8.1
OS: ubuntu 9.10, Debian sid, MacOSX 10.4
Submission from: (NULL) (194.151.158.193)


The objects being returned by the functions strptime and ISOdate look the same
(to me) but behave differently.  The difference is influenced by the current
timezone of the system.  

> epoch_strptime <- strptime("1970-01-01 00:00:00", "%Y-%m-%d %H:%M:%S",
tz="UTC")
> epoch_isodate <- ISOdate(1970,1,1,0,0,0, tz="UTC")
> epoch_strptime
[1] "1970-01-01 UTC"
> epoch_isodate
[1] "1970-01-01 UTC"
> mode(epoch_strptime)
[1] "list"
> mode(epoch_isodate)
[1] "numeric"
> # the system is currently in timezone CET (Europe/Rome)
> epoch_isodate - epoch_strptime
Time difference of 1 hours
> # using time-admin to move to timezone COT (America/Bogota)
> epoch_isodate - epoch_strptime
Time difference of -5 hours


From mark at celos.net  Fri Nov 20 11:05:25 2009
From: mark at celos.net (mark at celos.net)
Date: Fri, 20 Nov 2009 11:05:25 +0100 (CET)
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
Message-ID: <20091120100525.97ECB283201D@mail.pubhealth.ku.dk>

Benilton Carvalho writes:
> I'm no expert on this, but my understanding is that the choice was
> to stick to the definition.
> 
> The help file for length() [1] says:
> 
> "For vectors (including lists) and factors the length is the number
> of elements."
> 
> The help file for POSIXlt [2] (for example) says:
> 
> "Class ?"POSIXlt"? is a named list of vectors representing (...)"
> 
> and then lists the 9 elements (sec / min / hour / mday / mon / year
> / wday / yday / isdst).
> 
> So, by [1] length of POSIXlt objects is 9, because it "is a named
> list of vectors representing (...)".

Thanks, all.  Yes, I'd already read both, and it's obviously
true that a length() of 9 is correct (as I said up-front).

The difficulty is that some functions -- importantly
including "[" -- already have methods which make POSIXlt
behave like a vector.  The documentation for POSIXlt just
says it's a list of 9 elements: it mentions methods for
addition etc, but AFAICT it doesn't say that subsetting won't
behave is "["'s help says for a list-like object.

In the end, "[" sees a different length to "[[" and "$"
here, so a length.POSIXlt() just shuffles the issue around.

Anyhow, I somehow missed there have been other PRs on this,
including discussion on r-devel of "[" and logical vs physical
length() under PR#10507.  I'm sorry for being repetitive.

Mark <><


From sgiannerini at gmail.com  Fri Nov 20 15:18:58 2009
From: sgiannerini at gmail.com (Simone Giannerini)
Date: Fri, 20 Nov 2009 15:18:58 +0100
Subject: [Rd] make fails on R r50499 ( openSuSE 11.0 x86-64)
Message-ID: <3c12769c0911200618x5dd209bdxe33de1aaf142d9c4@mail.gmail.com>

Dear all,

I encountered a problem when compiling the source of R patched 2.10.0
r50499 (19-11-2009)
linked to ACML single threaded (4.2.0 or 4.3.0)
OS: openSuSE 11.0 x86-64

make fails when it comes to installing mgcv with the following

[snip]
** R
** inst
** preparing package for lazy loading
Error in loadNamespace(i[[1L]], c(lib.loc, .libPaths())) :
  non esiste un pacchetto chiamato 'Matrix'
package 'Matrix' does not exist  ## TRANSLATED BY ME
ERROR: lazy loading failed for package ?mgcv?
* removing ?/home/giannerini/Desktop/R-patched/library/mgcv?
make[2]: *** [mgcv.ts] Error 1
make[2]: Leaving directory
`/home/giannerini/Desktop/R-patched/src/library/Recommended'
make[1]: *** [recommended-packages] Error 2
make[1]: Leaving directory
`/home/giannerini/Desktop/R-patched/src/library/Recommended'
make: *** [stamp-recommended] Error 2

I think that the source of package Matrix is where it is supposed to
be so that I have no clues.
Compilation and installation on the same machine with both the latest
R devel (2.11.0)  and the following version were successful
> R.version
               _
platform       x86_64-unknown-linux-gnu
arch           x86_64
os             linux-gnu
system         x86_64, linux-gnu
status
major          2
minor          10.0
year           2009
month          10
day            26
svn rev        50208
language       R
version.string R version 2.10.0 (2009-10-26)

> Sys.getlocale()
[1] "LC_CTYPE=it_IT.UTF-8;LC_NUMERIC=C;LC_TIME=it_IT.UTF-8;LC_COLLATE=it_IT.UTF-8;LC_MONETARY=C;LC_MESSAGES=it_IT.UTF-8;LC_PAPER=it_IT.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=it_IT.UTF-8;LC_IDENTIFICATION=C"

for the moment we stay with r50208,
any hints appreciated, thanks

regards

Simone

-- 
______________________________________________________

Simone Giannerini
Dipartimento di Scienze Statistiche "Paolo Fortunati"
Universita' di Bologna
Via delle belle arti 41 - 40126  Bologna,  ITALY
Tel: +39 051 2098262  Fax: +39 051 232153
http://www2.stat.unibo.it/giannerini/


From ripley at stats.ox.ac.uk  Fri Nov 20 15:54:42 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 20 Nov 2009 14:54:42 +0000 (GMT)
Subject: [Rd] make fails on R r50499 ( openSuSE 11.0 x86-64)
In-Reply-To: <3c12769c0911200618x5dd209bdxe33de1aaf142d9c4@mail.gmail.com>
References: <3c12769c0911200618x5dd209bdxe33de1aaf142d9c4@mail.gmail.com>
Message-ID: <alpine.LFD.2.00.0911201444520.24633@gannet.stats.ox.ac.uk>

What has happened is that mgcv now depends on Matrix, but the author 
hasn't told us that.  Add to the line in 
src/library/Recommended/Makefile.in so it becomes

mgcv.ts: nlme.ts MASS.ts Matrix.ts

and it should work.

The tarballs will catch up in due course.

On Fri, 20 Nov 2009, Simone Giannerini wrote:

> Dear all,
>
> I encountered a problem when compiling the source of R patched 2.10.0
> r50499 (19-11-2009)
> linked to ACML single threaded (4.2.0 or 4.3.0)
> OS: openSuSE 11.0 x86-64
>
> make fails when it comes to installing mgcv with the following
>
> [snip]
> ** R
> ** inst
> ** preparing package for lazy loading
> Error in loadNamespace(i[[1L]], c(lib.loc, .libPaths())) :
>  non esiste un pacchetto chiamato 'Matrix'
> package 'Matrix' does not exist  ## TRANSLATED BY ME
> ERROR: lazy loading failed for package ?mgcv?
> * removing ?/home/giannerini/Desktop/R-patched/library/mgcv?
> make[2]: *** [mgcv.ts] Error 1
> make[2]: Leaving directory
> `/home/giannerini/Desktop/R-patched/src/library/Recommended'
> make[1]: *** [recommended-packages] Error 2
> make[1]: Leaving directory
> `/home/giannerini/Desktop/R-patched/src/library/Recommended'
> make: *** [stamp-recommended] Error 2
>
> I think that the source of package Matrix is where it is supposed to
> be so that I have no clues.
> Compilation and installation on the same machine with both the latest
> R devel (2.11.0)  and the following version were successful
>> R.version
>               _
> platform       x86_64-unknown-linux-gnu
> arch           x86_64
> os             linux-gnu
> system         x86_64, linux-gnu
> status
> major          2
> minor          10.0
> year           2009
> month          10
> day            26
> svn rev        50208
> language       R
> version.string R version 2.10.0 (2009-10-26)
>
>> Sys.getlocale()
> [1] "LC_CTYPE=it_IT.UTF-8;LC_NUMERIC=C;LC_TIME=it_IT.UTF-8;LC_COLLATE=it_IT.UTF-8;LC_MONETARY=C;LC_MESSAGES=it_IT.UTF-8;LC_PAPER=it_IT.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=it_IT.UTF-8;LC_IDENTIFICATION=C"
>
> for the moment we stay with r50208,
> any hints appreciated, thanks
>
> regards
>
> Simone
>
> -- 
> ______________________________________________________
>
> Simone Giannerini
> Dipartimento di Scienze Statistiche "Paolo Fortunati"
> Universita' di Bologna
> Via delle belle arti 41 - 40126  Bologna,  ITALY
> Tel: +39 051 2098262  Fax: +39 051 232153
> http://www2.stat.unibo.it/giannerini/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From sgiannerini at gmail.com  Fri Nov 20 16:19:11 2009
From: sgiannerini at gmail.com (Simone Giannerini)
Date: Fri, 20 Nov 2009 16:19:11 +0100
Subject: [Rd] make fails on R r50499 ( openSuSE 11.0 x86-64)
In-Reply-To: <alpine.LFD.2.00.0911201444520.24633@gannet.stats.ox.ac.uk>
References: <3c12769c0911200618x5dd209bdxe33de1aaf142d9c4@mail.gmail.com>
	<alpine.LFD.2.00.0911201444520.24633@gannet.stats.ox.ac.uk>
Message-ID: <3c12769c0911200719g57f6fb9foa90e9cf9f9853023@mail.gmail.com>

Thank you,  now it works

kind regards,

Simone

2009/11/20 Prof Brian Ripley <ripley at stats.ox.ac.uk>:
> What has happened is that mgcv now depends on Matrix, but the author hasn't
> told us that. ?Add to the line in src/library/Recommended/Makefile.in so it
> becomes
>
> mgcv.ts: nlme.ts MASS.ts Matrix.ts
>
> and it should work.
>
> The tarballs will catch up in due course.
>
> On Fri, 20 Nov 2009, Simone Giannerini wrote:
>
>> Dear all,
>>
>> I encountered a problem when compiling the source of R patched 2.10.0
>> r50499 (19-11-2009)
>> linked to ACML single threaded (4.2.0 or 4.3.0)
>> OS: openSuSE 11.0 x86-64
>>
>> make fails when it comes to installing mgcv with the following
>>
>> [snip]
>> ** R
>> ** inst
>> ** preparing package for lazy loading
>> Error in loadNamespace(i[[1L]], c(lib.loc, .libPaths())) :
>> ?non esiste un pacchetto chiamato 'Matrix'
>> package 'Matrix' does not exist ?## TRANSLATED BY ME
>> ERROR: lazy loading failed for package ?mgcv?
>> * removing ?/home/giannerini/Desktop/R-patched/library/mgcv?
>> make[2]: *** [mgcv.ts] Error 1
>> make[2]: Leaving directory
>> `/home/giannerini/Desktop/R-patched/src/library/Recommended'
>> make[1]: *** [recommended-packages] Error 2
>> make[1]: Leaving directory
>> `/home/giannerini/Desktop/R-patched/src/library/Recommended'
>> make: *** [stamp-recommended] Error 2
>>
>> I think that the source of package Matrix is where it is supposed to
>> be so that I have no clues.
>> Compilation and installation on the same machine with both the latest
>> R devel (2.11.0) ?and the following version were successful
>>>
>>> R.version
>>
>> ? ? ? ? ? ? ?_
>> platform ? ? ? x86_64-unknown-linux-gnu
>> arch ? ? ? ? ? x86_64
>> os ? ? ? ? ? ? linux-gnu
>> system ? ? ? ? x86_64, linux-gnu
>> status
>> major ? ? ? ? ?2
>> minor ? ? ? ? ?10.0
>> year ? ? ? ? ? 2009
>> month ? ? ? ? ?10
>> day ? ? ? ? ? ?26
>> svn rev ? ? ? ?50208
>> language ? ? ? R
>> version.string R version 2.10.0 (2009-10-26)
>>
>>> Sys.getlocale()
>>
>> [1]
>> "LC_CTYPE=it_IT.UTF-8;LC_NUMERIC=C;LC_TIME=it_IT.UTF-8;LC_COLLATE=it_IT.UTF-8;LC_MONETARY=C;LC_MESSAGES=it_IT.UTF-8;LC_PAPER=it_IT.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=it_IT.UTF-8;LC_IDENTIFICATION=C"
>>
>> for the moment we stay with r50208,
>> any hints appreciated, thanks
>>
>> regards
>>
>> Simone
>>
>> --
>> ______________________________________________________
>>
>> Simone Giannerini
>> Dipartimento di Scienze Statistiche "Paolo Fortunati"
>> Universita' di Bologna
>> Via delle belle arti 41 - 40126 ?Bologna, ?ITALY
>> Tel: +39 051 2098262 ?Fax: +39 051 232153
>> http://www2.stat.unibo.it/giannerini/
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
> --
> Brian D. Ripley, ? ? ? ? ? ? ? ? ?ripley at stats.ox.ac.uk
> Professor of Applied Statistics, ?http://www.stats.ox.ac.uk/~ripley/
> University of Oxford, ? ? ? ? ? ? Tel: ?+44 1865 272861 (self)
> 1 South Parks Road, ? ? ? ? ? ? ? ? ? ? +44 1865 272866 (PA)
> Oxford OX1 3TG, UK ? ? ? ? ? ? ? ?Fax: ?+44 1865 272595



-- 
______________________________________________________

Simone Giannerini
Dipartimento di Scienze Statistiche "Paolo Fortunati"
Universita' di Bologna
Via delle belle arti 41 - 40126  Bologna,  ITALY
Tel: +39 051 2098262  Fax: +39 051 232153
http://www2.stat.unibo.it/giannerini/


From info at aghmed.fsnet.co.uk  Fri Nov 20 19:04:43 2009
From: info at aghmed.fsnet.co.uk (Michael Dewey)
Date: Fri, 20 Nov 2009 18:04:43 +0000
Subject: [Rd] R Usage Statistics
In-Reply-To: <4B0592D3.5000200@mdacc.tmc.edu>
References: <4B0592D3.5000200@mdacc.tmc.edu>
Message-ID: <Zen-1NBXqr-00021Z-34@smarthost03.mail.zen.net.uk>

At 18:47 19/11/2009, Kevin R. Coombes wrote:

>Hi,
>
>I got the following comment from the reviewer of a paper (describing 
>an algorithm implemented in R) that I submitted to BMC Bioinformatics:
>
>"Finally, which useful for exploratory work and some prototyping, 
>neither R nor S-Plus are appropriate environments for deploying user 
>applications that would receive much use."
>
>I can certainly respond by pointing out that CRAN contains more than 
>2000 packages and Bioconductor contains more than 350. However, does 
>anyone have statistics on how often R (and possibly some R packages) 
>are downloaded, or on how many people actually use R?

Another point you could make is that BMC supports open access 
publishing so that anyone in the world with an Internet connection 
can download the results of research free gratis and for nothing, 
something especially valuable to residents of resource poor 
countries. Consistent with that would be support for the use of 
methods which anyone can reproduce without having to buy a licence.


>Thanks,
>    Kevin
>
>______________________________________________
>R-devel at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-devel

Michael Dewey
http://www.aghmed.fsnet.co.uk


From maechler at stat.math.ethz.ch  Fri Nov 20 19:05:30 2009
From: maechler at stat.math.ethz.ch (maechler at stat.math.ethz.ch)
Date: Fri, 20 Nov 2009 19:05:30 +0100 (CET)
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
Message-ID: <20091120180530.C25322832012@mail.pubhealth.ku.dk>

>>>>> "PD" == Peter Dalgaard <p.dalgaard at biostat.ku.dk>
>>>>>     on Fri, 20 Nov 2009 09:54:34 +0100 writes:

    PD> mark at celos.net wrote:
    >> Arrays of POSIXlt dates always return a length of 9.  This
    >> is correct (they're really lists of vectors of seconds,
    >> hours, and so forth), but other methods disguise them as
    >> flat vectors, giving superficially surprising behaviour:
    >> 
    >> strings <- paste('2009-1-', 1:31, sep='')
    >> dates <- strptime(strings, format="%Y-%m-%d")
    >> 
    >> print(dates)
    >> #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" "2009-01-05"
    >> #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09" "2009-01-10"
    >> # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14" "2009-01-15"
    >> # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19" "2009-01-20"
    >> # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24" "2009-01-25"
    >> # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29" "2009-01-30"
    >> # [31] "2009-01-31"
    >> 
    >> print(length(dates))
    >> # [1] 9
    >> 
    >> str(dates)
    >> # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" ...
    >> 
    >> print(dates[20])
    >> # [1] "2009-01-20"
    >> 
    >> print(length(dates[20]))
    >> # [1] 9
    >> 
    >> I've since realised that POSIXct makes date vectors easier,
    >> but could we also have something like:
    >> 
    >> length.POSIXlt <- function(x) { length(x$sec) }
    >> 
    >> in datetime.R, to avoid breaking functions (like the
    >> str.POSIXt method) which use length() in this way?


    PD> [You need "wishlist" in the title for this sort of stuff.]

    PD> I'd be wary of this. Just the other day we found that identical() broke 
    PD> on some objects because a package had length() redefined as a class 
    PD> method. I.e. the danger is that something wants to use length() with its 
    PD> original low-level interpretation.

Yes, of course.
and Romain mentioned  str().  Note that we have needed to define
a "POSIXt" method for str(), partly just *because* of the
current anomaly:
As Tony Plate, e.g., has argued, entirely correctly in my view,
the anomaly is that    length() and "["   are not compatible;
and while I think no R language definition says that they should
be, I still believe that you need very good reasons for them to
be incompatible, as they are for POSIXlt.

In the current case, for me the only good reason is backwards
compatibility.
My personal taste would be to change it and see what happens.
I would be willing to clean up after that change within R 'base'
and all packages I am coauthoring (quite a few), but of course
there are still a thousand more R packages..
My strong bet would be that less than 1% would be affected,
and my point guess for the percentage affected would be
rather in the order of  1/1000.

The question is if we (you too!), the R community, are willing to
bear the load of cleanup, after such a change which would really
*improve* consistency of that small corner of R.
For me, as I indicated above, I am willing to bear my share
(and actually have got it ready for R-devel)

Martin Maechler, ETH Zurich (and R Core Team)


From lobry at biomserv.univ-lyon1.fr  Fri Nov 20 19:53:31 2009
From: lobry at biomserv.univ-lyon1.fr (Jean lobry)
Date: Fri, 20 Nov 2009 19:53:31 +0100
Subject: [Rd] Suggestion for the reproducibility of R home page figure
In-Reply-To: <mailman.17.1258714806.15108.r-devel@r-project.org>
References: <mailman.17.1258714806.15108.r-devel@r-project.org>
Message-ID: <p06002005c72c8c29b1b0@[192.168.1.18]>

Dear R-devel,

googling for the single letter R yields R-home page as the firt hit,
which is extremly nice.

By clicking on the figure you get the code of the "Winner of the R
Homepage graphics competition 2004."

By copy/pasting in your R console it doesn't work because it is impossible
to install the mva package.

This is my point.

As documented in ONEWS the reason is simple: since R 1.9.0 the package
mva as been merged into the package stats.

My suggestion is just to change the begining of the code as follows to
neutralize the requirement for the mva package:

----
### Code by Eric Lecoutre, Universite catholique de Louvain, Belgium
### Winner of the R Homepage graphics competition 2004

### Works in R 1.8.1 ...
### Still works in R 2.10.0 (2009-10-26) by deleting the requirement 
for the mva package ...

require(ade4)
#require(mva) no more needed since R version 1.9.0 as mva was merged 
in the standard stats package.
require(RColorBrewer)
require(pixmap)

etc.
----

so that reproducibility of the graph is straightforward (at least for 
someone who
is able to install an R package).

This is a minor change. I consider this is important because it may help people
wanting to test quickly the long term reproducibility of R results. For them
installing a package is not a problem, but do not expect them to have time to
dig in old ONEWS....

Please take this as a constructive comment, I was amazed how it was easy for me
to run this "old" R code. Just want to share.

Very Best,

Jean
-- 
Jean R. Lobry            (lobry at biomserv.univ-lyon1.fr)
Laboratoire BBE-CNRS-UMR-5558, Univ. C. Bernard - LYON I,
43 Bd 11/11/1918, F-69622 VILLEURBANNE CEDEX, FRANCE
allo  : +33 472 43 27 56     fax    : +33 472 43 13 88
http://pbil.univ-lyon1.fr/members/lobry/


From ejfertig at jhmi.edu  Fri Nov 20 20:43:17 2009
From: ejfertig at jhmi.edu (Elana Fertig)
Date: Fri, 20 Nov 2009 14:43:17 -0500
Subject: [Rd] Including local dynamic libraries
Message-ID: <180E96B0-E49C-4560-A4D3-808F24E11D9F@jhmi.edu>

Hi All,

I am trying to install the package rjags into a local library on a  
machine for which I do not have root permissions.

Using the command: R CMD INSTALL --configure-args="--with-jags-include= 
${JAGSBIN}/include/JAGS --with-jags-lib=${JAGSBIN}/lib/ --with-jags- 
modules=${JAGSBIN}/lib/JAGS/modules" CMD INSTALL -l ${JAGSBIN}/lib/ ../ 
rjags_1.0.3-12.tar.gz

Where ${JAGSBIN} is defined as a local directory, the installation  
seems to be working fine.  Then, I go into R and type the following  
commands:
 > .libPaths("${JAGSBIN}/lib/")
 > library("rjags")

I get the following error

Loading required package: coda
Loading required package: lattice
Error in dyn.load(file, DLLpath = DLLpath, ...) :
   unable to load shared library '${JAGSBIN}/lib/rjags/libs/rjags.so':
   libjags.so.1: cannot open shared object file: No such file or  
directory
Error : .onLoad failed in 'loadNamespace' for 'rjags'
Error: package/namespace load failed for 'rjags'

Ideally, I would fix this problem by adding the appropriate libraries  
to /user/local/lib64 .  However, since I do not have root permissions  
I am not able to make this addition.  How can I have R recognize c++  
libraries from my local path?

Thanks so much in advance for your help.


From romain.francois at dbmail.com  Fri Nov 20 21:07:46 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Fri, 20 Nov 2009 21:07:46 +0100
Subject: [Rd] Including local dynamic libraries
In-Reply-To: <180E96B0-E49C-4560-A4D3-808F24E11D9F@jhmi.edu>
References: <180E96B0-E49C-4560-A4D3-808F24E11D9F@jhmi.edu>
Message-ID: <4B06F712.2000701@dbmail.com>

On 11/20/2009 08:43 PM, Elana Fertig wrote:
> Hi All,
>
> I am trying to install the package rjags into a local library on a
> machine for which I do not have root permissions.
>
> Using the command: R CMD INSTALL
> --configure-args="--with-jags-include=${JAGSBIN}/include/JAGS
> --with-jags-lib=${JAGSBIN}/lib/
> --with-jags-modules=${JAGSBIN}/lib/JAGS/modules" CMD INSTALL -l
> ${JAGSBIN}/lib/ ../rjags_1.0.3-12.tar.gz
>
> Where ${JAGSBIN} is defined as a local directory, the installation seems
> to be working fine. Then, I go into R and type the following commands:
>  > .libPaths("${JAGSBIN}/lib/")

Maybe this :

.libPaths( file.path( Sys.getenv("JAGSBIN", "lib" ) ) )

>  > library("rjags")
>
> I get the following error
>
> Loading required package: coda
> Loading required package: lattice
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
> unable to load shared library '${JAGSBIN}/lib/rjags/libs/rjags.so':
> libjags.so.1: cannot open shared object file: No such file or directory
> Error : .onLoad failed in 'loadNamespace' for 'rjags'
> Error: package/namespace load failed for 'rjags'
>
> Ideally, I would fix this problem by adding the appropriate libraries to
> /user/local/lib64 . However, since I do not have root permissions I am
> not able to make this addition. How can I have R recognize c++ libraries
> from my local path?
>
> Thanks so much in advance for your help.


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/EAD5 : LondonR slides
|- http://tr.im/BcPw : celebrating R commit #50000
`- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc


From simon.urbanek at r-project.org  Sat Nov 21 02:16:27 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 20 Nov 2009 20:16:27 -0500
Subject: [Rd] Including local dynamic libraries
In-Reply-To: <4B06F712.2000701@dbmail.com>
References: <180E96B0-E49C-4560-A4D3-808F24E11D9F@jhmi.edu>
	<4B06F712.2000701@dbmail.com>
Message-ID: <40961956-760B-4CEA-A821-87681D71AF67@r-project.org>


On Nov 20, 2009, at 3:07 PM, Romain Francois wrote:

> On 11/20/2009 08:43 PM, Elana Fertig wrote:
>> Hi All,
>>
>> I am trying to install the package rjags into a local library on a
>> machine for which I do not have root permissions.
>>
>> Using the command: R CMD INSTALL
>> --configure-args="--with-jags-include=${JAGSBIN}/include/JAGS
>> --with-jags-lib=${JAGSBIN}/lib/
>> --with-jags-modules=${JAGSBIN}/lib/JAGS/modules" CMD INSTALL -l
>> ${JAGSBIN}/lib/ ../rjags_1.0.3-12.tar.gz
>>
>> Where ${JAGSBIN} is defined as a local directory, the installation  
>> seems
>> to be working fine. Then, I go into R and type the following  
>> commands:
>> > .libPaths("${JAGSBIN}/lib/")
>
> Maybe this :
>
> .libPaths( file.path( Sys.getenv("JAGSBIN", "lib" ) ) )
>

Unlikely - it's probably just a matter of setting LD_LIBRARY_PATH  
correctly .. not really an R issue at all ...

Cheers,
S


>> > library("rjags")
>>
>> I get the following error
>>
>> Loading required package: coda
>> Loading required package: lattice
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>> unable to load shared library '${JAGSBIN}/lib/rjags/libs/rjags.so':
>> libjags.so.1: cannot open shared object file: No such file or  
>> directory
>> Error : .onLoad failed in 'loadNamespace' for 'rjags'
>> Error: package/namespace load failed for 'rjags'
>>
>> Ideally, I would fix this problem by adding the appropriate  
>> libraries to
>> /user/local/lib64 . However, since I do not have root permissions I  
>> am
>> not able to make this addition. How can I have R recognize c++  
>> libraries
>> from my local path?
>>
>> Thanks so much in advance for your help.
>
>
> -- 
> Romain Francois
> Professional R Enthusiast
> +33(0) 6 28 91 30 30
> http://romainfrancois.blog.free.fr
> |- http://tr.im/EAD5 : LondonR slides
> |- http://tr.im/BcPw : celebrating R commit #50000
> `- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From friedrich.leisch at stat.uni-muenchen.de  Sat Nov 21 09:58:43 2009
From: friedrich.leisch at stat.uni-muenchen.de (Friedrich Leisch)
Date: Sat, 21 Nov 2009 09:58:43 +0100
Subject: [Rd] Suggestion for the reproducibility of R home page figure
In-Reply-To: <p06002005c72c8c29b1b0@[192.168.1.18]>
References: <mailman.17.1258714806.15108.r-devel@r-project.org>
	<p06002005c72c8c29b1b0@[192.168.1.18]>
Message-ID: <19207.43971.759588.74898@ridcully.stat.uni-muenchen.de>


Thanks a lot, fixed.

Best,
Fritz

>>>>> On Fri, 20 Nov 2009 19:53:31 +0100,
>>>>> Jean lobry (Jl) wrote:

  > Dear R-devel,
  > googling for the single letter R yields R-home page as the firt hit,
  > which is extremly nice.

  > By clicking on the figure you get the code of the "Winner of the R
  > Homepage graphics competition 2004."

  > By copy/pasting in your R console it doesn't work because it is impossible
  > to install the mva package.

  > This is my point.

  > As documented in ONEWS the reason is simple: since R 1.9.0 the package
  > mva as been merged into the package stats.

  > My suggestion is just to change the begining of the code as follows to
  > neutralize the requirement for the mva package:

  > ----
  > ### Code by Eric Lecoutre, Universite catholique de Louvain, Belgium
  > ### Winner of the R Homepage graphics competition 2004

  > ### Works in R 1.8.1 ...
  > ### Still works in R 2.10.0 (2009-10-26) by deleting the requirement 
  > for the mva package ...

  > require(ade4)
  > #require(mva) no more needed since R version 1.9.0 as mva was merged 
  > in the standard stats package.
  > require(RColorBrewer)
  > require(pixmap)

  > etc.
  > ----

  > so that reproducibility of the graph is straightforward (at least for 
  > someone who
  > is able to install an R package).

  > This is a minor change. I consider this is important because it may help people
  > wanting to test quickly the long term reproducibility of R results. For them
  > installing a package is not a problem, but do not expect them to have time to
  > dig in old ONEWS....

  > Please take this as a constructive comment, I was amazed how it was easy for me
  > to run this "old" R code. Just want to share.

  > Very Best,

  > Jean
  > -- 
  > Jean R. Lobry            (lobry at biomserv.univ-lyon1.fr)
  > Laboratoire BBE-CNRS-UMR-5558, Univ. C. Bernard - LYON I,
  > 43 Bd 11/11/1918, F-69622 VILLEURBANNE CEDEX, FRANCE
  > allo  : +33 472 43 27 56     fax    : +33 472 43 13 88
  > http://pbil.univ-lyon1.fr/members/lobry/

  > ______________________________________________
  > R-devel at r-project.org mailing list
  > https://stat.ethz.ch/mailman/listinfo/r-devel


From guillaume.yziquel at citycable.ch  Sat Nov 21 22:12:59 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sat, 21 Nov 2009 22:12:59 +0100
Subject: [Rd] R strings, null-terminated or size delimited?
Message-ID: <4B0857DB.8060606@citycable.ch>

Hello.

I've been looking at vecsexps for my binding.

Concerning strings, I'm wondering: are they supposed to be 
null-delimited? Are they delimited by the info in the SEXPHEADER macro 
in Rinternals.h?

Basically, what are the macros or functions to access the values of the 
vecsexps? I'm thinking of CHARSXPs and INTSXPs for the moment...

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From simon.urbanek at r-project.org  Sat Nov 21 23:27:58 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 21 Nov 2009 17:27:58 -0500
Subject: [Rd] R strings, null-terminated or size delimited?
In-Reply-To: <4B0857DB.8060606@citycable.ch>
References: <4B0857DB.8060606@citycable.ch>
Message-ID: <22C4DF66-C380-4922-AAD0-3D274CBDC9E0@r-project.org>


On Nov 21, 2009, at 4:12 PM, Guillaume Yziquel wrote:

> Hello.
>
> I've been looking at vecsexps for my binding.
>
> Concerning strings, I'm wondering: are they supposed to be null- 
> delimited?

Yes, they are null-delimited when you create/access them.


> Are they delimited by the info in the SEXPHEADER macro in  
> Rinternals.h?
>

You should not be touching or reading that.


> Basically, what are the macros or functions to access the values of  
> the vecsexps?

VECTOR_ELT and SET_VECTOR_ELT (assuming that you're referring to  
VECSXP which is are generic vectors).


> I'm thinking of CHARSXPs and INTSXPs for the moment...
>

Those are entirely different - CHARSXP are not vectors but strings  
(see mkChar et al., CHAR, ...) and INTSXP are integer arrays (in C  
speak) accessed using INTEGER.

Please read R-exts - it's better than guessing.

Cheers,
Simon


From guillaume.yziquel at citycable.ch  Sun Nov 22 00:31:24 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sun, 22 Nov 2009 00:31:24 +0100
Subject: [Rd] R strings, null-terminated or size delimited?
In-Reply-To: <22C4DF66-C380-4922-AAD0-3D274CBDC9E0@r-project.org>
References: <4B0857DB.8060606@citycable.ch>
	<22C4DF66-C380-4922-AAD0-3D274CBDC9E0@r-project.org>
Message-ID: <4B08784C.8040507@citycable.ch>

Simon Urbanek a ?crit :
> 
> On Nov 21, 2009, at 4:12 PM, Guillaume Yziquel wrote:
> 
>> Hello.
>>
>> I've been looking at vecsexps for my binding.
>>
>> Concerning strings, I'm wondering: are they supposed to be 
>> null-delimited?
> 
> Yes, they are null-delimited when you create/access them.

OK. Fair enough. But is guaranteed that null-delimitation ends where the 
  vecsxp field of the * VECSEXP tells where the R vector should end? Let 
me rephrase that:

-1- Should I consider it a bug if the two informations differ?

-2- What's the "safest" way out of the two?

>> Are they delimited by the info in the SEXPHEADER macro in Rinternals.h?
>
> 
> You should not be touching or reading that.

I believe I should. I'd like the OCaml / R binding to be closely knit to 
R internals. One reason would be for speed, the other being that I'd 
like to make use of camlp4 to write syntax extensions to mix OCaml and R 
syntax. It's therefore important for me not to rely on the R interpreter 
to be active when building R values. Or when marshaling R values via 
OCaml. There are numerous other issues aside this one.

I'm already using #define USE_RINTERNALS in my .c file to inspect R values.

>> Basically, what are the macros or functions to access the values of 
>> the vecsexps?
> 
> VECTOR_ELT and SET_VECTOR_ELT (assuming that you're referring to VECSXP 
> which is are generic vectors).

No. I'm refering to INTSXP for now. But I see what you mean:

> #define INTEGER(x)      ((int *) DATAPTR(x))
> #define VECTOR_ELT(x,i) ((SEXP *) DATAPTR(x))[i]

VECTOR_ELT is not suitable for INTSXP arrays. I need to convert to 
INTSXP array to an OCaml list / array.

>> I'm thinking of CHARSXPs and INTSXPs for the moment...
> 
> Those are entirely different - CHARSXP are not vectors but strings (see 
> mkChar et al., CHAR, ...) and INTSXP are integer arrays (in C speak) 
> accessed using INTEGER.

OK. They're not vectors. They're VECTOR_SEXPRECs.

> Please read R-exts - it's better than guessing.

Funny, I have R-exts.pdf and R-ints.pdf opened. They're fine when it 
comes to writing R extensions. Not when writing bindings embedding R 
into OCaml so that you can beta-reduce isomorphically in R and OCaml.

> Cheers,
> Simon

I'm already using heretic features in OCaml (namely Obj.magic) in order 
to do this binding. I do not mind using heretic features of the R API.

I do not mean to be a pain, but I have to do what needs to be done. If I 
find on my way that #define USE_RINTERNALS is overkill, I'll gladly drop it.

For instance, here's one of my issues: I've extracted the R SEXP for the 
"str" symbol. It's a promise. Now, how do I map such a SEXP to an OCaml 
function? Haven't found that in R-ints.pdf or R-exts.pdf. There's talk 
about functions, but promises are somewhat overlooked. However, such a 
mapping is crucial to me.

I was not guessing when I was trying to look at the internal structure 
of R data. Simply trying to get a grip on how to execute promises, and 
therefore examining such a promise:

> # R.Internal.Pretty.t_of_sexp (R.Raw.sexp_of_t (R.symbol "str"));;
> - : R.Internal.Pretty.t =
> PROMISE
>  {value = SYMBOL None;
>   expr =
>    CALL (SYMBOL (Some ("lazyLoadDBfetch", BUILTIN)),
>     [INT [105; 153119]; Unknown; Unknown; Unknown]);
>   env = Unknown}

Or, following structures in Rinternals.h:

> # R.Internal.C.t_of_sexp (R.Raw.sexp_of_t (R.symbol "str"));;
> - : R.Internal.C.t =
> Val
>  {content =
>    PROMSXP
>     {prom_value =
>       Val
>        {content =
>          SYMSXP
>           {pname = Val {content = NILSXP};
>            sym_value = R.Internal.C.Recursive <lazy>;
>            internal = Val {content = NILSXP}}};
>      R.Internal.C.expr =
>       Val
>        {content =
>          LANGSXP
>           {carval =
>             Val
>              {content =
>                SYMSXP
>                 {pname = Val {content = CHARSXP "lazyLoadDBfetch"};
>                  sym_value = Val {content = BUILTINSXP 687};
>                  internal = Val {content = NILSXP}}};
>            cdrval =
>             Val
>              {content =
>                LISTSXP
>                 {carval = Val {content = INTSXP [105; 153119]};
>                  cdrval =
>                   Val
>                    {content =
>                      LISTSXP
>                       {carval =
>                         Val
>                          {content =
>                            SYMSXP
>                             {pname = Val {content = CHARSXP "datafile"};
>                              sym_value =
>                               Val
>                                {content =
>                                  SYMSXP
>                                   {pname = Val {content = NILSXP};
>                                    sym_value = R.Internal.C.Recursive <lazy>;
>                                    internal = Val {content = NILSXP}}};
>                              internal = Val {content = NILSXP}}};
>                        cdrval =
>                         Val
>                          {content =
>                            LISTSXP
>                             {carval =
>                               Val
>                                {content =
>                                  SYMSXP
>                                   {pname =
>                                     Val {content = CHARSXP "compressed"};
>                                    sym_value =
>                                     Val
>                                      {content =
>                                        SYMSXP
>                                         {pname = Val {content = NILSXP};
>                                          sym_value =
>                                           R.Internal.C.Recursive <lazy>;
>                                          internal = Val {content = NILSXP}}};
>                                    internal = Val {content = NILSXP}}};
>                              cdrval =
>                               Val
>                                {content =
>                                  LISTSXP
>                                   {carval =
>                                     Val
>                                      {content =
>                                        SYMSXP
>                                         {pname =
>                                           Val {content = CHARSXP "envhook"};
>                                          sym_value =
>                                           Val
>                                            {content =
>                                              SYMSXP
>                                               {pname = Val {content = NILSXP};
>                                                sym_value =
>                                                 R.Internal.C.Recursive <lazy>;
>                                                internal =
>                                                 Val {content = NILSXP}}};
>                                          internal = Val {content = NILSXP}}};
>                                    cdrval = Val {content = NILSXP};
>                                    tagval = Val {content = NILSXP}}};
>                              tagval = Val {content = NILSXP}}};
>                        tagval = Val {content = NILSXP}}};
>                  tagval = Val {content = NILSXP}}};
>            tagval = Val {content = NILSXP}}};
>      R.Internal.C.env = Val {content = ENVSXP}}}
> # 

For instance, an issue I'd like advice on is: what does such a symbol mean?

>                            SYMSXP
>                             {pname = Val {content = CHARSXP "datafile"};
>                              sym_value =
>                               Val
>                                {content =
>                                  SYMSXP
>                                   {pname = Val {content = NILSXP};
>                                    sym_value = R.Internal.C.Recursive <lazy>;
>                                    internal = Val {content = NILSXP}}};
>                              internal = Val {content = NILSXP}}};

And how is it treated when "str" is executed?

All the best.

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From guillaume.yziquel at citycable.ch  Sun Nov 22 01:44:22 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sun, 22 Nov 2009 01:44:22 +0100
Subject: [Rd] R strings, null-terminated or size delimited?
In-Reply-To: <4B0884DC.5010203@stats.uwo.ca>
References: <4B0857DB.8060606@citycable.ch>	<22C4DF66-C380-4922-AAD0-3D274CBDC9E0@r-project.org>
	<4B08784C.8040507@citycable.ch> <4B0884DC.5010203@stats.uwo.ca>
Message-ID: <4B088966.70704@citycable.ch>

Duncan Murdoch a ?crit :
>>
>> I believe I should. I'd like the OCaml / R binding to be closely knit 
>> to R internals. One reason would be for speed, the other being that 
>> I'd like to make use of camlp4 to write syntax extensions to mix OCaml 
>> and R syntax. It's therefore important for me not to rely on the R 
>> interpreter to be active when building R values. Or when marshaling R 
>> values via OCaml. There are numerous other issues aside this one.
> 
> You are probably not going to be able to do that.  Take your example of 
> the promise below:  to evaluate a promise, you need to evaluate the 
> expression attached to it in the R interpreter.  (This is discussed in 
> the R Language Definition.)
> 
> You can put probably put together simple R objects like integer arrays 
> without having R running, but anything substantial isn't going to be 
> feasible.
> 
> Duncan Murdoch

That's precisely the issue. I want to map a functional language to a 
functional language. And keep the same evaluation semantics. I do not 
(yet?) see why it should not be feasible.

If this is done properly, OCaml could then compile R code natively. That 
would be really nice. There would be other advantages in integrating the 
two languages cleanly.

So, taking the example of promises, I need to map it to its OCaml 
semantic equivalent, which seems to be a Lazy.t structure. That doesn't 
seem (yet) unfeasible.

Thank you for your pointer to the R Language Definition. Starting by R 
Internals was perhaps a bit brutal.

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From murdoch at stats.uwo.ca  Sun Nov 22 01:25:00 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 21 Nov 2009 19:25:00 -0500
Subject: [Rd] R strings, null-terminated or size delimited?
In-Reply-To: <4B08784C.8040507@citycable.ch>
References: <4B0857DB.8060606@citycable.ch>	<22C4DF66-C380-4922-AAD0-3D274CBDC9E0@r-project.org>
	<4B08784C.8040507@citycable.ch>
Message-ID: <4B0884DC.5010203@stats.uwo.ca>

On 21/11/2009 6:31 PM, Guillaume Yziquel wrote:
> Simon Urbanek a ?crit :
>> On Nov 21, 2009, at 4:12 PM, Guillaume Yziquel wrote:
>>
>>> Hello.
>>>
>>> I've been looking at vecsexps for my binding.
>>>
>>> Concerning strings, I'm wondering: are they supposed to be 
>>> null-delimited?
>> Yes, they are null-delimited when you create/access them.
> 
> OK. Fair enough. But is guaranteed that null-delimitation ends where the 
>   vecsxp field of the * VECSEXP tells where the R vector should end? Let 
> me rephrase that:
> 
> -1- Should I consider it a bug if the two informations differ?
> 
> -2- What's the "safest" way out of the two?
> 
>>> Are they delimited by the info in the SEXPHEADER macro in Rinternals.h?
>>
>> You should not be touching or reading that.
> 
> I believe I should. I'd like the OCaml / R binding to be closely knit to 
> R internals. One reason would be for speed, the other being that I'd 
> like to make use of camlp4 to write syntax extensions to mix OCaml and R 
> syntax. It's therefore important for me not to rely on the R interpreter 
> to be active when building R values. Or when marshaling R values via 
> OCaml. There are numerous other issues aside this one.

You are probably not going to be able to do that.  Take your example of 
the promise below:  to evaluate a promise, you need to evaluate the 
expression attached to it in the R interpreter.  (This is discussed in 
the R Language Definition.)

You can put probably put together simple R objects like integer arrays 
without having R running, but anything substantial isn't going to be 
feasible.

Duncan Murdoch

> 
> I'm already using #define USE_RINTERNALS in my .c file to inspect R values.
> 
>>> Basically, what are the macros or functions to access the values of 
>>> the vecsexps?
>> VECTOR_ELT and SET_VECTOR_ELT (assuming that you're referring to VECSXP 
>> which is are generic vectors).
> 
> No. I'm refering to INTSXP for now. But I see what you mean:
> 
>> #define INTEGER(x)      ((int *) DATAPTR(x))
>> #define VECTOR_ELT(x,i) ((SEXP *) DATAPTR(x))[i]
> 
> VECTOR_ELT is not suitable for INTSXP arrays. I need to convert to 
> INTSXP array to an OCaml list / array.
> 
>>> I'm thinking of CHARSXPs and INTSXPs for the moment...
>> Those are entirely different - CHARSXP are not vectors but strings (see 
>> mkChar et al., CHAR, ...) and INTSXP are integer arrays (in C speak) 
>> accessed using INTEGER.
> 
> OK. They're not vectors. They're VECTOR_SEXPRECs.
> 
>> Please read R-exts - it's better than guessing.
> 
> Funny, I have R-exts.pdf and R-ints.pdf opened. They're fine when it 
> comes to writing R extensions. Not when writing bindings embedding R 
> into OCaml so that you can beta-reduce isomorphically in R and OCaml.
> 
>> Cheers,
>> Simon
> 
> I'm already using heretic features in OCaml (namely Obj.magic) in order 
> to do this binding. I do not mind using heretic features of the R API.
> 
> I do not mean to be a pain, but I have to do what needs to be done. If I 
> find on my way that #define USE_RINTERNALS is overkill, I'll gladly drop it.
> 
> For instance, here's one of my issues: I've extracted the R SEXP for the 
> "str" symbol. It's a promise. Now, how do I map such a SEXP to an OCaml 
> function? Haven't found that in R-ints.pdf or R-exts.pdf. There's talk 
> about functions, but promises are somewhat overlooked. However, such a 
> mapping is crucial to me.
> 
> I was not guessing when I was trying to look at the internal structure 
> of R data. Simply trying to get a grip on how to execute promises, and 
> therefore examining such a promise:
> 
>> # R.Internal.Pretty.t_of_sexp (R.Raw.sexp_of_t (R.symbol "str"));;
>> - : R.Internal.Pretty.t =
>> PROMISE
>>  {value = SYMBOL None;
>>   expr =
>>    CALL (SYMBOL (Some ("lazyLoadDBfetch", BUILTIN)),
>>     [INT [105; 153119]; Unknown; Unknown; Unknown]);
>>   env = Unknown}
> 
> Or, following structures in Rinternals.h:
> 
>> # R.Internal.C.t_of_sexp (R.Raw.sexp_of_t (R.symbol "str"));;
>> - : R.Internal.C.t =
>> Val
>>  {content =
>>    PROMSXP
>>     {prom_value =
>>       Val
>>        {content =
>>          SYMSXP
>>           {pname = Val {content = NILSXP};
>>            sym_value = R.Internal.C.Recursive <lazy>;
>>            internal = Val {content = NILSXP}}};
>>      R.Internal.C.expr =
>>       Val
>>        {content =
>>          LANGSXP
>>           {carval =
>>             Val
>>              {content =
>>                SYMSXP
>>                 {pname = Val {content = CHARSXP "lazyLoadDBfetch"};
>>                  sym_value = Val {content = BUILTINSXP 687};
>>                  internal = Val {content = NILSXP}}};
>>            cdrval =
>>             Val
>>              {content =
>>                LISTSXP
>>                 {carval = Val {content = INTSXP [105; 153119]};
>>                  cdrval =
>>                   Val
>>                    {content =
>>                      LISTSXP
>>                       {carval =
>>                         Val
>>                          {content =
>>                            SYMSXP
>>                             {pname = Val {content = CHARSXP "datafile"};
>>                              sym_value =
>>                               Val
>>                                {content =
>>                                  SYMSXP
>>                                   {pname = Val {content = NILSXP};
>>                                    sym_value = R.Internal.C.Recursive <lazy>;
>>                                    internal = Val {content = NILSXP}}};
>>                              internal = Val {content = NILSXP}}};
>>                        cdrval =
>>                         Val
>>                          {content =
>>                            LISTSXP
>>                             {carval =
>>                               Val
>>                                {content =
>>                                  SYMSXP
>>                                   {pname =
>>                                     Val {content = CHARSXP "compressed"};
>>                                    sym_value =
>>                                     Val
>>                                      {content =
>>                                        SYMSXP
>>                                         {pname = Val {content = NILSXP};
>>                                          sym_value =
>>                                           R.Internal.C.Recursive <lazy>;
>>                                          internal = Val {content = NILSXP}}};
>>                                    internal = Val {content = NILSXP}}};
>>                              cdrval =
>>                               Val
>>                                {content =
>>                                  LISTSXP
>>                                   {carval =
>>                                     Val
>>                                      {content =
>>                                        SYMSXP
>>                                         {pname =
>>                                           Val {content = CHARSXP "envhook"};
>>                                          sym_value =
>>                                           Val
>>                                            {content =
>>                                              SYMSXP
>>                                               {pname = Val {content = NILSXP};
>>                                                sym_value =
>>                                                 R.Internal.C.Recursive <lazy>;
>>                                                internal =
>>                                                 Val {content = NILSXP}}};
>>                                          internal = Val {content = NILSXP}}};
>>                                    cdrval = Val {content = NILSXP};
>>                                    tagval = Val {content = NILSXP}}};
>>                              tagval = Val {content = NILSXP}}};
>>                        tagval = Val {content = NILSXP}}};
>>                  tagval = Val {content = NILSXP}}};
>>            tagval = Val {content = NILSXP}}};
>>      R.Internal.C.env = Val {content = ENVSXP}}}
>> # 
> 
> For instance, an issue I'd like advice on is: what does such a symbol mean?
> 
>>                            SYMSXP
>>                             {pname = Val {content = CHARSXP "datafile"};
>>                              sym_value =
>>                               Val
>>                                {content =
>>                                  SYMSXP
>>                                   {pname = Val {content = NILSXP};
>>                                    sym_value = R.Internal.C.Recursive <lazy>;
>>                                    internal = Val {content = NILSXP}}};
>>                              internal = Val {content = NILSXP}}};
> 
> And how is it treated when "str" is executed?
> 
> All the best.
>


From murdoch at stats.uwo.ca  Sun Nov 22 02:11:29 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 21 Nov 2009 20:11:29 -0500
Subject: [Rd] R strings, null-terminated or size delimited?
In-Reply-To: <4B088966.70704@citycable.ch>
References: <4B0857DB.8060606@citycable.ch>	<22C4DF66-C380-4922-AAD0-3D274CBDC9E0@r-project.org>	<4B08784C.8040507@citycable.ch>
	<4B0884DC.5010203@stats.uwo.ca> <4B088966.70704@citycable.ch>
Message-ID: <4B088FC1.1060509@stats.uwo.ca>

On 21/11/2009 7:44 PM, Guillaume Yziquel wrote:
> Duncan Murdoch a ?crit :
>>> I believe I should. I'd like the OCaml / R binding to be closely knit 
>>> to R internals. One reason would be for speed, the other being that 
>>> I'd like to make use of camlp4 to write syntax extensions to mix OCaml 
>>> and R syntax. It's therefore important for me not to rely on the R 
>>> interpreter to be active when building R values. Or when marshaling R 
>>> values via OCaml. There are numerous other issues aside this one.
>> You are probably not going to be able to do that.  Take your example of 
>> the promise below:  to evaluate a promise, you need to evaluate the 
>> expression attached to it in the R interpreter.  (This is discussed in 
>> the R Language Definition.)
>>
>> You can put probably put together simple R objects like integer arrays 
>> without having R running, but anything substantial isn't going to be 
>> feasible.
>>
>> Duncan Murdoch
> 
> That's precisely the issue. I want to map a functional language to a 
> functional language. And keep the same evaluation semantics. I do not 
> (yet?) see why it should not be feasible.

R is a fairly quirky and irregular language, with lots of functions 
implemented in C code, so you haven't taken on a small project.  But I 
wish you luck.

Duncan Murdoch


> 
> If this is done properly, OCaml could then compile R code natively. That 
> would be really nice. There would be other advantages in integrating the 
> two languages cleanly.
> 
> So, taking the example of promises, I need to map it to its OCaml 
> semantic equivalent, which seems to be a Lazy.t structure. That doesn't 
> seem (yet) unfeasible.
> 
> Thank you for your pointer to the R Language Definition. Starting by R 
> Internals was perhaps a bit brutal.
> 
> All the best,
>


From ggrothendieck at gmail.com  Sun Nov 22 13:34:50 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 22 Nov 2009 07:34:50 -0500
Subject: [Rd] error message when running news()
Message-ID: <971536df0911220434k50882955rae26676c81282f50@mail.gmail.com>

When running news() in I get this error message from print.news_db:

> news()
Error: invalid version specification 2.0.12.0.1 patched2.1.02.1.12.1.1
patched2.10.02.10.0 patched2.2.02.2.12.2.1 patched2.3.02.3.12.3.1
patched2.4.02.4.12.4.1 patched2.5.02.5.12.5.1
patched2.6.02.6.12.6.22.6.2 patched2.7.02.7.12.7.22.7.2
patched2.8.02.8.12.8.1 patched2.9.02.9.12.9.22.9.2 patched
> R.version.string
[1] "R version 2.10.0 Patched (2009-11-21 r50532)"


From murdoch at stats.uwo.ca  Sun Nov 22 15:13:09 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 22 Nov 2009 09:13:09 -0500
Subject: [Rd] error message when running news()
In-Reply-To: <971536df0911220434k50882955rae26676c81282f50@mail.gmail.com>
References: <971536df0911220434k50882955rae26676c81282f50@mail.gmail.com>
Message-ID: <4B0946F5.8030409@stats.uwo.ca>

On 22/11/2009 7:34 AM, Gabor Grothendieck wrote:
> When running news() in I get this error message from print.news_db:
> 
>> news()
> Error: invalid version specification 2.0.12.0.1 patched2.1.02.1.12.1.1
> patched2.10.02.10.0 patched2.2.02.2.12.2.1 patched2.3.02.3.12.3.1
> patched2.4.02.4.12.4.1 patched2.5.02.5.12.5.1
> patched2.6.02.6.12.6.22.6.2 patched2.7.02.7.12.7.22.7.2
> patched2.8.02.8.12.8.1 patched2.9.02.9.12.9.22.9.2 patched
>> R.version.string
> [1] "R version 2.10.0 Patched (2009-11-21 r50532)"


This is also present in R-devel.  It's an error in utils:::print.news_db.

The problem is that versions like "2.0.1 patched" can't be converted to 
numeric versions, but print.news_db tries to do it to sort the entries. 
  The repetitive message is just a bad error message from 
.make_numeric_version.

Presumably the intention is that "2.0.1 patched" should compare bigger 
than "2.0.1" and less than "2.0.2", but I don't know the best fix for this.

Duncan Murdoch


From ejfertig at jhmi.edu  Sun Nov 22 15:24:47 2009
From: ejfertig at jhmi.edu (Elana Fertig)
Date: Sun, 22 Nov 2009 09:24:47 -0500
Subject: [Rd] Including local dynamic libraries
In-Reply-To: <40961956-760B-4CEA-A821-87681D71AF67@r-project.org>
References: <180E96B0-E49C-4560-A4D3-808F24E11D9F@jhmi.edu>
	<4B06F712.2000701@dbmail.com>
	<40961956-760B-4CEA-A821-87681D71AF67@r-project.org>
Message-ID: <DCD2789E-6A4E-4C1A-965E-631FAB54DE0E@jhmi.edu>

Thank you all so much!  It seems that using dyn.load() fixes the  
problem.

On Nov 20, 2009, at 8:16 PM, Simon Urbanek wrote:

>
> On Nov 20, 2009, at 3:07 PM, Romain Francois wrote:
>
>> On 11/20/2009 08:43 PM, Elana Fertig wrote:
>>> Hi All,
>>>
>>> I am trying to install the package rjags into a local library on a
>>> machine for which I do not have root permissions.
>>>
>>> Using the command: R CMD INSTALL
>>> --configure-args="--with-jags-include=${JAGSBIN}/include/JAGS
>>> --with-jags-lib=${JAGSBIN}/lib/
>>> --with-jags-modules=${JAGSBIN}/lib/JAGS/modules" CMD INSTALL -l
>>> ${JAGSBIN}/lib/ ../rjags_1.0.3-12.tar.gz
>>>
>>> Where ${JAGSBIN} is defined as a local directory, the installation
>>> seems
>>> to be working fine. Then, I go into R and type the following
>>> commands:
>>>> .libPaths("${JAGSBIN}/lib/")
>>
>> Maybe this :
>>
>> .libPaths( file.path( Sys.getenv("JAGSBIN", "lib" ) ) )
>>
>
> Unlikely - it's probably just a matter of setting LD_LIBRARY_PATH
> correctly .. not really an R issue at all ...
>
> Cheers,
> S
>
>
>>>> library("rjags")
>>>
>>> I get the following error
>>>
>>> Loading required package: coda
>>> Loading required package: lattice
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared library '${JAGSBIN}/lib/rjags/libs/rjags.so':
>>> libjags.so.1: cannot open shared object file: No such file or
>>> directory
>>> Error : .onLoad failed in 'loadNamespace' for 'rjags'
>>> Error: package/namespace load failed for 'rjags'
>>>
>>> Ideally, I would fix this problem by adding the appropriate
>>> libraries to
>>> /user/local/lib64 . However, since I do not have root permissions I
>>> am
>>> not able to make this addition. How can I have R recognize c++
>>> libraries
>>> from my local path?
>>>
>>> Thanks so much in advance for your help.
>>
>>
>> -- 
>> Romain Francois
>> Professional R Enthusiast
>> +33(0) 6 28 91 30 30
>> http://romainfrancois.blog.free.fr
>> |- http://tr.im/EAD5 : LondonR slides
>> |- http://tr.im/BcPw : celebrating R commit #50000
>> `- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>


From Kurt.Hornik at wu.ac.at  Sun Nov 22 16:18:33 2009
From: Kurt.Hornik at wu.ac.at (Kurt Hornik)
Date: Sun, 22 Nov 2009 16:18:33 +0100
Subject: [Rd] error message when running news()
In-Reply-To: <4B0946F5.8030409@stats.uwo.ca>
References: <971536df0911220434k50882955rae26676c81282f50@mail.gmail.com>
	<4B0946F5.8030409@stats.uwo.ca>
Message-ID: <19209.22089.98766.522088@fangorn.hornik.net>

>>>>> Duncan Murdoch writes:

> On 22/11/2009 7:34 AM, Gabor Grothendieck wrote:
>> When running news() in I get this error message from print.news_db:
>> 
>>> news()
>> Error: invalid version specification 2.0.12.0.1 patched2.1.02.1.12.1.1
>> patched2.10.02.10.0 patched2.2.02.2.12.2.1 patched2.3.02.3.12.3.1
>> patched2.4.02.4.12.4.1 patched2.5.02.5.12.5.1
>> patched2.6.02.6.12.6.22.6.2 patched2.7.02.7.12.7.22.7.2
>> patched2.8.02.8.12.8.1 patched2.9.02.9.12.9.22.9.2 patched
>>> R.version.string
>> [1] "R version 2.10.0 Patched (2009-11-21 r50532)"


> This is also present in R-devel.  It's an error in utils:::print.news_db.

> The problem is that versions like "2.0.1 patched" can't be converted to 
> numeric versions, but print.news_db tries to do it to sort the entries. 
>   The repetitive message is just a bad error message from 
> .make_numeric_version.

> Presumably the intention is that "2.0.1 patched" should compare bigger 
> than "2.0.1" and less than "2.0.2", but I don't know the best fix for this.

> Duncan Murdoch

I'll have a look.

-k


From tplate at acm.org  Sun Nov 22 17:21:33 2009
From: tplate at acm.org (Tony Plate)
Date: Sun, 22 Nov 2009 10:21:33 -0600
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <20091120180530.C25322832012@mail.pubhealth.ku.dk>
References: <20091120180530.C25322832012@mail.pubhealth.ku.dk>
Message-ID: <4B09650D.4000908@acm.org>

maechler at stat.math.ethz.ch wrote:
>>>>>> "PD" == Peter Dalgaard <p.dalgaard at biostat.ku.dk>
>>>>>>     on Fri, 20 Nov 2009 09:54:34 +0100 writes:
>>>>>>             
>
>     PD> mark at celos.net wrote:
>     >> Arrays of POSIXlt dates always return a length of 9.  This
>     >> is correct (they're really lists of vectors of seconds,
>     >> hours, and so forth), but other methods disguise them as
>     >> flat vectors, giving superficially surprising behaviour:
>     >> 
>     >> strings <- paste('2009-1-', 1:31, sep='')
>     >> dates <- strptime(strings, format="%Y-%m-%d")
>     >> 
>     >> print(dates)
>     >> #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" "2009-01-05"
>     >> #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09" "2009-01-10"
>     >> # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14" "2009-01-15"
>     >> # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19" "2009-01-20"
>     >> # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24" "2009-01-25"
>     >> # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29" "2009-01-30"
>     >> # [31] "2009-01-31"
>     >> 
>     >> print(length(dates))
>     >> # [1] 9
>     >> 
>     >> str(dates)
>     >> # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" ...
>     >> 
>     >> print(dates[20])
>     >> # [1] "2009-01-20"
>     >> 
>     >> print(length(dates[20]))
>     >> # [1] 9
>     >> 
>     >> I've since realised that POSIXct makes date vectors easier,
>     >> but could we also have something like:
>     >> 
>     >> length.POSIXlt <- function(x) { length(x$sec) }
>     >> 
>     >> in datetime.R, to avoid breaking functions (like the
>     >> str.POSIXt method) which use length() in this way?
>
>
>     PD> [You need "wishlist" in the title for this sort of stuff.]
>
>     PD> I'd be wary of this. Just the other day we found that identical() broke 
>     PD> on some objects because a package had length() redefined as a class 
>     PD> method. I.e. the danger is that something wants to use length() with its 
>     PD> original low-level interpretation.
>
> Yes, of course.
> and Romain mentioned  str().  Note that we have needed to define
> a "POSIXt" method for str(), partly just *because* of the
> current anomaly:
> As Tony Plate, e.g., has argued, entirely correctly in my view,
> the anomaly is that    length() and "["   are not compatible;
> and while I think no R language definition says that they should
> be, I still believe that you need very good reasons for them to
> be incompatible, as they are for POSIXlt.
>
> In the current case, for me the only good reason is backwards
> compatibility.
> My personal taste would be to change it and see what happens.
> I would be willing to clean up after that change within R 'base'
> and all packages I am coauthoring (quite a few), but of course
> there are still a thousand more R packages..
> My strong bet would be that less than 1% would be affected,
> and my point guess for the percentage affected would be
> rather in the order of  1/1000.
>
> The question is if we (you too!), the R community, are willing to
> bear the load of cleanup, after such a change which would really
> *improve* consistency of that small corner of R.
> For me, as I indicated above, I am willing to bear my share
> (and actually have got it ready for R-devel)
>   
Would be great to see this change!  Surely the right way to do things is 
that functions that wish to examine the low level structure of S3 
objects should use unclass() before looking at length and elements, so 
there's no reason for a class such as POSIXlt to not provide a 
logical-level length method.

At a broader level, when I've designed vector/array classes, I've 
wondered what methods I should define, but have been unable to find any 
specification of a set of methods.  When one thinks about it, there are 
actually quite a set of strongly-connected methods with quite a lot a 
behaviors to implement, e.g., length, '[' (with logical, numeric & 
character indicies, including 0 and NA possibilities), '[[', 'c', and 
then optionally 'names', and then for multi-dim objects, 'dim', 
'dimnames', etc.  Consequently, last time this discussion on length and 
'[' methods POSIXlt came up, I wrote a function that automatically 
tested behavior of all these methods on a specified class and summarizes 
the behavior.  If anyone is interested in such a thing, I'd be happy to 
dig it up and distribute it (I'd attach it to this message, but I'm on 
vacation and don't have access to the compute that I think it's on.)

-- Tony Plate

> Martin Maechler, ETH Zurich (and R Core Team)
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From joehl at web.de  Sun Nov 22 19:05:16 2009
From: joehl at web.de (joehl at web.de)
Date: Sun, 22 Nov 2009 19:05:16 +0100 (CET)
Subject: [Rd] file_path_as_absolute duplicates "/" (PR#14078)
Message-ID: <20091122180516.5C5C4282EF54@mail.pubhealth.ku.dk>

Full_Name: Jens Oehlschl?gel
Version: 2.10.0
OS: Windows XP
Submission from: (NULL) (85.181.157.36)


file_path_as_absolute duplicates "/" for files in the root path, 
which goes back to the fact that file.path(dirname(x), basename(x)) 
currently is not guaranteed to restore x


> x <- "d:/x.RDAta"
> file_path_as_absolute(x)
[1] "d://x.RData"
> file.path(dirname(x), basename(x))
[1] "d://x.RData"
> dirname(x)
[1] "d:/"

> x <- "/"
> file.path(dirname(x), basename(x))
[1] "//"

a possible fix would be to use gsub in file.path before returning, as in 
gsub("/+","/","d://x.RData")

This would 
- standardize the path returned, e.g. help searching for this path in another
one
- make sure we can use that path in setwd(), because
> setwd("//")
Error in setwd("//") : cannot change working directory
> file.create("//a.txt")
[1] FALSE
Warning message:
In file.create("//a.txt") :
  cannot create file '//a.txt', reason 'Invalid argument'



Also note that the help on basename says

"
basename removes all of the path up to the last path separator (if any).
dirname returns the part of the path up to (but excluding) the last path
separator, or "." if there is no path separator. 
"

but obviously there is an undocumented exception for the root path (I guess to
have dirname always return a valid path that we can use in e.g. setwd())

> basename("/")
[1] ""
> dirname("/")
[1] "/"


It is not easy to understand that dirname/basename
- neither always split a string into a path and a file component (since in
"/a/b/" it avoids empty basename and "b" goes to basename)
- nor always split a string into the last token in basename and the rest in
dirname (since it avoids empty rest in "/")
So whatever the rules are, it would be helpful to find them in the help,
because
- not everyone knows what basename / dirname usually do under unix (IEEE Std
1003.1)
- R is not following IEEE Std 1003.1 (since basename("/")=="" while IEEE
requires "/")

Help should also explain why and what happens to "\\\\servername", is that
dirname, is that basename? Currently we have
> dirname(x)
[1] "."
> basename(x)
[1] "\\\\asdfasdf"
> file.path(dirname(x), basename(x))
[1] "./\\\\asdfasdf"


> version
               _                            
platform       i386-pc-mingw32              
arch           i386                         
os             mingw32                      
system         i386, mingw32                
status                                      
major          2                            
minor          10.0                         
year           2009                         
month          10                           
day            26                           
svn rev        50208                        
language       R                            
version.string R version 2.10.0 (2009-10-26)


From maarten.blaauw at qub.ac.uk  Sun Nov 22 19:55:16 2009
From: maarten.blaauw at qub.ac.uk (maarten.blaauw at qub.ac.uk)
Date: Sun, 22 Nov 2009 19:55:16 +0100 (CET)
Subject: [Rd] Dead link in Nile help documentation (PR#14079)
Message-ID: <20091122185516.34479282EF54@mail.pubhealth.ku.dk>

When doing ?Nile, the url for the data source is dead. It says  http://www.=
ssfpack.com/dkbook/ but this has changed to=20
http://www.ssfpack.com/DKbook.html

Version:
 platform =3D i386-redhat-linux-gnu
 arch =3D i386
 os =3D linux-gnu
 system =3D i386, linux-gnu
 status =3D
 major =3D 2
 minor =3D 10.0
 year =3D 2009
 month =3D 10
 day =3D 26
 svn rev =3D 50208
 language =3D R
 version.string =3D R version 2.10.0 (2009-10-26)

Locale:
LC_CTYPE=3Den_US.UTF-8;LC_NUMERIC=3DC;LC_TIME=3Den_US.UTF-8;LC_COLLATE=3Den=
_US.UTF-8;LC_MONETARY=3DC;LC_MESSAGES=3Den_US.UTF-8;LC_PAPER=3Den_US.UTF-8;=
LC_NAME=3DC;LC_ADDRESS=3DC;LC_TELEPHONE=3DC;LC_MEASUREMENT=3Den_US.UTF-8;LC=
_IDENTIFICATION=3DC

Search Path:
 .GlobalEnv, package:stats, package:graphics, package:grDevices, package:ut=
ils, package:datasets, package:methods, Autoloads, package:base

Thanks,

Maarten

--
| Dr. Maarten Blaauw
|
| School of Geography, Archaeology & Palaeoecology
| Queen's University Belfast, UK
|
| www  http://www.chrono.qub.ac.uk/blaauw
| tel  +44 (0)28 9097 3895


From ifellows at ucsd.edu  Mon Nov 23 01:18:11 2009
From: ifellows at ucsd.edu (Fellows, Ian)
Date: Sun, 22 Nov 2009 16:18:11 -0800
Subject: [Rd] CRAN Server download statistics (Was:  R Usage Statistics)
Message-ID: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>

Hi All,

It seems that the question of how may people use (or download) R, and it's packages is one that comes up on a fairly regular basis in a variety of forums (There was also recent thread on the subject on Stack Overflow). A couple of students at UCLA (including myself), wanted to address the issue, so we set up a system to get and parse the cran.stat.ucla.edu APACHE logs every night, and display some basic statistics. Right now, we have a working sketch of a site based on one week of observations.

http://neolab.stat.ucla.edu/cranstats/

We would very much like to incorporate data from all CRAN mirrors, including cran.r-project.org. We would also like to set this up in a way that is minimally invasive for the site administrators. Internally, our administrator has set up a protected directory with the last couple days of cran activity. We then pull that down using curl.

What would be the best and easiest way for the CRAN mirrors to share their data? Is the contact information for the administrators available anywhere?


Thank you,
Ian Fellows



________________________________________
From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Steven McKinney [smckinney at bccrc.ca]
Sent: Thursday, November 19, 2009 2:21 PM
To: Kevin R. Coombes; r-devel at r-project.org
Subject: Re: [Rd] R Usage Statistics

Hi Kevin,

What a surprising comment from a reviewer for BMC Bioinformatics.

I just did a PubMed search for "limma" and "aroma.affymetrix",
just two methods for which I use R software regularly.
"limma" yields 28 hits, several of which are published
in BMC Bioinformatics.  Bengtsson's aroma.affymetrix paper
"Estimation and assessment of raw copy numbers at the single locus level."
is already cited by 6 others.

It almost seems too easy to work up lists of usage of R packages.

Spotfire is an application built around S-Plus that has widespread use
in the biopharmaceutical industry at a minimum.  Vivek Ranadive's
TIBCO company just purchased Insightful, the S-Plus company.
(They bought Spotfire previously.)
Mr. Ranadive does not spend money on environments that are
not appropriate for deploying applications.

You could easily cull a list of corporation names from the
various R email listservs as well.

Press back with the reviewer.  Reviewers can learn new things
and will respond to arguments with good evidence behind them.
Good luck!


Steven McKinney


________________________________________
From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Kevin R. Coombes [krcoombes at mdacc.tmc.edu]
Sent: November 19, 2009 10:47 AM
To: r-devel at r-project.org
Subject: [Rd] R Usage Statistics

Hi,

I got the following comment from the reviewer of a paper (describing an
algorithm implemented in R) that I submitted to BMC Bioinformatics:

"Finally, which useful for exploratory work and some prototyping,
neither R nor S-Plus are appropriate environments for deploying user
applications that would receive much use."

I can certainly respond by pointing out that CRAN contains more than
2000 packages and Bioconductor contains more than 350. However, does
anyone have statistics on how often R (and possibly some R packages) are
downloaded, or on how many people actually use R?

Thanks,
    Kevin

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel


From detlef.steuer at hsu-hamburg.de  Mon Nov 23 08:48:53 2009
From: detlef.steuer at hsu-hamburg.de (Detlef Steuer)
Date: Mon, 23 Nov 2009 08:48:53 +0100
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>
Message-ID: <20091123084853.5d3abbcf@gaia>

Hi!

Nice work!
But keep in mind, that for example the opensuse packages are no longer
kept up to date on CRAN, but in openSUSE's Build Service. So the stats
are biased towards windows and mac.

It seems you only count binary downloads of contributed packages?
Introduces some nice bias, too.

Nevertheless, a nice starting point. Good luck!

Detlef

On Sun, 22 Nov 2009 16:18:11 -0800
"Fellows, Ian" <ifellows at ucsd.edu> wrote:

> Hi All,
> 
> It seems that the question of how may people use (or download) R, and it's packages is one that comes up on a fairly regular basis in a variety of forums (There was also recent thread on the subject on Stack Overflow). A couple of students at UCLA (including myself), wanted to address the issue, so we set up a system to get and parse the cran.stat.ucla.edu APACHE logs every night, and display some basic statistics. Right now, we have a working sketch of a site based on one week of observations.
> 
> http://neolab.stat.ucla.edu/cranstats/
> 
> We would very much like to incorporate data from all CRAN mirrors, including cran.r-project.org. We would also like to set this up in a way that is minimally invasive for the site administrators. Internally, our administrator has set up a protected directory with the last couple days of cran activity. We then pull that down using curl.
> 
> What would be the best and easiest way for the CRAN mirrors to share their data? Is the contact information for the administrators available anywhere?
> 
> 
> Thank you,
> Ian Fellows
> 
> 
> 
> ________________________________________
> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Steven McKinney [smckinney at bccrc.ca]
> Sent: Thursday, November 19, 2009 2:21 PM
> To: Kevin R. Coombes; r-devel at r-project.org
> Subject: Re: [Rd] R Usage Statistics
> 
> Hi Kevin,
> 
> What a surprising comment from a reviewer for BMC Bioinformatics.
> 
> I just did a PubMed search for "limma" and "aroma.affymetrix",
> just two methods for which I use R software regularly.
> "limma" yields 28 hits, several of which are published
> in BMC Bioinformatics.  Bengtsson's aroma.affymetrix paper
> "Estimation and assessment of raw copy numbers at the single locus level."
> is already cited by 6 others.
> 
> It almost seems too easy to work up lists of usage of R packages.
> 
> Spotfire is an application built around S-Plus that has widespread use
> in the biopharmaceutical industry at a minimum.  Vivek Ranadive's
> TIBCO company just purchased Insightful, the S-Plus company.
> (They bought Spotfire previously.)
> Mr. Ranadive does not spend money on environments that are
> not appropriate for deploying applications.
> 
> You could easily cull a list of corporation names from the
> various R email listservs as well.
> 
> Press back with the reviewer.  Reviewers can learn new things
> and will respond to arguments with good evidence behind them.
> Good luck!
> 
> 
> Steven McKinney
> 
> 
> ________________________________________
> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Kevin R. Coombes [krcoombes at mdacc.tmc.edu]
> Sent: November 19, 2009 10:47 AM
> To: r-devel at r-project.org
> Subject: [Rd] R Usage Statistics
> 
> Hi,
> 
> I got the following comment from the reviewer of a paper (describing an
> algorithm implemented in R) that I submitted to BMC Bioinformatics:
> 
> "Finally, which useful for exploratory work and some prototyping,
> neither R nor S-Plus are appropriate environments for deploying user
> applications that would receive much use."
> 
> I can certainly respond by pointing out that CRAN contains more than
> 2000 packages and Bioconductor contains more than 350. However, does
> anyone have statistics on how often R (and possibly some R packages) are
> downloaded, or on how many people actually use R?
> 
> Thanks,
>     Kevin
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From maiagx at gmail.com  Mon Nov 23 11:04:04 2009
From: maiagx at gmail.com (Charlotte Maia)
Date: Mon, 23 Nov 2009 23:04:04 +1300
Subject: [Rd] OOP with Encapsulated Class Definitions
Message-ID: <b7bfe54e0911230204t68a846cft25e008f69b9e31a3@mail.gmail.com>

Hi all,

I'm seeking feedback (good, bad or indifferent) in regards to
developing (further) a new class system for R, that uses encapsulated
class definitions (i.e. the method definitions are literally inside
the body of the class definition).

A working (however very rough and poorly tested) system is available
in my R package "oosp" with documentation in the vignette
"oosp2_Encapsulated_Classes_in_R".

A snippet of a class definition follows:
(Here double is a method that doubles the value of the attribute x).

> MyObject = function (...)
{   MyObject = function (x) .$x = x
    double = function () .$x = .$x * 2
    mclass ()
}

A snippet of creating and using an object:

> myobject = MyObject (10)
> myobject$x
[1] 10
> myobject~double ()
> myobject$x
[1] 20

Here class definitions are functions, however there are other possibilities...
Priority has been given to space rather than speed, hence the
unorthodox method despatch, however again, there are other
possibilities...

Here is an example of inheritance:

> MySuperClass = function (...)
{   MySuperClass = function (x) .$x = x
    mymethod = function () cat (.$x, "\n")
    mclass ()
}

> MySubClass = function (...)
{   MySubClass = function (y) super (y)
    mclass (super="MySuperClass")
}

> myobj = MySubClass (10)
> myobj~mymethod ()
10


kind regards
Charlotte Maia
(first time poster)


From b.rowlingson at lancaster.ac.uk  Mon Nov 23 12:20:32 2009
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 23 Nov 2009 11:20:32 +0000
Subject: [Rd] OOP with Encapsulated Class Definitions
In-Reply-To: <b7bfe54e0911230204t68a846cft25e008f69b9e31a3@mail.gmail.com>
References: <b7bfe54e0911230204t68a846cft25e008f69b9e31a3@mail.gmail.com>
Message-ID: <d8ad40b50911230320m307986c2q2c17d293d4393067@mail.gmail.com>

On Mon, Nov 23, 2009 at 10:04 AM, Charlotte Maia <maiagx at gmail.com> wrote:
> Hi all,
>
> I'm seeking feedback (good, bad or indifferent) in regards to
> developing (further) a new class system for R, that uses encapsulated
> class definitions (i.e. the method definitions are literally inside
> the body of the class definition).
>
> A working (however very rough and poorly tested) system is available
> in my R package "oosp" with documentation in the vignette
> "oosp2_Encapsulated_Classes_in_R".
>
> A snippet of a class definition follows:
> (Here double is a method that doubles the value of the attribute x).
>
>> MyObject = function (...)
> { ? MyObject = function (x) .$x = x
> ? ?double = function () .$x = .$x * 2
> ? ?mclass ()
> }
>
> A snippet of creating and using an object:
>
>> myobject = MyObject (10)
>> myobject$x
> [1] 10
>> myobject~double ()
>> myobject$x
> [1] 20
>
> Here class definitions are functions, however there are other possibilities...
> Priority has been given to space rather than speed, hence the
> unorthodox method despatch, however again, there are other
> possibilities...


[Warning: this message contains a large number of my opinions of
beauty and aesthetics of OO code, seriously biased by my years as a
perl then a python programmer]

 Wow. That's almost Pythonic in its beauty. I'd considered a system
like this a few years back after looking at S4 OO and having my head
a-splode. I didn't get very far beyond the design stage (certainly
didn't write any code).

 I'm not sure if '.' is a good alias for the object inside methods,
but it's as good as python's 'self' (which is purely convention) or
C++ 'this'', and shouldn't clash with anything, and reminds me of '.'
as the current directory in Unix... Okay, maybe it is a good alias!

 On the downside, good luck getting people using a fourth OO system in
R. Expect messages of the form "I've written 10,000 lines of code in
my package and S4 was good enough for me".

 Can objects have directly accessible attributes, or is every method a
function? In the above, can I do myobject$x = 99 and have it work? If
not, does that imply a raft of getter and setter functions for any
attribute?

 I must install and have a play later this week. I can probably answer
those questions...

+1

Barry


From h.wickham at gmail.com  Mon Nov 23 15:12:37 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Mon, 23 Nov 2009 08:12:37 -0600
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>
Message-ID: <f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com>

Hi Ian,

I've spoken with Stefan Theussl (cran maintainer) about this, and he's
concerned about the privacy implications of making the apache access
logs public.  A compromise that he mentioned was having a script run
on the cran mirror that processed the log files and output summary
statistics.  Then a central process could aggregate these and produce
a single overall summary.

A few comments on your current site:

 * Are you just including packages downloaded interactively from within R?

 * I don't think the continent from which the package was download is
of much interest.  There's definitely no need to include it on the
main page.

 * I'd be far more interested in changes over time.  Sparklines of the
last month worth of data would be a neat addition to the main page.

 * More vertical whitespace or subtle zebra striping would make it
much easier to read across rows.

 * I'm also not sure about displaying the number of unique IPs. R is
used a lot in the university setting and until ipv6 comes along, many
university downloads will appear to be coming from a single ip
address.

 * It's not very useful to sort by % Windows because the variance
increases as the sample size decreases so the packages with the
highest and lowest % windows are just the packages that aren't
downloaded very often.  Maybe a shrunken estimate?

 * Have you thought at all about how to take package dependences into account?

Hadley

On Sun, Nov 22, 2009 at 6:18 PM, Fellows, Ian <ifellows at ucsd.edu> wrote:
> Hi All,
>
> It seems that the question of how may people use (or download) R, and it's packages is one that comes up on a fairly regular basis in a variety of forums (There was also recent thread on the subject on Stack Overflow). A couple of students at UCLA (including myself), wanted to address the issue, so we set up a system to get and parse the cran.stat.ucla.edu APACHE logs every night, and display some basic statistics. Right now, we have a working sketch of a site based on one week of observations.
>
> http://neolab.stat.ucla.edu/cranstats/
>
> We would very much like to incorporate data from all CRAN mirrors, including cran.r-project.org. We would also like to set this up in a way that is minimally invasive for the site administrators. Internally, our administrator has set up a protected directory with the last couple days of cran activity. We then pull that down using curl.
>
> What would be the best and easiest way for the CRAN mirrors to share their data? Is the contact information for the administrators available anywhere?
>
>
> Thank you,
> Ian Fellows
>
>
>
> ________________________________________
> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Steven McKinney [smckinney at bccrc.ca]
> Sent: Thursday, November 19, 2009 2:21 PM
> To: Kevin R. Coombes; r-devel at r-project.org
> Subject: Re: [Rd] R Usage Statistics
>
> Hi Kevin,
>
> What a surprising comment from a reviewer for BMC Bioinformatics.
>
> I just did a PubMed search for "limma" and "aroma.affymetrix",
> just two methods for which I use R software regularly.
> "limma" yields 28 hits, several of which are published
> in BMC Bioinformatics. ?Bengtsson's aroma.affymetrix paper
> "Estimation and assessment of raw copy numbers at the single locus level."
> is already cited by 6 others.
>
> It almost seems too easy to work up lists of usage of R packages.
>
> Spotfire is an application built around S-Plus that has widespread use
> in the biopharmaceutical industry at a minimum. ?Vivek Ranadive's
> TIBCO company just purchased Insightful, the S-Plus company.
> (They bought Spotfire previously.)
> Mr. Ranadive does not spend money on environments that are
> not appropriate for deploying applications.
>
> You could easily cull a list of corporation names from the
> various R email listservs as well.
>
> Press back with the reviewer. ?Reviewers can learn new things
> and will respond to arguments with good evidence behind them.
> Good luck!
>
>
> Steven McKinney
>
>
> ________________________________________
> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Kevin R. Coombes [krcoombes at mdacc.tmc.edu]
> Sent: November 19, 2009 10:47 AM
> To: r-devel at r-project.org
> Subject: [Rd] R Usage Statistics
>
> Hi,
>
> I got the following comment from the reviewer of a paper (describing an
> algorithm implemented in R) that I submitted to BMC Bioinformatics:
>
> "Finally, which useful for exploratory work and some prototyping,
> neither R nor S-Plus are appropriate environments for deploying user
> applications that would receive much use."
>
> I can certainly respond by pointing out that CRAN contains more than
> 2000 packages and Bioconductor contains more than 350. However, does
> anyone have statistics on how often R (and possibly some R packages) are
> downloaded, or on how many people actually use R?
>
> Thanks,
> ? ?Kevin
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>



-- 
http://had.co.nz/


From ggrothendieck at gmail.com  Mon Nov 23 15:43:23 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 09:43:23 -0500
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com>
Message-ID: <971536df0911230643k464379f0xa05c7e13cd3c068@mail.gmail.com>

Knowing what percentage of different OSes are being used is of
interest to package developers and would be obscured by the proposal
to massage the data.  I prefer to see the raw figure as is.

Also the number of IPs are important and should not be removed in my
opinion since (1) it is a measure of clustering.  If a package is
mainly used by the courses of a few universities where the students
really have no choice then that seems a lot different than if its used
by a variety of people around the world.  Only the IPs would give any
clue to that.  (2) it helps to diagnose intentional distortion of the
figures by repeat downloads to the same machine.

The one problem with sparkline graphs is that it would take a lot
longer for the page to load.  There already is a time series if you
click on the package name.

Suggest a link to the CRAN page of each package be provided.


On Mon, Nov 23, 2009 at 9:12 AM, hadley wickham <h.wickham at gmail.com> wrote:
> Hi Ian,
>
> I've spoken with Stefan Theussl (cran maintainer) about this, and he's
> concerned about the privacy implications of making the apache access
> logs public. ?A compromise that he mentioned was having a script run
> on the cran mirror that processed the log files and output summary
> statistics. ?Then a central process could aggregate these and produce
> a single overall summary.
>
> A few comments on your current site:
>
> ?* Are you just including packages downloaded interactively from within R?
>
> ?* I don't think the continent from which the package was download is
> of much interest. ?There's definitely no need to include it on the
> main page.
>
> ?* I'd be far more interested in changes over time. ?Sparklines of the
> last month worth of data would be a neat addition to the main page.
>
> ?* More vertical whitespace or subtle zebra striping would make it
> much easier to read across rows.
>
> ?* I'm also not sure about displaying the number of unique IPs. R is
> used a lot in the university setting and until ipv6 comes along, many
> university downloads will appear to be coming from a single ip
> address.
>
> ?* It's not very useful to sort by % Windows because the variance
> increases as the sample size decreases so the packages with the
> highest and lowest % windows are just the packages that aren't
> downloaded very often. ?Maybe a shrunken estimate?
>
> ?* Have you thought at all about how to take package dependences into account?
>
> Hadley
>
> On Sun, Nov 22, 2009 at 6:18 PM, Fellows, Ian <ifellows at ucsd.edu> wrote:
>> Hi All,
>>
>> It seems that the question of how may people use (or download) R, and it's packages is one that comes up on a fairly regular basis in a variety of forums (There was also recent thread on the subject on Stack Overflow). A couple of students at UCLA (including myself), wanted to address the issue, so we set up a system to get and parse the cran.stat.ucla.edu APACHE logs every night, and display some basic statistics. Right now, we have a working sketch of a site based on one week of observations.
>>
>> http://neolab.stat.ucla.edu/cranstats/
>>
>> We would very much like to incorporate data from all CRAN mirrors, including cran.r-project.org. We would also like to set this up in a way that is minimally invasive for the site administrators. Internally, our administrator has set up a protected directory with the last couple days of cran activity. We then pull that down using curl.
>>
>> What would be the best and easiest way for the CRAN mirrors to share their data? Is the contact information for the administrators available anywhere?
>>
>>
>> Thank you,
>> Ian Fellows
>>
>>
>>
>> ________________________________________
>> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Steven McKinney [smckinney at bccrc.ca]
>> Sent: Thursday, November 19, 2009 2:21 PM
>> To: Kevin R. Coombes; r-devel at r-project.org
>> Subject: Re: [Rd] R Usage Statistics
>>
>> Hi Kevin,
>>
>> What a surprising comment from a reviewer for BMC Bioinformatics.
>>
>> I just did a PubMed search for "limma" and "aroma.affymetrix",
>> just two methods for which I use R software regularly.
>> "limma" yields 28 hits, several of which are published
>> in BMC Bioinformatics. ?Bengtsson's aroma.affymetrix paper
>> "Estimation and assessment of raw copy numbers at the single locus level."
>> is already cited by 6 others.
>>
>> It almost seems too easy to work up lists of usage of R packages.
>>
>> Spotfire is an application built around S-Plus that has widespread use
>> in the biopharmaceutical industry at a minimum. ?Vivek Ranadive's
>> TIBCO company just purchased Insightful, the S-Plus company.
>> (They bought Spotfire previously.)
>> Mr. Ranadive does not spend money on environments that are
>> not appropriate for deploying applications.
>>
>> You could easily cull a list of corporation names from the
>> various R email listservs as well.
>>
>> Press back with the reviewer. ?Reviewers can learn new things
>> and will respond to arguments with good evidence behind them.
>> Good luck!
>>
>>
>> Steven McKinney
>>
>>
>> ________________________________________
>> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Kevin R. Coombes [krcoombes at mdacc.tmc.edu]
>> Sent: November 19, 2009 10:47 AM
>> To: r-devel at r-project.org
>> Subject: [Rd] R Usage Statistics
>>
>> Hi,
>>
>> I got the following comment from the reviewer of a paper (describing an
>> algorithm implemented in R) that I submitted to BMC Bioinformatics:
>>
>> "Finally, which useful for exploratory work and some prototyping,
>> neither R nor S-Plus are appropriate environments for deploying user
>> applications that would receive much use."
>>
>> I can certainly respond by pointing out that CRAN contains more than
>> 2000 packages and Bioconductor contains more than 350. However, does
>> anyone have statistics on how often R (and possibly some R packages) are
>> downloaded, or on how many people actually use R?
>>
>> Thanks,
>> ? ?Kevin
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
>
>
> --
> http://had.co.nz/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From ggrothendieck at gmail.com  Mon Nov 23 15:51:11 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 09:51:11 -0500
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <f8e6ff050911230648t6b36ade6vf2993fff3e33df32@mail.gmail.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com> 
	<971536df0911230643k464379f0xa05c7e13cd3c068@mail.gmail.com> 
	<f8e6ff050911230648t6b36ade6vf2993fff3e33df32@mail.gmail.com>
Message-ID: <971536df0911230651u1ae13d1am1d03269a23dd46c6@mail.gmail.com>

On Mon, Nov 23, 2009 at 9:48 AM, hadley wickham <h.wickham at gmail.com> wrote:
>> Knowing what percentage of different OSes are being used is of
>> interest to package developers and would be obscured by the proposal
>> to massage the data. ?I prefer to see the raw figure as is.
>
> I agree. ?I was arguing that sorting by that value wasn't very useful.
>
>> Also the number of IPs are important and should not be removed in my
>> opinion since (1) it is a measure of clustering. ?If a package is
>> mainly used by the courses of a few universities where the students
>> really have no choice then that seems a lot different than if its used
>> by a variety of people around the world. ?Only the IPs would give any
>> clue to that. ?(2) it helps to diagnose intentional distortion of the
>> figures by repeat downloads to the same machine.
>
> There is no way to tease apart (1) and (2), plus many adsl providers
> share an ip across multiple subscribers. ?Number of unique IPs may
> still be useful, but it needs to be used with caution.
>
>> The one problem with sparkline graphs is that it would take a lot
>> longer for the page to load. ?There already is a time series if you
>> click on the package name.
>
> Is it a time series? ?It looks like a bar chart of downloads per day
> of week to me.
>

A time series is a function of time regardless of representation.


From h.wickham at gmail.com  Mon Nov 23 15:48:01 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Mon, 23 Nov 2009 08:48:01 -0600
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <971536df0911230643k464379f0xa05c7e13cd3c068@mail.gmail.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com> 
	<971536df0911230643k464379f0xa05c7e13cd3c068@mail.gmail.com>
Message-ID: <f8e6ff050911230648t6b36ade6vf2993fff3e33df32@mail.gmail.com>

> Knowing what percentage of different OSes are being used is of
> interest to package developers and would be obscured by the proposal
> to massage the data. ?I prefer to see the raw figure as is.

I agree.  I was arguing that sorting by that value wasn't very useful.

> Also the number of IPs are important and should not be removed in my
> opinion since (1) it is a measure of clustering. ?If a package is
> mainly used by the courses of a few universities where the students
> really have no choice then that seems a lot different than if its used
> by a variety of people around the world. ?Only the IPs would give any
> clue to that. ?(2) it helps to diagnose intentional distortion of the
> figures by repeat downloads to the same machine.

There is no way to tease apart (1) and (2), plus many adsl providers
share an ip across multiple subscribers.  Number of unique IPs may
still be useful, but it needs to be used with caution.

> The one problem with sparkline graphs is that it would take a lot
> longer for the page to load. ?There already is a time series if you
> click on the package name.

Is it a time series?  It looks like a bar chart of downloads per day
of week to me.

Hadley

-- 
http://had.co.nz/


From h.wickham at gmail.com  Mon Nov 23 15:56:10 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Mon, 23 Nov 2009 08:56:10 -0600
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com>
Message-ID: <f8e6ff050911230656w4d3b9a24k3fc09e7af9261ff3@mail.gmail.com>

> A few comments on your current site:
>
> ?* Are you just including packages downloaded interactively from within R?
>
> ?* I don't think the continent from which the package was download is
> of much interest. ?There's definitely no need to include it on the
> main page.
>
> ?* I'd be far more interested in changes over time. ?Sparklines of the
> last month worth of data would be a neat addition to the main page.
>
> ?* More vertical whitespace or subtle zebra striping would make it
> much easier to read across rows.
>
> ?* I'm also not sure about displaying the number of unique IPs. R is
> used a lot in the university setting and until ipv6 comes along, many
> university downloads will appear to be coming from a single ip
> address.
>
> ?* It's not very useful to sort by % Windows because the variance
> increases as the sample size decreases so the packages with the
> highest and lowest % windows are just the packages that aren't
> downloaded very often. ?Maybe a shrunken estimate?
>
> ?* Have you thought at all about how to take package dependences into account?

Also, the number of downloads is not very helpful without knowing the
time period over which they were download!

Hadley



-- 
http://had.co.nz/


From jeff.a.ryan at gmail.com  Mon Nov 23 17:17:01 2009
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 23 Nov 2009 10:17:01 -0600
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>
Message-ID: <e8e755250911230817o2e34875pa02707c1fad964fa@mail.gmail.com>

While I think download statistics are potentially interesting for
developers, done incorrectly it can very likely damage the community.
A basic data reporting problem, with all of the caveats attached.

This information has also been readily available from the main CRAN
mirror for years:

http://www.r-project.org/awstats/awstats.cran.r-project.org.html
http://cran.r-project.org/report_cran.html

Best,
Jeff

On Sun, Nov 22, 2009 at 6:18 PM, Fellows, Ian <ifellows at ucsd.edu> wrote:
> Hi All,
>
> It seems that the question of how may people use (or download) R, and it's packages is one that comes up on a fairly regular basis in a variety of forums (There was also recent thread on the subject on Stack Overflow). A couple of students at UCLA (including myself), wanted to address the issue, so we set up a system to get and parse the cran.stat.ucla.edu APACHE logs every night, and display some basic statistics. Right now, we have a working sketch of a site based on one week of observations.
>
> http://neolab.stat.ucla.edu/cranstats/
>
> We would very much like to incorporate data from all CRAN mirrors, including cran.r-project.org. We would also like to set this up in a way that is minimally invasive for the site administrators. Internally, our administrator has set up a protected directory with the last couple days of cran activity. We then pull that down using curl.
>
> What would be the best and easiest way for the CRAN mirrors to share their data? Is the contact information for the administrators available anywhere?
>
>
> Thank you,
> Ian Fellows
>
>
>
> ________________________________________
> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Steven McKinney [smckinney at bccrc.ca]
> Sent: Thursday, November 19, 2009 2:21 PM
> To: Kevin R. Coombes; r-devel at r-project.org
> Subject: Re: [Rd] R Usage Statistics
>
> Hi Kevin,
>
> What a surprising comment from a reviewer for BMC Bioinformatics.
>
> I just did a PubMed search for "limma" and "aroma.affymetrix",
> just two methods for which I use R software regularly.
> "limma" yields 28 hits, several of which are published
> in BMC Bioinformatics. ?Bengtsson's aroma.affymetrix paper
> "Estimation and assessment of raw copy numbers at the single locus level."
> is already cited by 6 others.
>
> It almost seems too easy to work up lists of usage of R packages.
>
> Spotfire is an application built around S-Plus that has widespread use
> in the biopharmaceutical industry at a minimum. ?Vivek Ranadive's
> TIBCO company just purchased Insightful, the S-Plus company.
> (They bought Spotfire previously.)
> Mr. Ranadive does not spend money on environments that are
> not appropriate for deploying applications.
>
> You could easily cull a list of corporation names from the
> various R email listservs as well.
>
> Press back with the reviewer. ?Reviewers can learn new things
> and will respond to arguments with good evidence behind them.
> Good luck!
>
>
> Steven McKinney
>
>
> ________________________________________
> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Kevin R. Coombes [krcoombes at mdacc.tmc.edu]
> Sent: November 19, 2009 10:47 AM
> To: r-devel at r-project.org
> Subject: [Rd] R Usage Statistics
>
> Hi,
>
> I got the following comment from the reviewer of a paper (describing an
> algorithm implemented in R) that I submitted to BMC Bioinformatics:
>
> "Finally, which useful for exploratory work and some prototyping,
> neither R nor S-Plus are appropriate environments for deploying user
> applications that would receive much use."
>
> I can certainly respond by pointing out that CRAN contains more than
> 2000 packages and Bioconductor contains more than 350. However, does
> anyone have statistics on how often R (and possibly some R packages) are
> downloaded, or on how many people actually use R?
>
> Thanks,
> ? ?Kevin
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From macrakis at alum.mit.edu  Mon Nov 23 17:24:24 2009
From: macrakis at alum.mit.edu (Stavros Macrakis)
Date: Mon, 23 Nov 2009 11:24:24 -0500
Subject: [Rd] Method dispatch for function
In-Reply-To: <8b356f880911180916w3366bcemd6c2afd5b2a0e4d1@mail.gmail.com>
References: <8b356f880911180916w3366bcemd6c2afd5b2a0e4d1@mail.gmail.com>
Message-ID: <8b356f880911230824x4b215dalcaf4f81ce336d17c@mail.gmail.com>

(I had sent this to r-help and got no responses -- perhaps r-devel is
a better list for this question?)

How can I determine what S3 method will be called for a particular
first-argument class?

I was imagining something like functionDispatch('str','numeric') =>
utils:::str.default , but I can't find anything like this.

For that matter, I was wondering if anyone had written a version of
`methods` which gave their fully qualified names if they were not
visible, e.g.

methods('str') =>
??? utils:::str.data.frame??? utils:::str.default
stats:::str.dendrogram??? stats:::str.logLik??? utils:::str.POSIXt

or

methods('str') =>
???? $utils
?????????? "str.data.frame" "str.default"??? "str.POSIXt"
???? $stats
?????????? "str.dendrogram" "str.logLik"

Thank you,

???????????? -s


From ggrothendieck at gmail.com  Mon Nov 23 17:34:42 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 11:34:42 -0500
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <19210.46156.807867.395652@wap01.stat.uni-muenchen.de>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com> 
	<971536df0911230643k464379f0xa05c7e13cd3c068@mail.gmail.com> 
	<19210.46156.807867.395652@wap01.stat.uni-muenchen.de>
Message-ID: <971536df0911230834j7dd6ba87ta2f9e4c9661b4ed4@mail.gmail.com>

On Mon, Nov 23, 2009 at 11:11 AM, Friedrich Leisch
<friedrich.leisch at stat.uni-muenchen.de> wrote:
>>>>>> On ,
>>>>>> Anonymous () wrote:
> ?> Knowing what percentage of different OSes are being used is of
> ?> interest to package developers and would be obscured by the proposal
> ?> to massage the data. ?I prefer to see the raw figure as is.
>
> ?> Also the number of IPs are important and should not be removed in my
> ?> opinion since (1) it is a measure of clustering. ?If a package is
> ?> mainly used by the courses of a few universities where the students
> ?> really have no choice then that seems a lot different than if its used
> ?> by a variety of people around the world. ?Only the IPs would give any
> ?> clue to that. ?(2) it helps to diagnose intentional distortion of the
> ?> figures by repeat downloads to the same machine.
>
> As Hadley already pointed out we cannot make CRAN logs publicly
> available for privacy reasons. That would be a violation of national
> laws.

I think that's unlikely.  There is no info given out identifying
users.  There are lots of web stats on the net.


From maechler at stat.math.ethz.ch  Mon Nov 23 18:05:28 2009
From: maechler at stat.math.ethz.ch (maechler at stat.math.ethz.ch)
Date: Mon, 23 Nov 2009 18:05:28 +0100 (CET)
Subject: [Rd] Dead link in Nile help documentation (PR#14079)
Message-ID: <20091123170528.74D5B282EF29@mail.pubhealth.ku.dk>

>>>>> "mb" == maarten blaauw <maarten.blaauw at qub.ac.uk>
>>>>>     on Sun, 22 Nov 2009 19:55:16 +0100 (CET) writes:

    mb> When doing ?Nile, the url for the data source is
    mb> dead. It says http://www.= ssfpack.com/dkbook/ but this
    mb> has changed to=20 http://www.ssfpack.com/DKbook.html


Thank you;  I've committed the relevant change to the sources.
Martin Maechler, ETH Zurich

    mb> Version: platform =3D i386-redhat-linux-gnu arch =3D
    mb> i386 os =3D linux-gnu system =3D i386, linux-gnu status
    mb> =3D major =3D 2 minor =3D 10.0 year =3D 2009 month =3D
    mb> 10 day =3D 26 svn rev =3D 50208 language =3D R
    mb> version.string =3D R version 2.10.0 (2009-10-26)

    mb> Locale:
    mb> LC_CTYPE=3Den_US.UTF-8;LC_NUMERIC=3DC;LC_TIME=3Den_US.UTF-8;LC_COLLATE=3Den=
    mb> _US.UTF-8;LC_MONETARY=3DC;LC_MESSAGES=3Den_US.UTF-8;LC_PAPER=3Den_US.UTF-8;=
    mb> LC_NAME=3DC;LC_ADDRESS=3DC;LC_TELEPHONE=3DC;LC_MEASUREMENT=3Den_US.UTF-8;LC=
    mb> _IDENTIFICATION=3DC

    mb> Search Path: .GlobalEnv, package:stats,
    mb> package:graphics, package:grDevices, package:ut= ils,
    mb> package:datasets, package:methods, Autoloads,
    mb> package:base

    mb> Thanks,

    mb> Maarten

    mb> -- | Dr. Maarten Blaauw | | School of Geography,
    mb> Archaeology & Palaeoecology | Queen's University
    mb> Belfast, UK | | www http://www.chrono.qub.ac.uk/blaauw |
    mb> tel +44 (0)28 9097 3895

    mb> ______________________________________________
    mb> R-devel at r-project.org mailing list
    mb> https://stat.ethz.ch/mailman/listinfo/r-devel


From ggrothendieck at gmail.com  Mon Nov 23 18:14:34 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 12:14:34 -0500
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <f8e6ff050911230909m657bbbcekd269026714ead40d@mail.gmail.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com> 
	<971536df0911230643k464379f0xa05c7e13cd3c068@mail.gmail.com> 
	<19210.46156.807867.395652@wap01.stat.uni-muenchen.de>
	<971536df0911230834j7dd6ba87ta2f9e4c9661b4ed4@mail.gmail.com> 
	<f8e6ff050911230909m657bbbcekd269026714ead40d@mail.gmail.com>
Message-ID: <971536df0911230914j72f2e676yfd2a99a3caeccaba@mail.gmail.com>

On Mon, Nov 23, 2009 at 12:09 PM, hadley wickham <h.wickham at gmail.com> wrote:
>>> As Hadley already pointed out we cannot make CRAN logs publicly
>>> available for privacy reasons. That would be a violation of national
>>> laws.
>>
>> I think that's unlikely. ?There is no info given out identifying
>> users. ?There are lots of web stats on the net.
>
> Fritz and Stefan are concerned about making the raw logs available
> online, not summarised web statistics.
>
> The concern is about IP addresses which can be used to identify
> individual users. ?This may be commercially sensitive information -
> for example, you could use this information to find out what packages
> your competitors are using.

That's not a problem if CRAN itself creates the page.  Alternately it
would be easy enough to make the ip address anonymous by converting it
to a factor and outputting the factor level numbers instead of the
level names.


From h.wickham at gmail.com  Mon Nov 23 18:09:10 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Mon, 23 Nov 2009 11:09:10 -0600
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <971536df0911230834j7dd6ba87ta2f9e4c9661b4ed4@mail.gmail.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com> 
	<971536df0911230643k464379f0xa05c7e13cd3c068@mail.gmail.com> 
	<19210.46156.807867.395652@wap01.stat.uni-muenchen.de>
	<971536df0911230834j7dd6ba87ta2f9e4c9661b4ed4@mail.gmail.com>
Message-ID: <f8e6ff050911230909m657bbbcekd269026714ead40d@mail.gmail.com>

>> As Hadley already pointed out we cannot make CRAN logs publicly
>> available for privacy reasons. That would be a violation of national
>> laws.
>
> I think that's unlikely. ?There is no info given out identifying
> users. ?There are lots of web stats on the net.

Fritz and Stefan are concerned about making the raw logs available
online, not summarised web statistics.

The concern is about IP addresses which can be used to identify
individual users.  This may be commercially sensitive information -
for example, you could use this information to find out what packages
your competitors are using.


Hadley

-- 
http://had.co.nz/


From ggrothendieck at gmail.com  Mon Nov 23 18:25:00 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 12:25:00 -0500
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <19210.49951.325550.851709@wap01.stat.uni-muenchen.de>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com> 
	<971536df0911230643k464379f0xa05c7e13cd3c068@mail.gmail.com> 
	<19210.46156.807867.395652@wap01.stat.uni-muenchen.de>
	<971536df0911230834j7dd6ba87ta2f9e4c9661b4ed4@mail.gmail.com> 
	<19210.49951.325550.851709@wap01.stat.uni-muenchen.de>
Message-ID: <971536df0911230925y43238630p98c51ab852ad87a5@mail.gmail.com>

On Mon, Nov 23, 2009 at 12:15 PM, Friedrich Leisch
<friedrich.leisch at stat.uni-muenchen.de> wrote:
> IP address plus time will always allow sysadmins to recover
> identities. For static adresses or in combination with mail headers
> etc it is also not exactly rocket science for others.

I had not suggested that identifying information be posted.  In fact,
quite the contrary -- I pointed out that it would be easy to code them
to preserve privacy.


From ggrothendieck at gmail.com  Mon Nov 23 18:55:07 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 12:55:07 -0500
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <19210.51295.534579.174052@wap01.stat.uni-muenchen.de>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com> 
	<971536df0911230643k464379f0xa05c7e13cd3c068@mail.gmail.com> 
	<19210.46156.807867.395652@wap01.stat.uni-muenchen.de>
	<971536df0911230834j7dd6ba87ta2f9e4c9661b4ed4@mail.gmail.com> 
	<19210.49951.325550.851709@wap01.stat.uni-muenchen.de>
	<971536df0911230925y43238630p98c51ab852ad87a5@mail.gmail.com> 
	<19210.51295.534579.174052@wap01.stat.uni-muenchen.de>
Message-ID: <971536df0911230955r7b515a5cs437d0772af301b7e@mail.gmail.com>

On Mon, Nov 23, 2009 at 12:37 PM, Friedrich Leisch
<friedrich.leisch at stat.uni-muenchen.de> wrote:
>
> ?> On Mon, Nov 23, 2009 at 12:15 PM, Friedrich Leisch
> ?> <friedrich.leisch at stat.uni-muenchen.de> wrote:
> ?>> IP address plus time will always allow sysadmins to recover
> ?>> identities. For static adresses or in combination with mail headers
> ?>> etc it is also not exactly rocket science for others.
>
> ?> I had not suggested that identifying information be posted. ?In fact,
> ?> quite the contrary -- I pointed out that it would be easy to code them
> ?> to preserve privacy.
>
> Deliberately only citing parts of my email? I answered (in parallel
> with Hadley) to your original email and there you requested
>
> ?"... Only the IPs would give any clue to that."

You are quoting this out of context.  I was referring to the fact that
the web page has no IP addresses.  I was not referring to the log.
This all started as supposed reasons that the web page in question
could not be distributed (because it depended on the log which had
identifying information) and I was pointing out that the web page
itself did not have identifying information and the identifying
information in the log could easily be coded.


From ifellows at ucsd.edu  Mon Nov 23 21:51:08 2009
From: ifellows at ucsd.edu (Fellows, Ian)
Date: Mon, 23 Nov 2009 12:51:08 -0800
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>,
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com>
Message-ID: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C69@MBX2.AD.UCSD.EDU>

Thank you all for the interesting discussion.


I'm sensitive to the privacy issue. And am happy to work with any administrators to come up with a solution that works for them. We do not plan on having the raw logs be publicly available, so the IP addresses of the users would be known only to the originating CRAN server and UCLA. If there are concerns about UCLA having access to that information, the logs can be preprocessed on the CRAN server, and IP addresses hashed (though this would be a little more work for the administrator). Each month, non-identifiable summary statistics will be made available for public download and analysis.

Hadley,

The site is just a bit of a sketch at the moment. 
1. You are right, the continent information should not be on the front page. 

2. Though the number of downloads is useful information, the # of IP addresses is probably more representative of package popularity. When I did a static analysis of a couple of months worth of logs, I found that the package MetaMA had the most downloads, due to one IP address downloading it >1000 times. There is no perfect mapping between the logs and what we would really like to measure which is the unique installations. I think it's best just to present both.

3. The site is sort of ugly right now, those are good suggestions for improvement.

4. The sorted % windows will be replaced by a measure of package hotness, i.e. rate of change of download rate. It is a placeholder for the moment.

5. The time plot is a histogram of date, it looks like a bar chart because there is only one week of data currently. 

6. Regarding package dependancies, I was thinking about also counting the number of top level downloads, as approximated by the number of downloads where a reverse dependancy was not downloaded in the next 5 min by the same IP.

There are a lot of interesting things that are not explored by the site as i stands. For example one of the members of the group is working on creating a MDS representation of the packages, so that  we can create a map where packages downloaded by similar IP addresses are clustered, creating a visual representation of the package space.


Ian


________________________________________
From: hadley wickham [h.wickham at gmail.com]
Sent: Monday, November 23, 2009 6:12 AM
To: Fellows, Ian
Cc: R-devel; Stefan Theussl
Subject: Re: [Rd] CRAN Server download statistics (Was: R Usage Statistics)

Hi Ian,

I've spoken with Stefan Theussl (cran maintainer) about this, and he's
concerned about the privacy implications of making the apache access
logs public.  A compromise that he mentioned was having a script run
on the cran mirror that processed the log files and output summary
statistics.  Then a central process could aggregate these and produce
a single overall summary.

A few comments on your current site:

 * Are you just including packages downloaded interactively from within R?

 * I don't think the continent from which the package was download is
of much interest.  There's definitely no need to include it on the
main page.

 * I'd be far more interested in changes over time.  Sparklines of the
last month worth of data would be a neat addition to the main page.

 * More vertical whitespace or subtle zebra striping would make it
much easier to read across rows.

 * I'm also not sure about displaying the number of unique IPs. R is
used a lot in the university setting and until ipv6 comes along, many
university downloads will appear to be coming from a single ip
address.

 * It's not very useful to sort by % Windows because the variance
increases as the sample size decreases so the packages with the
highest and lowest % windows are just the packages that aren't
downloaded very often.  Maybe a shrunken estimate?

 * Have you thought at all about how to take package dependences into account?

Hadley

On Sun, Nov 22, 2009 at 6:18 PM, Fellows, Ian <ifellows at ucsd.edu> wrote:
> Hi All,
>
> It seems that the question of how may people use (or download) R, and it's packages is one that comes up on a fairly regular basis in a variety of forums (There was also recent thread on the subject on Stack Overflow). A couple of students at UCLA (including myself), wanted to address the issue, so we set up a system to get and parse the cran.stat.ucla.edu APACHE logs every night, and display some basic statistics. Right now, we have a working sketch of a site based on one week of observations.
>
> http://neolab.stat.ucla.edu/cranstats/
>
> We would very much like to incorporate data from all CRAN mirrors, including cran.r-project.org. We would also like to set this up in a way that is minimally invasive for the site administrators. Internally, our administrator has set up a protected directory with the last couple days of cran activity. We then pull that down using curl.
>
> What would be the best and easiest way for the CRAN mirrors to share their data? Is the contact information for the administrators available anywhere?
>
>
> Thank you,
> Ian Fellows
>
>
>
> ________________________________________
> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Steven McKinney [smckinney at bccrc.ca]
> Sent: Thursday, November 19, 2009 2:21 PM
> To: Kevin R. Coombes; r-devel at r-project.org
> Subject: Re: [Rd] R Usage Statistics
>
> Hi Kevin,
>
> What a surprising comment from a reviewer for BMC Bioinformatics.
>
> I just did a PubMed search for "limma" and "aroma.affymetrix",
> just two methods for which I use R software regularly.
> "limma" yields 28 hits, several of which are published
> in BMC Bioinformatics.  Bengtsson's aroma.affymetrix paper
> "Estimation and assessment of raw copy numbers at the single locus level."
> is already cited by 6 others.
>
> It almost seems too easy to work up lists of usage of R packages.
>
> Spotfire is an application built around S-Plus that has widespread use
> in the biopharmaceutical industry at a minimum.  Vivek Ranadive's
> TIBCO company just purchased Insightful, the S-Plus company.
> (They bought Spotfire previously.)
> Mr. Ranadive does not spend money on environments that are
> not appropriate for deploying applications.
>
> You could easily cull a list of corporation names from the
> various R email listservs as well.
>
> Press back with the reviewer.  Reviewers can learn new things
> and will respond to arguments with good evidence behind them.
> Good luck!
>
>
> Steven McKinney
>
>
> ________________________________________
> From: r-devel-bounces at r-project.org [r-devel-bounces at r-project.org] On Behalf Of Kevin R. Coombes [krcoombes at mdacc.tmc.edu]
> Sent: November 19, 2009 10:47 AM
> To: r-devel at r-project.org
> Subject: [Rd] R Usage Statistics
>
> Hi,
>
> I got the following comment from the reviewer of a paper (describing an
> algorithm implemented in R) that I submitted to BMC Bioinformatics:
>
> "Finally, which useful for exploratory work and some prototyping,
> neither R nor S-Plus are appropriate environments for deploying user
> applications that would receive much use."
>
> I can certainly respond by pointing out that CRAN contains more than
> 2000 packages and Bioconductor contains more than 350. However, does
> anyone have statistics on how often R (and possibly some R packages) are
> downloaded, or on how many people actually use R?
>
> Thanks,
>    Kevin
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>



--
http://had.co.nz/


From hadley at rice.edu  Mon Nov 23 22:00:05 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Mon, 23 Nov 2009 15:00:05 -0600
Subject: [Rd] Calling default method for primitive functions
Message-ID: <f8e6ff050911231300p162230d7pad4875528b5e96ff@mail.gmail.com>

Hi all,

How can I call the default method of a S3 object defined by a
primitive method?   i.e. in the following example, how do I call the
default [ method instead of the one I defined for the class.

new_a <- function(x) structure(x, class = "a")

a <- new_a(1:5)

"[.a" <- function(x, i, j, ...) {
  new_a(x[, j, ])
}

a[, 5]

Thanks,

Hadley

-- 
http://had.co.nz/


From simon.urbanek at r-project.org  Mon Nov 23 23:30:57 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 23 Nov 2009 17:30:57 -0500
Subject: [Rd] Calling default method for primitive functions
In-Reply-To: <f8e6ff050911231300p162230d7pad4875528b5e96ff@mail.gmail.com>
References: <f8e6ff050911231300p162230d7pad4875528b5e96ff@mail.gmail.com>
Message-ID: <7C7F838E-D1E3-491A-AF49-B28ED108BC82@r-project.org>


On Nov 23, 2009, at 16:00 , Hadley Wickham wrote:

> Hi all,
>
> How can I call the default method of a S3 object defined by a
> primitive method?   i.e. in the following example, how do I call the
> default [ method instead of the one I defined for the class.
>
> new_a <- function(x) structure(x, class = "a")
>
> a <- new_a(1:5)
>
> "[.a" <- function(x, i, j, ...) {
>  new_a(x[, j, ])

What about
new_a(unclass(x)[, j,])

Cheers,
Simon


> }
>
> a[, 5]
>
> Thanks,
>
> Hadley
>
> -- 
> http://had.co.nz/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From hadley at rice.edu  Mon Nov 23 23:56:38 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Mon, 23 Nov 2009 16:56:38 -0600
Subject: [Rd] Calling default method for primitive functions
In-Reply-To: <7C7F838E-D1E3-491A-AF49-B28ED108BC82@r-project.org>
References: <f8e6ff050911231300p162230d7pad4875528b5e96ff@mail.gmail.com> 
	<7C7F838E-D1E3-491A-AF49-B28ED108BC82@r-project.org>
Message-ID: <f8e6ff050911231456o22514032m10fae2cb863b7391@mail.gmail.com>

>> new_a <- function(x) structure(x, class = "a")
>>
>> a <- new_a(1:5)
>>
>> "[.a" <- function(x, i, j, ...) {
>> ?new_a(x[, j, ])
>
> What about
> new_a(unclass(x)[, j,])

That's what I'm currently using, but I'm concerned about the
performance implications - won't that create a copy of x?

Hadley


-- 
http://had.co.nz/


From ggrothendieck at gmail.com  Tue Nov 24 00:15:54 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 18:15:54 -0500
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C69@MBX2.AD.UCSD.EDU>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com> 
	<C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C69@MBX2.AD.UCSD.EDU>
Message-ID: <971536df0911231515t25d700ebicb599976106ae52b@mail.gmail.com>

On Mon, Nov 23, 2009 at 3:51 PM, Fellows, Ian <ifellows at ucsd.edu> wrote:
> 6. Regarding package dependancies, I was thinking about also counting the number of top level downloads, as approximated
> by the number of downloads where a reverse dependancy was not downloaded in the next 5 min by the same IP.

Top level downloads discriminates against infrastructure packages,
i.e. packages that are not necessarily directly used by users or even
downloaded directly by users.  It can make it seem as if a package
that is widely used, but not directly by users, is barely used at all
so total downloads seems a better metric of popularity than top level
downloads.

I can't find it just now but remember reading a post on another list,
or maybe it was his blog, by the author of certain software (not
related to R) that was fundamental to Ruby on Rails but as
infrastructure would not be directly observed by the user yet Ruby on
Rails got all the credit and his key contribution got almost none
despite the fact that Ruby on Rails likely would have never achieved
its current high level of popularity without his contribution.


From ggrothendieck at gmail.com  Tue Nov 24 00:22:03 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 18:22:03 -0500
Subject: [Rd] Calling default method for primitive functions
In-Reply-To: <f8e6ff050911231300p162230d7pad4875528b5e96ff@mail.gmail.com>
References: <f8e6ff050911231300p162230d7pad4875528b5e96ff@mail.gmail.com>
Message-ID: <971536df0911231522m707a8010y7ff68985a9b953e@mail.gmail.com>

See ?.subset

On Mon, Nov 23, 2009 at 4:00 PM, Hadley Wickham <hadley at rice.edu> wrote:
> Hi all,
>
> How can I call the default method of a S3 object defined by a
> primitive method? ? i.e. in the following example, how do I call the
> default [ method instead of the one I defined for the class.
>
> new_a <- function(x) structure(x, class = "a")
>
> a <- new_a(1:5)
>
> "[.a" <- function(x, i, j, ...) {
> ?new_a(x[, j, ])
> }
>
> a[, 5]


From ifellows at ucsd.edu  Tue Nov 24 00:28:51 2009
From: ifellows at ucsd.edu (Fellows, Ian)
Date: Mon, 23 Nov 2009 15:28:51 -0800
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <971536df0911231515t25d700ebicb599976106ae52b@mail.gmail.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com>
	<C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C69@MBX2.AD.UCSD.EDU>,
	<971536df0911231515t25d700ebicb599976106ae52b@mail.gmail.com>
Message-ID: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C6D@MBX2.AD.UCSD.EDU>

Gabor,

Well, I think "discriminates" is a bit over the 'top'. It just measures something else. No statistic is going to be the One True Popularity Statistic. Downloads, Unique IPs and Top level downloads all measure different aspects of popularity.


Ian

________________________________________
From: Gabor Grothendieck [ggrothendieck at gmail.com]
Sent: Monday, November 23, 2009 3:15 PM
To: Fellows, Ian
Cc: hadley wickham; Stefan Theussl; R-devel
Subject: Re: [Rd] CRAN Server download statistics (Was: R Usage Statistics)

On Mon, Nov 23, 2009 at 3:51 PM, Fellows, Ian <ifellows at ucsd.edu> wrote:
> 6. Regarding package dependancies, I was thinking about also counting the number of top level downloads, as approximated
> by the number of downloads where a reverse dependancy was not downloaded in the next 5 min by the same IP.

Top level downloads discriminates against infrastructure packages,
i.e. packages that are not necessarily directly used by users or even
downloaded directly by users.  It can make it seem as if a package
that is widely used, but not directly by users, is barely used at all
so total downloads seems a better metric of popularity than top level
downloads.

I can't find it just now but remember reading a post on another list,
or maybe it was his blog, by the author of certain software (not
related to R) that was fundamental to Ruby on Rails but as
infrastructure would not be directly observed by the user yet Ruby on
Rails got all the credit and his key contribution got almost none
despite the fact that Ruby on Rails likely would have never achieved
its current high level of popularity without his contribution.


From hadley at rice.edu  Tue Nov 24 00:44:51 2009
From: hadley at rice.edu (Hadley Wickham)
Date: Mon, 23 Nov 2009 17:44:51 -0600
Subject: [Rd] Calling default method for primitive functions
In-Reply-To: <971536df0911231522m707a8010y7ff68985a9b953e@mail.gmail.com>
References: <f8e6ff050911231300p162230d7pad4875528b5e96ff@mail.gmail.com> 
	<971536df0911231522m707a8010y7ff68985a9b953e@mail.gmail.com>
Message-ID: <f8e6ff050911231544k44b619aak2fe5061893b89d82@mail.gmail.com>

Perfect - thanks!
Hadley

On Mon, Nov 23, 2009 at 5:22 PM, Gabor Grothendieck
<ggrothendieck at gmail.com> wrote:
> See ?.subset
>
> On Mon, Nov 23, 2009 at 4:00 PM, Hadley Wickham <hadley at rice.edu> wrote:
>> Hi all,
>>
>> How can I call the default method of a S3 object defined by a
>> primitive method? ? i.e. in the following example, how do I call the
>> default [ method instead of the one I defined for the class.
>>
>> new_a <- function(x) structure(x, class = "a")
>>
>> a <- new_a(1:5)
>>
>> "[.a" <- function(x, i, j, ...) {
>> ?new_a(x[, j, ])
>> }
>>
>> a[, 5]
>
>



-- 
http://had.co.nz/


From spencer.graves at prodsyse.com  Tue Nov 24 01:09:01 2009
From: spencer.graves at prodsyse.com (spencerg)
Date: Mon, 23 Nov 2009 18:09:01 -0600
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <971536df0911231515t25d700ebicb599976106ae52b@mail.gmail.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU>
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com>
	<C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C69@MBX2.AD.UCSD.EDU>
	<971536df0911231515t25d700ebicb599976106ae52b@mail.gmail.com>
Message-ID: <4B0B241D.9000909@prodsyse.com>

Beyond what Gabor said, I might download a package that uses "zoo", then 
use "zoo" directly in other contexts without ever downloading it 
directly.  Total downloads would capture that;  top level downloads 
would not.  The flip side is that a package that requires "zoo" may only 
use it for features that I don't use.  This would support the use of top 
level downloads over total downloads.  Spencer

Gabor Grothendieck wrote:
> On Mon, Nov 23, 2009 at 3:51 PM, Fellows, Ian <ifellows at ucsd.edu> wrote:
>   
>> 6. Regarding package dependancies, I was thinking about also counting the number of top level downloads, as approximated
>> by the number of downloads where a reverse dependancy was not downloaded in the next 5 min by the same IP.
>>     
>
> Top level downloads discriminates against infrastructure packages,
> i.e. packages that are not necessarily directly used by users or even
> downloaded directly by users.  It can make it seem as if a package
> that is widely used, but not directly by users, is barely used at all
> so total downloads seems a better metric of popularity than top level
> downloads.
>
> I can't find it just now but remember reading a post on another list,
> or maybe it was his blog, by the author of certain software (not
> related to R) that was fundamental to Ruby on Rails but as
> infrastructure would not be directly observed by the user yet Ruby on
> Rails got all the credit and his key contribution got almost none
> despite the fact that Ruby on Rails likely would have never achieved
> its current high level of popularity without his contribution.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>   


-- 
Spencer Graves, PE, PhD
President and Chief Operating Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567


From ggrothendieck at gmail.com  Tue Nov 24 01:17:47 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 19:17:47 -0500
Subject: [Rd] CRAN Server download statistics (Was: R Usage Statistics)
In-Reply-To: <4B0B241D.9000909@prodsyse.com>
References: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C68@MBX2.AD.UCSD.EDU> 
	<f8e6ff050911230612t29831938w6c049a4de52f2ac@mail.gmail.com> 
	<C8F304C52E72EF4EBD6CBEF0A2DE1BAA08DC4B9C69@MBX2.AD.UCSD.EDU> 
	<971536df0911231515t25d700ebicb599976106ae52b@mail.gmail.com> 
	<4B0B241D.9000909@prodsyse.com>
Message-ID: <971536df0911231617j27142416k549694f957a82bb8@mail.gmail.com>

If a package is not broadly using a dependency it can be listed under
Suggests: instead.

On Mon, Nov 23, 2009 at 7:09 PM, spencerg <spencer.graves at prodsyse.com> wrote:
> Beyond what Gabor said, I might download a package that uses "zoo", then use
> "zoo" directly in other contexts without ever downloading it directly.
> ?Total downloads would capture that; ?top level downloads would not. ?The
> flip side is that a package that requires "zoo" may only use it for features
> that I don't use. ?This would support the use of top level downloads over
> total downloads. ?Spencer
>
> Gabor Grothendieck wrote:
>>
>> On Mon, Nov 23, 2009 at 3:51 PM, Fellows, Ian <ifellows at ucsd.edu> wrote:
>>
>>>
>>> 6. Regarding package dependancies, I was thinking about also counting the
>>> number of top level downloads, as approximated
>>> by the number of downloads where a reverse dependancy was not downloaded
>>> in the next 5 min by the same IP.
>>>
>>
>> Top level downloads discriminates against infrastructure packages,
>> i.e. packages that are not necessarily directly used by users or even
>> downloaded directly by users. ?It can make it seem as if a package
>> that is widely used, but not directly by users, is barely used at all
>> so total downloads seems a better metric of popularity than top level
>> downloads.
>>
>> I can't find it just now but remember reading a post on another list,
>> or maybe it was his blog, by the author of certain software (not
>> related to R) that was fundamental to Ruby on Rails but as
>> infrastructure would not be directly observed by the user yet Ruby on
>> Rails got all the credit and his key contribution got almost none
>> despite the fact that Ruby on Rails likely would have never achieved
>> its current high level of popularity without his contribution.
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>
>
> --
> Spencer Graves, PE, PhD
> President and Chief Operating Officer
> Structure Inspection and Monitoring, Inc.
> 751 Emerson Ct.
> San Jos?, CA 95126
> ph: ?408-655-4567
>
>


From guillaume.yziquel at citycable.ch  Tue Nov 24 02:11:49 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Tue, 24 Nov 2009 02:11:49 +0100
Subject: [Rd] R strings, null-terminated or size delimited?
In-Reply-To: <4B088FC1.1060509@stats.uwo.ca>
References: <4B0857DB.8060606@citycable.ch>	<22C4DF66-C380-4922-AAD0-3D274CBDC9E0@r-project.org>	<4B08784C.8040507@citycable.ch>
	<4B0884DC.5010203@stats.uwo.ca> <4B088966.70704@citycable.ch>
	<4B088FC1.1060509@stats.uwo.ca>
Message-ID: <4B0B32D5.10301@citycable.ch>

Duncan Murdoch a ?crit :
>>>
>>> You can put probably put together simple R objects like integer 
>>> arrays without having R running, but anything substantial isn't going 
>>> to be feasible.
>>>
>>> Duncan Murdoch
>>
>> That's precisely the issue. I want to map a functional language to a 
>> functional language. And keep the same evaluation semantics. I do not 
>> (yet?) see why it should not be feasible.
> 
> R is a fairly quirky and irregular language, with lots of functions 
> implemented in C code, so you haven't taken on a small project.  But I 
> wish you luck.
> 
> Duncan Murdoch

I've got code that does basic things. It relies essentially on tryEval. 
But I have issues with the typing system. Let me explain on a rather 
simple example. (Please keep in mind that OCaml typing is polymorphic, 
somehow in the spirit of C++ template types).

I have implemented an OCaml function that is of type

	val R.force : 'a Lazy.t R.t -> 'a R.t

Wich means that it takes as first argument a R value, that denotes an 'a 
Lazy.t value in OCaml. An 'a Lazy.t value is basically what you would 
call a promise, promising to deliver a value of type 'a.

And 'R.force p' would evaluate to an R value denoting an OCaml value of 
type 'a.

Basically, this R.t type is a polymorphic type whose semantics would 
hopefully be to be an isomorphism between R values and OCaml types.

But R forces promises recursively. This means that if x is the promise 
of a promise in R, x would be of type 'a Lazy.t Lazy.t R.t.

Forcing it in R would give a value which should be of type 'a t.

However, OCaml typing is static typing. Which means it does not keep 
track of typing at runtime. It relies only on static typing.

So, logically, OCaml would believe 'R.force x' to be of type 'a Lazy.t 
R.t. Which is inconsistent with R semantics. This screws up the typing 
system of OCaml, and segfaults are therefore close nearby.

So this is a simple example of why I would need to go into the nitty 
gritty details of R code. To see how to slowly map R semantics into OCaml.

But I have another issue, which is basically that I'd like to follow the 
code of the eval function, because there are LANGSXP which I can 
evaluate, and others which fails miserably. From my wrapping of the 
quantmod library:

> # getSymbols "YHOO";;
> Erreur dans as.character(sc[[1]]) : 
>   cannot coerce type 'closure' to vector of type 'character'
> Exception: Failure "OCaml-R error in r_eval_sxp C stub.".

The R error message is rather obscure to me.

That's why I'd like to write some stub code around, say, the promiseArgs 
and the applyClosure functions, so that I could test them with different 
values in OCaml's interactive toplevel.

Unfortunately, or fortunately, (depends on the point of view), I've 
looked at symbols of libR.so (I'm on a Debian box, with Debian R), and I 
fail to see such symbols exported.

How could I get to bind to these functions, without having to compile my 
stuff and R at the same time?

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From guillaume.yziquel at citycable.ch  Tue Nov 24 02:24:03 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Tue, 24 Nov 2009 02:24:03 +0100
Subject: [Rd] R strings, null-terminated or size delimited?
In-Reply-To: <4B0B32D5.10301@citycable.ch>
References: <4B0857DB.8060606@citycable.ch>	<22C4DF66-C380-4922-AAD0-3D274CBDC9E0@r-project.org>	<4B08784C.8040507@citycable.ch>
	<4B0884DC.5010203@stats.uwo.ca> <4B088966.70704@citycable.ch>
	<4B088FC1.1060509@stats.uwo.ca> <4B0B32D5.10301@citycable.ch>
Message-ID: <4B0B35B3.3000705@citycable.ch>

Guillaume Yziquel a ?crit :
>
> Unfortunately, or fortunately, (depends on the point of view), I've 
> looked at symbols of libR.so (I'm on a Debian box, with Debian R), and I 
> fail to see such symbols exported.
> 
> How could I get to bind to these functions, without having to compile my 
> stuff and R at the same time?
> 
> All the best,

Just saw applyClosure,

> 00000000000e0b70 T Rf_applyClosure

but promiseArgs is nowhere to be seen...

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From ggrothendieck at gmail.com  Tue Nov 24 03:57:24 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 23 Nov 2009 21:57:24 -0500
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <20091120180530.C25322832012@mail.pubhealth.ku.dk>
References: <20091120180530.C25322832012@mail.pubhealth.ku.dk>
Message-ID: <971536df0911231857t6bb1eb9cpb08fe1fdf177550e@mail.gmail.com>

I agree it should be changed.  Perhaps there could be a global option
that gives the previous behavior.  The global option would be
deprecated after a while but in the interim it would give package
developers a change to move over and to try it under both definitions.

On Fri, Nov 20, 2009 at 1:05 PM,  <maechler at stat.math.ethz.ch> wrote:
>>>>>> "PD" == Peter Dalgaard <p.dalgaard at biostat.ku.dk>
>>>>>> ? ? on Fri, 20 Nov 2009 09:54:34 +0100 writes:
>
> ? ?PD> mark at celos.net wrote:
> ? ?>> Arrays of POSIXlt dates always return a length of 9. ?This
> ? ?>> is correct (they're really lists of vectors of seconds,
> ? ?>> hours, and so forth), but other methods disguise them as
> ? ?>> flat vectors, giving superficially surprising behaviour:
> ? ?>>
> ? ?>> strings <- paste('2009-1-', 1:31, sep='')
> ? ?>> dates <- strptime(strings, format="%Y-%m-%d")
> ? ?>>
> ? ?>> print(dates)
> ? ?>> # ?[1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" "2009-01-05"
> ? ?>> # ?[6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09" "2009-01-10"
> ? ?>> # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14" "2009-01-15"
> ? ?>> # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19" "2009-01-20"
> ? ?>> # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24" "2009-01-25"
> ? ?>> # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29" "2009-01-30"
> ? ?>> # [31] "2009-01-31"
> ? ?>>
> ? ?>> print(length(dates))
> ? ?>> # [1] 9
> ? ?>>
> ? ?>> str(dates)
> ? ?>> # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" ...
> ? ?>>
> ? ?>> print(dates[20])
> ? ?>> # [1] "2009-01-20"
> ? ?>>
> ? ?>> print(length(dates[20]))
> ? ?>> # [1] 9
> ? ?>>
> ? ?>> I've since realised that POSIXct makes date vectors easier,
> ? ?>> but could we also have something like:
> ? ?>>
> ? ?>> length.POSIXlt <- function(x) { length(x$sec) }
> ? ?>>
> ? ?>> in datetime.R, to avoid breaking functions (like the
> ? ?>> str.POSIXt method) which use length() in this way?
>
>
> ? ?PD> [You need "wishlist" in the title for this sort of stuff.]
>
> ? ?PD> I'd be wary of this. Just the other day we found that identical() broke
> ? ?PD> on some objects because a package had length() redefined as a class
> ? ?PD> method. I.e. the danger is that something wants to use length() with its
> ? ?PD> original low-level interpretation.
>
> Yes, of course.
> and Romain mentioned ?str(). ?Note that we have needed to define
> a "POSIXt" method for str(), partly just *because* of the
> current anomaly:
> As Tony Plate, e.g., has argued, entirely correctly in my view,
> the anomaly is that ? ?length() and "[" ? are not compatible;
> and while I think no R language definition says that they should
> be, I still believe that you need very good reasons for them to
> be incompatible, as they are for POSIXlt.
>
> In the current case, for me the only good reason is backwards
> compatibility.
> My personal taste would be to change it and see what happens.
> I would be willing to clean up after that change within R 'base'
> and all packages I am coauthoring (quite a few), but of course
> there are still a thousand more R packages..
> My strong bet would be that less than 1% would be affected,
> and my point guess for the percentage affected would be
> rather in the order of ?1/1000.
>
> The question is if we (you too!), the R community, are willing to
> bear the load of cleanup, after such a change which would really
> *improve* consistency of that small corner of R.
> For me, as I indicated above, I am willing to bear my share
> (and actually have got it ready for R-devel)
>
> Martin Maechler, ETH Zurich (and R Core Team)
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From guillaume.yziquel at citycable.ch  Tue Nov 24 13:47:12 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Tue, 24 Nov 2009 13:47:12 +0100
Subject: [Rd] GC control and GET_NEW_NODE.
Message-ID: <4B0BD5D0.5000900@citycable.ch>

Hello.

I've been roaming through the R source code and its documentation. When 
it comes to memory management, I'm a bit surprised to see that there are 
no C entry points to something such a GET_NEW_NODE in memory.c.

I mean, I'll need to make R GC and OCaml GC live together, so there will 
be issues which will require access to some sort of control over the GC. 
What is available in this respect? Only R_alloc?

I'm going through all this pain because looking at promiseArgs, it does 
not have C entry points. OK. So I copy-paste it with minor tweaks into 
my own code. It require mkPROMISE. No C entry points. Which requires 
GET_FREE_NODE from memory.c. Which does not have C entry points in libR.so.

This is a pain. I'd rather not have to reimplement the interpreter in 
OCaml. I simply want to bind to hidden symbols.

Suggestions?

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From groemping at bht-berlin.de  Tue Nov 24 14:06:23 2009
From: groemping at bht-berlin.de (Ulrike Groemping)
Date: Tue, 24 Nov 2009 05:06:23 -0800 (PST)
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <4B03F6AB.8080503@stats.uwo.ca>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca>
	<26406675.post@talk.nabble.com> <4B03E4E9.1090209@stats.uwo.ca>
	<4B03E883.1080707@bht-berlin.de> <4B03F01D.4010400@epigenomics.com>
	<4B03F6AB.8080503@stats.uwo.ca>
Message-ID: <26495528.post@talk.nabble.com>



Duncan Murdoch-2 wrote:
> 
> On 11/18/2009 8:01 AM, ml-it-r-devel at epigenomics.com wrote:
>> Ulrike Gr?mping wrote, On 11/18/09 13:28:
>>> Duncan Murdoch schrieb:
>>>> Ulrike Groemping wrote:
>>>>>
>>>>> Duncan Murdoch-2 wrote:
>>>>>  
>>>>>> Ulrike Groemping wrote:
>>>>>>   
>>>>>>> Dear developeRs,
>>>>>>>
>>>>>>> I have not found anything recent about how to link to a vignette or
>>>>>>> other
>>>>>>> documentation from within Rd-files. Is this now possible with the
>>>>>>> new
>>>>>>> help
>>>>>>> system ? For example, I would like to link to the file AlgDesign.pdf
>>>>>>> provided within the doc directory of package AlgDesign.
>>>>>>>
>>>>>>>         
>>>>>> Yes, you can do it with a \url{} macro.  Use a relative link, acting
>>>>>> as though the starting page is located in
>>>>>> /library/AlgDesign/html/*.  So \url{../doc/AlgDesign.pdf}
>>>>>> should work from the same package,
>>>>>> \url{../../AlgDesign/doc/AlgDesign.pdf} from elsewhere.  Please let
>>>>>> me know if this doesn't work, I haven't tested.
>>>>>>
>>>>>> Duncan Murdoch
>>>>>>     
>>>>>
>>>>> Yes, this works, thanks! Is it also possible to display an
>>>>> alternative text
>>>>> instead of the URL itself, like with other links (e.g. show text
>>>>> "Open pdf"
>>>>> that operates the link) ?
>>>>>
>>>>>   
> ...
> Within the dynamic help, you're also restricted in what files you can 
> link to:  they need to be help pages, or files in the doc directory of a 
> package, or a few other special cases.
> 
> Duncan Murdoch
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 

Good that you mention this restriction, this makes me understand my new
problem. With his new version of AlgDesign, Bob Wheeler has made the file
AlgDesign.pdf into a vignette which is no longer located in the doc
directory but now in inst/doc. A link to that file from within my
documentation does not work any longer. Would it be possible to include the
directory inst/doc into the special cases to which linking is permitted ?

Regards,
Ulrike 

-- 
View this message in context: http://old.nabble.com/Link-to-pdf-documentation-from-other-package---tp26405139p26495528.html
Sent from the R devel mailing list archive at Nabble.com.


From ggrothendieck at gmail.com  Tue Nov 24 14:20:08 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 24 Nov 2009 08:20:08 -0500
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <4B03F6AB.8080503@stats.uwo.ca>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca> 
	<26406675.post@talk.nabble.com> <4B03E4E9.1090209@stats.uwo.ca> 
	<4B03E883.1080707@bht-berlin.de> <4B03F01D.4010400@epigenomics.com> 
	<4B03F6AB.8080503@stats.uwo.ca>
Message-ID: <971536df0911240520pe6e52d7qaf6f99e2b3dbde94@mail.gmail.com>

On Wed, Nov 18, 2009 at 8:29 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> you could use the Sweave like macro to compute the path inside the Rd
>> environments
>>
>> \Sexpr{file.path(system.file(package="AlgDesign", "doc"),
>> "AlgDesign.pdf")}
>>
>> described in 'Writing R extensions' 2.11
>>
>> <http://stat.ethz.ch/R-manual/R-patched/doc/manual/R-exts.html#Dynamic-pages>
>
>
> That won't work with dynamic help. (It surprised me, too.) ?You can't link
> to the file system from within the dynamic help pages. ?You can't link to a
> file:// link, which is what you'd need to get that to work.
>
> This is a browser restriction, for security reasons. ?You don't want

I am able to read files from my file system from the browser.  For
example enter this into the Windows command line:

echo some dummy text > dummy.html
echo "<a href=dummy.html>dummy</a>" > test-read-file.html
test-read-file.html

and click on dummy when the contents of test-read-file.html appears in
the browser.

For me, it causes the contents of the dummy.html file to appear in the
browser.  I am on Windows Vista and I tried it in IE8, Firefox 3.5.5
and Chrome 3.0 and it worked in all three.


From murdoch at stats.uwo.ca  Tue Nov 24 16:26:10 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 24 Nov 2009 10:26:10 -0500
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <971536df0911240520pe6e52d7qaf6f99e2b3dbde94@mail.gmail.com>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca>
	<26406675.post@talk.nabble.com> <4B03E4E9.1090209@stats.uwo.ca>
	<4B03E883.1080707@bht-berlin.de> <4B03F01D.4010400@epigenomics.com>
	<4B03F6AB.8080503@stats.uwo.ca>
	<971536df0911240520pe6e52d7qaf6f99e2b3dbde94@mail.gmail.com>
Message-ID: <4B0BFB12.4080306@stats.uwo.ca>

On 11/24/2009 8:20 AM, Gabor Grothendieck wrote:
> On Wed, Nov 18, 2009 at 8:29 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>>> you could use the Sweave like macro to compute the path inside the Rd
>>> environments
>>>
>>> \Sexpr{file.path(system.file(package="AlgDesign", "doc"),
>>> "AlgDesign.pdf")}
>>>
>>> described in 'Writing R extensions' 2.11
>>>
>>> <http://stat.ethz.ch/R-manual/R-patched/doc/manual/R-exts.html#Dynamic-pages>
>>
>>
>> That won't work with dynamic help. (It surprised me, too.)  You can't link
>> to the file system from within the dynamic help pages.  You can't link to a
>> file:// link, which is what you'd need to get that to work.
>>
>> This is a browser restriction, for security reasons.  You don't want
> 
> I am able to read files from my file system from the browser.  For
> example enter this into the Windows command line:
> 
> echo some dummy text > dummy.html
> echo "<a href=dummy.html>dummy</a>" > test-read-file.html
> test-read-file.html
> 
> and click on dummy when the contents of test-read-file.html appears in
> the browser.
> 
> For me, it causes the contents of the dummy.html file to appear in the
> browser.  I am on Windows Vista and I tried it in IE8, Firefox 3.5.5
> and Chrome 3.0 and it worked in all three.

The rule in most browsers is that pages retrieved via http:// links 
can't link to file:// links.  Presumably your local file was already a 
file:// link.

Duncan Murdoch


From murdoch at stats.uwo.ca  Tue Nov 24 16:31:50 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 24 Nov 2009 10:31:50 -0500
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <26495528.post@talk.nabble.com>
References: <26405139.post@talk.nabble.com>
	<4B03DD64.6010206@stats.uwo.ca>	<26406675.post@talk.nabble.com>
	<4B03E4E9.1090209@stats.uwo.ca>	<4B03E883.1080707@bht-berlin.de>
	<4B03F01D.4010400@epigenomics.com>	<4B03F6AB.8080503@stats.uwo.ca>
	<26495528.post@talk.nabble.com>
Message-ID: <4B0BFC66.4020308@stats.uwo.ca>

On 11/24/2009 8:06 AM, Ulrike Groemping wrote:
> 
> Duncan Murdoch-2 wrote:
>> 
>> On 11/18/2009 8:01 AM, ml-it-r-devel at epigenomics.com wrote:
>>> Ulrike Gr?mping wrote, On 11/18/09 13:28:
>>>> Duncan Murdoch schrieb:
>>>>> Ulrike Groemping wrote:
>>>>>>
>>>>>> Duncan Murdoch-2 wrote:
>>>>>>  
>>>>>>> Ulrike Groemping wrote:
>>>>>>>   
>>>>>>>> Dear developeRs,
>>>>>>>>
>>>>>>>> I have not found anything recent about how to link to a vignette or
>>>>>>>> other
>>>>>>>> documentation from within Rd-files. Is this now possible with the
>>>>>>>> new
>>>>>>>> help
>>>>>>>> system ? For example, I would like to link to the file AlgDesign.pdf
>>>>>>>> provided within the doc directory of package AlgDesign.
>>>>>>>>
>>>>>>>>         
>>>>>>> Yes, you can do it with a \url{} macro.  Use a relative link, acting
>>>>>>> as though the starting page is located in
>>>>>>> /library/AlgDesign/html/*.  So \url{../doc/AlgDesign.pdf}
>>>>>>> should work from the same package,
>>>>>>> \url{../../AlgDesign/doc/AlgDesign.pdf} from elsewhere.  Please let
>>>>>>> me know if this doesn't work, I haven't tested.
>>>>>>>
>>>>>>> Duncan Murdoch
>>>>>>>     
>>>>>>
>>>>>> Yes, this works, thanks! Is it also possible to display an
>>>>>> alternative text
>>>>>> instead of the URL itself, like with other links (e.g. show text
>>>>>> "Open pdf"
>>>>>> that operates the link) ?
>>>>>>
>>>>>>   
>> ...
>> Within the dynamic help, you're also restricted in what files you can 
>> link to:  they need to be help pages, or files in the doc directory of a 
>> package, or a few other special cases.
>> 
>> Duncan Murdoch
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 
>> 
> 
> Good that you mention this restriction, this makes me understand my new
> problem. With his new version of AlgDesign, Bob Wheeler has made the file
> AlgDesign.pdf into a vignette which is no longer located in the doc
> directory but now in inst/doc. A link to that file from within my
> documentation does not work any longer. Would it be possible to include the
> directory inst/doc into the special cases to which linking is permitted ?

When you install the package, the contents of inst/doc would normally be 
copied to the doc directory.  Can you expand on why that doesn't happen 
in your case?

Duncan Murdoch


From ggrothendieck at gmail.com  Tue Nov 24 16:38:17 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 24 Nov 2009 10:38:17 -0500
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <4B0BFB12.4080306@stats.uwo.ca>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca> 
	<26406675.post@talk.nabble.com> <4B03E4E9.1090209@stats.uwo.ca> 
	<4B03E883.1080707@bht-berlin.de> <4B03F01D.4010400@epigenomics.com> 
	<4B03F6AB.8080503@stats.uwo.ca>
	<971536df0911240520pe6e52d7qaf6f99e2b3dbde94@mail.gmail.com> 
	<4B0BFB12.4080306@stats.uwo.ca>
Message-ID: <971536df0911240738h6a25d8fdhaf002a02576d812f@mail.gmail.com>

On Tue, Nov 24, 2009 at 10:26 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 11/24/2009 8:20 AM, Gabor Grothendieck wrote:
>>
>> On Wed, Nov 18, 2009 at 8:29 AM, Duncan Murdoch <murdoch at stats.uwo.ca>
>> wrote:
>>>>
>>>> you could use the Sweave like macro to compute the path inside the Rd
>>>> environments
>>>>
>>>> \Sexpr{file.path(system.file(package="AlgDesign", "doc"),
>>>> "AlgDesign.pdf")}
>>>>
>>>> described in 'Writing R extensions' 2.11
>>>>
>>>>
>>>> <http://stat.ethz.ch/R-manual/R-patched/doc/manual/R-exts.html#Dynamic-pages>
>>>
>>>
>>> That won't work with dynamic help. (It surprised me, too.) ?You can't
>>> link
>>> to the file system from within the dynamic help pages. ?You can't link to
>>> a
>>> file:// link, which is what you'd need to get that to work.
>>>
>>> This is a browser restriction, for security reasons. ?You don't want
>>
>> I am able to read files from my file system from the browser. ?For
>> example enter this into the Windows command line:
>>
>> echo some dummy text > dummy.html
>> echo "<a href=dummy.html>dummy</a>" > test-read-file.html
>> test-read-file.html
>>
>> and click on dummy when the contents of test-read-file.html appears in
>> the browser.
>>
>> For me, it causes the contents of the dummy.html file to appear in the
>> browser. ?I am on Windows Vista and I tried it in IE8, Firefox 3.5.5
>> and Chrome 3.0 and it worked in all three.
>
> The rule in most browsers is that pages retrieved via http:// links can't
> link to file:// links. ?Presumably your local file was already a file://
> link.

But the help files are local.  It would seem that this problem would
be addressed if the help files were not displayed using http://


From groemping at bht-berlin.de  Tue Nov 24 16:39:36 2009
From: groemping at bht-berlin.de (groemping at bht-berlin.de)
Date: Tue, 24 Nov 2009 16:39:36 +0100
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <4B0BFC66.4020308@stats.uwo.ca>
References: <26405139.post@talk.nabble.com>
	<4B03DD64.6010206@stats.uwo.ca>	<26406675.post@talk.nabble.com>
	<4B03E4E9.1090209@stats.uwo.ca>	<4B03E883.1080707@bht-berlin.de>
	<4B03F01D.4010400@epigenomics.com>	<4B03F6AB.8080503@stats.uwo.ca>
	<26495528.post@talk.nabble.com> <4B0BFC66.4020308@stats.uwo.ca>
Message-ID: <20091124153741.M20046@beuth-hochschule.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091124/152d95d1/attachment.pl>

From h.wickham at gmail.com  Tue Nov 24 16:58:43 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Tue, 24 Nov 2009 09:58:43 -0600
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <971536df0911240738h6a25d8fdhaf002a02576d812f@mail.gmail.com>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca> 
	<26406675.post@talk.nabble.com> <4B03E4E9.1090209@stats.uwo.ca> 
	<4B03E883.1080707@bht-berlin.de> <4B03F01D.4010400@epigenomics.com> 
	<4B03F6AB.8080503@stats.uwo.ca>
	<971536df0911240520pe6e52d7qaf6f99e2b3dbde94@mail.gmail.com> 
	<4B0BFB12.4080306@stats.uwo.ca>
	<971536df0911240738h6a25d8fdhaf002a02576d812f@mail.gmail.com>
Message-ID: <f8e6ff050911240758i26299c5brf85de83c36cad158@mail.gmail.com>

> But the help files are local. ?It would seem that this problem would
> be addressed if the help files were not displayed using http://

But then they couldn't be dynamic.

One solution which would allow both would be to implement a proxy
within the dynamic help that could point to any file on the file
system.  Of course this is a rather large security risk.

Hadley


-- 
http://had.co.nz/


From steve.kalke at uni-rostock.de  Tue Nov 24 17:53:54 2009
From: steve.kalke at uni-rostock.de (Steve Kalke)
Date: Tue, 24 Nov 2009 17:53:54 +0100
Subject: [Rd] p-generalized normal distribution
Message-ID: <4B0C0FA2.2020104@uni-rostock.de>

Hello,

I would like to know if there is an R-package available for computing the density, distribution function, quantiles and random 
numbers of the p-generalized normal distribution or if somebody is already working on it.

Best regards,
Steve Kalke


From r.turner at auckland.ac.nz  Tue Nov 24 22:40:53 2009
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Wed, 25 Nov 2009 10:40:53 +1300
Subject: [Rd] The "lib" argument in install.packages().
Message-ID: <9D5D085D-E820-44A7-9FA8-66DCC7E9799B@auckland.ac.nz>


I was flummoxed for a long time by errors generated when I did
something like

	install.packages(foo,lib="Rlib")

where ``Rlib'' is my personalized directory of R packages, which
lives in my home directory (from which I started R before issuing
the foregoing install.packages() call.

Recently someone (I forget who, but thanks very much to whomever
it was) pointed out that I needed to specify the complete pathname,
i.e. "/Users/rturner/Rlib" rather than the relative pathname "Rlib"
or "./Rlib" (which I'd also tried).  When the complete pathname is
given the install.packages() call works seamlessly.

Remark:  I have "/Users/rturner/Rlib" as the first entry of  
my .libPaths(),
so just doing install.packages(foo) works --- but this gives a warning
about lib not being specified, which I find irksome.

Questions:

	(1) Why is it that the complete pathname of ``lib'' has to
	be specified?  Cannot the code of install.packages() be
	adjusted to work with relative pathnames?

	(2) If indeed this is not possible, wouldn't it be kind and
	helpful, to us young ( :-) ) and naive persons, to put an
	indication in the help file for install.packages that the
	complete pathname is required?

	cheers,

		Rolf Turner

P. S. > sessionInfo()
R version 2.10.0 (2009-10-26)
i386-apple-darwin8.11.1

locale:
[1] C

attached base packages:
[1] datasets  utils     stats     graphics  grDevices methods   base

other attached packages:
[1] misc_0.0-11    fortunes_1.3-6 MASS_7.3-3


######################################################################
Attention:\ This e-mail message is privileged and confid...{{dropped:9}}


From simon.urbanek at r-project.org  Tue Nov 24 23:31:13 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 24 Nov 2009 17:31:13 -0500
Subject: [Rd] Link to pdf documentation from other package ?
In-Reply-To: <f8e6ff050911240758i26299c5brf85de83c36cad158@mail.gmail.com>
References: <26405139.post@talk.nabble.com> <4B03DD64.6010206@stats.uwo.ca>
	<26406675.post@talk.nabble.com> <4B03E4E9.1090209@stats.uwo.ca>
	<4B03E883.1080707@bht-berlin.de> <4B03F01D.4010400@epigenomics.com>
	<4B03F6AB.8080503@stats.uwo.ca>
	<971536df0911240520pe6e52d7qaf6f99e2b3dbde94@mail.gmail.com>
	<4B0BFB12.4080306@stats.uwo.ca>
	<971536df0911240738h6a25d8fdhaf002a02576d812f@mail.gmail.com>
	<f8e6ff050911240758i26299c5brf85de83c36cad158@mail.gmail.com>
Message-ID: <270276CC-7F86-4F2A-8E3B-B5FD51C07764@r-project.org>


On Nov 24, 2009, at 10:58 , hadley wickham wrote:

>> But the help files are local.  It would seem that this problem would
>> be addressed if the help files were not displayed using http://
>
> But then they couldn't be dynamic.
>
> One solution which would allow both would be to implement a proxy
> within the dynamic help that could point to any file on the file
> system.

That is already implemented but not allowed in unsafe directories for  
security reasons (see previous discussion).

Cheers,
Simon


From robert.a.weller at vanderbilt.edu  Tue Nov 24 23:45:12 2009
From: robert.a.weller at vanderbilt.edu (robert.a.weller at vanderbilt.edu)
Date: Tue, 24 Nov 2009 23:45:12 +0100 (CET)
Subject: [Rd] Broken installer (PR#14083)
Message-ID: <20091124224512.67681282EF55@mail.pubhealth.ku.dk>

Full_Name: Robert A. Weller
Version: current
OS: Mac OS 10.6
Submission from: (NULL) (129.59.140.86)


The gfortran 4.2.4 installer in the Tools section that is supposed to install a
Snow Leopard (10.6) version is actually installing version 4.2.1. I am finding
that the 4.2.1 compiler installed as issues e.g. in interpreting the
-fno-automatic command line switch and also -fdefault-real-8.

We looked directly into the installer and saw that it was actually installing
4.2.1. Of course, gfortran --version confirmed this.

R. Weller
Vanderbilt University


From ross at biostat.ucsf.edu  Wed Nov 25 01:34:25 2009
From: ross at biostat.ucsf.edu (Ross Boylan)
Date: Tue, 24 Nov 2009 16:34:25 -0800
Subject: [Rd] group generics
Message-ID: <1259109265.8792.22.camel@markov.biostat.ucsf.edu>

I have classes A and B, where B contains A.  In the implementation of
the group generic for B I would like to use the corresponding group
generic for A.  Is there a way to do that?

I would also appreciate any comments if what I'm trying to do seems like
the wrong approach.

Here's a stripped down example:
setClass("A",
         representation=representation(xa="numeric")
         )

setMethod("Arith", signature(e1="numeric", e2="A"), function(e1, e2) {
  new("A", ax=e1*e2 at xa)
}
          )

setClass("B",
         representation=representation(xb="numeric"),
         contains=c("A")
         )

setMethod("Arith", signature(e1="numeric", e2="B"), function(e1, e2) {
	# the next line does not work right
  v <- selectMethod("callGeneric", signature=c("numeric", "A"))(e1, e2)
  print(v)
  new("B", v, xb=e1*e2 at xb)
}
)


Results:
> t1 <- new("B", new("A", xa=4), xb=2)
> t1
An object of class ?B?
Slot "xb":
[1] 2

Slot "xa":
[1] 4

> 3*t1
Error in getGeneric(f, !optional) : 
  no generic function found for "callGeneric"

Thanks.
Ross Boylan


From simon.urbanek at r-project.org  Wed Nov 25 02:31:49 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 24 Nov 2009 20:31:49 -0500
Subject: [Rd] Broken installer (PR#14083)
In-Reply-To: <20091124224512.67681282EF55@mail.pubhealth.ku.dk>
References: <20091124224512.67681282EF55@mail.pubhealth.ku.dk>
Message-ID: <2F0BA522-F3A0-49E2-99F5-B85959BA09FB@r-project.org>


On Nov 24, 2009, at 5:45 PM, robert.a.weller at vanderbilt.edu wrote:

> Full_Name: Robert A. Weller
> Version: current
> OS: Mac OS 10.6
> Submission from: (NULL) (129.59.140.86)
>
>
> The gfortran 4.2.4 installer in the Tools section that is supposed  
> to install a
> Snow Leopard (10.6) version is actually installing version 4.2.1. I  
> am finding
> that the 4.2.1 compiler installed as issues e.g. in interpreting the
> -fno-automatic command line switch and also -fdefault-real-8.
>
> We looked directly into the installer and saw that it was actually  
> installing
> 4.2.1. Of course, gfortran --version confirmed this.
>

You are, of course, wrong because what you're looking at is the Apple  
gcc version which is the version of the driver and the cc part (it is  
the gcc-42 tree of Apple). The fortran merged unto the Apple gcc  
branch is indeed 4.2.4.

Cheers,
Simon


From saptarshi.guha at gmail.com  Wed Nov 25 07:03:17 2009
From: saptarshi.guha at gmail.com (Saptarshi Guha)
Date: Wed, 25 Nov 2009 01:03:17 -0500
Subject: [Rd] Question R's parser : - parsing "x=\n 1"
Message-ID: <1e7471d50911242203t4e610d3bkbfdddd3816f3df6b@mail.gmail.com>

Hello
I was reading the source main/src/gram.y and had one question, how does R parse

x =
  1

According the grammar:

prog	:	END_OF_INPUT			{ return 0; }
	|	'\n'				{ return xxvalue(NULL,2,NULL); }
	|	expr_or_assign '\n'			{ return xxvalue($1,3,&@1); }
	|	expr_or_assign ';'			{ return xxvalue($1,4,&@1); }
	|	error	 			{ YYABORT; }
	;


So this should be of the 3rd form.
Also, the expr_or_assign is of the 2nd form in

expr_or_assign  :    expr                       { $$ = $1; }
                |    equal_assign               { $$ = $1; }
                ;

where equal_assign is

equal_assign    :    expr EQ_ASSIGN expr_or_assign              { $$ =
xxbinary($2,$1,$3); }

When the parser sees 'x' and '=' it expects an expr_or_assign and we
know it will receive an expr. However, the expr cannot be a new
line(according to the defn of expr)

So instead of an expr, the parse gets a newline and should fail.
Q: So how does R parse this?
I think it fails with a Parse_Incomplete and keeps on reading till EOF
(or till an expression is complete).
But this is not really an incomplete expression but if my
interpretation is correct a syntax error, yet R parses it.
So i understood something else or R's engine manages to do things differently
Regards
Saptarshi


From simon.urbanek at r-project.org  Wed Nov 25 07:09:51 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 25 Nov 2009 01:09:51 -0500
Subject: [Rd] Question R's parser : - parsing "x=\n 1"
In-Reply-To: <1e7471d50911242203t4e610d3bkbfdddd3816f3df6b@mail.gmail.com>
References: <1e7471d50911242203t4e610d3bkbfdddd3816f3df6b@mail.gmail.com>
Message-ID: <5F1754BC-7BEC-4EC8-9AFE-C399B9F7EEF3@r-project.org>


On Nov 25, 2009, at 1:03 AM, Saptarshi Guha wrote:

> Hello
> I was reading the source main/src/gram.y and had one question, how  
> does R parse
>
> x =
>  1
>
> According the grammar:
>
> prog	:	END_OF_INPUT			{ return 0; }
> 	|	'\n'				{ return xxvalue(NULL,2,NULL); }
> 	|	expr_or_assign '\n'			{ return xxvalue($1,3,&@1); }
> 	|	expr_or_assign ';'			{ return xxvalue($1,4,&@1); }
> 	|	error	 			{ YYABORT; }
> 	;
>
>
> So this should be of the 3rd form.
> Also, the expr_or_assign is of the 2nd form in
>
> expr_or_assign  :    expr                       { $$ = $1; }
>                |    equal_assign               { $$ = $1; }
>                ;
>
> where equal_assign is
>
> equal_assign    :    expr EQ_ASSIGN expr_or_assign              { $$ =
> xxbinary($2,$1,$3); }
>
> When the parser sees 'x' and '=' it expects an expr_or_assign and we
> know it will receive an expr. However, the expr cannot be a new
> line(according to the defn of expr)
>
> So instead of an expr, the parse gets a newline and should fail.
> Q: So how does R parse this?
> I think it fails with a Parse_Incomplete and keeps on reading till EOF
> (or till an expression is complete).
> But this is not really an incomplete expression

It is. "x=" is incomplete -- try it in R and you'll see that you get a  
continuation prompt because it's incomplete:

 > x=
+ 1

Cheers,
S


> but if my
> interpretation is correct a syntax error, yet R parses it.
> So i understood something else or R's engine manages to do things  
> differently
> Regards
> Saptarshi
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From ehlers at ucalgary.ca  Wed Nov 25 08:41:32 2009
From: ehlers at ucalgary.ca (Peter Ehlers)
Date: Wed, 25 Nov 2009 00:41:32 -0700
Subject: [Rd] The "lib" argument in install.packages().
In-Reply-To: <9D5D085D-E820-44A7-9FA8-66DCC7E9799B@auckland.ac.nz>
References: <9D5D085D-E820-44A7-9FA8-66DCC7E9799B@auckland.ac.nz>
Message-ID: <4B0CDFAC.1010400@ucalgary.ca>

Rolf,

If you want to avoid the warning, why not use lib=.libPaths()[1]?
This is not to say that your suggestions aren't useful.

Cheers,
Peter Ehlers

Rolf Turner wrote:
> 
> I was flummoxed for a long time by errors generated when I did
> something like
> 
>     install.packages(foo,lib="Rlib")
> 
> where ``Rlib'' is my personalized directory of R packages, which
> lives in my home directory (from which I started R before issuing
> the foregoing install.packages() call.
> 
> Recently someone (I forget who, but thanks very much to whomever
> it was) pointed out that I needed to specify the complete pathname,
> i.e. "/Users/rturner/Rlib" rather than the relative pathname "Rlib"
> or "./Rlib" (which I'd also tried).  When the complete pathname is
> given the install.packages() call works seamlessly.
> 
> Remark:  I have "/Users/rturner/Rlib" as the first entry of my .libPaths(),
> so just doing install.packages(foo) works --- but this gives a warning
> about lib not being specified, which I find irksome.
> 
> Questions:
> 
>     (1) Why is it that the complete pathname of ``lib'' has to
>     be specified?  Cannot the code of install.packages() be
>     adjusted to work with relative pathnames?
> 
>     (2) If indeed this is not possible, wouldn't it be kind and
>     helpful, to us young ( :-) ) and naive persons, to put an
>     indication in the help file for install.packages that the
>     complete pathname is required?
> 
>     cheers,
> 
>         Rolf Turner
> 
> P. S. > sessionInfo()
> R version 2.10.0 (2009-10-26)
> i386-apple-darwin8.11.1
> 
> locale:
> [1] C
> 
> attached base packages:
> [1] datasets  utils     stats     graphics  grDevices methods   base
> 
> other attached packages:
> [1] misc_0.0-11    fortunes_1.3-6 MASS_7.3-3
> 
> 
> ######################################################################
> Attention:\ This e-mail message is privileged and confid...{{dropped:9}}
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
>


From simhap at genepi.org.au  Wed Nov 25 05:55:03 2009
From: simhap at genepi.org.au (Pamela McCaskie)
Date: Wed, 25 Nov 2009 12:55:03 +0800
Subject: [Rd] Error in parse(outFile)
Message-ID: <F3588CF3CBB3B847802BEF59FF3039DD022F1F5F@cooper.meddent.uwa.edu.au>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091125/c338c4dd/attachment.pl>

From maechler at stat.math.ethz.ch  Wed Nov 25 10:42:02 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 25 Nov 2009 10:42:02 +0100
Subject: [Rd] Method dispatch for function
In-Reply-To: <8b356f880911230824x4b215dalcaf4f81ce336d17c@mail.gmail.com>
References: <8b356f880911180916w3366bcemd6c2afd5b2a0e4d1@mail.gmail.com>
	<8b356f880911230824x4b215dalcaf4f81ce336d17c@mail.gmail.com>
Message-ID: <19212.64490.91811.259509@lynne.math.ethz.ch>

>>>>> "SM" == Stavros Macrakis <macrakis at alum.mit.edu>
>>>>>     on Mon, 23 Nov 2009 11:24:24 -0500 writes:

    SM> (I had sent this to r-help and got no responses -- perhaps r-devel is
    SM> a better list for this question?)

Definitely better, yes.

    SM> How can I determine what S3 method will be called for a particular
    SM> first-argument class?

    SM> I was imagining something like functionDispatch('str','numeric') =>
    SM> utils:::str.default , but I can't find anything like this.

    SM> For that matter, I was wondering if anyone had written a version of
    SM> `methods` which gave their fully qualified names if they were not
    SM> visible, e.g.

    SM> methods('str') =>
    SM> ??? utils:::str.data.frame??? utils:::str.default
    SM> stats:::str.dendrogram??? stats:::str.logLik??? utils:::str.POSIXt

    SM> or

    SM> methods('str') =>
    SM> ???? $utils
    SM> ?????????? "str.data.frame" "str.default"??? "str.POSIXt"
    SM> ???? $stats
    SM> ?????????? "str.dendrogram" "str.logLik"

I'm pretty sure that basically, the current  methods()  function  
"contains" the necessary information internally already
(but beware: methods() is not the simplest of our functions !)

I'd be welcoming back-compatible patches to  methods() {*and*
the corresponding *.Rd  file !} which would provide such
functionality.

I think I would  introduce a third optional argument
(logical or character, specifying the "variants"),
and the result could easily become  back-compatible if the extra information
you want is put as a new column in the "info" attribute (a data
frame) of the current  methods() result.

    SM> Thank you,

You are welcome,
Martin Maechler, ETH Zurich


From murdoch at stats.uwo.ca  Wed Nov 25 13:01:02 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 25 Nov 2009 07:01:02 -0500
Subject: [Rd] Error in parse(outFile)
In-Reply-To: <F3588CF3CBB3B847802BEF59FF3039DD022F1F5F@cooper.meddent.uwa.edu.au>
References: <F3588CF3CBB3B847802BEF59FF3039DD022F1F5F@cooper.meddent.uwa.edu.au>
Message-ID: <4B0D1C7E.2010302@stats.uwo.ca>

Pamela McCaskie wrote:
> Hi all
>
> I have made some changes to a package (SimHap) I wrote a couple of years
> ago, and it has passed R CMD check under windows, but under linux
> (ubuntu jaunty) I am getting the following error:
>
>  
>
> * installing *source* package 'SimHap' ...
>
> ** R
>
> Error in parse(outFile) : 2:1: unexpected $end
>
> ERROR: unable to collate files for package 'SimHap'
>   
>  
>
> Does anyone know what the "outFile" it is referring to here, and why
> this would be happening in a linux build, but not in windows. In both
> cases I'm using R 2.10.0.
>   

When installing a package, R collects all the source into one big file 
and parses it all at once.  The filename is stored internally in a 
variable called "outFile".

I don't know what would be causing this difference between Windows and 
Linux.  If you can send me a copy of the package offline I'll take a 
look later today.

Duncan Murdoch

>  
>
> Cheers
>
> Pam
>
>  
>
> Dr Pamela McCaskie
>
> Assistant Professor
>
> Centre for Genetic Epidemiology and Biostatistics
>
> M409
>
> University of Western Australia
>
>  
>
> Email: pam.mccaskie at uwa.edu.au
>
> Ph: 6488 6741
>
> Fax: 6488 6750
>
>  
>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From mtmorgan at fhcrc.org  Wed Nov 25 15:21:32 2009
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Wed, 25 Nov 2009 06:21:32 -0800
Subject: [Rd] group generics
In-Reply-To: <1259109265.8792.22.camel@markov.biostat.ucsf.edu> (Ross
	Boylan's message of "Tue, 24 Nov 2009 16:34:25 -0800")
References: <1259109265.8792.22.camel@markov.biostat.ucsf.edu>
Message-ID: <6ph3a428z2r.fsf@gopher4.fhcrc.org>

Hi Ross -- 

Ross Boylan <ross at biostat.ucsf.edu> writes:

> I have classes A and B, where B contains A.  In the implementation of
> the group generic for B I would like to use the corresponding group
> generic for A.  Is there a way to do that?
>
> I would also appreciate any comments if what I'm trying to do seems like
> the wrong approach.
>
> Here's a stripped down example:
> setClass("A",
>          representation=representation(xa="numeric")
>          )
>
> setMethod("Arith", signature(e1="numeric", e2="A"), function(e1, e2) {
>   new("A", ax=e1*e2 at xa)

typo, I guess, xa = e1...

> }
>           )
>
> setClass("B",
>          representation=representation(xb="numeric"),
>          contains=c("A")
>          )
>
> setMethod("Arith", signature(e1="numeric", e2="B"), function(e1, e2) {
> 	# the next line does not work right
>   v <- selectMethod("callGeneric", signature=c("numeric", "A"))(e1, e2)

    v <- callGeneric(e1, as(e2, "A"))

or probably

   v <- callNextMethod(e1, e2)

Martin

>   print(v)
>   new("B", v, xb=e1*e2 at xb)
> }
> )
>
>
> Results:
>> t1 <- new("B", new("A", xa=4), xb=2)
>> t1
> An object of class ?B?
> Slot "xb":
> [1] 2
>
> Slot "xa":
> [1] 4
>
>> 3*t1
> Error in getGeneric(f, !optional) : 
>   no generic function found for "callGeneric"
>
> Thanks.
> Ross Boylan
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M1 B861
Phone: (206) 667-2793


From Achim.Zeileis at wu-wien.ac.at  Wed Nov 25 16:21:19 2009
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Wed, 25 Nov 2009 16:21:19 +0100 (CET)
Subject: [Rd] Bug in all.equal() or in the plm package
Message-ID: <alpine.DEB.2.00.0911251607182.8029@paninaro.stat-math.wu-wien.ac.at>

Hi,

sorry for replying so late to this. I somehow missed the original thread 
and was just pointed to it by Yves...

>>> I noticed that there is a (minor) bug either the command all.equal()
>>> or in the "plm" package. I demonstrate this using an example taken
>>> from the documentation of plm():
>>>
>>
>> I'm not sure this is a bug, but I'd call it at least a design flaw. 
>>?The problem is that the length.Formula method in the Formula package 
>> (which plm depends on) returns a vector of length 2. ?Now there's 
>> nothing in R that requires length() to return a scalar, but all.equal 
>> assumes it does, and I'd guess there are lots of other places this 
>> assumption is made.

Well, ?length says:

      The default method currently returns an 'integer' of length 1.
      Since this may change in the future and may differ for other
      methods, programmers should not rely on it.

The problem IMO is that the all.equal() method for "formula" gets called 
by inheritance without assuring that it works. I think we just need to 
supply a suitable all.equal() method for "Formula" objects.

>> Okay, let's call it "design flaw". Given that the "unusual" behaviour
>> of length.Formula() causes this problem, I suggest that the
>> length.Formula() method should be changed. Maybe to something like

> R> a <- as.Formula( y ~ x | z | w )
> # current behaviour:
> R> length(a)
> [1] 1 3
> # suggested behaviour:
> R> length(a)
> [1] 2

This wouldn't be correct either because this is not a list of length 2. A 
"Formula" is a "formula" (of length 2 or 3) with two attributes ("lhs" and 
"rhs"). Thus, currently length() does not reflect the internal structure 
but rather the conceptual structure (of a formula consiting of a LHS and 
RHS, both with a certain length).

Unless there are good reasons to do otherwise, I would keep the length() 
method and just supply a suitable all.equal() method for 
"Formula" objects.

hth,
Z

From ivar.herfindal at bio.ntnu.no  Wed Nov 25 15:30:12 2009
From: ivar.herfindal at bio.ntnu.no (ivar.herfindal at bio.ntnu.no)
Date: Wed, 25 Nov 2009 15:30:12 +0100 (CET)
Subject: [Rd] Possible bug in "unsplit" (PR#14084)
Message-ID: <20091125143012.33BEA2831FFF@mail.pubhealth.ku.dk>

Dear R-bug-people

I have encountered a problem with "unsplit", which I believe may be 
caused by a bug in the function. However, unexpericend with bug-reports 
I apologise if this is barely a user problem rather than a problem 
within R.

The problem occurs if an object is split by several grouping factors 
with levels not occuring in the data, and using drop = TRUE. This may 
appear as a special and hardly relevant case, but I had to split a data 
frame on several factors, do some analyses on each of the subsets in the 
splitted object, and then unsplit it. I had to use drop = TRUE, 
otherwise my analyses would not run. Nevertheless, I found a fix to the 
unsplit, which I suggest is due to that the drop-argument not is 
maintained in the call to unsplit within unsplit. Description and 
example below. The problem was found on R version 2.9.0 and 2.10.0 on 
windows XP.

 > sessionInfo()
R version 2.10.0 (2009-10-26)
i386-pc-mingw32

locale:
[1] LC_COLLATE=Norwegian (Bokm?l)_Norway.1252 LC_CTYPE=Norwegian 
(Bokm?l)_Norway.1252
[3] LC_MONETARY=Norwegian (Bokm?l)_Norway.1252 LC_NUMERIC=C
[5] LC_TIME=Norwegian (Bokm?l)_Norway.1252

attached base packages:
[1] stats graphics grDevices utils datasets methods base

loaded via a namespace (and not attached):
[1] tools_2.10.0
 >
## a reproducable example:
dff <- data.frame(gr1=factor(c(1,1,1,1,1,2,2,2,2,2,2), 
levels=c(1,2,3,4)), gr2=factor(c(1,2,1,2,1,2,1,2,1,2,3), 
levels=c(1,2,3,4)), yy=rnorm(11))
# note that the two groups "gr1" and "gr2" have defined levels which not 
occur in the data.

dff2 <- split(dff, list(dff$gr1, dff$gr2), drop=TRUE)
# I dont want empty objects, so I use drop=TRUE

# now I want to unsplit it, and expect the following to work:
dff3 <- unsplit(dff2, list(dff$gr1, dff$gr2), drop=TRUE)
Error in `row.names<-.data.frame`(`*tmp*`, value = c("1", "11", "3", 
"11", :
duplicate 'row.names' are not allowed
In addition: Warning message:
non-unique values when setting 'row.names': ?1?, ?11?, ?3?, ?5?

### end

Looking at the unsplit function, we find:
 > unsplit
function (value, f, drop = FALSE)
{
len <- length(if (is.list(f)) f[[1L]] else f)
if (is.data.frame(value[[1L]])) {
x <- value[[1L]][rep(NA, len), , drop = FALSE]
rownames(x) <- unsplit(lapply(value, rownames), f)
}
else x <- value[[1L]][rep(NA, len)]
split(x, f, drop = drop) <- value
x
}
<environment: namespace:base>
 >

Note that if "value" is a data.frame, then rownames for the output x is 
made by the call:
rownames(x) <- unsplit(lapply(value, rownames), f)

This call to unsplit ignores the drop-argument, and in the example above 
we get from this call:
 > unsplit(lapply(dff2, rownames), list(dff$gr1, dff$gr2))
[1] "1" "11" "3" "11" "5" "1" "7" "3" "9" "5" "11"

i.e. not unique row names for the output x.

A simple fix is to add drop = drop to that argument, such that the 
updated unsplit (here called unsplit2) is like this:

unsplit2 <- function (value, f, drop = FALSE)
{
len <- length(if (is.list(f)) f[[1L]] else f)
if (is.data.frame(value[[1L]])) {
x <- value[[1L]][rep(NA, len), , drop = FALSE]
rownames(x) <- unsplit(lapply(value, rownames), f, drop=drop) # note new 
"drop=drop"
}
else x <- value[[1L]][rep(NA, len)]
split(x, f, drop = drop) <- value
x
}

This works fine in the example above, and the original levels in gr1 and 
gr2 (i.e. they both have four levels) are maintained in the output data 
frame such that it has similar attributes as the orignial dff:

 > dff3 <- unsplit2(dff2, list(dff$gr1, dff$gr2), drop=TRUE)
 > dff3
gr1 gr2 yy
1 1 1 2.13749771
2 1 2 -0.02166458
3 1 1 0.45960452
4 1 2 2.72074958
5 1 1 -0.17536995
6 2 2 -0.08909495
7 2 1 0.94260802
8 2 2 -0.09979505
9 2 1 1.22240834
10 2 2 -0.81710781
11 2 3 0.76071130
 >

I must admit that I have not the possiblity to check if such a quick-fix 
conflicts with other use of unsplit or on other types of data, but I 
cannot see that it should be a problem.

Sincerely

Ivar Herfindal
--------------------------------
Centre for Conservation Biology
Norwegian University for Science and Technology
N-7491 Trondheim, Norway

email: ivar.herfindal at bio.ntnu.no


From jorismeys at gmail.com  Wed Nov 25 17:15:10 2009
From: jorismeys at gmail.com (jorismeys at gmail.com)
Date: Wed, 25 Nov 2009 17:15:10 +0100 (CET)
Subject: [Rd] heatmap.2 gives wrong colorkey with unequally spaced breaks
	(PR#14085)
Message-ID: <20091125161510.2EBC12831FFF@mail.pubhealth.ku.dk>

Full_Name: Joris FA Meys
Version: 2.10.0
OS: Windows XP
Submission from: (NULL) (157.193.194.73)


I use the enhanced heatmap function in gplots : heatmap.2

For the presentation of the color key, the code is not 100% adequate. More
specifically, in case you define unequally spaced breaks :

1) the keyplot ignores the minimum and maximum of these breaks.

Code changed in line 323 and 324 to :
            min.raw <- min(c(x,breaks), na.rm = TRUE)
            max.raw <- max(c(x,breaks), na.rm = TRUE)

2) the keyplot gives the histogram with the correct breaks, but the colors
remain equally spaced. This is due to the lack of a specification for x in the
call to the image() function. 

Code changed in line 327-328 to :
        image(x=breaks,z = matrix(z, ncol = 1), col = col, breaks = tmpbreaks,
            xaxt = "n", yaxt = "n")

Line numbers obtained by copy-pasting code from console into Tinn-R. The changed
code is how I adapted the function in order to get the desired result. Don't
know if it's error-proof, but it works for me.

Cheers
Joris


From justinmcgrath at stanford.edu  Wed Nov 25 21:00:00 2009
From: justinmcgrath at stanford.edu (Justin McGrath)
Date: Wed, 25 Nov 2009 12:00:00 -0800
Subject: [Rd] Question about image() behavior
Message-ID: <e61a0c7c0911251200k2e0ff7a7k3bb854068f124949@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091125/8c03a257/attachment.pl>

From murdoch at stats.uwo.ca  Wed Nov 25 21:57:19 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 25 Nov 2009 15:57:19 -0500
Subject: [Rd] Question about image() behavior
In-Reply-To: <e61a0c7c0911251200k2e0ff7a7k3bb854068f124949@mail.gmail.com>
References: <e61a0c7c0911251200k2e0ff7a7k3bb854068f124949@mail.gmail.com>
Message-ID: <4B0D9A2F.7070703@stats.uwo.ca>

On 25/11/2009 3:00 PM, Justin McGrath wrote:
> If the x vector has a gap, then image() fills in those spots using the z
> value of the nearest x value. I had expected it to just leave those spaces
> blank though.
>
> For example
> x=c(1:5,100:105)
> y=c(1:10)
> z=matrix(rnorm(100),10,10)
> image(x,y,z)
>
> I expected that to produce a figure with a wide vertical gap between x=5 and
> x=100.
>
> Is this the correct behavior? Could there be an option added to choose
> between these two behaviors? Either way, it should be stated in the
> documentation.


It's doing what is documented.  Giving uneven spacing to x values just 
says that the rectangles being coloured by the z values are not square.

If you want to leave blanks, then put in NA values for z.

For example,

x <- c(1:6, 100:105)
y <- 1:10
z <- matrix(rnorm(110), 11, 10)
z[6,] <- NA
image(x,y,z)

Duncan Murdoch


From guillaume.yziquel at citycable.ch  Thu Nov 26 02:27:08 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Thu, 26 Nov 2009 02:27:08 +0100
Subject: [Rd] Symbols, install, and eval.
Message-ID: <4B0DD96C.9060104@citycable.ch>

Hello.

I've got two values which are calls (i.e. LANGSXPs). The first one, x, 
is generated through the parser of gram.c. The second one, z, is built 
manually, by retrieving the symbols of "str" and of "lm" via the install 
function.

The structure of x and y are shown at the bottom of this email.

Evaluating x succeeds:

> # R.Raw.eval_langsxp x;;
> function (formula, data, subset, weights, na.action, method = "qr", 
>     model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, 
>     contrasts = NULL, offset, ...)  
> - : R.Raw.sexp = <abstr>
> # ml_eval x;;
> function (formula, data, subset, weights, na.action, method = "qr", 
>     model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, 
>     contrasts = NULL, offset, ...)  
> - : R.Raw.sexp = <abstr>

While evaluating z fails. (ml_eval is a an OCaml function mimicking the 
eval function of eval.c).

> # R.Raw.eval_langsxp z;;
> Erreur dans function (object, ...)  : 
>   function g?n?rique incorrecte dans 'UseMethod'
> Exception: Failure "OCaml-R error in r_eval_sxp C stub.".
> # ml_eval z;;
> Erreur : impossible de trouver la fonction "???"
> /bin/sh: line 1: 15884 Erreur de segmentation  ocaml

So I was wondering if someone could give some advice on what I am doing 
wrong when building z. Here's the structure of x (parser-generated from 
R code/string) and of z (manually constructed with 'install').

> # show x;;
> - : R.Internal.Pretty.t = CALL (ARG "str", [(NULL, ARG "lm")])
> # show z;;
> - : R.Internal.Pretty.t =
> CALL
>  (PROMISE
>    {value =
>      CLOSURE {formals = LIST [(ARG "object", PLACE); (ARG "...", PLACE)]};
>     expr =
>      CALL (SYMBOL (Some ("lazyLoadDBfetch", BUILTIN)),
>       [(NULL, INT [166954; 101]); (NULL, ARG "datafile");
>        (NULL, ARG "compressed"); (NULL, ARG "envhook")]);
>     prom_env = NULL},
>  [(NULL,
>    PROMISE
>     {value =
>       CLOSURE
>        {formals =
>          LIST
>           [(ARG "formula", PLACE); (ARG "data", PLACE); (Unknown, PLACE);
>            (ARG "weights", PLACE); (ARG "na.action", PLACE);
>            (ARG "method", STRINGS ["qr"]); (ARG "model", Unknown);
>            (ARG "x", Unknown); (ARG "y", Unknown); (Unknown, Unknown);
>            (ARG "singular.ok", Unknown); (ARG "contrasts", NULL);
>            (ARG "offset", PLACE); (ARG "...", PLACE)]};
>      expr =
>       CALL (SYMBOL (Some ("lazyLoadDBfetch", BUILTIN)),
>        [(NULL, INT [200005; 1139]); (NULL, ARG "datafile");
>         (NULL, ARG "compressed"); (NULL, ARG "envhook")]);
>      prom_env = NULL})])
> # ml_eval x;;
> function (formula, data, subset, weights, na.action, method = "qr", 
>     model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, 
>     contrasts = NULL, offset, ...)  
> - : R.Raw.sexp = <abstr>
> # ml_eval z;;
> Erreur : impossible de trouver la fonction "??J"
> /bin/sh: line 1: 26563 Erreur de segmentation  ocaml
> make: *** [test-ocaml-r] Erreur 139

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From ripley at stats.ox.ac.uk  Thu Nov 26 09:15:09 2009
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Thu, 26 Nov 2009 09:15:09 +0100 (CET)
Subject: [Rd] Detaching one package can remove the S4 methods of another
	(PR#14087)
Message-ID: <20091126081509.DEA922830318@mail.pubhealth.ku.dk>

Putting on public record

library(spdep)
showMethods("[")
detach("package:spdep", unload = TRUE)
detach("package:Matrix", unload=TRUE)
showMethods("[") # sp methods still there
detach("package:spam", unload = TRUE)
showMethods("[") # sp methods have gone

This is one of several examples found by package testing in R-devel 
(this one from BayesX) with _R_CHECK_UNLOAD_NAMESPACES_ set.

Session info after the first command:
R version 2.10.0 Patched (2009-11-23 r50545)
x86_64-unknown-linux-gnu

locale:
  [1] LC_CTYPE=en_GB.utf8       LC_NUMERIC=C
  [3] LC_TIME=en_GB.utf8        LC_COLLATE=C
  [5] LC_MONETARY=C             LC_MESSAGES=en_GB.utf8
  [7] LC_PAPER=en_GB.utf8       LC_NAME=C
  [9] LC_ADDRESS=C              LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_GB.utf8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
  [1] spdep_0.4-52       nlme_3.1-96        coda_0.13-4        MASS_7.3-4
  [5] Matrix_0.999375-32 lattice_0.17-26    spam_0.15-5        boot_1.2-41
  [9] maptools_0.7-26    foreign_0.8-38     sp_0.9-47          deldir_0.0-10

loaded via a namespace (and not attached):
[1] grid_2.10.0

Happens also in 2.10.0 and
R version 2.11.0 Under development (unstable) (2009-11-25 r50568)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From b.rowlingson at lancaster.ac.uk  Thu Nov 26 13:09:49 2009
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Thu, 26 Nov 2009 12:09:49 +0000
Subject: [Rd] "bug report" field in DESCRIPTION file?
Message-ID: <d8ad40b50911260409t4b0531fftc4486d51677998f8@mail.gmail.com>

A lot of R packages are now effectively maintained by several people
and so use sites like R-forge or google code for development. This
means the best way to report bugs or problems with these packages is
via the development site's bug tracking rather than emailing the
maintainer. Could we agree on a field in DESCRIPTION explicitly for
bug reports?

 The DESCRIPTION file has an optional URL field which generally sends
the user to the 'home page' of the package. Whether or not there is a
bug tracker somewhere there isn't made explicit, so I don't think
overloading URL for a bug report address is a good idea. The Hmisc
package mentions its bug tracker in the Description field and also has
it in the URL field with three other URLs. This tells me a bug report
field might be a better idea.

 I'd prefer an optional field called 'BugReports:', which would be a
URL, and this could either be the http: address of a web site bug
tracker or a mailto: URL (of a real live human or a mail-based
tracker).

 If there's agreement on this then a further step may be to write a
'bugreport(package)' function that would first look for a BugReport
field, then the URL or maintainer fields to give the poor confused
user some advice on what to do. Then when someone emails R-dev saying
they think there's a bug in package foo, we can say "Have you read the
output of 'bugreport("foo")'?" which might be more helpful than saying
'bugs with 'foo' should be reported to the maintainer'.

 Just an idea for a rainy morning...

Barry


From murdoch at stats.uwo.ca  Thu Nov 26 14:39:27 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 26 Nov 2009 08:39:27 -0500
Subject: [Rd] "bug report" field in DESCRIPTION file?
In-Reply-To: <d8ad40b50911260409t4b0531fftc4486d51677998f8@mail.gmail.com>
References: <d8ad40b50911260409t4b0531fftc4486d51677998f8@mail.gmail.com>
Message-ID: <4B0E850F.3090105@stats.uwo.ca>

On 26/11/2009 7:09 AM, Barry Rowlingson wrote:
> A lot of R packages are now effectively maintained by several people
> and so use sites like R-forge or google code for development. This
> means the best way to report bugs or problems with these packages is
> via the development site's bug tracking rather than emailing the
> maintainer. Could we agree on a field in DESCRIPTION explicitly for
> bug reports?
>
>  The DESCRIPTION file has an optional URL field which generally sends
> the user to the 'home page' of the package. Whether or not there is a
> bug tracker somewhere there isn't made explicit, so I don't think
> overloading URL for a bug report address is a good idea. The Hmisc
> package mentions its bug tracker in the Description field and also has
> it in the URL field with three other URLs. This tells me a bug report
> field might be a better idea.
>
>  I'd prefer an optional field called 'BugReports:', which would be a
> URL, and this could either be the http: address of a web site bug
> tracker or a mailto: URL (of a real live human or a mail-based
> tracker).
>
>  If there's agreement on this then a further step may be to write a
> 'bugreport(package)' function that would first look for a BugReport
> field, then the URL or maintainer fields to give the poor confused
> user some advice on what to do. Then when someone emails R-dev saying
> they think there's a bug in package foo, we can say "Have you read the
> output of 'bugreport("foo")'?" which might be more helpful than saying
> 'bugs with 'foo' should be reported to the maintainer'.
>   

This sounds like a good idea, though I would add a "package" parameter 
to the bug.report() function, rather than creating a new function.

Does the logic below sound right for bug.report() with the package 
specified?

If there's a BugReports field, bug.report() calls browseURL() on that page.

If not, it does more or less what it does now, but
 - it defaults "address" to the package maintainer. 
 - it adds a line in the intro to the message pointing to the URL field 
if there was one.

Duncan Murdoch


>  Just an idea for a rainy morning...
>
> Barry
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From maechler at stat.math.ethz.ch  Thu Nov 26 15:20:37 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 26 Nov 2009 15:20:37 +0100
Subject: [Rd] "bug report" field in DESCRIPTION file?
In-Reply-To: <4B0E850F.3090105@stats.uwo.ca>
References: <d8ad40b50911260409t4b0531fftc4486d51677998f8@mail.gmail.com>
	<4B0E850F.3090105@stats.uwo.ca>
Message-ID: <19214.36533.527512.416242@lynne.math.ethz.ch>

>>>>> "DM" == Duncan Murdoch <murdoch at stats.uwo.ca>
>>>>>     on Thu, 26 Nov 2009 08:39:27 -0500 writes:

    DM> On 26/11/2009 7:09 AM, Barry Rowlingson wrote:
    >> A lot of R packages are now effectively maintained by several people
    >> and so use sites like R-forge or google code for development. This
    >> means the best way to report bugs or problems with these packages is
    >> via the development site's bug tracking rather than emailing the
    >> maintainer. Could we agree on a field in DESCRIPTION explicitly for
    >> bug reports?
    >> 
    >> The DESCRIPTION file has an optional URL field which generally sends
    >> the user to the 'home page' of the package. Whether or not there is a
    >> bug tracker somewhere there isn't made explicit, so I don't think
    >> overloading URL for a bug report address is a good idea. The Hmisc
    >> package mentions its bug tracker in the Description field and also has
    >> it in the URL field with three other URLs. This tells me a bug report
    >> field might be a better idea.
    >> 
    >> I'd prefer an optional field called 'BugReports:', which would be a
    >> URL, and this could either be the http: address of a web site bug
    >> tracker or a mailto: URL (of a real live human or a mail-based
    >> tracker).
    >> 
    >> If there's agreement on this then a further step may be to write a
    >> 'bugreport(package)' function that would first look for a BugReport
    >> field, then the URL or maintainer fields to give the poor confused
    >> user some advice on what to do. Then when someone emails R-dev saying
    >> they think there's a bug in package foo, we can say "Have you read the
    >> output of 'bugreport("foo")'?" which might be more helpful than saying
    >> 'bugs with 'foo' should be reported to the maintainer'.
    >> 

    DM> This sounds like a good idea, though I would add a "package" parameter 
    DM> to the bug.report() function, rather than creating a new function.

I agree (good idea;  use  bug.report() with arguments).

    DM> Does the logic below sound right for bug.report() with the package 
    DM> specified?

    DM> If there's a BugReports field, bug.report() calls browseURL() on that page.

I'm not sure if that's easy:  One main reason for bug.report() is
to auto-collect the necessary info and put it into the body of
an e-mail message.  So, I think the above only "works" when the
BugReports fields is a 'mailto:' URL, but not, e.g., when it
points to an R-forge bug tracking web page form.

    DM> If not, it does more or less what it does now, but
    DM> - it defaults "address" to the package maintainer. 
    DM> - it adds a line in the intro to the message pointing to the URL field 
    DM> if there was one.

that sounds good.
Martin


    DM> Duncan Murdoch


    >> Just an idea for a rainy morning...
    >> 
    >> Barry
    >> 
    >> ______________________________________________
    >> R-devel at r-project.org mailing list
    >> https://stat.ethz.ch/mailman/listinfo/r-devel
    >> 

    DM> ______________________________________________
    DM> R-devel at r-project.org mailing list
    DM> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Thu Nov 26 16:00:03 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 26 Nov 2009 10:00:03 -0500
Subject: [Rd] "bug report" field in DESCRIPTION file?
In-Reply-To: <19214.36533.527512.416242@lynne.math.ethz.ch>
References: <d8ad40b50911260409t4b0531fftc4486d51677998f8@mail.gmail.com>	<4B0E850F.3090105@stats.uwo.ca>
	<19214.36533.527512.416242@lynne.math.ethz.ch>
Message-ID: <4B0E97F3.7080403@stats.uwo.ca>

On 26/11/2009 9:20 AM, Martin Maechler wrote:
> >>>>> "DM" == Duncan Murdoch <murdoch at stats.uwo.ca>
> >>>>>     on Thu, 26 Nov 2009 08:39:27 -0500 writes:
>
>     DM> On 26/11/2009 7:09 AM, Barry Rowlingson wrote:
>     >> A lot of R packages are now effectively maintained by several people
>     >> and so use sites like R-forge or google code for development. This
>     >> means the best way to report bugs or problems with these packages is
>     >> via the development site's bug tracking rather than emailing the
>     >> maintainer. Could we agree on a field in DESCRIPTION explicitly for
>     >> bug reports?
>     >> 
>     >> The DESCRIPTION file has an optional URL field which generally sends
>     >> the user to the 'home page' of the package. Whether or not there is a
>     >> bug tracker somewhere there isn't made explicit, so I don't think
>     >> overloading URL for a bug report address is a good idea. The Hmisc
>     >> package mentions its bug tracker in the Description field and also has
>     >> it in the URL field with three other URLs. This tells me a bug report
>     >> field might be a better idea.
>     >> 
>     >> I'd prefer an optional field called 'BugReports:', which would be a
>     >> URL, and this could either be the http: address of a web site bug
>     >> tracker or a mailto: URL (of a real live human or a mail-based
>     >> tracker).
>     >> 
>     >> If there's agreement on this then a further step may be to write a
>     >> 'bugreport(package)' function that would first look for a BugReport
>     >> field, then the URL or maintainer fields to give the poor confused
>     >> user some advice on what to do. Then when someone emails R-dev saying
>     >> they think there's a bug in package foo, we can say "Have you read the
>     >> output of 'bugreport("foo")'?" which might be more helpful than saying
>     >> 'bugs with 'foo' should be reported to the maintainer'.
>     >> 
>
>     DM> This sounds like a good idea, though I would add a "package" parameter 
>     DM> to the bug.report() function, rather than creating a new function.
>
> I agree (good idea;  use  bug.report() with arguments).
>
>     DM> Does the logic below sound right for bug.report() with the package 
>     DM> specified?
>
>     DM> If there's a BugReports field, bug.report() calls browseURL() on that page.
>
> I'm not sure if that's easy:  One main reason for bug.report() is
> to auto-collect the necessary info and put it into the body of
> an e-mail message.  So, I think the above only "works" when the
> BugReports fields is a 'mailto:' URL, but not, e.g., when it
> points to an R-forge bug tracking web page form.
>   

The idea was that we would not use the auto-collection at all if there 
was a BugReports field, because the package author(s) had indicated by 
it that they didn't want emailed bug reports.

Duncan Murdoch
>     DM> If not, it does more or less what it does now, but
>     DM> - it defaults "address" to the package maintainer. 
>     DM> - it adds a line in the intro to the message pointing to the URL field 
>     DM> if there was one.
>
> that sounds good.
> Martin
>
>
>     DM> Duncan Murdoch
>
>
>     >> Just an idea for a rainy morning...
>     >> 
>     >> Barry
>     >> 
>     >> ______________________________________________
>     >> R-devel at r-project.org mailing list
>     >> https://stat.ethz.ch/mailman/listinfo/r-devel
>     >> 
>
>     DM> ______________________________________________
>     DM> R-devel at r-project.org mailing list
>     DM> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From b.rowlingson at lancaster.ac.uk  Thu Nov 26 18:38:14 2009
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Thu, 26 Nov 2009 17:38:14 +0000
Subject: [Rd] "bug report" field in DESCRIPTION file?
In-Reply-To: <4B0E850F.3090105@stats.uwo.ca>
References: <d8ad40b50911260409t4b0531fftc4486d51677998f8@mail.gmail.com>
	<4B0E850F.3090105@stats.uwo.ca>
Message-ID: <d8ad40b50911260938g4c499f09y2d610ab6bd38163b@mail.gmail.com>

On Thu, Nov 26, 2009 at 1:39 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:

> This sounds like a good idea, though I would add a "package" parameter to
> the bug.report() function, rather than creating a new function.

I'm sure when I did help.search("bug") and help.search("report") this
morning I didn't see this function! Otherwise I would have suggested
that. bug.report(package="bazbrain"). Oh dear, no maintainer.

> Does the logic below sound right for bug.report() with the package
> specified?
>
> If there's a BugReports field, bug.report() calls browseURL() on that page.
>
> If not, it does more or less what it does now, but
> - it defaults "address" to the package maintainer. - it adds a line in the
> intro to the message pointing to the URL field if there was one.

 Martin Maechler's reservation about not being able to fill in the R
details for bug reports on trackers isn't too much of a problem, since
the bug tracker form could have fields for R version, session info
etc, or at least a big warning saying "Please include the following
info" (inside a <blink> tag).

 So how about if bug.report(package="foo") has a BugReports: field,
you print out 'The following information may be useful to your bug
report' and dump the relevant things ready for cut n paste into a bug
tracker, then browseURL().

Barry


From kjetilbrinchmannhalvorsen at gmail.com  Thu Nov 26 21:22:24 2009
From: kjetilbrinchmannhalvorsen at gmail.com (Kjetil Halvorsen)
Date: Thu, 26 Nov 2009 17:22:24 -0300
Subject: [Rd] p-generalized normal distribution
In-Reply-To: <4B0C0FA2.2020104@uni-rostock.de>
References: <4B0C0FA2.2020104@uni-rostock.de>
Message-ID: <556e90a80911261222s192bcd36m378f7da2e5e56bde@mail.gmail.com>

There is a CRAN Task View for probability Distributions. take a look there!

Kjetil

On Tue, Nov 24, 2009 at 1:53 PM, Steve Kalke <steve.kalke at uni-rostock.de> wrote:
> Hello,
>
> I would like to know if there is an R-package available for computing the
> density, distribution function, quantiles and random numbers of the
> p-generalized normal distribution or if somebody is already working on it.
>
> Best regards,
> Steve Kalke
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From dutangc at gmail.com  Thu Nov 26 22:01:26 2009
From: dutangc at gmail.com (Christophe Dutang)
Date: Thu, 26 Nov 2009 22:01:26 +0100
Subject: [Rd] p-generalized normal distribution
In-Reply-To: <556e90a80911261222s192bcd36m378f7da2e5e56bde@mail.gmail.com>
References: <4B0C0FA2.2020104@uni-rostock.de>
	<556e90a80911261222s192bcd36m378f7da2e5e56bde@mail.gmail.com>
Message-ID: <C92F4F8F-BDA5-49BC-BFA0-C40961C43F13@gmail.com>

He already asked... And I don t know any pkg implementing this  
distribution...

iPhone.fan

Le 26 nov. 2009 ? 21:22, Kjetil Halvorsen <kjetilbrinchmannhalvorsen at gmail.co 
m> a ?crit :

> There is a CRAN Task View for probability Distributions. take a look  
> there!
>
> Kjetil
>
> On Tue, Nov 24, 2009 at 1:53 PM, Steve Kalke <steve.kalke at uni-rostock.de 
> > wrote:
>> Hello,
>>
>> I would like to know if there is an R-package available for  
>> computing the
>> density, distribution function, quantiles and random numbers of the
>> p-generalized normal distribution or if somebody is already working  
>> on it.
>>
>> Best regards,
>> Steve Kalke
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From hpbenton at scripps.edu  Thu Nov 26 19:16:28 2009
From: hpbenton at scripps.edu (Homer Paul Benton)
Date: Thu, 26 Nov 2009 10:16:28 -0800
Subject: [Rd] compiling on snow leopard: Cocoa errors?!?!?!
Message-ID: <DEBDCAAC-5571-4B11-A787-8CAEA2171C7B@scripps.edu>

Dear R-gurus,

I'm trying to compile R on my new mac. It's snow leopard. So far I've seemed to be doing pretty well. I've looked at 

http://cran.r-project.org/bin/macosx/tools/

http://r.research.att.com/exp/

http://r.research.att.com/building.html

http://r.research.att.com/tools/

All of which have been very helpful. Looking at the threads I've got around some X11 issues that stopped the configure script working but now when I excute make I get the error below. Any ideas?

Thanks in advance,

Paul

R is now configured for i386-apple-darwin10.2.0

  Source directory:          .
  Installation directory:    /Library/Frameworks

  C compiler:                gcc -arch x86_64 -std=gnu99  -g -O2
  Fortran 77 compiler:       gfortran -arch x86_64  -g -O2

  C++ compiler:              g++ -arch x86_64  -g -O2
  Fortran 90/95 compiler:    gfortran -arch x86_64 -g -O2
  Obj-C compiler:	     gcc -arch x86_64 -g -O2

  Interfaces supported:      X11, aqua, tcltk
  External libraries:        readline, BLAS(vecLib), LAPACK(in blas), ICU
  Additional capabilities:   NLS
  Options enabled:           framework, R profiling, Java

  Recommended packages:      yes

sh-3.2# echo "./configure SHELL='/bin/bash' r_arch=x86_64 CC="gcc -arch x86_64 -std=gnu99" CXX="g++ -arch x86_64" OBJC="gcc -arch x86_64" F77="gfortran -arch x86_64" FC="gfortran -arch x86_64" --with-system-zlib --with-blas='-framework vecLib' --with-lapack --x-includes='-I/usr/X11/include/X11' --x-libraries='-L/usr/X11/lib' X_LIBS=-L/usr/X11/lib" > ~/R/compileR.txt


sh-3.2# make
make[1]: Nothing to be done for `R'.
make[1]: Nothing to be done for `R'.
make[2]: Nothing to be done for `R'.
.....
..... etc
building package 'tools'
all.R is unchanged
make[6]: `Makedeps' is up to date.
../../../../library/tools/libs/x86_64/tools.so is unchanged
building package 'utils'
all.R is unchanged
make[4]: Nothing to be done for `iconvlist'.
building package 'grDevices'
all.R is unchanged
../../../library/grDevices/R/grDevices is unchanged
gcc -arch x86_64 -I../../../../include -I../../../../include/x86_64 -I../../../include -I../../../../src/include -DHAVE_CONFIG_H -I/usr/local/include   -fPIC  -g -O2 -c qdCocoa.m -o qdCocoa.o
In file included from /System/Library/Frameworks/Foundation.framework/Headers/NSCharacterSet.h:8,
                 from /System/Library/Frameworks/Foundation.framework/Headers/Foundation.h:15,
                 from /System/Library/Frameworks/Cocoa.framework/Headers/Cocoa.h:12,
                 from qdCocoa.h:39,
                 from qdCocoa.m:24:
/System/Library/Frameworks/Foundation.framework/Headers/NSString.h:278: error: format string argument follows the args to be formatted
/System/Library/Frameworks/Foundation.framework/Headers/NSString.h:280: error: format string argument follows the args to be formatted
In file included from /System/Library/Frameworks/Foundation.framework/Headers/Foundation.h:25,
                 from /System/Library/Frameworks/Cocoa.framework/Headers/Cocoa.h:12,
                 from qdCocoa.h:39,
                 from qdCocoa.m:24:
/System/Library/Frameworks/Foundation.framework/Headers/NSException.h:62: error: format string argument follows the args to be formatted
qdCocoa.m: In function '+[QuartzCocoaView quartzWindowWithRect:andInfo:]':
qdCocoa.m:90: warning: class 'QuartzCocoaView' does not implement the 'NSWindowDelegate' protocol
make[5]: *** [qdCocoa.o] Error 1
make[4]: *** [mksrc] Error 1
make[3]: *** [all] Error 2
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1

From simon.urbanek at r-project.org  Fri Nov 27 01:54:28 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 26 Nov 2009 19:54:28 -0500
Subject: [Rd] compiling on snow leopard: Cocoa errors?!?!?!
In-Reply-To: <DEBDCAAC-5571-4B11-A787-8CAEA2171C7B@scripps.edu>
References: <DEBDCAAC-5571-4B11-A787-8CAEA2171C7B@scripps.edu>
Message-ID: <7434A156-7BF1-4022-811C-E2184A5D79B7@r-project.org>

Paul,

at a first glance that seems like an issue in your system to me since  
the errors come from system headers and not from our code. Which  
compilers are you using and which Xcode version?

Cheers,
Simon


On Nov 26, 2009, at 1:16 PM, Homer Paul Benton wrote:

> Dear R-gurus,
>
> I'm trying to compile R on my new mac. It's snow leopard. So far  
> I've seemed to be doing pretty well. I've looked at
>
> http://cran.r-project.org/bin/macosx/tools/
>
> http://r.research.att.com/exp/
>
> http://r.research.att.com/building.html
>
> http://r.research.att.com/tools/
>
> All of which have been very helpful. Looking at the threads I've got  
> around some X11 issues that stopped the configure script working but  
> now when I excute make I get the error below. Any ideas?
>
> Thanks in advance,
>
> Paul
>
> R is now configured for i386-apple-darwin10.2.0
>
> Source directory:          .
> Installation directory:    /Library/Frameworks
>
> C compiler:                gcc -arch x86_64 -std=gnu99  -g -O2
> Fortran 77 compiler:       gfortran -arch x86_64  -g -O2
>
> C++ compiler:              g++ -arch x86_64  -g -O2
> Fortran 90/95 compiler:    gfortran -arch x86_64 -g -O2
> Obj-C compiler:	     gcc -arch x86_64 -g -O2
>
> Interfaces supported:      X11, aqua, tcltk
> External libraries:        readline, BLAS(vecLib), LAPACK(in blas),  
> ICU
> Additional capabilities:   NLS
> Options enabled:           framework, R profiling, Java
>
> Recommended packages:      yes
>
> sh-3.2# echo "./configure SHELL='/bin/bash' r_arch=x86_64 CC="gcc - 
> arch x86_64 -std=gnu99" CXX="g++ -arch x86_64" OBJC="gcc -arch  
> x86_64" F77="gfortran -arch x86_64" FC="gfortran -arch x86_64" -- 
> with-system-zlib --with-blas='-framework vecLib' --with-lapack --x- 
> includes='-I/usr/X11/include/X11' --x-libraries='-L/usr/X11/lib'  
> X_LIBS=-L/usr/X11/lib" > ~/R/compileR.txt
>
>
> sh-3.2# make
> make[1]: Nothing to be done for `R'.
> make[1]: Nothing to be done for `R'.
> make[2]: Nothing to be done for `R'.
> .....
> ..... etc
> building package 'tools'
> all.R is unchanged
> make[6]: `Makedeps' is up to date.
> ../../../../library/tools/libs/x86_64/tools.so is unchanged
> building package 'utils'
> all.R is unchanged
> make[4]: Nothing to be done for `iconvlist'.
> building package 'grDevices'
> all.R is unchanged
> ../../../library/grDevices/R/grDevices is unchanged
> gcc -arch x86_64 -I../../../../include -I../../../../include/x86_64 - 
> I../../../include -I../../../../src/include -DHAVE_CONFIG_H -I/usr/ 
> local/include   -fPIC  -g -O2 -c qdCocoa.m -o qdCocoa.o
> In file included from /System/Library/Frameworks/ 
> Foundation.framework/Headers/NSCharacterSet.h:8,
>                from /System/Library/Frameworks/Foundation.framework/ 
> Headers/Foundation.h:15,
>                from /System/Library/Frameworks/Cocoa.framework/ 
> Headers/Cocoa.h:12,
>                from qdCocoa.h:39,
>                from qdCocoa.m:24:
> /System/Library/Frameworks/Foundation.framework/Headers/NSString.h: 
> 278: error: format string argument follows the args to be formatted
> /System/Library/Frameworks/Foundation.framework/Headers/NSString.h: 
> 280: error: format string argument follows the args to be formatted
> In file included from /System/Library/Frameworks/ 
> Foundation.framework/Headers/Foundation.h:25,
>                from /System/Library/Frameworks/Cocoa.framework/ 
> Headers/Cocoa.h:12,
>                from qdCocoa.h:39,
>                from qdCocoa.m:24:
> /System/Library/Frameworks/Foundation.framework/Headers/ 
> NSException.h:62: error: format string argument follows the args to  
> be formatted
> qdCocoa.m: In function '+[QuartzCocoaView  
> quartzWindowWithRect:andInfo:]':
> qdCocoa.m:90: warning: class 'QuartzCocoaView' does not implement  
> the 'NSWindowDelegate' protocol
> make[5]: *** [qdCocoa.o] Error 1
> make[4]: *** [mksrc] Error 1
> make[3]: *** [all] Error 2
> make[2]: *** [R] Error 1
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From simon.urbanek at r-project.org  Fri Nov 27 04:14:26 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 26 Nov 2009 22:14:26 -0500
Subject: [Rd] compiling on snow leopard: Cocoa errors?!?!?!
In-Reply-To: <6B517824-FDB9-4907-99EA-0539AA59DF3D@scripps.edu>
References: <DEBDCAAC-5571-4B11-A787-8CAEA2171C7B@scripps.edu>
	<7434A156-7BF1-4022-811C-E2184A5D79B7@r-project.org>
	<6B517824-FDB9-4907-99EA-0539AA59DF3D@scripps.edu>
Message-ID: <D6BABAFA-FB8D-478C-9C22-73A7AF84FF1A@r-project.org>

Paul,

On Nov 26, 2009, at 9:03 PM, Homer Paul Benton wrote:

> I'm currently using 
> 
> gcc --version
> i686-apple-darwin8-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5564)

That is the wrong compiler - it's a Leopard compiler (Xcode 3.1/3.1.1 to be precise - see that it says darwin8 which is even 10.4 = Tiger!). Your Xcode seems to be seriously messed up -- I'd strongly recommend re-installing all Xcode 3.2 (run sudo gfortran-uninstall before you start) and Fortran (either the CRAN version or the Snow Leopard(!!) version from Tools).


> Copyright (C) 2007 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> 
> sh-3.2# gfortran --version
> GNU Fortran (GCC) 4.2.1 (Apple Inc. build 5564)
> Copyright (C) 2007 Free Software Foundation, Inc.
> 
> GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
> You may redistribute copies of GNU Fortran
> under the terms of the GNU General Public License.
> For more information about these matters, see the file named COPYING
> 
> 
> and xcode 3.2 (1610)
> 
> At the risk of sounding stupid, I compiled the netCDF library and the compiliers seemed happy for that. ?!?!
> 

NetCDF doesn't use anything from the system so even wrong compilers won't throw it off.

Cheers,
Simon


> Cheers,
> 
> Paul
> 
> I downloaded and 'installed' the 
> 
> On 27 Nov 2009, at 00:54, Simon Urbanek wrote:
> 
>> Paul,
>> 
>> at a first glance that seems like an issue in your system to me since  
>> the errors come from system headers and not from our code. Which  
>> compilers are you using and which Xcode version?
>> 
>> Cheers,
>> Simon
>> 
>> 
>> On Nov 26, 2009, at 1:16 PM, Homer Paul Benton wrote:
>> 
>>> Dear R-gurus,
>>> 
>>> I'm trying to compile R on my new mac. It's snow leopard. So far  
>>> I've seemed to be doing pretty well. I've looked at
>>> 
>>> http://cran.r-project.org/bin/macosx/tools/
>>> 
>>> http://r.research.att.com/exp/
>>> 
>>> http://r.research.att.com/building.html
>>> 
>>> http://r.research.att.com/tools/
>>> 
>>> All of which have been very helpful. Looking at the threads I've got  
>>> around some X11 issues that stopped the configure script working but  
>>> now when I excute make I get the error below. Any ideas?
>>> 
>>> Thanks in advance,
>>> 
>>> Paul
>>> 
>>> R is now configured for i386-apple-darwin10.2.0
>>> 
>>> Source directory:          .
>>> Installation directory:    /Library/Frameworks
>>> 
>>> C compiler:                gcc -arch x86_64 -std=gnu99  -g -O2
>>> Fortran 77 compiler:       gfortran -arch x86_64  -g -O2
>>> 
>>> C++ compiler:              g++ -arch x86_64  -g -O2
>>> Fortran 90/95 compiler:    gfortran -arch x86_64 -g -O2
>>> Obj-C compiler:	     gcc -arch x86_64 -g -O2
>>> 
>>> Interfaces supported:      X11, aqua, tcltk
>>> External libraries:        readline, BLAS(vecLib), LAPACK(in blas),  
>>> ICU
>>> Additional capabilities:   NLS
>>> Options enabled:           framework, R profiling, Java
>>> 
>>> Recommended packages:      yes
>>> 
>>> sh-3.2# echo "./configure SHELL='/bin/bash' r_arch=x86_64 CC="gcc - 
>>> arch x86_64 -std=gnu99" CXX="g++ -arch x86_64" OBJC="gcc -arch  
>>> x86_64" F77="gfortran -arch x86_64" FC="gfortran -arch x86_64" -- 
>>> with-system-zlib --with-blas='-framework vecLib' --with-lapack --x- 
>>> includes='-I/usr/X11/include/X11' --x-libraries='-L/usr/X11/lib'  
>>> X_LIBS=-L/usr/X11/lib" > ~/R/compileR.txt
>>> 
>>> 
>>> sh-3.2# make
>>> make[1]: Nothing to be done for `R'.
>>> make[1]: Nothing to be done for `R'.
>>> make[2]: Nothing to be done for `R'.
>>> .....
>>> ..... etc
>>> building package 'tools'
>>> all.R is unchanged
>>> make[6]: `Makedeps' is up to date.
>>> ../../../../library/tools/libs/x86_64/tools.so is unchanged
>>> building package 'utils'
>>> all.R is unchanged
>>> make[4]: Nothing to be done for `iconvlist'.
>>> building package 'grDevices'
>>> all.R is unchanged
>>> ../../../library/grDevices/R/grDevices is unchanged
>>> gcc -arch x86_64 -I../../../../include -I../../../../include/x86_64 - 
>>> I../../../include -I../../../../src/include -DHAVE_CONFIG_H -I/usr/ 
>>> local/include   -fPIC  -g -O2 -c qdCocoa.m -o qdCocoa.o
>>> In file included from /System/Library/Frameworks/ 
>>> Foundation.framework/Headers/NSCharacterSet.h:8,
>>>              from /System/Library/Frameworks/Foundation.framework/ 
>>> Headers/Foundation.h:15,
>>>              from /System/Library/Frameworks/Cocoa.framework/ 
>>> Headers/Cocoa.h:12,
>>>              from qdCocoa.h:39,
>>>              from qdCocoa.m:24:
>>> /System/Library/Frameworks/Foundation.framework/Headers/NSString.h: 
>>> 278: error: format string argument follows the args to be formatted
>>> /System/Library/Frameworks/Foundation.framework/Headers/NSString.h: 
>>> 280: error: format string argument follows the args to be formatted
>>> In file included from /System/Library/Frameworks/ 
>>> Foundation.framework/Headers/Foundation.h:25,
>>>              from /System/Library/Frameworks/Cocoa.framework/ 
>>> Headers/Cocoa.h:12,
>>>              from qdCocoa.h:39,
>>>              from qdCocoa.m:24:
>>> /System/Library/Frameworks/Foundation.framework/Headers/ 
>>> NSException.h:62: error: format string argument follows the args to  
>>> be formatted
>>> qdCocoa.m: In function '+[QuartzCocoaView  
>>> quartzWindowWithRect:andInfo:]':
>>> qdCocoa.m:90: warning: class 'QuartzCocoaView' does not implement  
>>> the 'NSWindowDelegate' protocol
>>> make[5]: *** [qdCocoa.o] Error 1
>>> make[4]: *** [mksrc] Error 1
>>> make[3]: *** [all] Error 2
>>> make[2]: *** [R] Error 1
>>> make[1]: *** [R] Error 1
>>> make: *** [R] Error 1
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> 
>>> 
>> 
> 
> 
> 


From hpbenton at scripps.edu  Fri Nov 27 03:03:47 2009
From: hpbenton at scripps.edu (Homer Paul Benton)
Date: Thu, 26 Nov 2009 18:03:47 -0800
Subject: [Rd] compiling on snow leopard: Cocoa errors?!?!?!
In-Reply-To: <7434A156-7BF1-4022-811C-E2184A5D79B7@r-project.org>
References: <DEBDCAAC-5571-4B11-A787-8CAEA2171C7B@scripps.edu>
	<7434A156-7BF1-4022-811C-E2184A5D79B7@r-project.org>
Message-ID: <6B517824-FDB9-4907-99EA-0539AA59DF3D@scripps.edu>

Simon,

I'm currently using 

gcc --version
i686-apple-darwin8-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5564)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

sh-3.2# gfortran --version
GNU Fortran (GCC) 4.2.1 (Apple Inc. build 5564)
Copyright (C) 2007 Free Software Foundation, Inc.

GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
You may redistribute copies of GNU Fortran
under the terms of the GNU General Public License.
For more information about these matters, see the file named COPYING


and xcode 3.2 (1610)

At the risk of sounding stupid, I compiled the netCDF library and the compiliers seemed happy for that. ?!?!

Cheers,

Paul

I downloaded and 'installed' the 

On 27 Nov 2009, at 00:54, Simon Urbanek wrote:

> Paul,
> 
> at a first glance that seems like an issue in your system to me since  
> the errors come from system headers and not from our code. Which  
> compilers are you using and which Xcode version?
> 
> Cheers,
> Simon
> 
> 
> On Nov 26, 2009, at 1:16 PM, Homer Paul Benton wrote:
> 
>> Dear R-gurus,
>> 
>> I'm trying to compile R on my new mac. It's snow leopard. So far  
>> I've seemed to be doing pretty well. I've looked at
>> 
>> http://cran.r-project.org/bin/macosx/tools/
>> 
>> http://r.research.att.com/exp/
>> 
>> http://r.research.att.com/building.html
>> 
>> http://r.research.att.com/tools/
>> 
>> All of which have been very helpful. Looking at the threads I've got  
>> around some X11 issues that stopped the configure script working but  
>> now when I excute make I get the error below. Any ideas?
>> 
>> Thanks in advance,
>> 
>> Paul
>> 
>> R is now configured for i386-apple-darwin10.2.0
>> 
>> Source directory:          .
>> Installation directory:    /Library/Frameworks
>> 
>> C compiler:                gcc -arch x86_64 -std=gnu99  -g -O2
>> Fortran 77 compiler:       gfortran -arch x86_64  -g -O2
>> 
>> C++ compiler:              g++ -arch x86_64  -g -O2
>> Fortran 90/95 compiler:    gfortran -arch x86_64 -g -O2
>> Obj-C compiler:	     gcc -arch x86_64 -g -O2
>> 
>> Interfaces supported:      X11, aqua, tcltk
>> External libraries:        readline, BLAS(vecLib), LAPACK(in blas),  
>> ICU
>> Additional capabilities:   NLS
>> Options enabled:           framework, R profiling, Java
>> 
>> Recommended packages:      yes
>> 
>> sh-3.2# echo "./configure SHELL='/bin/bash' r_arch=x86_64 CC="gcc - 
>> arch x86_64 -std=gnu99" CXX="g++ -arch x86_64" OBJC="gcc -arch  
>> x86_64" F77="gfortran -arch x86_64" FC="gfortran -arch x86_64" -- 
>> with-system-zlib --with-blas='-framework vecLib' --with-lapack --x- 
>> includes='-I/usr/X11/include/X11' --x-libraries='-L/usr/X11/lib'  
>> X_LIBS=-L/usr/X11/lib" > ~/R/compileR.txt
>> 
>> 
>> sh-3.2# make
>> make[1]: Nothing to be done for `R'.
>> make[1]: Nothing to be done for `R'.
>> make[2]: Nothing to be done for `R'.
>> .....
>> ..... etc
>> building package 'tools'
>> all.R is unchanged
>> make[6]: `Makedeps' is up to date.
>> ../../../../library/tools/libs/x86_64/tools.so is unchanged
>> building package 'utils'
>> all.R is unchanged
>> make[4]: Nothing to be done for `iconvlist'.
>> building package 'grDevices'
>> all.R is unchanged
>> ../../../library/grDevices/R/grDevices is unchanged
>> gcc -arch x86_64 -I../../../../include -I../../../../include/x86_64 - 
>> I../../../include -I../../../../src/include -DHAVE_CONFIG_H -I/usr/ 
>> local/include   -fPIC  -g -O2 -c qdCocoa.m -o qdCocoa.o
>> In file included from /System/Library/Frameworks/ 
>> Foundation.framework/Headers/NSCharacterSet.h:8,
>>               from /System/Library/Frameworks/Foundation.framework/ 
>> Headers/Foundation.h:15,
>>               from /System/Library/Frameworks/Cocoa.framework/ 
>> Headers/Cocoa.h:12,
>>               from qdCocoa.h:39,
>>               from qdCocoa.m:24:
>> /System/Library/Frameworks/Foundation.framework/Headers/NSString.h: 
>> 278: error: format string argument follows the args to be formatted
>> /System/Library/Frameworks/Foundation.framework/Headers/NSString.h: 
>> 280: error: format string argument follows the args to be formatted
>> In file included from /System/Library/Frameworks/ 
>> Foundation.framework/Headers/Foundation.h:25,
>>               from /System/Library/Frameworks/Cocoa.framework/ 
>> Headers/Cocoa.h:12,
>>               from qdCocoa.h:39,
>>               from qdCocoa.m:24:
>> /System/Library/Frameworks/Foundation.framework/Headers/ 
>> NSException.h:62: error: format string argument follows the args to  
>> be formatted
>> qdCocoa.m: In function '+[QuartzCocoaView  
>> quartzWindowWithRect:andInfo:]':
>> qdCocoa.m:90: warning: class 'QuartzCocoaView' does not implement  
>> the 'NSWindowDelegate' protocol
>> make[5]: *** [qdCocoa.o] Error 1
>> make[4]: *** [mksrc] Error 1
>> make[3]: *** [all] Error 2
>> make[2]: *** [R] Error 1
>> make[1]: *** [R] Error 1
>> make: *** [R] Error 1
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 
>> 
> 


From hpbenton at scripps.edu  Fri Nov 27 06:37:28 2009
From: hpbenton at scripps.edu (Homer Paul Benton)
Date: Thu, 26 Nov 2009 21:37:28 -0800
Subject: [Rd] compiling on snow leopard: Cocoa errors?!?!?!
In-Reply-To: <D6BABAFA-FB8D-478C-9C22-73A7AF84FF1A@r-project.org>
References: <DEBDCAAC-5571-4B11-A787-8CAEA2171C7B@scripps.edu>
	<7434A156-7BF1-4022-811C-E2184A5D79B7@r-project.org>
	<6B517824-FDB9-4907-99EA-0539AA59DF3D@scripps.edu>
	<D6BABAFA-FB8D-478C-9C22-73A7AF84FF1A@r-project.org>
Message-ID: <81809E86-D33F-4A7C-A446-AE0E2FE87202@scripps.edu>

Simon,

Thanks for your help. I uninstalled and reinstalled xcode and gfortran. I got it direct from the website this time :p All was happy on the configure and make install. 

Cheers,

Paul


On 27 Nov 2009, at 03:14, Simon Urbanek wrote:

> Paul,
> 
> On Nov 26, 2009, at 9:03 PM, Homer Paul Benton wrote:
> 
>> I'm currently using 
>> 
>> gcc --version
>> i686-apple-darwin8-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5564)
> 
> That is the wrong compiler - it's a Leopard compiler (Xcode 3.1/3.1.1 to be precise - see that it says darwin8 which is even 10.4 = Tiger!). Your Xcode seems to be seriously messed up -- I'd strongly recommend re-installing all Xcode 3.2 (run sudo gfortran-uninstall before you start) and Fortran (either the CRAN version or the Snow Leopard(!!) version from Tools).
> 
> 
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> This is free software; see the source for copying conditions.  There is NO
>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>> 
>> sh-3.2# gfortran --version
>> GNU Fortran (GCC) 4.2.1 (Apple Inc. build 5564)
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> 
>> GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
>> You may redistribute copies of GNU Fortran
>> under the terms of the GNU General Public License.
>> For more information about these matters, see the file named COPYING
>> 
>> 
>> and xcode 3.2 (1610)
>> 
>> At the risk of sounding stupid, I compiled the netCDF library and the compiliers seemed happy for that. ?!?!
>> 
> 
> NetCDF doesn't use anything from the system so even wrong compilers won't throw it off.
> 
> Cheers,
> Simon
> 
> 
>> Cheers,
>> 
>> Paul
>> 
>> I downloaded and 'installed' the 
>> 
>> On 27 Nov 2009, at 00:54, Simon Urbanek wrote:
>> 
>>> Paul,
>>> 
>>> at a first glance that seems like an issue in your system to me since  
>>> the errors come from system headers and not from our code. Which  
>>> compilers are you using and which Xcode version?
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> On Nov 26, 2009, at 1:16 PM, Homer Paul Benton wrote:
>>> 
>>>> Dear R-gurus,
>>>> 
>>>> I'm trying to compile R on my new mac. It's snow leopard. So far  
>>>> I've seemed to be doing pretty well. I've looked at
>>>> 
>>>> http://cran.r-project.org/bin/macosx/tools/
>>>> 
>>>> http://r.research.att.com/exp/
>>>> 
>>>> http://r.research.att.com/building.html
>>>> 
>>>> http://r.research.att.com/tools/
>>>> 
>>>> All of which have been very helpful. Looking at the threads I've got  
>>>> around some X11 issues that stopped the configure script working but  
>>>> now when I excute make I get the error below. Any ideas?
>>>> 
>>>> Thanks in advance,
>>>> 
>>>> Paul
>>>> 
>>>> R is now configured for i386-apple-darwin10.2.0
>>>> 
>>>> Source directory:          .
>>>> Installation directory:    /Library/Frameworks
>>>> 
>>>> C compiler:                gcc -arch x86_64 -std=gnu99  -g -O2
>>>> Fortran 77 compiler:       gfortran -arch x86_64  -g -O2
>>>> 
>>>> C++ compiler:              g++ -arch x86_64  -g -O2
>>>> Fortran 90/95 compiler:    gfortran -arch x86_64 -g -O2
>>>> Obj-C compiler:	     gcc -arch x86_64 -g -O2
>>>> 
>>>> Interfaces supported:      X11, aqua, tcltk
>>>> External libraries:        readline, BLAS(vecLib), LAPACK(in blas),  
>>>> ICU
>>>> Additional capabilities:   NLS
>>>> Options enabled:           framework, R profiling, Java
>>>> 
>>>> Recommended packages:      yes
>>>> 
>>>> sh-3.2# echo "./configure SHELL='/bin/bash' r_arch=x86_64 CC="gcc - 
>>>> arch x86_64 -std=gnu99" CXX="g++ -arch x86_64" OBJC="gcc -arch  
>>>> x86_64" F77="gfortran -arch x86_64" FC="gfortran -arch x86_64" -- 
>>>> with-system-zlib --with-blas='-framework vecLib' --with-lapack --x- 
>>>> includes='-I/usr/X11/include/X11' --x-libraries='-L/usr/X11/lib'  
>>>> X_LIBS=-L/usr/X11/lib" > ~/R/compileR.txt
>>>> 
>>>> 
>>>> sh-3.2# make
>>>> make[1]: Nothing to be done for `R'.
>>>> make[1]: Nothing to be done for `R'.
>>>> make[2]: Nothing to be done for `R'.
>>>> .....
>>>> ..... etc
>>>> building package 'tools'
>>>> all.R is unchanged
>>>> make[6]: `Makedeps' is up to date.
>>>> ../../../../library/tools/libs/x86_64/tools.so is unchanged
>>>> building package 'utils'
>>>> all.R is unchanged
>>>> make[4]: Nothing to be done for `iconvlist'.
>>>> building package 'grDevices'
>>>> all.R is unchanged
>>>> ../../../library/grDevices/R/grDevices is unchanged
>>>> gcc -arch x86_64 -I../../../../include -I../../../../include/x86_64 - 
>>>> I../../../include -I../../../../src/include -DHAVE_CONFIG_H -I/usr/ 
>>>> local/include   -fPIC  -g -O2 -c qdCocoa.m -o qdCocoa.o
>>>> In file included from /System/Library/Frameworks/ 
>>>> Foundation.framework/Headers/NSCharacterSet.h:8,
>>>>             from /System/Library/Frameworks/Foundation.framework/ 
>>>> Headers/Foundation.h:15,
>>>>             from /System/Library/Frameworks/Cocoa.framework/ 
>>>> Headers/Cocoa.h:12,
>>>>             from qdCocoa.h:39,
>>>>             from qdCocoa.m:24:
>>>> /System/Library/Frameworks/Foundation.framework/Headers/NSString.h: 
>>>> 278: error: format string argument follows the args to be formatted
>>>> /System/Library/Frameworks/Foundation.framework/Headers/NSString.h: 
>>>> 280: error: format string argument follows the args to be formatted
>>>> In file included from /System/Library/Frameworks/ 
>>>> Foundation.framework/Headers/Foundation.h:25,
>>>>             from /System/Library/Frameworks/Cocoa.framework/ 
>>>> Headers/Cocoa.h:12,
>>>>             from qdCocoa.h:39,
>>>>             from qdCocoa.m:24:
>>>> /System/Library/Frameworks/Foundation.framework/Headers/ 
>>>> NSException.h:62: error: format string argument follows the args to  
>>>> be formatted
>>>> qdCocoa.m: In function '+[QuartzCocoaView  
>>>> quartzWindowWithRect:andInfo:]':
>>>> qdCocoa.m:90: warning: class 'QuartzCocoaView' does not implement  
>>>> the 'NSWindowDelegate' protocol
>>>> make[5]: *** [qdCocoa.o] Error 1
>>>> make[4]: *** [mksrc] Error 1
>>>> make[3]: *** [all] Error 2
>>>> make[2]: *** [R] Error 1
>>>> make[1]: *** [R] Error 1
>>>> make: *** [R] Error 1
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>> 
>>>> 
>>> 
>> 
>> 
>> 
> 


From hong.ooi at anz.com  Fri Nov 27 06:55:10 2009
From: hong.ooi at anz.com (hong.ooi at anz.com)
Date: Fri, 27 Nov 2009 06:55:10 +0100 (CET)
Subject: [Rd] Long execution time for quantile() and difftime objects
	(PR#14091)
Message-ID: <20091127055510.1CD73282EF4C@mail.pubhealth.ku.dk>

Full_Name: Hong Ooi
Version: 2.10.0
OS: Windows XP
Submission from: (NULL) (203.110.235.1)


While trying to get summary statistics on a duration variable (the difference
between a start and end date), I ran into the following issue. Using summary or
quantile (which summary calls) on a difftime object takes an extremely long time
if the object is even moderately large.

A reproducible example:

> x <- as.Date(1:10000, origin="1900-01-01")
> x[1:10]
 [1] "1900-01-02" "1900-01-03" "1900-01-04" "1900-01-05" "1900-01-06"
 [6] "1900-01-07" "1900-01-08" "1900-01-09" "1900-01-10" "1900-01-11"
> d <- x - as.Date("1900-01-01")
> d[1:10]
Time differences in days
 [1]  1  2  3  4  5  6  7  8  9 10
> system.time(summary(d[1:10]))
   user  system elapsed 
   0.01    0.00    0.01 
> system.time(summary(d[1:100]))
   user  system elapsed 
   0.21    0.00    0.20 
> system.time(summary(d[1:1000]))
   user  system elapsed 
   3.02    0.00    3.02 
> system.time(summary(d[1:10000]))
   user  system elapsed 
  43.56    0.04   43.66 


If I unclass d, there is no problem:

> system.time(summary(unclass(d[1:10000])))
   user  system elapsed 
      0       0       0 

Testing with Rprof() indicates that the problem lies in [.difftime, although the
code for that function seems innocuous enough.


> sessionInfo()
R version 2.10.0 (2009-10-26) 
i386-pc-mingw32 

locale:
[1] LC_COLLATE=English_Australia.1252  LC_CTYPE=English_Australia.1252   
[3] LC_MONETARY=English_Australia.1252 LC_NUMERIC=C                      
[5] LC_TIME=English_Australia.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


From ripley at stats.ox.ac.uk  Fri Nov 27 15:09:55 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 27 Nov 2009 14:09:55 +0000 (GMT)
Subject: [Rd] Long execution time for quantile() and difftime objects
 (PR#14091)
In-Reply-To: <20091127055510.1CD73282EF4C@mail.pubhealth.ku.dk>
References: <20091127055510.1CD73282EF4C@mail.pubhealth.ku.dk>
Message-ID: <alpine.LFD.2.00.0911271301040.5696@toucan.stats.ox.ac.uk>

Did you read the help page?

        x: numeric vector whose sample quantiles are wanted.  ?NA? and
           ?NaN? values are not allowed unless ?na.rm? is ?TRUE?.

so only 'numeric' vectors are really supported, although it does say

      The default method does not allow factors, but works with objects
      sufficiently like numeric vectors that ?sort?, addition and
      multiplication work correctly.  In principle only sorts and
      weighted means are needed, so datatimes could have quantiles - but
      this is not implemented.

There is no claim that it works (let alone works well) for class 
"difftime".  If you follow the link to 'sort' it says

      The default ?sort? method makes use of ?order? for objects with
      classes, which in turn makes use of the generic function ?xtfrm?.

and from ?xtfrm

      The default method will make use of ?==? and ?>? methods for the
      class of ?x[i]? (for integers ?i?), and the ?is.na? method for the
      class of ?x?, but might be rather slow when doing so.

So, if you want this to be fast, you need to write an xtfrm method. 
There is one in R-devel

> xtfrm.difftime
function (x)
as.numeric(x)

and you can use that in your workspace (and your example is fast in 
R-devel, because of that function I think, there being other 
development work in progress in the version I tried).


On Fri, 27 Nov 2009, hong.ooi at anz.com wrote:

> Full_Name: Hong Ooi
> Version: 2.10.0
> OS: Windows XP
> Submission from: (NULL) (203.110.235.1)
>
>
> While trying to get summary statistics on a duration variable (the difference
> between a start and end date), I ran into the following issue. Using summary or
> quantile (which summary calls) on a difftime object takes an extremely long time
> if the object is even moderately large.
>
> A reproducible example:
>
>> x <- as.Date(1:10000, origin="1900-01-01")
>> x[1:10]
> [1] "1900-01-02" "1900-01-03" "1900-01-04" "1900-01-05" "1900-01-06"
> [6] "1900-01-07" "1900-01-08" "1900-01-09" "1900-01-10" "1900-01-11"
>> d <- x - as.Date("1900-01-01")
>> d[1:10]
> Time differences in days
> [1]  1  2  3  4  5  6  7  8  9 10
>> system.time(summary(d[1:10]))
>   user  system elapsed
>   0.01    0.00    0.01
>> system.time(summary(d[1:100]))
>   user  system elapsed
>   0.21    0.00    0.20
>> system.time(summary(d[1:1000]))
>   user  system elapsed
>   3.02    0.00    3.02
>> system.time(summary(d[1:10000]))
>   user  system elapsed
>  43.56    0.04   43.66
>
>
> If I unclass d, there is no problem:
>
>> system.time(summary(unclass(d[1:10000])))
>   user  system elapsed
>      0       0       0
>
> Testing with Rprof() indicates that the problem lies in [.difftime, although the
> code for that function seems innocuous enough.
>
>
>> sessionInfo()
> R version 2.10.0 (2009-10-26)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=English_Australia.1252  LC_CTYPE=English_Australia.1252
> [3] LC_MONETARY=English_Australia.1252 LC_NUMERIC=C
> [5] LC_TIME=English_Australia.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Fri Nov 27 15:15:12 2009
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Fri, 27 Nov 2009 15:15:12 +0100 (CET)
Subject: [Rd] Long execution time for quantile() and difftime objects
	(PR#14092)
Message-ID: <20091127141513.07EB628320AB@mail.pubhealth.ku.dk>

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.

--27501778-1317196171-1259330723=:5696
Content-Type: TEXT/PLAIN; CHARSET=ISO-8859-7; format=flowed
Content-Transfer-Encoding: 8BIT
Content-ID: <alpine.LFD.2.00.0911271406411.5696 at toucan.stats.ox.ac.uk>

Did you read the help page?

        x: numeric vector whose sample quantiles are wanted.  ?NA? and
           ?NaN? values are not allowed unless ?na.rm? is ?TRUE?.

so only 'numeric' vectors are really supported, although it does say

      The default method does not allow factors, but works with objects
      sufficiently like numeric vectors that ?sort?, addition and
      multiplication work correctly.  In principle only sorts and
      weighted means are needed, so datatimes could have quantiles - but
      this is not implemented.

There is no claim that it works (let alone works well) for class 
"difftime".  If you follow the link to 'sort' it says

      The default ?sort? method makes use of ?order? for objects with
      classes, which in turn makes use of the generic function ?xtfrm?.

and from ?xtfrm

      The default method will make use of ?==? and ?>? methods for the
      class of ?x[i]? (for integers ?i?), and the ?is.na? method for the
      class of ?x?, but might be rather slow when doing so.

So, if you want this to be fast, you need to write an xtfrm method. 
There is one in R-devel

> xtfrm.difftime
function (x)
as.numeric(x)

and you can use that in your workspace (and your example is fast in 
R-devel, because of that function I think, there being other 
development work in progress in the version I tried).


On Fri, 27 Nov 2009, hong.ooi at anz.com wrote:

> Full_Name: Hong Ooi
> Version: 2.10.0
> OS: Windows XP
> Submission from: (NULL) (203.110.235.1)
>
>
> While trying to get summary statistics on a duration variable (the difference
> between a start and end date), I ran into the following issue. Using summary or
> quantile (which summary calls) on a difftime object takes an extremely long time
> if the object is even moderately large.
>
> A reproducible example:
>
>> x <- as.Date(1:10000, origin="1900-01-01")
>> x[1:10]
> [1] "1900-01-02" "1900-01-03" "1900-01-04" "1900-01-05" "1900-01-06"
> [6] "1900-01-07" "1900-01-08" "1900-01-09" "1900-01-10" "1900-01-11"
>> d <- x - as.Date("1900-01-01")
>> d[1:10]
> Time differences in days
> [1]  1  2  3  4  5  6  7  8  9 10
>> system.time(summary(d[1:10]))
>   user  system elapsed
>   0.01    0.00    0.01
>> system.time(summary(d[1:100]))
>   user  system elapsed
>   0.21    0.00    0.20
>> system.time(summary(d[1:1000]))
>   user  system elapsed
>   3.02    0.00    3.02
>> system.time(summary(d[1:10000]))
>   user  system elapsed
>  43.56    0.04   43.66
>
>
> If I unclass d, there is no problem:
>
>> system.time(summary(unclass(d[1:10000])))
>   user  system elapsed
>      0       0       0
>
> Testing with Rprof() indicates that the problem lies in [.difftime, although the
> code for that function seems innocuous enough.
>
>
>> sessionInfo()
> R version 2.10.0 (2009-10-26)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=English_Australia.1252  LC_CTYPE=English_Australia.1252
> [3] LC_MONETARY=English_Australia.1252 LC_NUMERIC=C
> [5] LC_TIME=English_Australia.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
--27501778-1317196171-1259330723=:5696--


From bolker at ufl.edu  Sat Nov 28 02:55:11 2009
From: bolker at ufl.edu (Ben Bolker)
Date: Sat, 28 Nov 2009 01:55:11 +0000 (UTC)
Subject: [Rd] p-generalized normal distribution
References: <4B0C0FA2.2020104@uni-rostock.de>
Message-ID: <loom.20091128T024128-643@post.gmane.org>

Steve Kalke <steve.kalke <at> uni-rostock.de> writes:

> I would like to know if there is an R-package available for 
> computing the density, distribution function,
> quantiles and random 
> numbers of the p-generalized normal distribution or 
> if somebody is already working on it.

  I haven't been able to find out what the p-generalized normal
distribution is: the only paper I can find is

Sinz, F., and M. Bethge$. 2009. Characterization of the p-generalized 
normal distribution. Journal of Multivariate Analysis 100:817-820. 
doi: 10.1016/j.jmva.2008.07.006.

and I don't have access to it at the moment (although it does
at least hint that the required distribution is multivariate;
maybe p-dimensional?).  

 Is it the same as this?

Goodman, I. R., and S. Kotz. 1973. Multivariate ?-generalized normal
distributions. Journal of Multivariate Analysis 3:204-219. doi:
10.1016/0047-259X(73)90023-7.

  Where can we find a description?

  (Short answer: as far as I can tell, it doesn't exist in
R, but it would be good to have more information ...)


From guillaume.yziquel at citycable.ch  Sat Nov 28 10:50:57 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sat, 28 Nov 2009 10:50:57 +0100
Subject: [Rd] [Fwd: opened symbols in libR.so available.]
Message-ID: <4B10F281.2070004@citycable.ch>

Hi.

I've patched Dirk Eddelbuettel's Debian package of R, namely r-base, in
order to make hidden symbols of the library libR.so available is now
available:

	http://yziquel.homelinux.org/debian/pool/main/r/r-base/

For instance, the mkPROMISE symbol is available:

> yziquel at seldon:/usr/lib/R/lib$ nm -D libR.so | grep mkPROMISE
> 000000000011f6f0 T Rf_mkPROMISE
> yziquel at seldon:/usr/lib/R/lib$ 

Instructions for my personal repository are available here:

	http://yziquel.homelinux.org/topos/debian-repository.html

I hope this will be useful to people who wish to develop
things, test things, reverse-engineer things from the libR.so library.

I've been told that there's an interesting scheme, used by r-base-ra, to 
make packages coexist with R. As of now, it simply replaces the Debian 
version number, currently -1, with the Debian version number -1hackable.

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From Graham.Williams at togaware.com  Sat Nov 28 10:54:03 2009
From: Graham.Williams at togaware.com (Graham Williams)
Date: Sat, 28 Nov 2009 20:54:03 +1100
Subject: [Rd] Sending signals to current R process from R running under MS
	Windows (c.f. Esc)
Message-ID: <41051bff0911280154l44718df5wf7bb373fa0be9579@mail.gmail.com>

I am using RGtk2 for a simple GUI (rattle).

I start rattle from the RGui and I remain able to interact with the
RGui while rattle runs.

Under MS/Windows, when rattle has initiated some other underlying R
command the rattle GUI remains responsive (unlike under GNU/Linux
where it is not responsive until the underlying command completes).

I can interrupt the running command with a press of the Esc key in the RGui.

I want to have a button on the rattle GUI to run an R command to have
the same behavior as pressing the Esc key in the RGui. I currently
have a button in rattle as an example that will run another R command
whilst the original R command is still running.

Looking at the C source code for the RGui it looks like it is sending
a SIGBREAK signal to the R process.

Is this possible to do, somehow, from R?

Thanks,
Graham


From hb at stat.berkeley.edu  Sat Nov 28 14:45:04 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Sat, 28 Nov 2009 14:45:04 +0100
Subject: [Rd] Sending signals to current R process from R running under
	MS Windows (c.f. Esc)
In-Reply-To: <41051bff0911280154l44718df5wf7bb373fa0be9579@mail.gmail.com>
References: <41051bff0911280154l44718df5wf7bb373fa0be9579@mail.gmail.com>
Message-ID: <59d7961d0911280545o581c0d2dr7c9280662de934e8@mail.gmail.com>

Hi,

here is some discussion/information in the same vein:

(1) R-help thread '[R] The R "fork"', March 18, 2006:

  https://stat.ethz.ch/pipermail/r-help/2006-March/101913.html

(2) R-devel thread '[Rd] New simpleExit() condition (Was: Re: Can
example() code stop the example without generating an error?)', March
14-16, 2006:

  https://stat.ethz.ch/pipermail/r-devel/2006-March/036861.html

(3) Regarding sending SIGINT on Windows, I posted the following
question (without replies): 'Fix Unix' thread 'Sending/generating
SIGINT to process', Oct 1, 2007:

 http://fixunix.com/microsoft-windows/30232-sending-generating-sigint-process.html

/Henrik

On Sat, Nov 28, 2009 at 10:54 AM, Graham Williams
<Graham.Williams at togaware.com> wrote:
> I am using RGtk2 for a simple GUI (rattle).
>
> I start rattle from the RGui and I remain able to interact with the
> RGui while rattle runs.
>
> Under MS/Windows, when rattle has initiated some other underlying R
> command the rattle GUI remains responsive (unlike under GNU/Linux
> where it is not responsive until the underlying command completes).
>
> I can interrupt the running command with a press of the Esc key in the RGui.
>
> I want to have a button on the rattle GUI to run an R command to have
> the same behavior as pressing the Esc key in the RGui. I currently
> have a button in rattle as an example that will run another R command
> whilst the original R command is still running.
>
> Looking at the C source code for the RGui it looks like it is sending
> a SIGBREAK signal to the R process.
>
> Is this possible to do, somehow, from R?
>
> Thanks,
> Graham
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From murdoch at stats.uwo.ca  Sat Nov 28 19:23:39 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 28 Nov 2009 13:23:39 -0500
Subject: [Rd] "bug report" field in DESCRIPTION file?
In-Reply-To: <d8ad40b50911260938g4c499f09y2d610ab6bd38163b@mail.gmail.com>
References: <d8ad40b50911260409t4b0531fftc4486d51677998f8@mail.gmail.com>	<4B0E850F.3090105@stats.uwo.ca>
	<d8ad40b50911260938g4c499f09y2d610ab6bd38163b@mail.gmail.com>
Message-ID: <4B116AAB.2000200@stats.uwo.ca>

On 26/11/2009 12:38 PM, Barry Rowlingson wrote:
> On Thu, Nov 26, 2009 at 1:39 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> 
>> This sounds like a good idea, though I would add a "package" parameter to
>> the bug.report() function, rather than creating a new function.
> 
> I'm sure when I did help.search("bug") and help.search("report") this
> morning I didn't see this function! Otherwise I would have suggested
> that. bug.report(package="bazbrain"). Oh dear, no maintainer.
> 
>> Does the logic below sound right for bug.report() with the package
>> specified?
>>
>> If there's a BugReports field, bug.report() calls browseURL() on that page.
>>
>> If not, it does more or less what it does now, but
>> - it defaults "address" to the package maintainer. - it adds a line in the
>> intro to the message pointing to the URL field if there was one.
> 
>  Martin Maechler's reservation about not being able to fill in the R
> details for bug reports on trackers isn't too much of a problem, since
> the bug tracker form could have fields for R version, session info
> etc, or at least a big warning saying "Please include the following
> info" (inside a <blink> tag).
> 
>  So how about if bug.report(package="foo") has a BugReports: field,
> you print out 'The following information may be useful to your bug
> report' and dump the relevant things ready for cut n paste into a bug
> tracker, then browseURL().

I've just committed this to R-devel.  Thanks for the suggestion, and 
thanks in advance for any improvements.

Duncan Murdoch


From bcarvalh at jhsph.edu  Sat Nov 28 22:52:37 2009
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Sat, 28 Nov 2009 19:52:37 -0200
Subject: [Rd] Display list redraw incomplete
Message-ID: <F5DD5E8F-10BA-4008-8FB3-33351189C361@jhsph.edu>

Hi,

I'm observing the following warning with R-2.10.0 on a machine I have remote access to. Like what happened to Roger ( http://www.mail-archive.com/r-devel at r-project.org/msg08669.html ), two extra instances of X11 are open after dev.off(). Although I'm reporting this on R-2.10.0, it's reproducible on R-devel r50541. Any thoughts about this?

Thanks a lot for any info,

b

> plot(1)
> dev.off()
X11 
  4 
Warning message:
In dev.off() : Display list redraw incomplete
> sessionInfo()
R version 2.10.0 (2009-10-26) 
x86_64-unknown-linux-gnu 

locale:
 [1] LC_CTYPE=en_US.iso885915       LC_NUMERIC=C                  
 [3] LC_TIME=en_US.iso885915        LC_COLLATE=en_US.iso885915    
 [5] LC_MONETARY=C                  LC_MESSAGES=en_US.iso885915   
 [7] LC_PAPER=en_US.iso885915       LC_NAME=C                     
 [9] LC_ADDRESS=C                   LC_TELEPHONE=C                
[11] LC_MEASUREMENT=en_US.iso885915 LC_IDENTIFICATION=C           

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

From guillaume.yziquel at citycable.ch  Sun Nov 29 00:50:52 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sun, 29 Nov 2009 00:50:52 +0100
Subject: [Rd] PROTECT and OCaml GC.
Message-ID: <4B11B75C.9070806@citycable.ch>

Hello.

In the writing of my OCaml-R binding, I'm sort of confused when it comes 
to the use of the PROTECT and UNPROTECT macros.

Basically, I have C stub functions that are in charge of calling R for 
everything. Here's a simple example:

> CAMLprim value r_findvar (value symbol) {
>   /* The findVar function is defined in envir.c. It looks up a symbol
>      in an environment. */
>   CAMLparam1(symbol);
>   CAMLreturn(Val_sexp(findVar(Sexp_val(symbol), R_GlobalEnv)));
> }

This simply makes a call to findVar and returns the value to Objective 
Caml. It seems to me that I should be writing:

> CAMLprim value r_findvar (value symbol) {
>   /* The findVar function is defined in envir.c. It looks up a symbol
>      in an environment. */
>   CAMLparam1(symbol);
>   SEXP e;
>   PROTECT(e = findVar(Sexp_val(symbol), R_GlobalEnv));
>   CAMLreturn(Val_sexp(e));
> }

However, as OCaml has its own GC, I'm wondering where to put UNPROTECT. 
Many codes I see on the net UNPROTECT the value just after it has been 
protected. The rationale, it seems, is that the value is at risk only a 
short timeframe after it has been created.

This seems rather curious to me, and I'm wondering if I should not 
rather UNPROTECT the value at the moment OCaml's GC says the value is 
not needed anymore.

Please tell me which option I should go forward with.

(I'll assume for now that OCaml is monothreaded. I do not believe that R 
itself is thread-safe, so I'll first handle this monothreaded case.)

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From armstrong.whit at gmail.com  Sun Nov 29 01:25:43 2009
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Sat, 28 Nov 2009 19:25:43 -0500
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <4B11B75C.9070806@citycable.ch>
References: <4B11B75C.9070806@citycable.ch>
Message-ID: <8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091128/db6c0216/attachment.pl>

From guillaume.yziquel at citycable.ch  Sun Nov 29 01:50:38 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sun, 29 Nov 2009 01:50:38 +0100
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
Message-ID: <4B11C55E.2060909@citycable.ch>

Whit Armstrong a ?crit :
> I've had success w/ using a reference counting paradigm in which the outside
> memory manager calls UNPROTECT_PTR(R_object_); in its destructor.
> 
> So, in my case (using c++ ) if objects are allocated on the heap, which
> allocate R objects as their backend storage, I don't have to worry about out
> of order UNPROTECT calls b/c UNPROTECT_PTR will just put the objects that
> c++ destroys on the gc list.
> 
> If you are using c as the glue for all your ocaml bindings, they you may
> want to have a look at this:
> http://github.com/armstrtw/rabstraction
> 
> Or the in progress re-write here: http://github.com/armstrtw/RObjects
> 
> -Whit

Thanks a lot for these pointers.

UNPROTECT_PTR seems quite interesting. As I understand it, it avoids 
caring about protecting and unprotecting in the order the stacks would 
expect. This is quite interesting, since I'd like to keep OCaml's GC to 
do housekeeping, and not rely on referencing counting.

I'm using C as the glue, but I want it to be as thin as possible. I will 
probably not do reference counting in C, for instance. Nevertheless, 
there's obviously good ideas in rabstraction/RObjects that I'll adapt.

Thanks a lot.

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From ligges at statistik.tu-dortmund.de  Sun Nov 29 16:15:20 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sun, 29 Nov 2009 16:15:20 +0100
Subject: [Rd] [Fwd: opened symbols in libR.so available.]
In-Reply-To: <4B10F281.2070004@citycable.ch>
References: <4B10F281.2070004@citycable.ch>
Message-ID: <4B129008.9090406@statistik.tu-dortmund.de>

Guillaume Yziquel wrote:
> Hi.
> 
> I've patched Dirk Eddelbuettel's Debian package of R, namely r-base, in
> order to make hidden symbols of the library libR.so available is now
> available:
> 
>     http://yziquel.homelinux.org/debian/pool/main/r/r-base/
> 
> For instance, the mkPROMISE symbol is available:
> 
>> yziquel at seldon:/usr/lib/R/lib$ nm -D libR.so | grep mkPROMISE
>> 000000000011f6f0 T Rf_mkPROMISE
>> yziquel at seldon:/usr/lib/R/lib$ 
> 
> Instructions for my personal repository are available here:
> 
>     http://yziquel.homelinux.org/topos/debian-repository.html
> 
> I hope this will be useful to people who wish to develop
> things, test things, reverse-engineer things from the libR.so library.
> 
> I've been told that there's an interesting scheme, used by r-base-ra, to 
> make packages coexist with R. As of now, it simply replaces the Debian 
> version number, currently -1, with the Debian version number -1hackable.
> 
> All the best,
> 



Umm, you know,

1. there is some reason why not everything is exported from libR.so, 
particularly those parts of the API that are matter to change or are 
undocumented for other reasons.

2. if you do not want to listen to 1.:
R is open source, hence no need to reverse-engineer or "hack" anything 
there, just change the sources and recompile in a way that they export 
those names.

Best,
Uwe Ligges


From guillaume.yziquel at citycable.ch  Sun Nov 29 16:54:38 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sun, 29 Nov 2009 16:54:38 +0100
Subject: [Rd] [Fwd: opened symbols in libR.so available.]
In-Reply-To: <4B129008.9090406@statistik.tu-dortmund.de>
References: <4B10F281.2070004@citycable.ch>
	<4B129008.9090406@statistik.tu-dortmund.de>
Message-ID: <4B12993E.5050507@citycable.ch>

Uwe Ligges a ?crit :
> Guillaume Yziquel wrote:
>> Hi.
>>
>> I've patched Dirk Eddelbuettel's Debian package of R, namely r-base, in
>> order to make hidden symbols of the library libR.so available is now
>> available:
>>
>>     http://yziquel.homelinux.org/debian/pool/main/r/r-base/
>>
>> For instance, the mkPROMISE symbol is available:
>>
>>> yziquel at seldon:/usr/lib/R/lib$ nm -D libR.so | grep mkPROMISE
>>> 000000000011f6f0 T Rf_mkPROMISE
>>> yziquel at seldon:/usr/lib/R/lib$ 
>>
>> Instructions for my personal repository are available here:
>>
>>     http://yziquel.homelinux.org/topos/debian-repository.html
>>
>> I hope this will be useful to people who wish to develop
>> things, test things, reverse-engineer things from the libR.so library.
>>
>> I've been told that there's an interesting scheme, used by r-base-ra, 
>> to make packages coexist with R. As of now, it simply replaces the 
>> Debian version number, currently -1, with the Debian version number 
>> -1hackable.
>>
>> All the best,
> 
> 
> Umm, you know,
> 
> 1. there is some reason why not everything is exported from libR.so, 
> particularly those parts of the API that are matter to change or are 
> undocumented for other reasons.

Yes. For sure. These are good reasons.

Interfacing to hidden symbols in order to try out stuff from an 
interactive session is also a good reason.  I'd rather have to deal with 
a moving API than contemplating an API moving.

(As a side-note, putting tryEval in the API wouldn't be such a bad idea...)

> 2. if you do not want to listen to 1.:
> R is open source, hence no need to reverse-engineer or "hack" anything 
> there, just change the sources and recompile in a way that they export 
> those names.

That's what I did. As I did not want to screw up my whole Debian system, 
I built up a package, which might be useful for people writing language 
bindings. It's pointless to buy a second computer or meddle with chroots 
just to recompile R. That's all.

If people do not have the same needs as I do (namely, why what I am 
passing to tryEval, eval, applyClosure gives a segfault), there's no 
point in installing such a package. I set it up because such a post 
remained unanswered:

	https://stat.ethz.ch/pipermail/r-devel/2009-November/055813.html

The whole point is that I have to develop on a naked libR.so to get my 
binding going. Then I'll consider cleaning things up, and make it 
compile against a regular libR.so. In the end, the OCaml-R API will be 
as safe as possible, with extremely strong typing.

> Best,
> Uwe Ligges

As to reverse-engineering, reading the R source code is already 
reverse-engineering, as is reading any complex C code which is 
insufficiently documented (insufficiently with respect to my needs, 
because otherwise, R-ints.pdf, R-exts.pdf and R-lang.pdf have a lot of 
information).

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From pengyu.ut at gmail.com  Sun Nov 29 16:58:40 2009
From: pengyu.ut at gmail.com (Peng Yu)
Date: Sun, 29 Nov 2009 09:58:40 -0600
Subject: [Rd] Tabs in R source code
Message-ID: <366c6f340911290758t71dd256dtd7975a49ae9155a7@mail.gmail.com>

Some lines are indented by tabs and some lines are indented by spaces,
in R source code. This might due to the fact that the source code is
not from a single person. But I think that it is better to enforce a
single convention.

My editor defaults a tab to 8 spaces. So some source doesn't seem to
be indented correctly in my editor. Since tab may be displayed
differently in different editor, I recommend to replace all the tabs
by the appropriate number of spaces to ensure the same indentation
display.

Could somebody update the source code in the future version by
replacing tabs by spaces and enforce such a coding convention in the
future?


From ligges at statistik.tu-dortmund.de  Sun Nov 29 17:05:30 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sun, 29 Nov 2009 17:05:30 +0100
Subject: [Rd] Display list redraw incomplete
In-Reply-To: <F5DD5E8F-10BA-4008-8FB3-33351189C361@jhsph.edu>
References: <F5DD5E8F-10BA-4008-8FB3-33351189C361@jhsph.edu>
Message-ID: <4B129BCA.1080301@statistik.tu-dortmund.de>



Benilton Carvalho wrote:
> Hi,
> 
> I'm observing the following warning with R-2.10.0 on a machine I have remote access to. Like what happened to Roger ( http://www.mail-archive.com/r-devel at r-project.org/msg08669.html ), two extra instances of X11 are open after dev.off(). Although I'm reporting this on R-2.10.0, it's reproducible on R-devel r50541. Any thoughts about this?


Does it also happen if you work on that machine directly? What's the 
exact way you control that machine "remote"ly?
I have never seens that and cannot reproduce it.

Best,
Uwe Ligges




> Thanks a lot for any info,
> 
> b
> 
>> plot(1)
>> dev.off()
> X11 
>   4 
> Warning message:
> In dev.off() : Display list redraw incomplete
>> sessionInfo()
> R version 2.10.0 (2009-10-26) 
> x86_64-unknown-linux-gnu 
> 
> locale:
>  [1] LC_CTYPE=en_US.iso885915       LC_NUMERIC=C                  
>  [3] LC_TIME=en_US.iso885915        LC_COLLATE=en_US.iso885915    
>  [5] LC_MONETARY=C                  LC_MESSAGES=en_US.iso885915   
>  [7] LC_PAPER=en_US.iso885915       LC_NAME=C                     
>  [9] LC_ADDRESS=C                   LC_TELEPHONE=C                
> [11] LC_MEASUREMENT=en_US.iso885915 LC_IDENTIFICATION=C           
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Sun Nov 29 17:40:29 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 29 Nov 2009 11:40:29 -0500
Subject: [Rd] Tabs in R source code
In-Reply-To: <366c6f340911290758t71dd256dtd7975a49ae9155a7@mail.gmail.com>
References: <366c6f340911290758t71dd256dtd7975a49ae9155a7@mail.gmail.com>
Message-ID: <4B12A3FD.9010006@stats.uwo.ca>

On 29/11/2009 10:58 AM, Peng Yu wrote:
> Some lines are indented by tabs and some lines are indented by spaces,
> in R source code. This might due to the fact that the source code is
> not from a single person. But I think that it is better to enforce a
> single convention.
> 
> My editor defaults a tab to 8 spaces. So some source doesn't seem to
> be indented correctly in my editor. Since tab may be displayed
> differently in different editor, I recommend to replace all the tabs
> by the appropriate number of spaces to ensure the same indentation
> display.

The R source code assumes that tabs occur every 8 columns, so if your 
editor is working properly, it should display files as intended.

> Could somebody update the source code in the future version by
> replacing tabs by spaces and enforce such a coding convention in the
> future?

No, that would not be feasible, for the reason you give in the second 
sentence of your post.

Duncan Murdoch


From pengyu.ut at gmail.com  Sun Nov 29 17:50:12 2009
From: pengyu.ut at gmail.com (Peng Yu)
Date: Sun, 29 Nov 2009 10:50:12 -0600
Subject: [Rd] Tabs in R source code
In-Reply-To: <4B12A3FD.9010006@stats.uwo.ca>
References: <366c6f340911290758t71dd256dtd7975a49ae9155a7@mail.gmail.com>
	<4B12A3FD.9010006@stats.uwo.ca>
Message-ID: <366c6f340911290850o3d4e16dfg3e2318339f0b0f92@mail.gmail.com>

On Sun, Nov 29, 2009 at 10:40 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 29/11/2009 10:58 AM, Peng Yu wrote:
>>
>> Some lines are indented by tabs and some lines are indented by spaces,
>> in R source code. This might due to the fact that the source code is
>> not from a single person. But I think that it is better to enforce a
>> single convention.
>>
>> My editor defaults a tab to 8 spaces. So some source doesn't seem to
>> be indented correctly in my editor. Since tab may be displayed
>> differently in different editor, I recommend to replace all the tabs
>> by the appropriate number of spaces to ensure the same indentation
>> display.
>
> The R source code assumes that tabs occur every 8 columns, so if your editor
> is working properly, it should display files as intended.
>
>> Could somebody update the source code in the future version by
>> replacing tabs by spaces and enforce such a coding convention in the
>> future?
>
> No, that would not be feasible, for the reason you give in the second
> sentence of your post.

I don't understand why it is not feasible. The spaces are displayed
the same in all editors. If there are no tabs, the code should display
the same in all editors. I know some languages that are recommended to
have spaces rather than tabs for this reason.


From murdoch at stats.uwo.ca  Sun Nov 29 18:18:23 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 29 Nov 2009 12:18:23 -0500
Subject: [Rd] Tabs in R source code
In-Reply-To: <366c6f340911290850o3d4e16dfg3e2318339f0b0f92@mail.gmail.com>
References: <366c6f340911290758t71dd256dtd7975a49ae9155a7@mail.gmail.com>	<4B12A3FD.9010006@stats.uwo.ca>
	<366c6f340911290850o3d4e16dfg3e2318339f0b0f92@mail.gmail.com>
Message-ID: <4B12ACDF.2030506@stats.uwo.ca>

On 29/11/2009 11:50 AM, Peng Yu wrote:
> On Sun, Nov 29, 2009 at 10:40 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 29/11/2009 10:58 AM, Peng Yu wrote:
>>> Some lines are indented by tabs and some lines are indented by spaces,
>>> in R source code. This might due to the fact that the source code is
>>> not from a single person. But I think that it is better to enforce a
>>> single convention.
>>>
>>> My editor defaults a tab to 8 spaces. So some source doesn't seem to
>>> be indented correctly in my editor. Since tab may be displayed
>>> differently in different editor, I recommend to replace all the tabs
>>> by the appropriate number of spaces to ensure the same indentation
>>> display.
>> The R source code assumes that tabs occur every 8 columns, so if your editor
>> is working properly, it should display files as intended.
>>
>>> Could somebody update the source code in the future version by
>>> replacing tabs by spaces and enforce such a coding convention in the
>>> future?
>> No, that would not be feasible, for the reason you give in the second
>> sentence of your post.
> 
> I don't understand why it is not feasible. The spaces are displayed
> the same in all editors. If there are no tabs, the code should display
> the same in all editors. I know some languages that are recommended to
> have spaces rather than tabs for this reason.

It is not feasible because it would require everyone who edits the 
source code to change the configuration of their editors.  In my case, 
that would require changing about 3 different types of editors (I work 
on several different platforms).  I would probably miss one, and 
re-introduce tabs the next time I edited a file on that editor.

I've already seen problems in the NEWS and CHANGES files, which have 
recently changed to UTF-8 encoding.  It's very irritating that my editor 
switches back to the Windows default if it doesn't see a byte-order 
mark, and that some editors that I use automatically delete the BOM. 
Requiring a particular "encoding" for tabs (i.e. converting them to 
spaces) would lead to the same problems, but on a much bigger scale.

Duncan Murdoch


From simon.urbanek at r-project.org  Sun Nov 29 18:45:44 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 29 Nov 2009 12:45:44 -0500
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <4B11C55E.2060909@citycable.ch>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
	<4B11C55E.2060909@citycable.ch>
Message-ID: <F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>


On Nov 28, 2009, at 7:50 PM, Guillaume Yziquel wrote:

> Whit Armstrong a ?crit :
>> I've had success w/ using a reference counting paradigm in which the outside
>> memory manager calls UNPROTECT_PTR(R_object_); in its destructor.
>> So, in my case (using c++ ) if objects are allocated on the heap, which
>> allocate R objects as their backend storage, I don't have to worry about out
>> of order UNPROTECT calls b/c UNPROTECT_PTR will just put the objects that
>> c++ destroys on the gc list.
>> If you are using c as the glue for all your ocaml bindings, they you may
>> want to have a look at this:
>> http://github.com/armstrtw/rabstraction
>> Or the in progress re-write here: http://github.com/armstrtw/RObjects
>> -Whit
> 
> Thanks a lot for these pointers.
> 
> UNPROTECT_PTR seems quite interesting. As I understand it, it avoids caring about protecting and unprotecting in the order the stacks would expect. This is quite interesting, since I'd like to keep OCaml's GC to do housekeeping, and not rely on referencing counting.
> 

FWIW what I think you should be really looking at is R_PreserveObject/R_ReleaseObject. I would suggest looking at the many other R embeddings in other languages that already exist since I don't think you approach is very viable (but I think I expressed that already before).

Cheers,
Simon


> I'm using C as the glue, but I want it to be as thin as possible. I will probably not do reference counting in C, for instance. Nevertheless, there's obviously good ideas in rabstraction/RObjects that I'll adapt.
> 
> Thanks a lot.
> 
> -- 
>     Guillaume Yziquel
> http://yziquel.homelinux.org/
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From bolker at ufl.edu  Sun Nov 29 19:39:25 2009
From: bolker at ufl.edu (Ben Bolker)
Date: Sun, 29 Nov 2009 13:39:25 -0500
Subject: [Rd] tiny typos in R-exts
Message-ID: <4B12BFDD.6020807@ufl.edu>


1.  footnote 5, p. 52: "there is only a fine distinction between \dots
and \dots"

  I should hope so :-) (from context, I think one of these should be
\ldots instead)

2.  under "\keyword{key}", p. 45: "are not part of the packages' API."
Should that be "package's"  ?



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091129/917c25c5/attachment.bin>

From ripley at stats.ox.ac.uk  Sun Nov 29 19:45:58 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 29 Nov 2009 18:45:58 +0000 (GMT)
Subject: [Rd] Display list redraw incomplete
In-Reply-To: <4B129BCA.1080301@statistik.tu-dortmund.de>
References: <F5DD5E8F-10BA-4008-8FB3-33351189C361@jhsph.edu>
	<4B129BCA.1080301@statistik.tu-dortmund.de>
Message-ID: <alpine.LFD.2.00.0911291842540.17647@gannet.stats.ox.ac.uk>

On Sun, 29 Nov 2009, Uwe Ligges wrote:

>
>
> Benilton Carvalho wrote:
>> Hi,
>> 
>> I'm observing the following warning with R-2.10.0 on a machine I have 
>> remote access to. Like what happened to Roger ( 
>> http://www.mail-archive.com/r-devel at r-project.org/msg08669.html ), two 
>> extra instances of X11 are open after dev.off(). Although I'm reporting 
>> this on R-2.10.0, it's reproducible on R-devel r50541. Any thoughts about 
>> this?
>
>
> Does it also happen if you work on that machine directly? What's the exact 
> way you control that machine "remote"ly?
> I have never seens that and cannot reproduce it.

I have seen it: it seems to be an X11 timing issue.  If Benilton is 
that bothered, he could contribute a patch.

The issue appeared to be that X11 was issuing a repaint on a window 
after it had been closed: it ought to be possible to block that in the 
devX11 code -- but it needs someone with a reproducible setup to 
contribute the patch.

>
> Best,
> Uwe Ligges
>
>
>
>
>> Thanks a lot for any info,
>> 
>> b
>> 
>>> plot(1)
>>> dev.off()
>> X11   4 Warning message:
>> In dev.off() : Display list redraw incomplete
>>> sessionInfo()
>> R version 2.10.0 (2009-10-26) x86_64-unknown-linux-gnu 
>> locale:
>>  [1] LC_CTYPE=en_US.iso885915       LC_NUMERIC=C                   [3] 
>> LC_TIME=en_US.iso885915        LC_COLLATE=en_US.iso885915     [5] 
>> LC_MONETARY=C                  LC_MESSAGES=en_US.iso885915    [7] 
>> LC_PAPER=en_US.iso885915       LC_NAME=C                      [9] 
>> LC_ADDRESS=C                   LC_TELEPHONE=C                [11] 
>> LC_MEASUREMENT=en_US.iso885915 LC_IDENTIFICATION=C 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From guillaume.yziquel at citycable.ch  Sun Nov 29 19:57:27 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sun, 29 Nov 2009 19:57:27 +0100
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
	<4B11C55E.2060909@citycable.ch>
	<F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>
Message-ID: <4B12C417.1050308@citycable.ch>

Simon Urbanek a ?crit :
> On Nov 28, 2009, at 7:50 PM, Guillaume Yziquel wrote:
> 
> FWIW what I think you should be really looking at is R_PreserveObject/R_ReleaseObject.

OK. Thanks.

> I would suggest looking at the many other R embeddings in other languages that already exist since I don't think you approach is very viable (but I think I expressed that already before).

Lisp - the only thing I've seen is a translator:

http://dan.corlan.net/R_to_common_lisp_translator/

I haven't found a binding for Haskell. Nor for Scheme.

Do you know of any bindings of R to functional languages?

> since I don't think you approach is very viable (but I think I expressed that already before).

You expressed the sentiment that it would be a very bad idea to bypass 
the current API. I would be happy to hear why you would think that a 
low-level binding is not possible, or not very viable.

By low-level, I mean a binding that takes hold of R objects without 
using symbols all over to reference them. (Using symbols in the formals, 
the body or the environment of a closure is fine, for instance, but I'd 
like to execute a closure directly, and eventually be able to construct 
R closure from OCaml functions).

Please elaborate on the difficulties you perceive. That would be helpful.

> Cheers,
> Simon

All the best,

Guillaume.

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From murdoch at stats.uwo.ca  Sun Nov 29 20:02:11 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 29 Nov 2009 14:02:11 -0500
Subject: [Rd] tiny typos in R-exts
In-Reply-To: <4B12BFDD.6020807@ufl.edu>
References: <4B12BFDD.6020807@ufl.edu>
Message-ID: <4B12C533.2020009@stats.uwo.ca>

On 29/11/2009 1:39 PM, Ben Bolker wrote:
> 1.  footnote 5, p. 52: "there is only a fine distinction between \dots
> and \dots"
> 
>   I should hope so :-) (from context, I think one of these should be
> \ldots instead)
> 
> 2.  under "\keyword{key}", p. 45: "are not part of the packages' API."
> Should that be "package's"  ?

Thanks, I'll fix these.

Duncan Murdoch


From edd at debian.org  Sun Nov 29 23:10:36 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 29 Nov 2009 16:10:36 -0600
Subject: [Rd] [Fwd: opened symbols in libR.so available.]
In-Reply-To: <4B10F281.2070004@citycable.ch>
References: <4B10F281.2070004@citycable.ch>
Message-ID: <19218.61788.207127.525065@ron.nulle.part>


Two quick comments while I catch up with the email back log from travelling:

On 28 November 2009 at 10:50, Guillaume Yziquel wrote:
| I've been told that there's an interesting scheme, used by r-base-ra, to 

It's 'r-base-core-ra' and I mentioned that in off-line email only to show
that you can arrange to have more than one R interpreter in Debian.

On 29 November 2009 at 16:54, Guillaume Yziquel wrote:
| Interfacing to hidden symbols in order to try out stuff from an 
| interactive session is also a good reason.  I'd rather have to deal with 
| a moving API than contemplating an API moving.

As Duncan, Uwe, and I have told you already, this may get frustrating in the
long run as changes may break your bindings. Accessing a hidden API is doing
so against the wishes of the API designers / maintainers...

| That's what I did. As I did not want to screw up my whole Debian system, 
| I built up a package, which might be useful for people writing language 
| bindings. It's pointless to buy a second computer or meddle with chroots 
| just to recompile R. That's all.

You do not need a chroot or second computer either.  Just how r-base-core-ra
uses the normal --prefix argument to configure to install into a second,
non-overlapping file tree, you could use /usr/lib/ROcaml/ or some directory
other than /usr/lib/R + /usr/share/R which are taken by the R package for
Debian.  R developers use the same --prefix trick to keep r-releases,
r-patched, r-devel, ... installed at the same time.

Anyway, good luck with the endeavour. Something useful may well come from it.

Cheers, Dirk

-- 
Three out of two people have difficulties with fractions.


From ggrothendieck at gmail.com  Mon Nov 30 01:38:17 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 29 Nov 2009 19:38:17 -0500
Subject: [Rd] tzone attribute gets stripped on POSIXct variable
Message-ID: <971536df0911291638l37f4cd9aic47fbd74320bbcc9@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091129/da6bff6f/attachment.pl>

From maechler at stat.math.ethz.ch  Mon Nov 30 12:08:22 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 30 Nov 2009 12:08:22 +0100
Subject: [Rd] "bug report" field in DESCRIPTION file?
In-Reply-To: <4B116AAB.2000200@stats.uwo.ca>
References: <d8ad40b50911260409t4b0531fftc4486d51677998f8@mail.gmail.com>
	<4B0E850F.3090105@stats.uwo.ca>
	<d8ad40b50911260938g4c499f09y2d610ab6bd38163b@mail.gmail.com>
	<4B116AAB.2000200@stats.uwo.ca>
Message-ID: <19219.42918.194862.244529@lynne.math.ethz.ch>

>>>>> "DM" == Duncan Murdoch <murdoch at stats.uwo.ca>
>>>>>     on Sat, 28 Nov 2009 13:23:39 -0500 writes:

    DM> On 26/11/2009 12:38 PM, Barry Rowlingson wrote:
    >> On Thu, Nov 26, 2009 at 1:39 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
    >> 
    >>> This sounds like a good idea, though I would add a "package" parameter to
    >>> the bug.report() function, rather than creating a new function.
    >> 
    >> I'm sure when I did help.search("bug") and help.search("report") this
    >> morning I didn't see this function! Otherwise I would have suggested
    >> that. bug.report(package="bazbrain"). Oh dear, no maintainer.
    >> 
    >>> Does the logic below sound right for bug.report() with the package
    >>> specified?
    >>> 
    >>> If there's a BugReports field, bug.report() calls browseURL() on that page.
    >>> 
    >>> If not, it does more or less what it does now, but
    >>> - it defaults "address" to the package maintainer. - it adds a line in the
    >>> intro to the message pointing to the URL field if there was one.
    >> 
    >> Martin Maechler's reservation about not being able to fill in the R
    >> details for bug reports on trackers isn't too much of a problem, since
    >> the bug tracker form could have fields for R version, session info
    >> etc, or at least a big warning saying "Please include the following
    >> info" (inside a <blink> tag).
    >> 
    >> So how about if bug.report(package="foo") has a BugReports: field,
    >> you print out 'The following information may be useful to your bug
    >> report' and dump the relevant things ready for cut n paste into a bug
    >> tracker, then browseURL().

    DM> I've just committed this to R-devel.  Thanks for the suggestion, and 
    DM> thanks in advance for any improvements.

    DM> Duncan Murdoch

Thank you, Duncan, and Barry!  This seems really useful now.
As a package maintainer, I'd definitely want the user to provide
the sessionInfo() etc.
Hence providing that to the user for cut'n'paste into a web form
seems a nice approach.

Martin Maechler, ETH Zurich


From dsimcha at gmail.com  Mon Nov 30 04:00:12 2009
From: dsimcha at gmail.com (dsimcha at gmail.com)
Date: Mon, 30 Nov 2009 04:00:12 +0100 (CET)
Subject: [Rd] cor.test(method = spearman, exact = TRUE)  not exact (PR#14095)
Message-ID: <20091130030012.843D0282EF50@mail.pubhealth.ku.dk>

Full_Name: David Simcha
Version: 2.10
OS: Windows XP Home
Submission from: (NULL) (173.3.208.5)


> a <- c(1:10)
> b <- c(1:10)
> cor.test(a, b, method = "spearman", alternative = "greater", exact = TRUE)

        Spearman's rank correlation rho

data:  a and b 
S = 0, p-value < 2.2e-16
alternative hypothesis: true rho is greater than 0 
sample estimates:
rho 
  1 

> 1 / factorial(10)
[1] 2.755732e-07

Since we have perfect rank correlation and only one permutation out of 10! could
give this for N = 10, the p-value should be 1/10!.  Reading the code in prho.c,
it appears that the "exact" calculation uses the Edgeworth approximation for N >
9.  This makes sense because, for similar examples with N <= 9, the results are
as expected (1 / N!).

The "exact" p-value calculation is good enough for most practical purposes, but
is clearly not exact.  Some informal testing I've done indicates that it can
even be less accurate than the "approximate" p-value calculation in some cases. 
I think it's absurd to call these p-values "exact" when they are clearly based
on an asymptotic approximation that can be off by orders of magnitude in some
cases.


From savicky at cs.cas.cz  Mon Nov 30 12:58:20 2009
From: savicky at cs.cas.cz (Petr Savicky)
Date: Mon, 30 Nov 2009 12:58:20 +0100
Subject: [Rd] cor.test(method = spearman,
	exact = TRUE)  not exact (PR#14095)
In-Reply-To: <20091130030012.843D0282EF50@mail.pubhealth.ku.dk>
References: <20091130030012.843D0282EF50@mail.pubhealth.ku.dk>
Message-ID: <20091130115820.GA24040@cs.cas.cz>

On Mon, Nov 30, 2009 at 04:00:12AM +0100, dsimcha at gmail.com wrote:
> > a <- c(1:10)
> > b <- c(1:10)
> > cor.test(a, b, method = "spearman", alternative = "greater", exact = TRUE)
> 
>         Spearman's rank correlation rho
> 
> data:  a and b 
> S = 0, p-value < 2.2e-16
> alternative hypothesis: true rho is greater than 0 
> sample estimates:
> rho 
>   1 
> 
> > 1 / factorial(10)
> [1] 2.755732e-07
> 
> Since we have perfect rank correlation and only one permutation out of 10! could
> give this for N = 10, the p-value should be 1/10!.  Reading the code in prho.c,
> it appears that the "exact" calculation uses the Edgeworth approximation for N >
> 9.  This makes sense because, for similar examples with N <= 9, the results are
> as expected (1 / N!).

The Edgeworth approximation is not exact, although the error is quite small.
Computing the exact values has time complexity roughly 2^n, if Ryser's formula
for permanent is used. In cases, where one needs the exact values for small n,
it is possible to use the package pspearman at CRAN, which includes precomuted
values up to n=22. See also the paper
  M.A. van de Wiel and A. Di Bucchianico,
  Fast computation of the exact null distribution of Spearman's rho and Page's L statistic
  for samples with and without ties, J. Stat. Plann. Inf. 92 (2001), pp. 133-145.
which deals with this question.

  library(pspearman)
  a <- c(1:10)
  b <- c(1:10)
  out <- spearman.test(a, b, alternative = "greater", approximation="exact")
  out
  #         Spearman's rank correlation rho
  # data:  a and b 
  # S = 0, p-value = 2.756e-07
  # alternative hypothesis: true rho is greater than 0 
  # sample estimates:
  # rho 
  #   1 
  out$p.value - 1/factorial(10) # [1] 0

PS.


From maechler at stat.math.ethz.ch  Mon Nov 30 14:10:45 2009
From: maechler at stat.math.ethz.ch (maechler at stat.math.ethz.ch)
Date: Mon, 30 Nov 2009 14:10:45 +0100 (CET)
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
Message-ID: <20091130131045.EA35D282EFC7@mail.pubhealth.ku.dk>

>>>>> Tony Plate <tplate at acm.org>
>>>>>     on Sun, 22 Nov 2009 10:21:33 -0600 writes:

    > maechler at stat.math.ethz.ch wrote:
    >>>>>>> "PD" == Peter Dalgaard <p.dalgaard at biostat.ku.dk>
    >>>>>>> on Fri, 20 Nov 2009 09:54:34 +0100 writes:
    >>>>>>> 
    >> 
    PD> mark at celos.net wrote:
    >> >> Arrays of POSIXlt dates always return a length of 9.  This
    >> >> is correct (they're really lists of vectors of seconds,
    >> >> hours, and so forth), but other methods disguise them as
    >> >> flat vectors, giving superficially surprising behaviour:
    >> >> 
    >> >> strings <- paste('2009-1-', 1:31, sep='')
    >> >> dates <- strptime(strings, format="%Y-%m-%d")
    >> >> 
    >> >> print(dates)
    >> >> #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" "2009-01-05"
    >> >> #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09" "2009-01-10"
    >> >> # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14" "2009-01-15"
    >> >> # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19" "2009-01-20"
    >> >> # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24" "2009-01-25"
    >> >> # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29" "2009-01-30"
    >> >> # [31] "2009-01-31"
    >> >> 
    >> >> print(length(dates))
    >> >> # [1] 9
    >> >> 
    >> >> str(dates)
    >> >> # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" ...
    >> >> 
    >> >> print(dates[20])
    >> >> # [1] "2009-01-20"
    >> >> 
    >> >> print(length(dates[20]))
    >> >> # [1] 9
    >> >> 
    >> >> I've since realised that POSIXct makes date vectors easier,
    >> >> but could we also have something like:
    >> >> 
    >> >> length.POSIXlt <- function(x) { length(x$sec) }
    >> >> 
    >> >> in datetime.R, to avoid breaking functions (like the
    >> >> str.POSIXt method) which use length() in this way?
    >> 
    >> 
    PD> [You need "wishlist" in the title for this sort of stuff.]
    >> 
    PD> I'd be wary of this. Just the other day we found that identical() broke 
    PD> on some objects because a package had length() redefined as a class 
    PD> method. I.e. the danger is that something wants to use length() with its 
    PD> original low-level interpretation.
    >> 
    >> Yes, of course.
    >> and Romain mentioned  str().  Note that we have needed to define
    >> a "POSIXt" method for str(), partly just *because* of the
    >> current anomaly:
    >> As Tony Plate, e.g., has argued, entirely correctly in my view,
    >> the anomaly is that    length() and "["   are not compatible;
    >> and while I think no R language definition says that they should
    >> be, I still believe that you need very good reasons for them to
    >> be incompatible, as they are for POSIXlt.
    >> 
    >> In the current case, for me the only good reason is backwards
    >> compatibility.
    >> My personal taste would be to change it and see what happens.
    >> I would be willing to clean up after that change within R 'base'
    >> and all packages I am coauthoring (quite a few), but of course
    >> there are still a thousand more R packages..
    >> My strong bet would be that less than 1% would be affected,
    >> and my point guess for the percentage affected would be
    >> rather in the order of  1/1000.
    >> 
    >> The question is if we (you too!), the R community, are willing to
    >> bear the load of cleanup, after such a change which would really
    >> *improve* consistency of that small corner of R.
    >> For me, as I indicated above, I am willing to bear my share
    >> (and actually have got it ready for R-devel)

    > Would be great to see this change!  Surely the right way to do things is 
    > that functions that wish to examine the low level structure of S3 
    > objects should use unclass() before looking at length and elements, so 
    > there's no reason for a class such as POSIXlt to not provide a 
    > logical-level length method.

I have now committed such a change to R-devel (only!), revision 50616.
Thank you and Gabor and others for supporting this.

As said here earlier in this thread:  We must be ready to see
that this change can break other code that implicitly assumed
the "old" i.e.  pre R-devel (2.11.x) behavior.

As I also said earlier, I'm prepared to help package authors to
fix their code accordingly,
but I'd be grateful to be notified *if* problems surface from
this.

Martin Maechler, ETH Zurich


    > At a broader level, when I've designed vector/array classes, I've 
    > wondered what methods I should define, but have been unable to find any 
    > specification of a set of methods.  When one thinks about it, there are 
    > actually quite a set of strongly-connected methods with quite a lot a 
    > behaviors to implement, e.g., length, '[' (with logical, numeric & 
    > character indicies, including 0 and NA possibilities), '[[', 'c', and 
    > then optionally 'names', and then for multi-dim objects, 'dim', 
    > 'dimnames', etc.  Consequently, last time this discussion on length and 
    > '[' methods POSIXlt came up, I wrote a function that automatically 
    > tested behavior of all these methods on a specified class and summarizes 
    > the behavior.  If anyone is interested in such a thing, I'd be happy to 
    > dig it up and distribute it (I'd attach it to this message, but I'm on 
    > vacation and don't have access to the compute that I think it's on.)

    > -- Tony Plate

    >> Martin Maechler, ETH Zurich (and R Core Team)
    >> 
    >> ______________________________________________
    >> R-devel at r-project.org mailing list
    >> https://stat.ethz.ch/mailman/listinfo/r-devel
    >> 
    >> 

    > ______________________________________________
    > R-devel at r-project.org mailing list
    > https://stat.ethz.ch/mailman/listinfo/r-devel


From bcarvalh at jhsph.edu  Mon Nov 30 14:41:41 2009
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Mon, 30 Nov 2009 11:41:41 -0200
Subject: [Rd] Surprising length() of POSIXlt vector (PR#14073)
In-Reply-To: <20091130131045.EA35D282EFC7@mail.pubhealth.ku.dk>
References: <20091130131045.EA35D282EFC7@mail.pubhealth.ku.dk>
Message-ID: <193C4CC8-0E1C-495B-B7D6-780AD78E43BA@jhsph.edu>

Thank you Martin, for putting this together. Cheers, b
On Nov 30, 2009, at 11:10 AM, maechler at stat.math.ethz.ch wrote:

>>>>>> Tony Plate <tplate at acm.org>
>>>>>>    on Sun, 22 Nov 2009 10:21:33 -0600 writes:
> 
>> maechler at stat.math.ethz.ch wrote:
>>>>>>>> "PD" == Peter Dalgaard <p.dalgaard at biostat.ku.dk>
>>>>>>>> on Fri, 20 Nov 2009 09:54:34 +0100 writes:
>>>>>>>> 
>>> 
>    PD> mark at celos.net wrote:
>>>>> Arrays of POSIXlt dates always return a length of 9.  This
>>>>> is correct (they're really lists of vectors of seconds,
>>>>> hours, and so forth), but other methods disguise them as
>>>>> flat vectors, giving superficially surprising behaviour:
>>>>> 
>>>>> strings <- paste('2009-1-', 1:31, sep='')
>>>>> dates <- strptime(strings, format="%Y-%m-%d")
>>>>> 
>>>>> print(dates)
>>>>> #  [1] "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" "2009-01-05"
>>>>> #  [6] "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09" "2009-01-10"
>>>>> # [11] "2009-01-11" "2009-01-12" "2009-01-13" "2009-01-14" "2009-01-15"
>>>>> # [16] "2009-01-16" "2009-01-17" "2009-01-18" "2009-01-19" "2009-01-20"
>>>>> # [21] "2009-01-21" "2009-01-22" "2009-01-23" "2009-01-24" "2009-01-25"
>>>>> # [26] "2009-01-26" "2009-01-27" "2009-01-28" "2009-01-29" "2009-01-30"
>>>>> # [31] "2009-01-31"
>>>>> 
>>>>> print(length(dates))
>>>>> # [1] 9
>>>>> 
>>>>> str(dates)
>>>>> # POSIXlt[1:9], format: "2009-01-01" "2009-01-02" "2009-01-03" "2009-01-04" ...
>>>>> 
>>>>> print(dates[20])
>>>>> # [1] "2009-01-20"
>>>>> 
>>>>> print(length(dates[20]))
>>>>> # [1] 9
>>>>> 
>>>>> I've since realised that POSIXct makes date vectors easier,
>>>>> but could we also have something like:
>>>>> 
>>>>> length.POSIXlt <- function(x) { length(x$sec) }
>>>>> 
>>>>> in datetime.R, to avoid breaking functions (like the
>>>>> str.POSIXt method) which use length() in this way?
>>> 
>>> 
>    PD> [You need "wishlist" in the title for this sort of stuff.]
>>> 
>    PD> I'd be wary of this. Just the other day we found that identical() broke
>    PD> on some objects because a package had length() redefined as a class
>    PD> method. I.e. the danger is that something wants to use length() with its
>    PD> original low-level interpretation.
>>> 
>>> Yes, of course.
>>> and Romain mentioned  str().  Note that we have needed to define
>>> a "POSIXt" method for str(), partly just *because* of the
>>> current anomaly:
>>> As Tony Plate, e.g., has argued, entirely correctly in my view,
>>> the anomaly is that    length() and "["   are not compatible;
>>> and while I think no R language definition says that they should
>>> be, I still believe that you need very good reasons for them to
>>> be incompatible, as they are for POSIXlt.
>>> 
>>> In the current case, for me the only good reason is backwards
>>> compatibility.
>>> My personal taste would be to change it and see what happens.
>>> I would be willing to clean up after that change within R 'base'
>>> and all packages I am coauthoring (quite a few), but of course
>>> there are still a thousand more R packages..
>>> My strong bet would be that less than 1% would be affected,
>>> and my point guess for the percentage affected would be
>>> rather in the order of  1/1000.
>>> 
>>> The question is if we (you too!), the R community, are willing to
>>> bear the load of cleanup, after such a change which would really
>>> *improve* consistency of that small corner of R.
>>> For me, as I indicated above, I am willing to bear my share
>>> (and actually have got it ready for R-devel)
> 
>> Would be great to see this change!  Surely the right way to do things is
>> that functions that wish to examine the low level structure of S3
>> objects should use unclass() before looking at length and elements, so
>> there's no reason for a class such as POSIXlt to not provide a
>> logical-level length method.
> 
> I have now committed such a change to R-devel (only!), revision 50616.
> Thank you and Gabor and others for supporting this.
> 
> As said here earlier in this thread:  We must be ready to see
> that this change can break other code that implicitly assumed
> the "old" i.e.  pre R-devel (2.11.x) behavior.
> 
> As I also said earlier, I'm prepared to help package authors to
> fix their code accordingly,
> but I'd be grateful to be notified *if* problems surface from
> this.
> 
> Martin Maechler, ETH Zurich
> 
> 
>> At a broader level, when I've designed vector/array classes, I've
>> wondered what methods I should define, but have been unable to find any
>> specification of a set of methods.  When one thinks about it, there are
>> actually quite a set of strongly-connected methods with quite a lot a
>> behaviors to implement, e.g., length, '[' (with logical, numeric &
>> character indicies, including 0 and NA possibilities), '[[', 'c', and
>> then optionally 'names', and then for multi-dim objects, 'dim',
>> 'dimnames', etc.  Consequently, last time this discussion on length and
>> '[' methods POSIXlt came up, I wrote a function that automatically
>> tested behavior of all these methods on a specified class and summarizes
>> the behavior.  If anyone is interested in such a thing, I'd be happy to
>> dig it up and distribute it (I'd attach it to this message, but I'm on
>> vacation and don't have access to the compute that I think it's on.)
> 
>> -- Tony Plate
> 
>>> Martin Maechler, ETH Zurich (and R Core Team)
>>> 
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> 
>>> 
> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From romain.francois at dbmail.com  Mon Nov 30 15:02:53 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Mon, 30 Nov 2009 15:02:53 +0100
Subject: [Rd] include body in the call to httpd
Message-ID: <4B13D08D.9050600@dbmail.com>

Hello,

Would it be possible to include the body of the request that is sent to 
the internal web server as the "body" argument of the httpd function ?

At the moment, in Rhttpd.c the body is filled as part of the 
worker_input_handler, but it does not arrive to the R side (the httpd 
function).

I'm attaching a small patch that adds a "body" argument to httpd and 
sets it to either NULL when there is no body or the body, as a raw vector.

Romain

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/FtUu : new package : highlight
|- http://tr.im/EAD5 : LondonR slides
`- http://tr.im/BcPw : celebrating R commit #50000

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: body.txt
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091130/6a87d98a/attachment.txt>

From simon.urbanek at r-project.org  Mon Nov 30 15:15:08 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Nov 2009 09:15:08 -0500
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <4B12C417.1050308@citycable.ch>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
	<4B11C55E.2060909@citycable.ch>
	<F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>
	<4B12C417.1050308@citycable.ch>
Message-ID: <65D411CD-34C3-4B89-8FF0-98C9BD7613FB@r-project.org>

Guillaume,

On Nov 29, 2009, at 13:57 , Guillaume Yziquel wrote:

> Simon Urbanek a ?crit :
>> On Nov 28, 2009, at 7:50 PM, Guillaume Yziquel wrote:
>> FWIW what I think you should be really looking at is  
>> R_PreserveObject/R_ReleaseObject.
>
> OK. Thanks.
>
>> I would suggest looking at the many other R embeddings in other  
>> languages that already exist since I don't think you approach is  
>> very viable (but I think I expressed that already before).
>
> Lisp - the only thing I've seen is a translator:
>
> http://dan.corlan.net/R_to_common_lisp_translator/
>
> I haven't found a binding for Haskell. Nor for Scheme.
>
> Do you know of any bindings of R to functional languages?
>
>> since I don't think you approach is very viable (but I think I  
>> expressed that already before).
>
> You expressed the sentiment that it would be a very bad idea to  
> bypass the current API. I would be happy to hear why you would think  
> that a low-level binding is not possible, or not very viable.
>
> By low-level, I mean a binding that takes hold of R objects without  
> using symbols all over to reference them. (Using symbols in the  
> formals, the body or the environment of a closure is fine, for  
> instance, but I'd like to execute a closure directly, and eventually  
> be able to construct R closure from OCaml functions).
>

You're talking about two entirely different things -- bypassing the  
API is a very bad idea, but it has nothing to do with your last  
paragraph. The API gives you access all user-visible aspects of R  
which is all you really need for any embedding -- that includes  
closure body, evaluation etc. I see no reason why you should ever go  
lower than the API since that is unreliable and unsupported and thus  
you won't get any help with that (that is IMHO the main reason why you  
get no responses here - and I wouldn't expect any). All other  
functions are hidden on purpose since they cover internal aspects that  
should not be relied upon.

So again, I just think you're operating on the wrong level here -- and  
this has nothing to do with the fact that you're binding to a  
functional language since the mechanisms are the same regardless of  
the languages (that's why Omegahat was used to bind into any random  
language that seemed useful). You get more headaches since you have to  
decide how to handle closures both ways, but I suspect the practical  
solution is to use evaluators on the side where the function is  
defined (especially for the R side since it includes non-S-language  
code so you simply cannot map it).

If you have suggestions for extending the API, feel free to post them  
with exact explanations how in general that extensions could be useful  
(general is the key word here - I think so far it was rather to hack  
around your way of implementing it). [And FWIW tryEval *is* part of  
the API].

Cheers,
Simon


> Please elaborate on the difficulties you perceive. That would be  
> helpful.
>
>> Cheers,
>> Simon
>
> All the best,
>
> Guillaume.
>
> -- 
>     Guillaume Yziquel
> http://yziquel.homelinux.org/
>
>


From lgautier at gmail.com  Mon Nov 30 15:40:22 2009
From: lgautier at gmail.com (Laurent Gautier)
Date: Mon, 30 Nov 2009 15:40:22 +0100
Subject: [Rd] :Re:  PROTECT and OCaml GC.
In-Reply-To: <mailman.15.1259578805.1160.r-devel@r-project.org>
References: <mailman.15.1259578805.1160.r-devel@r-project.org>
Message-ID: <4B13D956.7030608@gmail.com>

>>> On Nov 28, 2009, at 7:50 PM, Guillaume Yziquel wrote:
>>> 
>>> FWIW what I think you should be really looking at is
>>> R_PreserveObject/R_ReleaseObject.
> 
> OK. Thanks.
>>> I would suggest looking at the many other R embeddings in other
>>> languages that already exist since I don't think you approach is
>>> very viable (but I think I expressed that already before).
> 
> Lisp - the only thing I've seen is a translator:
> 
> http://dan.corlan.net/R_to_common_lisp_translator/
> 
> I haven't found a binding for Haskell. Nor for Scheme.
> 
> Do you know of any bindings of R to functional languages?

It does not have to be a functional language.
To see it in use within a some-language-to-R bridge, you can check the
source in JRI, rpy2.
I can mostly speak for rpy2, and the way it is done there relies on both 
R and Python's GC. Creating a anonymous R object presented to the Python 
world is first "R_preserved" (from garbage collection from R) then using 
Python's reference counting mechanism, calling an "R_Release" whenever 
the Python wrapper is available for garbage collection (in fact there is 
a twist, but this is roughly the way it is working). In your case, 
you'll use the OCaml GC system (and "R_release" the R object when its 
OCaml representation is going for garbage collection).



>>> since I don't think you approach is very viable (but I think I
>>> expressed that already before).
> 
> You expressed the sentiment that it would be a very bad idea to
> bypass the current API. I would be happy to hear why you would think
> that a low-level binding is not possible, or not very viable.
> 
> By low-level, I mean a binding that takes hold of R objects without 
> using symbols all over to reference them. (Using symbols in the
> formals, the body or the environment of a closure is fine, for
> instance, but I'd like to execute a closure directly, and eventually
> be able to construct R closure from OCaml functions).

Rpy2 can do a lot of that, and probably so can JRI.

> Please elaborate on the difficulties you perceive. That would be
> helpful.

Symbols are used in various places in R, checking the outcome of 
deparse(substitute()) on an anonymous variable of large size could tell 
you that some things will not work out of the box nicely.


HTH,


L.




>>> Cheers, Simon
> 
> All the best,
> 
> Guillaume.
> 
> -- Guillaume Yziquel http://yziquel.homelinux.org/


From guillaume.yziquel at citycable.ch  Mon Nov 30 15:59:05 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Mon, 30 Nov 2009 15:59:05 +0100
Subject: [Rd] :Re:  PROTECT and OCaml GC.
In-Reply-To: <4B13D956.7030608@gmail.com>
References: <mailman.15.1259578805.1160.r-devel@r-project.org>
	<4B13D956.7030608@gmail.com>
Message-ID: <4B13DDB9.5060703@citycable.ch>

Laurent Gautier a ?crit :
> 
> It does not have to be a functional language.
> To see it in use within a some-language-to-R bridge, you can check the
> source in JRI, rpy2.
> I can mostly speak for rpy2, and the way it is done there relies on both 
> R and Python's GC. Creating a anonymous R object presented to the Python 
> world is first "R_preserved" (from garbage collection from R) then using 
> Python's reference counting mechanism, calling an "R_Release" whenever 
> the Python wrapper is available for garbage collection (in fact there is 
> a twist, but this is roughly the way it is working). In your case, 
> you'll use the OCaml GC system (and "R_release" the R object when its 
> OCaml representation is going for garbage collection).

For now, garbage collection is a secondary issue.

I would have been interested in a binding to a functional language to 
see exactly where you get a closure to closure mapping. That's why I was 
asking since that's what I'm foremost interested in.

>> By low-level, I mean a binding that takes hold of R objects without 
>> using symbols all over to reference them. (Using symbols in the
>> formals, the body or the environment of a closure is fine, for
>> instance, but I'd like to execute a closure directly, and eventually
>> be able to construct R closure from OCaml functions).
> 
> Rpy2 can do a lot of that, and probably so can JRI.

An anonymous closure to anonymous closure mapping? Could you point out 
where this is done exactly?

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From lgautier at gmail.com  Mon Nov 30 16:56:36 2009
From: lgautier at gmail.com (Laurent Gautier)
Date: Mon, 30 Nov 2009 16:56:36 +0100
Subject: [Rd] :Re:  PROTECT and OCaml GC.
In-Reply-To: <4B13DDB9.5060703@citycable.ch>
References: <mailman.15.1259578805.1160.r-devel@r-project.org>
	<4B13D956.7030608@gmail.com> <4B13DDB9.5060703@citycable.ch>
Message-ID: <4B13EB34.8090207@gmail.com>

Guillaume Yziquel wrote:
> Laurent Gautier a ?crit :
>>
>> It does not have to be a functional language.
>> To see it in use within a some-language-to-R bridge, you can check the
>> source in JRI, rpy2.
>> I can mostly speak for rpy2, and the way it is done there relies on 
>> both R and Python's GC. Creating a anonymous R object presented to the 
>> Python world is first "R_preserved" (from garbage collection from R) 
>> then using Python's reference counting mechanism, calling an 
>> "R_Release" whenever the Python wrapper is available for garbage 
>> collection (in fact there is a twist, but this is roughly the way it 
>> is working). In your case, you'll use the OCaml GC system (and 
>> "R_release" the R object when its OCaml representation is going for 
>> garbage collection).
> 
> For now, garbage collection is a secondary issue.
> 
> I would have been interested in a binding to a functional language to 
> see exactly where you get a closure to closure mapping. That's why I was 
> asking since that's what I'm foremost interested in.
> 
>>> By low-level, I mean a binding that takes hold of R objects without 
>>> using symbols all over to reference them. (Using symbols in the
>>> formals, the body or the environment of a closure is fine, for
>>> instance, but I'd like to execute a closure directly, and eventually
>>> be able to construct R closure from OCaml functions).
>>
>> Rpy2 can do a lot of that, and probably so can JRI.
> 
> An anonymous closure to anonymous closure mapping? Could you point out 
> where this is done exactly?
> 

Anonymous R objects, that is without an associated symbol in R, can be 
passed to functions (and in that way makes a binding "take hold of R 
objects without using symbols").
For example, building R code made of anonymous objects can be achieved 
by making a LANGSXP object and tweaking it.

Example in R itself:
 > x <- call("round", 2.3)
 > eval(x)
[1] 2
 > x[[1]] <- function(x) x^2
 > eval(x)
[1] 5.29

Getting more complex constructs may need a little more trickery.

...or do you mean something else ?


L.


From guillaume.yziquel at citycable.ch  Mon Nov 30 18:08:31 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Mon, 30 Nov 2009 18:08:31 +0100
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <65D411CD-34C3-4B89-8FF0-98C9BD7613FB@r-project.org>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
	<4B11C55E.2060909@citycable.ch>
	<F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>
	<4B12C417.1050308@citycable.ch>
	<65D411CD-34C3-4B89-8FF0-98C9BD7613FB@r-project.org>
Message-ID: <4B13FC0F.40604@citycable.ch>

Simon Urbanek a ?crit :
> 
> You're talking about two entirely different things -- bypassing the API 
> is a very bad idea, but it has nothing to do with your last paragraph. 

It's very good to hear that it's two different things. This has been 
quite unclear to me.

> The API gives you access all user-visible aspects of R which is all you 
> really need for any embedding -- that includes closure body, evaluation 
> etc. I see no reason why you should ever go lower than the API

Because I've been unable to find what exactly applyClosure or eval 
requires, when it comes to the structure of the argument LANGSXP. For 
example.

> since 
> that is unreliable and unsupported and thus you won't get any help with 
> that (that is IMHO the main reason why you get no responses here - and I 
> wouldn't expect any). All other functions are hidden on purpose since 
> they cover internal aspects that should not be relied upon.

Please let me be clear on my intentions:

-1- I intend to use only the API if possible.

-2- If not possible, I will perhaps use #define USE_RINTERNALS, which as 
I understand is not part of the API.

-3- The libR.so with opened symbols is intended only as a replacement of 
GDB during development. Unfortunately, as things are not going as easily 
as it could, I am, for gdb-like purposes, writing progressively a new 
eval / applyClosure duo in OCaml.

The option -3- will not appear in the interface I will release.

In order to discriminate between option -1- and options -1- + -2-, could 
you please answer the following question, which I hope falls in the 
scope of legitimate questions on this mailing list:

Suppose I have an OCaml (or pure C if you wish) linked list of OCaml 
value wrapping SEXP values. Is it possible, using only the API, to 
create a LANGSXP / LISTSXP list out of these SEXPs?

I guess this is the crucial point where I hit the limits of the API. 
Please confirm or infirm.

> So again, I just think you're operating on the wrong level here -- and 
> this has nothing to do with the fact that you're binding to a functional 
> language since the mechanisms are the same regardless of the languages 
> (that's why Omegahat was used to bind into any random language that 
> seemed useful).

Will look into Omegahat. Not yet very familiar with R userland.

> You get more headaches since you have to decide how to 
> handle closures both ways, but I suspect the practical solution is to 
> use evaluators on the side where the function is defined (especially for 
> the R side since it includes non-S-language code so you simply cannot 
> map it).

Ok. So suppose I have wrapped an anonymous R closure, called op.

This closure takes two arguments, a string, and yields a float.

I therefore need to write a function "eval_this_op" whose type would be:

eval_this_op : (string -> int) R.t -> string R.t -> int R.t

Essentially, eval_this_op takes three arguments, a wrapped anonymous R 
closure, an R string, and yields an R integer.

How could you write such an eval_this_op function without first solving 
the crucial issue in the above paragraph, which is basically 
constructing a LANGSXP out of an anonymous closure and an R string?

> If you have suggestions for extending the API, feel free to post them 
> with exact explanations how in general that extensions could be useful 
> (general is the key word here - I think so far it was rather to hack 
> around your way of implementing it). [And FWIW tryEval *is* part of the 
> API].

Please take into account that OCaml's type system is extremely strong. 
"My way of implementing it", as you call it, is essentially the most 
natural way to fit in the OCaml paradigm. I must satisfy both OCaml and 
R paradigms in order to write a correct binding.

Please note that it is not an embedding in a random application. It aims 
to be a full blown binding for general purpose. In OCaml, values are 
immutable. Really, really, really immutable. Or they are signals, 
immutable abstractions describing a value that changes overtime. 
Symbols, variables and such are not welcome. References (~pointers) are 
statically typed and *cannot* be type casted. The type checking is so 
strong that you should almost never have to throw an exception. This 
means avoiding dynamic type-checking everywhere it's possible to avoid. 
This means that a function that takes a sexp to yield the underlying 
function should not have to raise an exception if the sexp is not a 
function. It should therefore not have to dynamically typecheck the sexp 
at runtime. This means that you have to enhance the type system to 
*statically* declare (or infer) that this sexp is a LANGSXP. Therefore 
you have to use a polymorphic type system (somehow ~ C++ templated 
types) to say "lang sxp" "list sxp" "sym sxp", etc... You get the idea?

This is not "my way". It's the OCaml way: They like to statically 
type-check *everything* , including HTML. Please have a look at section 
"Static typing of XHTML with XHTML.M" of

	http://ocsigen.org/eliom/manual/1.2.0/1#p1baseprinciples

Do you know why the Swig module for OCaml is virtually unused? Because 
the OCaml community does not consider it type-safe enough. And it will 
go somehow the same for Haskell.

The "general" aspect of my request therefore concerns bindings to 
languages with 'inferred polymorphic static typing'. Please understand 
what these languages are about before dismissing my remarks as "my way". 
You may not care, you wouldn't be the first.

 From Wikipedia: http://en.wikipedia.org/wiki/Objective_Caml

> OCaml's static type system eliminates a large class of programmer errors that may cause problems at runtime. However, it also forces the programmer to conform to the constraints of the type system, which can require careful thought and close attention. A type-inferring compiler greatly reduces the need for manual type annotations (for example, the data type of variables and the signature of functions usually do not need to be explicitly declared, as they do in Java). Nonetheless, effective use of OCaml's type system can require some sophistication on the part of the programmer.

Please understand that I take no joy and no fun in being a pain.

If you force me to write a binding that wouldn't be type safe, it would 
be unused. This is simply not acceptable to me: I am unfortunately not 
willing to waste my time. And will then eventually have to bypass the 
API. Please help me avoid that as much as it is possible with these 
constraints.

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From guillaume.yziquel at citycable.ch  Mon Nov 30 18:30:30 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Mon, 30 Nov 2009 18:30:30 +0100
Subject: [Rd] :Re:  PROTECT and OCaml GC.
In-Reply-To: <4B13EB34.8090207@gmail.com>
References: <mailman.15.1259578805.1160.r-devel@r-project.org>
	<4B13D956.7030608@gmail.com> <4B13DDB9.5060703@citycable.ch>
	<4B13EB34.8090207@gmail.com>
Message-ID: <4B140136.5030100@citycable.ch>

Laurent Gautier a ?crit :
> 
> Anonymous R objects, that is without an associated symbol in R, can be 
> passed to functions (and in that way makes a binding "take hold of R 
> objects without using symbols").
> For example, building R code made of anonymous objects can be achieved 
> by making a LANGSXP object and tweaking it.
> 
> Example in R itself:
>  > x <- call("round", 2.3)
>  > eval(x)
> [1] 2
>  > x[[1]] <- function(x) x^2
>  > eval(x)
> [1] 5.29
> 
> Getting more complex constructs may need a little more trickery.
> 
> ...or do you mean something else ?
> 
> L.

You're saying "anonymous R objects can be passed to functions". My 
question is:

can you construct a LANGSXP in C/Python/rpy from R objects and an 
anonymous R closure, the closure being available from C as a SEXP 
closure. Can you write a function

	SEXP my_langsxp (SEXP closure, SEXP arglist);

with only the API?

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From simon.urbanek at r-project.org  Mon Nov 30 18:46:05 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Nov 2009 12:46:05 -0500
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <4B13FC0F.40604@citycable.ch>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
	<4B11C55E.2060909@citycable.ch>
	<F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>
	<4B12C417.1050308@citycable.ch>
	<65D411CD-34C3-4B89-8FF0-98C9BD7613FB@r-project.org>
	<4B13FC0F.40604@citycable.ch>
Message-ID: <F60B92C3-5989-404C-8FEB-1B6002824449@r-project.org>


On Nov 30, 2009, at 12:08 , Guillaume Yziquel wrote:

> Simon Urbanek a ?crit :
>> You're talking about two entirely different things -- bypassing the  
>> API is a very bad idea, but it has nothing to do with your last  
>> paragraph.
>
> It's very good to hear that it's two different things. This has been  
> quite unclear to me.
>
>> The API gives you access all user-visible aspects of R which is all  
>> you really need for any embedding -- that includes closure body,  
>> evaluation etc. I see no reason why you should ever go lower than  
>> the API
>
> Because I've been unable to find what exactly applyClosure or eval  
> requires, when it comes to the structure of the argument LANGSXP.  
> For example.
>

LANGSXP is simply a pairlist representing the expression, e.g. to look  
at "a+2" expression:

 > .Internal(inspect(quote(a+2)))
@1183698 06 LANGSXP g0c0 []
   @101080c 01 SYMSXP g0c0 [MARK,gp=0x4000] "+"
   @1130394 01 SYMSXP g0c0 [MARK] "a"
   @1c384e8 14 REALSXP g0c1 [] (len=1, tl=0) 2

I would suggest you learn more about R first - this is all accessible  
at the R/S language level:

 > x
a + 2
 > x[[1]]
`+`
 > x[[2]]
a
 > x[[3]]
[1] 2


>> since that is unreliable and unsupported and thus you won't get any  
>> help with that (that is IMHO the main reason why you get no  
>> responses here - and I wouldn't expect any). All other functions  
>> are hidden on purpose since they cover internal aspects that should  
>> not be relied upon.
>
> Please let me be clear on my intentions:
>
> -1- I intend to use only the API if possible.
>
> -2- If not possible, I will perhaps use #define USE_RINTERNALS,  
> which as I understand is not part of the API.
>
> -3- The libR.so with opened symbols is intended only as a  
> replacement of GDB during development. Unfortunately, as things are  
> not going as easily as it could, I am, for gdb-like purposes,  
> writing progressively a new eval / applyClosure duo in OCaml.
>
> The option -3- will not appear in the interface I will release.
>
> In order to discriminate between option -1- and options -1- + -2-,  
> could you please answer the following question, which I hope falls  
> in the scope of legitimate questions on this mailing list:
>
> Suppose I have an OCaml (or pure C if you wish) linked list of OCaml  
> value wrapping SEXP values. Is it possible, using only the API, to  
> create a LANGSXP / LISTSXP list out of these SEXPs?
>

Of course - see CONS/LCONS.


> I guess this is the crucial point where I hit the limits of the API.  
> Please confirm or infirm.
>
>> So again, I just think you're operating on the wrong level here --  
>> and this has nothing to do with the fact that you're binding to a  
>> functional language since the mechanisms are the same regardless of  
>> the languages (that's why Omegahat was used to bind into any random  
>> language that seemed useful).
>
> Will look into Omegahat. Not yet very familiar with R userland.
>
>> You get more headaches since you have to decide how to handle  
>> closures both ways, but I suspect the practical solution is to use  
>> evaluators on the side where the function is defined (especially  
>> for the R side since it includes non-S-language code so you simply  
>> cannot map it).
>
> Ok. So suppose I have wrapped an anonymous R closure, called op.
>
> This closure takes two arguments, a string, and yields a float.
>
> I therefore need to write a function "eval_this_op" whose type would  
> be:
>
> eval_this_op : (string -> int) R.t -> string R.t -> int R.t
>
> Essentially, eval_this_op takes three arguments, a wrapped anonymous  
> R closure, an R string, and yields an R integer.
>
> How could you write such an eval_this_op function without first  
> solving the crucial issue in the above paragraph, which is basically  
> constructing a LANGSXP out of an anonymous closure and an R string?
>
>> If you have suggestions for extending the API, feel free to post  
>> them with exact explanations how in general that extensions could  
>> be useful (general is the key word here - I think so far it was  
>> rather to hack around your way of implementing it). [And FWIW  
>> tryEval *is* part of the API].
>
> Please take into account that OCaml's type system is extremely  
> strong. "My way of implementing it", as you call it, is essentially  
> the most natural way to fit in the OCaml paradigm. I must satisfy  
> both OCaml and R paradigms in order to write a correct binding.
>
> Please note that it is not an embedding in a random application. It  
> aims to be a full blown binding for general purpose. In OCaml,  
> values are immutable. Really, really, really immutable. Or they are  
> signals, immutable abstractions describing a value that changes  
> overtime. Symbols, variables and such are not welcome. References  
> (~pointers) are statically typed and *cannot* be type casted. The  
> type checking is so strong that you should almost never have to  
> throw an exception. This means avoiding dynamic type-checking  
> everywhere it's possible to avoid. This means that a function that  
> takes a sexp to yield the underlying function should not have to  
> raise an exception if the sexp is not a function. It should  
> therefore not have to dynamically typecheck the sexp at runtime.  
> This means that you have to enhance the type system to *statically*  
> declare (or infer) that this sexp is a LANGSXP. Therefore you have  
> to use a polymorphic type system (somehow ~ C++ templated types) to  
> say "lang sxp" "list sxp" "sym sxp", etc... You get the idea?
>
> This is not "my way". It's the OCaml way: They like to statically  
> type-check *everything* , including HTML. Please have a look at  
> section "Static typing of XHTML with XHTML.M" of
>
> 	http://ocsigen.org/eliom/manual/1.2.0/1#p1baseprinciples
>
> Do you know why the Swig module for OCaml is virtually unused?  
> Because the OCaml community does not consider it type-safe enough.  
> And it will go somehow the same for Haskell.
>
> The "general" aspect of my request therefore concerns bindings to  
> languages with 'inferred polymorphic static typing'. Please  
> understand what these languages are about before dismissing my  
> remarks as "my way". You may not care, you wouldn't be the first.
>

You're missing my point - "your way" was to hack into the internals of  
how R represents SEXPs (going down to each pointer inside the SEXP  
headers). None of the above applies to my remark.

Cheers,
Simon

> From Wikipedia: http://en.wikipedia.org/wiki/Objective_Caml
>
>> OCaml's static type system eliminates a large class of programmer  
>> errors that may cause problems at runtime. However, it also forces  
>> the programmer to conform to the constraints of the type system,  
>> which can require careful thought and close attention. A type- 
>> inferring compiler greatly reduces the need for manual type  
>> annotations (for example, the data type of variables and the  
>> signature of functions usually do not need to be explicitly  
>> declared, as they do in Java). Nonetheless, effective use of  
>> OCaml's type system can require some sophistication on the part of  
>> the programmer.
>
> Please understand that I take no joy and no fun in being a pain.
>
> If you force me to write a binding that wouldn't be type safe, it  
> would be unused. This is simply not acceptable to me: I am  
> unfortunately not willing to waste my time. And will then eventually  
> have to bypass the API. Please help me avoid that as much as it is  
> possible with these constraints.
>
> -- 
>     Guillaume Yziquel
> http://yziquel.homelinux.org/
>
>


From guillaume.yziquel at citycable.ch  Mon Nov 30 19:14:18 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Mon, 30 Nov 2009 19:14:18 +0100
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <F60B92C3-5989-404C-8FEB-1B6002824449@r-project.org>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
	<4B11C55E.2060909@citycable.ch>
	<F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>
	<4B12C417.1050308@citycable.ch>
	<65D411CD-34C3-4B89-8FF0-98C9BD7613FB@r-project.org>
	<4B13FC0F.40604@citycable.ch>
	<F60B92C3-5989-404C-8FEB-1B6002824449@r-project.org>
Message-ID: <4B140B7A.2080102@citycable.ch>

Simon Urbanek a ?crit :
> 
>> Because I've been unable to find what exactly applyClosure or eval 
>> requires, when it comes to the structure of the argument LANGSXP. For 
>> example.
>>
> 
> LANGSXP is simply a pairlist representing the expression, e.g. to look 
> at "a+2" expression:
> 
>  > .Internal(inspect(quote(a+2)))
> @1183698 06 LANGSXP g0c0 []
>   @101080c 01 SYMSXP g0c0 [MARK,gp=0x4000] "+"
>   @1130394 01 SYMSXP g0c0 [MARK] "a"
>   @1c384e8 14 REALSXP g0c1 [] (len=1, tl=0) 2
> 
> I would suggest you learn more about R first - this is all accessible at 
> the R/S language level:
> 
>  > x
> a + 2
>  > x[[1]]
> `+`
>  > x[[2]]
> a
>  > x[[3]]
> [1] 2

I've gathered that LANGSXP and LISTSXP are structured in this way. By 
reading the header files. Please see:

https://stat.ethz.ch/pipermail/r-devel/2009-November/055813.html

Now to continue one the topic of the top paragraph:

I've tried sending a LANGSXP where the CAR element is a SYMSXP. eval 
workd. I've tried sending a LANGSXP where the CAR element is a CLOSXP. 
eval doesn't work. This is what I meant about the "structure of the 
argument LANGSXP". And it's contained in the link above.

And it goes then to my other question: How can you pass to eval a 
LANGSXP where the CAR is an *anonymous* function, no SYMSXP involved?

This does not seem documented in R-ints.pdf, R-exts.pdf or R-lang.pdf.

>> Suppose I have an OCaml (or pure C if you wish) linked list of OCaml 
>> value wrapping SEXP values. Is it possible, using only the API, to 
>> create a LANGSXP / LISTSXP list out of these SEXPs?
> 
> Of course - see CONS/LCONS.

Great. That's the kind of fruitful interaction that could have made me 
gain a few days and not bypass the API. Thanks.

>> The "general" aspect of my request therefore concerns bindings to 
>> languages with 'inferred polymorphic static typing'. Please understand 
>> what these languages are about before dismissing my remarks as "my 
>> way". You may not care, you wouldn't be the first.
> 
> You're missing my point - "your way" was to hack into the internals of 
> how R represents SEXPs (going down to each pointer inside the SEXP 
> headers). None of the above applies to my remark.
> 
> Cheers,
> Simon

You're also missing my point. "my way" is the only way I've come up with 
to examine how to make sure that the static typing system I'm putting in 
place fits with the internal structure of SEXPs. I do need to know the 
internal structure of sexps and the way they evolve under the influence 
of function such as eval, install, applyClosure, in order to statically 
type my code. Same link expressing this concern:

https://stat.ethz.ch/pipermail/r-devel/2009-November/055813.html

Documentation is terse on precise structure of sexps. You get 
description of individual sexps, not a *precise* description of how they 
are assembled, which is what the typing will have to express. Much in 
the same spirit as the link below, which I really entice you to read:

http://ocsigen.org/eliom/manual/1.2.0/1#p1baseprinciples

Statically typing the internal structure of assembled sexps is no 
different than statically typing XHTML.

Glad that we're heading somewhere...

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From lgautier at gmail.com  Mon Nov 30 20:03:15 2009
From: lgautier at gmail.com (Laurent Gautier)
Date: Mon, 30 Nov 2009 20:03:15 +0100
Subject: [Rd] :Re:  PROTECT and OCaml GC.
In-Reply-To: <4B140136.5030100@citycable.ch>
References: <mailman.15.1259578805.1160.r-devel@r-project.org>
	<4B13D956.7030608@gmail.com> <4B13DDB9.5060703@citycable.ch>
	<4B13EB34.8090207@gmail.com> <4B140136.5030100@citycable.ch>
Message-ID: <4B1416F3.3010703@gmail.com>

Guillaume Yziquel wrote:
> Laurent Gautier a ?crit :
>>
>> Anonymous R objects, that is without an associated symbol in R, can be 
>> passed to functions (and in that way makes a binding "take hold of R 
>> objects without using symbols").
>> For example, building R code made of anonymous objects can be achieved 
>> by making a LANGSXP object and tweaking it.
>>
>> Example in R itself:
>>  > x <- call("round", 2.3)
>>  > eval(x)
>> [1] 2
>>  > x[[1]] <- function(x) x^2
>>  > eval(x)
>> [1] 5.29
>>
>> Getting more complex constructs may need a little more trickery.
>>
>> ...or do you mean something else ?
>>
>> L.
> 
> You're saying "anonymous R objects can be passed to functions". My 
> question is:
> 
> can you construct a LANGSXP in C/Python/rpy from R objects and an 
> anonymous R closure, the closure being available from C as a SEXP 
> closure. Can you write a function
> 
>     SEXP my_langsxp (SEXP closure, SEXP arglist);
> 
> with only the API?
> 

If this can be done from R itself, it can be done from the C level.

I have not looked into making sure that this can precisely and 
effortlessly be done with rpy2, as ironing other parts of the bridge 
caught my attention and seemed more urgently needed, but I remember 
contemplating the idea of having it working at some point...
(I went as far as getting LANGSXP objects exposed as Python list-like 
objects, I think).


From simon.urbanek at r-project.org  Mon Nov 30 20:16:01 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Nov 2009 14:16:01 -0500
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <4B140B7A.2080102@citycable.ch>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
	<4B11C55E.2060909@citycable.ch>
	<F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>
	<4B12C417.1050308@citycable.ch>
	<65D411CD-34C3-4B89-8FF0-98C9BD7613FB@r-project.org>
	<4B13FC0F.40604@citycable.ch>
	<F60B92C3-5989-404C-8FEB-1B6002824449@r-project.org>
	<4B140B7A.2080102@citycable.ch>
Message-ID: <0A1D8E9D-0BD6-40F7-B98C-59075CE04E49@r-project.org>


On Nov 30, 2009, at 13:14 , Guillaume Yziquel wrote:

> Simon Urbanek a ?crit :
>>> Because I've been unable to find what exactly applyClosure or eval  
>>> requires, when it comes to the structure of the argument LANGSXP.  
>>> For example.
>>>
>> LANGSXP is simply a pairlist representing the expression, e.g. to  
>> look at "a+2" expression:
>> > .Internal(inspect(quote(a+2)))
>> @1183698 06 LANGSXP g0c0 []
>>  @101080c 01 SYMSXP g0c0 [MARK,gp=0x4000] "+"
>>  @1130394 01 SYMSXP g0c0 [MARK] "a"
>>  @1c384e8 14 REALSXP g0c1 [] (len=1, tl=0) 2
>> I would suggest you learn more about R first - this is all  
>> accessible at the R/S language level:
>> > x
>> a + 2
>> > x[[1]]
>> `+`
>> > x[[2]]
>> a
>> > x[[3]]
>> [1] 2
>
> I've gathered that LANGSXP and LISTSXP are structured in this way.  
> By reading the header files. Please see:
>
> https://stat.ethz.ch/pipermail/r-devel/2009-November/055813.html
>
> Now to continue one the topic of the top paragraph:
>
> I've tried sending a LANGSXP where the CAR element is a SYMSXP. eval  
> workd. I've tried sending a LANGSXP where the CAR element is a  
> CLOSXP. eval doesn't work. This is what I meant about the "structure  
> of the argument LANGSXP". And it's contained in the link above.
>
> And it goes then to my other question: How can you pass to eval a  
> LANGSXP where the CAR is an *anonymous* function, no SYMSXP involved?
>

You just pass it as value of the call. I suspect the reason it doesn't  
work is in your code, not in the facility (note that the link above is  
useless since the construction is mystery - if you were constructing  
it right, it would work ;)).

Small example:

SEXP myEval(SEXP FN, SEXP first_arg) {
   return eval(LCONS(FN, CONS(first_arg, R_NilValue)), R_GlobalEnv);
}

 > .Call("myEval",function(x) x + 1, 10)
[1] 11

 > .Internal(inspect(function(x) x + 1))
@19e376c 03 CLOSXP g0c0 [ATT]
FORMALS:
   @19e399c 02 LISTSXP g0c0 []
     TAG: @1029840 01 SYMSXP g0c0 [MARK,NAM(2)] "x"
     @1007378 01 SYMSXP g0c0 [MARK,NAM(2)] ""
BODY:
   @19e3948 06 LANGSXP g0c0 []
     @101080c 01 SYMSXP g0c0 [MARK,gp=0x4000] "+"
     @1029840 01 SYMSXP g0c0 [MARK,NAM(2)] "x"
     @19e1248 14 REALSXP g0c1 [] (len=1, tl=27187120) 1
CLOENV:
   @1023c38 04 ENVSXP g0c0 [MARK,NAM(2),gp=0x8000]
ATTRIB:
   @19e3750 02 LISTSXP g0c0 []
     TAG: @1006ee0 01 SYMSXP g0c0 [MARK,gp=0x4000] "source"
     @19e1228 16 STRSXP g0c1 [] (len=1, tl=16806832)
       @150cdc8 09 CHARSXP g0c3 [gp=0x20] "function(x) x + 1"


> This does not seem documented in R-ints.pdf, R-exts.pdf or R-lang.pdf.
>
>>> Suppose I have an OCaml (or pure C if you wish) linked list of  
>>> OCaml value wrapping SEXP values. Is it possible, using only the  
>>> API, to create a LANGSXP / LISTSXP list out of these SEXPs?
>> Of course - see CONS/LCONS.
>
> Great. That's the kind of fruitful interaction that could have made  
> me gain a few days and not bypass the API. Thanks.
>

... or reading R-ext:

"There are a series of small macros/functions to help construct  
pairlists and language objects (whose internal structures just differ  
by SEXPTYPE. Function CONS(u, v) is the basic building block: is  
constructs a pairlist from u followed by v (which is a pairlist or  
R_NilValue). LCONS is a variant that constructs a language object.  
Functions list1 to list4 construct a pairlist from one to four items,  
andlang1 to lang4 do the same for a language object (a function to  
call plus zero to three arguments). Function elt and lastElt find the  
ith element and the last element of a pairlist, and nthcdr returns a  
pointer to the nth position in the pairlist (whose CAR is the nth  
item)."


>>> The "general" aspect of my request therefore concerns bindings to  
>>> languages with 'inferred polymorphic static typing'. Please  
>>> understand what these languages are about before dismissing my  
>>> remarks as "my way". You may not care, you wouldn't be the first.
>> You're missing my point - "your way" was to hack into the internals  
>> of how R represents SEXPs (going down to each pointer inside the  
>> SEXP headers). None of the above applies to my remark.
>> Cheers,
>> Simon
>
> You're also missing my point. "my way" is the only way I've come up  
> with to examine how to make sure that the static typing system I'm  
> putting in place fits with the internal structure of SEXPs. I do  
> need to know the internal structure of sexps and the way they evolve  
> under the influence of function such as eval, install, applyClosure,  
> in order to statically type my code. Same link expressing this  
> concern:

No, you don't - you do care what the *types* are (i.e. TYPEOF) and how  
they behave, but you should *not* care how they are implemented in the  
internals. That is deliberately hidden by the API.


> https://stat.ethz.ch/pipermail/r-devel/2009-November/055813.html
>
> Documentation is terse on precise structure of sexps. You get  
> description of individual sexps, not a *precise* description of how  
> they are assembled, which is what the typing will have to express.

Hopefully not - again, see above comment.

Cheers,
Simon


> Much in the same spirit as the link below, which I really entice you  
> to read:
>
> http://ocsigen.org/eliom/manual/1.2.0/1#p1baseprinciples
>
> Statically typing the internal structure of assembled sexps is no  
> different than statically typing XHTML.
>
> Glad that we're heading somewhere...
>
> All the best,
>
> -- 
>     Guillaume Yziquel
> http://yziquel.homelinux.org/
>
>


From guillaume.yziquel at citycable.ch  Mon Nov 30 22:07:13 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Mon, 30 Nov 2009 22:07:13 +0100
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <0A1D8E9D-0BD6-40F7-B98C-59075CE04E49@r-project.org>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
	<4B11C55E.2060909@citycable.ch>
	<F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>
	<4B12C417.1050308@citycable.ch>
	<65D411CD-34C3-4B89-8FF0-98C9BD7613FB@r-project.org>
	<4B13FC0F.40604@citycable.ch>
	<F60B92C3-5989-404C-8FEB-1B6002824449@r-project.org>
	<4B140B7A.2080102@citycable.ch>
	<0A1D8E9D-0BD6-40F7-B98C-59075CE04E49@r-project.org>
Message-ID: <4B143401.4050607@citycable.ch>

Simon Urbanek a ?crit :
>>
>> And it goes then to my other question: How can you pass to eval a 
>> LANGSXP where the CAR is an *anonymous* function, no SYMSXP involved?
> 
> You just pass it as value of the call. I suspect the reason it doesn't 
> work is in your code, not in the facility (note that the link above is 
> useless since the construction is mystery - if you were constructing it 
> right, it would work ;)).
> 
> Small example:
> 
> SEXP myEval(SEXP FN, SEXP first_arg) {
>   return eval(LCONS(FN, CONS(first_arg, R_NilValue)), R_GlobalEnv);
> }
> 
>  > .Call("myEval",function(x) x + 1, 10)
> [1] 11

In the eval function in eval.c, you have:

>     case LANGSXP:
>         if (TYPEOF(CAR(e)) == SYMSXP)
>             /* This will throw an error if the function is not found */
>             PROTECT(op = findFun(CAR(e), rho));
>         else
>             PROTECT(op = eval(CAR(e), rho));

So imagine you have a LANGSXP whose CAR is a CLOSXP, the execution goes 
into the last line of the code snippet above. And re-entring eval with a 
CLOSXP, the code goes into

>     tmp = R_NilValue;           /* -Wall */
> #ifdef Win32
>     /* This is an inlined version of Rwin_fpreset (src/gnuwin/extra.c)
>        and resets the precision, rounding and exception modes of a ix86
>        fpu.
>      */
>     __asm__ ( "fninit" );
> #endif
> 
>     R_Visible = TRUE;
>     switch (TYPEOF(e)) {
>     case NILSXP:
>     case LISTSXP:
>     case LGLSXP:
>     case INTSXP:
>     case REALSXP:
>     case STRSXP:
>     case CPLXSXP:
>     case RAWSXP:
>     case S4SXP:
>     case SPECIALSXP:
>     case BUILTINSXP:
>     case ENVSXP:
>     case CLOSXP:
>     case VECSXP:
>     case EXTPTRSXP:

so PROTECT(op = eval(CAR(e), rho)) evaluates to R_NilValue.

I figured out that's why evaluating a LANGSXP with CAR a CLOSXP simply 
fails.

I'll have a look at the code snippet you gave, since I do not understand 
why it doesn't fail the same way mine does.

Thanks a lot.

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From simon.urbanek at r-project.org  Mon Nov 30 22:25:59 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Nov 2009 16:25:59 -0500
Subject: [Rd] PROTECT and OCaml GC.
In-Reply-To: <4B143401.4050607@citycable.ch>
References: <4B11B75C.9070806@citycable.ch>
	<8ec76080911281625q5d5b8824hefb14af9b23d29f0@mail.gmail.com>
	<4B11C55E.2060909@citycable.ch>
	<F11B6C18-26EC-41F8-9EEB-A614D16945AC@r-project.org>
	<4B12C417.1050308@citycable.ch>
	<65D411CD-34C3-4B89-8FF0-98C9BD7613FB@r-project.org>
	<4B13FC0F.40604@citycable.ch>
	<F60B92C3-5989-404C-8FEB-1B6002824449@r-project.org>
	<4B140B7A.2080102@citycable.ch>
	<0A1D8E9D-0BD6-40F7-B98C-59075CE04E49@r-project.org>
	<4B143401.4050607@citycable.ch>
Message-ID: <7971A8AF-189B-4955-9E62-4E118E594792@r-project.org>


On Nov 30, 2009, at 16:07 , Guillaume Yziquel wrote:

> Simon Urbanek a ?crit :
>>>
>>> And it goes then to my other question: How can you pass to eval a  
>>> LANGSXP where the CAR is an *anonymous* function, no SYMSXP  
>>> involved?
>> You just pass it as value of the call. I suspect the reason it  
>> doesn't work is in your code, not in the facility (note that the  
>> link above is useless since the construction is mystery - if you  
>> were constructing it right, it would work ;)).
>> Small example:
>> SEXP myEval(SEXP FN, SEXP first_arg) {
>>  return eval(LCONS(FN, CONS(first_arg, R_NilValue)), R_GlobalEnv);
>> }
>> > .Call("myEval",function(x) x + 1, 10)
>> [1] 11
>
> In the eval function in eval.c, you have:
>
>>    case LANGSXP:
>>        if (TYPEOF(CAR(e)) == SYMSXP)
>>            /* This will throw an error if the function is not found  
>> */
>>            PROTECT(op = findFun(CAR(e), rho));
>>        else
>>            PROTECT(op = eval(CAR(e), rho));
>
> So imagine you have a LANGSXP whose CAR is a CLOSXP, the execution  
> goes into the last line of the code snippet above.
> And re-entring eval with a CLOSXP, the code goes into
>
>>    tmp = R_NilValue;           /* -Wall */
>> #ifdef Win32
>>    /* This is an inlined version of Rwin_fpreset (src/gnuwin/extra.c)
>>       and resets the precision, rounding and exception modes of a  
>> ix86
>>       fpu.
>>     */
>>    __asm__ ( "fninit" );
>> #endif
>>    R_Visible = TRUE;
>>    switch (TYPEOF(e)) {
>>    case NILSXP:
>>    case LISTSXP:
>>    case LGLSXP:
>>    case INTSXP:
>>    case REALSXP:
>>    case STRSXP:
>>    case CPLXSXP:
>>    case RAWSXP:
>>    case S4SXP:
>>    case SPECIALSXP:
>>    case BUILTINSXP:
>>    case ENVSXP:
>>    case CLOSXP:
>>    case VECSXP:
>>    case EXTPTRSXP:
>
> so PROTECT(op = eval(CAR(e), rho)) evaluates to R_NilValue.
>

Nope, it simply evaluates to itself (with ref count increased) - see  
tmp = e; ..; return(tmp).


> I figured out that's why evaluating a LANGSXP with CAR a CLOSXP  
> simply fails.
>

Wrong ;). A closure is a constant like any other object so it  
evaluates to itself.

Cheers,
Simon



> I'll have a look at the code snippet you gave, since I do not  
> understand why it doesn't fail the same way mine does.
>
> Thanks a lot.
>
> -- 
>     Guillaume Yziquel
> http://yziquel.homelinux.org/
>
>


From couteau at codelutin.com  Mon Nov 30 16:50:10 2009
From: couteau at codelutin.com (couteau at codelutin.com)
Date: Mon, 30 Nov 2009 16:50:10 +0100 (CET)
Subject: [Rd] Bug in R evaluating a huge instruction (PR#14096)
Message-ID: <20091130155010.4EFF1282EFE3@mail.pubhealth.ku.dk>

Hello,

I do not know if i am facing a bug or a mistake (and if it is a bug i do =

not know in which category I can put it on the bug tracker), so I post=20
my message here.

I am trying to use the Morris function from the sensitivity package (but =

that is not the problem). I created a (big) instruction that should=20
generate a morris object in which there is a data.frame i am interested=20
in. My instruction is :

a<-morris(model=3DNULL,factors=3Dc("PecheAmateurs=20
d=E9cembre.proportionMetier","PechePetitMetierMer=20
mai.proportionMetier","PecheAmateurs=20
mai.proportionMetier","PecheChalutiere=20
janvier.minInactivityDays","PechePetitMetierEtang=20
octobre.minInactivityDays","PechePetitMetierEtang=20
d=E9cembre.minInactivityDays","FiletMer.standardisationFactor","PecheAmat=
eurs=20
juin.minInactivityDays","PechePetitMetierEtang=20
novembre.minInactivityDays","PechePetitMetierMer=20
septembre.minInactivityDays","PechePetitMetierMer=20
avril.minInactivityDays","PecheAmateurs=20
ao=FBt.proportionMetier","PecheChalutiere=20
novembre.minInactivityDays","PechePetitMetierMer=20
f=E9vrier.proportionMetier","PecheChalutiere=20
juillet.minInactivityDays","PechePetitMetierMer=20
octobre.proportionMetier","CSar Groupe=20
5.reproductionRate","PechePetitMetierMer=20
ao=FBt.proportionMetier","PechePetitMetierMer=20
janvier.minInactivityDays","PechePetitMetierEtang=20
mai.minInactivityDays","PecheAmateurs=20
octobre.minInactivityDays","PecheAmateurs=20
septembre.minInactivityDays","PecheChalutiere=20
juin.minInactivityDays","PecheChalutiere=20
avril.minInactivityDays","PecheAmateurs=20
juillet.proportionMetier","PecheChalutiere=20
mai.minInactivityDays","PechePetitMetierEtang=20
septembre.minInactivityDays","PechePetitMetierMer=20
janvier.proportionMetier","PecheAmateurs=20
septembre.proportionMetier","PechePetitMetierEtang=20
f=E9vrier.minInactivityDays","PechePetitMetierEtang=20
mars.minInactivityDays","PechePetitMetierEtang=20
juillet.minInactivityDays","PechePetitMetierMer=20
septembre.proportionMetier","CSar.capturability","PechePetitMetierMer=20
juin.proportionMetier","PecheChalutiere=20
mars.minInactivityDays","PecheChalutiere=20
septembre.minInactivityDays","PecheAmateurs=20
janvier.minInactivityDays","PechePetitMetierMer=20
ao=FBt.minInactivityDays","PechePetitMetierMer=20
juillet.proportionMetier","PecheChalutiere=20
d=E9cembre.minInactivityDays","PecheAmateurs=20
avril.minInactivityDays","PecheAmateurs=20
mars.proportionMetier","PechePetitMetierMer=20
novembre.minInactivityDays","PechePetitMetierEtang=20
ao=FBt.minInactivityDays","CSar.recruitmentDistribution","PecheChalutiere=
=20
f=E9vrier.minInactivityDays","CSar.naturalDeathRate","PecheAmateurs=20
octobre.proportionMetier","PechePetitMetierMer=20
mai.minInactivityDays","PechePetitMetierMer=20
mars.proportionMetier","PecheAmateurs=20
ao=FBt.minInactivityDays","FiletEtang.standardisationFactor","PecheChalut=
iere=20
ao=FBt.minInactivityDays","PecheAmateurs=20
janvier.proportionMetier","PecheAmateurs=20
d=E9cembre.minInactivityDays","PechePetitMetierEtang=20
avril.minInactivityDays","PecheAmateurs=20
mars.minInactivityDays","PechePetitMetierMer=20
d=E9cembre.minInactivityDays","PecheAmateurs=20
mai.minInactivityDays","PechePetitMetierEtang=20
juin.minInactivityDays","Harpon.standardisationFactor","PecheAmateurs=20
novembre.minInactivityDays","PecheAmateurs=20
novembre.proportionMetier","PechePetitMetierMer=20
mars.minInactivityDays","Ligneemb.standardisationFactor","PecheAmateurs=20
juin.proportionMetier","PecheAmateurs=20
avril.proportionMetier","PechePetitMetierMer=20
juillet.minInactivityDays","PechePetitMetierMer=20
avril.proportionMetier","PechePetitMetierMer=20
octobre.minInactivityDays","PechePetitMetierMer=20
f=E9vrier.minInactivityDays","PecheAmateurs=20
juillet.minInactivityDays","PechePetitMetierMer=20
d=E9cembre.proportionMetier","PecheAmateurs=20
f=E9vrier.proportionMetier","PecheChalutiere=20
octobre.minInactivityDays","CSar Groupe 4.reproductionRate","CSar Groupe =

7.reproductionRate","Lignecote.standardisationFactor","CSar.meanWeight","=
CSar=20
Groupe 6.reproductionRate","PechePetitMetierMer=20
juin.minInactivityDays","PechePetitMetierMer=20
novembre.proportionMetier","PechePetitMetierEtang=20
janvier.minInactivityDays","PecheAmateurs=20
f=E9vrier.minInactivityDays","CSar.growth"),r=3D10,design=3Dlist(type=3D"=
oat",levels=3Dc(5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5=
,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,=
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5),grid.jump=3Dc(2,2,2,2,2,2,2,2,=
2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2=
,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,=
2,2,2,2,2)),binf=3Dc(0.0,0.0,0.0,11.0,10.0,12.0,0.06,10.0,11.0,0.0,0.0,0.=
0,10.0,0.0,11.0,0.0,1120.0,0.0,10.0,22.0,12.0,10.0,10.0,11.0,0.0,11.0,15.=
0,0.0,0.0,23.0,16.0,22.0,0.0,0.0,0.0,11.0,10.0,18.0,0.0,0.0,11.0,11.0,0.0=
,3.0,22.0,0.0,8.0,0.0,0.0,0.0,0.0,8.0,0.1456,11.0,0.0,18.0,17.0,11.0,7.0,=
11.0,20.0,0.0464,16.0,0.0,1.0,0.1515,0.0,0.0,0.0,0.0,1.0,11.0,9.0,0.0,0.0=
,11.0,1120.0,1120.0,0.0749,0.0,1120.0,0.0,0.0,13.0,16.0,0.0),bsup=3Dc(1.0=
,1.0,1.0,15.0,14.0,16.0,0.09,14.0,15.0,2.0,2.0,1.0,14.0,1.0,15.0,1.0,1680=
=2E0,1.0,14.0,26.0,16.0,14.0,14.0,14.0,1.0,15.0,19.0,1.0,1.0,27.0,20.0,26=
=2E0,1.0,1.0,1.0,15.0,14.0,22.0,2.0,1.0,15.0,15.0,1.0,7.0,26.0,1.0,12.0,1=
=2E0,1.0,2.0,1.0,12.0,0.2184,15.0,1.0,22.0,21.0,15.0,11.0,15.0,24.0,0.069=
6,20.0,1.0,5.0,0.22,1.0,1.0,2.0,1.0,5.0,15.0,13.0,1.0,1.0,15.0,1680.0,168=
0.0,0.11244,1.0,1680.0,2.0,1.0,17.0,20.0,1.0))

I checked several times and this intruction seams to have the right=20
syntax but R asks me to finish my instruction (I need to add two=20
parenthesis at the end so that it can be evaluated, but do not give me=20
the right results).

I replaced the factors vector by its size (the morris method allows=20
that) and the evaluation is ok (with right results).

I tryed also replacing the binf and bsup vectors by a single value=20
(authorized by the morris function also), leaving the factors vector,=20
and the evaluation is also ok (so it is not the factors vector that is=20
creating the problem).

This seems really odd to me and I cannot see where is the problem so I=20
am thinking about a R bug (even if the sensitivity package is not=20
loaded, i cannot enter the instruction, thus it is not a sensitivity=20
problem).

Did somebody already encountered such a bug (if it is a bug) ?

I am using R 2.9.2 under linux/Xubuntu 9.10 and this has also been tried =

on R 2.9.0 on Windows 7.

I can provide more info if needed.

Jean Couteau
Code Lutin


From murdoch at stats.uwo.ca  Mon Nov 30 23:25:29 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 30 Nov 2009 17:25:29 -0500
Subject: [Rd] Bug in R evaluating a huge instruction (PR#14096)
In-Reply-To: <20091130155010.4EFF1282EFE3@mail.pubhealth.ku.dk>
References: <20091130155010.4EFF1282EFE3@mail.pubhealth.ku.dk>
Message-ID: <4B144659.6090702@stats.uwo.ca>

On 30/11/2009 10:50 AM, couteau at codelutin.com wrote:
> Hello,
> 
> I do not know if i am facing a bug or a mistake (and if it is a bug i do =
> 
> not know in which category I can put it on the bug tracker), so I post=20
> my message here.
> 
> I am trying to use the Morris function from the sensitivity package (but =
> 
> that is not the problem). I created a (big) instruction that should=20
> generate a morris object in which there is a data.frame i am interested=20
> in. My instruction is :
> 
> a<-morris(model=3DNULL,factors=3Dc("PecheAmateurs=20
> d=E9cembre.proportionMetier","PechePetitMetierMer=20

Your message has encoding problems, so it's not readable.  Could you put 
the code online somewhere where we could download it in its original 
form?  I doubt if this is an R bug, but I can't point out the problem in 
your code (or confirm that it really is an R bug) without an undamaged 
copy of the code.

Duncan Murdoch


From ross at biostat.ucsf.edu  Mon Nov 30 23:57:08 2009
From: ross at biostat.ucsf.edu (Ross Boylan)
Date: Mon, 30 Nov 2009 14:57:08 -0800
Subject: [Rd] group generics
In-Reply-To: <6ph3a428z2r.fsf@gopher4.fhcrc.org>
References: <1259109265.8792.22.camel@markov.biostat.ucsf.edu>
	<6ph3a428z2r.fsf@gopher4.fhcrc.org>
Message-ID: <4B144DC4.3020904@biostat.ucsf.edu>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1



Martin Morgan wrote:
> Hi Ross -- 
> 
> Ross Boylan <ross at biostat.ucsf.edu> writes:
> 
>> I have classes A and B, where B contains A.  In the implementation of
>> the group generic for B I would like to use the corresponding group
>> generic for A.  Is there a way to do that?

>> setMethod("Arith", signature(e1="numeric", e2="B"), function(e1, e2) {
>> 	# the next line does not work right
>>   v <- selectMethod("callGeneric", signature=c("numeric", "A"))(e1, e2)
> 
>     v <- callGeneric(e1, as(e2, "A"))
> 
> or probably
> 
>    v <- callNextMethod(e1, e2)
> 
> Martin

A different error this time, one that looks a lot like the report from
Stephen.Pope at ubs.com on 2007-12-24 concerning callNextMethod:, except
this is with
callGeneric.

HOWEVER, the problem is erratic; when I started from scratch and took
this code into a workspace and executed the commands, they worked as
expected.  I had various false starts and revisions, as well as the real
code on which the example is based, when the error occurred.  I tried
taking in the real code (which defines generics with Arith from my
actual classes, and which also fails as below), and the example still
worked.


My revised code:

setClass("A",
         representation=representation(xa="numeric")
         )

setMethod("Arith", signature(e1="numeric", e2="A"), function(e1, e2) {
  new("A", xa=callGeneric(e1, e2 at xa))
}
         )

setClass("B",
         representation=representation(xb="numeric"),
         contains=c("A")
         )

setMethod("Arith", signature(e1="numeric", e2="B"), function(e1, e2) {
  new("B", xb=e1*e2 at xb, callNextMethod())
}
)

Results:
> options(error=recover)
> tb <- new("B", xb=1:3, new("A", xa=10))
> 3*tb
Error in get(fname, envir = envir) : object '.nextMethod' not found

Enter a frame number, or 0 to exit

 1: 3 * tb
 2: 3 * tb
 3: test.R#16: new("B", xb = e1 * e2 at xb, callNextMethod())
 4: initialize(value, ...)
 5: initialize(value, ...)
 6: callNextMethod()
 7: .nextMethod(e1 = e1, e2 = e2)
 8: test.R#6: new("A", xa = callGeneric(e1, e2 at xa))
 9: initialize(value, ...)
10: initialize(value, ...)
11: callGeneric(e1, e2 at xa)
12: get(fname, envir = envir)

Selection: 0

The callGeneric in frame 11 is trying to get the primitive for
multiplying numeric times numeric.  Quoting from Pope's analysis:
[The primitive...]
> does not get the various "magic" variables such as .Generic, .Method,
> etc. defined in its frame. Thus, callGeneric() fails when, failing to
> find ".Generic" then takes the function symbol for the call (which
> callNextMethod() has constructed to be ".nextMethod") and attempts to
> look it up, which of course also fails, leading to the resulting error
> seen above.

I'm baffled, and hoping someone on the list has an idea.
I'm running R 2.10 under ESS (in particular, I use c-c c-l in the code
file to read in the code) on XP.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAksUTcQACgkQTEwcvZWfjMgEdwCfYt/bmsXG76rq3BpbByBYNjLY
ubsAoKnBnBMbd+OlBL2YOg3vWslL35Zg
=D58x
-----END PGP SIGNATURE-----


