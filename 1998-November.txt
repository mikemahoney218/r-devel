From maechler@stat.math.ethz.ch  Mon Nov  2 13:00:22 1998
From: maechler@stat.math.ethz.ch (Martin Maechler)
Date: Mon, 2 Nov 1998 14:00:22 +0100
Subject: windows nt (PR#59) -- users vs. "administrator"
Message-ID: <199811021300.OAA04539@sophie.ethz.ch>


------- Start of forwarded message -------

From: christoph.kalinowski@biostat.ku.dk
Date: Mon, 2 Nov 1998 13:41:54 +0100
To: R-core@stat.math.ethz.ch
Subject: windows nt (PR#59)
CC: R-bugs@biostat.ku.dk

Full_Name: Christoph Kalinowski
Version: 0.62 Beta (June 9, 1998)
OS: WINDOWS NT
Submission from: 141.78.128.14 (141.78.128.14)


Hello everyone,
I tried the R windows version RJune on a windows nt system
and the following problem occured: when I login as 'main user', 
the error message 'couldn't allocate memory' appears and the 
command window dissapears directly. When I login as 'administrator' 
there are no problems. Does anyone know how to configure R 
(or windows nt?) so that users can start it?

CHRISTOPH
------- End of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov  4 21:32:26 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 4 Nov 1998 16:32:26 -0500
Subject: RNG
Message-ID: <98Nov4.163830est.13461@mailgate.bank-banque-canada.ca>

On r-help Bill Simpson wrote:

>Marsaglia's multiply-with-carry generator is very easy to implement--he
>has posted some C code to newsgroups--and seems to test out OK. I wonder
>if it would make sense to use one of his generators instead.

I would like a system where the random number generator can be specified
(perhaps in options or a .RandomGenerator variable). Most often everyone wants
to use the best RNG available, but in order to reproduce results and check code
it is important to use the one which was used to produce the original results.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov  4 22:10:16 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Nov 1998 22:10:16 +0000 (GMT)
Subject: RNG
In-Reply-To: <98Nov4.163830est.13461@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.3.96.981104215730.7508B-100000@toucan.stats>

On Wed, 4 Nov 1998, Paul Gilbert wrote:

> On r-help Bill Simpson wrote:
> 
[Comment about the existing generator: yes it has been tested both
theoretically and empirically, and yes it seem to be fine: it just has no
claims to be good of its type, or `efficient' (see the paper title).]


> >Marsaglia's multiply-with-carry generator is very easy to implement--he
> >has posted some C code to newsgroups--and seems to test out OK. I wonder
> >if it would make sense to use one of his generators instead.

Yes, but most generators seem to test out OK, but quite a few of those
that do have been proven to be disasters. Given George Marsaglia's
eminence, these are probably fine, but there are no theoretical results to
my knowledge, and I prefer to use generators that are known to have good
properties in modest numbers of dimensions.
 
> I would like a system where the random number generator can be specified
> (perhaps in options or a .RandomGenerator variable). Most often everyone wants
> to use the best RNG available, but in order to reproduce results and check code
> it is important to use the one which was used to produce the original results.

Well, for most people using an interpreted language like R, most PRNGs are
quite good enough. Compiled code on massively parallel supercomputers is
another game altogether.  Paul's argument is a very good one not to change
what is there (and my reason for not supplying better ones to Allan Wilks
for S in the early 1990s or to R-core). But beware: it is not just the
PRNG but all the variate generators that needs to be unchanged, and large
simulations may well depend on rounding errors and so not be reproducible
except on the same version of R compiled on the same compiler. 

I think a decent API for random-number generators is quite hard to
do: what is the structure for the seeds, for example?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Nov  5 15:12:38 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 5 Nov 1998 16:12:38 +0100 (CET)
Subject: CRAN now also rsync-able
Message-ID: <13889.49254.725359.615258@galadriel.ci.tuwien.ac.at>


Following a suggestion by Doug Bates (half a year ago or so ...) I
have set up an experimental rsync server for CRAN, i.e., it is now
also possible to mirror CRAN using rsync for those who prefer it.

The command

	rsync -rl ftp.tuwien.ac.at::CRAN /destination/dir

should copy the complete CRAN ftp area into /destination/dir.

Any comments on wether the server works are appreciated.

I'm not an rsync expert, so I'm not sure if -rl is the right
combination of options, but it seems to work for me (probably one also
needs --delete to remove files that are not on CRAN anymore) ... I'm
currently trying to learn rsync myself ... 

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  5 15:19:42 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 5 Nov 1998 10:19:42 -0500
Subject: RNG
References: <Pine.GSO.3.96.981104215730.7508B-100000@toucan.stats>
Message-ID: <98Nov5.102603est.13448@mailgate.bank-banque-canada.ca>

Brian Ripley writes:

>But beware: it is not just the
>PRNG but all the variate generators that needs to be unchanged, and large
>simulations may well depend on rounding errors

I can certainly attest to this. One undocumented change between Splus 3.1 and
3.2 (or 3.2 and 3.3 maybe) was a change in the link libraries, resulting in a
very small change in the values of normally distributed random numbers. It took
me a very long time to discovery why I couldn't reproduce some results. (They
also dropped zeros from the uniform but that was more obvious.)

>and so not be reproducible
>except on the same version of R compiled on the same compiler.

Despite my above comment I've had very good luck in this regard. Since the
change in the RNG about R 0.49 I've been able to reproduce results to within
reasonable tolerances on Sun4, Sun5 and Linux (although I haven't tried linux
recently.)

>I think a decent API for random-number generators is quite hard to
>do: what is the structure for the seeds, for example?

Martin Maechler and I discussed this some time ago and as I recall there are a
few non-trivial issues. I think the seed would have to be specific to the
generator, or perhaps it would be possible to have a "universal seed" which can
be used to generate the seed for a specific generator. Then any new generator
would need to come with a method for generating its seed from the universal one.

One of my interests in this is to be able to produce the same random numbers in
S, Splus, and R, so that I don't need to have different versions of my test
programs. For this I don't need to use the Splus generator but I need to put a
"wrapper" around the generator so that I can do the same thing in Splus.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Nov  6 06:59:22 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 6 Nov 1998 07:59:22 +0100 (CET)
Subject: CRAN now also rsync-able
In-Reply-To: <6r67cuf61v.fsf@verdi.stat.wisc.edu>
References: <13889.49254.725359.615258@galadriel.ci.tuwien.ac.at>
 <6r67cuf61v.fsf@verdi.stat.wisc.edu>
Message-ID: <13890.40522.864860.633981@galadriel.ci.tuwien.ac.at>

>>>>> On 05 Nov 1998 10:38:52 -0600,
>>>>> Douglas Bates (DB) wrote:

DB> Thanks very much for doing that, Fritz.
>>>>> "Fritz" == Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

Fritz> Following a suggestion by Doug Bates (half a year ago or so
Fritz> ...) I have set up an experimental rsync server for CRAN,
Fritz> i.e., it is now also possible to mirror CRAN using rsync for
Fritz> those who prefer it.

Fritz> The command

Fritz> rsync -rl ftp.tuwien.ac.at::CRAN /destination/dir

Fritz> should copy the complete CRAN ftp area into /destination/dir.

Fritz> Any comments on wether the server works are appreciated.

DB> Still a few bugs in the system.  Here's what I get

DB>  $ rsync -rl ftp.tuwien.ac.at::CRAN R


Oooops ... make that ftp.ci.tuwien.ac.at of course ... sorry!
                        ^^^^
Fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov  6 22:29:52 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 06 Nov 1998 16:29:52 -0600
Subject: Using rsync against CRAN master
Message-ID: <6ru30cmp3z.fsf@verdi.stat.wisc.edu>

Thanks to Fritz for installing anonymous rsync on the master CRAN
site.  Rsync has many advantages over mirror scripts for mirroring the
archive.

I now update my mirror with a crontab entry like
	rsync -vrlt ftp.ci.tuwien.ac.at::CRAN /home/ftp/pub/R
where /home/ftp/pub/R is the location of my mirror.

I would add -t to the switches that Fritz listed.  This sets the file
modification times to match those on the master site and makes it
easier to see what is newer.  The -v gives you verbose output.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Nov  8 16:34:12 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 8 Nov 1998 17:34:12 +0100
Subject: Strange behaviour of lm
Message-ID: <19981108173412.A2033@sirio.stat.unipd.it>

R-0.62.4 running under linux
-------------------------------------------------------------------------------
> x <- rnorm(10)
> lm(x~x)
Error: length of namelist must equal dims
> x <- c(1,2,3)
> lm(x~x)

Call:
lm(formula = x ~ x)

Coefficients:
(Intercept)
          2
	  
> y <- x
> lm(y~x)
  
Call:
lm(formula = y ~ x)
	  
Coefficients:
(Intercept)            x
          0            1
	  
------------------------------------------------------------------------------
guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Nov  8 22:19:20 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 1998 23:19:20 +0100
Subject: Strange behaviour of lm
In-Reply-To: Guido Masarotto's message of Sun, 8 Nov 1998 17:34:12 +0100
References: <19981108173412.A2033@sirio.stat.unipd.it>
Message-ID: <x24ss9rfo7.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> R-0.62.4 running under linux
> -------------------------------------------------------------------------------
> > x <- rnorm(10)
> > lm(x~x)
> Error: length of namelist must equal dims

That one is a bug...

> > x <- c(1,2,3)
> > lm(x~x)
> 
> Call:
> lm(formula = x ~ x)
> 
> Coefficients:
> (Intercept)
>           2
> 	  
> > y <- x
> > lm(y~x)
>   
> Call:
> lm(formula = y ~ x)
> 	  
> Coefficients:
> (Intercept)            x
>           0            1

...but the rest is Splus compatible. The dependent is removed from the
right hand side of model formulas. I seem to remember that there's a
reason for that.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov  9 01:02:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 1998 02:02:25 +0100
Subject: Strange behaviour of lm
In-Reply-To: Peter Dalgaard BSA's message of 08 Nov 1998 23:19:20 +0100
References: <19981108173412.A2033@sirio.stat.unipd.it> <x24ss9rfo7.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2r9vdbrvi.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Guido Masarotto <guido@sirio.stat.unipd.it> writes:
> 
> > R-0.62.4 running under linux
> > -------------------------------------------------------------------------------
> > > x <- rnorm(10)
> > > lm(x~x)
> > Error: length of namelist must equal dims
> 
> That one is a bug...

.. which is now fixed for 0.63:

> x <- rnorm(10)
>  lm(x~x)

Call:
lm(formula = x ~ x)

Coefficients:
(Intercept)  
    -0.5668  


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov  9 14:34:35 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 9 Nov 1998 15:34:35 +0100
Subject: Proposal for discussion:  COLNAMES & ROWNAMES
Message-ID: <199811091434.PAA11456@sophie.ethz.ch>

Looking into several different parts of  R../src/library/base/R/*.R
has led me to the conclusion
that quite a bit of code doubling could be saved by using the following two
functions whose naming philosophy is derived from that of  NROW() & NCOL():

  COLNAMES <- function(x)
      if(is.null(n <- colnames(x))) paste(seq(length=NCOL(x))) else n
  ROWNAMES <- function(x)
      if(is.null(n <- rownames(x))) paste(seq(length=NCOL(x))) else n

Do you have any positive or negative thoughts on this?
[a negative one that I had: ``yet another set of such *names functions !'']
Maybe, replying only to me -- who then would summarize -- is okay.

Martin
Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mai@ms.uky.edu  Mon Nov  9 15:59:48 1998
From: mai@ms.uky.edu (Mai Zhou)
Date: Mon, 9 Nov 1998 10:59:48 -0500 (EST)
Subject: no subject (file transmission)
Message-ID: <199811091559.KAA04488@t3.mscf.uky.edu>

RNG in R and Splus 3.4

Prof. Ripley asked the details of the example. 
We were doing parametric bootstrap, so it is similar to simulation.
Anyway here is the details.

We start with a sample of 19 positive numbers. We know the sample
is from truncated exp(0.3)...only the truncation point, theta, is unknown.

In other words, the sample can be generated from something like

x1 <- rexp(100, rate=0.3)
x2 <- x1[x1<theta]     # the theta are big enough so that length(x2)>19
x3 <- x2[1:19]

And the true theta was 4, hidden from the students.
The estimate of theta from that particular sample was 3.87058501, 
the max of the sample.

Next we wanted to estimate the bias of the max, using bootstrap.
We did this:   

y1<-rexp(4000, rate=0.3)
y2<- y1[y1<3.87058501]
length(y2)  # to make sure y2 is longer than 1900 or whatever..so we are not
            # recycling 
y3<-y2[1:1900]               

# now y3 contains 100 bootstrap samples of 19 each

y4 <- matrix(y3, ncol=19, byrow=T) # actually some of students did
                                   # y4 <- t( matrix(y3, ncol=100) ) 
maxboot <- apply(y4, 1, max)
biasboot <- mean(maxboot) - 3.87058501

We did this for more than 100 runs, depend how much memory you have on your
machine, you can try put a few zeros to the above code. but you get the idea. 
The final result, biasboot, is very different when using R or Splus 3.4
Roughly 2 times (biasboot from R) = (biasboot from Splus 3.4) 
In this particula case the bias was 3.87058501-4. R seem to be better
than Splus which give a biasboot that is too small (or too big in abs value)
But more analysis using simulation reveals otherwise.

We then tried the simulation and that was reported earlier....

We use Rjune on the Win95 and Win NT machine. 

Mai Z
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov  9 16:33:02 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 9 Nov 1998 17:33:02 +0100
Subject: Proposal for discussion:  COLNAMES & ROWNAMES
In-Reply-To: <98Nov9.112254est.13464@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Mon, 9 Nov 1998 11:14:21 -0500)
References: <199811091434.PAA11456@sophie.ethz.ch> <98Nov9.112254est.13464@mailgate.bank-banque-canada.ca>
Message-ID: <199811091633.RAA17985@sophie.ethz.ch>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    MM> COLNAMES <- function(x)
    MM>      if(is.null(n <- colnames(x))) paste(seq(length=NCOL(x))) else n
    MM> ROWNAMES <- function(x)
    MM>      if(is.null(n <- rownames(x))) paste(seq(length=NCOL(x))) else n

    MM> Do you have any positive or negative thoughts on this?

    PaulG> Here are a few thoughts.

thank you!

    PaulG> 0/ In ROWNAMES use NROW

oh yes !

    PaulG> 1/ You might try do this in some way that generalizes more
    PaulG> easily to arrays, but I'm not sure how.

this would mean DIMNAMES, presumably.

    PaulG> 2/ You might want paste("col", seq(length=NCOL(x))) instead of
    PaulG> just the numbers.

Not directly;
    In the places I've seen a possible use, 
    sometimes there was "var", sometimes "..." (forgotten), sometimes no
    prefix at all.  

However, we could add an optional argument `prefix', 
even with sensible defaults: 

    COLNAMES <- function(x, prefix = "col")
	if(is.null(n <- colnames(x)))
		paste(prefix, seq(length=NCOL(x)), sep="") else n
    ROWNAMES <- function(x, prefix = "row")
	if(is.null(n <- rownames(x)))
		paste(prefix, seq(length=NROW(x)), sep="") else n
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Nov  9 17:16:27 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 9 Nov 1998 09:16:27 -0800 (PST)
Subject: reported ?RNG bug
In-Reply-To: <199811091559.KAA04488@t3.mscf.uky.edu>
Message-ID: <Pine.GSO.4.03.9811090902370.4099-100000@wompom.biostat.washington.edu>

On Mon, 9 Nov 1998, Mai Zhou wrote:

> RNG in R and Splus 3.4
> 
> Prof. Ripley asked the details of the example. 
> We were doing parametric bootstrap, so it is similar to simulation.
> Anyway here is the details.

The following code replicates this without needing any specific
hand-coding of numbers each time it is run (except for the slight chance
that y2 will be shorter than 1900 elements)

  x1 <- rexp(100, rate=0.3)
  theta<-4
  x2 <- x1[x1<theta] 
  x3 <- x2[1:19]
  y1<-rexp(4000, rate=0.3)
  y2<-y1[y1< max(x3)]
  y3<-y2[1:1900]   
  y4 <- matrix(y3, ncol=19, byrow=T)
  maxboot <- apply(y4, 1, max)
  biasboot <- mean(maxboot) - max(x3)  
  biasboot

I ran this 1000 times on S-PLUS 3.4 for Solaris, Rpre0.63 for Solaris,
Guido's R 0.61.3 for Windows (NT)  and R0.61.3 for Linux (the oldest R I
have lying around) and got

S-PLUS 		-0.3040023
Rpre0.63	-0.3083820
R 0.61.3	-0.3054932
WinNT	 	-0.307758

I don't have easy access to RJune, but it seems that on the other current
and recent Rs the example works consistently.

Anyone else tried this on RJune?

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From osman.buyukisik@ae.ge.com  Tue Nov 10 18:02:28 1998
From: osman.buyukisik@ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Tue, 10 Nov 1998 13:02:28 -0500 (EST)
Subject: Nov 5 R-devel build on hpux10.20
Message-ID: <13896.31773.918159.804373@c1186.ae.ge.com>

	{Osman, I see that you are now in R-devel; your message to
	 R-help bounced, because of XsubscribeX (w/o "X") in text. 
	 	 Martin Maechler; list manager}

 I grabbed the nov 5 devel tarball and built the system. I had to make 
hand changes to "readline" stuff. I also had to change build-help mod
to +x. Now library(xxx) is not working. I had to change eda and mva
zzz.R files by hand so that shared lib ext was set to ".sl" not ".so".
Still I can't get it to work. 

R : Copyright 1998, The R Development Core Team
Version 0.63.0 Unstable (November 5, 1998)
....

> library(mva)
Error: dynamic library `mva.sl' not found

but if I do :
> dyn.load("/home/xxxxx/local/share/R/library/mva/libs/mva.sl")

it loads OK.  

Is the initial env hosed?  I could not step thru the library
routine. Debug does not step into the "if" braces.  
> library()
Packages in library `/home/xxxxx/local/share/R/library':

base            The R base package
eda             Exploratory Data Analysis
modreg          Modern regression: smoothing and local methods
mva             Classical Multivariate Analysis
stepfun         Step Functions, including Empirical Distributions

-osman

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Wed Nov 11 17:56:48 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 11 Nov 1998 18:56:48 +0100
Subject: Clipping and (device)_Text
Message-ID: <19981111185648.A8464@sirio.stat.unipd.it>

I observed that my graphapp device (the one I used under Windows) behaves
in a different way from the X11 device when a text(...) command is issued.

My first example was using the Brian Ripley's tree package under Windows.
After
> data(iris)
> ir.tr <- tree(Species~.,iris)
> plot(ir.tr)
> text(ir.tr)
I had a "setosa" on the left with only half of the first 's' and a virginica
on the right with only half of the 'a' shown.

Problem seems to be that in my device text(...) is clipped. Indeed
> plot(1:10)
> text(-0.5,3,"some dots.........................................",adj=c(0,0))
under Windows shows the string clipped
in the 'plotting region' (inside the rectangle of the plotted axes);
on the contrary, the full string is shown under Unix.

In a first moment, I though that the clipping region should be restored
to the full device every time a command is completed, i.e, in the
previous case after the plot(1:10). This works for  text(...)
commands but not for other drawing commands. 
For example, then I observed that
> plot(SomeData)
> lines(lowess(SomeData))
> abline(c(0,1))
gives problems (the `abline' line extends outside the 'plotting
region' -> clipping is supposed to be 'passed' from a drawing 
command to the next one; is this right?).

Next, since I found the following comments in devX11.c
       /* Device capabilities */
       /* Clipping is problematic for X11 */
       /* Graphics is clipped, text is not */  
       .....................................
       dd->dp.canClip = 1;        


I simple disabled clipping in (device)_Text(...).

Now, all seems ok; examples before, demo(graphics),....
But, in this way, (device)_Text never 'clips'.
                                ~~~~~
Is this correct? Or I must reintroduce clipping in
(device)_Text and set dd->dp.canClip to a values different
from 1 to advise the graphics engine that my device
clip text, too?

Thanks,
g.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 12 09:33:54 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 12 Nov 1998 10:33:54 +0100
Subject: [COL/ROW]NAMES -> [col/row]names with new arg..
In-Reply-To: <199811120909.KAA10692@sophie.ethz.ch> (message from Martin
 Maechler on Thu, 12 Nov 1998 10:09:47 +0100)
Message-ID: <199811120933.KAA10735@sophie.ethz.ch>

R-devel subscribers:  this came from R-core,
		      but may interest you....

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:

>>>>> "Ross" == Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:
    Ross> Martin Maechler writes:
    >>> Actually, I've been thinking (and asking Kurt) if we shouldn't use
    >>> 
    >>> 'variable.names' and 'case.names' with a new logical argument that
    >>> allows to coerce a [col/row]names character vector (instead of
    >>> NULL) { Kurt suggested something along case.names(x,
    >>> construct.char.vector.if.NULL = FALSE) } instead of introducing yet
    >>> another two functions.
    >>> 
    >>> If you think I should do the change, I'll do it -- still before
    >>> release.
    >>> 
    >>> Once COLNAMES & ROWNAMES are introduced, it will be more of a pain
    >>> to deprecate them again....

    Ross> As someone who has introduced new functions (and later regretted
    Ross> it) I'd say that you sould resist the temptation to introduce
    Ross> COLNAMES and ROWNAMES if at all possible.

    Ross> Would it be possible to just change the behavior of the current
    Ross> rownames and colnames?  I don't imagine that it would break much.

    MM> Ok, I'll do this

    MM> 	colnames(x, char.return = FALSE, prefix = "col")
    MM> 	rownames(x, char.return = FALSE, prefix = "row")

Or would
	 	colnames(x, maybe.NULL = TRUE, prefix = "col")
	 	rownames(x, maybe.NULL = TRUE, prefix = "row")
even preferable?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov 16 13:26:38 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 1998 14:26:38 +0100
Subject: hist()
Message-ID: <x27lwvwyy9.fsf@blueberry.kubism.ku.dk>

Going over my old notes, I realised that hist() has changed since the
earlier versions of R, in that the intervals are now
left-open,right-closed rather than the opposite. This is a change in
the direction of S-plus compatibility, but I wonder how sensible it
really is.

The main problem is with ages, where you'd naturally take age 17 as
representing something between 17 and 18, but:

> brk<-c(15,16,17,18)
> print(hist(17,breaks=brk,plot=F))
$breaks
[1] 15 16 17 18

$counts
[1] 0 1 0

$intensities
[1] 0 1 0

$mids
[1] 15.5 16.5 17.5

so a 17-yo gets put in the 16-17 bracket..

The workaround is to add a small number to the data or subtract it
from the breakpoints, but I still wonder whether the behaviour
shouldn't be changed (generally, or with an option). R's hist() has a
couple of improvements over Splus already, particularly a different
default in the case of non-equidistant breaks.

[hist() returning an invisible result even with plot=F is also a bug,
but that's more easily fixed]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Mon Nov 16 14:29:40 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Mon, 16 Nov 1998 08:29:40 -0600 (CST)
Subject: hist()
In-Reply-To: <x27lwvwyy9.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.95.981116082853.10219A-100000@io.uwinnipeg.ca>

In my opinion, S-Plus or not, the bins should be
left-up-to-but-not-including-right.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 16 15:45:48 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 16 Nov 1998 10:45:48 -0500
Subject: Solaris make for 0.63 failing
Message-ID: <98Nov16.105756est.13479@mailgate.bank-banque-canada.ca>

I shouldn't try to do this on Monday morning. Can anyone suggest why the make
for R 0.63 is failing for me under Solaris (SunOS 5.6).

Paul Gilbert
...
creating src/scripts/html2dos
creating tests/Makefile
creating tests/Examples/Makefile
creating src/include/Platform.h

R is now configured for sparc-sun-solaris2.6

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc -g -O2
  FORTRAN compiler:         g77 -O2

[15] /home/res4/gilp/R : make
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
[16] /home/res4/gilp/R : make install
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'

...
[31] /home/res4/gilp/R-versions/R-0.63 : make -d
MAKEFLAGS value:
  Building all because it is out of date relative to Makefile
    Building stamp-R because it is out of date relative to
src/include/Platform.h
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
[32] /home/res4/gilp/R-versions/R-0.63 :

...
[32] /home/res4/gilp/R-versions/R-0.63 : make -dd
MAKEFLAGS value:
stat(make.rules)
doname(make.rules)
 Looking for % rule for make.rules
 find_double_suffix_rule(make.rules)
 find_suffix_rule(make.rules,make.rules,)
 stat(SCCS)
stat(/usr/share/lib/make/make.rules)
doname(/usr/share/lib/make/make.rules)
 Looking for % rule for /usr/share/lib/make/make.rules
 find_double_suffix_rule(/usr/share/lib/make/make.rules)
 find_suffix_rule(/usr/share/lib/make/make.rules,/usr/share/lib/make/make.rules,)

 stat(/usr/share/lib/make/SCCS)
SUFFIXES= .o .c .c~ .cc .cc~ .y .y~ .l .l~ .s .s~ .sh .sh~ .S .S~ .ln  .h .h~ .f
.f~ .F .F~  .mod .mod~ .sym .def .def~ .p .p~ .r .r~  .f90 .f90~ .ftn .ftn~ .cps
.cps~ .C .C~ .Y .Y~ .L .L~
OUTPUT_OPTION =
CC= cc
CFLAGS =
CPPFLAGS =
LINT= lint
LINTFLAGS =
COMPILE.c= $(CC) $(CFLAGS) $(CPPFLAGS) -c
LINK.c= $(CC) $(CFLAGS) $(CPPFLAGS) $(LDFLAGS)
LINT.c= $(LINT) $(LINTFLAGS) $(CPPFLAGS)
YACC= yacc
YFLAGS =
YACC.y= $(YACC) $(YFLAGS)
LEX= lex
LFLAGS =
LEX.l= $(LEX) $(LFLAGS) -t
CCC= CC
CCFLAGS =
COMPILE.cc= $(CCC) $(CCFLAGS) $(CPPFLAGS)  -c
LINK.cc= $(CCC) $(CCFLAGS) $(CPPFLAGS) $(LDFLAGS)
COMPILE.C= $(CCC) $(CCFLAGS) $(CPPFLAGS)  -c
LINK.C= $(CCC) $(CCFLAGS) $(CPPFLAGS) $(LDFLAGS)
FC= f77
F77= f77
FFLAGS =
COMPILE.f= $(FC) $(FFLAGS)  -c
LINK.f= $(FC) $(FFLAGS) $(LDFLAGS)
COMPILE.F= $(FC) $(FFLAGS) $(CPPFLAGS)  -c
LINK.F= $(FC) $(FFLAGS) $(CPPFLAGS) $(LDFLAGS)
RFLAGS =
COMPILE.r= $(FC) $(FFLAGS) $(RFLAGS)  -c
LINK.r= $(FC) $(FFLAGS) $(RFLAGS) $(LDFLAGS)
F90C= f90
F90FLAGS =
COMPILE.f90= $(F90C) $(F90FLAGS) -c
LINK.f90= $(F90C) $(F90FLAGS) $(LDFLAGS)
COMPILE.ftn= $(F90C) $(F90FLAGS) -c
LINK.ftn= $(F90C) $(F90FLAGS) $(LDFLAGS)
M2C= m2c
M2FLAGS =
MODFLAGS =
DEFFLAGS =
COMPILE.def= $(M2C) $(M2FLAGS) $(DEFFLAGS)
COMPILE.mod= $(M2C) $(M2FLAGS) $(MODFLAGS)
PC= pc
PFLAGS =
COMPILE.p= $(PC) $(PFLAGS) $(CPPFLAGS)  -c
LINK.p= $(PC) $(PFLAGS) $(CPPFLAGS) $(LDFLAGS)
AS= as
ASFLAGS =
COMPILE.s= $(AS) $(ASFLAGS)
COMPILE.S= $(CC) $(ASFLAGS) $(CPPFLAGS)  -c
CPS= cps
CPSFLAGS =
LD= ld
LDFLAGS =
LDLIBS =
MAKE= make
RM= rm -f
AR= ar
ARFLAGS= rv
GET= get
GFLAGS =
SCCSFLAGS =
SCCSGETFLAGS= -s
MAKE= make
MANPATH=
/usr/man:/apps/res/man:/home/res/public/gnu/man:/apps/res/unix/modula_2_2.2/man
DTDATABASESEARCHPATH=
/home/res/gilp/.dt/types,/etc/dt/appconfig/types/%L,/etc/dt/appconfig/types/C,/usr/dt/appconfig/types/%L,/usr/dt/appconfig/types/C

DTXSERVERLOCATION= local
LANG= en_CA
HELPPATH= /usr/openwin/lib/locale:/usr/openwin/lib/help
DTSOURCEPROFILE= true
LC_MONETARY= en_CA
OLWMMENU= /apps/res/unix/owmenu/openwin-menu.generic
LC_TIME= en_CA
PATH=
/usr/bin:/usr/sbin:/usr/dt/bin:/usr/openwin/bin:/home/res/gilp/bin:.:/apps/res/bin:/home/res/qpm/procedures:/usr/ccs/bin:/home/res/public/gnu/sun5.6/bin:/apps/res/unix/openwin/bin

AB_CARDCATALOG= /usr/dt/share/answerbooks/en_CA/ab_cardcatalog
DTUSERSESSION= gilp-res98540-0
XMICONBMSEARCHPATH=
/home/res/gilp/.dt/icons/%B%M.bm:/home/res/gilp/.dt/icons/%B%M.pm:/home/res/gilp/.dt/icons/%B:/usr/dt/appconfig/icons/%L/%B%M.bm:/usr/dt/appconfig/icons/%L/%B%M.pm:/usr/dt/appconfig/icons/%L/%B:/usr/dt/appconfig/icons/C/%B%M.bm:/usr/dt/appconfig/icons/C/%B%M.pm:/usr/dt/appconfig/icons/C/%B

SESSION_SVR= res98540
OPENWINHOME= /apps/res/unix/openwin
EDITOR= /usr/dt/bin/dtpad
LOGNAME= gilp
DTSCREENSAVERLIST= StartDtscreenSwarm StartDtscreenQix     StartDtscreenFlame
StartDtscreenHop StartDtscreenImage StartDtscreenLife     StartDtscreenRotor
StartDtscreenPyro StartDtscreenWorm StartDtscreenBlank
MAIL= /var/mail/gilp
USER= gilp
LC_MESSAGES= en_CA
LC_CTYPE= en_CA
DISPLAY= :0.0
DTAPPSEARCHPATH=
/home/res/gilp/.dt/appmanager:/etc/dt/appconfig/appmanager/%L:/etc/dt/appconfig/appmanager/C:/usr/dt/appconfig/appmanager/%L:/usr/dt/appconfig/appmanager/C

HOME= /home/res/gilp
XFILESEARCHPATH= /usr/openwin/lib/locale/%L/%T/%N%S:/usr/openwin/lib/%T/%N%S
LC_COLLATE= en_CA
LC_NUMERIC= en_CA
XMICONSEARCHPATH=
/home/res/gilp/.dt/icons/%B%M.pm:/home/res/gilp/.dt/icons/%B%M.bm:/home/res/gilp/.dt/icons/%B:/usr/dt/appconfig/icons/%L/%B%M.pm:/usr/dt/appconfig/icons/%L/%B%M.bm:/usr/dt/appconfig/icons/%L/%B:/usr/dt/appconfig/icons/C/%B%M.pm:/usr/dt/appconfig/icons/C/%B%M.bm:/usr/dt/appconfig/icons/C/%B

TERM= sun-cmd
dtstart_sessionlogfile= /dev/null
TZ= Canada/Eastern
MENUDIR= /apps/res/unix/owmenu
DTHELPSEARCHPATH=
/home/res/gilp/.dt/help/gilp-res98540-0/%H:/home/res/gilp/.dt/help/gilp-res98540-0/%H.sdl:/home/res/gilp/.dt/help/gilp-res98540-0/%H.hv:/home/res/gilp/.dt/help/%H:/home/res/gilp/.dt/help/%H.sdl:/home/res/gilp/.dt/help/%H.hv:/usr/dt/appconfig/help/%L/%H:/usr/dt/appconfig/help/%L/%H.sdl:/usr/dt/appconfig/help/%L/%H.hv:/usr/dt/appconfig/help/C/%H:/usr/dt/appconfig/help/C/%H.sdl:/usr/dt/appconfig/help/C/%H.hv

XMBINDDIR= /usr/dt/lib/bindings
PADI= /home/res/gilp/padi/my.production
RHOME= /home/res/gilp/R
RLIBS= /home/res/gilp/dse/pub/Rdse/rlibs:/home/res/gilp/padi/my.production/rlibs

FAME= /apps/res/unix/fame77s
LM_LICENSE_FILE= /apps/asd/lang/SunTech_License/license.dat
GCC_EXEC_PREFIX=
/home/res/public/gnu/sun5.6/lib/gcc-lib/sparc-sun-solaris2.6/2.8.1/
LD_LIBRARY_PATH= /usr/openwin/lib:/home/res/mose/mr/oai/lib
MENU= /home/res/public/MENU
WINDOWID= 71303222
TERMINAL_EMULATOR= dtterm
PWD= /home/res4/gilp/R-versions/R-0.63
WINDOW_TERMIOS =
TERMCAP= sun-cmd:te=\E[>4h:ti=\E[>4l:tc=sun:
NLSPATH=
/usr/ccs/bin/../lib/locale/%L/LC_MESSAGES/%N.cat:/usr/ccs/bin/../lib/locale/C/LC_MESSAGES/%N.cat:/usr/ccs/bin/../../lib/locale/%L/LC_MESSAGES/%N.cat:/usr/ccs/bin/../../lib/locale/C/LC_MESSAGES/%N.cat

VIRTUAL_ROOT= /
MFLAGS= -dd
MAKEFLAGS= -dd
stat(Makefile)
doname(Makefile)
 Looking for % rule for Makefile
 find_double_suffix_rule(Makefile)
 find_suffix_rule(Makefile,Makefile,)
srcdir= .
top_srcdir= .
top_builddir= .
stat(./Makeconf)
doname(./Makeconf)
 Looking for % rule for ./Makeconf
 find_double_suffix_rule(./Makeconf)
 find_suffix_rule(./Makeconf,./Makeconf,)
PACKAGE= R
VERSION= 0.63.0
AR= ar
BLAS= blas.o
CC= gcc
CFLAGS= -g -O2
CPICFLAGS= -fPIC
CPPFLAGS= -I../include -I$(top_srcdir)/src/include
DLLFLAGS =
DVIPS= /apps/res/bin/dvips
FC= g77
F77= g77
FFLAGS= -O2
FPICFLAGS= -fPIC
F2C =
F2CFLAGS =
INSTALL= $(top_srcdir)/aux/install-sh -c
INSTALL_DATA= ${INSTALL} -m 644
INSTALL_PROGRAM= ${INSTALL}
INSTALL_DIR= ${INSTALL} -d
LATEX= /apps/res/bin/latex
LDCMD= g77
LDFLAGS =
LIBS= -ldl -ltermcap -lm
LN_S= ln -s
MAKEINDEX= false
MKINSTALLDIRS= $(top_srcdir)/aux/mkinstalldirs
RANLIB= ranlib
SHELL= /bin/sh
SHLIBEXT= so
SHLIBLD= ld
SHLIBLDFLAGS= -G
TAR= tar
X_CFLAGS= -I/usr/openwin/include
X_LIBS= -L/usr/openwin/lib -R/usr/openwin/lib -lX11
X_PRE_LIBS= -lSM -lICE
X_EXTRA_LIBS= -lsocket  -lnsl
YACC= yacc
prefix= /usr/local
exec_prefix= ${prefix}
bindir= ${exec_prefix}/bin
datadir= ${prefix}/share
libdir= ${exec_prefix}/lib
mandir= ${prefix}/man
rhome= ${prefix}/share/R
distdir= $(PACKAGE)-$(VERSION)
DISTFILES= COPYING COPYRIGHTS INSTALL MIRROR-SITES NEWS PLATFORMS  PROJECTS
README RESOURCES TASKS  Makeconf.in Makefile.in  config.site configure
configure.in configure.mac configure.win  date-stamp
SUBDIRS= src afm demos doc etc tests
GZIP= --best
stat(.INIT)
doname(.INIT)
 Looking for % rule for .INIT
 find_double_suffix_rule(.INIT)
 stat(all)
 doname(all)
@ =
  doname(Makefile)
@ =
   find_double_suffix_rule(Makefile)
   find_suffix_rule(Makefile,Makefile,)
   build_suffix_list() .c .f
   Trying Makefile.c
   Trying Makefile.f
  Date(Makefile)=Mon 16 Nov 1998 10:01:29 AM EST EST
  Building all because it is out of date relative to Makefile
  stat(R)
  doname(R)
@ =
   stat(stamp-R)
   doname(stamp-R)
@ =
    stat(src/include/Platform.h)
    doname(src/include/Platform.h)
@ =
     stat(date-stamp)
     doname(date-stamp)
      Looking for % rule for date-stamp
      find_double_suffix_rule(date-stamp)
      find_suffix_rule(date-stamp,date-stamp,)
      Trying date-stamp.c
      Trying date-stamp.f
     Date(date-stamp)=Fri 13 Nov 1998 06:01:00 AM EST EST
     find_double_suffix_rule(src/include/Platform.h)
    Date(src/include/Platform.h)=Mon 16 Nov 1998 10:01:49 AM EST EST
    Building stamp-R because it is out of date relative to
src/include/Platform.h
    stat(src/*/*.[chfy])
    doname(src/*/*.[chfy])
     Looking for % rule for src/*/*.[chfy]
     find_double_suffix_rule(src/*/*.[chfy])
     find_suffix_rule(src/*/*.[chfy],src/*/*.[chfy],)
     Trying src/*/*.[chfy].c
     Trying src/*/*.[chfy].f
    doname(src/*/*.[chfy])
     Looking for % rule for src/*/*.[chfy]
     find_double_suffix_rule(src/*/*.[chfy])
     find_suffix_rule(src/*/*.[chfy],src/*/*.[chfy],)
     Trying src/*/*.[chfy].c
     Trying src/*/*.[chfy].f
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
    stat(.DONE)
    doname(.DONE)
     Looking for % rule for .DONE
     find_double_suffix_rule(.DONE)
[33] /home/res4/gilp/R-versions/R-0.63 :


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 16:27:17 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 16:27:17 +0000 (GMT)
Subject: hist()
Message-ID: <199811161627.QAA06982@toucan.stats.ox.ac.uk>

> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
> Date: 16 Nov 1998 14:26:38 +0100
> 
> Going over my old notes, I realised that hist() has changed since the
> earlier versions of R, in that the intervals are now
> left-open,right-closed rather than the opposite. This is a change in
> the direction of S-plus compatibility, but I wonder how sensible it
> really is.

Since a histogram is intended to be of continuous data, it should
not really matter. And if the data are already rounded (like ages) it
matters how they were rounded. (One of my grandfathers would
say he was `in his eighty-second year', so the rounding direction
may even depend on the value.)  My example below shows that rounding
error can play havoc with one's intentions too.

Since cut in R has an argument `right', could not hist have too?
And I don't actually understand why hist.default does not call cut.default
directly, when enhancements to cut will be easy to apply to hist.
Then we can argue about the default for right. It seems to me that
it should be the same for cut and for hist, and I would argue for
not changing the current default (whatever it might have been).

Oh, and what do bincode and bincode2 do about rounding error? (Nothing,
I think.) The default breaks in cut and hist are computed quantities,
and as we know, seq does not always get them exactly right.
As in:

> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6) 
[1] (0.249,0.35] (0.35,0.45]  (0.45,0.55]  (0.45,0.55]  (0.55,0.65] 
[6] (0.65,0.75]  (0.75,0.851]

> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6, right=FALSE)
[1] [0.249,0.35) [0.35,0.45)  [0.45,0.55)  [0.55,0.65)  [0.55,0.65) 
[6] [0.65,0.75)  [0.75,0.851)

(R 0.63.0 and others) !!!

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 16:32:54 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 16:32:54 +0000 (GMT)
Subject: Solaris make for 0.63 failing
Message-ID: <199811161632.QAA06996@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Nov 1998 10:45:48 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>

> I shouldn't try to do this on Monday morning. Can anyone suggest why the make
> for R 0.63 is failing for me under Solaris (SunOS 5.6).

You absolutely need GNU make, and on Solaris 2.6 you also need not to
use make-3.77 (the current version) as that has a bug which affects
this.  `They' are using features found in few makes.

Grab a copy of GNU make-3.76.1, make that and then this will work (or
at least, it does for me).

I did suggest that this be in the INSTALL file, but that is still
in the `TWO-LEVEL MAKE' days (or at least, it is on R-release, 0.63.1).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 16 16:50:52 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 16 Nov 1998 11:50:52 -0500
Subject: Solaris make for 0.63 failing
References: <199811161601.RAA06417@sophie.ethz.ch>
Message-ID: <98Nov16.120300est.13470@mailgate.bank-banque-canada.ca>

GNU make does not seem to work either.

I don't understand make very well but
        Trying pattern rule with stem `*.[chf]'.
        Rejecting impossible implicit dependency
`src/library/mva/src/*.[chf].f'.
Near the end of the following  make -d looks a little strange to me. Why does it
have ".f" after ".[chf]"

Paul Gilbert
______
...
creating src/scripts/html2dos
creating tests/Makefile
creating tests/Examples/Makefile
creating src/include/Platform.h

R is now configured for sparc-sun-solaris2.6

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc -g -O2
  FORTRAN compiler:         g77 -O2

[7] /home/res/gilp/R : which make
/home/res/gilp/bin/make
[8] /home/res/gilp/R : make
make: *** No rule to make target `src/library/mva/src/*.[chf]', needed by
`stamp-R'.  Stop.
[9] /home/res/gilp/R : make -d
GNU Make version 3.77, by Richard Stallman and Roland McGrath.
Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98
 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

Report bugs to <bug-make@gnu.org>.

Reading makefiles...
Reading makefile `Makefile'...
Reading makefile `Makeconf' (search path) (no ~ expansion)...
Updating makefiles....
 Considering target file `Makeconf'.
  Looking for an implicit rule for `Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.c'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.f'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.o'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf,v'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `RCS/Makeconf,v'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `RCS/Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `s.Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `SCCS/s.Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.c'.
  Looking for a rule with intermediate file `Makeconf.c'.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `Makeconf'.
   Trying implicit dependency `Makeconf.w'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `Makeconf.c,v'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `RCS/Makeconf.c,v'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `RCS/Makeconf.c'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `s.Makeconf.c'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `SCCS/s.Makeconf.c'.
   Trying pattern rule with stem `Makeconf'.
   Trying implicit dependency `Makeconf.w'.
   Looking for a rule with intermediate file `Makeconf.w'.
    Avoiding implicit rule recursion.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `Makeconf.w,v'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `RCS/Makeconf.w,v'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `RCS/Makeconf.w'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `s.Makeconf.w'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `SCCS/s.Makeconf.w'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.f'.
  Looking for a rule with intermediate file `Makeconf.f'.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `Makeconf.f,v'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `RCS/Makeconf.f,v'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `RCS/Makeconf.f'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `s.Makeconf.f'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `SCCS/s.Makeconf.f'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.o'.
  Looking for a rule with intermediate file `Makeconf.o'.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `Makeconf'.
   Rejecting impossible implicit dependency `Makeconf.c'.
   Trying pattern rule with stem `Makeconf'.
   Rejecting impossible implicit dependency `Makeconf.f'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `Makeconf.o,v'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `RCS/Makeconf.o,v'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `RCS/Makeconf.o'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `s.Makeconf.o'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `SCCS/s.Makeconf.o'.
  No implicit rule found for `Makeconf'.
  Finished dependencies of target file `Makeconf'.
 No need to remake target `Makeconf'.
 Considering target file `Makefile'.
  Finished dependencies of target file `Makefile'.
 No need to remake target `Makefile'.
Updating goal targets....
Considering target file `all'.
 File `all' does not exist.
 Looking for an implicit rule for `all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.c'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.f'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.o'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all,v'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `RCS/all,v'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `RCS/all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `s.all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `SCCS/s.all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.c'.
 Looking for a rule with intermediate file `all.c'.
  Avoiding implicit rule recursion.
  Trying pattern rule with stem `all'.
  Trying implicit dependency `all.w'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `all.c,v'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `RCS/all.c,v'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `RCS/all.c'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `s.all.c'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `SCCS/s.all.c'.
  Trying pattern rule with stem `all'.
  Trying implicit dependency `all.w'.
  Looking for a rule with intermediate file `all.w'.
   Avoiding implicit rule recursion.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `all.w,v'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `RCS/all.w,v'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `RCS/all.w'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `s.all.w'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `SCCS/s.all.w'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.f'.
 Looking for a rule with intermediate file `all.f'.
  Avoiding implicit rule recursion.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `all.f,v'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `RCS/all.f,v'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `RCS/all.f'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `s.all.f'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `SCCS/s.all.f'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.o'.
 Looking for a rule with intermediate file `all.o'.
  Avoiding implicit rule recursion.
  Trying pattern rule with stem `all'.
  Rejecting impossible implicit dependency `all.c'.
  Trying pattern rule with stem `all'.
  Rejecting impossible implicit dependency `all.f'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `all.o,v'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `RCS/all.o,v'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `RCS/all.o'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `s.all.o'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `SCCS/s.all.o'.
 No implicit rule found for `all'.
  Considering target file `Makefile'.
  File `Makefile' was considered already.
  Considering target file `R'.
   File `R' does not exist.
   Looking for an implicit rule for `R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.c'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.f'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.o'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R,v'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `RCS/R,v'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `RCS/R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `s.R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `SCCS/s.R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.c'.
   Looking for a rule with intermediate file `R.c'.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `R'.
    Trying implicit dependency `R.w'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `R.c,v'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `RCS/R.c,v'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `RCS/R.c'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `s.R.c'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `SCCS/s.R.c'.
    Trying pattern rule with stem `R'.
    Trying implicit dependency `R.w'.
    Looking for a rule with intermediate file `R.w'.
     Avoiding implicit rule recursion.
     Avoiding implicit rule recursion.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `R.w,v'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `RCS/R.w,v'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `RCS/R.w'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `s.R.w'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `SCCS/s.R.w'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.f'.
   Looking for a rule with intermediate file `R.f'.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `R.f,v'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `RCS/R.f,v'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `RCS/R.f'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `s.R.f'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `SCCS/s.R.f'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.o'.
   Looking for a rule with intermediate file `R.o'.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `R'.
    Rejecting impossible implicit dependency `R.c'.
    Trying pattern rule with stem `R'.
    Rejecting impossible implicit dependency `R.f'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `R.o,v'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `RCS/R.o,v'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `RCS/R.o'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `s.R.o'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `SCCS/s.R.o'.
   No implicit rule found for `R'.
    Considering target file `stamp-R'.
     File `stamp-R' does not exist.
      Considering target file `src/include/Platform.h'.
        Considering target file `date-stamp'.
         Looking for an implicit rule for `date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.c'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.f'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.o'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp,v'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `RCS/date-stamp,v'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `RCS/date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `s.date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `SCCS/s.date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.c'.
         Looking for a rule with intermediate file `date-stamp.c'.
          Avoiding implicit rule recursion.
          Trying pattern rule with stem `date-stamp'.
          Trying implicit dependency `date-stamp.w'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `date-stamp.c,v'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `RCS/date-stamp.c,v'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `RCS/date-stamp.c'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `s.date-stamp.c'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `SCCS/s.date-stamp.c'.
          Trying pattern rule with stem `date-stamp'.
          Trying implicit dependency `date-stamp.w'.
          Looking for a rule with intermediate file `date-stamp.w'.
           Avoiding implicit rule recursion.
           Avoiding implicit rule recursion.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `date-stamp.w,v'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `RCS/date-stamp.w,v'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `RCS/date-stamp.w'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `s.date-stamp.w'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `SCCS/s.date-stamp.w'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.f'.
         Looking for a rule with intermediate file `date-stamp.f'.
          Avoiding implicit rule recursion.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `date-stamp.f,v'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `RCS/date-stamp.f,v'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `RCS/date-stamp.f'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `s.date-stamp.f'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `SCCS/s.date-stamp.f'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.o'.
         Looking for a rule with intermediate file `date-stamp.o'.
          Avoiding implicit rule recursion.
          Trying pattern rule with stem `date-stamp'.
          Rejecting impossible implicit dependency `date-stamp.c'.
          Trying pattern rule with stem `date-stamp'.
          Rejecting impossible implicit dependency `date-stamp.f'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `date-stamp.o,v'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `RCS/date-stamp.o,v'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `RCS/date-stamp.o'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `s.date-stamp.o'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `SCCS/s.date-stamp.o'.
         No implicit rule found for `date-stamp'.
         Finished dependencies of target file `date-stamp'.
        No need to remake target `date-stamp'.
       Finished dependencies of target file `src/include/Platform.h'.
       Dependency `date-stamp' is older than dependent `src/include/Platform.h'.

      No need to remake target `src/include/Platform.h'.
      Considering target file `src/library/mva/src/*.[chf]'.
       File `src/library/mva/src/*.[chf]' does not exist.
       Looking for an implicit rule for `src/library/mva/src/*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].c'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].f'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].o'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf],v'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/RCS/*.[chf],v'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/RCS/*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/s.*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].c'.
       Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].c'.
        Avoiding implicit rule recursion.
        Trying pattern rule with stem `*.[chf]'.
        Trying implicit dependency `src/library/mva/src/*.[chf].w'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/*.[chf].c,v'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].c,v'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].c'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/s.*.[chf].c'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].c'.
        Trying pattern rule with stem `*.[chf]'.
        Trying implicit dependency `src/library/mva/src/*.[chf].w'.
        Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].w'.
         Avoiding implicit rule recursion.
         Avoiding implicit rule recursion.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/*.[chf].w,v'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/RCS/*.[chf].w,v'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/RCS/*.[chf].w'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/s.*.[chf].w'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].w'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].f'.
       Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].f'.
        Avoiding implicit rule recursion.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/*.[chf].f,v'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].f,v'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].f'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/s.*.[chf].f'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].f'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].o'.
       Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].o'.
        Avoiding implicit rule recursion.
        Trying pattern rule with stem `*.[chf]'.
        Rejecting impossible implicit dependency
`src/library/mva/src/*.[chf].c'.
        Trying pattern rule with stem `*.[chf]'.
        Rejecting impossible implicit dependency
`src/library/mva/src/*.[chf].f'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/*.[chf].o,v'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].o,v'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].o'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/s.*.[chf].o'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].o'.
       No implicit rule found for `src/library/mva/src/*.[chf]'.
       Finished dependencies of target file `src/library/mva/src/*.[chf]'.
      Must remake target `src/library/mva/src/*.[chf]'.
make: *** No rule to make target `src/library/mva/src/*.[chf]', needed by
`stamp-R'.  Stop.
[10] /home/res/gilp/R :

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 16 17:04:20 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 16 Nov 1998 12:04:20 -0500
Subject: Solaris make for 0.63 failing
References: <199811161632.QAA06996@toucan.stats.ox.ac.uk>
Message-ID: <98Nov16.121631est.13448@mailgate.bank-banque-canada.ca>

>You absolutely need GNU make, and on Solaris 2.6 you also need not to
>use make-3.77 (the current version) as that has a bug which affects
>this.  `They' are using features found in few makes.

I seem to be using GNU make 3.77. Is this a bug that is in both the Sun make and
the most recent GNU make, or is the R makefile doing something wrong?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 17:14:31 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 17:14:31 +0000 (GMT)
Subject: Solaris make for 0.63 failing
Message-ID: <199811161714.RAA07052@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Nov 1998 12:04:20 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Prof Brian Ripley <ripley@stats.ox.ac.uk>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: Solaris make for 0.63 failing
> 
> >You absolutely need GNU make, and on Solaris 2.6 you also need not to
> >use make-3.77 (the current version) as that has a bug which affects
> >this.  `They' are using features found in few makes.
> 
> I seem to be using GNU make 3.77. Is this a bug that is in both the Sun make 
and
> the most recent GNU make, or is the R makefile doing something wrong?

Different causes.  However, I get precisely that message from Sun make, and a
rather different one from GNU make 3.77 (about a garbled up file name).

The problems are:

(i) the Makefiles use GNU makefile syntax, and so are not compatible
with Sun's make.  A feature, I think.

(ii) make 3.77 is set up to be part compiled for 64-bit file systems
and part not. This matters if you have complicated wildcards, only,
on Solaris 2.6 and other 64-bit-file-system aware systems, only.
A bug!  If you want to fix it, rebuild 3.77 and use the same flags in
the Makefile for glob as in the main directory.


As to whether `the R makefile is doing something wrong', that is a matter of
opinion, and Theirs counts.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 17:22:04 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 17:22:04 +0000 (GMT)
Subject: Solaris make for 0.63 failing
Message-ID: <199811161722.RAA07066@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Nov 1998 11:50:52 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Martin Maechler <maechler@stat.math.ethz.ch>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: Solaris make for 0.63 failing
> 
> GNU make does not seem to work either.

So you were not using GNU make before?

> 
> I don't understand make very well but
>         Trying pattern rule with stem `*.[chf]'.
>         Rejecting impossible implicit dependency
> `src/library/mva/src/*.[chf].f'.
> Near the end of the following  make -d looks a little strange to me. Why does 
it
> have ".f" after ".[chf]"

That is the bug in GNU make 3.77.  Either fix it (as per my last message)
or go back to 3.76-1.

I had a lot of trouble with this a few weeks' ago.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Nov 16 17:22:12 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 16 Nov 1998 09:22:12 -0800 (PST)
Subject: Solaris make for 0.63 failing
In-Reply-To: <98Nov16.121631est.13448@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9811160908490.24696-100000@wompom.biostat.washington.edu>

On Mon, 16 Nov 1998, Paul Gilbert wrote:

> >You absolutely need GNU make, and on Solaris 2.6 you also need not to
> >use make-3.77 (the current version) as that has a bug which affects
> >this.  `They' are using features found in few makes.
> 
> I seem to be using GNU make 3.77. Is this a bug that is in both the Sun make and
> the most recent GNU make, or is the R makefile doing something wrong?

It (appears to be) a bug in GNU make 3.77, which is not expanding the
wildcards correctly. It is not a bug in Sun make, it's just that Makefile
uses a feature that Sun make doesn't have. Whether this is 'something
wrong' is open to debate (though not very interesting debate).  A fix of
the Makefile to operate with everyone's favorite make is certainly a goal.

	-thomas







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Nov 16 17:40:20 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 16 Nov 1998 09:40:20 -0800 (PST)
Subject: survival4 updated
In-Reply-To: <98Nov16.105756est.13479@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9811160929400.24696-100000@wompom.biostat.washington.edu>


The survival4 port has been updated to work with R0.63.  (version 1.2-0
should be percolating through CRAN)

What it is: a port of Terry Therneau's code, which is also the basis for
the S-PLUS survival analysis functions.This code is about two years old
(9/17/96). Judging from the author's ChangeLog it is slightly more recent
than that used in S-PLUS 3.4. It's about two years more recent than what's
on Statlib.

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Nov 17 15:25:27 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Nov 1998 16:25:27 +0100
Subject: [R] 0.63 missing .pl files in etc?
In-Reply-To: U-E59264-Osman F Buyukisik's message of Tue, 17 Nov 1998 09:05:31 -0500 (EST)
References: <13904.30499.605414.808068@c1186.ae.ge.com> 	<x24srzz2wn.fsf@blueberry.kubism.ku.dk> <13905.31731.808741.730149@c1186.ae.ge.com>
Message-ID: <x2iugepcig.fsf@blueberry.kubism.ku.dk>

U-E59264-Osman F Buyukisik <absd00t@c1186.ae.ge.com> writes:

> Sorry Peter, I don't know how I did it but somehow I managed to have
> directory with missing pearl files :-( Subsequent deletion/expansion
> confirmed that they are there! But "make" still fails with the 
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.

Hmmm. The INSTALL program is responsible for setting the modes. Are
you using an old config.cache? otherwise configure is probably getting
it wrong. Solaris has this stuff in Makeconf:

INSTALL = $(top_srcdir)/aux/install-sh -c
INSTALL_DATA = ${INSTALL} -m 644
INSTALL_PROGRAM = ${INSTALL}
INSTALL_DIR = ${INSTALL} -d

if you have something else, you might want to try enforcing the above.

That "make" continues past errors and still creates stamp-xxx is an
annoying, but well-known misfeature. Partly my fault for telling Kurt
to leave it alone in the period up to the release (but otherwise
things might have gone *really* wrong!).

I'll cc this to r-devel, in case there's another HP-UXer out there
who's been trying this. In particular, I have absolutely no bearing on
your .so/.sl problem below (unless that's also caused by INSTALL..).

> But more problems: 
> 
> R : Copyright 1998, The R Development Core Team
> Version 0.63.0  (November 14, 1998)
...
> 
> > library()
> Packages in library `/home/absd00t/local/share/R/library':
> 
> base            The R base package
> eda             Exploratory Data Analysis
> modreg          Modern regression: smoothing and local methods
> mva             Classical Multivariate Analysis
> stepfun         Step Functions, including Empirical Distributions
> > library(eda)
> Error: dynamic library `eda' not found
> 
> At the end of the R file "eda" is a line:
>  
> library.dynam("eda.so")
> 
> But hpux creates .sl files! So I have to edit the R files eda,
> mva. modreg has a different line :
> .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
> 
> library(modreg)
> Error: dynamic library `modreg' not found

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Nov 17 19:27:48 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 17 Nov 1998 20:27:48 +0100 (CET)
Subject: [R] 0.63 missing .pl files in etc?
In-Reply-To: <x2iugepcig.fsf@blueberry.kubism.ku.dk>
References: <13904.30499.605414.808068@c1186.ae.ge.com>
 <x24srzz2wn.fsf@blueberry.kubism.ku.dk>
 <13905.31731.808741.730149@c1186.ae.ge.com>
 <x2iugepcig.fsf@blueberry.kubism.ku.dk>
Message-ID: <13905.52788.533283.201757@pc87.maho.magnaeu.com>

>>>>> Peter Dalgaard BSA writes:

> U-E59264-Osman F Buyukisik <absd00t@c1186.ae.ge.com> writes:
>> Sorry Peter, I don't know how I did it but somehow I managed to have
>> directory with missing pearl files :-( Subsequent deletion/expansion
>> confirmed that they are there! But "make" still fails with the 
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.

> Hmmm. The INSTALL program is responsible for setting the modes. Are
> you using an old config.cache? otherwise configure is probably getting
> it wrong. Solaris has this stuff in Makeconf:

> INSTALL = $(top_srcdir)/aux/install-sh -c
> INSTALL_DATA = ${INSTALL} -m 644
> INSTALL_PROGRAM = ${INSTALL}
> INSTALL_DIR = ${INSTALL} -d

> if you have something else, you might want to try enforcing the above.

> That "make" continues past errors and still creates stamp-xxx is an
> annoying, but well-known misfeature. Partly my fault for telling Kurt
> to leave it alone in the period up to the release (but otherwise
> things might have gone *really* wrong!).

Hmm.  On my TODO list but as Peter sort of waived this ... I won't be
able to get this done this week, so if someone else wants to ...

> I'll cc this to r-devel, in case there's another HP-UXer out there
> who's been trying this. In particular, I have absolutely no bearing on
> your .so/.sl problem below (unless that's also caused by INSTALL..).

>> But more problems: 
>> 
>> R : Copyright 1998, The R Development Core Team
>> Version 0.63.0  (November 14, 1998)
> ...
>> 
>> > library()
>> Packages in library `/home/absd00t/local/share/R/library':
>> 
>> base            The R base package
>> eda             Exploratory Data Analysis
>> modreg          Modern regression: smoothing and local methods
>> mva             Classical Multivariate Analysis
>> stepfun         Step Functions, including Empirical Distributions
>> > library(eda)
>> Error: dynamic library `eda' not found
>> 
>> At the end of the R file "eda" is a line:
>> 
>> library.dynam("eda.so")

I already fixed this this morning.

>> 
>> But hpux creates .sl files! So I have to edit the R files eda,
>> mva. modreg has a different line :
>> .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
>> 
>> library(modreg)
>> Error: dynamic library `modreg' not found

Why is that?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Nov 18 14:06:37 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 18 Nov 1998 15:06:37 +0100 (CET)
Subject: Solaris make for 0.63 failing
In-Reply-To: <Pine.GSO.4.03.9811160908490.24696-100000@wompom.biostat.washington.edu>
References: <98Nov16.121631est.13448@mailgate.bank-banque-canada.ca>
 <Pine.GSO.4.03.9811160908490.24696-100000@wompom.biostat.washington.edu>
Message-ID: <13906.54381.373466.726822@pc87.maho.magnaeu.com>

>>>>> Thomas Lumley writes:

> On Mon, 16 Nov 1998, Paul Gilbert wrote:
>> >You absolutely need GNU make, and on Solaris 2.6 you also need not to
>> >use make-3.77 (the current version) as that has a bug which affects
>> >this.  `They' are using features found in few makes.
>> 

>> I seem to be using GNU make 3.77. Is this a bug that is in both the
>> Sun make and the most recent GNU make, or is the R makefile doing
>> something wrong?

> It (appears to be) a bug in GNU make 3.77, which is not expanding the
> wildcards correctly. It is not a bug in Sun make, it's just that
> Makefile uses a feature that Sun make doesn't have. Whether this is
> 'something wrong' is open to debate (though not very interesting
> debate).  A fix of the Makefile to operate with everyone's favorite
> make is certainly a goal.

I just added the following to `INSTALL':

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
USING MAKE

To compile R, you currently most likely need GNU make.  (To be more
precise, you need a version of make which accepts shell wildcards in
dependencies.)  On Solaris 2.6 in particular, you need a version of
GNU make different from 3.77 (the current one); 3.76.1 works fine.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

Hope this does for the time being.

Note: I don't necessarily think that there is only GNU make, and that
all of its features should be used.  If I did, the Makefiles would look
rather different (and certain problems would be gone immediately).  The
only `feature' used is shell wildcards in target dependencies (not in
variables, which definitely is a GNU make feature).  One can easily
provide explicit lists of file names instead, but that is a cause of
potential inconsistency that I'd like to avoid for the time being.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 15:17:37 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 10:17:37 -0500
Subject: "[<-"
Message-ID: <98Nov18.102032est.13470@mailgate.bank-banque-canada.ca>

It's my impression that something in the handling of attributes by "[<-" has
changed a bit between 0.62 and 0.63. I didn't notice any mention of this in the
list of changes (except that subscripting has changed in other ways). Does
someone know if this has changed, or should I be looking at things I've been
messing with myself.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 15:47:40 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 10:47:40 -0500
Subject: more on "[<-"
Message-ID: <98Nov18.105038est.13462@mailgate.bank-banque-canada.ca>

"[<-" in R 0.63 does not appear to strip attributes, whereas Splus and previous
versions of R did.

Paul
_____

R 0.63:
>  data <- matrix(rnorm(300),100,3)
>  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> attributes(data)
$dim
[1] 100   3
$tframe
[1] 1981.50 2006.25    4.00
> z <- data[10:90,]
> attributes(z)
$dim
[1] 81  3
$tframe
[1] 1981.50 2006.25    4.00

Splus:
>   data <- matrix(rnorm(300),100,3)
>  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> attributes(data)
$dim:
[1] 100   3
$tframe:
[1] 1981.50 2006.25    4.00
> z <- data[10:90,]
> attributes(z)
$dim:
[1] 81  3


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 15:56:17 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 10:56:17 -0500
Subject: RINSTALL with doc clobbers function.html
Message-ID: <98Nov18.105916est.13471@mailgate.bank-banque-canada.ca>

 In R 0.63 RINSTALL of a package with documentation still appears to clobber
R/doc/html/function.html and R/doc/html/packages.html so the main help is no
longer available to a user once a package is installed.

I know how to work around this for my own purposes, but I hesitate to release a
package that would do this to some unsuspecting user.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Wed Nov 18 16:21:45 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Wed, 18 Nov 1998 16:21:45 +0000 (GMT)
Subject: more on "[<-"
Message-ID: <199811181621.QAA20954@toucan.stats.ox.ac.uk>

Paul,

you are nowhere using "[<-"!  You are using "[" on a vector, and the dim
attribute is not being stripped, only your own "tframe" attribute.

It is clear to me that "[<-" should not change attributes, as it does not:

data <- matrix(rnorm(300),100,3)
attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
data[10:90,1] <- rnorm(81)
attributes(data)

on any of these, but it is less clear what [] should do. As it is not
clear if the attributes apply to the whole object only, I suspect stripping
is right.

Brian

> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>

> "[<-" in R 0.63 does not appear to strip attributes, whereas Splus and 
previous
> versions of R did.
> 
> Paul
> _____
> 
> R 0.63:
> >  data <- matrix(rnorm(300),100,3)
> >  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> > attributes(data)
> $dim
> [1] 100   3
> $tframe
> [1] 1981.50 2006.25    4.00
> > z <- data[10:90,]
> > attributes(z)
> $dim
> [1] 81  3
> $tframe
> [1] 1981.50 2006.25    4.00
> 
> Splus:
> >   data <- matrix(rnorm(300),100,3)
> >  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> > attributes(data)
> $dim:
> [1] 100   3
> $tframe:
> [1] 1981.50 2006.25    4.00
> > z <- data[10:90,]
> > attributes(z)
> $dim:
> [1] 81  3
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 16:50:41 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 11:50:41 -0500
Subject: "[" not "[<-"
References: <199811181621.QAA20954@toucan.stats.ox.ac.uk>
Message-ID: <98Nov18.115341est.13464@mailgate.bank-banque-canada.ca>

As Brian pointed out my comments were regarding [ ] not [<-. I guess I need
another cup of coffee this morning.

>on any of these, but it is less clear what [] should do. As it is not
>clear if the attributes apply to the whole object only, I suspect stripping
>is right.

I have played with this some and the answer is not obvious. There are some
attributes it would be nice to keep and others it would be better to strip. My
tframe attribute has to be consistent with the first dimension of the matrix, so
it either has to be modified when the dim is modified or it has to be stripped
so that there is not conflicting information. I have learned to live with the
latter.

On the subject of [ ], it sure would be nice if this supported drop as a vector
logical (e.g. drop=c(T,F,T) ) so that drop could be specified dimension wise for
arrays.

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Wed Nov 18 17:22:23 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Wed, 18 Nov 1998 18:22:23 +0100
Subject: "[" not "[<-"
References: <199811181621.QAA20954@toucan.stats.ox.ac.uk> <98Nov18.115341est.13464@mailgate.bank-banque-canada.ca>
Message-ID: <3653024F.5325D12D@iarc.fr>

Paul Gilbert wrote:
> 
> Brian Ripley writes
> >on any of these, but it is less clear what [] should do. As it is not
> >clear if the attributes apply to the whole object only, I suspect stripping
> >is right.
> 
> I have played with this some and the answer is not obvious. There are some
> attributes it would be nice to keep and others it would be better to strip. My
> tframe attribute has to be consistent with the first dimension of the matrix, so
> it either has to be modified when the dim is modified or it has to be stripped
> so that there is not conflicting information. I have learned to live with the
> latter.

Couldn't you use the object-oriented features of R? For objects of class
"foo", subsetting can be done using the "[.foo" function. Attributes can be
saved
before passing the data on to NextMethod (which would strip attributes it
doesn't
know about). Then the saved attributes could be restored, possibly in a
modified
form, if the object is still of class "foo".

I had assumed that this was the logic of subsetting, but it would be nice
if someone could confirm this.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Wed Nov 18 17:59:08 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Wed, 18 Nov 1998 17:59:08 +0000 (GMT)
Subject: "[" not "[<-"
Message-ID: <199811181759.RAA22669@toucan.stats.ox.ac.uk>


> Date: Wed, 18 Nov 1998 18:22:23 +0100
> From: Martyn Plummer <plummer@iarc.fr>
> To: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> CC: Prof Brian Ripley <ripley@stats.ox.ac.uk>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: "[" not "[<-"
> 
> Paul Gilbert wrote:
> > 
> > Brian Ripley writes
> > >on any of these, but it is less clear what [] should do. As it is not
> > >clear if the attributes apply to the whole object only, I suspect stripping
> > >is right.
> > 
> > I have played with this some and the answer is not obvious. There are some
> > attributes it would be nice to keep and others it would be better to strip. 
My
> > tframe attribute has to be consistent with the first dimension of the 
matrix, so
> > it either has to be modified when the dim is modified or it has to be 
stripped
> > so that there is not conflicting information. I have learned to live with 
the
> > latter.
> 
> Couldn't you use the object-oriented features of R? For objects of class
> "foo", subsetting can be done using the "[.foo" function. Attributes can be
> saved
> before passing the data on to NextMethod (which would strip attributes it
> doesn't
> know about). Then the saved attributes could be restored, possibly in a
> modified
> form, if the object is still of class "foo".
> 
> I had assumed that this was the logic of subsetting, but it would be nice
> if someone could confirm this.
> 

More or less (but I can only confirm my understanding of this). The
saving is not in fact needed. For example, "[.factor" does

        y <- NextMethod("[")
        attr(y, "contrasts") <- attr(x, "contrasts")
        levels(y) <- levels(x)

etc in S. In R it does only attr(y, "levels") <- attr(x, "levels") (and I
think that is now a bug: it should preserve attr(x, "contrasts")).

I was referring to the default: Paul's example had no class.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Nov 18 18:01:35 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Nov 1998 19:01:35 +0100
Subject: more on "[<-"
In-Reply-To: Paul Gilbert's message of Wed, 18 Nov 1998 10:47:40 -0500
References: <98Nov18.105038est.13462@mailgate.bank-banque-canada.ca>
Message-ID: <x27lwsani8.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> > z <- data[10:90,]
> > attributes(z)
> $dim
> [1] 81  3
> $tframe
> [1] 1981.50 2006.25    4.00
> 
> Splus:

> > attributes(z)
> $dim:
> [1] 81  3

It's a one-line change to get Splus behaviour. Anoyone think of a
reason *not* to do that??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 18:04:07 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 13:04:07 -0500
Subject: RINSTALL with doc clobbers function.html
References: <199811181656.QAA22111@toucan.stats.ox.ac.uk>
Message-ID: <98Nov18.130709est.13462@mailgate.bank-banque-canada.ca>

What I meant was that
R INSTALL    -l rlibs  dse

re-writes
        ${RHOME}/doc/html/function.html
and  ${RHOME}/doc/html/packages.html

with the documentation for dse, rather than appending it to those files. I was
led to believe that this was not a local quirk before, and was just point out
that it is still a problem in 0.63. If it really is now a local quirk then I'll
work on it some more.

>Also, those files are probably not relevant any more:
>help.start sets up links in ${HOME}/.R for this, and updates if needed.

This seems to fix packages.html but not function.html.  It appears to write a
new file ${HOME}/.R/packages.html but ${HOME}/.R/function.html is a link to
${RHOME}/doc/html/function.html which has been clobbered by the install.

This mechanism seems to have the implication that packages which are going to be
used by several people should be installed by the owner of R (e.g. R INSTALL
dse).  I have been installing to a private library (e.g. R INSTALL    -l rlibs
dse) on the assumption that someone other than the R owner might install a
package for several people to use. Is there a preferred way to do this?

(Also, possible a local quirk, help.start() seems to pop open a mail message
which I'm editing and have closed on my desktop.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Wed Nov 18 18:07:43 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Wed, 18 Nov 1998 18:07:43 +0000 (GMT)
Subject: RINSTALL with doc clobbers function.html
Message-ID: <199811181807.SAA22728@toucan.stats.ox.ac.uk>

Public reply to private message:

> Date: Wed, 18 Nov 1998 13:04:07 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Prof Brian Ripley <ripley@stats.ox.ac.uk>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: RINSTALL with doc clobbers function.html
> 
> What I meant was that
> R INSTALL    -l rlibs  dse
> 
> re-writes
>         ${RHOME}/doc/html/function.html
> and  ${RHOME}/doc/html/packages.html


That fact was not there: I have not tested this case.  I do however
have libs set in INSTALL to something other than the default, and
both files get appended to for me.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 18 18:17:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Nov 1998 19:17:03 +0100
Subject: RINSTALL with doc clobbers function.html
In-Reply-To: <98Nov18.130709est.13462@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Wed, 18 Nov 1998 13:04:07 -0500)
Message-ID: <199811181817.TAA26072@sophie.ethz.ch>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> What I meant was that R INSTALL -l rlibs dse

    PaulG> re-writes ${RHOME}/doc/html/function.html and
    PaulG> ${RHOME}/doc/html/packages.html

I always do it your way,
	(install into a different path, and use the RLIBS environment variable)
but I have never had your problem.

(but I have to admit that I rarely use the 'functions.html' interface;
 if I use the HTML interface its for demo-ing to others,
 and/or for looking at extra packages and for using the Java search
 interface;  for everything else, ESS (Emacs Speaks Statistics) 
 is more convenient for me
)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 18 18:28:49 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Nov 1998 19:28:49 +0100
Subject: [jar@oriole.er.usgs.gov: Re: [R] loading fortran with Redhat 5.1]
Message-ID: <199811181828.TAA26120@sophie.ethz.ch>

I can not answer this (message only to me).
Certainly, some of you do..
Martin
-------
  Date: Wed, 18 Nov 1998 13:22:47 -0500 (EST)
  From: "J. Andy Royle" <jar@oriole.er.usgs.gov>
  To: Martin Maechler <maechler@stat.math.ethz.ch>
  Subject: Re: [R] loading fortran with Redhat 5.1
  In-Reply-To: <199811181812.TAA26068@sophie.ethz.ch>

  Hi Martin,

  The reason I was confused by this is because I used dyn.load
  on varna.o from a Sun Ultra 10 (again compiled by g77 -c varna.f...
  not gcc as I stated before....a typo).  Observe to following
  from my Ultra 10:


  /space/jar/ked-> g77 -c varna.f
  /space/jar/ked-> R

  R : Copyright 1998, The R Development Core Team
  Version 0.62.4  (October 24, 1998)
  ..
  ..
  other startup info deleted
  ..
  ..
  [Previously saved workspace restored]

  > dyn.load("varna.o")
  >

  Thus, I figured I could do that in Linux.  Can you comment?


  On Wed, 18 Nov 1998, Martin Maechler wrote:

  > >>>>> "J" == J Andy Royle <jar@oriole.er.usgs.gov> writes:
  > 
  >     J> Hello Martin, Thanks for your help.  This worked fine.. I didn't
  >     J> know about the demo.  I seem to recall that I was doing it the Splus
  >     J> way when I ran R on my Ultra 10.  Is this a new way of loading
  >     J> fortran code into R?
  > 
  > No!
  > The "R SHLIB" abbreviation is somewhat new,  but you always had to 
  > 	dyn.load(...shared.library...)
  > 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Wed Nov 18 18:13:33 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Wed, 18 Nov 1998 18:13:33 -0000 ()
Subject: "[" not "[<-"
In-Reply-To: <199811181759.RAA22669@toucan.stats.ox.ac.uk>
Message-ID: <XFMail.981118183350.plummer@iarc.fr>

On 18-Nov-98 Prof Brian Ripley wrote:
>
>MTP> I had assumed that this was the logic of subsetting, but it would be nice
>MTP> if someone could confirm this.
>
>More or less (but I can only confirm my understanding of this). The
>saving is not in fact needed. 

Indeed it isn't. Sorry.

>I was referring to the default: Paul's example had no class.

And I am agreeing with you. The default "[" method should strip
attributes if this logic is correct.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Wed Nov 18 18:50:09 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Wed, 18 Nov 1998 10:50:09 -0800 (PST)
Subject: [jar@oriole.er.usgs.gov: Re: [R] loading fortran with Redhat
 5.1]
In-Reply-To: <199811181828.TAA26120@sophie.ethz.ch>
Message-ID: <Pine.GSO.4.03.9811181044550.26695-100000@wompom.biostat.washington.edu>

On Wed, 18 Nov 1998, Martin Maechler wrote:

> -------
>   Date: Wed, 18 Nov 1998 13:22:47 -0500 (EST)
>   From: "J. Andy Royle" <jar@oriole.er.usgs.gov>
>   To: Martin Maechler <maechler@stat.math.ethz.ch>
>   Subject: Re: [R] loading fortran with Redhat 5.1
>   In-Reply-To: <199811181812.TAA26068@sophie.ethz.ch>
> 
>   Hi Martin,
> 
>   The reason I was confused by this is because I used dyn.load
>   on varna.o from a Sun Ultra 10 (again compiled by g77 -c varna.f...
>   not gcc as I stated before....a typo).  Observe to following
>   from my Ultra 10:
> 

Yes, on Solaris 2.6 on an Ultra 10 the dynload demo also works this way.
Either gcc -c or cc -c produces an object file that can be dyn.loaded and
run correctly.

It isn't portable. Most Unices distinguish between the output of cc and
the shared object files produced by ld -the.appropriate.flags

I don't know if it works when you need to call R functions from the
compiled code, either.  In any case, R SHLIB is the better solution.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov 18 18:56:19 1998
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Nov 1998 18:56:19 +0000 (GMT)
Subject: [jar@oriole.er.usgs.gov: Re: [R] loading fortran with Redhat 5.1]
In-Reply-To: <199811181828.TAA26120@sophie.ethz.ch>
Message-ID: <Pine.GSO.3.96.981118184902.6457E-100000@localhost>

On Wed, 18 Nov 1998, Martin Maechler wrote:

> I can not answer this (message only to me).
> Certainly, some of you do..

Fluke, I think.  If he had used

g77 -c -fpic varna.f

then I believe varna.o would be a valid shared library on Solaris.  It is
likely that varna.f is simple enough not to need any relocation when
compiled. This certainly works for a single subprogram in the file, but is
definitely not recommended.

It is hard to tell if dlopen actually works, as it is used with the
`lazy' flag in R. One day one tests something never tried before and
it fails....  (Like the first time I actually hit some error-recording
code.)

Brian

>   From: "J. Andy Royle" <jar@oriole.er.usgs.gov>
>   To: Martin Maechler <maechler@stat.math.ethz.ch>
>   Subject: Re: [R] loading fortran with Redhat 5.1
>   In-Reply-To: <199811181812.TAA26068@sophie.ethz.ch>
> 
>   Hi Martin,
> 
>   The reason I was confused by this is because I used dyn.load
>   on varna.o from a Sun Ultra 10 (again compiled by g77 -c varna.f...
>   not gcc as I stated before....a typo).  Observe to following
>   from my Ultra 10:
> 
> 
>   /space/jar/ked-> g77 -c varna.f
>   /space/jar/ked-> R
> 
>   R : Copyright 1998, The R Development Core Team
>   Version 0.62.4  (October 24, 1998)
>   ..
>   ..
>   other startup info deleted
>   ..
>   ..
>   [Previously saved workspace restored]
> 
>   > dyn.load("varna.o")
>   >
> 
>   Thus, I figured I could do that in Linux.  Can you comment?
> 
> 
>   On Wed, 18 Nov 1998, Martin Maechler wrote:
> 
>   > >>>>> "J" == J Andy Royle <jar@oriole.er.usgs.gov> writes:
>   > 
>   >     J> Hello Martin, Thanks for your help.  This worked fine.. I didn't
>   >     J> know about the demo.  I seem to recall that I was doing it the Splus
>   >     J> way when I ran R on my Ultra 10.  Is this a new way of loading
>   >     J> fortran code into R?
>   > 
>   > No!
>   > The "R SHLIB" abbreviation is somewhat new,  but you always had to 
>   > 	dyn.load(...shared.library...)
>   > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 20:58:06 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 15:58:06 -0500
Subject: more on RINSTALL with doc clobbers function.html
Message-ID: <98Nov18.160110est.13479@mailgate.bank-banque-canada.ca>

After some investigation I find that  "R INSTALL   dse" seems to work well.
Also,
"R REMOVE  dse" works but does not clean out ~/.R (which would be pretty
difficult because all users may have this). The result is that a user will have
the impression that the package is installed when it has be remove. (This is
probably not too serious.)

However,  "R INSTALL   -l rlibs  dse" clobbers $RHOME/doc/html/packages.html and

$RHOME/doc/html/function.html. If help.start() is used then the first of these
is not seen by the user (and possibly is defunct and should be removed
entirely), but the second one is seen by the user (through a link in
~/.R/doc/html) and is seriously corrupted.

Some details are appended. I guess I'll stick with "R INSTALL   dse" for now.

Paul Gilbert
_______

After R make:
-rw-r--r--   1 gilp     res       154164 Nov 18 14:17
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1179 Nov 18 14:17
/home/res/gilp/R/doc/html/packages.html


After R INSTALL           -l rlibs  dse
-rw-r--r--   1 gilp     res         1493 Nov 18 14:25
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res          690 Nov 18 14:25
/home/res/gilp/R/doc/html/packages.html
these are clobbered

After R REMOVE   -l rlibs  dse
-rw-r--r--   1 gilp     res       154164 Nov 18 14:29
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1179 Nov 18 14:29
/home/res/gilp/R/doc/html/packages.html
 these are restored to originals


After  R INSTALL   dse
-rw-r--r--   1 gilp     res       154290 Nov 18 14:36
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1315 Nov 18 14:36
/home/res/gilp/R/doc/html/packages.html
These are good. DSE documentation is added and R documentation is not clobbered.

After help.start()
~/.R has
doc/      library/
 /home/res/gilp :  ls -l .R/doc/html/pac*
lrwxrwxrwx   1 gilp     res           61 Nov 18 14:41
.R/doc/html/packages-foot.html ->
/home/res4/gilp/R-versions/R-0.63/doc/html/packages-foot.html
lrwxrwxrwx   1 gilp     res           61 Nov 18 14:41
.R/doc/html/packages-head.html ->
/home/res4/gilp/R-versions/R-0.63/doc/html/packages-head.html
-rw-r--r--   1 gilp     res         1997 Nov 18 14:41 .R/doc/html/packages.html
ls -l .R/doc/html/func*
lrwxrwxrwx   1 gilp     res           56 Nov 18 14:41 .R/doc/html/function.html
-> /home/res4/gilp/R-versions/R-0.63/doc/html/function.html


After R REMOVE  dse
-rw-r--r--   1 gilp     res       154164 Nov 18 15:01
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1179 Nov 18 15:01
/home/res/gilp/R/doc/html/packages.html
These are restored to the original but ~/.R makes it look to the user like the
packaage is there.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 19 17:13:27 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 19 Nov 1998 12:13:27 -0500
Subject: list assignment
Message-ID: <98Nov19.121657est.13464@mailgate.bank-banque-canada.ca>

There appears to be a problem with name matching in list assignment:

Version 0.63.0  (November 14, 1998)
...
> r <- list()
> r$forecast.cov.trend <- 1:12
> r$forecast.cov.zero <- 1:12
> r$forecast.cov <- 1:2
> length(r$forecast.cov)
[1] 0                                   #should be 2
>

But note that this works correctly:
>  r <- list()
> r$forecast.cov.trend <- 1:12
> r$forecast.cov <- 1:2
> length(r$forecast.cov)
[1] 2
>

And also this works correctly:
> r <- list()
> r$forecast.cov <- 1:2
> r$forecast.cov.trend <- 1:12
> r$forecast.cov.zero <- 1:12
> length(r$forecast.cov)
[1] 2
> length(r$forecast.cov.trend)
[1] 12
> length(r$forecast.cov.zero)
[1] 12
>

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Thu Nov 19 17:34:15 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Thu, 19 Nov 1998 18:34:15 +0100
Subject: Loss of attributes from arithmetic comparisons
Message-ID: <36545697.1050F067@iarc.fr>

More on attributes, but nothing to do with the "[" thread...

Arithmetic comparisons strip attributes in R.  This is
incompatible with S. It is not so easy to see what the right
thing to do is here, but perhaps we should have S compatibility?

Martyn

S-PLUS 3.2
==========
S> x_1:10
S> attr(x,"foo") <- TRUE
S> x
 [1]  1  2  3  4  5  6  7  8  9 10
attr(, "foo"):
[1] T
S> x <= 5
 [1] T T T T T F F F F F
attr(, "foo"):
[1] T

R 0.63
======
R> x_1:10
R> attr(x,"foo") <- TRUE
R> x
 [1]  1  2  3  4  5  6  7  8  9 10
attr(,"foo")
[1] TRUE
R> x <= 5
 [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE
R> attributes(x<=5)
NULL
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 19 17:36:51 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 19 Nov 1998 12:36:51 -0500
Subject: [R] configure on Solaris 2.6 for R-0.63
References: <Pine.NEB.4.02.9811190925190.12944-100000@mathfs.math.montana.edu>
Message-ID: <98Nov19.124031est.13471@mailgate.bank-banque-canada.ca>

> > checking for g77... /psoft/Gnu-dev/bin/g77
> > checking for underscore after Fortran symbols... configure: error: Nothing
> > worked - cannot use FORTRAN
> >

I got this problem previous to 0.63 because there was a Solaris 2.5 f77 on my
path and f77 was being checked before g77 which I was using for Solaris 2.6. The
f77 was in a site library, and since right now we have a mix of 2.5 and 2.6  so
I couldn't remove it. I fixed the problem by putting a link high on my path
called f77 pointing to gnu/sun5.6/bin/g77.

This would not explain why 0.62.4 works for you and 0.63 does not, unless the
order in which fortran compilers is checked has changed between these versions.
Perhaps g77 is being checked first now and you have a g77 for Solaris 2.5.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Nov 19 17:53:19 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 1998 18:53:19 +0100
Subject: list assignment
In-Reply-To: Paul Gilbert's message of Thu, 19 Nov 1998 12:13:27 -0500
References: <98Nov19.121657est.13464@mailgate.bank-banque-canada.ca>
Message-ID: <x2d86jy3g0.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> There appears to be a problem with name matching in list assignment:
> 
> Version 0.63.0  (November 14, 1998)
> ...
> > r <- list()
> > r$forecast.cov.trend <- 1:12
> > r$forecast.cov.zero <- 1:12
> > r$forecast.cov <- 1:2
> > length(r$forecast.cov)
> [1] 0                                   #should be 2
> >

Odd, and clearly a bug. Probably rather in indexing rather than
assigment, though:

> a<-list(1,2,3)
> names(a)<-c("aa","ab", "a")
> a$a
NULL
> a[["a"]]
[1] 3



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gerry.brush@bioanthropology.oxford.ac.uk  Thu Nov 19 18:56:07 1998
From: gerry.brush@bioanthropology.oxford.ac.uk (Gerry Brush)
Date: Thu, 19 Nov 98 18:56:07 GMT
Subject: PDF Library
Message-ID: <830.9811191856@wright.iba.ox.ac.uk>


 [* The word xSUBSCRIBE so early in your posting made it bounce. MMae]
  v
I 0subscribe to R-help (not R-devel) but thought this was more relevant to  
R-devel, and the future of R's imaging model and cross-platform support.  If  
this has already been under discussion I apologize.  I've no connection with  
the product, business or its people.

Gerry



Begin forwarded message:

We, at FastIO Systems, are pleased to announce the availability of
ClibPDF: an ANSI C Source Library for Direct PDF Generation.

PDF (Portable Document Format) will be *THE* native graphics
interchange format of the upcoming MacOS X.  While we
anxiously wait for its arrival, you can start producing PDF files
programatically using ClibPDF now.

While MacOS X will no doubt allow PDF generation, ClibPDF
does not rely on any Apple-specific technology.  It's a plain
ANSI C library.  Therefore, it will work on just about any platform.

For details and downloading of ClibPDF, visit our web site,
<http://www.fastio.com/

## What is ClibPDF

ClibPDF is a library of ANSI C functions, distributed in source
form, for creating PDF (Acrobat) files directly via C language
programs without relying on any Adobe Acrobat tools and related
products. It is suitable for fast dynamic PDF Web page generation
in response to user input and real-time data, and also for implementing
publication-quality graph plotting for both on-screen viewing and
printing in any custom application. Since there is minimal
platform-specific code, it is ideal as cross-platform graphing
solutions with minimal developement efforts. Generated PDF files
are viewed and printed by auto-launching Adobe Acrobat Reader or
any other PDF viewer available free for many platforms. Note that
ClibPDF is for PDF file creation only. It has no support for reading
or editing existing PDF files.

## Notable Features of ClibPDF

- Most basic PDF drawing primitives are supported, plus arc and circle.
- Plot domains (linear, semi-log, log-log) with mesh to give graph
    paper appearance.
- Axes (linear, log, date) with flexible tick marks, numbering, and
    labelling.
- Markers, pointers, error bars for data points.
- Multi-page documents may be generated in any page order, and
    pages may be written in an interleaved manner.
- Support for Flate/Zlib compression for fast web download
    (No need for LZW license from Unisys.)
- In-memory PDF generation (no temp files).
- Transition, timed slide show support.

## Possible Applications

- Fast, light-weight CGI for dynamic PDF web pages generation.
- Report generation in medical, scientific, and industrial
    test equipment (and plots may be used directly in publications).
- Giving legacy console-type applications an attractive
    graphic output via auto-launched Arobat Reader (or any PDF viewer).
- Cross-platform graphing solutions.
- A unified imaging model for X-Window applications for beautiful
    screen AND printed output (no more ugly screen dumps). This
    eases the pain of the death of DPS (Display PostScript).

## License, Copying, and Distribution

ClibPDF is free OR commercial depending on how and by whom it is used.

ClibPDF is free for non-profit personal use, and use by educational,
non-profit, and government organizations.

Commercial license is required for use by for-profit entities (also
refered to as commercial users), including commercial web-site
deployment (including intranet), inclusion in in-house business,
production, manufacturing and research applications, for-profit use
by individuals, inclusion in commercial applications, libraries,
and tools that are sold or bundled with other commercial products.
There is a special deferment provision for shareware developers.
An automatic free 30-day examination period is granted for commercial
users for the purpose of evaluating ClibPDF.

The summary of license terms described above is an overview and is
not legally binding. Exact and legally accurate details of licensing
terms are described in the file LICENSE.txt or LICENSE.pdf included in
the distribution or at <http://www.fastio.com/LICENSE.pdf.

We welcome feedback regarding the feature list, licensing, bugs, and
improvements and any other suggestions. Please send comments to
clibpdf@fastio.com.

## Platforms tested so far

-- Unix variants --
BSDI BSD/OS 3.1 (gcc 2.7.2.1)
FreeBSD 2.2.7-STABLE (gcc 2.7.2.1)
Linux 2.0.34 (Red Hat 5.1) (gcc 2.7.2.3)
MacOS X Server (Rhapsody DR2)
NEXTSTEP 3.2, 3.3, OPENSTEP 4.2
SunOS 5.4 / (SUNWspro/SC4.0)

-- PCs --
MacOS 8.1 (Metrowerks IDE 1.7.4) -- See also: README.MacOS8
Windows NT 4.0 (VC++ 5.0) -- See also: README.win32

## Relationships to other software

Conceptually, ClibPDF has been inspired by Cgraph for PostScript
(<http://totoro.berkeley.edu/software/A_Cgraph.html), but it is
much more powerful and no code from Cgraph (PS) has been used.


Here are some comparisons with similar libraries. I don't claim
completeness or impartiality obviously, but I try to be fair.

PDFlib: There are acutally two PDFlib's, one from Thomas Merz,
and the other from Adobe.

NO part of ClibPDF is derived from or related to either of the
two PDF libraries. ClibPDF has been written completely independently.
I have seen some documentation for each, but no source code.

[1] Thomas Merz
<http://www.muc.de/~tm/pdflib/
Thomas Merz's PDFlib is also a source C language library for
dynamic PDF generation. There is some overlap in functionalities
between PDFlib and ClibPDF. PDFlib covers PDF generation at a basic
operator level. It has no compression yet, though the documentation
notes that it is planned.

ClibPDF is designed to do much more than PDFlib, and it is primarily
targeted for graph plotting applications with high-level APIs for
plot domains, data markers, and log and linear axes, although it
can be used for any purpose. ClibPDF can generate multi-page
documents in an arbitrary page order. Flate/Zlib compression is
supported.

[2] Adobe
<http://beta1.adobe.com/ada/acrosdk/libraries.html
Adobe PDF Library, I believe, is distributed in binary form only
with no sources (other than header and examples), thus supported
platforms are limited (in particular, there is no support for Linux
or FreeBSD). It may be used to write applications that will
create/read/edit PDF files. I have no idea how easy it is to use.

[3] PDFPerl
<http://www.ep.cs.nott.ac.uk/pdf-pl/
If you would rather use PERL scripts, this is for you.
Due to the interpreted nature of PERL, I think this is not going
to be fast (I am curious to see any comparisons).

ClibPDF and FastIO are trademarks of FastIO Systems.
Adobe, Acrobat, Exchange, and PostScript are tademarks of Adobe
Systems Inc. All other products or name brands are trademarks
of their respective holders.

Isamu "Sam" Ohzawa
FastIO Systems - Fast Direct PDF Generation via C
clibpdf@fastio.com, http://www.fastio.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Fri Nov 20 10:22:57 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Fri, 20 Nov 1998 10:22:57 +0000 (GMT)
Subject: PDF Library
Message-ID: <199811201022.KAA27148@toucan.stats.ox.ac.uk>

S-PLUS has a pdf.graph graphics device, and from what I know of the S
(hence R) graphics model, it would be relatively easy to write a PDF
graphics device (no fancy commercial libraries needed). However, I am
not about to do it, as I can convert .eps files to .pdf in several ways
and do so regularly using epstopdf (perl script calling gs5.50 at
www.tug.org/applications/pdftex: even works on Windows).  Converting
.pdf to .eps WELL seems rather harder.

> From: Gerry Brush <gerry@wright.iba.ox.ac.uk>
> Date: Thu, 19 Nov 98 18:56:07 GMT
> To: r-devel@stat.math.ethz.ch
> Subject: PDF Library
> 
> 
>   v
> I 0subscribe to R-help (not R-devel) but thought this was more relevant to  
> R-devel, and the future of R's imaging model and cross-platform support.  If  
> this has already been under discussion I apologize.  I've no connection with  
> the product, business or its people.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 20 11:31:33 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 1998 12:31:33 +0100
Subject: PDF Library
In-Reply-To: Prof Brian Ripley's message of Fri, 20 Nov 1998 10:22:57 +0000 (GMT)
References: <199811201022.KAA27148@toucan.stats.ox.ac.uk>
Message-ID: <x267catxbe.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> S-PLUS has a pdf.graph graphics device, and from what I know of the S
> (hence R) graphics model, it would be relatively easy to write a PDF
> graphics device (no fancy commercial libraries needed). However, I am
> not about to do it, as I can convert .eps files to .pdf in several ways
> and do so regularly using epstopdf (perl script calling gs5.50 at
> www.tug.org/applications/pdftex: even works on Windows).  Converting
> .pdf to .eps WELL seems rather harder.

..and a licence of the sort described is nowhere near OpenSource
requirements and clearly in conflict with the GPL. So R cannot use it.
(Certainly not in conjuction with the GPL'ed readline library, anyway.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Nov 20 17:17:22 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Fri, 20 Nov 1998 09:17:22 -0800 (PST)
Subject: PDF Library
In-Reply-To: <x267catxbe.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9811200913400.28367-100000@wompom.biostat.washington.edu>

On 20 Nov 1998, Peter Dalgaard BSA wrote:

> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
> 
> > S-PLUS has a pdf.graph graphics device, and from what I know of the S
> > (hence R) graphics model, it would be relatively easy to write a PDF
> > graphics device (no fancy commercial libraries needed). However, I am
> > not about to do it, as I can convert .eps files to .pdf in several ways
> > and do so regularly using epstopdf (perl script calling gs5.50 at
> > www.tug.org/applications/pdftex: even works on Windows).  Converting
> > .pdf to .eps WELL seems rather harder.
> 
> ..and a licence of the sort described is nowhere near OpenSource
> requirements and clearly in conflict with the GPL. So R cannot use it.
> (Certainly not in conjuction with the GPL'ed readline library, anyway.)
> 


There is also an Open Source PDF library that I have mentioned before. It
seems quite powerful and easy to use. There are license problems even
then, as it is under the Aladdin license, which, like the GPL, is
contagious.

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Nov 22 15:33:51 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 22 Nov 1998 16:33:51 +0100
Subject: [R] installing R packages in Windows?
In-Reply-To: <x2r9uwpsha.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Sat, Nov 21, 1998 at 11:54:09PM +0100
References: <Pine.GSO.3.96.981121211503.9485A-100000@toucan.stats> <x2r9uwpsha.fsf@blueberry.kubism.ku.dk>
Message-ID: <19981122163351.A20171@sirio.stat.unipd.it>

On Sat, Nov 21, 1998 at 11:54:09PM +0100, Peter Dalgaard BSA wrote:
> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
> 
> > All of this is very experimental, so do be careful not to trust the
> > results.  As gunwin32 R has no batch mode, I cannot check standard
>             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> > scripts easily and have only run cursory checks.
> 
> How difficult would it be to create one? I suspect that all you need
> is to avoid starting up the console and do stdio instead. The ESS
> (Emacs Speaks Statistics) crowd will want this as well.

  I am not really a MsWindows programmer so I will try to summarize
  what I know hoping that others (Luke?) will suggest the right direction.

  There are two possibilities easy to implement but not completly
  satisfactory:
  1) to build a only `stdio`  executable, i.e., to have an executable
     which behaves as when you start the Unix one with the 
     --no-readline flag; I suppose that this can be used with ESS
     but I don't use Emacs under Windows so I don't know
     how Emacs manages sub-processes. This new exe must be called
     R.exe (as the other one; if you change the name you will
     have to provide different dll's; which is not what we want;
     but if it is called R.exe (-> it cannot be put
     in RHOME/bin) it can share all the other files). Surely, it 
     will be possible to do batch processing like under Unix
     (redirection provides by the shell from which you launch it).
     I have no tried but this would require minimal change (I suppose
     that I can have it in less than 1 hour); so, if someone wants
     to test it, just ask. 
  2) to add batch processing to the actual executable,i.e, to let 
     possible to launch R with a command line of the type
     R --input-from afile --output-to anotherfile
     In this case, no console is open and R will run in background
     (maybe it can open a small window just saying 
      "R is running; this is the moment for a cup of coffee"
      we need it I think (at least to be able to kill the
      process)). If you will not use the command line arguments
      the standard console will open. R.exe will be a standard
      Windows executable (no character console, no stdin/stout/stderr)
      -> no ESS support.

   On the other end, the ideal solution will be to have an executable
   which on demand (i.e., using the --no-readline flag, I suppose)
   will or open the graphics console or use `stdio`.
   Somewhere in the Win32 API must exist something which let this.
   But I have to find out where. Perhaps, someone here can help
   Problem is that standard Windows application are either
   
   (i) completly `windowed', like Robert's and mine version of R;
   in this case, they don't have standard input and output; 
   indeed if you launch  it from a character console, they behave
   more or less  as if, under Unix, you launch an application
   from an xterm using the background flag (&) 
   and with stdin and   stdout redirected to /dev/null;
   
   or
   
   (ii) `console` applications; in this case stdin and stdout are there;
   but the side effect is that they ALWAYS open a character console
   (or `lock` the one from which you have launched them); 
   
   g.
   
   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 22 16:16:28 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 22 Nov 1998 16:16:28 +0000 (GMT)
Subject: [R] installing R packages in Windows?
In-Reply-To: <19981122163351.A20171@sirio.stat.unipd.it>
Message-ID: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>

On Sun, 22 Nov 1998, Guido Masarotto wrote:

> On Sat, Nov 21, 1998 at 11:54:09PM +0100, Peter Dalgaard BSA wrote:
> > Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
> > 
> > > All of this is very experimental, so do be careful not to trust the
> > > results.  As gunwin32 R has no batch mode, I cannot check standard
> >             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> > > scripts easily and have only run cursory checks.
> > 
> > How difficult would it be to create one? I suspect that all you need
> > is to avoid starting up the console and do stdio instead. The ESS
> > (Emacs Speaks Statistics) crowd will want this as well.
> 
>   I am not really a MsWindows programmer so I will try to summarize
>   what I know hoping that others (Luke?) will suggest the right direction.

I am much, much less of an MS windows programmer than Guido.  What I
intended to try to do was: 

(i) build almost all of R as a DLL. I think that is easy given what
Guido has done, and then other DLLs can link against the import library
for that DLL.  We just need a DLL version of R.a and a different libR.a
(I think).

(ii) build two front-ends called say Rconsole.exe and Rbatch.exe to drive
that DLL.

If it helps, S-PLUS 4.5 has essentially both Guido's options 1) (sqpe.exe)
and 2) (Splus /BATCH) and I use 1) almost all the time.

>   There are two possibilities easy to implement but not completly
>   satisfactory:
>   1) to build a only `stdio`  executable, i.e., to have an executable
>      which behaves as when you start the Unix one with the 

Yes, please, and I think that would suffice for ESS if we are careful
about prompts and stdout/stderr.  I don't care if the x11() device is not
active in this mode.  An ESS insider should be able to advise exactly what
is required; the problem with sqpe.exe is that the prompts disappear
if input is redirected.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Mon Nov 23 12:11:54 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Mon, 23 Nov 1998 06:11:54 -0600 (CST)
Subject: [R] installing R packages in Windows?
In-Reply-To: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats> from "Prof Brian Ripley" at Nov 22, 98 04:16:28 pm
Message-ID: <9811231211.AA03585@nokomis.stat.umn.edu>

Prof Brian Ripley wrote:
> >   what I know hoping that others (Luke?) will suggest the right direction.
> 
> I am much, much less of an MS windows programmer than Guido.  What I
> intended to try to do was: 
> 
> (i) build almost all of R as a DLL. I think that is easy given what
> Guido has done, and then other DLLs can link against the import library
> for that DLL.  We just need a DLL version of R.a and a different libR.a
> (I think).
> 
> (ii) build two front-ends called say Rconsole.exe and Rbatch.exe to drive
> that DLL.
> 

My understanding, which is not very complete yet, says that the
difference between console and gui apps is just in the way they start
up; the console app can make the same use as graphics as the gui one.
So this sould work fine. It's likely to be a bit more work than it
seems to factor the code so the io goes throug callbacks in the front
ends, and the design of the graphics may need to be modified if graphs
are to coegist with a standard console or an emacs console, but it
should work fine.

The one point to keep in mind though is that console apps are possible
on Win95 and NT but not, I believe, on Win32s.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Mon Nov 23 19:42:10 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 23 Nov 1998 20:42:10 +0100
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>; from Prof Brian Ripley on Sun, Nov 22, 1998 at 04:16:28PM +0000
References: <19981122163351.A20171@sirio.stat.unipd.it> <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>
Message-ID: <19981123204210.A22663@sirio.stat.unipd.it>

I made an experiment along the way suggested by Brian Ripley (thanks...).
1) I put all the code in a big dynamic library (R.dll, ~900K);
2) I prepare two executable (4K each,i.e, the smallest size possible
    under Windows): (i) a 'windowed' application (rconsole.exe) which should
    behaves like my current version and (ii) a 'console' (I suppose
    that a better name for rconsole is needed) application
    (rbatch.exe) which does not open a graphich console but
    use 'stdio'. I didn't test Emacs+ESS since, after some
    bad (but old) experiences, I use Emacs
    only under Unix; however, at least, `rbatch < afile > anothefile'
    seems to work; in addition, when isatty() is false (I expect
    this happening under Emacs) the code is exactly the Unix one.
    
I have just uploaded  the result (two files: rw63-iob.zip, binaries,
also of the standard dll's linked against the new R.dll but no help,...
and rw63-ios.zip, sources) on ftp://stat.unipd.it/users/guido/R/devel 
(during the night the files should be mirrored to Wien).

I hope someone would test this version since, if it works,
I think that can add something to the current one (in particular,
if starting from this version we can obtaning an executable
working under Emacs).
But be aware: (i) it is the result of 2 hour of works on a train;
                                                      ~~~~~~~~~~
(ii) I have only test it on a Win98 notebook; (iii) as
Luke said, rbatch should not work under Win32s; (iv) Brian's
libraries must be rebuilt to make them working with this version.

guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@biostat.washington.edu  Mon Nov 23 20:46:03 1998
From: rossini@biostat.washington.edu (A.J. Rossini)
Date: 23 Nov 1998 12:46:03 -0800
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: Guido Masarotto's message of "Mon, 23 Nov 1998 20:42:10 +0100"
References: <19981122163351.A20171@sirio.stat.unipd.it> <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats> <19981123204210.A22663@sirio.stat.unipd.it>
Message-ID: <8767c6uohg.fsf@cho-oyu.cfas.washington.edu>


Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> 2) I prepare two executable (4K each,i.e, the smallest size possible
>     under Windows): (i) a 'windowed' application (rconsole.exe) which should
>     behaves like my current version and (ii) a 'console' (I suppose
>     that a better name for rconsole is needed) application
>     (rbatch.exe) which does not open a graphich console but
>     use 'stdio'. I didn't test Emacs+ESS since, after some
>     bad (but old) experiences, I use Emacs
>     only under Unix; however, at least, `rbatch < afile > anothefile'
>     seems to work; in addition, when isatty() is false (I expect
>     this happening under Emacs) the code is exactly the Unix one.
>     
> I hope someone would test this version since, if it works,
> I think that can add something to the current one (in particular,
> if starting from this version we can obtaning an executable
> working under Emacs).
> But be aware: (i) it is the result of 2 hour of works on a train;
>                                                       ~~~~~~~~~~
> (ii) I have only test it on a Win98 notebook; (iii) as
> Luke said, rbatch should not work under Win32s; (iv) Brian's
> libraries must be rebuilt to make them working with this version.

Thanks much.  I'm hacking Emacs/ESS on MS Windows platforms starting
mid next month, thanks to some external prodding (and now, product
availability from both R, Splus).  And I think XLispStat might be able
to talk (at least DDE), as well, which would be nice

If anyone evaluates the situation before then (ESS/Emacs/R on MS
Windows 95/98/NT), please send me some email with comments, to help me
out! (MS isn't my native environment by a long shot :-).

best,
-tony

-- 
A.J. Rossini			
UW Biostatistics & Center for AIDS Research 	Epimetrics Corporation
206-543-1044 / 206-720-4282			206-652-0604
rossini@biostat.washington.edu			rossini@epimetrics.com
http://www.biostat.washington.edu/~rossini/	http://www.epimetrics.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov 23 21:23:47 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Nov 1998 22:23:47 +0100
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: Guido Masarotto's message of Mon, 23 Nov 1998 20:42:10 +0100
References: <19981122163351.A20171@sirio.stat.unipd.it> <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats> <19981123204210.A22663@sirio.stat.unipd.it>
Message-ID: <x290h2t864.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> 2) I prepare two executable (4K each,i.e, the smallest size possible
>     under Windows): (i) a 'windowed' application (rconsole.exe) which should
>     behaves like my current version and (ii) a 'console' (I suppose
>     that a better name for rconsole is needed) application
>     (rbatch.exe) which does not open a graphich console but
>     use 'stdio'. 

Sounds great, except for the naming... The terminology seems to be
that one distinguishes between GUI applications and console
applications, and your GUI app. is the one called Rconsole! And Rbatch
also works interactively...

More obvious would be to call them

Rgui and Rconsole
   or maybe
Rgui and R

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bacon@mediaone.net  Tue Nov 24 00:08:35 1998
From: bacon@mediaone.net (Fred Bacon)
Date: Tue, 24 Nov 1998 00:08:35 +0000
Subject: Additional autoconf test for linuxppc/mklinux
Message-ID: <3659F903.7C4127F3@mediaone.net>

This is a multi-part message in MIME format.
--------------B1771E3EA5AC1A7BE37E1417
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am attaching a patch to R-0.63's configure.in file which will enable 
R to detect and use some special math libraries on linuxppc and mklinux.
The patch provides tests for these libraries and enable/disable switches 
for them as well.

One library is the libmoto math library which must be used in
conjunction
with libm (it only replaces some of libm's functions).  The other is a
RISC optimized BLAS library, libblas_risc, which must be used along with
a standard implementation of BLAS, libblas.  It only provides optimized 
versions of GEMM routines for single and double precision real values.

Please let me know if the tests cause problems on other architectures.

-- 
Fred Bacon

==========================================================================
Aerodyne Research, Inc.                   Phone:   (978) 663-9500 ext.
273
45 Manning Rd.                              FAX:   (978) 663-4918
Billerica, MA  01821-3976                  http://www.aerodyne.com
==========================================================================
 People who want to share their religious views with you almost never
want
 you to share yours with them.   -- Dave Barry
--------------B1771E3EA5AC1A7BE37E1417
Content-Type: text/plain; charset=us-ascii;
 name="R-0.63.ppc.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="R-0.63.ppc.patch"

diff -ur R-0.63/configure.in R-0.63.new/configure.in
--- R-0.63/configure.in	Fri Nov 13 13:13:56 1998
+++ R-0.63.new/configure.in	Sun Nov 22 17:54:46 1998
@@ -94,6 +94,14 @@
 ## Here we should maybe check that only one of the above options for
 ## dealing with FORTRAN were specified.
 
+AC_ARG_ENABLE(libmoto,
+  [  --enable-libmoto        use libmoto math library (if available)],
+  [ if test "${enableval}"=no;
+      then use_libmoto=false;
+      else use_libmoto=true;
+    fi],
+   use_libmoto=true)
+      
 AC_ARG_ENABLE(blas,
   [  --enable-blas           use BLAS library (if available)],
   [if test "${enableval}" = no;
@@ -102,6 +110,14 @@
   fi],
   use_blas=true)
 
+AC_ARG_ENABLE(blas_risc,
+  [  --enable-blas_risc      use RISC Optimized BLAS library (if available)],
+  [ if test "${enableval}" = no;
+     then use_blas_risc=false;  
+     else use_blas_risc=true; use_blas=true;
+    fi],
+    use_blas_risc=true; use_blas=true)
+
 AC_ARG_ENABLE(dxml,
   [  --enable-dxml           use DXML library (if available)],
   [if test "${enableval}" = no;
@@ -396,6 +412,9 @@
 export LD_LIBRARY_PATH
 
 AC_CHECK_LIB(m, sin)
+if ${use_libmoto}; then
+   AC_CHECK_LIB(moto,sin)
+fi
 AC_CHECK_LIB(ncurses, main,,
   AC_CHECK_LIB(termcap, main,,
     AC_CHECK_LIB(termlib, main)
@@ -413,6 +432,11 @@
     fi
   )
 fi
+
+if ${use_blas_risc}; then
+   AC_CHECK_LIB(blas_risc, main, FLIBS="-lblas_risc ${FLIBS}" BLAS="",,-lblas -lf2c)
+fi  
+
 AC_SUBST(BLAS)
 for arg in ${LIBS}; do
   case ${arg} in

--------------B1771E3EA5AC1A7BE37E1417--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From 4details@bitsmart.com  Tue Nov 24 10:25:14 1998
From: 4details@bitsmart.com (4details)
Date: Tue, 24 Nov 1998 10:25:14
Subject: Export Market for Security Products
Message-ID: <199811240558.GAA16101@hypatia.math.ethz.ch>

Dear reader,

We have just visited your website and became interested in developing a long-term trading relationship with your company. 

We are the largest manufacturer of video door phones, specializing in a full range of security systems. Strong alliances have 
been established with many industries, such as: design institutes, building developers, construction and engineering firms, 
and real estate companies, etc. Our annual sales volume for 1997 was approximately US$ 10 million.

Our core business is producing standard OEM & ODM security products that meet the individual needs of our customer's designs. 
Our quality control measures are strictly followed, from the very beginning of material development, until the goods are 
released to our customers.

For full details on our company's profile, products, and distributorship / licensing agreements, please reply now.

mailto:4details@bitsmart.com?Subject=VIDEO_DOOR_PHONES
mailto:4details@bitsmart.com?Subject=DOOR_PHONES
mailto:4details@bitsmart.com?Subject=SECURITY_PRODUCTS

We look forward to your soonest reply!

Thank you very much in advance.

Sincerely yours,

Mr. White Van
Export Sales Manager

Shenzhen Bailan Industrial Development Co., Ltd.
Sales & Marketing Dept.
Address: A 505, 5F, Build SEG Science Park, 
North. HuaQuing Road
Shenzhen China

Tel.  (86)-755-376 2520  (8 Lines)    P.C.     	51828
Fax.  (86)-755-332 1197               Pager:	191-548 4749
 
 
 
 
 
 
 
 
 
 
 
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 24 07:32:40 1998
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Nov 1998 07:32:40 +0000 (GMT)
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: <x290h2t864.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.3.96.981124072537.5386C-100000@localhost>

On 23 Nov 1998, Peter Dalgaard BSA wrote:

> Guido Masarotto <guido@sirio.stat.unipd.it> writes:
> 
> > 2) I prepare two executable (4K each,i.e, the smallest size possible
> >     under Windows): (i) a 'windowed' application (rconsole.exe) which should
> >     behaves like my current version and (ii) a 'console' (I suppose
> >     that a better name for rconsole is needed) application
> >     (rbatch.exe) which does not open a graphich console but
> >     use 'stdio'. 
> 
> Sounds great, except for the naming... The terminology seems to be
> that one distinguishes between GUI applications and console
> applications, and your GUI app. is the one called Rconsole! And Rbatch
> also works interactively...
> 
> More obvious would be to call them
> 
> Rgui and Rconsole
>    or maybe
> Rgui and R

Peter, what you and what Windows call a `console application' clearly
differ!  In Windows a `console application' opens its own window to work
in.

Given that confusion, I would go for something like Rgui and Rterm (as for
now R is already used for the `all in one' solution).

The point here is that if the DLL is called R.DLL, we can make different
front ends and link them to everything else, and the names can be changed.

Congratulations to Guido: I failed in a couple of hours, because a crucial
link step always hangs my machine. (Ah, the joys of MS programming.)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Nov 24 09:58:31 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Nov 1998 10:58:31 +0100
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: Prof Brian D Ripley's message of Tue, 24 Nov 1998 07:32:40 +0000 (GMT)
References: <Pine.GSO.3.96.981124072537.5386C-100000@localhost>
Message-ID: <x2emqtjttk.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> > Sounds great, except for the naming... The terminology seems to be
> > that one distinguishes between GUI applications and console
> > applications, and your GUI app. is the one called Rconsole! And Rbatch
> > also works interactively...
> > 
> > More obvious would be to call them
> > 
> > Rgui and Rconsole
> >    or maybe
> > Rgui and R
> 
> Peter, what you and what Windows call a `console application' clearly
> differ!  In Windows a `console application' opens its own window to work
> in.

Hm. I think you're wrong there, although there's an obvious ambiguity
between programs that need a console and those that supply one. A
console *mode* application is definitely something that is intended to
be run in a console (alias DOS box in W95), and a GUI mode application
runs detached, like a background job in Unix. The former are the ones
that spring up a DOS box when you double-click the icon, and the
latter is the only type that runs in Win32s.

> 
> Given that confusion, I would go for something like Rgui and Rterm (as for
> now R is already used for the `all in one' solution).

Rterm is a good idea, certainly.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From khal@alumni.uv.es  Tue Nov 24 16:05:47 1998
From: khal@alumni.uv.es (Kjetil Halvorsen)
Date: Tue, 24 Nov 1998 17:05:47 +0100
Subject: as.list
References: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>
Message-ID: <365AD95B.79D8A8B6@alumni.uv.es>

I don't understand the behavior of "as.list"
(really as.list.default) on arguments which
are expressions. An artificial example:

> as.list(expression( x <- 1, y <- 2))
[[1]]
<-

[[2]]
<-

as.list.default contains the following code:

 if (is.expression(x)) {
        l <- vector("list")
        for (sub in x) l <- c(l, sub[[1]])

--- why the sub[[1]] part?

eliminating the [[1]], I get:

> my.as.list(expression( x <- 1, y <- 2))
[[1]]
x <- 1

[[2]]
y <- 2


Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Tue Nov 24 17:10:50 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Tue, 24 Nov 1998 09:10:50 -0800 (PST)
Subject: BSD style sockets for R
In-Reply-To: <x2emqtjttk.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9811240858590.8396-100000@wompom.biostat.washington.edu>


I have a very basic implementation of sockets adapted from Luke Tierney's
XLISP-Stat implementation. It will probably be in R0.64 but that could be
some time coming.  In the interim I have an R package at
	http://www.biostat.washington.edu/~thomas/sockets.tgz

It should also work with S once you work out the right compiling and
linking flags. 


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 26 13:28:12 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Nov 1998 14:28:12 +0100
Subject: hist()
In-Reply-To: <199811161627.QAA06982@toucan.stats.ox.ac.uk> (message from Prof
 Brian Ripley on Mon, 16 Nov 1998 16:27:17 +0000 (GMT))
Message-ID: <199811261328.OAA27866@sophie.ethz.ch>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes [Mon 16 Nov]:

    >> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> Date: 16 Nov
    >> 1998 14:26:38 +0100
    >> 
    >> Going over my old notes, I realised that hist() has changed since
    >> the earlier versions of R, in that the intervals are now
    >> left-open,right-closed rather than the opposite. This is a change in
    >> the direction of S-plus compatibility, but I wonder how sensible it
    >> really is.

    BDR> Since a histogram is intended to be of continuous data, it should
    BDR> not really matter. And if the data are already rounded (like ages)
    BDR> it matters how they were rounded. (One of my grandfathers would
    BDR> say he was `in his eighty-second year', so the rounding direction
    BDR> may even depend on the value.)  My example below shows that
    BDR> rounding error can play havoc with one's intentions too.

    BDR> Since cut in R has an argument `right', could not hist have too?
I agree.
    BDR> And I don't actually understand why hist.default does not call
    BDR> cut.default directly, when enhancements to cut will be easy to
    BDR> apply to hist.
yes that would be the advantage.
The current implementation, using .C("bincount",..) instead of
.C("bincode"..) is however much less memory hungry for large x
than  table(cut(...)).

    BDR> Then we can argue about the default for right. It
    BDR> seems to me that it should be the same for cut and for hist, and I
    BDR> would argue for not changing the current default (whatever it
    BDR> might have been).
the current default is the same for cut & hist, namely "right = TRUE".
I agree that it shouldn't be changed -- for mere compatibility --

The help page could/should mention that for many people,
	right = FALSE
seems more natural.

    BDR> Oh, and what do bincode and bincode2 do about rounding error?
    BDR> (Nothing, I think.) 

You are right: nothing.  [src/appl/binning.c]
However, do you think they *should* do anything at all?
If a 'break' ("cut point") is close to a data value, there's still only one
side of the break that the data value can go....

    BDR> The default breaks in cut and hist are
    BDR> computed quantities, and as we know, seq does not always get them
    BDR> exactly right.  As in:

    >> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6)
    BDR> [1] (0.249,0.35] (0.35,0.45] (0.45,0.55] (0.45,0.55] (0.55,0.65]
    BDR> [6] (0.65,0.75] (0.75,0.851]

    >> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6, right=FALSE)
    BDR> [1] [0.249,0.35) [0.35,0.45) [0.45,0.55) [0.55,0.65) [0.55,0.65)
    BDR> [6] [0.65,0.75) [0.75,0.851)

I don't think there's any real bug here:

> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6, dig.lab = 5) 
[1] (0.2494,0.3496] (0.3496,0.4498] (0.4498,0.55]   (0.4498,0.55]  
[5] (0.55,0.6502]   (0.6502,0.7504] (0.7504,0.8506]
Levels:  (0.2494,0.3496] (0.3496,0.4498] (0.4498,0.55] (0.55,0.6502] (0.6502,0.7504] (0.7504,0.8506] 

However, for the case of computed breaks (as above),
I think cut() should construct 'breaks' to which no data value is close,
i.e. the ``breaks construction'' should consider rounding problems!

Thank you for revealing this!


Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 26 13:51:37 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Nov 1998 14:51:37 +0100
Subject: Saving memory usage -- .C(....., DUP = FALSE)  danger?
Message-ID: <199811261351.OAA27891@sophie.ethz.ch>

Just found out [R 0.63, standard -v -n] :

    > rm(list=ls())
    > gc()
	     free  total
    Ncells  96538 200000
    Vcells 214008 250000
    > hist(runif(50000))
    Error: heap memory (1953 Kb) exhausted [needed 390 Kb more]

which is a bit astonishing given that I still have room for 214000 double's

    > u1 <- runif(50000)
    > u2 <- runif(50000)
    > gc()
	     free  total
    Ncells  96534 200000
    Vcells 114006 250000

debug(hist.default)  quickly revealed that the error was produced
when  .C("bincount",....) was called.

Looking at the help, 
	help(.C)
and then at the "DUP = TRUE" default argument to .C(.),
I was reminded that every argument is first copied before being passed to
bincount().

Setting the "DUP = FALSE" argument in hist.default
made it work with the above 50000 doubles.

But then I wondered ``more generally'' :

	What exactly happens / can happen when calling, e.g.,

		r <- .C("foo", x=x, y=as.double(y),  DUP = FALSE)

	Will 'x' be altered after the call to .C(*)  if in C's 
		foo(double *x, double *y)
	x is altered?
	Will 'y' be unaltered anyway, since   "as.double(y)" produces a
	a different object than 'y' anway?

I know that I could make experiments and find out,
but hopefully, one of you will know much better and explain to all
R-develers.

Really useful might be a comprehensive list of recommendations 
on when  "DUP = FALSE" is useful / advisable / detestable ...

Thank you!

Martin

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><

	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Nov 26 14:01:06 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Nov 1998 15:01:06 +0100
Subject: hist()
In-Reply-To: Martin Maechler's message of Thu, 26 Nov 1998 14:28:12 +0100
References: <199811261328.OAA27866@sophie.ethz.ch>
Message-ID: <x2ww4iwo2l.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

>     BDR> Oh, and what do bincode and bincode2 do about rounding error?
>     BDR> (Nothing, I think.) 
> 
> You are right: nothing.  [src/appl/binning.c]
> However, do you think they *should* do anything at all?
> If a 'break' ("cut point") is close to a data value, there's still only one
> side of the break that the data value can go....

I think we probably should implement a fuzz-factor here to avoid sillyness
like

> cut(0.35, breaks=seq(0,1,0.05),right=F)
[1] [0.3,0.35)
Levels:  [0,0.05) [0.05,0.1) [0.1,0.15) [0.15,0.2) [0.2,0.25) [0.25,0.3) [0.3,0.35) [0.35,0.4) [0.4,0.45) [0.45,0.5) [0.5,0.55) [0.55,0.6) [0.6,0.65) [0.65,0.7) [0.7,0.75) [0.75,0.8) [0.8,0.85) [0.85,0.9) [0.9,0.95) [0.95,1) 

..   which currently happens because 

> 0.35 - 7*0.05
[1] -5.551115e-17

This doesn't happen in Splus, but that's just because it won't do
right=F...:

>  cut(seq(0,0.5,0.05), breaks=c(0,0.1,0.2,0.3,0.4,0.5))                         [1] NA  1  1  2  2  3  4  4  4  5  5
attr(, "levels"):
[1] "0.0+ thru 0.1" "0.1+ thru 0.2" "0.2+ thru 0.3" "0.3+ thru 0.4"
[5] "0.4+ thru 0.5"

>  cut(-0.35, breaks=-rev(seq(0,1,0.05)))                                       [1] 14       
attr(, "levels"):
 [1] "-1.00+ thru -0.95" "-0.95+ thru -0.90" "-0.90+ thru -0.85"
 [4] "-0.85+ thru -0.80" "-0.80+ thru -0.75" "-0.75+ thru -0.70"
 [7] "-0.70+ thru -0.65" "-0.65+ thru -0.60" "-0.60+ thru -0.55"
[10] "-0.55+ thru -0.50" "-0.50+ thru -0.45" "-0.45+ thru -0.40"
[13] "-0.40+ thru -0.35" "-0.35+ thru -0.30" "-0.30+ thru -0.25"
[16] "-0.25+ thru -0.20" "-0.20+ thru -0.15" "-0.15+ thru -0.10"
[19] "-0.10+ thru -0.05" "-0.05+ thru  0.00"



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Nov 26 22:54:31 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 26 Nov 1998 14:54:31 -0800 (PST)
Subject: Saving memory usage -- .C(....., DUP = FALSE)  danger?
In-Reply-To: <199811261351.OAA27891@sophie.ethz.ch>
Message-ID: <Pine.GSO.4.03.9811261434290.9184-100000@wompom.biostat.washington.edu>

On Thu, 26 Nov 1998, Martin Maechler wrote:
> 
> But then I wondered ``more generally'' :
> 
> 	What exactly happens / can happen when calling, e.g.,
> 
> 		r <- .C("foo", x=x, y=as.double(y),  DUP = FALSE)
> 
> 	Will 'x' be altered after the call to .C(*)  if in C's 
> 		foo(double *x, double *y)
> 	x is altered?
> 	Will 'y' be unaltered anyway, since   "as.double(y)" produces a
> 	a different object than 'y' anway?

x will be altered, y will not.  If you want y altered then you have to
assign it to storage model "double" earlier. 

> 
> Really useful might be a comprehensive list of recommendations 
> on when  "DUP = FALSE" is useful / advisable / detestable ...
> 

Here's a start.  

DUP=FALSE is dangerous.

There are two important dangers with DUP=FALSE. The first
is that garbage collection may move the object, resulting in the pointers
pointing nowhere useful and causing hard-to-reproduce bugs.

The second is that if you pass a formal parameter of the calling function
to .C/.Fortran with DUP=FALSE I don't think it is necessarily copied. You
may be able to change not only the local variable but the variable one
level up. This will also be very hard to trace.

1) If your C/Fortran routine calls back any R function including
S_alloc/R_alloc then do not use DUP=FALSE. Don't even think about it.  
Calling almost any R function could trigger garbage collection.

2) If you don't trigger garbage collection it is safe and useful to set
DUP=FALSE if you don't change any of the variables that might be affected
	eg  .C("Cfunction",input=x,output=numeric(10))
In this case the output variable didn't exist before the call so it can't
cause trouble. If the input variable is not changed in Cfunction you are
safe.



I've commented before (but never actually done anything) that it would be
a useful intermediate step to have analogues of the Fortran 90 INTENT IN
and INTENT OUT declarations for these functions. In the example above
there is no need to copy the input back after calling Cfunction and no
need to copy the output before calling (just to allocate the space).
Something like
	.C("Cfunction",input=x,output=numeric(10),IN=c(T,F),OUT=c(F,T))
might then say to copy x and allocate uninitialised space for numeric(10),
call the function, and then copy output back again. The first component of
the result would then be NULL, saving space in the local environment as
well. These would be less efficient but less dangerous than DUP=FALSE as
you couldn't mess up R's internal structures by getting the declarations
wrong.



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From M.J.Ray@UEA.ac.uk  Mon Nov 30 10:38:22 1998
From: M.J.Ray@UEA.ac.uk (Mark J Ray)
Date: Mon, 30 Nov 1998 10:38:22 +0000
Subject: Rcgi announcement
Message-ID: <19981130103822.50123@mth.uea.ac.uk>

Dear All,

I am writing to ask if you would please test our first public release of
Rcgi, a CGI WWW interface to R.  We've added a few new tricks to what has
gone before, the most interesting of which is the ability to use "embedded
code": you can mix user input and code, allowing the HTML author to do
anything from load in data sets to enter most of the commands for users
without writing CGI scripts.  Graphical output is possible in PostScript or
GIF formats and the executed code is presented to the user for revision.

A demonstration and download is available from
	http://www.mth.uea.ac.uk/~h089/Rcgi/
We're especially interested in any comments, suggestions or improvements
that you may have.

The software requires
	- R (prefer 0.61 or later)
	- Perl 5
	- gzip tools
	- Ghostscript (for GIF output)
	- NetPBM (for GIF output)
	- A CGI-enabled web server (eg Apache)

-- 
Mark.
Stats Postgrad  mailto:M.J.Ray@UEA.ac.uk      http://wwwmjr.base.org/
UEA Norwich UK  mailto:markj@stu.uea.ac.uk  http://www.stu.uea.ac.uk/
"Software is like sex, it's better when it's free." - Linus Torvalds
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 30 18:29:39 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 30 Nov 1998 18:29:39 +0000 (GMT)
Subject: [R] R functionality
Message-ID: <199811301829.SAA07623@toucan.stats.ox.ac.uk>


> Date: Mon, 30 Nov 1998 12:07:10 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Ed Kademan <kademan@phz.com>
> 
> >Is there anything R can do that Splus can't?
> 
> Problems which require lots of looping and cannot be re-coded as vector/matrix
> operations are theoretically possible but practically infeasible in S, unless
> they  are coded in C or Fortran and called from S. These problems seem to run
> fine in R.

Some but not all. Last night I was trying to run my survival examples
in R on Windows, including a large loop or alternatively a vectorized
version using many 4000x3 matrices.  Both run happily in S-PLUS 4.5 in
about three minutes and less than 10Mb allocated. R needs a largish
heap (20Mb failed, 30Mb seemed enough) that got partially swapped out
(the machine has 32Mb RAM) and I gave up after an hour of thrashing on
the loop version, and the vectorized version seemed in far more
page-thrashing trouble. Eventually I found just the right heap size
(24Mb) to get the loop version to run in about ten minutes.  R also has
a large amount of code in memory by that stage in the computations (ca
300000 n cells used).

BTW there are enormous differences amongst S3, S-PLUS 3/4.x, S4 and
S-PLUS 5.x in this area.


From: Thomas Lumley <thomas@biostat.washington.edu>

> Some of the
> packages, because they are more recent than similar S(-PLUS) built-in
> features may be better designed (eg the tree packages from Terry Therneau
> and Brian Ripley,

To be fair, both of those went the other way, they were written as
S(-PLUS) addons and then ported (by me) to R.  The only example I am
aware of going from R to S is my (still unfinished) lqs package, which
started as a re-design of some ROBETH code and ended up much more
comprehensive than what was available for S-PLUS.

> As R is much faster on _some_ code than S-PLUS I have also done
> simulations in R that I could not do in S-PLUS. Whether this counts as an
> added feature is arguable, but it can certainly be useful.

Agreed, but as my anecdote shows, much slower on other code.  I have
done extensive timings on the same machine and I see only a very few
statistical jobs where the overall speed difference is more than two
either way (against S-PLUS 3.4/4.5: S-PLUS 5.0 is another ball game).

`Your mileage may differ.'


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 30 19:24:08 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 30 Nov 1998 14:24:08 -0500
Subject: [R] R functionality
References: <199811301829.SAA07623@toucan.stats.ox.ac.uk>
Message-ID: <98Nov30.143327est.13479@mailgate.bank-banque-canada.ca>

PG>Problems which require lots of looping and cannot be re-coded as
vector/matrix
PG> operations are theoretically possible but practically infeasible in S,
unless
PG> they  are coded in C or Fortran and called from S. These problems seem to
run
PG> fine in R.

BR>Some but not all...

TL> As R is much faster on _some_ code ...

BR>Agreed, but as my anecdote shows, much slower on other code.
BR>`Your mileage may differ.'

Well, for the record, my milage is that Splus 3.3 is generally about twice as
fast as R with Solaris 2.6 on a Sparc Ultra10 doing my standard test set of
problems. These tests call Fortran for the main loop of ARMA and state space
time series models and use Splus "For" loops (which are a real pain to debug)
for monte-carlo simulations and "For" loops calling the "For" loops (which are a
super pain to debug) for evaluating estimation techniques. In R, I use "for"
loops.

However, I've been experimenting with some other time series models which I have
not (and cannot easily) code in fortran. In R it is true that I have to tweak
the nsize and vsize. Too much will cause paging. But I can run the monte-carlo
simulations and also evaluate estimation techniques in a reasonable time. In
Splus it seems these would take years to run. Apart from setting the nsize and
vsize too large and causing paging I have not run into the situation that R is
orders of magnitude slower than Splus.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Mon Nov  2 13:00:22 1998
From: maechler@stat.math.ethz.ch (Martin Maechler)
Date: Mon, 2 Nov 1998 14:00:22 +0100
Subject: windows nt (PR#59) -- users vs. "administrator"
Message-ID: <199811021300.OAA04539@sophie.ethz.ch>


------- Start of forwarded message -------

From: christoph.kalinowski@biostat.ku.dk
Date: Mon, 2 Nov 1998 13:41:54 +0100
To: R-core@stat.math.ethz.ch
Subject: windows nt (PR#59)
CC: R-bugs@biostat.ku.dk

Full_Name: Christoph Kalinowski
Version: 0.62 Beta (June 9, 1998)
OS: WINDOWS NT
Submission from: 141.78.128.14 (141.78.128.14)


Hello everyone,
I tried the R windows version RJune on a windows nt system
and the following problem occured: when I login as 'main user', 
the error message 'couldn't allocate memory' appears and the 
command window dissapears directly. When I login as 'administrator' 
there are no problems. Does anyone know how to configure R 
(or windows nt?) so that users can start it?

CHRISTOPH
------- End of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov  4 21:32:26 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 4 Nov 1998 16:32:26 -0500
Subject: RNG
Message-ID: <98Nov4.163830est.13461@mailgate.bank-banque-canada.ca>

On r-help Bill Simpson wrote:

>Marsaglia's multiply-with-carry generator is very easy to implement--he
>has posted some C code to newsgroups--and seems to test out OK. I wonder
>if it would make sense to use one of his generators instead.

I would like a system where the random number generator can be specified
(perhaps in options or a .RandomGenerator variable). Most often everyone wants
to use the best RNG available, but in order to reproduce results and check code
it is important to use the one which was used to produce the original results.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov  4 22:10:16 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Nov 1998 22:10:16 +0000 (GMT)
Subject: RNG
In-Reply-To: <98Nov4.163830est.13461@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.3.96.981104215730.7508B-100000@toucan.stats>

On Wed, 4 Nov 1998, Paul Gilbert wrote:

> On r-help Bill Simpson wrote:
> 
[Comment about the existing generator: yes it has been tested both
theoretically and empirically, and yes it seem to be fine: it just has no
claims to be good of its type, or `efficient' (see the paper title).]


> >Marsaglia's multiply-with-carry generator is very easy to implement--he
> >has posted some C code to newsgroups--and seems to test out OK. I wonder
> >if it would make sense to use one of his generators instead.

Yes, but most generators seem to test out OK, but quite a few of those
that do have been proven to be disasters. Given George Marsaglia's
eminence, these are probably fine, but there are no theoretical results to
my knowledge, and I prefer to use generators that are known to have good
properties in modest numbers of dimensions.
 
> I would like a system where the random number generator can be specified
> (perhaps in options or a .RandomGenerator variable). Most often everyone wants
> to use the best RNG available, but in order to reproduce results and check code
> it is important to use the one which was used to produce the original results.

Well, for most people using an interpreted language like R, most PRNGs are
quite good enough. Compiled code on massively parallel supercomputers is
another game altogether.  Paul's argument is a very good one not to change
what is there (and my reason for not supplying better ones to Allan Wilks
for S in the early 1990s or to R-core). But beware: it is not just the
PRNG but all the variate generators that needs to be unchanged, and large
simulations may well depend on rounding errors and so not be reproducible
except on the same version of R compiled on the same compiler. 

I think a decent API for random-number generators is quite hard to
do: what is the structure for the seeds, for example?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Nov  5 15:12:38 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 5 Nov 1998 16:12:38 +0100 (CET)
Subject: CRAN now also rsync-able
Message-ID: <13889.49254.725359.615258@galadriel.ci.tuwien.ac.at>


Following a suggestion by Doug Bates (half a year ago or so ...) I
have set up an experimental rsync server for CRAN, i.e., it is now
also possible to mirror CRAN using rsync for those who prefer it.

The command

	rsync -rl ftp.tuwien.ac.at::CRAN /destination/dir

should copy the complete CRAN ftp area into /destination/dir.

Any comments on wether the server works are appreciated.

I'm not an rsync expert, so I'm not sure if -rl is the right
combination of options, but it seems to work for me (probably one also
needs --delete to remove files that are not on CRAN anymore) ... I'm
currently trying to learn rsync myself ... 

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  5 15:19:42 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 5 Nov 1998 10:19:42 -0500
Subject: RNG
References: <Pine.GSO.3.96.981104215730.7508B-100000@toucan.stats>
Message-ID: <98Nov5.102603est.13448@mailgate.bank-banque-canada.ca>

Brian Ripley writes:

>But beware: it is not just the
>PRNG but all the variate generators that needs to be unchanged, and large
>simulations may well depend on rounding errors

I can certainly attest to this. One undocumented change between Splus 3.1 and
3.2 (or 3.2 and 3.3 maybe) was a change in the link libraries, resulting in a
very small change in the values of normally distributed random numbers. It took
me a very long time to discovery why I couldn't reproduce some results. (They
also dropped zeros from the uniform but that was more obvious.)

>and so not be reproducible
>except on the same version of R compiled on the same compiler.

Despite my above comment I've had very good luck in this regard. Since the
change in the RNG about R 0.49 I've been able to reproduce results to within
reasonable tolerances on Sun4, Sun5 and Linux (although I haven't tried linux
recently.)

>I think a decent API for random-number generators is quite hard to
>do: what is the structure for the seeds, for example?

Martin Maechler and I discussed this some time ago and as I recall there are a
few non-trivial issues. I think the seed would have to be specific to the
generator, or perhaps it would be possible to have a "universal seed" which can
be used to generate the seed for a specific generator. Then any new generator
would need to come with a method for generating its seed from the universal one.

One of my interests in this is to be able to produce the same random numbers in
S, Splus, and R, so that I don't need to have different versions of my test
programs. For this I don't need to use the Splus generator but I need to put a
"wrapper" around the generator so that I can do the same thing in Splus.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Nov  6 06:59:22 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 6 Nov 1998 07:59:22 +0100 (CET)
Subject: CRAN now also rsync-able
In-Reply-To: <6r67cuf61v.fsf@verdi.stat.wisc.edu>
References: <13889.49254.725359.615258@galadriel.ci.tuwien.ac.at>
 <6r67cuf61v.fsf@verdi.stat.wisc.edu>
Message-ID: <13890.40522.864860.633981@galadriel.ci.tuwien.ac.at>

>>>>> On 05 Nov 1998 10:38:52 -0600,
>>>>> Douglas Bates (DB) wrote:

DB> Thanks very much for doing that, Fritz.
>>>>> "Fritz" == Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

Fritz> Following a suggestion by Doug Bates (half a year ago or so
Fritz> ...) I have set up an experimental rsync server for CRAN,
Fritz> i.e., it is now also possible to mirror CRAN using rsync for
Fritz> those who prefer it.

Fritz> The command

Fritz> rsync -rl ftp.tuwien.ac.at::CRAN /destination/dir

Fritz> should copy the complete CRAN ftp area into /destination/dir.

Fritz> Any comments on wether the server works are appreciated.

DB> Still a few bugs in the system.  Here's what I get

DB>  $ rsync -rl ftp.tuwien.ac.at::CRAN R


Oooops ... make that ftp.ci.tuwien.ac.at of course ... sorry!
                        ^^^^
Fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov  6 22:29:52 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 06 Nov 1998 16:29:52 -0600
Subject: Using rsync against CRAN master
Message-ID: <6ru30cmp3z.fsf@verdi.stat.wisc.edu>

Thanks to Fritz for installing anonymous rsync on the master CRAN
site.  Rsync has many advantages over mirror scripts for mirroring the
archive.

I now update my mirror with a crontab entry like
	rsync -vrlt ftp.ci.tuwien.ac.at::CRAN /home/ftp/pub/R
where /home/ftp/pub/R is the location of my mirror.

I would add -t to the switches that Fritz listed.  This sets the file
modification times to match those on the master site and makes it
easier to see what is newer.  The -v gives you verbose output.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Nov  8 16:34:12 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 8 Nov 1998 17:34:12 +0100
Subject: Strange behaviour of lm
Message-ID: <19981108173412.A2033@sirio.stat.unipd.it>

R-0.62.4 running under linux
-------------------------------------------------------------------------------
> x <- rnorm(10)
> lm(x~x)
Error: length of namelist must equal dims
> x <- c(1,2,3)
> lm(x~x)

Call:
lm(formula = x ~ x)

Coefficients:
(Intercept)
          2
	  
> y <- x
> lm(y~x)
  
Call:
lm(formula = y ~ x)
	  
Coefficients:
(Intercept)            x
          0            1
	  
------------------------------------------------------------------------------
guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Nov  8 22:19:20 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 1998 23:19:20 +0100
Subject: Strange behaviour of lm
In-Reply-To: Guido Masarotto's message of Sun, 8 Nov 1998 17:34:12 +0100
References: <19981108173412.A2033@sirio.stat.unipd.it>
Message-ID: <x24ss9rfo7.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> R-0.62.4 running under linux
> -------------------------------------------------------------------------------
> > x <- rnorm(10)
> > lm(x~x)
> Error: length of namelist must equal dims

That one is a bug...

> > x <- c(1,2,3)
> > lm(x~x)
> 
> Call:
> lm(formula = x ~ x)
> 
> Coefficients:
> (Intercept)
>           2
> 	  
> > y <- x
> > lm(y~x)
>   
> Call:
> lm(formula = y ~ x)
> 	  
> Coefficients:
> (Intercept)            x
>           0            1

...but the rest is Splus compatible. The dependent is removed from the
right hand side of model formulas. I seem to remember that there's a
reason for that.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov  9 01:02:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 1998 02:02:25 +0100
Subject: Strange behaviour of lm
In-Reply-To: Peter Dalgaard BSA's message of 08 Nov 1998 23:19:20 +0100
References: <19981108173412.A2033@sirio.stat.unipd.it> <x24ss9rfo7.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2r9vdbrvi.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Guido Masarotto <guido@sirio.stat.unipd.it> writes:
> 
> > R-0.62.4 running under linux
> > -------------------------------------------------------------------------------
> > > x <- rnorm(10)
> > > lm(x~x)
> > Error: length of namelist must equal dims
> 
> That one is a bug...

.. which is now fixed for 0.63:

> x <- rnorm(10)
>  lm(x~x)

Call:
lm(formula = x ~ x)

Coefficients:
(Intercept)  
    -0.5668  


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov  9 14:34:35 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 9 Nov 1998 15:34:35 +0100
Subject: Proposal for discussion:  COLNAMES & ROWNAMES
Message-ID: <199811091434.PAA11456@sophie.ethz.ch>

Looking into several different parts of  R../src/library/base/R/*.R
has led me to the conclusion
that quite a bit of code doubling could be saved by using the following two
functions whose naming philosophy is derived from that of  NROW() & NCOL():

  COLNAMES <- function(x)
      if(is.null(n <- colnames(x))) paste(seq(length=NCOL(x))) else n
  ROWNAMES <- function(x)
      if(is.null(n <- rownames(x))) paste(seq(length=NCOL(x))) else n

Do you have any positive or negative thoughts on this?
[a negative one that I had: ``yet another set of such *names functions !'']
Maybe, replying only to me -- who then would summarize -- is okay.

Martin
Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mai@ms.uky.edu  Mon Nov  9 15:59:48 1998
From: mai@ms.uky.edu (Mai Zhou)
Date: Mon, 9 Nov 1998 10:59:48 -0500 (EST)
Subject: no subject (file transmission)
Message-ID: <199811091559.KAA04488@t3.mscf.uky.edu>

RNG in R and Splus 3.4

Prof. Ripley asked the details of the example. 
We were doing parametric bootstrap, so it is similar to simulation.
Anyway here is the details.

We start with a sample of 19 positive numbers. We know the sample
is from truncated exp(0.3)...only the truncation point, theta, is unknown.

In other words, the sample can be generated from something like

x1 <- rexp(100, rate=0.3)
x2 <- x1[x1<theta]     # the theta are big enough so that length(x2)>19
x3 <- x2[1:19]

And the true theta was 4, hidden from the students.
The estimate of theta from that particular sample was 3.87058501, 
the max of the sample.

Next we wanted to estimate the bias of the max, using bootstrap.
We did this:   

y1<-rexp(4000, rate=0.3)
y2<- y1[y1<3.87058501]
length(y2)  # to make sure y2 is longer than 1900 or whatever..so we are not
            # recycling 
y3<-y2[1:1900]               

# now y3 contains 100 bootstrap samples of 19 each

y4 <- matrix(y3, ncol=19, byrow=T) # actually some of students did
                                   # y4 <- t( matrix(y3, ncol=100) ) 
maxboot <- apply(y4, 1, max)
biasboot <- mean(maxboot) - 3.87058501

We did this for more than 100 runs, depend how much memory you have on your
machine, you can try put a few zeros to the above code. but you get the idea. 
The final result, biasboot, is very different when using R or Splus 3.4
Roughly 2 times (biasboot from R) = (biasboot from Splus 3.4) 
In this particula case the bias was 3.87058501-4. R seem to be better
than Splus which give a biasboot that is too small (or too big in abs value)
But more analysis using simulation reveals otherwise.

We then tried the simulation and that was reported earlier....

We use Rjune on the Win95 and Win NT machine. 

Mai Z
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov  9 16:33:02 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 9 Nov 1998 17:33:02 +0100
Subject: Proposal for discussion:  COLNAMES & ROWNAMES
In-Reply-To: <98Nov9.112254est.13464@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Mon, 9 Nov 1998 11:14:21 -0500)
References: <199811091434.PAA11456@sophie.ethz.ch> <98Nov9.112254est.13464@mailgate.bank-banque-canada.ca>
Message-ID: <199811091633.RAA17985@sophie.ethz.ch>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    MM> COLNAMES <- function(x)
    MM>      if(is.null(n <- colnames(x))) paste(seq(length=NCOL(x))) else n
    MM> ROWNAMES <- function(x)
    MM>      if(is.null(n <- rownames(x))) paste(seq(length=NCOL(x))) else n

    MM> Do you have any positive or negative thoughts on this?

    PaulG> Here are a few thoughts.

thank you!

    PaulG> 0/ In ROWNAMES use NROW

oh yes !

    PaulG> 1/ You might try do this in some way that generalizes more
    PaulG> easily to arrays, but I'm not sure how.

this would mean DIMNAMES, presumably.

    PaulG> 2/ You might want paste("col", seq(length=NCOL(x))) instead of
    PaulG> just the numbers.

Not directly;
    In the places I've seen a possible use, 
    sometimes there was "var", sometimes "..." (forgotten), sometimes no
    prefix at all.  

However, we could add an optional argument `prefix', 
even with sensible defaults: 

    COLNAMES <- function(x, prefix = "col")
	if(is.null(n <- colnames(x)))
		paste(prefix, seq(length=NCOL(x)), sep="") else n
    ROWNAMES <- function(x, prefix = "row")
	if(is.null(n <- rownames(x)))
		paste(prefix, seq(length=NROW(x)), sep="") else n
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Nov  9 17:16:27 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 9 Nov 1998 09:16:27 -0800 (PST)
Subject: reported ?RNG bug
In-Reply-To: <199811091559.KAA04488@t3.mscf.uky.edu>
Message-ID: <Pine.GSO.4.03.9811090902370.4099-100000@wompom.biostat.washington.edu>

On Mon, 9 Nov 1998, Mai Zhou wrote:

> RNG in R and Splus 3.4
> 
> Prof. Ripley asked the details of the example. 
> We were doing parametric bootstrap, so it is similar to simulation.
> Anyway here is the details.

The following code replicates this without needing any specific
hand-coding of numbers each time it is run (except for the slight chance
that y2 will be shorter than 1900 elements)

  x1 <- rexp(100, rate=0.3)
  theta<-4
  x2 <- x1[x1<theta] 
  x3 <- x2[1:19]
  y1<-rexp(4000, rate=0.3)
  y2<-y1[y1< max(x3)]
  y3<-y2[1:1900]   
  y4 <- matrix(y3, ncol=19, byrow=T)
  maxboot <- apply(y4, 1, max)
  biasboot <- mean(maxboot) - max(x3)  
  biasboot

I ran this 1000 times on S-PLUS 3.4 for Solaris, Rpre0.63 for Solaris,
Guido's R 0.61.3 for Windows (NT)  and R0.61.3 for Linux (the oldest R I
have lying around) and got

S-PLUS 		-0.3040023
Rpre0.63	-0.3083820
R 0.61.3	-0.3054932
WinNT	 	-0.307758

I don't have easy access to RJune, but it seems that on the other current
and recent Rs the example works consistently.

Anyone else tried this on RJune?

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From osman.buyukisik@ae.ge.com  Tue Nov 10 18:02:28 1998
From: osman.buyukisik@ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Tue, 10 Nov 1998 13:02:28 -0500 (EST)
Subject: Nov 5 R-devel build on hpux10.20
Message-ID: <13896.31773.918159.804373@c1186.ae.ge.com>

	{Osman, I see that you are now in R-devel; your message to
	 R-help bounced, because of XsubscribeX (w/o "X") in text. 
	 	 Martin Maechler; list manager}

 I grabbed the nov 5 devel tarball and built the system. I had to make 
hand changes to "readline" stuff. I also had to change build-help mod
to +x. Now library(xxx) is not working. I had to change eda and mva
zzz.R files by hand so that shared lib ext was set to ".sl" not ".so".
Still I can't get it to work. 

R : Copyright 1998, The R Development Core Team
Version 0.63.0 Unstable (November 5, 1998)
....

> library(mva)
Error: dynamic library `mva.sl' not found

but if I do :
> dyn.load("/home/xxxxx/local/share/R/library/mva/libs/mva.sl")

it loads OK.  

Is the initial env hosed?  I could not step thru the library
routine. Debug does not step into the "if" braces.  
> library()
Packages in library `/home/xxxxx/local/share/R/library':

base            The R base package
eda             Exploratory Data Analysis
modreg          Modern regression: smoothing and local methods
mva             Classical Multivariate Analysis
stepfun         Step Functions, including Empirical Distributions

-osman

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Wed Nov 11 17:56:48 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 11 Nov 1998 18:56:48 +0100
Subject: Clipping and (device)_Text
Message-ID: <19981111185648.A8464@sirio.stat.unipd.it>

I observed that my graphapp device (the one I used under Windows) behaves
in a different way from the X11 device when a text(...) command is issued.

My first example was using the Brian Ripley's tree package under Windows.
After
> data(iris)
> ir.tr <- tree(Species~.,iris)
> plot(ir.tr)
> text(ir.tr)
I had a "setosa" on the left with only half of the first 's' and a virginica
on the right with only half of the 'a' shown.

Problem seems to be that in my device text(...) is clipped. Indeed
> plot(1:10)
> text(-0.5,3,"some dots.........................................",adj=c(0,0))
under Windows shows the string clipped
in the 'plotting region' (inside the rectangle of the plotted axes);
on the contrary, the full string is shown under Unix.

In a first moment, I though that the clipping region should be restored
to the full device every time a command is completed, i.e, in the
previous case after the plot(1:10). This works for  text(...)
commands but not for other drawing commands. 
For example, then I observed that
> plot(SomeData)
> lines(lowess(SomeData))
> abline(c(0,1))
gives problems (the `abline' line extends outside the 'plotting
region' -> clipping is supposed to be 'passed' from a drawing 
command to the next one; is this right?).

Next, since I found the following comments in devX11.c
       /* Device capabilities */
       /* Clipping is problematic for X11 */
       /* Graphics is clipped, text is not */  
       .....................................
       dd->dp.canClip = 1;        


I simple disabled clipping in (device)_Text(...).

Now, all seems ok; examples before, demo(graphics),....
But, in this way, (device)_Text never 'clips'.
                                ~~~~~
Is this correct? Or I must reintroduce clipping in
(device)_Text and set dd->dp.canClip to a values different
from 1 to advise the graphics engine that my device
clip text, too?

Thanks,
g.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 12 09:33:54 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 12 Nov 1998 10:33:54 +0100
Subject: [COL/ROW]NAMES -> [col/row]names with new arg..
In-Reply-To: <199811120909.KAA10692@sophie.ethz.ch> (message from Martin
 Maechler on Thu, 12 Nov 1998 10:09:47 +0100)
Message-ID: <199811120933.KAA10735@sophie.ethz.ch>

R-devel subscribers:  this came from R-core,
		      but may interest you....

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:

>>>>> "Ross" == Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:
    Ross> Martin Maechler writes:
    >>> Actually, I've been thinking (and asking Kurt) if we shouldn't use
    >>> 
    >>> 'variable.names' and 'case.names' with a new logical argument that
    >>> allows to coerce a [col/row]names character vector (instead of
    >>> NULL) { Kurt suggested something along case.names(x,
    >>> construct.char.vector.if.NULL = FALSE) } instead of introducing yet
    >>> another two functions.
    >>> 
    >>> If you think I should do the change, I'll do it -- still before
    >>> release.
    >>> 
    >>> Once COLNAMES & ROWNAMES are introduced, it will be more of a pain
    >>> to deprecate them again....

    Ross> As someone who has introduced new functions (and later regretted
    Ross> it) I'd say that you sould resist the temptation to introduce
    Ross> COLNAMES and ROWNAMES if at all possible.

    Ross> Would it be possible to just change the behavior of the current
    Ross> rownames and colnames?  I don't imagine that it would break much.

    MM> Ok, I'll do this

    MM> 	colnames(x, char.return = FALSE, prefix = "col")
    MM> 	rownames(x, char.return = FALSE, prefix = "row")

Or would
	 	colnames(x, maybe.NULL = TRUE, prefix = "col")
	 	rownames(x, maybe.NULL = TRUE, prefix = "row")
even preferable?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov 16 13:26:38 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 1998 14:26:38 +0100
Subject: hist()
Message-ID: <x27lwvwyy9.fsf@blueberry.kubism.ku.dk>

Going over my old notes, I realised that hist() has changed since the
earlier versions of R, in that the intervals are now
left-open,right-closed rather than the opposite. This is a change in
the direction of S-plus compatibility, but I wonder how sensible it
really is.

The main problem is with ages, where you'd naturally take age 17 as
representing something between 17 and 18, but:

> brk<-c(15,16,17,18)
> print(hist(17,breaks=brk,plot=F))
$breaks
[1] 15 16 17 18

$counts
[1] 0 1 0

$intensities
[1] 0 1 0

$mids
[1] 15.5 16.5 17.5

so a 17-yo gets put in the 16-17 bracket..

The workaround is to add a small number to the data or subtract it
from the breakpoints, but I still wonder whether the behaviour
shouldn't be changed (generally, or with an option). R's hist() has a
couple of improvements over Splus already, particularly a different
default in the case of non-equidistant breaks.

[hist() returning an invisible result even with plot=F is also a bug,
but that's more easily fixed]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Mon Nov 16 14:29:40 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Mon, 16 Nov 1998 08:29:40 -0600 (CST)
Subject: hist()
In-Reply-To: <x27lwvwyy9.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.95.981116082853.10219A-100000@io.uwinnipeg.ca>

In my opinion, S-Plus or not, the bins should be
left-up-to-but-not-including-right.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 16 15:45:48 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 16 Nov 1998 10:45:48 -0500
Subject: Solaris make for 0.63 failing
Message-ID: <98Nov16.105756est.13479@mailgate.bank-banque-canada.ca>

I shouldn't try to do this on Monday morning. Can anyone suggest why the make
for R 0.63 is failing for me under Solaris (SunOS 5.6).

Paul Gilbert
...
creating src/scripts/html2dos
creating tests/Makefile
creating tests/Examples/Makefile
creating src/include/Platform.h

R is now configured for sparc-sun-solaris2.6

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc -g -O2
  FORTRAN compiler:         g77 -O2

[15] /home/res4/gilp/R : make
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
[16] /home/res4/gilp/R : make install
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'

...
[31] /home/res4/gilp/R-versions/R-0.63 : make -d
MAKEFLAGS value:
  Building all because it is out of date relative to Makefile
    Building stamp-R because it is out of date relative to
src/include/Platform.h
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
[32] /home/res4/gilp/R-versions/R-0.63 :

...
[32] /home/res4/gilp/R-versions/R-0.63 : make -dd
MAKEFLAGS value:
stat(make.rules)
doname(make.rules)
 Looking for % rule for make.rules
 find_double_suffix_rule(make.rules)
 find_suffix_rule(make.rules,make.rules,)
 stat(SCCS)
stat(/usr/share/lib/make/make.rules)
doname(/usr/share/lib/make/make.rules)
 Looking for % rule for /usr/share/lib/make/make.rules
 find_double_suffix_rule(/usr/share/lib/make/make.rules)
 find_suffix_rule(/usr/share/lib/make/make.rules,/usr/share/lib/make/make.rules,)

 stat(/usr/share/lib/make/SCCS)
SUFFIXES= .o .c .c~ .cc .cc~ .y .y~ .l .l~ .s .s~ .sh .sh~ .S .S~ .ln  .h .h~ .f
.f~ .F .F~  .mod .mod~ .sym .def .def~ .p .p~ .r .r~  .f90 .f90~ .ftn .ftn~ .cps
.cps~ .C .C~ .Y .Y~ .L .L~
OUTPUT_OPTION =
CC= cc
CFLAGS =
CPPFLAGS =
LINT= lint
LINTFLAGS =
COMPILE.c= $(CC) $(CFLAGS) $(CPPFLAGS) -c
LINK.c= $(CC) $(CFLAGS) $(CPPFLAGS) $(LDFLAGS)
LINT.c= $(LINT) $(LINTFLAGS) $(CPPFLAGS)
YACC= yacc
YFLAGS =
YACC.y= $(YACC) $(YFLAGS)
LEX= lex
LFLAGS =
LEX.l= $(LEX) $(LFLAGS) -t
CCC= CC
CCFLAGS =
COMPILE.cc= $(CCC) $(CCFLAGS) $(CPPFLAGS)  -c
LINK.cc= $(CCC) $(CCFLAGS) $(CPPFLAGS) $(LDFLAGS)
COMPILE.C= $(CCC) $(CCFLAGS) $(CPPFLAGS)  -c
LINK.C= $(CCC) $(CCFLAGS) $(CPPFLAGS) $(LDFLAGS)
FC= f77
F77= f77
FFLAGS =
COMPILE.f= $(FC) $(FFLAGS)  -c
LINK.f= $(FC) $(FFLAGS) $(LDFLAGS)
COMPILE.F= $(FC) $(FFLAGS) $(CPPFLAGS)  -c
LINK.F= $(FC) $(FFLAGS) $(CPPFLAGS) $(LDFLAGS)
RFLAGS =
COMPILE.r= $(FC) $(FFLAGS) $(RFLAGS)  -c
LINK.r= $(FC) $(FFLAGS) $(RFLAGS) $(LDFLAGS)
F90C= f90
F90FLAGS =
COMPILE.f90= $(F90C) $(F90FLAGS) -c
LINK.f90= $(F90C) $(F90FLAGS) $(LDFLAGS)
COMPILE.ftn= $(F90C) $(F90FLAGS) -c
LINK.ftn= $(F90C) $(F90FLAGS) $(LDFLAGS)
M2C= m2c
M2FLAGS =
MODFLAGS =
DEFFLAGS =
COMPILE.def= $(M2C) $(M2FLAGS) $(DEFFLAGS)
COMPILE.mod= $(M2C) $(M2FLAGS) $(MODFLAGS)
PC= pc
PFLAGS =
COMPILE.p= $(PC) $(PFLAGS) $(CPPFLAGS)  -c
LINK.p= $(PC) $(PFLAGS) $(CPPFLAGS) $(LDFLAGS)
AS= as
ASFLAGS =
COMPILE.s= $(AS) $(ASFLAGS)
COMPILE.S= $(CC) $(ASFLAGS) $(CPPFLAGS)  -c
CPS= cps
CPSFLAGS =
LD= ld
LDFLAGS =
LDLIBS =
MAKE= make
RM= rm -f
AR= ar
ARFLAGS= rv
GET= get
GFLAGS =
SCCSFLAGS =
SCCSGETFLAGS= -s
MAKE= make
MANPATH=
/usr/man:/apps/res/man:/home/res/public/gnu/man:/apps/res/unix/modula_2_2.2/man
DTDATABASESEARCHPATH=
/home/res/gilp/.dt/types,/etc/dt/appconfig/types/%L,/etc/dt/appconfig/types/C,/usr/dt/appconfig/types/%L,/usr/dt/appconfig/types/C

DTXSERVERLOCATION= local
LANG= en_CA
HELPPATH= /usr/openwin/lib/locale:/usr/openwin/lib/help
DTSOURCEPROFILE= true
LC_MONETARY= en_CA
OLWMMENU= /apps/res/unix/owmenu/openwin-menu.generic
LC_TIME= en_CA
PATH=
/usr/bin:/usr/sbin:/usr/dt/bin:/usr/openwin/bin:/home/res/gilp/bin:.:/apps/res/bin:/home/res/qpm/procedures:/usr/ccs/bin:/home/res/public/gnu/sun5.6/bin:/apps/res/unix/openwin/bin

AB_CARDCATALOG= /usr/dt/share/answerbooks/en_CA/ab_cardcatalog
DTUSERSESSION= gilp-res98540-0
XMICONBMSEARCHPATH=
/home/res/gilp/.dt/icons/%B%M.bm:/home/res/gilp/.dt/icons/%B%M.pm:/home/res/gilp/.dt/icons/%B:/usr/dt/appconfig/icons/%L/%B%M.bm:/usr/dt/appconfig/icons/%L/%B%M.pm:/usr/dt/appconfig/icons/%L/%B:/usr/dt/appconfig/icons/C/%B%M.bm:/usr/dt/appconfig/icons/C/%B%M.pm:/usr/dt/appconfig/icons/C/%B

SESSION_SVR= res98540
OPENWINHOME= /apps/res/unix/openwin
EDITOR= /usr/dt/bin/dtpad
LOGNAME= gilp
DTSCREENSAVERLIST= StartDtscreenSwarm StartDtscreenQix     StartDtscreenFlame
StartDtscreenHop StartDtscreenImage StartDtscreenLife     StartDtscreenRotor
StartDtscreenPyro StartDtscreenWorm StartDtscreenBlank
MAIL= /var/mail/gilp
USER= gilp
LC_MESSAGES= en_CA
LC_CTYPE= en_CA
DISPLAY= :0.0
DTAPPSEARCHPATH=
/home/res/gilp/.dt/appmanager:/etc/dt/appconfig/appmanager/%L:/etc/dt/appconfig/appmanager/C:/usr/dt/appconfig/appmanager/%L:/usr/dt/appconfig/appmanager/C

HOME= /home/res/gilp
XFILESEARCHPATH= /usr/openwin/lib/locale/%L/%T/%N%S:/usr/openwin/lib/%T/%N%S
LC_COLLATE= en_CA
LC_NUMERIC= en_CA
XMICONSEARCHPATH=
/home/res/gilp/.dt/icons/%B%M.pm:/home/res/gilp/.dt/icons/%B%M.bm:/home/res/gilp/.dt/icons/%B:/usr/dt/appconfig/icons/%L/%B%M.pm:/usr/dt/appconfig/icons/%L/%B%M.bm:/usr/dt/appconfig/icons/%L/%B:/usr/dt/appconfig/icons/C/%B%M.pm:/usr/dt/appconfig/icons/C/%B%M.bm:/usr/dt/appconfig/icons/C/%B

TERM= sun-cmd
dtstart_sessionlogfile= /dev/null
TZ= Canada/Eastern
MENUDIR= /apps/res/unix/owmenu
DTHELPSEARCHPATH=
/home/res/gilp/.dt/help/gilp-res98540-0/%H:/home/res/gilp/.dt/help/gilp-res98540-0/%H.sdl:/home/res/gilp/.dt/help/gilp-res98540-0/%H.hv:/home/res/gilp/.dt/help/%H:/home/res/gilp/.dt/help/%H.sdl:/home/res/gilp/.dt/help/%H.hv:/usr/dt/appconfig/help/%L/%H:/usr/dt/appconfig/help/%L/%H.sdl:/usr/dt/appconfig/help/%L/%H.hv:/usr/dt/appconfig/help/C/%H:/usr/dt/appconfig/help/C/%H.sdl:/usr/dt/appconfig/help/C/%H.hv

XMBINDDIR= /usr/dt/lib/bindings
PADI= /home/res/gilp/padi/my.production
RHOME= /home/res/gilp/R
RLIBS= /home/res/gilp/dse/pub/Rdse/rlibs:/home/res/gilp/padi/my.production/rlibs

FAME= /apps/res/unix/fame77s
LM_LICENSE_FILE= /apps/asd/lang/SunTech_License/license.dat
GCC_EXEC_PREFIX=
/home/res/public/gnu/sun5.6/lib/gcc-lib/sparc-sun-solaris2.6/2.8.1/
LD_LIBRARY_PATH= /usr/openwin/lib:/home/res/mose/mr/oai/lib
MENU= /home/res/public/MENU
WINDOWID= 71303222
TERMINAL_EMULATOR= dtterm
PWD= /home/res4/gilp/R-versions/R-0.63
WINDOW_TERMIOS =
TERMCAP= sun-cmd:te=\E[>4h:ti=\E[>4l:tc=sun:
NLSPATH=
/usr/ccs/bin/../lib/locale/%L/LC_MESSAGES/%N.cat:/usr/ccs/bin/../lib/locale/C/LC_MESSAGES/%N.cat:/usr/ccs/bin/../../lib/locale/%L/LC_MESSAGES/%N.cat:/usr/ccs/bin/../../lib/locale/C/LC_MESSAGES/%N.cat

VIRTUAL_ROOT= /
MFLAGS= -dd
MAKEFLAGS= -dd
stat(Makefile)
doname(Makefile)
 Looking for % rule for Makefile
 find_double_suffix_rule(Makefile)
 find_suffix_rule(Makefile,Makefile,)
srcdir= .
top_srcdir= .
top_builddir= .
stat(./Makeconf)
doname(./Makeconf)
 Looking for % rule for ./Makeconf
 find_double_suffix_rule(./Makeconf)
 find_suffix_rule(./Makeconf,./Makeconf,)
PACKAGE= R
VERSION= 0.63.0
AR= ar
BLAS= blas.o
CC= gcc
CFLAGS= -g -O2
CPICFLAGS= -fPIC
CPPFLAGS= -I../include -I$(top_srcdir)/src/include
DLLFLAGS =
DVIPS= /apps/res/bin/dvips
FC= g77
F77= g77
FFLAGS= -O2
FPICFLAGS= -fPIC
F2C =
F2CFLAGS =
INSTALL= $(top_srcdir)/aux/install-sh -c
INSTALL_DATA= ${INSTALL} -m 644
INSTALL_PROGRAM= ${INSTALL}
INSTALL_DIR= ${INSTALL} -d
LATEX= /apps/res/bin/latex
LDCMD= g77
LDFLAGS =
LIBS= -ldl -ltermcap -lm
LN_S= ln -s
MAKEINDEX= false
MKINSTALLDIRS= $(top_srcdir)/aux/mkinstalldirs
RANLIB= ranlib
SHELL= /bin/sh
SHLIBEXT= so
SHLIBLD= ld
SHLIBLDFLAGS= -G
TAR= tar
X_CFLAGS= -I/usr/openwin/include
X_LIBS= -L/usr/openwin/lib -R/usr/openwin/lib -lX11
X_PRE_LIBS= -lSM -lICE
X_EXTRA_LIBS= -lsocket  -lnsl
YACC= yacc
prefix= /usr/local
exec_prefix= ${prefix}
bindir= ${exec_prefix}/bin
datadir= ${prefix}/share
libdir= ${exec_prefix}/lib
mandir= ${prefix}/man
rhome= ${prefix}/share/R
distdir= $(PACKAGE)-$(VERSION)
DISTFILES= COPYING COPYRIGHTS INSTALL MIRROR-SITES NEWS PLATFORMS  PROJECTS
README RESOURCES TASKS  Makeconf.in Makefile.in  config.site configure
configure.in configure.mac configure.win  date-stamp
SUBDIRS= src afm demos doc etc tests
GZIP= --best
stat(.INIT)
doname(.INIT)
 Looking for % rule for .INIT
 find_double_suffix_rule(.INIT)
 stat(all)
 doname(all)
@ =
  doname(Makefile)
@ =
   find_double_suffix_rule(Makefile)
   find_suffix_rule(Makefile,Makefile,)
   build_suffix_list() .c .f
   Trying Makefile.c
   Trying Makefile.f
  Date(Makefile)=Mon 16 Nov 1998 10:01:29 AM EST EST
  Building all because it is out of date relative to Makefile
  stat(R)
  doname(R)
@ =
   stat(stamp-R)
   doname(stamp-R)
@ =
    stat(src/include/Platform.h)
    doname(src/include/Platform.h)
@ =
     stat(date-stamp)
     doname(date-stamp)
      Looking for % rule for date-stamp
      find_double_suffix_rule(date-stamp)
      find_suffix_rule(date-stamp,date-stamp,)
      Trying date-stamp.c
      Trying date-stamp.f
     Date(date-stamp)=Fri 13 Nov 1998 06:01:00 AM EST EST
     find_double_suffix_rule(src/include/Platform.h)
    Date(src/include/Platform.h)=Mon 16 Nov 1998 10:01:49 AM EST EST
    Building stamp-R because it is out of date relative to
src/include/Platform.h
    stat(src/*/*.[chfy])
    doname(src/*/*.[chfy])
     Looking for % rule for src/*/*.[chfy]
     find_double_suffix_rule(src/*/*.[chfy])
     find_suffix_rule(src/*/*.[chfy],src/*/*.[chfy],)
     Trying src/*/*.[chfy].c
     Trying src/*/*.[chfy].f
    doname(src/*/*.[chfy])
     Looking for % rule for src/*/*.[chfy]
     find_double_suffix_rule(src/*/*.[chfy])
     find_suffix_rule(src/*/*.[chfy],src/*/*.[chfy],)
     Trying src/*/*.[chfy].c
     Trying src/*/*.[chfy].f
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
    stat(.DONE)
    doname(.DONE)
     Looking for % rule for .DONE
     find_double_suffix_rule(.DONE)
[33] /home/res4/gilp/R-versions/R-0.63 :


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 16:27:17 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 16:27:17 +0000 (GMT)
Subject: hist()
Message-ID: <199811161627.QAA06982@toucan.stats.ox.ac.uk>

> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
> Date: 16 Nov 1998 14:26:38 +0100
> 
> Going over my old notes, I realised that hist() has changed since the
> earlier versions of R, in that the intervals are now
> left-open,right-closed rather than the opposite. This is a change in
> the direction of S-plus compatibility, but I wonder how sensible it
> really is.

Since a histogram is intended to be of continuous data, it should
not really matter. And if the data are already rounded (like ages) it
matters how they were rounded. (One of my grandfathers would
say he was `in his eighty-second year', so the rounding direction
may even depend on the value.)  My example below shows that rounding
error can play havoc with one's intentions too.

Since cut in R has an argument `right', could not hist have too?
And I don't actually understand why hist.default does not call cut.default
directly, when enhancements to cut will be easy to apply to hist.
Then we can argue about the default for right. It seems to me that
it should be the same for cut and for hist, and I would argue for
not changing the current default (whatever it might have been).

Oh, and what do bincode and bincode2 do about rounding error? (Nothing,
I think.) The default breaks in cut and hist are computed quantities,
and as we know, seq does not always get them exactly right.
As in:

> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6) 
[1] (0.249,0.35] (0.35,0.45]  (0.45,0.55]  (0.45,0.55]  (0.55,0.65] 
[6] (0.65,0.75]  (0.75,0.851]

> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6, right=FALSE)
[1] [0.249,0.35) [0.35,0.45)  [0.45,0.55)  [0.55,0.65)  [0.55,0.65) 
[6] [0.65,0.75)  [0.75,0.851)

(R 0.63.0 and others) !!!

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 16:32:54 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 16:32:54 +0000 (GMT)
Subject: Solaris make for 0.63 failing
Message-ID: <199811161632.QAA06996@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Nov 1998 10:45:48 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>

> I shouldn't try to do this on Monday morning. Can anyone suggest why the make
> for R 0.63 is failing for me under Solaris (SunOS 5.6).

You absolutely need GNU make, and on Solaris 2.6 you also need not to
use make-3.77 (the current version) as that has a bug which affects
this.  `They' are using features found in few makes.

Grab a copy of GNU make-3.76.1, make that and then this will work (or
at least, it does for me).

I did suggest that this be in the INSTALL file, but that is still
in the `TWO-LEVEL MAKE' days (or at least, it is on R-release, 0.63.1).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 16 16:50:52 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 16 Nov 1998 11:50:52 -0500
Subject: Solaris make for 0.63 failing
References: <199811161601.RAA06417@sophie.ethz.ch>
Message-ID: <98Nov16.120300est.13470@mailgate.bank-banque-canada.ca>

GNU make does not seem to work either.

I don't understand make very well but
        Trying pattern rule with stem `*.[chf]'.
        Rejecting impossible implicit dependency
`src/library/mva/src/*.[chf].f'.
Near the end of the following  make -d looks a little strange to me. Why does it
have ".f" after ".[chf]"

Paul Gilbert
______
...
creating src/scripts/html2dos
creating tests/Makefile
creating tests/Examples/Makefile
creating src/include/Platform.h

R is now configured for sparc-sun-solaris2.6

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc -g -O2
  FORTRAN compiler:         g77 -O2

[7] /home/res/gilp/R : which make
/home/res/gilp/bin/make
[8] /home/res/gilp/R : make
make: *** No rule to make target `src/library/mva/src/*.[chf]', needed by
`stamp-R'.  Stop.
[9] /home/res/gilp/R : make -d
GNU Make version 3.77, by Richard Stallman and Roland McGrath.
Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98
 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

Report bugs to <bug-make@gnu.org>.

Reading makefiles...
Reading makefile `Makefile'...
Reading makefile `Makeconf' (search path) (no ~ expansion)...
Updating makefiles....
 Considering target file `Makeconf'.
  Looking for an implicit rule for `Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.c'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.f'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.o'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf,v'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `RCS/Makeconf,v'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `RCS/Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `s.Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `SCCS/s.Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.c'.
  Looking for a rule with intermediate file `Makeconf.c'.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `Makeconf'.
   Trying implicit dependency `Makeconf.w'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `Makeconf.c,v'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `RCS/Makeconf.c,v'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `RCS/Makeconf.c'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `s.Makeconf.c'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `SCCS/s.Makeconf.c'.
   Trying pattern rule with stem `Makeconf'.
   Trying implicit dependency `Makeconf.w'.
   Looking for a rule with intermediate file `Makeconf.w'.
    Avoiding implicit rule recursion.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `Makeconf.w,v'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `RCS/Makeconf.w,v'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `RCS/Makeconf.w'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `s.Makeconf.w'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `SCCS/s.Makeconf.w'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.f'.
  Looking for a rule with intermediate file `Makeconf.f'.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `Makeconf.f,v'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `RCS/Makeconf.f,v'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `RCS/Makeconf.f'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `s.Makeconf.f'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `SCCS/s.Makeconf.f'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.o'.
  Looking for a rule with intermediate file `Makeconf.o'.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `Makeconf'.
   Rejecting impossible implicit dependency `Makeconf.c'.
   Trying pattern rule with stem `Makeconf'.
   Rejecting impossible implicit dependency `Makeconf.f'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `Makeconf.o,v'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `RCS/Makeconf.o,v'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `RCS/Makeconf.o'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `s.Makeconf.o'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `SCCS/s.Makeconf.o'.
  No implicit rule found for `Makeconf'.
  Finished dependencies of target file `Makeconf'.
 No need to remake target `Makeconf'.
 Considering target file `Makefile'.
  Finished dependencies of target file `Makefile'.
 No need to remake target `Makefile'.
Updating goal targets....
Considering target file `all'.
 File `all' does not exist.
 Looking for an implicit rule for `all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.c'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.f'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.o'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all,v'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `RCS/all,v'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `RCS/all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `s.all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `SCCS/s.all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.c'.
 Looking for a rule with intermediate file `all.c'.
  Avoiding implicit rule recursion.
  Trying pattern rule with stem `all'.
  Trying implicit dependency `all.w'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `all.c,v'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `RCS/all.c,v'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `RCS/all.c'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `s.all.c'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `SCCS/s.all.c'.
  Trying pattern rule with stem `all'.
  Trying implicit dependency `all.w'.
  Looking for a rule with intermediate file `all.w'.
   Avoiding implicit rule recursion.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `all.w,v'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `RCS/all.w,v'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `RCS/all.w'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `s.all.w'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `SCCS/s.all.w'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.f'.
 Looking for a rule with intermediate file `all.f'.
  Avoiding implicit rule recursion.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `all.f,v'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `RCS/all.f,v'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `RCS/all.f'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `s.all.f'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `SCCS/s.all.f'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.o'.
 Looking for a rule with intermediate file `all.o'.
  Avoiding implicit rule recursion.
  Trying pattern rule with stem `all'.
  Rejecting impossible implicit dependency `all.c'.
  Trying pattern rule with stem `all'.
  Rejecting impossible implicit dependency `all.f'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `all.o,v'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `RCS/all.o,v'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `RCS/all.o'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `s.all.o'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `SCCS/s.all.o'.
 No implicit rule found for `all'.
  Considering target file `Makefile'.
  File `Makefile' was considered already.
  Considering target file `R'.
   File `R' does not exist.
   Looking for an implicit rule for `R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.c'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.f'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.o'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R,v'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `RCS/R,v'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `RCS/R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `s.R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `SCCS/s.R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.c'.
   Looking for a rule with intermediate file `R.c'.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `R'.
    Trying implicit dependency `R.w'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `R.c,v'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `RCS/R.c,v'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `RCS/R.c'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `s.R.c'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `SCCS/s.R.c'.
    Trying pattern rule with stem `R'.
    Trying implicit dependency `R.w'.
    Looking for a rule with intermediate file `R.w'.
     Avoiding implicit rule recursion.
     Avoiding implicit rule recursion.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `R.w,v'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `RCS/R.w,v'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `RCS/R.w'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `s.R.w'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `SCCS/s.R.w'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.f'.
   Looking for a rule with intermediate file `R.f'.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `R.f,v'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `RCS/R.f,v'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `RCS/R.f'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `s.R.f'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `SCCS/s.R.f'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.o'.
   Looking for a rule with intermediate file `R.o'.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `R'.
    Rejecting impossible implicit dependency `R.c'.
    Trying pattern rule with stem `R'.
    Rejecting impossible implicit dependency `R.f'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `R.o,v'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `RCS/R.o,v'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `RCS/R.o'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `s.R.o'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `SCCS/s.R.o'.
   No implicit rule found for `R'.
    Considering target file `stamp-R'.
     File `stamp-R' does not exist.
      Considering target file `src/include/Platform.h'.
        Considering target file `date-stamp'.
         Looking for an implicit rule for `date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.c'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.f'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.o'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp,v'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `RCS/date-stamp,v'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `RCS/date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `s.date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `SCCS/s.date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.c'.
         Looking for a rule with intermediate file `date-stamp.c'.
          Avoiding implicit rule recursion.
          Trying pattern rule with stem `date-stamp'.
          Trying implicit dependency `date-stamp.w'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `date-stamp.c,v'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `RCS/date-stamp.c,v'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `RCS/date-stamp.c'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `s.date-stamp.c'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `SCCS/s.date-stamp.c'.
          Trying pattern rule with stem `date-stamp'.
          Trying implicit dependency `date-stamp.w'.
          Looking for a rule with intermediate file `date-stamp.w'.
           Avoiding implicit rule recursion.
           Avoiding implicit rule recursion.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `date-stamp.w,v'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `RCS/date-stamp.w,v'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `RCS/date-stamp.w'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `s.date-stamp.w'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `SCCS/s.date-stamp.w'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.f'.
         Looking for a rule with intermediate file `date-stamp.f'.
          Avoiding implicit rule recursion.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `date-stamp.f,v'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `RCS/date-stamp.f,v'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `RCS/date-stamp.f'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `s.date-stamp.f'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `SCCS/s.date-stamp.f'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.o'.
         Looking for a rule with intermediate file `date-stamp.o'.
          Avoiding implicit rule recursion.
          Trying pattern rule with stem `date-stamp'.
          Rejecting impossible implicit dependency `date-stamp.c'.
          Trying pattern rule with stem `date-stamp'.
          Rejecting impossible implicit dependency `date-stamp.f'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `date-stamp.o,v'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `RCS/date-stamp.o,v'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `RCS/date-stamp.o'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `s.date-stamp.o'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `SCCS/s.date-stamp.o'.
         No implicit rule found for `date-stamp'.
         Finished dependencies of target file `date-stamp'.
        No need to remake target `date-stamp'.
       Finished dependencies of target file `src/include/Platform.h'.
       Dependency `date-stamp' is older than dependent `src/include/Platform.h'.

      No need to remake target `src/include/Platform.h'.
      Considering target file `src/library/mva/src/*.[chf]'.
       File `src/library/mva/src/*.[chf]' does not exist.
       Looking for an implicit rule for `src/library/mva/src/*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].c'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].f'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].o'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf],v'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/RCS/*.[chf],v'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/RCS/*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/s.*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].c'.
       Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].c'.
        Avoiding implicit rule recursion.
        Trying pattern rule with stem `*.[chf]'.
        Trying implicit dependency `src/library/mva/src/*.[chf].w'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/*.[chf].c,v'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].c,v'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].c'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/s.*.[chf].c'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].c'.
        Trying pattern rule with stem `*.[chf]'.
        Trying implicit dependency `src/library/mva/src/*.[chf].w'.
        Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].w'.
         Avoiding implicit rule recursion.
         Avoiding implicit rule recursion.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/*.[chf].w,v'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/RCS/*.[chf].w,v'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/RCS/*.[chf].w'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/s.*.[chf].w'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].w'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].f'.
       Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].f'.
        Avoiding implicit rule recursion.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/*.[chf].f,v'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].f,v'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].f'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/s.*.[chf].f'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].f'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].o'.
       Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].o'.
        Avoiding implicit rule recursion.
        Trying pattern rule with stem `*.[chf]'.
        Rejecting impossible implicit dependency
`src/library/mva/src/*.[chf].c'.
        Trying pattern rule with stem `*.[chf]'.
        Rejecting impossible implicit dependency
`src/library/mva/src/*.[chf].f'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/*.[chf].o,v'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].o,v'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].o'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/s.*.[chf].o'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].o'.
       No implicit rule found for `src/library/mva/src/*.[chf]'.
       Finished dependencies of target file `src/library/mva/src/*.[chf]'.
      Must remake target `src/library/mva/src/*.[chf]'.
make: *** No rule to make target `src/library/mva/src/*.[chf]', needed by
`stamp-R'.  Stop.
[10] /home/res/gilp/R :

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 16 17:04:20 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 16 Nov 1998 12:04:20 -0500
Subject: Solaris make for 0.63 failing
References: <199811161632.QAA06996@toucan.stats.ox.ac.uk>
Message-ID: <98Nov16.121631est.13448@mailgate.bank-banque-canada.ca>

>You absolutely need GNU make, and on Solaris 2.6 you also need not to
>use make-3.77 (the current version) as that has a bug which affects
>this.  `They' are using features found in few makes.

I seem to be using GNU make 3.77. Is this a bug that is in both the Sun make and
the most recent GNU make, or is the R makefile doing something wrong?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 17:14:31 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 17:14:31 +0000 (GMT)
Subject: Solaris make for 0.63 failing
Message-ID: <199811161714.RAA07052@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Nov 1998 12:04:20 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Prof Brian Ripley <ripley@stats.ox.ac.uk>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: Solaris make for 0.63 failing
> 
> >You absolutely need GNU make, and on Solaris 2.6 you also need not to
> >use make-3.77 (the current version) as that has a bug which affects
> >this.  `They' are using features found in few makes.
> 
> I seem to be using GNU make 3.77. Is this a bug that is in both the Sun make 
and
> the most recent GNU make, or is the R makefile doing something wrong?

Different causes.  However, I get precisely that message from Sun make, and a
rather different one from GNU make 3.77 (about a garbled up file name).

The problems are:

(i) the Makefiles use GNU makefile syntax, and so are not compatible
with Sun's make.  A feature, I think.

(ii) make 3.77 is set up to be part compiled for 64-bit file systems
and part not. This matters if you have complicated wildcards, only,
on Solaris 2.6 and other 64-bit-file-system aware systems, only.
A bug!  If you want to fix it, rebuild 3.77 and use the same flags in
the Makefile for glob as in the main directory.


As to whether `the R makefile is doing something wrong', that is a matter of
opinion, and Theirs counts.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 17:22:04 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 17:22:04 +0000 (GMT)
Subject: Solaris make for 0.63 failing
Message-ID: <199811161722.RAA07066@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Nov 1998 11:50:52 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Martin Maechler <maechler@stat.math.ethz.ch>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: Solaris make for 0.63 failing
> 
> GNU make does not seem to work either.

So you were not using GNU make before?

> 
> I don't understand make very well but
>         Trying pattern rule with stem `*.[chf]'.
>         Rejecting impossible implicit dependency
> `src/library/mva/src/*.[chf].f'.
> Near the end of the following  make -d looks a little strange to me. Why does 
it
> have ".f" after ".[chf]"

That is the bug in GNU make 3.77.  Either fix it (as per my last message)
or go back to 3.76-1.

I had a lot of trouble with this a few weeks' ago.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Nov 16 17:22:12 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 16 Nov 1998 09:22:12 -0800 (PST)
Subject: Solaris make for 0.63 failing
In-Reply-To: <98Nov16.121631est.13448@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9811160908490.24696-100000@wompom.biostat.washington.edu>

On Mon, 16 Nov 1998, Paul Gilbert wrote:

> >You absolutely need GNU make, and on Solaris 2.6 you also need not to
> >use make-3.77 (the current version) as that has a bug which affects
> >this.  `They' are using features found in few makes.
> 
> I seem to be using GNU make 3.77. Is this a bug that is in both the Sun make and
> the most recent GNU make, or is the R makefile doing something wrong?

It (appears to be) a bug in GNU make 3.77, which is not expanding the
wildcards correctly. It is not a bug in Sun make, it's just that Makefile
uses a feature that Sun make doesn't have. Whether this is 'something
wrong' is open to debate (though not very interesting debate).  A fix of
the Makefile to operate with everyone's favorite make is certainly a goal.

	-thomas







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Nov 16 17:40:20 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 16 Nov 1998 09:40:20 -0800 (PST)
Subject: survival4 updated
In-Reply-To: <98Nov16.105756est.13479@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9811160929400.24696-100000@wompom.biostat.washington.edu>


The survival4 port has been updated to work with R0.63.  (version 1.2-0
should be percolating through CRAN)

What it is: a port of Terry Therneau's code, which is also the basis for
the S-PLUS survival analysis functions.This code is about two years old
(9/17/96). Judging from the author's ChangeLog it is slightly more recent
than that used in S-PLUS 3.4. It's about two years more recent than what's
on Statlib.

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Nov 17 15:25:27 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Nov 1998 16:25:27 +0100
Subject: [R] 0.63 missing .pl files in etc?
In-Reply-To: U-E59264-Osman F Buyukisik's message of Tue, 17 Nov 1998 09:05:31 -0500 (EST)
References: <13904.30499.605414.808068@c1186.ae.ge.com> 	<x24srzz2wn.fsf@blueberry.kubism.ku.dk> <13905.31731.808741.730149@c1186.ae.ge.com>
Message-ID: <x2iugepcig.fsf@blueberry.kubism.ku.dk>

U-E59264-Osman F Buyukisik <absd00t@c1186.ae.ge.com> writes:

> Sorry Peter, I don't know how I did it but somehow I managed to have
> directory with missing pearl files :-( Subsequent deletion/expansion
> confirmed that they are there! But "make" still fails with the 
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.

Hmmm. The INSTALL program is responsible for setting the modes. Are
you using an old config.cache? otherwise configure is probably getting
it wrong. Solaris has this stuff in Makeconf:

INSTALL = $(top_srcdir)/aux/install-sh -c
INSTALL_DATA = ${INSTALL} -m 644
INSTALL_PROGRAM = ${INSTALL}
INSTALL_DIR = ${INSTALL} -d

if you have something else, you might want to try enforcing the above.

That "make" continues past errors and still creates stamp-xxx is an
annoying, but well-known misfeature. Partly my fault for telling Kurt
to leave it alone in the period up to the release (but otherwise
things might have gone *really* wrong!).

I'll cc this to r-devel, in case there's another HP-UXer out there
who's been trying this. In particular, I have absolutely no bearing on
your .so/.sl problem below (unless that's also caused by INSTALL..).

> But more problems: 
> 
> R : Copyright 1998, The R Development Core Team
> Version 0.63.0  (November 14, 1998)
...
> 
> > library()
> Packages in library `/home/absd00t/local/share/R/library':
> 
> base            The R base package
> eda             Exploratory Data Analysis
> modreg          Modern regression: smoothing and local methods
> mva             Classical Multivariate Analysis
> stepfun         Step Functions, including Empirical Distributions
> > library(eda)
> Error: dynamic library `eda' not found
> 
> At the end of the R file "eda" is a line:
>  
> library.dynam("eda.so")
> 
> But hpux creates .sl files! So I have to edit the R files eda,
> mva. modreg has a different line :
> .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
> 
> library(modreg)
> Error: dynamic library `modreg' not found

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Nov 17 19:27:48 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 17 Nov 1998 20:27:48 +0100 (CET)
Subject: [R] 0.63 missing .pl files in etc?
In-Reply-To: <x2iugepcig.fsf@blueberry.kubism.ku.dk>
References: <13904.30499.605414.808068@c1186.ae.ge.com>
 <x24srzz2wn.fsf@blueberry.kubism.ku.dk>
 <13905.31731.808741.730149@c1186.ae.ge.com>
 <x2iugepcig.fsf@blueberry.kubism.ku.dk>
Message-ID: <13905.52788.533283.201757@pc87.maho.magnaeu.com>

>>>>> Peter Dalgaard BSA writes:

> U-E59264-Osman F Buyukisik <absd00t@c1186.ae.ge.com> writes:
>> Sorry Peter, I don't know how I did it but somehow I managed to have
>> directory with missing pearl files :-( Subsequent deletion/expansion
>> confirmed that they are there! But "make" still fails with the 
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.

> Hmmm. The INSTALL program is responsible for setting the modes. Are
> you using an old config.cache? otherwise configure is probably getting
> it wrong. Solaris has this stuff in Makeconf:

> INSTALL = $(top_srcdir)/aux/install-sh -c
> INSTALL_DATA = ${INSTALL} -m 644
> INSTALL_PROGRAM = ${INSTALL}
> INSTALL_DIR = ${INSTALL} -d

> if you have something else, you might want to try enforcing the above.

> That "make" continues past errors and still creates stamp-xxx is an
> annoying, but well-known misfeature. Partly my fault for telling Kurt
> to leave it alone in the period up to the release (but otherwise
> things might have gone *really* wrong!).

Hmm.  On my TODO list but as Peter sort of waived this ... I won't be
able to get this done this week, so if someone else wants to ...

> I'll cc this to r-devel, in case there's another HP-UXer out there
> who's been trying this. In particular, I have absolutely no bearing on
> your .so/.sl problem below (unless that's also caused by INSTALL..).

>> But more problems: 
>> 
>> R : Copyright 1998, The R Development Core Team
>> Version 0.63.0  (November 14, 1998)
> ...
>> 
>> > library()
>> Packages in library `/home/absd00t/local/share/R/library':
>> 
>> base            The R base package
>> eda             Exploratory Data Analysis
>> modreg          Modern regression: smoothing and local methods
>> mva             Classical Multivariate Analysis
>> stepfun         Step Functions, including Empirical Distributions
>> > library(eda)
>> Error: dynamic library `eda' not found
>> 
>> At the end of the R file "eda" is a line:
>> 
>> library.dynam("eda.so")

I already fixed this this morning.

>> 
>> But hpux creates .sl files! So I have to edit the R files eda,
>> mva. modreg has a different line :
>> .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
>> 
>> library(modreg)
>> Error: dynamic library `modreg' not found

Why is that?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Nov 18 14:06:37 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 18 Nov 1998 15:06:37 +0100 (CET)
Subject: Solaris make for 0.63 failing
In-Reply-To: <Pine.GSO.4.03.9811160908490.24696-100000@wompom.biostat.washington.edu>
References: <98Nov16.121631est.13448@mailgate.bank-banque-canada.ca>
 <Pine.GSO.4.03.9811160908490.24696-100000@wompom.biostat.washington.edu>
Message-ID: <13906.54381.373466.726822@pc87.maho.magnaeu.com>

>>>>> Thomas Lumley writes:

> On Mon, 16 Nov 1998, Paul Gilbert wrote:
>> >You absolutely need GNU make, and on Solaris 2.6 you also need not to
>> >use make-3.77 (the current version) as that has a bug which affects
>> >this.  `They' are using features found in few makes.
>> 

>> I seem to be using GNU make 3.77. Is this a bug that is in both the
>> Sun make and the most recent GNU make, or is the R makefile doing
>> something wrong?

> It (appears to be) a bug in GNU make 3.77, which is not expanding the
> wildcards correctly. It is not a bug in Sun make, it's just that
> Makefile uses a feature that Sun make doesn't have. Whether this is
> 'something wrong' is open to debate (though not very interesting
> debate).  A fix of the Makefile to operate with everyone's favorite
> make is certainly a goal.

I just added the following to `INSTALL':

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
USING MAKE

To compile R, you currently most likely need GNU make.  (To be more
precise, you need a version of make which accepts shell wildcards in
dependencies.)  On Solaris 2.6 in particular, you need a version of
GNU make different from 3.77 (the current one); 3.76.1 works fine.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

Hope this does for the time being.

Note: I don't necessarily think that there is only GNU make, and that
all of its features should be used.  If I did, the Makefiles would look
rather different (and certain problems would be gone immediately).  The
only `feature' used is shell wildcards in target dependencies (not in
variables, which definitely is a GNU make feature).  One can easily
provide explicit lists of file names instead, but that is a cause of
potential inconsistency that I'd like to avoid for the time being.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 15:17:37 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 10:17:37 -0500
Subject: "[<-"
Message-ID: <98Nov18.102032est.13470@mailgate.bank-banque-canada.ca>

It's my impression that something in the handling of attributes by "[<-" has
changed a bit between 0.62 and 0.63. I didn't notice any mention of this in the
list of changes (except that subscripting has changed in other ways). Does
someone know if this has changed, or should I be looking at things I've been
messing with myself.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 15:47:40 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 10:47:40 -0500
Subject: more on "[<-"
Message-ID: <98Nov18.105038est.13462@mailgate.bank-banque-canada.ca>

"[<-" in R 0.63 does not appear to strip attributes, whereas Splus and previous
versions of R did.

Paul
_____

R 0.63:
>  data <- matrix(rnorm(300),100,3)
>  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> attributes(data)
$dim
[1] 100   3
$tframe
[1] 1981.50 2006.25    4.00
> z <- data[10:90,]
> attributes(z)
$dim
[1] 81  3
$tframe
[1] 1981.50 2006.25    4.00

Splus:
>   data <- matrix(rnorm(300),100,3)
>  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> attributes(data)
$dim:
[1] 100   3
$tframe:
[1] 1981.50 2006.25    4.00
> z <- data[10:90,]
> attributes(z)
$dim:
[1] 81  3


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 15:56:17 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 10:56:17 -0500
Subject: RINSTALL with doc clobbers function.html
Message-ID: <98Nov18.105916est.13471@mailgate.bank-banque-canada.ca>

 In R 0.63 RINSTALL of a package with documentation still appears to clobber
R/doc/html/function.html and R/doc/html/packages.html so the main help is no
longer available to a user once a package is installed.

I know how to work around this for my own purposes, but I hesitate to release a
package that would do this to some unsuspecting user.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Wed Nov 18 16:21:45 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Wed, 18 Nov 1998 16:21:45 +0000 (GMT)
Subject: more on "[<-"
Message-ID: <199811181621.QAA20954@toucan.stats.ox.ac.uk>

Paul,

you are nowhere using "[<-"!  You are using "[" on a vector, and the dim
attribute is not being stripped, only your own "tframe" attribute.

It is clear to me that "[<-" should not change attributes, as it does not:

data <- matrix(rnorm(300),100,3)
attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
data[10:90,1] <- rnorm(81)
attributes(data)

on any of these, but it is less clear what [] should do. As it is not
clear if the attributes apply to the whole object only, I suspect stripping
is right.

Brian

> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>

> "[<-" in R 0.63 does not appear to strip attributes, whereas Splus and 
previous
> versions of R did.
> 
> Paul
> _____
> 
> R 0.63:
> >  data <- matrix(rnorm(300),100,3)
> >  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> > attributes(data)
> $dim
> [1] 100   3
> $tframe
> [1] 1981.50 2006.25    4.00
> > z <- data[10:90,]
> > attributes(z)
> $dim
> [1] 81  3
> $tframe
> [1] 1981.50 2006.25    4.00
> 
> Splus:
> >   data <- matrix(rnorm(300),100,3)
> >  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> > attributes(data)
> $dim:
> [1] 100   3
> $tframe:
> [1] 1981.50 2006.25    4.00
> > z <- data[10:90,]
> > attributes(z)
> $dim:
> [1] 81  3
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 16:50:41 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 11:50:41 -0500
Subject: "[" not "[<-"
References: <199811181621.QAA20954@toucan.stats.ox.ac.uk>
Message-ID: <98Nov18.115341est.13464@mailgate.bank-banque-canada.ca>

As Brian pointed out my comments were regarding [ ] not [<-. I guess I need
another cup of coffee this morning.

>on any of these, but it is less clear what [] should do. As it is not
>clear if the attributes apply to the whole object only, I suspect stripping
>is right.

I have played with this some and the answer is not obvious. There are some
attributes it would be nice to keep and others it would be better to strip. My
tframe attribute has to be consistent with the first dimension of the matrix, so
it either has to be modified when the dim is modified or it has to be stripped
so that there is not conflicting information. I have learned to live with the
latter.

On the subject of [ ], it sure would be nice if this supported drop as a vector
logical (e.g. drop=c(T,F,T) ) so that drop could be specified dimension wise for
arrays.

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Wed Nov 18 17:22:23 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Wed, 18 Nov 1998 18:22:23 +0100
Subject: "[" not "[<-"
References: <199811181621.QAA20954@toucan.stats.ox.ac.uk> <98Nov18.115341est.13464@mailgate.bank-banque-canada.ca>
Message-ID: <3653024F.5325D12D@iarc.fr>

Paul Gilbert wrote:
> 
> Brian Ripley writes
> >on any of these, but it is less clear what [] should do. As it is not
> >clear if the attributes apply to the whole object only, I suspect stripping
> >is right.
> 
> I have played with this some and the answer is not obvious. There are some
> attributes it would be nice to keep and others it would be better to strip. My
> tframe attribute has to be consistent with the first dimension of the matrix, so
> it either has to be modified when the dim is modified or it has to be stripped
> so that there is not conflicting information. I have learned to live with the
> latter.

Couldn't you use the object-oriented features of R? For objects of class
"foo", subsetting can be done using the "[.foo" function. Attributes can be
saved
before passing the data on to NextMethod (which would strip attributes it
doesn't
know about). Then the saved attributes could be restored, possibly in a
modified
form, if the object is still of class "foo".

I had assumed that this was the logic of subsetting, but it would be nice
if someone could confirm this.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Wed Nov 18 17:59:08 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Wed, 18 Nov 1998 17:59:08 +0000 (GMT)
Subject: "[" not "[<-"
Message-ID: <199811181759.RAA22669@toucan.stats.ox.ac.uk>


> Date: Wed, 18 Nov 1998 18:22:23 +0100
> From: Martyn Plummer <plummer@iarc.fr>
> To: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> CC: Prof Brian Ripley <ripley@stats.ox.ac.uk>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: "[" not "[<-"
> 
> Paul Gilbert wrote:
> > 
> > Brian Ripley writes
> > >on any of these, but it is less clear what [] should do. As it is not
> > >clear if the attributes apply to the whole object only, I suspect stripping
> > >is right.
> > 
> > I have played with this some and the answer is not obvious. There are some
> > attributes it would be nice to keep and others it would be better to strip. 
My
> > tframe attribute has to be consistent with the first dimension of the 
matrix, so
> > it either has to be modified when the dim is modified or it has to be 
stripped
> > so that there is not conflicting information. I have learned to live with 
the
> > latter.
> 
> Couldn't you use the object-oriented features of R? For objects of class
> "foo", subsetting can be done using the "[.foo" function. Attributes can be
> saved
> before passing the data on to NextMethod (which would strip attributes it
> doesn't
> know about). Then the saved attributes could be restored, possibly in a
> modified
> form, if the object is still of class "foo".
> 
> I had assumed that this was the logic of subsetting, but it would be nice
> if someone could confirm this.
> 

More or less (but I can only confirm my understanding of this). The
saving is not in fact needed. For example, "[.factor" does

        y <- NextMethod("[")
        attr(y, "contrasts") <- attr(x, "contrasts")
        levels(y) <- levels(x)

etc in S. In R it does only attr(y, "levels") <- attr(x, "levels") (and I
think that is now a bug: it should preserve attr(x, "contrasts")).

I was referring to the default: Paul's example had no class.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Nov 18 18:01:35 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Nov 1998 19:01:35 +0100
Subject: more on "[<-"
In-Reply-To: Paul Gilbert's message of Wed, 18 Nov 1998 10:47:40 -0500
References: <98Nov18.105038est.13462@mailgate.bank-banque-canada.ca>
Message-ID: <x27lwsani8.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> > z <- data[10:90,]
> > attributes(z)
> $dim
> [1] 81  3
> $tframe
> [1] 1981.50 2006.25    4.00
> 
> Splus:

> > attributes(z)
> $dim:
> [1] 81  3

It's a one-line change to get Splus behaviour. Anoyone think of a
reason *not* to do that??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 18:04:07 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 13:04:07 -0500
Subject: RINSTALL with doc clobbers function.html
References: <199811181656.QAA22111@toucan.stats.ox.ac.uk>
Message-ID: <98Nov18.130709est.13462@mailgate.bank-banque-canada.ca>

What I meant was that
R INSTALL    -l rlibs  dse

re-writes
        ${RHOME}/doc/html/function.html
and  ${RHOME}/doc/html/packages.html

with the documentation for dse, rather than appending it to those files. I was
led to believe that this was not a local quirk before, and was just point out
that it is still a problem in 0.63. If it really is now a local quirk then I'll
work on it some more.

>Also, those files are probably not relevant any more:
>help.start sets up links in ${HOME}/.R for this, and updates if needed.

This seems to fix packages.html but not function.html.  It appears to write a
new file ${HOME}/.R/packages.html but ${HOME}/.R/function.html is a link to
${RHOME}/doc/html/function.html which has been clobbered by the install.

This mechanism seems to have the implication that packages which are going to be
used by several people should be installed by the owner of R (e.g. R INSTALL
dse).  I have been installing to a private library (e.g. R INSTALL    -l rlibs
dse) on the assumption that someone other than the R owner might install a
package for several people to use. Is there a preferred way to do this?

(Also, possible a local quirk, help.start() seems to pop open a mail message
which I'm editing and have closed on my desktop.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Wed Nov 18 18:07:43 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Wed, 18 Nov 1998 18:07:43 +0000 (GMT)
Subject: RINSTALL with doc clobbers function.html
Message-ID: <199811181807.SAA22728@toucan.stats.ox.ac.uk>

Public reply to private message:

> Date: Wed, 18 Nov 1998 13:04:07 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Prof Brian Ripley <ripley@stats.ox.ac.uk>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: RINSTALL with doc clobbers function.html
> 
> What I meant was that
> R INSTALL    -l rlibs  dse
> 
> re-writes
>         ${RHOME}/doc/html/function.html
> and  ${RHOME}/doc/html/packages.html


That fact was not there: I have not tested this case.  I do however
have libs set in INSTALL to something other than the default, and
both files get appended to for me.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 18 18:17:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Nov 1998 19:17:03 +0100
Subject: RINSTALL with doc clobbers function.html
In-Reply-To: <98Nov18.130709est.13462@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Wed, 18 Nov 1998 13:04:07 -0500)
Message-ID: <199811181817.TAA26072@sophie.ethz.ch>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> What I meant was that R INSTALL -l rlibs dse

    PaulG> re-writes ${RHOME}/doc/html/function.html and
    PaulG> ${RHOME}/doc/html/packages.html

I always do it your way,
	(install into a different path, and use the RLIBS environment variable)
but I have never had your problem.

(but I have to admit that I rarely use the 'functions.html' interface;
 if I use the HTML interface its for demo-ing to others,
 and/or for looking at extra packages and for using the Java search
 interface;  for everything else, ESS (Emacs Speaks Statistics) 
 is more convenient for me
)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 18 18:28:49 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Nov 1998 19:28:49 +0100
Subject: [jar@oriole.er.usgs.gov: Re: [R] loading fortran with Redhat 5.1]
Message-ID: <199811181828.TAA26120@sophie.ethz.ch>

I can not answer this (message only to me).
Certainly, some of you do..
Martin
-------
  Date: Wed, 18 Nov 1998 13:22:47 -0500 (EST)
  From: "J. Andy Royle" <jar@oriole.er.usgs.gov>
  To: Martin Maechler <maechler@stat.math.ethz.ch>
  Subject: Re: [R] loading fortran with Redhat 5.1
  In-Reply-To: <199811181812.TAA26068@sophie.ethz.ch>

  Hi Martin,

  The reason I was confused by this is because I used dyn.load
  on varna.o from a Sun Ultra 10 (again compiled by g77 -c varna.f...
  not gcc as I stated before....a typo).  Observe to following
  from my Ultra 10:


  /space/jar/ked-> g77 -c varna.f
  /space/jar/ked-> R

  R : Copyright 1998, The R Development Core Team
  Version 0.62.4  (October 24, 1998)
  ..
  ..
  other startup info deleted
  ..
  ..
  [Previously saved workspace restored]

  > dyn.load("varna.o")
  >

  Thus, I figured I could do that in Linux.  Can you comment?


  On Wed, 18 Nov 1998, Martin Maechler wrote:

  > >>>>> "J" == J Andy Royle <jar@oriole.er.usgs.gov> writes:
  > 
  >     J> Hello Martin, Thanks for your help.  This worked fine.. I didn't
  >     J> know about the demo.  I seem to recall that I was doing it the Splus
  >     J> way when I ran R on my Ultra 10.  Is this a new way of loading
  >     J> fortran code into R?
  > 
  > No!
  > The "R SHLIB" abbreviation is somewhat new,  but you always had to 
  > 	dyn.load(...shared.library...)
  > 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Wed Nov 18 18:13:33 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Wed, 18 Nov 1998 18:13:33 -0000 ()
Subject: "[" not "[<-"
In-Reply-To: <199811181759.RAA22669@toucan.stats.ox.ac.uk>
Message-ID: <XFMail.981118183350.plummer@iarc.fr>

On 18-Nov-98 Prof Brian Ripley wrote:
>
>MTP> I had assumed that this was the logic of subsetting, but it would be nice
>MTP> if someone could confirm this.
>
>More or less (but I can only confirm my understanding of this). The
>saving is not in fact needed. 

Indeed it isn't. Sorry.

>I was referring to the default: Paul's example had no class.

And I am agreeing with you. The default "[" method should strip
attributes if this logic is correct.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Wed Nov 18 18:50:09 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Wed, 18 Nov 1998 10:50:09 -0800 (PST)
Subject: [jar@oriole.er.usgs.gov: Re: [R] loading fortran with Redhat
 5.1]
In-Reply-To: <199811181828.TAA26120@sophie.ethz.ch>
Message-ID: <Pine.GSO.4.03.9811181044550.26695-100000@wompom.biostat.washington.edu>

On Wed, 18 Nov 1998, Martin Maechler wrote:

> -------
>   Date: Wed, 18 Nov 1998 13:22:47 -0500 (EST)
>   From: "J. Andy Royle" <jar@oriole.er.usgs.gov>
>   To: Martin Maechler <maechler@stat.math.ethz.ch>
>   Subject: Re: [R] loading fortran with Redhat 5.1
>   In-Reply-To: <199811181812.TAA26068@sophie.ethz.ch>
> 
>   Hi Martin,
> 
>   The reason I was confused by this is because I used dyn.load
>   on varna.o from a Sun Ultra 10 (again compiled by g77 -c varna.f...
>   not gcc as I stated before....a typo).  Observe to following
>   from my Ultra 10:
> 

Yes, on Solaris 2.6 on an Ultra 10 the dynload demo also works this way.
Either gcc -c or cc -c produces an object file that can be dyn.loaded and
run correctly.

It isn't portable. Most Unices distinguish between the output of cc and
the shared object files produced by ld -the.appropriate.flags

I don't know if it works when you need to call R functions from the
compiled code, either.  In any case, R SHLIB is the better solution.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov 18 18:56:19 1998
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Nov 1998 18:56:19 +0000 (GMT)
Subject: [jar@oriole.er.usgs.gov: Re: [R] loading fortran with Redhat 5.1]
In-Reply-To: <199811181828.TAA26120@sophie.ethz.ch>
Message-ID: <Pine.GSO.3.96.981118184902.6457E-100000@localhost>

On Wed, 18 Nov 1998, Martin Maechler wrote:

> I can not answer this (message only to me).
> Certainly, some of you do..

Fluke, I think.  If he had used

g77 -c -fpic varna.f

then I believe varna.o would be a valid shared library on Solaris.  It is
likely that varna.f is simple enough not to need any relocation when
compiled. This certainly works for a single subprogram in the file, but is
definitely not recommended.

It is hard to tell if dlopen actually works, as it is used with the
`lazy' flag in R. One day one tests something never tried before and
it fails....  (Like the first time I actually hit some error-recording
code.)

Brian

>   From: "J. Andy Royle" <jar@oriole.er.usgs.gov>
>   To: Martin Maechler <maechler@stat.math.ethz.ch>
>   Subject: Re: [R] loading fortran with Redhat 5.1
>   In-Reply-To: <199811181812.TAA26068@sophie.ethz.ch>
> 
>   Hi Martin,
> 
>   The reason I was confused by this is because I used dyn.load
>   on varna.o from a Sun Ultra 10 (again compiled by g77 -c varna.f...
>   not gcc as I stated before....a typo).  Observe to following
>   from my Ultra 10:
> 
> 
>   /space/jar/ked-> g77 -c varna.f
>   /space/jar/ked-> R
> 
>   R : Copyright 1998, The R Development Core Team
>   Version 0.62.4  (October 24, 1998)
>   ..
>   ..
>   other startup info deleted
>   ..
>   ..
>   [Previously saved workspace restored]
> 
>   > dyn.load("varna.o")
>   >
> 
>   Thus, I figured I could do that in Linux.  Can you comment?
> 
> 
>   On Wed, 18 Nov 1998, Martin Maechler wrote:
> 
>   > >>>>> "J" == J Andy Royle <jar@oriole.er.usgs.gov> writes:
>   > 
>   >     J> Hello Martin, Thanks for your help.  This worked fine.. I didn't
>   >     J> know about the demo.  I seem to recall that I was doing it the Splus
>   >     J> way when I ran R on my Ultra 10.  Is this a new way of loading
>   >     J> fortran code into R?
>   > 
>   > No!
>   > The "R SHLIB" abbreviation is somewhat new,  but you always had to 
>   > 	dyn.load(...shared.library...)
>   > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 20:58:06 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 15:58:06 -0500
Subject: more on RINSTALL with doc clobbers function.html
Message-ID: <98Nov18.160110est.13479@mailgate.bank-banque-canada.ca>

After some investigation I find that  "R INSTALL   dse" seems to work well.
Also,
"R REMOVE  dse" works but does not clean out ~/.R (which would be pretty
difficult because all users may have this). The result is that a user will have
the impression that the package is installed when it has be remove. (This is
probably not too serious.)

However,  "R INSTALL   -l rlibs  dse" clobbers $RHOME/doc/html/packages.html and

$RHOME/doc/html/function.html. If help.start() is used then the first of these
is not seen by the user (and possibly is defunct and should be removed
entirely), but the second one is seen by the user (through a link in
~/.R/doc/html) and is seriously corrupted.

Some details are appended. I guess I'll stick with "R INSTALL   dse" for now.

Paul Gilbert
_______

After R make:
-rw-r--r--   1 gilp     res       154164 Nov 18 14:17
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1179 Nov 18 14:17
/home/res/gilp/R/doc/html/packages.html


After R INSTALL           -l rlibs  dse
-rw-r--r--   1 gilp     res         1493 Nov 18 14:25
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res          690 Nov 18 14:25
/home/res/gilp/R/doc/html/packages.html
these are clobbered

After R REMOVE   -l rlibs  dse
-rw-r--r--   1 gilp     res       154164 Nov 18 14:29
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1179 Nov 18 14:29
/home/res/gilp/R/doc/html/packages.html
 these are restored to originals


After  R INSTALL   dse
-rw-r--r--   1 gilp     res       154290 Nov 18 14:36
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1315 Nov 18 14:36
/home/res/gilp/R/doc/html/packages.html
These are good. DSE documentation is added and R documentation is not clobbered.

After help.start()
~/.R has
doc/      library/
 /home/res/gilp :  ls -l .R/doc/html/pac*
lrwxrwxrwx   1 gilp     res           61 Nov 18 14:41
.R/doc/html/packages-foot.html ->
/home/res4/gilp/R-versions/R-0.63/doc/html/packages-foot.html
lrwxrwxrwx   1 gilp     res           61 Nov 18 14:41
.R/doc/html/packages-head.html ->
/home/res4/gilp/R-versions/R-0.63/doc/html/packages-head.html
-rw-r--r--   1 gilp     res         1997 Nov 18 14:41 .R/doc/html/packages.html
ls -l .R/doc/html/func*
lrwxrwxrwx   1 gilp     res           56 Nov 18 14:41 .R/doc/html/function.html
-> /home/res4/gilp/R-versions/R-0.63/doc/html/function.html


After R REMOVE  dse
-rw-r--r--   1 gilp     res       154164 Nov 18 15:01
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1179 Nov 18 15:01
/home/res/gilp/R/doc/html/packages.html
These are restored to the original but ~/.R makes it look to the user like the
packaage is there.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 19 17:13:27 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 19 Nov 1998 12:13:27 -0500
Subject: list assignment
Message-ID: <98Nov19.121657est.13464@mailgate.bank-banque-canada.ca>

There appears to be a problem with name matching in list assignment:

Version 0.63.0  (November 14, 1998)
...
> r <- list()
> r$forecast.cov.trend <- 1:12
> r$forecast.cov.zero <- 1:12
> r$forecast.cov <- 1:2
> length(r$forecast.cov)
[1] 0                                   #should be 2
>

But note that this works correctly:
>  r <- list()
> r$forecast.cov.trend <- 1:12
> r$forecast.cov <- 1:2
> length(r$forecast.cov)
[1] 2
>

And also this works correctly:
> r <- list()
> r$forecast.cov <- 1:2
> r$forecast.cov.trend <- 1:12
> r$forecast.cov.zero <- 1:12
> length(r$forecast.cov)
[1] 2
> length(r$forecast.cov.trend)
[1] 12
> length(r$forecast.cov.zero)
[1] 12
>

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Thu Nov 19 17:34:15 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Thu, 19 Nov 1998 18:34:15 +0100
Subject: Loss of attributes from arithmetic comparisons
Message-ID: <36545697.1050F067@iarc.fr>

More on attributes, but nothing to do with the "[" thread...

Arithmetic comparisons strip attributes in R.  This is
incompatible with S. It is not so easy to see what the right
thing to do is here, but perhaps we should have S compatibility?

Martyn

S-PLUS 3.2
==========
S> x_1:10
S> attr(x,"foo") <- TRUE
S> x
 [1]  1  2  3  4  5  6  7  8  9 10
attr(, "foo"):
[1] T
S> x <= 5
 [1] T T T T T F F F F F
attr(, "foo"):
[1] T

R 0.63
======
R> x_1:10
R> attr(x,"foo") <- TRUE
R> x
 [1]  1  2  3  4  5  6  7  8  9 10
attr(,"foo")
[1] TRUE
R> x <= 5
 [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE
R> attributes(x<=5)
NULL
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 19 17:36:51 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 19 Nov 1998 12:36:51 -0500
Subject: [R] configure on Solaris 2.6 for R-0.63
References: <Pine.NEB.4.02.9811190925190.12944-100000@mathfs.math.montana.edu>
Message-ID: <98Nov19.124031est.13471@mailgate.bank-banque-canada.ca>

> > checking for g77... /psoft/Gnu-dev/bin/g77
> > checking for underscore after Fortran symbols... configure: error: Nothing
> > worked - cannot use FORTRAN
> >

I got this problem previous to 0.63 because there was a Solaris 2.5 f77 on my
path and f77 was being checked before g77 which I was using for Solaris 2.6. The
f77 was in a site library, and since right now we have a mix of 2.5 and 2.6  so
I couldn't remove it. I fixed the problem by putting a link high on my path
called f77 pointing to gnu/sun5.6/bin/g77.

This would not explain why 0.62.4 works for you and 0.63 does not, unless the
order in which fortran compilers is checked has changed between these versions.
Perhaps g77 is being checked first now and you have a g77 for Solaris 2.5.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Nov 19 17:53:19 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 1998 18:53:19 +0100
Subject: list assignment
In-Reply-To: Paul Gilbert's message of Thu, 19 Nov 1998 12:13:27 -0500
References: <98Nov19.121657est.13464@mailgate.bank-banque-canada.ca>
Message-ID: <x2d86jy3g0.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> There appears to be a problem with name matching in list assignment:
> 
> Version 0.63.0  (November 14, 1998)
> ...
> > r <- list()
> > r$forecast.cov.trend <- 1:12
> > r$forecast.cov.zero <- 1:12
> > r$forecast.cov <- 1:2
> > length(r$forecast.cov)
> [1] 0                                   #should be 2
> >

Odd, and clearly a bug. Probably rather in indexing rather than
assigment, though:

> a<-list(1,2,3)
> names(a)<-c("aa","ab", "a")
> a$a
NULL
> a[["a"]]
[1] 3



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gerry.brush@bioanthropology.oxford.ac.uk  Thu Nov 19 18:56:07 1998
From: gerry.brush@bioanthropology.oxford.ac.uk (Gerry Brush)
Date: Thu, 19 Nov 98 18:56:07 GMT
Subject: PDF Library
Message-ID: <830.9811191856@wright.iba.ox.ac.uk>


 [* The word xSUBSCRIBE so early in your posting made it bounce. MMae]
  v
I 0subscribe to R-help (not R-devel) but thought this was more relevant to  
R-devel, and the future of R's imaging model and cross-platform support.  If  
this has already been under discussion I apologize.  I've no connection with  
the product, business or its people.

Gerry



Begin forwarded message:

We, at FastIO Systems, are pleased to announce the availability of
ClibPDF: an ANSI C Source Library for Direct PDF Generation.

PDF (Portable Document Format) will be *THE* native graphics
interchange format of the upcoming MacOS X.  While we
anxiously wait for its arrival, you can start producing PDF files
programatically using ClibPDF now.

While MacOS X will no doubt allow PDF generation, ClibPDF
does not rely on any Apple-specific technology.  It's a plain
ANSI C library.  Therefore, it will work on just about any platform.

For details and downloading of ClibPDF, visit our web site,
<http://www.fastio.com/

## What is ClibPDF

ClibPDF is a library of ANSI C functions, distributed in source
form, for creating PDF (Acrobat) files directly via C language
programs without relying on any Adobe Acrobat tools and related
products. It is suitable for fast dynamic PDF Web page generation
in response to user input and real-time data, and also for implementing
publication-quality graph plotting for both on-screen viewing and
printing in any custom application. Since there is minimal
platform-specific code, it is ideal as cross-platform graphing
solutions with minimal developement efforts. Generated PDF files
are viewed and printed by auto-launching Adobe Acrobat Reader or
any other PDF viewer available free for many platforms. Note that
ClibPDF is for PDF file creation only. It has no support for reading
or editing existing PDF files.

## Notable Features of ClibPDF

- Most basic PDF drawing primitives are supported, plus arc and circle.
- Plot domains (linear, semi-log, log-log) with mesh to give graph
    paper appearance.
- Axes (linear, log, date) with flexible tick marks, numbering, and
    labelling.
- Markers, pointers, error bars for data points.
- Multi-page documents may be generated in any page order, and
    pages may be written in an interleaved manner.
- Support for Flate/Zlib compression for fast web download
    (No need for LZW license from Unisys.)
- In-memory PDF generation (no temp files).
- Transition, timed slide show support.

## Possible Applications

- Fast, light-weight CGI for dynamic PDF web pages generation.
- Report generation in medical, scientific, and industrial
    test equipment (and plots may be used directly in publications).
- Giving legacy console-type applications an attractive
    graphic output via auto-launched Arobat Reader (or any PDF viewer).
- Cross-platform graphing solutions.
- A unified imaging model for X-Window applications for beautiful
    screen AND printed output (no more ugly screen dumps). This
    eases the pain of the death of DPS (Display PostScript).

## License, Copying, and Distribution

ClibPDF is free OR commercial depending on how and by whom it is used.

ClibPDF is free for non-profit personal use, and use by educational,
non-profit, and government organizations.

Commercial license is required for use by for-profit entities (also
refered to as commercial users), including commercial web-site
deployment (including intranet), inclusion in in-house business,
production, manufacturing and research applications, for-profit use
by individuals, inclusion in commercial applications, libraries,
and tools that are sold or bundled with other commercial products.
There is a special deferment provision for shareware developers.
An automatic free 30-day examination period is granted for commercial
users for the purpose of evaluating ClibPDF.

The summary of license terms described above is an overview and is
not legally binding. Exact and legally accurate details of licensing
terms are described in the file LICENSE.txt or LICENSE.pdf included in
the distribution or at <http://www.fastio.com/LICENSE.pdf.

We welcome feedback regarding the feature list, licensing, bugs, and
improvements and any other suggestions. Please send comments to
clibpdf@fastio.com.

## Platforms tested so far

-- Unix variants --
BSDI BSD/OS 3.1 (gcc 2.7.2.1)
FreeBSD 2.2.7-STABLE (gcc 2.7.2.1)
Linux 2.0.34 (Red Hat 5.1) (gcc 2.7.2.3)
MacOS X Server (Rhapsody DR2)
NEXTSTEP 3.2, 3.3, OPENSTEP 4.2
SunOS 5.4 / (SUNWspro/SC4.0)

-- PCs --
MacOS 8.1 (Metrowerks IDE 1.7.4) -- See also: README.MacOS8
Windows NT 4.0 (VC++ 5.0) -- See also: README.win32

## Relationships to other software

Conceptually, ClibPDF has been inspired by Cgraph for PostScript
(<http://totoro.berkeley.edu/software/A_Cgraph.html), but it is
much more powerful and no code from Cgraph (PS) has been used.


Here are some comparisons with similar libraries. I don't claim
completeness or impartiality obviously, but I try to be fair.

PDFlib: There are acutally two PDFlib's, one from Thomas Merz,
and the other from Adobe.

NO part of ClibPDF is derived from or related to either of the
two PDF libraries. ClibPDF has been written completely independently.
I have seen some documentation for each, but no source code.

[1] Thomas Merz
<http://www.muc.de/~tm/pdflib/
Thomas Merz's PDFlib is also a source C language library for
dynamic PDF generation. There is some overlap in functionalities
between PDFlib and ClibPDF. PDFlib covers PDF generation at a basic
operator level. It has no compression yet, though the documentation
notes that it is planned.

ClibPDF is designed to do much more than PDFlib, and it is primarily
targeted for graph plotting applications with high-level APIs for
plot domains, data markers, and log and linear axes, although it
can be used for any purpose. ClibPDF can generate multi-page
documents in an arbitrary page order. Flate/Zlib compression is
supported.

[2] Adobe
<http://beta1.adobe.com/ada/acrosdk/libraries.html
Adobe PDF Library, I believe, is distributed in binary form only
with no sources (other than header and examples), thus supported
platforms are limited (in particular, there is no support for Linux
or FreeBSD). It may be used to write applications that will
create/read/edit PDF files. I have no idea how easy it is to use.

[3] PDFPerl
<http://www.ep.cs.nott.ac.uk/pdf-pl/
If you would rather use PERL scripts, this is for you.
Due to the interpreted nature of PERL, I think this is not going
to be fast (I am curious to see any comparisons).

ClibPDF and FastIO are trademarks of FastIO Systems.
Adobe, Acrobat, Exchange, and PostScript are tademarks of Adobe
Systems Inc. All other products or name brands are trademarks
of their respective holders.

Isamu "Sam" Ohzawa
FastIO Systems - Fast Direct PDF Generation via C
clibpdf@fastio.com, http://www.fastio.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Fri Nov 20 10:22:57 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Fri, 20 Nov 1998 10:22:57 +0000 (GMT)
Subject: PDF Library
Message-ID: <199811201022.KAA27148@toucan.stats.ox.ac.uk>

S-PLUS has a pdf.graph graphics device, and from what I know of the S
(hence R) graphics model, it would be relatively easy to write a PDF
graphics device (no fancy commercial libraries needed). However, I am
not about to do it, as I can convert .eps files to .pdf in several ways
and do so regularly using epstopdf (perl script calling gs5.50 at
www.tug.org/applications/pdftex: even works on Windows).  Converting
.pdf to .eps WELL seems rather harder.

> From: Gerry Brush <gerry@wright.iba.ox.ac.uk>
> Date: Thu, 19 Nov 98 18:56:07 GMT
> To: r-devel@stat.math.ethz.ch
> Subject: PDF Library
> 
> 
>   v
> I 0subscribe to R-help (not R-devel) but thought this was more relevant to  
> R-devel, and the future of R's imaging model and cross-platform support.  If  
> this has already been under discussion I apologize.  I've no connection with  
> the product, business or its people.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 20 11:31:33 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 1998 12:31:33 +0100
Subject: PDF Library
In-Reply-To: Prof Brian Ripley's message of Fri, 20 Nov 1998 10:22:57 +0000 (GMT)
References: <199811201022.KAA27148@toucan.stats.ox.ac.uk>
Message-ID: <x267catxbe.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> S-PLUS has a pdf.graph graphics device, and from what I know of the S
> (hence R) graphics model, it would be relatively easy to write a PDF
> graphics device (no fancy commercial libraries needed). However, I am
> not about to do it, as I can convert .eps files to .pdf in several ways
> and do so regularly using epstopdf (perl script calling gs5.50 at
> www.tug.org/applications/pdftex: even works on Windows).  Converting
> .pdf to .eps WELL seems rather harder.

..and a licence of the sort described is nowhere near OpenSource
requirements and clearly in conflict with the GPL. So R cannot use it.
(Certainly not in conjuction with the GPL'ed readline library, anyway.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Nov 20 17:17:22 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Fri, 20 Nov 1998 09:17:22 -0800 (PST)
Subject: PDF Library
In-Reply-To: <x267catxbe.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9811200913400.28367-100000@wompom.biostat.washington.edu>

On 20 Nov 1998, Peter Dalgaard BSA wrote:

> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
> 
> > S-PLUS has a pdf.graph graphics device, and from what I know of the S
> > (hence R) graphics model, it would be relatively easy to write a PDF
> > graphics device (no fancy commercial libraries needed). However, I am
> > not about to do it, as I can convert .eps files to .pdf in several ways
> > and do so regularly using epstopdf (perl script calling gs5.50 at
> > www.tug.org/applications/pdftex: even works on Windows).  Converting
> > .pdf to .eps WELL seems rather harder.
> 
> ..and a licence of the sort described is nowhere near OpenSource
> requirements and clearly in conflict with the GPL. So R cannot use it.
> (Certainly not in conjuction with the GPL'ed readline library, anyway.)
> 


There is also an Open Source PDF library that I have mentioned before. It
seems quite powerful and easy to use. There are license problems even
then, as it is under the Aladdin license, which, like the GPL, is
contagious.

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Nov 22 15:33:51 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 22 Nov 1998 16:33:51 +0100
Subject: [R] installing R packages in Windows?
In-Reply-To: <x2r9uwpsha.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Sat, Nov 21, 1998 at 11:54:09PM +0100
References: <Pine.GSO.3.96.981121211503.9485A-100000@toucan.stats> <x2r9uwpsha.fsf@blueberry.kubism.ku.dk>
Message-ID: <19981122163351.A20171@sirio.stat.unipd.it>

On Sat, Nov 21, 1998 at 11:54:09PM +0100, Peter Dalgaard BSA wrote:
> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
> 
> > All of this is very experimental, so do be careful not to trust the
> > results.  As gunwin32 R has no batch mode, I cannot check standard
>             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> > scripts easily and have only run cursory checks.
> 
> How difficult would it be to create one? I suspect that all you need
> is to avoid starting up the console and do stdio instead. The ESS
> (Emacs Speaks Statistics) crowd will want this as well.

  I am not really a MsWindows programmer so I will try to summarize
  what I know hoping that others (Luke?) will suggest the right direction.

  There are two possibilities easy to implement but not completly
  satisfactory:
  1) to build a only `stdio`  executable, i.e., to have an executable
     which behaves as when you start the Unix one with the 
     --no-readline flag; I suppose that this can be used with ESS
     but I don't use Emacs under Windows so I don't know
     how Emacs manages sub-processes. This new exe must be called
     R.exe (as the other one; if you change the name you will
     have to provide different dll's; which is not what we want;
     but if it is called R.exe (-> it cannot be put
     in RHOME/bin) it can share all the other files). Surely, it 
     will be possible to do batch processing like under Unix
     (redirection provides by the shell from which you launch it).
     I have no tried but this would require minimal change (I suppose
     that I can have it in less than 1 hour); so, if someone wants
     to test it, just ask. 
  2) to add batch processing to the actual executable,i.e, to let 
     possible to launch R with a command line of the type
     R --input-from afile --output-to anotherfile
     In this case, no console is open and R will run in background
     (maybe it can open a small window just saying 
      "R is running; this is the moment for a cup of coffee"
      we need it I think (at least to be able to kill the
      process)). If you will not use the command line arguments
      the standard console will open. R.exe will be a standard
      Windows executable (no character console, no stdin/stout/stderr)
      -> no ESS support.

   On the other end, the ideal solution will be to have an executable
   which on demand (i.e., using the --no-readline flag, I suppose)
   will or open the graphics console or use `stdio`.
   Somewhere in the Win32 API must exist something which let this.
   But I have to find out where. Perhaps, someone here can help
   Problem is that standard Windows application are either
   
   (i) completly `windowed', like Robert's and mine version of R;
   in this case, they don't have standard input and output; 
   indeed if you launch  it from a character console, they behave
   more or less  as if, under Unix, you launch an application
   from an xterm using the background flag (&) 
   and with stdin and   stdout redirected to /dev/null;
   
   or
   
   (ii) `console` applications; in this case stdin and stdout are there;
   but the side effect is that they ALWAYS open a character console
   (or `lock` the one from which you have launched them); 
   
   g.
   
   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 22 16:16:28 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 22 Nov 1998 16:16:28 +0000 (GMT)
Subject: [R] installing R packages in Windows?
In-Reply-To: <19981122163351.A20171@sirio.stat.unipd.it>
Message-ID: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>

On Sun, 22 Nov 1998, Guido Masarotto wrote:

> On Sat, Nov 21, 1998 at 11:54:09PM +0100, Peter Dalgaard BSA wrote:
> > Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
> > 
> > > All of this is very experimental, so do be careful not to trust the
> > > results.  As gunwin32 R has no batch mode, I cannot check standard
> >             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> > > scripts easily and have only run cursory checks.
> > 
> > How difficult would it be to create one? I suspect that all you need
> > is to avoid starting up the console and do stdio instead. The ESS
> > (Emacs Speaks Statistics) crowd will want this as well.
> 
>   I am not really a MsWindows programmer so I will try to summarize
>   what I know hoping that others (Luke?) will suggest the right direction.

I am much, much less of an MS windows programmer than Guido.  What I
intended to try to do was: 

(i) build almost all of R as a DLL. I think that is easy given what
Guido has done, and then other DLLs can link against the import library
for that DLL.  We just need a DLL version of R.a and a different libR.a
(I think).

(ii) build two front-ends called say Rconsole.exe and Rbatch.exe to drive
that DLL.

If it helps, S-PLUS 4.5 has essentially both Guido's options 1) (sqpe.exe)
and 2) (Splus /BATCH) and I use 1) almost all the time.

>   There are two possibilities easy to implement but not completly
>   satisfactory:
>   1) to build a only `stdio`  executable, i.e., to have an executable
>      which behaves as when you start the Unix one with the 

Yes, please, and I think that would suffice for ESS if we are careful
about prompts and stdout/stderr.  I don't care if the x11() device is not
active in this mode.  An ESS insider should be able to advise exactly what
is required; the problem with sqpe.exe is that the prompts disappear
if input is redirected.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Mon Nov 23 12:11:54 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Mon, 23 Nov 1998 06:11:54 -0600 (CST)
Subject: [R] installing R packages in Windows?
In-Reply-To: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats> from "Prof Brian Ripley" at Nov 22, 98 04:16:28 pm
Message-ID: <9811231211.AA03585@nokomis.stat.umn.edu>

Prof Brian Ripley wrote:
> >   what I know hoping that others (Luke?) will suggest the right direction.
> 
> I am much, much less of an MS windows programmer than Guido.  What I
> intended to try to do was: 
> 
> (i) build almost all of R as a DLL. I think that is easy given what
> Guido has done, and then other DLLs can link against the import library
> for that DLL.  We just need a DLL version of R.a and a different libR.a
> (I think).
> 
> (ii) build two front-ends called say Rconsole.exe and Rbatch.exe to drive
> that DLL.
> 

My understanding, which is not very complete yet, says that the
difference between console and gui apps is just in the way they start
up; the console app can make the same use as graphics as the gui one.
So this sould work fine. It's likely to be a bit more work than it
seems to factor the code so the io goes throug callbacks in the front
ends, and the design of the graphics may need to be modified if graphs
are to coegist with a standard console or an emacs console, but it
should work fine.

The one point to keep in mind though is that console apps are possible
on Win95 and NT but not, I believe, on Win32s.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Mon Nov 23 19:42:10 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 23 Nov 1998 20:42:10 +0100
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>; from Prof Brian Ripley on Sun, Nov 22, 1998 at 04:16:28PM +0000
References: <19981122163351.A20171@sirio.stat.unipd.it> <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>
Message-ID: <19981123204210.A22663@sirio.stat.unipd.it>

I made an experiment along the way suggested by Brian Ripley (thanks...).
1) I put all the code in a big dynamic library (R.dll, ~900K);
2) I prepare two executable (4K each,i.e, the smallest size possible
    under Windows): (i) a 'windowed' application (rconsole.exe) which should
    behaves like my current version and (ii) a 'console' (I suppose
    that a better name for rconsole is needed) application
    (rbatch.exe) which does not open a graphich console but
    use 'stdio'. I didn't test Emacs+ESS since, after some
    bad (but old) experiences, I use Emacs
    only under Unix; however, at least, `rbatch < afile > anothefile'
    seems to work; in addition, when isatty() is false (I expect
    this happening under Emacs) the code is exactly the Unix one.
    
I have just uploaded  the result (two files: rw63-iob.zip, binaries,
also of the standard dll's linked against the new R.dll but no help,...
and rw63-ios.zip, sources) on ftp://stat.unipd.it/users/guido/R/devel 
(during the night the files should be mirrored to Wien).

I hope someone would test this version since, if it works,
I think that can add something to the current one (in particular,
if starting from this version we can obtaning an executable
working under Emacs).
But be aware: (i) it is the result of 2 hour of works on a train;
                                                      ~~~~~~~~~~
(ii) I have only test it on a Win98 notebook; (iii) as
Luke said, rbatch should not work under Win32s; (iv) Brian's
libraries must be rebuilt to make them working with this version.

guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@biostat.washington.edu  Mon Nov 23 20:46:03 1998
From: rossini@biostat.washington.edu (A.J. Rossini)
Date: 23 Nov 1998 12:46:03 -0800
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: Guido Masarotto's message of "Mon, 23 Nov 1998 20:42:10 +0100"
References: <19981122163351.A20171@sirio.stat.unipd.it> <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats> <19981123204210.A22663@sirio.stat.unipd.it>
Message-ID: <8767c6uohg.fsf@cho-oyu.cfas.washington.edu>


Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> 2) I prepare two executable (4K each,i.e, the smallest size possible
>     under Windows): (i) a 'windowed' application (rconsole.exe) which should
>     behaves like my current version and (ii) a 'console' (I suppose
>     that a better name for rconsole is needed) application
>     (rbatch.exe) which does not open a graphich console but
>     use 'stdio'. I didn't test Emacs+ESS since, after some
>     bad (but old) experiences, I use Emacs
>     only under Unix; however, at least, `rbatch < afile > anothefile'
>     seems to work; in addition, when isatty() is false (I expect
>     this happening under Emacs) the code is exactly the Unix one.
>     
> I hope someone would test this version since, if it works,
> I think that can add something to the current one (in particular,
> if starting from this version we can obtaning an executable
> working under Emacs).
> But be aware: (i) it is the result of 2 hour of works on a train;
>                                                       ~~~~~~~~~~
> (ii) I have only test it on a Win98 notebook; (iii) as
> Luke said, rbatch should not work under Win32s; (iv) Brian's
> libraries must be rebuilt to make them working with this version.

Thanks much.  I'm hacking Emacs/ESS on MS Windows platforms starting
mid next month, thanks to some external prodding (and now, product
availability from both R, Splus).  And I think XLispStat might be able
to talk (at least DDE), as well, which would be nice

If anyone evaluates the situation before then (ESS/Emacs/R on MS
Windows 95/98/NT), please send me some email with comments, to help me
out! (MS isn't my native environment by a long shot :-).

best,
-tony

-- 
A.J. Rossini			
UW Biostatistics & Center for AIDS Research 	Epimetrics Corporation
206-543-1044 / 206-720-4282			206-652-0604
rossini@biostat.washington.edu			rossini@epimetrics.com
http://www.biostat.washington.edu/~rossini/	http://www.epimetrics.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov 23 21:23:47 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Nov 1998 22:23:47 +0100
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: Guido Masarotto's message of Mon, 23 Nov 1998 20:42:10 +0100
References: <19981122163351.A20171@sirio.stat.unipd.it> <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats> <19981123204210.A22663@sirio.stat.unipd.it>
Message-ID: <x290h2t864.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> 2) I prepare two executable (4K each,i.e, the smallest size possible
>     under Windows): (i) a 'windowed' application (rconsole.exe) which should
>     behaves like my current version and (ii) a 'console' (I suppose
>     that a better name for rconsole is needed) application
>     (rbatch.exe) which does not open a graphich console but
>     use 'stdio'. 

Sounds great, except for the naming... The terminology seems to be
that one distinguishes between GUI applications and console
applications, and your GUI app. is the one called Rconsole! And Rbatch
also works interactively...

More obvious would be to call them

Rgui and Rconsole
   or maybe
Rgui and R

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bacon@mediaone.net  Tue Nov 24 00:08:35 1998
From: bacon@mediaone.net (Fred Bacon)
Date: Tue, 24 Nov 1998 00:08:35 +0000
Subject: Additional autoconf test for linuxppc/mklinux
Message-ID: <3659F903.7C4127F3@mediaone.net>

This is a multi-part message in MIME format.
--------------B1771E3EA5AC1A7BE37E1417
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am attaching a patch to R-0.63's configure.in file which will enable 
R to detect and use some special math libraries on linuxppc and mklinux.
The patch provides tests for these libraries and enable/disable switches 
for them as well.

One library is the libmoto math library which must be used in
conjunction
with libm (it only replaces some of libm's functions).  The other is a
RISC optimized BLAS library, libblas_risc, which must be used along with
a standard implementation of BLAS, libblas.  It only provides optimized 
versions of GEMM routines for single and double precision real values.

Please let me know if the tests cause problems on other architectures.

-- 
Fred Bacon

==========================================================================
Aerodyne Research, Inc.                   Phone:   (978) 663-9500 ext.
273
45 Manning Rd.                              FAX:   (978) 663-4918
Billerica, MA  01821-3976                  http://www.aerodyne.com
==========================================================================
 People who want to share their religious views with you almost never
want
 you to share yours with them.   -- Dave Barry
--------------B1771E3EA5AC1A7BE37E1417
Content-Type: text/plain; charset=us-ascii;
 name="R-0.63.ppc.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="R-0.63.ppc.patch"

diff -ur R-0.63/configure.in R-0.63.new/configure.in
--- R-0.63/configure.in	Fri Nov 13 13:13:56 1998
+++ R-0.63.new/configure.in	Sun Nov 22 17:54:46 1998
@@ -94,6 +94,14 @@
 ## Here we should maybe check that only one of the above options for
 ## dealing with FORTRAN were specified.
 
+AC_ARG_ENABLE(libmoto,
+  [  --enable-libmoto        use libmoto math library (if available)],
+  [ if test "${enableval}"=no;
+      then use_libmoto=false;
+      else use_libmoto=true;
+    fi],
+   use_libmoto=true)
+      
 AC_ARG_ENABLE(blas,
   [  --enable-blas           use BLAS library (if available)],
   [if test "${enableval}" = no;
@@ -102,6 +110,14 @@
   fi],
   use_blas=true)
 
+AC_ARG_ENABLE(blas_risc,
+  [  --enable-blas_risc      use RISC Optimized BLAS library (if available)],
+  [ if test "${enableval}" = no;
+     then use_blas_risc=false;  
+     else use_blas_risc=true; use_blas=true;
+    fi],
+    use_blas_risc=true; use_blas=true)
+
 AC_ARG_ENABLE(dxml,
   [  --enable-dxml           use DXML library (if available)],
   [if test "${enableval}" = no;
@@ -396,6 +412,9 @@
 export LD_LIBRARY_PATH
 
 AC_CHECK_LIB(m, sin)
+if ${use_libmoto}; then
+   AC_CHECK_LIB(moto,sin)
+fi
 AC_CHECK_LIB(ncurses, main,,
   AC_CHECK_LIB(termcap, main,,
     AC_CHECK_LIB(termlib, main)
@@ -413,6 +432,11 @@
     fi
   )
 fi
+
+if ${use_blas_risc}; then
+   AC_CHECK_LIB(blas_risc, main, FLIBS="-lblas_risc ${FLIBS}" BLAS="",,-lblas -lf2c)
+fi  
+
 AC_SUBST(BLAS)
 for arg in ${LIBS}; do
   case ${arg} in

--------------B1771E3EA5AC1A7BE37E1417--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From 4details@bitsmart.com  Tue Nov 24 10:25:14 1998
From: 4details@bitsmart.com (4details)
Date: Tue, 24 Nov 1998 10:25:14
Subject: Export Market for Security Products
Message-ID: <199811240558.GAA16101@hypatia.math.ethz.ch>

Dear reader,

We have just visited your website and became interested in developing a long-term trading relationship with your company. 

We are the largest manufacturer of video door phones, specializing in a full range of security systems. Strong alliances have 
been established with many industries, such as: design institutes, building developers, construction and engineering firms, 
and real estate companies, etc. Our annual sales volume for 1997 was approximately US$ 10 million.

Our core business is producing standard OEM & ODM security products that meet the individual needs of our customer's designs. 
Our quality control measures are strictly followed, from the very beginning of material development, until the goods are 
released to our customers.

For full details on our company's profile, products, and distributorship / licensing agreements, please reply now.

mailto:4details@bitsmart.com?Subject=VIDEO_DOOR_PHONES
mailto:4details@bitsmart.com?Subject=DOOR_PHONES
mailto:4details@bitsmart.com?Subject=SECURITY_PRODUCTS

We look forward to your soonest reply!

Thank you very much in advance.

Sincerely yours,

Mr. White Van
Export Sales Manager

Shenzhen Bailan Industrial Development Co., Ltd.
Sales & Marketing Dept.
Address: A 505, 5F, Build SEG Science Park, 
North. HuaQuing Road
Shenzhen China

Tel.  (86)-755-376 2520  (8 Lines)    P.C.     	51828
Fax.  (86)-755-332 1197               Pager:	191-548 4749
 
 
 
 
 
 
 
 
 
 
 
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 24 07:32:40 1998
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Nov 1998 07:32:40 +0000 (GMT)
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: <x290h2t864.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.3.96.981124072537.5386C-100000@localhost>

On 23 Nov 1998, Peter Dalgaard BSA wrote:

> Guido Masarotto <guido@sirio.stat.unipd.it> writes:
> 
> > 2) I prepare two executable (4K each,i.e, the smallest size possible
> >     under Windows): (i) a 'windowed' application (rconsole.exe) which should
> >     behaves like my current version and (ii) a 'console' (I suppose
> >     that a better name for rconsole is needed) application
> >     (rbatch.exe) which does not open a graphich console but
> >     use 'stdio'. 
> 
> Sounds great, except for the naming... The terminology seems to be
> that one distinguishes between GUI applications and console
> applications, and your GUI app. is the one called Rconsole! And Rbatch
> also works interactively...
> 
> More obvious would be to call them
> 
> Rgui and Rconsole
>    or maybe
> Rgui and R

Peter, what you and what Windows call a `console application' clearly
differ!  In Windows a `console application' opens its own window to work
in.

Given that confusion, I would go for something like Rgui and Rterm (as for
now R is already used for the `all in one' solution).

The point here is that if the DLL is called R.DLL, we can make different
front ends and link them to everything else, and the names can be changed.

Congratulations to Guido: I failed in a couple of hours, because a crucial
link step always hangs my machine. (Ah, the joys of MS programming.)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Nov 24 09:58:31 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Nov 1998 10:58:31 +0100
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: Prof Brian D Ripley's message of Tue, 24 Nov 1998 07:32:40 +0000 (GMT)
References: <Pine.GSO.3.96.981124072537.5386C-100000@localhost>
Message-ID: <x2emqtjttk.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> > Sounds great, except for the naming... The terminology seems to be
> > that one distinguishes between GUI applications and console
> > applications, and your GUI app. is the one called Rconsole! And Rbatch
> > also works interactively...
> > 
> > More obvious would be to call them
> > 
> > Rgui and Rconsole
> >    or maybe
> > Rgui and R
> 
> Peter, what you and what Windows call a `console application' clearly
> differ!  In Windows a `console application' opens its own window to work
> in.

Hm. I think you're wrong there, although there's an obvious ambiguity
between programs that need a console and those that supply one. A
console *mode* application is definitely something that is intended to
be run in a console (alias DOS box in W95), and a GUI mode application
runs detached, like a background job in Unix. The former are the ones
that spring up a DOS box when you double-click the icon, and the
latter is the only type that runs in Win32s.

> 
> Given that confusion, I would go for something like Rgui and Rterm (as for
> now R is already used for the `all in one' solution).

Rterm is a good idea, certainly.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From khal@alumni.uv.es  Tue Nov 24 16:05:47 1998
From: khal@alumni.uv.es (Kjetil Halvorsen)
Date: Tue, 24 Nov 1998 17:05:47 +0100
Subject: as.list
References: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>
Message-ID: <365AD95B.79D8A8B6@alumni.uv.es>

I don't understand the behavior of "as.list"
(really as.list.default) on arguments which
are expressions. An artificial example:

> as.list(expression( x <- 1, y <- 2))
[[1]]
<-

[[2]]
<-

as.list.default contains the following code:

 if (is.expression(x)) {
        l <- vector("list")
        for (sub in x) l <- c(l, sub[[1]])

--- why the sub[[1]] part?

eliminating the [[1]], I get:

> my.as.list(expression( x <- 1, y <- 2))
[[1]]
x <- 1

[[2]]
y <- 2


Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Tue Nov 24 17:10:50 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Tue, 24 Nov 1998 09:10:50 -0800 (PST)
Subject: BSD style sockets for R
In-Reply-To: <x2emqtjttk.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9811240858590.8396-100000@wompom.biostat.washington.edu>


I have a very basic implementation of sockets adapted from Luke Tierney's
XLISP-Stat implementation. It will probably be in R0.64 but that could be
some time coming.  In the interim I have an R package at
	http://www.biostat.washington.edu/~thomas/sockets.tgz

It should also work with S once you work out the right compiling and
linking flags. 


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 26 13:28:12 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Nov 1998 14:28:12 +0100
Subject: hist()
In-Reply-To: <199811161627.QAA06982@toucan.stats.ox.ac.uk> (message from Prof
 Brian Ripley on Mon, 16 Nov 1998 16:27:17 +0000 (GMT))
Message-ID: <199811261328.OAA27866@sophie.ethz.ch>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes [Mon 16 Nov]:

    >> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> Date: 16 Nov
    >> 1998 14:26:38 +0100
    >> 
    >> Going over my old notes, I realised that hist() has changed since
    >> the earlier versions of R, in that the intervals are now
    >> left-open,right-closed rather than the opposite. This is a change in
    >> the direction of S-plus compatibility, but I wonder how sensible it
    >> really is.

    BDR> Since a histogram is intended to be of continuous data, it should
    BDR> not really matter. And if the data are already rounded (like ages)
    BDR> it matters how they were rounded. (One of my grandfathers would
    BDR> say he was `in his eighty-second year', so the rounding direction
    BDR> may even depend on the value.)  My example below shows that
    BDR> rounding error can play havoc with one's intentions too.

    BDR> Since cut in R has an argument `right', could not hist have too?
I agree.
    BDR> And I don't actually understand why hist.default does not call
    BDR> cut.default directly, when enhancements to cut will be easy to
    BDR> apply to hist.
yes that would be the advantage.
The current implementation, using .C("bincount",..) instead of
.C("bincode"..) is however much less memory hungry for large x
than  table(cut(...)).

    BDR> Then we can argue about the default for right. It
    BDR> seems to me that it should be the same for cut and for hist, and I
    BDR> would argue for not changing the current default (whatever it
    BDR> might have been).
the current default is the same for cut & hist, namely "right = TRUE".
I agree that it shouldn't be changed -- for mere compatibility --

The help page could/should mention that for many people,
	right = FALSE
seems more natural.

    BDR> Oh, and what do bincode and bincode2 do about rounding error?
    BDR> (Nothing, I think.) 

You are right: nothing.  [src/appl/binning.c]
However, do you think they *should* do anything at all?
If a 'break' ("cut point") is close to a data value, there's still only one
side of the break that the data value can go....

    BDR> The default breaks in cut and hist are
    BDR> computed quantities, and as we know, seq does not always get them
    BDR> exactly right.  As in:

    >> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6)
    BDR> [1] (0.249,0.35] (0.35,0.45] (0.45,0.55] (0.45,0.55] (0.55,0.65]
    BDR> [6] (0.65,0.75] (0.75,0.851]

    >> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6, right=FALSE)
    BDR> [1] [0.249,0.35) [0.35,0.45) [0.45,0.55) [0.55,0.65) [0.55,0.65)
    BDR> [6] [0.65,0.75) [0.75,0.851)

I don't think there's any real bug here:

> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6, dig.lab = 5) 
[1] (0.2494,0.3496] (0.3496,0.4498] (0.4498,0.55]   (0.4498,0.55]  
[5] (0.55,0.6502]   (0.6502,0.7504] (0.7504,0.8506]
Levels:  (0.2494,0.3496] (0.3496,0.4498] (0.4498,0.55] (0.55,0.6502] (0.6502,0.7504] (0.7504,0.8506] 

However, for the case of computed breaks (as above),
I think cut() should construct 'breaks' to which no data value is close,
i.e. the ``breaks construction'' should consider rounding problems!

Thank you for revealing this!


Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 26 13:51:37 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Nov 1998 14:51:37 +0100
Subject: Saving memory usage -- .C(....., DUP = FALSE)  danger?
Message-ID: <199811261351.OAA27891@sophie.ethz.ch>

Just found out [R 0.63, standard -v -n] :

    > rm(list=ls())
    > gc()
	     free  total
    Ncells  96538 200000
    Vcells 214008 250000
    > hist(runif(50000))
    Error: heap memory (1953 Kb) exhausted [needed 390 Kb more]

which is a bit astonishing given that I still have room for 214000 double's

    > u1 <- runif(50000)
    > u2 <- runif(50000)
    > gc()
	     free  total
    Ncells  96534 200000
    Vcells 114006 250000

debug(hist.default)  quickly revealed that the error was produced
when  .C("bincount",....) was called.

Looking at the help, 
	help(.C)
and then at the "DUP = TRUE" default argument to .C(.),
I was reminded that every argument is first copied before being passed to
bincount().

Setting the "DUP = FALSE" argument in hist.default
made it work with the above 50000 doubles.

But then I wondered ``more generally'' :

	What exactly happens / can happen when calling, e.g.,

		r <- .C("foo", x=x, y=as.double(y),  DUP = FALSE)

	Will 'x' be altered after the call to .C(*)  if in C's 
		foo(double *x, double *y)
	x is altered?
	Will 'y' be unaltered anyway, since   "as.double(y)" produces a
	a different object than 'y' anway?

I know that I could make experiments and find out,
but hopefully, one of you will know much better and explain to all
R-develers.

Really useful might be a comprehensive list of recommendations 
on when  "DUP = FALSE" is useful / advisable / detestable ...

Thank you!

Martin

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><

	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Nov 26 14:01:06 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Nov 1998 15:01:06 +0100
Subject: hist()
In-Reply-To: Martin Maechler's message of Thu, 26 Nov 1998 14:28:12 +0100
References: <199811261328.OAA27866@sophie.ethz.ch>
Message-ID: <x2ww4iwo2l.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

>     BDR> Oh, and what do bincode and bincode2 do about rounding error?
>     BDR> (Nothing, I think.) 
> 
> You are right: nothing.  [src/appl/binning.c]
> However, do you think they *should* do anything at all?
> If a 'break' ("cut point") is close to a data value, there's still only one
> side of the break that the data value can go....

I think we probably should implement a fuzz-factor here to avoid sillyness
like

> cut(0.35, breaks=seq(0,1,0.05),right=F)
[1] [0.3,0.35)
Levels:  [0,0.05) [0.05,0.1) [0.1,0.15) [0.15,0.2) [0.2,0.25) [0.25,0.3) [0.3,0.35) [0.35,0.4) [0.4,0.45) [0.45,0.5) [0.5,0.55) [0.55,0.6) [0.6,0.65) [0.65,0.7) [0.7,0.75) [0.75,0.8) [0.8,0.85) [0.85,0.9) [0.9,0.95) [0.95,1) 

..   which currently happens because 

> 0.35 - 7*0.05
[1] -5.551115e-17

This doesn't happen in Splus, but that's just because it won't do
right=F...:

>  cut(seq(0,0.5,0.05), breaks=c(0,0.1,0.2,0.3,0.4,0.5))                         [1] NA  1  1  2  2  3  4  4  4  5  5
attr(, "levels"):
[1] "0.0+ thru 0.1" "0.1+ thru 0.2" "0.2+ thru 0.3" "0.3+ thru 0.4"
[5] "0.4+ thru 0.5"

>  cut(-0.35, breaks=-rev(seq(0,1,0.05)))                                       [1] 14       
attr(, "levels"):
 [1] "-1.00+ thru -0.95" "-0.95+ thru -0.90" "-0.90+ thru -0.85"
 [4] "-0.85+ thru -0.80" "-0.80+ thru -0.75" "-0.75+ thru -0.70"
 [7] "-0.70+ thru -0.65" "-0.65+ thru -0.60" "-0.60+ thru -0.55"
[10] "-0.55+ thru -0.50" "-0.50+ thru -0.45" "-0.45+ thru -0.40"
[13] "-0.40+ thru -0.35" "-0.35+ thru -0.30" "-0.30+ thru -0.25"
[16] "-0.25+ thru -0.20" "-0.20+ thru -0.15" "-0.15+ thru -0.10"
[19] "-0.10+ thru -0.05" "-0.05+ thru  0.00"



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Nov 26 22:54:31 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 26 Nov 1998 14:54:31 -0800 (PST)
Subject: Saving memory usage -- .C(....., DUP = FALSE)  danger?
In-Reply-To: <199811261351.OAA27891@sophie.ethz.ch>
Message-ID: <Pine.GSO.4.03.9811261434290.9184-100000@wompom.biostat.washington.edu>

On Thu, 26 Nov 1998, Martin Maechler wrote:
> 
> But then I wondered ``more generally'' :
> 
> 	What exactly happens / can happen when calling, e.g.,
> 
> 		r <- .C("foo", x=x, y=as.double(y),  DUP = FALSE)
> 
> 	Will 'x' be altered after the call to .C(*)  if in C's 
> 		foo(double *x, double *y)
> 	x is altered?
> 	Will 'y' be unaltered anyway, since   "as.double(y)" produces a
> 	a different object than 'y' anway?

x will be altered, y will not.  If you want y altered then you have to
assign it to storage model "double" earlier. 

> 
> Really useful might be a comprehensive list of recommendations 
> on when  "DUP = FALSE" is useful / advisable / detestable ...
> 

Here's a start.  

DUP=FALSE is dangerous.

There are two important dangers with DUP=FALSE. The first
is that garbage collection may move the object, resulting in the pointers
pointing nowhere useful and causing hard-to-reproduce bugs.

The second is that if you pass a formal parameter of the calling function
to .C/.Fortran with DUP=FALSE I don't think it is necessarily copied. You
may be able to change not only the local variable but the variable one
level up. This will also be very hard to trace.

1) If your C/Fortran routine calls back any R function including
S_alloc/R_alloc then do not use DUP=FALSE. Don't even think about it.  
Calling almost any R function could trigger garbage collection.

2) If you don't trigger garbage collection it is safe and useful to set
DUP=FALSE if you don't change any of the variables that might be affected
	eg  .C("Cfunction",input=x,output=numeric(10))
In this case the output variable didn't exist before the call so it can't
cause trouble. If the input variable is not changed in Cfunction you are
safe.



I've commented before (but never actually done anything) that it would be
a useful intermediate step to have analogues of the Fortran 90 INTENT IN
and INTENT OUT declarations for these functions. In the example above
there is no need to copy the input back after calling Cfunction and no
need to copy the output before calling (just to allocate the space).
Something like
	.C("Cfunction",input=x,output=numeric(10),IN=c(T,F),OUT=c(F,T))
might then say to copy x and allocate uninitialised space for numeric(10),
call the function, and then copy output back again. The first component of
the result would then be NULL, saving space in the local environment as
well. These would be less efficient but less dangerous than DUP=FALSE as
you couldn't mess up R's internal structures by getting the declarations
wrong.



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From M.J.Ray@UEA.ac.uk  Mon Nov 30 10:38:22 1998
From: M.J.Ray@UEA.ac.uk (Mark J Ray)
Date: Mon, 30 Nov 1998 10:38:22 +0000
Subject: Rcgi announcement
Message-ID: <19981130103822.50123@mth.uea.ac.uk>

Dear All,

I am writing to ask if you would please test our first public release of
Rcgi, a CGI WWW interface to R.  We've added a few new tricks to what has
gone before, the most interesting of which is the ability to use "embedded
code": you can mix user input and code, allowing the HTML author to do
anything from load in data sets to enter most of the commands for users
without writing CGI scripts.  Graphical output is possible in PostScript or
GIF formats and the executed code is presented to the user for revision.

A demonstration and download is available from
	http://www.mth.uea.ac.uk/~h089/Rcgi/
We're especially interested in any comments, suggestions or improvements
that you may have.

The software requires
	- R (prefer 0.61 or later)
	- Perl 5
	- gzip tools
	- Ghostscript (for GIF output)
	- NetPBM (for GIF output)
	- A CGI-enabled web server (eg Apache)

-- 
Mark.
Stats Postgrad  mailto:M.J.Ray@UEA.ac.uk      http://wwwmjr.base.org/
UEA Norwich UK  mailto:markj@stu.uea.ac.uk  http://www.stu.uea.ac.uk/
"Software is like sex, it's better when it's free." - Linus Torvalds
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 30 18:29:39 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 30 Nov 1998 18:29:39 +0000 (GMT)
Subject: [R] R functionality
Message-ID: <199811301829.SAA07623@toucan.stats.ox.ac.uk>


> Date: Mon, 30 Nov 1998 12:07:10 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Ed Kademan <kademan@phz.com>
> 
> >Is there anything R can do that Splus can't?
> 
> Problems which require lots of looping and cannot be re-coded as vector/matrix
> operations are theoretically possible but practically infeasible in S, unless
> they  are coded in C or Fortran and called from S. These problems seem to run
> fine in R.

Some but not all. Last night I was trying to run my survival examples
in R on Windows, including a large loop or alternatively a vectorized
version using many 4000x3 matrices.  Both run happily in S-PLUS 4.5 in
about three minutes and less than 10Mb allocated. R needs a largish
heap (20Mb failed, 30Mb seemed enough) that got partially swapped out
(the machine has 32Mb RAM) and I gave up after an hour of thrashing on
the loop version, and the vectorized version seemed in far more
page-thrashing trouble. Eventually I found just the right heap size
(24Mb) to get the loop version to run in about ten minutes.  R also has
a large amount of code in memory by that stage in the computations (ca
300000 n cells used).

BTW there are enormous differences amongst S3, S-PLUS 3/4.x, S4 and
S-PLUS 5.x in this area.


From: Thomas Lumley <thomas@biostat.washington.edu>

> Some of the
> packages, because they are more recent than similar S(-PLUS) built-in
> features may be better designed (eg the tree packages from Terry Therneau
> and Brian Ripley,

To be fair, both of those went the other way, they were written as
S(-PLUS) addons and then ported (by me) to R.  The only example I am
aware of going from R to S is my (still unfinished) lqs package, which
started as a re-design of some ROBETH code and ended up much more
comprehensive than what was available for S-PLUS.

> As R is much faster on _some_ code than S-PLUS I have also done
> simulations in R that I could not do in S-PLUS. Whether this counts as an
> added feature is arguable, but it can certainly be useful.

Agreed, but as my anecdote shows, much slower on other code.  I have
done extensive timings on the same machine and I see only a very few
statistical jobs where the overall speed difference is more than two
either way (against S-PLUS 3.4/4.5: S-PLUS 5.0 is another ball game).

`Your mileage may differ.'


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 30 19:24:08 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 30 Nov 1998 14:24:08 -0500
Subject: [R] R functionality
References: <199811301829.SAA07623@toucan.stats.ox.ac.uk>
Message-ID: <98Nov30.143327est.13479@mailgate.bank-banque-canada.ca>

PG>Problems which require lots of looping and cannot be re-coded as
vector/matrix
PG> operations are theoretically possible but practically infeasible in S,
unless
PG> they  are coded in C or Fortran and called from S. These problems seem to
run
PG> fine in R.

BR>Some but not all...

TL> As R is much faster on _some_ code ...

BR>Agreed, but as my anecdote shows, much slower on other code.
BR>`Your mileage may differ.'

Well, for the record, my milage is that Splus 3.3 is generally about twice as
fast as R with Solaris 2.6 on a Sparc Ultra10 doing my standard test set of
problems. These tests call Fortran for the main loop of ARMA and state space
time series models and use Splus "For" loops (which are a real pain to debug)
for monte-carlo simulations and "For" loops calling the "For" loops (which are a
super pain to debug) for evaluating estimation techniques. In R, I use "for"
loops.

However, I've been experimenting with some other time series models which I have
not (and cannot easily) code in fortran. In R it is true that I have to tweak
the nsize and vsize. Too much will cause paging. But I can run the monte-carlo
simulations and also evaluate estimation techniques in a reasonable time. In
Splus it seems these would take years to run. Apart from setting the nsize and
vsize too large and causing paging I have not run into the situation that R is
orders of magnitude slower than Splus.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Mon Nov  2 13:00:22 1998
From: maechler@stat.math.ethz.ch (Martin Maechler)
Date: Mon, 2 Nov 1998 14:00:22 +0100
Subject: windows nt (PR#59) -- users vs. "administrator"
Message-ID: <199811021300.OAA04539@sophie.ethz.ch>


------- Start of forwarded message -------

From: christoph.kalinowski@biostat.ku.dk
Date: Mon, 2 Nov 1998 13:41:54 +0100
To: R-core@stat.math.ethz.ch
Subject: windows nt (PR#59)
CC: R-bugs@biostat.ku.dk

Full_Name: Christoph Kalinowski
Version: 0.62 Beta (June 9, 1998)
OS: WINDOWS NT
Submission from: 141.78.128.14 (141.78.128.14)


Hello everyone,
I tried the R windows version RJune on a windows nt system
and the following problem occured: when I login as 'main user', 
the error message 'couldn't allocate memory' appears and the 
command window dissapears directly. When I login as 'administrator' 
there are no problems. Does anyone know how to configure R 
(or windows nt?) so that users can start it?

CHRISTOPH
------- End of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov  4 21:32:26 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 4 Nov 1998 16:32:26 -0500
Subject: RNG
Message-ID: <98Nov4.163830est.13461@mailgate.bank-banque-canada.ca>

On r-help Bill Simpson wrote:

>Marsaglia's multiply-with-carry generator is very easy to implement--he
>has posted some C code to newsgroups--and seems to test out OK. I wonder
>if it would make sense to use one of his generators instead.

I would like a system where the random number generator can be specified
(perhaps in options or a .RandomGenerator variable). Most often everyone wants
to use the best RNG available, but in order to reproduce results and check code
it is important to use the one which was used to produce the original results.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov  4 22:10:16 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Nov 1998 22:10:16 +0000 (GMT)
Subject: RNG
In-Reply-To: <98Nov4.163830est.13461@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.3.96.981104215730.7508B-100000@toucan.stats>

On Wed, 4 Nov 1998, Paul Gilbert wrote:

> On r-help Bill Simpson wrote:
> 
[Comment about the existing generator: yes it has been tested both
theoretically and empirically, and yes it seem to be fine: it just has no
claims to be good of its type, or `efficient' (see the paper title).]


> >Marsaglia's multiply-with-carry generator is very easy to implement--he
> >has posted some C code to newsgroups--and seems to test out OK. I wonder
> >if it would make sense to use one of his generators instead.

Yes, but most generators seem to test out OK, but quite a few of those
that do have been proven to be disasters. Given George Marsaglia's
eminence, these are probably fine, but there are no theoretical results to
my knowledge, and I prefer to use generators that are known to have good
properties in modest numbers of dimensions.
 
> I would like a system where the random number generator can be specified
> (perhaps in options or a .RandomGenerator variable). Most often everyone wants
> to use the best RNG available, but in order to reproduce results and check code
> it is important to use the one which was used to produce the original results.

Well, for most people using an interpreted language like R, most PRNGs are
quite good enough. Compiled code on massively parallel supercomputers is
another game altogether.  Paul's argument is a very good one not to change
what is there (and my reason for not supplying better ones to Allan Wilks
for S in the early 1990s or to R-core). But beware: it is not just the
PRNG but all the variate generators that needs to be unchanged, and large
simulations may well depend on rounding errors and so not be reproducible
except on the same version of R compiled on the same compiler. 

I think a decent API for random-number generators is quite hard to
do: what is the structure for the seeds, for example?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Nov  5 15:12:38 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 5 Nov 1998 16:12:38 +0100 (CET)
Subject: CRAN now also rsync-able
Message-ID: <13889.49254.725359.615258@galadriel.ci.tuwien.ac.at>


Following a suggestion by Doug Bates (half a year ago or so ...) I
have set up an experimental rsync server for CRAN, i.e., it is now
also possible to mirror CRAN using rsync for those who prefer it.

The command

	rsync -rl ftp.tuwien.ac.at::CRAN /destination/dir

should copy the complete CRAN ftp area into /destination/dir.

Any comments on wether the server works are appreciated.

I'm not an rsync expert, so I'm not sure if -rl is the right
combination of options, but it seems to work for me (probably one also
needs --delete to remove files that are not on CRAN anymore) ... I'm
currently trying to learn rsync myself ... 

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  5 15:19:42 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 5 Nov 1998 10:19:42 -0500
Subject: RNG
References: <Pine.GSO.3.96.981104215730.7508B-100000@toucan.stats>
Message-ID: <98Nov5.102603est.13448@mailgate.bank-banque-canada.ca>

Brian Ripley writes:

>But beware: it is not just the
>PRNG but all the variate generators that needs to be unchanged, and large
>simulations may well depend on rounding errors

I can certainly attest to this. One undocumented change between Splus 3.1 and
3.2 (or 3.2 and 3.3 maybe) was a change in the link libraries, resulting in a
very small change in the values of normally distributed random numbers. It took
me a very long time to discovery why I couldn't reproduce some results. (They
also dropped zeros from the uniform but that was more obvious.)

>and so not be reproducible
>except on the same version of R compiled on the same compiler.

Despite my above comment I've had very good luck in this regard. Since the
change in the RNG about R 0.49 I've been able to reproduce results to within
reasonable tolerances on Sun4, Sun5 and Linux (although I haven't tried linux
recently.)

>I think a decent API for random-number generators is quite hard to
>do: what is the structure for the seeds, for example?

Martin Maechler and I discussed this some time ago and as I recall there are a
few non-trivial issues. I think the seed would have to be specific to the
generator, or perhaps it would be possible to have a "universal seed" which can
be used to generate the seed for a specific generator. Then any new generator
would need to come with a method for generating its seed from the universal one.

One of my interests in this is to be able to produce the same random numbers in
S, Splus, and R, so that I don't need to have different versions of my test
programs. For this I don't need to use the Splus generator but I need to put a
"wrapper" around the generator so that I can do the same thing in Splus.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Nov  6 06:59:22 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 6 Nov 1998 07:59:22 +0100 (CET)
Subject: CRAN now also rsync-able
In-Reply-To: <6r67cuf61v.fsf@verdi.stat.wisc.edu>
References: <13889.49254.725359.615258@galadriel.ci.tuwien.ac.at>
 <6r67cuf61v.fsf@verdi.stat.wisc.edu>
Message-ID: <13890.40522.864860.633981@galadriel.ci.tuwien.ac.at>

>>>>> On 05 Nov 1998 10:38:52 -0600,
>>>>> Douglas Bates (DB) wrote:

DB> Thanks very much for doing that, Fritz.
>>>>> "Fritz" == Friedrich Leisch <Friedrich.Leisch@ci.tuwien.ac.at> writes:

Fritz> Following a suggestion by Doug Bates (half a year ago or so
Fritz> ...) I have set up an experimental rsync server for CRAN,
Fritz> i.e., it is now also possible to mirror CRAN using rsync for
Fritz> those who prefer it.

Fritz> The command

Fritz> rsync -rl ftp.tuwien.ac.at::CRAN /destination/dir

Fritz> should copy the complete CRAN ftp area into /destination/dir.

Fritz> Any comments on wether the server works are appreciated.

DB> Still a few bugs in the system.  Here's what I get

DB>  $ rsync -rl ftp.tuwien.ac.at::CRAN R


Oooops ... make that ftp.ci.tuwien.ac.at of course ... sorry!
                        ^^^^
Fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov  6 22:29:52 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 06 Nov 1998 16:29:52 -0600
Subject: Using rsync against CRAN master
Message-ID: <6ru30cmp3z.fsf@verdi.stat.wisc.edu>

Thanks to Fritz for installing anonymous rsync on the master CRAN
site.  Rsync has many advantages over mirror scripts for mirroring the
archive.

I now update my mirror with a crontab entry like
	rsync -vrlt ftp.ci.tuwien.ac.at::CRAN /home/ftp/pub/R
where /home/ftp/pub/R is the location of my mirror.

I would add -t to the switches that Fritz listed.  This sets the file
modification times to match those on the master site and makes it
easier to see what is newer.  The -v gives you verbose output.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Nov  8 16:34:12 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 8 Nov 1998 17:34:12 +0100
Subject: Strange behaviour of lm
Message-ID: <19981108173412.A2033@sirio.stat.unipd.it>

R-0.62.4 running under linux
-------------------------------------------------------------------------------
> x <- rnorm(10)
> lm(x~x)
Error: length of namelist must equal dims
> x <- c(1,2,3)
> lm(x~x)

Call:
lm(formula = x ~ x)

Coefficients:
(Intercept)
          2
	  
> y <- x
> lm(y~x)
  
Call:
lm(formula = y ~ x)
	  
Coefficients:
(Intercept)            x
          0            1
	  
------------------------------------------------------------------------------
guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Nov  8 22:19:20 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 1998 23:19:20 +0100
Subject: Strange behaviour of lm
In-Reply-To: Guido Masarotto's message of Sun, 8 Nov 1998 17:34:12 +0100
References: <19981108173412.A2033@sirio.stat.unipd.it>
Message-ID: <x24ss9rfo7.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> R-0.62.4 running under linux
> -------------------------------------------------------------------------------
> > x <- rnorm(10)
> > lm(x~x)
> Error: length of namelist must equal dims

That one is a bug...

> > x <- c(1,2,3)
> > lm(x~x)
> 
> Call:
> lm(formula = x ~ x)
> 
> Coefficients:
> (Intercept)
>           2
> 	  
> > y <- x
> > lm(y~x)
>   
> Call:
> lm(formula = y ~ x)
> 	  
> Coefficients:
> (Intercept)            x
>           0            1

...but the rest is Splus compatible. The dependent is removed from the
right hand side of model formulas. I seem to remember that there's a
reason for that.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov  9 01:02:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 1998 02:02:25 +0100
Subject: Strange behaviour of lm
In-Reply-To: Peter Dalgaard BSA's message of 08 Nov 1998 23:19:20 +0100
References: <19981108173412.A2033@sirio.stat.unipd.it> <x24ss9rfo7.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2r9vdbrvi.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Guido Masarotto <guido@sirio.stat.unipd.it> writes:
> 
> > R-0.62.4 running under linux
> > -------------------------------------------------------------------------------
> > > x <- rnorm(10)
> > > lm(x~x)
> > Error: length of namelist must equal dims
> 
> That one is a bug...

.. which is now fixed for 0.63:

> x <- rnorm(10)
>  lm(x~x)

Call:
lm(formula = x ~ x)

Coefficients:
(Intercept)  
    -0.5668  


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov  9 14:34:35 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 9 Nov 1998 15:34:35 +0100
Subject: Proposal for discussion:  COLNAMES & ROWNAMES
Message-ID: <199811091434.PAA11456@sophie.ethz.ch>

Looking into several different parts of  R../src/library/base/R/*.R
has led me to the conclusion
that quite a bit of code doubling could be saved by using the following two
functions whose naming philosophy is derived from that of  NROW() & NCOL():

  COLNAMES <- function(x)
      if(is.null(n <- colnames(x))) paste(seq(length=NCOL(x))) else n
  ROWNAMES <- function(x)
      if(is.null(n <- rownames(x))) paste(seq(length=NCOL(x))) else n

Do you have any positive or negative thoughts on this?
[a negative one that I had: ``yet another set of such *names functions !'']
Maybe, replying only to me -- who then would summarize -- is okay.

Martin
Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mai@ms.uky.edu  Mon Nov  9 15:59:48 1998
From: mai@ms.uky.edu (Mai Zhou)
Date: Mon, 9 Nov 1998 10:59:48 -0500 (EST)
Subject: no subject (file transmission)
Message-ID: <199811091559.KAA04488@t3.mscf.uky.edu>

RNG in R and Splus 3.4

Prof. Ripley asked the details of the example. 
We were doing parametric bootstrap, so it is similar to simulation.
Anyway here is the details.

We start with a sample of 19 positive numbers. We know the sample
is from truncated exp(0.3)...only the truncation point, theta, is unknown.

In other words, the sample can be generated from something like

x1 <- rexp(100, rate=0.3)
x2 <- x1[x1<theta]     # the theta are big enough so that length(x2)>19
x3 <- x2[1:19]

And the true theta was 4, hidden from the students.
The estimate of theta from that particular sample was 3.87058501, 
the max of the sample.

Next we wanted to estimate the bias of the max, using bootstrap.
We did this:   

y1<-rexp(4000, rate=0.3)
y2<- y1[y1<3.87058501]
length(y2)  # to make sure y2 is longer than 1900 or whatever..so we are not
            # recycling 
y3<-y2[1:1900]               

# now y3 contains 100 bootstrap samples of 19 each

y4 <- matrix(y3, ncol=19, byrow=T) # actually some of students did
                                   # y4 <- t( matrix(y3, ncol=100) ) 
maxboot <- apply(y4, 1, max)
biasboot <- mean(maxboot) - 3.87058501

We did this for more than 100 runs, depend how much memory you have on your
machine, you can try put a few zeros to the above code. but you get the idea. 
The final result, biasboot, is very different when using R or Splus 3.4
Roughly 2 times (biasboot from R) = (biasboot from Splus 3.4) 
In this particula case the bias was 3.87058501-4. R seem to be better
than Splus which give a biasboot that is too small (or too big in abs value)
But more analysis using simulation reveals otherwise.

We then tried the simulation and that was reported earlier....

We use Rjune on the Win95 and Win NT machine. 

Mai Z
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov  9 16:33:02 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 9 Nov 1998 17:33:02 +0100
Subject: Proposal for discussion:  COLNAMES & ROWNAMES
In-Reply-To: <98Nov9.112254est.13464@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Mon, 9 Nov 1998 11:14:21 -0500)
References: <199811091434.PAA11456@sophie.ethz.ch> <98Nov9.112254est.13464@mailgate.bank-banque-canada.ca>
Message-ID: <199811091633.RAA17985@sophie.ethz.ch>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    MM> COLNAMES <- function(x)
    MM>      if(is.null(n <- colnames(x))) paste(seq(length=NCOL(x))) else n
    MM> ROWNAMES <- function(x)
    MM>      if(is.null(n <- rownames(x))) paste(seq(length=NCOL(x))) else n

    MM> Do you have any positive or negative thoughts on this?

    PaulG> Here are a few thoughts.

thank you!

    PaulG> 0/ In ROWNAMES use NROW

oh yes !

    PaulG> 1/ You might try do this in some way that generalizes more
    PaulG> easily to arrays, but I'm not sure how.

this would mean DIMNAMES, presumably.

    PaulG> 2/ You might want paste("col", seq(length=NCOL(x))) instead of
    PaulG> just the numbers.

Not directly;
    In the places I've seen a possible use, 
    sometimes there was "var", sometimes "..." (forgotten), sometimes no
    prefix at all.  

However, we could add an optional argument `prefix', 
even with sensible defaults: 

    COLNAMES <- function(x, prefix = "col")
	if(is.null(n <- colnames(x)))
		paste(prefix, seq(length=NCOL(x)), sep="") else n
    ROWNAMES <- function(x, prefix = "row")
	if(is.null(n <- rownames(x)))
		paste(prefix, seq(length=NROW(x)), sep="") else n
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Nov  9 17:16:27 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 9 Nov 1998 09:16:27 -0800 (PST)
Subject: reported ?RNG bug
In-Reply-To: <199811091559.KAA04488@t3.mscf.uky.edu>
Message-ID: <Pine.GSO.4.03.9811090902370.4099-100000@wompom.biostat.washington.edu>

On Mon, 9 Nov 1998, Mai Zhou wrote:

> RNG in R and Splus 3.4
> 
> Prof. Ripley asked the details of the example. 
> We were doing parametric bootstrap, so it is similar to simulation.
> Anyway here is the details.

The following code replicates this without needing any specific
hand-coding of numbers each time it is run (except for the slight chance
that y2 will be shorter than 1900 elements)

  x1 <- rexp(100, rate=0.3)
  theta<-4
  x2 <- x1[x1<theta] 
  x3 <- x2[1:19]
  y1<-rexp(4000, rate=0.3)
  y2<-y1[y1< max(x3)]
  y3<-y2[1:1900]   
  y4 <- matrix(y3, ncol=19, byrow=T)
  maxboot <- apply(y4, 1, max)
  biasboot <- mean(maxboot) - max(x3)  
  biasboot

I ran this 1000 times on S-PLUS 3.4 for Solaris, Rpre0.63 for Solaris,
Guido's R 0.61.3 for Windows (NT)  and R0.61.3 for Linux (the oldest R I
have lying around) and got

S-PLUS 		-0.3040023
Rpre0.63	-0.3083820
R 0.61.3	-0.3054932
WinNT	 	-0.307758

I don't have easy access to RJune, but it seems that on the other current
and recent Rs the example works consistently.

Anyone else tried this on RJune?

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From osman.buyukisik@ae.ge.com  Tue Nov 10 18:02:28 1998
From: osman.buyukisik@ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Tue, 10 Nov 1998 13:02:28 -0500 (EST)
Subject: Nov 5 R-devel build on hpux10.20
Message-ID: <13896.31773.918159.804373@c1186.ae.ge.com>

	{Osman, I see that you are now in R-devel; your message to
	 R-help bounced, because of XsubscribeX (w/o "X") in text. 
	 	 Martin Maechler; list manager}

 I grabbed the nov 5 devel tarball and built the system. I had to make 
hand changes to "readline" stuff. I also had to change build-help mod
to +x. Now library(xxx) is not working. I had to change eda and mva
zzz.R files by hand so that shared lib ext was set to ".sl" not ".so".
Still I can't get it to work. 

R : Copyright 1998, The R Development Core Team
Version 0.63.0 Unstable (November 5, 1998)
....

> library(mva)
Error: dynamic library `mva.sl' not found

but if I do :
> dyn.load("/home/xxxxx/local/share/R/library/mva/libs/mva.sl")

it loads OK.  

Is the initial env hosed?  I could not step thru the library
routine. Debug does not step into the "if" braces.  
> library()
Packages in library `/home/xxxxx/local/share/R/library':

base            The R base package
eda             Exploratory Data Analysis
modreg          Modern regression: smoothing and local methods
mva             Classical Multivariate Analysis
stepfun         Step Functions, including Empirical Distributions

-osman

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Wed Nov 11 17:56:48 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 11 Nov 1998 18:56:48 +0100
Subject: Clipping and (device)_Text
Message-ID: <19981111185648.A8464@sirio.stat.unipd.it>

I observed that my graphapp device (the one I used under Windows) behaves
in a different way from the X11 device when a text(...) command is issued.

My first example was using the Brian Ripley's tree package under Windows.
After
> data(iris)
> ir.tr <- tree(Species~.,iris)
> plot(ir.tr)
> text(ir.tr)
I had a "setosa" on the left with only half of the first 's' and a virginica
on the right with only half of the 'a' shown.

Problem seems to be that in my device text(...) is clipped. Indeed
> plot(1:10)
> text(-0.5,3,"some dots.........................................",adj=c(0,0))
under Windows shows the string clipped
in the 'plotting region' (inside the rectangle of the plotted axes);
on the contrary, the full string is shown under Unix.

In a first moment, I though that the clipping region should be restored
to the full device every time a command is completed, i.e, in the
previous case after the plot(1:10). This works for  text(...)
commands but not for other drawing commands. 
For example, then I observed that
> plot(SomeData)
> lines(lowess(SomeData))
> abline(c(0,1))
gives problems (the `abline' line extends outside the 'plotting
region' -> clipping is supposed to be 'passed' from a drawing 
command to the next one; is this right?).

Next, since I found the following comments in devX11.c
       /* Device capabilities */
       /* Clipping is problematic for X11 */
       /* Graphics is clipped, text is not */  
       .....................................
       dd->dp.canClip = 1;        


I simple disabled clipping in (device)_Text(...).

Now, all seems ok; examples before, demo(graphics),....
But, in this way, (device)_Text never 'clips'.
                                ~~~~~
Is this correct? Or I must reintroduce clipping in
(device)_Text and set dd->dp.canClip to a values different
from 1 to advise the graphics engine that my device
clip text, too?

Thanks,
g.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 12 09:33:54 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 12 Nov 1998 10:33:54 +0100
Subject: [COL/ROW]NAMES -> [col/row]names with new arg..
In-Reply-To: <199811120909.KAA10692@sophie.ethz.ch> (message from Martin
 Maechler on Thu, 12 Nov 1998 10:09:47 +0100)
Message-ID: <199811120933.KAA10735@sophie.ethz.ch>

R-devel subscribers:  this came from R-core,
		      but may interest you....

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:

>>>>> "Ross" == Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:
    Ross> Martin Maechler writes:
    >>> Actually, I've been thinking (and asking Kurt) if we shouldn't use
    >>> 
    >>> 'variable.names' and 'case.names' with a new logical argument that
    >>> allows to coerce a [col/row]names character vector (instead of
    >>> NULL) { Kurt suggested something along case.names(x,
    >>> construct.char.vector.if.NULL = FALSE) } instead of introducing yet
    >>> another two functions.
    >>> 
    >>> If you think I should do the change, I'll do it -- still before
    >>> release.
    >>> 
    >>> Once COLNAMES & ROWNAMES are introduced, it will be more of a pain
    >>> to deprecate them again....

    Ross> As someone who has introduced new functions (and later regretted
    Ross> it) I'd say that you sould resist the temptation to introduce
    Ross> COLNAMES and ROWNAMES if at all possible.

    Ross> Would it be possible to just change the behavior of the current
    Ross> rownames and colnames?  I don't imagine that it would break much.

    MM> Ok, I'll do this

    MM> 	colnames(x, char.return = FALSE, prefix = "col")
    MM> 	rownames(x, char.return = FALSE, prefix = "row")

Or would
	 	colnames(x, maybe.NULL = TRUE, prefix = "col")
	 	rownames(x, maybe.NULL = TRUE, prefix = "row")
even preferable?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov 16 13:26:38 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 1998 14:26:38 +0100
Subject: hist()
Message-ID: <x27lwvwyy9.fsf@blueberry.kubism.ku.dk>

Going over my old notes, I realised that hist() has changed since the
earlier versions of R, in that the intervals are now
left-open,right-closed rather than the opposite. This is a change in
the direction of S-plus compatibility, but I wonder how sensible it
really is.

The main problem is with ages, where you'd naturally take age 17 as
representing something between 17 and 18, but:

> brk<-c(15,16,17,18)
> print(hist(17,breaks=brk,plot=F))
$breaks
[1] 15 16 17 18

$counts
[1] 0 1 0

$intensities
[1] 0 1 0

$mids
[1] 15.5 16.5 17.5

so a 17-yo gets put in the 16-17 bracket..

The workaround is to add a small number to the data or subtract it
from the breakpoints, but I still wonder whether the behaviour
shouldn't be changed (generally, or with an option). R's hist() has a
couple of improvements over Splus already, particularly a different
default in the case of non-equidistant breaks.

[hist() returning an invisible result even with plot=F is also a bug,
but that's more easily fixed]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Mon Nov 16 14:29:40 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Mon, 16 Nov 1998 08:29:40 -0600 (CST)
Subject: hist()
In-Reply-To: <x27lwvwyy9.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.95.981116082853.10219A-100000@io.uwinnipeg.ca>

In my opinion, S-Plus or not, the bins should be
left-up-to-but-not-including-right.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 16 15:45:48 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 16 Nov 1998 10:45:48 -0500
Subject: Solaris make for 0.63 failing
Message-ID: <98Nov16.105756est.13479@mailgate.bank-banque-canada.ca>

I shouldn't try to do this on Monday morning. Can anyone suggest why the make
for R 0.63 is failing for me under Solaris (SunOS 5.6).

Paul Gilbert
...
creating src/scripts/html2dos
creating tests/Makefile
creating tests/Examples/Makefile
creating src/include/Platform.h

R is now configured for sparc-sun-solaris2.6

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc -g -O2
  FORTRAN compiler:         g77 -O2

[15] /home/res4/gilp/R : make
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
[16] /home/res4/gilp/R : make install
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'

...
[31] /home/res4/gilp/R-versions/R-0.63 : make -d
MAKEFLAGS value:
  Building all because it is out of date relative to Makefile
    Building stamp-R because it is out of date relative to
src/include/Platform.h
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
[32] /home/res4/gilp/R-versions/R-0.63 :

...
[32] /home/res4/gilp/R-versions/R-0.63 : make -dd
MAKEFLAGS value:
stat(make.rules)
doname(make.rules)
 Looking for % rule for make.rules
 find_double_suffix_rule(make.rules)
 find_suffix_rule(make.rules,make.rules,)
 stat(SCCS)
stat(/usr/share/lib/make/make.rules)
doname(/usr/share/lib/make/make.rules)
 Looking for % rule for /usr/share/lib/make/make.rules
 find_double_suffix_rule(/usr/share/lib/make/make.rules)
 find_suffix_rule(/usr/share/lib/make/make.rules,/usr/share/lib/make/make.rules,)

 stat(/usr/share/lib/make/SCCS)
SUFFIXES= .o .c .c~ .cc .cc~ .y .y~ .l .l~ .s .s~ .sh .sh~ .S .S~ .ln  .h .h~ .f
.f~ .F .F~  .mod .mod~ .sym .def .def~ .p .p~ .r .r~  .f90 .f90~ .ftn .ftn~ .cps
.cps~ .C .C~ .Y .Y~ .L .L~
OUTPUT_OPTION =
CC= cc
CFLAGS =
CPPFLAGS =
LINT= lint
LINTFLAGS =
COMPILE.c= $(CC) $(CFLAGS) $(CPPFLAGS) -c
LINK.c= $(CC) $(CFLAGS) $(CPPFLAGS) $(LDFLAGS)
LINT.c= $(LINT) $(LINTFLAGS) $(CPPFLAGS)
YACC= yacc
YFLAGS =
YACC.y= $(YACC) $(YFLAGS)
LEX= lex
LFLAGS =
LEX.l= $(LEX) $(LFLAGS) -t
CCC= CC
CCFLAGS =
COMPILE.cc= $(CCC) $(CCFLAGS) $(CPPFLAGS)  -c
LINK.cc= $(CCC) $(CCFLAGS) $(CPPFLAGS) $(LDFLAGS)
COMPILE.C= $(CCC) $(CCFLAGS) $(CPPFLAGS)  -c
LINK.C= $(CCC) $(CCFLAGS) $(CPPFLAGS) $(LDFLAGS)
FC= f77
F77= f77
FFLAGS =
COMPILE.f= $(FC) $(FFLAGS)  -c
LINK.f= $(FC) $(FFLAGS) $(LDFLAGS)
COMPILE.F= $(FC) $(FFLAGS) $(CPPFLAGS)  -c
LINK.F= $(FC) $(FFLAGS) $(CPPFLAGS) $(LDFLAGS)
RFLAGS =
COMPILE.r= $(FC) $(FFLAGS) $(RFLAGS)  -c
LINK.r= $(FC) $(FFLAGS) $(RFLAGS) $(LDFLAGS)
F90C= f90
F90FLAGS =
COMPILE.f90= $(F90C) $(F90FLAGS) -c
LINK.f90= $(F90C) $(F90FLAGS) $(LDFLAGS)
COMPILE.ftn= $(F90C) $(F90FLAGS) -c
LINK.ftn= $(F90C) $(F90FLAGS) $(LDFLAGS)
M2C= m2c
M2FLAGS =
MODFLAGS =
DEFFLAGS =
COMPILE.def= $(M2C) $(M2FLAGS) $(DEFFLAGS)
COMPILE.mod= $(M2C) $(M2FLAGS) $(MODFLAGS)
PC= pc
PFLAGS =
COMPILE.p= $(PC) $(PFLAGS) $(CPPFLAGS)  -c
LINK.p= $(PC) $(PFLAGS) $(CPPFLAGS) $(LDFLAGS)
AS= as
ASFLAGS =
COMPILE.s= $(AS) $(ASFLAGS)
COMPILE.S= $(CC) $(ASFLAGS) $(CPPFLAGS)  -c
CPS= cps
CPSFLAGS =
LD= ld
LDFLAGS =
LDLIBS =
MAKE= make
RM= rm -f
AR= ar
ARFLAGS= rv
GET= get
GFLAGS =
SCCSFLAGS =
SCCSGETFLAGS= -s
MAKE= make
MANPATH=
/usr/man:/apps/res/man:/home/res/public/gnu/man:/apps/res/unix/modula_2_2.2/man
DTDATABASESEARCHPATH=
/home/res/gilp/.dt/types,/etc/dt/appconfig/types/%L,/etc/dt/appconfig/types/C,/usr/dt/appconfig/types/%L,/usr/dt/appconfig/types/C

DTXSERVERLOCATION= local
LANG= en_CA
HELPPATH= /usr/openwin/lib/locale:/usr/openwin/lib/help
DTSOURCEPROFILE= true
LC_MONETARY= en_CA
OLWMMENU= /apps/res/unix/owmenu/openwin-menu.generic
LC_TIME= en_CA
PATH=
/usr/bin:/usr/sbin:/usr/dt/bin:/usr/openwin/bin:/home/res/gilp/bin:.:/apps/res/bin:/home/res/qpm/procedures:/usr/ccs/bin:/home/res/public/gnu/sun5.6/bin:/apps/res/unix/openwin/bin

AB_CARDCATALOG= /usr/dt/share/answerbooks/en_CA/ab_cardcatalog
DTUSERSESSION= gilp-res98540-0
XMICONBMSEARCHPATH=
/home/res/gilp/.dt/icons/%B%M.bm:/home/res/gilp/.dt/icons/%B%M.pm:/home/res/gilp/.dt/icons/%B:/usr/dt/appconfig/icons/%L/%B%M.bm:/usr/dt/appconfig/icons/%L/%B%M.pm:/usr/dt/appconfig/icons/%L/%B:/usr/dt/appconfig/icons/C/%B%M.bm:/usr/dt/appconfig/icons/C/%B%M.pm:/usr/dt/appconfig/icons/C/%B

SESSION_SVR= res98540
OPENWINHOME= /apps/res/unix/openwin
EDITOR= /usr/dt/bin/dtpad
LOGNAME= gilp
DTSCREENSAVERLIST= StartDtscreenSwarm StartDtscreenQix     StartDtscreenFlame
StartDtscreenHop StartDtscreenImage StartDtscreenLife     StartDtscreenRotor
StartDtscreenPyro StartDtscreenWorm StartDtscreenBlank
MAIL= /var/mail/gilp
USER= gilp
LC_MESSAGES= en_CA
LC_CTYPE= en_CA
DISPLAY= :0.0
DTAPPSEARCHPATH=
/home/res/gilp/.dt/appmanager:/etc/dt/appconfig/appmanager/%L:/etc/dt/appconfig/appmanager/C:/usr/dt/appconfig/appmanager/%L:/usr/dt/appconfig/appmanager/C

HOME= /home/res/gilp
XFILESEARCHPATH= /usr/openwin/lib/locale/%L/%T/%N%S:/usr/openwin/lib/%T/%N%S
LC_COLLATE= en_CA
LC_NUMERIC= en_CA
XMICONSEARCHPATH=
/home/res/gilp/.dt/icons/%B%M.pm:/home/res/gilp/.dt/icons/%B%M.bm:/home/res/gilp/.dt/icons/%B:/usr/dt/appconfig/icons/%L/%B%M.pm:/usr/dt/appconfig/icons/%L/%B%M.bm:/usr/dt/appconfig/icons/%L/%B:/usr/dt/appconfig/icons/C/%B%M.pm:/usr/dt/appconfig/icons/C/%B%M.bm:/usr/dt/appconfig/icons/C/%B

TERM= sun-cmd
dtstart_sessionlogfile= /dev/null
TZ= Canada/Eastern
MENUDIR= /apps/res/unix/owmenu
DTHELPSEARCHPATH=
/home/res/gilp/.dt/help/gilp-res98540-0/%H:/home/res/gilp/.dt/help/gilp-res98540-0/%H.sdl:/home/res/gilp/.dt/help/gilp-res98540-0/%H.hv:/home/res/gilp/.dt/help/%H:/home/res/gilp/.dt/help/%H.sdl:/home/res/gilp/.dt/help/%H.hv:/usr/dt/appconfig/help/%L/%H:/usr/dt/appconfig/help/%L/%H.sdl:/usr/dt/appconfig/help/%L/%H.hv:/usr/dt/appconfig/help/C/%H:/usr/dt/appconfig/help/C/%H.sdl:/usr/dt/appconfig/help/C/%H.hv

XMBINDDIR= /usr/dt/lib/bindings
PADI= /home/res/gilp/padi/my.production
RHOME= /home/res/gilp/R
RLIBS= /home/res/gilp/dse/pub/Rdse/rlibs:/home/res/gilp/padi/my.production/rlibs

FAME= /apps/res/unix/fame77s
LM_LICENSE_FILE= /apps/asd/lang/SunTech_License/license.dat
GCC_EXEC_PREFIX=
/home/res/public/gnu/sun5.6/lib/gcc-lib/sparc-sun-solaris2.6/2.8.1/
LD_LIBRARY_PATH= /usr/openwin/lib:/home/res/mose/mr/oai/lib
MENU= /home/res/public/MENU
WINDOWID= 71303222
TERMINAL_EMULATOR= dtterm
PWD= /home/res4/gilp/R-versions/R-0.63
WINDOW_TERMIOS =
TERMCAP= sun-cmd:te=\E[>4h:ti=\E[>4l:tc=sun:
NLSPATH=
/usr/ccs/bin/../lib/locale/%L/LC_MESSAGES/%N.cat:/usr/ccs/bin/../lib/locale/C/LC_MESSAGES/%N.cat:/usr/ccs/bin/../../lib/locale/%L/LC_MESSAGES/%N.cat:/usr/ccs/bin/../../lib/locale/C/LC_MESSAGES/%N.cat

VIRTUAL_ROOT= /
MFLAGS= -dd
MAKEFLAGS= -dd
stat(Makefile)
doname(Makefile)
 Looking for % rule for Makefile
 find_double_suffix_rule(Makefile)
 find_suffix_rule(Makefile,Makefile,)
srcdir= .
top_srcdir= .
top_builddir= .
stat(./Makeconf)
doname(./Makeconf)
 Looking for % rule for ./Makeconf
 find_double_suffix_rule(./Makeconf)
 find_suffix_rule(./Makeconf,./Makeconf,)
PACKAGE= R
VERSION= 0.63.0
AR= ar
BLAS= blas.o
CC= gcc
CFLAGS= -g -O2
CPICFLAGS= -fPIC
CPPFLAGS= -I../include -I$(top_srcdir)/src/include
DLLFLAGS =
DVIPS= /apps/res/bin/dvips
FC= g77
F77= g77
FFLAGS= -O2
FPICFLAGS= -fPIC
F2C =
F2CFLAGS =
INSTALL= $(top_srcdir)/aux/install-sh -c
INSTALL_DATA= ${INSTALL} -m 644
INSTALL_PROGRAM= ${INSTALL}
INSTALL_DIR= ${INSTALL} -d
LATEX= /apps/res/bin/latex
LDCMD= g77
LDFLAGS =
LIBS= -ldl -ltermcap -lm
LN_S= ln -s
MAKEINDEX= false
MKINSTALLDIRS= $(top_srcdir)/aux/mkinstalldirs
RANLIB= ranlib
SHELL= /bin/sh
SHLIBEXT= so
SHLIBLD= ld
SHLIBLDFLAGS= -G
TAR= tar
X_CFLAGS= -I/usr/openwin/include
X_LIBS= -L/usr/openwin/lib -R/usr/openwin/lib -lX11
X_PRE_LIBS= -lSM -lICE
X_EXTRA_LIBS= -lsocket  -lnsl
YACC= yacc
prefix= /usr/local
exec_prefix= ${prefix}
bindir= ${exec_prefix}/bin
datadir= ${prefix}/share
libdir= ${exec_prefix}/lib
mandir= ${prefix}/man
rhome= ${prefix}/share/R
distdir= $(PACKAGE)-$(VERSION)
DISTFILES= COPYING COPYRIGHTS INSTALL MIRROR-SITES NEWS PLATFORMS  PROJECTS
README RESOURCES TASKS  Makeconf.in Makefile.in  config.site configure
configure.in configure.mac configure.win  date-stamp
SUBDIRS= src afm demos doc etc tests
GZIP= --best
stat(.INIT)
doname(.INIT)
 Looking for % rule for .INIT
 find_double_suffix_rule(.INIT)
 stat(all)
 doname(all)
@ =
  doname(Makefile)
@ =
   find_double_suffix_rule(Makefile)
   find_suffix_rule(Makefile,Makefile,)
   build_suffix_list() .c .f
   Trying Makefile.c
   Trying Makefile.f
  Date(Makefile)=Mon 16 Nov 1998 10:01:29 AM EST EST
  Building all because it is out of date relative to Makefile
  stat(R)
  doname(R)
@ =
   stat(stamp-R)
   doname(stamp-R)
@ =
    stat(src/include/Platform.h)
    doname(src/include/Platform.h)
@ =
     stat(date-stamp)
     doname(date-stamp)
      Looking for % rule for date-stamp
      find_double_suffix_rule(date-stamp)
      find_suffix_rule(date-stamp,date-stamp,)
      Trying date-stamp.c
      Trying date-stamp.f
     Date(date-stamp)=Fri 13 Nov 1998 06:01:00 AM EST EST
     find_double_suffix_rule(src/include/Platform.h)
    Date(src/include/Platform.h)=Mon 16 Nov 1998 10:01:49 AM EST EST
    Building stamp-R because it is out of date relative to
src/include/Platform.h
    stat(src/*/*.[chfy])
    doname(src/*/*.[chfy])
     Looking for % rule for src/*/*.[chfy]
     find_double_suffix_rule(src/*/*.[chfy])
     find_suffix_rule(src/*/*.[chfy],src/*/*.[chfy],)
     Trying src/*/*.[chfy].c
     Trying src/*/*.[chfy].f
    doname(src/*/*.[chfy])
     Looking for % rule for src/*/*.[chfy]
     find_double_suffix_rule(src/*/*.[chfy])
     find_suffix_rule(src/*/*.[chfy],src/*/*.[chfy],)
     Trying src/*/*.[chfy].c
     Trying src/*/*.[chfy].f
make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
    stat(.DONE)
    doname(.DONE)
     Looking for % rule for .DONE
     find_double_suffix_rule(.DONE)
[33] /home/res4/gilp/R-versions/R-0.63 :


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 16:27:17 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 16:27:17 +0000 (GMT)
Subject: hist()
Message-ID: <199811161627.QAA06982@toucan.stats.ox.ac.uk>

> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
> Date: 16 Nov 1998 14:26:38 +0100
> 
> Going over my old notes, I realised that hist() has changed since the
> earlier versions of R, in that the intervals are now
> left-open,right-closed rather than the opposite. This is a change in
> the direction of S-plus compatibility, but I wonder how sensible it
> really is.

Since a histogram is intended to be of continuous data, it should
not really matter. And if the data are already rounded (like ages) it
matters how they were rounded. (One of my grandfathers would
say he was `in his eighty-second year', so the rounding direction
may even depend on the value.)  My example below shows that rounding
error can play havoc with one's intentions too.

Since cut in R has an argument `right', could not hist have too?
And I don't actually understand why hist.default does not call cut.default
directly, when enhancements to cut will be easy to apply to hist.
Then we can argue about the default for right. It seems to me that
it should be the same for cut and for hist, and I would argue for
not changing the current default (whatever it might have been).

Oh, and what do bincode and bincode2 do about rounding error? (Nothing,
I think.) The default breaks in cut and hist are computed quantities,
and as we know, seq does not always get them exactly right.
As in:

> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6) 
[1] (0.249,0.35] (0.35,0.45]  (0.45,0.55]  (0.45,0.55]  (0.55,0.65] 
[6] (0.65,0.75]  (0.75,0.851]

> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6, right=FALSE)
[1] [0.249,0.35) [0.35,0.45)  [0.45,0.55)  [0.55,0.65)  [0.55,0.65) 
[6] [0.65,0.75)  [0.75,0.851)

(R 0.63.0 and others) !!!

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 16:32:54 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 16:32:54 +0000 (GMT)
Subject: Solaris make for 0.63 failing
Message-ID: <199811161632.QAA06996@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Nov 1998 10:45:48 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>

> I shouldn't try to do this on Monday morning. Can anyone suggest why the make
> for R 0.63 is failing for me under Solaris (SunOS 5.6).

You absolutely need GNU make, and on Solaris 2.6 you also need not to
use make-3.77 (the current version) as that has a bug which affects
this.  `They' are using features found in few makes.

Grab a copy of GNU make-3.76.1, make that and then this will work (or
at least, it does for me).

I did suggest that this be in the INSTALL file, but that is still
in the `TWO-LEVEL MAKE' days (or at least, it is on R-release, 0.63.1).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 16 16:50:52 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 16 Nov 1998 11:50:52 -0500
Subject: Solaris make for 0.63 failing
References: <199811161601.RAA06417@sophie.ethz.ch>
Message-ID: <98Nov16.120300est.13470@mailgate.bank-banque-canada.ca>

GNU make does not seem to work either.

I don't understand make very well but
        Trying pattern rule with stem `*.[chf]'.
        Rejecting impossible implicit dependency
`src/library/mva/src/*.[chf].f'.
Near the end of the following  make -d looks a little strange to me. Why does it
have ".f" after ".[chf]"

Paul Gilbert
______
...
creating src/scripts/html2dos
creating tests/Makefile
creating tests/Examples/Makefile
creating src/include/Platform.h

R is now configured for sparc-sun-solaris2.6

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc -g -O2
  FORTRAN compiler:         g77 -O2

[7] /home/res/gilp/R : which make
/home/res/gilp/bin/make
[8] /home/res/gilp/R : make
make: *** No rule to make target `src/library/mva/src/*.[chf]', needed by
`stamp-R'.  Stop.
[9] /home/res/gilp/R : make -d
GNU Make version 3.77, by Richard Stallman and Roland McGrath.
Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98
 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

Report bugs to <bug-make@gnu.org>.

Reading makefiles...
Reading makefile `Makefile'...
Reading makefile `Makeconf' (search path) (no ~ expansion)...
Updating makefiles....
 Considering target file `Makeconf'.
  Looking for an implicit rule for `Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.c'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.f'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.o'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf,v'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `RCS/Makeconf,v'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `RCS/Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `s.Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `SCCS/s.Makeconf'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.c'.
  Looking for a rule with intermediate file `Makeconf.c'.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `Makeconf'.
   Trying implicit dependency `Makeconf.w'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `Makeconf.c,v'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `RCS/Makeconf.c,v'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `RCS/Makeconf.c'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `s.Makeconf.c'.
   Trying pattern rule with stem `Makeconf.c'.
   Trying implicit dependency `SCCS/s.Makeconf.c'.
   Trying pattern rule with stem `Makeconf'.
   Trying implicit dependency `Makeconf.w'.
   Looking for a rule with intermediate file `Makeconf.w'.
    Avoiding implicit rule recursion.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `Makeconf.w,v'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `RCS/Makeconf.w,v'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `RCS/Makeconf.w'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `s.Makeconf.w'.
    Trying pattern rule with stem `Makeconf.w'.
    Trying implicit dependency `SCCS/s.Makeconf.w'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.f'.
  Looking for a rule with intermediate file `Makeconf.f'.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `Makeconf.f,v'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `RCS/Makeconf.f,v'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `RCS/Makeconf.f'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `s.Makeconf.f'.
   Trying pattern rule with stem `Makeconf.f'.
   Trying implicit dependency `SCCS/s.Makeconf.f'.
  Trying pattern rule with stem `Makeconf'.
  Trying implicit dependency `Makeconf.o'.
  Looking for a rule with intermediate file `Makeconf.o'.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `Makeconf'.
   Rejecting impossible implicit dependency `Makeconf.c'.
   Trying pattern rule with stem `Makeconf'.
   Rejecting impossible implicit dependency `Makeconf.f'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `Makeconf.o,v'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `RCS/Makeconf.o,v'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `RCS/Makeconf.o'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `s.Makeconf.o'.
   Trying pattern rule with stem `Makeconf.o'.
   Trying implicit dependency `SCCS/s.Makeconf.o'.
  No implicit rule found for `Makeconf'.
  Finished dependencies of target file `Makeconf'.
 No need to remake target `Makeconf'.
 Considering target file `Makefile'.
  Finished dependencies of target file `Makefile'.
 No need to remake target `Makefile'.
Updating goal targets....
Considering target file `all'.
 File `all' does not exist.
 Looking for an implicit rule for `all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.c'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.f'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.o'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all,v'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `RCS/all,v'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `RCS/all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `s.all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `SCCS/s.all'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.c'.
 Looking for a rule with intermediate file `all.c'.
  Avoiding implicit rule recursion.
  Trying pattern rule with stem `all'.
  Trying implicit dependency `all.w'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `all.c,v'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `RCS/all.c,v'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `RCS/all.c'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `s.all.c'.
  Trying pattern rule with stem `all.c'.
  Trying implicit dependency `SCCS/s.all.c'.
  Trying pattern rule with stem `all'.
  Trying implicit dependency `all.w'.
  Looking for a rule with intermediate file `all.w'.
   Avoiding implicit rule recursion.
   Avoiding implicit rule recursion.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `all.w,v'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `RCS/all.w,v'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `RCS/all.w'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `s.all.w'.
   Trying pattern rule with stem `all.w'.
   Trying implicit dependency `SCCS/s.all.w'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.f'.
 Looking for a rule with intermediate file `all.f'.
  Avoiding implicit rule recursion.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `all.f,v'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `RCS/all.f,v'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `RCS/all.f'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `s.all.f'.
  Trying pattern rule with stem `all.f'.
  Trying implicit dependency `SCCS/s.all.f'.
 Trying pattern rule with stem `all'.
 Trying implicit dependency `all.o'.
 Looking for a rule with intermediate file `all.o'.
  Avoiding implicit rule recursion.
  Trying pattern rule with stem `all'.
  Rejecting impossible implicit dependency `all.c'.
  Trying pattern rule with stem `all'.
  Rejecting impossible implicit dependency `all.f'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `all.o,v'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `RCS/all.o,v'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `RCS/all.o'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `s.all.o'.
  Trying pattern rule with stem `all.o'.
  Trying implicit dependency `SCCS/s.all.o'.
 No implicit rule found for `all'.
  Considering target file `Makefile'.
  File `Makefile' was considered already.
  Considering target file `R'.
   File `R' does not exist.
   Looking for an implicit rule for `R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.c'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.f'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.o'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R,v'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `RCS/R,v'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `RCS/R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `s.R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `SCCS/s.R'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.c'.
   Looking for a rule with intermediate file `R.c'.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `R'.
    Trying implicit dependency `R.w'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `R.c,v'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `RCS/R.c,v'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `RCS/R.c'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `s.R.c'.
    Trying pattern rule with stem `R.c'.
    Trying implicit dependency `SCCS/s.R.c'.
    Trying pattern rule with stem `R'.
    Trying implicit dependency `R.w'.
    Looking for a rule with intermediate file `R.w'.
     Avoiding implicit rule recursion.
     Avoiding implicit rule recursion.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `R.w,v'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `RCS/R.w,v'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `RCS/R.w'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `s.R.w'.
     Trying pattern rule with stem `R.w'.
     Trying implicit dependency `SCCS/s.R.w'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.f'.
   Looking for a rule with intermediate file `R.f'.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `R.f,v'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `RCS/R.f,v'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `RCS/R.f'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `s.R.f'.
    Trying pattern rule with stem `R.f'.
    Trying implicit dependency `SCCS/s.R.f'.
   Trying pattern rule with stem `R'.
   Trying implicit dependency `R.o'.
   Looking for a rule with intermediate file `R.o'.
    Avoiding implicit rule recursion.
    Trying pattern rule with stem `R'.
    Rejecting impossible implicit dependency `R.c'.
    Trying pattern rule with stem `R'.
    Rejecting impossible implicit dependency `R.f'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `R.o,v'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `RCS/R.o,v'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `RCS/R.o'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `s.R.o'.
    Trying pattern rule with stem `R.o'.
    Trying implicit dependency `SCCS/s.R.o'.
   No implicit rule found for `R'.
    Considering target file `stamp-R'.
     File `stamp-R' does not exist.
      Considering target file `src/include/Platform.h'.
        Considering target file `date-stamp'.
         Looking for an implicit rule for `date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.c'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.f'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.o'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp,v'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `RCS/date-stamp,v'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `RCS/date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `s.date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `SCCS/s.date-stamp'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.c'.
         Looking for a rule with intermediate file `date-stamp.c'.
          Avoiding implicit rule recursion.
          Trying pattern rule with stem `date-stamp'.
          Trying implicit dependency `date-stamp.w'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `date-stamp.c,v'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `RCS/date-stamp.c,v'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `RCS/date-stamp.c'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `s.date-stamp.c'.
          Trying pattern rule with stem `date-stamp.c'.
          Trying implicit dependency `SCCS/s.date-stamp.c'.
          Trying pattern rule with stem `date-stamp'.
          Trying implicit dependency `date-stamp.w'.
          Looking for a rule with intermediate file `date-stamp.w'.
           Avoiding implicit rule recursion.
           Avoiding implicit rule recursion.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `date-stamp.w,v'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `RCS/date-stamp.w,v'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `RCS/date-stamp.w'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `s.date-stamp.w'.
           Trying pattern rule with stem `date-stamp.w'.
           Trying implicit dependency `SCCS/s.date-stamp.w'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.f'.
         Looking for a rule with intermediate file `date-stamp.f'.
          Avoiding implicit rule recursion.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `date-stamp.f,v'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `RCS/date-stamp.f,v'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `RCS/date-stamp.f'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `s.date-stamp.f'.
          Trying pattern rule with stem `date-stamp.f'.
          Trying implicit dependency `SCCS/s.date-stamp.f'.
         Trying pattern rule with stem `date-stamp'.
         Trying implicit dependency `date-stamp.o'.
         Looking for a rule with intermediate file `date-stamp.o'.
          Avoiding implicit rule recursion.
          Trying pattern rule with stem `date-stamp'.
          Rejecting impossible implicit dependency `date-stamp.c'.
          Trying pattern rule with stem `date-stamp'.
          Rejecting impossible implicit dependency `date-stamp.f'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `date-stamp.o,v'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `RCS/date-stamp.o,v'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `RCS/date-stamp.o'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `s.date-stamp.o'.
          Trying pattern rule with stem `date-stamp.o'.
          Trying implicit dependency `SCCS/s.date-stamp.o'.
         No implicit rule found for `date-stamp'.
         Finished dependencies of target file `date-stamp'.
        No need to remake target `date-stamp'.
       Finished dependencies of target file `src/include/Platform.h'.
       Dependency `date-stamp' is older than dependent `src/include/Platform.h'.

      No need to remake target `src/include/Platform.h'.
      Considering target file `src/library/mva/src/*.[chf]'.
       File `src/library/mva/src/*.[chf]' does not exist.
       Looking for an implicit rule for `src/library/mva/src/*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].c'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].f'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].o'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf],v'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/RCS/*.[chf],v'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/RCS/*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/s.*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf]'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].c'.
       Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].c'.
        Avoiding implicit rule recursion.
        Trying pattern rule with stem `*.[chf]'.
        Trying implicit dependency `src/library/mva/src/*.[chf].w'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/*.[chf].c,v'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].c,v'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].c'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/s.*.[chf].c'.
        Trying pattern rule with stem `*.[chf].c'.
        Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].c'.
        Trying pattern rule with stem `*.[chf]'.
        Trying implicit dependency `src/library/mva/src/*.[chf].w'.
        Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].w'.
         Avoiding implicit rule recursion.
         Avoiding implicit rule recursion.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/*.[chf].w,v'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/RCS/*.[chf].w,v'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/RCS/*.[chf].w'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/s.*.[chf].w'.
         Trying pattern rule with stem `*.[chf].w'.
         Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].w'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].f'.
       Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].f'.
        Avoiding implicit rule recursion.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/*.[chf].f,v'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].f,v'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].f'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/s.*.[chf].f'.
        Trying pattern rule with stem `*.[chf].f'.
        Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].f'.
       Trying pattern rule with stem `*.[chf]'.
       Trying implicit dependency `src/library/mva/src/*.[chf].o'.
       Looking for a rule with intermediate file
`src/library/mva/src/*.[chf].o'.
        Avoiding implicit rule recursion.
        Trying pattern rule with stem `*.[chf]'.
        Rejecting impossible implicit dependency
`src/library/mva/src/*.[chf].c'.
        Trying pattern rule with stem `*.[chf]'.
        Rejecting impossible implicit dependency
`src/library/mva/src/*.[chf].f'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/*.[chf].o,v'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].o,v'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/RCS/*.[chf].o'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/s.*.[chf].o'.
        Trying pattern rule with stem `*.[chf].o'.
        Trying implicit dependency `src/library/mva/src/SCCS/s.*.[chf].o'.
       No implicit rule found for `src/library/mva/src/*.[chf]'.
       Finished dependencies of target file `src/library/mva/src/*.[chf]'.
      Must remake target `src/library/mva/src/*.[chf]'.
make: *** No rule to make target `src/library/mva/src/*.[chf]', needed by
`stamp-R'.  Stop.
[10] /home/res/gilp/R :

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 16 17:04:20 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 16 Nov 1998 12:04:20 -0500
Subject: Solaris make for 0.63 failing
References: <199811161632.QAA06996@toucan.stats.ox.ac.uk>
Message-ID: <98Nov16.121631est.13448@mailgate.bank-banque-canada.ca>

>You absolutely need GNU make, and on Solaris 2.6 you also need not to
>use make-3.77 (the current version) as that has a bug which affects
>this.  `They' are using features found in few makes.

I seem to be using GNU make 3.77. Is this a bug that is in both the Sun make and
the most recent GNU make, or is the R makefile doing something wrong?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 17:14:31 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 17:14:31 +0000 (GMT)
Subject: Solaris make for 0.63 failing
Message-ID: <199811161714.RAA07052@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Nov 1998 12:04:20 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Prof Brian Ripley <ripley@stats.ox.ac.uk>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: Solaris make for 0.63 failing
> 
> >You absolutely need GNU make, and on Solaris 2.6 you also need not to
> >use make-3.77 (the current version) as that has a bug which affects
> >this.  `They' are using features found in few makes.
> 
> I seem to be using GNU make 3.77. Is this a bug that is in both the Sun make 
and
> the most recent GNU make, or is the R makefile doing something wrong?

Different causes.  However, I get precisely that message from Sun make, and a
rather different one from GNU make 3.77 (about a garbled up file name).

The problems are:

(i) the Makefiles use GNU makefile syntax, and so are not compatible
with Sun's make.  A feature, I think.

(ii) make 3.77 is set up to be part compiled for 64-bit file systems
and part not. This matters if you have complicated wildcards, only,
on Solaris 2.6 and other 64-bit-file-system aware systems, only.
A bug!  If you want to fix it, rebuild 3.77 and use the same flags in
the Makefile for glob as in the main directory.


As to whether `the R makefile is doing something wrong', that is a matter of
opinion, and Theirs counts.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 16 17:22:04 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 16 Nov 1998 17:22:04 +0000 (GMT)
Subject: Solaris make for 0.63 failing
Message-ID: <199811161722.RAA07066@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Nov 1998 11:50:52 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Martin Maechler <maechler@stat.math.ethz.ch>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: Solaris make for 0.63 failing
> 
> GNU make does not seem to work either.

So you were not using GNU make before?

> 
> I don't understand make very well but
>         Trying pattern rule with stem `*.[chf]'.
>         Rejecting impossible implicit dependency
> `src/library/mva/src/*.[chf].f'.
> Near the end of the following  make -d looks a little strange to me. Why does 
it
> have ".f" after ".[chf]"

That is the bug in GNU make 3.77.  Either fix it (as per my last message)
or go back to 3.76-1.

I had a lot of trouble with this a few weeks' ago.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Nov 16 17:22:12 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 16 Nov 1998 09:22:12 -0800 (PST)
Subject: Solaris make for 0.63 failing
In-Reply-To: <98Nov16.121631est.13448@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9811160908490.24696-100000@wompom.biostat.washington.edu>

On Mon, 16 Nov 1998, Paul Gilbert wrote:

> >You absolutely need GNU make, and on Solaris 2.6 you also need not to
> >use make-3.77 (the current version) as that has a bug which affects
> >this.  `They' are using features found in few makes.
> 
> I seem to be using GNU make 3.77. Is this a bug that is in both the Sun make and
> the most recent GNU make, or is the R makefile doing something wrong?

It (appears to be) a bug in GNU make 3.77, which is not expanding the
wildcards correctly. It is not a bug in Sun make, it's just that Makefile
uses a feature that Sun make doesn't have. Whether this is 'something
wrong' is open to debate (though not very interesting debate).  A fix of
the Makefile to operate with everyone's favorite make is certainly a goal.

	-thomas







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Nov 16 17:40:20 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 16 Nov 1998 09:40:20 -0800 (PST)
Subject: survival4 updated
In-Reply-To: <98Nov16.105756est.13479@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9811160929400.24696-100000@wompom.biostat.washington.edu>


The survival4 port has been updated to work with R0.63.  (version 1.2-0
should be percolating through CRAN)

What it is: a port of Terry Therneau's code, which is also the basis for
the S-PLUS survival analysis functions.This code is about two years old
(9/17/96). Judging from the author's ChangeLog it is slightly more recent
than that used in S-PLUS 3.4. It's about two years more recent than what's
on Statlib.

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Nov 17 15:25:27 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Nov 1998 16:25:27 +0100
Subject: [R] 0.63 missing .pl files in etc?
In-Reply-To: U-E59264-Osman F Buyukisik's message of Tue, 17 Nov 1998 09:05:31 -0500 (EST)
References: <13904.30499.605414.808068@c1186.ae.ge.com> 	<x24srzz2wn.fsf@blueberry.kubism.ku.dk> <13905.31731.808741.730149@c1186.ae.ge.com>
Message-ID: <x2iugepcig.fsf@blueberry.kubism.ku.dk>

U-E59264-Osman F Buyukisik <absd00t@c1186.ae.ge.com> writes:

> Sorry Peter, I don't know how I did it but somehow I managed to have
> directory with missing pearl files :-( Subsequent deletion/expansion
> confirmed that they are there! But "make" still fails with the 
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.

Hmmm. The INSTALL program is responsible for setting the modes. Are
you using an old config.cache? otherwise configure is probably getting
it wrong. Solaris has this stuff in Makeconf:

INSTALL = $(top_srcdir)/aux/install-sh -c
INSTALL_DATA = ${INSTALL} -m 644
INSTALL_PROGRAM = ${INSTALL}
INSTALL_DIR = ${INSTALL} -d

if you have something else, you might want to try enforcing the above.

That "make" continues past errors and still creates stamp-xxx is an
annoying, but well-known misfeature. Partly my fault for telling Kurt
to leave it alone in the period up to the release (but otherwise
things might have gone *really* wrong!).

I'll cc this to r-devel, in case there's another HP-UXer out there
who's been trying this. In particular, I have absolutely no bearing on
your .so/.sl problem below (unless that's also caused by INSTALL..).

> But more problems: 
> 
> R : Copyright 1998, The R Development Core Team
> Version 0.63.0  (November 14, 1998)
...
> 
> > library()
> Packages in library `/home/absd00t/local/share/R/library':
> 
> base            The R base package
> eda             Exploratory Data Analysis
> modreg          Modern regression: smoothing and local methods
> mva             Classical Multivariate Analysis
> stepfun         Step Functions, including Empirical Distributions
> > library(eda)
> Error: dynamic library `eda' not found
> 
> At the end of the R file "eda" is a line:
>  
> library.dynam("eda.so")
> 
> But hpux creates .sl files! So I have to edit the R files eda,
> mva. modreg has a different line :
> .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
> 
> library(modreg)
> Error: dynamic library `modreg' not found

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Nov 17 19:27:48 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 17 Nov 1998 20:27:48 +0100 (CET)
Subject: [R] 0.63 missing .pl files in etc?
In-Reply-To: <x2iugepcig.fsf@blueberry.kubism.ku.dk>
References: <13904.30499.605414.808068@c1186.ae.ge.com>
 <x24srzz2wn.fsf@blueberry.kubism.ku.dk>
 <13905.31731.808741.730149@c1186.ae.ge.com>
 <x2iugepcig.fsf@blueberry.kubism.ku.dk>
Message-ID: <13905.52788.533283.201757@pc87.maho.magnaeu.com>

>>>>> Peter Dalgaard BSA writes:

> U-E59264-Osman F Buyukisik <absd00t@c1186.ae.ge.com> writes:
>> Sorry Peter, I don't know how I did it but somehow I managed to have
>> directory with missing pearl files :-( Subsequent deletion/expansion
>> confirmed that they are there! But "make" still fails with the 
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.
>> /bin/sh: /home/absd00t/R-0.63/bin/build-help: Execute permission denied.

> Hmmm. The INSTALL program is responsible for setting the modes. Are
> you using an old config.cache? otherwise configure is probably getting
> it wrong. Solaris has this stuff in Makeconf:

> INSTALL = $(top_srcdir)/aux/install-sh -c
> INSTALL_DATA = ${INSTALL} -m 644
> INSTALL_PROGRAM = ${INSTALL}
> INSTALL_DIR = ${INSTALL} -d

> if you have something else, you might want to try enforcing the above.

> That "make" continues past errors and still creates stamp-xxx is an
> annoying, but well-known misfeature. Partly my fault for telling Kurt
> to leave it alone in the period up to the release (but otherwise
> things might have gone *really* wrong!).

Hmm.  On my TODO list but as Peter sort of waived this ... I won't be
able to get this done this week, so if someone else wants to ...

> I'll cc this to r-devel, in case there's another HP-UXer out there
> who's been trying this. In particular, I have absolutely no bearing on
> your .so/.sl problem below (unless that's also caused by INSTALL..).

>> But more problems: 
>> 
>> R : Copyright 1998, The R Development Core Team
>> Version 0.63.0  (November 14, 1998)
> ...
>> 
>> > library()
>> Packages in library `/home/absd00t/local/share/R/library':
>> 
>> base            The R base package
>> eda             Exploratory Data Analysis
>> modreg          Modern regression: smoothing and local methods
>> mva             Classical Multivariate Analysis
>> stepfun         Step Functions, including Empirical Distributions
>> > library(eda)
>> Error: dynamic library `eda' not found
>> 
>> At the end of the R file "eda" is a line:
>> 
>> library.dynam("eda.so")

I already fixed this this morning.

>> 
>> But hpux creates .sl files! So I have to edit the R files eda,
>> mva. modreg has a different line :
>> .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
>> 
>> library(modreg)
>> Error: dynamic library `modreg' not found

Why is that?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Nov 18 14:06:37 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 18 Nov 1998 15:06:37 +0100 (CET)
Subject: Solaris make for 0.63 failing
In-Reply-To: <Pine.GSO.4.03.9811160908490.24696-100000@wompom.biostat.washington.edu>
References: <98Nov16.121631est.13448@mailgate.bank-banque-canada.ca>
 <Pine.GSO.4.03.9811160908490.24696-100000@wompom.biostat.washington.edu>
Message-ID: <13906.54381.373466.726822@pc87.maho.magnaeu.com>

>>>>> Thomas Lumley writes:

> On Mon, 16 Nov 1998, Paul Gilbert wrote:
>> >You absolutely need GNU make, and on Solaris 2.6 you also need not to
>> >use make-3.77 (the current version) as that has a bug which affects
>> >this.  `They' are using features found in few makes.
>> 

>> I seem to be using GNU make 3.77. Is this a bug that is in both the
>> Sun make and the most recent GNU make, or is the R makefile doing
>> something wrong?

> It (appears to be) a bug in GNU make 3.77, which is not expanding the
> wildcards correctly. It is not a bug in Sun make, it's just that
> Makefile uses a feature that Sun make doesn't have. Whether this is
> 'something wrong' is open to debate (though not very interesting
> debate).  A fix of the Makefile to operate with everyone's favorite
> make is certainly a goal.

I just added the following to `INSTALL':

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
USING MAKE

To compile R, you currently most likely need GNU make.  (To be more
precise, you need a version of make which accepts shell wildcards in
dependencies.)  On Solaris 2.6 in particular, you need a version of
GNU make different from 3.77 (the current one); 3.76.1 works fine.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

Hope this does for the time being.

Note: I don't necessarily think that there is only GNU make, and that
all of its features should be used.  If I did, the Makefiles would look
rather different (and certain problems would be gone immediately).  The
only `feature' used is shell wildcards in target dependencies (not in
variables, which definitely is a GNU make feature).  One can easily
provide explicit lists of file names instead, but that is a cause of
potential inconsistency that I'd like to avoid for the time being.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 15:17:37 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 10:17:37 -0500
Subject: "[<-"
Message-ID: <98Nov18.102032est.13470@mailgate.bank-banque-canada.ca>

It's my impression that something in the handling of attributes by "[<-" has
changed a bit between 0.62 and 0.63. I didn't notice any mention of this in the
list of changes (except that subscripting has changed in other ways). Does
someone know if this has changed, or should I be looking at things I've been
messing with myself.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 15:47:40 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 10:47:40 -0500
Subject: more on "[<-"
Message-ID: <98Nov18.105038est.13462@mailgate.bank-banque-canada.ca>

"[<-" in R 0.63 does not appear to strip attributes, whereas Splus and previous
versions of R did.

Paul
_____

R 0.63:
>  data <- matrix(rnorm(300),100,3)
>  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> attributes(data)
$dim
[1] 100   3
$tframe
[1] 1981.50 2006.25    4.00
> z <- data[10:90,]
> attributes(z)
$dim
[1] 81  3
$tframe
[1] 1981.50 2006.25    4.00

Splus:
>   data <- matrix(rnorm(300),100,3)
>  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> attributes(data)
$dim:
[1] 100   3
$tframe:
[1] 1981.50 2006.25    4.00
> z <- data[10:90,]
> attributes(z)
$dim:
[1] 81  3


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 15:56:17 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 10:56:17 -0500
Subject: RINSTALL with doc clobbers function.html
Message-ID: <98Nov18.105916est.13471@mailgate.bank-banque-canada.ca>

 In R 0.63 RINSTALL of a package with documentation still appears to clobber
R/doc/html/function.html and R/doc/html/packages.html so the main help is no
longer available to a user once a package is installed.

I know how to work around this for my own purposes, but I hesitate to release a
package that would do this to some unsuspecting user.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Wed Nov 18 16:21:45 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Wed, 18 Nov 1998 16:21:45 +0000 (GMT)
Subject: more on "[<-"
Message-ID: <199811181621.QAA20954@toucan.stats.ox.ac.uk>

Paul,

you are nowhere using "[<-"!  You are using "[" on a vector, and the dim
attribute is not being stripped, only your own "tframe" attribute.

It is clear to me that "[<-" should not change attributes, as it does not:

data <- matrix(rnorm(300),100,3)
attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
data[10:90,1] <- rnorm(81)
attributes(data)

on any of these, but it is less clear what [] should do. As it is not
clear if the attributes apply to the whole object only, I suspect stripping
is right.

Brian

> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>

> "[<-" in R 0.63 does not appear to strip attributes, whereas Splus and 
previous
> versions of R did.
> 
> Paul
> _____
> 
> R 0.63:
> >  data <- matrix(rnorm(300),100,3)
> >  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> > attributes(data)
> $dim
> [1] 100   3
> $tframe
> [1] 1981.50 2006.25    4.00
> > z <- data[10:90,]
> > attributes(z)
> $dim
> [1] 81  3
> $tframe
> [1] 1981.50 2006.25    4.00
> 
> Splus:
> >   data <- matrix(rnorm(300),100,3)
> >  attr(data, "tframe") <- c(1981.50, 2006.25 ,   4.00)
> > attributes(data)
> $dim:
> [1] 100   3
> $tframe:
> [1] 1981.50 2006.25    4.00
> > z <- data[10:90,]
> > attributes(z)
> $dim:
> [1] 81  3
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 16:50:41 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 11:50:41 -0500
Subject: "[" not "[<-"
References: <199811181621.QAA20954@toucan.stats.ox.ac.uk>
Message-ID: <98Nov18.115341est.13464@mailgate.bank-banque-canada.ca>

As Brian pointed out my comments were regarding [ ] not [<-. I guess I need
another cup of coffee this morning.

>on any of these, but it is less clear what [] should do. As it is not
>clear if the attributes apply to the whole object only, I suspect stripping
>is right.

I have played with this some and the answer is not obvious. There are some
attributes it would be nice to keep and others it would be better to strip. My
tframe attribute has to be consistent with the first dimension of the matrix, so
it either has to be modified when the dim is modified or it has to be stripped
so that there is not conflicting information. I have learned to live with the
latter.

On the subject of [ ], it sure would be nice if this supported drop as a vector
logical (e.g. drop=c(T,F,T) ) so that drop could be specified dimension wise for
arrays.

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Wed Nov 18 17:22:23 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Wed, 18 Nov 1998 18:22:23 +0100
Subject: "[" not "[<-"
References: <199811181621.QAA20954@toucan.stats.ox.ac.uk> <98Nov18.115341est.13464@mailgate.bank-banque-canada.ca>
Message-ID: <3653024F.5325D12D@iarc.fr>

Paul Gilbert wrote:
> 
> Brian Ripley writes
> >on any of these, but it is less clear what [] should do. As it is not
> >clear if the attributes apply to the whole object only, I suspect stripping
> >is right.
> 
> I have played with this some and the answer is not obvious. There are some
> attributes it would be nice to keep and others it would be better to strip. My
> tframe attribute has to be consistent with the first dimension of the matrix, so
> it either has to be modified when the dim is modified or it has to be stripped
> so that there is not conflicting information. I have learned to live with the
> latter.

Couldn't you use the object-oriented features of R? For objects of class
"foo", subsetting can be done using the "[.foo" function. Attributes can be
saved
before passing the data on to NextMethod (which would strip attributes it
doesn't
know about). Then the saved attributes could be restored, possibly in a
modified
form, if the object is still of class "foo".

I had assumed that this was the logic of subsetting, but it would be nice
if someone could confirm this.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Wed Nov 18 17:59:08 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Wed, 18 Nov 1998 17:59:08 +0000 (GMT)
Subject: "[" not "[<-"
Message-ID: <199811181759.RAA22669@toucan.stats.ox.ac.uk>


> Date: Wed, 18 Nov 1998 18:22:23 +0100
> From: Martyn Plummer <plummer@iarc.fr>
> To: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> CC: Prof Brian Ripley <ripley@stats.ox.ac.uk>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: "[" not "[<-"
> 
> Paul Gilbert wrote:
> > 
> > Brian Ripley writes
> > >on any of these, but it is less clear what [] should do. As it is not
> > >clear if the attributes apply to the whole object only, I suspect stripping
> > >is right.
> > 
> > I have played with this some and the answer is not obvious. There are some
> > attributes it would be nice to keep and others it would be better to strip. 
My
> > tframe attribute has to be consistent with the first dimension of the 
matrix, so
> > it either has to be modified when the dim is modified or it has to be 
stripped
> > so that there is not conflicting information. I have learned to live with 
the
> > latter.
> 
> Couldn't you use the object-oriented features of R? For objects of class
> "foo", subsetting can be done using the "[.foo" function. Attributes can be
> saved
> before passing the data on to NextMethod (which would strip attributes it
> doesn't
> know about). Then the saved attributes could be restored, possibly in a
> modified
> form, if the object is still of class "foo".
> 
> I had assumed that this was the logic of subsetting, but it would be nice
> if someone could confirm this.
> 

More or less (but I can only confirm my understanding of this). The
saving is not in fact needed. For example, "[.factor" does

        y <- NextMethod("[")
        attr(y, "contrasts") <- attr(x, "contrasts")
        levels(y) <- levels(x)

etc in S. In R it does only attr(y, "levels") <- attr(x, "levels") (and I
think that is now a bug: it should preserve attr(x, "contrasts")).

I was referring to the default: Paul's example had no class.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Nov 18 18:01:35 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Nov 1998 19:01:35 +0100
Subject: more on "[<-"
In-Reply-To: Paul Gilbert's message of Wed, 18 Nov 1998 10:47:40 -0500
References: <98Nov18.105038est.13462@mailgate.bank-banque-canada.ca>
Message-ID: <x27lwsani8.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> > z <- data[10:90,]
> > attributes(z)
> $dim
> [1] 81  3
> $tframe
> [1] 1981.50 2006.25    4.00
> 
> Splus:

> > attributes(z)
> $dim:
> [1] 81  3

It's a one-line change to get Splus behaviour. Anoyone think of a
reason *not* to do that??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 18:04:07 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 13:04:07 -0500
Subject: RINSTALL with doc clobbers function.html
References: <199811181656.QAA22111@toucan.stats.ox.ac.uk>
Message-ID: <98Nov18.130709est.13462@mailgate.bank-banque-canada.ca>

What I meant was that
R INSTALL    -l rlibs  dse

re-writes
        ${RHOME}/doc/html/function.html
and  ${RHOME}/doc/html/packages.html

with the documentation for dse, rather than appending it to those files. I was
led to believe that this was not a local quirk before, and was just point out
that it is still a problem in 0.63. If it really is now a local quirk then I'll
work on it some more.

>Also, those files are probably not relevant any more:
>help.start sets up links in ${HOME}/.R for this, and updates if needed.

This seems to fix packages.html but not function.html.  It appears to write a
new file ${HOME}/.R/packages.html but ${HOME}/.R/function.html is a link to
${RHOME}/doc/html/function.html which has been clobbered by the install.

This mechanism seems to have the implication that packages which are going to be
used by several people should be installed by the owner of R (e.g. R INSTALL
dse).  I have been installing to a private library (e.g. R INSTALL    -l rlibs
dse) on the assumption that someone other than the R owner might install a
package for several people to use. Is there a preferred way to do this?

(Also, possible a local quirk, help.start() seems to pop open a mail message
which I'm editing and have closed on my desktop.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Wed Nov 18 18:07:43 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Wed, 18 Nov 1998 18:07:43 +0000 (GMT)
Subject: RINSTALL with doc clobbers function.html
Message-ID: <199811181807.SAA22728@toucan.stats.ox.ac.uk>

Public reply to private message:

> Date: Wed, 18 Nov 1998 13:04:07 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Prof Brian Ripley <ripley@stats.ox.ac.uk>, R-devel 
<R-devel@stat.math.ethz.ch>
> Subject: Re: RINSTALL with doc clobbers function.html
> 
> What I meant was that
> R INSTALL    -l rlibs  dse
> 
> re-writes
>         ${RHOME}/doc/html/function.html
> and  ${RHOME}/doc/html/packages.html


That fact was not there: I have not tested this case.  I do however
have libs set in INSTALL to something other than the default, and
both files get appended to for me.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 18 18:17:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Nov 1998 19:17:03 +0100
Subject: RINSTALL with doc clobbers function.html
In-Reply-To: <98Nov18.130709est.13462@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Wed, 18 Nov 1998 13:04:07 -0500)
Message-ID: <199811181817.TAA26072@sophie.ethz.ch>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> What I meant was that R INSTALL -l rlibs dse

    PaulG> re-writes ${RHOME}/doc/html/function.html and
    PaulG> ${RHOME}/doc/html/packages.html

I always do it your way,
	(install into a different path, and use the RLIBS environment variable)
but I have never had your problem.

(but I have to admit that I rarely use the 'functions.html' interface;
 if I use the HTML interface its for demo-ing to others,
 and/or for looking at extra packages and for using the Java search
 interface;  for everything else, ESS (Emacs Speaks Statistics) 
 is more convenient for me
)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 18 18:28:49 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Nov 1998 19:28:49 +0100
Subject: [jar@oriole.er.usgs.gov: Re: [R] loading fortran with Redhat 5.1]
Message-ID: <199811181828.TAA26120@sophie.ethz.ch>

I can not answer this (message only to me).
Certainly, some of you do..
Martin
-------
  Date: Wed, 18 Nov 1998 13:22:47 -0500 (EST)
  From: "J. Andy Royle" <jar@oriole.er.usgs.gov>
  To: Martin Maechler <maechler@stat.math.ethz.ch>
  Subject: Re: [R] loading fortran with Redhat 5.1
  In-Reply-To: <199811181812.TAA26068@sophie.ethz.ch>

  Hi Martin,

  The reason I was confused by this is because I used dyn.load
  on varna.o from a Sun Ultra 10 (again compiled by g77 -c varna.f...
  not gcc as I stated before....a typo).  Observe to following
  from my Ultra 10:


  /space/jar/ked-> g77 -c varna.f
  /space/jar/ked-> R

  R : Copyright 1998, The R Development Core Team
  Version 0.62.4  (October 24, 1998)
  ..
  ..
  other startup info deleted
  ..
  ..
  [Previously saved workspace restored]

  > dyn.load("varna.o")
  >

  Thus, I figured I could do that in Linux.  Can you comment?


  On Wed, 18 Nov 1998, Martin Maechler wrote:

  > >>>>> "J" == J Andy Royle <jar@oriole.er.usgs.gov> writes:
  > 
  >     J> Hello Martin, Thanks for your help.  This worked fine.. I didn't
  >     J> know about the demo.  I seem to recall that I was doing it the Splus
  >     J> way when I ran R on my Ultra 10.  Is this a new way of loading
  >     J> fortran code into R?
  > 
  > No!
  > The "R SHLIB" abbreviation is somewhat new,  but you always had to 
  > 	dyn.load(...shared.library...)
  > 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Wed Nov 18 18:13:33 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Wed, 18 Nov 1998 18:13:33 -0000 ()
Subject: "[" not "[<-"
In-Reply-To: <199811181759.RAA22669@toucan.stats.ox.ac.uk>
Message-ID: <XFMail.981118183350.plummer@iarc.fr>

On 18-Nov-98 Prof Brian Ripley wrote:
>
>MTP> I had assumed that this was the logic of subsetting, but it would be nice
>MTP> if someone could confirm this.
>
>More or less (but I can only confirm my understanding of this). The
>saving is not in fact needed. 

Indeed it isn't. Sorry.

>I was referring to the default: Paul's example had no class.

And I am agreeing with you. The default "[" method should strip
attributes if this logic is correct.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Wed Nov 18 18:50:09 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Wed, 18 Nov 1998 10:50:09 -0800 (PST)
Subject: [jar@oriole.er.usgs.gov: Re: [R] loading fortran with Redhat
 5.1]
In-Reply-To: <199811181828.TAA26120@sophie.ethz.ch>
Message-ID: <Pine.GSO.4.03.9811181044550.26695-100000@wompom.biostat.washington.edu>

On Wed, 18 Nov 1998, Martin Maechler wrote:

> -------
>   Date: Wed, 18 Nov 1998 13:22:47 -0500 (EST)
>   From: "J. Andy Royle" <jar@oriole.er.usgs.gov>
>   To: Martin Maechler <maechler@stat.math.ethz.ch>
>   Subject: Re: [R] loading fortran with Redhat 5.1
>   In-Reply-To: <199811181812.TAA26068@sophie.ethz.ch>
> 
>   Hi Martin,
> 
>   The reason I was confused by this is because I used dyn.load
>   on varna.o from a Sun Ultra 10 (again compiled by g77 -c varna.f...
>   not gcc as I stated before....a typo).  Observe to following
>   from my Ultra 10:
> 

Yes, on Solaris 2.6 on an Ultra 10 the dynload demo also works this way.
Either gcc -c or cc -c produces an object file that can be dyn.loaded and
run correctly.

It isn't portable. Most Unices distinguish between the output of cc and
the shared object files produced by ld -the.appropriate.flags

I don't know if it works when you need to call R functions from the
compiled code, either.  In any case, R SHLIB is the better solution.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov 18 18:56:19 1998
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Nov 1998 18:56:19 +0000 (GMT)
Subject: [jar@oriole.er.usgs.gov: Re: [R] loading fortran with Redhat 5.1]
In-Reply-To: <199811181828.TAA26120@sophie.ethz.ch>
Message-ID: <Pine.GSO.3.96.981118184902.6457E-100000@localhost>

On Wed, 18 Nov 1998, Martin Maechler wrote:

> I can not answer this (message only to me).
> Certainly, some of you do..

Fluke, I think.  If he had used

g77 -c -fpic varna.f

then I believe varna.o would be a valid shared library on Solaris.  It is
likely that varna.f is simple enough not to need any relocation when
compiled. This certainly works for a single subprogram in the file, but is
definitely not recommended.

It is hard to tell if dlopen actually works, as it is used with the
`lazy' flag in R. One day one tests something never tried before and
it fails....  (Like the first time I actually hit some error-recording
code.)

Brian

>   From: "J. Andy Royle" <jar@oriole.er.usgs.gov>
>   To: Martin Maechler <maechler@stat.math.ethz.ch>
>   Subject: Re: [R] loading fortran with Redhat 5.1
>   In-Reply-To: <199811181812.TAA26068@sophie.ethz.ch>
> 
>   Hi Martin,
> 
>   The reason I was confused by this is because I used dyn.load
>   on varna.o from a Sun Ultra 10 (again compiled by g77 -c varna.f...
>   not gcc as I stated before....a typo).  Observe to following
>   from my Ultra 10:
> 
> 
>   /space/jar/ked-> g77 -c varna.f
>   /space/jar/ked-> R
> 
>   R : Copyright 1998, The R Development Core Team
>   Version 0.62.4  (October 24, 1998)
>   ..
>   ..
>   other startup info deleted
>   ..
>   ..
>   [Previously saved workspace restored]
> 
>   > dyn.load("varna.o")
>   >
> 
>   Thus, I figured I could do that in Linux.  Can you comment?
> 
> 
>   On Wed, 18 Nov 1998, Martin Maechler wrote:
> 
>   > >>>>> "J" == J Andy Royle <jar@oriole.er.usgs.gov> writes:
>   > 
>   >     J> Hello Martin, Thanks for your help.  This worked fine.. I didn't
>   >     J> know about the demo.  I seem to recall that I was doing it the Splus
>   >     J> way when I ran R on my Ultra 10.  Is this a new way of loading
>   >     J> fortran code into R?
>   > 
>   > No!
>   > The "R SHLIB" abbreviation is somewhat new,  but you always had to 
>   > 	dyn.load(...shared.library...)
>   > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov 18 20:58:06 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 18 Nov 1998 15:58:06 -0500
Subject: more on RINSTALL with doc clobbers function.html
Message-ID: <98Nov18.160110est.13479@mailgate.bank-banque-canada.ca>

After some investigation I find that  "R INSTALL   dse" seems to work well.
Also,
"R REMOVE  dse" works but does not clean out ~/.R (which would be pretty
difficult because all users may have this). The result is that a user will have
the impression that the package is installed when it has be remove. (This is
probably not too serious.)

However,  "R INSTALL   -l rlibs  dse" clobbers $RHOME/doc/html/packages.html and

$RHOME/doc/html/function.html. If help.start() is used then the first of these
is not seen by the user (and possibly is defunct and should be removed
entirely), but the second one is seen by the user (through a link in
~/.R/doc/html) and is seriously corrupted.

Some details are appended. I guess I'll stick with "R INSTALL   dse" for now.

Paul Gilbert
_______

After R make:
-rw-r--r--   1 gilp     res       154164 Nov 18 14:17
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1179 Nov 18 14:17
/home/res/gilp/R/doc/html/packages.html


After R INSTALL           -l rlibs  dse
-rw-r--r--   1 gilp     res         1493 Nov 18 14:25
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res          690 Nov 18 14:25
/home/res/gilp/R/doc/html/packages.html
these are clobbered

After R REMOVE   -l rlibs  dse
-rw-r--r--   1 gilp     res       154164 Nov 18 14:29
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1179 Nov 18 14:29
/home/res/gilp/R/doc/html/packages.html
 these are restored to originals


After  R INSTALL   dse
-rw-r--r--   1 gilp     res       154290 Nov 18 14:36
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1315 Nov 18 14:36
/home/res/gilp/R/doc/html/packages.html
These are good. DSE documentation is added and R documentation is not clobbered.

After help.start()
~/.R has
doc/      library/
 /home/res/gilp :  ls -l .R/doc/html/pac*
lrwxrwxrwx   1 gilp     res           61 Nov 18 14:41
.R/doc/html/packages-foot.html ->
/home/res4/gilp/R-versions/R-0.63/doc/html/packages-foot.html
lrwxrwxrwx   1 gilp     res           61 Nov 18 14:41
.R/doc/html/packages-head.html ->
/home/res4/gilp/R-versions/R-0.63/doc/html/packages-head.html
-rw-r--r--   1 gilp     res         1997 Nov 18 14:41 .R/doc/html/packages.html
ls -l .R/doc/html/func*
lrwxrwxrwx   1 gilp     res           56 Nov 18 14:41 .R/doc/html/function.html
-> /home/res4/gilp/R-versions/R-0.63/doc/html/function.html


After R REMOVE  dse
-rw-r--r--   1 gilp     res       154164 Nov 18 15:01
/home/res/gilp/R/doc/html/function.html
-rw-r--r--   1 gilp     res         1179 Nov 18 15:01
/home/res/gilp/R/doc/html/packages.html
These are restored to the original but ~/.R makes it look to the user like the
packaage is there.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 19 17:13:27 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 19 Nov 1998 12:13:27 -0500
Subject: list assignment
Message-ID: <98Nov19.121657est.13464@mailgate.bank-banque-canada.ca>

There appears to be a problem with name matching in list assignment:

Version 0.63.0  (November 14, 1998)
...
> r <- list()
> r$forecast.cov.trend <- 1:12
> r$forecast.cov.zero <- 1:12
> r$forecast.cov <- 1:2
> length(r$forecast.cov)
[1] 0                                   #should be 2
>

But note that this works correctly:
>  r <- list()
> r$forecast.cov.trend <- 1:12
> r$forecast.cov <- 1:2
> length(r$forecast.cov)
[1] 2
>

And also this works correctly:
> r <- list()
> r$forecast.cov <- 1:2
> r$forecast.cov.trend <- 1:12
> r$forecast.cov.zero <- 1:12
> length(r$forecast.cov)
[1] 2
> length(r$forecast.cov.trend)
[1] 12
> length(r$forecast.cov.zero)
[1] 12
>

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Thu Nov 19 17:34:15 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Thu, 19 Nov 1998 18:34:15 +0100
Subject: Loss of attributes from arithmetic comparisons
Message-ID: <36545697.1050F067@iarc.fr>

More on attributes, but nothing to do with the "[" thread...

Arithmetic comparisons strip attributes in R.  This is
incompatible with S. It is not so easy to see what the right
thing to do is here, but perhaps we should have S compatibility?

Martyn

S-PLUS 3.2
==========
S> x_1:10
S> attr(x,"foo") <- TRUE
S> x
 [1]  1  2  3  4  5  6  7  8  9 10
attr(, "foo"):
[1] T
S> x <= 5
 [1] T T T T T F F F F F
attr(, "foo"):
[1] T

R 0.63
======
R> x_1:10
R> attr(x,"foo") <- TRUE
R> x
 [1]  1  2  3  4  5  6  7  8  9 10
attr(,"foo")
[1] TRUE
R> x <= 5
 [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE
R> attributes(x<=5)
NULL
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 19 17:36:51 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 19 Nov 1998 12:36:51 -0500
Subject: [R] configure on Solaris 2.6 for R-0.63
References: <Pine.NEB.4.02.9811190925190.12944-100000@mathfs.math.montana.edu>
Message-ID: <98Nov19.124031est.13471@mailgate.bank-banque-canada.ca>

> > checking for g77... /psoft/Gnu-dev/bin/g77
> > checking for underscore after Fortran symbols... configure: error: Nothing
> > worked - cannot use FORTRAN
> >

I got this problem previous to 0.63 because there was a Solaris 2.5 f77 on my
path and f77 was being checked before g77 which I was using for Solaris 2.6. The
f77 was in a site library, and since right now we have a mix of 2.5 and 2.6  so
I couldn't remove it. I fixed the problem by putting a link high on my path
called f77 pointing to gnu/sun5.6/bin/g77.

This would not explain why 0.62.4 works for you and 0.63 does not, unless the
order in which fortran compilers is checked has changed between these versions.
Perhaps g77 is being checked first now and you have a g77 for Solaris 2.5.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Nov 19 17:53:19 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 1998 18:53:19 +0100
Subject: list assignment
In-Reply-To: Paul Gilbert's message of Thu, 19 Nov 1998 12:13:27 -0500
References: <98Nov19.121657est.13464@mailgate.bank-banque-canada.ca>
Message-ID: <x2d86jy3g0.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> There appears to be a problem with name matching in list assignment:
> 
> Version 0.63.0  (November 14, 1998)
> ...
> > r <- list()
> > r$forecast.cov.trend <- 1:12
> > r$forecast.cov.zero <- 1:12
> > r$forecast.cov <- 1:2
> > length(r$forecast.cov)
> [1] 0                                   #should be 2
> >

Odd, and clearly a bug. Probably rather in indexing rather than
assigment, though:

> a<-list(1,2,3)
> names(a)<-c("aa","ab", "a")
> a$a
NULL
> a[["a"]]
[1] 3



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gerry.brush@bioanthropology.oxford.ac.uk  Thu Nov 19 18:56:07 1998
From: gerry.brush@bioanthropology.oxford.ac.uk (Gerry Brush)
Date: Thu, 19 Nov 98 18:56:07 GMT
Subject: PDF Library
Message-ID: <830.9811191856@wright.iba.ox.ac.uk>


 [* The word xSUBSCRIBE so early in your posting made it bounce. MMae]
  v
I 0subscribe to R-help (not R-devel) but thought this was more relevant to  
R-devel, and the future of R's imaging model and cross-platform support.  If  
this has already been under discussion I apologize.  I've no connection with  
the product, business or its people.

Gerry



Begin forwarded message:

We, at FastIO Systems, are pleased to announce the availability of
ClibPDF: an ANSI C Source Library for Direct PDF Generation.

PDF (Portable Document Format) will be *THE* native graphics
interchange format of the upcoming MacOS X.  While we
anxiously wait for its arrival, you can start producing PDF files
programatically using ClibPDF now.

While MacOS X will no doubt allow PDF generation, ClibPDF
does not rely on any Apple-specific technology.  It's a plain
ANSI C library.  Therefore, it will work on just about any platform.

For details and downloading of ClibPDF, visit our web site,
<http://www.fastio.com/

## What is ClibPDF

ClibPDF is a library of ANSI C functions, distributed in source
form, for creating PDF (Acrobat) files directly via C language
programs without relying on any Adobe Acrobat tools and related
products. It is suitable for fast dynamic PDF Web page generation
in response to user input and real-time data, and also for implementing
publication-quality graph plotting for both on-screen viewing and
printing in any custom application. Since there is minimal
platform-specific code, it is ideal as cross-platform graphing
solutions with minimal developement efforts. Generated PDF files
are viewed and printed by auto-launching Adobe Acrobat Reader or
any other PDF viewer available free for many platforms. Note that
ClibPDF is for PDF file creation only. It has no support for reading
or editing existing PDF files.

## Notable Features of ClibPDF

- Most basic PDF drawing primitives are supported, plus arc and circle.
- Plot domains (linear, semi-log, log-log) with mesh to give graph
    paper appearance.
- Axes (linear, log, date) with flexible tick marks, numbering, and
    labelling.
- Markers, pointers, error bars for data points.
- Multi-page documents may be generated in any page order, and
    pages may be written in an interleaved manner.
- Support for Flate/Zlib compression for fast web download
    (No need for LZW license from Unisys.)
- In-memory PDF generation (no temp files).
- Transition, timed slide show support.

## Possible Applications

- Fast, light-weight CGI for dynamic PDF web pages generation.
- Report generation in medical, scientific, and industrial
    test equipment (and plots may be used directly in publications).
- Giving legacy console-type applications an attractive
    graphic output via auto-launched Arobat Reader (or any PDF viewer).
- Cross-platform graphing solutions.
- A unified imaging model for X-Window applications for beautiful
    screen AND printed output (no more ugly screen dumps). This
    eases the pain of the death of DPS (Display PostScript).

## License, Copying, and Distribution

ClibPDF is free OR commercial depending on how and by whom it is used.

ClibPDF is free for non-profit personal use, and use by educational,
non-profit, and government organizations.

Commercial license is required for use by for-profit entities (also
refered to as commercial users), including commercial web-site
deployment (including intranet), inclusion in in-house business,
production, manufacturing and research applications, for-profit use
by individuals, inclusion in commercial applications, libraries,
and tools that are sold or bundled with other commercial products.
There is a special deferment provision for shareware developers.
An automatic free 30-day examination period is granted for commercial
users for the purpose of evaluating ClibPDF.

The summary of license terms described above is an overview and is
not legally binding. Exact and legally accurate details of licensing
terms are described in the file LICENSE.txt or LICENSE.pdf included in
the distribution or at <http://www.fastio.com/LICENSE.pdf.

We welcome feedback regarding the feature list, licensing, bugs, and
improvements and any other suggestions. Please send comments to
clibpdf@fastio.com.

## Platforms tested so far

-- Unix variants --
BSDI BSD/OS 3.1 (gcc 2.7.2.1)
FreeBSD 2.2.7-STABLE (gcc 2.7.2.1)
Linux 2.0.34 (Red Hat 5.1) (gcc 2.7.2.3)
MacOS X Server (Rhapsody DR2)
NEXTSTEP 3.2, 3.3, OPENSTEP 4.2
SunOS 5.4 / (SUNWspro/SC4.0)

-- PCs --
MacOS 8.1 (Metrowerks IDE 1.7.4) -- See also: README.MacOS8
Windows NT 4.0 (VC++ 5.0) -- See also: README.win32

## Relationships to other software

Conceptually, ClibPDF has been inspired by Cgraph for PostScript
(<http://totoro.berkeley.edu/software/A_Cgraph.html), but it is
much more powerful and no code from Cgraph (PS) has been used.


Here are some comparisons with similar libraries. I don't claim
completeness or impartiality obviously, but I try to be fair.

PDFlib: There are acutally two PDFlib's, one from Thomas Merz,
and the other from Adobe.

NO part of ClibPDF is derived from or related to either of the
two PDF libraries. ClibPDF has been written completely independently.
I have seen some documentation for each, but no source code.

[1] Thomas Merz
<http://www.muc.de/~tm/pdflib/
Thomas Merz's PDFlib is also a source C language library for
dynamic PDF generation. There is some overlap in functionalities
between PDFlib and ClibPDF. PDFlib covers PDF generation at a basic
operator level. It has no compression yet, though the documentation
notes that it is planned.

ClibPDF is designed to do much more than PDFlib, and it is primarily
targeted for graph plotting applications with high-level APIs for
plot domains, data markers, and log and linear axes, although it
can be used for any purpose. ClibPDF can generate multi-page
documents in an arbitrary page order. Flate/Zlib compression is
supported.

[2] Adobe
<http://beta1.adobe.com/ada/acrosdk/libraries.html
Adobe PDF Library, I believe, is distributed in binary form only
with no sources (other than header and examples), thus supported
platforms are limited (in particular, there is no support for Linux
or FreeBSD). It may be used to write applications that will
create/read/edit PDF files. I have no idea how easy it is to use.

[3] PDFPerl
<http://www.ep.cs.nott.ac.uk/pdf-pl/
If you would rather use PERL scripts, this is for you.
Due to the interpreted nature of PERL, I think this is not going
to be fast (I am curious to see any comparisons).

ClibPDF and FastIO are trademarks of FastIO Systems.
Adobe, Acrobat, Exchange, and PostScript are tademarks of Adobe
Systems Inc. All other products or name brands are trademarks
of their respective holders.

Isamu "Sam" Ohzawa
FastIO Systems - Fast Direct PDF Generation via C
clibpdf@fastio.com, http://www.fastio.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Fri Nov 20 10:22:57 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Fri, 20 Nov 1998 10:22:57 +0000 (GMT)
Subject: PDF Library
Message-ID: <199811201022.KAA27148@toucan.stats.ox.ac.uk>

S-PLUS has a pdf.graph graphics device, and from what I know of the S
(hence R) graphics model, it would be relatively easy to write a PDF
graphics device (no fancy commercial libraries needed). However, I am
not about to do it, as I can convert .eps files to .pdf in several ways
and do so regularly using epstopdf (perl script calling gs5.50 at
www.tug.org/applications/pdftex: even works on Windows).  Converting
.pdf to .eps WELL seems rather harder.

> From: Gerry Brush <gerry@wright.iba.ox.ac.uk>
> Date: Thu, 19 Nov 98 18:56:07 GMT
> To: r-devel@stat.math.ethz.ch
> Subject: PDF Library
> 
> 
>   v
> I 0subscribe to R-help (not R-devel) but thought this was more relevant to  
> R-devel, and the future of R's imaging model and cross-platform support.  If  
> this has already been under discussion I apologize.  I've no connection with  
> the product, business or its people.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 20 11:31:33 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 1998 12:31:33 +0100
Subject: PDF Library
In-Reply-To: Prof Brian Ripley's message of Fri, 20 Nov 1998 10:22:57 +0000 (GMT)
References: <199811201022.KAA27148@toucan.stats.ox.ac.uk>
Message-ID: <x267catxbe.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> S-PLUS has a pdf.graph graphics device, and from what I know of the S
> (hence R) graphics model, it would be relatively easy to write a PDF
> graphics device (no fancy commercial libraries needed). However, I am
> not about to do it, as I can convert .eps files to .pdf in several ways
> and do so regularly using epstopdf (perl script calling gs5.50 at
> www.tug.org/applications/pdftex: even works on Windows).  Converting
> .pdf to .eps WELL seems rather harder.

..and a licence of the sort described is nowhere near OpenSource
requirements and clearly in conflict with the GPL. So R cannot use it.
(Certainly not in conjuction with the GPL'ed readline library, anyway.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Nov 20 17:17:22 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Fri, 20 Nov 1998 09:17:22 -0800 (PST)
Subject: PDF Library
In-Reply-To: <x267catxbe.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9811200913400.28367-100000@wompom.biostat.washington.edu>

On 20 Nov 1998, Peter Dalgaard BSA wrote:

> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
> 
> > S-PLUS has a pdf.graph graphics device, and from what I know of the S
> > (hence R) graphics model, it would be relatively easy to write a PDF
> > graphics device (no fancy commercial libraries needed). However, I am
> > not about to do it, as I can convert .eps files to .pdf in several ways
> > and do so regularly using epstopdf (perl script calling gs5.50 at
> > www.tug.org/applications/pdftex: even works on Windows).  Converting
> > .pdf to .eps WELL seems rather harder.
> 
> ..and a licence of the sort described is nowhere near OpenSource
> requirements and clearly in conflict with the GPL. So R cannot use it.
> (Certainly not in conjuction with the GPL'ed readline library, anyway.)
> 


There is also an Open Source PDF library that I have mentioned before. It
seems quite powerful and easy to use. There are license problems even
then, as it is under the Aladdin license, which, like the GPL, is
contagious.

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Nov 22 15:33:51 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 22 Nov 1998 16:33:51 +0100
Subject: [R] installing R packages in Windows?
In-Reply-To: <x2r9uwpsha.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Sat, Nov 21, 1998 at 11:54:09PM +0100
References: <Pine.GSO.3.96.981121211503.9485A-100000@toucan.stats> <x2r9uwpsha.fsf@blueberry.kubism.ku.dk>
Message-ID: <19981122163351.A20171@sirio.stat.unipd.it>

On Sat, Nov 21, 1998 at 11:54:09PM +0100, Peter Dalgaard BSA wrote:
> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
> 
> > All of this is very experimental, so do be careful not to trust the
> > results.  As gunwin32 R has no batch mode, I cannot check standard
>             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> > scripts easily and have only run cursory checks.
> 
> How difficult would it be to create one? I suspect that all you need
> is to avoid starting up the console and do stdio instead. The ESS
> (Emacs Speaks Statistics) crowd will want this as well.

  I am not really a MsWindows programmer so I will try to summarize
  what I know hoping that others (Luke?) will suggest the right direction.

  There are two possibilities easy to implement but not completly
  satisfactory:
  1) to build a only `stdio`  executable, i.e., to have an executable
     which behaves as when you start the Unix one with the 
     --no-readline flag; I suppose that this can be used with ESS
     but I don't use Emacs under Windows so I don't know
     how Emacs manages sub-processes. This new exe must be called
     R.exe (as the other one; if you change the name you will
     have to provide different dll's; which is not what we want;
     but if it is called R.exe (-> it cannot be put
     in RHOME/bin) it can share all the other files). Surely, it 
     will be possible to do batch processing like under Unix
     (redirection provides by the shell from which you launch it).
     I have no tried but this would require minimal change (I suppose
     that I can have it in less than 1 hour); so, if someone wants
     to test it, just ask. 
  2) to add batch processing to the actual executable,i.e, to let 
     possible to launch R with a command line of the type
     R --input-from afile --output-to anotherfile
     In this case, no console is open and R will run in background
     (maybe it can open a small window just saying 
      "R is running; this is the moment for a cup of coffee"
      we need it I think (at least to be able to kill the
      process)). If you will not use the command line arguments
      the standard console will open. R.exe will be a standard
      Windows executable (no character console, no stdin/stout/stderr)
      -> no ESS support.

   On the other end, the ideal solution will be to have an executable
   which on demand (i.e., using the --no-readline flag, I suppose)
   will or open the graphics console or use `stdio`.
   Somewhere in the Win32 API must exist something which let this.
   But I have to find out where. Perhaps, someone here can help
   Problem is that standard Windows application are either
   
   (i) completly `windowed', like Robert's and mine version of R;
   in this case, they don't have standard input and output; 
   indeed if you launch  it from a character console, they behave
   more or less  as if, under Unix, you launch an application
   from an xterm using the background flag (&) 
   and with stdin and   stdout redirected to /dev/null;
   
   or
   
   (ii) `console` applications; in this case stdin and stdout are there;
   but the side effect is that they ALWAYS open a character console
   (or `lock` the one from which you have launched them); 
   
   g.
   
   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 22 16:16:28 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 22 Nov 1998 16:16:28 +0000 (GMT)
Subject: [R] installing R packages in Windows?
In-Reply-To: <19981122163351.A20171@sirio.stat.unipd.it>
Message-ID: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>

On Sun, 22 Nov 1998, Guido Masarotto wrote:

> On Sat, Nov 21, 1998 at 11:54:09PM +0100, Peter Dalgaard BSA wrote:
> > Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
> > 
> > > All of this is very experimental, so do be careful not to trust the
> > > results.  As gunwin32 R has no batch mode, I cannot check standard
> >             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> > > scripts easily and have only run cursory checks.
> > 
> > How difficult would it be to create one? I suspect that all you need
> > is to avoid starting up the console and do stdio instead. The ESS
> > (Emacs Speaks Statistics) crowd will want this as well.
> 
>   I am not really a MsWindows programmer so I will try to summarize
>   what I know hoping that others (Luke?) will suggest the right direction.

I am much, much less of an MS windows programmer than Guido.  What I
intended to try to do was: 

(i) build almost all of R as a DLL. I think that is easy given what
Guido has done, and then other DLLs can link against the import library
for that DLL.  We just need a DLL version of R.a and a different libR.a
(I think).

(ii) build two front-ends called say Rconsole.exe and Rbatch.exe to drive
that DLL.

If it helps, S-PLUS 4.5 has essentially both Guido's options 1) (sqpe.exe)
and 2) (Splus /BATCH) and I use 1) almost all the time.

>   There are two possibilities easy to implement but not completly
>   satisfactory:
>   1) to build a only `stdio`  executable, i.e., to have an executable
>      which behaves as when you start the Unix one with the 

Yes, please, and I think that would suffice for ESS if we are careful
about prompts and stdout/stderr.  I don't care if the x11() device is not
active in this mode.  An ESS insider should be able to advise exactly what
is required; the problem with sqpe.exe is that the prompts disappear
if input is redirected.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Mon Nov 23 12:11:54 1998
From: luke@stat.umn.edu (Luke Tierney)
Date: Mon, 23 Nov 1998 06:11:54 -0600 (CST)
Subject: [R] installing R packages in Windows?
In-Reply-To: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats> from "Prof Brian Ripley" at Nov 22, 98 04:16:28 pm
Message-ID: <9811231211.AA03585@nokomis.stat.umn.edu>

Prof Brian Ripley wrote:
> >   what I know hoping that others (Luke?) will suggest the right direction.
> 
> I am much, much less of an MS windows programmer than Guido.  What I
> intended to try to do was: 
> 
> (i) build almost all of R as a DLL. I think that is easy given what
> Guido has done, and then other DLLs can link against the import library
> for that DLL.  We just need a DLL version of R.a and a different libR.a
> (I think).
> 
> (ii) build two front-ends called say Rconsole.exe and Rbatch.exe to drive
> that DLL.
> 

My understanding, which is not very complete yet, says that the
difference between console and gui apps is just in the way they start
up; the console app can make the same use as graphics as the gui one.
So this sould work fine. It's likely to be a bit more work than it
seems to factor the code so the io goes throug callbacks in the front
ends, and the design of the graphics may need to be modified if graphs
are to coegist with a standard console or an emacs console, but it
should work fine.

The one point to keep in mind though is that console apps are possible
on Win95 and NT but not, I believe, on Win32s.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Mon Nov 23 19:42:10 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 23 Nov 1998 20:42:10 +0100
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>; from Prof Brian Ripley on Sun, Nov 22, 1998 at 04:16:28PM +0000
References: <19981122163351.A20171@sirio.stat.unipd.it> <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>
Message-ID: <19981123204210.A22663@sirio.stat.unipd.it>

I made an experiment along the way suggested by Brian Ripley (thanks...).
1) I put all the code in a big dynamic library (R.dll, ~900K);
2) I prepare two executable (4K each,i.e, the smallest size possible
    under Windows): (i) a 'windowed' application (rconsole.exe) which should
    behaves like my current version and (ii) a 'console' (I suppose
    that a better name for rconsole is needed) application
    (rbatch.exe) which does not open a graphich console but
    use 'stdio'. I didn't test Emacs+ESS since, after some
    bad (but old) experiences, I use Emacs
    only under Unix; however, at least, `rbatch < afile > anothefile'
    seems to work; in addition, when isatty() is false (I expect
    this happening under Emacs) the code is exactly the Unix one.
    
I have just uploaded  the result (two files: rw63-iob.zip, binaries,
also of the standard dll's linked against the new R.dll but no help,...
and rw63-ios.zip, sources) on ftp://stat.unipd.it/users/guido/R/devel 
(during the night the files should be mirrored to Wien).

I hope someone would test this version since, if it works,
I think that can add something to the current one (in particular,
if starting from this version we can obtaning an executable
working under Emacs).
But be aware: (i) it is the result of 2 hour of works on a train;
                                                      ~~~~~~~~~~
(ii) I have only test it on a Win98 notebook; (iii) as
Luke said, rbatch should not work under Win32s; (iv) Brian's
libraries must be rebuilt to make them working with this version.

guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@biostat.washington.edu  Mon Nov 23 20:46:03 1998
From: rossini@biostat.washington.edu (A.J. Rossini)
Date: 23 Nov 1998 12:46:03 -0800
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: Guido Masarotto's message of "Mon, 23 Nov 1998 20:42:10 +0100"
References: <19981122163351.A20171@sirio.stat.unipd.it> <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats> <19981123204210.A22663@sirio.stat.unipd.it>
Message-ID: <8767c6uohg.fsf@cho-oyu.cfas.washington.edu>


Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> 2) I prepare two executable (4K each,i.e, the smallest size possible
>     under Windows): (i) a 'windowed' application (rconsole.exe) which should
>     behaves like my current version and (ii) a 'console' (I suppose
>     that a better name for rconsole is needed) application
>     (rbatch.exe) which does not open a graphich console but
>     use 'stdio'. I didn't test Emacs+ESS since, after some
>     bad (but old) experiences, I use Emacs
>     only under Unix; however, at least, `rbatch < afile > anothefile'
>     seems to work; in addition, when isatty() is false (I expect
>     this happening under Emacs) the code is exactly the Unix one.
>     
> I hope someone would test this version since, if it works,
> I think that can add something to the current one (in particular,
> if starting from this version we can obtaning an executable
> working under Emacs).
> But be aware: (i) it is the result of 2 hour of works on a train;
>                                                       ~~~~~~~~~~
> (ii) I have only test it on a Win98 notebook; (iii) as
> Luke said, rbatch should not work under Win32s; (iv) Brian's
> libraries must be rebuilt to make them working with this version.

Thanks much.  I'm hacking Emacs/ESS on MS Windows platforms starting
mid next month, thanks to some external prodding (and now, product
availability from both R, Splus).  And I think XLispStat might be able
to talk (at least DDE), as well, which would be nice

If anyone evaluates the situation before then (ESS/Emacs/R on MS
Windows 95/98/NT), please send me some email with comments, to help me
out! (MS isn't my native environment by a long shot :-).

best,
-tony

-- 
A.J. Rossini			
UW Biostatistics & Center for AIDS Research 	Epimetrics Corporation
206-543-1044 / 206-720-4282			206-652-0604
rossini@biostat.washington.edu			rossini@epimetrics.com
http://www.biostat.washington.edu/~rossini/	http://www.epimetrics.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov 23 21:23:47 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Nov 1998 22:23:47 +0100
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: Guido Masarotto's message of Mon, 23 Nov 1998 20:42:10 +0100
References: <19981122163351.A20171@sirio.stat.unipd.it> <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats> <19981123204210.A22663@sirio.stat.unipd.it>
Message-ID: <x290h2t864.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> 2) I prepare two executable (4K each,i.e, the smallest size possible
>     under Windows): (i) a 'windowed' application (rconsole.exe) which should
>     behaves like my current version and (ii) a 'console' (I suppose
>     that a better name for rconsole is needed) application
>     (rbatch.exe) which does not open a graphich console but
>     use 'stdio'. 

Sounds great, except for the naming... The terminology seems to be
that one distinguishes between GUI applications and console
applications, and your GUI app. is the one called Rconsole! And Rbatch
also works interactively...

More obvious would be to call them

Rgui and Rconsole
   or maybe
Rgui and R

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bacon@mediaone.net  Tue Nov 24 00:08:35 1998
From: bacon@mediaone.net (Fred Bacon)
Date: Tue, 24 Nov 1998 00:08:35 +0000
Subject: Additional autoconf test for linuxppc/mklinux
Message-ID: <3659F903.7C4127F3@mediaone.net>

This is a multi-part message in MIME format.
--------------B1771E3EA5AC1A7BE37E1417
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am attaching a patch to R-0.63's configure.in file which will enable 
R to detect and use some special math libraries on linuxppc and mklinux.
The patch provides tests for these libraries and enable/disable switches 
for them as well.

One library is the libmoto math library which must be used in
conjunction
with libm (it only replaces some of libm's functions).  The other is a
RISC optimized BLAS library, libblas_risc, which must be used along with
a standard implementation of BLAS, libblas.  It only provides optimized 
versions of GEMM routines for single and double precision real values.

Please let me know if the tests cause problems on other architectures.

-- 
Fred Bacon

==========================================================================
Aerodyne Research, Inc.                   Phone:   (978) 663-9500 ext.
273
45 Manning Rd.                              FAX:   (978) 663-4918
Billerica, MA  01821-3976                  http://www.aerodyne.com
==========================================================================
 People who want to share their religious views with you almost never
want
 you to share yours with them.   -- Dave Barry
--------------B1771E3EA5AC1A7BE37E1417
Content-Type: text/plain; charset=us-ascii;
 name="R-0.63.ppc.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="R-0.63.ppc.patch"

diff -ur R-0.63/configure.in R-0.63.new/configure.in
--- R-0.63/configure.in	Fri Nov 13 13:13:56 1998
+++ R-0.63.new/configure.in	Sun Nov 22 17:54:46 1998
@@ -94,6 +94,14 @@
 ## Here we should maybe check that only one of the above options for
 ## dealing with FORTRAN were specified.
 
+AC_ARG_ENABLE(libmoto,
+  [  --enable-libmoto        use libmoto math library (if available)],
+  [ if test "${enableval}"=no;
+      then use_libmoto=false;
+      else use_libmoto=true;
+    fi],
+   use_libmoto=true)
+      
 AC_ARG_ENABLE(blas,
   [  --enable-blas           use BLAS library (if available)],
   [if test "${enableval}" = no;
@@ -102,6 +110,14 @@
   fi],
   use_blas=true)
 
+AC_ARG_ENABLE(blas_risc,
+  [  --enable-blas_risc      use RISC Optimized BLAS library (if available)],
+  [ if test "${enableval}" = no;
+     then use_blas_risc=false;  
+     else use_blas_risc=true; use_blas=true;
+    fi],
+    use_blas_risc=true; use_blas=true)
+
 AC_ARG_ENABLE(dxml,
   [  --enable-dxml           use DXML library (if available)],
   [if test "${enableval}" = no;
@@ -396,6 +412,9 @@
 export LD_LIBRARY_PATH
 
 AC_CHECK_LIB(m, sin)
+if ${use_libmoto}; then
+   AC_CHECK_LIB(moto,sin)
+fi
 AC_CHECK_LIB(ncurses, main,,
   AC_CHECK_LIB(termcap, main,,
     AC_CHECK_LIB(termlib, main)
@@ -413,6 +432,11 @@
     fi
   )
 fi
+
+if ${use_blas_risc}; then
+   AC_CHECK_LIB(blas_risc, main, FLIBS="-lblas_risc ${FLIBS}" BLAS="",,-lblas -lf2c)
+fi  
+
 AC_SUBST(BLAS)
 for arg in ${LIBS}; do
   case ${arg} in

--------------B1771E3EA5AC1A7BE37E1417--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From 4details@bitsmart.com  Tue Nov 24 10:25:14 1998
From: 4details@bitsmart.com (4details)
Date: Tue, 24 Nov 1998 10:25:14
Subject: Export Market for Security Products
Message-ID: <199811240558.GAA16101@hypatia.math.ethz.ch>

Dear reader,

We have just visited your website and became interested in developing a long-term trading relationship with your company. 

We are the largest manufacturer of video door phones, specializing in a full range of security systems. Strong alliances have 
been established with many industries, such as: design institutes, building developers, construction and engineering firms, 
and real estate companies, etc. Our annual sales volume for 1997 was approximately US$ 10 million.

Our core business is producing standard OEM & ODM security products that meet the individual needs of our customer's designs. 
Our quality control measures are strictly followed, from the very beginning of material development, until the goods are 
released to our customers.

For full details on our company's profile, products, and distributorship / licensing agreements, please reply now.

mailto:4details@bitsmart.com?Subject=VIDEO_DOOR_PHONES
mailto:4details@bitsmart.com?Subject=DOOR_PHONES
mailto:4details@bitsmart.com?Subject=SECURITY_PRODUCTS

We look forward to your soonest reply!

Thank you very much in advance.

Sincerely yours,

Mr. White Van
Export Sales Manager

Shenzhen Bailan Industrial Development Co., Ltd.
Sales & Marketing Dept.
Address: A 505, 5F, Build SEG Science Park, 
North. HuaQuing Road
Shenzhen China

Tel.  (86)-755-376 2520  (8 Lines)    P.C.     	51828
Fax.  (86)-755-332 1197               Pager:	191-548 4749
 
 
 
 
 
 
 
 
 
 
 
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 24 07:32:40 1998
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Nov 1998 07:32:40 +0000 (GMT)
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: <x290h2t864.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.3.96.981124072537.5386C-100000@localhost>

On 23 Nov 1998, Peter Dalgaard BSA wrote:

> Guido Masarotto <guido@sirio.stat.unipd.it> writes:
> 
> > 2) I prepare two executable (4K each,i.e, the smallest size possible
> >     under Windows): (i) a 'windowed' application (rconsole.exe) which should
> >     behaves like my current version and (ii) a 'console' (I suppose
> >     that a better name for rconsole is needed) application
> >     (rbatch.exe) which does not open a graphich console but
> >     use 'stdio'. 
> 
> Sounds great, except for the naming... The terminology seems to be
> that one distinguishes between GUI applications and console
> applications, and your GUI app. is the one called Rconsole! And Rbatch
> also works interactively...
> 
> More obvious would be to call them
> 
> Rgui and Rconsole
>    or maybe
> Rgui and R

Peter, what you and what Windows call a `console application' clearly
differ!  In Windows a `console application' opens its own window to work
in.

Given that confusion, I would go for something like Rgui and Rterm (as for
now R is already used for the `all in one' solution).

The point here is that if the DLL is called R.DLL, we can make different
front ends and link them to everything else, and the names can be changed.

Congratulations to Guido: I failed in a couple of hours, because a crucial
link step always hangs my machine. (Ah, the joys of MS programming.)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Nov 24 09:58:31 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Nov 1998 10:58:31 +0100
Subject: Experimental support for `batch` under MsWindows
In-Reply-To: Prof Brian D Ripley's message of Tue, 24 Nov 1998 07:32:40 +0000 (GMT)
References: <Pine.GSO.3.96.981124072537.5386C-100000@localhost>
Message-ID: <x2emqtjttk.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> > Sounds great, except for the naming... The terminology seems to be
> > that one distinguishes between GUI applications and console
> > applications, and your GUI app. is the one called Rconsole! And Rbatch
> > also works interactively...
> > 
> > More obvious would be to call them
> > 
> > Rgui and Rconsole
> >    or maybe
> > Rgui and R
> 
> Peter, what you and what Windows call a `console application' clearly
> differ!  In Windows a `console application' opens its own window to work
> in.

Hm. I think you're wrong there, although there's an obvious ambiguity
between programs that need a console and those that supply one. A
console *mode* application is definitely something that is intended to
be run in a console (alias DOS box in W95), and a GUI mode application
runs detached, like a background job in Unix. The former are the ones
that spring up a DOS box when you double-click the icon, and the
latter is the only type that runs in Win32s.

> 
> Given that confusion, I would go for something like Rgui and Rterm (as for
> now R is already used for the `all in one' solution).

Rterm is a good idea, certainly.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From khal@alumni.uv.es  Tue Nov 24 16:05:47 1998
From: khal@alumni.uv.es (Kjetil Halvorsen)
Date: Tue, 24 Nov 1998 17:05:47 +0100
Subject: as.list
References: <Pine.GSO.3.96.981122160247.10722A-100000@toucan.stats>
Message-ID: <365AD95B.79D8A8B6@alumni.uv.es>

I don't understand the behavior of "as.list"
(really as.list.default) on arguments which
are expressions. An artificial example:

> as.list(expression( x <- 1, y <- 2))
[[1]]
<-

[[2]]
<-

as.list.default contains the following code:

 if (is.expression(x)) {
        l <- vector("list")
        for (sub in x) l <- c(l, sub[[1]])

--- why the sub[[1]] part?

eliminating the [[1]], I get:

> my.as.list(expression( x <- 1, y <- 2))
[[1]]
x <- 1

[[2]]
y <- 2


Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Tue Nov 24 17:10:50 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Tue, 24 Nov 1998 09:10:50 -0800 (PST)
Subject: BSD style sockets for R
In-Reply-To: <x2emqtjttk.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9811240858590.8396-100000@wompom.biostat.washington.edu>


I have a very basic implementation of sockets adapted from Luke Tierney's
XLISP-Stat implementation. It will probably be in R0.64 but that could be
some time coming.  In the interim I have an R package at
	http://www.biostat.washington.edu/~thomas/sockets.tgz

It should also work with S once you work out the right compiling and
linking flags. 


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 26 13:28:12 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Nov 1998 14:28:12 +0100
Subject: hist()
In-Reply-To: <199811161627.QAA06982@toucan.stats.ox.ac.uk> (message from Prof
 Brian Ripley on Mon, 16 Nov 1998 16:27:17 +0000 (GMT))
Message-ID: <199811261328.OAA27866@sophie.ethz.ch>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes [Mon 16 Nov]:

    >> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> Date: 16 Nov
    >> 1998 14:26:38 +0100
    >> 
    >> Going over my old notes, I realised that hist() has changed since
    >> the earlier versions of R, in that the intervals are now
    >> left-open,right-closed rather than the opposite. This is a change in
    >> the direction of S-plus compatibility, but I wonder how sensible it
    >> really is.

    BDR> Since a histogram is intended to be of continuous data, it should
    BDR> not really matter. And if the data are already rounded (like ages)
    BDR> it matters how they were rounded. (One of my grandfathers would
    BDR> say he was `in his eighty-second year', so the rounding direction
    BDR> may even depend on the value.)  My example below shows that
    BDR> rounding error can play havoc with one's intentions too.

    BDR> Since cut in R has an argument `right', could not hist have too?
I agree.
    BDR> And I don't actually understand why hist.default does not call
    BDR> cut.default directly, when enhancements to cut will be easy to
    BDR> apply to hist.
yes that would be the advantage.
The current implementation, using .C("bincount",..) instead of
.C("bincode"..) is however much less memory hungry for large x
than  table(cut(...)).

    BDR> Then we can argue about the default for right. It
    BDR> seems to me that it should be the same for cut and for hist, and I
    BDR> would argue for not changing the current default (whatever it
    BDR> might have been).
the current default is the same for cut & hist, namely "right = TRUE".
I agree that it shouldn't be changed -- for mere compatibility --

The help page could/should mention that for many people,
	right = FALSE
seems more natural.

    BDR> Oh, and what do bincode and bincode2 do about rounding error?
    BDR> (Nothing, I think.) 

You are right: nothing.  [src/appl/binning.c]
However, do you think they *should* do anything at all?
If a 'break' ("cut point") is close to a data value, there's still only one
side of the break that the data value can go....

    BDR> The default breaks in cut and hist are
    BDR> computed quantities, and as we know, seq does not always get them
    BDR> exactly right.  As in:

    >> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6)
    BDR> [1] (0.249,0.35] (0.35,0.45] (0.45,0.55] (0.45,0.55] (0.55,0.65]
    BDR> [6] (0.65,0.75] (0.75,0.851]

    >> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6, right=FALSE)
    BDR> [1] [0.249,0.35) [0.35,0.45) [0.45,0.55) [0.55,0.65) [0.55,0.65)
    BDR> [6] [0.65,0.75) [0.75,0.851)

I don't think there's any real bug here:

> cut(c(0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85), 6, dig.lab = 5) 
[1] (0.2494,0.3496] (0.3496,0.4498] (0.4498,0.55]   (0.4498,0.55]  
[5] (0.55,0.6502]   (0.6502,0.7504] (0.7504,0.8506]
Levels:  (0.2494,0.3496] (0.3496,0.4498] (0.4498,0.55] (0.55,0.6502] (0.6502,0.7504] (0.7504,0.8506] 

However, for the case of computed breaks (as above),
I think cut() should construct 'breaks' to which no data value is close,
i.e. the ``breaks construction'' should consider rounding problems!

Thank you for revealing this!


Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 26 13:51:37 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Nov 1998 14:51:37 +0100
Subject: Saving memory usage -- .C(....., DUP = FALSE)  danger?
Message-ID: <199811261351.OAA27891@sophie.ethz.ch>

Just found out [R 0.63, standard -v -n] :

    > rm(list=ls())
    > gc()
	     free  total
    Ncells  96538 200000
    Vcells 214008 250000
    > hist(runif(50000))
    Error: heap memory (1953 Kb) exhausted [needed 390 Kb more]

which is a bit astonishing given that I still have room for 214000 double's

    > u1 <- runif(50000)
    > u2 <- runif(50000)
    > gc()
	     free  total
    Ncells  96534 200000
    Vcells 114006 250000

debug(hist.default)  quickly revealed that the error was produced
when  .C("bincount",....) was called.

Looking at the help, 
	help(.C)
and then at the "DUP = TRUE" default argument to .C(.),
I was reminded that every argument is first copied before being passed to
bincount().

Setting the "DUP = FALSE" argument in hist.default
made it work with the above 50000 doubles.

But then I wondered ``more generally'' :

	What exactly happens / can happen when calling, e.g.,

		r <- .C("foo", x=x, y=as.double(y),  DUP = FALSE)

	Will 'x' be altered after the call to .C(*)  if in C's 
		foo(double *x, double *y)
	x is altered?
	Will 'y' be unaltered anyway, since   "as.double(y)" produces a
	a different object than 'y' anway?

I know that I could make experiments and find out,
but hopefully, one of you will know much better and explain to all
R-develers.

Really useful might be a comprehensive list of recommendations 
on when  "DUP = FALSE" is useful / advisable / detestable ...

Thank you!

Martin

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><

	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Nov 26 14:01:06 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Nov 1998 15:01:06 +0100
Subject: hist()
In-Reply-To: Martin Maechler's message of Thu, 26 Nov 1998 14:28:12 +0100
References: <199811261328.OAA27866@sophie.ethz.ch>
Message-ID: <x2ww4iwo2l.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

>     BDR> Oh, and what do bincode and bincode2 do about rounding error?
>     BDR> (Nothing, I think.) 
> 
> You are right: nothing.  [src/appl/binning.c]
> However, do you think they *should* do anything at all?
> If a 'break' ("cut point") is close to a data value, there's still only one
> side of the break that the data value can go....

I think we probably should implement a fuzz-factor here to avoid sillyness
like

> cut(0.35, breaks=seq(0,1,0.05),right=F)
[1] [0.3,0.35)
Levels:  [0,0.05) [0.05,0.1) [0.1,0.15) [0.15,0.2) [0.2,0.25) [0.25,0.3) [0.3,0.35) [0.35,0.4) [0.4,0.45) [0.45,0.5) [0.5,0.55) [0.55,0.6) [0.6,0.65) [0.65,0.7) [0.7,0.75) [0.75,0.8) [0.8,0.85) [0.85,0.9) [0.9,0.95) [0.95,1) 

..   which currently happens because 

> 0.35 - 7*0.05
[1] -5.551115e-17

This doesn't happen in Splus, but that's just because it won't do
right=F...:

>  cut(seq(0,0.5,0.05), breaks=c(0,0.1,0.2,0.3,0.4,0.5))                         [1] NA  1  1  2  2  3  4  4  4  5  5
attr(, "levels"):
[1] "0.0+ thru 0.1" "0.1+ thru 0.2" "0.2+ thru 0.3" "0.3+ thru 0.4"
[5] "0.4+ thru 0.5"

>  cut(-0.35, breaks=-rev(seq(0,1,0.05)))                                       [1] 14       
attr(, "levels"):
 [1] "-1.00+ thru -0.95" "-0.95+ thru -0.90" "-0.90+ thru -0.85"
 [4] "-0.85+ thru -0.80" "-0.80+ thru -0.75" "-0.75+ thru -0.70"
 [7] "-0.70+ thru -0.65" "-0.65+ thru -0.60" "-0.60+ thru -0.55"
[10] "-0.55+ thru -0.50" "-0.50+ thru -0.45" "-0.45+ thru -0.40"
[13] "-0.40+ thru -0.35" "-0.35+ thru -0.30" "-0.30+ thru -0.25"
[16] "-0.25+ thru -0.20" "-0.20+ thru -0.15" "-0.15+ thru -0.10"
[19] "-0.10+ thru -0.05" "-0.05+ thru  0.00"



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Nov 26 22:54:31 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 26 Nov 1998 14:54:31 -0800 (PST)
Subject: Saving memory usage -- .C(....., DUP = FALSE)  danger?
In-Reply-To: <199811261351.OAA27891@sophie.ethz.ch>
Message-ID: <Pine.GSO.4.03.9811261434290.9184-100000@wompom.biostat.washington.edu>

On Thu, 26 Nov 1998, Martin Maechler wrote:
> 
> But then I wondered ``more generally'' :
> 
> 	What exactly happens / can happen when calling, e.g.,
> 
> 		r <- .C("foo", x=x, y=as.double(y),  DUP = FALSE)
> 
> 	Will 'x' be altered after the call to .C(*)  if in C's 
> 		foo(double *x, double *y)
> 	x is altered?
> 	Will 'y' be unaltered anyway, since   "as.double(y)" produces a
> 	a different object than 'y' anway?

x will be altered, y will not.  If you want y altered then you have to
assign it to storage model "double" earlier. 

> 
> Really useful might be a comprehensive list of recommendations 
> on when  "DUP = FALSE" is useful / advisable / detestable ...
> 

Here's a start.  

DUP=FALSE is dangerous.

There are two important dangers with DUP=FALSE. The first
is that garbage collection may move the object, resulting in the pointers
pointing nowhere useful and causing hard-to-reproduce bugs.

The second is that if you pass a formal parameter of the calling function
to .C/.Fortran with DUP=FALSE I don't think it is necessarily copied. You
may be able to change not only the local variable but the variable one
level up. This will also be very hard to trace.

1) If your C/Fortran routine calls back any R function including
S_alloc/R_alloc then do not use DUP=FALSE. Don't even think about it.  
Calling almost any R function could trigger garbage collection.

2) If you don't trigger garbage collection it is safe and useful to set
DUP=FALSE if you don't change any of the variables that might be affected
	eg  .C("Cfunction",input=x,output=numeric(10))
In this case the output variable didn't exist before the call so it can't
cause trouble. If the input variable is not changed in Cfunction you are
safe.



I've commented before (but never actually done anything) that it would be
a useful intermediate step to have analogues of the Fortran 90 INTENT IN
and INTENT OUT declarations for these functions. In the example above
there is no need to copy the input back after calling Cfunction and no
need to copy the output before calling (just to allocate the space).
Something like
	.C("Cfunction",input=x,output=numeric(10),IN=c(T,F),OUT=c(F,T))
might then say to copy x and allocate uninitialised space for numeric(10),
call the function, and then copy output back again. The first component of
the result would then be NULL, saving space in the local environment as
well. These would be less efficient but less dangerous than DUP=FALSE as
you couldn't mess up R's internal structures by getting the declarations
wrong.



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From M.J.Ray@UEA.ac.uk  Mon Nov 30 10:38:22 1998
From: M.J.Ray@UEA.ac.uk (Mark J Ray)
Date: Mon, 30 Nov 1998 10:38:22 +0000
Subject: Rcgi announcement
Message-ID: <19981130103822.50123@mth.uea.ac.uk>

Dear All,

I am writing to ask if you would please test our first public release of
Rcgi, a CGI WWW interface to R.  We've added a few new tricks to what has
gone before, the most interesting of which is the ability to use "embedded
code": you can mix user input and code, allowing the HTML author to do
anything from load in data sets to enter most of the commands for users
without writing CGI scripts.  Graphical output is possible in PostScript or
GIF formats and the executed code is presented to the user for revision.

A demonstration and download is available from
	http://www.mth.uea.ac.uk/~h089/Rcgi/
We're especially interested in any comments, suggestions or improvements
that you may have.

The software requires
	- R (prefer 0.61 or later)
	- Perl 5
	- gzip tools
	- Ghostscript (for GIF output)
	- NetPBM (for GIF output)
	- A CGI-enabled web server (eg Apache)

-- 
Mark.
Stats Postgrad  mailto:M.J.Ray@UEA.ac.uk      http://wwwmjr.base.org/
UEA Norwich UK  mailto:markj@stu.uea.ac.uk  http://www.stu.uea.ac.uk/
"Software is like sex, it's better when it's free." - Linus Torvalds
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Nov 30 18:29:39 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 30 Nov 1998 18:29:39 +0000 (GMT)
Subject: [R] R functionality
Message-ID: <199811301829.SAA07623@toucan.stats.ox.ac.uk>


> Date: Mon, 30 Nov 1998 12:07:10 -0500
> From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
> To: Ed Kademan <kademan@phz.com>
> 
> >Is there anything R can do that Splus can't?
> 
> Problems which require lots of looping and cannot be re-coded as vector/matrix
> operations are theoretically possible but practically infeasible in S, unless
> they  are coded in C or Fortran and called from S. These problems seem to run
> fine in R.

Some but not all. Last night I was trying to run my survival examples
in R on Windows, including a large loop or alternatively a vectorized
version using many 4000x3 matrices.  Both run happily in S-PLUS 4.5 in
about three minutes and less than 10Mb allocated. R needs a largish
heap (20Mb failed, 30Mb seemed enough) that got partially swapped out
(the machine has 32Mb RAM) and I gave up after an hour of thrashing on
the loop version, and the vectorized version seemed in far more
page-thrashing trouble. Eventually I found just the right heap size
(24Mb) to get the loop version to run in about ten minutes.  R also has
a large amount of code in memory by that stage in the computations (ca
300000 n cells used).

BTW there are enormous differences amongst S3, S-PLUS 3/4.x, S4 and
S-PLUS 5.x in this area.


From: Thomas Lumley <thomas@biostat.washington.edu>

> Some of the
> packages, because they are more recent than similar S(-PLUS) built-in
> features may be better designed (eg the tree packages from Terry Therneau
> and Brian Ripley,

To be fair, both of those went the other way, they were written as
S(-PLUS) addons and then ported (by me) to R.  The only example I am
aware of going from R to S is my (still unfinished) lqs package, which
started as a re-design of some ROBETH code and ended up much more
comprehensive than what was available for S-PLUS.

> As R is much faster on _some_ code than S-PLUS I have also done
> simulations in R that I could not do in S-PLUS. Whether this counts as an
> added feature is arguable, but it can certainly be useful.

Agreed, but as my anecdote shows, much slower on other code.  I have
done extensive timings on the same machine and I see only a very few
statistical jobs where the overall speed difference is more than two
either way (against S-PLUS 3.4/4.5: S-PLUS 5.0 is another ball game).

`Your mileage may differ.'


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov 30 19:24:08 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 30 Nov 1998 14:24:08 -0500
Subject: [R] R functionality
References: <199811301829.SAA07623@toucan.stats.ox.ac.uk>
Message-ID: <98Nov30.143327est.13479@mailgate.bank-banque-canada.ca>

PG>Problems which require lots of looping and cannot be re-coded as
vector/matrix
PG> operations are theoretically possible but practically infeasible in S,
unless
PG> they  are coded in C or Fortran and called from S. These problems seem to
run
PG> fine in R.

BR>Some but not all...

TL> As R is much faster on _some_ code ...

BR>Agreed, but as my anecdote shows, much slower on other code.
BR>`Your mileage may differ.'

Well, for the record, my milage is that Splus 3.3 is generally about twice as
fast as R with Solaris 2.6 on a Sparc Ultra10 doing my standard test set of
problems. These tests call Fortran for the main loop of ARMA and state space
time series models and use Splus "For" loops (which are a real pain to debug)
for monte-carlo simulations and "For" loops calling the "For" loops (which are a
super pain to debug) for evaluating estimation techniques. In R, I use "for"
loops.

However, I've been experimenting with some other time series models which I have
not (and cannot easily) code in fortran. In R it is true that I have to tweak
the nsize and vsize. Too much will cause paging. But I can run the monte-carlo
simulations and also evaluate estimation techniques in a reasonable time. In
Splus it seems these would take years to run. Apart from setting the nsize and
vsize too large and causing paging I have not run into the situation that R is
orders of magnitude slower than Splus.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

