From guox at ucalgary.ca  Tue Apr  1 00:07:44 2008
From: guox at ucalgary.ca (guox at ucalgary.ca)
Date: Mon, 31 Mar 2008 16:07:44 -0600 (MDT)
Subject: [Rd] Call R from C#
Message-ID: <3356.68.145.126.79.1207001264.squirrel@68.145.126.79>

I would like to call functions/objects of R from
C#.NET environment. I was wondering whether or not
it is possible. If yes, could you please give me some suggestions
on how to approach it (any examples/documentation on this)? Thanks!
-James


From pavlidisp2 at simon.rochester.edu  Tue Apr  1 00:30:09 2008
From: pavlidisp2 at simon.rochester.edu (Pavlidis, Polykarpos)
Date: Mon, 31 Mar 2008 18:30:09 -0400
Subject: [Rd] Compile dll in Windows XP
References: <46F9F96760FD9A48AF99A8855DA6B59101100708@ITS-EXC8.UR.Rochester.edu>
	<47F15CEF.2030302@stats.uwo.ca>
Message-ID: <46F9F96760FD9A48AF99A8855DA6B5910110070A@ITS-EXC8.UR.Rochester.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080331/4eaaf843/attachment.pl 

From ripley at stats.ox.ac.uk  Tue Apr  1 07:43:27 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 1 Apr 2008 06:43:27 +0100 (BST)
Subject: [Rd] Call R from C#
In-Reply-To: <3356.68.145.126.79.1207001264.squirrel@68.145.126.79>
References: <3356.68.145.126.79.1207001264.squirrel@68.145.126.79>
Message-ID: <alpine.LFD.1.00.0804010640560.9671@gannet.stats.ox.ac.uk>

On Mon, 31 Mar 2008, guox at ucalgary.ca wrote:

> I would like to call functions/objects of R from
> C#.NET environment. I was wondering whether or not
> it is possible. If yes, could you please give me some suggestions
> on how to approach it (any examples/documentation on this)? Thanks!

Yes, it is possible.  See the 'Writing R Extensions' manual -- you would 
effectivaly be embedding R into a .NET application.

BTW, this has come up several times, so I am surprised that your search of 
the lists archives did not find it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From luke at stat.uiowa.edu  Tue Apr  1 12:32:15 2008
From: luke at stat.uiowa.edu (Luke Tierney)
Date: Tue, 1 Apr 2008 05:32:15 -0500 (CDT)
Subject: [Rd] callCC in 2.7.0
In-Reply-To: <16395614.post@talk.nabble.com>
References: <971536df0803300710t40f61256x78b9889a5c323924@mail.gmail.com>
	<16395614.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.64.0804010528270.14754@nokomis.stat.uiowa.edu>

No.  First class continuations of the kind provided in scheme can be
used as a means to implement generators, but downward-only
continuations as currently provided in R are not sufficient for that.
This version is intended only as a non-local exit mechanism.

Best,

luke

On Mon, 31 Mar 2008, f.jamitzky wrote:

>
> callcc is similar to the "yield" keyword in python and c#
> it lets you define e.g. a generator of lists of numbers.
>
>
>
>
> Gabor Grothendieck wrote:
>>
>> Would anyone like to explain if callCC in R 2.7.0 gives
>> anything that on.exit does not already provide?
>>
>> It seems that the exit condition once defined cannot
>> be added to overridden whereas with on.exit multiple
>> on.exit's add additional on.exits rather than being ignored.
>>
>> Is this important?
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From ggrothendieck at gmail.com  Tue Apr  1 15:12:14 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 1 Apr 2008 09:12:14 -0400
Subject: [Rd] callCC in 2.7.0
In-Reply-To: <Pine.LNX.4.64.0804010528270.14754@nokomis.stat.uiowa.edu>
References: <971536df0803300710t40f61256x78b9889a5c323924@mail.gmail.com>
	<16395614.post@talk.nabble.com>
	<Pine.LNX.4.64.0804010528270.14754@nokomis.stat.uiowa.edu>
Message-ID: <971536df0804010612v618168at709db05e16ea1efe@mail.gmail.com>

Can I suggest some clarification of the help page for callCC
plainly stating that it is intended to exit from a deeply nested
set of calls.

On a casual reading I thought the exact same thing as f.jamitsky.

On Tue, Apr 1, 2008 at 6:32 AM, Luke Tierney <luke at stat.uiowa.edu> wrote:
> No.  First class continuations of the kind provided in scheme can be
> used as a means to implement generators, but downward-only
> continuations as currently provided in R are not sufficient for that.
> This version is intended only as a non-local exit mechanism.
>
> Best,
>
> luke
>
> On Mon, 31 Mar 2008, f.jamitzky wrote:
>
> >
> > callcc is similar to the "yield" keyword in python and c#
> > it lets you define e.g. a generator of lists of numbers.
> >
> >
> >
> >
> > Gabor Grothendieck wrote:
> >>
> >> Would anyone like to explain if callCC in R 2.7.0 gives
> >> anything that on.exit does not already provide?
> >>
> >> It seems that the exit condition once defined cannot
> >> be added to overridden whereas with on.exit multiple
> >> on.exit's add additional on.exits rather than being ignored.
> >>
> >> Is this important?
> >>
> >> ______________________________________________
> >> R-devel at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-devel
> >>
> >>
> >
> >
>
> --
> Luke Tierney
> Chair, Statistics and Actuarial Science
> Ralph E. Wareham Professor of Mathematical Sciences
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From f.jamitzky at gmail.com  Tue Apr  1 15:24:35 2008
From: f.jamitzky at gmail.com (Dr. Ferdinand Jamitzky)
Date: Tue, 1 Apr 2008 15:24:35 +0200
Subject: [Rd] callCC in 2.7.0
In-Reply-To: <Pine.LNX.4.64.0804010528270.14754@nokomis.stat.uiowa.edu>
References: <971536df0803300710t40f61256x78b9889a5c323924@mail.gmail.com>
	<16395614.post@talk.nabble.com>
	<Pine.LNX.4.64.0804010528270.14754@nokomis.stat.uiowa.edu>
Message-ID: <6d7785c00804010624t67ef9b0fw9ddf447da744de0d@mail.gmail.com>

Anyway something like "yield" would be very nice to have.
Would it be hard to implement?
It could be in a similar way to scala where you can define for-comprehensions.
I really miss them in R.
best wishes
ferdinand

On Tue, Apr 1, 2008 at 12:32 PM, Luke Tierney <luke at stat.uiowa.edu> wrote:
> No.  First class continuations of the kind provided in scheme can be
>  used as a means to implement generators, but downward-only
>  continuations as currently provided in R are not sufficient for that.
>  This version is intended only as a non-local exit mechanism.
>
>  Best,
>
>  luke
>
>  On Mon, 31 Mar 2008, f.jamitzky wrote:
>
>  >
>  > callcc is similar to the "yield" keyword in python and c#
>  > it lets you define e.g. a generator of lists of numbers.
>  >
>  >
>  >
>  >
>  > Gabor Grothendieck wrote:
>  >>
>  >> Would anyone like to explain if callCC in R 2.7.0 gives
>  >> anything that on.exit does not already provide?
>  >>
>  >> It seems that the exit condition once defined cannot
>  >> be added to overridden whereas with on.exit multiple
>  >> on.exit's add additional on.exits rather than being ignored.
>  >>
>  >> Is this important?
>  >>
>  >> ______________________________________________
>  >> R-devel at r-project.org mailing list
>  >> https://stat.ethz.ch/mailman/listinfo/r-devel
>  >>
>  >>
>  >
>  >
>
>  --
>  Luke Tierney
>  Chair, Statistics and Actuarial Science
>  Ralph E. Wareham Professor of Mathematical Sciences
>  University of Iowa                  Phone:             319-335-3386
>  Department of Statistics and        Fax:               319-335-3017
>     Actuarial Science
>  241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
>  Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>



-- 
#################################################################################
Dr. Ferdinand Jamitzky

Leibniz Supercomputing Centre
of the Bavarian Academy of Sciences and Humanities
Boltzmannstra?e 1
85748 Garching bei M?nchen
Phone: ++49-89-35831-8727
Fax: ++49-89-35831-9700
Mobile: 0177 - 829 3 649
e-mail: jamitzky at lrz.de

#################################################################################


From simon.debernard at altrabio.com  Tue Apr  1 12:15:05 2008
From: simon.debernard at altrabio.com (simon.debernard at altrabio.com)
Date: Tue,  1 Apr 2008 12:15:05 +0200 (CEST)
Subject: [Rd] "by" speed improvement (PR#11064)
Message-ID: <20080401101505.4923D2834169@mail.pubhealth.ku.dk>

Full_Name: Simon de Bernard
Version: 2.7.0 (44733)
OS: MacOS
Submission from: (NULL) (140.77.34.213)


"by" usually takes forever even on a "not so large" data structure.

If one can do with a matrix instead of a data.frame, defining by.matrix as
by.data.frame modified to convert data back to a data.frame in the "eval" call
improves speed by orders of magnitude (whatever that means ;-) )

I'd suggest defining the by.matrix function directly in R...


From r.hankin at noc.soton.ac.uk  Wed Apr  2 10:51:04 2008
From: r.hankin at noc.soton.ac.uk (Robin Hankin)
Date: Wed, 2 Apr 2008 09:51:04 +0100
Subject: [Rd] "[<-" plus drop-type extra argument
Message-ID: <6E7FF74C-4FBE-4AEA-B8D7-8C4F27CD47C0@noc.soton.ac.uk>

Hello

I am writing a replacement method for an S4 class and want to pass
an additional argument to  "[<-"() along the lines of  "["()'s  "drop"  
argument.

Specifically, I have an S4  class, call it "foo", with a slot  'x'  
that is a
vector and a slot  'NC' that  is a scalar.

I want to be able to pass a Boolean argument to the replacement
method which specifies whether or not to recalculate  NC (which
is time-consuming and often not needed).  I want the default behaviour
to be "don't recalculate NC".

Toy example follows, in which 'NC' is the sum of x (in my application,
calculating NC is an expensive multidimensional integral).


setClass("foo",
          representation = representation(x="numeric" , NC="numeric"),
          prototype      = list(x=double() , NC=NA_real_)
          )

setReplaceMethod("[",signature(x="foo"),
                  function(x,i,j,recalculate=FALSE,value){
                    jj <- x at x
                    jj[i] <- value
                    if(recalculate){
                      return(new("foo" , x=jj , NC=sum(jj)))
                    } else {
                      return(new("foo" , x=jj , NC=NA_real_))
                    }
                  }
                  )




Then



 >
 > a <- new("foo", x=1:10,NC=45)


 > a[4,recalculate=FALSE] <- 10000
 > a
An object of class ?foo?
Slot "x":
  [1]     1     2     3 10000     5     6     7     8     9    10

Slot "NC":
[1] NA

#  Desired behaviour: NC not recalculated


 >
 > a[4,recalculate=TRUE] <- 10000
 > a
An object of class ?foo?
Slot "x":
  [1]     1     2     3 10000     5     6     7     8     9    10

Slot "NC":
[1] 10051


# Desired behaviour: NC recalculated

 >
 > a[4] <- 10000
Error in .local(x, i, j, ..., value) :
   argument "value" is missing, with no default
 >

# Undesired behaviour:  I wanted 'recalculate' to take its default  
value of FALSE, and 'NC' not be recalculated.


How to do this?





--
Robin Hankin
Uncertainty Analyst and Neutral Theorist,
National Oceanography Centre, Southampton
European Way, Southampton SO14 3ZH, UK
  tel  023-8059-7743


From osklyar at maninvestments.com  Wed Apr  2 16:38:27 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Wed, 2 Apr 2008 15:38:27 +0100
Subject: [Rd] "[<-" plus drop-type extra argument
In-Reply-To: <6E7FF74C-4FBE-4AEA-B8D7-8C4F27CD47C0@noc.soton.ac.uk>
References: <6E7FF74C-4FBE-4AEA-B8D7-8C4F27CD47C0@noc.soton.ac.uk>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE4302294808@mildnpexmb01.maninvestments.ad.man.com>

Robin:

two points:

first for convenience and performance it has sense to derive your class from numeric rather than introduce a numeric slot, i.e.

setClass("foo",
  representation(
    "numeric",
    NC="numeric"
  ),
  prototype(
    NC=NA_real_
  )
)

or

setClass("foo",
  representation(
    NC="numeric"
  ),
  prototype(
    NC=NA_real_
  ),
  contains="numeric"
)

In this way your data is in the .Data slot by default and all the functions defined for numeric work out of the box (you just need to redefine those that have to return foo rather than numeric).

Second, your setReplaceMethod seems to be wrong in the definition, try the following adding signature for value and ... in the function call. You cannot simply drop the ... . Probably you will also need to include j="missing" in the signature. There is also no need to construct a new object on return and I do not think drop is a part of generic for replacement, it is for extraction though

setReplaceMethod("[", signature(x="foo", value="ANY"),
  function(x, i,j, ..., recalculate=FALSE, value) {
    x at .Data[i] = value
    if (recalculate) x at NC = sum(x at .Data)
    x
  })

Here is the output:
> a = new("foo", 1:15)
> a
An object of class ???foo???
 [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15
Slot "NC":
[1] NA

> a[5,recalculate=TRUE] = 25
> a
An object of class ???foo???
 [1]  1  2  3  4 25  6  7  8  9 10 11 12 13 14 15
Slot "NC":
[1] 140


Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Robin Hankin
> Sent: 02 April 2008 09:51
> To: R-devel at r-project.org
> Subject: [Rd] "[<-" plus drop-type extra argument
> 
> Hello
> 
> I am writing a replacement method for an S4 class and want to 
> pass an additional argument to  "[<-"() along the lines of  
> "["()'s  "drop"  
> argument.
> 
> Specifically, I have an S4  class, call it "foo", with a slot  'x'  
> that is a
> vector and a slot  'NC' that  is a scalar.
> 
> I want to be able to pass a Boolean argument to the 
> replacement method which specifies whether or not to 
> recalculate  NC (which is time-consuming and often not 
> needed).  I want the default behaviour to be "don't recalculate NC".
> 
> Toy example follows, in which 'NC' is the sum of x (in my 
> application, calculating NC is an expensive multidimensional 
> integral).
> 
> 
> setClass("foo",
>           representation = representation(x="numeric" , NC="numeric"),
>           prototype      = list(x=double() , NC=NA_real_)
>           )
> 
> setReplaceMethod("[",signature(x="foo"),
>                   function(x,i,j,recalculate=FALSE,value){
>                     jj <- x at x
>                     jj[i] <- value
>                     if(recalculate){
>                       return(new("foo" , x=jj , NC=sum(jj)))
>                     } else {
>                       return(new("foo" , x=jj , NC=NA_real_))
>                     }
>                   }
>                   )
> 
> 
> 
> 
> Then
> 
> 
> 
>  >
>  > a <- new("foo", x=1:10,NC=45)
> 
> 
>  > a[4,recalculate=FALSE] <- 10000
>  > a
> An object of class ?foo?
> Slot "x":
>   [1]     1     2     3 10000     5     6     7     8     9    10
> 
> Slot "NC":
> [1] NA
> 
> #  Desired behaviour: NC not recalculated
> 
> 
>  >
>  > a[4,recalculate=TRUE] <- 10000
>  > a
> An object of class ?foo?
> Slot "x":
>   [1]     1     2     3 10000     5     6     7     8     9    10
> 
> Slot "NC":
> [1] 10051
> 
> 
> # Desired behaviour: NC recalculated
> 
>  >
>  > a[4] <- 10000
> Error in .local(x, i, j, ..., value) :
>    argument "value" is missing, with no default  >
> 
> # Undesired behaviour:  I wanted 'recalculate' to take its 
> default value of FALSE, and 'NC' not be recalculated.
> 
> 
> How to do this?
> 
> 
> 
> 
> 
> --
> Robin Hankin
> Uncertainty Analyst and Neutral Theorist, National 
> Oceanography Centre, Southampton European Way, Southampton 
> SO14 3ZH, UK
>   tel  023-8059-7743
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


**********************************************************************
The contents of this email are for the named addressee(s) only.
It contains information which may be confidential and privileged.
If you are not the intended recipient, please notify the sender
immediately, destroy this email and any attachments and do not
otherwise disclose or use them. Email transmission is not a
secure method of communication and Man Investments cannot accept
responsibility for the completeness or accuracy of this email or
any attachments. Whilst Man Investments makes every effort to keep
its network free from viruses, it does not accept responsibility
for any computer virus which might be transferred by way of this
email or any attachments. This email does not constitute a request,
offer, recommendation or solicitation of any kind to buy, subscribe,
sell or redeem any investment instruments or to perform other such
transactions of any kind. Man Investments reserves the right to
monitor, record and retain all electronic communications through
its network to ensure the integrity of its systems, for record
keeping and regulatory purposes. 

Visit us at: www.maninvestments.com

**********************************************************************


From mtmorgan at fhcrc.org  Wed Apr  2 18:54:22 2008
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Wed, 02 Apr 2008 09:54:22 -0700
Subject: [Rd] "[<-" plus drop-type extra argument
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294808@mildnpexmb01.maninvestments.ad.man.com>
References: <6E7FF74C-4FBE-4AEA-B8D7-8C4F27CD47C0@noc.soton.ac.uk>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294808@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <47F3BA3E.7050200@fhcrc.org>


Sklyar, Oleg (MI London) wrote:
> Robin:
> 
> two points:

> Second, your setReplaceMethod seems to be wrong in the definition, try the following adding signature for value and ... in the function call. You cannot simply drop the ... . Probably you will also need to include j="missing" in the signature. There is also no need to construct a new object on return and I do not think drop is a part of generic for replacement, it is for extraction though
> 
> setReplaceMethod("[", signature(x="foo", value="ANY"),
>   function(x, i,j, ..., recalculate=FALSE, value) {
>     x at .Data[i] = value
>     if (recalculate) x at NC = sum(x at .Data)
>     x
>   })

Informative to investigate this a bit further. Without the ... we have

 > showMethods("[<-", class="foo", includeDef=TRUE)
Function: [<- (package base)
x="foo"
function (x, i, j, ..., value)
{
     .local <- function (x, i, j, recalculate = FALSE, value)
     x
     .local(x, i, j, ..., value)
}

.local maps between the generic and the method signature; the map is 
incorrect when there are additional arguments but no .... An 
indiscretion, perhaps, on the part of the methods package. This is in 
contrast to a method with ...

 > showMethods("[<-", class="foo", includeDef=TRUE)
Function: [<- (package base)
x="foo"
function (x, i, j, ..., value)
{
     .local <- function (x, i, j, ..., recalculate = FALSE, value)
     x
     .local(x, i, j, ..., value = value)
}

here .local plays the same role, but value is named explicitly and the 
problem avoided.

With respect to use of 'new' and slot assignments,  it might be delving 
too much into implementation but I think (a) using 'initialize' is 
better than 'new' when you're doing a copy construction and (b) 
'initialize' is more memory efficient than slot assignment when doing 
multiple assignments (at least tracemem says so):

setGeneric("up1", function(x) standardGeneric("up1"))
setGeneric("up2", function(x) standardGeneric("up2"))

setMethod("up1", signature(x="foo"), function(x) {
     x at x <- 1
     x at NC <- NA_real_
     x
})
setMethod("up2", signature(x="foo"), function(x) {
     initialize(x, x=1, NC=NA_real_)
})

 > a1 <- up1(a) # 2 copies
tracemem[0x6d08d60 -> 0x7fa4628]: up1 up1
tracemem[0x7fa4628 -> 0x9b45518]: up1 up1
 > a2 <- up2(a) # just 1
tracemem[0x6d08d60 -> 0x6cad360]: initialize initialize up2 up2
 > identical(a1, a2)
[1] TRUE

This also provides object validation, which may or may not be desirable.

Martin

> Here is the output:
>> a = new("foo", 1:15)
>> a
> An object of class ???foo???
>  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15
> Slot "NC":
> [1] NA
> 
>> a[5,recalculate=TRUE] = 25
>> a
> An object of class ???foo???
>  [1]  1  2  3  4 25  6  7  8  9 10 11 12 13 14 15
> Slot "NC":
> [1] 140
> 
> 
> Dr Oleg Sklyar
> Technology Group
> Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com 
> 
>> -----Original Message-----
>> From: r-devel-bounces at r-project.org 
>> [mailto:r-devel-bounces at r-project.org] On Behalf Of Robin Hankin
>> Sent: 02 April 2008 09:51
>> To: R-devel at r-project.org
>> Subject: [Rd] "[<-" plus drop-type extra argument
>>
>> Hello
>>
>> I am writing a replacement method for an S4 class and want to 
>> pass an additional argument to  "[<-"() along the lines of  
>> "["()'s  "drop"  
>> argument.
>>
>> Specifically, I have an S4  class, call it "foo", with a slot  'x'  
>> that is a
>> vector and a slot  'NC' that  is a scalar.
>>
>> I want to be able to pass a Boolean argument to the 
>> replacement method which specifies whether or not to 
>> recalculate  NC (which is time-consuming and often not 
>> needed).  I want the default behaviour to be "don't recalculate NC".
>>
>> Toy example follows, in which 'NC' is the sum of x (in my 
>> application, calculating NC is an expensive multidimensional 
>> integral).
>>
>>
>> setClass("foo",
>>           representation = representation(x="numeric" , NC="numeric"),
>>           prototype      = list(x=double() , NC=NA_real_)
>>           )
>>
>> setReplaceMethod("[",signature(x="foo"),
>>                   function(x,i,j,recalculate=FALSE,value){
>>                     jj <- x at x
>>                     jj[i] <- value
>>                     if(recalculate){
>>                       return(new("foo" , x=jj , NC=sum(jj)))
>>                     } else {
>>                       return(new("foo" , x=jj , NC=NA_real_))
>>                     }
>>                   }
>>                   )
>>
>>
>>
>>
>> Then
>>
>>
>>
>>  >
>>  > a <- new("foo", x=1:10,NC=45)
>>
>>
>>  > a[4,recalculate=FALSE] <- 10000
>>  > a
>> An object of class ?foo?
>> Slot "x":
>>   [1]     1     2     3 10000     5     6     7     8     9    10
>>
>> Slot "NC":
>> [1] NA
>>
>> #  Desired behaviour: NC not recalculated
>>
>>
>>  >
>>  > a[4,recalculate=TRUE] <- 10000
>>  > a
>> An object of class ?foo?
>> Slot "x":
>>   [1]     1     2     3 10000     5     6     7     8     9    10
>>
>> Slot "NC":
>> [1] 10051
>>
>>
>> # Desired behaviour: NC recalculated
>>
>>  >
>>  > a[4] <- 10000
>> Error in .local(x, i, j, ..., value) :
>>    argument "value" is missing, with no default  >
>>
>> # Undesired behaviour:  I wanted 'recalculate' to take its 
>> default value of FALSE, and 'NC' not be recalculated.
>>
>>
>> How to do this?
>>
>>
>>
>>
>>
>> --
>> Robin Hankin
>> Uncertainty Analyst and Neutral Theorist, National 
>> Oceanography Centre, Southampton European Way, Southampton 
>> SO14 3ZH, UK
>>   tel  023-8059-7743
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 
> 
> **********************************************************************
> The contents of this email are for the named addressee(s) only.
> It contains information which may be confidential and privileged.
> If you are not the intended recipient, please notify the sender
> immediately, destroy this email and any attachments and do not
> otherwise disclose or use them. Email transmission is not a
> secure method of communication and Man Investments cannot accept
> responsibility for the completeness or accuracy of this email or
> any attachments. Whilst Man Investments makes every effort to keep
> its network free from viruses, it does not accept responsibility
> for any computer virus which might be transferred by way of this
> email or any attachments. This email does not constitute a request,
> offer, recommendation or solicitation of any kind to buy, subscribe,
> sell or redeem any investment instruments or to perform other such
> transactions of any kind. Man Investments reserves the right to
> monitor, record and retain all electronic communications through
> its network to ensure the integrity of its systems, for record
> keeping and regulatory purposes. 
> 
> Visit us at: www.maninvestments.com
> 
> **********************************************************************
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M2 B169
Phone: (206) 667-2793


From luke at stat.uiowa.edu  Wed Apr  2 18:58:34 2008
From: luke at stat.uiowa.edu (Luke Tierney)
Date: Wed, 2 Apr 2008 11:58:34 -0500 (CDT)
Subject: [Rd] callCC in 2.7.0
In-Reply-To: <6d7785c00804010624t67ef9b0fw9ddf447da744de0d@mail.gmail.com>
References: <971536df0803300710t40f61256x78b9889a5c323924@mail.gmail.com> 
	<16395614.post@talk.nabble.com>
	<Pine.LNX.4.64.0804010528270.14754@nokomis.stat.uiowa.edu>
	<6d7785c00804010624t67ef9b0fw9ddf447da744de0d@mail.gmail.com>
Message-ID: <Pine.LNX.4.64.0804021147170.17620@nokomis.stat.uiowa.edu>

On Tue, 1 Apr 2008, Dr. Ferdinand Jamitzky wrote:

> Anyway something like "yield" would be very nice to have.
> Would it be hard to implement?

Short answer: yes, it would be hard.

Longer answer: R's interpreter is based on lots of recursive C calls.
There are standard ways of implementing continuations in that sort of
context, but they are not entirely portable (involves C stack
copying), require assembly language programming on some platforms
(register window flushing on sparc for example) and can be fairly
inefficient.  It might be possible to implement something more
restricive that is sufficient for implementing generators, but I don't
think it would be much easier given the current architecture.  It is
worth keeping this in mind if we make changes to the evaluator, but
that is not likely to happen real soon.  Some of us worked on
something along these lines a while back in a branch called R-uthreads,
but the cost of converting to that approach and the overhead of
maintaining it seemed too high for the benefit, at least at the time.

Best,

luke

> It could be in a similar way to scala where you can define for-comprehensions.
> I really miss them in R.
> best wishes
> ferdinand
>
> On Tue, Apr 1, 2008 at 12:32 PM, Luke Tierney <luke at stat.uiowa.edu> wrote:
>> No.  First class continuations of the kind provided in scheme can be
>>  used as a means to implement generators, but downward-only
>>  continuations as currently provided in R are not sufficient for that.
>>  This version is intended only as a non-local exit mechanism.
>>
>>  Best,
>>
>>  luke
>>
>>  On Mon, 31 Mar 2008, f.jamitzky wrote:
>>
>> >
>> > callcc is similar to the "yield" keyword in python and c#
>> > it lets you define e.g. a generator of lists of numbers.
>> >
>> >
>> >
>> >
>> > Gabor Grothendieck wrote:
>> >>
>> >> Would anyone like to explain if callCC in R 2.7.0 gives
>> >> anything that on.exit does not already provide?
>> >>
>> >> It seems that the exit condition once defined cannot
>> >> be added to overridden whereas with on.exit multiple
>> >> on.exit's add additional on.exits rather than being ignored.
>> >>
>> >> Is this important?
>> >>
>> >> ______________________________________________
>> >> R-devel at r-project.org mailing list
>> >> https://stat.ethz.ch/mailman/listinfo/r-devel
>> >>
>> >>
>> >
>> >
>>
>>  --
>>  Luke Tierney
>>  Chair, Statistics and Actuarial Science
>>  Ralph E. Wareham Professor of Mathematical Sciences
>>  University of Iowa                  Phone:             319-335-3386
>>  Department of Statistics and        Fax:               319-335-3017
>>     Actuarial Science
>>  241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
>>  Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>>
>
>
>
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From tobias.verbeke at telenet.be  Thu Apr  3 13:42:36 2008
From: tobias.verbeke at telenet.be (Tobias Verbeke)
Date: Thu, 03 Apr 2008 11:42:36 +0000
Subject: [Rd] =?utf-8?q?by_=22infelicity=22?=
Message-ID: <W2229325762230231207222956@nocme1bl6.telenet-ops.be>

Dear list,

Please find below an example of odd
behaviour of the by function. 

It occurs both under GNU/Linux R 2.6.2
and Windows R 2.7.0alpha. Respective
sessionInfo()'s are given below.

I hope I do not overlook anything.

testFactor <- factor(sample(LETTERS[1:6], size = 42, replace = TRUE))
testMatrix <- matrix(rnorm(42 * 6), nrow = 42)
testDf <- as.data.frame(testMatrix)

by(data = testDf, INDICES = testFactor, FUN = mean) # OK
by(data = testDf, INDICES = testFactor, FUN = median) # error
# Error in median.default(data[x, ], ...) : need numeric data

Kind regards,
Tobias

### GNU/Linux ###
> sessionInfo() 
R version 2.6.2 (2008-02-08) 
i486-pc-linux-gnu 

locale:
LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=en_US.UTF-8;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] tools     stats     graphics  grDevices utils     datasets  methods  
[8] base     

other attached packages:
[1] Biobase_1.16.3

### Windows ###

> sessionInfo() 
R version 2.7.0 alpha (2008-03-29 r44988) 
i386-pc-mingw32 

locale:
		LC_COLLATE=English_United Kingdom.1252;LC_CTYPE=English_United Kingdom.1252;LC_MONETARY=English_United Kingdom.1252;LC_NUMERIC=C;LC_TIME=English_United Kingdom.1252

attached base packages:
		[1] stats     graphics  grDevices utils     datasets  methods   base     
>


From p.dalgaard at biostat.ku.dk  Thu Apr  3 14:16:26 2008
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu, 03 Apr 2008 14:16:26 +0200
Subject: [Rd] by "infelicity"
In-Reply-To: <W2229325762230231207222956@nocme1bl6.telenet-ops.be>
References: <W2229325762230231207222956@nocme1bl6.telenet-ops.be>
Message-ID: <47F4CA9A.407@biostat.ku.dk>

Tobias Verbeke wrote:
> Dear list,
>
> Please find below an example of odd
> behaviour of the by function. 
>
> It occurs both under GNU/Linux R 2.6.2
> and Windows R 2.7.0alpha. Respective
> sessionInfo()'s are given below.
>
> I hope I do not overlook anything.
>
> testFactor <- factor(sample(LETTERS[1:6], size = 42, replace = TRUE))
> testMatrix <- matrix(rnorm(42 * 6), nrow = 42)
> testDf <- as.data.frame(testMatrix)
>
> by(data = testDf, INDICES = testFactor, FUN = mean) # OK
> by(data = testDf, INDICES = testFactor, FUN = median) # error
> # Error in median.default(data[x, ], ...) : need numeric data
>   
The infelicity (if any) is not in by(). Try

mean(airquality)
median(airquality)

The FUN in by() is applied to the subsetted data frame, and there is no 
median.data.frame method.

-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From tobias.verbeke at telenet.be  Thu Apr  3 14:29:59 2008
From: tobias.verbeke at telenet.be (Tobias Verbeke)
Date: Thu, 03 Apr 2008 12:29:59 +0000
Subject: [Rd] by
Message-ID: <W2574527949296741207225799@nocme1bl6.telenet-ops.be>


>----- Oorspronkelijk bericht -----
>Van: Peter Dalgaard [mailto:p.dalgaard at biostat.ku.dk]
>Verzonden: donderdag, april 3, 2008 02:16 PM
>Aan: 'Tobias Verbeke'
>CC: r-devel at r-project.org
>Onderwerp: Re: [Rd] by "infelicity"
>
>Tobias Verbeke wrote:
>> Dear list,
>>
>> Please find below an example of odd
>> behaviour of the by function. 
>>
>> It occurs both under GNU/Linux R 2.6.2
>> and Windows R 2.7.0alpha. Respective
>> sessionInfo()'s are given below.
>>
>> I hope I do not overlook anything.
>>
>> testFactor <- factor(sample(LETTERS[1:6], size = 42, replace = TRUE))
>> testMatrix <- matrix(rnorm(42 * 6), nrow = 42)
>> testDf <- as.data.frame(testMatrix)
>>
>> by(data = testDf, INDICES = testFactor, FUN = mean) # OK
>> by(data = testDf, INDICES = testFactor, FUN = median) # error
>> # Error in median.default(data[x, ], ...) : need numeric data
>>   
>The infelicity (if any) is not in by(). Try
>
>mean(airquality)
>median(airquality)
>
>The FUN in by() is applied to the subsetted data frame, and there is no 
>median.data.frame method.

Apologies. Thanks for the clarification.

Kind regards,
Tobias


From atp at piskorski.com  Thu Apr  3 16:36:40 2008
From: atp at piskorski.com (Andrew Piskorski)
Date: Thu, 3 Apr 2008 10:36:40 -0400
Subject: [Rd] R-uthreads?
In-Reply-To: <Pine.LNX.4.64.0804021147170.17620@nokomis.stat.uiowa.edu>
References: <Pine.LNX.4.64.0804021147170.17620@nokomis.stat.uiowa.edu>
Message-ID: <20080403143638.GA54892@piskorski.com>

On Wed, Apr 02, 2008 at 11:58:34AM -0500, Luke Tierney wrote:
> Subject: Re: [Rd] callCC in 2.7.0

> Some of us worked on something along these lines a while back in a
> branch called R-uthreads, but the cost of converting to that
> approach and the overhead of maintaining it seemed too high for the
> benefit, at least at the time.

Luke, could you say a bit more about R-uthreads, what your ideas,
goals, and conclusions there were?

I see the old R-uthreads branch in svn (looks like it was based on R
1.4 back in Aug. 2001), but I couldn't find any summary discussion,
and I can't tell much just from looking at "src/main/uthreads.c".

-- 
Andrew Piskorski <atp at piskorski.com>
http://www.piskorski.com/


From renatagrigorio at yahoo.com.br  Thu Apr  3 18:00:16 2008
From: renatagrigorio at yahoo.com.br (Renata Grigorio)
Date: Thu, 3 Apr 2008 09:00:16 -0700 (PDT)
Subject: [Rd] .shp
Message-ID: <242447.50181.qm@web65605.mail.ac4.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080403/0aa4e5a1/attachment.pl 

From finleya at msu.edu  Thu Apr  3 16:48:14 2008
From: finleya at msu.edu (Andrew Finley)
Date: Thu, 03 Apr 2008 10:48:14 -0400
Subject: [Rd] =?windows-1252?q?g++_4=2E3__warning=3A_deprecated_conversion?=
 =?windows-1252?q?_from_string_constant_to_=91char*=92?=
Message-ID: <47F4EE2E.6090407@msu.edu>

Hello,
I've noticed that with g++ 4.3 I get the following "warning: deprecated 
conversion from string constant to ?char*?" when I call e.g., 
Rprintf("Hello world"); or when I try to define a const char e.g., char 
lower = 'L';

I am wrapping the c++ code in extern "C" {}. This seems to be something 
new with g++ 4.3, because the same code compiled without warnings with 
previous versions.

Has anyone else had theses warnings? Any fixes?

I have included some example output below. Each warning corresponds to 
an Rprintf call.


andy at friend:~/Rdevel/tmp$ R CMD SHLIB splmDIC.cpp covmodel.cpp util.cpp
g++-4.3 -I/usr/local/lib/R/include -I/usr/local/lib/R/include 
-I/usr/local/include    -fpic  -g -O2 -c splmDIC.cpp -o splmDIC.o
splmDIC.cpp: In function ?SEXPREC* splmDIC(SEXPREC*, SEXPREC*, SEXPREC*, 
SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, 
SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, 
SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*)?:
splmDIC.cpp:163: warning: deprecated conversion from string constant to 
?char*?
splmDIC.cpp:164: warning: deprecated conversion from string constant to 
?char*?
splmDIC.cpp:165: warning: deprecated conversion from string constant to 
?char*?
splmDIC.cpp:430: warning: deprecated conversion from string constant to 
?char*?
splmDIC.cpp:431: warning: deprecated conversion from string constant to 
?char*?
g++-4.3 -shared -L/usr/local/lib -o splmDIC.so splmDIC.o covmodel.o 
util.o -L/usr/local/lib/R/lib -lRlapack -L/usr/local/lib/R/lib -lRblas 
-L/usr/lib/gcc/i486-linux-gnu/3.4.6 -lg2c -lm -lgcc_s


Thanks for your time.
Kind regards-
Andy



-- 
Andrew Finley, PhD
Natural Resources Building
Michigan State University
East Lansing, MI 48824-1222
Phone: 517-432-7219
Fax: 517-432-1143
web: http://blue.for.msu.edu


From ripley at stats.ox.ac.uk  Thu Apr  3 18:33:27 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 3 Apr 2008 17:33:27 +0100 (BST)
Subject: [Rd]
	=?iso-8859-7?q?g++_4=2E3__warning=3A_deprecated_conversion_f?=
	=?iso-8859-7?q?rom_string_constant_to_=A1char*=A2?=
In-Reply-To: <47F4EE2E.6090407@msu.edu>
References: <47F4EE2E.6090407@msu.edu>
Message-ID: <alpine.LFD.1.00.0804031726340.14401@gannet.stats.ox.ac.uk>

SunStudio has given these warnings for a long time, and we added 
const to several R declarations (most recently Rprintf) to suppress them.
And yes, we noticed that gcc 4.3.0 gave them too.

So what version of R is this?  I don't think 2.7.0 alpha does this.

And I suggest you don't mix 'g++-4.3' with R compiled under gcc 3.4.6 and 
gfortran -- some of the argument passing is incompatible.

On Thu, 3 Apr 2008, Andrew Finley wrote:

> Hello,
> I've noticed that with g++ 4.3 I get the following "warning: deprecated
> conversion from string constant to ?char*?" when I call e.g.,
> Rprintf("Hello world"); or when I try to define a const char e.g., char
> lower = 'L';
>
> I am wrapping the c++ code in extern "C" {}. This seems to be something
> new with g++ 4.3, because the same code compiled without warnings with
> previous versions.
>
> Has anyone else had theses warnings? Any fixes?
>
> I have included some example output below. Each warning corresponds to
> an Rprintf call.
>
>
> andy at friend:~/Rdevel/tmp$ R CMD SHLIB splmDIC.cpp covmodel.cpp util.cpp
> g++-4.3 -I/usr/local/lib/R/include -I/usr/local/lib/R/include
> -I/usr/local/include    -fpic  -g -O2 -c splmDIC.cpp -o splmDIC.o
> splmDIC.cpp: In function ?SEXPREC* splmDIC(SEXPREC*, SEXPREC*, SEXPREC*,
> SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*,
> SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*,
> SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*)?:
> splmDIC.cpp:163: warning: deprecated conversion from string constant to
> ?char*?
> splmDIC.cpp:164: warning: deprecated conversion from string constant to
> ?char*?
> splmDIC.cpp:165: warning: deprecated conversion from string constant to
> ?char*?
> splmDIC.cpp:430: warning: deprecated conversion from string constant to
> ?char*?
> splmDIC.cpp:431: warning: deprecated conversion from string constant to
> ?char*?
> g++-4.3 -shared -L/usr/local/lib -o splmDIC.so splmDIC.o covmodel.o
> util.o -L/usr/local/lib/R/lib -lRlapack -L/usr/local/lib/R/lib -lRblas
> -L/usr/lib/gcc/i486-linux-gnu/3.4.6 -lg2c -lm -lgcc_s
>
>
> Thanks for your time.
> Kind regards-
> Andy
>
>
>
> --
> Andrew Finley, PhD
> Natural Resources Building
> Michigan State University
> East Lansing, MI 48824-1222
> Phone: 517-432-7219
> Fax: 517-432-1143
> web: http://blue.for.msu.edu
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From Kurt.Hornik at wu-wien.ac.at  Thu Apr  3 18:33:41 2008
From: Kurt.Hornik at wu-wien.ac.at (Kurt Hornik)
Date: Thu, 3 Apr 2008 18:33:41 +0200
Subject: [Rd]
 =?utf-8?q?g++_4=2E3__warning=3A_deprecated_conversion_from_s?=
 =?utf-8?q?tring_constant_to_=E2=80=98char*=E2=80=99_3DIn-Reply-To=3A_=3C4?=
 =?utf-8?q?7F4EE2E=2E6090407=40msu=2Eedu=3E?=
References: <47F4EE2E.6090407@msu.edu>
Message-ID: <18421.1765.58639.977021@fangorn.hornik.net>

>>>>> Andrew Finley writes:

> Hello,
> I've noticed that with g++ 4.3 I get the following "warning: deprecated 
> conversion from string constant to ?char*?" when I call e.g., 
> Rprintf("Hello world"); or when I try to define a const char e.g., char 
> lower = 'L';

> I am wrapping the c++ code in extern "C" {}. This seems to be something 
> new with g++ 4.3, because the same code compiled without warnings with 
> previous versions.

> Has anyone else had theses warnings? Any fixes?

Does this persist in a current version of 2.7.0 alpha?

Brian recently changed R_ext/Print.h to

-void Rprintf(char *, ...);
-void REprintf(char *, ...);
+void Rprintf(const char *, ...);
+void REprintf(const char *, ...);

to deal with this issue.

Best
-k

> I have included some example output below. Each warning corresponds to 
> an Rprintf call.


> andy at friend:~/Rdevel/tmp$ R CMD SHLIB splmDIC.cpp covmodel.cpp util.cpp
> g++-4.3 -I/usr/local/lib/R/include -I/usr/local/lib/R/include 
> -I/usr/local/include    -fpic  -g -O2 -c splmDIC.cpp -o splmDIC.o
> splmDIC.cpp: In function ?SEXPREC* splmDIC(SEXPREC*, SEXPREC*, SEXPREC*, 
> SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, 
> SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, 
> SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*)?:
> splmDIC.cpp:163: warning: deprecated conversion from string constant to 
> ?char*?
> splmDIC.cpp:164: warning: deprecated conversion from string constant to 
> ?char*?
> splmDIC.cpp:165: warning: deprecated conversion from string constant to 
> ?char*?
> splmDIC.cpp:430: warning: deprecated conversion from string constant to 
> ?char*?
> splmDIC.cpp:431: warning: deprecated conversion from string constant to 
> ?char*?
> g++-4.3 -shared -L/usr/local/lib -o splmDIC.so splmDIC.o covmodel.o 
> util.o -L/usr/local/lib/R/lib -lRlapack -L/usr/local/lib/R/lib -lRblas 
> -L/usr/lib/gcc/i486-linux-gnu/3.4.6 -lg2c -lm -lgcc_s


> Thanks for your time.
> Kind regards-
> Andy



> -- 
> Andrew Finley, PhD
> Natural Resources Building
> Michigan State University
> East Lansing, MI 48824-1222
> Phone: 517-432-7219
> Fax: 517-432-1143
> web: http://blue.for.msu.edu

> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From mtmorgan at fhcrc.org  Fri Apr  4 01:09:57 2008
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Thu, 03 Apr 2008 16:09:57 -0700
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
Message-ID: <47F563C5.6090604@fhcrc.org>

I apologize if this is too obscure to reproduce, or some idiosyncratic 
aspects of my system. If I create a plot, e.g.,

 > plot(1:10)

I get a graphics device as expected. I then click on the 'zoom' box on 
my X11 window, so the window expands to occupy the entire screen. The 
plot is redrawn at the scale of the large window, but is clipped to the 
   'unzoomed' size. I only see the top left portion of the plot, 
occupying the space of the original image.

Here are the R essentials; I'm using X11 on a recent SuSE, connecting 
via a moderately out-of-date cygwin from Windows. I'm happy to provide 
more detail if pointed in the right direction (and will trouble shoot 
myself if this is not a general problem).

 > sessionInfo()
R version 2.8.0 Under development (unstable) (2008-04-03 r45066)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

 > capabilities()
     jpeg      png    tcltk      X11     aqua http/ftp  sockets   libxml
     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE     TRUE     TRUE
     fifo   cledit    iconv      NLS  profmem    cairo
     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE


Martin
-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M2 B169
Phone: (206) 667-2793


From ripley at stats.ox.ac.uk  Fri Apr  4 07:24:46 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 4 Apr 2008 06:24:46 +0100 (BST)
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <47F563C5.6090604@fhcrc.org>
References: <47F563C5.6090604@fhcrc.org>
Message-ID: <alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>

On Thu, 3 Apr 2008, Martin Morgan wrote:

> I apologize if this is too obscure to reproduce, or some idiosyncratic
> aspects of my system. If I create a plot, e.g.,
>
> > plot(1:10)
>
> I get a graphics device as expected. I then click on the 'zoom' box on
> my X11 window, so the window expands to occupy the entire screen. The
> plot is redrawn at the scale of the large window, but is clipped to the
>   'unzoomed' size. I only see the top left portion of the plot,
> occupying the space of the original image.
>
> Here are the R essentials; I'm using X11 on a recent SuSE, connecting
> via a moderately out-of-date cygwin from Windows. I'm happy to provide
> more detail if pointed in the right direction (and will trouble shoot
> myself if this is not a general problem).

We've seen it, but not all systems do it.  At present it looks like a 
cairo bug, but more work is needed on it.  If we haven't found a 
workaround by release time, it will be documented on the help page.

>
> > sessionInfo()
> R version 2.8.0 Under development (unstable) (2008-04-03 r45066)
> x86_64-unknown-linux-gnu
>
> locale:
> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> > capabilities()
>     jpeg      png    tcltk      X11     aqua http/ftp  sockets   libxml
>     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE     TRUE     TRUE
>     fifo   cledit    iconv      NLS  profmem    cairo
>     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE
>
>
> Martin
> --
> Martin Morgan
> Computational Biology / Fred Hutchinson Cancer Research Center
> 1100 Fairview Ave. N.
> PO Box 19024 Seattle, WA 98109
>
> Location: Arnold Building M2 B169
> Phone: (206) 667-2793
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From finleya at msu.edu  Thu Apr  3 20:14:54 2008
From: finleya at msu.edu (Andrew Finley)
Date: Thu, 03 Apr 2008 14:14:54 -0400
Subject: [Rd]
 =?utf-8?q?g++_4=2E3__warning=3A_deprecated_conversion__from_?=
 =?utf-8?q?string_constant_to_=E2=80=98char*=E2=80=993DIn-Reply-To=3A_=3C4?=
 =?utf-8?q?7F4EE2E=2E6090407=40msu=2Eedu=3E?=
In-Reply-To: <18421.1765.58639.977021@fangorn.hornik.net>
References: <47F4EE2E.6090407@msu.edu>
	<18421.1765.58639.977021@fangorn.hornik.net>
Message-ID: <47F51E9E.10600@msu.edu>

Hi Kurt and Brian,
I was using R 2.6.2. Now, based on your suggestion, I've upgrade to 
2.7.0 and am no longer mixing compilation versions of gcc/g++. The 
constant to char* warnings are gone.
Thanks!
-Andy

Kurt Hornik wrote:
>>>>>> Andrew Finley writes:
> 
>> Hello,
>> I've noticed that with g++ 4.3 I get the following "warning: deprecated 
>> conversion from string constant to ?char*?" when I call e.g., 
>> Rprintf("Hello world"); or when I try to define a const char e.g., char 
>> lower = 'L';
> 
>> I am wrapping the c++ code in extern "C" {}. This seems to be something 
>> new with g++ 4.3, because the same code compiled without warnings with 
>> previous versions.
> 
>> Has anyone else had theses warnings? Any fixes?
> 
> Does this persist in a current version of 2.7.0 alpha?
> 
> Brian recently changed R_ext/Print.h to
> 
> -void Rprintf(char *, ...);
> -void REprintf(char *, ...);
> +void Rprintf(const char *, ...);
> +void REprintf(const char *, ...);
> 
> to deal with this issue.
> 
> Best
> -k
> 
>> I have included some example output below. Each warning corresponds to 
>> an Rprintf call.
> 
> 
>> andy at friend:~/Rdevel/tmp$ R CMD SHLIB splmDIC.cpp covmodel.cpp util.cpp
>> g++-4.3 -I/usr/local/lib/R/include -I/usr/local/lib/R/include 
>> -I/usr/local/include    -fpic  -g -O2 -c splmDIC.cpp -o splmDIC.o
>> splmDIC.cpp: In function ?SEXPREC* splmDIC(SEXPREC*, SEXPREC*, SEXPREC*, 
>> SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, 
>> SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, 
>> SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*, SEXPREC*)?:
>> splmDIC.cpp:163: warning: deprecated conversion from string constant to 
>> ?char*?
>> splmDIC.cpp:164: warning: deprecated conversion from string constant to 
>> ?char*?
>> splmDIC.cpp:165: warning: deprecated conversion from string constant to 
>> ?char*?
>> splmDIC.cpp:430: warning: deprecated conversion from string constant to 
>> ?char*?
>> splmDIC.cpp:431: warning: deprecated conversion from string constant to 
>> ?char*?
>> g++-4.3 -shared -L/usr/local/lib -o splmDIC.so splmDIC.o covmodel.o 
>> util.o -L/usr/local/lib/R/lib -lRlapack -L/usr/local/lib/R/lib -lRblas 
>> -L/usr/lib/gcc/i486-linux-gnu/3.4.6 -lg2c -lm -lgcc_s
> 
> 
>> Thanks for your time.
>> Kind regards-
>> Andy
> 
> 
> 
>> -- 
>> Andrew Finley, PhD
>> Natural Resources Building
>> Michigan State University
>> East Lansing, MI 48824-1222
>> Phone: 517-432-7219
>> Fax: 517-432-1143
>> web: http://blue.for.msu.edu
> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Andrew Finley, PhD
Natural Resources Building
Michigan State University
East Lansing, MI 48824-1222
Phone: 517-432-7219
Fax: 517-432-1143
web: http://blue.for.msu.edu


From r.turner at auckland.ac.nz  Fri Apr  4 01:24:08 2008
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Fri, 4 Apr 2008 12:24:08 +1300
Subject: [Rd] Extractor function for standard deviation.
Message-ID: <A9088058-CF1A-4FF0-B44D-4F701F708F6E@auckland.ac.nz>


I have from time to time seen inquiries on r-help in respect of
how to obtain the estimated standard deviation from the output of
fitting a linear model.  And have had occasion to want to do this
myself.

The way I currently do it is something like summary(fit)$sigma
(where fit is returned by lm()).

It strikes me that it might be a good idea to have an extractor
function, analogous with coef() and resid(), to dig out this value.
This would be in keeping with the R philosophy of ``don't muck
about with the internal components of objects returned by functions,
because the internal structure of such objects might change in future
releases''.

I'm not sure what the name of the extractor function should be.
One idea would be to make sd() generic, and create a function
sd.lm() which could currently have code

	sd.lm <- function(x,...) {
		summary(x)$sigma
	}

The sd.default() function would have the code of the current sd().

Does this idea have any merit?

		cheers,

			Rolf Turner

######################################################################
Attention:\ This e-mail message is privileged and confid...{{dropped:9}}


From tony.dixon at watc.wa.gov.au  Fri Apr  4 06:20:27 2008
From: tony.dixon at watc.wa.gov.au (tony.dixon at watc.wa.gov.au)
Date: Fri,  4 Apr 2008 06:20:27 +0200 (CEST)
Subject: [Rd] wishlist - annoying print behaviour (PR#11082)
Message-ID: <20080404042027.1A2FF282EFF7@mail.pubhealth.ku.dk>

Full_Name: Tony Dixon
Version: 2.4.1
OS: WinXP
Submission from: (NULL) (210.10.109.162)



When printing a graphic, if you select the Properties button), the Print dialog
has moved to the background. 

It would be nice if it come back to the foreground.


From rpeng at jhsph.edu  Fri Apr  4 14:32:33 2008
From: rpeng at jhsph.edu (Roger D. Peng)
Date: Fri, 04 Apr 2008 08:32:33 -0400
Subject: [Rd] Extractor function for standard deviation.
In-Reply-To: <A9088058-CF1A-4FF0-B44D-4F701F708F6E@auckland.ac.nz>
References: <A9088058-CF1A-4FF0-B44D-4F701F708F6E@auckland.ac.nz>
Message-ID: <47F61FE1.4050504@jhsph.edu>

I'm not sure the idea of having a generic 'sd' extract the residual standard 
deviation from a linear model quite jives with me.  Personally, I think a 
generic function with name like 'residSD' or something similar would be better.

Either way, I think it would be nice to have some function like this.

-roger

Rolf Turner wrote:
> I have from time to time seen inquiries on r-help in respect of
> how to obtain the estimated standard deviation from the output of
> fitting a linear model.  And have had occasion to want to do this
> myself.
> 
> The way I currently do it is something like summary(fit)$sigma
> (where fit is returned by lm()).
> 
> It strikes me that it might be a good idea to have an extractor
> function, analogous with coef() and resid(), to dig out this value.
> This would be in keeping with the R philosophy of ``don't muck
> about with the internal components of objects returned by functions,
> because the internal structure of such objects might change in future
> releases''.
> 
> I'm not sure what the name of the extractor function should be.
> One idea would be to make sd() generic, and create a function
> sd.lm() which could currently have code
> 
> 	sd.lm <- function(x,...) {
> 		summary(x)$sigma
> 	}
> 
> The sd.default() function would have the code of the current sd().
> 
> Does this idea have any merit?
> 
> 		cheers,
> 
> 			Rolf Turner
> 
> ######################################################################
> Attention:\ This e-mail message is privileged and confid...{{dropped:9}}
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 

-- 
Roger D. Peng  |  http://www.biostat.jhsph.edu/~rpeng/


From h.wickham at gmail.com  Fri Apr  4 17:34:30 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 4 Apr 2008 10:34:30 -0500
Subject: [Rd] __FILE__ for R
Message-ID: <f8e6ff050804040834k39b7871brd3a3a71de8d3d528@mail.gmail.com>

I've often missed the ability to get the directory of the currently
running script.  It's actually been possible for a while:

FILE <- (function() {
  attr(body(sys.function()), "srcfile")
})()

thanks to Duncan's recent changes to file parsing.  This is pretty
useful for sourcing in files relative to the current script, rather
than the working directory.

Hadley

-- 
http://had.co.nz/


From h.wickham at gmail.com  Fri Apr  4 17:50:53 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 4 Apr 2008 10:50:53 -0500
Subject: [Rd] __FILE__ for R
In-Reply-To: <f8e6ff050804040834k39b7871brd3a3a71de8d3d528@mail.gmail.com>
References: <f8e6ff050804040834k39b7871brd3a3a71de8d3d528@mail.gmail.com>
Message-ID: <f8e6ff050804040850h3e798365ia1ffe299952d6eef@mail.gmail.com>

Sorry, that should be:

FILE <- (function() {
  attr(body(sys.function()), "srcfile")
})()$filename

Hadley

On Fri, Apr 4, 2008 at 10:34 AM, hadley wickham <h.wickham at gmail.com> wrote:
> I've often missed the ability to get the directory of the currently
>  running script.  It's actually been possible for a while:
>
>  FILE <- (function() {
>   attr(body(sys.function()), "srcfile")
>  })()
>
>  thanks to Duncan's recent changes to file parsing.  This is pretty
>  useful for sourcing in files relative to the current script, rather
>  than the working directory.
>
>  Hadley
>
>  --
>  http://had.co.nz/
>



-- 
http://had.co.nz/


From mwaldron at email.unc.edu  Fri Apr  4 15:12:51 2008
From: mwaldron at email.unc.edu (Mike Waldron)
Date: Fri, 04 Apr 2008 09:12:51 -0400
Subject: [Rd] How to tell R where to look for libgcc
Message-ID: <47F62953.5050704@email.unc.edu>

I have R-261 running on a Linux 2.6 system, which has gcc-4.1.2 
installed. It was working fine until the sysadmin installed an older 
version of gcc (3.4.6) which was required for an older app. The 
gcc-3.4.6 install is under /usr/local/bin.

Now when a user invokes R, the error message 
"/opt/r-261/lib/R/bin/exec/R: /usr/local/lib/libgcc_s.so.1: version 
`GCC_4.0.0' not found (required by /opt/r-261/lib/R/bin/exec/R)" is 
generated. R is finding the old gcc version of libgcc which is in 
/usr/local/lib, instead of the newer one which is in lib. We've tried 
setting LD_LIBRARY_PATH to /lib, but that has no effect.

Is there a way to force R to look in /lib for libgcc?

-- 
Mike Waldron

System Specialist
RENCI at University of North Carolina ? Chapel Hill
CB #3455, ITS Manning, Rm 2509
Office: 919-962-9778


From n.henriquez at ion.ucl.ac.uk  Fri Apr  4 16:55:09 2008
From: n.henriquez at ion.ucl.ac.uk (n.henriquez at ion.ucl.ac.uk)
Date: Fri,  4 Apr 2008 16:55:09 +0200 (CEST)
Subject: [Rd] cannot increase memory size to 4Gb (PR#11087)
Message-ID: <20080404145509.6454C282EFF0@mail.pubhealth.ku.dk>

Full_Name: Nick Henriquez
Version: 2.6.2; 2.6.1 and 2.4.1
OS: Vista business 64
Submission from: (NULL) (144.82.49.16)


I try to increase memory size (by copy-pasting from FAQ) --max-mem-size=1Gb at
the end of the Target field (after any final double quote, and separated by a
space) and changing the 1 to a 4. 

After double-clicking the shortcut (for modified 2.4.1 OR 2.6.1 OR 2.6.2) I get
 --max-mem-size=4G: too large and ignored.

I have Vista business64 with 8 Gb of RAM. BioC2.1 and 2.2 complain about a lack
of memory.

Suggestions welcome but I think I am "alone" so far.


From ripley at stats.ox.ac.uk  Fri Apr  4 19:45:41 2008
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Fri,  4 Apr 2008 19:45:41 +0200 (CEST)
Subject: [Rd] cannot increase memory size to 4Gb (PR#11087)
Message-ID: <20080404174541.748722834159@mail.pubhealth.ku.dk>

This is (sort of) correct, and as documented.  What you cannot increase to 
4Gb is the internal *limit* on the allocated memory size, not the 'memory 
size' in any sense.

The rw-FAQ in R 2.6.2 patched says

'It can be set to any amount between 32Mb and 4095Mb.'

as does

http://cran.r-project.org/bin/windows/base/rw-FAQ.html#There-seems-to-be-a-limit-on-the-memory-it-uses_0021

The maximum size of memory for a process under Vista64 is 4Gb (4096Mb), 
*but* R cannot allocate all of it (not least because the R executable and 
DLL need to fit into it).

Version 2.4.1 said (correctly)

'It can be set to any amount between 32Mb and 3Gb',

because versions of Windows current at the time were limited to a 3Gb 
address space (and so the real limit was a little less than 3Gb).

On Fri, 4 Apr 2008, n.henriquez at ion.ucl.ac.uk wrote:

> Full_Name: Nick Henriquez
> Version: 2.6.2; 2.6.1 and 2.4.1
> OS: Vista business 64
> Submission from: (NULL) (144.82.49.16)
>
>
> I try to increase memory size (by copy-pasting from FAQ) 
> --max-mem-size=1Gb at the end of the Target field (after any final 
> double quote, and separated by a space) and changing the 1 to a 4.
>
> After double-clicking the shortcut (for modified 2.4.1 OR 2.6.1 OR 
> 2.6.2) I get --max-mem-size=4G: too large and ignored.
>
> I have Vista business64 with 8 Gb of RAM. BioC2.1 and 2.2 complain about 
> a lack of memory.

Maybe, but that is not an R-bugs issue.

>
> Suggestions welcome but I think I am "alone" so far.

R-help is available to you to ask questions about things you do not 
understand -- you will get a much more sympathetic response if you only 
use R-bugs for things you 'know for sure' are not doing what they should.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ggrothendieck at gmail.com  Fri Apr  4 20:00:23 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 4 Apr 2008 14:00:23 -0400
Subject: [Rd] __FILE__ for R
In-Reply-To: <f8e6ff050804040850h3e798365ia1ffe299952d6eef@mail.gmail.com>
References: <f8e6ff050804040834k39b7871brd3a3a71de8d3d528@mail.gmail.com>
	<f8e6ff050804040850h3e798365ia1ffe299952d6eef@mail.gmail.com>
Message-ID: <971536df0804041100n3e4cf11ey33e34d962daed9ab@mail.gmail.com>

Although its kludgy this previously (and still works) too:

parent.frame(2)$ofile

if called from top level within a sourced file.

On Fri, Apr 4, 2008 at 11:50 AM, hadley wickham <h.wickham at gmail.com> wrote:
> Sorry, that should be:
>
> FILE <- (function() {
>  attr(body(sys.function()), "srcfile")
> })()$filename
>
> Hadley
>
>
> On Fri, Apr 4, 2008 at 10:34 AM, hadley wickham <h.wickham at gmail.com> wrote:
> > I've often missed the ability to get the directory of the currently
> >  running script.  It's actually been possible for a while:
> >
> >  FILE <- (function() {
> >   attr(body(sys.function()), "srcfile")
> >  })()
> >
> >  thanks to Duncan's recent changes to file parsing.  This is pretty
> >  useful for sourcing in files relative to the current script, rather
> >  than the working directory.
> >
> >  Hadley
> >
> >  --
> >  http://had.co.nz/
> >
>
>
>
> --
> http://had.co.nz/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From milbo at sonic.net  Fri Apr  4 20:11:57 2008
From: milbo at sonic.net (Stephen Milborrow)
Date: Fri, 4 Apr 2008 20:11:57 +0200
Subject: [Rd] Just-in-time compiler for R
Message-ID: <000e01c8967f$85f75110$6501a8c0@dell16>

There is a new version of the just-in-time compiler for R at
www.milbo.users.sonic.net/ra/index.html

With just-in-time compilation enabled, the convolution example from the
"Extending R" manual now runs about 30 times faster. The web page has more 
information.

Stephen Milborrow
www.milbo.users.sonic.net


From h.wickham at gmail.com  Fri Apr  4 21:05:34 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 4 Apr 2008 14:05:34 -0500
Subject: [Rd] R CMD check should check date in description
Message-ID: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>

I'm always forgetting to update the date in DESCRIPTION.  Would it be
possible to add a warning to R CMD check if it's old?

Hadley

-- 
http://had.co.nz/


From Kurt.Hornik at wu-wien.ac.at  Fri Apr  4 21:26:20 2008
From: Kurt.Hornik at wu-wien.ac.at (Kurt Hornik)
Date: Fri, 4 Apr 2008 21:26:20 +0200
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
Message-ID: <18422.32988.112442.175233@fangorn.hornik.net>

>>>>> hadley wickham writes:

> I'm always forgetting to update the date in DESCRIPTION.  Would it be
> possible to add a warning to R CMD check if it's old?

I recently thought about this.  I see several issues.

* How can we determine if it is "old"?  Relative to the time when the
  package was uploaded to a repository?

* Some developers might actually want a different date for a variety of
  reasons ...

* What we currently say in R-exts is

     The optional `Date' field gives the release date of the current
     version of the package.  It is strongly recommended to use the
     yyyy-mm-dd format conforming to the ISO standard.

  Many packages do not comply with the latter (but I have some code to
  sanitize most of these), and "release date" may be a moving target.

The best that I could think of is to teach R CMD build to *add* a Date
field if there was none.

Best
-k



> Hadley

> -- 
> http://had.co.nz/

> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From bates at stat.wisc.edu  Fri Apr  4 21:45:07 2008
From: bates at stat.wisc.edu (Douglas Bates)
Date: Fri, 4 Apr 2008 14:45:07 -0500
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <18422.32988.112442.175233@fangorn.hornik.net>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.32988.112442.175233@fangorn.hornik.net>
Message-ID: <40e66e0b0804041245l3feacfe0y3709de16ff112516@mail.gmail.com>

On Fri, Apr 4, 2008 at 2:26 PM, Kurt Hornik <Kurt.Hornik at wu-wien.ac.at> wrote:
> >>>>> hadley wickham writes:
>
>  > I'm always forgetting to update the date in DESCRIPTION.  Would it be
>  > possible to add a warning to R CMD check if it's old?
>
>  I recently thought about this.  I see several issues.
>
>  * How can we determine if it is "old"?  Relative to the time when the
>   package was uploaded to a repository?
>
>  * Some developers might actually want a different date for a variety of
>   reasons ...
>
>  * What we currently say in R-exts is
>
>      The optional `Date' field gives the release date of the current
>      version of the package.  It is strongly recommended to use the
>      yyyy-mm-dd format conforming to the ISO standard.
>
>   Many packages do not comply with the latter (but I have some code to
>   sanitize most of these), and "release date" may be a moving target.
>
>  The best that I could think of is to teach R CMD build to *add* a Date
>  field if there was none.

I agree.  I think that the Date field in the DESCRIPTION file should
reflect the date and time zone at which the package was built or some
other date of the package maintainer's choice.


From h.wickham at gmail.com  Fri Apr  4 21:54:06 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 4 Apr 2008 14:54:06 -0500
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <18422.32988.112442.175233@fangorn.hornik.net>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.32988.112442.175233@fangorn.hornik.net>
Message-ID: <f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>

>  I recently thought about this.  I see several issues.
>
>  * How can we determine if it is "old"?  Relative to the time when the
>   package was uploaded to a repository?
>
>  * Some developers might actually want a different date for a variety of
>   reasons ...
>
>  * What we currently say in R-exts is
>
>      The optional `Date' field gives the release date of the current
>      version of the package.  It is strongly recommended to use the
>      yyyy-mm-dd format conforming to the ISO standard.
>
>   Many packages do not comply with the latter (but I have some code to
>   sanitize most of these), and "release date" may be a moving target.
>
>  The best that I could think of is to teach R CMD build to *add* a Date
>  field if there was none.

That sounds like a good solution to me.  Otherwise, maybe just a
message from R CMD check?  i.e. just like failing the codetools
checks, it might be perfectly ok, but you should be doing it
consciously, not by mistake.

Hadley


-- 
http://had.co.nz/


From ggrothendieck at gmail.com  Fri Apr  4 22:01:32 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 4 Apr 2008 16:01:32 -0400
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.32988.112442.175233@fangorn.hornik.net>
	<f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>
Message-ID: <971536df0804041301x40b02d25rba336475ccf6c7d1@mail.gmail.com>

I think its somewhat inspiring to be able to get R CMD check to the
point that there are no warnings so having a situation where a warning
is ok would interfere with that.

On Fri, Apr 4, 2008 at 3:54 PM, hadley wickham <h.wickham at gmail.com> wrote:
> >  I recently thought about this.  I see several issues.
> >
> >  * How can we determine if it is "old"?  Relative to the time when the
> >   package was uploaded to a repository?
> >
> >  * Some developers might actually want a different date for a variety of
> >   reasons ...
> >
> >  * What we currently say in R-exts is
> >
> >      The optional `Date' field gives the release date of the current
> >      version of the package.  It is strongly recommended to use the
> >      yyyy-mm-dd format conforming to the ISO standard.
> >
> >   Many packages do not comply with the latter (but I have some code to
> >   sanitize most of these), and "release date" may be a moving target.
> >
> >  The best that I could think of is to teach R CMD build to *add* a Date
> >  field if there was none.
>
> That sounds like a good solution to me.  Otherwise, maybe just a
> message from R CMD check?  i.e. just like failing the codetools
> checks, it might be perfectly ok, but you should be doing it
> consciously, not by mistake.
>
>
> Hadley
>
>
> --
> http://had.co.nz/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From Kurt.Hornik at wu-wien.ac.at  Fri Apr  4 22:04:43 2008
From: Kurt.Hornik at wu-wien.ac.at (Kurt Hornik)
Date: Fri, 4 Apr 2008 22:04:43 +0200
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.32988.112442.175233@fangorn.hornik.net>
	<f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>
Message-ID: <18422.35291.492048.512873@fangorn.hornik.net>

>>>>> hadley wickham writes:

>> I recently thought about this.  I see several issues.
>> 
>> * How can we determine if it is "old"?  Relative to the time when the
>> package was uploaded to a repository?
>> 
>> * Some developers might actually want a different date for a variety of
>> reasons ...
>> 
>> * What we currently say in R-exts is
>> 
>> The optional `Date' field gives the release date of the current
>> version of the package.  It is strongly recommended to use the
>> yyyy-mm-dd format conforming to the ISO standard.
>> 
>> Many packages do not comply with the latter (but I have some code to
>> sanitize most of these), and "release date" may be a moving target.
>> 
>> The best that I could think of is to teach R CMD build to *add* a Date
>> field if there was none.

> That sounds like a good solution to me.

Ok.  However, 2.7.0 feature freeze soon ...

> Otherwise, maybe just a message from R CMD check?  i.e. just like
> failing the codetools checks, it might be perfectly ok, but you should
> be doing it consciously, not by mistake.

I am working on that, too (e.g. a simple NOTE in case the date spec
cannot be canonicalized, etc.).  If file time stamps were realiable, we
could compare these to the given date.  This is I guess all we can do
for e.g. CRAN's daily checking (where comparing to the date the check
is run is not too useful) ...

Best
-k


From rpeng at jhsph.edu  Fri Apr  4 22:05:52 2008
From: rpeng at jhsph.edu (Roger D. Peng)
Date: Fri, 04 Apr 2008 16:05:52 -0400
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <18422.32988.112442.175233@fangorn.hornik.net>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.32988.112442.175233@fangorn.hornik.net>
Message-ID: <47F68A20.60606@jhsph.edu>

I don't think having 'R CMD check' spit out a warning about the date would be 
all that productive.  I do think it would be nice to have 'R CMD build' add a 
Date: field to the DESCRIPTION file if there isn't already a Date: field.  And I 
think such an addition would solve the first problem since maintainers wouldn't 
have to bother maintaining a date field.

-roger

Kurt Hornik wrote:
>>>>>> hadley wickham writes:
> 
>> I'm always forgetting to update the date in DESCRIPTION.  Would it be
>> possible to add a warning to R CMD check if it's old?
> 
> I recently thought about this.  I see several issues.
> 
> * How can we determine if it is "old"?  Relative to the time when the
>   package was uploaded to a repository?
> 
> * Some developers might actually want a different date for a variety of
>   reasons ...
> 
> * What we currently say in R-exts is
> 
>      The optional `Date' field gives the release date of the current
>      version of the package.  It is strongly recommended to use the
>      yyyy-mm-dd format conforming to the ISO standard.
> 
>   Many packages do not comply with the latter (but I have some code to
>   sanitize most of these), and "release date" may be a moving target.
> 
> The best that I could think of is to teach R CMD build to *add* a Date
> field if there was none.
> 
> Best
> -k
> 
> 
> 
>> Hadley
> 
>> -- 
>> http://had.co.nz/
> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 

-- 
Roger D. Peng  |  http://www.biostat.jhsph.edu/~rpeng/


From antonio.fabio at gmail.com  Fri Apr  4 22:20:08 2008
From: antonio.fabio at gmail.com (Antonio, Fabio Di Narzo)
Date: Fri, 4 Apr 2008 22:20:08 +0200
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <47F68A20.60606@jhsph.edu>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.32988.112442.175233@fangorn.hornik.net>
	<47F68A20.60606@jhsph.edu>
Message-ID: <b0808fdc0804041320t68cb7566wd6880fbded18f215@mail.gmail.com>

I agree.
It sounds odd to explicitely ask someone to set the 'Date:' field and
then worring because it doesn't match your precise expectation that it
should equal the build time.

A.F.


2008/4/4, Roger D. Peng <rpeng at jhsph.edu>:
> I don't think having 'R CMD check' spit out a warning about the date would be
>  all that productive.  I do think it would be nice to have 'R CMD build' add a
>  Date: field to the DESCRIPTION file if there isn't already a Date: field.  And I
>  think such an addition would solve the first problem since maintainers wouldn't
>  have to bother maintaining a date field.
>
>  -roger
>
>
>  Kurt Hornik wrote:
>  >>>>>> hadley wickham writes:
>  >
>  >> I'm always forgetting to update the date in DESCRIPTION.  Would it be
>  >> possible to add a warning to R CMD check if it's old?
>  >
>
> > I recently thought about this.  I see several issues.
>  >
>  > * How can we determine if it is "old"?  Relative to the time when the
>  >   package was uploaded to a repository?
>  >
>  > * Some developers might actually want a different date for a variety of
>  >   reasons ...
>  >
>  > * What we currently say in R-exts is
>  >
>  >      The optional `Date' field gives the release date of the current
>  >      version of the package.  It is strongly recommended to use the
>  >      yyyy-mm-dd format conforming to the ISO standard.
>  >
>  >   Many packages do not comply with the latter (but I have some code to
>  >   sanitize most of these), and "release date" may be a moving target.
>  >
>  > The best that I could think of is to teach R CMD build to *add* a Date
>  > field if there was none.
>  >
>
> > Best
>  > -k
>
> >
>  >
>  >
>  >> Hadley
>  >
>  >> --
>  >> http://had.co.nz/
>  >
>  >> ______________________________________________
>
> >> R-devel at r-project.org mailing list
>  >> https://stat.ethz.ch/mailman/listinfo/r-devel
>  >
>  > ______________________________________________
>  > R-devel at r-project.org mailing list
>  > https://stat.ethz.ch/mailman/listinfo/r-devel
>  >
>
>
> --
>  Roger D. Peng  |  http://www.biostat.jhsph.edu/~rpeng/
>
>
>  ______________________________________________
>  R-devel at r-project.org mailing list
>  https://stat.ethz.ch/mailman/listinfo/r-devel
>


-- 
Antonio, Fabio Di Narzo
Ph.D. student at
Department of Statistical Sciences
University of Bologna, Italy


From edd at debian.org  Fri Apr  4 22:40:06 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 4 Apr 2008 15:40:06 -0500
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
Message-ID: <18422.37414.77562.517176@ron.nulle.part>


On 4 April 2008 at 14:05, hadley wickham wrote:
| I'm always forgetting to update the date in DESCRIPTION.  Would it be
| possible to add a warning to R CMD check if it's old?

As I mentioned to Hadley in private mail, a version control system can update
a field like $Date$ or $LastChangedDate$ automagically on writes or
checkins. I use that as I also tend to forget to update the field manually.
For SVN one must set one of the arcane propset fields.

Hth, Dirk

--
Three out of two people have difficulties with fractions.


From rgentlem at fhcrc.org  Fri Apr  4 22:40:45 2008
From: rgentlem at fhcrc.org (Robert Gentleman)
Date: Fri, 04 Apr 2008 13:40:45 -0700
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <18422.35291.492048.512873@fangorn.hornik.net>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>	<18422.32988.112442.175233@fangorn.hornik.net>	<f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>
	<18422.35291.492048.512873@fangorn.hornik.net>
Message-ID: <47F6924D.4040009@fhcrc.org>



Kurt Hornik wrote:
>>>>>> hadley wickham writes:
> 
>>> I recently thought about this.  I see several issues.
>>>
>>> * How can we determine if it is "old"?  Relative to the time when the
>>> package was uploaded to a repository?
>>>
>>> * Some developers might actually want a different date for a variety of
>>> reasons ...
>>>
>>> * What we currently say in R-exts is
>>>
>>> The optional `Date' field gives the release date of the current
>>> version of the package.  It is strongly recommended to use the
>>> yyyy-mm-dd format conforming to the ISO standard.
>>>
>>> Many packages do not comply with the latter (but I have some code to
>>> sanitize most of these), and "release date" may be a moving target.
>>>
>>> The best that I could think of is to teach R CMD build to *add* a Date
>>> field if there was none.
> 
>> That sounds like a good solution to me.
> 
> Ok.  However, 2.7.0 feature freeze soon ...

   Please no.  If people want one then they should add it manually. It 
is optional, and some of us have explicitly opted out and would like to 
continue to do so.


> 
>> Otherwise, maybe just a message from R CMD check?  i.e. just like
>> failing the codetools checks, it might be perfectly ok, but you should
>> be doing it consciously, not by mistake.
> 
> I am working on that, too (e.g. a simple NOTE in case the date spec
> cannot be canonicalized, etc.).  If file time stamps were realiable, we
> could compare these to the given date.  This is I guess all we can do
> for e.g. CRAN's daily checking (where comparing to the date the check
> is run is not too useful) ...

   But definitely not a warning.

   Robert

> 
> Best
> -k
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 

-- 
Robert Gentleman, PhD
Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M2-B876
PO Box 19024
Seattle, Washington 98109-1024
206-667-7700
rgentlem at fhcrc.org


From h.wickham at gmail.com  Fri Apr  4 22:46:02 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 4 Apr 2008 15:46:02 -0500
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <47F6924D.4040009@fhcrc.org>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.32988.112442.175233@fangorn.hornik.net>
	<f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>
	<18422.35291.492048.512873@fangorn.hornik.net>
	<47F6924D.4040009@fhcrc.org>
Message-ID: <f8e6ff050804041346j4520caffica9f5b3b4f72e187@mail.gmail.com>

>   Please no.  If people want one then they should add it manually. It is
> optional, and some of us have explicitly opted out and would like to
> continue to do so.

To clarify, do you mean you have decided not to provide a date field
in the DESCRIPTION file?  If so, would you mind elaborating why?

Hadley

-- 
http://had.co.nz/


From rpeng at jhsph.edu  Fri Apr  4 22:53:07 2008
From: rpeng at jhsph.edu (Roger D. Peng)
Date: Fri, 04 Apr 2008 16:53:07 -0400
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <47F6924D.4040009@fhcrc.org>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>	<18422.32988.112442.175233@fangorn.hornik.net>	<f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>	<18422.35291.492048.512873@fangorn.hornik.net>
	<47F6924D.4040009@fhcrc.org>
Message-ID: <47F69533.8060705@jhsph.edu>

Actually, now that I think about it, 'R CMD build' already adds the 'Packaged:' 
field, so perhaps it wouldn't really make sense to add yet another field with 
exactly the same information....

-roger

Robert Gentleman wrote:
> 
> Kurt Hornik wrote:
>>>>>>> hadley wickham writes:
>>>> I recently thought about this.  I see several issues.
>>>>
>>>> * How can we determine if it is "old"?  Relative to the time when the
>>>> package was uploaded to a repository?
>>>>
>>>> * Some developers might actually want a different date for a variety of
>>>> reasons ...
>>>>
>>>> * What we currently say in R-exts is
>>>>
>>>> The optional `Date' field gives the release date of the current
>>>> version of the package.  It is strongly recommended to use the
>>>> yyyy-mm-dd format conforming to the ISO standard.
>>>>
>>>> Many packages do not comply with the latter (but I have some code to
>>>> sanitize most of these), and "release date" may be a moving target.
>>>>
>>>> The best that I could think of is to teach R CMD build to *add* a Date
>>>> field if there was none.
>>> That sounds like a good solution to me.
>> Ok.  However, 2.7.0 feature freeze soon ...
> 
>    Please no.  If people want one then they should add it manually. It 
> is optional, and some of us have explicitly opted out and would like to 
> continue to do so.
> 
> 
>>> Otherwise, maybe just a message from R CMD check?  i.e. just like
>>> failing the codetools checks, it might be perfectly ok, but you should
>>> be doing it consciously, not by mistake.
>> I am working on that, too (e.g. a simple NOTE in case the date spec
>> cannot be canonicalized, etc.).  If file time stamps were realiable, we
>> could compare these to the given date.  This is I guess all we can do
>> for e.g. CRAN's daily checking (where comparing to the date the check
>> is run is not too useful) ...
> 
>    But definitely not a warning.
> 
>    Robert
> 
>> Best
>> -k
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 

-- 
Roger D. Peng  |  http://www.biostat.jhsph.edu/~rpeng/


From spencer.graves at pdf.com  Fri Apr  4 22:54:54 2008
From: spencer.graves at pdf.com (Spencer Graves)
Date: Fri, 04 Apr 2008 13:54:54 -0700
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <18422.37414.77562.517176@ron.nulle.part>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.37414.77562.517176@ron.nulle.part>
Message-ID: <47F6959E.9050108@pdf.com>

      What do you think about adding this to section 1.1.1 of "Writing R 
Extensions", something like the following, between the paragraphs on 
"The 'package' and 'version' fields" and "The 'License' field: 


      The optional 'Date' field can be either a fixed date (preferably 
in the yyyy-mm-dd format conforming to the ISO standard) or as "Date:  
$Date$" or "Date:  $LastChangedDate$" so this field caries the package 
build date or last changed date, respectively. 


      Spencer

Dirk Eddelbuettel wrote:
> On 4 April 2008 at 14:05, hadley wickham wrote:
> | I'm always forgetting to update the date in DESCRIPTION.  Would it be
> | possible to add a warning to R CMD check if it's old?
>
> As I mentioned to Hadley in private mail, a version control system can update
> a field like $Date$ or $LastChangedDate$ automagically on writes or
> checkins. I use that as I also tend to forget to update the field manually.
> For SVN one must set one of the arcane propset fields.
>
> Hth, Dirk
>
> --
> Three out of two people have difficulties with fractions.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From rgentlem at fhcrc.org  Fri Apr  4 22:56:05 2008
From: rgentlem at fhcrc.org (Robert Gentleman)
Date: Fri, 04 Apr 2008 13:56:05 -0700
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <f8e6ff050804041346j4520caffica9f5b3b4f72e187@mail.gmail.com>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>	
	<18422.32988.112442.175233@fangorn.hornik.net>	
	<f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>	
	<18422.35291.492048.512873@fangorn.hornik.net>	
	<47F6924D.4040009@fhcrc.org>
	<f8e6ff050804041346j4520caffica9f5b3b4f72e187@mail.gmail.com>
Message-ID: <47F695E5.4000906@fhcrc.org>



hadley wickham wrote:
>>   Please no.  If people want one then they should add it manually. It is
>> optional, and some of us have explicitly opted out and would like to
>> continue to do so.
> 
> To clarify, do you mean you have decided not to provide a date field
> in the DESCRIPTION file?  If so, would you mind elaborating why?

  Sure: The date of what?


> 
> Hadley
> 

-- 
Robert Gentleman, PhD
Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M2-B876
PO Box 19024
Seattle, Washington 98109-1024
206-667-7700
rgentlem at fhcrc.org


From antonio.fabio at gmail.com  Fri Apr  4 23:15:53 2008
From: antonio.fabio at gmail.com (Antonio, Fabio Di Narzo)
Date: Fri, 4 Apr 2008 23:15:53 +0200
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <18422.37414.77562.517176@ron.nulle.part>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.37414.77562.517176@ron.nulle.part>
Message-ID: <b0808fdc0804041415v577d4844xdeac5d54e05cf45@mail.gmail.com>

2008/4/4, Dirk Eddelbuettel <edd at debian.org>:
>
>  On 4 April 2008 at 14:05, hadley wickham wrote:
>  | I'm always forgetting to update the date in DESCRIPTION.  Would it be
>  | possible to add a warning to R CMD check if it's old?
>
>
> As I mentioned to Hadley in private mail, a version control system can update
>  a field like $Date$ or $LastChangedDate$ automagically on writes or
>  checkins. I use that as I also tend to forget to update the field manually.
>  For SVN one must set one of the arcane propset fields.

That's not completely true. As far as I remember (git misses keywords)
svn keywords are always referred only to the file they appear in. So
this way the description file would contain the last date the
description file itself has been modified, not the last date 'any of
the package file s has been modified'.

>
>  Hth, Dirk
>
>
>  --
>  Three out of two people have difficulties with fractions.
>
>
>  ______________________________________________
>  R-devel at r-project.org mailing list
>  https://stat.ethz.ch/mailman/listinfo/r-devel
>


-- 
Antonio, Fabio Di Narzo
Ph.D. student at
Department of Statistical Sciences
University of Bologna, Italy


From bolker at zoo.ufl.edu  Sat Apr  5 01:08:16 2008
From: bolker at zoo.ufl.edu (Ben Bolker)
Date: Fri, 04 Apr 2008 19:08:16 -0400
Subject: [Rd] suggested minor patch for optim.R
Message-ID: <47F6B4E0.40902@zoo.ufl.edu>


    optim ignores misspelled control parameters, so that trying
to set (e.g.) "maxint=1000" in  the control argument silently
does nothing.  The patch below (watch out for line breaks! also
posted at http://www.zoo.ufl.edu/bolker/optim_patch.R , and
http://www.zoo.ufl.edu/bolker/optim_new.R) adds
three lines to optim.R that issue a warning if any names of
elements of "control" fail to match the internal object that
contains the defaults.

   Here is code that shows the behavior:

set.seed(1001)
x <- rnorm(10)
y <- rnorm(10,mean=1+2*x,sd=0.2)
ssqfun <- function(p) { sum((y-(p[1]+p[2]*x))^2) }
## use bogus control variable
O1 <- optim(fn=ssqfun,par=c(1,2),control=list(maxint=100))
## get new version
source(url("http://www.zoo.ufl.edu/bolker/optim_new.R"))
O2 <- optim(fn=ssqfun,par=c(1,2),control=list(maxint=100))
O3 <- optim(fn=ssqfun,par=c(1,2),control=list(maxint=100,bogus=123))

   I realize this is probably too late for feature freeze for 2.7.0 (?),
but I'd appreciate any comments ...


*** optim_orig.R        2008-04-04 18:55:42.000000000 -0400
--- optim_new.R 2008-04-04 18:58:56.000000000 -0400
***************
*** 37,46 ****
--- 37,50 ----
                   type = 1,
                   lmm = 5, factr = 1e7, pgtol = 0,
                   tmax = 10, temp = 10.0)
+     orig.names <- names(con)
       if (method == "Nelder-Mead") con$maxit <- 500
       if (method == "SANN") con$maxit <- 10000

       con[(namc <- names(control))] <- control
+     newnames <- names(control)[!names(control) %in% orig.names]
+     if (length(newnames)>0)
+       warning(paste("unknown names in 
control:",paste(newnames,collapse=", ")))
       if(con$trace < 0)
           warning("read the documentation for 'trace' more carefully")
       if (method == "L-BFGS-B" &&


From h.wickham at gmail.com  Sat Apr  5 00:13:22 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 4 Apr 2008 17:13:22 -0500
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <47F695E5.4000906@fhcrc.org>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.32988.112442.175233@fangorn.hornik.net>
	<f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>
	<18422.35291.492048.512873@fangorn.hornik.net>
	<47F6924D.4040009@fhcrc.org>
	<f8e6ff050804041346j4520caffica9f5b3b4f72e187@mail.gmail.com>
	<47F695E5.4000906@fhcrc.org>
Message-ID: <f8e6ff050804041513n4957a1c8s3ecadfdf8803e025@mail.gmail.com>

> > To clarify, do you mean you have decided not to provide a date field
> > in the DESCRIPTION file?  If so, would you mind elaborating why?
> >
>
>   Sure: The date of what?

That's a good question.  Another possible solution would be to remove
(or down-weight the importance of) the date field, and instead use the
date from the built field.  This would affect the display of (at
least) the output from help(package=x) and the CRAN package page.

Hadley

-- 
http://had.co.nz/


From edd at debian.org  Sat Apr  5 05:24:24 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 4 Apr 2008 22:24:24 -0500
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <b0808fdc0804041415v577d4844xdeac5d54e05cf45@mail.gmail.com>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>
	<18422.37414.77562.517176@ron.nulle.part>
	<b0808fdc0804041415v577d4844xdeac5d54e05cf45@mail.gmail.com>
Message-ID: <18422.61672.522552.888937@ron.nulle.part>


On 4 April 2008 at 23:15, Antonio, Fabio Di Narzo wrote:
| 2008/4/4, Dirk Eddelbuettel <edd at debian.org>:
| >
| >  On 4 April 2008 at 14:05, hadley wickham wrote:
| >  | I'm always forgetting to update the date in DESCRIPTION.  Would it be
| >  | possible to add a warning to R CMD check if it's old?
| >
| >
| > As I mentioned to Hadley in private mail, a version control system can update
| >  a field like $Date$ or $LastChangedDate$ automagically on writes or
| >  checkins. I use that as I also tend to forget to update the field manually.
| >  For SVN one must set one of the arcane propset fields.
| 
| That's not completely true. As far as I remember (git misses keywords)
| svn keywords are always referred only to the file they appear in. So
| this way the description file would contain the last date the
| description file itself has been modified, not the last date 'any of
| the package file s has been modified'.

I think you are correct. But as one has to augment the version number in
DESCRIPTION anyway, the subsequent check-in will set the date for free.  

It's a kludge, but one that has been working independently of R CMD ... for
years.

Hth, Dirk

--
Three out of two people have difficulties with fractions.


From cgenolin at u-paris10.fr  Sat Apr  5 10:58:18 2008
From: cgenolin at u-paris10.fr (Christophe Genolini)
Date: Sat, 05 Apr 2008 10:58:18 +0200
Subject: [Rd] tests Rin and Rout
In-Reply-To: <18416.40443.244387.473214@stat.math.ethz.ch>
References: <47F014DB.6040000@u-paris10.fr>
	<18416.40443.244387.473214@stat.math.ethz.ch>
Message-ID: <47F73F2A.4010403@u-paris10.fr>


> hmm, I see 219 out 1378 CRAN packages having a 'tests'
> subdirectory, so it seems you have been a bit unlucky. ;-)
>   
Luck has probably nothing related with my failure.
I just try to look in packages recommanded by Pr Brian Ripley (like 
codetools, foreign, lattice)
and I did not find any tests directories. So either I am not looking in 
the right place, or tests are
not including in the package for windows. Any idea?

Thanks

Christophe


From p.dalgaard at biostat.ku.dk  Sat Apr  5 11:17:24 2008
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sat, 05 Apr 2008 11:17:24 +0200
Subject: [Rd] tests Rin and Rout
In-Reply-To: <47F73F2A.4010403@u-paris10.fr>
References: <47F014DB.6040000@u-paris10.fr>	<18416.40443.244387.473214@stat.math.ethz.ch>
	<47F73F2A.4010403@u-paris10.fr>
Message-ID: <47F743A4.10808@biostat.ku.dk>

Christophe Genolini wrote:
>> hmm, I see 219 out 1378 CRAN packages having a 'tests'
>> subdirectory, so it seems you have been a bit unlucky. ;-)
>>   
>>     
> Luck has probably nothing related with my failure.
> I just try to look in packages recommanded by Pr Brian Ripley (like 
> codetools, foreign, lattice)
> and I did not find any tests directories. So either I am not looking in 
> the right place, or tests are
> not including in the package for windows. Any idea?
>
>   
Aha... That would explain it, yes. It is only in the _source_ package 
and not installed.

[pd at titmouse2 ISWR]$ ls ISwR/
CVS  data  DESCRIPTION  inst  man  R  tests  TITLE
[pd at titmouse2 ISWR]$ ls ~/Rlibrary/ISwR/
CONTENTS  DESCRIPTION  html   latex  Meta  rawdata  scripts
data      help         INDEX  man    R     R-ex
[pd at titmouse2 ISWR]$ grep -i version  ISwR/DESCRIPTION
Version: 2.0-0
[pd at titmouse2 ISWR]$ grep -i version  ~/Rlibrary/ISwR/DESCRIPTION
Version: 2.0-0



> Thanks
>
> Christophe
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>   


-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From tobias.verbeke at telenet.be  Sat Apr  5 11:57:53 2008
From: tobias.verbeke at telenet.be (Tobias Verbeke)
Date: Sat, 05 Apr 2008 11:57:53 +0200
Subject: [Rd] tests Rin and Rout
In-Reply-To: <47F743A4.10808@biostat.ku.dk>
References: <47F014DB.6040000@u-paris10.fr>	<18416.40443.244387.473214@stat.math.ethz.ch>	<47F73F2A.4010403@u-paris10.fr>
	<47F743A4.10808@biostat.ku.dk>
Message-ID: <47F74D21.6050309@telenet.be>

Peter Dalgaard wrote:
> Christophe Genolini wrote:
>>> hmm, I see 219 out 1378 CRAN packages having a 'tests'
>>> subdirectory, so it seems you have been a bit unlucky. ;-)
>>>   
>>>     
>> Luck has probably nothing related with my failure.
>> I just try to look in packages recommanded by Pr Brian Ripley (like 
>> codetools, foreign, lattice)
>> and I did not find any tests directories. So either I am not looking in 
>> the right place, or tests are
>> not including in the package for windows. Any idea?
>>
>>   
> Aha... That would explain it, yes. It is only in the _source_ package 
> and not installed.
> 
> [pd at titmouse2 ISWR]$ ls ISwR/
> CVS  data  DESCRIPTION  inst  man  R  tests  TITLE
> [pd at titmouse2 ISWR]$ ls ~/Rlibrary/ISwR/
> CONTENTS  DESCRIPTION  html   latex  Meta  rawdata  scripts
> data      help         INDEX  man    R     R-ex
> [pd at titmouse2 ISWR]$ grep -i version  ISwR/DESCRIPTION
> Version: 2.0-0
> [pd at titmouse2 ISWR]$ grep -i version  ~/Rlibrary/ISwR/DESCRIPTION
> Version: 2.0-0

For the record (and similarly to what Martin Maechler mentioned 
previously in this thread) it is perfectly possible to include a 
$R_PKG_ROOT/inst/unitTests directory (or similar) with tests. This will 
make sure the directory is included in binary (and installed) packages 
as well. Open the Windows binary package zip file for RSQLite, for example.

Kind regards,
Tobias


From Thomas.Petzoldt at TU-Dresden.de  Sat Apr  5 12:16:57 2008
From: Thomas.Petzoldt at TU-Dresden.de (Thomas Petzoldt)
Date: Sat, 05 Apr 2008 12:16:57 +0200
Subject: [Rd] suggested minor patch for optim.R
In-Reply-To: <47F6B4E0.40902@zoo.ufl.edu>
References: <47F6B4E0.40902@zoo.ufl.edu>
Message-ID: <47F75199.9000908@TU-Dresden.de>

Ben Bolker wrote:
>     optim ignores misspelled control parameters, so that trying
> to set (e.g.) "maxint=1000" in  the control argument silently
> does nothing.  The patch below (watch out for line breaks! also
> posted at http://www.zoo.ufl.edu/bolker/optim_patch.R , and
> http://www.zoo.ufl.edu/bolker/optim_new.R) adds
> three lines to optim.R that issue a warning if any names of
> elements of "control" fail to match the internal object that
> contains the defaults.
> 
>    Here is code that shows the behavior:

[... details deleted]

https://stat.ethz.ch/pipermail/r-devel/2008-March/048710.html

Ben,

another issue of optim is that I don't see any reason why the REPORT 
control parameter is evaluated by "BFGS" and "L-BFGS-B" only but not, 
for example, by "SANN", see:

https://stat.ethz.ch/pipermail/r-devel/2008-March/048710.html

Thomas P.


From cgenolin at u-paris10.fr  Sat Apr  5 12:47:13 2008
From: cgenolin at u-paris10.fr (Christophe Genolini)
Date: Sat, 05 Apr 2008 12:47:13 +0200
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F1198C.7070407@r-project.org>
References: <47EF9A63.3070609@u-paris10.fr> <47F1198C.7070407@r-project.org>
Message-ID: <47F758B1.4010503@u-paris10.fr>

John Chambers a ?crit :
> Christophe,
>
> Thanks for your work; unfortunately,  at the same time you were 
> developing your version, the original function was being extended in 
> the same direction.
Next time, I will try to not be late...

> Version 2.7 of R is currently in alpha testing
I try using 
https://svn.r-project.org/R/trunk/src/library/utils/R/package.skeleton.R
I get

Erreur dans get(name, envir = asNamespace(pkg), inherits = FALSE) :
  variable ".methodsPackageMetaNamePattern" introuvable

I gess it is not a bug, I guess it is because I do not have the methods 
V2.7 library
So I'll wait until the 22 april.

Christophe


From mflawren at fhcrc.org  Sat Apr  5 13:55:10 2008
From: mflawren at fhcrc.org (Michael Lawrence)
Date: Sat, 5 Apr 2008 04:55:10 -0700
Subject: [Rd] Odd tcltk and Rattle interference on MS/Windows
In-Reply-To: <20080405105711.GC16122@kyral.togaware.com>
References: <20080405105711.GC16122@kyral.togaware.com>
Message-ID: <509e0620804050455p765a9b4byce445e809ddecdf7@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080405/9d14fec6/attachment.pl 

From cgenolin at u-paris10.fr  Sat Apr  5 14:03:36 2008
From: cgenolin at u-paris10.fr (Christophe Genolini)
Date: Sat, 05 Apr 2008 14:03:36 +0200
Subject: [Rd] tests Rin and Rout
In-Reply-To: <alpine.LFD.1.00.0803310747400.7538@gannet.stats.ox.ac.uk>
References: <47F014DB.6040000@u-paris10.fr>
	<alpine.LFD.1.00.0803310747400.7538@gannet.stats.ox.ac.uk>
Message-ID: <47F76A98.9030002@u-paris10.fr>

Prof Brian Ripley a ?crit :
> Recommended packages cluster codetools foreign lattice nlme and rpart
> have tests, for example.  (As do standard packages grDevices, grid and 
> stats.)
>
Thanks for your help.

Concerning .Rin, I check all the package you point, but none of them use it.
Does someone know a package using .Rin ?

Christophe


From ligges at statistik.tu-dortmund.de  Sat Apr  5 14:32:46 2008
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sat, 05 Apr 2008 14:32:46 +0200
Subject: [Rd] tests Rin and Rout
In-Reply-To: <47F76A98.9030002@u-paris10.fr>
References: <47F014DB.6040000@u-paris10.fr>	<alpine.LFD.1.00.0803310747400.7538@gannet.stats.ox.ac.uk>
	<47F76A98.9030002@u-paris10.fr>
Message-ID: <47F7716E.3000809@statistik.tu-dortmund.de>



Christophe Genolini wrote:
> Prof Brian Ripley a ?crit :
>> Recommended packages cluster codetools foreign lattice nlme and rpart
>> have tests, for example.  (As do standard packages grDevices, grid and 
>> stats.)
>>
> Thanks for your help.
> 
> Concerning .Rin, I check all the package you point, but none of them use it.
> Does someone know a package using .Rin ?

I haven't looked at any package, but see the R.in files in the main R 
sources, for example:

https://svn.r-project.org/R/trunk/tests/


Uwe Ligges


> Christophe
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From maechler at stat.math.ethz.ch  Sat Apr  5 14:34:51 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 5 Apr 2008 14:34:51 +0200
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F758B1.4010503@u-paris10.fr>
References: <47EF9A63.3070609@u-paris10.fr> <47F1198C.7070407@r-project.org>
	<47F758B1.4010503@u-paris10.fr>
Message-ID: <18423.29163.115366.839889@cmath-5.math.ethz.ch>

>>>>> "CG" == Christophe Genolini <cgenolin at u-paris10.fr>
>>>>>     on Sat, 05 Apr 2008 12:47:13 +0200 writes:

    CG> John Chambers a ?crit :
    >> Christophe,
    >> 
    >> Thanks for your work; unfortunately, at the same time you
    >> were developing your version, the original function was
    >> being extended in the same direction.
    CG> Next time, I will try to not be late...

    >> Version 2.7 of R is currently in alpha testing
    CG> I try using
    CG> https://svn.r-project.org/R/trunk/src/library/utils/R/package.skeleton.R
    CG> I get

    CG> Erreur dans get(name, envir = asNamespace(pkg), inherits
    CG> = FALSE) : variable ".methodsPackageMetaNamePattern"
    CG> introuvable

    CG> I gess it is not a bug, I guess it is because I do not
    CG> have the methods V2.7 library So I'll wait until the 22
    CG> april.

Hmm, please reconsider!
We have been providing R 2.7.0 alpha in all the usual platform
flavors for almost two weeks now.... and we *REALLY* would like
it to be used and get feedback on new features *BEFORE* release
if at all  possible!

Martin

    CG> Christophe


From ligges at statistik.tu-dortmund.de  Sat Apr  5 14:34:40 2008
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sat, 05 Apr 2008 14:34:40 +0200
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F758B1.4010503@u-paris10.fr>
References: <47EF9A63.3070609@u-paris10.fr> <47F1198C.7070407@r-project.org>
	<47F758B1.4010503@u-paris10.fr>
Message-ID: <47F771E0.4090406@statistik.tu-dortmund.de>



Christophe Genolini wrote:
> John Chambers a ?crit :
>> Christophe,
>>
>> Thanks for your work; unfortunately,  at the same time you were 
>> developing your version, the original function was being extended in 
>> the same direction.
> Next time, I will try to not be late...
> 
>> Version 2.7 of R is currently in alpha testing
> I try using 
> https://svn.r-project.org/R/trunk/src/library/utils/R/package.skeleton.R
> I get
> 
> Erreur dans get(name, envir = asNamespace(pkg), inherits = FALSE) :
>   variable ".methodsPackageMetaNamePattern" introuvable
> 
> I gess it is not a bug, I guess it is because I do not have the methods 
> V2.7 library
> So I'll wait until the 22 april.

No need, please download the alpha version and try it out at once!
Testers of pre-release versions for R are very important!

Best wishes,
Uwe Ligges



> 
> Christophe
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From tobias.verbeke at telenet.be  Sat Apr  5 14:38:14 2008
From: tobias.verbeke at telenet.be (Tobias Verbeke)
Date: Sat, 05 Apr 2008 14:38:14 +0200
Subject: [Rd] tests Rin and Rout
In-Reply-To: <47F76A98.9030002@u-paris10.fr>
References: <47F014DB.6040000@u-paris10.fr>	<alpine.LFD.1.00.0803310747400.7538@gannet.stats.ox.ac.uk>
	<47F76A98.9030002@u-paris10.fr>
Message-ID: <47F772B6.8090902@telenet.be>

Christophe Genolini wrote:
> Prof Brian Ripley a ?crit :
>> Recommended packages cluster codetools foreign lattice nlme and rpart
>> have tests, for example.  (As do standard packages grDevices, grid and 
>> stats.)
>>
> Thanks for your help.
> 
> Concerning .Rin, I check all the package you point, but none of them use it.
> Does someone know a package using .Rin ?

https://svn.r-project.org/R/trunk/tests/

has isas-tests.Rin and no-segfault.Rin

HTH,
Tobias


From cgenolin at u-paris10.fr  Sat Apr  5 14:46:25 2008
From: cgenolin at u-paris10.fr (Christophe Genolini)
Date: Sat, 05 Apr 2008 14:46:25 +0200
Subject: [Rd] package.skeleton.S4
In-Reply-To: <18423.29163.115366.839889@cmath-5.math.ethz.ch>
References: <47EF9A63.3070609@u-paris10.fr>	<47F1198C.7070407@r-project.org>	<47F758B1.4010503@u-paris10.fr>
	<18423.29163.115366.839889@cmath-5.math.ethz.ch>
Message-ID: <47F774A1.4050901@u-paris10.fr>


> Hmm, please reconsider!
> We have been providing R 2.7.0 alpha in all the usual platform
> flavors for almost two weeks now.... and we *REALLY* would like
> it to be used and get feedback on new features *BEFORE* release
> if at all  possible!
>
>   
Ok ok ok, I will...
But I do not find the windows version. Where is it ?
And I am not sure I will be able to compile it...

Christophe


From ligges at statistik.tu-dortmund.de  Sat Apr  5 14:57:41 2008
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sat, 05 Apr 2008 14:57:41 +0200
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F774A1.4050901@u-paris10.fr>
References: <47EF9A63.3070609@u-paris10.fr>	<47F1198C.7070407@r-project.org>	<47F758B1.4010503@u-paris10.fr>	<18423.29163.115366.839889@cmath-5.math.ethz.ch>
	<47F774A1.4050901@u-paris10.fr>
Message-ID: <47F77745.8000301@statistik.tu-dortmund.de>



Christophe Genolini wrote:
>> Hmm, please reconsider!
>> We have been providing R 2.7.0 alpha in all the usual platform
>> flavors for almost two weeks now.... and we *REALLY* would like
>> it to be used and get feedback on new features *BEFORE* release
>> if at all  possible!
>>
>>   
> Ok ok ok, I will...
> But I do not find the windows version. Where is it ?

Go to your favorite CRAN mirror and click:

Windows - base - "pre-release build of R-2.7.0" and from there download 
"R-2.7.0alpha-win32.exe"


> And I am not sure I will be able to compile it...

It's also not that hard....

Uwe Ligges


> Christophe
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From cgenolin at u-paris10.fr  Sat Apr  5 15:11:56 2008
From: cgenolin at u-paris10.fr (Christophe Genolini)
Date: Sat, 05 Apr 2008 15:11:56 +0200
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F77745.8000301@statistik.tu-dortmund.de>
References: <47EF9A63.3070609@u-paris10.fr>	<47F1198C.7070407@r-project.org>	<47F758B1.4010503@u-paris10.fr>	<18423.29163.115366.839889@cmath-5.math.ethz.ch>
	<47F774A1.4050901@u-paris10.fr>
	<47F77745.8000301@statistik.tu-dortmund.de>
Message-ID: <47F77A9C.3010206@u-paris10.fr>


>> And I am not sure I will be able to compile it...
>
> It's also not that hard....
I do not understand what I have to do...
More precisely, I under windows XP32bit. As you told me, I downloaded 
the version 2.7alpha exactly like I did with the 2.6.2, I install it 
exactly the same way and it seems to work. I did not compile anything... 
Should I have ?


For package.skeleton, I will make some more advance test this week, but 
I already have a warnings:

Warning messages:
1: In system(paste("rm ", file.path(docs_dir, sprintf("%s.Rd", 
list0[item])))) :
  rm introuvable
2: In system(paste("rm ", file.path(docs_dir, sprintf("%s.Rd", 
list0[item])))) :
  rm introuvable

I guess it is because "rm" is unix and not windows ?

On monday, I will also use it on windows 64bit.

Christophe


From zhongwent at yahoo.com  Sat Apr  5 00:03:01 2008
From: zhongwent at yahoo.com (ZT2008)
Date: Fri, 4 Apr 2008 15:03:01 -0700 (PDT)
Subject: [Rd] How to create a function calling two functions with unknown
 number of parameters?
Message-ID: <16501233.post@talk.nabble.com>



... can be used to represent unknown number of parameters passed into a
function. 

For example, I write a function g. g calls another function f1. 

For example f1 could be different random number generation function. 

when f1=rnorm(), it has 3 parameters n, mean and standard deviation.

when f1=rexp(), it has 2 parameters n and rate. 

g can be defined as

g <- function(f1, ...) {
	f1(...)
}

My problem is what about g calls two functions with unknown number of
parameters.

In this case one ... doesn't help. 

If I define g as follows:

g <- function(f1, f2, ...) {
	f1(...)+f2(...)
}

It seems ... is only passed to f1, it can't be passed to f2. 

Can anybody help me? Thanks!

-- 
View this message in context: http://www.nabble.com/How-to-create-a-function-calling-two-functions-with-unknown-number-of-parameters--tp16501233p16501233.html
Sent from the R devel mailing list archive at Nabble.com.


From pmelsted at gmail.com  Sat Apr  5 06:10:03 2008
From: pmelsted at gmail.com (pmelsted at gmail.com)
Date: Sat,  5 Apr 2008 06:10:03 +0200 (CEST)
Subject: [Rd] Random seed not reset when starting R (PR#11089)
Message-ID: <20080405041003.951012834154@mail.pubhealth.ku.dk>

Full_Name: Pall Melsted
Version: 2.3.1
OS: WinXP
Submission from: (NULL) (71.240.25.175)


Random set is not reset when starting R again. When R starts with a

[Previously saved workspace restored]

it seems that the .Random.seed variable is already set. If you quit R (and don't
save your workspace) the next time you start R .Random.seed will be set to the
same value again.

Steps to reproduce:
1. Start R afresh and type runif(1)
2. Quit R and do not save workspace
3. Start R again (make sure a previous workspace was restored) type runif(1)
again, this will be the same "random" number as before.

>From documentation on .Random.seed

"
     Initially, there is no seed;  a new one is created from the
     current time when one is required.  Hence, different sessions will
     give different simulation results, by default.
"

This behavior is very counterintuitive and can mess up simulation results,
especially when sampling. The seed really should be set when R starts,
regardless of whether .Random.seed is set.

This bug has also been reproduced on MacOSX 10.4, R version 2.2.1


From ripley at stats.ox.ac.uk  Sat Apr  5 16:01:45 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 5 Apr 2008 15:01:45 +0100 (BST)
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
Message-ID: <alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>

I think I have found this -- if so, it was an X11 timing issue and we 
needed to re-read the X11 window size at a later time.  Please 
try r45102 or later.

On Fri, 4 Apr 2008, Prof Brian Ripley wrote:

> On Thu, 3 Apr 2008, Martin Morgan wrote:
>
>> I apologize if this is too obscure to reproduce, or some idiosyncratic
>> aspects of my system. If I create a plot, e.g.,
>> 
>> > plot(1:10)
>> 
>> I get a graphics device as expected. I then click on the 'zoom' box on
>> my X11 window, so the window expands to occupy the entire screen. The
>> plot is redrawn at the scale of the large window, but is clipped to the
>>   'unzoomed' size. I only see the top left portion of the plot,
>> occupying the space of the original image.
>> 
>> Here are the R essentials; I'm using X11 on a recent SuSE, connecting
>> via a moderately out-of-date cygwin from Windows. I'm happy to provide
>> more detail if pointed in the right direction (and will trouble shoot
>> myself if this is not a general problem).
>
> We've seen it, but not all systems do it.  At present it looks like a cairo 
> bug, but more work is needed on it.  If we haven't found a workaround by 
> release time, it will be documented on the help page.
>
>> 
>> > sessionInfo()
>> R version 2.8.0 Under development (unstable) (2008-04-03 r45066)
>> x86_64-unknown-linux-gnu
>> 
>> locale:
>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> > capabilities()
>>     jpeg      png    tcltk      X11     aqua http/ftp  sockets   libxml
>>     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE     TRUE     TRUE
>>     fifo   cledit    iconv      NLS  profmem    cairo
>>     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE
>> 
>> 
>> Martin
>> --
>> Martin Morgan
>> Computational Biology / Fred Hutchinson Cancer Research Center
>> 1100 Fairview Ave. N.
>> PO Box 19024 Seattle, WA 98109
>> 
>> Location: Arnold Building M2 B169
>> Phone: (206) 667-2793
>> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From maechler at stat.math.ethz.ch  Sat Apr  5 16:16:05 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 5 Apr 2008 16:16:05 +0200
Subject: [Rd] optim: why is REPORT not used in SANN?
In-Reply-To: <47DD17AF.5030606@TU-Dresden.de>
References: <47DD17AF.5030606@TU-Dresden.de>
Message-ID: <18423.35237.59390.18811@cmath-5.math.ethz.ch>

>>>>> "TP" == Thomas Petzoldt <Thomas.Petzoldt at tu-dresden.de>
>>>>>     on Sun, 16 Mar 2008 13:50:55 +0100 writes:

    TP> Hello, I wonder why the control parameter REPORT is not
    TP> supported by method SANN. Looking into optim.c I found
    TP> an internal constant:

    TP> #define STEPS 100

    TP> ... and decreasing this to 10 helped me fine-tuning the
    TP> annealing parameters in an actual problem.

    TP> Is there any reason why not passing nREPORT to samin and
    TP> setting something like:

    TP> STEPS = nREPORT / tmax

Sorry to reply late (but then, rather than never ..).

You ask for reasons... I see/guess :

- the  SANN  method also was contributed from "outside" 
  (as ?optim mentions); and the original authors may not have
  seen a use for such more flexible monitoring.

- the R core members are probably not using 'samin' very often

- If there is a need you can write the function you are
  optimizing in a way that it prints info.

- Nobody has contributed a well-tested patch against R-devel to
  both code and documentation
  which would implement your proposal ___ BACK COMPATIBLY __
  (i.e. the default for SANN should remain to print every 100th;
   and this differs from the default for BFGS where the default
  'REPORT' leads to output every 10th eval).

Regards,
Martin

    TP> Thomas P.



    TP> -- Thomas Petzoldt Technische Universitaet Dresden
    TP> Institut fuer Hydrobiologie
    TP> thomas.petzoldt at tu-dresden.de 01062 Dresden
    TP> http://tu-dresden.de/hydrobiologie/ GERMANY


From pgilbert at bank-banque-canada.ca  Sat Apr  5 16:41:38 2008
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Sat, 05 Apr 2008 10:41:38 -0400
Subject: [Rd] R CMD check should check date in description
In-Reply-To: <47F6924D.4040009@fhcrc.org>
References: <f8e6ff050804041205i18227c9dq41dbe5c4241b5605@mail.gmail.com>	<18422.32988.112442.175233@fangorn.hornik.net>	<f8e6ff050804041254v68b476d2i20369d50fc03d53e@mail.gmail.com>	<18422.35291.492048.512873@fangorn.hornik.net>
	<47F6924D.4040009@fhcrc.org>
Message-ID: <47F78FA2.70109@bank-banque-canada.ca>

Robert Gentleman wrote:
> Kurt Hornik wrote:
>   
>>>>>>> hadley wickham writes:
>>>>>>>               
>>>> I recently thought about this.  I see several issues.
>>>>
>>>> * How can we determine if it is "old"?  Relative to the time when the
>>>> package was uploaded to a repository?
>>>>
>>>> * Some developers might actually want a different date for a variety of
>>>> reasons ...
>>>>
>>>> * What we currently say in R-exts is
>>>>
>>>> The optional `Date' field gives the release date of the current
>>>> version of the package.  It is strongly recommended to use the
>>>> yyyy-mm-dd format conforming to the ISO standard.
>>>>
>>>> Many packages do not comply with the latter (but I have some code to
>>>> sanitize most of these), and "release date" may be a moving target.
>>>>
>>>> The best that I could think of is to teach R CMD build to *add* a Date
>>>> field if there was none.
>>>>         
>>> That sounds like a good solution to me.
>>>       
>> Ok.  However, 2.7.0 feature freeze soon ...
>>     
>
>    Please no.  If people want one then they should add it manually. It 
> is optional, and some of us have explicitly opted out and would like to 
> continue to do so.
>
>
>   
>>> Otherwise, maybe just a message from R CMD check?  i.e. just like
>>> failing the codetools checks, it might be perfectly ok, but you should
>>> be doing it consciously, not by mistake.
>>>       
>> I am working on that, too (e.g. a simple NOTE in case the date spec
>> cannot be canonicalized, etc.).  If file time stamps were realiable, we
>> could compare these to the given date.  This is I guess all we can do
>> for e.g. CRAN's daily checking (where comparing to the date the check
>> is run is not too useful) ...
>>     
>
>    But definitely not a warning.
>   
Yes, please not a warning.  I think of warnings as something I should 
try to fix, so they throw errors in my make system.  If I change that I 
will miss all the warnings.  If something is really optional then it 
should at most be flagged by NOTE.  (BTW, if you use make to control 
your build it is pretty easy to put the date in automatically.)

Paul
>    Robert
>
>   
>> Best
>> -k
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>     
>
>   
====================================================================================

La version fran?aise suit le texte anglais.

------------------------------------------------------------------------------------

This email may contain privileged and/or confidential in...{{dropped:26}}


From maechler at stat.math.ethz.ch  Sat Apr  5 16:45:14 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 5 Apr 2008 16:45:14 +0200
Subject: [Rd] suggested minor patch for optim.R
In-Reply-To: <47F6B4E0.40902@zoo.ufl.edu>
References: <47F6B4E0.40902@zoo.ufl.edu>
Message-ID: <18423.36986.39737.812584@cmath-5.math.ethz.ch>

Hi Ben,

>>>>> "BB" == Ben Bolker <bolker at zoo.ufl.edu>
>>>>>     on Fri, 04 Apr 2008 19:08:16 -0400 writes:

    BB>     optim ignores misspelled control parameters, so that
    BB> trying to set (e.g.) "maxint=1000" in the control
    BB> argument silently does nothing.  The patch below (watch
    BB> out for line breaks! also posted at
    BB> http://www.zoo.ufl.edu/bolker/optim_patch.R , and
    BB> http://www.zoo.ufl.edu/bolker/optim_new.R) adds three
    BB> lines to optim.R that issue a warning if any names of
    BB> elements of "control" fail to match the internal object
    BB> that contains the defaults.

such a small change makes a lot of sense to me.


    BB>    Here is code that shows the behavior:

[........]

    BB>    I realize this is probably too late for feature
    BB> freeze for 2.7.0 (?), but I'd appreciate any comments
    BB> ...

I'd say this is a bug fix and not a new feature, so there's
plenty of time for 2.7.0.

I'm about to commit it (i.e. a slightly more compact version).

Thank you, Ben!

Martin Maechler, ETH Zurich


From mtmorgan at fhcrc.org  Sat Apr  5 16:55:08 2008
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Sat, 05 Apr 2008 07:55:08 -0700
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk> (Brian
	Ripley's message of "Sat, 5 Apr 2008 15:01:45 +0100 (BST)")
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>
Message-ID: <6ph1w5ke4hf.fsf@lamprey.fhcrc.org>

Yes, thank you, this fixes the problem for me.

As a follow-up, and again with my ignorance of where processing is
actually occuring, it seems like the X11 window content is drawn
directly rather than being drawn to a buffer and then blit on to the
screen -- the original appearance of the plot is slow, compared to,
e.g., hiding and then revealing the image once it has been plotted.

R version 2.8.0 Under development (unstable) (2008-04-05 r45102)

Thank you again for tracking down the original issue.

Martin

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> I think I have found this -- if so, it was an X11 timing issue and we
> needed to re-read the X11 window size at a later time.  Please try
> r45102 or later.
>
> On Fri, 4 Apr 2008, Prof Brian Ripley wrote:
>
>> On Thu, 3 Apr 2008, Martin Morgan wrote:
>>
>>> I apologize if this is too obscure to reproduce, or some idiosyncratic
>>> aspects of my system. If I create a plot, e.g.,
>>> > plot(1:10)
>>> I get a graphics device as expected. I then click on the 'zoom' box
>>> on
>>> my X11 window, so the window expands to occupy the entire screen. The
>>> plot is redrawn at the scale of the large window, but is clipped to the
>>>   'unzoomed' size. I only see the top left portion of the plot,
>>> occupying the space of the original image.
>>> Here are the R essentials; I'm using X11 on a recent SuSE,
>>> connecting
>>> via a moderately out-of-date cygwin from Windows. I'm happy to provide
>>> more detail if pointed in the right direction (and will trouble shoot
>>> myself if this is not a general problem).
>>
>> We've seen it, but not all systems do it.  At present it looks like
>> a cairo bug, but more work is needed on it.  If we haven't found a
>> workaround by release time, it will be documented on the help page.
>>
>>> > sessionInfo()
>>> R version 2.8.0 Under development (unstable) (2008-04-03 r45066)
>>> x86_64-unknown-linux-gnu
>>> locale:
>>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> > capabilities()
>>>     jpeg      png    tcltk      X11     aqua http/ftp  sockets   libxml
>>>     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE     TRUE     TRUE
>>>     fifo   cledit    iconv      NLS  profmem    cairo
>>>     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE
>>> Martin
>>> --
>>> Martin Morgan
>>> Computational Biology / Fred Hutchinson Cancer Research Center
>>> 1100 Fairview Ave. N.
>>> PO Box 19024 Seattle, WA 98109
>>> Location: Arnold Building M2 B169
>>> Phone: (206) 667-2793
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> 
>>
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M2 B169
Phone: (206) 667-2793


From murdoch at stats.uwo.ca  Sat Apr  5 16:54:47 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 05 Apr 2008 10:54:47 -0400
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F77A9C.3010206@u-paris10.fr>
References: <47EF9A63.3070609@u-paris10.fr>	<47F1198C.7070407@r-project.org>	<47F758B1.4010503@u-paris10.fr>	<18423.29163.115366.839889@cmath-5.math.ethz.ch>	<47F774A1.4050901@u-paris10.fr>	<47F77745.8000301@statistik.tu-dortmund.de>
	<47F77A9C.3010206@u-paris10.fr>
Message-ID: <47F792B7.8010404@stats.uwo.ca>

Christophe Genolini wrote:
>>> And I am not sure I will be able to compile it...
>>>       
>> It's also not that hard....
>>     
> I do not understand what I have to do...
> More precisely, I under windows XP32bit. As you told me, I downloaded 
> the version 2.7alpha exactly like I did with the 2.6.2, I install it 
> exactly the same way and it seems to work. I did not compile anything... 
> Should I have ?
>
>
> For package.skeleton, I will make some more advance test this week, but 
> I already have a warnings:
>
> Warning messages:
> 1: In system(paste("rm ", file.path(docs_dir, sprintf("%s.Rd", 
> list0[item])))) :
>   rm introuvable
> 2: In system(paste("rm ", file.path(docs_dir, sprintf("%s.Rd", 
> list0[item])))) :
>   rm introuvable
>
> I guess it is because "rm" is unix and not windows ?
>   

Yes, package.skeleton should have used unlink() or file.remove().  I'll 
fix it. 

Thanks for testing.
> On monday, I will also use it on windows 64bit.
>   

Please download a new copy tomorrow or Monday; this bug should be fixed 
by then.

Duncan Murdoch
> Christophe
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From cgenolin at u-paris10.fr  Sat Apr  5 17:10:47 2008
From: cgenolin at u-paris10.fr (Christophe Genolini)
Date: Sat, 05 Apr 2008 17:10:47 +0200
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F792B7.8010404@stats.uwo.ca>
References: <47EF9A63.3070609@u-paris10.fr>	<47F1198C.7070407@r-project.org>	<47F758B1.4010503@u-paris10.fr>	<18423.29163.115366.839889@cmath-5.math.ethz.ch>	<47F774A1.4050901@u-paris10.fr>	<47F77745.8000301@statistik.tu-dortmund.de>
	<47F77A9C.3010206@u-paris10.fr> <47F792B7.8010404@stats.uwo.ca>
Message-ID: <47F79677.9070101@u-paris10.fr>

Am I suppose to repport only but, or can I also make some comments?
Well, I guess if I am not suppose to comment, it is easy to ignore them...

Concerning the help file, some other examples might be a good complement 
to the existing one.

--- 8< ------------------
\examples{
require(stats)
## two functions and two "data sets" :
f <- function(x,y) x+y
g <- function(x,y) x-y
d <- data.frame(a=1, b=2)
e <- rnorm(1000)

# using list will create one file for each function
package.skeleton(name="mypkg",list=c("f","g","d","e"))


### Using a file :
sink("myPack2.r")
cat("
    f2 <- function(x,y) x*y
    d2 <- data.frame(a=rnorm(10),b=1:10)
")
sink()

# using code_files will copy the file
package.skeleton(name="mypkg2",code_files="myPack2.r")

### Dealing with S4 :
sink("myPack3.r")
cat("
    setClass('A',representation(x='numeric'))
    
setMethod('print','A',function(x){cat('AAA',x at x,'AAA');return(invisible())})
")
sink()
package.skeleton(name="mypkg3",code_files="myPack3.r")

### function or variable starting with . (dot) are hidden (see NAMESPACE)
.h <- function(x,y) x/y
package.skeleton(name="mypkg4",list=c("f","g","d","e",".h"))
}
--- 8< ------------------


Concerning the package construction:
after running package.skeleton, we (low level user) migth expect R CMD 
check and R CMD build to compile
It is not the case because of an error and some warnings.

Here is the error :
    Examples failed

May be some '#' can be put in the example code to prevent it from failling?

The warnings are :
    ~kwd1 is not a keyword
    duplicated alias for myMethod,AA-method
    missing link()
    Unaccounted top-level text

    for french people, some "?" and "?" provoque warnings as well.


Christophe


From ripley at stats.ox.ac.uk  Sat Apr  5 17:27:52 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 5 Apr 2008 16:27:52 +0100 (BST)
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <6ph1w5ke4hf.fsf@lamprey.fhcrc.org>
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>
	<6ph1w5ke4hf.fsf@lamprey.fhcrc.org>
Message-ID: <alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>

On Sat, 5 Apr 2008, Martin Morgan wrote:

> Yes, thank you, this fixes the problem for me.
>
> As a follow-up, and again with my ignorance of where processing is
> actually occuring, it seems like the X11 window content is drawn
> directly rather than being drawn to a buffer and then blit on to the
> screen -- the original appearance of the plot is slow, compared to,
> e.g., hiding and then revealing the image once it has been plotted.

That is not so for the default type="cairo".  The problem is likely to be 
that the bitblt is across the network, whereas repaint is a bitblt from a 
local copy.

There are some comments on the X11() help page -- you may want to try type 
= "nbcairo".  Some changes are planned for R 2.8.0 which will improve 
performance, but for now things are tuned for the most common case of a 
local X11 display (although type = "nbcairo" works quite well over my home 
wireless network).

>
> R version 2.8.0 Under development (unstable) (2008-04-05 r45102)
>
> Thank you again for tracking down the original issue.
>
> Martin
>
> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>
>> I think I have found this -- if so, it was an X11 timing issue and we
>> needed to re-read the X11 window size at a later time.  Please try
>> r45102 or later.
>>
>> On Fri, 4 Apr 2008, Prof Brian Ripley wrote:
>>
>>> On Thu, 3 Apr 2008, Martin Morgan wrote:
>>>
>>>> I apologize if this is too obscure to reproduce, or some idiosyncratic
>>>> aspects of my system. If I create a plot, e.g.,
>>>>> plot(1:10)
>>>> I get a graphics device as expected. I then click on the 'zoom' box
>>>> on
>>>> my X11 window, so the window expands to occupy the entire screen. The
>>>> plot is redrawn at the scale of the large window, but is clipped to the
>>>>   'unzoomed' size. I only see the top left portion of the plot,
>>>> occupying the space of the original image.
>>>> Here are the R essentials; I'm using X11 on a recent SuSE,
>>>> connecting
>>>> via a moderately out-of-date cygwin from Windows. I'm happy to provide
>>>> more detail if pointed in the right direction (and will trouble shoot
>>>> myself if this is not a general problem).
>>>
>>> We've seen it, but not all systems do it.  At present it looks like
>>> a cairo bug, but more work is needed on it.  If we haven't found a
>>> workaround by release time, it will be documented on the help page.
>>>
>>>>> sessionInfo()
>>>> R version 2.8.0 Under development (unstable) (2008-04-03 r45066)
>>>> x86_64-unknown-linux-gnu
>>>> locale:
>>>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>> capabilities()
>>>>     jpeg      png    tcltk      X11     aqua http/ftp  sockets   libxml
>>>>     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE     TRUE     TRUE
>>>>     fifo   cledit    iconv      NLS  profmem    cairo
>>>>     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE
>>>> Martin
>>>> --
>>>> Martin Morgan
>>>> Computational Biology / Fred Hutchinson Cancer Research Center
>>>> 1100 Fairview Ave. N.
>>>> PO Box 19024 Seattle, WA 98109
>>>> Location: Arnold Building M2 B169
>>>> Phone: (206) 667-2793
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>>
>>> --
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>
>>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> --
> Martin Morgan
> Computational Biology / Fred Hutchinson Cancer Research Center
> 1100 Fairview Ave. N.
> PO Box 19024 Seattle, WA 98109
>
> Location: Arnold Building M2 B169
> Phone: (206) 667-2793
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From bolker at zoo.ufl.edu  Sat Apr  5 18:30:30 2008
From: bolker at zoo.ufl.edu (Ben Bolker)
Date: Sat, 05 Apr 2008 12:30:30 -0400
Subject: [Rd] suggested minor patch for optim.R
In-Reply-To: <47F75199.9000908@TU-Dresden.de>
References: <47F6B4E0.40902@zoo.ufl.edu> <47F75199.9000908@TU-Dresden.de>
Message-ID: <47F7A926.6030908@zoo.ufl.edu>

Thomas Petzoldt wrote:
> Ben,
> 
> another issue of optim is that I don't see any reason why the REPORT 
> control parameter is evaluated by "BFGS" and "L-BFGS-B" only but not, 
> for example, by "SANN", see:
> 
> https://stat.ethz.ch/pipermail/r-devel/2008-March/048710.html
> 
> Thomas P.
> 

   Could you submit a patch?  (The easier we make it on R-core to
implement these changes, the more likely it is that they'll get in ...)

   cheers
     Ben



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : https://stat.ethz.ch/pipermail/r-devel/attachments/20080405/bc592b47/attachment.bin 

From vincent.goulet at act.ulaval.ca  Sat Apr  5 17:45:42 2008
From: vincent.goulet at act.ulaval.ca (Vincent Goulet)
Date: Sat, 05 Apr 2008 11:45:42 -0400
Subject: [Rd] How to create a function calling two functions with
 unknown number of parameters?
In-Reply-To: <16501233.post@talk.nabble.com>
References: <16501233.post@talk.nabble.com>
Message-ID: <8B2E6787-620C-41A0-AD29-173BF6317789@act.ulaval.ca>

Le ven. 4 avr. ? 18:03, ZT2008 a ?crit :
>
>
> ... can be used to represent unknown number of parameters passed  
> into a
> function.
>
> For example, I write a function g. g calls another function f1.
>
> For example f1 could be different random number generation function.
>
> when f1=rnorm(), it has 3 parameters n, mean and standard deviation.
>
> when f1=rexp(), it has 2 parameters n and rate.
>
> g can be defined as
>
> g <- function(f1, ...) {
> 	f1(...)
> }
>
> My problem is what about g calls two functions with unknown number of
> parameters.
>
> In this case one ... doesn't help.
>
> If I define g as follows:
>
> g <- function(f1, f2, ...) {
> 	f1(...)+f2(...)
> }
>
> It seems ... is only passed to f1, it can't be passed to f2.

You should get around what you want with something along the lines of

dots <- list(...)
argf <- formals(f)
argg <- formals(g)

and then extracting from 'dots' elements corresponding to 'argf' and  
'argg' (using their names).

HTH

>
>
> Can anybody help me? Thanks!
>
> -- 
> View this message in context: http://www.nabble.com/How-to-create-a-function-calling-two-functions-with-unknown-number-of-parameters--tp16501233p16501233.html
> Sent from the R devel mailing list archive at Nabble.com.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

---
   Vincent Goulet, Associate Professor
   ?cole d'actuariat
   Universit? Laval, Qu?bec
   Vincent.Goulet at act.ulaval.ca   http://vgoulet.act.ulaval.ca


From mtmorgan at fhcrc.org  Sat Apr  5 18:23:38 2008
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Sat, 05 Apr 2008 09:23:38 -0700
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk> (Brian
	Ripley's message of "Sat, 5 Apr 2008 16:27:52 +0100 (BST)")
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>
	<6ph1w5ke4hf.fsf@lamprey.fhcrc.org>
	<alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>
Message-ID: <6phtzigclth.fsf@lamprey.fhcrc.org>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Sat, 5 Apr 2008, Martin Morgan wrote:
>
>> Yes, thank you, this fixes the problem for me.
>>
>> As a follow-up, and again with my ignorance of where processing is
>> actually occuring, it seems like the X11 window content is drawn
>> directly rather than being drawn to a buffer and then blit on to the
>> screen -- the original appearance of the plot is slow, compared to,
>> e.g., hiding and then revealing the image once it has been plotted.
>
> That is not so for the default type="cairo".  The problem is likely to
> be that the bitblt is across the network, whereas repaint is a bitblt
> from a local copy.

That makes sense, yes.

> There are some comments on the X11() help page -- you may want to try
> type = "nbcairo".  Some changes are planned for R 2.8.0 which will
> improve performance, but for now things are tuned for the most common
> case of a local X11 display (although type = "nbcairo" works quite
> well over my home wireless network).

OK thank you for the tip. I don't want to take any more of your time,
as the underlying issues seem to be on the radar. For what it's worth,
my new test case is

library(lattice)
df=data.frame(x=rnorm(10000), y=rnorm(10000), z=0:1)
doplots <- function(df) {
    plot(df$x, df$y)
    print(xyplot(y~x|z, df))
}

producing (over a slow network)

> X11(type="Xlib")
> system.time(doplots(df), gcFirst=TRUE)
   user  system elapsed 
  0.248   0.008   1.626 
> X11(type="cairo")
> system.time(doplots(df), gcFirst=TRUE)
   user  system elapsed 
  1.928   0.140  13.574 
> X11(type="nbcairo")
> system.time(doplots(df), gcFirst=TRUE)
   user  system elapsed 
  1.277   0.100  24.964 

Probably no news here. X11(type="Xlib") gives me ok performance.  With
X11(type="cairo") the axes appear 'slowly' and the points quickly
(maybe axis components are blitted, and then the points, instead of
everything in one go?). With X11(type='nbcairo') the axes are drawn
quickly and the points slowly (axes and each point drawn sequentially,
I guess) and the repaint is slow (because of non-buffering, I
guess). Using lattice graphics with 'cairo' can be quite painful.

Thank you again.

Martin

>> R version 2.8.0 Under development (unstable) (2008-04-05 r45102)
>>
>> Thank you again for tracking down the original issue.
>>
>> Martin
>>
>> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>>
>>> I think I have found this -- if so, it was an X11 timing issue and we
>>> needed to re-read the X11 window size at a later time.  Please try
>>> r45102 or later.
>>>
>>> On Fri, 4 Apr 2008, Prof Brian Ripley wrote:
>>>
>>>> On Thu, 3 Apr 2008, Martin Morgan wrote:
>>>>
>>>>> I apologize if this is too obscure to reproduce, or some idiosyncratic
>>>>> aspects of my system. If I create a plot, e.g.,
>>>>>> plot(1:10)
>>>>> I get a graphics device as expected. I then click on the 'zoom' box
>>>>> on
>>>>> my X11 window, so the window expands to occupy the entire screen. The
>>>>> plot is redrawn at the scale of the large window, but is clipped to the
>>>>>   'unzoomed' size. I only see the top left portion of the plot,
>>>>> occupying the space of the original image.
>>>>> Here are the R essentials; I'm using X11 on a recent SuSE,
>>>>> connecting
>>>>> via a moderately out-of-date cygwin from Windows. I'm happy to provide
>>>>> more detail if pointed in the right direction (and will trouble shoot
>>>>> myself if this is not a general problem).
>>>>
>>>> We've seen it, but not all systems do it.  At present it looks like
>>>> a cairo bug, but more work is needed on it.  If we haven't found a
>>>> workaround by release time, it will be documented on the help page.
>>>>
>>>>>> sessionInfo()
>>>>> R version 2.8.0 Under development (unstable) (2008-04-03 r45066)
>>>>> x86_64-unknown-linux-gnu
>>>>> locale:
>>>>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>>> capabilities()
>>>>>     jpeg      png    tcltk      X11     aqua http/ftp  sockets   libxml
>>>>>     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE     TRUE     TRUE
>>>>>     fifo   cledit    iconv      NLS  profmem    cairo
>>>>>     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE
>>>>> Martin
>>>>> --
>>>>> Martin Morgan
>>>>> Computational Biology / Fred Hutchinson Cancer Research Center
>>>>> 1100 Fairview Ave. N.
>>>>> PO Box 19024 Seattle, WA 98109
>>>>> Location: Arnold Building M2 B169
>>>>> Phone: (206) 667-2793
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>>
>>>>
>>>> --
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>>
>>>
>>> --
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>> --
>> Martin Morgan
>> Computational Biology / Fred Hutchinson Cancer Research Center
>> 1100 Fairview Ave. N.
>> PO Box 19024 Seattle, WA 98109
>>
>> Location: Arnold Building M2 B169
>> Phone: (206) 667-2793
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M2 B169
Phone: (206) 667-2793


From rory.winston at gmail.com  Sat Apr  5 15:44:44 2008
From: rory.winston at gmail.com (Rory Winston)
Date: Sat, 5 Apr 2008 14:44:44 +0100
Subject: [Rd] Adding a Matrix Exponentiation Operator
Message-ID: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080405/918573ed/attachment.pl 

From maechler at stat.math.ethz.ch  Sat Apr  5 18:47:01 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 5 Apr 2008 18:47:01 +0200
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>
	<6ph1w5ke4hf.fsf@lamprey.fhcrc.org>
	<alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>
Message-ID: <18423.44293.301180.983774@cmath-5.math.ethz.ch>

>>>>> "BDR" == Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>     on Sat, 5 Apr 2008 16:27:52 +0100 (BST) writes:

    BDR> On Sat, 5 Apr 2008, Martin Morgan wrote:
    >> Yes, thank you, this fixes the problem for me.
    >> 
    >> As a follow-up, and again with my ignorance of where
    >> processing is actually occuring, it seems like the X11
    >> window content is drawn directly rather than being drawn
    >> to a buffer and then blit on to the screen -- the
    >> original appearance of the plot is slow, compared to,
    >> e.g., hiding and then revealing the image once it has
    >> been plotted.

    BDR> That is not so for the default type="cairo".  The
    BDR> problem is likely to be that the bitblt is across the
    BDR> network, whereas repaint is a bitblt from a local copy.

    BDR> There are some comments on the X11() help page -- you
    BDR> may want to try type = "nbcairo".  Some changes are
    BDR> planned for R 2.8.0 which will improve performance, but
    BDR> for now things are tuned for the most common case of a
    BDR> local X11 display (although type = "nbcairo" works
    BDR> quite well over my home wireless network).

Sorry to chime in;  I had wanted to bring this to Brian's
attention a few days ago, but always got side-tracked:

Here are results on my  IBM/Lenowo X41 notebook 
model name	: Intel(R) Pentium(R) M processor 1.50GHz
cpu MHz		: 600.000
bogomips	: 1198.37
MemTotal:      1546600 kB

with *no* graphics acceleration:
Everything is local but not really fast hardware

 > F <- ecdf(rnorm(10000))
 > system.time(plot(F))
    user  system elapsed 
   3.204   0.024   3.402 
 > x11(type="Xlib")
 > system.time(plot(F))
    user  system elapsed 
   0.068   0.000   0.354 
 > 

which is somewhat dramatic,
and for tk*() pseudo-animations, I have definitely needed to use
type = "Xlib"

Martin


    >> R version 2.8.0 Under development (unstable) (2008-04-05
    >> r45102)
    >> 
    >> Thank you again for tracking down the original issue.
    >> 
    >> Martin
    >> 
    >> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
    >> 
    >>> I think I have found this -- if so, it was an X11 timing
    >>> issue and we needed to re-read the X11 window size at a
    >>> later time.  Please try r45102 or later.
    >>> 
    >>> On Fri, 4 Apr 2008, Prof Brian Ripley wrote:
    >>> 
    >>>> On Thu, 3 Apr 2008, Martin Morgan wrote:
    >>>> 
    >>>>> I apologize if this is too obscure to reproduce, or
    >>>>> some idiosyncratic aspects of my system. If I create a
    >>>>> plot, e.g.,
>>>>> plot(1:10) I get a graphics device as expected. I then
    >>>>> click on the 'zoom' box on my X11 window, so the
    >>>>> window expands to occupy the entire screen. The plot
    >>>>> is redrawn at the scale of the large window, but is
    >>>>> clipped to the 'unzoomed' size. I only see the top
    >>>>> left portion of the plot, occupying the space of the
    >>>>> original image.  Here are the R essentials; I'm using
    >>>>> X11 on a recent SuSE, connecting via a moderately
    >>>>> out-of-date cygwin from Windows. I'm happy to provide
    >>>>> more detail if pointed in the right direction (and
    >>>>> will trouble shoot myself if this is not a general
    >>>>> problem).
    >>>> 
    >>>> We've seen it, but not all systems do it.  At present
    >>>> it looks like a cairo bug, but more work is needed on
    >>>> it.  If we haven't found a workaround by release time,
    >>>> it will be documented on the help page.
    >>>> 
>>>>> sessionInfo()
    >>>>> R version 2.8.0 Under development (unstable)
    >>>>> (2008-04-03 r45066) x86_64-unknown-linux-gnu locale:
    >>>>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
    >>>>> attached base packages: [1] stats graphics grDevices
    >>>>> utils datasets methods base
>>>>> capabilities() jpeg png tcltk X11 aqua http/ftp sockets
    >>>>> libxml TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE fifo
    >>>>> cledit iconv NLS profmem cairo TRUE TRUE TRUE TRUE
    >>>>> TRUE TRUE Martin
    >>>>> --
    >>>>> Martin Morgan Computational Biology / Fred Hutchinson
    >>>>> Cancer Research Center 1100 Fairview Ave. N.  PO Box
    >>>>> 19024 Seattle, WA 98109 Location: Arnold Building M2
    >>>>> B169 Phone: (206) 667-2793
    >>>>> ______________________________________________
    >>>>> R-devel at r-project.org mailing list
    >>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
    >>>>> 
    >>>> 
>>> --
>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
    >>>> Statistics, http://www.stats.ox.ac.uk/~ripley/
    >>>> University of Oxford, Tel: +44 1865 272861 (self) 1
    >>>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
    >>>> UK Fax: +44 1865 272595
    >>>> 
    >>> 
>> --
>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
    >>> Statistics, http://www.stats.ox.ac.uk/~ripley/
    >>> University of Oxford, Tel: +44 1865 272861 (self) 1
    >>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
    >>> UK Fax: +44 1865 272595
    >> 
    >> --
    >> Martin Morgan Computational Biology / Fred Hutchinson
    >> Cancer Research Center 1100 Fairview Ave. N.  PO Box
    >> 19024 Seattle, WA 98109
    >> 
    >> Location: Arnold Building M2 B169 Phone: (206) 667-2793
    >> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
    BDR> Professor of Applied Statistics,
    BDR> http://www.stats.ox.ac.uk/~ripley/ University of
    BDR> Oxford, Tel: +44 1865 272861 (self) 1 South Parks Road,
    BDR> +44 1865 272866 (PA) Oxford OX1 3TG, UK Fax: +44 1865
    BDR> 272595

    BDR> ______________________________________________
    BDR> R-devel at r-project.org mailing list
    BDR> https://stat.ethz.ch/mailman/listinfo/r-devel


From antonio.fabio at gmail.com  Sat Apr  5 18:51:53 2008
From: antonio.fabio at gmail.com (Antonio, Fabio Di Narzo)
Date: Sat, 5 Apr 2008 18:51:53 +0200
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
Message-ID: <b0808fdc0804050951g4f4cff45r7cde7008efceadac@mail.gmail.com>

2008/4/5, Rory Winston <rory.winston at gmail.com>:
<snip>
>
>  /* Convenience function */
>  static void copyMatrixData(SEXP a, SEXP b, int nrows, int ncols, int mode) {
>     for (int i=0; i < ncols; ++i)
>     for (int j=0; j < nrows; ++j)
>         REAL(b)[i * nrows + j] = REAL(a)[i * nrows + j];
>  }

I would use 'memcpy' here instead of the double for loop, i.e.:
memcpy(REAL(b), REAL(a), length(b) * sizeof(double))



-- 
Antonio, Fabio Di Narzo
Ph.D. student at
Department of Statistical Sciences
University of Bologna, Italy


From murdoch at stats.uwo.ca  Sat Apr  5 19:01:27 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 05 Apr 2008 13:01:27 -0400
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F79677.9070101@u-paris10.fr>
References: <47EF9A63.3070609@u-paris10.fr>	<47F1198C.7070407@r-project.org>	<47F758B1.4010503@u-paris10.fr>	<18423.29163.115366.839889@cmath-5.math.ethz.ch>	<47F774A1.4050901@u-paris10.fr>	<47F77745.8000301@statistik.tu-dortmund.de>
	<47F77A9C.3010206@u-paris10.fr> <47F792B7.8010404@stats.uwo.ca>
	<47F79677.9070101@u-paris10.fr>
Message-ID: <47F7B067.50201@stats.uwo.ca>

Christophe Genolini wrote:
> Am I suppose to repport only but, or can I also make some comments?
> Well, I guess if I am not suppose to comment, it is easy to ignore them...
>   

Both bug reports and comments are welcome.  Bug reports should get 
action; comments may or may not.  Both should get attention as long as 
they are put together reasonably.

> Concerning the help file, some other examples might be a good complement 
> to the existing one.
>
> --- 8< ------------------
> \examples{
> require(stats)
> ## two functions and two "data sets" :
> f <- function(x,y) x+y
> g <- function(x,y) x-y
> d <- data.frame(a=1, b=2)
> e <- rnorm(1000)
>
> # using list will create one file for each function
> package.skeleton(name="mypkg",list=c("f","g","d","e"))
>
>
> ### Using a file :
> sink("myPack2.r")
> cat("
>     f2 <- function(x,y) x*y
>     d2 <- data.frame(a=rnorm(10),b=1:10)
> ")
> sink()
>
> # using code_files will copy the file
> package.skeleton(name="mypkg2",code_files="myPack2.r")
>
> ### Dealing with S4 :
> sink("myPack3.r")
> cat("
>     setClass('A',representation(x='numeric'))
>     
> setMethod('print','A',function(x){cat('AAA',x at x,'AAA');return(invisible())})
> ")
> sink()
> package.skeleton(name="mypkg3",code_files="myPack3.r")
>
> ### function or variable starting with . (dot) are hidden (see NAMESPACE)
> .h <- function(x,y) x/y
> package.skeleton(name="mypkg4",list=c("f","g","d","e",".h"))
> }
> --- 8< ------------------
>
>
> Concerning the package construction:
> after running package.skeleton, we (low level user) migth expect R CMD 
> check and R CMD build to compile
> It is not the case because of an error and some warnings.
>
> Here is the error :
>     Examples failed
>
> May be some '#' can be put in the example code to prevent it from failling?
>
> The warnings are :
>     ~kwd1 is not a keyword
>     duplicated alias for myMethod,AA-method
>     missing link()
>     Unaccounted top-level text
>
>     for french people, some "?" and "?" provoque warnings as well.
>
>
> Christophe
>


From maechler at stat.math.ethz.ch  Sat Apr  5 19:52:09 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 5 Apr 2008 19:52:09 +0200
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
Message-ID: <18423.48201.828727.639538@cmath-5.math.ethz.ch>

>>>>> "RW" == Rory Winston <rory.winston at gmail.com>
>>>>>     on Sat, 5 Apr 2008 14:44:44 +0100 writes:

    RW> Hi all I recently started to write a matrix
    RW> exponentiation operator for R (by adding a new operator
    RW> definition to names.c, and adding the following code to
    RW> arrays.c). It is not finished yet, but I would like to
    RW> solicit some comments, as there are a few areas of R's
    RW> internals that I am still feeling my way around.

    RW> Firstly:

    RW> 1) Would there be interest in adding a new operator %^%
    RW> that performs the matrix equivalent of the scalar ^
    RW> operator? 

Yes. A few weeks ago, I had investigated a bit about this and
found several R-help/R-devel postings with code proposals
and then about half dozen CRAN packages with diverse
implementations of the matrix power (I say "power" very much on
purpose, in order to not confuse it with the matrix exponential
which is another much more interesting topic, also recently (+-
two months?) talked about.

Consequently I made a few timing tests and found that indeed,
the "smart matrix power" {computing m^2, m^4, ... and only those
multiplications needed} as you find it in many good books about
algorithms and e.g. also in *the* standard Golub & Van Loan
"Matrix Computation" is better than "the eigen" method even for
large powers.

matPower <- function(X,n)
## Function to calculate the n-th power of a matrix X
{
    if(n != round(n)) {
        n <- round(n)
        warning("rounding exponent `n' to", n)
    }
    if(n == 0)
        return(diag(nrow = nrow(X)))
    n <- n - 1
    phi <- X
    ## pot <- X # the first power of the matrix.
    while (n > 0)
    {
        if (n %% 2)
            phi <- phi %*% X
        if (n == 1) break
        n <- n %/% 2
        X <- X %*% X
    }
    return(phi)
}

"Simultaneously" people where looking at the matrix exponential
expm() in the Matrix package,
and some of us had consequently started the 'expm' project on
R-forge.
The main goal there has been to investigate several algorithms
for the matrix exponential, notably the one buggy implementation
(in the 'Matrix' package until a couple of weeks ago, the bug
 stemming from 'octave' implementation).
The authors of 'actuar', Vincent and Christophe, notably also
had code for the matrix *power* in a C (building on BLAS) and I
had added an R-interface '%^%'  there as well.

Yes, with the goal to move that (not the matrix exponential yet)
into standard R.  
Even though it's not used so often (in percentage of all uses of
R), it's simple to *right*, and I have seen very many versions
of the matrix power that were much slower / inaccurate / ...
such that a reference implementation seems to be called for.

So, please consider
    
    install.packages("expm",repos="http://R-Forge.R-project.org")

-- but only from tomorrow for Windows (which installs a
   pre-compiled package), since I found that we had accidentally
   broken the package trivially by small changes two weeks ago.

and then

    library(expm)
    ?%^%


Best regards,
Martin Maechler, ETH Zurich




    RW> operator? I am implicitly assuming that the benefits of
    RW> a native exponentiation routine for Markov chain
    RW> evaluation or function generation would outstrip that of
    RW> an R solution. Based on my tests so far (comparing it to
    RW> a couple of different pure R versions) it does, but I
    RW> still there is much room for optimization in my method.
    RW> 2) Regarding the code below: Is there a better way to do
    RW> the matrix multiplication? I am creating quite a few
    RW> copies for this implementation of exponentiation by
    RW> squaring. Is there a way to cut down on the number of
    RW> copies I am making here (I am assuming that the lhs and
    RW> rhs of matprod() must be different instances).

    RW> Any feedback appreciated !  Thanks Rory

    RW> <snip>

    RW> /* Convenience function */ static void
    RW> copyMatrixData(SEXP a, SEXP b, int nrows, int ncols, int
    RW> mode) { for (int i=0; i < ncols; ++i) for (int j=0; j <
    RW> nrows; ++j) REAL(b)[i * nrows + j] = REAL(a)[i * nrows +
    RW> j]; }

    RW> SEXP do_matexp(SEXP call, SEXP op, SEXP args, SEXP rho)
    RW> { int nrows, ncols; SEXP matrix, tmp, dims, dims2; SEXP
    RW> x, y, x_, x__; int i,j,e,mode;

    RW>     // Still need to fix full complex support mode =
    RW> isComplex(CAR(args)) ? CPLXSXP : REALSXP;

    RW>     SETCAR(args, coerceVector(CAR(args), mode)); x =
    RW> CAR(args); y = CADR(args);

    RW>     dims = getAttrib(x, R_DimSymbol); nrows =
    RW> INTEGER(dims)[0]; ncols = INTEGER(dims)[1];


    RW>     if (nrows != ncols) error(_("can only raise square
    RW> matrix to power"));

    RW>     if (!isNumeric(y)) error(_("exponent must be a
    RW> scalar integer"));

    RW>     e = asInteger(y);

    RW>     if (e < -1) error(_("exponent must be >= -1")); else
    RW> if (e == 1) return x;

    RW>     else if (e == -1) { /* return matrix inverse via
    RW> solve() */ SEXP p1, p2, inv; PROTECT(p1 = p2 =
    RW> allocList(2)); SET_TYPEOF(p1, LANGSXP); CAR(p2) =
    RW> install("solve.default"); p2 = CDR(p2); CAR(p2) = x; inv
    RW> = eval(p1, rho); UNPROTECT(1); return inv; }

    RW>     PROTECT(matrix = allocVector(mode, nrows * ncols));
    RW> PROTECT(tmp = allocVector(mode, nrows * ncols));
    RW> PROTECT(x_ = allocVector(mode, nrows * ncols));
    RW> PROTECT(x__ = allocVector(mode, nrows * ncols));

    RW>     copyMatrixData(x, x_, nrows, ncols, mode);

    RW>     // Initialize matrix to identity matrix // Set x[i *
    RW> ncols + i] = 1 for (i = 0; i < ncols*nrows; i++)
    RW> REAL(matrix)[i] = ((i % (ncols+1) == 0) ? 1 : 0);

    RW>     if (e == 0) { ; // return identity matrix } else
    RW> while (e > 0) { if (e & 1) { if (mode == REALSXP)
    RW> matprod(REAL(matrix), nrows, ncols, REAL(x_), nrows,
    RW> ncols, REAL(tmp)); else cmatprod(COMPLEX(tmp), nrows,
    RW> ncols, COMPLEX(x_), nrows, ncols, COMPLEX(matrix));

    RW>             copyMatrixData(tmp, matrix, nrows, ncols,
    RW> mode); e--; }

    RW>         if (mode == REALSXP) matprod(REAL(x_), nrows,
    RW> ncols, REAL(x_), nrows, ncols, REAL(x__)); else
    RW> cmatprod(COMPLEX(x_), nrows, ncols, COMPLEX(x_), nrows,
    RW> ncols, COMPLEX(x__));

    RW>         copyMatrixData(x__, x_, nrows, ncols, mode); e
    RW> /= 2; }

    RW>     PROTECT(dims2 = allocVector(INTSXP, 2));
    RW> INTEGER(dims2)[0] = nrows; INTEGER(dims2)[1] = ncols;
    RW> setAttrib(matrix, R_DimSymbol, dims2);

    RW>     UNPROTECT(5); return matrix; }

    RW> 	[[alternative HTML version deleted]]

    RW> ______________________________________________
    RW> R-devel at r-project.org mailing list
    RW> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Sat Apr  5 20:31:43 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 5 Apr 2008 19:31:43 +0100 (BST)
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <18423.44293.301180.983774@cmath-5.math.ethz.ch>
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>
	<6ph1w5ke4hf.fsf@lamprey.fhcrc.org>
	<alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>
	<18423.44293.301180.983774@cmath-5.math.ethz.ch>
Message-ID: <alpine.LFD.1.00.0804051751030.8462@gannet.stats.ox.ac.uk>

Martin M x 2,

Yes, no news in either of your most recent messages.  That's a really ugly 
plot, though, and I do want to protest about either of these being worth 
doing fast.

On my home system

> F <- ecdf(rnorm(10000))
> system.time(plot(F))
    user  system elapsed
   1.343   0.035   1.410
> x11(type="Xlib")
> system.time(plot(F))
    user  system elapsed
   0.022   0.002   0.083

and if something is worth plotting, it is surely worth waiting 1.4s for?
(About 1/4 the time is spent on antialiasing.)

Martin Morgan's example is atypical (how often do people do scatterplots 
of 10,000 points?  Or ecdfs, come to that?), but I see
> X11(type="Xlib")
> system.time(doplots(df)) # gcFirst=TRUE is the default
    user  system elapsed
   0.174   0.005   0.187
> X11(type="cairo")
> system.time(doplots(df))
    user  system elapsed
   2.315   0.035   2.388
> X11(type="nbcairo")
> system.time(doplots(df))
    user  system elapsed
   1.844   0.057   1.920

However, I think the plots produced are pretty uniformative whereas using 
a smaller translucent filled disc as the symbol would give more 
information (and "Xlib" cannot do that).

The BioC package flowViz has some quite extreme examples of arrays of 
scatterplots of ca 25,000 points, and they are acceptably fast with 
type="cairo" on my system (they certainly plot much faster than I would 
need to appreciate what they are trying to say).

It is very easy to change the default default (X11.options(type="Xlib") in 
.Rprofile), and so the only question was 'what is best for most users?'.
As we think they will have local displays and be working with hundreds 
rather than tens of thousands of points, the current default default seems 
the best compromise.

Incidentally, windows() and quartz() are nowhere near as fast as Xlib on 
the same or similar hardware.  On my laptop

> system.time(plot(F))
    user  system elapsed
    0.14    0.43    0.72
> system.time(doplots(df))
    user  system elapsed
    0.38    0.58    1.25

and I don't usually feel that machine is slow (it was its 3rd birthday 
last week).

I don't know how you live without graphics acceleration -- I've seen it on 
my systems (1600x1200 and 1680x1050) when drivers have failed to update 
and know I don't even want to text edit without it.


On Sat, 5 Apr 2008, Martin Maechler wrote:

>>>>>> "BDR" == Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>>     on Sat, 5 Apr 2008 16:27:52 +0100 (BST) writes:
>
>    BDR> On Sat, 5 Apr 2008, Martin Morgan wrote:
>    >> Yes, thank you, this fixes the problem for me.
>    >>
>    >> As a follow-up, and again with my ignorance of where
>    >> processing is actually occuring, it seems like the X11
>    >> window content is drawn directly rather than being drawn
>    >> to a buffer and then blit on to the screen -- the
>    >> original appearance of the plot is slow, compared to,
>    >> e.g., hiding and then revealing the image once it has
>    >> been plotted.
>
>    BDR> That is not so for the default type="cairo".  The
>    BDR> problem is likely to be that the bitblt is across the
>    BDR> network, whereas repaint is a bitblt from a local copy.
>
>    BDR> There are some comments on the X11() help page -- you
>    BDR> may want to try type = "nbcairo".  Some changes are
>    BDR> planned for R 2.8.0 which will improve performance, but
>    BDR> for now things are tuned for the most common case of a
>    BDR> local X11 display (although type = "nbcairo" works
>    BDR> quite well over my home wireless network).
>
> Sorry to chime in;  I had wanted to bring this to Brian's
> attention a few days ago, but always got side-tracked:
>
> Here are results on my  IBM/Lenowo X41 notebook
> model name	: Intel(R) Pentium(R) M processor 1.50GHz
> cpu MHz		: 600.000
> bogomips	: 1198.37
> MemTotal:      1546600 kB
>
> with *no* graphics acceleration:
> Everything is local but not really fast hardware
>
> > F <- ecdf(rnorm(10000))
> > system.time(plot(F))
>    user  system elapsed
>   3.204   0.024   3.402
> > x11(type="Xlib")
> > system.time(plot(F))
>    user  system elapsed
>   0.068   0.000   0.354
> >
>
> which is somewhat dramatic,
> and for tk*() pseudo-animations, I have definitely needed to use
> type = "Xlib"
>
> Martin
>
>
>    >> R version 2.8.0 Under development (unstable) (2008-04-05
>    >> r45102)
>    >>
>    >> Thank you again for tracking down the original issue.
>    >>
>    >> Martin
>    >>
>    >> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>    >>
>    >>> I think I have found this -- if so, it was an X11 timing
>    >>> issue and we needed to re-read the X11 window size at a
>    >>> later time.  Please try r45102 or later.
>    >>>
>    >>> On Fri, 4 Apr 2008, Prof Brian Ripley wrote:
>    >>>
>    >>>> On Thu, 3 Apr 2008, Martin Morgan wrote:
>    >>>>
>    >>>>> I apologize if this is too obscure to reproduce, or
>    >>>>> some idiosyncratic aspects of my system. If I create a
>    >>>>> plot, e.g.,
>>>>>> plot(1:10) I get a graphics device as expected. I then
>    >>>>> click on the 'zoom' box on my X11 window, so the
>    >>>>> window expands to occupy the entire screen. The plot
>    >>>>> is redrawn at the scale of the large window, but is
>    >>>>> clipped to the 'unzoomed' size. I only see the top
>    >>>>> left portion of the plot, occupying the space of the
>    >>>>> original image.  Here are the R essentials; I'm using
>    >>>>> X11 on a recent SuSE, connecting via a moderately
>    >>>>> out-of-date cygwin from Windows. I'm happy to provide
>    >>>>> more detail if pointed in the right direction (and
>    >>>>> will trouble shoot myself if this is not a general
>    >>>>> problem).
>    >>>>
>    >>>> We've seen it, but not all systems do it.  At present
>    >>>> it looks like a cairo bug, but more work is needed on
>    >>>> it.  If we haven't found a workaround by release time,
>    >>>> it will be documented on the help page.
>    >>>>
>>>>>> sessionInfo()
>    >>>>> R version 2.8.0 Under development (unstable)
>    >>>>> (2008-04-03 r45066) x86_64-unknown-linux-gnu locale:
>    >>>>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>    >>>>> attached base packages: [1] stats graphics grDevices
>    >>>>> utils datasets methods base
>>>>>> capabilities() jpeg png tcltk X11 aqua http/ftp sockets
>    >>>>> libxml TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE fifo
>    >>>>> cledit iconv NLS profmem cairo TRUE TRUE TRUE TRUE
>    >>>>> TRUE TRUE Martin
>    >>>>> --
>    >>>>> Martin Morgan Computational Biology / Fred Hutchinson
>    >>>>> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>    >>>>> 19024 Seattle, WA 98109 Location: Arnold Building M2
>    >>>>> B169 Phone: (206) 667-2793
>    >>>>> ______________________________________________
>    >>>>> R-devel at r-project.org mailing list
>    >>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>    >>>>>
>    >>>>
>>>> --
>>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>    >>>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>    >>>> University of Oxford, Tel: +44 1865 272861 (self) 1
>    >>>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>    >>>> UK Fax: +44 1865 272595
>    >>>>
>    >>>
>>> --
>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>    >>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>    >>> University of Oxford, Tel: +44 1865 272861 (self) 1
>    >>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>    >>> UK Fax: +44 1865 272595
>    >>
>    >> --
>    >> Martin Morgan Computational Biology / Fred Hutchinson
>    >> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>    >> 19024 Seattle, WA 98109
>    >>
>    >> Location: Arnold Building M2 B169 Phone: (206) 667-2793
>    >>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>    BDR> Professor of Applied Statistics,
>    BDR> http://www.stats.ox.ac.uk/~ripley/ University of
>    BDR> Oxford, Tel: +44 1865 272861 (self) 1 South Parks Road,
>    BDR> +44 1865 272866 (PA) Oxford OX1 3TG, UK Fax: +44 1865
>    BDR> 272595
>
>    BDR> ______________________________________________
>    BDR> R-devel at r-project.org mailing list
>    BDR> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ligges at statistik.tu-dortmund.de  Sat Apr  5 21:27:44 2008
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sat, 05 Apr 2008 21:27:44 +0200
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F79677.9070101@u-paris10.fr>
References: <47EF9A63.3070609@u-paris10.fr>	<47F1198C.7070407@r-project.org>	<47F758B1.4010503@u-paris10.fr>	<18423.29163.115366.839889@cmath-5.math.ethz.ch>	<47F774A1.4050901@u-paris10.fr>	<47F77745.8000301@statistik.tu-dortmund.de>
	<47F77A9C.3010206@u-paris10.fr> <47F792B7.8010404@stats.uwo.ca>
	<47F79677.9070101@u-paris10.fr>
Message-ID: <47F7D2B0.3030408@statistik.tu-dortmund.de>



Christophe Genolini wrote:
> Am I suppose to repport only but, or can I also make some comments?
> Well, I guess if I am not suppose to comment, it is easy to ignore them...
> 
> Concerning the help file, some other examples might be a good complement 
> to the existing one.
> 
> --- 8< ------------------
> \examples{
> require(stats)
> ## two functions and two "data sets" :
> f <- function(x,y) x+y
> g <- function(x,y) x-y
> d <- data.frame(a=1, b=2)
> e <- rnorm(1000)
> 
> # using list will create one file for each function
> package.skeleton(name="mypkg",list=c("f","g","d","e"))
> 
> 
> ### Using a file :
> sink("myPack2.r")
> cat("
>    f2 <- function(x,y) x*y
>    d2 <- data.frame(a=rnorm(10),b=1:10)
> ")
> sink()
> 
> # using code_files will copy the file
> package.skeleton(name="mypkg2",code_files="myPack2.r")
> 
> ### Dealing with S4 :
> sink("myPack3.r")
> cat("
>    setClass('A',representation(x='numeric'))
>    
> setMethod('print','A',function(x){cat('AAA',x at x,'AAA');return(invisible())}) 
> 
> ")
> sink()
> package.skeleton(name="mypkg3",code_files="myPack3.r")
> 
> ### function or variable starting with . (dot) are hidden (see NAMESPACE)
> .h <- function(x,y) x/y
> package.skeleton(name="mypkg4",list=c("f","g","d","e",".h"))
> }
> --- 8< ------------------
> 
> 
> Concerning the package construction:
> after running package.skeleton, we (low level user) migth expect R CMD 
> check and R CMD build to compile
> It is not the case because of an error and some warnings.

Then you are wrong in your expectation.

We (other low level users) might expect that R CMD check warns or better 
fails when a documentation file has not been edited so that it contains 
sensible information. It is alreeady constrructed for you. So just edit 
it and replace the parts by relevant information that R cannot fill in 
for you. Please read the manuals and the readme file provided....



> Here is the error :
>    Examples failed
> 
> May be some '#' can be put in the example code to prevent it from failling?
> 
> The warnings are :
>    ~kwd1 is not a keyword
>    duplicated alias for myMethod,AA-method
>    missing link()
>    Unaccounted top-level text
> 
>    for french people, some "?" and "?" provoque warnings as well.

Then you have to declare an encoding as the manual "Writing R 
Extensions" suggests.

Uwe Ligges


> 
> Christophe


From ligges at statistik.tu-dortmund.de  Sat Apr  5 21:32:47 2008
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sat, 05 Apr 2008 21:32:47 +0200
Subject: [Rd] Random seed not reset when starting R (PR#11089)
In-Reply-To: <20080405041003.951012834154@mail.pubhealth.ku.dk>
References: <20080405041003.951012834154@mail.pubhealth.ku.dk>
Message-ID: <47F7D3DF.1050300@statistik.tu-dortmund.de>



pmelsted at gmail.com wrote:
> Full_Name: Pall Melsted
> Version: 2.3.1

So you report a bug on a ancient version of R? Have you read the FAQ 
chapter on reporting bugs?  Please do read the documentation!
Addtionally, this is not a bug at all, but desired and documented behaviour.



> OS: WinXP
> Submission from: (NULL) (71.240.25.175)
> 
> 
> Random set is not reset when starting R again. When R starts with a
> 
> [Previously saved workspace restored]
> 
> it seems that the .Random.seed variable is already set. If you quit R (and don't
> save your workspace) the next time you start R .Random.seed will be set to the
> same value again.


Yes, as documented. It is stored in object .Random.seed which is in the 
workspace (and saved once you save the workspace).


> Steps to reproduce:
> 1. Start R afresh and type runif(1)
> 2. Quit R and do not save workspace
> 3. Start R again (make sure a previous workspace was restored) type runif(1)
> again, this will be the same "random" number as before.
> 
>>From documentation on .Random.seed
> 
> "
>      Initially, there is no seed;  a new one is created from the
>      current time when one is required.  Hence, different sessions will
>      give different simulation results, by default.
> "
> 
> This behavior is very counterintuitive and can mess up simulation results,
> especially when sampling. The seed really should be set when R starts,
> regardless of whether .Random.seed is set.

It is set to some more or less "random" value, as documented. If you 
want something fixed, why not use set.seed?

Uwe Ligges




> 
> This bug has also been reproduced on MacOSX 10.4, R version 2.2.1
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ligges at statistik.tu-dortmund.de  Sat Apr  5 21:35:50 2008
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sat, 05 Apr 2008 21:35:50 +0200
Subject: [Rd] How to create a function calling two functions with
 unknown number of parameters?
In-Reply-To: <16501233.post@talk.nabble.com>
References: <16501233.post@talk.nabble.com>
Message-ID: <47F7D496.8080808@statistik.tu-dortmund.de>



ZT2008 wrote:
> 
> ... can be used to represent unknown number of parameters passed into a
> function. 
> 
> For example, I write a function g. g calls another function f1. 
> 
> For example f1 could be different random number generation function. 
> 
> when f1=rnorm(), it has 3 parameters n, mean and standard deviation.
> 
> when f1=rexp(), it has 2 parameters n and rate. 
> 
> g can be defined as
> 
> g <- function(f1, ...) {
> 	f1(...)
> }
> 
> My problem is what about g calls two functions with unknown number of
> parameters.
> 
> In this case one ... doesn't help. 
> 
> If I define g as follows:
> 
> g <- function(f1, f2, ...) {
> 	f1(...)+f2(...)
> }
> 
> It seems ... is only passed to f1, it can't be passed to f2. 


No, it is passed to both:

  g <- function(f1, f2, ...) {
      f1(...) + f2(...)
  }
  f1 <- function(a) print(a)
  f2 <- function(a) print(a)
  g(f1, f2, 5)

[1] 5
[1] 5
[1] 10



> Can anybody help me? Thanks!

Well, what you requested already works...

If you want to pass different arguments to f1 and f2, you might want to 
specify two *lists* of arguments for f1() and f2() in g() and call f1() 
and f2() by do.call() within g().

Uwe Ligges


From ripley at stats.ox.ac.uk  Sat Apr  5 21:39:43 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 5 Apr 2008 20:39:43 +0100 (BST)
Subject: [Rd] package.skeleton.S4
In-Reply-To: <47F7D2B0.3030408@statistik.tu-dortmund.de>
References: <47EF9A63.3070609@u-paris10.fr> <47F1198C.7070407@r-project.org>
	<47F758B1.4010503@u-paris10.fr>
	<18423.29163.115366.839889@cmath-5.math.ethz.ch>
	<47F774A1.4050901@u-paris10.fr>
	<47F77745.8000301@statistik.tu-dortmund.de>
	<47F77A9C.3010206@u-paris10.fr>
	<47F792B7.8010404@stats.uwo.ca> <47F79677.9070101@u-paris10.fr>
	<47F7D2B0.3030408@statistik.tu-dortmund.de>
Message-ID: <alpine.LFD.1.00.0804052031560.22456@gannet.stats.ox.ac.uk>

On Sat, 5 Apr 2008, Uwe Ligges wrote:

> Christophe Genolini wrote:

[...]

>>    for french people, some "?" and "?" provoque warnings as well.
>
> Then you have to declare an encoding as the manual "Writing R
> Extensions" suggests.

It occurred to me that package.skeleton could perhaps fathom this out by 
looking for non-ASCII text in the files and using the current locale if it 
finds any as the basis for declaring the encoding.  But I believe people 
should be made aware that if they write packages in French they are not 
portable to Chinese or Russian or  ..., and declaring an encoding is only 
a palliative.

> Uwe Ligges
>
>> Christophe

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From maechler at stat.math.ethz.ch  Sat Apr  5 22:31:28 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 5 Apr 2008 22:31:28 +0200
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <alpine.LFD.1.00.0804051751030.8462@gannet.stats.ox.ac.uk>
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>
	<6ph1w5ke4hf.fsf@lamprey.fhcrc.org>
	<alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>
	<18423.44293.301180.983774@cmath-5.math.ethz.ch>
	<alpine.LFD.1.00.0804051751030.8462@gannet.stats.ox.ac.uk>
Message-ID: <18423.57760.216502.662305@cmath-5.math.ethz.ch>

>>>>> "BDR" == Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>     on Sat, 5 Apr 2008 19:31:43 +0100 (BST) writes:

    BDR> Martin M x 2,
    BDR> Yes, no news in either of your most recent messages.  That's a really ugly 
    BDR> plot, though, and I do want to protest about either of these being worth 
    BDR> doing fast.

    BDR> On my home system

    >> F <- ecdf(rnorm(10000))
    >> system.time(plot(F))
    BDR> user  system elapsed
    BDR> 1.343   0.035   1.410
    >> x11(type="Xlib")
    >> system.time(plot(F))
    BDR> user  system elapsed
    BDR> 0.022   0.002   0.083

    BDR> and if something is worth plotting, it is surely worth waiting 1.4s for?
    BDR> (About 1/4 the time is spent on antialiasing.)

    BDR> Martin Morgan's example is atypical (how often do people do scatterplots 
    BDR> of 10,000 points?  Or ecdfs, come to that?), 
    BDR> but I see
    >> X11(type="Xlib")
    >> system.time(doplots(df)) # gcFirst=TRUE is the default
    BDR> user  system elapsed
    BDR> 0.174   0.005   0.187
    >> X11(type="cairo")
    >> system.time(doplots(df))
    BDR> user  system elapsed
    BDR> 2.315   0.035   2.388
    >> X11(type="nbcairo")
    >> system.time(doplots(df))
    BDR> user  system elapsed
    BDR> 1.844   0.057   1.920

    BDR> However, I think the plots produced are pretty uniformative whereas using 
    BDR> a smaller translucent filled disc as the symbol would give more 
    BDR> information (and "Xlib" cannot do that).

I completely agree.

    BDR> The BioC package flowViz has some quite extreme examples of arrays of 
    BDR> scatterplots of ca 25,000 points, and they are acceptably fast with 
    BDR> type="cairo" on my system (they certainly plot much faster than I would 
    BDR> need to appreciate what they are trying to say).

    BDR> It is very easy to change the default default (X11.options(type="Xlib") in 
    BDR> .Rprofile), and so the only question was 'what is best for most users?'.
    BDR> As we think they will have local displays and be working with hundreds 
    BDR> rather than tens of thousands of points, the current default default seems 
    BDR> the best compromise.

I entirely agree. I do like the new default quite a bit,
and only very rarely am bothered with some slowness.

The only reason I chimed in, was that I felt the slowdown was
more noticable in some cases than I thought originally, and I
was also negatively supprised how much more noticable on my
notebook with sub-optimal but neither cheap nor really old
hardware.

I'd never even consider changing the default;
but I would quickly fire up an   x11(type="Xlib")
if I needed it in some cases.

I think we've made a very nice step forward with the
cairo-enabled x11 device, and am particularly grateful for the
work you've put into that.

Martin Maechler


    Bdr> Incidentally, windows() and quartz() are nowhere near as fast as Xlib on 
    BDR> the same or similar hardware.  On my laptop

    >> system.time(plot(F))
    BDR> user  system elapsed
    BDR> 0.14    0.43    0.72
    >> system.time(doplots(df))
    BDR> user  system elapsed
    BDR> 0.38    0.58    1.25

    BDR> and I don't usually feel that machine is slow (it was its 3rd birthday 
    BDR> last week).

    BDR> I don't know how you live without graphics acceleration -- I've seen it on 
    BDR> my systems (1600x1200 and 1680x1050) when drivers have failed to update 
    BDR> and know I don't even want to text edit without it.

    [.................]


From Graham.Williams at togaware.com  Sat Apr  5 22:49:45 2008
From: Graham.Williams at togaware.com (Graham Williams)
Date: Sun, 6 Apr 2008 06:49:45 +1000
Subject: [Rd] Odd tcltk and Rattle interference on MS/Windows
In-Reply-To: <509e0620804050507x5217d12bg11ecc37699f687f5@mail.gmail.com>
References: <20080405110647.GD16122@kyral.togaware.com>
	<b1a669cc0804050456w29b6561ax83b5c9466deb6f58@mail.gmail.com>
	<509e0620804050507x5217d12bg11ecc37699f687f5@mail.gmail.com>
Message-ID: <20080405204945.GA15452@kyral.togaware.com>

Thanks for the information. A little more testing.....

With R 2.6.2 on Debian I don't get John's crash on the tkdestroy.

With R 2.6.2 on MS/Windows the "library(tcltk)" causes the gtkWindow
to freeze. The tkdestroy works just fine.

I haven't had a chance to test on the imminent R 2.7.0 yet.

The simple test to demonstrate:

> library(RGtk2)
> w <- gtkWindow()
> library(tcltk)
# Alt-Tab between windows - the gtkWindow no longer refreshes

Regards,
Graham

Received Sat 05 Apr 2008 10:56pm +1100 from Michael Lawrence:
> Hi Graham,
>
> Your guess is right. The event loop stuff is handled differently on
> Windows than on Unix-like OSes. There is a hook, called tcl_do that
> is hard-coded into the R Windows GUI. It is called whenever the
> console is idle. RGtk2 is able to hook into that to process GTK+
> events. The problem is that the two packages replace each other's
> handler. So in this case tcltk is blocking GTK+ from processing its
> events.
>
> Perhaps these packages should "chain up" to an existing
> handler. I'll do that for RGtk2, but I have no control over tcltk of
> course.
>
> Michael

Received Sat 05 Apr 2008 11:09pm +1100 from Michael Lawrence:
> Well this is definitely interesting. I don't even have tcl/tk installed on
> my system, so I can't readily test this. RGtk2 and tcltk definitely
> intersect at the event loop, but I'm not sure if these are related to that.
> It could be something at the deeper X11 level.
> 
> On Sat, Apr 5, 2008 at 4:56 AM, John Verzani <verzani at math.csi.cuny.edu>
> wrote:
> 
> > Dear Graham,
> >
> > When I try and use RGtk2 and tcltk together the act of closing a
> > window in tcltk will often (if not always) cause R to crash. I'm
> > guessing it has something to do with the different event loops being
> > used, but I don't have anything more than that.
> >
> > Here is a simple test, on my 2.6.1 linux R, to show that it has
> > nothing to do with rattle or pmg:
> >
> > > library(RGtk2)
> > > w <- gtkWindow()
> > > library(tcltk)
> > > tt <- tktoplevel()
> > > tkdestroy(tt)
> > The program 'R' received an X Window System error.
> > This probably reflects a bug in the program.
> > The error was 'BadWindow (invalid Window parameter)'.
> >  (Details: serial 99 error_code 3 request_code 15 minor_code 0)
> >  (Note to programmers: normally, X errors are reported asynchronously;
> >   that is, you will receive the error a while after causing it.
> >   To debug your program, run it with the --sync command line
> >   option to change this behavior. You can then get a meaningful
> >   backtrace from your debugger if you break on the gdk_x_error()
> > function.)
> >
> > --John
> >
> >
> >
> > On Sat, Apr 5, 2008 at 7:06 AM, Graham Williams
> > <Graham.Williams at togaware.com> wrote:
> > > Hi John,
> > >
> > >  Meant to include you in this in case you had come across the problem?
> > >  (Rattle uses RGtk2 and the problem I describe here affects pmg also.)
> > >
> > >  Regards,
> > >  Graham
> > >
> > >  ----- Forwarded message from Graham Williams <
> > Graham.Williams at togaware.com> -----
> > >
> > >  Subject: Odd tcltk and Rattle interference on MS/Windows
> > >  From: Graham Williams <Graham.Williams at togaware.com>
> > >  Date: Sat, 5 Apr 2008 21:57:11 +1100
> > >  To: Michael Lawrence <lawremi at iastate.edu>
> > >  Reply-To: Graham.Williams at togaware.com
> > >  User-Agent: Mutt/1.5.17+20080114 (2008-01-14)
> > >
> > >  Hi Michael,
> > >
> > >  I'm not sure if this is RGtk2 related yet, but just in case it rang
> > >  any bells with you.... I'm using version 2.12.5 on R 2.6.2.
> > >
> > >  On MS/Windows (not on GNU/Linux) if the tcltk package is loaded whilst
> > >  Rattle is running, Rattle freezes (or is running exceedingly
> > >  slowly). If tcltk is loaded before Rattle is started, all is okay!
> > >
> > >  I.e., The following order of things works just fine:
> > >
> > >  > library(rattle)
> > >  > library(tcltk)
> > >  > rattle()
> > >
> > >  But the following freezes Rattle:
> > >
> > >  > library(rattle)
> > >  > rattle()
> > >  > library(tcltk)
> > >
> > >  I'm thinking it is an issue between RGtk2 and tcltk, but don't have
> > >  any good evidence yet. However, pmg is also affected in exactly the
> > >  same way, viz:
> > >  h
> > >  > library(tcltk)
> > >  > library(pmg)
> > >
> > >  works just fine but
> > >
> > >  > library(pmg)
> > >  > library(tcltk)
> > >
> > >  results in pmg freezing.
> > >
> > >  Any ideas - is it perhaps tcltk's problem?
> > >
> > >  Regards,
> > >  Graham
> > >
> > >  ----- End forwarded message -----
> > >
> > >  --
> > >  This message has been scanned for viruses and
> > >  dangerous content by MailScanner, and is
> > >  believed to be clean.
> > >
> > >
> >
> >
> >
> > --
> > John Verzani
> > CUNY/CSI Department of Mathematics
> > verzani at math.csi.cuny.edu
> >


From mtmorgan at fhcrc.org  Sun Apr  6 03:39:58 2008
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Sat, 05 Apr 2008 18:39:58 -0700
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <alpine.LFD.1.00.0804051751030.8462@gannet.stats.ox.ac.uk> (Brian
	Ripley's message of "Sat, 5 Apr 2008 19:31:43 +0100 (BST)")
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>
	<6ph1w5ke4hf.fsf@lamprey.fhcrc.org>
	<alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>
	<18423.44293.301180.983774@cmath-5.math.ethz.ch>
	<alpine.LFD.1.00.0804051751030.8462@gannet.stats.ox.ac.uk>
Message-ID: <6phlk3rdamp.fsf@lamprey.fhcrc.org>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> Martin M x 2,
>
> Yes, no news in either of your most recent messages.  That's a really
> ugly plot, though, and I do want to protest about either of these
> being worth doing fast.

The data motivating the original report was from quality assessment of
DNA resequencing technologies with 'intensity' measures from 8 'lanes'
each with 300 'tiles' and 36 'cycles' per tile. Intensity decreases
slightly with cycle, but failed tiles show more dramatic declines in
intensity.

xyplot(intensity~tile|lane, df)

shows successful tiles in a fuzz at a particular band of intensities,
and the number, distribution over lanes, and spatial location (implied
by tile index) of failed tiles appear as vertical streaks. Several
iterations of the plot (log intensities, lattice layout, point
representation [incl. transparency], etc) helped to clarify criteria
for identifying failures. Speed can be very valuable during this
exploratory phase, perhaps especially for those of us who are
handicapped by sometimes doing things that are not after all worth
doing. Attempting to 'zoom' as an easy way to get a closer look at
individual lanes lead to the original report.

This is the QA summary data; the underlying data consist of up to 10
million 'reads' per lane.

Thank you for your efforts. I was hoping for a bug fix (X11 repaint),
but also gained understanding of X11's type argument, consequences of
display type for different aspects of performance, and use of alpha
(vectorized, so I can, e.g., make failed tiles have alpha=1;
previously I had found that setting a scalar alpha<1 did indeed help
with point overlap, but the interesting points (failures) were
isolated and therefore faint).

Martin Morgan

> On my home system
>
>> F <- ecdf(rnorm(10000))
>> system.time(plot(F))
>     user  system elapsed
>    1.343   0.035   1.410
>> x11(type="Xlib")
>> system.time(plot(F))
>     user  system elapsed
>    0.022   0.002   0.083
>
> and if something is worth plotting, it is surely worth waiting 1.4s for?
> (About 1/4 the time is spent on antialiasing.)
>
> Martin Morgan's example is atypical (how often do people do
> scatterplots of 10,000 points?  Or ecdfs, come to that?), but I see
>> X11(type="Xlib")
>> system.time(doplots(df)) # gcFirst=TRUE is the default
>     user  system elapsed
>    0.174   0.005   0.187
>> X11(type="cairo")
>> system.time(doplots(df))
>     user  system elapsed
>    2.315   0.035   2.388
>> X11(type="nbcairo")
>> system.time(doplots(df))
>     user  system elapsed
>    1.844   0.057   1.920
>
> However, I think the plots produced are pretty uniformative whereas
> using a smaller translucent filled disc as the symbol would give more
> information (and "Xlib" cannot do that).
>
> The BioC package flowViz has some quite extreme examples of arrays of
> scatterplots of ca 25,000 points, and they are acceptably fast with
> type="cairo" on my system (they certainly plot much faster than I
> would need to appreciate what they are trying to say).
>
> It is very easy to change the default default
> (X11.options(type="Xlib") in .Rprofile), and so the only question was
> what is best for most users?'.
> As we think they will have local displays and be working with hundreds
> rather than tens of thousands of points, the current default default
> seems the best compromise.
>
> Incidentally, windows() and quartz() are nowhere near as fast as Xlib
> on the same or similar hardware.  On my laptop
>
>> system.time(plot(F))
>     user  system elapsed
>     0.14    0.43    0.72
>> system.time(doplots(df))
>     user  system elapsed
>     0.38    0.58    1.25
>
> and I don't usually feel that machine is slow (it was its 3rd birthday
> last week).
>
> I don't know how you live without graphics acceleration -- I've seen
> it on my systems (1600x1200 and 1680x1050) when drivers have failed to
> update and know I don't even want to text edit without it.
>
>
> On Sat, 5 Apr 2008, Martin Maechler wrote:
>
>>>>>>> "BDR" == Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>>>     on Sat, 5 Apr 2008 16:27:52 +0100 (BST) writes:
>>
>>    BDR> On Sat, 5 Apr 2008, Martin Morgan wrote:
>>    >> Yes, thank you, this fixes the problem for me.
>>    >>
>>    >> As a follow-up, and again with my ignorance of where
>>    >> processing is actually occuring, it seems like the X11
>>    >> window content is drawn directly rather than being drawn
>>    >> to a buffer and then blit on to the screen -- the
>>    >> original appearance of the plot is slow, compared to,
>>    >> e.g., hiding and then revealing the image once it has
>>    >> been plotted.
>>
>>    BDR> That is not so for the default type="cairo".  The
>>    BDR> problem is likely to be that the bitblt is across the
>>    BDR> network, whereas repaint is a bitblt from a local copy.
>>
>>    BDR> There are some comments on the X11() help page -- you
>>    BDR> may want to try type = "nbcairo".  Some changes are
>>    BDR> planned for R 2.8.0 which will improve performance, but
>>    BDR> for now things are tuned for the most common case of a
>>    BDR> local X11 display (although type = "nbcairo" works
>>    BDR> quite well over my home wireless network).
>>
>> Sorry to chime in;  I had wanted to bring this to Brian's
>> attention a few days ago, but always got side-tracked:
>>
>> Here are results on my  IBM/Lenowo X41 notebook
>> model name	: Intel(R) Pentium(R) M processor 1.50GHz
>> cpu MHz		: 600.000
>> bogomips	: 1198.37
>> MemTotal:      1546600 kB
>>
>> with *no* graphics acceleration:
>> Everything is local but not really fast hardware
>>
>> > F <- ecdf(rnorm(10000))
>> > system.time(plot(F))
>>    user  system elapsed
>>   3.204   0.024   3.402
>> > x11(type="Xlib")
>> > system.time(plot(F))
>>    user  system elapsed
>>   0.068   0.000   0.354
>> >
>>
>> which is somewhat dramatic,
>> and for tk*() pseudo-animations, I have definitely needed to use
>> type = "Xlib"
>>
>> Martin
>>
>>
>>    >> R version 2.8.0 Under development (unstable) (2008-04-05
>>    >> r45102)
>>    >>
>>    >> Thank you again for tracking down the original issue.
>>    >>
>>    >> Martin
>>    >>
>>    >> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>>    >>
>>    >>> I think I have found this -- if so, it was an X11 timing
>>    >>> issue and we needed to re-read the X11 window size at a
>>    >>> later time.  Please try r45102 or later.
>>    >>>
>>    >>> On Fri, 4 Apr 2008, Prof Brian Ripley wrote:
>>    >>>
>>    >>>> On Thu, 3 Apr 2008, Martin Morgan wrote:
>>    >>>>
>>    >>>>> I apologize if this is too obscure to reproduce, or
>>    >>>>> some idiosyncratic aspects of my system. If I create a
>>    >>>>> plot, e.g.,
>>>>>>> plot(1:10) I get a graphics device as expected. I then
>>    >>>>> click on the 'zoom' box on my X11 window, so the
>>    >>>>> window expands to occupy the entire screen. The plot
>>    >>>>> is redrawn at the scale of the large window, but is
>>    >>>>> clipped to the 'unzoomed' size. I only see the top
>>    >>>>> left portion of the plot, occupying the space of the
>>    >>>>> original image.  Here are the R essentials; I'm using
>>    >>>>> X11 on a recent SuSE, connecting via a moderately
>>    >>>>> out-of-date cygwin from Windows. I'm happy to provide
>>    >>>>> more detail if pointed in the right direction (and
>>    >>>>> will trouble shoot myself if this is not a general
>>    >>>>> problem).
>>    >>>>
>>    >>>> We've seen it, but not all systems do it.  At present
>>    >>>> it looks like a cairo bug, but more work is needed on
>>    >>>> it.  If we haven't found a workaround by release time,
>>    >>>> it will be documented on the help page.
>>    >>>>
>>>>>>> sessionInfo()
>>    >>>>> R version 2.8.0 Under development (unstable)
>>    >>>>> (2008-04-03 r45066) x86_64-unknown-linux-gnu locale:
>>    >>>>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>>    >>>>> attached base packages: [1] stats graphics grDevices
>>    >>>>> utils datasets methods base
>>>>>>> capabilities() jpeg png tcltk X11 aqua http/ftp sockets
>>    >>>>> libxml TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE fifo
>>    >>>>> cledit iconv NLS profmem cairo TRUE TRUE TRUE TRUE
>>    >>>>> TRUE TRUE Martin
>>    >>>>> --
>>    >>>>> Martin Morgan Computational Biology / Fred Hutchinson
>>    >>>>> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>>    >>>>> 19024 Seattle, WA 98109 Location: Arnold Building M2
>>    >>>>> B169 Phone: (206) 667-2793
>>    >>>>> ______________________________________________
>>    >>>>> R-devel at r-project.org mailing list
>>    >>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>    >>>>>
>>    >>>>
>>>>> --
>>>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>>    >>>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>>    >>>> University of Oxford, Tel: +44 1865 272861 (self) 1
>>    >>>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>>    >>>> UK Fax: +44 1865 272595
>>    >>>>
>>    >>>
>>>> --
>>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>>    >>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>>    >>> University of Oxford, Tel: +44 1865 272861 (self) 1
>>    >>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>>    >>> UK Fax: +44 1865 272595
>>    >>
>>    >> --
>>    >> Martin Morgan Computational Biology / Fred Hutchinson
>>    >> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>>    >> 19024 Seattle, WA 98109
>>    >>
>>    >> Location: Arnold Building M2 B169 Phone: (206) 667-2793
>>    >>
>>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>    BDR> Professor of Applied Statistics,
>>    BDR> http://www.stats.ox.ac.uk/~ripley/ University of
>>    BDR> Oxford, Tel: +44 1865 272861 (self) 1 South Parks Road,
>>    BDR> +44 1865 272866 (PA) Oxford OX1 3TG, UK Fax: +44 1865
>>    BDR> 272595
>>
>>    BDR> ______________________________________________
>>    BDR> R-devel at r-project.org mailing list
>>    BDR> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M2 B169
Phone: (206) 667-2793


From A.Robinson at ms.unimelb.edu.au  Sun Apr  6 06:01:32 2008
From: A.Robinson at ms.unimelb.edu.au (Andrew Robinson)
Date: Sun, 6 Apr 2008 14:01:32 +1000
Subject: [Rd] Hardly worth a bug report, but ...
Message-ID: <20080406040132.GA1341@ms.unimelb.edu.au>

Hi developers,

there is a typo in match.call.Rd; elememt should be element.

Also, the following statement is difficult to understand:

     'match.call' does not support with primitive functions (where
     argument matching is normally positional).

I suspect that either a noun is missing between support and with, or
with should be removed.

Andrew
-- 
Andrew Robinson  
Department of Mathematics and Statistics            Tel: +61-3-8344-6410
University of Melbourne, VIC 3010 Australia         Fax: +61-3-8344-4599
http://www.ms.unimelb.edu.au/~andrewpr
http://blogs.mbs.edu/fishing-in-the-bay/ 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: match.call.patch
Type: text/x-diff
Size: 642 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-devel/attachments/20080406/5d5b9cc7/attachment.bin 

From ripley at stats.ox.ac.uk  Sun Apr  6 08:09:18 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 Apr 2008 07:09:18 +0100 (BST)
Subject: [Rd] Odd tcltk and Rattle interference on MS/Windows
In-Reply-To: <509e0620804050455p765a9b4byce445e809ddecdf7@mail.gmail.com>
References: <20080405105711.GC16122@kyral.togaware.com>
	<509e0620804050455p765a9b4byce445e809ddecdf7@mail.gmail.com>
Message-ID: <alpine.LFD.1.00.0804060656350.1672@gannet.stats.ox.ac.uk>

I don't recognize your account.

R under Windows has an entry point R_tcldo, which is *private* and (as its 
name implies) for use by R with Tcl.  There is no documentation that I am 
aware of that suggests that it is available to packages, and it is in no 
header and not in 'Writing R Extensions'.  It is not part of the 'Windows 
GUI': it works the same with all R for Windows front ends.


On Sat, 5 Apr 2008, Michael Lawrence wrote:

> Hi Graham,
>
> Your guess is right. The event loop stuff is handled differently on Windows
> than on Unix-like OSes. There is a hook, called tcl_do that is hard-coded
> into the R Windows GUI. It is called whenever the console is idle. RGtk2 is
> able to hook into that to process GTK+ events. The problem is that the two
> packages replace each other's handler. So in this case tcltk is blocking
> GTK+ from processing its events.
>
> Perhaps these packages should "chain up" to an existing handler. I'll do
> that for RGtk2, but I have no control over tcltk of course.
>
> Michael
>
> On Sat, Apr 5, 2008 at 3:57 AM, Graham Williams <
> Graham.Williams at togaware.com> wrote:
>
>> Hi Michael,
>>
>> I'm not sure if this is RGtk2 related yet, but just in case it rang
>> any bells with you.... I'm using version 2.12.5 on R 2.6.2.
>>
>> On MS/Windows (not on GNU/Linux) if the tcltk package is loaded whilst
>> Rattle is running, Rattle freezes (or is running exceedingly
>> slowly). If tcltk is loaded before Rattle is started, all is okay!
>>
>> I.e., The following order of things works just fine:
>>
>>> library(rattle)
>>> library(tcltk)
>>> rattle()
>>
>> But the following freezes Rattle:
>>
>>> library(rattle)
>>> rattle()
>>> library(tcltk)
>>
>> I'm thinking it is an issue between RGtk2 and tcltk, but don't have
>> any good evidence yet. However, pmg is also affected in exactly the
>> same way, viz:
>>
>>> library(tcltk)
>>> library(pmg)
>>
>> works just fine but
>>
>>> library(pmg)
>>> library(tcltk)
>>
>> results in pmg freezing.
>>
>> Any ideas - is it perhaps tcltk's problem?
>>
>> Regards,
>> Graham
>>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From Thomas.Petzoldt at TU-Dresden.de  Sun Apr  6 13:03:55 2008
From: Thomas.Petzoldt at TU-Dresden.de (Thomas Petzoldt)
Date: Sun, 06 Apr 2008 13:03:55 +0200
Subject: [Rd] optim: why is REPORT not used in SANN?
In-Reply-To: <18423.35237.59390.18811@cmath-5.math.ethz.ch>
References: <47DD17AF.5030606@TU-Dresden.de>
	<18423.35237.59390.18811@cmath-5.math.ethz.ch>
Message-ID: <47F8AE1B.7060004@TU-Dresden.de>

Martin Maechler wrote:
>>>>>> "TP" == Thomas Petzoldt <Thomas.Petzoldt at tu-dresden.de>
>>>>>>     on Sun, 16 Mar 2008 13:50:55 +0100 writes:
> 
>     TP> Hello, I wonder why the control parameter REPORT is not
>     TP> supported by method SANN. Looking into optim.c I found
>     TP> an internal constant:
> 
>     TP> #define STEPS 100
> 
>     TP> ... and decreasing this to 10 helped me fine-tuning the
>     TP> annealing parameters in an actual problem.
> 
>     TP> Is there any reason why not passing nREPORT to samin and
>     TP> setting something like:
> 
>     TP> STEPS = nREPORT / tmax
> 
> Sorry to reply late (but then, rather than never ..).
> 
> You ask for reasons... I see/guess :
> 
> - the  SANN  method also was contributed from "outside" 
>   (as ?optim mentions); and the original authors may not have
>   seen a use for such more flexible monitoring.
> 
> - the R core members are probably not using 'samin' very often
> 
> - If there is a need you can write the function you are
>   optimizing in a way that it prints info.
> 
> - Nobody has contributed a well-tested patch against R-devel to
>   both code and documentation
>   which would implement your proposal ___ BACK COMPATIBLY __
>   (i.e. the default for SANN should remain to print every 100th;
>    and this differs from the default for BFGS where the default
>   'REPORT' leads to output every 10th eval).
> 
> Regards,
> Martin

Well, I see. The reasons are obviously more or less historical and not 
fundamental. I can, of course, contribute an idea for a modifications of 
samin and do_optim in optim.c. However, to convert my personal hack into 
a "well-tested patch" a few additional considerations have to be 
undertaken, especially about back-compatibility:

1) the patch requires to pass the additional argument nREPORT to 
function "samin".

- Is this still back-compatible? Is it likely that other functions (e.g. 
in packages call samin directly?

- if yes (i.e. direct call is likely), what is the preferred way to 
ensure compatibility? Rename samin to samin2 and add a new 
"compatibility function" function samin that calls samin2?

- the reporting interval of samin is STEPS * tmax where
   - tmax is as documented "number of function evaluations at each 
temperature" (10) and
   - STEPS is a hard-coded constant: #define STEPS 10
   - this means that reporting is every 10 per temperature.

2) if one starts patching SANN, then one migth also think about
"Nelder-Mead" and "CG" with totally different reporting, but smaller 
(!) reporting schedule.

In contrast to this, SANN that is used for difficult systems *and* that 
(see optim.Rd) "depends critically on the settings of the control 
parameters" has a rather long reporting interval.

Thomas P.


From sanders at fs.tum.de  Sun Apr  6 13:53:47 2008
From: sanders at fs.tum.de (Simon Anders)
Date: Sun, 06 Apr 2008 12:53:47 +0100
Subject: [Rd] manual 'Writing R Extensions': bug in example
Message-ID: <47F8B9CB.707@fs.tum.de>

Hi,

I would like to report a small bug in one of the code examples given in 
the 'Writing R extensions' manual. Section 5.9.2 ("Calling .External") 
defines the function "showArgs" in order to demonstrate how to access in 
C the pair-listed arguments passed by .External. The function aims at 
printing echoing all passed arguments to the screen but only prints 
every second argument.

The loop to go through the pair list starts as follows

   args = CDR(args); /* skip 'name' */
   for(i = 0; args != R_NilValue; i++, args = CDR(args)) {
      args = CDR(args);    /* <--- This line is wrong. */

As you can see, "args = CDR(args)" is called twice, resulting in every 
other argument skipped. The marked line should be deleted.

Furthermore, the function requires all arguments to be named, as it 
gives an error if TAG returns NIL in the line

    name = CHAR(PRINTNAME(TAG(args)));

It might improve the example to introduce here a test "if( TAG(args) != 
R_NilValue )".

May I suggest to the maintainer of the manual to change the example to 
the following code? (Changes to original: lines 1, 2, 15, 17, 18 added; 
one line deleted after line 13.)

  1  #include <R.h>
  2  #include <Rinternals.h>
  3  #include <R_ext/PrtUtil.h>
  4
  5  SEXP showArgs(SEXP args)
  6  {
  7    int i, nargs;
  8    Rcomplex cpl;
  9    const char *name;
10    SEXP el;
11
12    args = CDR(args); /* skip 'name' */
13    for(i = 0; args != R_NilValue; i++, args = CDR(args)) {
14
15	if( TAG(args) != R_NilValue )
16	   name = CHAR(PRINTNAME(TAG(args)));
17	else
18	   name = "<unnamed>";
19	switch(TYPEOF(CAR(args))) {
20	case REALSXP:
21	  Rprintf("[%d] '%s' %f\n", i+1, name, REAL(CAR(args))[0]);
22	  break;
23	case LGLSXP:
24	case INTSXP:
25	  Rprintf("[%d] '%s' %d\n", i+1, name, INTEGER(CAR(args))[0]);
26	  break;
27	case CPLXSXP:
28	  cpl = COMPLEX(CAR(args))[0];
29	  Rprintf("[%d] '%s' %f + %fi\n", i+1, name, cpl.r, cpl.i);
30	  break;
31	case STRSXP:
32	  Rprintf("[%d] '%s' %s\n", i+1, name,
33		 CHAR(STRING_ELT(CAR(args), 0)));
34	  break;
35	default:
36	  Rprintf("[%d] '%s' R type\n", i+1, name);
37	}
38    }
39    return(R_NilValue);
40  }
41

Best regards
   Simon Anders


+---
| Dr. Simon Anders, Dipl. Phys.
| European Bioinformatics Institute, Hinxton, Cambridgeshire, UK
| office phone +44-1223-494478, mobile phone +44-7505-841692
| preferred (permanent) e-mail: sanders at fs.tum.de


From mathieu.ribatet at epfl.ch  Sun Apr  6 14:46:36 2008
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Sun, 06 Apr 2008 14:46:36 +0200
Subject: [Rd] Matrix multiplication in a C code
Message-ID: <47F8C62C.7010501@epfl.ch>

    Dear list members,

I've got a small question on matrix multiplications in a C code. Because 
of a really cpu demanding likelihood, I had to use a C code within an R 
function wrapper. I'm pretty sure that there is already one good code 
for matrix multiplication in C - maybe in the R source code itself - but 
I wasn't able to find it.

Anyone as an idea on how to handle matrix multiplications?

Best,
Mathieu

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From ripley at stats.ox.ac.uk  Sun Apr  6 14:53:14 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 Apr 2008 13:53:14 +0100 (BST)
Subject: [Rd] Matrix multiplication in a C code
In-Reply-To: <47F8C62C.7010501@epfl.ch>
References: <47F8C62C.7010501@epfl.ch>
Message-ID: <alpine.LFD.1.00.0804061350410.9702@auk.stats.ox.ac.uk>

On Sun, 6 Apr 2008, Mathieu Ribatet wrote:

>    Dear list members,
>
> I've got a small question on matrix multiplications in a C code. Because
> of a really cpu demanding likelihood, I had to use a C code within an R
> function wrapper. I'm pretty sure that there is already one good code
> for matrix multiplication in C - maybe in the R source code itself - but
> I wasn't able to find it.
>
> Anyone as an idea on how to handle matrix multiplications?

Well, R does use fast C code where available: see matmult in 
src/main/array.c which calls the BLAS.  It works best if you have an 
optimized BLAS: otherwise it may not be as fast as the simple version used 
when there are NAs present.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From spencer.graves at pdf.com  Sun Apr  6 17:37:50 2008
From: spencer.graves at pdf.com (Spencer Graves)
Date: Sun, 06 Apr 2008 08:37:50 -0700
Subject: [Rd] [R] How to improve the "OPTIM" results
In-Reply-To: <loom.20080406T141559-438@post.gmane.org>
References: <16509144.post@talk.nabble.com> <47F7FA64.6020605@pdf.com>
	<loom.20080406T141559-438@post.gmane.org>
Message-ID: <47F8EE4E.1@pdf.com>

<moved to R-devel> 

      What would people suggest someone do to improve the optimization 
capabilities in R?  A few ideas are mentioned below.  I just got 578 
hits from RSiteSearch("optimization", "fun"), and I wonder if there's a 
better way to get a reasonable overview of what's currently available in 
R -- and outside R?  My initial thought was to develop an enhanced 
version of 'optim' that would check for negative curvature (via 
indefinite Hessians), do auto-scaling (see 
http://finzi.psych.upenn.edu/R/Rhelp02a/archive/125518.html), and output 
an object of a class like 'mle' or a new class like 'optimMLE' for which 
appropriate methods could be written.  I have to often encountered 
problems with overparameterization, which could be fairly easily 
diagnosed via a singular or indefinite hessian.  It would help me, and I 
believe other users, if functions like 'optim' and 'nls' would include 
simple diagnostics like this -- rather than returning a cryptic error or 
warning message. 

      However, the comment from Hans Borchers (below) raises a related 
question:  What might be the best way to build a collaboration with 
existing optimization initiatives, possibly making R a platform of 
choice for making it easy for users to access and compare alternative 
optimization methods? 

      Thanks,
      Spencer         

Hans W Borchers wrote:
>> MORE GENERAL OPTIM ISSUES
>>
>>       I'm considering creating a package 'optimMLE' that would automate 
>> some of this and package it with common 'methods' that would assume that 
>> sum(fn(...)) was either a log(likelihood) or the negative of a 
>> log(likelihood), etc.  However, before I do, I need to make more 
>> progress on some of my other commitments, review RSiteSearch("optim", 
>> "fun") to make sure I'm not duplicating something that already exists, 
>> etc.  If anyone is interested in collaborating on this, please contact 
>> me off-line. 
>>
>>       Hope this helps. 
>>       Spencer
>>     
>
> Thanks for your tips on using `optim()'. I believe `optim' is a reasonable good
> implementation of numerical optimization techniques such as quasi-Newton BFGS or
> conjugate gradients. Maybe methods using modern line searches or trust regions
> can follow someday.
>
> Everybody applying `optim' should be aware that it is a *Local Optimization*
> (LO) approach. What you describe appears to be a step towards *Global
> Optimization* (GO) in R. And indeed more and more requests in to the R-help list
> are about `optim' as a tool for global optimization, not always being fully
> aware of the differences.
>
> I am wondering whether it would be more useful to provide one or two global
> optimization approaches to the R community. And as this is an active research
> area, there are many and with different advantages and drawbacks.
>
> I would like to propose IPOPT as one of he newer and more advanced methods for
> global optimization. This powerful software package is open source and available
> through the COIN-OR initiative and its Web pages:
>
>     http://www.coin-or.org/Ipopt/documentation/
>
>     ``Ipopt (Interior Point OPTimizer, pronounced I-P-Opt) is a software package 
>     for large-scale nonlinear optimization. Ipopt is written in C++ and is 
>     released as open source code under the Common Public License (CPL). It is
>     available from the COIN-OR initiative. The code has been written by Carl
>     Laird (Carnegie Mellon University) and Andreas Wachter (IBM's T.J. Watson 
>     Research Center), who is the COIN project leader for Ipopt.''
>
> PERHAPS the COIN project would agree for IPOPT to be integrated into the open
> source project R as a package. For testing it right now there is an AMPL-based
> interface to IPOPT at the NEOS solver:
>
>     http://neos.mcs.anl.gov/neos/solvers/nco:Ipopt/AMPL.html
>
> There may be other rewarding projects in the COIN-OR initiative, such as
> `SYMPHONY' for solving mixed-integer linear programs (MILP, stronger than `glpk'
> and `lp-solve'), or the BONMIN open source *non-linear* mixed integer
> programming (MINLP) solver. I could imagine R to be a good platform for
> integrating some of these algorithms.
>
> ------------
> Hans W. Borchers
> Control and Optimization Group
> ABB Corporate Research Germany
> hans-werner.borchers at de.abb.com
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>


From edd at debian.org  Sun Apr  6 18:17:35 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 6 Apr 2008 11:17:35 -0500
Subject: [Rd] [R] How to improve the "OPTIM" results
In-Reply-To: <47F8EE4E.1@pdf.com>
References: <16509144.post@talk.nabble.com> <47F7FA64.6020605@pdf.com>
	<loom.20080406T141559-438@post.gmane.org> <47F8EE4E.1@pdf.com>
Message-ID: <18424.63391.754333.964396@ron.nulle.part>


On 6 April 2008 at 08:37, Spencer Graves wrote:
| <moved to R-devel> 
[...]
|       However, the comment from Hans Borchers (below) raises a related 
| question:  What might be the best way to build a collaboration with 
| existing optimization initiatives, possibly making R a platform of 
| choice for making it easy for users to access and compare alternative 
| optimization methods? 

Are you (used in the plural) aware of Kurt's more recent advances into OR?
There are new-ish packages RSymphony, Rglpk and other things at CRAN.

Dirk

--
Three out of two people have difficulties with fractions.


From Kurt.Hornik at wu-wien.ac.at  Sun Apr  6 18:59:04 2008
From: Kurt.Hornik at wu-wien.ac.at (Kurt Hornik)
Date: Sun, 6 Apr 2008 18:59:04 +0200
Subject: [Rd] [R] How to improve the "OPTIM" results
In-Reply-To: <18424.63391.754333.964396@ron.nulle.part>
References: <16509144.post@talk.nabble.com> <47F7FA64.6020605@pdf.com>
	<loom.20080406T141559-438@post.gmane.org> <47F8EE4E.1@pdf.com>
	<18424.63391.754333.964396@ron.nulle.part>
Message-ID: <18425.344.440431.818910@fangorn.hornik.net>

>>>>> Dirk Eddelbuettel writes:

> On 6 April 2008 at 08:37, Spencer Graves wrote:
> | <moved to R-devel> 
> [...]
> |       However, the comment from Hans Borchers (below) raises a related 
> | question:  What might be the best way to build a collaboration with 
> | existing optimization initiatives, possibly making R a platform of 
> | choice for making it easy for users to access and compare alternative 
> | optimization methods? 

> Are you (used in the plural) aware of Kurt's more recent advances into
> OR?  There are new-ish packages RSymphony, Rglpk and other things at
> CRAN.

Not only by me: there's also Rcplex and TSP and there are at least three
more COIN-OR package interfaces in the pipeline.

-k


From ggrothendieck at gmail.com  Sun Apr  6 19:08:44 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 6 Apr 2008 13:08:44 -0400
Subject: [Rd] [R] How to improve the "OPTIM" results
In-Reply-To: <18425.344.440431.818910@fangorn.hornik.net>
References: <16509144.post@talk.nabble.com> <47F7FA64.6020605@pdf.com>
	<loom.20080406T141559-438@post.gmane.org> <47F8EE4E.1@pdf.com>
	<18424.63391.754333.964396@ron.nulle.part>
	<18425.344.440431.818910@fangorn.hornik.net>
Message-ID: <971536df0804061008i58ccfb26wda520cb1e3d66cd3@mail.gmail.com>

On Sun, Apr 6, 2008 at 12:59 PM, Kurt Hornik <Kurt.Hornik at wu-wien.ac.at> wrote:
> >>>>> Dirk Eddelbuettel writes:
>
> > On 6 April 2008 at 08:37, Spencer Graves wrote:
> > | <moved to R-devel>
> > [...]
> > |       However, the comment from Hans Borchers (below) raises a related
> > | question:  What might be the best way to build a collaboration with
> > | existing optimization initiatives, possibly making R a platform of
> > | choice for making it easy for users to access and compare alternative
> > | optimization methods?
>
> > Are you (used in the plural) aware of Kurt's more recent advances into
> > OR?  There are new-ish packages RSymphony, Rglpk and other things at
> > CRAN.
>
> Not only by me: there's also Rcplex and TSP and there are at least three
> more COIN-OR package interfaces in the pipeline.
>

It would be nice if there were a CRAN Task View to pull all this together.


From spencer.graves at pdf.com  Sun Apr  6 19:29:21 2008
From: spencer.graves at pdf.com (Spencer Graves)
Date: Sun, 06 Apr 2008 10:29:21 -0700
Subject: [Rd] [R] How to improve the "OPTIM" results
In-Reply-To: <971536df0804061008i58ccfb26wda520cb1e3d66cd3@mail.gmail.com>
References: <16509144.post@talk.nabble.com>
	<47F7FA64.6020605@pdf.com>	<loom.20080406T141559-438@post.gmane.org>
	<47F8EE4E.1@pdf.com>	<18424.63391.754333.964396@ron.nulle.part>	<18425.344.440431.818910@fangorn.hornik.net>
	<971536df0804061008i58ccfb26wda520cb1e3d66cd3@mail.gmail.com>
Message-ID: <47F90871.9050509@pdf.com>

<in line>

Gabor Grothendieck wrote:
> On Sun, Apr 6, 2008 at 12:59 PM, Kurt Hornik <Kurt.Hornik at wu-wien.ac.at> wrote:
>   
>>>>>>> Dirk Eddelbuettel writes:
>>>>>>>               
>>> On 6 April 2008 at 08:37, Spencer Graves wrote:
>>> | <moved to R-devel>
>>> [...]
>>> |       However, the comment from Hans Borchers (below) raises a related
>>> | question:  What might be the best way to build a collaboration with
>>> | existing optimization initiatives, possibly making R a platform of
>>> | choice for making it easy for users to access and compare alternative
>>> | optimization methods?
>>>       
>>> Are you (used in the plural) aware of Kurt's more recent advances into
>>> OR?  There are new-ish packages RSymphony, Rglpk and other things at
>>> CRAN.
>>>       
>> Not only by me: there's also Rcplex and TSP and there are at least three
>> more COIN-OR package interfaces in the pipeline.
>>
>>     
>
> It would be nice if there were a CRAN Task View to pull all this together.
>   
How about R Wiki entries also?  The enormous advantage of a Wiki is that 
anyone can make contributions, subject to moderation when things get 
extreme.  I'd like to see copies of all the CRAN Task Views ported to 
the R Wiki, with emails sent to the maintainers of all the packages 
mentioned, inviting updates, comparisons, clarifications, 
amplifications, etc.  Similarly, I'd like to see people posting 
questions to R Wiki accompanied by a post to R-Help.  Then someone else 
would edit the question with an answer.  Officially designated R Wiki 
editors could notify people whose posts seem inappropriate for whatever 
reason that their entries may be removed unless clarified, etc.  With 
the right selection of "editors" and a little time, I think the R Wiki 
could become the most valuable documentation available on R. 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From mel at altk.com  Mon Apr  7 09:56:23 2008
From: mel at altk.com (mel)
Date: Mon, 07 Apr 2008 09:56:23 +0200
Subject: [Rd] Matrix multiplication in a C code
In-Reply-To: <47F8C62C.7010501@epfl.ch>
References: <47F8C62C.7010501@epfl.ch>
Message-ID: <47F9D3A7.7050801@altk.com>

Mathieu Ribatet a ?crit :
>     Dear list members,
> 
> I've got a small question on matrix multiplications in a C code. Because 
> of a really cpu demanding likelihood, I had to use a C code within an R 
> function wrapper. I'm pretty sure that there is already one good code 
> for matrix multiplication in C - maybe in the R source code itself - but 
> I wasn't able to find it.
> 
> Anyone as an idea on how to handle matrix multiplications?

fwiw :
from a post on Rd on 4/4/2007 :
Just-in-time compiler for R
http://www.milbo.users.sonic.net/ra/index.html


From osklyar at maninvestments.com  Mon Apr  7 13:22:36 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Mon, 7 Apr 2008 12:22:36 +0100
Subject: [Rd] Overriding axis formatting with custom Axis method,
	Axis.numeric etc
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE4302294810@mildnpexmb01.maninvestments.ad.man.com>

Dear list:

I would like to override the default way R formats plot axes with a
custom method(s). Obviously I would prefer to define it as general as
possible avoiding writing a custom method for each individual class
where possible.

The plot.default method (and I assume other methods as well) calls
Axis(...) to produce the axis layout depending on data. In this sense it
seems reasonable to (re)define Axis methods rather than change plot
methods (which are impossible to control as there can be too many custom
ones).

Now my question is how can I redefine Axis that it is automatically
called by plot.default and other plot methods? Or which Axis-method
signatures are already defined that I should redefine?

What I have succeeded so far was defining Axis.numeric and Axis.myClass,
which are called by default if I supply data of class numeric or
myClass. For example, a simple code like

Axis.numeric = AxisFUN = function(x=NULL, at=NULL, ..., side,
labels=TRUE) {
    if (is.null(at)) at = pretty(x)
    axis(at=at, ..., side=side, labels=labels, col="red", lwd=5)
}

run with plot(1:5,1:5) will format both axes red. 

However, if I execute it with plot(1:5) only x axis plotting is
intercepted leaving y at default formatting although it is also numeric.
Why and what should I define to intercept for plotting the y axis or for
plotting axes in boxplot etc. Simply importing and overriding Axis as
function does not bring anything, it wouldn't get called.

Also I was not able to use S4 methods to redefine Axis. Overriding it
with the code from above using any of the following signatures also
didn't work for me - they are simply ignored:

setGeneric("Axis")

setMethod("Axis", signature(x="missing",at="numeric"), AxisFUN)
setMethod("Axis", signature(x="numeric",at="missing"), AxisFUN)

setMethod("Axis", signature(x="missing",at="ANY"), AxisFUN)
setMethod("Axis", signature(x="ANY",at="missing"), AxisFUN)
setMethod("Axis", signature(x="ANY",at="ANY"), AxisFUN)

Any ideas?

Thanks,
Oleg

Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com


**********************************************************************
The contents of this email are for the named addressee(s) only.
It contains information which may be confidential and privileged.
If you are not the intended recipient, please notify the sender
immediately, destroy this email and any attachments and do not
otherwise disclose or use them. Email transmission is not a
secure method of communication and Man Investments cannot accept
responsibility for the completeness or accuracy of this email or
any attachments. Whilst Man Investments makes every effort to keep
its network free from viruses, it does not accept responsibility
for any computer virus which might be transferred by way of this
email or any attachments. This email does not constitute a request,
offer, recommendation or solicitation of any kind to buy, subscribe,
sell or redeem any investment instruments or to perform other such
transactions of any kind. Man Investments reserves the right to
monitor, record and retain all electronic communications through
its network to ensure the integrity of its systems, for record
keeping and regulatory purposes. 

Visit us at: www.maninvestments.com


From wwwhsd at gmail.com  Mon Apr  7 13:49:04 2008
From: wwwhsd at gmail.com (Henrique Dallazuanna)
Date: Mon, 7 Apr 2008 08:49:04 -0300
Subject: [Rd] Overriding axis formatting with custom Axis method,
	Axis.numeric etc
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294810@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294810@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <da79af330804070449we2a4a6o8e0c8f737585a788@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080407/27dc5cb4/attachment.pl 

From ripley at stats.ox.ac.uk  Mon Apr  7 14:01:46 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Apr 2008 13:01:46 +0100 (BST)
Subject: [Rd] Overriding axis formatting with custom Axis method,
 Axis.numeric etc
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294810@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294810@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <alpine.LFD.1.00.0804071228470.8824@auk.stats.ox.ac.uk>

On Mon, 7 Apr 2008, Sklyar, Oleg (MI London) wrote:

> Dear list:
>
> I would like to override the default way R formats plot axes with a
> custom method(s). Obviously I would prefer to define it as general as
> possible avoiding writing a custom method for each individual class
> where possible.
>
> The plot.default method (and I assume other methods as well) calls
> Axis(...) to produce the axis layout depending on data. In this sense it
> seems reasonable to (re)define Axis methods rather than change plot
> methods (which are impossible to control as there can be too many custom
> ones).
>
> Now my question is how can I redefine Axis that it is automatically
> called by plot.default and other plot methods? Or which Axis-method
> signatures are already defined that I should redefine?

Axis() is an S3 generic, not an S4 generic, so it does not make sense to 
me to talk about 'signatures'.  It is in the graphics namespace, so you 
cannot redefine it for use by plot.default.

methods("Axis") answers what I think you meant to ask.

> What I have succeeded so far was defining Axis.numeric and Axis.myClass,
> which are called by default if I supply data of class numeric or
> myClass. For example, a simple code like
>
> Axis.numeric = AxisFUN = function(x=NULL, at=NULL, ..., side,
> labels=TRUE) {
>    if (is.null(at)) at = pretty(x)
>    axis(at=at, ..., side=side, labels=labels, col="red", lwd=5)
> }
>
> run with plot(1:5,1:5) will format both axes red.
>
> However, if I execute it with plot(1:5) only x axis plotting is
> intercepted leaving y at default formatting although it is also numeric.
> Why and what should I define to intercept for plotting the y axis or for
> plotting axes in boxplot etc. Simply importing and overriding Axis as
> function does not bring anything, it wouldn't get called.

Try debug(Axis) and see what it is called with.  (I have altered that in 
current versions of R -- you didn't say what yours was.)

> Also I was not able to use S4 methods to redefine Axis. Overriding it
> with the code from above using any of the following signatures also
> didn't work for me - they are simply ignored:
>
> setGeneric("Axis")
>
> setMethod("Axis", signature(x="missing",at="numeric"), AxisFUN)
> setMethod("Axis", signature(x="numeric",at="missing"), AxisFUN)
>
> setMethod("Axis", signature(x="missing",at="ANY"), AxisFUN)
> setMethod("Axis", signature(x="ANY",at="missing"), AxisFUN)
> setMethod("Axis", signature(x="ANY",at="ANY"), AxisFUN)

Namespaces ... (perhaps you need to study them?).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ggrothendieck at gmail.com  Mon Apr  7 14:09:11 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 7 Apr 2008 08:09:11 -0400
Subject: [Rd] Overriding axis formatting with custom Axis method,
	Axis.numeric etc
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294810@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294810@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <971536df0804070509k3eb57867o718fcb9293894a92@mail.gmail.com>

Try this:


Axis.AsIs = AxisFUN = function(x=NULL, at=NULL, ..., side,
labels=TRUE) {
   if (is.null(at)) at = pretty(x)
   axis(at=at, ..., side=side, labels=labels, col="red", lwd=5)
}

plot(I(1:10))

On Mon, Apr 7, 2008 at 7:22 AM, Sklyar, Oleg (MI London)
<osklyar at maninvestments.com> wrote:
> Dear list:
>
> I would like to override the default way R formats plot axes with a
> custom method(s). Obviously I would prefer to define it as general as
> possible avoiding writing a custom method for each individual class
> where possible.
>
> The plot.default method (and I assume other methods as well) calls
> Axis(...) to produce the axis layout depending on data. In this sense it
> seems reasonable to (re)define Axis methods rather than change plot
> methods (which are impossible to control as there can be too many custom
> ones).
>
> Now my question is how can I redefine Axis that it is automatically
> called by plot.default and other plot methods? Or which Axis-method
> signatures are already defined that I should redefine?
>
> What I have succeeded so far was defining Axis.numeric and Axis.myClass,
> which are called by default if I supply data of class numeric or
> myClass. For example, a simple code like
>
> Axis.numeric = AxisFUN = function(x=NULL, at=NULL, ..., side,
> labels=TRUE) {
>    if (is.null(at)) at = pretty(x)
>    axis(at=at, ..., side=side, labels=labels, col="red", lwd=5)
> }
>
> run with plot(1:5,1:5) will format both axes red.
>
> However, if I execute it with plot(1:5) only x axis plotting is
> intercepted leaving y at default formatting although it is also numeric.
> Why and what should I define to intercept for plotting the y axis or for
> plotting axes in boxplot etc. Simply importing and overriding Axis as
> function does not bring anything, it wouldn't get called.
>
> Also I was not able to use S4 methods to redefine Axis. Overriding it
> with the code from above using any of the following signatures also
> didn't work for me - they are simply ignored:
>
> setGeneric("Axis")
>
> setMethod("Axis", signature(x="missing",at="numeric"), AxisFUN)
> setMethod("Axis", signature(x="numeric",at="missing"), AxisFUN)
>
> setMethod("Axis", signature(x="missing",at="ANY"), AxisFUN)
> setMethod("Axis", signature(x="ANY",at="missing"), AxisFUN)
> setMethod("Axis", signature(x="ANY",at="ANY"), AxisFUN)
>
> Any ideas?
>
> Thanks,
> Oleg
>
> Dr Oleg Sklyar
> Technology Group
> Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com
>
>
> **********************************************************************
> The contents of this email are for the named addressee(s) only.
> It contains information which may be confidential and privileged.
> If you are not the intended recipient, please notify the sender
> immediately, destroy this email and any attachments and do not
> otherwise disclose or use them. Email transmission is not a
> secure method of communication and Man Investments cannot accept
> responsibility for the completeness or accuracy of this email or
> any attachments. Whilst Man Investments makes every effort to keep
> its network free from viruses, it does not accept responsibility
> for any computer virus which might be transferred by way of this
> email or any attachments. This email does not constitute a request,
> offer, recommendation or solicitation of any kind to buy, subscribe,
> sell or redeem any investment instruments or to perform other such
> transactions of any kind. Man Investments reserves the right to
> monitor, record and retain all electronic communications through
> its network to ensure the integrity of its systems, for record
> keeping and regulatory purposes.
>
> Visit us at: www.maninvestments.com
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From b.rowlingson at lancaster.ac.uk  Mon Apr  7 14:17:32 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 07 Apr 2008 13:17:32 +0100
Subject: [Rd] "R CMD check" leaving object files.
Message-ID: <47FA10DC.8030708@lancaster.ac.uk>

If I run "R CMD check" on my package source directory I get no warnings 
(okay, at the moment I get a few, but lets imagine for the sake of 
argument I don't). Then if I run it again I get a warning about my 
source package having object files in it:

* checking if this is a source package ... WARNING
Subdirectory 'foo/src' contains object files.

  Well, I didn't put them there!

  Can't find anyone else really griping about this on the R search 
stuff. So am I doing something wrong?

  Is there a standard way I can do a 'clean' in the source subdirectory 
before the check?

  Thanks in advance for any ideas, I'm really just putting off sorting 
out the code/documentation warnings...

Barry


From ripley at stats.ox.ac.uk  Mon Apr  7 14:40:01 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Apr 2008 13:40:01 +0100 (BST)
Subject: [Rd] "R CMD check" leaving object files.
In-Reply-To: <47FA10DC.8030708@lancaster.ac.uk>
References: <47FA10DC.8030708@lancaster.ac.uk>
Message-ID: <alpine.LFD.1.00.0804071335170.23597@gannet.stats.ox.ac.uk>

On Mon, 7 Apr 2008, Barry Rowlingson wrote:

> If I run "R CMD check" on my package source directory I get no warnings
> (okay, at the moment I get a few, but lets imagine for the sake of
> argument I don't). Then if I run it again I get a warning about my
> source package having object files in it:
>
> * checking if this is a source package ... WARNING
> Subdirectory 'foo/src' contains object files.
>
>  Well, I didn't put them there!

You asked R CMD check to call R CMD INSTALL which did.

>  Can't find anyone else really griping about this on the R search
> stuff. So am I doing something wrong?
>
>  Is there a standard way I can do a 'clean' in the source subdirectory
> before the check?
>
>  Thanks in advance for any ideas, I'm really just putting off sorting
> out the code/documentation warnings...

I always do

R CMD build mypkg
R CMD check mypkg_version.tar.gz

That way I check a clean tarball, the one I might distribute.

What you are seeing is the aftermath of R CMD INSTALL.  That has arguments 
--clean and --pre-clean to deal with this, but 'clean' does not use them.
(My guess is that the faster install by not doing so is thought 
beneficial.)

>
> Barry
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From pearman at wsl.ch  Mon Apr  7 14:52:17 2008
From: pearman at wsl.ch (Peter Pearman)
Date: Mon, 07 Apr 2008 14:52:17 +0200
Subject: [Rd] problem with Rmpi 0.5-5 and openmpi
Message-ID: <47FA1901.10904@wsl.ch>

Dear knowledgeable experts :-),

I am trying to get openmpi, Rmpi and SNOW running on a Myrinet/GM 
cluster.  I'm not an IT expert, but I surely could use a working 
installation of Rmpi and SNOW.

I try to load the Rmpi library and get the following:

 > library(Rmpi)
[master:07230] mca: base: component_find: unable to open osc pt2pt: file 
not found (ignored)
--------------------------------------------------------------------------
[0,0,0]: Myrinet/GM on host master was unable to find any NICs.
Another transport will be used instead, although this may result in
lower performance.

Then if I start a cluster, only nodes on Master can be seen and initiated

Here is environment, configuration and installation information:


# configuration of openmpi
./configure --prefix=/opt/openmpi --with-gm=/opt/gm/2.1.21/2.6.11-21smp 
--with-sge=/opt/sge --disable-mpi-f90

#installation of Rmpi
/usr/local/bin/R CMD INSTALL Rmpi_0.5-5.tar.gz \
--configure-args=--with-mpi=/opt/openmpi

R version 2.6.1 (2007-11-26)

#master environment
pearman at master:~> env
LESSKEY=/etc/lesskey.bin
NNTPSERVER=news
INFODIR=/usr/local/info:/usr/share/info:/usr/info
MANPATH=/opt/sge/man:/usr/local/man:/usr/local/share/man:/usr/share/man:/usr/X11R6/man:/opt/gnome/share/man:/opt/c3-4/man
HOSTNAME=master
GNOME2_PATH=/usr/local:/opt/gnome:/usr
XKEYSYMDB=/usr/X11R6/lib/X11/XKeysymDB
HOST=master
TERM=xterm
SHELL=/bin/bash
PROFILEREAD=true
HISTSIZE=1000
SSH_CLIENT=::ffff:10.15.1.179 51565 22
QTDIR=/usr/lib/qt3
OLDPWD=/opt/openmpi/bin
SSH_TTY=/dev/pts/6
GROFF_NO_SGR=yes
JRE_HOME=/usr/lib/jvm/java/jre
USER=pearman
LS_COLORS=no=00:fi=00:di=01;34:ln=00;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=4
0;31:ex=00;32:*.cmd=00;32:*.exe=01;32:*.com=01;32:*.bat=01;32:*.btm=01;32:*.dll=01;32:*.tar=00;
31:*.tbz=00;31:*.tgz=00;31:*.rpm=00;31:*.deb=00;31:*.arj=00;31:*.taz=00;31:*.lzh=00;31:*.zip=00
;31:*.zoo=00;31:*.z=00;31:*.Z=00;31:*.gz=00;31:*.bz2=00;31:*.tb2=00;31:*.tz2=00;31:*.tbz2=00;31
:*.avi=01;35:*.bmp=01;35:*.fli=01;35:*.gif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mng=01;35:*.mov=01;
35:*.mpg=01;35:*.pcx=01;35:*.pbm=01;35:*.pgm=01;35:*.png=01;35:*.ppm=01;35:*.tga=01;35:*.tif=01
;35:*.xbm=01;35:*.xpm=01;35:*.dl=01;35:*.gl=01;35:*.aiff=00;32:*.au=00;32:*.mid=00;32:*.mp3=00;
32:*.ogg=00;32:*.voc=00;32:*.wav=00;32:
LD_LIBRARY_PATH=/opt/openmpi/lib:/opt/sge/lib/lx24-amd64
XNLSPATH=/usr/X11R6/lib/X11/nls
HOSTTYPE=x86_64
PAGER=less
XDG_CONFIG_DIRS=/usr/local/etc/xdg/:/etc/xdg/:/etc/opt/gnome/xdg/
C3_PATH=/opt/c3-4
MINICOM=-c on
MAIL=/var/mail/pearman
PATH=/opt/openmpi/bin:/opt/sge/bin/lx24-amd64:/opt/mpich/1.2.6..14b/x86_64/gcc//bin:/opt/gm/2.1
.21/2.6.11-21smp/bin:/opt/c3-4:/home/pearman/bin:/usr/local/bin:/usr/bin:/usr/X11R6/bin:/bin:/u
sr/games:/opt/gnome/bin:/opt/kde3/bin:/opt/pathscale/bin
CPU=x86_64
JAVA_BINDIR=/usr/lib/jvm/java/bin
INPUTRC=/etc/inputrc
PWD=/home/pearman
JAVA_HOME=/usr/lib/jvm/java
LANG=en_US.UTF-8
PYTHONSTARTUP=/etc/pythonstart
SGE_ROOT=/opt/sge
SDK_HOME=/usr/lib/jvm/java
C3_RSH=ssh
TEXINPUTS=:/home/pearman/.TeX:/usr/share/doc/.TeX:/usr/doc/.TeX
JDK_HOME=/usr/lib/jvm/java
SHLVL=1
HOME=/home/pearman
LESS_ADVANCED_PREPROCESSOR=no
OSTYPE=linux
LS_OPTIONS=-N --color=tty -T 0
XCURSOR_THEME=crystalwhite
WINDOWMANAGER=/usr/X11R6/bin/kde
GTK_PATH=/usr/local/lib/gtk-2.0:/opt/gnome/lib/gtk-2.0:/usr/lib/gtk-2.0
GM_PATH=/opt/gm/2.1.21/2.6.11-21smp
G_FILENAME_ENCODING=@locale,UTF-8,ISO-8859-15,CP1252
LESS=-M -I
MACHTYPE=x86_64-suse-linux
LOGNAME=pearman
GTK_PATH64=/usr/local/lib64/gtk-2.0:/opt/gnome/lib64/gtk-2.0:/usr/lib64/gtk-2.0
CVS_RSH=ssh
XDG_DATA_DIRS=/usr/local/share/:/usr/share/:/etc/opt/kde3/share/:/opt/kde3/share/:/opt/gnome/sh
are/
MPICH_PATH=/opt/mpich/1.2.6..14b/x86_64/gcc/
ACLOCAL_FLAGS=-I /opt/gnome/share/aclocal
SSH_CONNECTION=::ffff:10.15.1.179 51565 ::ffff:10.30.1.15 22
PKG_CONFIG_PATH=/opt/gnome/lib64/pkgconfig
LESSOPEN=lessopen.sh %s
INFOPATH=/usr/local/info:/usr/share/info:/usr/info:/opt/gnome/share/info
LESSCLOSE=lessclose.sh %s %s
G_BROKEN_FILENAMES=1
JAVA_ROOT=/usr/lib/jvm/java
COLORTERM=1
_=/usr/bin/env


pearman at master:~> which mpirun
/opt/openmpi/bin/mpirun

Also note:  mpich is also installed and is also in the PATH, after openmpi

BTW.  I have seen a number of posts concerning the pt2pt error message. 
  Still, I was unable to understand how they might apply to fixing the 
current problem.

Help would be greatly appreciated.

Peter


From osklyar at maninvestments.com  Mon Apr  7 14:58:58 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Mon, 7 Apr 2008 13:58:58 +0100
Subject: [Rd] Overriding axis formatting with custom Axis method,
 Axis.numeric etc
In-Reply-To: <alpine.LFD.1.00.0804071228470.8824@auk.stats.ox.ac.uk>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294810@mildnpexmb01.maninvestments.ad.man.com>
	<alpine.LFD.1.00.0804071228470.8824@auk.stats.ox.ac.uk>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE4302294812@mildnpexmb01.maninvestments.ad.man.com>

Dear Prof Ripley,

thank you for your suggestions, they are as always very insightful!
Although, anybody can miss a point or two as I just did in namespaces.
Is the following correct?

Until redefined in the current namespace, plot.default (and all other
plot.* methods) being defined in 'graphics' calls Axis.default also
defined in 'graphics' and it is pointless to redefine Axis.default
without redefining plot.default in the same namespace? It worked for me
with Axis.numeric simply because the latter matches better than
Axis.default and it is not defined in 'graphics'.

So the question is: is there any obvious way around to redefine axis
formatting to be used with all plot.* methods in the current namespace
avoiding duplicating all the plot.* methods along with writing new
Axis.* methods?

Another understanding issue: it looks like I do really need to import
all plot methods, copy and paste the code for them and export them again
to make the whole idea work. I.e. it is not sufficient to simply
importFrom(graphics, plot.default); define Axis.default;
export(plot.default, Axis.default) in order to make it work. It is also
not sufficient to have something like plot.default =
graphics::plot.default in package code. In fact, to make it work I had
to copy and paste the full implementation of plot.default (although
without altering a single character). Am I missing something obvious? 

> Axis() is an S3 generic, not an S4 generic, so it does not 
> make sense to me to talk about 'signatures'.  It is in the 
> graphics namespace, so you cannot redefine it for use by plot.default.

Well, I would assume that default, POSIXct, POSIXlt and Date are kind of
S3 signatures for Axis (Axis.*) But thanks for hinting at "methods",
this was indeed what I needed.

Regards,
Oleg

> sessionInfo()
R version 2.6.2 (2008-02-08)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_MO
NETARY=en_GB.UTF-8;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=
C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATI
ON=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] rcompgen_0.1-17


**********************************************************************
The contents of this email are for the named addressee(s) only.
It contains information which may be confidential and privileged.
If you are not the intended recipient, please notify the sender
immediately, destroy this email and any attachments and do not
otherwise disclose or use them. Email transmission is not a
secure method of communication and Man Investments cannot accept
responsibility for the completeness or accuracy of this email or
any attachments. Whilst Man Investments makes every effort to keep
its network free from viruses, it does not accept responsibility
for any computer virus which might be transferred by way of this
email or any attachments. This email does not constitute a request,
offer, recommendation or solicitation of any kind to buy, subscribe,
sell or redeem any investment instruments or to perform other such
transactions of any kind. Man Investments reserves the right to
monitor, record and retain all electronic communications through
its network to ensure the integrity of its systems, for record
keeping and regulatory purposes. 

Visit us at: www.maninvestments.com


From ripley at stats.ox.ac.uk  Mon Apr  7 15:23:15 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Apr 2008 14:23:15 +0100 (BST)
Subject: [Rd] Overriding axis formatting with custom Axis method,
 Axis.numeric etc
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294812@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294810@mildnpexmb01.maninvestments.ad.man.com>
	<alpine.LFD.1.00.0804071228470.8824@auk.stats.ox.ac.uk>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294812@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <alpine.LFD.1.00.0804071403190.24118@gannet.stats.ox.ac.uk>

On Mon, 7 Apr 2008, Sklyar, Oleg (MI London) wrote:

> Dear Prof Ripley,
>
> thank you for your suggestions, they are as always very insightful!
> Although, anybody can miss a point or two as I just did in namespaces.
> Is the following correct?
>
> Until redefined in the current namespace, plot.default (and all other
> plot.* methods) being defined in 'graphics' calls Axis.default also
> defined in 'graphics' and it is pointless to redefine Axis.default
> without redefining plot.default in the same namespace? It worked for me
> with Axis.numeric simply because the latter matches better than
> Axis.default and it is not defined in 'graphics'.

Where S3 methods are looked for is quite subtle:

> rm(Axis.numeric)
> Axis.default <- AxisFUN
> plot.default <- plot.default
> environment(plot.default) <- .GlobalEnv
> plot(1:5, 1:5)

will use the local Axis.default.  So although Axis() is defined in the 
graphics namespace, which Axis.default is called depends on where it is 
called from.  From the help:

      'UseMethod' and 'NextMethod' search for methods in
      two places: first in the environment in which the generic function
      is called, and then in the registration data base for the
      environment in which the generic is defined (typically a name
      space).

I am really not sure what you are trying to achieve -- if it is to change 
what existing plot() methods in R do, that is quite deliberately hard.
The easiest way to do this is to change the R sources and re-install R.

> So the question is: is there any obvious way around to redefine axis
> formatting to be used with all plot.* methods in the current namespace
> avoiding duplicating all the plot.* methods along with writing new
> Axis.* methods?
>
> Another understanding issue: it looks like I do really need to import
> all plot methods, copy and paste the code for them and export them again
> to make the whole idea work. I.e. it is not sufficient to simply
> importFrom(graphics, plot.default); define Axis.default;
> export(plot.default, Axis.default) in order to make it work. It is also
> not sufficient to have something like plot.default =
> graphics::plot.default in package code. In fact, to make it work I had
> to copy and paste the full implementation of plot.default (although
> without altering a single character). Am I missing something obvious?

Perhaps that if you re-assign a function you do not copy it (copying is 
lazy) nor do you change its environment.  See my little example.

>> Axis() is an S3 generic, not an S4 generic, so it does not
>> make sense to me to talk about 'signatures'.  It is in the
>> graphics namespace, so you cannot redefine it for use by plot.default.
>
> Well, I would assume that default, POSIXct, POSIXlt and Date are kind of
> S3 signatures for Axis (Axis.*) But thanks for hinting at "methods",
> this was indeed what I needed.

'S3 signature' is not a term that I have ever seen used.

>
> Regards,
> Oleg
>
>> sessionInfo()
> R version 2.6.2 (2008-02-08)
> x86_64-unknown-linux-gnu
>
> locale:
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_MO
> NETARY=en_GB.UTF-8;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=
> C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATI
> ON=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] rcompgen_0.1-17

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From rpeng at jhsph.edu  Mon Apr  7 15:45:55 2008
From: rpeng at jhsph.edu (Roger D. Peng)
Date: Mon, 07 Apr 2008 09:45:55 -0400
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <alpine.LFD.1.00.0804051751030.8462@gannet.stats.ox.ac.uk>
References: <47F563C5.6090604@fhcrc.org>	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>	<6ph1w5ke4hf.fsf@lamprey.fhcrc.org>	<alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>	<18423.44293.301180.983774@cmath-5.math.ethz.ch>
	<alpine.LFD.1.00.0804051751030.8462@gannet.stats.ox.ac.uk>
Message-ID: <47FA2593.2010108@jhsph.edu>

For what it's worth, one area where I've noticed a big change is when I add to a 
plot in a for loop.  For example, many calls to 'lines' or 'points'.  Notice:

 > x <- runif(2000, -1, 1)
 > y <- runif(2000, -1, 1)
 > X11(type = "cairo")
 > plot(0,0)
 > system.time(for(i in 1:2000) points(x[i], y[i]))
    user  system elapsed
   1.296   3.528  21.963

 > X11(type = "Xlib")
 > plot(0,0)
 > system.time(for(i in 1:2000) points(x[i], y[i]))
    user  system elapsed
   0.444   0.032   0.509


This is not a particularly wonderful example and I think in most situations 
there are better ways to do something like this than putting 'points' in a loop. 
  But I wonder how many developers assume that this type of operation will run 
quickly?

-roger

Prof Brian Ripley wrote:
> Martin M x 2,
> 
> Yes, no news in either of your most recent messages.  That's a really ugly 
> plot, though, and I do want to protest about either of these being worth 
> doing fast.
> 
> On my home system
> 
>> F <- ecdf(rnorm(10000))
>> system.time(plot(F))
>     user  system elapsed
>    1.343   0.035   1.410
>> x11(type="Xlib")
>> system.time(plot(F))
>     user  system elapsed
>    0.022   0.002   0.083
> 
> and if something is worth plotting, it is surely worth waiting 1.4s for?
> (About 1/4 the time is spent on antialiasing.)
> 
> Martin Morgan's example is atypical (how often do people do scatterplots 
> of 10,000 points?  Or ecdfs, come to that?), but I see
>> X11(type="Xlib")
>> system.time(doplots(df)) # gcFirst=TRUE is the default
>     user  system elapsed
>    0.174   0.005   0.187
>> X11(type="cairo")
>> system.time(doplots(df))
>     user  system elapsed
>    2.315   0.035   2.388
>> X11(type="nbcairo")
>> system.time(doplots(df))
>     user  system elapsed
>    1.844   0.057   1.920
> 
> However, I think the plots produced are pretty uniformative whereas using 
> a smaller translucent filled disc as the symbol would give more 
> information (and "Xlib" cannot do that).
> 
> The BioC package flowViz has some quite extreme examples of arrays of 
> scatterplots of ca 25,000 points, and they are acceptably fast with 
> type="cairo" on my system (they certainly plot much faster than I would 
> need to appreciate what they are trying to say).
> 
> It is very easy to change the default default (X11.options(type="Xlib") in 
> .Rprofile), and so the only question was 'what is best for most users?'.
> As we think they will have local displays and be working with hundreds 
> rather than tens of thousands of points, the current default default seems 
> the best compromise.
> 
> Incidentally, windows() and quartz() are nowhere near as fast as Xlib on 
> the same or similar hardware.  On my laptop
> 
>> system.time(plot(F))
>     user  system elapsed
>     0.14    0.43    0.72
>> system.time(doplots(df))
>     user  system elapsed
>     0.38    0.58    1.25
> 
> and I don't usually feel that machine is slow (it was its 3rd birthday 
> last week).
> 
> I don't know how you live without graphics acceleration -- I've seen it on 
> my systems (1600x1200 and 1680x1050) when drivers have failed to update 
> and know I don't even want to text edit without it.
> 
> 
> On Sat, 5 Apr 2008, Martin Maechler wrote:
> 
>>>>>>> "BDR" == Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>>>     on Sat, 5 Apr 2008 16:27:52 +0100 (BST) writes:
>>    BDR> On Sat, 5 Apr 2008, Martin Morgan wrote:
>>    >> Yes, thank you, this fixes the problem for me.
>>    >>
>>    >> As a follow-up, and again with my ignorance of where
>>    >> processing is actually occuring, it seems like the X11
>>    >> window content is drawn directly rather than being drawn
>>    >> to a buffer and then blit on to the screen -- the
>>    >> original appearance of the plot is slow, compared to,
>>    >> e.g., hiding and then revealing the image once it has
>>    >> been plotted.
>>
>>    BDR> That is not so for the default type="cairo".  The
>>    BDR> problem is likely to be that the bitblt is across the
>>    BDR> network, whereas repaint is a bitblt from a local copy.
>>
>>    BDR> There are some comments on the X11() help page -- you
>>    BDR> may want to try type = "nbcairo".  Some changes are
>>    BDR> planned for R 2.8.0 which will improve performance, but
>>    BDR> for now things are tuned for the most common case of a
>>    BDR> local X11 display (although type = "nbcairo" works
>>    BDR> quite well over my home wireless network).
>>
>> Sorry to chime in;  I had wanted to bring this to Brian's
>> attention a few days ago, but always got side-tracked:
>>
>> Here are results on my  IBM/Lenowo X41 notebook
>> model name	: Intel(R) Pentium(R) M processor 1.50GHz
>> cpu MHz		: 600.000
>> bogomips	: 1198.37
>> MemTotal:      1546600 kB
>>
>> with *no* graphics acceleration:
>> Everything is local but not really fast hardware
>>
>>> F <- ecdf(rnorm(10000))
>>> system.time(plot(F))
>>    user  system elapsed
>>   3.204   0.024   3.402
>>> x11(type="Xlib")
>>> system.time(plot(F))
>>    user  system elapsed
>>   0.068   0.000   0.354
>> which is somewhat dramatic,
>> and for tk*() pseudo-animations, I have definitely needed to use
>> type = "Xlib"
>>
>> Martin
>>
>>
>>    >> R version 2.8.0 Under development (unstable) (2008-04-05
>>    >> r45102)
>>    >>
>>    >> Thank you again for tracking down the original issue.
>>    >>
>>    >> Martin
>>    >>
>>    >> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>>    >>
>>    >>> I think I have found this -- if so, it was an X11 timing
>>    >>> issue and we needed to re-read the X11 window size at a
>>    >>> later time.  Please try r45102 or later.
>>    >>>
>>    >>> On Fri, 4 Apr 2008, Prof Brian Ripley wrote:
>>    >>>
>>    >>>> On Thu, 3 Apr 2008, Martin Morgan wrote:
>>    >>>>
>>    >>>>> I apologize if this is too obscure to reproduce, or
>>    >>>>> some idiosyncratic aspects of my system. If I create a
>>    >>>>> plot, e.g.,
>>>>>>> plot(1:10) I get a graphics device as expected. I then
>>    >>>>> click on the 'zoom' box on my X11 window, so the
>>    >>>>> window expands to occupy the entire screen. The plot
>>    >>>>> is redrawn at the scale of the large window, but is
>>    >>>>> clipped to the 'unzoomed' size. I only see the top
>>    >>>>> left portion of the plot, occupying the space of the
>>    >>>>> original image.  Here are the R essentials; I'm using
>>    >>>>> X11 on a recent SuSE, connecting via a moderately
>>    >>>>> out-of-date cygwin from Windows. I'm happy to provide
>>    >>>>> more detail if pointed in the right direction (and
>>    >>>>> will trouble shoot myself if this is not a general
>>    >>>>> problem).
>>    >>>>
>>    >>>> We've seen it, but not all systems do it.  At present
>>    >>>> it looks like a cairo bug, but more work is needed on
>>    >>>> it.  If we haven't found a workaround by release time,
>>    >>>> it will be documented on the help page.
>>    >>>>
>>>>>>> sessionInfo()
>>    >>>>> R version 2.8.0 Under development (unstable)
>>    >>>>> (2008-04-03 r45066) x86_64-unknown-linux-gnu locale:
>>    >>>>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>>    >>>>> attached base packages: [1] stats graphics grDevices
>>    >>>>> utils datasets methods base
>>>>>>> capabilities() jpeg png tcltk X11 aqua http/ftp sockets
>>    >>>>> libxml TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE fifo
>>    >>>>> cledit iconv NLS profmem cairo TRUE TRUE TRUE TRUE
>>    >>>>> TRUE TRUE Martin
>>    >>>>> --
>>    >>>>> Martin Morgan Computational Biology / Fred Hutchinson
>>    >>>>> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>>    >>>>> 19024 Seattle, WA 98109 Location: Arnold Building M2
>>    >>>>> B169 Phone: (206) 667-2793
>>    >>>>> ______________________________________________
>>    >>>>> R-devel at r-project.org mailing list
>>    >>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>    >>>>>
>>    >>>>
>>>>> --
>>>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>>    >>>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>>    >>>> University of Oxford, Tel: +44 1865 272861 (self) 1
>>    >>>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>>    >>>> UK Fax: +44 1865 272595
>>    >>>>
>>    >>>
>>>> --
>>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>>    >>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>>    >>> University of Oxford, Tel: +44 1865 272861 (self) 1
>>    >>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>>    >>> UK Fax: +44 1865 272595
>>    >>
>>    >> --
>>    >> Martin Morgan Computational Biology / Fred Hutchinson
>>    >> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>>    >> 19024 Seattle, WA 98109
>>    >>
>>    >> Location: Arnold Building M2 B169 Phone: (206) 667-2793
>>    >>
>>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>    BDR> Professor of Applied Statistics,
>>    BDR> http://www.stats.ox.ac.uk/~ripley/ University of
>>    BDR> Oxford, Tel: +44 1865 272861 (self) 1 South Parks Road,
>>    BDR> +44 1865 272866 (PA) Oxford OX1 3TG, UK Fax: +44 1865
>>    BDR> 272595
>>
>>    BDR> ______________________________________________
>>    BDR> R-devel at r-project.org mailing list
>>    BDR> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 

-- 
Roger D. Peng  |  http://www.biostat.jhsph.edu/~rpeng/


From ripley at stats.ox.ac.uk  Mon Apr  7 15:57:54 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Apr 2008 14:57:54 +0100 (BST)
Subject: [Rd] X11 image problem in R-2.8.0 Under development / R-2.7
In-Reply-To: <47FA2593.2010108@jhsph.edu>
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>
	<6ph1w5ke4hf.fsf@lamprey.fhcrc.org>
	<alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>
	<18423.44293.301180.983774@cmath-5.math.ethz.ch>
	<alpine.LFD.1.00.0804051751030.8462@gannet.stats.ox.ac.uk>
	<47FA2593.2010108@jhsph.edu>
Message-ID: <alpine.LFD.1.00.0804071453230.25359@gannet.stats.ox.ac.uk>

On that example "nbcairo" runs almost as fast as "Xlib" on my machine (and 
faster than the example runs in Windows).

This is one of the sorts of example where the planned changes for 2.8.0 
will make "cairo" faster than "nbcairo".

On Mon, 7 Apr 2008, Roger D. Peng wrote:

> For what it's worth, one area where I've noticed a big change is when I add 
> to a plot in a for loop.  For example, many calls to 'lines' or 'points'. 
> Notice:
>
>> x <- runif(2000, -1, 1)
>> y <- runif(2000, -1, 1)
>> X11(type = "cairo")
>> plot(0,0)
>> system.time(for(i in 1:2000) points(x[i], y[i]))
>   user  system elapsed
>  1.296   3.528  21.963
>
>> X11(type = "Xlib")
>> plot(0,0)
>> system.time(for(i in 1:2000) points(x[i], y[i]))
>   user  system elapsed
>  0.444   0.032   0.509
>
>
> This is not a particularly wonderful example and I think in most situations 
> there are better ways to do something like this than putting 'points' in a 
> loop.  But I wonder how many developers assume that this type of operation 
> will run quickly?
>
> -roger
>
> Prof Brian Ripley wrote:
>> Martin M x 2,
>> 
>> Yes, no news in either of your most recent messages.  That's a really ugly 
>> plot, though, and I do want to protest about either of these being worth 
>> doing fast.
>> 
>> On my home system
>> 
>>> F <- ecdf(rnorm(10000))
>>> system.time(plot(F))
>>     user  system elapsed
>>    1.343   0.035   1.410
>>> x11(type="Xlib")
>>> system.time(plot(F))
>>     user  system elapsed
>>    0.022   0.002   0.083
>> 
>> and if something is worth plotting, it is surely worth waiting 1.4s for?
>> (About 1/4 the time is spent on antialiasing.)
>> 
>> Martin Morgan's example is atypical (how often do people do scatterplots of 
>> 10,000 points?  Or ecdfs, come to that?), but I see
>>> X11(type="Xlib")
>>> system.time(doplots(df)) # gcFirst=TRUE is the default
>>     user  system elapsed
>>    0.174   0.005   0.187
>>> X11(type="cairo")
>>> system.time(doplots(df))
>>     user  system elapsed
>>    2.315   0.035   2.388
>>> X11(type="nbcairo")
>>> system.time(doplots(df))
>>     user  system elapsed
>>    1.844   0.057   1.920
>> 
>> However, I think the plots produced are pretty uniformative whereas using a 
>> smaller translucent filled disc as the symbol would give more information 
>> (and "Xlib" cannot do that).
>> 
>> The BioC package flowViz has some quite extreme examples of arrays of 
>> scatterplots of ca 25,000 points, and they are acceptably fast with 
>> type="cairo" on my system (they certainly plot much faster than I would 
>> need to appreciate what they are trying to say).
>> 
>> It is very easy to change the default default (X11.options(type="Xlib") in 
>> .Rprofile), and so the only question was 'what is best for most users?'.
>> As we think they will have local displays and be working with hundreds 
>> rather than tens of thousands of points, the current default default seems 
>> the best compromise.
>> 
>> Incidentally, windows() and quartz() are nowhere near as fast as Xlib on 
>> the same or similar hardware.  On my laptop
>> 
>>> system.time(plot(F))
>>     user  system elapsed
>>     0.14    0.43    0.72
>>> system.time(doplots(df))
>>     user  system elapsed
>>     0.38    0.58    1.25
>> 
>> and I don't usually feel that machine is slow (it was its 3rd birthday last 
>> week).
>> 
>> I don't know how you live without graphics acceleration -- I've seen it on 
>> my systems (1600x1200 and 1680x1050) when drivers have failed to update and 
>> know I don't even want to text edit without it.
>> 
>> 
>> On Sat, 5 Apr 2008, Martin Maechler wrote:
>> 
>>>>>>>> "BDR" == Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>>>>     on Sat, 5 Apr 2008 16:27:52 +0100 (BST) writes:
>>>    BDR> On Sat, 5 Apr 2008, Martin Morgan wrote:
>>>    >> Yes, thank you, this fixes the problem for me.
>>>    >>
>>>    >> As a follow-up, and again with my ignorance of where
>>>    >> processing is actually occuring, it seems like the X11
>>>    >> window content is drawn directly rather than being drawn
>>>    >> to a buffer and then blit on to the screen -- the
>>>    >> original appearance of the plot is slow, compared to,
>>>    >> e.g., hiding and then revealing the image once it has
>>>    >> been plotted.
>>>
>>>    BDR> That is not so for the default type="cairo".  The
>>>    BDR> problem is likely to be that the bitblt is across the
>>>    BDR> network, whereas repaint is a bitblt from a local copy.
>>>
>>>    BDR> There are some comments on the X11() help page -- you
>>>    BDR> may want to try type = "nbcairo".  Some changes are
>>>    BDR> planned for R 2.8.0 which will improve performance, but
>>>    BDR> for now things are tuned for the most common case of a
>>>    BDR> local X11 display (although type = "nbcairo" works
>>>    BDR> quite well over my home wireless network).
>>> 
>>> Sorry to chime in;  I had wanted to bring this to Brian's
>>> attention a few days ago, but always got side-tracked:
>>> 
>>> Here are results on my  IBM/Lenowo X41 notebook
>>> model name	: Intel(R) Pentium(R) M processor 1.50GHz
>>> cpu MHz		: 600.000
>>> bogomips	: 1198.37
>>> MemTotal:      1546600 kB
>>> 
>>> with *no* graphics acceleration:
>>> Everything is local but not really fast hardware
>>> 
>>>> F <- ecdf(rnorm(10000))
>>>> system.time(plot(F))
>>>    user  system elapsed
>>>   3.204   0.024   3.402
>>>> x11(type="Xlib")
>>>> system.time(plot(F))
>>>    user  system elapsed
>>>   0.068   0.000   0.354
>>> which is somewhat dramatic,
>>> and for tk*() pseudo-animations, I have definitely needed to use
>>> type = "Xlib"
>>> 
>>> Martin
>>> 
>>>
>>>    >> R version 2.8.0 Under development (unstable) (2008-04-05
>>>    >> r45102)
>>>    >>
>>>    >> Thank you again for tracking down the original issue.
>>>    >>
>>>    >> Martin
>>>    >>
>>>    >> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>>>    >>
>>>    >>> I think I have found this -- if so, it was an X11 timing
>>>    >>> issue and we needed to re-read the X11 window size at a
>>>    >>> later time.  Please try r45102 or later.
>>>    >>>
>>>    >>> On Fri, 4 Apr 2008, Prof Brian Ripley wrote:
>>>    >>>
>>>    >>>> On Thu, 3 Apr 2008, Martin Morgan wrote:
>>>    >>>>
>>>    >>>>> I apologize if this is too obscure to reproduce, or
>>>    >>>>> some idiosyncratic aspects of my system. If I create a
>>>    >>>>> plot, e.g.,
>>>>>>>> plot(1:10) I get a graphics device as expected. I then
>>>    >>>>> click on the 'zoom' box on my X11 window, so the
>>>    >>>>> window expands to occupy the entire screen. The plot
>>>    >>>>> is redrawn at the scale of the large window, but is
>>>    >>>>> clipped to the 'unzoomed' size. I only see the top
>>>    >>>>> left portion of the plot, occupying the space of the
>>>    >>>>> original image.  Here are the R essentials; I'm using
>>>    >>>>> X11 on a recent SuSE, connecting via a moderately
>>>    >>>>> out-of-date cygwin from Windows. I'm happy to provide
>>>    >>>>> more detail if pointed in the right direction (and
>>>    >>>>> will trouble shoot myself if this is not a general
>>>    >>>>> problem).
>>>    >>>>
>>>    >>>> We've seen it, but not all systems do it.  At present
>>>    >>>> it looks like a cairo bug, but more work is needed on
>>>    >>>> it.  If we haven't found a workaround by release time,
>>>    >>>> it will be documented on the help page.
>>>    >>>>
>>>>>>>> sessionInfo()
>>>    >>>>> R version 2.8.0 Under development (unstable)
>>>    >>>>> (2008-04-03 r45066) x86_64-unknown-linux-gnu locale:
>>>    >>>>> 
>>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>>>    >>>>> attached base packages: [1] stats graphics grDevices
>>>    >>>>> utils datasets methods base
>>>>>>>> capabilities() jpeg png tcltk X11 aqua http/ftp sockets
>>>    >>>>> libxml TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE fifo
>>>    >>>>> cledit iconv NLS profmem cairo TRUE TRUE TRUE TRUE
>>>    >>>>> TRUE TRUE Martin
>>>    >>>>> --
>>>    >>>>> Martin Morgan Computational Biology / Fred Hutchinson
>>>    >>>>> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>>>    >>>>> 19024 Seattle, WA 98109 Location: Arnold Building M2
>>>    >>>>> B169 Phone: (206) 667-2793
>>>    >>>>> ______________________________________________
>>>    >>>>> R-devel at r-project.org mailing list
>>>    >>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>    >>>>>
>>>    >>>>
>>>>>> --
>>>>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>>>    >>>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>>>    >>>> University of Oxford, Tel: +44 1865 272861 (self) 1
>>>    >>>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>>>    >>>> UK Fax: +44 1865 272595
>>>    >>>>
>>>    >>>
>>>>> --
>>>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>>>    >>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>>>    >>> University of Oxford, Tel: +44 1865 272861 (self) 1
>>>    >>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>>>    >>> UK Fax: +44 1865 272595
>>>    >>
>>>    >> --
>>>    >> Martin Morgan Computational Biology / Fred Hutchinson
>>>    >> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>>>    >> 19024 Seattle, WA 98109
>>>    >>
>>>    >> Location: Arnold Building M2 B169 Phone: (206) 667-2793
>>>    >>
>>> 
>>> --
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>    BDR> Professor of Applied Statistics,
>>>    BDR> http://www.stats.ox.ac.uk/~ripley/ University of
>>>    BDR> Oxford, Tel: +44 1865 272861 (self) 1 South Parks Road,
>>>    BDR> +44 1865 272866 (PA) Oxford OX1 3TG, UK Fax: +44 1865
>>>    BDR> 272595
>>>
>>>    BDR> ______________________________________________
>>>    BDR> R-devel at r-project.org mailing list
>>>    BDR> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> 
>> 
>
> -- 
> Roger D. Peng  |  http://www.biostat.jhsph.edu/~rpeng/
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From tplate at acm.org  Mon Apr  7 20:43:38 2008
From: tplate at acm.org (Tony Plate)
Date: Mon, 07 Apr 2008 12:43:38 -0600
Subject: [Rd] R_SHARE_DIR not defined for use in tests/Makefile running
	under Windows
Message-ID: <47FA6B5A.5000501@acm.org>

The make variable $(R_SHARE_DIR) seems to be available for use in 
tests/Makefile when running under Linux, but not Windows (R-2.6.2, R-2.6.1, 
R-2.7.0 alpha 2008-04-06, under Windows XP 64 bit, built locally for 32 bit).

Is this intentional, or an oversight?  Is it OK to use $(R_HOME)/share 
instead (seems to work OK)?

I notice the following in /src/gnuwin32/front-ends/rcmdfn.c (from R-alpha 
2008-04-06), which would suggest that the intention was that R_SHARE_DIR 
should be defined... (and I assume it would propagate to to be available in 
a Makefile.)

int rcmdfn (int cmdarg, int argc, char **argv)
{
     /* tasks:
        find R_HOME, set as env variable
        set R_SHARE_DIR as env variable
        set PATH to include R_HOME\bin
        set PERL5LIB to %R_SHARE_DIR%/perl;%Perl5LIB%
        set TEXINPUTS to %R_SHARE_DIR%/texmf;%TEXINPUTS%
        set HOME if unset
        launch %R_HOME%\bin\$*
      */

-- Tony Plate


From byron.ellis at gmail.com  Mon Apr  7 20:42:10 2008
From: byron.ellis at gmail.com (Byron Ellis)
Date: Mon, 7 Apr 2008 11:42:10 -0700
Subject: [Rd] (no subject)
In-Reply-To: <47FA2593.2010108@jhsph.edu>
References: <47F563C5.6090604@fhcrc.org>
	<alpine.LFD.1.00.0804040621130.863@gannet.stats.ox.ac.uk>
	<alpine.LFD.1.00.0804051457340.8444@auk.stats.ox.ac.uk>
	<6ph1w5ke4hf.fsf@lamprey.fhcrc.org>
	<alpine.LFD.1.00.0804051616280.6247@gannet.stats.ox.ac.uk>
	<18423.44293.301180.983774@cmath-5.math.ethz.ch>
	<alpine.LFD.1.00.0804051751030.8462@gannet.stats.ox.ac.uk>
	<47FA2593.2010108@jhsph.edu>
Message-ID: <7098abec0804071142g78aea90ald002eb3b58551ccb@mail.gmail.com>

FWIW, on my apparently somewhat slower MacBook running R-2.7.0 on 10.5:

Quartz (Screen)
  user  system elapsed
  0.747   0.008   0.760
Quartz (PNG)
   user  system elapsed
  0.622   0.006   0.628
X11 (Xlib)
   user  system elapsed
  0.858   0.067   1.714  (Almost all communication overhead)

X11 Cairo segfaults on my system for some reason somewhere in GTK. So
the Quartz implementation isn't that far out of the running.


On Mon, Apr 7, 2008 at 6:45 AM, Roger D. Peng <rpeng at jhsph.edu> wrote:
> For what it's worth, one area where I've noticed a big change is when I add to a
>  plot in a for loop.  For example, many calls to 'lines' or 'points'.  Notice:
>
>   > x <- runif(2000, -1, 1)
>   > y <- runif(2000, -1, 1)
>   > X11(type = "cairo")
>   > plot(0,0)
>   > system.time(for(i in 1:2000) points(x[i], y[i]))
>     user  system elapsed
>    1.296   3.528  21.963
>
>   > X11(type = "Xlib")
>   > plot(0,0)
>   > system.time(for(i in 1:2000) points(x[i], y[i]))
>     user  system elapsed
>    0.444   0.032   0.509
>
>
>  This is not a particularly wonderful example and I think in most situations
>  there are better ways to do something like this than putting 'points' in a loop.
>   But I wonder how many developers assume that this type of operation will run
>  quickly?
>
>  -roger
>
>  Prof Brian Ripley wrote:
>  > Martin M x 2,
>  >
>  > Yes, no news in either of your most recent messages.  That's a really ugly
>  > plot, though, and I do want to protest about either of these being worth
>  > doing fast.
>  >
>  > On my home system
>  >
>  >> F <- ecdf(rnorm(10000))
>  >> system.time(plot(F))
>  >     user  system elapsed
>  >    1.343   0.035   1.410
>  >> x11(type="Xlib")
>  >> system.time(plot(F))
>  >     user  system elapsed
>  >    0.022   0.002   0.083
>  >
>  > and if something is worth plotting, it is surely worth waiting 1.4s for?
>  > (About 1/4 the time is spent on antialiasing.)
>  >
>  > Martin Morgan's example is atypical (how often do people do scatterplots
>  > of 10,000 points?  Or ecdfs, come to that?), but I see
>  >> X11(type="Xlib")
>  >> system.time(doplots(df)) # gcFirst=TRUE is the default
>  >     user  system elapsed
>  >    0.174   0.005   0.187
>  >> X11(type="cairo")
>  >> system.time(doplots(df))
>  >     user  system elapsed
>  >    2.315   0.035   2.388
>  >> X11(type="nbcairo")
>  >> system.time(doplots(df))
>  >     user  system elapsed
>  >    1.844   0.057   1.920
>  >
>  > However, I think the plots produced are pretty uniformative whereas using
>  > a smaller translucent filled disc as the symbol would give more
>  > information (and "Xlib" cannot do that).
>  >
>  > The BioC package flowViz has some quite extreme examples of arrays of
>  > scatterplots of ca 25,000 points, and they are acceptably fast with
>  > type="cairo" on my system (they certainly plot much faster than I would
>  > need to appreciate what they are trying to say).
>  >
>  > It is very easy to change the default default (X11.options(type="Xlib") in
>  > .Rprofile), and so the only question was 'what is best for most users?'.
>  > As we think they will have local displays and be working with hundreds
>  > rather than tens of thousands of points, the current default default seems
>  > the best compromise.
>  >
>  > IncidentaSubject: Re: [Rd]lly, windows() and quartz() are nowhere near as fast as Xlib on
>  > the same or similar hardware.  On my laptop
>  >
>  >> system.time(plot(F))
>  >     user  system elapsed
>  >     0.14    0.43    0.72
>  >> system.time(doplots(df))
>  >     user  system elapsed
>  >     0.38    0.58    1.25
>  >
>  > and I don't usually feel that machine is slow (it was its 3rd birthday
>  > last week).
>  >
>  > I don't know how you live without graphics acceleration -- I've seen it on
>  > my systems (1600x1200 and 1680x1050) when drivers have failed to update
>  > and know I don't even want to text edit without it.
>  >
>  >
>  > On Sat, 5 Apr 2008, Martin Maechler wrote:
>  >
>  >>>>>>> "BDR" == Prof Brian Ripley <ripley at stats.ox.ac.uk>
>  >>>>>>>     on Sat, 5 Apr 2008 16:27:52 +0100 (BST) writes:
>  >>    BDR> On Sat, 5 Apr 2008, Martin Morgan wrote:
>  >>    >> Yes, thank you, this fixes the problem for me.
>  >>    >>
>  >>    >> As a follow-up, and again with my ignorance of where
>  >>    >> processing is actually occuring, it seems like the X11
>  >>    >> window content is drawn directly rather than being drawn
>  >>    >> to a buffer and then blit on to the screen -- the
>  >>    >> original appearance of the plot is slow, compared to,
>  >>    >> e.g., hiding and then revealing the image once it has
>  >>    >> been plotted.
>  >>
>  >>    BDR> That is not so for the default type="cairo".  The
>  >>    BDR> problem is likely to be that the bitblt is across the
>  >>    BDR> network, whereas repaint is a bitblt from a local copy.
>  >>
>  >>    BDR> There are some comments on the X11() help page -- you
>  >>    BDR> may want to try type = "nbcairo".  Some changes are
>  >>    BDR> planned for R 2.8.0 which will improve performance, but
>  >>    BDR> for now things are tuned for the most common case of a
>  >>    BDR> local X11 display (although type = "nbcairo" works
>  >>    BDR> quite well over my home wireless network).
>  >>
>  >> Sorry to chime in;  I had wanted to bring this to Brian's
>  >> attention a few days ago, but always got side-tracked:
>  >>
>  >> Here are results on my  IBM/Lenowo X41 notebook
>  >> model name   : Intel(R) Pentium(R) M processor 1.50GHz
>  >> cpu MHz              : 600.000
>  >> bogomips     : 1198.37
>  >> MemTotal:      1546600 kB
>  >>
>  >> with *no* graphics acceleration:
>  >> Everything is local but not really fast hardware
>  >>
>  >>> F <- ecdf(rnorm(10000))
>  >>> system.time(plot(F))
>  >>    user  system elapsed
>  >>   3.204   0.024   3.402
>  >>> x11(type="Xlib")
>  >>> system.time(plot(F))
>  >>    user  system elapsed
>  >>   0.068   0.000   0.354
>  >> which is somewhat dramatic,
>  >> and for tk*() pseudo-animations, I have definitely needed to use
>  >> type = "Xlib"
>  >>
>  >> Martin
>  >>
>  >>
>  >>    >> R version 2.8.0 Under development (unstable) (2008-04-05
>  >>    >> r45102)
>  >>    >>
>  >>    >> Thank you again for tracking down the original issue.
>  >>    >>
>  >>    >> Martin
>  >>    >>
>  >>    >> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>  >>    >>
>  >>    >>> I think I have found this -- if so, it was an X11 timing
>  >>    >>> issue and we needed to re-read the X11 window size at a
>  >>    >>> later time.  Please try r45102 or later.
>  >>    >>>
>  >>    >>> On Fri, 4 Apr 2008, Prof Brian Ripley wrote:
>  >>    >>>
>  >>    >>>> On Thu, 3 Apr 2008, Martin Morgan wrote:
>  >>    >>>>
>  >>    >>>>> I apologize if this is too obscure to reproduce, or
>  >>    >>>>> some idiosyncratic aspects of my system. If I create a
>  >>    >>>>> plot, e.g.,
>  >>>>>>> plot(1:10) I get a graphics device as expected. I then
>  >>    >>>>> click on the 'zoom' box on my X11 window, so the
>  >>    >>>>> window expands to occupy the entire screen. The plot
>  >>    >>>>> is redrawn at the scale of the large window, but is
>  >>    >>>>> clipped to the 'unzoomed' size. I only see the top
>  >>    >>>>> left portion of the plot, occupying the space of the
>  >>    >>>>> original image.  Here are the R essentials; I'm using
>  >>    >>>>> X11 on a recent SuSE, connecting via a moderately
>  >>    >>>>> out-of-date cygwin from Windows. I'm happy to provide
>  >>    >>>>> more detail if pointed in the right direction (and
>  >>    >>>>> will trouble shoot myself if this is not a general
>  >>    >>>>> problem).
>  >>    >>>>
>  >>    >>>> We've seen it, but not all systems do it.  At present
>  >>    >>>> it looks like a cairo bug, but more work is needed on
>  >>    >>>> it.  If we haven't found a workaround by release time,
>  >>    >>>> it will be documented on the help page.
>  >>    >>>>
>  >>>>>>> sessionInfo()
>  >>    >>>>> R version 2.8.0 Under development (unstable)
>  >>    >>>>> (2008-04-03 r45066) x86_64-unknown-linux-gnu locale:
>  >>    >>>>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>  >>    >>>>> attached base packages: [1] stats graphics grDevices
>  >>    >>>>> utils datasets methods base
>  >>>>>>> capabilities() jpeg png tcltk X11 aqua http/ftp sockets
>  >>    >>>>> libxml TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE fifo
>  >>    >>>>> cledit iconv NLS profmem cairo TRUE TRUE TRUE TRUE
>  >>    >>>>> TRUE TRUE Martin
>  >>    >>>>> --
>  >>    >>>>> Martin Morgan Computational Biology / Fred Hutchinson
>  >>    >>>>> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>  >>    >>>>> 19024 Seattle, WA 98109 Location: Arnold Building M2
>  >>    >>>>> B169 Phone: (206) 667-2793
>  >>    >>>>> ______________________________________________
>  >>    >>>>> R-devel at r-project.org mailing list
>  >>    >>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>  >>    >>>>>
>  >>    >>>>
>  >>>>> --
>  >>>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>  >>    >>>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>  >>    >>>> University of Oxford, Tel: +44 1865 272861 (self) 1
>  >>    >>>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>  >>    >>>> UK Fax: +44 1865 272595
>  >>    >>>>
>  >>    >>>
>  >>>> --
>  >>>> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of Applied
>  >>    >>> Statistics, http://www.stats.ox.ac.uk/~ripley/
>  >>    >>> University of Oxford, Tel: +44 1865 272861 (self) 1
>  >>    >>> South Parks Road, +44 1865 272866 (PA) Oxford OX1 3TG,
>  >>    >>> UK Fax: +44 1865 272595
>  >>    >>
>  >>    >> --
>  >>    >> Martin Morgan Computational Biology / Fred Hutchinson
>  >>    >> Cancer Research Center 1100 Fairview Ave. N.  PO Box
>  >>    >> 19024 Seattle, WA 98109
>  >>    >>
>  >>    >> Location: Arnold Building M2 B169 Phone: (206) 667-2793
>  >>    >>
>  >>
>  >> --
>  >> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>  >>    BDR> Professor of Applied Statistics,
>  >>    BDR> http://www.stats.ox.ac.uk/~ripley/ University of
>  >>    BDR> Oxford, Tel: +44 1865 272861 (self) 1 South Parks Road,
>  >>    BDR> +44 1865 272866 (PA) Oxford OX1 3TG, UK Fax: +44 1865
>  >>    BDR> 272595
>  >>
>  >>    BDR> ______________________________________________
>  >>    BDR> R-devel at r-project.org mailing list
>  >>    BDR> https://stat.ethz.ch/mailman/listinfo/r-devel
>  >>
>  >
>
>  --
>  Roger D. Peng  |  http://www.biostat.jhsph.edu/~rpeng/
>
>  ______________________________________________
>  R-devel at r-project.org mailing list
>  https://stat.ethz.ch/mailman/listinfo/r-devel
>



-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From Thomas.Petzoldt at TU-Dresden.de  Mon Apr  7 21:55:17 2008
From: Thomas.Petzoldt at TU-Dresden.de (Thomas Petzoldt)
Date: Mon, 07 Apr 2008 21:55:17 +0200
Subject: [Rd] optim: why is REPORT not used in SANN?
In-Reply-To: <47F8AE1B.7060004@TU-Dresden.de>
References: <47DD17AF.5030606@TU-Dresden.de>	<18423.35237.59390.18811@cmath-5.math.ethz.ch>
	<47F8AE1B.7060004@TU-Dresden.de>
Message-ID: <47FA7C25.4090707@TU-Dresden.de>

Thomas Petzoldt schrieb:
> Martin Maechler wrote:
>>>>>>> "TP" == Thomas Petzoldt <Thomas.Petzoldt at tu-dresden.de>
>>>>>>>     on Sun, 16 Mar 2008 13:50:55 +0100 writes:
>>     TP> Hello, I wonder why the control parameter REPORT is not
>>     TP> supported by method SANN. Looking into optim.c I found
>>     TP> an internal constant:
>>
>>     TP> #define STEPS 100
>>
>>     TP> ... and decreasing this to 10 helped me fine-tuning the
>>     TP> annealing parameters in an actual problem.
>>
>>     TP> Is there any reason why not passing nREPORT to samin and
>>     TP> setting something like:
>>
>>     TP> STEPS = nREPORT / tmax
>>
>> Sorry to reply late (but then, rather than never ..).
>>
>> You ask for reasons... I see/guess :
>>
>> - the  SANN  method also was contributed from "outside" 
>>   (as ?optim mentions); and the original authors may not have
>>   seen a use for such more flexible monitoring.
>>
>> - the R core members are probably not using 'samin' very often
>>
>> - If there is a need you can write the function you are
>>   optimizing in a way that it prints info.
>>
>> - Nobody has contributed a well-tested patch against R-devel to
>>   both code and documentation
>>   which would implement your proposal ___ BACK COMPATIBLY __
>>   (i.e. the default for SANN should remain to print every 100th;
>>    and this differs from the default for BFGS where the default
>>   'REPORT' leads to output every 10th eval).
>>
>> Regards,
>> Martin
> 
> Well, I see. The reasons are obviously more or less historical and not 
> fundamental. I can, of course, contribute an idea for a modifications of 
> samin and do_optim in optim.c. However, to convert my personal hack into 
> a "well-tested patch" a few additional considerations have to be 
> undertaken, especially about back-compatibility:
> 
> 1) the patch requires to pass the additional argument nREPORT to 
> function "samin".
> 
> - Is this still back-compatible? Is it likely that other functions (e.g. 
> in packages call samin directly?
> 
> - if yes (i.e. direct call is likely), what is the preferred way to 
> ensure compatibility? Rename samin to samin2 and add a new 
> "compatibility function" function samin that calls samin2?
> 
> - the reporting interval of samin is STEPS * tmax where
>    - tmax is as documented "number of function evaluations at each 
> temperature" (10) and
>    - STEPS is a hard-coded constant: #define STEPS 10
>    - this means that reporting is every 10 per temperature.
> 
> 2) if one starts patching SANN, then one migth also think about
> "Nelder-Mead" and "CG" with totally different reporting, but smaller 
> (!) reporting schedule.
> 
> In contrast to this, SANN that is used for difficult systems *and* that 
> (see optim.Rd) "depends critically on the settings of the control 
> parameters" has a rather long reporting interval.
> 
> Thomas P.
> 

o.k. here is it. The patch works by re-using trace for SANN -- as 
suggested by Martin Maechler off-list after my first suggestion. The new 
patch avoids an extended parameter list of samin and therefore the 
necessity to modify the API.

The patched files and a few test examples are also on

http://hhbio.wasser.tu-dresden.de/projects/temp/optim/

Thank you for consideration

Thomas P.



-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: optim.diff
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080407/fe303e92/attachment.pl 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: optim.Rd.diff
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080407/fe303e92/attachment-0001.pl 

From volkmar.klatt at bnv-bamberg.de  Mon Apr  7 23:10:04 2008
From: volkmar.klatt at bnv-bamberg.de (volkmar.klatt at bnv-bamberg.de)
Date: Mon,  7 Apr 2008 23:10:04 +0200 (CEST)
Subject: [Rd] "\0" gives no warning "unknown escape sequence" (PR#11107)
Message-ID: <20080407211005.00AA8282EFF7@mail.pubhealth.ku.dk>

Full_Name: Volkmar Klatt
Version: 2.6.2
OS: linux
Submission from: (NULL) (84.147.0.178)


Hello,

the documentation article
?Quotes 
from package:base could be improved by discussing
the meaning of "\0" escape sequence.
In R (currently used: R-2.6.2), a "\0" in a string will
silently terminate that string, just as it would in C code.
There is no warning about an unknown escape sequence.
(cf. R FAQ 7.37)

# example:
s <- "abc\0def"
s
# --> [1] "abc"
nchar(s) 
# --> [1] 3

The "\0" seems to be so fundamental, that it cannot be handled by
any R function, am I right?
E.g., the function escapeBS (package:Hmisc) does not correctly
handle "\0" sequences, that is in contrast to what is stated in its 
article ?escapeBS :
"'escapeBS' will escape any backslash '\backslash' in a string.

# example:
library(Hmisc)
escapeBS("abc\0def")
# -->[1] "abc"

Bye,
Volkmar Klatt
volkmar.klatt AT bnv-bamberg.de


From f.middleton at apogeect.com  Mon Apr  7 02:15:37 2008
From: f.middleton at apogeect.com (f.middleton at apogeect.com)
Date: Mon,  7 Apr 2008 02:15:37 +0200 (CEST)
Subject: [Rd] R-2.6.2 Solaris 11  build, install,
	and check failures (PR#11093)
Message-ID: <20080407001537.36D35282EFF6@mail.pubhealth.ku.dk>

This is a multi-part message in MIME format.
--------------040104030506030406090004
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Actually, things weren't great using Solaris 9, but building and installing
under Solaris 11 required some workarounds - the installation process
seems to fail completely under Solaris 11. A plain "./configure" fails
in pretty much the same way.

Note: "make" is aliased to "gmake -j 4" to use all 4 cpus in this hardware.
bash-3.2# uname -a
  SunOS apogee5 5.11 snv_85 sun4u sparc SUNW,Ultra-80

bash-3.2> ./configure --disable-fast-install --enable-threads=solaris --disable-rpath
......
bash-3.2> make
......
begin installing recommended package foreign
* Installing *source* package 'foreign' ...
checking for gcc... gmake[3]: Entering directory `/tmp/R.INSTALL.BfaONZ/foreign'
gcc -std=gnu99
gmake[3]: Leaving directory `/tmp/R.INSTALL.BfaONZ/foreign'
checking for C compiler default output file name... configure: error: C compiler cannot create executables
See `config.log' for more details.
ERROR: configuration failed for package 'foreign'
** Removing '/usr/local/src/R-2.6.2/library/foreign'
gmake[2]: *** [foreign.ts] Error 1
gmake[2]: *** Waiting for unfinished jobs....
.....
** building package indices ...
* DONE (spatial)
gmake[2]: Leaving directory `/usr/local/src/R-2.6.2/src/library/Recommended'
gmake[1]: *** [recommended-packages] Error 2
gmake[1]: Leaving directory `/usr/local/src/R-2.6.2/src/library/Recommended'
gmake: *** [stamp-recommended] Error 2
.....

bash-3.2> make clean
.....
./configure --disable-fast-install --enable-threads=solaris --disable-rpath --without-recommended-packages
.....
configure: WARNING: you cannot build DVI versions of the R manuals,
configure: WARNING: you cannot build PDF versions of the R manuals
.....
bash-3.2> make
...... [no errors] .....
bash-3.2# make install
......
mkdir /usr/local/lib/R
gmake[1]: Entering directory `/usr/local/src/R-2.6.2/m4'
gmake[1]: Nothing to be done for `install'.
gmake[1]: Leaving directory `/usr/local/src/R-2.6.2/m4'
gmake[1]: Entering directory `/usr/local/src/R-2.6.2/tools'
gmake[1]: Nothing to be done for `install'.
gmake[1]: Leaving directory `/usr/local/src/R-2.6.2/tools'
gmake[1]: Entering directory `/usr/local/src/R-2.6.2/doc'
installing doc ...
/bin/ginstall: cannot change permissions of `/usr/local/lib/R/doc': No such file or directory
mkdir /usr/local/lib/R/doc
mkdir: Failed to make directory "/usr/local/lib/R/doc"; File exists
gmake[1]: *** [installdirs] Error 2
gmake[1]: *** Waiting for unfinished jobs....
/bin/ginstall -c -m 644 ../NEWS "/usr/local/lib/R/doc"
gmake[1]: Leaving directory `/usr/local/src/R-2.6.2/doc'
gmake: *** [install] Error 1
....
bash-3.2> ls -lrt /usr/local/bin/R
/usr/local/bin/R: No such file or directory
bash-3.2# cd /usr/local/bin
bash-3.2# ln -s ../src/R-2.6.2/bin/R

Works! See http://www.apogeect.com/html/pca/

One little glitch, if you try to postcript() or "png()" with
an output filename containing a "%", it segfaults. 

bash-3.2# make check
.....
comparing 'reg-S4.Rout' to './reg-S4.Rout.save' ... OK
 OK
comparing 'reg-tests-2.Rout' to './reg-tests-2.Rout.save' ... OK
gmake[3]: *** [reg-tests-1.Rout] Error 1
gmake[3]: Leaving directory `/usr/local/src/R-2.6.2/tests'
gmake[2]: *** [test-Reg] Error 2
gmake[2]: Leaving directory `/usr/local/src/R-2.6.2/tests'
gmake[1]: *** [test-all-basics] Error 1
gmake[1]: Leaving directory `/usr/local/src/R-2.6.2/tests'
gmake: *** [check] Error 2

It would be nice to save some of the 160M bytes that the R distribution
takes. Would a functioning install eliminate the need to keep the
entire source?

Thanks for a cool language! Let me know if I can help with debugging
or testing...

Regards -- Frank Middleton


--------------040104030506030406090004
Content-Type: text/x-log;
 name="config.log"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="config.log"

This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by R configure 2.6.2, which was
generated by GNU Autoconf 2.60.  Invocation command line was

  $ ./configure --disable-fast-install --enable-threads=solaris --disable-rpath --without-recommended-packages

## --------- ##
## Platform. ##
## --------- ##

hostname = apogee5
uname -m = sun4u
uname -r = 5.11
uname -s = SunOS
uname -v = snv_85

/usr/bin/uname -p = sparc
/bin/uname -X     = System = SunOS
Node = apogee5
Release = 5.11
KernelID = snv_85
Machine = sun4u
BusType = <unknown>
Serial = <unknown>
Users = <unknown>
OEM# = 0
Origin# = 1
NumCPU = 4

/bin/arch              = sun4
/usr/bin/arch -k       = sun4u
/usr/convex/getsysinfo = unknown
/usr/bin/hostinfo      = unknown
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH: /bin
PATH: /usr/bin
PATH: /usr/local/bin
PATH: /opt/csw/bin
PATH: /usr/sfw/bin
PATH: /usr/ccs/bin
PATH: .
PATH: /home/frank/scripts
PATH: /usr/openwin/bin
PATH: /usr/X11/bin
PATH: /usr/ucb
PATH: /usr/acad/acad
PATH: /usr/acad/ade


## ----------- ##
## Core tests. ##
## ----------- ##

configure:2351: checking build system type
configure:2369: result: sparc-sun-solaris2.11
configure:2391: checking host system type
configure:2406: result: sparc-sun-solaris2.11
configure:3000: checking for pwd
configure:3018: found /bin/pwd
configure:3031: result: /bin/pwd
configure:3039: checking whether builddir is srcdir
configure:3047: result: yes
configure:3052: checking for working aclocal
configure:3060: result: missing
configure:3065: checking for working autoconf
configure:3069: result: found
configure:3078: checking for working automake
configure:3086: result: missing
configure:3091: checking for working autoheader
configure:3095: result: found
configure:3108: checking for gawk
configure:3138: result: no
configure:3108: checking for mawk
configure:3138: result: no
configure:3108: checking for nawk
configure:3124: found /bin/nawk
configure:3135: result: nawk
configure:3146: checking for grep that handles long lines and -e
configure:3220: result: /bin/ggrep
configure:3225: checking for egrep
configure:3303: result: /bin/ggrep -E
configure:3308: checking whether ln -s works
configure:3312: result: yes
configure:3362: checking for ranlib
configure:3378: found /bin/ranlib
configure:3389: result: ranlib
configure:3419: checking for bison
configure:3435: found /bin/bison
configure:3446: result: bison -y
configure:3462: checking for ar
configure:3478: found /bin/ar
configure:3489: result: ar
configure:3516: checking for a BSD-compatible install
configure:3572: result: /bin/ginstall -c
configure:3607: checking for sed
configure:3626: found /usr/xpg4/bin/sed
configure:3638: result: /usr/xpg4/bin/sed
configure:3658: checking for less
configure:3676: found /bin/less
configure:3688: result: /bin/less
configure:3711: checking for perl
configure:3729: found /bin/perl
configure:3741: result: /bin/perl
configure:3753: checking whether perl version is at least 5.8.0
configure:3764: result: yes
configure:3838: checking for dvips
configure:3871: result: no
configure:3884: checking for tex
configure:3917: result: no
configure:3930: checking for latex
configure:3963: result: no
configure:3978: WARNING: you cannot build DVI versions of the R manuals
configure:3985: checking for makeindex
configure:4018: result: no
configure:4031: checking for pdftex
configure:4064: result: no
configure:4077: checking for pdflatex
configure:4110: result: no
configure:4125: WARNING: you cannot build PDF versions of the R manuals
configure:4132: checking for makeinfo
configure:4150: found /bin/makeinfo
configure:4162: result: /bin/makeinfo
configure:4174: checking whether makeinfo version is at least 4.7
configure:4194: result: yes
configure:4211: checking for texi2dvi
configure:4229: found /bin/texi2dvi
configure:4241: result: /bin/texi2dvi
configure:4315: checking for unzip
configure:4333: found /bin/unzip
configure:4345: result: /bin/unzip
configure:4361: checking for zip
configure:4379: found /bin/zip
configure:4391: result: /bin/zip
configure:4407: checking for gzip
configure:4425: found /bin/gzip
configure:4437: result: /bin/gzip
configure:4455: checking for firefox
configure:4473: found /bin/firefox
configure:4485: result: /bin/firefox
configure:4502: result: using default browser ... /bin/firefox
configure:4512: checking for acroread
configure:4530: found /bin/acroread
configure:4542: result: /bin/acroread
configure:4609: checking for gcc
configure:4625: found /usr/sfw/bin/gcc
configure:4636: result: gcc
configure:4874: checking for C compiler version
configure:4881: gcc --version >&5
gcc (GCC) 3.4.3 (csl-sol210-3_4-20050802)
Copyright (C) 2004 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:4884: $? = 0
configure:4891: gcc -v >&5
Reading specs from /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/specs
Configured with: /gates/sfwnv/builds/sfwnv-gate/usr/src/cmd/gcc/gcc-3.4.3/configure --prefix=/usr/sfw --with-as=/usr/ccs/bin/as --without-gnu-as --with-ld=/usr/ccs/bin/ld --without-gnu-ld --enable-languages=c,c++,f77,objc --enable-shared
Thread model: posix
gcc version 3.4.3 (csl-sol210-3_4-20050802)
configure:4894: $? = 0
configure:4901: gcc -V >&5
gcc: `-V' option must have argument
configure:4904: $? = 1
configure:4927: checking for C compiler default output file name
configure:4954: gcc  -I/usr/local/include -L/usr/local/lib conftest.c  >&5
configure:4957: $? = 0
configure:5003: result: a.out
configure:5008: checking whether the C compiler works
configure:5018: ./a.out
configure:5021: $? = 0
configure:5038: result: yes
configure:5045: checking whether we are cross compiling
configure:5047: result: no
configure:5050: checking for suffix of executables
configure:5057: gcc -o conftest  -I/usr/local/include -L/usr/local/lib conftest.c  >&5
configure:5060: $? = 0
configure:5084: result: 
configure:5090: checking for suffix of object files
configure:5116: gcc -c  -I/usr/local/include conftest.c >&5
configure:5119: $? = 0
configure:5142: result: o
configure:5146: checking whether we are using the GNU C compiler
configure:5175: gcc -c  -I/usr/local/include conftest.c >&5
configure:5181: $? = 0
configure:5188: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:5191: $? = 0
configure:5198: test -s conftest.o
configure:5201: $? = 0
configure:5215: result: yes
configure:5220: checking whether gcc accepts -g
configure:5250: gcc -c -g -I/usr/local/include conftest.c >&5
configure:5256: $? = 0
configure:5263: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:5266: $? = 0
configure:5273: test -s conftest.o
configure:5276: $? = 0
configure:5406: result: yes
configure:5423: checking for gcc option to accept ISO C89
configure:5497: gcc  -c -g -O2 -I/usr/local/include conftest.c >&5
configure:5503: $? = 0
configure:5510: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:5513: $? = 0
configure:5520: test -s conftest.o
configure:5523: $? = 0
configure:5543: result: none needed
configure:5568: checking how to run the C preprocessor
configure:5608: gcc -E -I/usr/local/include conftest.c
configure:5614: $? = 0
configure:5652: gcc -E -I/usr/local/include conftest.c
conftest.c:16:28: ac_nonexistent.h: No such file or directory
configure:5658: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:5698: result: gcc -E
configure:5727: gcc -E -I/usr/local/include conftest.c
configure:5733: $? = 0
configure:5771: gcc -E -I/usr/local/include conftest.c
conftest.c:16:28: ac_nonexistent.h: No such file or directory
configure:5777: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:5823: checking whether gcc needs -traditional
configure:5865: result: no
configure:5877: checking how to run the C preprocessor
configure:6007: result: gcc -E
configure:6036: gcc -E -I/usr/local/include conftest.c
configure:6042: $? = 0
configure:6080: gcc -E -I/usr/local/include conftest.c
conftest.c:16:28: ac_nonexistent.h: No such file or directory
configure:6086: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:6200: checking for g77
configure:6216: found /usr/sfw/bin/g77
configure:6227: result: g77
configure:6352: checking for Fortran 77 compiler version
configure:6359: g77 --version >&5
GNU Fortran (GCC) 3.4.3 (csl-sol210-3_4-20050802)
Copyright (C) 2004 Free Software Foundation, Inc.

GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
You may redistribute copies of GNU Fortran
under the terms of the GNU General Public License.
For more information about these matters, see the file named COPYING
or type the command `info -f g77 Copying'.
configure:6362: $? = 0
configure:6369: g77 -v >&5
Reading specs from /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/specs
Configured with: /gates/sfwnv/builds/sfwnv-gate/usr/src/cmd/gcc/gcc-3.4.3/configure --prefix=/usr/sfw --with-as=/usr/ccs/bin/as --without-gnu-as --with-ld=/usr/ccs/bin/ld --without-gnu-ld --enable-languages=c,c++,f77,objc --enable-shared
Thread model: posix
gcc version 3.4.3 (csl-sol210-3_4-20050802)
configure:6372: $? = 0
configure:6379: g77 -V >&5
g77: `-V' option must have argument
configure:6382: $? = 1
configure:6390: checking whether we are using the GNU Fortran 77 compiler
configure:6409: g77 -c  conftest.F >&5
configure:6415: $? = 0
configure:6422: test -z "$ac_f77_werror_flag" || test ! -s conftest.err
configure:6425: $? = 0
configure:6432: test -s conftest.o
configure:6435: $? = 0
configure:6449: result: yes
configure:6455: checking whether g77 accepts -g
configure:6472: g77 -c -g conftest.f >&5
configure:6478: $? = 0
configure:6485: test -z "$ac_f77_werror_flag" || test ! -s conftest.err
configure:6488: $? = 0
configure:6495: test -s conftest.o
configure:6498: $? = 0
configure:6511: result: yes
configure:6600: checking for g++
configure:6616: found /usr/sfw/bin/g++
configure:6627: result: g++
configure:6658: checking for C++ compiler version
configure:6665: g++ --version >&5
g++ (GCC) 3.4.3 (csl-sol210-3_4-20050802)
Copyright (C) 2004 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:6668: $? = 0
configure:6675: g++ -v >&5
Reading specs from /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/specs
Configured with: /gates/sfwnv/builds/sfwnv-gate/usr/src/cmd/gcc/gcc-3.4.3/configure --prefix=/usr/sfw --with-as=/usr/ccs/bin/as --without-gnu-as --with-ld=/usr/ccs/bin/ld --without-gnu-ld --enable-languages=c,c++,f77,objc --enable-shared
Thread model: posix
gcc version 3.4.3 (csl-sol210-3_4-20050802)
configure:6678: $? = 0
configure:6685: g++ -V >&5
g++: `-V' option must have argument
configure:6688: $? = 1
configure:6691: checking whether we are using the GNU C++ compiler
configure:6720: g++ -c  -I/usr/local/include conftest.cpp >&5
configure:6726: $? = 0
configure:6733: test -z "$ac_cxx_werror_flag" || test ! -s conftest.err
configure:6736: $? = 0
configure:6743: test -s conftest.o
configure:6746: $? = 0
configure:6760: result: yes
configure:6765: checking whether g++ accepts -g
configure:6795: g++ -c -g -I/usr/local/include conftest.cpp >&5
configure:6801: $? = 0
configure:6808: test -z "$ac_cxx_werror_flag" || test ! -s conftest.err
configure:6811: $? = 0
configure:6818: test -s conftest.o
configure:6821: $? = 0
configure:6951: result: yes
configure:6979: checking how to run the C++ preprocessor
configure:7015: g++ -E -I/usr/local/include conftest.cpp
configure:7021: $? = 0
configure:7059: g++ -E -I/usr/local/include conftest.cpp
conftest.cpp:16:28: ac_nonexistent.h: No such file or directory
configure:7065: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:7105: result: g++ -E
configure:7134: g++ -E -I/usr/local/include conftest.cpp
configure:7140: $? = 0
configure:7178: g++ -E -I/usr/local/include conftest.cpp
conftest.cpp:16:28: ac_nonexistent.h: No such file or directory
configure:7184: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:7228: checking whether __attribute__((visibility())) is supported
configure:7239: gcc -Werror -S conftest.c -o conftest.s 1>&5
conftest.c:1: warning: visibility attribute not supported in this configuration; ignored
configure:7242: $? = 1
configure:7251: result: no
configure:7264: checking whether gcc accepts -fvisibility
configure:7290: gcc -c -g -O2 -fvisibility=hidden -I/usr/local/include conftest.c >&5
cc1: error: unrecognized command line option "-fvisibility=hidden"
configure:7296: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| /* end confdefs.h.  */
| 
| int
| main ()
| {
| 
|   ;
|   return 0;
| }
configure:7328: result: no
configure:7353: checking whether g77 accepts -fvisibility
configure:7369: g77 -c -g -O2 -fvisibility=hidden conftest.f >&5
f771: error: unrecognized command line option "-fvisibility=hidden"
configure:7375: $? = 1
configure: failed program was:
|       program main
| 
|       end
configure:7407: result: no
configure:7491: checking for gcc
configure:7507: found /usr/sfw/bin/gcc
configure:7518: result: gcc
configure:7547: checking for Objective C compiler version
configure:7554: gcc --version >&5
gcc (GCC) 3.4.3 (csl-sol210-3_4-20050802)
Copyright (C) 2004 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:7557: $? = 0
configure:7564: gcc -v >&5
Reading specs from /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/specs
Configured with: /gates/sfwnv/builds/sfwnv-gate/usr/src/cmd/gcc/gcc-3.4.3/configure --prefix=/usr/sfw --with-as=/usr/ccs/bin/as --without-gnu-as --with-ld=/usr/ccs/bin/ld --without-gnu-ld --enable-languages=c,c++,f77,objc --enable-shared
Thread model: posix
gcc version 3.4.3 (csl-sol210-3_4-20050802)
configure:7567: $? = 0
configure:7574: gcc -V >&5
gcc: `-V' option must have argument
configure:7577: $? = 1
configure:7580: checking whether we are using the GNU Objective C compiler
configure:7609: gcc -c  -I/usr/local/include conftest.m >&5
configure:7615: $? = 0
configure:7622: test -z "$ac_objc_werror_flag" || test ! -s conftest.err
configure:7625: $? = 0
configure:7632: test -s conftest.o
configure:7635: $? = 0
configure:7649: result: yes
configure:7654: checking whether gcc accepts -g
configure:7684: gcc -c -g -I/usr/local/include conftest.m >&5
configure:7690: $? = 0
configure:7697: test -z "$ac_objc_werror_flag" || test ! -s conftest.err
configure:7700: $? = 0
configure:7707: test -s conftest.o
configure:7710: $? = 0
configure:7840: result: yes
configure:7893: gcc -c -g -O2 -I/usr/local/include conftest.m >&5
conftest.m: In function `main':
conftest.m:21: error: `id' undeclared (first use in this function)
conftest.m:21: error: (Each undeclared identifier is reported only once
conftest.m:21: error: for each function it appears in.)
conftest.m:21: error: syntax error before "foo"
configure:7899: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| /* end confdefs.h.  */
| 
| int
| main ()
| {
| id foo;
|   ;
|   return 0;
| }
configure:7941: checking for cached ObjC++ compiler
configure:7947: result: none
configure:7993: checking whether g++ can compile ObjC++
running: g++ -c conftest.mm -I/usr/local/include 
g++: conftest.mm: linker input file unused because linking not done
configure:8019: result: yes
configure:8070: checking for Objective C++ compiler
configure:8076: result: g++
configure:8171: checking for a sed that does not truncate output
configure:8225: result: /bin/sed
configure:8239: checking for ld used by gcc
configure:8306: result: /usr/ccs/bin/ld
configure:8315: checking if the linker (/usr/ccs/bin/ld) is GNU ld
configure:8330: result: no
configure:8335: checking for /usr/ccs/bin/ld option to reload object files
configure:8342: result: -r
configure:8351: checking for BSD-compatible nm
configure:8393: result: /bin/nm -p
configure:8397: checking how to recognise dependent libraries
configure:8580: result: pass_all
configure:8801: checking for ANSI C header files
configure:8831: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:8837: $? = 0
configure:8844: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:8847: $? = 0
configure:8854: test -s conftest.o
configure:8857: $? = 0
configure:8953: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c  >&5
configure:8956: $? = 0
configure:8962: ./conftest
configure:8965: $? = 0
configure:8982: result: yes
configure:9006: checking for sys/types.h
configure:9027: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9033: $? = 0
configure:9040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9043: $? = 0
configure:9050: test -s conftest.o
configure:9053: $? = 0
configure:9066: result: yes
configure:9006: checking for sys/stat.h
configure:9027: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9033: $? = 0
configure:9040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9043: $? = 0
configure:9050: test -s conftest.o
configure:9053: $? = 0
configure:9066: result: yes
configure:9006: checking for stdlib.h
configure:9027: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9033: $? = 0
configure:9040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9043: $? = 0
configure:9050: test -s conftest.o
configure:9053: $? = 0
configure:9066: result: yes
configure:9006: checking for string.h
configure:9027: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9033: $? = 0
configure:9040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9043: $? = 0
configure:9050: test -s conftest.o
configure:9053: $? = 0
configure:9066: result: yes
configure:9006: checking for memory.h
configure:9027: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9033: $? = 0
configure:9040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9043: $? = 0
configure:9050: test -s conftest.o
configure:9053: $? = 0
configure:9066: result: yes
configure:9006: checking for strings.h
configure:9027: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9033: $? = 0
configure:9040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9043: $? = 0
configure:9050: test -s conftest.o
configure:9053: $? = 0
configure:9066: result: yes
configure:9006: checking for inttypes.h
configure:9027: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9033: $? = 0
configure:9040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9043: $? = 0
configure:9050: test -s conftest.o
configure:9053: $? = 0
configure:9066: result: yes
configure:9006: checking for stdint.h
configure:9027: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9033: $? = 0
configure:9040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9043: $? = 0
configure:9050: test -s conftest.o
configure:9053: $? = 0
configure:9066: result: yes
configure:9006: checking for unistd.h
configure:9027: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9033: $? = 0
configure:9040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9043: $? = 0
configure:9050: test -s conftest.o
configure:9053: $? = 0
configure:9066: result: yes
configure:9093: checking dlfcn.h usability
configure:9110: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9116: $? = 0
configure:9123: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:9126: $? = 0
configure:9133: test -s conftest.o
configure:9136: $? = 0
configure:9147: result: yes
configure:9151: checking dlfcn.h presence
configure:9166: gcc -E -I/usr/local/include conftest.c
configure:9172: $? = 0
configure:9193: result: yes
configure:9226: checking for dlfcn.h
configure:9234: result: yes
configure:9253: checking the maximum length of command line arguments
configure:9318: result: 262144
configure:9329: checking command to parse /bin/nm -p output from gcc object
configure:9418: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:9421: $? = 0
configure:9425: /bin/nm -p conftest.o \| sed -n -e 's/^.*[ 	]\([BDRT][BDRT]*\)[ 	][ 	]*\(\)\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2\3 \3/p' \> conftest.nm
configure:9428: $? = 0
configure:9480: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c conftstm.o >&5
configure:9483: $? = 0
configure:9521: result: ok
configure:9525: checking for objdir
configure:9540: result: .libs
configure:9728: checking for ranlib
configure:9755: result: ranlib
configure:9824: checking for strip
configure:9840: found /bin/strip
configure:9851: result: strip
configure:10127: checking if gcc static flag  works
configure:10150: result: yes
configure:10172: checking if gcc supports -fno-rtti -fno-exceptions
configure:10190: gcc -c -g -O2 -I/usr/local/include -fno-rtti -fno-exceptions conftest.c >&5
cc1: warning: command line option "-fno-rtti" is valid for C++/ObjC++ but not for C
configure:10194: $? = 0
configure:10205: result: no
configure:10220: checking for gcc option to produce PIC
configure:10397: result: -fPIC
configure:10405: checking if gcc PIC flag -fPIC works
configure:10423: gcc -c -g -O2 -I/usr/local/include -fPIC -DPIC conftest.c >&5
configure:10427: $? = 0
configure:10438: result: yes
configure:10462: checking if gcc supports -c -o file.o
configure:10483: gcc -c -g -O2 -I/usr/local/include -o out/conftest2.o conftest.c >&5
configure:10487: $? = 0
configure:10507: result: yes
configure:10533: checking whether the gcc linker (/usr/ccs/bin/ld) supports shared libraries
configure:11409: result: yes
configure:11435: checking whether -lc should be explicitly linked in
configure:11440: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:11443: $? = 0
configure:11457: gcc -shared -Wl,-h -Wl,conftest -o conftest conftest.o  -v 2\>\&1 \| grep  -lc  \>/dev/null 2\>\&1
configure:11460: $? = 1
configure:11472: result: yes
configure:11480: checking dynamic linker characteristics
configure:12020: result: solaris2.11 ld.so
configure:12024: checking how to hardcode library paths into programs
configure:12049: result: immediate
configure:12063: checking whether stripping libraries is possible
configure:12084: result: no
configure:12977: checking if libtool supports shared libraries
configure:12979: result: yes
configure:12982: checking whether to build shared libraries
configure:13040: result: yes
configure:13043: checking whether to build static libraries
configure:13047: result: no
configure:13139: creating libtool
configure:13687: checking for ld used by g++
configure:13754: result: /usr/ccs/bin/ld
configure:13763: checking if the linker (/usr/ccs/bin/ld) is GNU ld
configure:13778: result: no
configure:13829: checking whether the g++ linker (/usr/ccs/bin/ld) supports shared libraries
configure:14685: result: yes
configure:14707: g++ -c -g -O2 -I/usr/local/include conftest.cc >&5
configure:14710: $? = 0
configure:14806: checking for g++ option to produce PIC
configure:15058: result: -fPIC
configure:15066: checking if g++ PIC flag -fPIC works
configure:15084: g++ -c -g -O2 -I/usr/local/include -fPIC -DPIC conftest.cc >&5
configure:15088: $? = 0
configure:15099: result: yes
configure:15123: checking if g++ supports -c -o file.o
configure:15144: g++ -c -g -O2 -I/usr/local/include -o out/conftest2.o conftest.cc >&5
configure:15148: $? = 0
configure:15168: result: yes
configure:15194: checking whether the g++ linker (/usr/ccs/bin/ld) supports shared libraries
configure:15219: result: yes
configure:15290: checking dynamic linker characteristics
configure:15830: result: solaris2.11 ld.so
configure:15834: checking how to hardcode library paths into programs
configure:15859: result: immediate
configure:15873: checking whether stripping libraries is possible
configure:15894: result: no
configure:17264: checking if libtool supports shared libraries
configure:17266: result: yes
configure:17269: checking whether to build shared libraries
configure:17287: result: yes
configure:17290: checking whether to build static libraries
configure:17294: result: no
configure:17306: checking for g77 option to produce PIC
configure:17483: result: -fPIC
configure:17491: checking if g77 PIC flag -fPIC works
configure:17509: g77 -c -g -O2 -fPIC conftest.f >&5
configure:17513: $? = 0
configure:17524: result: yes
configure:17548: checking if g77 supports -c -o file.o
configure:17569: g77 -c -g -O2 -o out/conftest2.o conftest.f >&5
configure:17573: $? = 0
configure:17593: result: yes
configure:17619: checking whether the g77 linker (/usr/ccs/bin/ld) supports shared libraries
configure:18475: result: yes
configure:18546: checking dynamic linker characteristics
configure:19086: result: solaris2.11 ld.so
configure:19090: checking how to hardcode library paths into programs
configure:19115: result: immediate
configure:19129: checking whether stripping libraries is possible
configure:19150: result: no
configure:23613: checking for cos in -lm
configure:23648: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -lm   >&5
conftest.c:35: warning: conflicting types for built-in function 'cos'
configure:23654: $? = 0
configure:23661: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:23664: $? = 0
configure:23671: test -s conftest
configure:23674: $? = 0
configure:23688: result: yes
configure:23702: checking for sin in -lm
configure:23737: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -lm   >&5
conftest.c:35: warning: conflicting types for built-in function 'sin'
configure:23743: $? = 0
configure:23750: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:23753: $? = 0
configure:23760: test -s conftest
configure:23763: $? = 0
configure:23777: result: yes
configure:23988: checking for dlopen in -ldl
configure:24023: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl  -lm  >&5
configure:24029: $? = 0
configure:24036: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:24039: $? = 0
configure:24046: test -s conftest
configure:24049: $? = 0
configure:24063: result: yes
configure:24095: checking readline/history.h usability
configure:24112: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:24118: $? = 0
configure:24125: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:24128: $? = 0
configure:24135: test -s conftest.o
configure:24138: $? = 0
configure:24149: result: yes
configure:24153: checking readline/history.h presence
configure:24168: gcc -E -I/usr/local/include conftest.c
configure:24174: $? = 0
configure:24195: result: yes
configure:24228: checking for readline/history.h
configure:24236: result: yes
configure:24095: checking readline/readline.h usability
configure:24112: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:24118: $? = 0
configure:24125: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:24128: $? = 0
configure:24135: test -s conftest.o
configure:24138: $? = 0
configure:24149: result: yes
configure:24153: checking readline/readline.h presence
configure:24168: gcc -E -I/usr/local/include conftest.c
configure:24174: $? = 0
configure:24195: result: yes
configure:24228: checking for readline/readline.h
configure:24236: result: yes
configure:24254: checking for rl_callback_read_char in -lreadline
configure:24289: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -lreadline   >&5
Undefined			first referenced
 symbol  			    in file
tgoto                               /usr/local/lib/libreadline.so
tputs                               /usr/local/lib/libreadline.so
tgetent                             /usr/local/lib/libreadline.so
tgetnum                             /usr/local/lib/libreadline.so
tgetstr                             /usr/local/lib/libreadline.so
tgetflag                            /usr/local/lib/libreadline.so
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:24295: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char rl_callback_read_char ();
| int
| main ()
| {
| return rl_callback_read_char ();
|   ;
|   return 0;
| }
configure:24329: result: no
configure:24345: checking for main in -lncurses
configure:24374: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -lncurses   >&5
ld: fatal: library -lncurses: not found
ld: fatal: File processing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:24380: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| /* end confdefs.h.  */
| 
| 
| int
| main ()
| {
| return main ();
|   ;
|   return 0;
| }
configure:24414: result: no
configure:24425: checking for main in -ltermcap
configure:24454: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ltermcap   >&5
configure:24460: $? = 0
configure:24467: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:24470: $? = 0
configure:24477: test -s conftest
configure:24480: $? = 0
configure:24494: result: yes
configure:24590: checking for rl_callback_read_char in -lreadline
configure:24625: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -lreadline  -ltermcap  >&5
configure:24631: $? = 0
configure:24638: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:24641: $? = 0
configure:24648: test -s conftest
configure:24651: $? = 0
configure:24665: result: yes
configure:24683: checking for history_truncate_file
configure:24739: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -lreadline -ltermcap  >&5
configure:24745: $? = 0
configure:24752: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:24755: $? = 0
configure:24762: test -s conftest
configure:24765: $? = 0
configure:24779: result: yes
configure:24800: checking whether rl_completion_matches exists and is declared
configure:24832: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:24838: $? = 0
configure:24845: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:24848: $? = 0
configure:24855: test -s conftest
configure:24858: $? = 0
configure:24872: result: yes
configure:24888: checking for ANSI C header files
configure:25069: result: yes
configure:25079: checking whether time.h and sys/time.h may both be included
configure:25109: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25115: $? = 0
configure:25122: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25125: $? = 0
configure:25132: test -s conftest.o
configure:25135: $? = 0
configure:25147: result: yes
configure:25165: checking for dirent.h that defines DIR
configure:25194: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25200: $? = 0
configure:25207: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25210: $? = 0
configure:25217: test -s conftest.o
configure:25220: $? = 0
configure:25233: result: yes
configure:25246: checking for library containing opendir
configure:25287: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:25293: $? = 0
configure:25300: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25303: $? = 0
configure:25310: test -s conftest
configure:25313: $? = 0
configure:25337: result: none required
configure:25447: checking for sys/wait.h that is POSIX.1 compatible
configure:25483: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25489: $? = 0
configure:25496: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25499: $? = 0
configure:25506: test -s conftest.o
configure:25509: $? = 0
configure:25521: result: yes
configure:25578: checking arpa/inet.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking arpa/inet.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for arpa/inet.h
configure:25719: result: yes
configure:25578: checking dl.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
conftest.c:74:16: dl.h: No such file or directory
configure:25601: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #if HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #if HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #if STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # if HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #if HAVE_STRING_H
| # if !STDC_HEADERS && HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #if HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #if HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #if HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #if HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include <dl.h>
configure:25632: result: no
configure:25636: checking dl.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
conftest.c:41:16: dl.h: No such file or directory
configure:25657: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| /* end confdefs.h.  */
| #include <dl.h>
configure:25678: result: no
configure:25711: checking for dl.h
configure:25719: result: no
configure:25568: checking for dlfcn.h
configure:25574: result: yes
configure:25578: checking elf.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking elf.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for elf.h
configure:25719: result: yes
configure:25578: checking fcntl.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking fcntl.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for fcntl.h
configure:25719: result: yes
configure:25578: checking floatingpoint.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking floatingpoint.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for floatingpoint.h
configure:25719: result: yes
configure:25578: checking fpu_control.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
conftest.c:78:25: fpu_control.h: No such file or directory
configure:25601: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #if HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #if HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #if STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # if HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #if HAVE_STRING_H
| # if !STDC_HEADERS && HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #if HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #if HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #if HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #if HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include <fpu_control.h>
configure:25632: result: no
configure:25636: checking fpu_control.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
conftest.c:45:25: fpu_control.h: No such file or directory
configure:25657: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| /* end confdefs.h.  */
| #include <fpu_control.h>
configure:25678: result: no
configure:25711: checking for fpu_control.h
configure:25719: result: no
configure:25578: checking glob.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking glob.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for glob.h
configure:25719: result: yes
configure:25578: checking grp.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking grp.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for grp.h
configure:25719: result: yes
configure:25578: checking limits.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking limits.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for limits.h
configure:25719: result: yes
configure:25578: checking locale.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking locale.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for locale.h
configure:25719: result: yes
configure:25578: checking netdb.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking netdb.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for netdb.h
configure:25719: result: yes
configure:25578: checking netinet/in.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking netinet/in.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for netinet/in.h
configure:25719: result: yes
configure:25578: checking pwd.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking pwd.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for pwd.h
configure:25719: result: yes
configure:25578: checking stdbool.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking stdbool.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for stdbool.h
configure:25719: result: yes
configure:25568: checking for strings.h
configure:25574: result: yes
configure:25578: checking sys/param.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking sys/param.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for sys/param.h
configure:25719: result: yes
configure:25578: checking sys/select.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking sys/select.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for sys/select.h
configure:25719: result: yes
configure:25578: checking sys/socket.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking sys/socket.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for sys/socket.h
configure:25719: result: yes
configure:25568: checking for sys/stat.h
configure:25574: result: yes
configure:25578: checking sys/resource.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking sys/resource.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for sys/resource.h
configure:25719: result: yes
configure:25578: checking sys/time.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking sys/time.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for sys/time.h
configure:25719: result: yes
configure:25578: checking sys/times.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking sys/times.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for sys/times.h
configure:25719: result: yes
configure:25578: checking sys/utsname.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking sys/utsname.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for sys/utsname.h
configure:25719: result: yes
configure:25578: checking time.h usability
configure:25595: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25601: $? = 0
configure:25608: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25611: $? = 0
configure:25618: test -s conftest.o
configure:25621: $? = 0
configure:25632: result: yes
configure:25636: checking time.h presence
configure:25651: gcc -E -I/usr/local/include conftest.c
configure:25657: $? = 0
configure:25678: result: yes
configure:25711: checking for time.h
configure:25719: result: yes
configure:25568: checking for unistd.h
configure:25574: result: yes
configure:25755: checking errno.h usability
configure:25772: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25778: $? = 0
configure:25785: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25788: $? = 0
configure:25795: test -s conftest.o
configure:25798: $? = 0
configure:25809: result: yes
configure:25813: checking errno.h presence
configure:25828: gcc -E -I/usr/local/include conftest.c
configure:25834: $? = 0
configure:25855: result: yes
configure:25888: checking for errno.h
configure:25896: result: yes
configure:25745: checking for inttypes.h
configure:25751: result: yes
configure:25755: checking stdarg.h usability
configure:25772: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25778: $? = 0
configure:25785: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25788: $? = 0
configure:25795: test -s conftest.o
configure:25798: $? = 0
configure:25809: result: yes
configure:25813: checking stdarg.h presence
configure:25828: gcc -E -I/usr/local/include conftest.c
configure:25834: $? = 0
configure:25855: result: yes
configure:25888: checking for stdarg.h
configure:25896: result: yes
configure:25745: checking for stdint.h
configure:25751: result: yes
configure:25745: checking for string.h
configure:25751: result: yes
configure:25916: checking whether setjmp.h is POSIX.1 compatible
configure:25944: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:25950: $? = 0
configure:25957: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:25960: $? = 0
configure:25967: test -s conftest.o
configure:25970: $? = 0
configure:25982: result: yes
configure:25984: checking whether sigsetjmp is declared
configure:26015: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:26021: $? = 0
configure:26028: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:26031: $? = 0
configure:26038: test -s conftest.o
configure:26041: $? = 0
configure:26053: result: yes
configure:26069: checking whether siglongjmp is declared
configure:26100: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:26106: $? = 0
configure:26113: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:26116: $? = 0
configure:26123: test -s conftest.o
configure:26126: $? = 0
configure:26138: result: yes
configure:26170: checking for GNU C library with version >= 2
configure:26197: result: no
configure:26210: checking return type of signal handlers
configure:26238: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
conftest.c: In function `main':
conftest.c:78: error: void value not ignored as it ought to be
configure:26244: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| /* end confdefs.h.  */
| #include <sys/types.h>
| #include <signal.h>
| 
| int
| main ()
| {
| return *(signal (0, 0)) (0) == 1;
|   ;
|   return 0;
| }
configure:26276: result: void
configure:26284: checking for pid_t
configure:26314: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:26320: $? = 0
configure:26327: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:26330: $? = 0
configure:26337: test -s conftest.o
configure:26340: $? = 0
configure:26352: result: yes
configure:26364: checking for size_t
configure:26394: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:26400: $? = 0
configure:26407: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:26410: $? = 0
configure:26417: test -s conftest.o
configure:26420: $? = 0
configure:26432: result: yes
configure:26444: checking whether SIZE_MAX is declared
configure:26487: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:26490: $? = 0
configure:26496: ./conftest
configure:26499: $? = 0
configure:26515: result: yes
configure:26525: checking for blkcnt_t
configure:26555: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:26561: $? = 0
configure:26568: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:26571: $? = 0
configure:26578: test -s conftest.o
configure:26581: $? = 0
configure:26593: result: yes
configure:26607: checking for type of socket length
configure:26643: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:26649: $? = 0
configure:26656: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:26659: $? = 0
configure:26666: test -s conftest.o
configure:26669: $? = 0
configure:26694: result: socklen_t *
configure:26703: checking for stack_t
configure:26734: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:26740: $? = 0
configure:26747: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:26750: $? = 0
configure:26757: test -s conftest.o
configure:26760: $? = 0
configure:26772: result: yes
configure:26788: checking for intptr_t
configure:26824: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:26830: $? = 0
configure:26837: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:26840: $? = 0
configure:26847: test -s conftest.o
configure:26850: $? = 0
configure:26862: result: yes
configure:26872: checking for uintptr_t
configure:26908: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:26914: $? = 0
configure:26921: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:26924: $? = 0
configure:26931: test -s conftest.o
configure:26934: $? = 0
configure:26946: result: yes
configure:26964: checking whether byte ordering is bigendian
configure:26996: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
conftest.c: In function `main':
conftest.c:85: error: `bogus' undeclared (first use in this function)
conftest.c:85: error: (Each undeclared identifier is reported only once
conftest.c:85: error: for each function it appears in.)
conftest.c:85: error: syntax error before "endian"
configure:27002: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| /* end confdefs.h.  */
| #include <sys/types.h>
| #include <sys/param.h>
| 
| int
| main ()
| {
| #if !BYTE_ORDER || !BIG_ENDIAN || !LITTLE_ENDIAN
|  bogus endian macros
| #endif
| 
|   ;
|   return 0;
| }
configure:27200: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:27203: $? = 0
configure:27209: ./conftest
configure:27212: $? = 1
configure: program exited with status 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #if HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #if HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #if STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # if HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #if HAVE_STRING_H
| # if !STDC_HEADERS && HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #if HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #if HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #if HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #if HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| int
| main ()
| {
| 
|   /* Are we little or big endian?  From Harbison&Steele.  */
|   union
|   {
|     long int l;
|     char c[sizeof (long int)];
|   } u;
|   u.l = 1;
|   return u.c[sizeof (long int) - 1] == 1;
| 
|   ;
|   return 0;
| }
configure:27231: result: yes
configure:27250: checking for an ANSI C-conforming const
configure:27325: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:27331: $? = 0
configure:27338: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:27341: $? = 0
configure:27348: test -s conftest.o
configure:27351: $? = 0
configure:27363: result: yes
configure:27375: checking for gcc option to accept ISO C99
configure:27505: gcc  -c -g -O2 -I/usr/local/include conftest.c >&5
conftest.c:100: error: syntax error before "text"
conftest.c: In function `test_restrict':
conftest.c:105: error: 'for' loop initial declaration used outside C99 mode
conftest.c:105: error: `text' undeclared (first use in this function)
conftest.c:105: error: (Each undeclared identifier is reported only once
conftest.c:105: error: for each function it appears in.)
conftest.c: In function `main':
conftest.c:156: error: syntax error before "newvar"
conftest.c:165: error: 'for' loop initial declaration used outside C99 mode
conftest.c:181: error: `newvar' undeclared (first use in this function)
configure:27511: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| /* end confdefs.h.  */
| #include <stdarg.h>
| #include <stdbool.h>
| #include <stdlib.h>
| #include <wchar.h>
| #include <stdio.h>
| 
| struct incomplete_array
| {
|   int datasize;
|   double data[];
| };
| 
| struct named_init {
|   int number;
|   const wchar_t *name;
|   double average;
| };
| 
| typedef const char *ccp;
| 
| static inline int
| test_restrict(ccp restrict text)
| {
|   // See if C++-style comments work.
|   // Iterate through items via the restricted pointer.
|   // Also check for declarations in for loops.
|   for (unsigned int i = 0; *(text+i) != '\0'; ++i)
|     continue;
|   return 0;
| }
| 
| // Check varargs and va_copy work.
| static void
| test_varargs(const char *format, ...)
| {
|   va_list args;
|   va_start(args, format);
|   va_list args_copy;
|   va_copy(args_copy, args);
| 
|   const char *str;
|   int number;
|   float fnumber;
| 
|   while (*format)
|     {
|       switch (*format++)
| 	{
| 	case 's': // string
| 	  str = va_arg(args_copy, const char *);
| 	  break;
| 	case 'd': // int
| 	  number = va_arg(args_copy, int);
| 	  break;
| 	case 'f': // float
| 	  fnumber = (float) va_arg(args_copy, double);
| 	  break;
| 	default:
| 	  break;
| 	}
|     }
|   va_end(args_copy);
|   va_end(args);
| }
| 
| int
| main ()
| {
| 
|   // Check bool and long long datatypes.
|   _Bool success = false;
|   long long int bignum = -1234567890LL;
|   unsigned long long int ubignum = 1234567890uLL;
| 
|   // Check restrict.
|   if (test_restrict("String literal") != 0)
|     success = true;
|   char *restrict newvar = "Another string";
| 
|   // Check varargs.
|   test_varargs("s, d' f .", "string", 65, 34.234);
| 
|   // Check incomplete arrays work.
|   struct incomplete_array *ia =
|     malloc(sizeof(struct incomplete_array) + (sizeof(double) * 10));
|   ia->datasize = 10;
|   for (int i = 0; i < ia->datasize; ++i)
|     ia->data[i] = (double) i * 1.234;
| 
|   // Check named initialisers.
|   struct named_init ni = {
|     .number = 34,
|     .name = L"Test wide string",
|     .average = 543.34343,
|   };
| 
|   ni.number = 58;
| 
|   int dynamic_array[ni.number];
|   dynamic_array[43] = 543;
| 
|   // work around unused variable warnings
|   return  bignum == 0LL || ubignum == 0uLL || newvar[0] == 'x';
| 
|   ;
|   return 0;
| }
configure:27505: gcc -std=gnu99 -c -g -O2 -I/usr/local/include conftest.c >&5
configure:27511: $? = 0
configure:27518: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:27521: $? = 0
configure:27528: test -s conftest.o
configure:27531: $? = 0
configure:27558: result: -std=gnu99
configure:27705: checking for gcc -std=gnu99 option to accept ISO Standard C
configure:27716: result: -std=gnu99
configure:27721: checking for inline
configure:27746: gcc -std=gnu99 -c -g -O2 -I/usr/local/include conftest.c >&5
configure:27752: $? = 0
configure:27759: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:27762: $? = 0
configure:27769: test -s conftest.o
configure:27772: $? = 0
configure:27786: result: inline
configure:27800: checking for int
configure:27830: gcc -std=gnu99 -c -g -O2 -I/usr/local/include conftest.c >&5
configure:27836: $? = 0
configure:27843: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:27846: $? = 0
configure:27853: test -s conftest.o
configure:27856: $? = 0
configure:27868: result: yes
configure:27871: checking size of int
configure:28259: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:28262: $? = 0
configure:28268: ./conftest
configure:28271: $? = 0
configure:28293: result: 4
configure:28310: checking for long
configure:28340: gcc -std=gnu99 -c -g -O2 -I/usr/local/include conftest.c >&5
configure:28346: $? = 0
configure:28353: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:28356: $? = 0
configure:28363: test -s conftest.o
configure:28366: $? = 0
configure:28378: result: yes
configure:28381: checking size of long
configure:28769: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:28772: $? = 0
configure:28778: ./conftest
configure:28781: $? = 0
configure:28803: result: 4
configure:28810: checking for long long
configure:28840: gcc -std=gnu99 -c -g -O2 -I/usr/local/include conftest.c >&5
configure:28846: $? = 0
configure:28853: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:28856: $? = 0
configure:28863: test -s conftest.o
configure:28866: $? = 0
configure:28878: result: yes
configure:28881: checking size of long long
configure:29269: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:29272: $? = 0
configure:29278: ./conftest
configure:29281: $? = 0
configure:29303: result: 8
configure:29310: checking for double
configure:29340: gcc -std=gnu99 -c -g -O2 -I/usr/local/include conftest.c >&5
configure:29346: $? = 0
configure:29353: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:29356: $? = 0
configure:29363: test -s conftest.o
configure:29366: $? = 0
configure:29378: result: yes
configure:29381: checking size of double
configure:29769: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:29772: $? = 0
configure:29778: ./conftest
configure:29781: $? = 0
configure:29803: result: 8
configure:29810: checking for long double
configure:29840: gcc -std=gnu99 -c -g -O2 -I/usr/local/include conftest.c >&5
configure:29846: $? = 0
configure:29853: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:29856: $? = 0
configure:29863: test -s conftest.o
configure:29866: $? = 0
configure:29878: result: yes
configure:29881: checking size of long double
configure:30269: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:30272: $? = 0
configure:30278: ./conftest
configure:30281: $? = 0
configure:30303: result: 16
configure:30310: checking for size_t
configure:30378: result: yes
configure:30381: checking size of size_t
configure:30769: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:30772: $? = 0
configure:30778: ./conftest
configure:30781: $? = 0
configure:30803: result: 4
configure:30812: checking whether we can compute C Make dependencies
configure:30847: result: yes, using gcc -std=gnu99 -MM
configure:30871: checking whether gcc -std=gnu99 supports -c -o FILE.lo
configure:30881: gcc -std=gnu99 -g -O2 -c conftest.c -o TMP/conftest.lo 1>&5
configure:30884: $? = 0
configure:30887: gcc -std=gnu99 -g -O2 -c conftest.c -o TMP/conftest.lo 1>&5
configure:30890: $? = 0
configure:30898: result: yes
configure:30938: checking how to get verbose linking output from g77
configure:30954: g77 -c -g -O2 conftest.f >&5
configure:30960: $? = 0
configure:30967: test -z "$ac_f77_werror_flag" || test ! -s conftest.err
configure:30970: $? = 0
configure:30977: test -s conftest.o
configure:30980: $? = 0
configure:30999: g77 -o conftest -g -O2 -v -L/usr/local/lib conftest.f
Reading specs from /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/specs
Configured with: /gates/sfwnv/builds/sfwnv-gate/usr/src/cmd/gcc/gcc-3.4.3/configure --prefix=/usr/sfw --with-as=/usr/ccs/bin/as --without-gnu-as --with-ld=/usr/ccs/bin/ld --without-gnu-ld --enable-languages=c,c++,f77,objc --enable-shared
Thread model: posix
gcc version 3.4.3 (csl-sol210-3_4-20050802)
 /usr/sfw/libexec/gcc/sparc-sun-solaris2.11/3.4.3/f771 conftest.f -quiet -dumpbase conftest.f -mcpu=v7 -auxbase conftest -g -O2 -version -o /var/tmp//ccTKaWTl.s
GNU F77 version 3.4.3 (csl-sol210-3_4-20050802) (sparc-sun-solaris2.11)
	compiled by GNU C version 3.4.3 (csl-sol210-3_4-20050802).
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
 /usr/ccs/bin/as -V -Qy -s -xarch=v8 -o /var/tmp//ccUKaWTl.o /var/tmp//ccTKaWTl.s
/usr/ccs/bin/as: Sun Compiler Common 12 SunOS_sparc snv_83 02/01/2008
 /usr/sfw/libexec/gcc/sparc-sun-solaris2.11/3.4.3/collect2 -V -Y P,/usr/ccs/lib:/usr/lib -Qy -o conftest /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crt1.o /usr/lib/crti.o /usr/lib/values-Xa.o /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crtbegin.o -L/usr/local/lib -L. -L/usr/bin/X11 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/lib -L/usr/ccs/lib -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../.. /var/tmp//ccUKaWTl.o -lfrtbegin -lg2c -lm -R/usr/sfw/lib -lgcc_s -lgcc -lc -R/usr/sfw/lib -lgcc_s -lgcc -lc /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crtend.o /usr/lib/crtn.o
ld: Software Generation Utilities - Solaris Link Editors: 5.11-1.618
configure:31065: result: -v
configure:31067: checking for Fortran 77 libraries of g77
configure:31090: g77 -o conftest -g -O2 -v -L/usr/local/lib conftest.f
Reading specs from /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/specs
Configured with: /gates/sfwnv/builds/sfwnv-gate/usr/src/cmd/gcc/gcc-3.4.3/configure --prefix=/usr/sfw --with-as=/usr/ccs/bin/as --without-gnu-as --with-ld=/usr/ccs/bin/ld --without-gnu-ld --enable-languages=c,c++,f77,objc --enable-shared
Thread model: posix
gcc version 3.4.3 (csl-sol210-3_4-20050802)
 /usr/sfw/libexec/gcc/sparc-sun-solaris2.11/3.4.3/f771 conftest.f -quiet -dumpbase conftest.f -mcpu=v7 -auxbase conftest -g -O2 -version -o /var/tmp//ccuUaOVl.s
GNU F77 version 3.4.3 (csl-sol210-3_4-20050802) (sparc-sun-solaris2.11)
	compiled by GNU C version 3.4.3 (csl-sol210-3_4-20050802).
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
 /usr/ccs/bin/as -V -Qy -s -xarch=v8 -o /var/tmp//ccvUaOVl.o /var/tmp//ccuUaOVl.s
/usr/ccs/bin/as: Sun Compiler Common 12 SunOS_sparc snv_83 02/01/2008
 /usr/sfw/libexec/gcc/sparc-sun-solaris2.11/3.4.3/collect2 -V -Y P,/usr/ccs/lib:/usr/lib -Qy -o conftest /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crt1.o /usr/lib/crti.o /usr/lib/values-Xa.o /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crtbegin.o -L/usr/local/lib -L. -L/usr/bin/X11 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/lib -L/usr/ccs/lib -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../.. /var/tmp//ccvUaOVl.o -lfrtbegin -lg2c -lm -R/usr/sfw/lib -lgcc_s -lgcc -lc -R/usr/sfw/lib -lgcc_s -lgcc -lc /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crtend.o /usr/lib/crtn.o
ld: Software Generation Utilities - Solaris Link Editors: 5.11-1.618
configure:31264: result:  -L/usr/ccs/lib -L/usr/lib -L/usr/local/lib -L. -L/usr/bin/X11 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/lib -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../.. -lfrtbegin -lg2c -lm -R/usr/sfw/lib -lgcc_s
configure:31282: checking how to get verbose linking output from gcc -std=gnu99
configure:31308: gcc -std=gnu99 -c -g -O2 -I/usr/local/include conftest.c >&5
configure:31314: $? = 0
configure:31321: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:31324: $? = 0
configure:31331: test -s conftest.o
configure:31334: $? = 0
configure:31361: gcc -std=gnu99 -o conftest -g -O2 -v -I/usr/local/include -L/usr/local/lib conftest.c  >&5
Reading specs from /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/specs
Configured with: /gates/sfwnv/builds/sfwnv-gate/usr/src/cmd/gcc/gcc-3.4.3/configure --prefix=/usr/sfw --with-as=/usr/ccs/bin/as --without-gnu-as --with-ld=/usr/ccs/bin/ld --without-gnu-ld --enable-languages=c,c++,f77,objc --enable-shared
Thread model: posix
gcc version 3.4.3 (csl-sol210-3_4-20050802)
 /usr/sfw/libexec/gcc/sparc-sun-solaris2.11/3.4.3/cc1 -quiet -v -I/usr/local/include conftest.c -quiet -dumpbase conftest.c -mcpu=v7 -auxbase conftest -g -O2 -std=gnu99 -version -o /var/tmp//ccwlai1l.s
ignoring nonexistent directory "/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/include"
ignoring duplicate directory "/usr/local/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 /usr/local/include
 /usr/sfw/include
 /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/include
 /usr/include
End of search list.
GNU C version 3.4.3 (csl-sol210-3_4-20050802) (sparc-sun-solaris2.11)
	compiled by GNU C version 3.4.3 (csl-sol210-3_4-20050802).
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
 /usr/ccs/bin/as -V -Qy -s -xarch=v8 -o /var/tmp//ccxlai1l.o /var/tmp//ccwlai1l.s
/usr/ccs/bin/as: Sun Compiler Common 12 SunOS_sparc snv_83 02/01/2008
 /usr/sfw/libexec/gcc/sparc-sun-solaris2.11/3.4.3/collect2 -V -Y P,/usr/ccs/lib:/usr/lib -Qy -o conftest /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crt1.o /usr/lib/crti.o /usr/lib/values-Xa.o /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crtbegin.o -L/usr/local/lib -L. -L/usr/bin/X11 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/lib -L/usr/ccs/lib -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../.. /var/tmp//ccxlai1l.o -R/usr/sfw/lib -lgcc -lgcc_eh -lc -R/usr/sfw/lib -lgcc -lgcc_eh -lc /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crtend.o /usr/lib/crtn.o
ld: Software Generation Utilities - Solaris Link Editors: 5.11-1.618
configure:31411: result: -v
configure:31413: checking for C libraries of gcc -std=gnu99
configure:31444: gcc -std=gnu99 -o conftest -g -O2 -v -I/usr/local/include -L/usr/local/lib conftest.c  >&5
Reading specs from /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/specs
Configured with: /gates/sfwnv/builds/sfwnv-gate/usr/src/cmd/gcc/gcc-3.4.3/configure --prefix=/usr/sfw --with-as=/usr/ccs/bin/as --without-gnu-as --with-ld=/usr/ccs/bin/ld --without-gnu-ld --enable-languages=c,c++,f77,objc --enable-shared
Thread model: posix
gcc version 3.4.3 (csl-sol210-3_4-20050802)
 /usr/sfw/libexec/gcc/sparc-sun-solaris2.11/3.4.3/cc1 -quiet -v -I/usr/local/include conftest.c -quiet -dumpbase conftest.c -mcpu=v7 -auxbase conftest -g -O2 -std=gnu99 -version -o /var/tmp//ccMxay3l.s
ignoring nonexistent directory "/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/include"
ignoring duplicate directory "/usr/local/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 /usr/local/include
 /usr/sfw/include
 /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/include
 /usr/include
End of search list.
GNU C version 3.4.3 (csl-sol210-3_4-20050802) (sparc-sun-solaris2.11)
	compiled by GNU C version 3.4.3 (csl-sol210-3_4-20050802).
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
 /usr/ccs/bin/as -V -Qy -s -xarch=v8 -o /var/tmp//ccNxay3l.o /var/tmp//ccMxay3l.s
/usr/ccs/bin/as: Sun Compiler Common 12 SunOS_sparc snv_83 02/01/2008
 /usr/sfw/libexec/gcc/sparc-sun-solaris2.11/3.4.3/collect2 -V -Y P,/usr/ccs/lib:/usr/lib -Qy -o conftest /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crt1.o /usr/lib/crti.o /usr/lib/values-Xa.o /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crtbegin.o -L/usr/local/lib -L. -L/usr/bin/X11 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/lib -L/usr/ccs/lib -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../.. /var/tmp//ccNxay3l.o -R/usr/sfw/lib -lgcc -lgcc_eh -lc -R/usr/sfw/lib -lgcc -lgcc_eh -lc /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crtend.o /usr/lib/crtn.o
ld: Software Generation Utilities - Solaris Link Editors: 5.11-1.618
configure:31599: result:  -L/usr/ccs/lib -L/usr/lib -L/usr/local/lib -L. -L/usr/bin/X11 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/lib -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../.. -R/usr/sfw/lib -lgcc_eh
configure:31730: checking for dummy main to link with Fortran 77 libraries
configure:31774: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm   -lg2c -lm -R/usr/sfw/lib -lgcc_s >&5
configure:31780: $? = 0
configure:31787: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:31790: $? = 0
configure:31797: test -s conftest
configure:31800: $? = 0
configure:31893: result: none
configure:31930: checking for Fortran 77 name-mangling scheme
configure:31949: g77 -c -g -O2 conftest.f >&5
configure:31955: $? = 0
configure:31962: test -z "$ac_f77_werror_flag" || test ! -s conftest.err
configure:31965: $? = 0
configure:31972: test -s conftest.o
configure:31975: $? = 0
configure:32027: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c cfortran_test.o -ldl -lm   -lg2c -lm -R/usr/sfw/lib -lgcc_s >&5
Undefined			first referenced
 symbol  			    in file
foobar                              /var/tmp//cckZaikm.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:32033: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char foobar ();
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return foobar ();
|   ;
|   return 0;
| }
configure:32027: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c cfortran_test.o -ldl -lm   -lg2c -lm -R/usr/sfw/lib -lgcc_s >&5
configure:32033: $? = 0
configure:32040: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:32043: $? = 0
configure:32050: test -s conftest
configure:32053: $? = 0
configure:32128: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c cfortran_test.o -ldl -lm   -lg2c -lm -R/usr/sfw/lib -lgcc_s >&5
Undefined			first referenced
 symbol  			    in file
foo_bar_                            /var/tmp//ccpma4om.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:32134: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char foo_bar_ ();
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return foo_bar_ ();
|   ;
|   return 0;
| }
configure:32128: gcc -std=gnu99 -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c cfortran_test.o -ldl -lm   -lg2c -lm -R/usr/sfw/lib -lgcc_s >&5
configure:32134: $? = 0
configure:32141: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:32144: $? = 0
configure:32151: test -s conftest
configure:32154: $? = 0
configure:32207: result: lower case, underscore, extra underscore
configure:32320: checking whether g77 appends underscores to external names
configure:32336: result: yes
configure:32352: checking whether g77 appends extra underscores to external names
configure:32368: result: yes
configure:32386: checking whether mixed C/Fortran code can be run
configure:32443: result: yes
configure:32459: checking whether g77 and gcc -std=gnu99 agree on int and double
configure:32537: result: yes
configure:32553: checking whether g77 and gcc -std=gnu99 agree on double complex
configure:32629: result: yes
configure:32658: checking whether g++ accepts -M for generating dependencies
configure:32673: result: yes
configure:33434: checking for working Foundation implementation
configure:33441: result: no
configure:35301: checking for xmkmf
configure:35319: found /usr/openwin/bin/xmkmf
configure:35331: result: /usr/openwin/bin/xmkmf
configure:35952: checking for off_t
configure:35990: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:35996: $? = 0
configure:36003: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36006: $? = 0
configure:36013: test -s conftest.o
configure:36016: $? = 0
configure:36028: result: yes
configure:36041: checking for working alloca.h
configure:36076: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36082: $? = 0
configure:36089: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36092: $? = 0
configure:36099: test -s conftest
configure:36102: $? = 0
configure:36115: result: yes
configure:36125: checking for alloca
configure:36180: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36186: $? = 0
configure:36193: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36196: $? = 0
configure:36203: test -s conftest
configure:36206: $? = 0
configure:36219: result: yes
configure:36470: checking whether alloca is declared
configure:36511: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:36517: $? = 0
configure:36524: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36527: $? = 0
configure:36534: test -s conftest.o
configure:36537: $? = 0
configure:36549: result: yes
configure:36576: checking for fseeko
configure:36640: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36646: $? = 0
configure:36653: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36656: $? = 0
configure:36663: test -s conftest
configure:36666: $? = 0
configure:36680: result: yes
configure:36576: checking for ftello
configure:36640: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36646: $? = 0
configure:36653: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36656: $? = 0
configure:36663: test -s conftest
configure:36666: $? = 0
configure:36680: result: yes
configure:36576: checking for isblank
configure:36640: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36646: $? = 0
configure:36653: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36656: $? = 0
configure:36663: test -s conftest
configure:36666: $? = 0
configure:36680: result: yes
configure:36576: checking for matherr
configure:36640: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36646: $? = 0
configure:36653: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36656: $? = 0
configure:36663: test -s conftest
configure:36666: $? = 0
configure:36680: result: yes
configure:36694: checking whether fcntl exists and is declared
configure:36732: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36738: $? = 0
configure:36745: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36748: $? = 0
configure:36755: test -s conftest
configure:36758: $? = 0
configure:36772: result: yes
configure:36786: checking whether getgrgid exists and is declared
configure:36824: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36830: $? = 0
configure:36837: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36840: $? = 0
configure:36847: test -s conftest
configure:36850: $? = 0
configure:36864: result: yes
configure:36883: checking whether expm1 exists and is declared
configure:36921: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36927: $? = 0
configure:36934: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36937: $? = 0
configure:36944: test -s conftest
configure:36947: $? = 0
configure:36961: result: yes
configure:36883: checking whether hypot exists and is declared
configure:36921: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36927: $? = 0
configure:36934: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36937: $? = 0
configure:36944: test -s conftest
configure:36947: $? = 0
configure:36961: result: yes
configure:36883: checking whether log1p exists and is declared
configure:36921: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36927: $? = 0
configure:36934: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36937: $? = 0
configure:36944: test -s conftest
configure:36947: $? = 0
configure:36961: result: yes
configure:36883: checking whether log2 exists and is declared
configure:36921: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36927: $? = 0
configure:36934: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36937: $? = 0
configure:36944: test -s conftest
configure:36947: $? = 0
configure:36961: result: yes
configure:36883: checking whether log10 exists and is declared
configure:36921: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36927: $? = 0
configure:36934: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36937: $? = 0
configure:36944: test -s conftest
configure:36947: $? = 0
configure:36961: result: yes
configure:36883: checking whether rint exists and is declared
configure:36921: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:36927: $? = 0
configure:36934: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:36937: $? = 0
configure:36944: test -s conftest
configure:36947: $? = 0
configure:36961: result: yes
configure:36975: checking whether getpwuid exists and is declared
configure:37013: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37019: $? = 0
configure:37026: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37029: $? = 0
configure:37036: test -s conftest
configure:37039: $? = 0
configure:37053: result: yes
configure:37069: checking whether sigaction exists and is declared
configure:37107: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37113: $? = 0
configure:37120: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37123: $? = 0
configure:37130: test -s conftest
configure:37133: $? = 0
configure:37147: result: yes
configure:37069: checking whether sigaltstack exists and is declared
configure:37107: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37113: $? = 0
configure:37120: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37123: $? = 0
configure:37130: test -s conftest
configure:37133: $? = 0
configure:37147: result: yes
configure:37069: checking whether sigemptyset exists and is declared
configure:37107: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37113: $? = 0
configure:37120: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37123: $? = 0
configure:37130: test -s conftest
configure:37133: $? = 0
configure:37147: result: yes
configure:37162: checking whether va_copy exists and is declared
configure:37200: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37206: $? = 0
configure:37213: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37216: $? = 0
configure:37223: test -s conftest
configure:37226: $? = 0
configure:37240: result: yes
configure:37162: checking whether __va_copy exists and is declared
configure:37200: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37206: $? = 0
configure:37213: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37216: $? = 0
configure:37223: test -s conftest
configure:37226: $? = 0
configure:37240: result: yes
configure:37255: checking whether fdopen exists and is declared
configure:37293: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37299: $? = 0
configure:37306: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37309: $? = 0
configure:37316: test -s conftest
configure:37319: $? = 0
configure:37333: result: yes
configure:37255: checking whether popen exists and is declared
configure:37293: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37299: $? = 0
configure:37306: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37309: $? = 0
configure:37316: test -s conftest
configure:37319: $? = 0
configure:37333: result: yes
configure:37349: checking whether setenv exists and is declared
configure:37387: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37393: $? = 0
configure:37400: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37403: $? = 0
configure:37410: test -s conftest
configure:37413: $? = 0
configure:37427: result: yes
configure:37349: checking whether system exists and is declared
configure:37387: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37393: $? = 0
configure:37400: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37403: $? = 0
configure:37410: test -s conftest
configure:37413: $? = 0
configure:37427: result: yes
configure:37349: checking whether unsetenv exists and is declared
configure:37387: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37393: $? = 0
configure:37400: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37403: $? = 0
configure:37410: test -s conftest
configure:37413: $? = 0
configure:37427: result: yes
configure:37442: checking whether strcoll exists and is declared
configure:37480: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37486: $? = 0
configure:37493: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37496: $? = 0
configure:37503: test -s conftest
configure:37506: $? = 0
configure:37520: result: yes
configure:37442: checking whether strerror exists and is declared
configure:37480: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37486: $? = 0
configure:37493: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37496: $? = 0
configure:37503: test -s conftest
configure:37506: $? = 0
configure:37520: result: yes
configure:37535: checking whether getrlimit exists and is declared
configure:37573: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37579: $? = 0
configure:37586: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37589: $? = 0
configure:37596: test -s conftest
configure:37599: $? = 0
configure:37613: result: yes
configure:37535: checking whether getrusage exists and is declared
configure:37573: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37579: $? = 0
configure:37586: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37589: $? = 0
configure:37596: test -s conftest
configure:37599: $? = 0
configure:37613: result: yes
configure:37628: checking whether mkfifo exists and is declared
configure:37666: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37672: $? = 0
configure:37679: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37682: $? = 0
configure:37689: test -s conftest
configure:37692: $? = 0
configure:37706: result: yes
configure:37628: checking whether stat exists and is declared
configure:37666: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37672: $? = 0
configure:37679: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37682: $? = 0
configure:37689: test -s conftest
configure:37692: $? = 0
configure:37706: result: yes
configure:37720: checking whether gettimeofday exists and is declared
configure:37758: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37764: $? = 0
configure:37771: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37774: $? = 0
configure:37781: test -s conftest
configure:37784: $? = 0
configure:37798: result: yes
configure:37812: checking whether times exists and is declared
configure:37850: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37856: $? = 0
configure:37863: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37866: $? = 0
configure:37873: test -s conftest
configure:37876: $? = 0
configure:37890: result: yes
configure:37904: checking whether time exists and is declared
configure:37942: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:37948: $? = 0
configure:37955: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:37958: $? = 0
configure:37965: test -s conftest
configure:37968: $? = 0
configure:37982: result: yes
configure:38003: checking whether access exists and is declared
configure:38043: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38049: $? = 0
configure:38056: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38059: $? = 0
configure:38066: test -s conftest
configure:38069: $? = 0
configure:38083: result: yes
configure:38003: checking whether chdir exists and is declared
configure:38043: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38049: $? = 0
configure:38056: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38059: $? = 0
configure:38066: test -s conftest
configure:38069: $? = 0
configure:38083: result: yes
configure:38003: checking whether execv exists and is declared
configure:38043: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38049: $? = 0
configure:38056: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38059: $? = 0
configure:38066: test -s conftest
configure:38069: $? = 0
configure:38083: result: yes
configure:38003: checking whether ftruncate exists and is declared
configure:38043: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38049: $? = 0
configure:38056: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38059: $? = 0
configure:38066: test -s conftest
configure:38069: $? = 0
configure:38083: result: yes
configure:38003: checking whether getcwd exists and is declared
configure:38043: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38049: $? = 0
configure:38056: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38059: $? = 0
configure:38066: test -s conftest
configure:38069: $? = 0
configure:38083: result: yes
configure:38003: checking whether getuid exists and is declared
configure:38043: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38049: $? = 0
configure:38056: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38059: $? = 0
configure:38066: test -s conftest
configure:38069: $? = 0
configure:38083: result: yes
configure:38003: checking whether symlink exists and is declared
configure:38043: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38049: $? = 0
configure:38056: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38059: $? = 0
configure:38066: test -s conftest
configure:38069: $? = 0
configure:38083: result: yes
configure:38003: checking whether sysconf exists and is declared
configure:38043: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38049: $? = 0
configure:38056: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38059: $? = 0
configure:38066: test -s conftest
configure:38069: $? = 0
configure:38083: result: yes
configure:38099: checking for putenv
configure:38163: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38169: $? = 0
configure:38176: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38179: $? = 0
configure:38186: test -s conftest
configure:38189: $? = 0
configure:38203: result: yes
configure:38213: checking whether putenv is declared
configure:38252: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:38258: $? = 0
configure:38265: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38268: $? = 0
configure:38275: test -s conftest.o
configure:38278: $? = 0
configure:38290: result: yes
configure:38313: checking for vasprintf
configure:38377: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
Undefined			first referenced
 symbol  			    in file
vasprintf                           /var/tmp//ccx.a4vp.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:38383: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| /* end confdefs.h.  */
| /* Define vasprintf to an innocuous variant, in case <limits.h> declares vasprintf.
|    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
| #define vasprintf innocuous_vasprintf
| 
| /* System header to define __stub macros and hopefully few prototypes,
|     which can conflict with char vasprintf (); below.
|     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
|     <limits.h> exists even on freestanding compilers.  */
| 
| #ifdef __STDC__
| # include <limits.h>
| #else
| # include <assert.h>
| #endif
| 
| #undef vasprintf
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char vasprintf ();
| /* The GNU C library defines this for functions which it implements
|     to always fail with ENOSYS.  Some functions are actually named
|     something starting with __ and the normal name is an alias.  */
| #if defined __stub_vasprintf || defined __stub___vasprintf
| choke me
| #endif
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return vasprintf ();
|   ;
|   return 0;
| }
configure:38417: result: no
configure:38427: checking whether vasprintf is declared
configure:38466: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c: In function `main':
conftest.c:153: error: `vasprintf' undeclared (first use in this function)
conftest.c:153: error: (Each undeclared identifier is reported only once
conftest.c:153: error: for each function it appears in.)
configure:38472: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| /* end confdefs.h.  */
| #include <stdio.h>
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| #ifndef vasprintf
|   char *p = (char *) vasprintf;
|   return !p;
| #endif
| 
|   ;
|   return 0;
| }
configure:38504: result: no
configure:38527: checking for realpath
configure:38591: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38597: $? = 0
configure:38604: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38607: $? = 0
configure:38614: test -s conftest
configure:38617: $? = 0
configure:38631: result: yes
configure:38641: checking whether realpath is declared
configure:38681: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:38687: $? = 0
configure:38694: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38697: $? = 0
configure:38704: test -s conftest.o
configure:38707: $? = 0
configure:38719: result: yes
configure:38742: checking whether glob exists and is declared
configure:38782: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38788: $? = 0
configure:38795: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38798: $? = 0
configure:38805: test -s conftest
configure:38808: $? = 0
configure:38822: result: yes
configure:38865: checking for isnan
configure:38929: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:38935: $? = 0
configure:38942: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:38945: $? = 0
configure:38952: test -s conftest
configure:38955: $? = 0
configure:38969: result: yes
configure:38979: checking whether isfinite is declared
configure:39018: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:39024: $? = 0
configure:39031: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39034: $? = 0
configure:39041: test -s conftest.o
configure:39044: $? = 0
configure:39056: result: yes
configure:39072: checking whether isnan is declared
configure:39111: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:39117: $? = 0
configure:39124: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39127: $? = 0
configure:39134: test -s conftest.o
configure:39137: $? = 0
configure:39149: result: yes
configure:39167: checking whether you have IEEE 754 floating-point arithmetic
configure:39179: result: yes
configure:39196: checking whether putenv("FOO") can unset an environment variable
configure:39236: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:39239: $? = 0
configure:39245: ./conftest
./configure: line 39246:  8062 Segmentation Fault      (core dumped) ./conftest$ac_exeext
configure:39248: $? = 139
configure: program exited with status 139
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| /* end confdefs.h.  */
| 
| #include "confdefs.h"
| #include <stdlib.h>
| #include <string.h>
| int main()
| {
|     char *p;
| #ifdef HAVE_PUTENV
|     putenv("R_TEST=testit");
|     p = getenv("R_TEST");
|     if(!p) exit(10);
|     if(strcmp(p, "testit")) exit(11);
|     putenv("R_TEST");
|     p = getenv("R_TEST");
|     if(!p) exit(0);
| #endif
|     exit(1);
| }
| 
configure:39264: result: no
configure:39276: checking whether putenv("FOO=") can unset an environment variable
configure:39316: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:39319: $? = 0
configure:39325: ./conftest
configure:39328: $? = 1
configure: program exited with status 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| /* end confdefs.h.  */
| 
| #include "confdefs.h"
| #include <stdlib.h>
| #include <string.h>
| int main()
| {
|     char *p;
| #ifdef HAVE_PUTENV
|     putenv("R_TEST=testit");
|     p = getenv("R_TEST");
|     if(!p) exit(10);
|     if(strcmp(p, "testit")) exit(11);
|     putenv("R_TEST=");
|     p = getenv("R_TEST");
|     if(!p) exit(0);
| #endif
|     exit(1);
| }
| 
configure:39344: result: no
configure:39361: checking for nl_langinfo and CODESET
configure:39395: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:39401: $? = 0
configure:39408: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39411: $? = 0
configure:39418: test -s conftest
configure:39421: $? = 0
configure:39435: result: yes
configure:39477: checking for acosh
configure:39541: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
conftest.c:172: warning: conflicting types for built-in function 'acosh'
configure:39547: $? = 0
configure:39554: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39557: $? = 0
configure:39564: test -s conftest
configure:39567: $? = 0
configure:39581: result: yes
configure:39477: checking for asinh
configure:39541: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
conftest.c:173: warning: conflicting types for built-in function 'asinh'
configure:39547: $? = 0
configure:39554: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39557: $? = 0
configure:39564: test -s conftest
configure:39567: $? = 0
configure:39581: result: yes
configure:39477: checking for atanh
configure:39541: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
conftest.c:174: warning: conflicting types for built-in function 'atanh'
configure:39547: $? = 0
configure:39554: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39557: $? = 0
configure:39564: test -s conftest
configure:39567: $? = 0
configure:39581: result: yes
configure:39477: checking for mkdtemp
configure:39541: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:39547: $? = 0
configure:39554: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39557: $? = 0
configure:39564: test -s conftest
configure:39567: $? = 0
configure:39581: result: yes
configure:39477: checking for snprintf
configure:39541: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
conftest.c:176: warning: conflicting types for built-in function 'snprintf'
configure:39547: $? = 0
configure:39554: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39557: $? = 0
configure:39564: test -s conftest
configure:39567: $? = 0
configure:39581: result: yes
configure:39477: checking for strdup
configure:39541: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
conftest.c:177: warning: conflicting types for built-in function 'strdup'
configure:39547: $? = 0
configure:39554: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39557: $? = 0
configure:39564: test -s conftest
configure:39567: $? = 0
configure:39581: result: yes
configure:39477: checking for strncasecmp
configure:39541: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
configure:39547: $? = 0
configure:39554: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39557: $? = 0
configure:39564: test -s conftest
configure:39567: $? = 0
configure:39581: result: yes
configure:39477: checking for vsnprintf
configure:39541: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
conftest.c:179: warning: conflicting types for built-in function 'vsnprintf'
configure:39547: $? = 0
configure:39554: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39557: $? = 0
configure:39564: test -s conftest
configure:39567: $? = 0
configure:39581: result: yes
configure:39600: checking whether acosh is declared
configure:39639: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:39645: $? = 0
configure:39652: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39655: $? = 0
configure:39662: test -s conftest.o
configure:39665: $? = 0
configure:39677: result: yes
configure:39693: checking whether asinh is declared
configure:39732: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:39738: $? = 0
configure:39745: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39748: $? = 0
configure:39755: test -s conftest.o
configure:39758: $? = 0
configure:39770: result: yes
configure:39786: checking whether atanh is declared
configure:39825: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:39831: $? = 0
configure:39838: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39841: $? = 0
configure:39848: test -s conftest.o
configure:39851: $? = 0
configure:39863: result: yes
configure:39881: checking whether mkdtemp is declared
configure:39919: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:39925: $? = 0
configure:39932: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:39935: $? = 0
configure:39942: test -s conftest.o
configure:39945: $? = 0
configure:39957: result: yes
configure:39973: checking whether snprintf is declared
configure:40011: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:40017: $? = 0
configure:40024: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:40027: $? = 0
configure:40034: test -s conftest.o
configure:40037: $? = 0
configure:40049: result: yes
configure:40065: checking whether strdup is declared
configure:40103: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:40109: $? = 0
configure:40116: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:40119: $? = 0
configure:40126: test -s conftest.o
configure:40129: $? = 0
configure:40141: result: yes
configure:40157: checking whether strncasecmp is declared
configure:40195: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:40201: $? = 0
configure:40208: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:40211: $? = 0
configure:40218: test -s conftest.o
configure:40221: $? = 0
configure:40233: result: yes
configure:40249: checking whether vsnprintf is declared
configure:40287: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:40293: $? = 0
configure:40300: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:40303: $? = 0
configure:40310: test -s conftest.o
configure:40313: $? = 0
configure:40325: result: yes
configure:40344: checking for library containing connect
configure:40393: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ldl -lm  >&5
Undefined			first referenced
 symbol  			    in file
connect                             /var/tmp//ccANaySq.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:40399: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char connect ();
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return connect ();
|   ;
|   return 0;
| }
configure:40393: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lsocket  -ldl -lm  >&5
configure:40399: $? = 0
configure:40406: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:40409: $? = 0
configure:40416: test -s conftest
configure:40419: $? = 0
configure:40443: result: -lsocket
configure:40451: checking for library containing gethostbyname
configure:40500: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lsocket -ldl -lm  >&5
Undefined			first referenced
 symbol  			    in file
gethostbyname                       /var/tmp//ccGbaaXq.o  (symbol belongs to implicit dependency /usr/lib/libnsl.so.1)
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:40506: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char gethostbyname ();
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return gethostbyname ();
|   ;
|   return 0;
| }
configure:40500: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl  -lsocket -ldl -lm  >&5
configure:40506: $? = 0
configure:40513: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:40516: $? = 0
configure:40523: test -s conftest
configure:40526: $? = 0
configure:40550: result: -lnsl
configure:40558: checking for library containing xdr_string
configure:40607: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:40613: $? = 0
configure:40620: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:40623: $? = 0
configure:40630: test -s conftest
configure:40633: $? = 0
configure:40657: result: none required
configure:40665: checking for __setfpucw
configure:40729: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
Undefined			first referenced
 symbol  			    in file
__setfpucw                          /var/tmp//ccaSaG4q.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:40735: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| /* end confdefs.h.  */
| /* Define __setfpucw to an innocuous variant, in case <limits.h> declares __setfpucw.
|    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
| #define __setfpucw innocuous___setfpucw
| 
| /* System header to define __stub macros and hopefully few prototypes,
|     which can conflict with char __setfpucw (); below.
|     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
|     <limits.h> exists even on freestanding compilers.  */
| 
| #ifdef __STDC__
| # include <limits.h>
| #else
| # include <assert.h>
| #endif
| 
| #undef __setfpucw
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char __setfpucw ();
| /* The GNU C library defines this for functions which it implements
|     to always fail with ENOSYS.  Some functions are actually named
|     something starting with __ and the normal name is an alias.  */
| #if defined __stub___setfpucw || defined __stub_____setfpucw
| choke me
| #endif
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return __setfpucw ();
|   ;
|   return 0;
| }
configure:40768: result: no
configure:40842: checking for working calloc
configure:40870: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:40873: $? = 0
configure:40879: ./conftest
configure:40882: $? = 0
configure:40898: result: yes
configure:40909: checking for working isfinite
configure:40942: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:40945: $? = 0
configure:40951: ./conftest
configure:40954: $? = 0
configure:40970: result: yes
configure:40982: checking for working log1p
configure:41033: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41036: $? = 0
configure:41042: ./conftest
configure:41045: $? = 0
configure:41061: result: yes
configure:41075: checking whether ftell works correctly on files opened for append
configure:41114: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
conftest.c:172: warning: return type defaults to `int'
conftest.c: In function `main':
conftest.c:182: warning: implicit declaration of function `unlink'
configure:41117: $? = 0
configure:41123: ./conftest
configure:41126: $? = 0
configure:41142: result: yes
configure:41153: checking for working sigaction
configure:41192: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41195: $? = 0
configure:41201: ./conftest
configure:41204: $? = 0
configure:41220: result: yes
configure:41232: checking whether C99 double complex is supported
configure:41237: result: 
configure:41249: checking complex.h usability
configure:41266: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:41272: $? = 0
configure:41279: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41282: $? = 0
configure:41289: test -s conftest.o
configure:41292: $? = 0
configure:41303: result: yes
configure:41307: checking complex.h presence
configure:41322: gcc -E -I/usr/local/include  conftest.c
configure:41328: $? = 0
configure:41349: result: yes
configure:41382: checking for complex.h
configure:41389: result: yes
configure:41401: checking for double complex
configure:41440: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:41446: $? = 0
configure:41453: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41456: $? = 0
configure:41463: test -s conftest.o
configure:41466: $? = 0
configure:41478: result: yes
configure:41492: checking whether cexp exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether clog exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether csqrt exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether cpow exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether ccos exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether csin exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether ctan exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether cacos exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether casin exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether catan exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether ccosh exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether csinh exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether ctanh exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether cacosh exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether casinh exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41492: checking whether catanh exists and is declared
configure:41530: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
configure:41536: $? = 0
configure:41543: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:41546: $? = 0
configure:41553: test -s conftest
configure:41556: $? = 0
configure:41570: result: yes
configure:41580: checking whether C99 double complex is compatible with Rcomplex
configure:41624: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
conftest.c: In function `main':
conftest.c:191: warning: passing arg 1 of `set_it' from incompatible pointer type
conftest.c:192: error: `_Complex_I' undeclared (first use in this function)
conftest.c:192: error: (Each undeclared identifier is reported only once
conftest.c:192: error: for each function it appears in.)
configure:41627: $? = 1
configure: program exited with status 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| /* end confdefs.h.  */
| 
| #include "confdefs.h"
| #include <complex.h>
| #include <stdlib.h>
| typedef struct {
|         double r;
|         double i;
| } Rcomplex;
| 
| void set_it(Rcomplex *z)
| {
|     z[0].r = 3.14159265;
|     z[0].i = 2.172;
|     z[1].i = 3.14159265;
|     z[1].r = 2.172;
|     z[2].r = 123.456;
|     z[2].i = 0.123456;
| }
| int main () {
|     double complex z[3];
| 
|     set_it(z);
|     if(cabs(z[2] - 123.456 - 0.123456 * _Complex_I) < 1e-4) exit(0);
|     else exit(1);
| }
| 
configure:41651: result: no
configure:41657: result: no
configure:41672: checking for cblas_cdotu_sub in vecLib framework
configure:41716: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -framework vecLib  -lnsl -lsocket -ldl -lm  >&5
gcc: vecLib: No such file or directory
cc1: error: unrecognized command line option "-framework"
configure:41722: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char cblas_cdotu_sub ();
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return cblas_cdotu_sub ();
|   ;
|   return 0;
| }
configure:41768: result: no
configure:43628: checking iconv.h usability
configure:43645: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:43651: $? = 0
configure:43658: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:43661: $? = 0
configure:43668: test -s conftest.o
configure:43671: $? = 0
configure:43682: result: yes
configure:43686: checking iconv.h presence
configure:43701: gcc -E -I/usr/local/include  conftest.c
configure:43707: $? = 0
configure:43728: result: yes
configure:43761: checking for iconv.h
configure:43769: result: yes
configure:43784: checking for iconv
configure:43825: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  >&5
Undefined			first referenced
 symbol  			    in file
libiconv_close                      /var/tmp//ccOfaans.o
libiconv_open                       /var/tmp//ccOfaans.o
libiconv                            /var/tmp//ccOfaans.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:43831: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| /* end confdefs.h.  */
| #include <stdlib.h>
| #ifdef HAVE_ICONV_H
| #include <iconv.h>
| #endif
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| iconv_t cd = iconv_open("","");
|        iconv(cd,NULL,NULL,NULL,NULL);
|        iconv_close(cd);
|   ;
|   return 0;
| }
configure:43900: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:43906: $? = 0
configure:43913: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:43916: $? = 0
configure:43923: test -s conftest
configure:43926: $? = 0
configure:43944: result: in libiconv
configure:43953: checking whether iconv accepts "UTF-8", "latin1" and "UCS-*"
configure:44028: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44031: $? = 0
configure:44037: ./conftest
configure:44040: $? = 0
configure:44056: result: yes
configure:44068: checking for iconvlist
configure:44109: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
conftest.c: In function `main':
conftest.c:190: warning: passing arg 1 of `libiconvlist' from incompatible pointer type
configure:44115: $? = 0
configure:44122: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44125: $? = 0
configure:44132: test -s conftest
configure:44135: $? = 0
configure:44149: result: yes
configure:44200: checking wchar.h usability
configure:44217: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:44223: $? = 0
configure:44230: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44233: $? = 0
configure:44240: test -s conftest.o
configure:44243: $? = 0
configure:44254: result: yes
configure:44258: checking wchar.h presence
configure:44273: gcc -E -I/usr/local/include  conftest.c
configure:44279: $? = 0
configure:44300: result: yes
configure:44333: checking for wchar.h
configure:44341: result: yes
configure:44200: checking wctype.h usability
configure:44217: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:44223: $? = 0
configure:44230: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44233: $? = 0
configure:44240: test -s conftest.o
configure:44243: $? = 0
configure:44254: result: yes
configure:44258: checking wctype.h presence
configure:44273: gcc -E -I/usr/local/include  conftest.c
configure:44279: $? = 0
configure:44300: result: yes
configure:44333: checking for wctype.h
configure:44341: result: yes
configure:44372: checking whether mbrtowc exists and is declared
configure:44410: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44416: $? = 0
configure:44423: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44426: $? = 0
configure:44433: test -s conftest
configure:44436: $? = 0
configure:44450: result: yes
configure:44372: checking whether wcrtomb exists and is declared
configure:44410: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44416: $? = 0
configure:44423: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44426: $? = 0
configure:44433: test -s conftest
configure:44436: $? = 0
configure:44450: result: yes
configure:44372: checking whether wcscoll exists and is declared
configure:44410: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44416: $? = 0
configure:44423: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44426: $? = 0
configure:44433: test -s conftest
configure:44436: $? = 0
configure:44450: result: yes
configure:44372: checking whether wcsftime exists and is declared
configure:44410: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44416: $? = 0
configure:44423: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44426: $? = 0
configure:44433: test -s conftest
configure:44436: $? = 0
configure:44450: result: yes
configure:44372: checking whether wcstod exists and is declared
configure:44410: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44416: $? = 0
configure:44423: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44426: $? = 0
configure:44433: test -s conftest
configure:44436: $? = 0
configure:44450: result: yes
configure:44465: checking whether mbstowcs exists and is declared
configure:44503: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44509: $? = 0
configure:44516: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44519: $? = 0
configure:44526: test -s conftest
configure:44529: $? = 0
configure:44543: result: yes
configure:44465: checking whether wcstombs exists and is declared
configure:44503: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44509: $? = 0
configure:44516: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44519: $? = 0
configure:44526: test -s conftest
configure:44529: $? = 0
configure:44543: result: yes
configure:44560: checking whether wctrans exists and is declared
configure:44598: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44604: $? = 0
configure:44611: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44614: $? = 0
configure:44621: test -s conftest
configure:44624: $? = 0
configure:44638: result: yes
configure:44560: checking whether iswblank exists and is declared
configure:44598: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44604: $? = 0
configure:44611: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44614: $? = 0
configure:44621: test -s conftest
configure:44624: $? = 0
configure:44638: result: yes
configure:44560: checking whether wctype exists and is declared
configure:44598: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44604: $? = 0
configure:44611: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44614: $? = 0
configure:44621: test -s conftest
configure:44624: $? = 0
configure:44638: result: yes
configure:44560: checking whether iswctype exists and is declared
configure:44598: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:44604: $? = 0
configure:44611: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44614: $? = 0
configure:44621: test -s conftest
configure:44624: $? = 0
configure:44638: result: yes
configure:44662: checking for wctrans_t
configure:44702: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:44708: $? = 0
configure:44715: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44718: $? = 0
configure:44725: test -s conftest.o
configure:44728: $? = 0
configure:44740: result: yes
configure:44750: checking for mbstate_t
configure:44790: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:44796: $? = 0
configure:44803: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:44806: $? = 0
configure:44813: test -s conftest.o
configure:44816: $? = 0
configure:44828: result: yes
configure:44863: checking for X
configure:45129: result: libraries /usr/openwin/lib, headers /usr/openwin/include
configure:45153: checking whether -R must be followed by a space
configure:45185: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv -R/usr/openwin/lib >&5
configure:45191: $? = 0
configure:45198: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:45201: $? = 0
configure:45208: test -s conftest
configure:45211: $? = 0
configure:45224: result: no
configure:45356: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv  -L/usr/openwin/lib -R/usr/openwin/lib -lX11 >&5
configure:45362: $? = 0
configure:45369: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:45372: $? = 0
configure:45379: test -s conftest
configure:45382: $? = 0
configure:45583: checking for gethostbyname
configure:45647: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:45653: $? = 0
configure:45660: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:45663: $? = 0
configure:45670: test -s conftest
configure:45673: $? = 0
configure:45686: result: yes
configure:45879: checking for connect
configure:45943: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:45949: $? = 0
configure:45956: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:45959: $? = 0
configure:45966: test -s conftest
configure:45969: $? = 0
configure:45982: result: yes
configure:46078: checking for remove
configure:46142: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:46148: $? = 0
configure:46155: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:46158: $? = 0
configure:46165: test -s conftest
configure:46168: $? = 0
configure:46181: result: yes
configure:46277: checking for shmat
configure:46341: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:46347: $? = 0
configure:46354: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:46357: $? = 0
configure:46364: test -s conftest
configure:46367: $? = 0
configure:46380: result: yes
configure:46485: checking for IceConnectionNumber in -lICE
configure:46528: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib -L/usr/openwin/lib conftest.c -lICE  -lnsl -lsocket -ldl -lm  -liconv >&5
configure:46534: $? = 0
configure:46541: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:46544: $? = 0
configure:46551: test -s conftest
configure:46554: $? = 0
configure:46568: result: yes
configure:46593: checking X11/Intrinsic.h usability
configure:46610: gcc -std=gnu99 -c -g -O2   -I/usr/openwin/include -I/usr/local/include  conftest.c >&5
configure:46616: $? = 0
configure:46623: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:46626: $? = 0
configure:46633: test -s conftest.o
configure:46636: $? = 0
configure:46647: result: yes
configure:46651: checking X11/Intrinsic.h presence
configure:46666: gcc -E -I/usr/local/include  conftest.c
configure:46672: $? = 0
configure:46693: result: yes
configure:46726: checking for X11/Intrinsic.h
configure:46733: result: yes
configure:46741: checking for XtToolkitInitialize in -lXt
configure:46784: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lXt  -L/usr/openwin/lib -R/usr/openwin/lib -lX11 -lnsl -lsocket -ldl -lm  -liconv >&5
configure:46790: $? = 0
configure:46797: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:46800: $? = 0
configure:46807: test -s conftest
configure:46810: $? = 0
configure:46824: result: yes
configure:46851: result: using X11 ... yes
configure:46864: checking for KeySym
configure:46903: gcc -std=gnu99 -c -g -O2   -I/usr/openwin/include -I/usr/local/include  conftest.c >&5
configure:46909: $? = 0
configure:46916: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:46919: $? = 0
configure:46926: test -s conftest.o
configure:46929: $? = 0
configure:46941: result: yes
configure:46972: checking X11/Xmu/Atoms.h usability
configure:46989: gcc -std=gnu99 -c -g -O2   -I/usr/openwin/include -I/usr/local/include  conftest.c >&5
configure:46995: $? = 0
configure:47002: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:47005: $? = 0
configure:47012: test -s conftest.o
configure:47015: $? = 0
configure:47026: result: yes
configure:47030: checking X11/Xmu/Atoms.h presence
configure:47045: gcc -E -I/usr/local/include  conftest.c
configure:47051: $? = 0
configure:47072: result: yes
configure:47105: checking for X11/Xmu/Atoms.h
configure:47112: result: yes
configure:47120: checking for XmuInternAtom in -lXmu
configure:47163: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lXmu  -L/usr/openwin/lib -R/usr/openwin/lib -lX11 -lXt -lnsl -lsocket -ldl -lm  -liconv >&5
configure:47169: $? = 0
configure:47176: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:47179: $? = 0
configure:47186: test -s conftest
configure:47189: $? = 0
configure:47203: result: yes
configure:47224: checking for CFStringGetSystemEncoding in CoreFoundation framework
configure:47268: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -framework CoreFoundation  -lnsl -lsocket -ldl -lm  -liconv >&5
gcc: CoreFoundation: No such file or directory
cc1: error: unrecognized command line option "-framework"
configure:47274: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char CFStringGetSystemEncoding ();
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return CFStringGetSystemEncoding ();
|   ;
|   return 0;
| }
configure:47320: result: no
configure:47366: checking for tclConfig.sh
configure:47399: result: no
configure:47408: checking for tclConfig.sh in library (sub)directories
configure:47426: result: /usr/lib/tclConfig.sh
configure:47441: checking for tkConfig.sh
configure:47474: result: no
configure:47483: checking for tkConfig.sh in library (sub)directories
configure:47501: result: /usr/lib/tkConfig.sh
configure:47584: checking /usr/include/tcl8.4/generic/tcl.h usability
configure:47601: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c:227:45: /usr/include/tcl8.4/generic/tcl.h: No such file or directory
configure:47607: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #if HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #if HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #if STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # if HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #if HAVE_STRING_H
| # if !STDC_HEADERS && HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #if HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #if HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #if HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #if HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include </usr/include/tcl8.4/generic/tcl.h>
configure:47638: result: no
configure:47642: checking /usr/include/tcl8.4/generic/tcl.h presence
configure:47657: gcc -E -I/usr/local/include  conftest.c
conftest.c:194:45: /usr/include/tcl8.4/generic/tcl.h: No such file or directory
configure:47663: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include </usr/include/tcl8.4/generic/tcl.h>
configure:47684: result: no
configure:47717: checking for /usr/include/tcl8.4/generic/tcl.h
configure:47725: result: no
configure:47584: checking /usr/include/tcl8.4/tcl.h usability
configure:47601: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c:227:37: /usr/include/tcl8.4/tcl.h: No such file or directory
configure:47607: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #if HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #if HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #if STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # if HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #if HAVE_STRING_H
| # if !STDC_HEADERS && HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #if HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #if HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #if HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #if HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include </usr/include/tcl8.4/tcl.h>
configure:47638: result: no
configure:47642: checking /usr/include/tcl8.4/tcl.h presence
configure:47657: gcc -E -I/usr/local/include  conftest.c
conftest.c:194:37: /usr/include/tcl8.4/tcl.h: No such file or directory
configure:47663: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include </usr/include/tcl8.4/tcl.h>
configure:47684: result: no
configure:47717: checking for /usr/include/tcl8.4/tcl.h
configure:47725: result: no
configure:47584: checking /usr/include/tcl.h usability
configure:47601: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:47607: $? = 0
configure:47614: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:47617: $? = 0
configure:47624: test -s conftest.o
configure:47627: $? = 0
configure:47638: result: yes
configure:47642: checking /usr/include/tcl.h presence
configure:47657: gcc -E -I/usr/local/include  conftest.c
configure:47663: $? = 0
configure:47684: result: yes
configure:47717: checking for /usr/include/tcl.h
configure:47725: result: yes
configure:47812: checking /usr/include/tk8.4/generic/tk.h usability
configure:47829: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  -I/usr/openwin/include -I/usr/include conftest.c >&5
conftest.c:227:43: /usr/include/tk8.4/generic/tk.h: No such file or directory
configure:47835: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #if HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #if HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #if STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # if HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #if HAVE_STRING_H
| # if !STDC_HEADERS && HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #if HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #if HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #if HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #if HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include </usr/include/tk8.4/generic/tk.h>
configure:47866: result: no
configure:47870: checking /usr/include/tk8.4/generic/tk.h presence
configure:47885: gcc -E -I/usr/local/include  -I/usr/openwin/include -I/usr/include conftest.c
conftest.c:194:43: /usr/include/tk8.4/generic/tk.h: No such file or directory
configure:47891: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include </usr/include/tk8.4/generic/tk.h>
configure:47912: result: no
configure:47945: checking for /usr/include/tk8.4/generic/tk.h
configure:47953: result: no
configure:47812: checking /usr/include/tk8.4/tk.h usability
configure:47829: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  -I/usr/openwin/include -I/usr/include conftest.c >&5
conftest.c:227:35: /usr/include/tk8.4/tk.h: No such file or directory
configure:47835: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #if HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #if HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #if STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # if HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #if HAVE_STRING_H
| # if !STDC_HEADERS && HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #if HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #if HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #if HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #if HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include </usr/include/tk8.4/tk.h>
configure:47866: result: no
configure:47870: checking /usr/include/tk8.4/tk.h presence
configure:47885: gcc -E -I/usr/local/include  -I/usr/openwin/include -I/usr/include conftest.c
conftest.c:194:35: /usr/include/tk8.4/tk.h: No such file or directory
configure:47891: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include </usr/include/tk8.4/tk.h>
configure:47912: result: no
configure:47945: checking for /usr/include/tk8.4/tk.h
configure:47953: result: no
configure:47812: checking /usr/include/tcl8.4/tk.h usability
configure:47829: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  -I/usr/openwin/include -I/usr/include conftest.c >&5
conftest.c:227:36: /usr/include/tcl8.4/tk.h: No such file or directory
configure:47835: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #if HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #if HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #if STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # if HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #if HAVE_STRING_H
| # if !STDC_HEADERS && HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #if HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #if HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #if HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #if HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include </usr/include/tcl8.4/tk.h>
configure:47866: result: no
configure:47870: checking /usr/include/tcl8.4/tk.h presence
configure:47885: gcc -E -I/usr/local/include  -I/usr/openwin/include -I/usr/include conftest.c
conftest.c:194:36: /usr/include/tcl8.4/tk.h: No such file or directory
configure:47891: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| /* end confdefs.h.  */
| #include </usr/include/tcl8.4/tk.h>
configure:47912: result: no
configure:47945: checking for /usr/include/tcl8.4/tk.h
configure:47953: result: no
configure:47812: checking /usr/include/tk.h usability
configure:47829: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  -I/usr/openwin/include -I/usr/include conftest.c >&5
configure:47835: $? = 0
configure:47842: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:47845: $? = 0
configure:47852: test -s conftest.o
configure:47855: $? = 0
configure:47866: result: yes
configure:47870: checking /usr/include/tk.h presence
configure:47885: gcc -E -I/usr/local/include  -I/usr/openwin/include -I/usr/include conftest.c
configure:47891: $? = 0
configure:47912: result: yes
configure:47945: checking for /usr/include/tk.h
configure:47953: result: yes
configure:48347: checking whether compiling/linking Tcl/Tk code works
configure:48395: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -I/usr/include -I/usr/include -I/usr/openwin/include -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv -L/usr/lib -ltcl8.4 -L/usr/lib -ltk8.4 -L/usr/openwin/lib -lX11 >&5
configure:48401: $? = 0
configure:48408: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:48411: $? = 0
configure:48418: test -s conftest
configure:48421: $? = 0
configure:48442: result: yes
configure:48469: checking for BSD networking
configure:48484: result: yes
configure:48513: checking if jpeglib version >= 6b
configure:48539: result: yes
configure:48544: checking for jpeg_destroy_compress in -ljpeg
configure:48587: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -ljpeg -lnsl -lsocket -ldl -lm  -liconv -lnsl -lsocket -ldl -lm  -liconv >&5
configure:48593: $? = 0
configure:48600: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:48603: $? = 0
configure:48610: test -s conftest
configure:48613: $? = 0
configure:48627: result: yes
configure:48646: checking for main in -lz
configure:48683: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lz  -lnsl -lsocket -ldl -lm  -liconv >&5
configure:48689: $? = 0
configure:48696: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:48699: $? = 0
configure:48706: test -s conftest
configure:48709: $? = 0
configure:48723: result: yes
configure:48732: checking if libpng version >= 1.0.5
configure:48758: result: yes
configure:48764: checking for png_create_write_struct in -lpng
configure:48807: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lpng -lz -lnsl -lsocket -ldl -lm  -liconv -lnsl -lsocket -ldl -lm  -liconv >&5
configure:48813: $? = 0
configure:48820: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:48823: $? = 0
configure:48830: test -s conftest
configure:48833: $? = 0
configure:48847: result: yes
configure:48879: checking rpc/types.h usability
configure:48896: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:48902: $? = 0
configure:48909: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:48912: $? = 0
configure:48919: test -s conftest.o
configure:48922: $? = 0
configure:48933: result: yes
configure:48937: checking rpc/types.h presence
configure:48952: gcc -E -I/usr/local/include  conftest.c
configure:48958: $? = 0
configure:48979: result: yes
configure:49012: checking for rpc/types.h
configure:49019: result: yes
configure:49026: checking for rpc/xdr.h
configure:49047: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:49053: $? = 0
configure:49060: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:49063: $? = 0
configure:49070: test -s conftest.o
configure:49073: $? = 0
configure:49085: result: yes
configure:49090: checking for XDR support
configure:49104: result: yes
configure:49444: checking whether zlib support needs to be compiled
configure:49451: result: yes
configure:49453: checking mmap support for zlib
configure:49483: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
conftest.c: In function `hello':
conftest.c:207: warning: passing arg 1 of `exit' makes integer from pointer without a cast
Undefined			first referenced
 symbol  			    in file
main                                /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/crt1.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:49486: $? = 1
configure: program exited with status 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| /* end confdefs.h.  */
| 
| #include <stdlib.h>
| #include <sys/types.h>
| #include <sys/mman.h>
| #include <sys/stat.h>
| caddr_t hello() {
|   exit(mmap((caddr_t)0, (off_t)0, PROT_READ, MAP_SHARED, 0, (off_t)0));
| }
| 
configure:49511: result: yes
configure:49796: checking whether bzip2 support needs to be compiled
configure:49803: result: yes
configure:50162: checking whether PCRE support needs to be compiled
configure:50168: result: yes
configure:50184: checking whether leap seconds are treated according to POSIX
configure:50221: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:50224: $? = 0
configure:50230: ./conftest
configure:50233: $? = 1
configure: program exited with status 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| /* end confdefs.h.  */
| 
| #include <stdlib.h>
| #include <time.h>
| #include <stdio.h>
| #include "confdefs.h"
| 
| int main () {
|   struct tm *tm;
|   time_t ct = 0; /* required on 64bit AIX */
| 
|   ctime(&ct);
|   ct = ct - (ct % 60);
|   tm = gmtime(&ct);
|   if(tm->tm_sec == 0) exit(1); else exit(0);
| }
| 
configure:50249: result: yes
configure:50266: checking for setitimer
configure:50330: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
configure:50336: $? = 0
configure:50343: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:50346: $? = 0
configure:50353: test -s conftest
configure:50356: $? = 0
configure:50370: result: yes
configure:50406: checking for special C compiler options needed for large files
configure:50541: result: no
configure:50547: checking for _FILE_OFFSET_BITS value needed for large files
configure:50591: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c:210: warning: left shift count >= width of type
conftest.c:210: warning: left shift count >= width of type
conftest.c:212: error: size of array `off_t_is_large' is negative
configure:50597: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| /* end confdefs.h.  */
| #include <sys/types.h>
|  /* Check that off_t can represent 2**63 - 1 correctly.
|     We can't simply define LARGE_OFF_T to be 9223372036854775807,
|     since some C++ compilers masquerading as C compilers
|     incorrectly reject 9223372036854775807.  */
| #define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))
|   int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
| 		       && LARGE_OFF_T % 2147483647 == 1)
| 		      ? 1 : -1];
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| 
|   ;
|   return 0;
| }
configure:50666: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:50672: $? = 0
configure:50679: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:50682: $? = 0
configure:50689: test -s conftest.o
configure:50692: $? = 0
configure:50706: result: 64
configure:50716: checking for _LARGE_FILES value needed for large files
configure:50760: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:50766: $? = 0
configure:50773: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:50776: $? = 0
configure:50783: test -s conftest.o
configure:50786: $? = 0
configure:50875: result: no
configure:50887: checking for _LARGEFILE_SOURCE value needed for large files
configure:50923: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c: In function `main':
conftest.c:217: warning: the address of `fseeko', will always evaluate as `true'
configure:50929: $? = 0
configure:50936: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:50939: $? = 0
configure:50946: test -s conftest.o
configure:50949: $? = 0
configure:51030: result: no
configure:51044: checking for fseeko
configure:51117: result: yes
configure:51144: checking whether KERN_USRSTACK sysctl is supported
configure:51181: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c -lnsl -lsocket -ldl -lm  -liconv >&5
conftest.c:213:24: sys/sysctl.h: No such file or directory
conftest.c: In function `main':
conftest.c:216: error: `CTL_KERN' undeclared (first use in this function)
conftest.c:216: error: (Each undeclared identifier is reported only once
conftest.c:216: error: for each function it appears in.)
conftest.c:216: error: `KERN_USRSTACK' undeclared (first use in this function)
conftest.c:219: warning: implicit declaration of function `sysctl'
configure:51184: $? = 1
configure: program exited with status 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| /* end confdefs.h.  */
| 
| #include "confdefs.h"
| #include <unistd.h>
| #include <stdlib.h>
| #include <sys/types.h>
| #include <sys/sysctl.h>
| 
| int main () {
|   int nm[2] = {CTL_KERN, KERN_USRSTACK};
|   void * base;
|   size_t len = sizeof(void *);
|   int r = sysctl(nm, 2, &base, &len, NULL, 0);
| 
|   exit((r==0)?0:1);
| }
| 
configure:51209: result: no
configure:51304: checking for lpr
configure:51320: found /bin/lpr
configure:51331: result: lpr
configure:51352: checking for paperconf
configure:51383: result: false
configure:51418: checking for java
configure:51436: found /bin/java
configure:51448: result: /bin/java
configure:51465: checking for javac
configure:51483: found /bin/javac
configure:51495: result: /bin/javac
configure:51510: checking for javah
configure:51528: found /bin/javah
configure:51540: result: /bin/javah
configure:51555: checking for jar
configure:51573: found /bin/jar
configure:51585: result: /bin/jar
configure:51598: checking whether Java compiler works
configure:51615: result: yes
configure:51621: checking whether Java interpreter works
configure:51633: running /bin/java -classpath tools getsp -test
configure:51635: output: 'Test1234OK'
configure:51645: result: yes
configure:51649: checking Java environment
configure:51662: running /bin/java -classpath tools getsp java.home
configure:51664: output: '/usr/jdk/instances/jdk1.6.0/jre'
configure:51672: result: /usr/jdk/instances/jdk1.6.0/jre
configure:51680: checking for cached Java settings
configure:51690: result: no
configure:51742: running /bin/java -classpath tools getsp -libs
configure:51744: output: '-L/usr/jdk/instances/jdk1.6.0/jre/lib/sparc/server -L/usr/jdk/instances/jdk1.6.0/jre/lib/sparc -L/usr/jdk/instances/jdk1.6.0/jre/../lib/sparc -L/usr/local/lib -L/export/local/lib -L/usr/jdk/packages/lib/sparc -L/lib -L/usr/lib'
configure:51754: running /bin/java -classpath tools getsp java.library.path
configure:51756: output: '/usr/jdk/instances/jdk1.6.0/jre/lib/sparc/server:/usr/jdk/instances/jdk1.6.0/jre/lib/sparc:/usr/jdk/instances/jdk1.6.0/jre/../lib/sparc:/usr/local/lib:/export/local/lib:/usr/jdk/packages/lib/sparc:/lib:/usr/lib'
configure:51819: checking whether JNI programs can be compiled
configure:51844: gcc -std=gnu99 -o conftest -g -O2  -I/usr/jdk/instances/jdk1.6.0/jre/../include -I/usr/jdk/instances/jdk1.6.0/jre/../include/solaris -L/usr/local/lib conftest.c -L/usr/jdk/instances/jdk1.6.0/jre/lib/sparc/server -L/usr/jdk/instances/jdk1.6.0/jre/lib/sparc -L/usr/jdk/instances/jdk1.6.0/jre/../lib/sparc -L/usr/local/lib -L/export/local/lib -L/usr/jdk/packages/lib/sparc -L/lib -L/usr/lib -ljvm >&5
configure:51850: $? = 0
configure:51857: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:51860: $? = 0
configure:51867: test -s conftest
configure:51870: $? = 0
configure:51953: result: yes
configure:52052: checking for gfortran
configure:52082: result: no
configure:52052: checking for g95
configure:52082: result: no
configure:52052: checking for f95
configure:52082: result: no
configure:52052: checking for fort
configure:52082: result: no
configure:52052: checking for xlf95
configure:52082: result: no
configure:52052: checking for ifort
configure:52082: result: no
configure:52052: checking for ifc
configure:52082: result: no
configure:52052: checking for efc
configure:52082: result: no
configure:52052: checking for pgf95
configure:52082: result: no
configure:52052: checking for lf95
configure:52082: result: no
configure:52052: checking for ftn
configure:52082: result: no
configure:52052: checking for f90
configure:52082: result: no
configure:52052: checking for xlf90
configure:52082: result: no
configure:52052: checking for pgf90
configure:52082: result: no
configure:52052: checking for pghpf
configure:52082: result: no
configure:52052: checking for epcf90
configure:52082: result: no
configure:52052: checking for g77
configure:52068: found /usr/sfw/bin/g77
configure:52079: result: g77
configure:52109: checking for Fortran compiler version
configure:52116: g77 --version >&5
GNU Fortran (GCC) 3.4.3 (csl-sol210-3_4-20050802)
Copyright (C) 2004 Free Software Foundation, Inc.

GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
You may redistribute copies of GNU Fortran
under the terms of the GNU General Public License.
For more information about these matters, see the file named COPYING
or type the command `info -f g77 Copying'.
configure:52119: $? = 0
configure:52126: g77 -v >&5
Reading specs from /usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/specs
Configured with: /gates/sfwnv/builds/sfwnv-gate/usr/src/cmd/gcc/gcc-3.4.3/configure --prefix=/usr/sfw --with-as=/usr/ccs/bin/as --without-gnu-as --with-ld=/usr/ccs/bin/ld --without-gnu-ld --enable-languages=c,c++,f77,objc --enable-shared
Thread model: posix
gcc version 3.4.3 (csl-sol210-3_4-20050802)
configure:52129: $? = 0
configure:52136: g77 -V >&5
g77: `-V' option must have argument
configure:52139: $? = 1
configure:52147: checking whether we are using the GNU Fortran compiler
configure:52166: g77 -c   conftest.F >&5
configure:52172: $? = 0
configure:52179: test -z "$ac_fc_werror_flag" || test ! -s conftest.err
configure:52182: $? = 0
configure:52189: test -s conftest.o
configure:52192: $? = 0
configure:52206: result: yes
configure:52212: checking whether g77 accepts -g
configure:52229: g77 -c -g  conftest.f >&5
configure:52235: $? = 0
configure:52242: test -z "$ac_fc_werror_flag" || test ! -s conftest.err
configure:52245: $? = 0
configure:52252: test -s conftest.o
configure:52255: $? = 0
configure:52268: result: yes
configure:52302: checking for Fortran flag to compile .f90 files
configure:52324: g77 -c -g -O2  conftest.f90 >&5
g77: conftest.f90: linker input file unused because linking not done
configure:52330: $? = 0
configure:52337: test -z "$ac_fc_werror_flag" || test ! -s conftest.err
configure:52340: $? = 0
configure:52347: test -s conftest.o
configure:52350: $? = 1
configure: failed program was:
|       program main
| 
|       end
configure:52324: g77 -c -g -O2 -qsuffix=f=f90 conftest.f90 >&5
g77: unrecognized option `-qsuffix=f=f90'
g77: conftest.f90: linker input file unused because linking not done
configure:52330: $? = 0
configure:52337: test -z "$ac_fc_werror_flag" || test ! -s conftest.err
configure:52340: $? = 0
configure:52347: test -s conftest.o
configure:52350: $? = 1
configure: failed program was:
|       program main
| 
|       end
configure:52324: g77 -c -g -O2 -Tf conftest.f90 >&5
g77: conftest.f90: linker input file unused because linking not done
configure:52330: $? = 0
configure:52337: test -z "$ac_fc_werror_flag" || test ! -s conftest.err
configure:52340: $? = 0
configure:52347: test -s conftest.o
configure:52350: $? = 1
configure: failed program was:
|       program main
| 
|       end
configure:52366: result: unknown
configure:52391: checking for Fortran flag to compile .f95 files
configure:52413: g77 -c -g -O2  conftest.f95 >&5
g77: conftest.f95: linker input file unused because linking not done
configure:52419: $? = 0
configure:52426: test -z "$ac_fc_werror_flag" || test ! -s conftest.err
configure:52429: $? = 0
configure:52436: test -s conftest.o
configure:52439: $? = 1
configure: failed program was:
|       program main
| 
|       end
configure:52413: g77 -c -g -O2 -qsuffix=f=f95 conftest.f95 >&5
g77: unrecognized option `-qsuffix=f=f95'
g77: conftest.f95: linker input file unused because linking not done
configure:52419: $? = 0
configure:52426: test -z "$ac_fc_werror_flag" || test ! -s conftest.err
configure:52429: $? = 0
configure:52436: test -s conftest.o
configure:52439: $? = 1
configure: failed program was:
|       program main
| 
|       end
configure:52413: g77 -c -g -O2 -Tf conftest.f95 >&5
g77: conftest.f95: linker input file unused because linking not done
configure:52419: $? = 0
configure:52426: test -z "$ac_fc_werror_flag" || test ! -s conftest.err
configure:52429: $? = 0
configure:52436: test -s conftest.o
configure:52439: $? = 1
configure: failed program was:
|       program main
| 
|       end
configure:52455: result: unknown
configure:52713: checking whether NLS is requested
configure:52722: result: yes
configure:52728: checking whether make sets $(MAKE)
configure:52749: result: yes
configure:52825: checking for msgfmt
configure: trying /bin/msgfmt...
Usage: msgfmt [-D dir | --directory=dir] [-f | --use-fuzzy]
               [-g] [-o outfile | --output-file=outfile]
               [-s] [--strict] [-v] [--verbose] files ...
configure: trying /usr/bin/msgfmt...
Usage: msgfmt [-D dir | --directory=dir] [-f | --use-fuzzy]
               [-g] [-o outfile | --output-file=outfile]
               [-s] [--strict] [-v] [--verbose] files ...
configure:52860: result: no
configure:52866: checking for gmsgfmt
configure:52897: result: :
configure:52948: checking for xgettext
configure: trying /bin/xgettext...
/bin/xgettext: illegal option -- omit-header
/bin/xgettext: illegal option -- copyright-holder=
/bin/xgettext: illegal option -- msgid-bugs-address=
Usage:	xgettext [-a [-x exclude-file]] [-jns][-c comment-tag]
	[-d default-domain] [-m prefix] [-M suffix] [-p pathname] files ...
	xgettext -h
configure: trying /usr/bin/xgettext...
/usr/bin/xgettext: illegal option -- omit-header
/usr/bin/xgettext: illegal option -- copyright-holder=
/usr/bin/xgettext: illegal option -- msgid-bugs-address=
Usage:	xgettext [-a [-x exclude-file]] [-jns][-c comment-tag]
	[-d default-domain] [-m prefix] [-M suffix] [-p pathname] files ...
	xgettext -h
configure:52983: result: no
configure:53026: checking for msgmerge
configure:53060: result: no
configure:53072: checking whether we are using the GNU C Library 2 or newer
conftest.c:210:22: features.h: No such file or directory
configure:53103: result: no
configure:53114: checking for simple visibility declarations
configure:53154: gcc -std=gnu99 -c -g -O2  -fvisibility=hidden -I/usr/local/include  conftest.c >&5
cc1: error: unrecognized command line option "-fvisibility=hidden"
configure:53160: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| /* end confdefs.h.  */
| extern __attribute__((__visibility__("hidden"))) int hiddenvar;
|          extern __attribute__((__visibility__("default"))) int exportedvar;
|          extern __attribute__((__visibility__("hidden"))) int hiddenfunc (void);
|          extern __attribute__((__visibility__("default"))) int exportedfunc (void);
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| 
|   ;
|   return 0;
| }
configure:53194: result: no
configure:53209: checking for inline
configure:53235: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:53241: $? = 0
configure:53248: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:53251: $? = 0
configure:53258: test -s conftest.o
configure:53261: $? = 0
configure:53276: result: inline
configure:53296: checking for stdint.h
configure:53331: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:53337: $? = 0
configure:53344: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:53347: $? = 0
configure:53354: test -s conftest.o
configure:53357: $? = 0
configure:53369: result: yes
configure:53385: checking for stdlib.h
configure:53391: result: yes
configure:53385: checking for unistd.h
configure:53391: result: yes
configure:53553: checking for getpagesize
configure:53617: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:53623: $? = 0
configure:53630: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:53633: $? = 0
configure:53640: test -s conftest
configure:53643: $? = 0
configure:53657: result: yes
configure:53667: checking for working mmap
configure:53814: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:53817: $? = 0
configure:53823: ./conftest
configure:53826: $? = 0
configure:53842: result: yes
configure:53855: checking whether integer division by zero raises SIGFPE
configure:53922: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:53925: $? = 0
configure:53931: ./conftest
configure:53934: $? = 0
configure:53951: result: yes
configure:53964: checking for inttypes.h
configure:53999: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:54005: $? = 0
configure:54012: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:54015: $? = 0
configure:54022: test -s conftest.o
configure:54025: $? = 0
configure:54037: result: yes
configure:54048: checking for unsigned long long int
configure:54087: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:54093: $? = 0
configure:54100: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:54103: $? = 0
configure:54110: test -s conftest
configure:54113: $? = 0
configure:54126: result: yes
configure:54174: checking for inttypes.h
configure:54180: result: yes
configure:54339: checking whether the inttypes.h PRIxNN macros are broken
configure:54378: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:54384: $? = 0
configure:54391: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:54394: $? = 0
configure:54401: test -s conftest.o
configure:54404: $? = 0
configure:54417: result: no
configure:54511: checking for ld used by GCC
configure:54575: result: /usr/ccs/bin/ld
configure:54584: checking if the linker (/usr/ccs/bin/ld) is GNU ld
configure:54597: result: no
configure:54604: checking for shared library run path origin
configure:54617: result: done
configure:54642: checking whether imported symbols can be declared weak
configure:54675: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:54681: $? = 0
configure:54688: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:54691: $? = 0
configure:54698: test -s conftest
configure:54701: $? = 0
configure:54713: result: yes
configure:55471: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv -lthread >&5
configure:55477: $? = 0
configure:55484: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:55487: $? = 0
configure:55494: test -s conftest
configure:55497: $? = 0
configure:56077: checking for multithread API to use
configure:56079: result: solaris
configure:56508: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56514: $? = 0
configure:56521: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56524: $? = 0
configure:56531: test -s conftest
configure:56534: $? = 0
configure:56570: checking argz.h usability
configure:56587: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c:257:18: argz.h: No such file or directory
configure:56593: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #if HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #if HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #if STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # if HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #if HAVE_STRING_H
| # if !STDC_HEADERS && HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #if HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #if HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #if HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #if HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include <argz.h>
configure:56624: result: no
configure:56628: checking argz.h presence
configure:56643: gcc -E -I/usr/local/include  conftest.c
conftest.c:224:18: argz.h: No such file or directory
configure:56649: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| /* end confdefs.h.  */
| #include <argz.h>
configure:56670: result: no
configure:56703: checking for argz.h
configure:56711: result: no
configure:56560: checking for inttypes.h
configure:56566: result: yes
configure:56560: checking for limits.h
configure:56566: result: yes
configure:56560: checking for unistd.h
configure:56566: result: yes
configure:56560: checking for sys/param.h
configure:56566: result: yes
configure:56745: checking for getcwd
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56745: checking for getegid
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56745: checking for geteuid
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56745: checking for getgid
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56745: checking for getuid
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56745: checking for mempcpy
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
conftest.c:256: warning: conflicting types for built-in function 'mempcpy'
Undefined			first referenced
 symbol  			    in file
mempcpy                             /var/tmp//ccbYaW1w.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:56815: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| /* end confdefs.h.  */
| /* Define mempcpy to an innocuous variant, in case <limits.h> declares mempcpy.
|    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
| #define mempcpy innocuous_mempcpy
| 
| /* System header to define __stub macros and hopefully few prototypes,
|     which can conflict with char mempcpy (); below.
|     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
|     <limits.h> exists even on freestanding compilers.  */
| 
| #ifdef __STDC__
| # include <limits.h>
| #else
| # include <assert.h>
| #endif
| 
| #undef mempcpy
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char mempcpy ();
| /* The GNU C library defines this for functions which it implements
|     to always fail with ENOSYS.  Some functions are actually named
|     something starting with __ and the normal name is an alias.  */
| #if defined __stub_mempcpy || defined __stub___mempcpy
| choke me
| #endif
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return mempcpy ();
|   ;
|   return 0;
| }
configure:56849: result: no
configure:56745: checking for munmap
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56745: checking for stpcpy
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
conftest.c:257: warning: conflicting types for built-in function 'stpcpy'
Undefined			first referenced
 symbol  			    in file
stpcpy                              /var/tmp//ccjAaW8w.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:56815: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| /* end confdefs.h.  */
| /* Define stpcpy to an innocuous variant, in case <limits.h> declares stpcpy.
|    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
| #define stpcpy innocuous_stpcpy
| 
| /* System header to define __stub macros and hopefully few prototypes,
|     which can conflict with char stpcpy (); below.
|     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
|     <limits.h> exists even on freestanding compilers.  */
| 
| #ifdef __STDC__
| # include <limits.h>
| #else
| # include <assert.h>
| #endif
| 
| #undef stpcpy
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char stpcpy ();
| /* The GNU C library defines this for functions which it implements
|     to always fail with ENOSYS.  Some functions are actually named
|     something starting with __ and the normal name is an alias.  */
| #if defined __stub_stpcpy || defined __stub___stpcpy
| choke me
| #endif
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return stpcpy ();
|   ;
|   return 0;
| }
configure:56849: result: no
configure:56745: checking for strcasecmp
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56745: checking for strdup
configure:56849: result: yes
configure:56745: checking for strtoul
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56745: checking for tsearch
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56745: checking for argz_count
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
Undefined			first referenced
 symbol  			    in file
argz_count                          /var/tmp//cc74aynx.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:56815: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| /* end confdefs.h.  */
| /* Define argz_count to an innocuous variant, in case <limits.h> declares argz_count.
|    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
| #define argz_count innocuous_argz_count
| 
| /* System header to define __stub macros and hopefully few prototypes,
|     which can conflict with char argz_count (); below.
|     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
|     <limits.h> exists even on freestanding compilers.  */
| 
| #ifdef __STDC__
| # include <limits.h>
| #else
| # include <assert.h>
| #endif
| 
| #undef argz_count
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char argz_count ();
| /* The GNU C library defines this for functions which it implements
|     to always fail with ENOSYS.  Some functions are actually named
|     something starting with __ and the normal name is an alias.  */
| #if defined __stub_argz_count || defined __stub___argz_count
| choke me
| #endif
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return argz_count ();
|   ;
|   return 0;
| }
configure:56849: result: no
configure:56745: checking for argz_stringify
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
Undefined			first referenced
 symbol  			    in file
argz_stringify                      /var/tmp//cctjaqqx.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:56815: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| /* end confdefs.h.  */
| /* Define argz_stringify to an innocuous variant, in case <limits.h> declares argz_stringify.
|    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
| #define argz_stringify innocuous_argz_stringify
| 
| /* System header to define __stub macros and hopefully few prototypes,
|     which can conflict with char argz_stringify (); below.
|     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
|     <limits.h> exists even on freestanding compilers.  */
| 
| #ifdef __STDC__
| # include <limits.h>
| #else
| # include <assert.h>
| #endif
| 
| #undef argz_stringify
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char argz_stringify ();
| /* The GNU C library defines this for functions which it implements
|     to always fail with ENOSYS.  Some functions are actually named
|     something starting with __ and the normal name is an alias.  */
| #if defined __stub_argz_stringify || defined __stub___argz_stringify
| choke me
| #endif
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return argz_stringify ();
|   ;
|   return 0;
| }
configure:56849: result: no
configure:56745: checking for argz_next
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
Undefined			first referenced
 symbol  			    in file
argz_next                           /var/tmp//ccNzaitx.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:56815: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| /* end confdefs.h.  */
| /* Define argz_next to an innocuous variant, in case <limits.h> declares argz_next.
|    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
| #define argz_next innocuous_argz_next
| 
| /* System header to define __stub macros and hopefully few prototypes,
|     which can conflict with char argz_next (); below.
|     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
|     <limits.h> exists even on freestanding compilers.  */
| 
| #ifdef __STDC__
| # include <limits.h>
| #else
| # include <assert.h>
| #endif
| 
| #undef argz_next
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char argz_next ();
| /* The GNU C library defines this for functions which it implements
|     to always fail with ENOSYS.  Some functions are actually named
|     something starting with __ and the normal name is an alias.  */
| #if defined __stub_argz_next || defined __stub___argz_next
| choke me
| #endif
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return argz_next ();
|   ;
|   return 0;
| }
configure:56849: result: no
configure:56745: checking for __fsetlocking
configure:56809: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:56815: $? = 0
configure:56822: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:56825: $? = 0
configure:56832: test -s conftest
configure:56835: $? = 0
configure:56849: result: yes
configure:56861: checking whether feof_unlocked is declared
configure:56899: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c: In function `main':
conftest.c:253: error: `feof_unlocked' undeclared (first use in this function)
conftest.c:253: error: (Each undeclared identifier is reported only once
conftest.c:253: error: for each function it appears in.)
configure:56905: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| 
| #ifndef feof_unlocked
|   char *p = (char *) feof_unlocked;
| #endif
| 
|   ;
|   return 0;
| }
configure:56937: result: no
configure:56951: checking whether fgets_unlocked is declared
configure:56989: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c: In function `main':
conftest.c:254: error: `fgets_unlocked' undeclared (first use in this function)
conftest.c:254: error: (Each undeclared identifier is reported only once
conftest.c:254: error: for each function it appears in.)
configure:56995: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| /* end confdefs.h.  */
| #include <stdio.h>
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| 
| #ifndef fgets_unlocked
|   char *p = (char *) fgets_unlocked;
| #endif
| 
|   ;
|   return 0;
| }
configure:57027: result: no
configure:57071: checking for iconv
configure:57111: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:57117: $? = 0
configure:57124: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:57127: $? = 0
configure:57134: test -s conftest
configure:57137: $? = 0
configure:57227: result: yes
configure:57250: checking for iconv declaration
configure:57297: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c:250: error: conflicting types for 'libiconv'
/usr/local/include/iconv.h:83: error: previous declaration of 'libiconv' was here
conftest.c:250: error: conflicting types for 'libiconv'
/usr/local/include/iconv.h:83: error: previous declaration of 'libiconv' was here
configure:57303: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| /* end confdefs.h.  */
| 
| #include <stdlib.h>
| #include <iconv.h>
| extern
| #ifdef __cplusplus
| "C"
| #endif
| #if defined(__STDC__) || defined(__cplusplus)
| size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
| #else
| size_t iconv();
| #endif
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| 
|   ;
|   return 0;
| }
configure:57339: result: 
         extern size_t iconv (iconv_t cd, const char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
configure:57350: checking for NL_LOCALE_NAME macro
configure:57385: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
conftest.c: In function `main':
conftest.c:256: warning: implicit declaration of function `_NL_LOCALE_NAME'
Undefined			first referenced
 symbol  			    in file
_NL_LOCALE_NAME                     /var/tmp//cck2aOIx.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:57391: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| #define ICONV_CONST const
| /* end confdefs.h.  */
| #include <langinfo.h>
| #include <locale.h>
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| char* cs = nl_langinfo(_NL_LOCALE_NAME(LC_MESSAGES));
|   ;
|   return 0;
| }
configure:57425: result: no
configure:57439: checking for bison
configure:57455: found /bin/bison
configure:57466: result: bison
configure:57480: checking version of bison
configure:57489: result: 2.3, ok
configure:57497: checking for long long int
configure:57538: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:57544: $? = 0
configure:57551: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:57554: $? = 0
configure:57561: test -s conftest
configure:57564: $? = 0
configure:57577: result: yes
configure:57588: checking for long double
configure:57669: result: yes
configure:57680: checking for wchar_t
configure:57715: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:57721: $? = 0
configure:57728: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:57731: $? = 0
configure:57738: test -s conftest.o
configure:57741: $? = 0
configure:57753: result: yes
configure:57764: checking for wint_t
configure:57799: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:57805: $? = 0
configure:57812: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:57815: $? = 0
configure:57822: test -s conftest.o
configure:57825: $? = 0
configure:57837: result: yes
configure:57850: checking for intmax_t
configure:57894: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:57900: $? = 0
configure:57907: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:57910: $? = 0
configure:57917: test -s conftest.o
configure:57920: $? = 0
configure:57932: result: yes
configure:57944: checking whether printf() supports POSIX/XSI format strings
configure:57999: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:58002: $? = 0
configure:58008: ./conftest
configure:58011: $? = 0
configure:58028: result: yes
configure:58041: checking whether we are using the GNU C Library 2.1 or newer
conftest.c:250:22: features.h: No such file or directory
configure:58072: result: no
configure:58084: checking for stdint.h
configure:58090: result: yes
configure:58248: checking for SIZE_MAX
configure:59252: result: yes
configure:59270: checking for stdint.h
configure:59276: result: yes
configure:59436: checking for CFPreferencesCopyAppValue
configure:59472: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv -Wl,-framework -Wl,CoreFoundation >&5
conftest.c:251:42: CoreFoundation/CFPreferences.h: No such file or directory
conftest.c: In function `main':
conftest.c:263: warning: implicit declaration of function `CFPreferencesCopyAppValue'
conftest.c:263: error: `NULL' undeclared (first use in this function)
conftest.c:263: error: (Each undeclared identifier is reported only once
conftest.c:263: error: for each function it appears in.)
configure:59478: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| #define ICONV_CONST const
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_LONG_DOUBLE 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| /* end confdefs.h.  */
| #include <CoreFoundation/CFPreferences.h>
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| CFPreferencesCopyAppValue(NULL, NULL)
|   ;
|   return 0;
| }
configure:59512: result: no
configure:59521: checking for CFLocaleCopyCurrent
configure:59557: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv -Wl,-framework -Wl,CoreFoundation >&5
conftest.c:251:37: CoreFoundation/CFLocale.h: No such file or directory
conftest.c: In function `main':
conftest.c:263: warning: implicit declaration of function `CFLocaleCopyCurrent'
configure:59563: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| #define ICONV_CONST const
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_LONG_DOUBLE 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| /* end confdefs.h.  */
| #include <CoreFoundation/CFLocale.h>
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| CFLocaleCopyCurrent();
|   ;
|   return 0;
| }
configure:59597: result: no
configure:59617: checking for ptrdiff_t
configure:59655: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:59661: $? = 0
configure:59668: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:59671: $? = 0
configure:59678: test -s conftest.o
configure:59681: $? = 0
configure:59693: result: yes
configure:59723: checking stddef.h usability
configure:59740: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
configure:59746: $? = 0
configure:59753: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:59756: $? = 0
configure:59763: test -s conftest.o
configure:59766: $? = 0
configure:59777: result: yes
configure:59781: checking stddef.h presence
configure:59796: gcc -E -I/usr/local/include  conftest.c
configure:59802: $? = 0
configure:59823: result: yes
configure:59856: checking for stddef.h
configure:59864: result: yes
configure:59713: checking for stdlib.h
configure:59719: result: yes
configure:59713: checking for string.h
configure:59719: result: yes
configure:59887: checking for asprintf
configure:59951: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
Undefined			first referenced
 symbol  			    in file
asprintf                            /var/tmp//ccNcaOfy.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:59957: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| #define ICONV_CONST const
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_LONG_DOUBLE 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDDEF_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| /* end confdefs.h.  */
| /* Define asprintf to an innocuous variant, in case <limits.h> declares asprintf.
|    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
| #define asprintf innocuous_asprintf
| 
| /* System header to define __stub macros and hopefully few prototypes,
|     which can conflict with char asprintf (); below.
|     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
|     <limits.h> exists even on freestanding compilers.  */
| 
| #ifdef __STDC__
| # include <limits.h>
| #else
| # include <assert.h>
| #endif
| 
| #undef asprintf
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char asprintf ();
| /* The GNU C library defines this for functions which it implements
|     to always fail with ENOSYS.  Some functions are actually named
|     something starting with __ and the normal name is an alias.  */
| #if defined __stub_asprintf || defined __stub___asprintf
| choke me
| #endif
| 
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| return asprintf ();
|   ;
|   return 0;
| }
configure:59991: result: no
configure:59887: checking for fwprintf
configure:59951: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:59957: $? = 0
configure:59964: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:59967: $? = 0
configure:59974: test -s conftest
configure:59977: $? = 0
configure:59991: result: yes
configure:59887: checking for putenv
configure:59991: result: yes
configure:59887: checking for setenv
configure:59951: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:59957: $? = 0
configure:59964: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:59967: $? = 0
configure:59974: test -s conftest
configure:59977: $? = 0
configure:59991: result: yes
configure:59887: checking for setlocale
configure:59951: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:59957: $? = 0
configure:59964: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:59967: $? = 0
configure:59974: test -s conftest
configure:59977: $? = 0
configure:59991: result: yes
configure:59887: checking for snprintf
configure:59991: result: yes
configure:59887: checking for wcslen
configure:59951: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:59957: $? = 0
configure:59964: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:59967: $? = 0
configure:59974: test -s conftest
configure:59977: $? = 0
configure:59991: result: yes
configure:60003: checking whether _snprintf is declared
configure:60041: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c: In function `main':
conftest.c:274: error: `_snprintf' undeclared (first use in this function)
conftest.c:274: error: (Each undeclared identifier is reported only once
conftest.c:274: error: for each function it appears in.)
configure:60047: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| #define ICONV_CONST const
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_LONG_DOUBLE 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDDEF_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_FWPRINTF 1
| #define HAVE_PUTENV 1
| #define HAVE_SETENV 1
| #define HAVE_SETLOCALE 1
| #define HAVE_SNPRINTF 1
| #define HAVE_WCSLEN 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| 
| #ifndef _snprintf
|   char *p = (char *) _snprintf;
| #endif
| 
|   ;
|   return 0;
| }
configure:60079: result: no
configure:60093: checking whether _snwprintf is declared
configure:60131: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c: In function `main':
conftest.c:275: error: `_snwprintf' undeclared (first use in this function)
conftest.c:275: error: (Each undeclared identifier is reported only once
conftest.c:275: error: for each function it appears in.)
configure:60137: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| #define ICONV_CONST const
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_LONG_DOUBLE 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDDEF_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_FWPRINTF 1
| #define HAVE_PUTENV 1
| #define HAVE_SETENV 1
| #define HAVE_SETLOCALE 1
| #define HAVE_SNPRINTF 1
| #define HAVE_WCSLEN 1
| #define HAVE_DECL__SNPRINTF 0
| /* end confdefs.h.  */
| #include <stdio.h>
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| 
| #ifndef _snwprintf
|   char *p = (char *) _snwprintf;
| #endif
| 
|   ;
|   return 0;
| }
configure:60169: result: no
configure:60184: checking whether getc_unlocked is declared
configure:60222: gcc -std=gnu99 -c -g -O2  -I/usr/local/include  conftest.c >&5
conftest.c: In function `main':
conftest.c:276: error: `getc_unlocked' undeclared (first use in this function)
conftest.c:276: error: (Each undeclared identifier is reported only once
conftest.c:276: error: for each function it appears in.)
configure:60228: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| #define ICONV_CONST const
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_LONG_DOUBLE 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDDEF_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_FWPRINTF 1
| #define HAVE_PUTENV 1
| #define HAVE_SETENV 1
| #define HAVE_SETLOCALE 1
| #define HAVE_SNPRINTF 1
| #define HAVE_WCSLEN 1
| #define HAVE_DECL__SNPRINTF 0
| #define HAVE_DECL__SNWPRINTF 0
| /* end confdefs.h.  */
| #include <stdio.h>
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| 
| #ifndef getc_unlocked
|   char *p = (char *) getc_unlocked;
| #endif
| 
|   ;
|   return 0;
| }
configure:60260: result: no
configure:60299: checking for nl_langinfo and CODESET
configure:60373: result: yes
configure:60384: checking for LC_MESSAGES
configure:60418: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
configure:60424: $? = 0
configure:60431: test -z "$ac_c_werror_flag" || test ! -s conftest.err
configure:60434: $? = 0
configure:60441: test -s conftest
configure:60444: $? = 0
configure:60457: result: yes
configure:60504: checking for CFPreferencesCopyAppValue
configure:60580: result: no
configure:60589: checking for CFLocaleCopyCurrent
configure:60665: result: no
configure:60702: checking whether included gettext is requested
configure:60712: result: no
configure:60735: checking for GNU gettext in libc
configure:60773: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include  -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv >&5
Undefined			first referenced
 symbol  			    in file
_nl_domain_bindings                 /var/tmp//cckZa4Jy.o
_nl_msg_cat_cntr                    /var/tmp//cckZa4Jy.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:60779: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| #define ICONV_CONST const
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_LONG_DOUBLE 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDDEF_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_FWPRINTF 1
| #define HAVE_PUTENV 1
| #define HAVE_SETENV 1
| #define HAVE_SETLOCALE 1
| #define HAVE_SNPRINTF 1
| #define HAVE_WCSLEN 1
| #define HAVE_DECL__SNPRINTF 0
| #define HAVE_DECL__SNWPRINTF 0
| #define HAVE_DECL_GETC_UNLOCKED 0
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_LC_MESSAGES 1
| /* end confdefs.h.  */
| #include <libintl.h>
| 
| extern int _nl_msg_cat_cntr;
| extern int *_nl_domain_bindings;
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| bindtextdomain ("", "");
| return * gettext ("") + * ngettext ("", "", 0) + _nl_msg_cat_cntr + *_nl_domain_bindings
|   ;
|   return 0;
| }
configure:60813: result: no
configure:61196: checking for GNU gettext in libintl
configure:61242: gcc -std=gnu99 -o conftest -g -O2  -I/usr/local/include   -L/usr/local/lib conftest.c  -lnsl -lsocket -ldl -lm -liconv -lintl >&5
Undefined			first referenced
 symbol  			    in file
_nl_expand_alias                    /var/tmp//cchea4My.o
_nl_msg_cat_cntr                    /var/tmp//cchea4My.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
configure:61248: $? = 1
configure: failed program was:
| /* confdefs.h.  */
| #define PACKAGE_NAME "R"
| #define PACKAGE_TARNAME "R"
| #define PACKAGE_VERSION "2.6.2"
| #define PACKAGE_STRING "R 2.6.2"
| #define PACKAGE_BUGREPORT "r-bugs at R-project.org"
| #define PACKAGE "R"
| #define VERSION "2.6.2"
| #define R_PLATFORM "sparc-sun-solaris2.11"
| #define R_CPU "sparc"
| #define R_VENDOR "sun"
| #define R_OS "solaris2.11"
| #define Unix 1
| #define R_ARCH ""
| #define _GNU_SOURCE 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_LIBM 1
| #define HAVE_LIBDL 1
| #define HAVE_READLINE_HISTORY_H 1
| #define HAVE_READLINE_READLINE_H 1
| #define HAVE_LIBTERMCAP 1
| #define HAVE_LIBREADLINE 1
| #define HAVE_HISTORY_TRUNCATE_FILE 1
| #define HAVE_RL_COMPLETION_MATCHES 1
| #define STDC_HEADERS 1
| #define TIME_WITH_SYS_TIME 1
| #define HAVE_DIRENT_H 1
| #define HAVE_SYS_WAIT_H 1
| #define HAVE_ARPA_INET_H 1
| #define HAVE_DLFCN_H 1
| #define HAVE_ELF_H 1
| #define HAVE_FCNTL_H 1
| #define HAVE_FLOATINGPOINT_H 1
| #define HAVE_GLOB_H 1
| #define HAVE_GRP_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_LOCALE_H 1
| #define HAVE_NETDB_H 1
| #define HAVE_NETINET_IN_H 1
| #define HAVE_PWD_H 1
| #define HAVE_STDBOOL_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_SYS_SELECT_H 1
| #define HAVE_SYS_SOCKET_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_SYS_RESOURCE_H 1
| #define HAVE_SYS_TIME_H 1
| #define HAVE_SYS_TIMES_H 1
| #define HAVE_SYS_UTSNAME_H 1
| #define HAVE_TIME_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_ERRNO_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDARG_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STRING_H 1
| #define HAVE_DECL_SIGSETJMP 1
| #define HAVE_DECL_SIGLONGJMP 1
| #define HAVE_POSIX_SETJMP 1
| #define RETSIGTYPE void
| #define HAVE_DECL_SIZE_MAX 1
| #define R_SOCKLEN_T socklen_t
| #define HAVE_STACK_T 1
| #define HAVE_INTPTR_T 1
| #define HAVE_UINTPTR_T 1
| #define WORDS_BIGENDIAN 1
| #define R_INLINE inline
| #define SIZEOF_INT 4
| #define INT_32_BITS 1
| #define SIZEOF_LONG 4
| #define SIZEOF_LONG_LONG 8
| #define SIZEOF_DOUBLE 8
| #define SIZEOF_LONG_DOUBLE 16
| #define SIZEOF_SIZE_T 4
| #define F77_FUNC(name,NAME) name ## _
| #define F77_FUNC_(name,NAME) name ## __
| #define HAVE_F77_UNDERSCORE 1
| #define HAVE_F77_EXTRA_UNDERSCORE 1
| #define HAVE_FORTRAN_DOUBLE_COMPLEX 1
| #define SHLIB_EXT ".so"
| #define HAVE_OFF_T 1
| #define HAVE_ALLOCA_H 1
| #define HAVE_ALLOCA 1
| #define HAVE_DECL_ALLOCA 1
| #define HAVE_FSEEKO 1
| #define HAVE_FTELLO 1
| #define HAVE_ISBLANK 1
| #define HAVE_MATHERR 1
| #define HAVE_FCNTL 1
| #define HAVE_GETGRGID 1
| #define HAVE_EXPM1 1
| #define HAVE_HYPOT 1
| #define HAVE_LOG1P 1
| #define HAVE_LOG2 1
| #define HAVE_LOG10 1
| #define HAVE_RINT 1
| #define HAVE_GETPWUID 1
| #define HAVE_SIGACTION 1
| #define HAVE_SIGALTSTACK 1
| #define HAVE_SIGEMPTYSET 1
| #define HAVE_VA_COPY 1
| #define HAVE___VA_COPY 1
| #define HAVE_FDOPEN 1
| #define HAVE_POPEN 1
| #define HAVE_SETENV 1
| #define HAVE_SYSTEM 1
| #define HAVE_UNSETENV 1
| #define HAVE_STRCOLL 1
| #define HAVE_STRERROR 1
| #define HAVE_GETRLIMIT 1
| #define HAVE_GETRUSAGE 1
| #define HAVE_MKFIFO 1
| #define HAVE_STAT 1
| #define HAVE_GETTIMEOFDAY 1
| #define HAVE_TIMES 1
| #define HAVE_TIME 1
| #define HAVE_ACCESS 1
| #define HAVE_CHDIR 1
| #define HAVE_EXECV 1
| #define HAVE_FTRUNCATE 1
| #define HAVE_GETCWD 1
| #define HAVE_GETUID 1
| #define HAVE_SYMLINK 1
| #define HAVE_SYSCONF 1
| #define HAVE_PUTENV 1
| #define HAVE_DECL_PUTENV 1
| #define HAVE_DECL_VASPRINTF 0
| #define HAVE_REALPATH 1
| #define HAVE_DECL_REALPATH 1
| #define HAVE_GLOB 1
| #define HAVE_OFF_T 1
| #define HAVE_ISNAN 1
| #define HAVE_DECL_ISFINITE 1
| #define HAVE_DECL_ISNAN 1
| #define IEEE_754 1
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_ACOSH 1
| #define HAVE_ASINH 1
| #define HAVE_ATANH 1
| #define HAVE_MKDTEMP 1
| #define HAVE_SNPRINTF 1
| #define HAVE_STRDUP 1
| #define HAVE_STRNCASECMP 1
| #define HAVE_VSNPRINTF 1
| #define HAVE_DECL_ACOSH 1
| #define HAVE_DECL_ASINH 1
| #define HAVE_DECL_ATANH 1
| #define HAVE_DECL_MKDTEMP 1
| #define HAVE_DECL_SNPRINTF 1
| #define HAVE_DECL_STRDUP 1
| #define HAVE_DECL_STRNCASECMP 1
| #define HAVE_DECL_VSNPRINTF 1
| #define HAVE_WORKING_CALLOC 1
| #define HAVE_WORKING_ISFINITE 1
| #define HAVE_WORKING_LOG1P 1
| #define HAVE_WORKING_FTELL 1
| #define HAVE_WORKING_SIGACTION 1
| #define HAVE_ICONV_H 1
| #define HAVE_ICONV 1
| #define ICONV_LATIN1 1
| #define HAVE_ICONVLIST 1
| #define HAVE_WCHAR_H 1
| #define HAVE_WCTYPE_H 1
| #define HAVE_MBRTOWC 1
| #define HAVE_WCRTOMB 1
| #define HAVE_WCSCOLL 1
| #define HAVE_WCSFTIME 1
| #define HAVE_WCSTOD 1
| #define HAVE_MBSTOWCS 1
| #define HAVE_WCSTOMBS 1
| #define HAVE_WCTRANS 1
| #define HAVE_ISWBLANK 1
| #define HAVE_WCTYPE 1
| #define HAVE_ISWCTYPE 1
| #define HAVE_WCTRANS_T 1
| #define HAVE_MBSTATE_T 1
| #define SUPPORT_UTF8 1
| #define SUPPORT_MBCS 1
| #define HAVE_X11 1
| #define HAVE_KEYSYM 1
| #define HAVE_X11_Xmu 1
| #define HAVE_TCLTK 1
| #define HAVE_BSD_NETWORKING 1
| #define HAVE_SOCKETS 1
| #define HAVE_INTERNET 1
| #define SUPPORT_LIBXML 1
| #define HAVE_JPEG 1
| #define HAVE_PNG 1
| #define HAVE_POSIX_LEAPSECONDS 1
| #define HAVE_SETITIMER 1
| #define R_PROFILING 1
| #define _FILE_OFFSET_BITS 64
| #define HAVE_FSEEKO 1
| #define NVALGRIND 1
| #define VALGRIND_LEVEL 0
| #define R_PRINTCMD "lpr"
| #define HAVE_VISIBILITY 0
| #define HAVE_STDINT_H_WITH_UINTMAX 1
| #define HAVE_STDLIB_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_GETPAGESIZE 1
| #define HAVE_MMAP 1
| #define INTDIV0_RAISES_SIGFPE 1
| #define HAVE_INTTYPES_H_WITH_UINTMAX 1
| #define HAVE_UNSIGNED_LONG_LONG_INT 1
| #define HAVE_UNSIGNED_LONG_LONG 1
| #define HAVE_UINTMAX_T 1
| #define HAVE_INTTYPES_H 1
| #define USE_SOLARIS_THREADS 1
| #define USE_SOLARIS_THREADS_WEAK 1
| #define HAVE_BUILTIN_EXPECT 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_LIMITS_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_SYS_PARAM_H 1
| #define HAVE_GETCWD 1
| #define HAVE_GETEGID 1
| #define HAVE_GETEUID 1
| #define HAVE_GETGID 1
| #define HAVE_GETUID 1
| #define HAVE_MUNMAP 1
| #define HAVE_STRCASECMP 1
| #define HAVE_STRDUP 1
| #define HAVE_STRTOUL 1
| #define HAVE_TSEARCH 1
| #define HAVE___FSETLOCKING 1
| #define HAVE_DECL_FEOF_UNLOCKED 0
| #define HAVE_DECL_FGETS_UNLOCKED 0
| #define HAVE_ICONV 1
| #define ICONV_CONST const
| #define HAVE_LONG_LONG_INT 1
| #define HAVE_LONG_DOUBLE 1
| #define HAVE_WCHAR_T 1
| #define HAVE_WINT_T 1
| #define HAVE_INTMAX_T 1
| #define HAVE_POSIX_PRINTF 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_STDDEF_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_FWPRINTF 1
| #define HAVE_PUTENV 1
| #define HAVE_SETENV 1
| #define HAVE_SETLOCALE 1
| #define HAVE_SNPRINTF 1
| #define HAVE_WCSLEN 1
| #define HAVE_DECL__SNPRINTF 0
| #define HAVE_DECL__SNWPRINTF 0
| #define HAVE_DECL_GETC_UNLOCKED 0
| #define HAVE_LANGINFO_CODESET 1
| #define HAVE_LC_MESSAGES 1
| /* end confdefs.h.  */
| #include <libintl.h>
| 
| extern int _nl_msg_cat_cntr;
| extern
| #ifdef __cplusplus
| "C"
| #endif
| const char *_nl_expand_alias (const char *);
| #ifdef F77_DUMMY_MAIN
| 
| #  ifdef __cplusplus
|      extern "C"
| #  endif
|    int F77_DUMMY_MAIN() { return 1; }
| 
| #endif
| int
| main ()
| {
| bindtextdomain ("", "");
| return * gettext ("") + * ngettext ("", "", 0) + _nl_msg_cat_cntr + *_nl_expand_alias ("")
|   ;
|   return 0;
| }
configure:61365: result: no
configure:61421: checking whether to use NLS
configure:61423: result: yes
configure:61426: checking where the gettext function comes from
configure:61437: result: included intl directory
configure:62208: creating ./config.status

## ---------------------- ##
## Running config.status. ##
## ---------------------- ##

This file was extended by R config.status 2.6.2, which was
generated by GNU Autoconf 2.60.  Invocation command line was

  CONFIG_FILES    = 
  CONFIG_HEADERS  = 
  CONFIG_LINKS    = 
  CONFIG_COMMANDS = 
  $ ./config.status 

on apogee5

config.status:957: creating Makeconf
config.status:957: creating Makefile
config.status:957: creating doc/Makefile
config.status:957: creating doc/html/Makefile
config.status:957: creating doc/html/search/Makefile
config.status:957: creating doc/manual/Makefile
config.status:957: creating etc/Makefile
config.status:957: creating etc/Makeconf
config.status:957: creating etc/Renviron
config.status:957: creating etc/ldpaths
config.status:957: creating m4/Makefile
config.status:957: creating po/Makefile.in
config.status:957: creating share/Makefile
config.status:957: creating src/Makefile
config.status:957: creating src/appl/Makefile
config.status:957: creating src/extra/Makefile
config.status:957: creating src/extra/blas/Makefile
config.status:957: creating src/extra/bzip2/Makefile
config.status:957: creating src/extra/intl/Makefile
config.status:957: creating src/extra/pcre/Makefile
config.status:957: creating src/extra/xdr/Makefile
config.status:957: creating src/extra/zlib/Makefile
config.status:957: creating src/include/Makefile
config.status:957: creating src/include/Rmath.h0
config.status:957: creating src/include/R_ext/Makefile
config.status:957: creating src/library/Recommended/Makefile
config.status:957: creating src/library/Makefile
config.status:957: creating src/library/base/DESCRIPTION
config.status:957: creating src/library/base/Makefile
config.status:957: creating src/library/datasets/DESCRIPTION
config.status:957: creating src/library/datasets/Makefile
config.status:957: creating src/library/graphics/DESCRIPTION
config.status:957: creating src/library/graphics/Makefile
config.status:957: creating src/library/grDevices/DESCRIPTION
config.status:957: creating src/library/grDevices/Makefile
config.status:957: creating src/library/grDevices/src/Makefile
config.status:957: creating src/library/grid/DESCRIPTION
config.status:957: creating src/library/grid/Makefile
config.status:957: creating src/library/grid/src/Makefile
config.status:957: creating src/library/methods/DESCRIPTION
config.status:957: creating src/library/methods/Makefile
config.status:957: creating src/library/methods/src/Makefile
config.status:957: creating src/library/profile/Makefile
config.status:957: creating src/library/stats/DESCRIPTION
config.status:957: creating src/library/stats/Makefile
config.status:957: creating src/library/stats/src/Makefile
config.status:957: creating src/library/stats4/DESCRIPTION
config.status:957: creating src/library/stats4/Makefile
config.status:957: creating src/library/splines/DESCRIPTION
config.status:957: creating src/library/splines/Makefile
config.status:957: creating src/library/splines/src/Makefile
config.status:957: creating src/library/tcltk/DESCRIPTION
config.status:957: creating src/library/tcltk/Makefile
config.status:957: creating src/library/tcltk/src/Makefile
config.status:957: creating src/library/tools/DESCRIPTION
config.status:957: creating src/library/tools/Makefile
config.status:957: creating src/library/tools/src/Makefile
config.status:957: creating src/library/utils/DESCRIPTION
config.status:957: creating src/library/utils/Makefile
config.status:957: creating src/main/Makefile
config.status:957: creating src/modules/Makefile
config.status:957: creating src/modules/X11/Makefile
config.status:957: creating src/modules/internet/Makefile
config.status:957: creating src/modules/lapack/Makefile
config.status:957: creating src/modules/vfonts/Makefile
config.status:957: creating src/nmath/Makefile
config.status:957: creating src/nmath/standalone/Makefile
config.status:957: creating src/scripts/Makefile
config.status:957: creating src/scripts/COMPILE
config.status:957: creating src/scripts/INSTALL
config.status:957: creating src/scripts/REMOVE
config.status:957: creating src/scripts/R.sh
config.status:957: creating src/scripts/Rdconv
config.status:957: creating src/scripts/Rprof
config.status:957: creating src/scripts/SHLIB
config.status:957: creating src/scripts/Sd2Rd
config.status:957: creating src/scripts/build
config.status:957: creating src/scripts/check
config.status:957: creating src/unix/Makefile
config.status:957: creating tests/Makefile
config.status:957: creating tests/Embedding/Makefile
config.status:957: creating tests/Examples/Makefile
config.status:957: creating tests/Native/Makefile
config.status:957: creating tools/Makefile
config.status:957: creating src/include/config.h
config.status:1462: src/include/config.h is unchanged
config.status:1475: executing po-directories commands
config.status:1475: executing stamp-h commands
configure:64018: result:
R is now configured for sparc-sun-solaris2.11

  Source directory:          .
  Installation directory:    /usr/local

  C compiler:                gcc -std=gnu99  -g -O2
  Fortran 77 compiler:       g77  -g -O2

  C++ compiler:              g++  -g -O2
  Fortran 90/95 compiler:    g77 -g -O2
  Obj-C compiler:	      -g -O2

  Interfaces supported:      X11, tcltk
  External libraries:        readline
  Additional capabilities:   PNG, JPEG, iconv, MBCS, NLS
  Options enabled:           shared BLAS, R profiling, Java

  Recommended packages:      no

configure:64084: WARNING: you cannot build DVI versions of the R manuals
configure:64092: WARNING: you cannot build PDF versions of the R manuals

## ---------------- ##
## Cache variables. ##
## ---------------- ##

ac_cv_build=sparc-sun-solaris2.11
ac_cv_c_bigendian=yes
ac_cv_c_compiler_gnu=yes
ac_cv_c_const=yes
ac_cv_c_inline=inline
ac_cv_cxx_compiler_gnu=yes
ac_cv_env_BLAS_LIBS_set=
ac_cv_env_BLAS_LIBS_value=
ac_cv_env_CCC_set=
ac_cv_env_CCC_value=
ac_cv_env_CC_set=
ac_cv_env_CC_value=
ac_cv_env_CFLAGS_set=
ac_cv_env_CFLAGS_value=
ac_cv_env_CPICFLAGS_set=
ac_cv_env_CPICFLAGS_value=
ac_cv_env_CPPFLAGS_set=
ac_cv_env_CPPFLAGS_value=
ac_cv_env_CPP_set=
ac_cv_env_CPP_value=
ac_cv_env_CXXCPP_set=
ac_cv_env_CXXCPP_value=
ac_cv_env_CXXFLAGS_set=
ac_cv_env_CXXFLAGS_value=
ac_cv_env_CXXPICFLAGS_set=
ac_cv_env_CXXPICFLAGS_value=
ac_cv_env_CXX_set=
ac_cv_env_CXX_value=
ac_cv_env_DEFS_set=
ac_cv_env_DEFS_value=
ac_cv_env_DYLIB_LDFLAGS_set=
ac_cv_env_DYLIB_LDFLAGS_value=
ac_cv_env_DYLIB_LD_set=
ac_cv_env_DYLIB_LD_value=
ac_cv_env_F77_set=
ac_cv_env_F77_value=
ac_cv_env_FCFLAGS_set=
ac_cv_env_FCFLAGS_value=
ac_cv_env_FCPICFLAGS_set=
ac_cv_env_FCPICFLAGS_value=
ac_cv_env_FC_set=
ac_cv_env_FC_value=
ac_cv_env_FFLAGS_set=
ac_cv_env_FFLAGS_value=
ac_cv_env_FPICFLAGS_set=
ac_cv_env_FPICFLAGS_value=
ac_cv_env_JAVA_HOME_set=
ac_cv_env_JAVA_HOME_value=
ac_cv_env_LAPACK_LIBS_set=
ac_cv_env_LAPACK_LIBS_value=
ac_cv_env_LDFLAGS_set=
ac_cv_env_LDFLAGS_value=
ac_cv_env_LIBnn_set=
ac_cv_env_LIBnn_value=
ac_cv_env_MAIN_CFLAGS_set=
ac_cv_env_MAIN_CFLAGS_value=
ac_cv_env_MAIN_FFLAGS_set=
ac_cv_env_MAIN_FFLAGS_value=
ac_cv_env_MAIN_LDFLAGS_set=
ac_cv_env_MAIN_LDFLAGS_value=
ac_cv_env_MAIN_LD_set=
ac_cv_env_MAIN_LD_value=
ac_cv_env_MAKE_set=
ac_cv_env_MAKE_value=
ac_cv_env_OBJCFLAGS_set=
ac_cv_env_OBJCFLAGS_value=
ac_cv_env_OBJC_set=
ac_cv_env_OBJC_value=
ac_cv_env_R_BATCHSAVE_set=
ac_cv_env_R_BATCHSAVE_value=
ac_cv_env_R_BROWSER_set=
ac_cv_env_R_BROWSER_value=
ac_cv_env_R_PAPERSIZE_set=
ac_cv_env_R_PAPERSIZE_value=
ac_cv_env_R_PRINTCMD_set=
ac_cv_env_R_PRINTCMD_value=
ac_cv_env_SAFE_FFLAGS_set=
ac_cv_env_SAFE_FFLAGS_value=
ac_cv_env_SHLIB_CFLAGS_set=
ac_cv_env_SHLIB_CFLAGS_value=
ac_cv_env_SHLIB_CXXLDFLAGS_set=
ac_cv_env_SHLIB_CXXLDFLAGS_value=
ac_cv_env_SHLIB_CXXLD_set=
ac_cv_env_SHLIB_CXXLD_value=
ac_cv_env_SHLIB_FCD_set=
ac_cv_env_SHLIB_FCD_value=
ac_cv_env_SHLIB_FCLDFLAGS_set=
ac_cv_env_SHLIB_FCLDFLAGS_value=
ac_cv_env_SHLIB_FFLAGS_set=
ac_cv_env_SHLIB_FFLAGS_value=
ac_cv_env_SHLIB_LDFLAGS_set=
ac_cv_env_SHLIB_LDFLAGS_value=
ac_cv_env_SHLIB_LD_set=
ac_cv_env_SHLIB_LD_value=
ac_cv_env_TCLTK_CPPFLAGS_set=
ac_cv_env_TCLTK_CPPFLAGS_value=
ac_cv_env_TCLTK_LIBS_set=
ac_cv_env_TCLTK_LIBS_value=
ac_cv_env_XMKMF_set=
ac_cv_env_XMKMF_value=
ac_cv_env_YACC_set=
ac_cv_env_YACC_value=
ac_cv_env_YFLAGS_set=
ac_cv_env_YFLAGS_value=
ac_cv_env_build_alias_set=
ac_cv_env_build_alias_value=
ac_cv_env_host_alias_set=
ac_cv_env_host_alias_value=
ac_cv_env_r_arch_set=
ac_cv_env_r_arch_value=
ac_cv_env_target_alias_set=
ac_cv_env_target_alias_value=
ac_cv_f77_compiler_gnu=yes
ac_cv_f77_dummy_main=none
ac_cv_f77_libs=' -L/usr/ccs/lib -L/usr/lib -L/usr/local/lib -L. -L/usr/bin/X11 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/lib -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../.. -lfrtbegin -lg2c -lm -R/usr/sfw/lib -lgcc_s'
ac_cv_f77_mangling='lower case, underscore, extra underscore'
ac_cv_fc_compiler_gnu=yes
ac_cv_fc_srcext_f90=unknown
ac_cv_fc_srcext_f95=unknown
ac_cv_fortran_dummy_main=none
ac_cv_func___fsetlocking=yes
ac_cv_func___setfpucw=no
ac_cv_func_acosh=yes
ac_cv_func_alloca_works=yes
ac_cv_func_argz_count=no
ac_cv_func_argz_next=no
ac_cv_func_argz_stringify=no
ac_cv_func_asinh=yes
ac_cv_func_asprintf=no
ac_cv_func_atanh=yes
ac_cv_func_connect=yes
ac_cv_func_fseeko=yes
ac_cv_func_ftello=yes
ac_cv_func_fwprintf=yes
ac_cv_func_getcwd=yes
ac_cv_func_getegid=yes
ac_cv_func_geteuid=yes
ac_cv_func_getgid=yes
ac_cv_func_gethostbyname=yes
ac_cv_func_getpagesize=yes
ac_cv_func_getuid=yes
ac_cv_func_history_truncate_file=yes
ac_cv_func_iconv='in libiconv'
ac_cv_func_iconvlist=yes
ac_cv_func_isblank=yes
ac_cv_func_isnan=yes
ac_cv_func_matherr=yes
ac_cv_func_mempcpy=no
ac_cv_func_mkdtemp=yes
ac_cv_func_mmap_fixed_mapped=yes
ac_cv_func_munmap=yes
ac_cv_func_putenv=yes
ac_cv_func_realpath=yes
ac_cv_func_remove=yes
ac_cv_func_setenv=yes
ac_cv_func_setitimer=yes
ac_cv_func_setlocale=yes
ac_cv_func_shmat=yes
ac_cv_func_snprintf=yes
ac_cv_func_stpcpy=no
ac_cv_func_strcasecmp=yes
ac_cv_func_strdup=yes
ac_cv_func_strncasecmp=yes
ac_cv_func_strtoul=yes
ac_cv_func_tsearch=yes
ac_cv_func_vasprintf=no
ac_cv_func_vsnprintf=yes
ac_cv_func_wcslen=yes
ac_cv_gnu_library_2=no
ac_cv_gnu_library_2_1=no
ac_cv_have_decl___va_copy=yes
ac_cv_have_decl__snprintf=no
ac_cv_have_decl__snwprintf=no
ac_cv_have_decl_access=yes
ac_cv_have_decl_acosh=yes
ac_cv_have_decl_alloca=yes
ac_cv_have_decl_asinh=yes
ac_cv_have_decl_atanh=yes
ac_cv_have_decl_cacos=yes
ac_cv_have_decl_cacosh=yes
ac_cv_have_decl_casin=yes
ac_cv_have_decl_casinh=yes
ac_cv_have_decl_catan=yes
ac_cv_have_decl_catanh=yes
ac_cv_have_decl_ccos=yes
ac_cv_have_decl_ccosh=yes
ac_cv_have_decl_cexp=yes
ac_cv_have_decl_chdir=yes
ac_cv_have_decl_clog=yes
ac_cv_have_decl_cpow=yes
ac_cv_have_decl_csin=yes
ac_cv_have_decl_csinh=yes
ac_cv_have_decl_csqrt=yes
ac_cv_have_decl_ctan=yes
ac_cv_have_decl_ctanh=yes
ac_cv_have_decl_execv=yes
ac_cv_have_decl_expm1=yes
ac_cv_have_decl_fcntl=yes
ac_cv_have_decl_fdopen=yes
ac_cv_have_decl_feof_unlocked=no
ac_cv_have_decl_fgets_unlocked=no
ac_cv_have_decl_ftruncate=yes
ac_cv_have_decl_getc_unlocked=no
ac_cv_have_decl_getcwd=yes
ac_cv_have_decl_getgrgid=yes
ac_cv_have_decl_getpwuid=yes
ac_cv_have_decl_getrlimit=yes
ac_cv_have_decl_getrusage=yes
ac_cv_have_decl_gettimeofday=yes
ac_cv_have_decl_getuid=yes
ac_cv_have_decl_glob=yes
ac_cv_have_decl_hypot=yes
ac_cv_have_decl_isfinite=yes
ac_cv_have_decl_isnan=yes
ac_cv_have_decl_iswblank=yes
ac_cv_have_decl_iswctype=yes
ac_cv_have_decl_log10=yes
ac_cv_have_decl_log1p=yes
ac_cv_have_decl_log2=yes
ac_cv_have_decl_mbrtowc=yes
ac_cv_have_decl_mbstowcs=yes
ac_cv_have_decl_mkdtemp=yes
ac_cv_have_decl_mkfifo=yes
ac_cv_have_decl_popen=yes
ac_cv_have_decl_putenv=yes
ac_cv_have_decl_realpath=yes
ac_cv_have_decl_rint=yes
ac_cv_have_decl_rl_completion_matches=yes
ac_cv_have_decl_setenv=yes
ac_cv_have_decl_sigaction=yes
ac_cv_have_decl_sigaltstack=yes
ac_cv_have_decl_sigemptyset=yes
ac_cv_have_decl_siglongjmp=yes
ac_cv_have_decl_sigsetjmp=yes
ac_cv_have_decl_snprintf=yes
ac_cv_have_decl_stat=yes
ac_cv_have_decl_strcoll=yes
ac_cv_have_decl_strdup=yes
ac_cv_have_decl_strerror=yes
ac_cv_have_decl_strncasecmp=yes
ac_cv_have_decl_symlink=yes
ac_cv_have_decl_sysconf=yes
ac_cv_have_decl_system=yes
ac_cv_have_decl_time=yes
ac_cv_have_decl_times=yes
ac_cv_have_decl_unsetenv=yes
ac_cv_have_decl_va_copy=yes
ac_cv_have_decl_vasprintf=no
ac_cv_have_decl_vsnprintf=yes
ac_cv_have_decl_wcrtomb=yes
ac_cv_have_decl_wcscoll=yes
ac_cv_have_decl_wcsftime=yes
ac_cv_have_decl_wcstod=yes
ac_cv_have_decl_wcstombs=yes
ac_cv_have_decl_wctrans=yes
ac_cv_have_decl_wctype=yes
ac_cv_have_x='have_x=yes	ac_x_includes='\''/usr/openwin/include'\''	ac_x_libraries='\''/usr/openwin/lib'\'''
ac_cv_header_X11_Intrinsic_h=yes
ac_cv_header_X11_Xmu_Atoms_h=yes
ac_cv_header__usr_include_tcl8_4_generic_tcl_h=no
ac_cv_header__usr_include_tcl8_4_tcl_h=no
ac_cv_header__usr_include_tcl8_4_tk_h=no
ac_cv_header__usr_include_tcl_h=yes
ac_cv_header__usr_include_tk8_4_generic_tk_h=no
ac_cv_header__usr_include_tk8_4_tk_h=no
ac_cv_header__usr_include_tk_h=yes
ac_cv_header_argz_h=no
ac_cv_header_arpa_inet_h=yes
ac_cv_header_complex_h=yes
ac_cv_header_dirent_dirent_h=yes
ac_cv_header_dl_h=no
ac_cv_header_dlfcn_h=yes
ac_cv_header_elf_h=yes
ac_cv_header_errno_h=yes
ac_cv_header_fcntl_h=yes
ac_cv_header_floatingpoint_h=yes
ac_cv_header_fpu_control_h=no
ac_cv_header_glob_h=yes
ac_cv_header_grp_h=yes
ac_cv_header_iconv_h=yes
ac_cv_header_inttypes_h=yes
ac_cv_header_limits_h=yes
ac_cv_header_locale_h=yes
ac_cv_header_memory_h=yes
ac_cv_header_netdb_h=yes
ac_cv_header_netinet_in_h=yes
ac_cv_header_pwd_h=yes
ac_cv_header_readline_history_h=yes
ac_cv_header_readline_readline_h=yes
ac_cv_header_rpc_types_h=yes
ac_cv_header_rpc_xdr_h=yes
ac_cv_header_stdarg_h=yes
ac_cv_header_stdbool_h=yes
ac_cv_header_stdc=yes
ac_cv_header_stddef_h=yes
ac_cv_header_stdint_h=yes
ac_cv_header_stdlib_h=yes
ac_cv_header_string_h=yes
ac_cv_header_strings_h=yes
ac_cv_header_sys_param_h=yes
ac_cv_header_sys_resource_h=yes
ac_cv_header_sys_select_h=yes
ac_cv_header_sys_socket_h=yes
ac_cv_header_sys_stat_h=yes
ac_cv_header_sys_time_h=yes
ac_cv_header_sys_times_h=yes
ac_cv_header_sys_types_h=yes
ac_cv_header_sys_utsname_h=yes
ac_cv_header_sys_wait_h=yes
ac_cv_header_time=yes
ac_cv_header_time_h=yes
ac_cv_header_unistd_h=yes
ac_cv_header_wchar_h=yes
ac_cv_header_wctype_h=yes
ac_cv_host=sparc-sun-solaris2.11
ac_cv_lib_ICE_IceConnectionNumber=yes
ac_cv_lib_Xmu_XmuInternAtom=yes
ac_cv_lib_Xt_XtToolkitInitialize=yes
ac_cv_lib_dl_dlopen=yes
ac_cv_lib_jpeg_jpeg_destroy_compress=yes
ac_cv_lib_m_cos=yes
ac_cv_lib_m_sin=yes
ac_cv_lib_ncurses_main=no
ac_cv_lib_png_png_create_write_struct=yes
ac_cv_lib_readline_rl_callback_read_char=yes
ac_cv_lib_termcap_main=yes
ac_cv_lib_z_main=yes
ac_cv_objc_compiler_gnu=yes
ac_cv_objext=o
ac_cv_path_EGREP='/bin/ggrep -E'
ac_cv_path_GETWD=/bin/pwd
ac_cv_path_GMSGFMT=:
ac_cv_path_GREP=/bin/ggrep
ac_cv_path_JAR=/bin/jar
ac_cv_path_JAVA=/bin/java
ac_cv_path_JAVAC=/bin/javac
ac_cv_path_JAVAH=/bin/javah
ac_cv_path_MAKEINFO=/bin/makeinfo
ac_cv_path_MSGFMT=:
ac_cv_path_MSGMERGE=:
ac_cv_path_PAGER=/bin/less
ac_cv_path_PAPERCONF=false
ac_cv_path_PERL=/bin/perl
ac_cv_path_R_BROWSER=/bin/firefox
ac_cv_path_R_GZIPCMD=/bin/gzip
ac_cv_path_R_PDFVIEWER=/bin/acroread
ac_cv_path_R_UNZIPCMD=/bin/unzip
ac_cv_path_R_ZIPCMD=/bin/zip
ac_cv_path_SED=/usr/xpg4/bin/sed
ac_cv_path_TEXI2DVI=/bin/texi2dvi
ac_cv_path_XGETTEXT=:
ac_cv_path_XMKMF=/usr/openwin/bin/xmkmf
ac_cv_path_install='/bin/ginstall -c'
ac_cv_prog_AR=ar
ac_cv_prog_AWK=nawk
ac_cv_prog_CPP='gcc -E'
ac_cv_prog_CXXCPP='g++ -E'
ac_cv_prog_F77=g77
ac_cv_prog_INTLBISON=bison
ac_cv_prog_R_PRINTCMD=lpr
ac_cv_prog_YACC='bison -y'
ac_cv_prog_ac_ct_CC=gcc
ac_cv_prog_ac_ct_CXX=g++
ac_cv_prog_ac_ct_FC=g77
ac_cv_prog_ac_ct_OBJC=gcc
ac_cv_prog_ac_ct_RANLIB=ranlib
ac_cv_prog_ac_ct_STRIP=strip
ac_cv_prog_cc_c89=
ac_cv_prog_cc_c99=-std=gnu99
ac_cv_prog_cc_g=yes
ac_cv_prog_cc_stdc=-std=gnu99
ac_cv_prog_cxx_g=yes
ac_cv_prog_f77_g=yes
ac_cv_prog_f77_v=-v
ac_cv_prog_fc_g=yes
ac_cv_prog_gcc_traditional=no
ac_cv_prog_make_make_set=yes
ac_cv_prog_objc_g=yes
ac_cv_search_connect=-lsocket
ac_cv_search_gethostbyname=-lnsl
ac_cv_search_opendir='none required'
ac_cv_search_xdr_string='none required'
ac_cv_sizeof_double=8
ac_cv_sizeof_int=4
ac_cv_sizeof_long=4
ac_cv_sizeof_long_double=16
ac_cv_sizeof_long_long=8
ac_cv_sizeof_size_t=4
ac_cv_sys_file_offset_bits=64
ac_cv_sys_large_files=no
ac_cv_sys_largefile_CC=no
ac_cv_sys_largefile_source=no
ac_cv_type_KeySym=yes
ac_cv_type_blkcnt_t=yes
ac_cv_type_double=yes
ac_cv_type_double_complex=yes
ac_cv_type_int=yes
ac_cv_type_intptr_t=yes
ac_cv_type_long=yes
ac_cv_type_long_double=yes
ac_cv_type_long_long=yes
ac_cv_type_long_long_int=yes
ac_cv_type_mbstate_t=yes
ac_cv_type_off_t=yes
ac_cv_type_pid_t=yes
ac_cv_type_ptrdiff_t=yes
ac_cv_type_signal=void
ac_cv_type_size_t=yes
ac_cv_type_stack_t=yes
ac_cv_type_uintptr_t=yes
ac_cv_type_unsigned_long_long=yes
ac_cv_type_unsigned_long_long_int=yes
ac_cv_type_wctrans_t=yes
ac_cv_working_alloca_h=yes
acl_cv_hardcode_direct=no
acl_cv_hardcode_libdir_flag_spec='-R$libdir'
acl_cv_hardcode_libdir_separator=
acl_cv_hardcode_minus_L=no
acl_cv_libext=a
acl_cv_path_LD=/usr/ccs/bin/ld
acl_cv_prog_gnu_ld=no
acl_cv_rpath=done
acl_cv_shlibext=so
acl_cv_wl=-Wl,
am_cv_func_iconv=yes
am_cv_langinfo_codeset=yes
am_cv_lib_iconv=no
am_cv_proto_iconv='extern size_t iconv (iconv_t cd, const char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);'
am_cv_proto_iconv_arg1=const
gl_cv_cc_visibility=no
gl_cv_header_inttypes_h=yes
gl_cv_header_stdint_h=yes
gl_cv_size_max=yes
gt_cv_c_intmax_t=yes
gt_cv_c_long_double=yes
gt_cv_c_wchar_t=yes
gt_cv_c_wint_t=yes
gt_cv_func_CFLocaleCopyCurrent=no
gt_cv_func_CFPreferencesCopyAppValue=no
gt_cv_func_gnugettext2_libc=no
gt_cv_func_gnugettext2_libintl=no
gt_cv_func_printf_posix=yes
gt_cv_int_divbyzero_sigfpe=yes
gt_cv_inttypes_pri_broken=no
gt_cv_nl_locale_name=no
gt_cv_val_LC_MESSAGES=yes
lt_cv_deplibs_check_method=pass_all
lt_cv_file_magic_cmd='$MAGIC_CMD'
lt_cv_file_magic_test_file=
lt_cv_ld_reload_flag=-r
lt_cv_objdir=.libs
lt_cv_path_LD=/usr/ccs/bin/ld
lt_cv_path_LDCXX=/usr/ccs/bin/ld
lt_cv_path_NM='/bin/nm -p'
lt_cv_path_SED=/bin/sed
lt_cv_prog_compiler_c_o=yes
lt_cv_prog_compiler_c_o_CXX=yes
lt_cv_prog_compiler_c_o_F77=yes
lt_cv_prog_compiler_rtti_exceptions=no
lt_cv_prog_gnu_ld=no
lt_cv_prog_gnu_ldcxx=no
lt_cv_sys_global_symbol_pipe='sed -n -e '\''s/^.*[ 	]\([BDRT][BDRT]*\)[ 	][ 	]*\(\)\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2\3 \3/p'\'''
lt_cv_sys_global_symbol_to_c_name_address='sed -n -e '\''s/^: \([^ ]*\) $/  {\"\1\", (lt_ptr) 0},/p'\'' -e '\''s/^[BCDEGRST] \([^ ]*\) \([^ ]*\)$/  {"\2", (lt_ptr) \&\2},/p'\'''
lt_cv_sys_global_symbol_to_cdecl='sed -n -e '\''s/^. .* \(.*\)$/extern int \1;/p'\'''
lt_cv_sys_max_cmd_len=262144
lt_lt_cv_prog_compiler_c_o='"yes"'
lt_lt_cv_prog_compiler_c_o_CXX='"yes"'
lt_lt_cv_prog_compiler_c_o_F77='"yes"'
lt_lt_cv_sys_global_symbol_pipe='"sed -n -e '\''s/^.*[ 	]\\([BDRT][BDRT]*\\)[ 	][ 	]*\\(\\)\\([_A-Za-z][_A-Za-z0-9]*\\)\$/\\1 \\2\\3 \\3/p'\''"'
lt_lt_cv_sys_global_symbol_to_c_name_address='"sed -n -e '\''s/^: \\([^ ]*\\) \$/  {\\\"\\1\\\", (lt_ptr) 0},/p'\'' -e '\''s/^[BCDEGRST] \\([^ ]*\\) \\([^ ]*\\)\$/  {\"\\2\", (lt_ptr) \\&\\2},/p'\''"'
lt_lt_cv_sys_global_symbol_to_cdecl='"sed -n -e '\''s/^. .* \\(.*\\)\$/extern int \\1;/p'\''"'
nls_cv_force_use_gnu_gettext=no
nls_cv_header_intl=
nls_cv_header_libgt=
nls_cv_use_gnu_gettext=yes
r_cv_JAVA_CPPFLAGS='-I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/solaris'
r_cv_JAVA_LD_LIBRARY_PATH='$(JAVA_HOME)/lib/sparc/server:$(JAVA_HOME)/lib/sparc:$(JAVA_HOME)/../lib/sparc:/usr/local/lib:/export/local/lib:/usr/jdk/packages/lib/sparc:/lib:/usr/lib'
r_cv_JAVA_LIBS='-L$(JAVA_HOME)/lib/sparc/server -L$(JAVA_HOME)/lib/sparc -L$(JAVA_HOME)/../lib/sparc -L/usr/local/lib -L/export/local/lib -L/usr/jdk/packages/lib/sparc -L/lib -L/usr/lib -ljvm'
r_cv_bsd_networking=yes
r_cv_c99_complex=no
r_cv_c_inline=inline
r_cv_c_libs=' -L/usr/ccs/lib -L/usr/lib -L/usr/local/lib -L. -L/usr/bin/X11 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3 -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../../../sparc-sun-solaris2.11/lib -L/usr/sfw/lib/gcc/sparc-sun-solaris2.11/3.4.3/../../.. -R/usr/sfw/lib -lgcc_eh'
r_cv_cache_java_flags=yes
r_cv_func_calloc_works=yes
r_cv_func_isfinite_works=yes
r_cv_func_log1p_works=yes
r_cv_func_sigaction_works=yes
r_cv_header_glibc2=no
r_cv_header_jpeglib_h=yes
r_cv_header_png_h=yes
r_cv_header_setjmp_posix=yes
r_cv_iconv_latin1=yes
r_cv_ieee_754=yes
r_cv_java_home=/usr/jdk/instances/jdk1.6.0/jre
r_cv_java_works=yes
r_cv_javac_works=yes
r_cv_jni=yes
r_cv_kern_usrstack=no
r_cv_objc_foundation=no
r_cv_objc_runtime=none
r_cv_path_TCL_CONFIG=/usr/lib/tclConfig.sh
r_cv_path_TK_CONFIG=/usr/lib/tkConfig.sh
r_cv_prog_c_v=-v
r_cv_prog_cc_c_o_lo=yes
r_cv_prog_cc_m='gcc -std=gnu99 -MM'
r_cv_prog_cc_vis=no
r_cv_prog_cxx_m=yes
r_cv_prog_f77_append_second_underscore=yes
r_cv_prog_f77_append_underscore=yes
r_cv_prog_f77_can_run=yes
r_cv_prog_f77_cc_compat=yes
r_cv_prog_f77_cc_compat_complex=yes
r_cv_prog_f77_vis=no
r_cv_prog_makeinfo_v4=yes
r_cv_prog_perl_v5=yes
r_cv_putenv_unset2=no
r_cv_putenv_unset=no
r_cv_size_max=yes
r_cv_sys_posix_leapseconds=yes
r_cv_tcltk_works=yes
r_cv_type_keysym=yes
r_cv_type_socklen=socklen_t
r_cv_visibility_attribute=no
r_cv_working_ftell=yes
r_cv_xdr=yes
r_cv_zlib_mmap=yes

## ----------------- ##
## Output variables. ##
## ----------------- ##

ACLOCAL='$(SHELL) $(top_srcdir)/tools/missing aclocal'
ALLOCA=''
AR='ar'
ARFLAGS='rc'
AUTOCONF='autoconf'
AUTOHEADER='autoheader'
AUTOMAKE='$(SHELL) $(top_srcdir)/tools/missing automake'
AWK='nawk'
BITMAP_LIBS='-ljpeg -lpng -lz'
BLAS_LIBS0=''
BLAS_LIBS='-L$(R_HOME)/lib$(R_ARCH) -lRblas'
BLAS_SHLIB_FALSE='#'
BLAS_SHLIB_TRUE=''
BUILDDIR_IS_SRCDIR='yes'
BUILD_AQUA_FALSE=''
BUILD_AQUA_TRUE='#'
BUILD_BZLIB_FALSE='#'
BUILD_BZLIB_TRUE=''
BUILD_CC=''
BUILD_CYGWIN_FALSE=''
BUILD_CYGWIN_TRUE='#'
BUILD_INCLUDED_LIBINTL='yes'
BUILD_LIBINTL_FALSE='#'
BUILD_LIBINTL_TRUE=''
BUILD_PCRE_FALSE='#'
BUILD_PCRE_TRUE=''
BUILD_R=''
BUILD_XDR_FALSE=''
BUILD_XDR_TRUE='#'
BUILD_ZLIB_FALSE='#'
BUILD_ZLIB_TRUE=''
CATOBJEXT='.gmo'
CC='gcc -std=gnu99'
CFLAGS='-g -O2'
CFLAG_VISIBILITY=''
COMPILE_FORTRAN_DOUBLE_COMPLEX_FALSE=''
COMPILE_FORTRAN_DOUBLE_COMPLEX_TRUE='#'
CPICFLAGS='-fPIC'
CPP='gcc -E'
CPPFLAGS='-I/usr/local/include'
CROSS_COMPILING_FALSE=''
CROSS_COMPILING_TRUE='#'
CXX='g++'
CXXCPP='g++ -E'
CXXFLAGS='-g -O2'
CXXPICFLAGS='-fPIC'
C_VISIBILITY=''
DATADIRNAME='share'
DEFS='-DHAVE_CONFIG_H'
DVIPS='false'
DYLIB_EXT='.so'
DYLIB_LD='gcc -std=gnu99'
DYLIB_LDFLAGS='-G'
DYLIB_UNDEFINED_ALLOWED_FALSE='#'
DYLIB_UNDEFINED_ALLOWED_TRUE=''
ECHO='echo'
ECHO_C=''
ECHO_N='-n'
ECHO_T=''
EGREP='/bin/ggrep -E'
EXEEXT=''
F77='g77'
F77_VISIBILITY=''
FALSE=''
FC='g77'
FCFLAGS='-g -O2'
FCFLAGS_f90=''
FCFLAGS_f95=''
FCPICFLAGS='-fPIC'
FFLAGS='-g -O2'
FLIBS=' -lg2c -lm -R/usr/sfw/lib -lgcc_s'
FOUNDATION_CPPFLAGS=''
FOUNDATION_LIBS=''
FPICFLAGS='-fPIC'
FW_VERSION=''
GENCAT='gencat'
GETWD='/bin/pwd'
GLIBC21='no'
GLIBC2='no'
GMSGFMT=':'
GMSGFMT_015=':'
GREP='/bin/ggrep'
HAVE_ASPRINTF='0'
HAVE_C99_COMPLEX=''
HAVE_FORTRAN_DOUBLE_COMPLEX=''
HAVE_POSIX_PRINTF='1'
HAVE_SNPRINTF='1'
HAVE_VISIBILITY='0'
HAVE_WPRINTF='0'
INSTALL_DATA='${INSTALL} -m 644'
INSTALL_INFO='$(PERL) $(top_srcdir)/tools/install-info.pl'
INSTALL_PROGRAM='${INSTALL}'
INSTALL_SCRIPT='${INSTALL}'
INSTOBJEXT='.mo'
INTLBISON='bison'
INTLLIBS='../extra/intl/libintl.a  '
INTLOBJS='$(GETTOBJS)'
INTL_LIBTOOL_SUFFIX_PREFIX=''
INTL_MACOSX_LIBS=''
JAR='/bin/jar'
JAVA='/bin/java'
JAVAC='/bin/javac'
JAVAH='/bin/javah'
JAVA_CPPFLAGS0='-I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/solaris'
JAVA_HOME='/usr/jdk/instances/jdk1.6.0/jre'
JAVA_LD_LIBRARY_PATH='$(JAVA_HOME)/lib/sparc/server:$(JAVA_HOME)/lib/sparc:$(JAVA_HOME)/../lib/sparc:/usr/local/lib:/export/local/lib:/usr/jdk/packages/lib/sparc:/lib:/usr/lib'
JAVA_LIBS0='-L$(JAVA_HOME)/lib/sparc/server -L$(JAVA_HOME)/lib/sparc -L$(JAVA_HOME)/../lib/sparc -L/usr/local/lib -L/export/local/lib -L/usr/jdk/packages/lib/sparc -L/lib -L/usr/lib -ljvm'
LAPACK_LDFLAGS=''
LAPACK_LIBS='-L$(R_HOME)/lib$(R_ARCH) -lRlapack'
LATEX='false'
LDFLAGS='-L/usr/local/lib'
LIBICONV=''
LIBINTL='../extra/intl/libintl.a  '
LIBM='-lm'
LIBMULTITHREAD='-lthread'
LIBOBJS=''
LIBPTH=''
LIBR=''
LIBR_LDFLAGS=''
LIBS=' -lnsl -lsocket -ldl -lm -liconv'
LIBTHREAD=''
LIBTOOL='$(SHELL) $(top_builddir)/libtool'
LIBTOOL_DEPS='tools/ltmain.sh'
LIBnn='lib'
LN_S='ln -s'
LTLIBICONV=''
LTLIBINTL='../extra/intl/libintl.a  '
LTLIBMULTITHREAD='-lthread'
LTLIBOBJS=''
LTLIBPTH=''
LTLIBTHREAD=''
MAINTAINER_MODE_FALSE=''
MAINTAINER_MODE_TRUE='#'
MAIN_CFLAGS=''
MAIN_FFLAGS=''
MAIN_LD='gcc -std=gnu99'
MAIN_LDFLAGS=''
MAJ_MIN_VERSION='2.6'
MAKE='make'
MAKEINDEX='false'
MAKEINFO='/bin/makeinfo'
MSGFMT=':'
MSGFMT_015=':'
MSGMERGE=':'
NO_PERL5='false'
OBJC=''
OBJCFLAGS='-g -O2'
OBJCXX='g++'
OBJCXXFLAGS=''
OBJC_LIBS=''
OBJEXT='o'
OSF_SH_BUG='"${@}"'
PACKAGE='R'
PACKAGE_BUGREPORT='r-bugs at R-project.org'
PACKAGE_NAME='R'
PACKAGE_STRING='R 2.6.2'
PACKAGE_TARNAME='R'
PACKAGE_VERSION='2.6.2'
PAGER='/bin/less'
PAPERCONF='false'
PATH_SEPARATOR=':'
PDFLATEX='false'
PDFTEX='false'
PERL='/bin/perl'
POSUB='po'
PRI_MACROS_BROKEN='0'
RANLIB='ranlib'
RBLAS_LDFLAGS=''
READLINE_LIBS='-lreadline -ltermcap '
RLAPACK_LDFLAGS=''
RMATH_HAVE_EXPM1='# define HAVE_EXPM1 1'
RMATH_HAVE_LOG1P='# define HAVE_LOG1P 1'
RMATH_HAVE_WORKING_LOG1P='# define HAVE_WORKING_LOG1P 1'
R_ARCH=''
R_BATCHSAVE=''
R_BROWSER='/bin/firefox'
R_DEFS=''
R_GZIPCMD='/bin/gzip'
R_JAVA_LD_LIBRARY_PATH='${JAVA_HOME}/lib/sparc/server:${JAVA_HOME}/lib/sparc'
R_LD_LIBRARY_PATH='/usr/local/lib:/usr/openwin/lib'
R_MODULES='X11'
R_OS='solaris2.11'
R_OSTYPE='unix'
R_PAPERSIZE='a4'
R_PDFVIEWER='/bin/acroread'
R_PLATFORM='sparc-sun-solaris2.11'
R_PRINTCMD='lpr'
R_PROFILING=''
R_RD4DVI='ae'
R_RD4PDF='times,hyper'
R_UNZIPCMD='/bin/unzip'
R_XTRA_CFLAGS=''
R_XTRA_CPPFLAGS=''
R_XTRA_CXXFLAGS=''
R_XTRA_FFLAGS=''
R_XTRA_LIBS=''
R_ZIPCMD='/bin/zip'
SAFE_FFLAGS='-g -O2 -ffloat-store'
SED='/bin/sed'
SET_MAKE=''
SHELL='/usr/bin/bash'
SHLIB_CFLAGS=''
SHLIB_CXXFLAGS=''
SHLIB_CXXLD='g++'
SHLIB_CXXLDFLAGS='-G'
SHLIB_EXT='.so'
SHLIB_FCD=''
SHLIB_FCLD='g77'
SHLIB_FCLDFLAGS='-G'
SHLIB_FFLAGS=''
SHLIB_LD='gcc -std=gnu99'
SHLIB_LDFLAGS='-G'
SHLIB_LIBADD=''
STRIP='strip'
SUPPORT_MBCS=''
SUPPORT_UTF8=''
TAR='tar'
TCLTK_CPPFLAGS='-I/usr/include -I/usr/include -I/usr/openwin/include'
TCLTK_LIBS='-L/usr/lib -ltcl8.4 -L/usr/lib -ltk8.4 -L/usr/openwin/lib -lX11'
TCL_CONFIG='/usr/lib/tclConfig.sh'
TEX='false'
TEXI2DVI='/bin/texi2dvi'
TK_CONFIG='/usr/lib/tkConfig.sh'
USE_EXPORTFILES_FALSE=''
USE_EXPORTFILES_TRUE='#'
USE_EXTERNAL_BLAS_FALSE=''
USE_EXTERNAL_BLAS_TRUE='#'
USE_EXTERNAL_LAPACK_FALSE=''
USE_EXTERNAL_LAPACK_TRUE='#'
USE_INCLUDED_LIBINTL='yes'
USE_LIBTOOL_FALSE=''
USE_LIBTOOL_TRUE='#'
USE_MMAP_ZLIB_FALSE='#'
USE_MMAP_ZLIB_TRUE=''
USE_NLS='yes'
USE_NLS_FALSE='#'
USE_NLS_TRUE=''
USE_RECOMMENDED_PACKAGES_FALSE=''
USE_RECOMMENDED_PACKAGES_TRUE='#'
USE_VECLIB_G95FIX_FALSE=''
USE_VECLIB_G95FIX_TRUE='#'
VERSION='2.6.2'
WANT_R_FRAMEWORK_FALSE=''
WANT_R_FRAMEWORK_TRUE='#'
WANT_R_SHLIB_FALSE=''
WANT_R_SHLIB_TRUE='#'
WOE32DLL='no'
XGETTEXT=':'
XGETTEXT_015=':'
XMKMF='/usr/openwin/bin/xmkmf'
XTRA_INTL_CPPFLAGS=''
X_CFLAGS=' -I/usr/openwin/include'
X_EXTRA_LIBS=''
X_LIBS=' -L/usr/openwin/lib -R/usr/openwin/lib -lX11 -lXt -lXmu'
X_PRE_LIBS=' -lSM -lICE'
YACC='bison -y'
YFLAGS=''
ac_ct_CC='gcc'
ac_ct_CXX='g++'
ac_ct_F77=''
ac_ct_FC='g77'
ac_ct_OBJC='gcc'
bindir='${exec_prefix}/bin'
build='sparc-sun-solaris2.11'
build_alias=''
build_cpu='sparc'
build_os='solaris2.11'
build_vendor='sun'
config_opts=' '\''--disable-fast-install'\'' '\''--enable-threads=solaris'\'' '\''--disable-rpath'\'' '\''--without-recommended-packages'\'''
datadir='${datarootdir}'
datarootdir='${prefix}/share'
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
dvidir='${docdir}'
exec_prefix='${prefix}'
host='sparc-sun-solaris2.11'
host_alias=''
host_cpu='sparc'
host_os='solaris2.11'
host_vendor='sun'
htmldir='${docdir}'
includedir='${prefix}/include'
infodir='${datarootdir}/info'
libdir='${exec_prefix}/${LIBnn}'
libexecdir='${exec_prefix}/libexec'
localedir='${datarootdir}/locale'
localstatedir='${prefix}/var'
mandir='${datarootdir}/man'
mkdir_p='$(install_sh) -d'
oldincludedir='/usr/include'
pdfdir='${docdir}'
prefix='/usr/local'
program_transform_name='s,x,x,'
psdir='${docdir}'
r_arch=''
rdocdir='${rhome}/doc'
rincludedir='${rhome}/include'
rsharedir='${rhome}/share'
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
shlibpath_var='LD_LIBRARY_PATH'
striplib=''
sysconfdir='${prefix}/etc'
target_alias=''
use_aqua='no'
use_tcltk='yes'

## ------------------- ##
## File substitutions. ##
## ------------------- ##

r_cc_lo_rules_frag='Makefrag.cc_lo'
r_cc_rules_frag='Makefrag.cc'
r_cxx_rules_frag='Makefrag.cxx'

## ----------- ##
## confdefs.h. ##
## ----------- ##

#define PACKAGE_NAME "R"
#define PACKAGE_TARNAME "R"
#define PACKAGE_VERSION "2.6.2"
#define PACKAGE_STRING "R 2.6.2"
#define PACKAGE_BUGREPORT "r-bugs at R-project.org"
#define PACKAGE "R"
#define VERSION "2.6.2"
#define R_PLATFORM "sparc-sun-solaris2.11"
#define R_CPU "sparc"
#define R_VENDOR "sun"
#define R_OS "solaris2.11"
#define Unix 1
#define R_ARCH ""
#define _GNU_SOURCE 1
#define STDC_HEADERS 1
#define HAVE_SYS_TYPES_H 1
#define HAVE_SYS_STAT_H 1
#define HAVE_STDLIB_H 1
#define HAVE_STRING_H 1
#define HAVE_MEMORY_H 1
#define HAVE_STRINGS_H 1
#define HAVE_INTTYPES_H 1
#define HAVE_STDINT_H 1
#define HAVE_UNISTD_H 1
#define HAVE_DLFCN_H 1
#define HAVE_LIBM 1
#define HAVE_LIBDL 1
#define HAVE_READLINE_HISTORY_H 1
#define HAVE_READLINE_READLINE_H 1
#define HAVE_LIBTERMCAP 1
#define HAVE_LIBREADLINE 1
#define HAVE_HISTORY_TRUNCATE_FILE 1
#define HAVE_RL_COMPLETION_MATCHES 1
#define STDC_HEADERS 1
#define TIME_WITH_SYS_TIME 1
#define HAVE_DIRENT_H 1
#define HAVE_SYS_WAIT_H 1
#define HAVE_ARPA_INET_H 1
#define HAVE_DLFCN_H 1
#define HAVE_ELF_H 1
#define HAVE_FCNTL_H 1
#define HAVE_FLOATINGPOINT_H 1
#define HAVE_GLOB_H 1
#define HAVE_GRP_H 1
#define HAVE_LIMITS_H 1
#define HAVE_LOCALE_H 1
#define HAVE_NETDB_H 1
#define HAVE_NETINET_IN_H 1
#define HAVE_PWD_H 1
#define HAVE_STDBOOL_H 1
#define HAVE_STRINGS_H 1
#define HAVE_SYS_PARAM_H 1
#define HAVE_SYS_SELECT_H 1
#define HAVE_SYS_SOCKET_H 1
#define HAVE_SYS_STAT_H 1
#define HAVE_SYS_RESOURCE_H 1
#define HAVE_SYS_TIME_H 1
#define HAVE_SYS_TIMES_H 1
#define HAVE_SYS_UTSNAME_H 1
#define HAVE_TIME_H 1
#define HAVE_UNISTD_H 1
#define HAVE_ERRNO_H 1
#define HAVE_INTTYPES_H 1
#define HAVE_STDARG_H 1
#define HAVE_STDINT_H 1
#define HAVE_STRING_H 1
#define HAVE_DECL_SIGSETJMP 1
#define HAVE_DECL_SIGLONGJMP 1
#define HAVE_POSIX_SETJMP 1
#define RETSIGTYPE void
#define HAVE_DECL_SIZE_MAX 1
#define R_SOCKLEN_T socklen_t
#define HAVE_STACK_T 1
#define HAVE_INTPTR_T 1
#define HAVE_UINTPTR_T 1
#define WORDS_BIGENDIAN 1
#define R_INLINE inline
#define SIZEOF_INT 4
#define INT_32_BITS 1
#define SIZEOF_LONG 4
#define SIZEOF_LONG_LONG 8
#define SIZEOF_DOUBLE 8
#define SIZEOF_LONG_DOUBLE 16
#define SIZEOF_SIZE_T 4
#define F77_FUNC(name,NAME) name ## _
#define F77_FUNC_(name,NAME) name ## __
#define HAVE_F77_UNDERSCORE 1
#define HAVE_F77_EXTRA_UNDERSCORE 1
#define HAVE_FORTRAN_DOUBLE_COMPLEX 1
#define SHLIB_EXT ".so"
#define HAVE_OFF_T 1
#define HAVE_ALLOCA_H 1
#define HAVE_ALLOCA 1
#define HAVE_DECL_ALLOCA 1
#define HAVE_FSEEKO 1
#define HAVE_FTELLO 1
#define HAVE_ISBLANK 1
#define HAVE_MATHERR 1
#define HAVE_FCNTL 1
#define HAVE_GETGRGID 1
#define HAVE_EXPM1 1
#define HAVE_HYPOT 1
#define HAVE_LOG1P 1
#define HAVE_LOG2 1
#define HAVE_LOG10 1
#define HAVE_RINT 1
#define HAVE_GETPWUID 1
#define HAVE_SIGACTION 1
#define HAVE_SIGALTSTACK 1
#define HAVE_SIGEMPTYSET 1
#define HAVE_VA_COPY 1
#define HAVE___VA_COPY 1
#define HAVE_FDOPEN 1
#define HAVE_POPEN 1
#define HAVE_SETENV 1
#define HAVE_SYSTEM 1
#define HAVE_UNSETENV 1
#define HAVE_STRCOLL 1
#define HAVE_STRERROR 1
#define HAVE_GETRLIMIT 1
#define HAVE_GETRUSAGE 1
#define HAVE_MKFIFO 1
#define HAVE_STAT 1
#define HAVE_GETTIMEOFDAY 1
#define HAVE_TIMES 1
#define HAVE_TIME 1
#define HAVE_ACCESS 1
#define HAVE_CHDIR 1
#define HAVE_EXECV 1
#define HAVE_FTRUNCATE 1
#define HAVE_GETCWD 1
#define HAVE_GETUID 1
#define HAVE_SYMLINK 1
#define HAVE_SYSCONF 1
#define HAVE_PUTENV 1
#define HAVE_DECL_PUTENV 1
#define HAVE_DECL_VASPRINTF 0
#define HAVE_REALPATH 1
#define HAVE_DECL_REALPATH 1
#define HAVE_GLOB 1
#define HAVE_OFF_T 1
#define HAVE_ISNAN 1
#define HAVE_DECL_ISFINITE 1
#define HAVE_DECL_ISNAN 1
#define IEEE_754 1
#define HAVE_LANGINFO_CODESET 1
#define HAVE_ACOSH 1
#define HAVE_ASINH 1
#define HAVE_ATANH 1
#define HAVE_MKDTEMP 1
#define HAVE_SNPRINTF 1
#define HAVE_STRDUP 1
#define HAVE_STRNCASECMP 1
#define HAVE_VSNPRINTF 1
#define HAVE_DECL_ACOSH 1
#define HAVE_DECL_ASINH 1
#define HAVE_DECL_ATANH 1
#define HAVE_DECL_MKDTEMP 1
#define HAVE_DECL_SNPRINTF 1
#define HAVE_DECL_STRDUP 1
#define HAVE_DECL_STRNCASECMP 1
#define HAVE_DECL_VSNPRINTF 1
#define HAVE_WORKING_CALLOC 1
#define HAVE_WORKING_ISFINITE 1
#define HAVE_WORKING_LOG1P 1
#define HAVE_WORKING_FTELL 1
#define HAVE_WORKING_SIGACTION 1
#define HAVE_ICONV_H 1
#define HAVE_ICONV 1
#define ICONV_LATIN1 1
#define HAVE_ICONVLIST 1
#define HAVE_WCHAR_H 1
#define HAVE_WCTYPE_H 1
#define HAVE_MBRTOWC 1
#define HAVE_WCRTOMB 1
#define HAVE_WCSCOLL 1
#define HAVE_WCSFTIME 1
#define HAVE_WCSTOD 1
#define HAVE_MBSTOWCS 1
#define HAVE_WCSTOMBS 1
#define HAVE_WCTRANS 1
#define HAVE_ISWBLANK 1
#define HAVE_WCTYPE 1
#define HAVE_ISWCTYPE 1
#define HAVE_WCTRANS_T 1
#define HAVE_MBSTATE_T 1
#define SUPPORT_UTF8 1
#define SUPPORT_MBCS 1
#define HAVE_X11 1
#define HAVE_KEYSYM 1
#define HAVE_X11_Xmu 1
#define HAVE_TCLTK 1
#define HAVE_BSD_NETWORKING 1
#define HAVE_SOCKETS 1
#define HAVE_INTERNET 1
#define SUPPORT_LIBXML 1
#define HAVE_JPEG 1
#define HAVE_PNG 1
#define HAVE_POSIX_LEAPSECONDS 1
#define HAVE_SETITIMER 1
#define R_PROFILING 1
#define _FILE_OFFSET_BITS 64
#define HAVE_FSEEKO 1
#define NVALGRIND 1
#define VALGRIND_LEVEL 0
#define R_PRINTCMD "lpr"
#define HAVE_VISIBILITY 0
#define HAVE_STDINT_H_WITH_UINTMAX 1
#define HAVE_STDLIB_H 1
#define HAVE_UNISTD_H 1
#define HAVE_GETPAGESIZE 1
#define HAVE_MMAP 1
#define INTDIV0_RAISES_SIGFPE 1
#define HAVE_INTTYPES_H_WITH_UINTMAX 1
#define HAVE_UNSIGNED_LONG_LONG_INT 1
#define HAVE_UNSIGNED_LONG_LONG 1
#define HAVE_UINTMAX_T 1
#define HAVE_INTTYPES_H 1
#define USE_SOLARIS_THREADS 1
#define USE_SOLARIS_THREADS_WEAK 1
#define HAVE_BUILTIN_EXPECT 1
#define HAVE_INTTYPES_H 1
#define HAVE_LIMITS_H 1
#define HAVE_UNISTD_H 1
#define HAVE_SYS_PARAM_H 1
#define HAVE_GETCWD 1
#define HAVE_GETEGID 1
#define HAVE_GETEUID 1
#define HAVE_GETGID 1
#define HAVE_GETUID 1
#define HAVE_MUNMAP 1
#define HAVE_STRCASECMP 1
#define HAVE_STRDUP 1
#define HAVE_STRTOUL 1
#define HAVE_TSEARCH 1
#define HAVE___FSETLOCKING 1
#define HAVE_DECL_FEOF_UNLOCKED 0
#define HAVE_DECL_FGETS_UNLOCKED 0
#define HAVE_ICONV 1
#define ICONV_CONST const
#define HAVE_LONG_LONG_INT 1
#define HAVE_LONG_DOUBLE 1
#define HAVE_WCHAR_T 1
#define HAVE_WINT_T 1
#define HAVE_INTMAX_T 1
#define HAVE_POSIX_PRINTF 1
#define HAVE_STDINT_H 1
#define HAVE_STDINT_H 1
#define HAVE_STDDEF_H 1
#define HAVE_STDLIB_H 1
#define HAVE_STRING_H 1
#define HAVE_FWPRINTF 1
#define HAVE_PUTENV 1
#define HAVE_SETENV 1
#define HAVE_SETLOCALE 1
#define HAVE_SNPRINTF 1
#define HAVE_WCSLEN 1
#define HAVE_DECL__SNPRINTF 0
#define HAVE_DECL__SNWPRINTF 0
#define HAVE_DECL_GETC_UNLOCKED 0
#define HAVE_LANGINFO_CODESET 1
#define HAVE_LC_MESSAGES 1
#define ENABLE_NLS 1

configure: exit 0

## ---------------------- ##
## Running config.status. ##
## ---------------------- ##

This file was extended by R config.status 2.6.2, which was
generated by GNU Autoconf 2.60.  Invocation command line was

  CONFIG_FILES    = 
  CONFIG_HEADERS  = 
  CONFIG_LINKS    = 
  CONFIG_COMMANDS = 
  $ ./config.status src/include/config.h

on apogee5

config.status:957: creating src/include/config.h
config.status:1462: src/include/config.h is unchanged




--------------040104030506030406090004--


From grgoswami at gmail.com  Mon Apr  7 05:21:38 2008
From: grgoswami at gmail.com (Gopi Goswami)
Date: Sun, 6 Apr 2008 23:21:38 -0400
Subject: [Rd] Some memory questions: data.frame and lists.
Message-ID: <5811e0170804062021s53e5e89n19a93492329ca990@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080406/306c57e8/attachment.pl 

From rory.winston at gmail.com  Sun Apr  6 12:20:43 2008
From: rory.winston at gmail.com (Rory Winston)
Date: Sun, 6 Apr 2008 11:20:43 +0100
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <b0808fdc0804050951g4f4cff45r7cde7008efceadac@mail.gmail.com>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
	<b0808fdc0804050951g4f4cff45r7cde7008efceadac@mail.gmail.com>
Message-ID: <3f446aa30804060320r34b64db7ub1f965c85c91e5cd@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080406/a5bd78a7/attachment.pl 

From rory.winston at gmail.com  Sun Apr  6 13:01:13 2008
From: rory.winston at gmail.com (Rory Winston)
Date: Sun, 6 Apr 2008 12:01:13 +0100
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <18423.48201.828727.639538@cmath-5.math.ethz.ch>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
	<18423.48201.828727.639538@cmath-5.math.ethz.ch>
Message-ID: <3f446aa30804060401u34871311h575edf6861cd9285@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080406/41d80c82/attachment.pl 

From rory.winston at gmail.com  Mon Apr  7 01:16:51 2008
From: rory.winston at gmail.com (Rory Winston)
Date: Mon, 7 Apr 2008 00:16:51 +0100
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <3f446aa30804060401u34871311h575edf6861cd9285@mail.gmail.com>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
	<18423.48201.828727.639538@cmath-5.math.ethz.ch>
	<3f446aa30804060401u34871311h575edf6861cd9285@mail.gmail.com>
Message-ID: <3f446aa30804061616t76d214ear75c7160c606d327@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080407/8e222e50/attachment.pl 

From schmidb at ibe.med.uni-muenchen.de  Tue Apr  8 11:15:34 2008
From: schmidb at ibe.med.uni-muenchen.de (Markus Schmidberger)
Date: Tue, 08 Apr 2008 11:15:34 +0200
Subject: [Rd] Rmpi 0.5-6 : error spawning process
Message-ID: <47FB37B6.2060205@ibe.med.uni-muenchen.de>

Hi,

I am using a cluster with LAM 7.1.3/MPI 2 and R 2.6.0.
Rmpi version 0.5-5 is working very well.

Now I have tested "Rmpi 0.5-6". During spawning the Rslaves I get an 
error: MPI_Error_string: error spawning process

 > sessionInfo()
R version 2.6.0 (2007-10-03)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=de_DE.UTF-8;LC_NUMERIC=C;LC_TIME=de_DE.UTF-8;LC_COLLATE=de_DE.UTF-8;LC_MONETARY=de_DE.UTF-8;LC_MESSAGES=de_DE.UTF-8;LC_PAPER=de_DE.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=de_DE.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base    

other attached packages:
[1] Rmpi_0.5-6

loaded via a namespace (and not attached):
[1] rcompgen_0.1-15
 > mpi.spawn.Rslaves(nslaves=5, needlog=TRUE)
Fehler in mpi.comm.spawn(slave = system.file("Rslaves.sh", package = 
"Rmpi"),  :
  MPI_Error_string: error spawning process
 > traceback()
3: .Call("mpi_comm_spawn", as.character(slave), as.character(slavearg),
       as.integer(nslaves), as.integer(info), as.integer(root),
       as.integer(intercomm), PACKAGE = "Rmpi")
2: mpi.comm.spawn(slave = system.file("Rslaves.sh", package = "Rmpi"),
       slavearg = arg, nslaves = nslaves, info = 0, root = root,
       intercomm = intercomm)
1: mpi.spawn.Rslaves(nslaves = 5)


There are no logfiles!
What was changed in the new version?

Best
Markus

-- 
Dipl.-Tech. Math. Markus Schmidberger

Ludwig-Maximilians-Universit?t M?nchen
IBE - Institut f?r medizinische Informationsverarbeitung,
Biometrie und Epidemiologie
Marchioninistr. 15, D-81377 Muenchen
URL: http://ibe.web.med.uni-muenchen.de 
Mail: Markus.Schmidberger [at] ibe.med.uni-muenchen.de
Tel: +49 (089) 7095 - 4599


From ripley at stats.ox.ac.uk  Tue Apr  8 11:53:10 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 8 Apr 2008 10:53:10 +0100 (BST)
Subject: [Rd] problem with Rmpi 0.5-5 and openmpi
In-Reply-To: <47FA1901.10904@wsl.ch>
References: <47FA1901.10904@wsl.ch>
Message-ID: <alpine.LFD.1.00.0804071402110.24118@gannet.stats.ox.ac.uk>

See

http://www.open-mpi.org/community/lists/users/2007/10/4192.php

Does the version of Rmpi you used have the suggested patch?


On Mon, 7 Apr 2008, Peter Pearman wrote:

> Dear knowledgeable experts :-),
>
> I am trying to get openmpi, Rmpi and SNOW running on a Myrinet/GM
> cluster.  I'm not an IT expert, but I surely could use a working
> installation of Rmpi and SNOW.
>
> I try to load the Rmpi library and get the following:
>
> > library(Rmpi)
> [master:07230] mca: base: component_find: unable to open osc pt2pt: file
> not found (ignored)
> --------------------------------------------------------------------------
> [0,0,0]: Myrinet/GM on host master was unable to find any NICs.
> Another transport will be used instead, although this may result in
> lower performance.
>
> Then if I start a cluster, only nodes on Master can be seen and initiated
>
> Here is environment, configuration and installation information:
>
>
> # configuration of openmpi
> ./configure --prefix=/opt/openmpi --with-gm=/opt/gm/2.1.21/2.6.11-21smp
> --with-sge=/opt/sge --disable-mpi-f90
>
> #installation of Rmpi
> /usr/local/bin/R CMD INSTALL Rmpi_0.5-5.tar.gz \
> --configure-args=--with-mpi=/opt/openmpi
>
> R version 2.6.1 (2007-11-26)
>
> #master environment
> pearman at master:~> env
> LESSKEY=/etc/lesskey.bin
> NNTPSERVER=news
> INFODIR=/usr/local/info:/usr/share/info:/usr/info
> MANPATH=/opt/sge/man:/usr/local/man:/usr/local/share/man:/usr/share/man:/usr/X11R6/man:/opt/gnome/share/man:/opt/c3-4/man
> HOSTNAME=master
> GNOME2_PATH=/usr/local:/opt/gnome:/usr
> XKEYSYMDB=/usr/X11R6/lib/X11/XKeysymDB
> HOST=master
> TERM=xterm
> SHELL=/bin/bash
> PROFILEREAD=true
> HISTSIZE=1000
> SSH_CLIENT=::ffff:10.15.1.179 51565 22
> QTDIR=/usr/lib/qt3
> OLDPWD=/opt/openmpi/bin
> SSH_TTY=/dev/pts/6
> GROFF_NO_SGR=yes
> JRE_HOME=/usr/lib/jvm/java/jre
> USER=pearman
> LS_COLORS=no=00:fi=00:di=01;34:ln=00;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=4
> 0;31:ex=00;32:*.cmd=00;32:*.exe=01;32:*.com=01;32:*.bat=01;32:*.btm=01;32:*.dll=01;32:*.tar=00;
> 31:*.tbz=00;31:*.tgz=00;31:*.rpm=00;31:*.deb=00;31:*.arj=00;31:*.taz=00;31:*.lzh=00;31:*.zip=00
> ;31:*.zoo=00;31:*.z=00;31:*.Z=00;31:*.gz=00;31:*.bz2=00;31:*.tb2=00;31:*.tz2=00;31:*.tbz2=00;31
> :*.avi=01;35:*.bmp=01;35:*.fli=01;35:*.gif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mng=01;35:*.mov=01;
> 35:*.mpg=01;35:*.pcx=01;35:*.pbm=01;35:*.pgm=01;35:*.png=01;35:*.ppm=01;35:*.tga=01;35:*.tif=01
> ;35:*.xbm=01;35:*.xpm=01;35:*.dl=01;35:*.gl=01;35:*.aiff=00;32:*.au=00;32:*.mid=00;32:*.mp3=00;
> 32:*.ogg=00;32:*.voc=00;32:*.wav=00;32:
> LD_LIBRARY_PATH=/opt/openmpi/lib:/opt/sge/lib/lx24-amd64
> XNLSPATH=/usr/X11R6/lib/X11/nls
> HOSTTYPE=x86_64
> PAGER=less
> XDG_CONFIG_DIRS=/usr/local/etc/xdg/:/etc/xdg/:/etc/opt/gnome/xdg/
> C3_PATH=/opt/c3-4
> MINICOM=-c on
> MAIL=/var/mail/pearman
> PATH=/opt/openmpi/bin:/opt/sge/bin/lx24-amd64:/opt/mpich/1.2.6..14b/x86_64/gcc//bin:/opt/gm/2.1
> .21/2.6.11-21smp/bin:/opt/c3-4:/home/pearman/bin:/usr/local/bin:/usr/bin:/usr/X11R6/bin:/bin:/u
> sr/games:/opt/gnome/bin:/opt/kde3/bin:/opt/pathscale/bin
> CPU=x86_64
> JAVA_BINDIR=/usr/lib/jvm/java/bin
> INPUTRC=/etc/inputrc
> PWD=/home/pearman
> JAVA_HOME=/usr/lib/jvm/java
> LANG=en_US.UTF-8
> PYTHONSTARTUP=/etc/pythonstart
> SGE_ROOT=/opt/sge
> SDK_HOME=/usr/lib/jvm/java
> C3_RSH=ssh
> TEXINPUTS=:/home/pearman/.TeX:/usr/share/doc/.TeX:/usr/doc/.TeX
> JDK_HOME=/usr/lib/jvm/java
> SHLVL=1
> HOME=/home/pearman
> LESS_ADVANCED_PREPROCESSOR=no
> OSTYPE=linux
> LS_OPTIONS=-N --color=tty -T 0
> XCURSOR_THEME=crystalwhite
> WINDOWMANAGER=/usr/X11R6/bin/kde
> GTK_PATH=/usr/local/lib/gtk-2.0:/opt/gnome/lib/gtk-2.0:/usr/lib/gtk-2.0
> GM_PATH=/opt/gm/2.1.21/2.6.11-21smp
> G_FILENAME_ENCODING=@locale,UTF-8,ISO-8859-15,CP1252
> LESS=-M -I
> MACHTYPE=x86_64-suse-linux
> LOGNAME=pearman
> GTK_PATH64=/usr/local/lib64/gtk-2.0:/opt/gnome/lib64/gtk-2.0:/usr/lib64/gtk-2.0
> CVS_RSH=ssh
> XDG_DATA_DIRS=/usr/local/share/:/usr/share/:/etc/opt/kde3/share/:/opt/kde3/share/:/opt/gnome/sh
> are/
> MPICH_PATH=/opt/mpich/1.2.6..14b/x86_64/gcc/
> ACLOCAL_FLAGS=-I /opt/gnome/share/aclocal
> SSH_CONNECTION=::ffff:10.15.1.179 51565 ::ffff:10.30.1.15 22
> PKG_CONFIG_PATH=/opt/gnome/lib64/pkgconfig
> LESSOPEN=lessopen.sh %s
> INFOPATH=/usr/local/info:/usr/share/info:/usr/info:/opt/gnome/share/info
> LESSCLOSE=lessclose.sh %s %s
> G_BROKEN_FILENAMES=1
> JAVA_ROOT=/usr/lib/jvm/java
> COLORTERM=1
> _=/usr/bin/env
>
>
> pearman at master:~> which mpirun
> /opt/openmpi/bin/mpirun
>
> Also note:  mpich is also installed and is also in the PATH, after openmpi
>
> BTW.  I have seen a number of posts concerning the pt2pt error message.
>  Still, I was unable to understand how they might apply to fixing the
> current problem.
>
> Help would be greatly appreciated.
>
> Peter
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From Richard.Cotton at hsl.gov.uk  Tue Apr  8 12:43:26 2008
From: Richard.Cotton at hsl.gov.uk (Richard Cotton)
Date: Tue, 8 Apr 2008 03:43:26 -0700 (PDT)
Subject: [Rd] Call R from C#
In-Reply-To: <3356.68.145.126.79.1207001264.squirrel@68.145.126.79>
References: <3356.68.145.126.79.1207001264.squirrel@68.145.126.79>
Message-ID: <16556822.post@talk.nabble.com>



guox wrote:
> 
> I would like to call functions/objects of R from
> C#.NET environment. I was wondering whether or not
> it is possible. If yes, could you please give me some suggestions
> on how to approach it (any examples/documentation on this)? Thanks!
> 

Here are some instructions on calling R from F#; they are easily adaptable
to any dotnet language.

http://cs.hubfs.net/blogs/thepopeofthehub/archive/2007/11/06/FSharpWithR.aspx

-----
Regards,
Richie.

Mathematical Sciences Unit
HSL
-- 
View this message in context: http://www.nabble.com/Call-R-from-C--tp16410255p16556822.html
Sent from the R devel mailing list archive at Nabble.com.


From ligges at statistik.tu-dortmund.de  Tue Apr  8 13:21:51 2008
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Tue, 08 Apr 2008 13:21:51 +0200
Subject: [Rd] "\0" gives no warning "unknown escape sequence" (PR#11107)
In-Reply-To: <20080407211005.00AA8282EFF7@mail.pubhealth.ku.dk>
References: <20080407211005.00AA8282EFF7@mail.pubhealth.ku.dk>
Message-ID: <47FB554F.801@statistik.tu-dortmund.de>



volkmar.klatt at bnv-bamberg.de wrote:
> Full_Name: Volkmar Klatt
> Version: 2.6.2
> OS: linux
> Submission from: (NULL) (84.147.0.178)
> 
> 
> Hello,
> 
> the documentation article
> ?Quotes 
> from package:base could be improved by discussing
> the meaning of "\0" escape sequence.
> In R (currently used: R-2.6.2), a "\0" in a string will
> silently terminate that string, just as it would in C code.
> There is no warning about an unknown escape sequence.
> (cf. R FAQ 7.37)


So having read that, I do expect the behavior you write about below.

Best wishes,
Uwe




> # example:
> s <- "abc\0def"
> s
> # --> [1] "abc"
> nchar(s) 
> # --> [1] 3
> 
> The "\0" seems to be so fundamental, that it cannot be handled by
> any R function, am I right?
> E.g., the function escapeBS (package:Hmisc) does not correctly
> handle "\0" sequences, that is in contrast to what is stated in its 
> article ?escapeBS :
> "'escapeBS' will escape any backslash '\backslash' in a string.
> 
> # example:
> library(Hmisc)
> escapeBS("abc\0def")
> # -->[1] "abc"
> 
> Bye,
> Volkmar Klatt
> volkmar.klatt AT bnv-bamberg.de
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Tue Apr  8 13:41:29 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 08 Apr 2008 07:41:29 -0400
Subject: [Rd] "\0" gives no warning "unknown escape sequence" (PR#11107)
In-Reply-To: <20080407211005.00AA8282EFF7@mail.pubhealth.ku.dk>
References: <20080407211005.00AA8282EFF7@mail.pubhealth.ku.dk>
Message-ID: <47FB59E9.7070606@stats.uwo.ca>

volkmar.klatt at bnv-bamberg.de wrote:
> Full_Name: Volkmar Klatt
> Version: 2.6.2
> OS: linux
> Submission from: (NULL) (84.147.0.178)
>
>
> Hello,
>
> the documentation article
> ?Quotes 
> from package:base could be improved by discussing
> the meaning of "\0" escape sequence.
>   

I agree...

> In R (currently used: R-2.6.2), a "\0" in a string will
> silently terminate that string, just as it would in C code.
> There is no warning about an unknown escape sequence.
> (cf. R FAQ 7.37)
>
> # example:
> s <- "abc\0def"
> s
> # --> [1] "abc"
> nchar(s) 
> # --> [1] 3
>
> The "\0" seems to be so fundamental, that it cannot be handled by
> any R function, am I right?
>   

Not quite.  The parser will stop parsing a string when it hits one, but 
you could embed one in a string using something like

 > rawToChar(as.raw(c(97:99, 0, 100:102)))
[1] "abc\0def"

> E.g., the function escapeBS (package:Hmisc) does not correctly
> handle "\0" sequences, that is in contrast to what is stated in its 
> article ?escapeBS :
> "'escapeBS' will escape any backslash '\backslash' in a string.
>
>   

But there was no backslash in that string, escapeBS only saw the "abc" 
part that the parser gave it.

I don't know that the parser should be able to handle input like 
"abc\0def", but it does make sense that it would, since that's a legal 
character vector.

Duncan Murdoch
> # example:
> library(Hmisc)
> escapeBS("abc\0def")
> # -->[1] "abc"
>
> Bye,
> Volkmar Klatt
> volkmar.klatt AT bnv-bamberg.de
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From edd at debian.org  Tue Apr  8 14:06:36 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 8 Apr 2008 07:06:36 -0500
Subject: [Rd] Rmpi 0.5-6 : error spawning process
In-Reply-To: <47FB37B6.2060205@ibe.med.uni-muenchen.de>
References: <47FB37B6.2060205@ibe.med.uni-muenchen.de>
Message-ID: <18427.24524.589315.870445@ron.nulle.part>


On 8 April 2008 at 11:15, Markus Schmidberger wrote:
| I am using a cluster with LAM 7.1.3/MPI 2 and R 2.6.0.
| Rmpi version 0.5-5 is working very well.
| 
| Now I have tested "Rmpi 0.5-6". During spawning the Rslaves I get an 
| error: MPI_Error_string: error spawning process

Not sure about your issue -- for Debian, we switched away from LAM to Open
MPI and everything is working just fine right out of the box.  Further, while
were converting to Open MPI, I had 'frozen' my work installation at the 'last
known' LAM release.  For some reasons, that was LAM 7.1.1* -- I never got
Rmpi to work with the later LAM releases.  

However, Hao Yu and I were able to iron all issues on Debian and Ubuntu and
Rmpi, R, Open MPI, ... should 'just work' with current versions. Also, the
LAM team suggests to move to Open MPI.

Dirk
(Debian maintainer for R, OpenMPI, Rmpi, snow and a few other things)

--
Three out of two people have difficulties with fractions.


From kirjeet at hotmail.com  Tue Apr  8 11:05:27 2008
From: kirjeet at hotmail.com (kirjeet at hotmail.com)
Date: Tue,  8 Apr 2008 11:05:27 +0200 (CEST)
Subject: [Rd] library(forecast) (PR#11111)
Message-ID: <20080408090527.3AADF282EFF6@mail.pubhealth.ku.dk>

Full_Name: F. L.
Version: 2.6.2
OS: Windows 2000
Submission from: (NULL) (212.246.64.250)


> library(forecast)
Loading required package: tseries
Error in dyn.load(file, ...) : 
  unable to load shared library
'D:/PROGRA~1/R/R-26~1.2/library/tseries/libs/tseries.dll':
  LoadLibrary failure:  The specified module could not be found.


Error: package 'tseries' could not be loaded
> library(forecast)
Loading required package: tseries

    ?tseries? version: 0.10-14

    ?tseries? is a package for time series analysis and computational
    finance.

    See ?library(help="tseries")? for details.

This is forecast 1.11 
*****************************************************
My guess what goes wrong: 
tseries.dll is unable to load "Rblas.dll". I made a copy of Rblas.dll named
"Rblas" and the problem went away. 

Please check if the distribution copy of tseries.dll is corrupt or not.


From vincent.goulet at act.ulaval.ca  Tue Apr  8 15:28:00 2008
From: vincent.goulet at act.ulaval.ca (Vincent Goulet)
Date: Tue, 08 Apr 2008 09:28:00 -0400
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <3f446aa30804060401u34871311h575edf6861cd9285@mail.gmail.com>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
	<18423.48201.828727.639538@cmath-5.math.ethz.ch>
	<3f446aa30804060401u34871311h575edf6861cd9285@mail.gmail.com>
Message-ID: <2BA1FDBF-4075-42E7-AED9-AD56F091C45D@act.ulaval.ca>


Le dim. 6 avr. ? 07:01, Rory Winston a ?crit :
> Hi Martin
>
> Thanks for the detailed reply. I had a look at the matrix power
> implementation in the actuar package and the modified version in the  
> expm
> package. I have a couple of questions/comments:
>
> 1. Firstly, I seem to have trouble loading expm.
>
>> install.packages("expm",repos="http://R-Forge.R-project.org")
> trying URL '
> http://R-Forge.R-project.org/bin/macosx/universal/contrib/2.6/expm_0.9-1.tgz
> '
> Content type 'application/x-gzip' length 149679 bytes (146 Kb)
> opened URL
> ==================================================
> downloaded 146 Kb
> ...
>> library("expm")
> Error in namespaceExport(ns, exports) : undefined exports :matpow
> Error: package/namespace load failed for 'expm'

[snip]

The current version of the package on R-Forge is 0.9-2 and the  
NAMESPACE issue should be fixed there.

> 2. On to the package implementation, I see we actually have very  
> similar
> implementations. The main differences are:
>
> i) For an exponent equal to -1, I call back into R for the solve()  
> function
> using eval() and CAR/CDR'ing the arguments into place. The actuar  
> package
> calls dgesv() directly. I suspect that the direct route is more  
> efficient
> and thus the more preferable one. I see that your implementation  
> doesnt
> calculate the inverse for an exponent of -1,is there a specific  
> reason for
> doing that?

The rationale is: you seldom *really* need to inverse a matrix, so we  
won't help you go that route. If you *really* need the explicit  
inverse, then use solve() directly (as the error message says).

> ii) Regarding complex matrices: I guess we should have support for  
> this, as
> its not unreasonable that someone may do this, and it should be  
> pretty easy
> to implement. My function doesnt have full support yet.
>
> iii) A philosophical question - where the the "right" place for the  
> %^%
> operator? Is it in the operator list at a C level along with %*% and  
> the
> like? Or is it in an R file as a function definition?

Well... both. The operator %^% is defined at the R level but the  
computations are done at the C level by function matpow(). Or perhaps  
I didn't understand what you mean, here.

> I dont really have a
> preference either way...have you an opinion on this?
>
> Thanks
> Rory

HTH

Vincent


>
>
>
> On Sat, Apr 5, 2008 at 6:52 PM, Martin Maechler <maechler at stat.math.ethz.ch 
> >
> wrote:
>
>>>>>>> "RW" == Rory Winston <rory.winston at gmail.com>
>>>>>>>    on Sat, 5 Apr 2008 14:44:44 +0100 writes:
>>
>>   RW> Hi all I recently started to write a matrix
>>   RW> exponentiation operator for R (by adding a new operator
>>   RW> definition to names.c, and adding the following code to
>>   RW> arrays.c). It is not finished yet, but I would like to
>>   RW> solicit some comments, as there are a few areas of R's
>>   RW> internals that I am still feeling my way around.
>>
>>   RW> Firstly:
>>
>>   RW> 1) Would there be interest in adding a new operator %^%
>>   RW> that performs the matrix equivalent of the scalar ^
>>   RW> operator?
>>
>> Yes. A few weeks ago, I had investigated a bit about this and
>> found several R-help/R-devel postings with code proposals
>> and then about half dozen CRAN packages with diverse
>> implementations of the matrix power (I say "power" very much on
>> purpose, in order to not confuse it with the matrix exponential
>> which is another much more interesting topic, also recently (+-
>> two months?) talked about.
>>
>> Consequently I made a few timing tests and found that indeed,
>> the "smart matrix power" {computing m^2, m^4, ... and only those
>> multiplications needed} as you find it in many good books about
>> algorithms and e.g. also in *the* standard Golub & Van Loan
>> "Matrix Computation" is better than "the eigen" method even for
>> large powers.
>>
>> matPower <- function(X,n)
>> ## Function to calculate the n-th power of a matrix X
>> {
>>   if(n != round(n)) {
>>       n <- round(n)
>>       warning("rounding exponent `n' to", n)
>>   }
>>   if(n == 0)
>>       return(diag(nrow = nrow(X)))
>>   n <- n - 1
>>   phi <- X
>>   ## pot <- X # the first power of the matrix.
>>   while (n > 0)
>>   {
>>       if (n %% 2)
>>           phi <- phi %*% X
>>       if (n == 1) break
>>       n <- n %/% 2
>>       X <- X %*% X
>>   }
>>   return(phi)
>> }
>>
>> "Simultaneously" people where looking at the matrix exponential
>> expm() in the Matrix package,
>> and some of us had consequently started the 'expm' project on
>> R-forge.
>> The main goal there has been to investigate several algorithms
>> for the matrix exponential, notably the one buggy implementation
>> (in the 'Matrix' package until a couple of weeks ago, the bug
>> stemming from 'octave' implementation).
>> The authors of 'actuar', Vincent and Christophe, notably also
>> had code for the matrix *power* in a C (building on BLAS) and I
>> had added an R-interface '%^%'  there as well.
>>
>> Yes, with the goal to move that (not the matrix exponential yet)
>> into standard R.
>> Even though it's not used so often (in percentage of all uses of
>> R), it's simple to *right*, and I have seen very many versions
>> of the matrix power that were much slower / inaccurate / ...
>> such that a reference implementation seems to be called for.
>>
>> So, please consider
>>
>>   install.packages("expm",repos="http://R-Forge.R-project.org")
>>
>> -- but only from tomorrow for Windows (which installs a
>>  pre-compiled package), since I found that we had accidentally
>>  broken the package trivially by small changes two weeks ago.
>>
>> and then
>>
>>   library(expm)
>>   ?%^%
>>
>>
>> Best regards,
>> Martin Maechler, ETH Zurich
>>
>>
>>
>>
>>   RW> operator? I am implicitly assuming that the benefits of
>>   RW> a native exponentiation routine for Markov chain
>>   RW> evaluation or function generation would outstrip that of
>>   RW> an R solution. Based on my tests so far (comparing it to
>>   RW> a couple of different pure R versions) it does, but I
>>   RW> still there is much room for optimization in my method.
>>   RW> 2) Regarding the code below: Is there a better way to do
>>   RW> the matrix multiplication? I am creating quite a few
>>   RW> copies for this implementation of exponentiation by
>>   RW> squaring. Is there a way to cut down on the number of
>>   RW> copies I am making here (I am assuming that the lhs and
>>   RW> rhs of matprod() must be different instances).
>>
>>   RW> Any feedback appreciated !  Thanks Rory
>>
>>   RW> <snip>
>>
>>   RW> /* Convenience function */ static void
>>   RW> copyMatrixData(SEXP a, SEXP b, int nrows, int ncols, int
>>   RW> mode) { for (int i=0; i < ncols; ++i) for (int j=0; j <
>>   RW> nrows; ++j) REAL(b)[i * nrows + j] = REAL(a)[i * nrows +
>>   RW> j]; }
>>
>>   RW> SEXP do_matexp(SEXP call, SEXP op, SEXP args, SEXP rho)
>>   RW> { int nrows, ncols; SEXP matrix, tmp, dims, dims2; SEXP
>>   RW> x, y, x_, x__; int i,j,e,mode;
>>
>>   RW>     // Still need to fix full complex support mode =
>>   RW> isComplex(CAR(args)) ? CPLXSXP : REALSXP;
>>
>>   RW>     SETCAR(args, coerceVector(CAR(args), mode)); x =
>>   RW> CAR(args); y = CADR(args);
>>
>>   RW>     dims = getAttrib(x, R_DimSymbol); nrows =
>>   RW> INTEGER(dims)[0]; ncols = INTEGER(dims)[1];
>>
>>
>>   RW>     if (nrows != ncols) error(_("can only raise square
>>   RW> matrix to power"));
>>
>>   RW>     if (!isNumeric(y)) error(_("exponent must be a
>>   RW> scalar integer"));
>>
>>   RW>     e = asInteger(y);
>>
>>   RW>     if (e < -1) error(_("exponent must be >= -1")); else
>>   RW> if (e == 1) return x;
>>
>>   RW>     else if (e == -1) { /* return matrix inverse via
>>   RW> solve() */ SEXP p1, p2, inv; PROTECT(p1 = p2 =
>>   RW> allocList(2)); SET_TYPEOF(p1, LANGSXP); CAR(p2) =
>>   RW> install("solve.default"); p2 = CDR(p2); CAR(p2) = x; inv
>>   RW> = eval(p1, rho); UNPROTECT(1); return inv; }
>>
>>   RW>     PROTECT(matrix = allocVector(mode, nrows * ncols));
>>   RW> PROTECT(tmp = allocVector(mode, nrows * ncols));
>>   RW> PROTECT(x_ = allocVector(mode, nrows * ncols));
>>   RW> PROTECT(x__ = allocVector(mode, nrows * ncols));
>>
>>   RW>     copyMatrixData(x, x_, nrows, ncols, mode);
>>
>>   RW>     // Initialize matrix to identity matrix // Set x[i *
>>   RW> ncols + i] = 1 for (i = 0; i < ncols*nrows; i++)
>>   RW> REAL(matrix)[i] = ((i % (ncols+1) == 0) ? 1 : 0);
>>
>>   RW>     if (e == 0) { ; // return identity matrix } else
>>   RW> while (e > 0) { if (e & 1) { if (mode == REALSXP)
>>   RW> matprod(REAL(matrix), nrows, ncols, REAL(x_), nrows,
>>   RW> ncols, REAL(tmp)); else cmatprod(COMPLEX(tmp), nrows,
>>   RW> ncols, COMPLEX(x_), nrows, ncols, COMPLEX(matrix));
>>
>>   RW>             copyMatrixData(tmp, matrix, nrows, ncols,
>>   RW> mode); e--; }
>>
>>   RW>         if (mode == REALSXP) matprod(REAL(x_), nrows,
>>   RW> ncols, REAL(x_), nrows, ncols, REAL(x__)); else
>>   RW> cmatprod(COMPLEX(x_), nrows, ncols, COMPLEX(x_), nrows,
>>   RW> ncols, COMPLEX(x__));
>>
>>   RW>         copyMatrixData(x__, x_, nrows, ncols, mode); e
>>   RW> /= 2; }
>>
>>   RW>     PROTECT(dims2 = allocVector(INTSXP, 2));
>>   RW> INTEGER(dims2)[0] = nrows; INTEGER(dims2)[1] = ncols;
>>   RW> setAttrib(matrix, R_DimSymbol, dims2);
>>
>>   RW>     UNPROTECT(5); return matrix; }
>>
>>   RW>         [[alternative HTML version deleted]]
>>
>>   RW> ______________________________________________
>>   RW> R-devel at r-project.org mailing list
>>   RW> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From maechler at stat.math.ethz.ch  Tue Apr  8 15:57:18 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 8 Apr 2008 15:57:18 +0200
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <2BA1FDBF-4075-42E7-AED9-AD56F091C45D@act.ulaval.ca>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
	<18423.48201.828727.639538@cmath-5.math.ethz.ch>
	<3f446aa30804060401u34871311h575edf6861cd9285@mail.gmail.com>
	<2BA1FDBF-4075-42E7-AED9-AD56F091C45D@act.ulaval.ca>
Message-ID: <18427.31166.634180.543962@stat.math.ethz.ch>

>>>>> "VG" == Vincent Goulet <vincent.goulet at act.ulaval.ca>
>>>>>     on Tue, 08 Apr 2008 09:28:00 -0400 writes:

    VG> Le dim. 6 avr. ? 07:01, Rory Winston a ?crit :
    >> Hi Martin
    >> 
    >> Thanks for the detailed reply. I had a look at the matrix power
    >> implementation in the actuar package and the modified version in the  
    >> expm
    >> package. I have a couple of questions/comments:
    >> 
    >> 1. Firstly, I seem to have trouble loading expm.
    >> 
    >>> install.packages("expm",repos="http://R-Forge.R-project.org")
    >> trying URL '
    >> http://R-Forge.R-project.org/bin/macosx/universal/contrib/2.6/expm_0.9-1.tgz
    >> '
    >> Content type 'application/x-gzip' length 149679 bytes (146 Kb)
    >> opened URL
    >> ==================================================
    >> downloaded 146 Kb
    >> ...
    >>> library("expm")
    >> Error in namespaceExport(ns, exports) : undefined exports :matpow
    >> Error: package/namespace load failed for 'expm'

    VG> [snip]

    VG> The current version of the package on R-Forge is 0.9-2 and the  
    VG> NAMESPACE issue should be fixed there.

Yes, and I told Rory explicitly that he should wait a day before
downloading the windows version of 'expm' ...
{Siiiggh, it's not only the documentation that people are not reading ...}

    >> 2. On to the package implementation, I see we actually have very  
    >> similar
    >> implementations. The main differences are:
    >> 
    >> i) For an exponent equal to -1, I call back into R for the solve()  
    >> function
    >> using eval() and CAR/CDR'ing the arguments into place. The actuar  
    >> package
    >> calls dgesv() directly. I suspect that the direct route is more  
    >> efficient
    >> and thus the more preferable one. I see that your implementation  
    >> doesnt
    >> calculate the inverse for an exponent of -1,is there a specific  
    >> reason for
    >> doing that?

    VG> The rationale is: you seldom *really* need to inverse a matrix, so we  
    VG> won't help you go that route. If you *really* need the explicit  
    VG> inverse, then use solve() directly (as the error message says).

    >> ii) Regarding complex matrices: I guess we should have support for  
    >> this, as
    >> its not unreasonable that someone may do this, and it should be  
    >> pretty easy
    >> to implement. My function doesnt have full support yet.
    >> 
    >> iii) A philosophical question - where the the "right" place for the  
    >> %^%
    >> operator? Is it in the operator list at a C level along with %*% and  
    >> the
    >> like? Or is it in an R file as a function definition?

    VG> Well... both. The operator %^% is defined at the R level but the  
    VG> computations are done at the C level by function matpow(). Or perhaps  
    VG> I didn't understand what you mean, here.

Thank you, Vincent.
I think Rory was asking about how the integration into "R base"
should happen.  In that case there's much more choice than just
the .Call() or .External() one: There's also .Internal() and ".Primitive",
and for instance %*% is primitive.

One current advantage of having %^% be primitive would be that
it can automatically also be an S4 and S3 generic function.
However there are plans to make this easier for R 2.8.0++ and we
are talking about that version of R anyway.

    >> I dont really have a
    >> preference either way...have you an opinion on this?
    >> 
    >> Thanks
    >> Rory

    VG> HTH

    VG> Vincent


    >> 
    >> 
    >> 
    >> On Sat, Apr 5, 2008 at 6:52 PM, Martin Maechler <maechler at stat.math.ethz.ch 
    >> >
    >> wrote:
    >> 
    >>>>>>>> "RW" == Rory Winston <rory.winston at gmail.com>
    >>>>>>>> on Sat, 5 Apr 2008 14:44:44 +0100 writes:
    >>> 
    RW> Hi all I recently started to write a matrix
    RW> exponentiation operator for R (by adding a new operator
    RW> definition to names.c, and adding the following code to
    RW> arrays.c). It is not finished yet, but I would like to
    RW> solicit some comments, as there are a few areas of R's
    RW> internals that I am still feeling my way around.
    >>> 
    RW> Firstly:
    >>> 
    RW> 1) Would there be interest in adding a new operator %^%
    RW> that performs the matrix equivalent of the scalar ^
    RW> operator?
    >>> 
    >>> Yes. A few weeks ago, I had investigated a bit about this and
    >>> found several R-help/R-devel postings with code proposals
    >>> and then about half dozen CRAN packages with diverse
    >>> implementations of the matrix power (I say "power" very much on
    >>> purpose, in order to not confuse it with the matrix exponential
    >>> which is another much more interesting topic, also recently (+-
    >>> two months?) talked about.
    >>> 
    >>> Consequently I made a few timing tests and found that indeed,
    >>> the "smart matrix power" {computing m^2, m^4, ... and only those
    >>> multiplications needed} as you find it in many good books about
    >>> algorithms and e.g. also in *the* standard Golub & Van Loan
    >>> "Matrix Computation" is better than "the eigen" method even for
    >>> large powers.
    >>> 
    >>> matPower <- function(X,n)
    >>> ## Function to calculate the n-th power of a matrix X
    >>> {
    >>> if(n != round(n)) {
    >>> n <- round(n)
    >>> warning("rounding exponent `n' to", n)
    >>> }
    >>> if(n == 0)
    >>> return(diag(nrow = nrow(X)))
    >>> n <- n - 1
    >>> phi <- X
    >>> ## pot <- X # the first power of the matrix.
    >>> while (n > 0)
    >>> {
    >>> if (n %% 2)
    >>> phi <- phi %*% X
    >>> if (n == 1) break
    >>> n <- n %/% 2
    >>> X <- X %*% X
    >>> }
    >>> return(phi)
    >>> }
    >>> 
    >>> "Simultaneously" people where looking at the matrix exponential
    >>> expm() in the Matrix package,
    >>> and some of us had consequently started the 'expm' project on
    >>> R-forge.
    >>> The main goal there has been to investigate several algorithms
    >>> for the matrix exponential, notably the one buggy implementation
    >>> (in the 'Matrix' package until a couple of weeks ago, the bug
    >>> stemming from 'octave' implementation).
    >>> The authors of 'actuar', Vincent and Christophe, notably also
    >>> had code for the matrix *power* in a C (building on BLAS) and I
    >>> had added an R-interface '%^%'  there as well.
    >>> 
    >>> Yes, with the goal to move that (not the matrix exponential yet)
    >>> into standard R.
    >>> Even though it's not used so often (in percentage of all uses of
    >>> R), it's simple to *right*, and I have seen very many versions
    >>> of the matrix power that were much slower / inaccurate / ...
    >>> such that a reference implementation seems to be called for.
    >>> 
    >>> So, please consider
    >>> 
    >>> install.packages("expm",repos="http://R-Forge.R-project.org")
    >>> 
    >>> -- but only from tomorrow for Windows (which installs a
    >>> pre-compiled package), since I found that we had accidentally
    >>> broken the package trivially by small changes two weeks ago.
    >>> 
    >>> and then
    >>> 
    >>> library(expm)
    >>> ?%^%
    >>> 
    >>> 
    >>> Best regards,
    >>> Martin Maechler, ETH Zurich
    >>> 
    >>> 
    >>> 
    >>> 
    RW> operator? I am implicitly assuming that the benefits of
    RW> a native exponentiation routine for Markov chain
    RW> evaluation or function generation would outstrip that of
    RW> an R solution. Based on my tests so far (comparing it to
    RW> a couple of different pure R versions) it does, but I
    RW> still there is much room for optimization in my method.
    RW> 2) Regarding the code below: Is there a better way to do
    RW> the matrix multiplication? I am creating quite a few
    RW> copies for this implementation of exponentiation by
    RW> squaring. Is there a way to cut down on the number of
    RW> copies I am making here (I am assuming that the lhs and
    RW> rhs of matprod() must be different instances).
    >>> 
    RW> Any feedback appreciated !  Thanks Rory
    >>> 
    RW> <snip>
    >>> 
    RW> /* Convenience function */ static void
    RW> copyMatrixData(SEXP a, SEXP b, int nrows, int ncols, int
    RW> mode) { for (int i=0; i < ncols; ++i) for (int j=0; j <
    RW> nrows; ++j) REAL(b)[i * nrows + j] = REAL(a)[i * nrows +
    RW> j]; }
    >>> 
    RW> SEXP do_matexp(SEXP call, SEXP op, SEXP args, SEXP rho)
    RW> { int nrows, ncols; SEXP matrix, tmp, dims, dims2; SEXP
    RW> x, y, x_, x__; int i,j,e,mode;
    >>> 
    RW> // Still need to fix full complex support mode =
    RW> isComplex(CAR(args)) ? CPLXSXP : REALSXP;
    >>> 
    RW> SETCAR(args, coerceVector(CAR(args), mode)); x =
    RW> CAR(args); y = CADR(args);
    >>> 
    RW> dims = getAttrib(x, R_DimSymbol); nrows =
    RW> INTEGER(dims)[0]; ncols = INTEGER(dims)[1];
    >>> 
    >>> 
    RW> if (nrows != ncols) error(_("can only raise square
    RW> matrix to power"));
    >>> 
    RW> if (!isNumeric(y)) error(_("exponent must be a
    RW> scalar integer"));
    >>> 
    RW> e = asInteger(y);
    >>> 
    RW> if (e < -1) error(_("exponent must be >= -1")); else
    RW> if (e == 1) return x;
    >>> 
    RW> else if (e == -1) { /* return matrix inverse via
    RW> solve() */ SEXP p1, p2, inv; PROTECT(p1 = p2 =
    RW> allocList(2)); SET_TYPEOF(p1, LANGSXP); CAR(p2) =
    RW> install("solve.default"); p2 = CDR(p2); CAR(p2) = x; inv
    RW> = eval(p1, rho); UNPROTECT(1); return inv; }
    >>> 
    RW> PROTECT(matrix = allocVector(mode, nrows * ncols));
    RW> PROTECT(tmp = allocVector(mode, nrows * ncols));
    RW> PROTECT(x_ = allocVector(mode, nrows * ncols));
    RW> PROTECT(x__ = allocVector(mode, nrows * ncols));
    >>> 
    RW> copyMatrixData(x, x_, nrows, ncols, mode);
    >>> 
    RW> // Initialize matrix to identity matrix // Set x[i *
    RW> ncols + i] = 1 for (i = 0; i < ncols*nrows; i++)
    RW> REAL(matrix)[i] = ((i % (ncols+1) == 0) ? 1 : 0);
    >>> 
    RW> if (e == 0) { ; // return identity matrix } else
    RW> while (e > 0) { if (e & 1) { if (mode == REALSXP)
    RW> matprod(REAL(matrix), nrows, ncols, REAL(x_), nrows,
    RW> ncols, REAL(tmp)); else cmatprod(COMPLEX(tmp), nrows,
    RW> ncols, COMPLEX(x_), nrows, ncols, COMPLEX(matrix));
    >>> 
    RW> copyMatrixData(tmp, matrix, nrows, ncols,
    RW> mode); e--; }
    >>> 
    RW> if (mode == REALSXP) matprod(REAL(x_), nrows,
    RW> ncols, REAL(x_), nrows, ncols, REAL(x__)); else
    RW> cmatprod(COMPLEX(x_), nrows, ncols, COMPLEX(x_), nrows,
    RW> ncols, COMPLEX(x__));
    >>> 
    RW> copyMatrixData(x__, x_, nrows, ncols, mode); e
    RW> /= 2; }
    >>> 
    RW> PROTECT(dims2 = allocVector(INTSXP, 2));
    RW> INTEGER(dims2)[0] = nrows; INTEGER(dims2)[1] = ncols;
    RW> setAttrib(matrix, R_DimSymbol, dims2);
    >>> 
    RW> UNPROTECT(5); return matrix; }
    >>> 
    RW> [[alternative HTML version deleted]]
    >>> 
    RW> ______________________________________________
    RW> R-devel at r-project.org mailing list
    RW> https://stat.ethz.ch/mailman/listinfo/r-devel
    >>> 
    >> 
    >> [[alternative HTML version deleted]]
    >> 
    >> ______________________________________________
    >> R-devel at r-project.org mailing list
    >> https://stat.ethz.ch/mailman/listinfo/r-devel

    VG> ______________________________________________
    VG> R-devel at r-project.org mailing list
    VG> https://stat.ethz.ch/mailman/listinfo/r-devel


From maechler at stat.math.ethz.ch  Tue Apr  8 17:18:45 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 8 Apr 2008 17:18:45 +0200
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <1475375747-1207663523-cardhu_decombobulator_blackberry.rim.net-828826311-@bxe043.bisx.produk.on.blackberry>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
	<18423.48201.828727.639538@cmath-5.math.ethz.ch>
	<3f446aa30804060401u34871311h575edf6861cd9285@mail.gmail.com>
	<2BA1FDBF-4075-42E7-AED9-AD56F091C45D@act.ulaval.ca>
	<18427.31166.634180.543962@stat.math.ethz.ch>
	<1475375747-1207663523-cardhu_decombobulator_blackberry.rim.net-828826311-@bxe043.bisx.produk.on.blackberry>
Message-ID: <18427.36053.157110.608612@stat.math.ethz.ch>

>>>>> "rw" == rory winston <rory.winston at gmail.com>
>>>>>     on Tue, 8 Apr 2008 14:06:26 +0000 writes:

    rw> Hi martin
    rw> Actually I did read your email. If you had actually read *my* email you would have seen that I am not using the windows version, which is what you explicitly referred to earlier. Lack of observation aside, that was indeed what I was asking.

Ah, ok,
please excuse me.

I only quickly scanned that you had installed the outdate binary
version of the package, and wrongly concluded you were using Windows.

Indeed, you used the MacOS one which for this case suffers from the
identical problem: It installs a *binary* package, the binaries
are only rebuilt from the source once a day (or so), and so you got the
old version instead of the - then current - version.

    rw> Thanks
    rw> Rory

Martin


From rory.winston at gmail.com  Tue Apr  8 16:06:26 2008
From: rory.winston at gmail.com (rory.winston at gmail.com)
Date: Tue, 8 Apr 2008 14:06:26 +0000
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <18427.31166.634180.543962@stat.math.ethz.ch>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com><18423.48201.828727.639538@cmath-5.math.ethz.ch><3f446aa30804060401u34871311h575edf6861cd9285@mail.gmail.com><2BA1FDBF-4075-42E7-AED9-AD56F091C45D@act.ulaval.ca><18427.31166.634180.543962@stat.math.ethz.ch>
Message-ID: <1475375747-1207663523-cardhu_decombobulator_blackberry.rim.net-828826311-@bxe043.bisx.produk.on.blackberry>

Hi martin
Actually I did read your email. If you had actually read *my* email you would have seen that I am not using the windows version, which is what you explicitly referred to earlier. Lack of observation aside, that was indeed what I was asking.

Thanks
Rory
Sent using BlackBerry? from Orange

-----Original Message-----
From: Martin Maechler <maechler at stat.math.ethz.ch>

Date: Tue, 8 Apr 2008 15:57:18 
To:Vincent Goulet <vincent.goulet at act.ulaval.ca>
Cc:Rory Winston <rory.winston at gmail.com>, r-devel at r-project.org
Subject: Re: [Rd] Adding a Matrix Exponentiation Operator


>>>>> "VG" == Vincent Goulet <vincent.goulet at act.ulaval.ca>
>>>>>     on Tue, 08 Apr 2008 09:28:00 -0400 writes:

    VG> Le dim. 6 avr. ? 07:01, Rory Winston a ?crit :
    >> Hi Martin
    >> 
    >> Thanks for the detailed reply. I had a look at the matrix power
    >> implementation in the actuar package and the modified version in the  
    >> expm
    >> package. I have a couple of questions/comments:
    >> 
    >> 1. Firstly, I seem to have trouble loading expm.
    >> 
    >>> install.packages("expm",repos="http://R-Forge.R-project.org")
    >> trying URL '
    >> http://R-Forge.R-project.org/bin/macosx/universal/contrib/2.6/expm_0.9-1.tgz
    >> '
    >> Content type 'application/x-gzip' length 149679 bytes (146 Kb)
    >> opened URL
    >> ==================================================
    >> downloaded 146 Kb
    >> ...
    >>> library("expm")
    >> Error in namespaceExport(ns, exports) : undefined exports :matpow
    >> Error: package/namespace load failed for 'expm'

    VG> [snip]

    VG> The current version of the package on R-Forge is 0.9-2 and the  
    VG> NAMESPACE issue should be fixed there.

Yes, and I told Rory explicitly that he should wait a day before
downloading the windows version of 'expm' ...
{Siiiggh, it's not only the documentation that people are not reading ...}

    >> 2. On to the package implementation, I see we actually have very  
    >> similar
    >> implementations. The main differences are:
    >> 
    >> i) For an exponent equal to -1, I call back into R for the solve()  
    >> function
    >> using eval() and CAR/CDR'ing the arguments into place. The actuar  
    >> package
    >> calls dgesv() directly. I suspect that the direct route is more  
    >> efficient
    >> and thus the more preferable one. I see that your implementation  
    >> doesnt
    >> calculate the inverse for an exponent of -1,is there a specific  
    >> reason for
    >> doing that?

    VG> The rationale is: you seldom *really* need to inverse a matrix, so we  
    VG> won't help you go that route. If you *really* need the explicit  
    VG> inverse, then use solve() directly (as the error message says).

    >> ii) Regarding complex matrices: I guess we should have support for  
    >> this, as
    >> its not unreasonable that someone may do this, and it should be  
    >> pretty easy
    >> to implement. My function doesnt have full support yet.
    >> 
    >> iii) A philosophical question - where the the "right" place for the  
    >> %^%
    >> operator? Is it in the operator list at a C level along with %*% and  
    >> the
    >> like? Or is it in an R file as a function definition?

    VG> Well... both. The operator %^% is defined at the R level but the  
    VG> computations are done at the C level by function matpow(). Or perhaps  
    VG> I didn't understand what you mean, here.

Thank you, Vincent.
I think Rory was asking about how the integration into "R base"
should happen.  In that case there's much more choice than just
the .Call() or .External() one: There's also .Internal() and ".Primitive",
and for instance %*% is primitive.

One current advantage of having %^% be primitive would be that
it can automatically also be an S4 and S3 generic function.
However there are plans to make this easier for R 2.8.0++ and we
are talking about that version of R anyway.

    >> I dont really have a
    >> preference either way...have you an opinion on this?
    >> 
    >> Thanks
    >> Rory

    VG> HTH

    VG> Vincent


    >> 
    >> 
    >> 
    >> On Sat, Apr 5, 2008 at 6:52 PM, Martin Maechler <maechler at stat.math.ethz.ch 
    >> >
    >> wrote:
    >> 
    >>>>>>>> "RW" == Rory Winston <rory.winston at gmail.com>
    >>>>>>>> on Sat, 5 Apr 2008 14:44:44 +0100 writes:
    >>> 
    RW> Hi all I recently started to write a matrix
    RW> exponentiation operator for R (by adding a new operator
    RW> definition to names.c, and adding the following code to
    RW> arrays.c). It is not finished yet, but I would like to
    RW> solicit some comments, as there are a few areas of R's
    RW> internals that I am still feeling my way around.
    >>> 
    RW> Firstly:
    >>> 
    RW> 1) Would there be interest in adding a new operator %^%
    RW> that performs the matrix equivalent of the scalar ^
    RW> operator?
    >>> 
    >>> Yes. A few weeks ago, I had investigated a bit about this and
    >>> found several R-help/R-devel postings with code proposals
    >>> and then about half dozen CRAN packages with diverse
    >>> implementations of the matrix power (I say "power" very much on
    >>> purpose, in order to not confuse it with the matrix exponential
    >>> which is another much more interesting topic, also recently (+-
    >>> two months?) talked about.
    >>> 
    >>> Consequently I made a few timing tests and found that indeed,
    >>> the "smart matrix power" {computing m^2, m^4, ... and only those
    >>> multiplications needed} as you find it in many good books about
    >>> algorithms and e.g. also in *the* standard Golub & Van Loan
    >>> "Matrix Computation" is better than "the eigen" method even for
    >>> large powers.
    >>> 
    >>> matPower <- function(X,n)
    >>> ## Function to calculate the n-th power of a matrix X
    >>> {
    >>> if(n != round(n)) {
    >>> n <- round(n)
    >>> warning("rounding exponent `n' to", n)
    >>> }
    >>> if(n == 0)
    >>> return(diag(nrow = nrow(X)))
    >>> n <- n - 1
    >>> phi <- X
    >>> ## pot <- X # the first power of the matrix.
    >>> while (n > 0)
    >>> {
    >>> if (n %% 2)
    >>> phi <- phi %*% X
    >>> if (n == 1) break
    >>> n <- n %/% 2
    >>> X <- X %*% X
    >>> }
    >>> return(phi)
    >>> }
    >>> 
    >>> "Simultaneously" people where looking at the matrix exponential
    >>> expm() in the Matrix package,
    >>> and some of us had consequently started the 'expm' project on
    >>> R-forge.
    >>> The main goal there has been to investigate several algorithms
    >>> for the matrix exponential, notably the one buggy implementation
    >>> (in the 'Matrix' package until a couple of weeks ago, the bug
    >>> stemming from 'octave' implementation).
    >>> The authors of 'actuar', Vincent and Christophe, notably also
    >>> had code for the matrix *power* in a C (building on BLAS) and I
    >>> had added an R-interface '%^%'  there as well.
    >>> 
    >>> Yes, with the goal to move that (not the matrix exponential yet)
    >>> into standard R.
    >>> Even though it's not used so often (in percentage of all uses of
    >>> R), it's simple to *right*, and I have seen very many versions
    >>> of the matrix power that were much slower / inaccurate / ...
    >>> such that a reference implementation seems to be called for.
    >>> 
    >>> So, please consider
    >>> 
    >>> install.packages("expm",repos="http://R-Forge.R-project.org")
    >>> 
    >>> -- but only from tomorrow for Windows (which installs a
    >>> pre-compiled package), since I found that we had accidentally
    >>> broken the package trivially by small changes two weeks ago.
    >>> 
    >>> and then
    >>> 
    >>> library(expm)
    >>> ?%^%
    >>> 
    >>> 
    >>> Best regards,
    >>> Martin Maechler, ETH Zurich
    >>> 
    >>> 
    >>> 
    >>> 
    RW> operator? I am implicitly assuming that the benefits of
    RW> a native exponentiation routine for Markov chain
    RW> evaluation or function generation would outstrip that of
    RW> an R solution. Based on my tests so far (comparing it to
    RW> a couple of different pure R versions) it does, but I
    RW> still there is much room for optimization in my method.
    RW> 2) Regarding the code below: Is there a better way to do
    RW> the matrix multiplication? I am creating quite a few
    RW> copies for this implementation of exponentiation by
    RW> squaring. Is there a way to cut down on the number of
    RW> copies I am making here (I am assuming that the lhs and
    RW> rhs of matprod() must be different instances).
    >>> 
    RW> Any feedback appreciated !  Thanks Rory
    >>> 
    RW> <snip>
    >>> 
    RW> /* Convenience function */ static void
    RW> copyMatrixData(SEXP a, SEXP b, int nrows, int ncols, int
    RW> mode) { for (int i=0; i < ncols; ++i) for (int j=0; j <
    RW> nrows; ++j) REAL(b)[i * nrows + j] = REAL(a)[i * nrows +
    RW> j]; }
    >>> 
    RW> SEXP do_matexp(SEXP call, SEXP op, SEXP args, SEXP rho)
    RW> { int nrows, ncols; SEXP matrix, tmp, dims, dims2; SEXP
    RW> x, y, x_, x__; int i,j,e,mode;
    >>> 
    RW> // Still need to fix full complex support mode =
    RW> isComplex(CAR(args)) ? CPLXSXP : REALSXP;
    >>> 
    RW> SETCAR(args, coerceVector(CAR(args), mode)); x =
    RW> CAR(args); y = CADR(args);
    >>> 
    RW> dims = getAttrib(x, R_DimSymbol); nrows =
    RW> INTEGER(dims)[0]; ncols = INTEGER(dims)[1];
    >>> 
    >>> 
    RW> if (nrows != ncols) error(_("can only raise square
    RW> matrix to power"));
    >>> 
    RW> if (!isNumeric(y)) error(_("exponent must be a
    RW> scalar integer"));
    >>> 
    RW> e = asInteger(y);
    >>> 
    RW> if (e < -1) error(_("exponent must be >= -1")); else
    RW> if (e == 1) return x;
    >>> 
    RW> else if (e == -1) { /* return matrix inverse via
    RW> solve() */ SEXP p1, p2, inv; PROTECT(p1 = p2 =
    RW> allocList(2)); SET_TYPEOF(p1, LANGSXP); CAR(p2) =
    RW> install("solve.default"); p2 = CDR(p2); CAR(p2) = x; inv
    RW> = eval(p1, rho); UNPROTECT(1); return inv; }
    >>> 
    RW> PROTECT(matrix = allocVector(mode, nrows * ncols));
    RW> PROTECT(tmp = allocVector(mode, nrows * ncols));
    RW> PROTECT(x_ = allocVector(mode, nrows * ncols));
    RW> PROTECT(x__ = allocVector(mode, nrows * ncols));
    >>> 
    RW> copyMatrixData(x, x_, nrows, ncols, mode);
    >>> 
    RW> // Initialize matrix to identity matrix // Set x[i *
    RW> ncols + i] = 1 for (i = 0; i < ncols*nrows; i++)
    RW> REAL(matrix)[i] = ((i % (ncols+1) == 0) ? 1 : 0);
    >>> 
    RW> if (e == 0) { ; // return identity matrix } else
    RW> while (e > 0) { if (e & 1) { if (mode == REALSXP)
    RW> matprod(REAL(matrix), nrows, ncols, REAL(x_), nrows,
    RW> ncols, REAL(tmp)); else cmatprod(COMPLEX(tmp), nrows,
    RW> ncols, COMPLEX(x_), nrows, ncols, COMPLEX(matrix));
    >>> 
    RW> copyMatrixData(tmp, matrix, nrows, ncols,
    RW> mode); e--; }
    >>> 
    RW> if (mode == REALSXP) matprod(REAL(x_), nrows,
    RW> ncols, REAL(x_), nrows, ncols, REAL(x__)); else
    RW> cmatprod(COMPLEX(x_), nrows, ncols, COMPLEX(x_), nrows,
    RW> ncols, COMPLEX(x__));
    >>> 
    RW> copyMatrixData(x__, x_, nrows, ncols, mode); e
    RW> /= 2; }
    >>> 
    RW> PROTECT(dims2 = allocVector(INTSXP, 2));
    RW> INTEGER(dims2)[0] = nrows; INTEGER(dims2)[1] = ncols;
    RW> setAttrib(matrix, R_DimSymbol, dims2);
    >>> 
    RW> UNPROTECT(5); return matrix; }
    >>> 
    RW> [[alternative HTML version deleted]]
    >>> 
    RW> ______________________________________________
    RW> R-devel at r-project.org mailing list
    RW> https://stat.ethz.ch/mailman/listinfo/r-devel
    >>> 
    >> 
    >> [[alternative HTML version deleted]]
    >> 
    >> ______________________________________________
    >> R-devel at r-project.org mailing list
    >> https://stat.ethz.ch/mailman/listinfo/r-devel

    VG> ______________________________________________
    VG> R-devel at r-project.org mailing list
    VG> https://stat.ethz.ch/mailman/listinfo/r-devel

From katie.cheon at gmail.com  Tue Apr  8 19:44:05 2008
From: katie.cheon at gmail.com (Kyeongmi Cheon)
Date: Tue, 8 Apr 2008 12:44:05 -0500
Subject: [Rd] Using Rtools in Unix environment
Message-ID: <d9ad173c0804081044s20abcfb8td24c1536ad1e9349@mail.gmail.com>

The previous mail I wrote was bounced for some reason and I'm writing
it again...


I have used Rtools in windows to call C from R but my computer does
not have enough memory for my current project. So I'm trying to use
Rtools in the high performance computer at my school. The guy who
handles the HPC says it's Unix and I have three questions:

1. I found from the web that Unix has compilers in itself. Then do I
need to install only the rest (Perl,Microsoft's HTML Help Workshop) or
anything else? Or no need to install anything?

2. Should I still set the path as written in the manual for Windows?
--no space in any file/folder names
--the directory containing the command line tools comes first or
second in the path

3. The person in charge of HPC says it's unix but the school web has info on it:
...
pSeries cluster-Each nodes have 16 IBM Power5+ CPUs at 1.5 GHz, and 64
GB of RAM or IBM Power5+ CPUs (1.9 GHz) and 16 GB of RAM each. All
pSeries nodes run IBM AIX 5.3
...

Do you think I can use my C codes and R codes I already wrote in
windows? Or should I write my codes in unix all over? I never used
unix before and have no idea on it. If anyone could help, I would
appreciate that.

Kyeongmi

University of Memphis


From murdoch at stats.uwo.ca  Tue Apr  8 19:58:35 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 08 Apr 2008 13:58:35 -0400
Subject: [Rd] Using Rtools in Unix environment
In-Reply-To: <d9ad173c0804081044s20abcfb8td24c1536ad1e9349@mail.gmail.com>
References: <d9ad173c0804081044s20abcfb8td24c1536ad1e9349@mail.gmail.com>
Message-ID: <47FBB24B.7090309@stats.uwo.ca>

On 4/8/2008 1:44 PM, Kyeongmi Cheon wrote:
> The previous mail I wrote was bounced for some reason and I'm writing
> it again...
> 
> 
> I have used Rtools in windows to call C from R but my computer does
> not have enough memory for my current project. So I'm trying to use
> Rtools in the high performance computer at my school. The guy who
> handles the HPC says it's Unix and I have three questions:
> 
> 1. I found from the web that Unix has compilers in itself. Then do I
> need to install only the rest (Perl,Microsoft's HTML Help Workshop) or
> anything else? Or no need to install anything?

You probably don't need to install anything, but that depends on how 
things are installed there.  I'd just try.

HTML Help Workshop is not available on Unix, but this probably isn't an 
issue:  if you're intending to use your package on Unix, you'll have no 
need for it.

> 
> 2. Should I still set the path as written in the manual for Windows?
> --no space in any file/folder names
> --the directory containing the command line tools comes first or
> second in the path

Read the instructions for Unix, not for Windows.  In particular, don't 
touch the path unless your Unix sysadmin asks you to.

> 3. The person in charge of HPC says it's unix but the school web has info on it:
> ...
> pSeries cluster-Each nodes have 16 IBM Power5+ CPUs at 1.5 GHz, and 64
> GB of RAM or IBM Power5+ CPUs (1.9 GHz) and 16 GB of RAM each. All
> pSeries nodes run IBM AIX 5.3
> ...
> 
> Do you think I can use my C codes and R codes I already wrote in
> windows? Or should I write my codes in unix all over? I never used
> unix before and have no idea on it. If anyone could help, I would
> appreciate that.

It depends on what you put in the files, but chances are they'll run 
with no changes.

Duncan Murdoch


From luke at stat.uiowa.edu  Tue Apr  8 20:39:29 2008
From: luke at stat.uiowa.edu (Luke Tierney)
Date: Tue, 8 Apr 2008 13:39:29 -0500 (CDT)
Subject: [Rd] problem with Rmpi 0.5-5 and openmpi
In-Reply-To: <47FA1901.10904@wsl.ch>
References: <47FA1901.10904@wsl.ch>
Message-ID: <Pine.LNX.4.64.0804081332330.13353@nokomis.stat.uiowa.edu>

You may want to be a little careful about using R and MPI with
Myrinet. We tried to get that to work around 5 years ago and found it
more trouble than it was worth (we ended up sending the Myrinet
equipment back and getting gigabit ethernet instead).

As I recall, the problem at the time was that the Myrinet libraries
used their own malloc (or assumed that their own malloc was used -- I
don't recall which), whereas a standard R build would use the system
malloc.  The resulting combination would work for small allocations.
But for large allocations allocated by R using the standard malloc
(large meaning allocated by memory mapping) the Myrinet internals
would assume these allocations had been allocated by their malloc and
start doing things with them that lead to crashes.  I'm fuzzy on the
details but this should give you an idea of what to look out for.

Best,

luke

On Mon, 7 Apr 2008, Peter Pearman wrote:

> Dear knowledgeable experts :-),
>
> I am trying to get openmpi, Rmpi and SNOW running on a Myrinet/GM
> cluster.  I'm not an IT expert, but I surely could use a working
> installation of Rmpi and SNOW.
>
> I try to load the Rmpi library and get the following:
>
> > library(Rmpi)
> [master:07230] mca: base: component_find: unable to open osc pt2pt: file
> not found (ignored)
> --------------------------------------------------------------------------
> [0,0,0]: Myrinet/GM on host master was unable to find any NICs.
> Another transport will be used instead, although this may result in
> lower performance.
>
> Then if I start a cluster, only nodes on Master can be seen and initiated
>
> Here is environment, configuration and installation information:
>
>
> # configuration of openmpi
> ./configure --prefix=/opt/openmpi --with-gm=/opt/gm/2.1.21/2.6.11-21smp
> --with-sge=/opt/sge --disable-mpi-f90
>
> #installation of Rmpi
> /usr/local/bin/R CMD INSTALL Rmpi_0.5-5.tar.gz \
> --configure-args=--with-mpi=/opt/openmpi
>
> R version 2.6.1 (2007-11-26)
>
> #master environment
> pearman at master:~> env
> LESSKEY=/etc/lesskey.bin
> NNTPSERVER=news
> INFODIR=/usr/local/info:/usr/share/info:/usr/info
> MANPATH=/opt/sge/man:/usr/local/man:/usr/local/share/man:/usr/share/man:/usr/X11R6/man:/opt/gnome/share/man:/opt/c3-4/man
> HOSTNAME=master
> GNOME2_PATH=/usr/local:/opt/gnome:/usr
> XKEYSYMDB=/usr/X11R6/lib/X11/XKeysymDB
> HOST=master
> TERM=xterm
> SHELL=/bin/bash
> PROFILEREAD=true
> HISTSIZE=1000
> SSH_CLIENT=::ffff:10.15.1.179 51565 22
> QTDIR=/usr/lib/qt3
> OLDPWD=/opt/openmpi/bin
> SSH_TTY=/dev/pts/6
> GROFF_NO_SGR=yes
> JRE_HOME=/usr/lib/jvm/java/jre
> USER=pearman
> LS_COLORS=no=00:fi=00:di=01;34:ln=00;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=4
> 0;31:ex=00;32:*.cmd=00;32:*.exe=01;32:*.com=01;32:*.bat=01;32:*.btm=01;32:*.dll=01;32:*.tar=00;
> 31:*.tbz=00;31:*.tgz=00;31:*.rpm=00;31:*.deb=00;31:*.arj=00;31:*.taz=00;31:*.lzh=00;31:*.zip=00
> ;31:*.zoo=00;31:*.z=00;31:*.Z=00;31:*.gz=00;31:*.bz2=00;31:*.tb2=00;31:*.tz2=00;31:*.tbz2=00;31
> :*.avi=01;35:*.bmp=01;35:*.fli=01;35:*.gif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mng=01;35:*.mov=01;
> 35:*.mpg=01;35:*.pcx=01;35:*.pbm=01;35:*.pgm=01;35:*.png=01;35:*.ppm=01;35:*.tga=01;35:*.tif=01
> ;35:*.xbm=01;35:*.xpm=01;35:*.dl=01;35:*.gl=01;35:*.aiff=00;32:*.au=00;32:*.mid=00;32:*.mp3=00;
> 32:*.ogg=00;32:*.voc=00;32:*.wav=00;32:
> LD_LIBRARY_PATH=/opt/openmpi/lib:/opt/sge/lib/lx24-amd64
> XNLSPATH=/usr/X11R6/lib/X11/nls
> HOSTTYPE=x86_64
> PAGER=less
> XDG_CONFIG_DIRS=/usr/local/etc/xdg/:/etc/xdg/:/etc/opt/gnome/xdg/
> C3_PATH=/opt/c3-4
> MINICOM=-c on
> MAIL=/var/mail/pearman
> PATH=/opt/openmpi/bin:/opt/sge/bin/lx24-amd64:/opt/mpich/1.2.6..14b/x86_64/gcc//bin:/opt/gm/2.1
> .21/2.6.11-21smp/bin:/opt/c3-4:/home/pearman/bin:/usr/local/bin:/usr/bin:/usr/X11R6/bin:/bin:/u
> sr/games:/opt/gnome/bin:/opt/kde3/bin:/opt/pathscale/bin
> CPU=x86_64
> JAVA_BINDIR=/usr/lib/jvm/java/bin
> INPUTRC=/etc/inputrc
> PWD=/home/pearman
> JAVA_HOME=/usr/lib/jvm/java
> LANG=en_US.UTF-8
> PYTHONSTARTUP=/etc/pythonstart
> SGE_ROOT=/opt/sge
> SDK_HOME=/usr/lib/jvm/java
> C3_RSH=ssh
> TEXINPUTS=:/home/pearman/.TeX:/usr/share/doc/.TeX:/usr/doc/.TeX
> JDK_HOME=/usr/lib/jvm/java
> SHLVL=1
> HOME=/home/pearman
> LESS_ADVANCED_PREPROCESSOR=no
> OSTYPE=linux
> LS_OPTIONS=-N --color=tty -T 0
> XCURSOR_THEME=crystalwhite
> WINDOWMANAGER=/usr/X11R6/bin/kde
> GTK_PATH=/usr/local/lib/gtk-2.0:/opt/gnome/lib/gtk-2.0:/usr/lib/gtk-2.0
> GM_PATH=/opt/gm/2.1.21/2.6.11-21smp
> G_FILENAME_ENCODING=@locale,UTF-8,ISO-8859-15,CP1252
> LESS=-M -I
> MACHTYPE=x86_64-suse-linux
> LOGNAME=pearman
> GTK_PATH64=/usr/local/lib64/gtk-2.0:/opt/gnome/lib64/gtk-2.0:/usr/lib64/gtk-2.0
> CVS_RSH=ssh
> XDG_DATA_DIRS=/usr/local/share/:/usr/share/:/etc/opt/kde3/share/:/opt/kde3/share/:/opt/gnome/sh
> are/
> MPICH_PATH=/opt/mpich/1.2.6..14b/x86_64/gcc/
> ACLOCAL_FLAGS=-I /opt/gnome/share/aclocal
> SSH_CONNECTION=::ffff:10.15.1.179 51565 ::ffff:10.30.1.15 22
> PKG_CONFIG_PATH=/opt/gnome/lib64/pkgconfig
> LESSOPEN=lessopen.sh %s
> INFOPATH=/usr/local/info:/usr/share/info:/usr/info:/opt/gnome/share/info
> LESSCLOSE=lessclose.sh %s %s
> G_BROKEN_FILENAMES=1
> JAVA_ROOT=/usr/lib/jvm/java
> COLORTERM=1
> _=/usr/bin/env
>
>
> pearman at master:~> which mpirun
> /opt/openmpi/bin/mpirun
>
> Also note:  mpich is also installed and is also in the PATH, after openmpi
>
> BTW.  I have seen a number of posts concerning the pt2pt error message.
>  Still, I was unable to understand how they might apply to fixing the
> current problem.
>
> Help would be greatly appreciated.
>
> Peter
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From ripley at stats.ox.ac.uk  Wed Apr  9 08:30:09 2008
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Wed,  9 Apr 2008 08:30:09 +0200 (CEST)
Subject: [Rd] "\0" gives no warning "unknown escape sequence" (PR#11117)
Message-ID: <20080409063009.C20F3282EFF7@mail.pubhealth.ku.dk>

You seem to have missed

        '\nnn'        character with given octal code (1, 2 or 3 digits)

in ?Quotes, so \0 is a both known and documented escape sequence.
(Yes, really, '0' _is_ 1 octal digit.)

That explains your subject line: such as warning would be misleading in 
the extreme.

What is done with \0 is not explained on that help page, but then neither 
is what is done with \b or \t -- it is not the parser reference manual.
(There is one, and that is where the semantics should be.)

On Mon, 7 Apr 2008, volkmar.klatt at bnv-bamberg.de wrote:

> Full_Name: Volkmar Klatt
> Version: 2.6.2
> OS: linux
> Submission from: (NULL) (84.147.0.178)
>
>
> Hello,
>
> the documentation article
> ?Quotes
> from package:base could be improved by discussing
> the meaning of "\0" escape sequence.
> In R (currently used: R-2.6.2), a "\0" in a string will
> silently terminate that string, just as it would in C code.
> There is no warning about an unknown escape sequence.
> (cf. R FAQ 7.37)
>
> # example:
> s <- "abc\0def"
> s
> # --> [1] "abc"
> nchar(s)
> # --> [1] 3
>
> The "\0" seems to be so fundamental, that it cannot be handled by
> any R function, am I right?
> E.g., the function escapeBS (package:Hmisc) does not correctly
> handle "\0" sequences, that is in contrast to what is stated in its
> article ?escapeBS :
> "'escapeBS' will escape any backslash '\backslash' in a string.
>
> # example:
> library(Hmisc)
> escapeBS("abc\0def")
> # -->[1] "abc"
>
> Bye,
> Volkmar Klatt
> volkmar.klatt AT bnv-bamberg.de
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From luke at stat.uiowa.edu  Wed Apr  9 13:39:33 2008
From: luke at stat.uiowa.edu (Luke Tierney)
Date: Wed, 9 Apr 2008 06:39:33 -0500 (CDT)
Subject: [Rd] R-uthreads?
In-Reply-To: <20080403143638.GA54892@piskorski.com>
References: <Pine.LNX.4.64.0804021147170.17620@nokomis.stat.uiowa.edu>
	<20080403143638.GA54892@piskorski.com>
Message-ID: <Pine.LNX.4.64.0804090639060.20292@itasca2.wildberry.org>

On Thu, 3 Apr 2008, Andrew Piskorski wrote:

> On Wed, Apr 02, 2008 at 11:58:34AM -0500, Luke Tierney wrote:
>> Subject: Re: [Rd] callCC in 2.7.0
>
>> Some of us worked on something along these lines a while back in a
>> branch called R-uthreads, but the cost of converting to that
>> approach and the overhead of maintaining it seemed too high for the
>> benefit, at least at the time.
>
> Luke, could you say a bit more about R-uthreads, what your ideas,
> goals, and conclusions there were?
>
> I see the old R-uthreads branch in svn (looks like it was based on R
> 1.4 back in Aug. 2001), but I couldn't find any summary discussion,
> and I can't tell much just from looking at "src/main/uthreads.c".
>

The primary objective was to provide user-level threads to help
expressing concurrent computations, including some concurrent
things already happening in R (running finalizers in gc, aspects
of guis).  The infrastructure would also be able to support
one-shot (and maybe more general) continuations, generators,
coroutines, and the like.

The design was based on the same ideas as the stackless python
project at the time, and maybe also the Concurrent Haskell
project -- moving stuff that is currently on the C stack into
data structures allocated on the R heap and arranging for
computations to be done from a single eval call rather than a set
of nested eval calls. That way it is easy to suspend the state of
the current computation so it can be resumed later.  The
uthreads.c file only contains the interface for threading, as I
recall -- the major work is in the other files, like eval.  The
implementation was complete enough to run some very simple
threading examples, though I don't seem to have any code examples
handy.

The effort needed to make this work is fairly high. Some was done
fairly completely (moving contexts into the R heap for example),
but changing functions that use nested eval calls into ones that
do some processing and return a deferred version of the next task
to a top-level eval was only partially done as I recall.  (I also
don't think we dealt with the issue of serializing
continuations.)  Doing this would have been a lot of work, as
would convincing everyone who needed to be convinced that this
was a good idea and needed to be maintained.  In addition, there
are some things, like optim's callbacks for example, that really
are not suitable for this kind of rewriting.  This isn't
necessarily fatal -- in the threading context it would just mean
that no context switches can occur while within such a callback,
but it makes things messy.

The basic approach may still be viable, and it has the benefit of
being fully portable, unlike stack copying tricks. But given
other things that needed to be done at the time, the need for
fairly pervasive changes as well as a change in the way of
thinking about R internals, the benefits of continuing down this
route at the time didn't seem to outweigh the costs.

Best,

luke

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From Setzer.Woodrow at epamail.epa.gov  Wed Apr  9 16:44:23 2008
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow at epamail.epa.gov)
Date: Wed, 9 Apr 2008 10:44:23 -0400
Subject: [Rd] getNativeSymbolInfo fails with Fortran symbol.
Message-ID: <OF5CE538D6.F58F6597-ON85257426.00507834-85257426.0050F7F7@epamail.epa.gov>



In the following code routine 'initaquaphy' is defined in Fortran,
and dynamically loaded into R.:

test.f:


      subroutine initaquaphy(odeparms)

      external odeparms
      double precision pars(19)
      common /myparms/pars

       call odeparms(19, pars)

      return
      end

$ R CMD SHLIB Aquaphy.f
gfortran   -fpic  -g -O2 -c test.f -o test.o
gcc -std=gnu99 -shared -L/usr/local/lib -o test.so test.o  -lgfortran -lm


and linked into the package dll (or so).  Help for is.loaded() and
getNativeSymbolInfo() say not to use symbol.For() to convert
to Fortran-specific symbols.  However, on Linux, getNativeSymbolInfo
is unable to find 'initaquaphy' in 'test.so', but does find
'initaquaphy_'.  Note that is.loaded() works as advertised.  Furthermore,
this code works in Windows, R-2.6.2patched44759.

triggerbug.R:

system("R CMD SHLIB test.f")
dyn.load(paste("test",.Platform$dynlib.ext,sep=""))
is.loaded("initaquaphy", PACKAGE="test")
getNativeSymbolInfo("initaquaphy_", PACKAGE="test")
getNativeSymbolInfo("initaquaphy", PACKAGE="test")
cat("All Done")

Resulting in:

> source("triggerbug.R", echo=TRUE, print.eval=TRUE)

> system("R CMD SHLIB test.f")
gfortran   -fpic  -g -O2 -c test.f -o test.o
gcc -std=gnu99 -shared -L/usr/local/lib -o test.so test.o  -lgfortran -lm

> dyn.load(paste("test",.Platform$dynlib.ext,sep=""))

> is.loaded("initaquaphy", PACKAGE="test")
[1] TRUE

> getNativeSymbolInfo("initaquaphy_", PACKAGE="test")
$name
[1] "initaquaphy_"

$address
<pointer: 0x1c03f0>
attr(,"class")
[1] "NativeSymbol"

$package
DLL name: test
Filename: /home/setzer/tasks/Programming_Projects/test.so
Dynamic lookup: TRUE

attr(,"class")
[1] "NativeSymbolInfo"

> getNativeSymbolInfo("initaquaphy", PACKAGE="test")
Error in FUN("initaquaphy"[[1L]], ...) :
  no such symbol initaquaphy in package test
>

Have I misunderstood the help page, or is this a bug?

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = beta
 major = 2
 minor = 7.0
 year = 2008
 month = 04
 day = 07
 svn rev = 45159
 language = R
 version.string = R version 2.7.0 beta (2008-04-07 r45159)

Locale:
LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C

Search Path:
 .GlobalEnv, package:deSolve, package:stats, package:graphics, package:grDevices, package:utils, package:datasets, package:methods, Autoloads,
package:base

R. Woodrow Setzer, Ph. D.
National Center for Computational Toxicology
http://www.epa.gov/comptox
US Environmental Protection Agency
Mail Drop B205-01/US EPA/RTP, NC 27711
Ph: (919) 541-0128    Fax: (919) 541-1194


From hpages at fhcrc.org  Wed Apr  9 20:58:46 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Wed, 09 Apr 2008 11:58:46 -0700
Subject: [Rd] coerce methods and inheritance
Message-ID: <47FD11E6.1090901@fhcrc.org>

Hi,

It doesn't seem that the dispatching algo is finding my coerce method under
some circumstances.
Let's say I have 2 classes, A and AA and that AA is just a direct extension
of A with no additional slots:

   setClass("A", representation(ii="integer"))
   setClass("AA", contains="A")

I can define a method for coercing my objects to an integer vector with:

   setAs("A", "integer", function(from) {cat("I'm the A->integer coerce method\n"); from at ii})

and this works as expected when my object is an AA instance:

   > aa <- new("AA", ii=sample(10, 5))
   > as(aa, "integer")
   I'm the A->integer coerce method
   [1] 10  1  6  4  7

But things don't behave that way anymore if I introduce a direct extension of AA:

   setClass("OrderedAA",
     contains="AA",
     validity=function(object)
     {
         if (!all(diff(object at ii) >= 0))
             return("slot 'ii' is not ordered")
         TRUE
     }
   )

and a method for coercing an A object to an OrderedAA object:

   setAs("A", "OrderedAA",
     function(from)
     {
         cat("I'm the A->OrderedAA coerce method\n")
         new("OrderedAA", ii=sort(from at ii))
     }
   )

My A->OrderedAA coerce method is not called anymore:

   > oaa <- as(aa, "OrderedAA")
   > oaa
   > validObject(oaa)
   Error in validObject(oaa) :
     invalid class "OrderedAA" object: slot 'ii' is not ordered

This looks like a bug to me.

Thanks,
H.


From paboyoun at fhcrc.org  Wed Apr  9 23:08:02 2008
From: paboyoun at fhcrc.org (Patrick Aboyoun)
Date: Wed, 09 Apr 2008 14:08:02 -0700
Subject: [Rd] Windows problem related to using shortPathName for Sweave
	style file
Message-ID: <47FD3032.7020709@fhcrc.org>

In the process of updating R to R 2.7 alpha or R 2.7 beta for the 
BioConductor 2.2 builds on Windows, I have hit a snag because the BioC 
build system has long path names (e.g. D:\biocbld\bbs-2.2-bioc\R) and 
these path names are not resolving properly by MiKTeX 2.7 during 
vignette construction. Take, for example, the attached vignette from 
Biobase, Bioconductor.Rnw. I have built R from source at

E:\paboyoun\bbs-2.2-bioc\R

and the session information for this R is

=== BEGIN R BLOCK ===
 > sessionInfo()
R version 2.7.0 beta (2008-04-09 r45179)
i386-pc-mingw32

locale:
LC_COLLATE=English_United States.1252;LC_CTYPE=English_United 
States.1252;LC_MONETARY=English_United 
States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base
=== END R BLOCK ===

Now when I run Sweave on Bioconductor.Rnw using the command

=== BEGIN OS BLOCK ===
E:\paboyoun>bbs-2.2-bioc\R\bin\R CMD Sweave Bioconductor.Rnw
Writing to file Bioconductor.tex
Processing code chunks ...
 1 : term tex

You can now run LaTeX on 'Bioconductor.tex'
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Bioconductor.Rnw
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080409/5d318f8f/attachment.pl 

From paboyoun at fhcrc.org  Wed Apr  9 23:23:46 2008
From: paboyoun at fhcrc.org (Patrick Aboyoun)
Date: Wed, 09 Apr 2008 14:23:46 -0700
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <47FD3032.7020709@fhcrc.org>
References: <47FD3032.7020709@fhcrc.org>
Message-ID: <47FD33E2.8090300@fhcrc.org>

Something funky happened to my e-mail. I was trying to paste information 
related to MiKTeX and R into my message and it appears to have corrupted 
the text somehow. Anyway, the message I was trying to get across is that 
the tex file contains the path

\usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}

and MiKTeX 2.7 doesn't know how to resolve it. (The Bioconductor.tex 
file is (hopefully) attached to this e-mail.)


=== BEGIN OS BLOCK ===

E:\paboyoun>pdflatex --version
MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
TeX is a trademark of the American Mathematical Society.

E:\paboyoun>pdflatex Bioconductor.tex
This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
entering extended mode
(Bioconductor.tex
LaTeX2e <2005/12/01>
Babel <v3.8h> and hyphenation patterns for english, dumylang, 
nohyphenation, ge
rman, ngerman, french, loaded.
("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
Implicit mode ON; LaTeX internals redefined
("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
*hyperref using default driver hpdftex*
("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
! Missing \endcsname inserted.
<to be read again>
                   \protect
l.28 \begin
           {document}
?

From hpages at fhcrc.org  Wed Apr  9 23:35:19 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Wed, 09 Apr 2008 14:35:19 -0700
Subject: [Rd] autocompletion problem
Message-ID: <47FD3697.8070606@fhcrc.org>

Hi,

Let's create the xxx object just to avoid confusion even if it's not necessary
for reproducing the problem below:

   xxx <- 8:3

If I start typing this:

   max(xxx[

and now try to autocomplete with <TAB>, then I get the following error (and a warning):

   > max(xxx[Error in grep(sprintf("^%s", makeRegexpSafe(text)), allArgs, value = TRUE) :
     invalid regular expression '^xxx['
   In addition: Warning message:
   In grep(sprintf("^%s", makeRegexpSafe(text)), allArgs, value = TRUE) :
     regcomp error:  'Invalid regular expression'

Now it seems that this problem in R has managed to screw up something out of R (and
this is probably OS dependent, I'm running 64-bit openSUSE 10.3) because when I quit
R and try to do something at the shell level, what I type is not echoed anymore in
the terminal window. For example if I type 'whoami' followed by <Enter>, here is what
I get on the screen (only the output of the command is displayed but not the command
itself):

   hpages at gopher3:~> hpages

I've tried this with other R versions (2.6.1, 2.6.2) on other Linux flavors (64-bit
openSUSE 10.1, 32-bit openSUSE 10.3, 32-bit Ubuntu 6.06) and got almost the same thing,
the only difference being that with older versions of R (e.g. with 2.7.0 from 2007-12-09
r43632), I get the error message but no additional warning.

Cheers,
H.


 > sessionInfo()
R version 2.7.0 beta (2008-04-07 r45159)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


From jmc at r-project.org  Thu Apr 10 00:20:30 2008
From: jmc at r-project.org (John Chambers)
Date: Wed, 09 Apr 2008 15:20:30 -0700
Subject: [Rd] coerce methods and inheritance
In-Reply-To: <47FD11E6.1090901@fhcrc.org>
References: <47FD11E6.1090901@fhcrc.org>
Message-ID: <47FD412E.1010609@r-project.org>

Herve Pages wrote:
> Hi,
>
> It doesn't seem that the dispatching algo is finding my coerce method under
> some circumstances.
> Let's say I have 2 classes, A and AA and that AA is just a direct extension
> of A with no additional slots:
>
>    setClass("A", representation(ii="integer"))
>    setClass("AA", contains="A")
>
> I can define a method for coercing my objects to an integer vector with:
>
>    setAs("A", "integer", function(from) {cat("I'm the A->integer coerce method\n"); from at ii})
>
> and this works as expected when my object is an AA instance:
>
>    > aa <- new("AA", ii=sample(10, 5))
>    > as(aa, "integer")
>    I'm the A->integer coerce method
>    [1] 10  1  6  4  7
>
> But things don't behave that way anymore if I introduce a direct extension of AA:
>
>    setClass("OrderedAA",
>      contains="AA",
>      validity=function(object)
>      {
>          if (!all(diff(object at ii) >= 0))
>              return("slot 'ii' is not ordered")
>          TRUE
>      }
>    )
>
> and a method for coercing an A object to an OrderedAA object:
>
>    setAs("A", "OrderedAA",
>      function(from)
>      {
>          cat("I'm the A->OrderedAA coerce method\n")
>          new("OrderedAA", ii=sort(from at ii))
>      }
>    )
>
> My A->OrderedAA coerce method is not called anymore:
>
>    > oaa <- as(aa, "OrderedAA")
>    > oaa
>    > validObject(oaa)
>    Error in validObject(oaa) :
>      invalid class "OrderedAA" object: slot 'ii' is not ordered
>
> This looks like a bug to me.
>   
Well, obscure perhaps, and not as well documented as it might be.

Defining a subclass of "AA" creates implicit coerce methods in both 
directions.  The method from "AA" to its subclass creates a new object 
from the subclass, then inserts the inherited slots.

 > selectMethod("coerce", c("AA", "OrderedAA"))
Method Definition:

function (from, to)
{
    obj <- new("OrderedAA")
    as(obj, "AA") <- from
    obj
}

Signatures:
        from to        
target  "AA" "OrderedAA"
defined "AA" "OrderedAA"

The situation is made more confusing because these methods are only 
explicitly inserted in the coerce() function the first time they're used 
(for obvious efficiency reasons).

Notice that this is a direct method, not an inherited one.  It will be 
chosen by the method selection from as().

So it is true that if you want to override the implicit methods, you 
have to do that for each new subclass, presumably when defining the 
subclass.

 >    setAs("AA", "OrderedAA",
+      function(from)
+      {
+          cat("I'm the A->OrderedAA coerce method\n")
+          new("OrderedAA", ii=sor .... [TRUNCATED]
 > as(aa, "OrderedAA")
I'm the A->OrderedAA coerce method
An object of class "OrderedAA"
Slot "ii":
[1]  4  5  7  8 10

It's possible to argue that an inherited, explicitly defined method, as 
in your case, is worth more than a direct, implicitly defined method.  
But whether this would be true in all applications is not obvious.

But that the documentation needs to spell this out--no question.  Thanks 
for bringing it up.

John


> Thanks,
> H.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From deepayan.sarkar at gmail.com  Thu Apr 10 00:29:17 2008
From: deepayan.sarkar at gmail.com (Deepayan Sarkar)
Date: Wed, 9 Apr 2008 15:29:17 -0700
Subject: [Rd] autocompletion problem
In-Reply-To: <47FD3697.8070606@fhcrc.org>
References: <47FD3697.8070606@fhcrc.org>
Message-ID: <eb555e660804091529w427f248cuf0a0fc97bb0aaac2@mail.gmail.com>

On 4/9/08, Herve Pages <hpages at fhcrc.org> wrote:
> Hi,
>
>  Let's create the xxx object just to avoid confusion even if it's not necessary
>  for reproducing the problem below:
>
>    xxx <- 8:3
>
>  If I start typing this:
>
>    max(xxx[
>
>  and now try to autocomplete with <TAB>, then I get the following error (and a warning):
>
>    > max(xxx[Error in grep(sprintf("^%s", makeRegexpSafe(text)), allArgs, value = TRUE) :
>      invalid regular expression '^xxx['
>    In addition: Warning message:
>    In grep(sprintf("^%s", makeRegexpSafe(text)), allArgs, value = TRUE) :
>      regcomp error:  'Invalid regular expression'

Thanks for the report, makeRegexpSafe was not escaping "[". Does the
following workaround fix the problem (without introducing additional
ones)?

assignInNamespace("makeRegexpSafe", ns = "utils", value = function(s)
{
    s <- gsub(".", "\\.", s, fixed = TRUE)
    s <- gsub("?", "\\?", s, fixed = TRUE)
    s <- gsub("[", "\\[", s, fixed = TRUE)
    s <- gsub("]", "\\]", s, fixed = TRUE) # necessary?
    s
})

(with 2.6.x, replace "utils" with "rcompgen")

-Deepayan


From p.dalgaard at biostat.ku.dk  Thu Apr 10 00:32:17 2008
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu, 10 Apr 2008 00:32:17 +0200
Subject: [Rd] autocompletion problem
In-Reply-To: <47FD3697.8070606@fhcrc.org>
References: <47FD3697.8070606@fhcrc.org>
Message-ID: <47FD43F1.1060900@biostat.ku.dk>

Herve Pages wrote:
> Hi,
>
> Let's create the xxx object just to avoid confusion even if it's not necessary
> for reproducing the problem below:
>
>    xxx <- 8:3
>
> If I start typing this:
>
>    max(xxx[
>
> and now try to autocomplete with <TAB>, then I get the following error (and a warning):
>
>    > max(xxx[Error in grep(sprintf("^%s", makeRegexpSafe(text)), allArgs, value = TRUE) :
>      invalid regular expression '^xxx['
>    In addition: Warning message:
>    In grep(sprintf("^%s", makeRegexpSafe(text)), allArgs, value = TRUE) :
>      regcomp error:  'Invalid regular expression'
>
>   
Hmm, looks like makeRegexpSafe(text))  isn't. Presumably, it should 
escape [ along with . and ?
> Now it seems that this problem in R has managed to screw up something out of R (and
> this is probably OS dependent, I'm running 64-bit openSUSE 10.3) because when I quit
> R and try to do something at the shell level, what I type is not echoed anymore in
> the terminal window.
Yes it happens occasionally (not just with R) that you come back to the 
shell level with tty settings out of whack. The pragmatic fix is to 
blind-type the command

stty sane

followed by <Enter> (or ctrl-J if you are paranoid).

>  For example if I type 'whoami' followed by <Enter>, here is what
> I get on the screen (only the output of the command is displayed but not the command
> itself):
>
>    hpages at gopher3:~> hpages
>
> I've tried this with other R versions (2.6.1, 2.6.2) on other Linux flavors (64-bit
> openSUSE 10.1, 32-bit openSUSE 10.3, 32-bit Ubuntu 6.06) and got almost the same thing,
> the only difference being that with older versions of R (e.g. with 2.7.0 from 2007-12-09
> r43632), I get the error message but no additional warning.
>
> Cheers,
> H.
>
>
>  > sessionInfo()
> R version 2.7.0 beta (2008-04-07 r45159)
> x86_64-unknown-linux-gnu
>
> locale:
> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>   


-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From murdoch at stats.uwo.ca  Thu Apr 10 01:52:10 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 09 Apr 2008 19:52:10 -0400
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <47FD33E2.8090300@fhcrc.org>
References: <47FD3032.7020709@fhcrc.org> <47FD33E2.8090300@fhcrc.org>
Message-ID: <47FD56AA.4030707@stats.uwo.ca>

On 09/04/2008 5:23 PM, Patrick Aboyoun wrote:
> Something funky happened to my e-mail. I was trying to paste information 
> related to MiKTeX and R into my message and it appears to have corrupted 
> the text somehow. Anyway, the message I was trying to get across is that 
> the tex file contains the path
> 
> \usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}
> 
> and MiKTeX 2.7 doesn't know how to resolve it. (The Bioconductor.tex 
> file is (hopefully) attached to this e-mail.)

You should be able to get things to work by explicitly putting

\usepackage{Sweave}

somewhere early in your .Rnw file.  You may have trouble with MikTeX 
finding Sweave.sty, depending how you invoke it:  if invoked from R CMD 
it should work, but maybe not from your command line unless you tell it 
where to look for include files.  How you do that changes all the time; 
R tries a couple, which is why R CMD probably works.

Duncan Murdoch

> 
> 
> === BEGIN OS BLOCK ===
> 
> E:\paboyoun>pdflatex --version
> MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
> Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
> TeX is a trademark of the American Mathematical Society.
> 
> E:\paboyoun>pdflatex Bioconductor.tex
> This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
> entering extended mode
> (Bioconductor.tex
> LaTeX2e <2005/12/01>
> Babel <v3.8h> and hyphenation patterns for english, dumylang, 
> nohyphenation, ge
> rman, ngerman, french, loaded.
> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
> ("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
> ("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
> ("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
> Implicit mode ON; LaTeX internals redefined
> ("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
> *hyperref using default driver hpdftex*
> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
> ! Missing \endcsname inserted.
> <to be read again>
>                    \protect
> l.28 \begin
>            {document}
> ?
> 
> 
> ------------------------------------------------------------------------
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From hpages at fhcrc.org  Thu Apr 10 03:03:34 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Wed, 09 Apr 2008 18:03:34 -0700
Subject: [Rd] autocompletion problem
In-Reply-To: <eb555e660804091529w427f248cuf0a0fc97bb0aaac2@mail.gmail.com>
References: <47FD3697.8070606@fhcrc.org>
	<eb555e660804091529w427f248cuf0a0fc97bb0aaac2@mail.gmail.com>
Message-ID: <47FD6766.5090506@fhcrc.org>

Hi Deepayan,

Deepayan Sarkar wrote:
> On 4/9/08, Herve Pages <hpages at fhcrc.org> wrote:
>> Hi,
>>
>>  Let's create the xxx object just to avoid confusion even if it's not necessary
>>  for reproducing the problem below:
>>
>>    xxx <- 8:3
>>
>>  If I start typing this:
>>
>>    max(xxx[
>>
>>  and now try to autocomplete with <TAB>, then I get the following error (and a warning):
>>
>>    > max(xxx[Error in grep(sprintf("^%s", makeRegexpSafe(text)), allArgs, value = TRUE) :
>>      invalid regular expression '^xxx['
>>    In addition: Warning message:
>>    In grep(sprintf("^%s", makeRegexpSafe(text)), allArgs, value = TRUE) :
>>      regcomp error:  'Invalid regular expression'
> 
> Thanks for the report, makeRegexpSafe was not escaping "[". Does the
> following workaround fix the problem (without introducing additional
> ones)?
> 
> assignInNamespace("makeRegexpSafe", ns = "utils", value = function(s)
> {
>     s <- gsub(".", "\\.", s, fixed = TRUE)
>     s <- gsub("?", "\\?", s, fixed = TRUE)
>     s <- gsub("[", "\\[", s, fixed = TRUE)
>     s <- gsub("]", "\\]", s, fixed = TRUE) # necessary?
>     s
> })

Yes this fixes the problem. Thanks!

BTW are there any plans to deal with backquoted symbols/names?
There are currently 2 problems with this:

   1. Completion will work and expand symbols or names that contain special
      characters but without backquoting them:

        xxx <- as.list(11:13)
        names(xxx) <- letters[1:3]
        names(xxx)[2] <- "2b"

        > xxx$<TAB><TAB>    # <TAB> stands for a hit on the Tab key
        xxx$2b  xxx$a   xxx$c
        > xxx$2b            # I hit 2, then <TAB> gives me the b

     Now if I hit <Enter>, of course I get:

        Error: unexpected numeric constant in "xxx$2"

   2. Completion of names after $ will not work if I've already backquoted
      the partial name:

        > xxx$`2<TAB><TAB><TAB>...  # nothing happens

Thanks!
H.


> 
> (with 2.6.x, replace "utils" with "rcompgen")
> 
> -Deepayan
>


From paboyoun at fhcrc.org  Thu Apr 10 03:50:26 2008
From: paboyoun at fhcrc.org (Patrick Aboyoun)
Date: Wed, 09 Apr 2008 18:50:26 -0700
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <47FD56AA.4030707@stats.uwo.ca>
References: <47FD3032.7020709@fhcrc.org> <47FD33E2.8090300@fhcrc.org>
	<47FD56AA.4030707@stats.uwo.ca>
Message-ID: <47FD7262.9060901@fhcrc.org>

I forgot to mention the BioConductor Windows build machine is running
Microsoft Windows Server 2003 R2
Enterprise Edition, SP2

I just checked and this same problem exists if I place R in the standard 
"C:\Program Files\R" location on this machine.

For now the backup plan is to move to using short path names for 
BioConductor builds (modifying 100+ vignettes is impractical as well as 
configuring MiKTeX to handle multiple installs of R that the build 
machine uses). If there is an alternate configuration that I should be 
using, just let me know.


Cheers,
Patrick


Duncan Murdoch wrote:
> On 09/04/2008 5:23 PM, Patrick Aboyoun wrote:
>> Something funky happened to my e-mail. I was trying to paste 
>> information related to MiKTeX and R into my message and it appears to 
>> have corrupted the text somehow. Anyway, the message I was trying to 
>> get across is that the tex file contains the path
>>
>> \usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}
>>
>> and MiKTeX 2.7 doesn't know how to resolve it. (The Bioconductor.tex 
>> file is (hopefully) attached to this e-mail.)
>
> You should be able to get things to work by explicitly putting
>
> \usepackage{Sweave}
>
> somewhere early in your .Rnw file.  You may have trouble with MikTeX 
> finding Sweave.sty, depending how you invoke it:  if invoked from R 
> CMD it should work, but maybe not from your command line unless you 
> tell it where to look for include files.  How you do that changes all 
> the time; R tries a couple, which is why R CMD probably works.
>
> Duncan Murdoch
>
>>
>>
>> === BEGIN OS BLOCK ===
>>
>> E:\paboyoun>pdflatex --version
>> MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
>> Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
>> TeX is a trademark of the American Mathematical Society.
>>
>> E:\paboyoun>pdflatex Bioconductor.tex
>> This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
>> entering extended mode
>> (Bioconductor.tex
>> LaTeX2e <2005/12/01>
>> Babel <v3.8h> and hyphenation patterns for english, dumylang, 
>> nohyphenation, ge
>> rman, ngerman, french, loaded.
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
>> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
>> Implicit mode ON; LaTeX internals redefined
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
>> *hyperref using default driver hpdftex*
>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
>> ! Missing \endcsname inserted.
>> <to be read again>
>>                    \protect
>> l.28 \begin
>>            {document}
>> ?
>>
>>
>> ------------------------------------------------------------------------
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From hpages at fhcrc.org  Thu Apr 10 04:16:25 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Wed, 09 Apr 2008 19:16:25 -0700
Subject: [Rd] coerce methods and inheritance
In-Reply-To: <47FD412E.1010609@r-project.org>
References: <47FD11E6.1090901@fhcrc.org> <47FD412E.1010609@r-project.org>
Message-ID: <47FD7879.7080908@fhcrc.org>

Hi John,

John Chambers wrote:
> Herve Pages wrote:
>> Hi,
>>
>> It doesn't seem that the dispatching algo is finding my coerce method 
>> under
>> some circumstances.
>> Let's say I have 2 classes, A and AA and that AA is just a direct 
>> extension
>> of A with no additional slots:
>>
>>    setClass("A", representation(ii="integer"))
>>    setClass("AA", contains="A")
>>
>> I can define a method for coercing my objects to an integer vector with:
>>
>>    setAs("A", "integer", function(from) {cat("I'm the A->integer 
>> coerce method\n"); from at ii})
>>
>> and this works as expected when my object is an AA instance:
>>
>>    > aa <- new("AA", ii=sample(10, 5))
>>    > as(aa, "integer")
>>    I'm the A->integer coerce method
>>    [1] 10  1  6  4  7
>>
>> But things don't behave that way anymore if I introduce a direct 
>> extension of AA:
>>
>>    setClass("OrderedAA",
>>      contains="AA",
>>      validity=function(object)
>>      {
>>          if (!all(diff(object at ii) >= 0))
>>              return("slot 'ii' is not ordered")
>>          TRUE
>>      }
>>    )
>>
>> and a method for coercing an A object to an OrderedAA object:
>>
>>    setAs("A", "OrderedAA",
>>      function(from)
>>      {
>>          cat("I'm the A->OrderedAA coerce method\n")
>>          new("OrderedAA", ii=sort(from at ii))
>>      }
>>    )
>>
>> My A->OrderedAA coerce method is not called anymore:
>>
>>    > oaa <- as(aa, "OrderedAA")
>>    > oaa
>>    > validObject(oaa)
>>    Error in validObject(oaa) :
>>      invalid class "OrderedAA" object: slot 'ii' is not ordered
>>
>> This looks like a bug to me.
>>   
> Well, obscure perhaps, and not as well documented as it might be.
> 
> Defining a subclass of "AA" creates implicit coerce methods in both 
> directions.  The method from "AA" to its subclass creates a new object 
> from the subclass, then inserts the inherited slots.
> 
>  > selectMethod("coerce", c("AA", "OrderedAA"))
> Method Definition:
> 
> function (from, to)
> {
>    obj <- new("OrderedAA")
>    as(obj, "AA") <- from
>    obj
> }

The problem is that this implicit method doesn't seem to check the validity
of the new object. So now my users have an easy way to create broken objects
without being told that they are doing something wrong... unless I have
redefined a lot of coerce methods in my software (and there can be a lot of
them).
Unfortunately for me and my project, it looks like most of these "implicit"
methods are doing the wrong thing. So if the purpose of having them was to
make the developer's life easier, it doesn't work for me.

> 
> Signatures:
>        from to        target  "AA" "OrderedAA"
> defined "AA" "OrderedAA"
> 
> The situation is made more confusing because these methods are only 
> explicitly inserted in the coerce() function the first time they're used 
> (for obvious efficiency reasons).

Even worse, after I define my coerce method for A->OrderedAA, and _before_
I try to coerce my first AA object to an OrderedAA object, I get this:

   > selectMethod("coerce", c("AA", "OrderedAA"))
   Method Definition:

   function (from, to = "OrderedAA", strict = TRUE)
   {
     cat("I'm the A->OrderedAA coerce method\n")
     new("OrderedAA", ii = sort(from at ii))
   }

   Signatures:
           from to
   target  "AA" "OrderedAA"
   defined "A"  "OrderedAA"

which is not reporting the truth (the method that will actually be selected
will be the implicit one, not mine).

> 
> Notice that this is a direct method, not an inherited one.  It will be 
> chosen by the method selection from as().
> 
> So it is true that if you want to override the implicit methods, you 
> have to do that for each new subclass, presumably when defining the 
> subclass.
> 
>  >    setAs("AA", "OrderedAA",
> +      function(from)
> +      {
> +          cat("I'm the A->OrderedAA coerce method\n")
> +          new("OrderedAA", ii=sor .... [TRUNCATED]
>  > as(aa, "OrderedAA")
> I'm the A->OrderedAA coerce method
> An object of class "OrderedAA"
> Slot "ii":
> [1]  4  5  7  8 10
> 
> It's possible to argue that an inherited, explicitly defined method, as 
> in your case, is worth more than a direct, implicitly defined method.

It's definitely worth more than a direct, implicitly defined method that
produces invalid objects ;-)

Anyway I can see why it can be nice (and save some efforts to the developer)
to have a coercion mechanism that works out-of-the-box, but I'm wondering
whether this is that useful to have implicit coerce methods in _both_
directions. It seems to me that, most of the times, the parent-to-child
direction will do the wrong thing, because, generally speaking, you need
some extra information (the extra slots) to coerce from the parent class
to the child class.

Thanks for the clarification!

H.

> But whether this would be true in all applications is not obvious.
> 
> But that the documentation needs to spell this out--no question.  Thanks 
> for bringing it up.
> 
> John
> 
> 
>> Thanks,
>> H.
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>   
>


From ripley at stats.ox.ac.uk  Thu Apr 10 09:33:18 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Apr 2008 08:33:18 +0100 (BST)
Subject: [Rd] getNativeSymbolInfo fails with Fortran symbol.
In-Reply-To: <OF5CE538D6.F58F6597-ON85257426.00507834-85257426.0050F7F7@epamail.epa.gov>
References: <OF5CE538D6.F58F6597-ON85257426.00507834-85257426.0050F7F7@epamail.epa.gov>
Message-ID: <alpine.LFD.1.00.0804100830590.4710@auk.stats.ox.ac.uk>

It's a bug -- unlike is.loaded, getNativeSymbolInfo seems unaware of 
Fortran names unless registered.

Will be fixed in 2.7.0.

On Wed, 9 Apr 2008, Setzer.Woodrow at epamail.epa.gov wrote:

>
>
> In the following code routine 'initaquaphy' is defined in Fortran,
> and dynamically loaded into R.:
>
> test.f:
>
>
>      subroutine initaquaphy(odeparms)
>
>      external odeparms
>      double precision pars(19)
>      common /myparms/pars
>
>       call odeparms(19, pars)
>
>      return
>      end
>
> $ R CMD SHLIB Aquaphy.f
> gfortran   -fpic  -g -O2 -c test.f -o test.o
> gcc -std=gnu99 -shared -L/usr/local/lib -o test.so test.o  -lgfortran -lm
>
>
> and linked into the package dll (or so).  Help for is.loaded() and
> getNativeSymbolInfo() say not to use symbol.For() to convert
> to Fortran-specific symbols.  However, on Linux, getNativeSymbolInfo
> is unable to find 'initaquaphy' in 'test.so', but does find
> 'initaquaphy_'.  Note that is.loaded() works as advertised.  Furthermore,
> this code works in Windows, R-2.6.2patched44759.
>
> triggerbug.R:
>
> system("R CMD SHLIB test.f")
> dyn.load(paste("test",.Platform$dynlib.ext,sep=""))
> is.loaded("initaquaphy", PACKAGE="test")
> getNativeSymbolInfo("initaquaphy_", PACKAGE="test")
> getNativeSymbolInfo("initaquaphy", PACKAGE="test")
> cat("All Done")
>
> Resulting in:
>
>> source("triggerbug.R", echo=TRUE, print.eval=TRUE)
>
>> system("R CMD SHLIB test.f")
> gfortran   -fpic  -g -O2 -c test.f -o test.o
> gcc -std=gnu99 -shared -L/usr/local/lib -o test.so test.o  -lgfortran -lm
>
>> dyn.load(paste("test",.Platform$dynlib.ext,sep=""))
>
>> is.loaded("initaquaphy", PACKAGE="test")
> [1] TRUE
>
>> getNativeSymbolInfo("initaquaphy_", PACKAGE="test")
> $name
> [1] "initaquaphy_"
>
> $address
> <pointer: 0x1c03f0>
> attr(,"class")
> [1] "NativeSymbol"
>
> $package
> DLL name: test
> Filename: /home/setzer/tasks/Programming_Projects/test.so
> Dynamic lookup: TRUE
>
> attr(,"class")
> [1] "NativeSymbolInfo"
>
>> getNativeSymbolInfo("initaquaphy", PACKAGE="test")
> Error in FUN("initaquaphy"[[1L]], ...) :
>  no such symbol initaquaphy in package test
>>
>
> Have I misunderstood the help page, or is this a bug?
>
> --please do not edit the information below--
>
> Version:
> platform = i686-pc-linux-gnu
> arch = i686
> os = linux-gnu
> system = i686, linux-gnu
> status = beta
> major = 2
> minor = 7.0
> year = 2008
> month = 04
> day = 07
> svn rev = 45159
> language = R
> version.string = R version 2.7.0 beta (2008-04-07 r45159)
>
> Locale:
> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>
> Search Path:
> .GlobalEnv, package:deSolve, package:stats, package:graphics, package:grDevices, package:utils, package:datasets, package:methods, Autoloads,
> package:base
>
> R. Woodrow Setzer, Ph. D.
> National Center for Computational Toxicology
> http://www.epa.gov/comptox
> US Environmental Protection Agency
> Mail Drop B205-01/US EPA/RTP, NC 27711
> Ph: (919) 541-0128    Fax: (919) 541-1194
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch at stats.uwo.ca  Thu Apr 10 14:20:01 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 10 Apr 2008 08:20:01 -0400
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <47FD7262.9060901@fhcrc.org>
References: <47FD3032.7020709@fhcrc.org> <47FD33E2.8090300@fhcrc.org>
	<47FD56AA.4030707@stats.uwo.ca> <47FD7262.9060901@fhcrc.org>
Message-ID: <47FE05F1.2030507@stats.uwo.ca>

On 4/9/2008 9:50 PM, Patrick Aboyoun wrote:
> I forgot to mention the BioConductor Windows build machine is running
> Microsoft Windows Server 2003 R2
> Enterprise Edition, SP2
> 
> I just checked and this same problem exists if I place R in the standard 
> "C:\Program Files\R" location on this machine.

We're going to roll back that change, so you should be okay with your 
original setup.  As far as I know there is no way to get MikTeX to work 
if you have a space in your pathname, so putting R in the standard 
location will fail, unless you follow the advice I give below.

> For now the backup plan is to move to using short path names for 
> BioConductor builds (modifying 100+ vignettes is impractical as well as 
> configuring MiKTeX to handle multiple installs of R that the build 
> machine uses). If there is an alternate configuration that I should be 
> using, just let me know.

I would recommend biting the bullet and adding \usepackage{Sweave} to 
every vignette.  It's just a one line addition to them, and it will mean 
that their .tex output will work if you move it to a different machine, 
where the full path to Sweave.sty is different.

Duncan Murdoch

> 
> 
> Cheers,
> Patrick
> 
> 
> Duncan Murdoch wrote:
>> On 09/04/2008 5:23 PM, Patrick Aboyoun wrote:
>>> Something funky happened to my e-mail. I was trying to paste 
>>> information related to MiKTeX and R into my message and it appears to 
>>> have corrupted the text somehow. Anyway, the message I was trying to 
>>> get across is that the tex file contains the path
>>>
>>> \usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}
>>>
>>> and MiKTeX 2.7 doesn't know how to resolve it. (The Bioconductor.tex 
>>> file is (hopefully) attached to this e-mail.)
>>
>> You should be able to get things to work by explicitly putting
>>
>> \usepackage{Sweave}
>>
>> somewhere early in your .Rnw file.  You may have trouble with MikTeX 
>> finding Sweave.sty, depending how you invoke it:  if invoked from R 
>> CMD it should work, but maybe not from your command line unless you 
>> tell it where to look for include files.  How you do that changes all 
>> the time; R tries a couple, which is why R CMD probably works.
>>
>> Duncan Murdoch
>>
>>>
>>>
>>> === BEGIN OS BLOCK ===
>>>
>>> E:\paboyoun>pdflatex --version
>>> MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
>>> Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
>>> TeX is a trademark of the American Mathematical Society.
>>>
>>> E:\paboyoun>pdflatex Bioconductor.tex
>>> This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
>>> entering extended mode
>>> (Bioconductor.tex
>>> LaTeX2e <2005/12/01>
>>> Babel <v3.8h> and hyphenation patterns for english, dumylang, 
>>> nohyphenation, ge
>>> rman, ngerman, french, loaded.
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
>>> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
>>> Implicit mode ON; LaTeX internals redefined
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
>>> *hyperref using default driver hpdftex*
>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
>>> ! Missing \endcsname inserted.
>>> <to be read again>
>>>                    \protect
>>> l.28 \begin
>>>            {document}
>>> ?
>>>
>>>
>>> ------------------------------------------------------------------------
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>


From osklyar at maninvestments.com  Thu Apr 10 15:51:55 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Thu, 10 Apr 2008 14:51:55 +0100
Subject: [Rd] ISOdate/ISOdatetime performance suggestions,
 other date/time    questions
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE430229482A@mildnpexmb01.maninvestments.ad.man.com>

Dear list:

working with date/times I have come across a problem that ISOdate and
ISOdatetime are too slow on large vectors of data. I was surprised just
until I looked at the implementation and the man page: "ISOdatetime and
ISOdate are convenience wrappers for strptime". In other terms, they
convert data to character representation first in order to create a
POSIXlt object that is then converted to POSIXct. And POSIXct, i.e. the
number of seconds since 1970, is really what one wants most often.

Obviously this is not a bug, but it is really a suboptimal
implementation of a pretty important function as the example below
shows.

Now my questions are:

- any chance that the implementation can be changed in R (suggested,
well tz needs to be added)?
- is there a better pure-R (no-C) way than that shown below to convert
to POSIXct?
- any idea why in the example below fooling R into thinking a list is
POSIXlt is faster than just creating a POSIXlt by rep or seq? It's not a
huge difference, but still. Unfortunately seq on POSIXlt returns POSIXct
anyway, so the class of 'origin' is set correctly.
- any idea why seq is faster than rep when applied on POSIXct? There is
hardly anything simpler than on double values...

Thanks in advance for your comments,
Oleg

It's common in finance to work with time stamps stored in a form like
%Y%m%d.%H%M%OS, e.g. 20080410.140444 for now, this is what 'ts' in the
example below is:

ts = 1e4*trunc(rnorm(50000,2008,2)) + 1e2*trunc(runif(50000,1,12)) + 
     trunc(runif(50000,1,28)) + 1e-2*trunc(runif(50000,1,24)) +
     1e-4*trunc(runif(50000,1,60)) + 1e-6*runif(50000,1,60)

posix.viaISOdate = function(x) {
    date = trunc(x at .Data)
    time = round(1e6*x at .Data%%1,2)
    rtime = round(time)
    z = list(sec=rtime%%1e2 + time%%1,
            min=(rtime%/%1e2)%%1e2,
            hour=rtime%/%1e4,
            mday=date%%100,
            mon=(date%/%100)%%100,
            year=date%/%10000)
    ISOdate(z$year,z$mon,z$mday,z$hour,z$min,z$sec) # to POSIXct
}

## This is just a test of how is it faster to create a long POSIXlt
object
## before another implementations are given

origin = as.POSIXct("1970-01-01") 

mean(sapply(1:25,function(i) system.time(
    as.POSIXlt(rep(origin,600000))
))[1,])
# [1] 0.3972

mean(sapply(1:25,function(i) system.time(
    as.POSIXlt(seq(origin, origin, length.out=600000))
))[1,])
# [1] 0.30528


posix.viaPOSIXlt1 = function(x) {
    origin = as.POSIXct("1970-01-01") 
    z = as.POSIXlt(seq(origin, origin, length.out=length(x)))
    date = trunc(x at .Data)
    time = round(1e6*x at .Data%%1,2)
    rtime = round(time)
    z$sec=rtime%%1e2 + time%%1
    z$min=(rtime%/%1e2)%%1e2
    z$hour=rtime%/%1e4
    z$mday=date%%100
    z$mon=(date%/%100)%%100-1
    z$year=date%/%10000-1900
    as.double(z) # to POSIXct
}

posix.vialist = function(x) {
    date = trunc(x at .Data)
    time = round(1e6*x at .Data%%1,2)
    rtime = round(time)
    na = rep(0.0,length(x))
    z = list(sec=rtime%%1e2 + time%%1,
        min=(rtime%/%1e2)%%1e2,
        hour=rtime%/%1e4,
        mday=date%%100,
        mon=(date%/%100)%%100-1,
        year=date%/%10000-1900,
        wday=na,yday=na,isdst=na)
    class(z) = c("POSIXt","POSIXlt")
    as.double(z) # to POSIXct
}

v1 = posix.viaISOdate(ts)
v2 = posix.viaPOSIXlt1(ts)
v3 = posix.vialist(ts)

all(v1==v2 & v2==v3)
# [1] TRUE

mean(sapply(1:25,function(i) system.time(
    system.time(posix.viaISOdate(ts))
))[1,])
# [1] 1.54244

mean(sapply(1:25,function(i) system.time(
    system.time(posix.viaPOSIXlt1(ts))
))[1,])
# [1] 0.37624

mean(sapply(1:25,function(i) system.time(
    system.time(posix.vialist(ts))
))[1,])
# [1] 0.35488




sessionInfo()
R version 2.6.2 (2008-02-08)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_MO
NETARY=en_GB.UTF-8;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=
C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATI
ON=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] rcompgen_0.1-17

Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com


**********************************************************************
The contents of this email are for the named addressee(s) only.
It contains information which may be confidential and privileged.
If you are not the intended recipient, please notify the sender
immediately, destroy this email and any attachments and do not
otherwise disclose or use them. Email transmission is not a
secure method of communication and Man Investments cannot accept
responsibility for the completeness or accuracy of this email or
any attachments. Whilst Man Investments makes every effort to keep
its network free from viruses, it does not accept responsibility
for any computer virus which might be transferred by way of this
email or any attachments. This email does not constitute a request,
offer, recommendation or solicitation of any kind to buy, subscribe,
sell or redeem any investment instruments or to perform other such
transactions of any kind. Man Investments reserves the right to
monitor, record and retain all electronic communications through
its network to ensure the integrity of its systems, for record
keeping and regulatory purposes. 

Visit us at: www.maninvestments.com


From billk at metrumrg.com  Thu Apr 10 16:14:53 2008
From: billk at metrumrg.com (William Knebel)
Date: Thu, 10 Apr 2008 10:14:53 -0400
Subject: [Rd] make check problems
Message-ID: <20080410141452.GA8409@metrumrg.com>

I am attemting to build R from source and test R on NetBSD AMD64 and
i386.  I have run the configure and build steps successfully for
R-2.3.1, R-2.6.0, and R-2.6.2. However, the suite of tests accessed by
"make check" fails in numerous places.  In some cases, the failure is
expected, for example not using iconv libraries so the test for these
libraries does not execute. In other cases, the errors are not as easy
to diagnose.  In one case it was an error with the function qcauchy
(see error below).

qcauchy(c(-Inf, 0), log = TRUE) == II is not all TRUE
In addition: Warning message:
NaNs produced in: qcauchy(p, location, scale, lower.tail, log.p)
Execution halted

My questions are general.  Is it expected that the "make check" suite
of tests will complete without errors? (R Administration/Installation
page indicates that errors are not necessarily pathologic for a bad
build). Is it necessary to sucessfully complete the "make check" suite
of tests to "accept" an R installation for use? I work in a regulated
environment and the initial thought was that "passing" the "make
check" tests would be sufficient to accept a built-from-source R
install. 

Any thoughts?

Bill


From osklyar at maninvestments.com  Thu Apr 10 17:32:08 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Thu, 10 Apr 2008 16:32:08 +0100
Subject: [Rd] ISOdate/ISOdatetime performance suggestions,
	other date/time    questions
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE430229482A@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229482A@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE430229482B@mildnpexmb01.maninvestments.ad.man.com>

small correction:

# to ensure 0, although it will be overwritten when assigning hour
origin = as.POSIXct("1970-01-01")-as.numeric(as.POSIXct("1970-01-01")) 

Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Sklyar, 
> Oleg (MI London)
> Sent: 10 April 2008 14:52
> To: R-devel at r-project.org
> Subject: [Rd] ISOdate/ISOdatetime performance suggestions, 
> other date/time questions
> 
> Dear list:
> 
> working with date/times I have come across a problem that 
> ISOdate and ISOdatetime are too slow on large vectors of 
> data. I was surprised just until I looked at the 
> implementation and the man page: "ISOdatetime and ISOdate are 
> convenience wrappers for strptime". In other terms, they 
> convert data to character representation first in order to 
> create a POSIXlt object that is then converted to POSIXct. 
> And POSIXct, i.e. the number of seconds since 1970, is really 
> what one wants most often.
> 
> Obviously this is not a bug, but it is really a suboptimal 
> implementation of a pretty important function as the example 
> below shows.
> 
> Now my questions are:
> 
> - any chance that the implementation can be changed in R 
> (suggested, well tz needs to be added)?
> - is there a better pure-R (no-C) way than that shown below 
> to convert to POSIXct?
> - any idea why in the example below fooling R into thinking a 
> list is POSIXlt is faster than just creating a POSIXlt by rep 
> or seq? It's not a huge difference, but still. Unfortunately 
> seq on POSIXlt returns POSIXct anyway, so the class of 
> 'origin' is set correctly.
> - any idea why seq is faster than rep when applied on 
> POSIXct? There is hardly anything simpler than on double values...
> 
> Thanks in advance for your comments,
> Oleg
> 
> It's common in finance to work with time stamps stored in a 
> form like %Y%m%d.%H%M%OS, e.g. 20080410.140444 for now, this 
> is what 'ts' in the example below is:
> 
> ts = 1e4*trunc(rnorm(50000,2008,2)) + 1e2*trunc(runif(50000,1,12)) + 
>      trunc(runif(50000,1,28)) + 1e-2*trunc(runif(50000,1,24)) +
>      1e-4*trunc(runif(50000,1,60)) + 1e-6*runif(50000,1,60)
> 
> posix.viaISOdate = function(x) {
>     date = trunc(x at .Data)
>     time = round(1e6*x at .Data%%1,2)
>     rtime = round(time)
>     z = list(sec=rtime%%1e2 + time%%1,
>             min=(rtime%/%1e2)%%1e2,
>             hour=rtime%/%1e4,
>             mday=date%%100,
>             mon=(date%/%100)%%100,
>             year=date%/%10000)
>     ISOdate(z$year,z$mon,z$mday,z$hour,z$min,z$sec) # to POSIXct }
> 
> ## This is just a test of how is it faster to create a long 
> POSIXlt object ## before another implementations are given
> 
> origin = as.POSIXct("1970-01-01") 
> 
> mean(sapply(1:25,function(i) system.time(
>     as.POSIXlt(rep(origin,600000))
> ))[1,])
> # [1] 0.3972
> 
> mean(sapply(1:25,function(i) system.time(
>     as.POSIXlt(seq(origin, origin, length.out=600000))
> ))[1,])
> # [1] 0.30528
> 
> 
> posix.viaPOSIXlt1 = function(x) {
>     origin = as.POSIXct("1970-01-01") 
>     z = as.POSIXlt(seq(origin, origin, length.out=length(x)))
>     date = trunc(x at .Data)
>     time = round(1e6*x at .Data%%1,2)
>     rtime = round(time)
>     z$sec=rtime%%1e2 + time%%1
>     z$min=(rtime%/%1e2)%%1e2
>     z$hour=rtime%/%1e4
>     z$mday=date%%100
>     z$mon=(date%/%100)%%100-1
>     z$year=date%/%10000-1900
>     as.double(z) # to POSIXct
> }
> 
> posix.vialist = function(x) {
>     date = trunc(x at .Data)
>     time = round(1e6*x at .Data%%1,2)
>     rtime = round(time)
>     na = rep(0.0,length(x))
>     z = list(sec=rtime%%1e2 + time%%1,
>         min=(rtime%/%1e2)%%1e2,
>         hour=rtime%/%1e4,
>         mday=date%%100,
>         mon=(date%/%100)%%100-1,
>         year=date%/%10000-1900,
>         wday=na,yday=na,isdst=na)
>     class(z) = c("POSIXt","POSIXlt")
>     as.double(z) # to POSIXct
> }
> 
> v1 = posix.viaISOdate(ts)
> v2 = posix.viaPOSIXlt1(ts)
> v3 = posix.vialist(ts)
> 
> all(v1==v2 & v2==v3)
> # [1] TRUE
> 
> mean(sapply(1:25,function(i) system.time(
>     system.time(posix.viaISOdate(ts))
> ))[1,])
> # [1] 1.54244
> 
> mean(sapply(1:25,function(i) system.time(
>     system.time(posix.viaPOSIXlt1(ts))
> ))[1,])
> # [1] 0.37624
> 
> mean(sapply(1:25,function(i) system.time(
>     system.time(posix.vialist(ts))
> ))[1,])
> # [1] 0.35488
> 
> 
> 
> 
> sessionInfo()
> R version 2.6.2 (2008-02-08)
> x86_64-unknown-linux-gnu
> 
> locale:
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLA
> TE=C;LC_MO
> NETARY=en_GB.UTF-8;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-
> 8;LC_NAME=
> C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_ID
> ENTIFICATI
> ON=C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> loaded via a namespace (and not attached):
> [1] rcompgen_0.1-17
> 
> Dr Oleg Sklyar
> Technology Group
> Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com
> 
> 
> **********************************************************************
> The contents of this email are for the named addressee(s) only.
> It contains information which may be confidential and privileged.
> If you are not the intended recipient, please notify the 
> sender immediately, destroy this email and any attachments 
> and do not otherwise disclose or use them. Email transmission 
> is not a secure method of communication and Man Investments 
> cannot accept responsibility for the completeness or accuracy 
> of this email or any attachments. Whilst Man Investments 
> makes every effort to keep its network free from viruses, it 
> does not accept responsibility for any computer virus which 
> might be transferred by way of this email or any attachments. 
> This email does not constitute a request, offer, 
> recommendation or solicitation of any kind to buy, subscribe, 
> sell or redeem any investment instruments or to perform other 
> such transactions of any kind. Man Investments reserves the 
> right to monitor, record and retain all electronic 
> communications through its network to ensure the integrity of 
> its systems, for record keeping and regulatory purposes. 
> 
> Visit us at: www.maninvestments.com
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From jmc at r-project.org  Thu Apr 10 17:55:27 2008
From: jmc at r-project.org (John Chambers)
Date: Thu, 10 Apr 2008 08:55:27 -0700
Subject: [Rd] coerce methods and inheritance
In-Reply-To: <47FD7879.7080908@fhcrc.org>
References: <47FD11E6.1090901@fhcrc.org> <47FD412E.1010609@r-project.org>
	<47FD7879.7080908@fhcrc.org>
Message-ID: <47FE386F.5050205@r-project.org>

Hi John,
>
> John Chambers wrote:
>> Herve Pages wrote:
>>> Hi,
>>>
>>> It doesn't seem that the dispatching algo is finding my coerce 
>>> method under
>>> some circumstances.
>>> Let's say I have 2 classes, A and AA and that AA is just a direct 
>>> extension
>>> of A with no additional slots:
>>>
>>>    setClass("A", representation(ii="integer"))
>>>    setClass("AA", contains="A")
>>>
>>> I can define a method for coercing my objects to an integer vector 
>>> with:
>>>
>>>    setAs("A", "integer", function(from) {cat("I'm the A->integer 
>>> coerce method\n"); from at ii})
>>>
>>> and this works as expected when my object is an AA instance:
>>>
>>>    > aa <- new("AA", ii=sample(10, 5))
>>>    > as(aa, "integer")
>>>    I'm the A->integer coerce method
>>>    [1] 10  1  6  4  7
>>>
>>> But things don't behave that way anymore if I introduce a direct 
>>> extension of AA:
>>>
>>>    setClass("OrderedAA",
>>>      contains="AA",
>>>      validity=function(object)
>>>      {
>>>          if (!all(diff(object at ii) >= 0))
>>>              return("slot 'ii' is not ordered")
>>>          TRUE
>>>      }
>>>    )
>>>
>>> and a method for coercing an A object to an OrderedAA object:
>>>
>>>    setAs("A", "OrderedAA",
>>>      function(from)
>>>      {
>>>          cat("I'm the A->OrderedAA coerce method\n")
>>>          new("OrderedAA", ii=sort(from at ii))
>>>      }
>>>    )
>>>
>>> My A->OrderedAA coerce method is not called anymore:
>>>
>>>    > oaa <- as(aa, "OrderedAA")
>>>    > oaa
>>>    > validObject(oaa)
>>>    Error in validObject(oaa) :
>>>      invalid class "OrderedAA" object: slot 'ii' is not ordered
>>>
>>> This looks like a bug to me.
>>>   
>> Well, obscure perhaps, and not as well documented as it might be.
>>
>> Defining a subclass of "AA" creates implicit coerce methods in both 
>> directions.  The method from "AA" to its subclass creates a new 
>> object from the subclass, then inserts the inherited slots.
>>
>>  > selectMethod("coerce", c("AA", "OrderedAA"))
>> Method Definition:
>>
>> function (from, to)
>> {
>>    obj <- new("OrderedAA")
>>    as(obj, "AA") <- from
>>    obj
>> }
>
> The problem is that this implicit method doesn't seem to check the 
> validity
> of the new object. So now my users have an easy way to create broken 
> objects
> without being told that they are doing something wrong... unless I have
> redefined a lot of coerce methods in my software (and there can be a 
> lot of
> them).
> Unfortunately for me and my project, it looks like most of these 
> "implicit"
> methods are doing the wrong thing. So if the purpose of having them 
> was to
> make the developer's life easier, it doesn't work for me.
Yes, I understand that.  But does that mean that all other applications 
should NOT have the automatic replacement?  I'm not hugely committed to 
it but notice that the real issue is the underlying
  as(obj, "AA") <- from
which uses a replacement method generated for simple contained 
relationships.  Throwing that out to save you having to write a coerce 
method seems a little drastic.

The underlying assumption is that most classes are defined by the 
classes of their slots. Your example has extra, implicit requirements, 
which is fine but is not likely to come for free.
>
>>
>> Signatures:
>>        from to        target  "AA" "OrderedAA"
>> defined "AA" "OrderedAA"
>>
>> The situation is made more confusing because these methods are only 
>> explicitly inserted in the coerce() function the first time they're 
>> used (for obvious efficiency reasons).
>
> Even worse, after I define my coerce method for A->OrderedAA, and 
> _before_
> I try to coerce my first AA object to an OrderedAA object, I get this:
>
>   > selectMethod("coerce", c("AA", "OrderedAA"))
>   Method Definition:
>
>   function (from, to = "OrderedAA", strict = TRUE)
>   {
>     cat("I'm the A->OrderedAA coerce method\n")
>     new("OrderedAA", ii = sort(from at ii))
>   }
>
>   Signatures:
>           from to
>   target  "AA" "OrderedAA"
>   defined "A"  "OrderedAA"
>
> which is not reporting the truth (the method that will actually be 
> selected
> will be the implicit one, not mine).
>
>>
>> Notice that this is a direct method, not an inherited one.  It will 
>> be chosen by the method selection from as().
>>
>> So it is true that if you want to override the implicit methods, you 
>> have to do that for each new subclass, presumably when defining the 
>> subclass.
>>
>>  >    setAs("AA", "OrderedAA",
>> +      function(from)
>> +      {
>> +          cat("I'm the A->OrderedAA coerce method\n")
>> +          new("OrderedAA", ii=sor .... [TRUNCATED]
>>  > as(aa, "OrderedAA")
>> I'm the A->OrderedAA coerce method
>> An object of class "OrderedAA"
>> Slot "ii":
>> [1]  4  5  7  8 10
>>
>> It's possible to argue that an inherited, explicitly defined method, 
>> as in your case, is worth more than a direct, implicitly defined method.
>
> It's definitely worth more than a direct, implicitly defined method that
> produces invalid objects ;-)
>
> Anyway I can see why it can be nice (and save some efforts to the 
> developer)
> to have a coercion mechanism that works out-of-the-box, but I'm wondering
> whether this is that useful to have implicit coerce methods in _both_
> directions. It seems to me that, most of the times, the parent-to-child
> direction will do the wrong thing, because, generally speaking, you need
> some extra information (the extra slots) to coerce from the parent class
> to the child class.
>
> Thanks for the clarification!
>
> H.
>
>> But whether this would be true in all applications is not obvious.
>>
>> But that the documentation needs to spell this out--no question.  
>> Thanks for bringing it up.
>>
>> John
>>
>>
>>> Thanks,
>>> H.
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>   
>>
>


From paboyoun at fhcrc.org  Thu Apr 10 19:18:54 2008
From: paboyoun at fhcrc.org (Patrick Aboyoun)
Date: Thu, 10 Apr 2008 10:18:54 -0700
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <47FE05F1.2030507@stats.uwo.ca>
References: <47FD3032.7020709@fhcrc.org> <47FD33E2.8090300@fhcrc.org>
	<47FD56AA.4030707@stats.uwo.ca> <47FD7262.9060901@fhcrc.org>
	<47FE05F1.2030507@stats.uwo.ca>
Message-ID: <47FE4BFE.1060902@fhcrc.org>

Thanks Duncan,
I just did a survey of the BioConductor repository and only 4 of the 354 
.Rnw vignette files contain the \usepackage{Sweave} specification. 
Adding this is tedious, but not impossible. If the \usepackage{Sweave} 
specification does become recommended, could you add a WARNING to the R 
CMD build/check process if a vignette file lacks it? That would help 
steer developers in the right direction for cross-platform compatibility 
since most R package developers don't use Windows as their primary platform.


Cheers,
Patrick


Duncan Murdoch wrote:
> On 4/9/2008 9:50 PM, Patrick Aboyoun wrote:
>> I forgot to mention the BioConductor Windows build machine is running
>> Microsoft Windows Server 2003 R2
>> Enterprise Edition, SP2
>>
>> I just checked and this same problem exists if I place R in the 
>> standard "C:\Program Files\R" location on this machine.
>
> We're going to roll back that change, so you should be okay with your 
> original setup.  As far as I know there is no way to get MikTeX to 
> work if you have a space in your pathname, so putting R in the 
> standard location will fail, unless you follow the advice I give below.
>
>> For now the backup plan is to move to using short path names for 
>> BioConductor builds (modifying 100+ vignettes is impractical as well 
>> as configuring MiKTeX to handle multiple installs of R that the build 
>> machine uses). If there is an alternate configuration that I should 
>> be using, just let me know.
>
> I would recommend biting the bullet and adding \usepackage{Sweave} to 
> every vignette.  It's just a one line addition to them, and it will 
> mean that their .tex output will work if you move it to a different 
> machine, where the full path to Sweave.sty is different.
>
> Duncan Murdoch
>
>>
>>
>> Cheers,
>> Patrick
>>
>>
>> Duncan Murdoch wrote:
>>> On 09/04/2008 5:23 PM, Patrick Aboyoun wrote:
>>>> Something funky happened to my e-mail. I was trying to paste 
>>>> information related to MiKTeX and R into my message and it appears 
>>>> to have corrupted the text somehow. Anyway, the message I was 
>>>> trying to get across is that the tex file contains the path
>>>>
>>>> \usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}
>>>>
>>>> and MiKTeX 2.7 doesn't know how to resolve it. (The 
>>>> Bioconductor.tex file is (hopefully) attached to this e-mail.)
>>>
>>> You should be able to get things to work by explicitly putting
>>>
>>> \usepackage{Sweave}
>>>
>>> somewhere early in your .Rnw file.  You may have trouble with MikTeX 
>>> finding Sweave.sty, depending how you invoke it:  if invoked from R 
>>> CMD it should work, but maybe not from your command line unless you 
>>> tell it where to look for include files.  How you do that changes 
>>> all the time; R tries a couple, which is why R CMD probably works.
>>>
>>> Duncan Murdoch
>>>
>>>>
>>>>
>>>> === BEGIN OS BLOCK ===
>>>>
>>>> E:\paboyoun>pdflatex --version
>>>> MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
>>>> Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
>>>> TeX is a trademark of the American Mathematical Society.
>>>>
>>>> E:\paboyoun>pdflatex Bioconductor.tex
>>>> This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
>>>> entering extended mode
>>>> (Bioconductor.tex
>>>> LaTeX2e <2005/12/01>
>>>> Babel <v3.8h> and hyphenation patterns for english, dumylang, 
>>>> nohyphenation, ge
>>>> rman, ngerman, french, loaded.
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
>>>> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
>>>> Implicit mode ON; LaTeX internals redefined
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
>>>> *hyperref using default driver hpdftex*
>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
>>>> ! Missing \endcsname inserted.
>>>> <to be read again>
>>>>                    \protect
>>>> l.28 \begin
>>>>            {document}
>>>> ?
>>>>
>>>>
>>>> ------------------------------------------------------------------------ 
>>>>
>>>>
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>


From murdoch at stats.uwo.ca  Thu Apr 10 19:38:44 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 10 Apr 2008 13:38:44 -0400
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <47FE4BFE.1060902@fhcrc.org>
References: <47FD3032.7020709@fhcrc.org> <47FD33E2.8090300@fhcrc.org>
	<47FD56AA.4030707@stats.uwo.ca> <47FD7262.9060901@fhcrc.org>
	<47FE05F1.2030507@stats.uwo.ca> <47FE4BFE.1060902@fhcrc.org>
Message-ID: <47FE50A4.5090808@stats.uwo.ca>

On 4/10/2008 1:18 PM, Patrick Aboyoun wrote:
> Thanks Duncan,
> I just did a survey of the BioConductor repository and only 4 of the 354 
> .Rnw vignette files contain the \usepackage{Sweave} specification. 
> Adding this is tedious, but not impossible. If the \usepackage{Sweave} 
> specification does become recommended, could you add a WARNING to the R 
> CMD build/check process if a vignette file lacks it? That would help 
> steer developers in the right direction for cross-platform compatibility 
> since most R package developers don't use Windows as their primary platform.

I think the Sweave default of inserting the path to Sweave.sty is the 
problem. I've checked my LaTeX books, and none of them mention this as a 
possiblity:  the argument of \usepackage is supposed to be a package 
name, not a path to a style file with the .sty chopped off.  Obviously 
some implementations support the syntax of using a path, but this is 
clearly not well supported:  there's no way I can see to specify 
perfectly legal paths, if they happen to contain characters that LaTeX 
thinks are special.

So I would say the direction we should move is for Sweave to insert just

\usepackage{Sweave}

(and possibly a comment saying where to go to find it, for people who 
don't know how to set up the include path properly).  But I wouldn't 
make a change like that at this late date for 2.7.0.

Duncan Murdoch


> 
> 
> Cheers,
> Patrick
> 
> 
> Duncan Murdoch wrote:
>> On 4/9/2008 9:50 PM, Patrick Aboyoun wrote:
>>> I forgot to mention the BioConductor Windows build machine is running
>>> Microsoft Windows Server 2003 R2
>>> Enterprise Edition, SP2
>>>
>>> I just checked and this same problem exists if I place R in the 
>>> standard "C:\Program Files\R" location on this machine.
>>
>> We're going to roll back that change, so you should be okay with your 
>> original setup.  As far as I know there is no way to get MikTeX to 
>> work if you have a space in your pathname, so putting R in the 
>> standard location will fail, unless you follow the advice I give below.
>>
>>> For now the backup plan is to move to using short path names for 
>>> BioConductor builds (modifying 100+ vignettes is impractical as well 
>>> as configuring MiKTeX to handle multiple installs of R that the build 
>>> machine uses). If there is an alternate configuration that I should 
>>> be using, just let me know.
>>
>> I would recommend biting the bullet and adding \usepackage{Sweave} to 
>> every vignette.  It's just a one line addition to them, and it will 
>> mean that their .tex output will work if you move it to a different 
>> machine, where the full path to Sweave.sty is different.
>>
>> Duncan Murdoch
>>
>>>
>>>
>>> Cheers,
>>> Patrick
>>>
>>>
>>> Duncan Murdoch wrote:
>>>> On 09/04/2008 5:23 PM, Patrick Aboyoun wrote:
>>>>> Something funky happened to my e-mail. I was trying to paste 
>>>>> information related to MiKTeX and R into my message and it appears 
>>>>> to have corrupted the text somehow. Anyway, the message I was 
>>>>> trying to get across is that the tex file contains the path
>>>>>
>>>>> \usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}
>>>>>
>>>>> and MiKTeX 2.7 doesn't know how to resolve it. (The 
>>>>> Bioconductor.tex file is (hopefully) attached to this e-mail.)
>>>>
>>>> You should be able to get things to work by explicitly putting
>>>>
>>>> \usepackage{Sweave}
>>>>
>>>> somewhere early in your .Rnw file.  You may have trouble with MikTeX 
>>>> finding Sweave.sty, depending how you invoke it:  if invoked from R 
>>>> CMD it should work, but maybe not from your command line unless you 
>>>> tell it where to look for include files.  How you do that changes 
>>>> all the time; R tries a couple, which is why R CMD probably works.
>>>>
>>>> Duncan Murdoch
>>>>
>>>>>
>>>>>
>>>>> === BEGIN OS BLOCK ===
>>>>>
>>>>> E:\paboyoun>pdflatex --version
>>>>> MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
>>>>> Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
>>>>> TeX is a trademark of the American Mathematical Society.
>>>>>
>>>>> E:\paboyoun>pdflatex Bioconductor.tex
>>>>> This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
>>>>> entering extended mode
>>>>> (Bioconductor.tex
>>>>> LaTeX2e <2005/12/01>
>>>>> Babel <v3.8h> and hyphenation patterns for english, dumylang, 
>>>>> nohyphenation, ge
>>>>> rman, ngerman, french, loaded.
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
>>>>> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
>>>>> Implicit mode ON; LaTeX internals redefined
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
>>>>> *hyperref using default driver hpdftex*
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
>>>>> ! Missing \endcsname inserted.
>>>>> <to be read again>
>>>>>                    \protect
>>>>> l.28 \begin
>>>>>            {document}
>>>>> ?
>>>>>
>>>>>
>>>>> ------------------------------------------------------------------------ 
>>>>>
>>>>>
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>


From ripley at stats.ox.ac.uk  Thu Apr 10 20:10:41 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Apr 2008 19:10:41 +0100 (BST)
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <47FE4BFE.1060902@fhcrc.org>
References: <47FD3032.7020709@fhcrc.org> <47FD33E2.8090300@fhcrc.org>
	<47FD56AA.4030707@stats.uwo.ca> <47FD7262.9060901@fhcrc.org>
	<47FE05F1.2030507@stats.uwo.ca> <47FE4BFE.1060902@fhcrc.org>
Message-ID: <alpine.LFD.1.00.0804101848250.20043@gannet.stats.ox.ac.uk>

I suggest that we try to program a solution in Sweave.  It only inserts 
the path to the file is stylepath=TRUE in RweaveLatexSetup, so it seems 
to be that

Sweave(stylepath=FALSE)

is all that is needed.  That seems to work, although of course obliges 
people to make sure Sweave.sty is in their latex input path (and using 
texi2dvi makes that rather hard).

Sweave is only used by R in three places, in 
tools:::.install_package_vignettes which is only used to build the grid 
vignettes, and tools::checkVignettes (used by R CMD check) and 
buildVignettes (used by R CMD build), and none of which pass any arguments 
to Sweave.

Here's a proposal.  Instead of making stylepath=TRUE the default, set its 
default from the environment variable _SWEAVE_STYLEPATH_DEFAULT_ . Then 
all Patrick needs to do is to set this to FALSE and ensure that his MiKTeX 
setup has Sweave.sty in a texmf tree.

That leaves the question of what the default should be if the environment 
variable is not set -- I suggest TRUE unless the path contains a space 
(since it doesn't currently work if it does and so is backwards 
compatible).

That seems well below the limits of what is acceptable at this point for 
2.7.0, so if reaction is favourable we should go ahead.

Brian Ripley

On Thu, 10 Apr 2008, Patrick Aboyoun wrote:

> Thanks Duncan,
> I just did a survey of the BioConductor repository and only 4 of the 354
> .Rnw vignette files contain the \usepackage{Sweave} specification.
> Adding this is tedious, but not impossible. If the \usepackage{Sweave}
> specification does become recommended, could you add a WARNING to the R
> CMD build/check process if a vignette file lacks it? That would help
> steer developers in the right direction for cross-platform compatibility
> since most R package developers don't use Windows as their primary platform.
>
>
> Cheers,
> Patrick
>
>
> Duncan Murdoch wrote:
>> On 4/9/2008 9:50 PM, Patrick Aboyoun wrote:
>>> I forgot to mention the BioConductor Windows build machine is running
>>> Microsoft Windows Server 2003 R2
>>> Enterprise Edition, SP2
>>>
>>> I just checked and this same problem exists if I place R in the
>>> standard "C:\Program Files\R" location on this machine.
>>
>> We're going to roll back that change, so you should be okay with your
>> original setup.  As far as I know there is no way to get MikTeX to
>> work if you have a space in your pathname, so putting R in the
>> standard location will fail, unless you follow the advice I give below.
>>
>>> For now the backup plan is to move to using short path names for
>>> BioConductor builds (modifying 100+ vignettes is impractical as well
>>> as configuring MiKTeX to handle multiple installs of R that the build
>>> machine uses). If there is an alternate configuration that I should
>>> be using, just let me know.
>>
>> I would recommend biting the bullet and adding \usepackage{Sweave} to
>> every vignette.  It's just a one line addition to them, and it will
>> mean that their .tex output will work if you move it to a different
>> machine, where the full path to Sweave.sty is different.
>>
>> Duncan Murdoch
>>
>>>
>>>
>>> Cheers,
>>> Patrick
>>>
>>>
>>> Duncan Murdoch wrote:
>>>> On 09/04/2008 5:23 PM, Patrick Aboyoun wrote:
>>>>> Something funky happened to my e-mail. I was trying to paste
>>>>> information related to MiKTeX and R into my message and it appears
>>>>> to have corrupted the text somehow. Anyway, the message I was
>>>>> trying to get across is that the tex file contains the path
>>>>>
>>>>> \usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}
>>>>>
>>>>> and MiKTeX 2.7 doesn't know how to resolve it. (The
>>>>> Bioconductor.tex file is (hopefully) attached to this e-mail.)
>>>>
>>>> You should be able to get things to work by explicitly putting
>>>>
>>>> \usepackage{Sweave}
>>>>
>>>> somewhere early in your .Rnw file.  You may have trouble with MikTeX
>>>> finding Sweave.sty, depending how you invoke it:  if invoked from R
>>>> CMD it should work, but maybe not from your command line unless you
>>>> tell it where to look for include files.  How you do that changes
>>>> all the time; R tries a couple, which is why R CMD probably works.
>>>>
>>>> Duncan Murdoch
>>>>
>>>>>
>>>>>
>>>>> === BEGIN OS BLOCK ===
>>>>>
>>>>> E:\paboyoun>pdflatex --version
>>>>> MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
>>>>> Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
>>>>> TeX is a trademark of the American Mathematical Society.
>>>>>
>>>>> E:\paboyoun>pdflatex Bioconductor.tex
>>>>> This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
>>>>> entering extended mode
>>>>> (Bioconductor.tex
>>>>> LaTeX2e <2005/12/01>
>>>>> Babel <v3.8h> and hyphenation patterns for english, dumylang,
>>>>> nohyphenation, ge
>>>>> rman, ngerman, french, loaded.
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
>>>>> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
>>>>> Implicit mode ON; LaTeX internals redefined
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
>>>>> *hyperref using default driver hpdftex*
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
>>>>> ! Missing \endcsname inserted.
>>>>> <to be read again>
>>>>>                    \protect
>>>>> l.28 \begin
>>>>>            {document}
>>>>> ?
>>>>>
>>>>>
>>>>> ------------------------------------------------------------------------
>>>>>
>>>>>
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From Kurt.Hornik at wu-wien.ac.at  Thu Apr 10 21:07:38 2008
From: Kurt.Hornik at wu-wien.ac.at (Kurt Hornik)
Date: Thu, 10 Apr 2008 21:07:38 +0200
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <alpine.LFD.1.00.0804101848250.20043@gannet.stats.ox.ac.uk>
References: <47FD3032.7020709@fhcrc.org> <47FD33E2.8090300@fhcrc.org>
	<47FD56AA.4030707@stats.uwo.ca> <47FD7262.9060901@fhcrc.org>
	<47FE05F1.2030507@stats.uwo.ca> <47FE4BFE.1060902@fhcrc.org>
	<alpine.LFD.1.00.0804101848250.20043@gannet.stats.ox.ac.uk>
Message-ID: <18430.25978.513720.319931@fangorn.hornik.net>

>>>>> Prof Brian Ripley writes:

> I suggest that we try to program a solution in Sweave.  It only inserts 
> the path to the file is stylepath=TRUE in RweaveLatexSetup, so it seems 
> to be that

> Sweave(stylepath=FALSE)

> is all that is needed.  That seems to work, although of course obliges 
> people to make sure Sweave.sty is in their latex input path (and using 
> texi2dvi makes that rather hard).

Unless you do

  R CMD texi2dvi

as this will add the R share/texmf to TEXINPUTS.

> Sweave is only used by R in three places, in 
> tools:::.install_package_vignettes which is only used to build the grid 
> vignettes, and tools::checkVignettes (used by R CMD check) and 
> buildVignettes (used by R CMD build), and none of which pass any arguments 
> to Sweave.

> Here's a proposal.  Instead of making stylepath=TRUE the default, set its 
> default from the environment variable _SWEAVE_STYLEPATH_DEFAULT_ . Then 
> all Patrick needs to do is to set this to FALSE and ensure that his MiKTeX 
> setup has Sweave.sty in a texmf tree.

> That leaves the question of what the default should be if the environment 
> variable is not set -- I suggest TRUE unless the path contains a space 
> (since it doesn't currently work if it does and so is backwards 
> compatible).

> That seems well below the limits of what is acceptable at this point for 
> 2.7.0, so if reaction is favourable we should go ahead.

Personally, I always thought the default should be not to set the path
and suggest to use R CMD texi2dvi.

Best
-k

> Brian Ripley

> On Thu, 10 Apr 2008, Patrick Aboyoun wrote:

>> Thanks Duncan,
>> I just did a survey of the BioConductor repository and only 4 of the 354
>> .Rnw vignette files contain the \usepackage{Sweave} specification.
>> Adding this is tedious, but not impossible. If the \usepackage{Sweave}
>> specification does become recommended, could you add a WARNING to the R
>> CMD build/check process if a vignette file lacks it? That would help
>> steer developers in the right direction for cross-platform compatibility
>> since most R package developers don't use Windows as their primary platform.
>> 
>> 
>> Cheers,
>> Patrick
>> 
>> 
>> Duncan Murdoch wrote:
>>> On 4/9/2008 9:50 PM, Patrick Aboyoun wrote:
>>>> I forgot to mention the BioConductor Windows build machine is running
>>>> Microsoft Windows Server 2003 R2
>>>> Enterprise Edition, SP2
>>>> 
>>>> I just checked and this same problem exists if I place R in the
>>>> standard "C:\Program Files\R" location on this machine.
>>> 
>>> We're going to roll back that change, so you should be okay with your
>>> original setup.  As far as I know there is no way to get MikTeX to
>>> work if you have a space in your pathname, so putting R in the
>>> standard location will fail, unless you follow the advice I give below.
>>> 
>>>> For now the backup plan is to move to using short path names for
>>>> BioConductor builds (modifying 100+ vignettes is impractical as well
>>>> as configuring MiKTeX to handle multiple installs of R that the build
>>>> machine uses). If there is an alternate configuration that I should
>>>> be using, just let me know.
>>> 
>>> I would recommend biting the bullet and adding \usepackage{Sweave} to
>>> every vignette.  It's just a one line addition to them, and it will
>>> mean that their .tex output will work if you move it to a different
>>> machine, where the full path to Sweave.sty is different.
>>> 
>>> Duncan Murdoch
>>> 
>>>> 
>>>> 
>>>> Cheers,
>>>> Patrick
>>>> 
>>>> 
>>>> Duncan Murdoch wrote:
>>>>> On 09/04/2008 5:23 PM, Patrick Aboyoun wrote:
>>>>> Something funky happened to my e-mail. I was trying to paste
>>>>> information related to MiKTeX and R into my message and it appears
>>>>> to have corrupted the text somehow. Anyway, the message I was
>>>>> trying to get across is that the tex file contains the path
>>>>>> 
>>>>> \usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}
>>>>>> 
>>>>> and MiKTeX 2.7 doesn't know how to resolve it. (The
>>>>> Bioconductor.tex file is (hopefully) attached to this e-mail.)
>>>>> 
>>>>> You should be able to get things to work by explicitly putting
>>>>> 
>>>>> \usepackage{Sweave}
>>>>> 
>>>>> somewhere early in your .Rnw file.  You may have trouble with MikTeX
>>>>> finding Sweave.sty, depending how you invoke it:  if invoked from R
>>>>> CMD it should work, but maybe not from your command line unless you
>>>>> tell it where to look for include files.  How you do that changes
>>>>> all the time; R tries a couple, which is why R CMD probably works.
>>>>> 
>>>>> Duncan Murdoch
>>>>> 
>>>>>> 
>>>>>> 
>>>>> === BEGIN OS BLOCK ===
>>>>>> 
>>>>> E:\paboyoun>pdflatex --version
>>>>> MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
>>>>> Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
>>>>> TeX is a trademark of the American Mathematical Society.
>>>>>> 
>>>>> E:\paboyoun>pdflatex Bioconductor.tex
>>>>> This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
>>>>> entering extended mode
>>>>> (Bioconductor.tex
>>>>> LaTeX2e <2005/12/01>
>>>>> Babel <v3.8h> and hyphenation patterns for english, dumylang,
>>>>> nohyphenation, ge
>>>>> rman, ngerman, french, loaded.
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
>>>>> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
>>>>> Implicit mode ON; LaTeX internals redefined
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
>>>>> *hyperref using default driver hpdftex*
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
>>>>> ! Missing \endcsname inserted.
>>>>> <to be read again>
>>>>>                    \protect
>>>>> l.28 \begin
>>>>>            {document}
>>>>> ?
>>>>>> 
>>>>>> 
>>>>> ------------------------------------------------------------------------
>>>>>> 
>>>>>> 
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>> 
>>> 
>> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 

> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Thu Apr 10 21:14:43 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Apr 2008 20:14:43 +0100 (BST)
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <18430.25978.513720.319931@fangorn.hornik.net>
References: <47FD3032.7020709@fhcrc.org> <47FD33E2.8090300@fhcrc.org>
	<47FD56AA.4030707@stats.uwo.ca> <47FD7262.9060901@fhcrc.org>
	<47FE05F1.2030507@stats.uwo.ca> <47FE4BFE.1060902@fhcrc.org>
	<alpine.LFD.1.00.0804101848250.20043@gannet.stats.ox.ac.uk>
	<18430.25978.513720.319931@fangorn.hornik.net>
Message-ID: <alpine.LFD.1.00.0804102010430.21560@gannet.stats.ox.ac.uk>

On Thu, 10 Apr 2008, Kurt Hornik wrote:

>>>>>> Prof Brian Ripley writes:
>
>> I suggest that we try to program a solution in Sweave.  It only inserts
>> the path to the file is stylepath=TRUE in RweaveLatexSetup, so it seems
>> to be that
>
>> Sweave(stylepath=FALSE)
>
>> is all that is needed.  That seems to work, although of course obliges
>> people to make sure Sweave.sty is in their latex input path (and using
>> texi2dvi makes that rather hard).
>
> Unless you do
>
>  R CMD texi2dvi
>
> as this will add the R share/texmf to TEXINPUTS.

Unfortunately MiKTeX ignores TEXINPUTS and all such environment 
variables.  (I think MiKTeX 2.7 has a solution that was not in earlier 
versions, which is to use texi2dvi --include-directory, which we already 
use in doc/manual.)

>> Sweave is only used by R in three places, in
>> tools:::.install_package_vignettes which is only used to build the grid
>> vignettes, and tools::checkVignettes (used by R CMD check) and
>> buildVignettes (used by R CMD build), and none of which pass any arguments
>> to Sweave.
>
>> Here's a proposal.  Instead of making stylepath=TRUE the default, set its
>> default from the environment variable _SWEAVE_STYLEPATH_DEFAULT_ . Then
>> all Patrick needs to do is to set this to FALSE and ensure that his MiKTeX
>> setup has Sweave.sty in a texmf tree.
>
>> That leaves the question of what the default should be if the environment
>> variable is not set -- I suggest TRUE unless the path contains a space
>> (since it doesn't currently work if it does and so is backwards
>> compatible).
>
>> That seems well below the limits of what is acceptable at this point for
>> 2.7.0, so if reaction is favourable we should go ahead.
>
> Personally, I always thought the default should be not to set the path
> and suggest to use R CMD texi2dvi.
>
> Best
> -k
>
>> Brian Ripley
>
>> On Thu, 10 Apr 2008, Patrick Aboyoun wrote:
>
>>> Thanks Duncan,
>>> I just did a survey of the BioConductor repository and only 4 of the 354
>>> .Rnw vignette files contain the \usepackage{Sweave} specification.
>>> Adding this is tedious, but not impossible. If the \usepackage{Sweave}
>>> specification does become recommended, could you add a WARNING to the R
>>> CMD build/check process if a vignette file lacks it? That would help
>>> steer developers in the right direction for cross-platform compatibility
>>> since most R package developers don't use Windows as their primary platform.
>>>
>>>
>>> Cheers,
>>> Patrick
>>>
>>>
>>> Duncan Murdoch wrote:
>>>> On 4/9/2008 9:50 PM, Patrick Aboyoun wrote:
>>>>> I forgot to mention the BioConductor Windows build machine is running
>>>>> Microsoft Windows Server 2003 R2
>>>>> Enterprise Edition, SP2
>>>>>
>>>>> I just checked and this same problem exists if I place R in the
>>>>> standard "C:\Program Files\R" location on this machine.
>>>>
>>>> We're going to roll back that change, so you should be okay with your
>>>> original setup.  As far as I know there is no way to get MikTeX to
>>>> work if you have a space in your pathname, so putting R in the
>>>> standard location will fail, unless you follow the advice I give below.
>>>>
>>>>> For now the backup plan is to move to using short path names for
>>>>> BioConductor builds (modifying 100+ vignettes is impractical as well
>>>>> as configuring MiKTeX to handle multiple installs of R that the build
>>>>> machine uses). If there is an alternate configuration that I should
>>>>> be using, just let me know.
>>>>
>>>> I would recommend biting the bullet and adding \usepackage{Sweave} to
>>>> every vignette.  It's just a one line addition to them, and it will
>>>> mean that their .tex output will work if you move it to a different
>>>> machine, where the full path to Sweave.sty is different.
>>>>
>>>> Duncan Murdoch
>>>>
>>>>>
>>>>>
>>>>> Cheers,
>>>>> Patrick
>>>>>
>>>>>
>>>>> Duncan Murdoch wrote:
>>>>>> On 09/04/2008 5:23 PM, Patrick Aboyoun wrote:
>>>>>> Something funky happened to my e-mail. I was trying to paste
>>>>>> information related to MiKTeX and R into my message and it appears
>>>>>> to have corrupted the text somehow. Anyway, the message I was
>>>>>> trying to get across is that the tex file contains the path
>>>>>>>
>>>>>> \usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}
>>>>>>>
>>>>>> and MiKTeX 2.7 doesn't know how to resolve it. (The
>>>>>> Bioconductor.tex file is (hopefully) attached to this e-mail.)
>>>>>>
>>>>>> You should be able to get things to work by explicitly putting
>>>>>>
>>>>>> \usepackage{Sweave}
>>>>>>
>>>>>> somewhere early in your .Rnw file.  You may have trouble with MikTeX
>>>>>> finding Sweave.sty, depending how you invoke it:  if invoked from R
>>>>>> CMD it should work, but maybe not from your command line unless you
>>>>>> tell it where to look for include files.  How you do that changes
>>>>>> all the time; R tries a couple, which is why R CMD probably works.
>>>>>>
>>>>>> Duncan Murdoch
>>>>>>
>>>>>>>
>>>>>>>
>>>>>> === BEGIN OS BLOCK ===
>>>>>>>
>>>>>> E:\paboyoun>pdflatex --version
>>>>>> MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
>>>>>> Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
>>>>>> TeX is a trademark of the American Mathematical Society.
>>>>>>>
>>>>>> E:\paboyoun>pdflatex Bioconductor.tex
>>>>>> This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
>>>>>> entering extended mode
>>>>>> (Bioconductor.tex
>>>>>> LaTeX2e <2005/12/01>
>>>>>> Babel <v3.8h> and hyphenation patterns for english, dumylang,
>>>>>> nohyphenation, ge
>>>>>> rman, ngerman, french, loaded.
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
>>>>>> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
>>>>>> Implicit mode ON; LaTeX internals redefined
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
>>>>>> *hyperref using default driver hpdftex*
>>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
>>>>>> ! Missing \endcsname inserted.
>>>>>> <to be read again>
>>>>>>                    \protect
>>>>>> l.28 \begin
>>>>>>            {document}
>>>>>> ?
>>>>>>>
>>>>>>>
>>>>>> ------------------------------------------------------------------------
>>>>>>>
>>>>>>>
>>>>>> ______________________________________________
>>>>>> R-devel at r-project.org mailing list
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>>>
>>>>
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jritter at umn.edu  Thu Apr 10 20:20:32 2008
From: jritter at umn.edu (jritter at umn.edu)
Date: Thu, 10 Apr 2008 20:20:32 +0200 (CEST)
Subject: [Rd] inconsistency within within( ) (PR#11131)
Message-ID: <20080410182032.C6184282EFF7@mail.pubhealth.ku.dk>

Hello R-team ~

I ran across an inconsistency about how within( ) handles expressions 
like b<-NULL.  (I have found within( ) very handy, by the way.)  The 
problem appears to crop up when you use something like b<-NULL in the 
same within() call that creates a new variable in the data frame.  An 
example using 2.6.2 on Windows XP is below.  Version 2.6.1 had a 
different, but similar problem.

As always, thanks for a very useful piece of software.

Joe Ritter

 > a<-1:5;b<-2:6;c<-3:7
 > abc=data.frame(a,b,c)
 > within(abc,{b<-NULL})
   a c
1 1 3
2 2 4
3 3 5
4 4 6
5 5 7
 > within(abc,{d<-a+7;b<-NULL})
   a c    d structure(c(" 8", " 9", "10", "11", "12"), class = "AsIs")
1 1 3 NULL                                                          8
2 2 4 <NA>                                                          9
3 3 5 <NA>                                                         10
4 4 6 <NA>                                                         11
5 5 7 <NA>                                                         12
Warning message:
In format.data.frame(x, digits = digits, na.encode = FALSE) :
   corrupt data frame: columns will be truncated or padded with NAs
 > within(abc,{a<-a+7;b<-NULL})
    a c
1  8 3
2  9 4
3 10 5
4 11 6
5 12 7


From deepayan.sarkar at gmail.com  Thu Apr 10 22:04:32 2008
From: deepayan.sarkar at gmail.com (Deepayan Sarkar)
Date: Thu, 10 Apr 2008 13:04:32 -0700
Subject: [Rd] autocompletion problem
In-Reply-To: <47FD6766.5090506@fhcrc.org>
References: <47FD3697.8070606@fhcrc.org>
	<eb555e660804091529w427f248cuf0a0fc97bb0aaac2@mail.gmail.com>
	<47FD6766.5090506@fhcrc.org>
Message-ID: <eb555e660804101304i78b19955l7354fd1db261a677@mail.gmail.com>

On 4/9/08, Herve Pages <hpages at fhcrc.org> wrote:

[...]

>  BTW are there any plans to deal with backquoted symbols/names?
>  There are currently 2 problems with this:
>
>   1. Completion will work and expand symbols or names that contain special
>      characters but without backquoting them:
>
>        xxx <- as.list(11:13)
>        names(xxx) <- letters[1:3]
>        names(xxx)[2] <- "2b"
>
>        > xxx$<TAB><TAB>    # <TAB> stands for a hit on the Tab key
>        xxx$2b  xxx$a   xxx$c
>        > xxx$2b            # I hit 2, then <TAB> gives me the b
>
>     Now if I hit <Enter>, of course I get:
>
>        Error: unexpected numeric constant in "xxx$2"
>
>   2. Completion of names after $ will not work if I've already backquoted
>      the partial name:
>
>        > xxx$`2<TAB><TAB><TAB>...  # nothing happens

1 will be hard to ``fix'' because of limitations in the various
backends (some of which are unable to insert text before the cursor).
Also, more checks will presumably slow things down, and it's not clear
that the benefits would be worth it.

2 might be doable; I'll look into it.

-Deepayan


From ligges at statistik.tu-dortmund.de  Fri Apr 11 00:00:20 2008
From: ligges at statistik.tu-dortmund.de (ligges at statistik.tu-dortmund.de)
Date: Fri, 11 Apr 2008 00:00:20 +0200 (CEST)
Subject: [Rd]   Re: library(forecast) (PR#11111)
Message-ID: <20080410220020.5514A282EFF6@mail.pubhealth.ku.dk>

The problem with tseries has been resolved for Win2k and R-2.6.x (as 
well as the one with Matrix), I hope. Please download a new version from 
CRAN master in roughly 12 hours from now (you have to wait for some 
syncing process before).

Uwe Ligges


From civaha at glam.ac.uk  Fri Apr 11 13:23:16 2008
From: civaha at glam.ac.uk (Christian_Ivaha)
Date: Fri, 11 Apr 2008 04:23:16 -0700 (PDT)
Subject: [Rd] StructTS
In-Reply-To: <DBB4BBF4-5AB5-488C-8108-EB3905317A5C@noaa.gov>
References: <DBB4BBF4-5AB5-488C-8108-EB3905317A5C@noaa.gov>
Message-ID: <16627538.post@talk.nabble.com>


Hi Roy

Have you managed to find the source code for StructTS after all? I am
looking for it as well but cant seem to find it, thanks

Chris



Roy Mendelssohn wrote:
> 
> I apologize in advance if I picked the wrong list to post this to.  I  
> have made an effort to find the answers to these questions on CRAN,  
> but if they are there, I couldn't find them, and I was going to email  
> the developer of StructTS directly but could not find who that is.
> 
> I have 2 interrelated questions about StructTS
> 
> 1.  Where can I obtain the source code for StructTS if I wanted to  
> produce a similar function with an extended capability?
> 
> 2.  Would the person who developed StructTS have any interest in  
> adding the ability to include an AR term and/or a stochastic cycle?
> 
> Thanks in advance,
> 
> -Roy M.
> 
> 
> 
> **********************
> "The contents of this message do not reflect any position of the U.S.  
> Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division	
> Southwest Fisheries Science Center
> 1352 Lighthouse Avenue
> Pacific Grove, CA 93950-2097
> 
> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
> voice: (831)-648-9029
> fax: (831)-648-8440
> www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
View this message in context: http://www.nabble.com/StructTS-tp9857181p16627538.html
Sent from the R devel mailing list archive at Nabble.com.


From murdoch at stats.uwo.ca  Fri Apr 11 14:32:31 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 11 Apr 2008 08:32:31 -0400
Subject: [Rd] StructTS
In-Reply-To: <16627538.post@talk.nabble.com>
References: <DBB4BBF4-5AB5-488C-8108-EB3905317A5C@noaa.gov>
	<16627538.post@talk.nabble.com>
Message-ID: <47FF5A5F.5040409@stats.uwo.ca>

On 4/11/2008 7:23 AM, Christian_Ivaha wrote:
> Hi Roy
> 
> Have you managed to find the source code for StructTS after all? I am
> looking for it as well but cant seem to find it, thanks

StructTS is in the stats package, which is a base package.  That means 
its source is part of the R source code.  You can find the source of all 
base packages in https://svn.r-project.org/R/trunk/src/library.  (This 
is the development branch; if you're looking for a particular version, 
replace trunk with tags/* or branches/*, where the * determines the 
version.)

For example, the soon-to-be-released version 2.7.0 of StructTS would be in

https://svn.r-project.org/R/branches/R-2-7-branch/src/library/stats/R/StructTS.R

Duncan Murdoch

> 
> Chris
> 
> 
> 
> Roy Mendelssohn wrote:
>> 
>> I apologize in advance if I picked the wrong list to post this to.  I  
>> have made an effort to find the answers to these questions on CRAN,  
>> but if they are there, I couldn't find them, and I was going to email  
>> the developer of StructTS directly but could not find who that is.
>> 
>> I have 2 interrelated questions about StructTS
>> 
>> 1.  Where can I obtain the source code for StructTS if I wanted to  
>> produce a similar function with an extended capability?
>> 
>> 2.  Would the person who developed StructTS have any interest in  
>> adding the ability to include an AR term and/or a stochastic cycle?
>> 
>> Thanks in advance,
>> 
>> -Roy M.
>> 
>> 
>> 
>> **********************
>> "The contents of this message do not reflect any position of the U.S.  
>> Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division	
>> Southwest Fisheries Science Center
>> 1352 Lighthouse Avenue
>> Pacific Grove, CA 93950-2097
>> 
>> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
>> voice: (831)-648-9029
>> fax: (831)-648-8440
>> www: http://www.pfeg.noaa.gov/
>> 
>> "Old age and treachery will overcome youth and skill."
>> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 
>> 
>


From detlef.steuer at hsu-hamburg.de  Fri Apr 11 16:11:32 2008
From: detlef.steuer at hsu-hamburg.de (Detlef Steuer)
Date: Fri, 11 Apr 2008 16:11:32 +0200
Subject: [Rd] make check fails if called with --without-recommended-packages
Message-ID: <20080411161132.102ee14e@renner>

Hi,

just for information:

On Suse 10.3 x86 
> make check 

fails,
if configure was called with --without-recommended-packages

for the latest beta. 

The problem I stumbled upon is located in utlis. Here comes the relevant part 
of  utils-Ex.Rout.fail in R-2.7.0/tests/Examples

> ### ** Examples
> 
> require(stats)
> glmout <- capture.output(example(glm))
Fehler in .find.package(package, lib.loc, verbose = verbose) : 
  there is no package called 'MASS'
Calls: capture.output ... eval.with.vis -> eval.with.vis -> <Anonymous> -> .find.package
Ausf?hrung angehalten

Seems tests using recommended packages aren't disabled, even if given --without-recommended-packages.

May be it's by design, i.e. make check shall only be run with recommended packages, 
may be it's a bug(let).


Regards
Detlef


From ripley at stats.ox.ac.uk  Fri Apr 11 16:24:23 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Apr 2008 15:24:23 +0100 (BST)
Subject: [Rd] make check fails if called with
 --without-recommended-packages
In-Reply-To: <20080411161132.102ee14e@renner>
References: <20080411161132.102ee14e@renner>
Message-ID: <alpine.LFD.1.00.0804111517490.8367@gannet.stats.ox.ac.uk>

It is by design.  Some tests will fail if you don't have iconv, also.

>From the manual:

   Failures are not necessarily problems as they might be caused by missing
   functionality, but you should look carefully at any reported
   discrepancies.

and that option is not even documented in the manual.

If you build without recommended packages or iconv or readline, you have 
to consciously do so and hence are expected to be aware that you have 
'missing functionality'.


On Fri, 11 Apr 2008, Detlef Steuer wrote:

> Hi,
>
> just for information:
>
> On Suse 10.3 x86
>> make check
>
> fails,
> if configure was called with --without-recommended-packages
>
> for the latest beta.
>
> The problem I stumbled upon is located in utlis. Here comes the relevant part
> of  utils-Ex.Rout.fail in R-2.7.0/tests/Examples
>
>> ### ** Examples
>>
>> require(stats)
>> glmout <- capture.output(example(glm))
> Fehler in .find.package(package, lib.loc, verbose = verbose) :
>  there is no package called 'MASS'
> Calls: capture.output ... eval.with.vis -> eval.with.vis -> <Anonymous> -> .find.package
> Ausf?hrung angehalten
>
> Seems tests using recommended packages aren't disabled, even if given 
> --without-recommended-packages.
>
> May be it's by design, i.e. make check shall only be run with 
> recommended packages, may be it's a bug(let).
>
>
> Regards
> Detlef
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Fri Apr 11 16:40:23 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Apr 2008 15:40:23 +0100 (BST)
Subject: [Rd] R_SHARE_DIR not defined for use in tests/Makefile running
 under Windows
In-Reply-To: <47FA6B5A.5000501@acm.org>
References: <47FA6B5A.5000501@acm.org>
Message-ID: <alpine.LFD.1.00.0804111526010.8803@gannet.stats.ox.ac.uk>

You seem to be confusing environment and make variables.  I think 
'$(R_SHARE_DIR)' is never set by R makefiles (except when building R), but 
may be set by make from an environment variable.

On all (recentish) systems where the share dir is not ${R_HOME}/share, 
${R_SHARE_DIR} is set by the 'R' shell script.  There are such systems -- 
but not under Windows.

So ${R_SHARE_DIR-${R_HOME}/share} is the environment variable you want to 
look at.


On Mon, 7 Apr 2008, Tony Plate wrote:

> The make variable $(R_SHARE_DIR) seems to be available for use in
> tests/Makefile when running under Linux, but not Windows (R-2.6.2, R-2.6.1,
> R-2.7.0 alpha 2008-04-06, under Windows XP 64 bit, built locally for 32 bit).
>
> Is this intentional, or an oversight?  Is it OK to use $(R_HOME)/share
> instead (seems to work OK)?
>
> I notice the following in /src/gnuwin32/front-ends/rcmdfn.c (from R-alpha
> 2008-04-06), which would suggest that the intention was that R_SHARE_DIR
> should be defined... (and I assume it would propagate to to be available in
> a Makefile.)
>
> int rcmdfn (int cmdarg, int argc, char **argv)
> {
>     /* tasks:
>        find R_HOME, set as env variable
>        set R_SHARE_DIR as env variable
>        set PATH to include R_HOME\bin
>        set PERL5LIB to %R_SHARE_DIR%/perl;%Perl5LIB%
>        set TEXINPUTS to %R_SHARE_DIR%/texmf;%TEXINPUTS%
>        set HOME if unset
>        launch %R_HOME%\bin\$*
>      */
>
> -- Tony Plate
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From Roy.Mendelssohn at noaa.gov  Fri Apr 11 16:45:29 2008
From: Roy.Mendelssohn at noaa.gov (Roy Mendelssohn)
Date: Fri, 11 Apr 2008 07:45:29 -0700
Subject: [Rd] StructTS
In-Reply-To: <16627538.post@talk.nabble.com>
References: <DBB4BBF4-5AB5-488C-8108-EB3905317A5C@noaa.gov>
	<16627538.post@talk.nabble.com>
Message-ID: <818803B9-60B8-4C61-BB2F-258D5807917E@noaa.gov>

No I didn't find it, but I assume it is in the main R source.

-Roy

On Apr 11, 2008, at 4:23 AM, Christian_Ivaha wrote:
>
> Hi Roy
>
> Have you managed to find the source code for StructTS after all? I am
> looking for it as well but cant seem to find it, thanks
>
> Chris
>
>
>
> Roy Mendelssohn wrote:
>>
>> I apologize in advance if I picked the wrong list to post this to.  I
>> have made an effort to find the answers to these questions on CRAN,
>> but if they are there, I couldn't find them, and I was going to email
>> the developer of StructTS directly but could not find who that is.
>>
>> I have 2 interrelated questions about StructTS
>>
>> 1.  Where can I obtain the source code for StructTS if I wanted to
>> produce a similar function with an extended capability?
>>
>> 2.  Would the person who developed StructTS have any interest in
>> adding the ability to include an AR term and/or a stochastic cycle?
>>
>> Thanks in advance,
>>
>> -Roy M.
>>
>>
>>
>> **********************
>> "The contents of this message do not reflect any position of the U.S.
>> Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division	
>> Southwest Fisheries Science Center
>> 1352 Lighthouse Avenue
>> Pacific Grove, CA 93950-2097
>>
>> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
>> voice: (831)-648-9029
>> fax: (831)-648-8440
>> www: http://www.pfeg.noaa.gov/
>>
>> "Old age and treachery will overcome youth and skill."
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>
> --  
> View this message in context: http://www.nabble.com/StructTS- 
> tp9857181p16627538.html
> Sent from the R devel mailing list archive at Nabble.com.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

**********************
"The contents of this message do not reflect any position of the U.S.  
Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division	
Southwest Fisheries Science Center
1352 Lighthouse Avenue
Pacific Grove, CA 93950-2097

e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
voice: (831)-648-9029
fax: (831)-648-8440
www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."


From civaha at glam.ac.uk  Fri Apr 11 14:37:24 2008
From: civaha at glam.ac.uk (Ivaha C (AT))
Date: Fri, 11 Apr 2008 13:37:24 +0100
Subject: [Rd] StructTS
In-Reply-To: <47FF5A5F.5040409@stats.uwo.ca>
References: <DBB4BBF4-5AB5-488C-8108-EB3905317A5C@noaa.gov>
	<16627538.post@talk.nabble.com> <47FF5A5F.5040409@stats.uwo.ca>
Message-ID: <0BA7EE4D4646E0409D458D347C508B78044EEB42@MAILSERV1.uni.glam.ac.uk>


Thanks a lot for that!!!

Best Regards,

Christian Ivaha
PhD Student
University of Glamorgan
Faculty of Advanced Technology
Treforest
CF37 1DL


-----Original Message-----
From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
Sent: 11 April 2008 13:33
To: Ivaha C (AT)
Cc: r-devel at r-project.org
Subject: Re: [Rd] StructTS

On 4/11/2008 7:23 AM, Christian_Ivaha wrote:
> Hi Roy
> 
> Have you managed to find the source code for StructTS after all? I am
> looking for it as well but cant seem to find it, thanks

StructTS is in the stats package, which is a base package.  That means 
its source is part of the R source code.  You can find the source of all

base packages in https://svn.r-project.org/R/trunk/src/library.  (This 
is the development branch; if you're looking for a particular version, 
replace trunk with tags/* or branches/*, where the * determines the 
version.)

For example, the soon-to-be-released version 2.7.0 of StructTS would be
in

https://svn.r-project.org/R/branches/R-2-7-branch/src/library/stats/R/St
ructTS.R

Duncan Murdoch

> 
> Chris
> 
> 
> 
> Roy Mendelssohn wrote:
>> 
>> I apologize in advance if I picked the wrong list to post this to.  I

>> have made an effort to find the answers to these questions on CRAN,  
>> but if they are there, I couldn't find them, and I was going to email

>> the developer of StructTS directly but could not find who that is.
>> 
>> I have 2 interrelated questions about StructTS
>> 
>> 1.  Where can I obtain the source code for StructTS if I wanted to  
>> produce a similar function with an extended capability?
>> 
>> 2.  Would the person who developed StructTS have any interest in  
>> adding the ability to include an AR term and/or a stochastic cycle?
>> 
>> Thanks in advance,
>> 
>> -Roy M.
>> 
>> 
>> 
>> **********************
>> "The contents of this message do not reflect any position of the U.S.

>> Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division	
>> Southwest Fisheries Science Center
>> 1352 Lighthouse Avenue
>> Pacific Grove, CA 93950-2097
>> 
>> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
>> voice: (831)-648-9029
>> fax: (831)-648-8440
>> www: http://www.pfeg.noaa.gov/
>> 
>> "Old age and treachery will overcome youth and skill."
>> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 
>> 
> 


From mike.prager at noaa.gov  Fri Apr 11 16:30:03 2008
From: mike.prager at noaa.gov (mike.prager at noaa.gov)
Date: Fri, 11 Apr 2008 16:30:03 +0200 (CEST)
Subject: [Rd] Documentation: pls add xref from "sum" to "rowSums" (PR#11145)
Message-ID: <20080411143003.AFF362834611@mail.pubhealth.ku.dk>

Full_Name: Mike.Prager
Version: 2.6.2
OS: Windows XP Prof + SP2
Submission from: (NULL) (192.154.40.252)


Please add a cross-reference in R help files from "sum" to "rowSums" and also
from "mean" to "rowMeans".

Reasons: (1) New users may not be aware of rowSums, etc., and the simple
functions will be their points of entry to the help files.  (2) Even old users
can't remember everything (or sometimes, much of anything).

Thanks for considering it!


From rvaradhan at jhmi.edu  Fri Apr 11 16:33:13 2008
From: rvaradhan at jhmi.edu (Ravi Varadhan)
Date: Fri, 11 Apr 2008 10:33:13 -0400
Subject: [Rd] Adding a Matrix Exponentiation Operator
In-Reply-To: <18423.48201.828727.639538@cmath-5.math.ethz.ch>
References: <3f446aa30804050644y2fa4cc77l5c22dabc80fe4cec@mail.gmail.com>
	<18423.48201.828727.639538@cmath-5.math.ethz.ch>
Message-ID: <001201c89be0$f960f640$7c94100a@win.ad.jhu.edu>

Dear Martin et al.,

Paul Gilbert forwarded me your discussions on this topic.

I have been interested in computing f(A), where A is any square matrix and
f(.) is an analytic function whose Taylor-McLaurin series has a finite
radius of convergence.  There exist special algorithms when f(.) is
square-root, exponential, logarithm (note: the TM series for this doesn't
have a finite-radius of convergence), sine, and cosine.  The easiest way to
handle a general f(.) is via spectral decomposition, but that is limited to
diagonalizable matrices, and is also ill-conditioned.  A paper by Davies and
Higham (SIAM 2003) provide an algorithm, the Schur-Parlett method, for doing
this.  I think this is the state-of-the-art for evaluating f(A).  Higham
also has a recent SIAM book (2008) on computing f(A).  There are matlab
codes provided with that, but it doesn't have the algorithm discussed in his
(2003) paper.  I asked him for the code, but he was unable to share it with
me.  I suspect this may be due to proprietary issues since this is
implemented in the latest Matlab release.  However, we should be able to do
this in R based on the algorithmic description in is (2003) paper.  

Would this be of interest to the R group?

Best,
Ravi.

----------------------------------------------------------------------------
-------

Ravi Varadhan, Ph.D.

Assistant Professor, The Center on Aging and Health

Division of Geriatric Medicine and Gerontology 

Johns Hopkins University

Ph: (410) 502-2619

Fax: (410) 614-9625

Email: rvaradhan at jhmi.edu

Webpage:  http://www.jhsph.edu/agingandhealth/People/Faculty/Varadhan.html

 

----------------------------------------------------------------------------
--------


-----Original Message-----
From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org]
On Behalf Of Martin Maechler
Sent: Saturday, April 05, 2008 1:52 PM
To: Rory Winston
Cc: r-devel at r-project.org
Subject: Re: [Rd] Adding a Matrix Exponentiation Operator

>>>>> "RW" == Rory Winston <rory.winston at gmail.com>
>>>>>     on Sat, 5 Apr 2008 14:44:44 +0100 writes:

    RW> Hi all I recently started to write a matrix
    RW> exponentiation operator for R (by adding a new operator
    RW> definition to names.c, and adding the following code to
    RW> arrays.c). It is not finished yet, but I would like to
    RW> solicit some comments, as there are a few areas of R's
    RW> internals that I am still feeling my way around.

    RW> Firstly:

    RW> 1) Would there be interest in adding a new operator %^%
    RW> that performs the matrix equivalent of the scalar ^
    RW> operator? 

Yes. A few weeks ago, I had investigated a bit about this and
found several R-help/R-devel postings with code proposals
and then about half dozen CRAN packages with diverse
implementations of the matrix power (I say "power" very much on
purpose, in order to not confuse it with the matrix exponential
which is another much more interesting topic, also recently (+-
two months?) talked about.

Consequently I made a few timing tests and found that indeed,
the "smart matrix power" {computing m^2, m^4, ... and only those
multiplications needed} as you find it in many good books about
algorithms and e.g. also in *the* standard Golub & Van Loan
"Matrix Computation" is better than "the eigen" method even for
large powers.

matPower <- function(X,n)
## Function to calculate the n-th power of a matrix X
{
    if(n != round(n)) {
        n <- round(n)
        warning("rounding exponent `n' to", n)
    }
    if(n == 0)
        return(diag(nrow = nrow(X)))
    n <- n - 1
    phi <- X
    ## pot <- X # the first power of the matrix.
    while (n > 0)
    {
        if (n %% 2)
            phi <- phi %*% X
        if (n == 1) break
        n <- n %/% 2
        X <- X %*% X
    }
    return(phi)
}

"Simultaneously" people where looking at the matrix exponential
expm() in the Matrix package,
and some of us had consequently started the 'expm' project on
R-forge.
The main goal there has been to investigate several algorithms
for the matrix exponential, notably the one buggy implementation
(in the 'Matrix' package until a couple of weeks ago, the bug
 stemming from 'octave' implementation).
The authors of 'actuar', Vincent and Christophe, notably also
had code for the matrix *power* in a C (building on BLAS) and I
had added an R-interface '%^%'  there as well.

Yes, with the goal to move that (not the matrix exponential yet)
into standard R.  
Even though it's not used so often (in percentage of all uses of
R), it's simple to *right*, and I have seen very many versions
of the matrix power that were much slower / inaccurate / ...
such that a reference implementation seems to be called for.

So, please consider
    
    install.packages("expm",repos="http://R-Forge.R-project.org")

-- but only from tomorrow for Windows (which installs a
   pre-compiled package), since I found that we had accidentally
   broken the package trivially by small changes two weeks ago.

and then

    library(expm)
    ?%^%


Best regards,
Martin Maechler, ETH Zurich




    RW> operator? I am implicitly assuming that the benefits of
    RW> a native exponentiation routine for Markov chain
    RW> evaluation or function generation would outstrip that of
    RW> an R solution. Based on my tests so far (comparing it to
    RW> a couple of different pure R versions) it does, but I
    RW> still there is much room for optimization in my method.
    RW> 2) Regarding the code below: Is there a better way to do
    RW> the matrix multiplication? I am creating quite a few
    RW> copies for this implementation of exponentiation by
    RW> squaring. Is there a way to cut down on the number of
    RW> copies I am making here (I am assuming that the lhs and
    RW> rhs of matprod() must be different instances).

    RW> Any feedback appreciated !  Thanks Rory

    RW> <snip>

    RW> /* Convenience function */ static void
    RW> copyMatrixData(SEXP a, SEXP b, int nrows, int ncols, int
    RW> mode) { for (int i=0; i < ncols; ++i) for (int j=0; j <
    RW> nrows; ++j) REAL(b)[i * nrows + j] = REAL(a)[i * nrows +
    RW> j]; }

    RW> SEXP do_matexp(SEXP call, SEXP op, SEXP args, SEXP rho)
    RW> { int nrows, ncols; SEXP matrix, tmp, dims, dims2; SEXP
    RW> x, y, x_, x__; int i,j,e,mode;

    RW>     // Still need to fix full complex support mode =
    RW> isComplex(CAR(args)) ? CPLXSXP : REALSXP;

    RW>     SETCAR(args, coerceVector(CAR(args), mode)); x =
    RW> CAR(args); y = CADR(args);

    RW>     dims = getAttrib(x, R_DimSymbol); nrows =
    RW> INTEGER(dims)[0]; ncols = INTEGER(dims)[1];


    RW>     if (nrows != ncols) error(_("can only raise square
    RW> matrix to power"));

    RW>     if (!isNumeric(y)) error(_("exponent must be a
    RW> scalar integer"));

    RW>     e = asInteger(y);

    RW>     if (e < -1) error(_("exponent must be >= -1")); else
    RW> if (e == 1) return x;

    RW>     else if (e == -1) { /* return matrix inverse via
    RW> solve() */ SEXP p1, p2, inv; PROTECT(p1 = p2 =
    RW> allocList(2)); SET_TYPEOF(p1, LANGSXP); CAR(p2) =
    RW> install("solve.default"); p2 = CDR(p2); CAR(p2) = x; inv
    RW> = eval(p1, rho); UNPROTECT(1); return inv; }

    RW>     PROTECT(matrix = allocVector(mode, nrows * ncols));
    RW> PROTECT(tmp = allocVector(mode, nrows * ncols));
    RW> PROTECT(x_ = allocVector(mode, nrows * ncols));
    RW> PROTECT(x__ = allocVector(mode, nrows * ncols));

    RW>     copyMatrixData(x, x_, nrows, ncols, mode);

    RW>     // Initialize matrix to identity matrix // Set x[i *
    RW> ncols + i] = 1 for (i = 0; i < ncols*nrows; i++)
    RW> REAL(matrix)[i] = ((i % (ncols+1) == 0) ? 1 : 0);

    RW>     if (e == 0) { ; // return identity matrix } else
    RW> while (e > 0) { if (e & 1) { if (mode == REALSXP)
    RW> matprod(REAL(matrix), nrows, ncols, REAL(x_), nrows,
    RW> ncols, REAL(tmp)); else cmatprod(COMPLEX(tmp), nrows,
    RW> ncols, COMPLEX(x_), nrows, ncols, COMPLEX(matrix));

    RW>             copyMatrixData(tmp, matrix, nrows, ncols,
    RW> mode); e--; }

    RW>         if (mode == REALSXP) matprod(REAL(x_), nrows,
    RW> ncols, REAL(x_), nrows, ncols, REAL(x__)); else
    RW> cmatprod(COMPLEX(x_), nrows, ncols, COMPLEX(x_), nrows,
    RW> ncols, COMPLEX(x__));

    RW>         copyMatrixData(x__, x_, nrows, ncols, mode); e
    RW> /= 2; }

    RW>     PROTECT(dims2 = allocVector(INTSXP, 2));
    RW> INTEGER(dims2)[0] = nrows; INTEGER(dims2)[1] = ncols;
    RW> setAttrib(matrix, R_DimSymbol, dims2);

    RW>     UNPROTECT(5); return matrix; }

    RW> 	[[alternative HTML version deleted]]

    RW> ______________________________________________
    RW> R-devel at r-project.org mailing list
    RW> https://stat.ethz.ch/mailman/listinfo/r-devel

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel


From tplate at acm.org  Fri Apr 11 21:33:21 2008
From: tplate at acm.org (Tony Plate)
Date: Fri, 11 Apr 2008 13:33:21 -0600
Subject: [Rd] R_SHARE_DIR not defined for use in tests/Makefile running
 under Windows
In-Reply-To: <alpine.LFD.1.00.0804111526010.8803@gannet.stats.ox.ac.uk>
References: <47FA6B5A.5000501@acm.org>
	<alpine.LFD.1.00.0804111526010.8803@gannet.stats.ox.ac.uk>
Message-ID: <47FFBD01.6050902@acm.org>

Ok, thanks for the info.

The reason I'm asking about this is that I'm trying to eliminate reasons for having a Makefile.win to accompany a Makefile in the tests directory of a package.  I guess I can have <pkg>/tests/Makefile conditionally set R_SHARE_DIR to $(R_HOME)/share if it is undefined.  (aside: where can ${R_SHARE_DIR-${R_HOME}/share} be used? -- I couldn't get that syntax to do anything useful in gnu make v 3.79 from the R toolset for Windows.)

It still seem that src/gnuwin32/front-ends/rcmdfn.c:rcmdfn() is not completing the tasks spelled out in the comments at the top of the function:
>>     /* tasks:
>>        find R_HOME, set as env variable
>>        set R_SHARE_DIR as env variable

Further down in rcmdfn() there is the code:
	/* currently used by Rd2dvi and by perl Vars.pm (with default) */
	strcpy(RSHARE, "R_START_DIR=");
	strcat(RSHARE, RHome); strcat(RSHARE, "/share");
	putenv(RSHARE);

However, neither $R_HOME/src/scripts/Rd2dvi nor $R_HOME/share/perl/R/Vars.pm refer to the env var R_START_DIR, though they do use R_SHARE_DIR (and no other files in the entire R source tree apart from rcmdfn.c contain the string R_START_DIR, AFAICS).  So, is this just a simple typo of having R_START_DIR instead of R_SHARE_DIR in src/gnuwin32/front-ends/rcmdfn.c?

On the topic of make variables vs environment variables, don't variables in the environment become make variables?  This is what the gnu make documentation says: (http://www.gnu.org/software/make/manual/make.html#Environment)
6.9 Variables from the Environment
... Every environment variable that make sees when it starts up is transformed into a make variable with the same name and value...

So, is there any difference between $(X) and ${X} (parenthesis vs braces) in variable references in makefiles? I see in a different thread that Prof Brian Ripley states (in the context of makefiles) "$(MYVAR) is a make variable, and ${MYVAR} is an environment variable" ("Problem with Makefile.win and environment variable", 2008/03/21), but AFAICS, the gnu make documentation suggests these can be used interchangeably (http://www.gnu.org/software/make/manual/make.html#Reference).  And, is it ok to assume that the 'make' used for running tests will be a "gnu make", or is that a dangerous assumption (and the answer to my question above)?

-- Tony Plate



Prof Brian Ripley wrote:
> You seem to be confusing environment and make variables.  I think 
> '$(R_SHARE_DIR)' is never set by R makefiles (except when building R), 
> but may be set by make from an environment variable.
> 
> On all (recentish) systems where the share dir is not ${R_HOME}/share, 
> ${R_SHARE_DIR} is set by the 'R' shell script.  There are such systems 
> -- but not under Windows.
> 
> So ${R_SHARE_DIR-${R_HOME}/share} is the environment variable you want 
> to look at.
> 
> 
> On Mon, 7 Apr 2008, Tony Plate wrote:
> 
>> The make variable $(R_SHARE_DIR) seems to be available for use in
>> tests/Makefile when running under Linux, but not Windows (R-2.6.2, 
>> R-2.6.1,
>> R-2.7.0 alpha 2008-04-06, under Windows XP 64 bit, built locally for 
>> 32 bit).
>>
>> Is this intentional, or an oversight?  Is it OK to use $(R_HOME)/share
>> instead (seems to work OK)?
>>
>> I notice the following in /src/gnuwin32/front-ends/rcmdfn.c (from R-alpha
>> 2008-04-06), which would suggest that the intention was that R_SHARE_DIR
>> should be defined... (and I assume it would propagate to to be 
>> available in
>> a Makefile.)
>>
>> int rcmdfn (int cmdarg, int argc, char **argv)
>> {
>>     /* tasks:
>>        find R_HOME, set as env variable
>>        set R_SHARE_DIR as env variable
>>        set PATH to include R_HOME\bin
>>        set PERL5LIB to %R_SHARE_DIR%/perl;%Perl5LIB%
>>        set TEXINPUTS to %R_SHARE_DIR%/texmf;%TEXINPUTS%
>>        set HOME if unset
>>        launch %R_HOME%\bin\$*
>>      */
>>
>> -- Tony Plate
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>


From pearman at wsl.ch  Sat Apr 12 09:50:31 2008
From: pearman at wsl.ch (Peter Pearman)
Date: Sat, 12 Apr 2008 09:50:31 +0200
Subject: [Rd] problem with Rmpi 0.5-5 and openmpi
In-Reply-To: <Pine.LNX.4.64.0804081332330.13353@nokomis.stat.uiowa.edu>
References: <47FA1901.10904@wsl.ch>
	<Pine.LNX.4.64.0804081332330.13353@nokomis.stat.uiowa.edu>
Message-ID: <480069C7.2020709@wsl.ch>

Luke, Brian,

Thank you for your suggestions.  Since we were using 0.5-5, the patch 
had already been incorporated.  It turned out that we had a couple of 
problems.  The weird one actually lay in the configuration of the 
cluster.  While we believed the entire cluster had Myrinet, actually the 
master does not.  Why? I don't know, we didn't configure it.  But having 
configured openmpi to use Myrinet some files openmpi was looking for 
were obviously not there.  By logging onto a slave node and using it as 
master, everything works fine.

We have not tested how things really work with Myrinet, Luke, but if we 
don't post to the list again about it, you can assume that it works ok now.

Again, thanks for your suggestions.

Best,

Peter

Luke Tierney wrote:
> You may want to be a little careful about using R and MPI with
> Myrinet. We tried to get that to work around 5 years ago and found it
> more trouble than it was worth (we ended up sending the Myrinet
> equipment back and getting gigabit ethernet instead).
> 
> As I recall, the problem at the time was that the Myrinet libraries
> used their own malloc (or assumed that their own malloc was used -- I
> don't recall which), whereas a standard R build would use the system
> malloc.  The resulting combination would work for small allocations.
> But for large allocations allocated by R using the standard malloc
> (large meaning allocated by memory mapping) the Myrinet internals
> would assume these allocations had been allocated by their malloc and
> start doing things with them that lead to crashes.  I'm fuzzy on the
> details but this should give you an idea of what to look out for.
> 
> Best,
> 
> luke
> 
> On Mon, 7 Apr 2008, Peter Pearman wrote:
> 
>> Dear knowledgeable experts :-),
>>
>> I am trying to get openmpi, Rmpi and SNOW running on a Myrinet/GM
>> cluster.  I'm not an IT expert, but I surely could use a working
>> installation of Rmpi and SNOW.
>>
>> I try to load the Rmpi library and get the following:
>>
>> > library(Rmpi)
>> [master:07230] mca: base: component_find: unable to open osc pt2pt: file
>> not found (ignored)
>> -------------------------------------------------------------------------- 
>>
>> [0,0,0]: Myrinet/GM on host master was unable to find any NICs.
>> Another transport will be used instead, although this may result in
>> lower performance.
>>
>> Then if I start a cluster, only nodes on Master can be seen and initiated
>>
>> Here is environment, configuration and installation information:
>>
>>
>> # configuration of openmpi
>> ./configure --prefix=/opt/openmpi --with-gm=/opt/gm/2.1.21/2.6.11-21smp
>> --with-sge=/opt/sge --disable-mpi-f90
>>
>> #installation of Rmpi
>> /usr/local/bin/R CMD INSTALL Rmpi_0.5-5.tar.gz \
>> --configure-args=--with-mpi=/opt/openmpi
>>
>> R version 2.6.1 (2007-11-26)
>>
>> #master environment
>> pearman at master:~> env
>> LESSKEY=/etc/lesskey.bin
>> NNTPSERVER=news
>> INFODIR=/usr/local/info:/usr/share/info:/usr/info
>> MANPATH=/opt/sge/man:/usr/local/man:/usr/local/share/man:/usr/share/man:/usr/X11R6/man:/opt/gnome/share/man:/opt/c3-4/man 
>>
>> HOSTNAME=master
>> GNOME2_PATH=/usr/local:/opt/gnome:/usr
>> XKEYSYMDB=/usr/X11R6/lib/X11/XKeysymDB
>> HOST=master
>> TERM=xterm
>> SHELL=/bin/bash
>> PROFILEREAD=true
>> HISTSIZE=1000
>> SSH_CLIENT=::ffff:10.15.1.179 51565 22
>> QTDIR=/usr/lib/qt3
>> OLDPWD=/opt/openmpi/bin
>> SSH_TTY=/dev/pts/6
>> GROFF_NO_SGR=yes
>> JRE_HOME=/usr/lib/jvm/java/jre
>> USER=pearman
>> LS_COLORS=no=00:fi=00:di=01;34:ln=00;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=4 
>>
>> 0;31:ex=00;32:*.cmd=00;32:*.exe=01;32:*.com=01;32:*.bat=01;32:*.btm=01;32:*.dll=01;32:*.tar=00; 
>>
>> 31:*.tbz=00;31:*.tgz=00;31:*.rpm=00;31:*.deb=00;31:*.arj=00;31:*.taz=00;31:*.lzh=00;31:*.zip=00 
>>
>> ;31:*.zoo=00;31:*.z=00;31:*.Z=00;31:*.gz=00;31:*.bz2=00;31:*.tb2=00;31:*.tz2=00;31:*.tbz2=00;31 
>>
>> :*.avi=01;35:*.bmp=01;35:*.fli=01;35:*.gif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mng=01;35:*.mov=01; 
>>
>> 35:*.mpg=01;35:*.pcx=01;35:*.pbm=01;35:*.pgm=01;35:*.png=01;35:*.ppm=01;35:*.tga=01;35:*.tif=01 
>>
>> ;35:*.xbm=01;35:*.xpm=01;35:*.dl=01;35:*.gl=01;35:*.aiff=00;32:*.au=00;32:*.mid=00;32:*.mp3=00; 
>>
>> 32:*.ogg=00;32:*.voc=00;32:*.wav=00;32:
>> LD_LIBRARY_PATH=/opt/openmpi/lib:/opt/sge/lib/lx24-amd64
>> XNLSPATH=/usr/X11R6/lib/X11/nls
>> HOSTTYPE=x86_64
>> PAGER=less
>> XDG_CONFIG_DIRS=/usr/local/etc/xdg/:/etc/xdg/:/etc/opt/gnome/xdg/
>> C3_PATH=/opt/c3-4
>> MINICOM=-c on
>> MAIL=/var/mail/pearman
>> PATH=/opt/openmpi/bin:/opt/sge/bin/lx24-amd64:/opt/mpich/1.2.6..14b/x86_64/gcc//bin:/opt/gm/2.1 
>>
>> .21/2.6.11-21smp/bin:/opt/c3-4:/home/pearman/bin:/usr/local/bin:/usr/bin:/usr/X11R6/bin:/bin:/u 
>>
>> sr/games:/opt/gnome/bin:/opt/kde3/bin:/opt/pathscale/bin
>> CPU=x86_64
>> JAVA_BINDIR=/usr/lib/jvm/java/bin
>> INPUTRC=/etc/inputrc
>> PWD=/home/pearman
>> JAVA_HOME=/usr/lib/jvm/java
>> LANG=en_US.UTF-8
>> PYTHONSTARTUP=/etc/pythonstart
>> SGE_ROOT=/opt/sge
>> SDK_HOME=/usr/lib/jvm/java
>> C3_RSH=ssh
>> TEXINPUTS=:/home/pearman/.TeX:/usr/share/doc/.TeX:/usr/doc/.TeX
>> JDK_HOME=/usr/lib/jvm/java
>> SHLVL=1
>> HOME=/home/pearman
>> LESS_ADVANCED_PREPROCESSOR=no
>> OSTYPE=linux
>> LS_OPTIONS=-N --color=tty -T 0
>> XCURSOR_THEME=crystalwhite
>> WINDOWMANAGER=/usr/X11R6/bin/kde
>> GTK_PATH=/usr/local/lib/gtk-2.0:/opt/gnome/lib/gtk-2.0:/usr/lib/gtk-2.0
>> GM_PATH=/opt/gm/2.1.21/2.6.11-21smp
>> G_FILENAME_ENCODING=@locale,UTF-8,ISO-8859-15,CP1252
>> LESS=-M -I
>> MACHTYPE=x86_64-suse-linux
>> LOGNAME=pearman
>> GTK_PATH64=/usr/local/lib64/gtk-2.0:/opt/gnome/lib64/gtk-2.0:/usr/lib64/gtk-2.0 
>>
>> CVS_RSH=ssh
>> XDG_DATA_DIRS=/usr/local/share/:/usr/share/:/etc/opt/kde3/share/:/opt/kde3/share/:/opt/gnome/sh 
>>
>> are/
>> MPICH_PATH=/opt/mpich/1.2.6..14b/x86_64/gcc/
>> ACLOCAL_FLAGS=-I /opt/gnome/share/aclocal
>> SSH_CONNECTION=::ffff:10.15.1.179 51565 ::ffff:10.30.1.15 22
>> PKG_CONFIG_PATH=/opt/gnome/lib64/pkgconfig
>> LESSOPEN=lessopen.sh %s
>> INFOPATH=/usr/local/info:/usr/share/info:/usr/info:/opt/gnome/share/info
>> LESSCLOSE=lessclose.sh %s %s
>> G_BROKEN_FILENAMES=1
>> JAVA_ROOT=/usr/lib/jvm/java
>> COLORTERM=1
>> _=/usr/bin/env
>>
>>
>> pearman at master:~> which mpirun
>> /opt/openmpi/bin/mpirun
>>
>> Also note:  mpich is also installed and is also in the PATH, after 
>> openmpi
>>
>> BTW.  I have seen a number of posts concerning the pt2pt error message.
>>  Still, I was unable to understand how they might apply to fixing the
>> current problem.
>>
>> Help would be greatly appreciated.
>>
>> Peter
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 

-- 
Peter B. Pearman
Land Use Dynamics
Swiss Federal Research Institute WSL
Z?rcherstrasse 111
CH-8903 Birmensdorf, Switzerland

pearman at wsl.ch
++41 (0)44 739 25 24


From dsstoffer at gmail.com  Sat Apr 12 03:08:37 2008
From: dsstoffer at gmail.com (David Stoffer)
Date: Fri, 11 Apr 2008 18:08:37 -0700 (PDT)
Subject: [Rd] StructTS
In-Reply-To: <DBB4BBF4-5AB5-488C-8108-EB3905317A5C@noaa.gov>
References: <DBB4BBF4-5AB5-488C-8108-EB3905317A5C@noaa.gov>
Message-ID: <16642090.post@talk.nabble.com>


Hey Roy ... it's been awhile.  We have an example of structural
equation modeling in our text in section 6.5. There's also an example
and the R code for the example is here:
http://www.stat.pitt.edu/stoffer/tsa2/chap6.htm
Scroll down to "Code to do Example 6.10 via BFGS"

The scripts are written from scratch so it's easy to see what's
go on (I hope) and you can alter the code to suit your needs.
Feel free to email me if you want to discuss the problem.



Roy Mendelssohn wrote:
> 
> I apologize in advance if I picked the wrong list to post this to.  I  
> have made an effort to find the answers to these questions on CRAN,  
> but if they are there, I couldn't find them, and I was going to email  
> the developer of StructTS directly but could not find who that is.
> 
> I have 2 interrelated questions about StructTS
> 
> 1.  Where can I obtain the source code for StructTS if I wanted to  
> produce a similar function with an extended capability?
> 
> 2.  Would the person who developed StructTS have any interest in  
> adding the ability to include an AR term and/or a stochastic cycle?
> 
> Thanks in advance,
> 
> -Roy M.
> 
> 
> 
> **********************
> "The contents of this message do not reflect any position of the U.S.  
> Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division	
> Southwest Fisheries Science Center
> 1352 Lighthouse Avenue
> Pacific Grove, CA 93950-2097
> 
> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
> voice: (831)-648-9029
> fax: (831)-648-8440
> www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 


-----
The power of accurate observation is commonly called cynicism 
by those who have not got it.  George Bernard Shaw
-- 
View this message in context: http://www.nabble.com/StructTS-tp9857181p16642090.html
Sent from the R devel mailing list archive at Nabble.com.


From gavin.simpson at ucl.ac.uk  Sat Apr 12 17:45:37 2008
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Sat, 12 Apr 2008 16:45:37 +0100
Subject: [Rd] 2.7.0 beta (rev 45263) failing 'make vignettes'
Message-ID: <1208015137.3361.21.camel@graptoleberis.geog.ucl.ac.uk>

Dear list,

On Fedora 8 I downloaded the beta version of R via svn. make and make
check-all worked fine, but make vignettes is failing with:

make[1]: Entering directory `/home/gavin/R/2-7-patched/build/src/library'
building/updating vignettes for package 'grid' ...
processing 'displaylist.Snw'
/usr/bin/texi2dvi: pdflatex exited with bad status, quitting.
Error in texi2dvi(texfile, pdf = TRUE, quiet = TRUE) : 
  running 'texi2dvi' on 'displaylist.tex' failed
Calls: <Anonymous> -> texi2dvi
Execution halted
make[1]: Leaving directory `/home/gavin/R/2-7-patched/build/src/library'

If I attempt to manually use texi2dvi --pdf on that file I see that
texi2dvi cannot find Sweave.sty:

/usr/bin/texi2dvi: Running pdflatex --file-line-error '././src/library/.vignettes/displaylist.tex' ...
This is pdfeTeXk, Version 3.141592-1.21a-2.2 (Web2C 7.5.4)
 file:line:error style messages enabled.
entering extended mode
(././src/library/.vignettes/displaylist.tex
LaTeX2e <2003/12/01>
Babel <v3.8d> and hyphenation patterns for american, french, german, ngerman, b
ahasa, basque, bulgarian, catalan, croatian, czech, danish, dutch, esperanto, e
stonian, finnish, greek, icelandic, irish, italian, latin, magyar, norsk, polis
h, portuges, romanian, russian, serbian, slovak, slovene, spanish, swedish, tur
kish, ukrainian, nohyphenation, loaded.
(/usr/share/texmf/tex/latex/base/article.cls
Document Class: article 2004/02/16 v1.4f Standard LaTeX document class
(/usr/share/texmf/tex/latex/base/size10.clo))

! LaTeX Error: File `Sweave.sty' not found.

At this point if I tell texi2dvi where to find Sweave.sty, the vignettes
builds.

Is this intentional and I have not done something I should have? (I did
check the relevant section of the installation manual.) Past versions
have built vignettes correctly.

Version Info Below:
> version
               _                                       
platform       i686-pc-linux-gnu                       
arch           i686                                    
os             linux-gnu                               
system         i686, linux-gnu                         
status         beta                                    
major          2                                       
minor          7.0                                     
year           2008                                    
month          04                                      
day            12                                      
svn rev        45263                                   
language       R                                       
version.string R version 2.7.0 beta (2008-04-12 r45263)

All the best,

G
-- 
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
 Dr. Gavin Simpson             [t] +44 (0)20 7679 0522
 ECRC, UCL Geography,          [f] +44 (0)20 7679 0565
 Pearson Building,             [e] gavin.simpsonATNOSPAMucl.ac.uk
 Gower Street, London          [w] http://www.ucl.ac.uk/~ucfagls/
 UK. WC1E 6BT.                 [w] http://www.freshwaters.org.uk
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%


From martinezbula at earthlink.net  Sat Apr 12 18:47:49 2008
From: martinezbula at earthlink.net (carlos martinez)
Date: Sat, 12 Apr 2008 12:47:49 -0400
Subject: [Rd] HOW TO AVOID LOOPS
Message-ID: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080412/91db3736/attachment.pl 

From ripley at stats.ox.ac.uk  Sat Apr 12 18:48:44 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 12 Apr 2008 17:48:44 +0100 (BST)
Subject: [Rd] 2.7.0 beta (rev 45263) failing 'make vignettes'
In-Reply-To: <1208015137.3361.21.camel@graptoleberis.geog.ucl.ac.uk>
References: <1208015137.3361.21.camel@graptoleberis.geog.ucl.ac.uk>
Message-ID: <alpine.LFD.1.00.0804121746470.26518@auk.stats.ox.ac.uk>

On Sat, 12 Apr 2008, Gavin Simpson wrote:

> Dear list,
>
> On Fedora 8 I downloaded the beta version of R via svn. make and make
> check-all worked fine, but make vignettes is failing with:
>
> make[1]: Entering directory `/home/gavin/R/2-7-patched/build/src/library'
> building/updating vignettes for package 'grid' ...
> processing 'displaylist.Snw'
> /usr/bin/texi2dvi: pdflatex exited with bad status, quitting.
> Error in texi2dvi(texfile, pdf = TRUE, quiet = TRUE) :
>  running 'texi2dvi' on 'displaylist.tex' failed
> Calls: <Anonymous> -> texi2dvi
> Execution halted
> make[1]: Leaving directory `/home/gavin/R/2-7-patched/build/src/library'
>
> If I attempt to manually use texi2dvi --pdf on that file I see that
> texi2dvi cannot find Sweave.sty:

That is intentional -- it should be setting TEXINPUTS.  But there was an 
error in the setting in that version, corrected in r45269 (I hope).

BDR

>
> /usr/bin/texi2dvi: Running pdflatex --file-line-error '././src/library/.vignettes/displaylist.tex' ...
> This is pdfeTeXk, Version 3.141592-1.21a-2.2 (Web2C 7.5.4)
> file:line:error style messages enabled.
> entering extended mode
> (././src/library/.vignettes/displaylist.tex
> LaTeX2e <2003/12/01>
> Babel <v3.8d> and hyphenation patterns for american, french, german, ngerman, b
> ahasa, basque, bulgarian, catalan, croatian, czech, danish, dutch, esperanto, e
> stonian, finnish, greek, icelandic, irish, italian, latin, magyar, norsk, polis
> h, portuges, romanian, russian, serbian, slovak, slovene, spanish, swedish, tur
> kish, ukrainian, nohyphenation, loaded.
> (/usr/share/texmf/tex/latex/base/article.cls
> Document Class: article 2004/02/16 v1.4f Standard LaTeX document class
> (/usr/share/texmf/tex/latex/base/size10.clo))
>
> ! LaTeX Error: File `Sweave.sty' not found.
>
> At this point if I tell texi2dvi where to find Sweave.sty, the vignettes
> builds.
>
> Is this intentional and I have not done something I should have? (I did
> check the relevant section of the installation manual.) Past versions
> have built vignettes correctly.
>
> Version Info Below:
>> version
>               _
> platform       i686-pc-linux-gnu
> arch           i686
> os             linux-gnu
> system         i686, linux-gnu
> status         beta
> major          2
> minor          7.0
> year           2008
> month          04
> day            12
> svn rev        45263
> language       R
> version.string R version 2.7.0 beta (2008-04-12 r45263)
>
> All the best,
>
> G
> --
> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
> Dr. Gavin Simpson             [t] +44 (0)20 7679 0522
> ECRC, UCL Geography,          [f] +44 (0)20 7679 0565
> Pearson Building,             [e] gavin.simpsonATNOSPAMucl.ac.uk
> Gower Street, London          [w] http://www.ucl.ac.uk/~ucfagls/
> UK. WC1E 6BT.                 [w] http://www.freshwaters.org.uk
> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From vincent.goulet at act.ulaval.ca  Sat Apr 12 19:30:13 2008
From: vincent.goulet at act.ulaval.ca (Vincent Goulet)
Date: Sat, 12 Apr 2008 13:30:13 -0400
Subject: [Rd] HOW TO AVOID LOOPS
In-Reply-To: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
Message-ID: <B57FC282-F852-432D-942F-458FA4E00ABB@act.ulaval.ca>

Le sam. 12 avr. ? 12:47, carlos martinez a ?crit :
>> Looking for a simple, effective a minimum execution time solution.
>>
>> For a vector as:
>>
>> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>>
> To transform it to the following vector without using any loops:
>
>> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
>>
> Appreciate any suggetions.

This does it -- but it is admittedly ugly:

 > x <- c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
 > ind <- which(x == 0)
 > unlist(lapply(mapply(seq, ind, c(tail(ind, -1) - 1, length(x))),  
function(y) cumsum(x[y])))
  [1] 0 0 1 0 1 2 3 0 0 1 2 0 1 0 1 2 3 4 5 6

(The mapply() part is used to create the indexes of each sequence in x  
starting with a 0. The rest is then straightforward.)

HTH

---
   Vincent Goulet, Associate Professor
   ?cole d'actuariat
   Universit? Laval, Qu?bec
   Vincent.Goulet at act.ulaval.ca   http://vgoulet.act.ulaval.ca


From gavin.simpson at ucl.ac.uk  Sat Apr 12 19:33:08 2008
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Sat, 12 Apr 2008 18:33:08 +0100
Subject: [Rd] 2.7.0 beta (rev 45263) failing 'make vignettes'
In-Reply-To: <alpine.LFD.1.00.0804121746470.26518@auk.stats.ox.ac.uk>
References: <1208015137.3361.21.camel@graptoleberis.geog.ucl.ac.uk>
	<alpine.LFD.1.00.0804121746470.26518@auk.stats.ox.ac.uk>
Message-ID: <1208021588.3361.23.camel@graptoleberis.geog.ucl.ac.uk>

On Sat, 2008-04-12 at 17:48 +0100, Prof Brian Ripley wrote:
> On Sat, 12 Apr 2008, Gavin Simpson wrote:
> 
> > Dear list,
> >
> > On Fedora 8 I downloaded the beta version of R via svn. make and make
> > check-all worked fine, but make vignettes is failing with:
> >
> > make[1]: Entering directory `/home/gavin/R/2-7-patched/build/src/library'
> > building/updating vignettes for package 'grid' ...
> > processing 'displaylist.Snw'
> > /usr/bin/texi2dvi: pdflatex exited with bad status, quitting.
> > Error in texi2dvi(texfile, pdf = TRUE, quiet = TRUE) :
> >  running 'texi2dvi' on 'displaylist.tex' failed
> > Calls: <Anonymous> -> texi2dvi
> > Execution halted
> > make[1]: Leaving directory `/home/gavin/R/2-7-patched/build/src/library'
> >
> > If I attempt to manually use texi2dvi --pdf on that file I see that
> > texi2dvi cannot find Sweave.sty:
> 
> That is intentional -- it should be setting TEXINPUTS.  But there was an 
> error in the setting in that version, corrected in r45269 (I hope).

Thanks Prof. Ripley, r45271 working fine for me.

All the best,

G

> 
> BDR
> 
> >
> > /usr/bin/texi2dvi: Running pdflatex --file-line-error '././src/library/.vignettes/displaylist.tex' ...
> > This is pdfeTeXk, Version 3.141592-1.21a-2.2 (Web2C 7.5.4)
> > file:line:error style messages enabled.
> > entering extended mode
> > (././src/library/.vignettes/displaylist.tex
> > LaTeX2e <2003/12/01>
> > Babel <v3.8d> and hyphenation patterns for american, french, german, ngerman, b
> > ahasa, basque, bulgarian, catalan, croatian, czech, danish, dutch, esperanto, e
> > stonian, finnish, greek, icelandic, irish, italian, latin, magyar, norsk, polis
> > h, portuges, romanian, russian, serbian, slovak, slovene, spanish, swedish, tur
> > kish, ukrainian, nohyphenation, loaded.
> > (/usr/share/texmf/tex/latex/base/article.cls
> > Document Class: article 2004/02/16 v1.4f Standard LaTeX document class
> > (/usr/share/texmf/tex/latex/base/size10.clo))
> >
> > ! LaTeX Error: File `Sweave.sty' not found.
> >
> > At this point if I tell texi2dvi where to find Sweave.sty, the vignettes
> > builds.
> >
> > Is this intentional and I have not done something I should have? (I did
> > check the relevant section of the installation manual.) Past versions
> > have built vignettes correctly.
> >
> > Version Info Below:
> >> version
> >               _
> > platform       i686-pc-linux-gnu
> > arch           i686
> > os             linux-gnu
> > system         i686, linux-gnu
> > status         beta
> > major          2
> > minor          7.0
> > year           2008
> > month          04
> > day            12
> > svn rev        45263
> > language       R
> > version.string R version 2.7.0 beta (2008-04-12 r45263)
> >
> > All the best,
> >
> > G
> > --
> > %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
> > Dr. Gavin Simpson             [t] +44 (0)20 7679 0522
> > ECRC, UCL Geography,          [f] +44 (0)20 7679 0565
> > Pearson Building,             [e] gavin.simpsonATNOSPAMucl.ac.uk
> > Gower Street, London          [w] http://www.ucl.ac.uk/~ucfagls/
> > UK. WC1E 6BT.                 [w] http://www.freshwaters.org.uk
> > %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> 
-- 
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
 Dr. Gavin Simpson             [t] +44 (0)20 7679 0522
 ECRC, UCL Geography,          [f] +44 (0)20 7679 0565
 Pearson Building,             [e] gavin.simpsonATNOSPAMucl.ac.uk
 Gower Street, London          [w] http://www.ucl.ac.uk/~ucfagls/
 UK. WC1E 6BT.                 [w] http://www.freshwaters.org.uk
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%


From davison at stats.ox.ac.uk  Sat Apr 12 19:45:00 2008
From: davison at stats.ox.ac.uk (Dan Davison)
Date: Sat, 12 Apr 2008 18:45:00 +0100
Subject: [Rd] HOW TO AVOID LOOPS
In-Reply-To: <B57FC282-F852-432D-942F-458FA4E00ABB@act.ulaval.ca>
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
	<B57FC282-F852-432D-942F-458FA4E00ABB@act.ulaval.ca>
Message-ID: <20080412174500.GA17773@stats.ox.ac.uk>

On Sat, Apr 12, 2008 at 01:30:13PM -0400, Vincent Goulet wrote:
> Le sam. 12 avr. ? 12:47, carlos martinez a ?crit :
> >> Looking for a simple, effective a minimum execution time solution.
> >>
> >> For a vector as:
> >>
> >> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> >>
> > To transform it to the following vector without using any loops:
> >
> >> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
> >>
> > Appreciate any suggetions.
> 
> This does it -- but it is admittedly ugly:
> 
>  > x <- c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>  > ind <- which(x == 0)
>  > unlist(lapply(mapply(seq, ind, c(tail(ind, -1) - 1, length(x))),  
> function(y) cumsum(x[y])))
>   [1] 0 0 1 0 1 2 3 0 0 1 2 0 1 0 1 2 3 4 5 6
> 
> (The mapply() part is used to create the indexes of each sequence in x  
> starting with a 0. The rest is then straightforward.)


Here's my effort. Maybe a bit easier to digest? Only one *apply so probably more efficient.

function(x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)) {
    d <- diff(c(0,x,0))
    starts <- which(d == 1)
    ends <- which(d == -1)
    x[x == 1] <- unlist(lapply(ends - starts, function(n) 1:n))
    x
}

Dan


> 
> HTH
> 
> ---
>    Vincent Goulet, Associate Professor
>    ?cole d'actuariat
>    Universit? Laval, Qu?bec
>    Vincent.Goulet at act.ulaval.ca   http://vgoulet.act.ulaval.ca
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ligges at statistik.tu-dortmund.de  Sat Apr 12 21:07:03 2008
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sat, 12 Apr 2008 21:07:03 +0200
Subject: [Rd] Notifications for R-2.7.0 beta check results for Windows
	binary packages
Message-ID: <48010857.5010801@statistik.tu-dortmund.de>

Dear package maintainers,

for your information:

Notifications for R-2.7.0 beta check results for Windows binary packages 
  have been sent out to package maintainers if a maintainer's package 
does not pass the checks for R-2.7.0 beta.

Best wishes,
Uwe


From davison at stats.ox.ac.uk  Sat Apr 12 22:32:49 2008
From: davison at stats.ox.ac.uk (Dan Davison)
Date: Sat, 12 Apr 2008 21:32:49 +0100
Subject: [Rd] HOW TO AVOID LOOPS
In-Reply-To: <20080412174500.GA17773@stats.ox.ac.uk>
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
	<B57FC282-F852-432D-942F-458FA4E00ABB@act.ulaval.ca>
	<20080412174500.GA17773@stats.ox.ac.uk>
Message-ID: <20080412203249.GA21610@stats.ox.ac.uk>

On Sat, Apr 12, 2008 at 06:45:00PM +0100, Dan Davison wrote:
> On Sat, Apr 12, 2008 at 01:30:13PM -0400, Vincent Goulet wrote:
> > Le sam. 12 avr. ? 12:47, carlos martinez a ?crit :
> > >> Looking for a simple, effective a minimum execution time solution.
> > >>
> > >> For a vector as:
> > >>
> > >> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> > >>
> > > To transform it to the following vector without using any loops:
> > >
> > >> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
> > >>
> > > Appreciate any suggetions.
> > 
> > This does it -- but it is admittedly ugly:
> > 
> >  > x <- c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> >  > ind <- which(x == 0)
> >  > unlist(lapply(mapply(seq, ind, c(tail(ind, -1) - 1, length(x))),  
> > function(y) cumsum(x[y])))
> >   [1] 0 0 1 0 1 2 3 0 0 1 2 0 1 0 1 2 3 4 5 6
> > 
> > (The mapply() part is used to create the indexes of each sequence in x  
> > starting with a 0. The rest is then straightforward.)
> 
> 
> Here's my effort. Maybe a bit easier to digest? Only one *apply so probably more efficient.
> 
> function(x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)) {
>     d <- diff(c(0,x,0))
>     starts <- which(d == 1)
>     ends <- which(d == -1)
>     x[x == 1] <- unlist(lapply(ends - starts, function(n) 1:n))
>     x
> }
> 

Come to think of it, I suggest using the existing R function rle(), rather than my dodgy substitute.

e.g.

g <- function(x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)) {

    runs <- rle(x)
    runlengths <- runs$lengths[runs$values == 1]
    x[x == 1] <- unlist(lapply(runlengths, function(n) 1:n))
    x
}

Dan

p.s. R-help would perhaps have been more appropriate than R-devel


> Dan
> 
> 
> > 
> > HTH
> > 
> > ---
> >    Vincent Goulet, Associate Professor
> >    ?cole d'actuariat
> >    Universit? Laval, Qu?bec
> >    Vincent.Goulet at act.ulaval.ca   http://vgoulet.act.ulaval.ca
> > 
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel


From h.wickham at gmail.com  Sat Apr 12 23:23:08 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Sat, 12 Apr 2008 16:23:08 -0500
Subject: [Rd] HOW TO AVOID LOOPS
In-Reply-To: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
Message-ID: <f8e6ff050804121423w601b622dw525c72aa2c0bf4fe@mail.gmail.com>

On Sat, Apr 12, 2008 at 11:47 AM, carlos martinez
<martinezbula at earthlink.net> wrote:
> > Looking for a simple, effective a minimum execution time solution.
>  >
>  > For a vector as:
>  >
>  > c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>  >
>  To transform it to the following vector without using any loops:
>
>  > (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
>  >
>  Appreciate any suggetions.

How about:

unlist(lapply(split(x, cumsum(x == 0)), seq_along)) - 1

Hadley


-- 
http://had.co.nz/


From jmc at r-project.org  Sun Apr 13 01:24:28 2008
From: jmc at r-project.org (John Chambers)
Date: Sat, 12 Apr 2008 16:24:28 -0700
Subject: [Rd] coerce methods and inheritance
In-Reply-To: <47FE386F.5050205@r-project.org>
References: <47FD11E6.1090901@fhcrc.org>
	<47FD412E.1010609@r-project.org>	<47FD7879.7080908@fhcrc.org>
	<47FE386F.5050205@r-project.org>
Message-ID: <480144AC.8050700@r-project.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080412/dc92464b/attachment.pl 

From martinezbula at earthlink.net  Sun Apr 13 03:33:27 2008
From: martinezbula at earthlink.net (carlos martinez)
Date: Sat, 12 Apr 2008 21:33:27 -0400
Subject: [Rd] HOW TO AVOID LOOPS
In-Reply-To: <6ph1w5an601.fsf@lamprey.fhcrc.org>
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc><B57FC282-F852-432D-942F-458FA4E00ABB@act.ulaval.ca><20080412174500.GA17773@stats.ox.ac.uk><20080412203249.GA21610@stats.ox.ac.uk>
	<6ph1w5an601.fsf@lamprey.fhcrc.org>
Message-ID: <D99EF9CF426E438F9048BAC9637B4A1A@your136f2019dc>

Appreciate the ingenious and effective suggestions and feedback from:

Dan Davison
Vincent Goulet
Martin Morgan
Hadley Wickham

The variety of technical approaches proposes so far are clear prove of the
strong and flexible capabilites of the R system, and specially the dynamics
and technical understanding of the R user base.

We tested all four recommendations with an input vector of more than 850000
components, and got time-responses from about 40-second to 20-seconds.

All four approches produced the desired vector. The Wickham's approach
produced and extra vector, but the second vector included the correct
format.

Just one additional follow up, to obtain from the same input vector:
c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)

A vector of the following format:
(0,0,1,0,0,0,3,0,0,0,2,0,1,0,0,0,0,0,6)

Will be easier and more efficient to start from the original input vector,
or start from the above second vector
(0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)

Thanks for your responses.

-------------------------------------------------------------------------
Hadley Wickham Approach

How about:

unlist(lapply(split(x, cumsum(x == 0)), seq_along)) - 1

Hadley
--------------------------------------------------------------------------
-----Original Message-----
From: Martin Morgan [mailto:mtmorgan at fhcrc.org] 
Sent: Saturday, April 12, 2008 5:00 PM
To: Dan Davison
Cc: martinezbula at earthlink.net
Subject: Re: [Rd] HOW TO AVOID LOOPS

(anonymous 'off-list' response; some extra calcs but tidy)

> x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> x * unlist(lapply(rle(x)$lengths, seq))
 [1] 0 0 1 0 1 2 3 0 0 1 2 0 1 0 1 2 3 4 5 6


Dan Davison <davison at stats.ox.ac.uk> writes:

> On Sat, Apr 12, 2008 at 06:45:00PM +0100, Dan Davison wrote:
>> On Sat, Apr 12, 2008 at 01:30:13PM -0400, Vincent Goulet wrote:
>> > Le sam. 12 avr. ? 12:47, carlos martinez a ?crit :
>> > >> Looking for a simple, effective a minimum execution time solution.
>> > >>
>> > >> For a vector as:
>> > >>
>> > >> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>> > >>
>> > > To transform it to the following vector without using any loops:
>> > >
>> > >> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
>> > >>
>> > > Appreciate any suggetions.
>> > 
>> > This does it -- but it is admittedly ugly:
>> > 
>> >  > x <- c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>> >  > ind <- which(x == 0)
>> >  > unlist(lapply(mapply(seq, ind, c(tail(ind, -1) - 1, length(x))),
>> > function(y) cumsum(x[y])))
>> >   [1] 0 0 1 0 1 2 3 0 0 1 2 0 1 0 1 2 3 4 5 6
>> > 
>> > (The mapply() part is used to create the indexes of each sequence 
>> > in x starting with a 0. The rest is then straightforward.)
>> 
>> 
>> Here's my effort. Maybe a bit easier to digest? Only one *apply so
probably more efficient.
>> 
>> function(x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)) {
>>     d <- diff(c(0,x,0))
>>     starts <- which(d == 1)
>>     ends <- which(d == -1)
>>     x[x == 1] <- unlist(lapply(ends - starts, function(n) 1:n))
>>     x
>> }
>> 
>
> Come to think of it, I suggest using the existing R function rle(), rather
than my dodgy substitute.
>
> e.g.
>
> g <- function(x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)) {
>
>     runs <- rle(x)
>     runlengths <- runs$lengths[runs$values == 1]
>     x[x == 1] <- unlist(lapply(runlengths, function(n) 1:n))
>     x
> }
>
> Dan
>
> p.s. R-help would perhaps have been more appropriate than R-devel
>
>
>> Dan
>> 
>> 
>> > 
>> > HTH
>> > 
>> > ---
>> >    Vincent Goulet, Associate Professor
>> >    ?cole d'actuariat
>> >    Universit? Laval, Qu?bec
>> >    Vincent.Goulet at act.ulaval.ca   http://vgoulet.act.ulaval.ca
>> > 
>> > ______________________________________________
>> > R-devel at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

--
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center 1100 Fairview
Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M2 B169
Phone: (206) 667-2793


From mtmorgan at fhcrc.org  Sun Apr 13 05:45:18 2008
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Sat, 12 Apr 2008 20:45:18 -0700
Subject: [Rd] HOW TO AVOID LOOPS
In-Reply-To: <D99EF9CF426E438F9048BAC9637B4A1A@your136f2019dc> (carlos
	martinez's message of "Sat, 12 Apr 2008 21:33:27 -0400")
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
	<B57FC282-F852-432D-942F-458FA4E00ABB@act.ulaval.ca>
	<20080412174500.GA17773@stats.ox.ac.uk>
	<20080412203249.GA21610@stats.ox.ac.uk>
	<6ph1w5an601.fsf@lamprey.fhcrc.org>
	<D99EF9CF426E438F9048BAC9637B4A1A@your136f2019dc>
Message-ID: <6phprsul8oh.fsf@lamprey.fhcrc.org>

Taking Hadley's clue, I guess

x * unlist(lapply(rle(x)$lengths, seq_len))

is faster than my previous suggestion (which Dan had inspired in the
first place). 

For 

> A vector of the following format:
> (0,0,1,0,0,0,3,0,0,0,2,0,1,0,0,0,0,0,6)

one might

> z <- numeric(length(x))
> r <- rle(x)
> i <- r$values==1
> z[cumsum(r$lengths)[i]] <- r$lengths[i]
> z
 [1] 0 0 1 0 0 0 3 0 0 0 2 0 1 0 0 0 0 0 0 6

but since 'rle' keeps coming up, perhaps you're really wanting to know
basic things about run-length encoding, such as the length of each run
of 1's

> r$lengths[r$values==1]
[1] 1 3 2 1 6

? If space and time are an issue, you might also consider reprsenting
your data as 'raw' to save space

> x <- rbinom(1000000, 1, .5)
> object.size(x)
[1] 8000040
> system.time(x*unlist(lapply(rle(x)$lengths, seq_len)), gcFirst=TRUE)
   user  system elapsed 
  1.800   0.000   1.798 

> x <- as.raw(x)
> head(x)
[1] 01 01 01 01 00 01
> object.size(x)
[1] 1000040
> system.time((x==1)*unlist(lapply(rle(x)$lengths, seq_len)), gcFirst=TRUE)
   user  system elapsed 
  1.730   0.000   1.730 

(the timings are quite variable; perhaps they're about equal?)

Martin

"carlos martinez" <martinezbula at earthlink.net> writes:

> Appreciate the ingenious and effective suggestions and feedback from:
>
> Dan Davison
> Vincent Goulet
> Martin Morgan
> Hadley Wickham
>
> The variety of technical approaches proposes so far are clear prove of the
> strong and flexible capabilites of the R system, and specially the dynamics
> and technical understanding of the R user base.
>
> We tested all four recommendations with an input vector of more than 850000
> components, and got time-responses from about 40-second to 20-seconds.
>
> All four approches produced the desired vector. The Wickham's approach
> produced and extra vector, but the second vector included the correct
> format.
>
> Just one additional follow up, to obtain from the same input vector:
> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>
> A vector of the following format:
> (0,0,1,0,0,0,3,0,0,0,2,0,1,0,0,0,0,0,6)
>
> Will be easier and more efficient to start from the original input vector,
> or start from the above second vector
> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
>
> Thanks for your responses.
>
> -------------------------------------------------------------------------
> Hadley Wickham Approach
>
> How about:
>
> unlist(lapply(split(x, cumsum(x == 0)), seq_along)) - 1
>
> Hadley
> --------------------------------------------------------------------------
> -----Original Message-----
> From: Martin Morgan [mailto:mtmorgan at fhcrc.org] 
> Sent: Saturday, April 12, 2008 5:00 PM
> To: Dan Davison
> Cc: martinezbula at earthlink.net
> Subject: Re: [Rd] HOW TO AVOID LOOPS
>
> (anonymous 'off-list' response; some extra calcs but tidy)
>
>> x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>> x * unlist(lapply(rle(x)$lengths, seq))
>  [1] 0 0 1 0 1 2 3 0 0 1 2 0 1 0 1 2 3 4 5 6
>
>
> Dan Davison <davison at stats.ox.ac.uk> writes:
>
>> On Sat, Apr 12, 2008 at 06:45:00PM +0100, Dan Davison wrote:
>>> On Sat, Apr 12, 2008 at 01:30:13PM -0400, Vincent Goulet wrote:
>>> > Le sam. 12 avr. ? 12:47, carlos martinez a ?crit :
>>> > >> Looking for a simple, effective a minimum execution time solution.
>>> > >>
>>> > >> For a vector as:
>>> > >>
>>> > >> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>>> > >>
>>> > > To transform it to the following vector without using any loops:
>>> > >
>>> > >> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
>>> > >>
>>> > > Appreciate any suggetions.
>>> > 
>>> > This does it -- but it is admittedly ugly:
>>> > 
>>> >  > x <- c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>>> >  > ind <- which(x == 0)
>>> >  > unlist(lapply(mapply(seq, ind, c(tail(ind, -1) - 1, length(x))),
>>> > function(y) cumsum(x[y])))
>>> >   [1] 0 0 1 0 1 2 3 0 0 1 2 0 1 0 1 2 3 4 5 6
>>> > 
>>> > (The mapply() part is used to create the indexes of each sequence 
>>> > in x starting with a 0. The rest is then straightforward.)
>>> 
>>> 
>>> Here's my effort. Maybe a bit easier to digest? Only one *apply so
> probably more efficient.
>>> 
>>> function(x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)) {
>>>     d <- diff(c(0,x,0))
>>>     starts <- which(d == 1)
>>>     ends <- which(d == -1)
>>>     x[x == 1] <- unlist(lapply(ends - starts, function(n) 1:n))
>>>     x
>>> }
>>> 
>>
>> Come to think of it, I suggest using the existing R function rle(), rather
> than my dodgy substitute.
>>
>> e.g.
>>
>> g <- function(x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)) {
>>
>>     runs <- rle(x)
>>     runlengths <- runs$lengths[runs$values == 1]
>>     x[x == 1] <- unlist(lapply(runlengths, function(n) 1:n))
>>     x
>> }
>>
>> Dan
>>
>> p.s. R-help would perhaps have been more appropriate than R-devel
>>
>>
>>> Dan
>>> 
>>> 
>>> > 
>>> > HTH
>>> > 
>>> > ---
>>> >    Vincent Goulet, Associate Professor
>>> >    ?cole d'actuariat
>>> >    Universit? Laval, Qu?bec
>>> >    Vincent.Goulet at act.ulaval.ca   http://vgoulet.act.ulaval.ca
>>> > 
>>> > ______________________________________________
>>> > R-devel at r-project.org mailing list
>>> > https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> --
> Martin Morgan
> Computational Biology / Fred Hutchinson Cancer Research Center 1100 Fairview
> Ave. N.
> PO Box 19024 Seattle, WA 98109
>
> Location: Arnold Building M2 B169
> Phone: (206) 667-2793
>

-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M2 B169
Phone: (206) 667-2793


From ripley at stats.ox.ac.uk  Sun Apr 13 11:44:15 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 13 Apr 2008 10:44:15 +0100 (BST)
Subject: [Rd] Windows problem related to using shortPathName for Sweave
 style file
In-Reply-To: <47FE4BFE.1060902@fhcrc.org>
References: <47FD3032.7020709@fhcrc.org> <47FD33E2.8090300@fhcrc.org>
	<47FD56AA.4030707@stats.uwo.ca> <47FD7262.9060901@fhcrc.org>
	<47FE05F1.2030507@stats.uwo.ca> <47FE4BFE.1060902@fhcrc.org>
Message-ID: <alpine.LFD.1.00.0804131035120.23933@gannet.stats.ox.ac.uk>

A follow up on the actions taken.

1) In R >= 2.7.0 whether Sweave() inserts

\usepackage{/full/path/to/Sweave}

is controlled by the environment variable SWEAVE_STYLEPATH_DEFAULT which 
sets the default for RweaveLatex's 'stylepath' argument.  So setting 
SWEAVE_STYLEPATH_DEFAULT=FALSE inserts just \usepackage{Sweave}

To work with this, when tools::texi2dvi finds it is being used with 
MiKTeX's texi2dvi, it makes use of the -I argument of the latter to put 
the path to Sweave.sty into the input path.

This means that users of MiKTeX will want to set 
SWEAVE_STYLEPATH_DEFAULT=FALSE in their environent, e.g. in .Renviron.


2) For 2.8.0, it is planned that the default for 'stylepath' will become 
FALSE.  In that version tools::texi2dvi will set the appropriate input 
path on all platforms.


On Thu, 10 Apr 2008, Patrick Aboyoun wrote:

> Thanks Duncan,
> I just did a survey of the BioConductor repository and only 4 of the 354
> .Rnw vignette files contain the \usepackage{Sweave} specification.
> Adding this is tedious, but not impossible. If the \usepackage{Sweave}
> specification does become recommended, could you add a WARNING to the R
> CMD build/check process if a vignette file lacks it? That would help
> steer developers in the right direction for cross-platform compatibility
> since most R package developers don't use Windows as their primary platform.
>
>
> Cheers,
> Patrick
>
>
> Duncan Murdoch wrote:
>> On 4/9/2008 9:50 PM, Patrick Aboyoun wrote:
>>> I forgot to mention the BioConductor Windows build machine is running
>>> Microsoft Windows Server 2003 R2
>>> Enterprise Edition, SP2
>>>
>>> I just checked and this same problem exists if I place R in the
>>> standard "C:\Program Files\R" location on this machine.
>>
>> We're going to roll back that change, so you should be okay with your
>> original setup.  As far as I know there is no way to get MikTeX to
>> work if you have a space in your pathname, so putting R in the
>> standard location will fail, unless you follow the advice I give below.
>>
>>> For now the backup plan is to move to using short path names for
>>> BioConductor builds (modifying 100+ vignettes is impractical as well
>>> as configuring MiKTeX to handle multiple installs of R that the build
>>> machine uses). If there is an alternate configuration that I should
>>> be using, just let me know.
>>
>> I would recommend biting the bullet and adding \usepackage{Sweave} to
>> every vignette.  It's just a one line addition to them, and it will
>> mean that their .tex output will work if you move it to a different
>> machine, where the full path to Sweave.sty is different.
>>
>> Duncan Murdoch
>>
>>>
>>>
>>> Cheers,
>>> Patrick
>>>
>>>
>>> Duncan Murdoch wrote:
>>>> On 09/04/2008 5:23 PM, Patrick Aboyoun wrote:
>>>>> Something funky happened to my e-mail. I was trying to paste
>>>>> information related to MiKTeX and R into my message and it appears
>>>>> to have corrupted the text somehow. Anyway, the message I was
>>>>> trying to get across is that the tex file contains the path
>>>>>
>>>>> \usepackage{E:/paboyoun/BBS-2~1.2-B/R/share/texmf/Sweave}
>>>>>
>>>>> and MiKTeX 2.7 doesn't know how to resolve it. (The
>>>>> Bioconductor.tex file is (hopefully) attached to this e-mail.)
>>>>
>>>> You should be able to get things to work by explicitly putting
>>>>
>>>> \usepackage{Sweave}
>>>>
>>>> somewhere early in your .Rnw file.  You may have trouble with MikTeX
>>>> finding Sweave.sty, depending how you invoke it:  if invoked from R
>>>> CMD it should work, but maybe not from your command line unless you
>>>> tell it where to look for include files.  How you do that changes
>>>> all the time; R tries a couple, which is why R CMD probably works.
>>>>
>>>> Duncan Murdoch
>>>>
>>>>>
>>>>>
>>>>> === BEGIN OS BLOCK ===
>>>>>
>>>>> E:\paboyoun>pdflatex --version
>>>>> MiKTeX-pdfTeX 2.7.2987 (1.40.7) (MiKTeX 2.7)
>>>>> Copyright (C) 1982 D. E. Knuth, (C) 1996-2006 Han The Thanh
>>>>> TeX is a trademark of the American Mathematical Society.
>>>>>
>>>>> E:\paboyoun>pdflatex Bioconductor.tex
>>>>> This is pdfTeX, Version 3.141592-1.40.7 (MiKTeX 2.7)
>>>>> entering extended mode
>>>>> (Bioconductor.tex
>>>>> LaTeX2e <2005/12/01>
>>>>> Babel <v3.8h> and hyphenation patterns for english, dumylang,
>>>>> nohyphenation, ge
>>>>> rman, ngerman, french, loaded.
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\article.cls"
>>>>> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\base\size12.clo"))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\psnfss\times.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hyperref.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\graphics\keyval.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\hycolor.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\pd1enc.def")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\etexcmds.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\infwarerr.sty"))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\00miktex\hyperref.cfg")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\oberdiek\kvoptions.sty")
>>>>> Implicit mode ON; LaTeX internals redefined
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\ltxmisc\url.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bitset.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\intcalc.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\bigintcalc.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\pdftexcmds.sty")))
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\kvsetkeys.sty")
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\atbegshi.sty"
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\generic\oberdiek\ifpdf.sty")))
>>>>> *hyperref using default driver hpdftex*
>>>>> ("C:\Program Files\MiKTeX 2.7\tex\latex\hyperref\hpdftex.def")
>>>>> ! Missing \endcsname inserted.
>>>>> <to be read again>
>>>>>                    \protect
>>>>> l.28 \begin
>>>>>            {document}
>>>>> ?
>>>>>
>>>>>
>>>>> ------------------------------------------------------------------------
>>>>>
>>>>>
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From cgenolin at u-paris10.fr  Sun Apr 13 19:56:55 2008
From: cgenolin at u-paris10.fr (cgenolin at u-paris10.fr)
Date: Sun, 13 Apr 2008 19:56:55 +0200
Subject: [Rd] R 2.7 package.skeleton
Message-ID: <20080413195655.73lre8qlw8ssoks8@icare.u-paris10.fr>

Hi the devel list

I am testing package.skeleton in R 2.7 (download today). I get an error 
that I do not understand. I guess it is not an error from my code since 
I have no probleme when I source it. So is it a error in 
package.skeleton?

Here is my code :


--- 8< ------ File essai.r -------------
setClass(
   Class="ClusterizLongData",
   representation=representation(
     clusterizS="list"
   ),
   prototype=prototype(
     clusterizS=list(c2=list(),c3=list())
   )
)
--- 8< ---------------------------------


package.skeleton("kmt",code_files=c("essai.r"))

Erreur dans .prototype(...) :  l'argument "list" est manquant, avec 
aucune valeur par d?faut

[approximative translation :
Error in .prototype(...) :
  the argument "list" is missing, with no default value
]


Christophe

----------------------------------------------------------------
Ce message a ete envoye par IMP, grace a l'Universite Paris 10 Nanterre


From cgenolin at u-paris10.fr  Sun Apr 13 20:10:14 2008
From: cgenolin at u-paris10.fr (cgenolin at u-paris10.fr)
Date: Sun, 13 Apr 2008 20:10:14 +0200
Subject: [Rd] R2.7 package.skeleton II
Message-ID: <20080413201014.z8sjvi3c0kwo4ckg@icare.u-paris10.fr>

Hi again

I get an other error on an other file. More precisely,

package.skeleton("kmt2",code_files=c("function.r","partition.r","longData.r","imputation.r","clusterization.r"))

I put 5 files in code_files,  everything seems to work fine, the 
directory "kmt2" is created, but I get an message :

Cr?ation des r?pertoires...
Cr?ation de DESCRIPTION...
Cr?ation de 'Read-and-delete-me'...
Recopiage des fichiers de code...
Cr?ation des fichiers d'aide ...
Error in le > 0 :  comparaison (6) possible seulement pour les types 
liste et atomique
De plus : Warning message:
In is.na(le) :
  is.na() appliqu? ? un objet de type 'S4' qui n'est ni une liste, ni un vecteur
Erreur dans package.skeleton("kmt8", code_files = c("function.r", 
"partition.r",  :  Error in le > 0 :  comparaison (6) possible 
seulement pour les types liste et atomique


If someone want, I can send my complete files, but I did not manage to 
precisely find the part of the programme that provoque this error (as I 
did in my previous bug repport).

Christophe

----------------------------------------------------------------
Ce message a ete envoye par IMP, grace a l'Universite Paris 10 Nanterre


From jmc at r-project.org  Sun Apr 13 20:37:20 2008
From: jmc at r-project.org (John Chambers)
Date: Sun, 13 Apr 2008 11:37:20 -0700
Subject: [Rd] R 2.7 package.skeleton
In-Reply-To: <20080413195655.73lre8qlw8ssoks8@icare.u-paris10.fr>
References: <20080413195655.73lre8qlw8ssoks8@icare.u-paris10.fr>
Message-ID: <480252E0.9080404@r-project.org>

Seems to be an R bug in evaluating the source code in your file.

As the message says, something is trying to evaluate the "list" argument 
to package.skeleton.  My guess is that it's the unfortunate choice of 
"list" as an argument name interacting with your use of list() in the 
code in essai.r  (By the language semantics a function and a 
non-function with the same name _should_ be ok, but the fact that there 
is no default may be triggering a difficulty in sys.source())

To make life more difficult, package.skeleton does not seem to like a 
zero-length list= argument either.  The following is an ugly way to 
avoid the error, by creating a list with one object.

 > nul <- ""
 > package.skeleton("kmt", code_files = "essai.r", list = "nul")
Creating directories ...
Creating DESCRIPTION ...
Creating Read-and-delete-me ...
Copying code files ...
Making help files ...
Done.
Further steps are described in './kmt/Read-and-delete-me'.




cgenolin at u-paris10.fr wrote:
> Hi the devel list
>
> I am testing package.skeleton in R 2.7 (download today). I get an error 
> that I do not understand. I guess it is not an error from my code since 
> I have no probleme when I source it. So is it a error in 
> package.skeleton?
>
> Here is my code :
>
>
> --- 8< ------ File essai.r -------------
> setClass(
>    Class="ClusterizLongData",
>    representation=representation(
>      clusterizS="list"
>    ),
>    prototype=prototype(
>      clusterizS=list(c2=list(),c3=list())
>    )
> )
> --- 8< ---------------------------------
>
>
> package.skeleton("kmt",code_files=c("essai.r"))
>
> Erreur dans .prototype(...) :  l'argument "list" est manquant, avec 
> aucune valeur par d?faut
>
> [approximative translation :
> Error in .prototype(...) :
>   the argument "list" is missing, with no default value
> ]
>
>
> Christophe
>
> ----------------------------------------------------------------
> Ce message a ete envoye par IMP, grace a l'Universite Paris 10 Nanterre
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From jmc at r-project.org  Sun Apr 13 20:48:31 2008
From: jmc at r-project.org (John Chambers)
Date: Sun, 13 Apr 2008 11:48:31 -0700
Subject: [Rd] R 2.7 package.skeleton
In-Reply-To: <480252E0.9080404@r-project.org>
References: <20080413195655.73lre8qlw8ssoks8@icare.u-paris10.fr>
	<480252E0.9080404@r-project.org>
Message-ID: <4802557F.8040900@r-project.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080413/006d08aa/attachment.pl 

From jmc at r-project.org  Sun Apr 13 21:12:01 2008
From: jmc at r-project.org (John Chambers)
Date: Sun, 13 Apr 2008 12:12:01 -0700
Subject: [Rd] R 2.7 package.skeleton
In-Reply-To: <4802557F.8040900@r-project.org>
References: <20080413195655.73lre8qlw8ssoks8@icare.u-paris10.fr>	<480252E0.9080404@r-project.org>
	<4802557F.8040900@r-project.org>
Message-ID: <48025B01.3060605@r-project.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080413/8f7fa169/attachment.pl 

From cgenolin at u-paris10.fr  Sun Apr 13 23:36:41 2008
From: cgenolin at u-paris10.fr (cgenolin at u-paris10.fr)
Date: Sun, 13 Apr 2008 23:36:41 +0200
Subject: [Rd] R 2.7 package.skeleton
In-Reply-To: <48025B01.3060605@r-project.org>
References: <20080413195655.73lre8qlw8ssoks8@icare.u-paris10.fr>
	<480252E0.9080404@r-project.org> <4802557F.8040900@r-project.org>
	<48025B01.3060605@r-project.org>
Message-ID: <20080413233641.wksc2onnmscgw4c8@icare.u-paris10.fr>

> However, try this example with the corrected package.skeleton() as well.

I did, it is working

Thanks

Christophe

>
>
> John Chambers wrote:
>> Well, the workaround does not help much.  The source files will be 
>> copied to the new package, but they are not evaluated (because 
>> package.skeleton requires list= to be missing).  Therefore you won't 
>> have the documentation files reflecting the contents of essai.r
>>
>> So, for the moment, this just seems to be a bug needing fixing.  
>> Merci et ne quittez pas.
>>
>> John
>>
>> John Chambers wrote:
>>
>>> Seems to be an R bug in evaluating the source code in your file.
>>>
>>> As the message says, something is trying to evaluate the "list" 
>>> argument to package.skeleton.  My guess is that it's the 
>>> unfortunate choice of "list" as an argument name interacting with 
>>> your use of list() in the code in essai.r  (By the language 
>>> semantics a function and a non-function with the same name _should_ 
>>> be ok, but the fact that there is no default may be triggering a 
>>> difficulty in sys.source())
>>>
>>> To make life more difficult, package.skeleton does not seem to like 
>>> a zero-length list= argument either.  The following is an ugly way 
>>> to avoid the error, by creating a list with one object.
>>>
>>>  > nul <- ""
>>>  > package.skeleton("kmt", code_files = "essai.r", list = "nul")
>>> Creating directories ...
>>> Creating DESCRIPTION ...
>>> Creating Read-and-delete-me ...
>>> Copying code files ...
>>> Making help files ...
>>> Done.
>>> Further steps are described in './kmt/Read-and-delete-me'.
>>>
>>>
>>>
>>>
>>> cgenolin at u-paris10.fr wrote:
>>>
>>>> Hi the devel list
>>>>
>>>> I am testing package.skeleton in R 2.7 (download today). I get an 
>>>> error that I do not understand. I guess it is not an error from my 
>>>> code since I have no probleme when I source it. So is it a error 
>>>> in package.skeleton?
>>>>
>>>> Here is my code :
>>>>
>>>>
>>>> --- 8< ------ File essai.r -------------
>>>> setClass(
>>>>    Class="ClusterizLongData",
>>>>    representation=representation(
>>>>      clusterizS="list"
>>>>    ),
>>>>    prototype=prototype(
>>>>      clusterizS=list(c2=list(),c3=list())
>>>>    )
>>>> )
>>>> --- 8< ---------------------------------
>>>>
>>>>
>>>> package.skeleton("kmt",code_files=c("essai.r"))
>>>>
>>>> Erreur dans .prototype(...) :  l'argument "list" est manquant, 
>>>> avec aucune valeur par d?faut
>>>>
>>>> [approximative translation :
>>>> Error in .prototype(...) :
>>>>   the argument "list" is missing, with no default value
>>>> ]
>>>>
>>>>
>>>> Christophe
>>>>
>>>> ----------------------------------------------------------------
>>>> Ce message a ete envoye par IMP, grace a l'Universite Paris 10 Nanterre
>>>>
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>>>
>>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>
>>
>> 	[[alternative HTML version deleted]]
>>
>>   ------------------------------------------------------------------------
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>



----------------------------------------------------------------
Ce message a ete envoye par IMP, grace a l'Universite Paris 10 Nanterre


From mathieu.ribatet at epfl.ch  Mon Apr 14 00:00:53 2008
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Mon, 14 Apr 2008 00:00:53 +0200
Subject: [Rd] Matrix multiplication in a C code
In-Reply-To: <alpine.LFD.1.00.0804061350410.9702@auk.stats.ox.ac.uk>
References: <47F8C62C.7010501@epfl.ch>
	<alpine.LFD.1.00.0804061350410.9702@auk.stats.ox.ac.uk>
Message-ID: <48028295.9010408@epfl.ch>

First, sorry for the delayed reply.

You were right matprod will do exactly what I want. Thanks. On another 
point, are you aware about a BLAS routine to test for semi-definite 
positive matrix ? This is required for my loglikelihood and thus should 
return -\infty if not.

Best,
Mathieu


Prof Brian Ripley a ?crit :
> On Sun, 6 Apr 2008, Mathieu Ribatet wrote:
>
>>    Dear list members,
>>
>> I've got a small question on matrix multiplications in a C code. Because
>> of a really cpu demanding likelihood, I had to use a C code within an R
>> function wrapper. I'm pretty sure that there is already one good code
>> for matrix multiplication in C - maybe in the R source code itself - but
>> I wasn't able to find it.
>>
>> Anyone as an idea on how to handle matrix multiplications?
>
> Well, R does use fast C code where available: see matmult in 
> src/main/array.c which calls the BLAS.  It works best if you have an 
> optimized BLAS: otherwise it may not be as fast as the simple version 
> used when there are NAs present.
>

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From jayuan2008 at yahoo.com  Mon Apr 14 08:48:33 2008
From: jayuan2008 at yahoo.com (Yuan Jian)
Date: Sun, 13 Apr 2008 23:48:33 -0700 (PDT)
Subject: [Rd] && and ||
Message-ID: <119453.25747.qm@web46003.mail.sp1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080413/33c26063/attachment.pl 

From daniel.sabanesbove at campus.lmu.de  Sun Apr 13 16:52:43 2008
From: daniel.sabanesbove at campus.lmu.de (=?ISO-8859-15?Q?Daniel_Saban=E9s_Bov=E9?=)
Date: Sun, 13 Apr 2008 16:52:43 +0200
Subject: [Rd] promptFunctions() to handle multiple names
Message-ID: <48021E3B.1080000@campus.lmu.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Hi all,

I wanted to set up my first (private) R-package and wondered
if there was a function to prompt() for multiple aliases in one Rd-file,
e.g. to create something like the normal distribution manual page
encompassing rnorm, dnorm,...

As I didn't find it, I modified prompt.default() and wrote a small function
to do this job, called "promptFunctions". It basically calls the helper
".promptFunction" for every name it gets and puts together the output
from each function.

It would be interesting for me if such a function already existed in R
or if something like "promptFunction" could be included in any future R 
version.
I think it would be used as many man pages document several functions at 
once,
and cutting and pasting the single prompt() files by hand could be boring.

regards,
Daniel

The Code:

## modified prompt.default to handle multiple functions correctly
promptFunctions <-
~    function (...,                      # objects to be documented
~              filename = NULL,          # file name string or NA for 
console
~              names = NULL,             # character vector of object names
~              rdname = NULL,            # name of the documentation
~              overwrite = FALSE         # overwrite existing Rd file?
~              )
{
~    ## helper functions
~    paste0 <- function(...) paste(..., sep = "")
~    is.missing.arg <- function(arg) typeof(arg) == "symbol" &&
~        deparse(arg) == ""

~    ## generate additional names from objects
~    objects <- as.list (substitute (...[]))
~    objects <- objects[seq(from = 2, to = length(objects) - 1)]
~    objects <- sapply(objects, deparse)

~    ## merge with names from call and stop if there are no usable names
~    names <- unique(c(objects, names))
~    if (is.null(names))
~        stop ("cannot determine usable names")

~    ## determine Rd name
~    if(is.null(rdname))
~        rdname <- names[1]

~    ## determine file name
~    if (is.null(filename))
~        filename <- paste0(rdname, ".Rd")

~    ## treat each name individually
~    promptList <- lapply(names, .promptFunction)
~    names(promptList) <- names

~    ## construct text
~    Rdtxt <- list()

~    Rdtxt$name <- paste0("\\name{", rdname, "}")
~    Rdtxt$aliases <- c(paste0("\\alias{", names, "}"),
~                       paste("%- Also NEED an '\\alias' for EACH other 
topic",
~                             "documented here."))
~    Rdtxt$title <- "\\title{ ~~functions to do ... ~~ }"
~    Rdtxt$description <- c("\\description{",
~                           paste("  ~~ A concise (1-5 lines) 
description of what",
~                                 "the functions"),
~                           paste("    ", paste(names, collapse = ", "),
~                                 "do. ~~"),
~                           "}")
~    Rdtxt$usage <- c("\\usage{",
~                     unlist(lapply(promptList, "[[", "usage")),
~                     "}",
~                     paste("%- maybe also 'usage' for other objects",
~                           "documented here."))
~    arguments <- unique (unlist (lapply(promptList, "[[", "arg.n")))
~    Rdtxt$arguments <- if(length(arguments))
~        c("\\arguments{",
~          paste0("  \\item{", arguments, "}{",
~                 " ~~Describe \\code{", arguments, "} here~~ }"),
~          "}")
~    Rdtxt$details <- c("\\details{",
~                       paste("  ~~ If necessary, more details than the",
~                             "description above ~~"),
~                       "}")
~    Rdtxt$value <- c("\\value{",
~                     "  ~Describe the values returned",
~                     "  If it is a LIST, use",
~                     "  \\item{comp1 }{Description of 'comp1'}",
~                     "  \\item{comp2 }{Description of 'comp2'}",
~                     "  ...",
~                     "}")
~    Rdtxt$references <- paste("\\references{ ~put references to the",
~                              "literature/web site here ~ }")
~    Rdtxt$author <- "\\author{Daniel Saban\\'es Bov\\'e}"
~    Rdtxt$note <- c("\\note{ ~~further notes~~ ",
~                    "",
~                    paste(" ~Make other sections like Warning with",
~                          "\\section{Warning }{....} ~"),
~                    "}")
~    Rdtxt$seealso <- paste("\\seealso{ ~~objects to See Also as",
~                           "\\code{\\link{help}}, ~~~ }")
~    Rdtxt$examples <- c("\\examples{",
~                        "##---- Should be DIRECTLY executable !! ----",
~                        "##-- ==>  Define data, use random,",
~                        "##--\tor do  help(data=index)  for the 
standard data sets.",
~                        "",
~                        "## The functions are currently defined as",
~                        unlist (lapply(promptList, "[[", "x.def")),
~                        "}")
~    Rdtxt$keywords <- c(paste("% Add one or more standard keywords,",
~                              "see file 'KEYWORDS' in the"),
~                        "% R documentation directory.",
~                        "\\keyword{ ~kwd1 }",
~                        "\\keyword{ ~kwd2 }% __ONLY ONE__ keyword per 
line")

~    ## and write text to console
~    if (is.na(filename))
~        return(Rdtxt)

~    ## or file
~    if(file.exists(filename) && !overwrite)
~        warning(filename, " already exists. Choose overwrite = TRUE to 
force.")
~    else {
~        cat(unlist(Rdtxt), file = filename, sep = "\n")
~        message(gettextf("Created file named '%s'.", filename), "\n",
~                gettext("Edit the file and move it to the appropriate 
directory."),
~                domain = NA)
~    }

~    ## and return the file name
~    invisible(filename)
}


## helper function for one name only
.promptFunction <- function(name, ...)
{
~    ## utility functions
~    paste0 <- function(...) paste(..., sep = "")
~    is.missing.arg <- function(arg)
~        typeof(arg) == "symbol" && deparse(arg) == ""

~    ## get object by name
~    x <- get(name, envir = parent.frame())

~    ## set up return list
~    ret <- list()

~    ## extract arguments
~    n <- length(argls <- formals(x))
~    if (n > 0) {
~        arg.names <- arg.n <- names(argls)
~        arg.n[arg.n == "..."] <- "\\dots"
~    }
~    Call <- paste0(name, "(")
~    for (i in seq_len(n)) {
~        Call <- paste0(Call, arg.names[i], if (!is.missing.arg(argls[[i]]))
~                       paste0(" = ", paste(deparse(argls[[i]], 
width.cutoff = 500),
~                                           collapse = "\n")))
~        if (i != n)
~            Call <- paste0(Call, ", ")
~    }

~    ## and definition of the function
~    x.def <- attr(x, "source")
~    if (is.null(x.def))
~        x.def <- deparse(x)
~    if (any(br <- substr(x.def, 1, 1) == "}"))
~        x.def[br] <- paste(" ", x.def[br])
~    x.def <- gsub("%", "\\\\%", x.def)
~    x.def <- c(paste("##", name), x.def)

~    ## fill return list
~    ret$usage <- paste0(Call, ")")
~    ret$x.def <- x.def
~    ret$arg.n <- if(n > 0) arg.n

~    ## return the list
~    return(ret)
}


## test this
test <- function(x){
~    x + 5
}
b <- function(y)
~    test(y)
y <- function(a, b, c){
~    print("hello")
}

promptFunctions(test, b, names = "y", rdname = "testbandy")
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.4-svn0 (GNU/Linux)
Comment: Using GnuPG with SUSE - http://enigmail.mozdev.org

iD8DBQFIAh46zHZ0x5+gF9kRCnaOAJ9MQGHjosFEFshWYxAbfQ0E7fOsGQCfX2gp
F0pJGX4/mai08ghJwj6yY18=
=7r90
-----END PGP SIGNATURE-----


From wolpert at stat.duke.edu  Sun Apr 13 19:20:18 2008
From: wolpert at stat.duke.edu (wolpert at stat.duke.edu)
Date: Sun, 13 Apr 2008 19:20:18 +0200 (CEST)
Subject: [Rd] Incorrect @INC: Rcmd SHLIB error under Windows (2.6.2,
	44383) (PR#11161)
Message-ID: <20080413172018.BEA89282EF48@mail.pubhealth.ku.dk>

Hi, R team.

I'm trying to build a dll from a c program to be invoked within R using 
the .C() functionality.

Everything works like a charm on my Linux (Centos 5) (also 2.6.2) machines--- 
but under windows (Vista Ultimate) upon running (in either the windows 'Cmd' 
command window or a Bash window) the command

Rcmd SHLIB myfun.c

I receive the error:

Can't locate R/Utils.pm in
@INC (@INC contains: c \PROGRA~1\R\R-26~1.2\share\perl;
/usr/lib/perl5/5.8/cygwin /usr/lib/perl5/5.8
/usr/lib/perl5/site_perl/5.8/cygwin /usr/lib/perl5/site_perl/5.8
/usr/lib/perl5/site_perl/5.8 /usr/lib/perl5/vendor_perl/5.8/cygwin
/usr/lib/perl5/vendor_perl/5.8 /usr/lib/perl5/vendor_perl/5.8 .) at
c:\PROGRA~1\R\R-26~1.2/bin/SHLIB line 22.
BEGIN failed--compilation aborted at c:\PROGRA~1\R\R-26~1.2/bin/SHLIB line
22.

-------------- -------------- -------------- -------------- --------------

Notice the first entry in @INC is incorrect---  the item

   c \PROGRA~1\R\R-26~1.2\share\perl;

SHOULD be

   c:\PROGRA~1\R\R-26~1.2\share\perl;

but a space appears where the colon should be.

The neeeded file 'R/Utils.pm' is in fact located where it should be,
below 'c:\PROGRA~1\R\R-26~1.2\share\perl', but perl can't find it because
INC is set incorrectly.

Any suggestions?  Where IS 'INC' set?  Cheers,                -R

----------------------------------------------------------------------
 Prof. Robert L. Wolpert : <wolpert at stat.Duke.edu>  : +1-919-684-3275
 Duke Univ. Dept. of Statistical Science  :  211c Old Chem, Box 90251
 & Nicholas School of the Environment     :   www.stat.Duke.edu/~rlw/


From nakajima at hokkaido-iri.go.jp  Mon Apr 14 03:05:28 2008
From: nakajima at hokkaido-iri.go.jp (nakajima at hokkaido-iri.go.jp)
Date: Mon, 14 Apr 2008 03:05:28 +0200 (CEST)
Subject: [Rd] Bug in ci.plot(HH Package) (PR#11163)
Message-ID: <20080414010528.3D44C282EFF0@mail.pubhealth.ku.dk>

Full_Name: Yasuhiro Nakajima
Version: 2.6.1
OS: WinXP SP2
Submission from: (NULL) (202.237.255.13)


Dear all,

I noticed the following behaviour of ci.plot in HH Package(ver.2.1-9):

> library(HH)
> data(women, package="datasets")
> attach(women)
> ft <- lm(height~weight)
> windows()
> ci.plot(ft,conf.level=0.95)
> windows()
> ci.plot(ft,conf.level=0.999)

I tried to change the confidence interval, but I couldn't.
CI was "always" 0.95. 

I have found wrong argument in predict function in ci.plot.

>>   predict(....., conf.level=conf.level)

I think the correct is "level=conf.level".

Is that right?


--- ci.plot source code ---
"ci.plot" <-
function(lm.object, ...)
  UseMethod("ci.plot")

"ci.plot.lm" <-
function(lm.object,
         xlim=range(data[, x.name]),
         newdata,
         conf.level=.95,
         data=model.frame(lm.object),
         newfit,
         ylim=range(newfit$pi.fit),
         pch=16,
         main.cex=1,
         main=list(paste(100*conf.level,
           "% confidence and prediction intervals for ",
           substitute(lm.object), sep=""), cex=main.cex), ...
         ) {
  formula.lm <- formula(lm.object)
  x.name <- as.character(formula.lm[[3]])
  missing.xlim <- missing(xlim)       ## R needs this
  missing.newdata <- missing(newdata) ## R needs this
  if.R(s={
    ## Save a copy of the data.frame in frame=0 to put it where
    ## model.frame.lm needs to find it when the example data is
    ## run through Splus CMD check.
    my.data.name <- as.character(lm.object$call$data)
    if (length(my.data.name)==0)
      stop("Please provide an lm.object calculated with an explicit
'data=my.data.frame' argument.")
    undo.it <- (!is.na(match(my.data.name, objects(0))))
    if (undo.it) old.contents <- get(my.data.name, frame=0)
    my.data <- try(get(my.data.name))
    if (class(my.data)=="Error")
      my.data <- try(get(my.data.name, frame=sys.parent()))
    if (class(my.data)=="Error")
      stop("Please send me an email with a reproducible situation that got you
here. (rmh at temple.edu)")
    assign(my.data.name, my.data, frame=0)
  },r={})
  default.newdata <- data.frame(seq(xlim[1], xlim[2], length=51))
  names(default.newdata) <- x.name
  if (missing.xlim) xlim <- xlim + diff(xlim)*c(-.02,.02) ## needed
  if (missing.newdata) {
    newdata <- default.newdata
    newdata.x <- numeric()
  }
  else {
    if (is.na(match(x.name, names(newdata))))
      stop(paste("'newdata' must be a data.frame containing a column named '",
                 x.name, "'", sep=""))
    if (missing.xlim)
      xlim=range(xlim, newdata[[x.name]])
    newdata.x <- as.data.frame(newdata)[,x.name]
    newdata <- rbind(as.data.frame(newdata)[,x.name, drop=FALSE],
                     default.newdata)
    newdata <- newdata[order(newdata[,x.name]), , drop=FALSE]
  }
  if (missing.xlim) xlim <- xlim + diff(xlim)*c(-.02,.02) ## repeat is needed
  if (missing(newfit)) newfit <-
    if.R(s={
      
      prediction <-
        predict(lm.object, newdata=newdata,
                se.fit=TRUE, ci.fit=TRUE, pi.fi=TRUE,
                conf.level=conf.level)
      {
        ## restore frame=0
        if (undo.it) assign(my.data.name, old.contents, frame=0)
        else remove(my.data.name, frame=0)
      }
      prediction
    }
         ,r={
           new.p <-
             predict(lm.object, newdata=newdata,
                     se.fit=TRUE, conf.level=conf.level,
                     interval = "prediction")
           new.c <-
             predict(lm.object, newdata=newdata,
                     se.fit=TRUE, conf.level=conf.level,
                     interval = "confidence")
           tmp <- new.p
           tmp$ci.fit <- new.c$fit[,c("lwr","upr"), drop=FALSE]
           dimnames(tmp$ci.fit)[[2]] <- c("lower","upper")
           attr(tmp$ci.fit,"conf.level") <- conf.level
           tmp$pi.fit <- new.p$fit[,c("lwr","upr"), drop=FALSE]
           dimnames(tmp$pi.fit)[[2]] <- c("lower","upper")
           attr(tmp$pi.fit,"conf.level") <- conf.level
           tmp$fit <- tmp$fit[,"fit", drop=FALSE]
           tmp
         })
  tpgsl <- trellis.par.get("superpose.line")
  tpgsl <- Rows(tpgsl, 1:4)
  tpgsl$col[1] <- 0
  xyplot(formula.lm, data=data, newdata=newdata, newfit=newfit,
         newdata.x=newdata.x,
         xlim=xlim, ylim=ylim, pch=pch,
         panel=function(..., newdata.x) {
           panel.ci.plot(...)
           if (length(newdata.x) > 0)
             panel.rug(x=newdata.x)
         },
         main=main,
         key=list(border=TRUE,
           space="right",
           text=list(c("observed","fit","conf int","pred int")),
           points=list(
             pch=c(pch,32,32,32),
             col=c(trellis.par.get("plot.symbol")$col, tpgsl$col[2:4])
             ),
           lines=tpgsl),
         ...)
}


From mathieu.ribatet at epfl.ch  Mon Apr 14 08:55:42 2008
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Mon, 14 Apr 2008 08:55:42 +0200
Subject: [Rd] && and ||
In-Reply-To: <119453.25747.qm@web46003.mail.sp1.yahoo.com>
References: <119453.25747.qm@web46003.mail.sp1.yahoo.com>
Message-ID: <4802FFEE.60607@epfl.ch>

Well, you just have to use "&", "|" instead of "&&", "||".

Best,
Mathieu

Yuan Jian a ?crit :
> Hello there,
>    
>   I got a small problem about logical calculation:
>   we can get a sequene from a+b as below:
>    
>   > a<-c(1,2)
>   
>> b<-c(3,4)
>> a+b
>>     
> [1] 4 6
>    
>   but when the sequences are logical. (I want to get (True,False) && (True, True) ==> (True, False), but when I do as below.
>   
>> e<-c(T,T)
>> f<-c(F,T)
>> e
>>     
> [1] TRUE TRUE
>   
>> f
>>     
> [1] FALSE  TRUE
>   
>> g<-e && f
>>     
>   **g becomes one logical value only
>   
>> g
>>     
> [1] FALSE
>   
> what should I do when I want to get a sequence for operate && or ||?
>    
>   kind regards
>   Yu
>    
>
>         
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>   

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From jared.oconnell at gmail.com  Mon Apr 14 08:58:10 2008
From: jared.oconnell at gmail.com (Jared O'Connell)
Date: Mon, 14 Apr 2008 08:58:10 +0200
Subject: [Rd] && and |
In-Reply-To: <119453.25747.qm@web46003.mail.sp1.yahoo.com>
References: <119453.25747.qm@web46003.mail.sp1.yahoo.com>
Message-ID: <8c464e8f0804132358k2d989c0bi4831d0550c1539e7@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080414/3f5a3d96/attachment.pl 

From mathieu.ribatet at epfl.ch  Mon Apr 14 09:00:24 2008
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Mon, 14 Apr 2008 09:00:24 +0200
Subject: [Rd] Incorrect @INC: Rcmd SHLIB error under Windows (2.6.2,
 44383) (PR#11161)
In-Reply-To: <20080413172018.BEA89282EF48@mail.pubhealth.ku.dk>
References: <20080413172018.BEA89282EF48@mail.pubhealth.ku.dk>
Message-ID: <48030108.603@epfl.ch>

Has your environment variable path been set correctly?

It's been a while that I'm not using R under windows but remember had 
experienced the same error. I remember that I had to put many paths as 
environment variable to build R packages properly.

Best,
Mathieu


wolpert at stat.duke.edu a ?crit :
> Hi, R team.
>
> I'm trying to build a dll from a c program to be invoked within R using 
> the .C() functionality.
>
> Everything works like a charm on my Linux (Centos 5) (also 2.6.2) machines--- 
> but under windows (Vista Ultimate) upon running (in either the windows 'Cmd' 
> command window or a Bash window) the command
>
> Rcmd SHLIB myfun.c
>
> I receive the error:
>
> Can't locate R/Utils.pm in
> @INC (@INC contains: c \PROGRA~1\R\R-26~1.2\share\perl;
> /usr/lib/perl5/5.8/cygwin /usr/lib/perl5/5.8
> /usr/lib/perl5/site_perl/5.8/cygwin /usr/lib/perl5/site_perl/5.8
> /usr/lib/perl5/site_perl/5.8 /usr/lib/perl5/vendor_perl/5.8/cygwin
> /usr/lib/perl5/vendor_perl/5.8 /usr/lib/perl5/vendor_perl/5.8 .) at
> c:\PROGRA~1\R\R-26~1.2/bin/SHLIB line 22.
> BEGIN failed--compilation aborted at c:\PROGRA~1\R\R-26~1.2/bin/SHLIB line
> 22.
>
> -------------- -------------- -------------- -------------- --------------
>
> Notice the first entry in @INC is incorrect---  the item
>
>    c \PROGRA~1\R\R-26~1.2\share\perl;
>
> SHOULD be
>
>    c:\PROGRA~1\R\R-26~1.2\share\perl;
>
> but a space appears where the colon should be.
>
> The neeeded file 'R/Utils.pm' is in fact located where it should be,
> below 'c:\PROGRA~1\R\R-26~1.2\share\perl', but perl can't find it because
> INC is set incorrectly.
>
> Any suggestions?  Where IS 'INC' set?  Cheers,                -R
>
> ----------------------------------------------------------------------
>  Prof. Robert L. Wolpert : <wolpert at stat.Duke.edu>  : +1-919-684-3275
>  Duke Univ. Dept. of Statistical Science  :  211c Old Chem, Box 90251
>  & Nicholas School of the Environment     :   www.stat.Duke.edu/~rlw/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>   

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From s.blomberg1 at uq.edu.au  Mon Apr 14 09:03:23 2008
From: s.blomberg1 at uq.edu.au (Simon Blomberg)
Date: Mon, 14 Apr 2008 17:03:23 +1000
Subject: [Rd] && and ||
In-Reply-To: <119453.25747.qm@web46003.mail.sp1.yahoo.com>
References: <119453.25747.qm@web46003.mail.sp1.yahoo.com>
Message-ID: <1208156603.4279.77.camel@sib-sblomber01d.sib.uq.edu.au>

Use the vector versions: & and |

Cheers,

Simon.

On Sun, 2008-04-13 at 23:48 -0700, Yuan Jian wrote:
> Hello there,
>    
>   I got a small problem about logical calculation:
>   we can get a sequene from a+b as below:
>    
>   > a<-c(1,2)
> > b<-c(3,4)
> > a+b
> [1] 4 6
>    
>   but when the sequences are logical. (I want to get (True,False) && (True, True) ==> (True, False), but when I do as below.
> > e<-c(T,T)
> > f<-c(F,T)
> > e
> [1] TRUE TRUE
> > f
> [1] FALSE  TRUE
> > g<-e && f
>   **g becomes one logical value only
> > g
> [1] FALSE
> > 
> what should I do when I want to get a sequence for operate && or ||?
>    
>   kind regards
>   Yu
>    
> 
>         
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
-- 
Simon Blomberg, BSc (Hons), PhD, MAppStat. 
Lecturer and Consultant Statistician 
Faculty of Biological and Chemical Sciences 
The University of Queensland 
St. Lucia Queensland 4072 
Australia
Room 320 Goddard Building (8)
T: +61 7 3365 2506
http://www.uq.edu.au/~uqsblomb
email: S.Blomberg1_at_uq.edu.au

Policies:
1.  I will NOT analyse your data for you.
2.  Your deadline is your problem.

The combination of some data and an aching desire for 
an answer does not ensure that a reasonable answer can 
be extracted from a given body of data. - John Tukey.


From mathieu.ribatet at epfl.ch  Mon Apr 14 09:05:09 2008
From: mathieu.ribatet at epfl.ch (mathieu.ribatet at epfl.ch)
Date: Mon, 14 Apr 2008 09:05:09 +0200 (CEST)
Subject: [Rd] Incorrect @INC: Rcmd SHLIB error under Windows (2.6.2,
	44383) (PR#11165)
Message-ID: <20080414070509.A55832834169@mail.pubhealth.ku.dk>

Has your environment variable path been set correctly?

It's been a while that I'm not using R under windows but remember had 
experienced the same error. I remember that I had to put many paths as 
environment variable to build R packages properly.

Best,
Mathieu


wolpert at stat.duke.edu a ?crit :
> Hi, R team.
>
> I'm trying to build a dll from a c program to be invoked within R using 
> the .C() functionality.
>
> Everything works like a charm on my Linux (Centos 5) (also 2.6.2) machines--- 
> but under windows (Vista Ultimate) upon running (in either the windows 'Cmd' 
> command window or a Bash window) the command
>
> Rcmd SHLIB myfun.c
>
> I receive the error:
>
> Can't locate R/Utils.pm in
> @INC (@INC contains: c \PROGRA~1\R\R-26~1.2\share\perl;
> /usr/lib/perl5/5.8/cygwin /usr/lib/perl5/5.8
> /usr/lib/perl5/site_perl/5.8/cygwin /usr/lib/perl5/site_perl/5.8
> /usr/lib/perl5/site_perl/5.8 /usr/lib/perl5/vendor_perl/5.8/cygwin
> /usr/lib/perl5/vendor_perl/5.8 /usr/lib/perl5/vendor_perl/5.8 .) at
> c:\PROGRA~1\R\R-26~1.2/bin/SHLIB line 22.
> BEGIN failed--compilation aborted at c:\PROGRA~1\R\R-26~1.2/bin/SHLIB line
> 22.
>
> -------------- -------------- -------------- -------------- --------------
>
> Notice the first entry in @INC is incorrect---  the item
>
>    c \PROGRA~1\R\R-26~1.2\share\perl;
>
> SHOULD be
>
>    c:\PROGRA~1\R\R-26~1.2\share\perl;
>
> but a space appears where the colon should be.
>
> The neeeded file 'R/Utils.pm' is in fact located where it should be,
> below 'c:\PROGRA~1\R\R-26~1.2\share\perl', but perl can't find it because
> INC is set incorrectly.
>
> Any suggestions?  Where IS 'INC' set?  Cheers,                -R
>
> ----------------------------------------------------------------------
>  Prof. Robert L. Wolpert : <wolpert at stat.Duke.edu>  : +1-919-684-3275
>  Duke Univ. Dept. of Statistical Science  :  211c Old Chem, Box 90251
>  & Nicholas School of the Environment     :   www.stat.Duke.edu/~rlw/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>   

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From ripley at stats.ox.ac.uk  Mon Apr 14 09:20:17 2008
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Mon, 14 Apr 2008 09:20:17 +0200 (CEST)
Subject: [Rd] (PR#11161) Incorrect @INC: Rcmd SHLIB error under Windows
Message-ID: <20080414072017.B516F2834154@mail.pubhealth.ku.dk>

The bug is yours: you are using Cygwin Perl, not a Windows Perl.

This is specifically warned about in the manual:

   @strong{Beware}: you do need a @emph{Windows} port and not the Cygwin
   one.  Users of 64-bit Windows can use a Win64 Perl (such as that from
   ActiveState) if they prefer.

You can't expect to use tools from a different operating system (Cygwin is 
effectively a guest OS) with different conventions.

You also missed

   @emph{This section contains a lot of prescriptive comments.  They are
   here as a result of bitter experience.  Please do not report problems
   to R-help unless you have followed all the prescriptions.}

Do we need to say 'do not report problems to R-help, let alone as bugs 
...'?



On Sun, 13 Apr 2008, wolpert at stat.duke.edu wrote:

> Hi, R team.
>
> I'm trying to build a dll from a c program to be invoked within R using
> the .C() functionality.
>
> Everything works like a charm on my Linux (Centos 5) (also 2.6.2) machines---
> but under windows (Vista Ultimate) upon running (in either the windows 'Cmd'
> command window or a Bash window) the command
>
> Rcmd SHLIB myfun.c
>
> I receive the error:
>
> Can't locate R/Utils.pm in
> @INC (@INC contains: c \PROGRA~1\R\R-26~1.2\share\perl;
> /usr/lib/perl5/5.8/cygwin /usr/lib/perl5/5.8
> /usr/lib/perl5/site_perl/5.8/cygwin /usr/lib/perl5/site_perl/5.8
> /usr/lib/perl5/site_perl/5.8 /usr/lib/perl5/vendor_perl/5.8/cygwin
> /usr/lib/perl5/vendor_perl/5.8 /usr/lib/perl5/vendor_perl/5.8 .) at
> c:\PROGRA~1\R\R-26~1.2/bin/SHLIB line 22.
> BEGIN failed--compilation aborted at c:\PROGRA~1\R\R-26~1.2/bin/SHLIB line
> 22.
>
> -------------- -------------- -------------- -------------- --------------
>
> Notice the first entry in @INC is incorrect---  the item
>
>   c \PROGRA~1\R\R-26~1.2\share\perl;

That is two entries, not one.

> SHOULD be
>
>   c:\PROGRA~1\R\R-26~1.2\share\perl;
>
> but a space appears where the colon should be.
>
> The neeeded file 'R/Utils.pm' is in fact located where it should be,
> below 'c:\PROGRA~1\R\R-26~1.2\share\perl', but perl can't find it because
> INC is set incorrectly.
>
> Any suggestions?  Where IS 'INC' set?  Cheers,                -R
>
> ----------------------------------------------------------------------
> Prof. Robert L. Wolpert : <wolpert at stat.Duke.edu>  : +1-919-684-3275
> Duke Univ. Dept. of Statistical Science  :  211c Old Chem, Box 90251
> & Nicholas School of the Environment     :   www.stat.Duke.edu/~rlw/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ligges at statistik.tu-dortmund.de  Mon Apr 14 10:10:15 2008
From: ligges at statistik.tu-dortmund.de (ligges at statistik.tu-dortmund.de)
Date: Mon, 14 Apr 2008 10:10:15 +0200 (CEST)
Subject: [Rd] Bug in ci.plot(HH Package) (PR#11163)
Message-ID: <20080414081015.C4D8D2834155@mail.pubhealth.ku.dk>

Please report bugs in contributes packages to the package maintainer 
(CCing), not to R-bugs.

Best,
Uwe Ligges


nakajima at hokkaido-iri.go.jp wrote:
> Full_Name: Yasuhiro Nakajima
> Version: 2.6.1
> OS: WinXP SP2
> Submission from: (NULL) (202.237.255.13)
> 
> 
> Dear all,
> 
> I noticed the following behaviour of ci.plot in HH Package(ver.2.1-9):
> 
>> library(HH)
>> data(women, package="datasets")
>> attach(women)
>> ft <- lm(height~weight)
>> windows()
>> ci.plot(ft,conf.level=0.95)
>> windows()
>> ci.plot(ft,conf.level=0.999)
> 
> I tried to change the confidence interval, but I couldn't.
> CI was "always" 0.95. 
> 
> I have found wrong argument in predict function in ci.plot.
> 
>>>   predict(....., conf.level=conf.level)
> 
> I think the correct is "level=conf.level".
> 
> Is that right?
> 
> 
> --- ci.plot source code ---
> "ci.plot" <-
> function(lm.object, ...)
>   UseMethod("ci.plot")
> 
> "ci.plot.lm" <-
> function(lm.object,
>          xlim=range(data[, x.name]),
>          newdata,
>          conf.level=.95,
>          data=model.frame(lm.object),
>          newfit,
>          ylim=range(newfit$pi.fit),
>          pch=16,
>          main.cex=1,
>          main=list(paste(100*conf.level,
>            "% confidence and prediction intervals for ",
>            substitute(lm.object), sep=""), cex=main.cex), ...
>          ) {
>   formula.lm <- formula(lm.object)
>   x.name <- as.character(formula.lm[[3]])
>   missing.xlim <- missing(xlim)       ## R needs this
>   missing.newdata <- missing(newdata) ## R needs this
>   if.R(s={
>     ## Save a copy of the data.frame in frame=0 to put it where
>     ## model.frame.lm needs to find it when the example data is
>     ## run through Splus CMD check.
>     my.data.name <- as.character(lm.object$call$data)
>     if (length(my.data.name)==0)
>       stop("Please provide an lm.object calculated with an explicit
> 'data=my.data.frame' argument.")
>     undo.it <- (!is.na(match(my.data.name, objects(0))))
>     if (undo.it) old.contents <- get(my.data.name, frame=0)
>     my.data <- try(get(my.data.name))
>     if (class(my.data)=="Error")
>       my.data <- try(get(my.data.name, frame=sys.parent()))
>     if (class(my.data)=="Error")
>       stop("Please send me an email with a reproducible situation that got you
> here. (rmh at temple.edu)")
>     assign(my.data.name, my.data, frame=0)
>   },r={})
>   default.newdata <- data.frame(seq(xlim[1], xlim[2], length=51))
>   names(default.newdata) <- x.name
>   if (missing.xlim) xlim <- xlim + diff(xlim)*c(-.02,.02) ## needed
>   if (missing.newdata) {
>     newdata <- default.newdata
>     newdata.x <- numeric()
>   }
>   else {
>     if (is.na(match(x.name, names(newdata))))
>       stop(paste("'newdata' must be a data.frame containing a column named '",
>                  x.name, "'", sep=""))
>     if (missing.xlim)
>       xlim=range(xlim, newdata[[x.name]])
>     newdata.x <- as.data.frame(newdata)[,x.name]
>     newdata <- rbind(as.data.frame(newdata)[,x.name, drop=FALSE],
>                      default.newdata)
>     newdata <- newdata[order(newdata[,x.name]), , drop=FALSE]
>   }
>   if (missing.xlim) xlim <- xlim + diff(xlim)*c(-.02,.02) ## repeat is needed
>   if (missing(newfit)) newfit <-
>     if.R(s={
>       
>       prediction <-
>         predict(lm.object, newdata=newdata,
>                 se.fit=TRUE, ci.fit=TRUE, pi.fi=TRUE,
>                 conf.level=conf.level)
>       {
>         ## restore frame=0
>         if (undo.it) assign(my.data.name, old.contents, frame=0)
>         else remove(my.data.name, frame=0)
>       }
>       prediction
>     }
>          ,r={
>            new.p <-
>              predict(lm.object, newdata=newdata,
>                      se.fit=TRUE, conf.level=conf.level,
>                      interval = "prediction")
>            new.c <-
>              predict(lm.object, newdata=newdata,
>                      se.fit=TRUE, conf.level=conf.level,
>                      interval = "confidence")
>            tmp <- new.p
>            tmp$ci.fit <- new.c$fit[,c("lwr","upr"), drop=FALSE]
>            dimnames(tmp$ci.fit)[[2]] <- c("lower","upper")
>            attr(tmp$ci.fit,"conf.level") <- conf.level
>            tmp$pi.fit <- new.p$fit[,c("lwr","upr"), drop=FALSE]
>            dimnames(tmp$pi.fit)[[2]] <- c("lower","upper")
>            attr(tmp$pi.fit,"conf.level") <- conf.level
>            tmp$fit <- tmp$fit[,"fit", drop=FALSE]
>            tmp
>          })
>   tpgsl <- trellis.par.get("superpose.line")
>   tpgsl <- Rows(tpgsl, 1:4)
>   tpgsl$col[1] <- 0
>   xyplot(formula.lm, data=data, newdata=newdata, newfit=newfit,
>          newdata.x=newdata.x,
>          xlim=xlim, ylim=ylim, pch=pch,
>          panel=function(..., newdata.x) {
>            panel.ci.plot(...)
>            if (length(newdata.x) > 0)
>              panel.rug(x=newdata.x)
>          },
>          main=main,
>          key=list(border=TRUE,
>            space="right",
>            text=list(c("observed","fit","conf int","pred int")),
>            points=list(
>              pch=c(pch,32,32,32),
>              col=c(trellis.par.get("plot.symbol")$col, tpgsl$col[2:4])
>              ),
>            lines=tpgsl),
>          ...)
> }
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From grgoswami at gmail.com  Mon Apr 14 13:47:58 2008
From: grgoswami at gmail.com (Gopi Goswami)
Date: Mon, 14 Apr 2008 07:47:58 -0400
Subject: [Rd] Doing the right amount of copy for large data frames.
Message-ID: <5811e0170804140447k42854551p2a60e03a59b853ca@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080414/8e7b27df/attachment.pl 

From P.Dalgaard at biostat.ku.dk  Mon Apr 14 16:11:08 2008
From: P.Dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Mon, 14 Apr 2008 16:11:08 +0200
Subject: [Rd] Doing the right amount of copy for large data frames.
In-Reply-To: <5811e0170804140447k42854551p2a60e03a59b853ca@mail.gmail.com>
References: <5811e0170804140447k42854551p2a60e03a59b853ca@mail.gmail.com>
Message-ID: <480365FC.7010200@biostat.ku.dk>

Gopi Goswami wrote:
> Hi there,
>
>
> Problem ::
> When one tries to change one or some of the columns of a data.frame, R makes
> a copy of the whole data.frame using the '*tmp*' mechanism (this does not
> happen for components of a list, tracemem( ) on R-2.6.2 says so).
>
>
> Suggested solution ::
> Store the columns of the data.frame as a list inside of an environment slot
> of an S4 class, and define the '[', '[<-' etc. operators using setMethod( )
> and setReplaceMethod( ).
>
>
> Question ::
> This implementation will violate copy on modify principle of R (since
> environments are not copied), but will save a lot of memory. Do you see any
> other obvious problem(s) with the idea? Have you seen a related setup
> implemented / considered before (apart from the packages like filehash, ff,
> and database related ones for saving memory)?
>
>
>   
A short --- although crass --- reply is that you should not meddle with
this until you know _exactly_ what you are doing....

Two main points are that (a) copying of dataframes in principle only
copies pointers to each variable, until the actual contents are modified
and (b) breaking copy-on-modify (and consequently effectively also break
pass-by-value) semantics is a source of unhappiness.

R does duplicate rather more than it needs to, but the main reason
probably lies in its rudimentary reference tracking (the NAMED entry in
the object header structure). Some of us do wish we could try and fix
this at some point, but it would be a major undertaking. (There are a
zillion places where we'd need to do extra housekeeping rather than let
the garbage collector tidy up after us. Also, reference-counting
solutions from other computer languages do not apply because R can have
circular references.)


> Implementation code snippet ::
> ### The S4 class.
> setClass('DataFrame',
>               representation(data = 'data.frame', nrow = 'numeric', ncol =
> 'numeric', store = 'environment'),
>               prototype(data = data.frame( ), nrow = 0, ncol = 0))
>
> setMethod('initialize', 'DataFrame', function(.Object) {
>     .Object <- callNextMethod( )
>     .Object at store <- new.env(hash = TRUE)
>     assign('data', as.list(.Object at data), .Object at store)
>     .Object at nrow <- nrow(.Object at data)
>     .Object at ncol <- ncol(.Object at data)
>     .Object at data <- data.frame( )
>     .Object
> })
>
>
> ### Usage:
> nn  <- 10
> ## dd1 below could possibly be created by read.table or scan and data.frame
> dd1 <- data.frame(xx = rnorm(nn), yy = rnorm(nn))
> dd2 <- new('DataFrame', data = dd1)
> rm(dd1)
> ## Now work with dd2
>
>
> Thanks a lot,
> Gopi Goswami.
> PhD, Statistics, 2005
> http://gopi-goswami.net/index.html
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>   


-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From tplate at acm.org  Mon Apr 14 16:18:47 2008
From: tplate at acm.org (Tony Plate)
Date: Mon, 14 Apr 2008 08:18:47 -0600
Subject: [Rd] Doing the right amount of copy for large data frames.
In-Reply-To: <5811e0170804140447k42854551p2a60e03a59b853ca@mail.gmail.com>
References: <5811e0170804140447k42854551p2a60e03a59b853ca@mail.gmail.com>
Message-ID: <480367C7.3020508@acm.org>

Gopi Goswami wrote:
> Hi there,
>
>
> Problem ::
> When one tries to change one or some of the columns of a data.frame, R makes
> a copy of the whole data.frame using the '*tmp*' mechanism (this does not
> happen for components of a list, tracemem( ) on R-2.6.2 says so).
>
>
> Suggested solution ::
> Store the columns of the data.frame as a list inside of an environment slot
> of an S4 class, and define the '[', '[<-' etc. operators using setMethod( )
> and setReplaceMethod( ).
>
>
> Question ::
> This implementation will violate copy on modify principle of R (since
> environments are not copied), but will save a lot of memory. Do you see any
> other obvious problem(s) with the idea?
Well, because it violates the copy-on-modify principle it can 
potentially break code that depends on this principle.  I don't know how 
much there is -- did you try to see if R and recommended packages will 
pass checks with this change in place?
>  Have you seen a related setup
> implemented / considered before (apart from the packages like filehash, ff,
> and database related ones for saving memory)?
>   
I've frequently used a personal package that stores array data in a file 
(like ff).  It works fine, and I partially get around the problem of 
violating the copy-on-modify principle by having a readonly flag in the 
object -- when the flag is set to allow modification I have to be 
careful, but after I set it to readonly I can use it more freely with 
the knowledge that if some function does attempt to modify the object, 
it will stop with an error.

In this particular case, why not just track down why data frame 
modification is copying the entire object and suggest a change so that 
it just copies the column being changed?  (should be possible if list 
modification doesn't copy all components).

-- Tony Plate
>
> Implementation code snippet ::
> ### The S4 class.
> setClass('DataFrame',
>               representation(data = 'data.frame', nrow = 'numeric', ncol =
> 'numeric', store = 'environment'),
>               prototype(data = data.frame( ), nrow = 0, ncol = 0))
>
> setMethod('initialize', 'DataFrame', function(.Object) {
>     .Object <- callNextMethod( )
>     .Object at store <- new.env(hash = TRUE)
>     assign('data', as.list(.Object at data), .Object at store)
>     .Object at nrow <- nrow(.Object at data)
>     .Object at ncol <- ncol(.Object at data)
>     .Object at data <- data.frame( )
>     .Object
> })
>
>
> ### Usage:
> nn  <- 10
> ## dd1 below could possibly be created by read.table or scan and data.frame
> dd1 <- data.frame(xx = rnorm(nn), yy = rnorm(nn))
> dd2 <- new('DataFrame', data = dd1)
> rm(dd1)
> ## Now work with dd2
>
>
> Thanks a lot,
> Gopi Goswami.
> PhD, Statistics, 2005
> http://gopi-goswami.net/index.html
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From Greg.Snow at imail.org  Mon Apr 14 17:27:25 2008
From: Greg.Snow at imail.org (Greg Snow)
Date: Mon, 14 Apr 2008 09:27:25 -0600
Subject: [Rd] HOW TO AVOID LOOPS
In-Reply-To: <D99EF9CF426E438F9048BAC9637B4A1A@your136f2019dc>
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc><B57FC282-F852-432D-942F-458FA4E00ABB@act.ulaval.ca><20080412174500.GA17773@stats.ox.ac.uk><20080412203249.GA21610@stats.ox.ac.uk><6ph1w5an601.fsf@lamprey.fhcrc.org>
	<D99EF9CF426E438F9048BAC9637B4A1A@your136f2019dc>
Message-ID: <07E228A5BE53C24CAD490193A7381BBB0100B756@LP-EXCHVS07.CO.IHC.COM>

I would be interested to see how the following approach compares to the other suggestions:

> x <- c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> test <- c(0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
> out <- Reduce( function(x,y) x*y + y, x, accumulate=TRUE )
> all.equal(out,test)
[1] TRUE

For the second question, you can do something like:

> test2 <- c(0,0,1,0,0,0,3,0,0,0,2,0,1,0,0,0,0,0,0,6)
> out2 <- out * c( out[-1]==0, 1 )
> all.equal(out2,test2)
[1] TRUE



-- 
Gregory (Greg) L. Snow Ph.D.
Statistical Data Center
Intermountain Healthcare
greg.snow at imail.org
(801) 408-8111
 
 

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of carlos martinez
> Sent: Saturday, April 12, 2008 7:33 PM
> To: r-devel at r-project.org
> Cc: Vincent.Goulet at act.ulaval.ca
> Subject: Re: [Rd] HOW TO AVOID LOOPS
> 
> Appreciate the ingenious and effective suggestions and feedback from:
> 
> Dan Davison
> Vincent Goulet
> Martin Morgan
> Hadley Wickham
> 
> The variety of technical approaches proposes so far are clear 
> prove of the strong and flexible capabilites of the R system, 
> and specially the dynamics and technical understanding of the 
> R user base.
> 
> We tested all four recommendations with an input vector of 
> more than 850000 components, and got time-responses from 
> about 40-second to 20-seconds.
> 
> All four approches produced the desired vector. The Wickham's 
> approach produced and extra vector, but the second vector 
> included the correct format.
> 
> Just one additional follow up, to obtain from the same input vector:
> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> 
> A vector of the following format:
> (0,0,1,0,0,0,3,0,0,0,2,0,1,0,0,0,0,0,6)
> 
> Will be easier and more efficient to start from the original 
> input vector, or start from the above second vector
> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
> 
> Thanks for your responses.
> 
> --------------------------------------------------------------
> -----------
> Hadley Wickham Approach
> 
> How about:
> 
> unlist(lapply(split(x, cumsum(x == 0)), seq_along)) - 1
> 
> Hadley
> --------------------------------------------------------------
> ------------
> -----Original Message-----
> From: Martin Morgan [mailto:mtmorgan at fhcrc.org]
> Sent: Saturday, April 12, 2008 5:00 PM
> To: Dan Davison
> Cc: martinezbula at earthlink.net
> Subject: Re: [Rd] HOW TO AVOID LOOPS
> 
> (anonymous 'off-list' response; some extra calcs but tidy)
> 
> > x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> > x * unlist(lapply(rle(x)$lengths, seq))
>  [1] 0 0 1 0 1 2 3 0 0 1 2 0 1 0 1 2 3 4 5 6
> 
> 
> Dan Davison <davison at stats.ox.ac.uk> writes:
> 
> > On Sat, Apr 12, 2008 at 06:45:00PM +0100, Dan Davison wrote:
> >> On Sat, Apr 12, 2008 at 01:30:13PM -0400, Vincent Goulet wrote:
> >> > Le sam. 12 avr. ? 12:47, carlos martinez a ?crit :
> >> > >> Looking for a simple, effective a minimum execution 
> time solution.
> >> > >>
> >> > >> For a vector as:
> >> > >>
> >> > >> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> >> > >>
> >> > > To transform it to the following vector without using 
> any loops:
> >> > >
> >> > >> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
> >> > >>
> >> > > Appreciate any suggetions.
> >> > 
> >> > This does it -- but it is admittedly ugly:
> >> > 
> >> >  > x <- c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> >> >  > ind <- which(x == 0)
> >> >  > unlist(lapply(mapply(seq, ind, c(tail(ind, -1) - 1, 
> length(x))),
> >> > function(y) cumsum(x[y])))
> >> >   [1] 0 0 1 0 1 2 3 0 0 1 2 0 1 0 1 2 3 4 5 6
> >> > 
> >> > (The mapply() part is used to create the indexes of each 
> sequence 
> >> > in x starting with a 0. The rest is then straightforward.)
> >> 
> >> 
> >> Here's my effort. Maybe a bit easier to digest? Only one *apply so
> probably more efficient.
> >> 
> >> function(x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)) {
> >>     d <- diff(c(0,x,0))
> >>     starts <- which(d == 1)
> >>     ends <- which(d == -1)
> >>     x[x == 1] <- unlist(lapply(ends - starts, function(n) 1:n))
> >>     x
> >> }
> >> 
> >
> > Come to think of it, I suggest using the existing R function rle(), 
> > rather
> than my dodgy substitute.
> >
> > e.g.
> >
> > g <- function(x=c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)) {
> >
> >     runs <- rle(x)
> >     runlengths <- runs$lengths[runs$values == 1]
> >     x[x == 1] <- unlist(lapply(runlengths, function(n) 1:n))
> >     x
> > }
> >
> > Dan
> >
> > p.s. R-help would perhaps have been more appropriate than R-devel
> >
> >
> >> Dan
> >> 
> >> 
> >> > 
> >> > HTH
> >> > 
> >> > ---
> >> >    Vincent Goulet, Associate Professor
> >> >    ?cole d'actuariat
> >> >    Universit? Laval, Qu?bec
> >> >    Vincent.Goulet at act.ulaval.ca   http://vgoulet.act.ulaval.ca
> >> > 
> >> > ______________________________________________
> >> > R-devel at r-project.org mailing list
> >> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> --
> Martin Morgan
> Computational Biology / Fred Hutchinson Cancer Research 
> Center 1100 Fairview Ave. N.
> PO Box 19024 Seattle, WA 98109
> 
> Location: Arnold Building M2 B169
> Phone: (206) 667-2793
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From mtmorgan at fhcrc.org  Mon Apr 14 17:59:15 2008
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Mon, 14 Apr 2008 08:59:15 -0700
Subject: [Rd] Doing the right amount of copy for large data frames.
In-Reply-To: <5811e0170804140447k42854551p2a60e03a59b853ca@mail.gmail.com>
	(Gopi Goswami's message of "Mon, 14 Apr 2008 07:47:58 -0400")
References: <5811e0170804140447k42854551p2a60e03a59b853ca@mail.gmail.com>
Message-ID: <6phfxto2zsc.fsf@lamprey.fhcrc.org>

Hi Gopi

"Gopi Goswami" <grgoswami at gmail.com> writes:

> Hi there,
>
>
> Problem ::
> When one tries to change one or some of the columns of a data.frame, R makes
> a copy of the whole data.frame using the '*tmp*' mechanism (this does not
> happen for components of a list, tracemem( ) on R-2.6.2 says so).
>
>
> Suggested solution ::
> Store the columns of the data.frame as a list inside of an environment slot
> of an S4 class, and define the '[', '[<-' etc. operators using setMethod( )
> and setReplaceMethod( ).

The Biocondcutor package Biobase has a class 'ExpressionSet' with slot
assayData. By default assayData is an environment that is 'locked' so
can't be modified casually. The interface to ExpressionSet unlocks the
environment, and copies and modifies it when necessary. This is not
quite the same as you propose, but has some similar characteristics.

I've spent a lot of time with this data structure, and think this
borders on one of those ideas that 'seemed like a good idea at the
time'. You end up using R-level tools to manage memory. Copy-on-change
is better than you might naively think at not making unnecessary
copies. S4 caries significant overhead, including copies during method
dispatch, that work against you (subsetting an expression set in an
OOP way, no behind-the-scenes tricks, makes *5* copies of the S4
instance, though perhaps these are light-weight because the big data
is in an environment). And in the mean time computers have gotten
faster and bigger, and the 'big' data of ExpressionSets are now only
modestly sized or even small.

A somewhat different approach is in the Biostrings package, for
instance DNAStringSet, where the original object is 'read-only'. The
user is presented with a 'view' into the object; changing the view
(subsetting) changes the indicies in the view but not the original
data. This is both fast and memory efficient. This is a read-only
solution, though.

Hope that helps, Martin

> Question ::
> This implementation will violate copy on modify principle of R (since
> environments are not copied), but will save a lot of memory. Do you see any
> other obvious problem(s) with the idea? Have you seen a related setup
> implemented / considered before (apart from the packages like filehash, ff,
> and database related ones for saving memory)?
>
>
> Implementation code snippet ::
> ### The S4 class.
> setClass('DataFrame',
>               representation(data = 'data.frame', nrow = 'numeric', ncol =
> 'numeric', store = 'environment'),
>               prototype(data = data.frame( ), nrow = 0, ncol = 0))
>
> setMethod('initialize', 'DataFrame', function(.Object) {
>     .Object <- callNextMethod( )
>     .Object at store <- new.env(hash = TRUE)
>     assign('data', as.list(.Object at data), .Object at store)
>     .Object at nrow <- nrow(.Object at data)
>     .Object at ncol <- ncol(.Object at data)
>     .Object at data <- data.frame( )
>     .Object
> })
>
>
> ### Usage:
> nn  <- 10
> ## dd1 below could possibly be created by read.table or scan and data.frame
> dd1 <- data.frame(xx = rnorm(nn), yy = rnorm(nn))
> dd2 <- new('DataFrame', data = dd1)
> rm(dd1)
> ## Now work with dd2
>
>
> Thanks a lot,
> Gopi Goswami.
> PhD, Statistics, 2005
> http://gopi-goswami.net/index.html
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M2 B169
Phone: (206) 667-2793


From jmc at r-project.org  Mon Apr 14 20:14:35 2008
From: jmc at r-project.org (John Chambers)
Date: Mon, 14 Apr 2008 11:14:35 -0700
Subject: [Rd] promptFunctions() to handle multiple names
In-Reply-To: <48021E3B.1080000@campus.lmu.de>
References: <48021E3B.1080000@campus.lmu.de>
Message-ID: <48039F0B.2030808@r-project.org>

Daniel,

Check out the promptAll() function in the SoDA package on CRAN.  
(Because it was written as an example for my new book, it's not the 
fanciest imaginable, but seems to work OK.)

John


Daniel Saban?s Bov? wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA512
>
> Hi all,
>
> I wanted to set up my first (private) R-package and wondered
> if there was a function to prompt() for multiple aliases in one Rd-file,
> e.g. to create something like the normal distribution manual page
> encompassing rnorm, dnorm,...
>
> As I didn't find it, I modified prompt.default() and wrote a small function
> to do this job, called "promptFunctions". It basically calls the helper
> ".promptFunction" for every name it gets and puts together the output
> from each function.
>
> It would be interesting for me if such a function already existed in R
> or if something like "promptFunction" could be included in any future R 
> version.
> I think it would be used as many man pages document several functions at 
> once,
> and cutting and pasting the single prompt() files by hand could be boring.
>
> regards,
> Daniel
>
> The Code:
>
> ## modified prompt.default to handle multiple functions correctly
> promptFunctions <-
> ~    function (...,                      # objects to be documented
> ~              filename = NULL,          # file name string or NA for 
> console
> ~              names = NULL,             # character vector of object names
> ~              rdname = NULL,            # name of the documentation
> ~              overwrite = FALSE         # overwrite existing Rd file?
> ~              )
> {
> ~    ## helper functions
> ~    paste0 <- function(...) paste(..., sep = "")
> ~    is.missing.arg <- function(arg) typeof(arg) == "symbol" &&
> ~        deparse(arg) == ""
>
> ~    ## generate additional names from objects
> ~    objects <- as.list (substitute (...[]))
> ~    objects <- objects[seq(from = 2, to = length(objects) - 1)]
> ~    objects <- sapply(objects, deparse)
>
> ~    ## merge with names from call and stop if there are no usable names
> ~    names <- unique(c(objects, names))
> ~    if (is.null(names))
> ~        stop ("cannot determine usable names")
>
> ~    ## determine Rd name
> ~    if(is.null(rdname))
> ~        rdname <- names[1]
>
> ~    ## determine file name
> ~    if (is.null(filename))
> ~        filename <- paste0(rdname, ".Rd")
>
> ~    ## treat each name individually
> ~    promptList <- lapply(names, .promptFunction)
> ~    names(promptList) <- names
>
> ~    ## construct text
> ~    Rdtxt <- list()
>
> ~    Rdtxt$name <- paste0("\\name{", rdname, "}")
> ~    Rdtxt$aliases <- c(paste0("\\alias{", names, "}"),
> ~                       paste("%- Also NEED an '\\alias' for EACH other 
> topic",
> ~                             "documented here."))
> ~    Rdtxt$title <- "\\title{ ~~functions to do ... ~~ }"
> ~    Rdtxt$description <- c("\\description{",
> ~                           paste("  ~~ A concise (1-5 lines) 
> description of what",
> ~                                 "the functions"),
> ~                           paste("    ", paste(names, collapse = ", "),
> ~                                 "do. ~~"),
> ~                           "}")
> ~    Rdtxt$usage <- c("\\usage{",
> ~                     unlist(lapply(promptList, "[[", "usage")),
> ~                     "}",
> ~                     paste("%- maybe also 'usage' for other objects",
> ~                           "documented here."))
> ~    arguments <- unique (unlist (lapply(promptList, "[[", "arg.n")))
> ~    Rdtxt$arguments <- if(length(arguments))
> ~        c("\\arguments{",
> ~          paste0("  \\item{", arguments, "}{",
> ~                 " ~~Describe \\code{", arguments, "} here~~ }"),
> ~          "}")
> ~    Rdtxt$details <- c("\\details{",
> ~                       paste("  ~~ If necessary, more details than the",
> ~                             "description above ~~"),
> ~                       "}")
> ~    Rdtxt$value <- c("\\value{",
> ~                     "  ~Describe the values returned",
> ~                     "  If it is a LIST, use",
> ~                     "  \\item{comp1 }{Description of 'comp1'}",
> ~                     "  \\item{comp2 }{Description of 'comp2'}",
> ~                     "  ...",
> ~                     "}")
> ~    Rdtxt$references <- paste("\\references{ ~put references to the",
> ~                              "literature/web site here ~ }")
> ~    Rdtxt$author <- "\\author{Daniel Saban\\'es Bov\\'e}"
> ~    Rdtxt$note <- c("\\note{ ~~further notes~~ ",
> ~                    "",
> ~                    paste(" ~Make other sections like Warning with",
> ~                          "\\section{Warning }{....} ~"),
> ~                    "}")
> ~    Rdtxt$seealso <- paste("\\seealso{ ~~objects to See Also as",
> ~                           "\\code{\\link{help}}, ~~~ }")
> ~    Rdtxt$examples <- c("\\examples{",
> ~                        "##---- Should be DIRECTLY executable !! ----",
> ~                        "##-- ==>  Define data, use random,",
> ~                        "##--\tor do  help(data=index)  for the 
> standard data sets.",
> ~                        "",
> ~                        "## The functions are currently defined as",
> ~                        unlist (lapply(promptList, "[[", "x.def")),
> ~                        "}")
> ~    Rdtxt$keywords <- c(paste("% Add one or more standard keywords,",
> ~                              "see file 'KEYWORDS' in the"),
> ~                        "% R documentation directory.",
> ~                        "\\keyword{ ~kwd1 }",
> ~                        "\\keyword{ ~kwd2 }% __ONLY ONE__ keyword per 
> line")
>
> ~    ## and write text to console
> ~    if (is.na(filename))
> ~        return(Rdtxt)
>
> ~    ## or file
> ~    if(file.exists(filename) && !overwrite)
> ~        warning(filename, " already exists. Choose overwrite = TRUE to 
> force.")
> ~    else {
> ~        cat(unlist(Rdtxt), file = filename, sep = "\n")
> ~        message(gettextf("Created file named '%s'.", filename), "\n",
> ~                gettext("Edit the file and move it to the appropriate 
> directory."),
> ~                domain = NA)
> ~    }
>
> ~    ## and return the file name
> ~    invisible(filename)
> }
>
>
> ## helper function for one name only
> .promptFunction <- function(name, ...)
> {
> ~    ## utility functions
> ~    paste0 <- function(...) paste(..., sep = "")
> ~    is.missing.arg <- function(arg)
> ~        typeof(arg) == "symbol" && deparse(arg) == ""
>
> ~    ## get object by name
> ~    x <- get(name, envir = parent.frame())
>
> ~    ## set up return list
> ~    ret <- list()
>
> ~    ## extract arguments
> ~    n <- length(argls <- formals(x))
> ~    if (n > 0) {
> ~        arg.names <- arg.n <- names(argls)
> ~        arg.n[arg.n == "..."] <- "\\dots"
> ~    }
> ~    Call <- paste0(name, "(")
> ~    for (i in seq_len(n)) {
> ~        Call <- paste0(Call, arg.names[i], if (!is.missing.arg(argls[[i]]))
> ~                       paste0(" = ", paste(deparse(argls[[i]], 
> width.cutoff = 500),
> ~                                           collapse = "\n")))
> ~        if (i != n)
> ~            Call <- paste0(Call, ", ")
> ~    }
>
> ~    ## and definition of the function
> ~    x.def <- attr(x, "source")
> ~    if (is.null(x.def))
> ~        x.def <- deparse(x)
> ~    if (any(br <- substr(x.def, 1, 1) == "}"))
> ~        x.def[br] <- paste(" ", x.def[br])
> ~    x.def <- gsub("%", "\\\\%", x.def)
> ~    x.def <- c(paste("##", name), x.def)
>
> ~    ## fill return list
> ~    ret$usage <- paste0(Call, ")")
> ~    ret$x.def <- x.def
> ~    ret$arg.n <- if(n > 0) arg.n
>
> ~    ## return the list
> ~    return(ret)
> }
>
>
> ## test this
> test <- function(x){
> ~    x + 5
> }
> b <- function(y)
> ~    test(y)
> y <- function(a, b, c){
> ~    print("hello")
> }
>
> promptFunctions(test, b, names = "y", rdname = "testbandy")
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2.0.4-svn0 (GNU/Linux)
> Comment: Using GnuPG with SUSE - http://enigmail.mozdev.org
>
> iD8DBQFIAh46zHZ0x5+gF9kRCnaOAJ9MQGHjosFEFshWYxAbfQ0E7fOsGQCfX2gp
> F0pJGX4/mai08ghJwj6yY18=
> =7r90
> -----END PGP SIGNATURE-----
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From Robert.McGehee at geodecapital.com  Mon Apr 14 21:15:16 2008
From: Robert.McGehee at geodecapital.com (McGehee, Robert)
Date: Mon, 14 Apr 2008 15:15:16 -0400
Subject: [Rd] NAs and Infinitely Large POSIXct Objects
Message-ID: <EEBC169715EB8C438D3C9283AF0F201C015B8610@MSGBOSCLM2WIN.DMN1.FMR.COM>

Hello,
I got bungled up by the fact that an infinite POSIXct object is
represented by NA, but is not, in fact, NA. While an infinitely large
POSIXct object seems strange, perhaps R should use the convention of
representing it as Inf rather than NA to avoid any confusion.

Cheers,
Robert

> x <- as.POSIXct(NA)
> z <- min(x, x, na.rm=TRUE)
Warning message:
In min.default(NA_real_, NA_real_, na.rm = TRUE) :
  no non-missing arguments to min; returning Inf
> z
[1] NA
> is.na(z)
[1] FALSE
> is.infinite(z)
[1] TRUE

> R.version
               _
platform       i686-pc-linux-gnu
arch           i686
os             linux-gnu
system         i686, linux-gnu
status
major          2
minor          6.2
year           2008
month          02
day            08
svn rev        44383
language       R
version.string R version 2.6.2 (2008-02-08)

Robert McGehee, CFA
Geode Capital Management, LLC
One Post Office Square, 28th Floor | Boston, MA | 02109
Tel: 617/392-8396    Fax:617/476-6389
mailto:robert.mcgehee at geodecapital.com



This e-mail, and any attachments hereto, are intended fo...{{dropped:11}}


From bill at insightful.com  Mon Apr 14 21:30:13 2008
From: bill at insightful.com (bill at insightful.com)
Date: Mon, 14 Apr 2008 21:30:13 +0200 (CEST)
Subject: [Rd] unix.time() scoping problem (PR#11169)
Message-ID: <20080414193013.224F4282EF48@mail.pubhealth.ku.dk>

Full_Name: Bill Dunlap
Version: 2.8.0 Under development (unstable) svn 45325
OS: Linux
Submission from: (NULL) (76.28.245.14)


It is difficult to write wrapper functions
for unix.time(expr) because it uses the idiom
    expr <- substitute(expr)
    eval(expr, envir=sys.parent())
to evaluate the input expression.  Here is an
example of the problem
    > elapsed.time<-function(...)unix.time(...)[3]
    > sapply(1:3, function(seconds.arg)elapsed.time(Sys.sleep(seconds.arg)))
    Error in Sys.sleep(seconds.arg) : object "seconds.arg" not found
    Timing stopped at: 0.002 0 0.002

I think thatif unix.time(expr) made use of lazy evaluation of
arguments and used just
    expr
at the point where it wanted expr to be evaluated,
then the evaluation would take place in the right frame.
If I make the following change
diff -c /tmp/unix.time.R /tmp/my.unix.time.R
*** /tmp/unix.time.R    2008-04-14 12:22:39.000000000 -0700
--- /tmp/my.unix.time.R 2008-04-14 12:22:32.000000000 -0700
***************
*** 10,23 ****
      }
      if (!exists("proc.time"))
          return(rep(NA_real_, 5))
-     loc.frame <- parent.frame()
      if (gcFirst)
          gc(FALSE)
-     expr <- substitute(expr)
      time <- proc.time()
      on.exit(cat("Timing stopped at:", ppt(proc.time() - time),
          "\n"))
!     eval(expr, envir = loc.frame)
      new.time <- proc.time()
      on.exit()
      structure(new.time - time, class = "proc_time")
--- 10,21 ----
      }
      if (!exists("proc.time"))
          return(rep(NA_real_, 5))
      if (gcFirst)
          gc(FALSE)
      time <- proc.time()
      on.exit(cat("Timing stopped at:", ppt(proc.time() - time),
          "\n"))
!     expr # evaluate in its original frame by lazy evaluation
      new.time <- proc.time()
      on.exit()
      structure(new.time - time, class = "proc_time")

then my wrapper function works as expected:
> sapply(1:3, function(seconds.arg)elapsed.time(Sys.sleep(seconds.arg)))
elapsed elapsed elapsed
  1.001   2.001   3.001

Another approach would be to find the environment that expr
came from and feed that into eval().  Is there a way to get
the environment that an unevaluated argument was created in?


From tobias.verbeke at telenet.be  Mon Apr 14 22:03:01 2008
From: tobias.verbeke at telenet.be (Tobias Verbeke)
Date: Mon, 14 Apr 2008 22:03:01 +0200
Subject: [Rd] option(expressions) and --max-ppsize
Message-ID: <4803B875.9020004@telenet.be>

Dear list,

Is there an exact formula / safe rule of thumb that allows
one to express the value of --max-ppsize as a function of
the value of getOption("expressions") ?

?options tells "If you increase it [the expressions option],
you may also want to start R with a larger protection stack".

Motivation is to determine stack size of a Java vm used
to launch R with a given --max-ppsize option.

Many thanks in advance,
Tobias

-- 

Tobias Verbeke - Consultant
Business & Decision Benelux
Rue de la r?volution 8
1000 Brussels - BELGIUM

+32 499 36 33 15
tobias.verbeke at businessdecision.com


From milbo at sonic.net  Mon Apr 14 22:22:51 2008
From: milbo at sonic.net (Stephen Milborrow)
Date: Mon, 14 Apr 2008 22:22:51 +0200
Subject: [Rd] HOW TO AVOID LOOPS
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
Message-ID: <004601c89e6d$9e67dd50$6401a8c0@G3>

> Le sam. 12 avr. ? 12:47, carlos martinez a ?crit :
> Looking for a simple, effective a minimum execution time solution.
>
> For a vector as:
>
> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>
> To transform it to the following vector without using any loops:
>
> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)

Here is a fast solution using the Ra just-in-time compiler
www.milbo.users.sonic.net/ra.

jit(1)
if (length(x) > 1)
    for (i in 2:length(x))
        if (x[i])
            x[i] <- x[i-1] + 1

The times in seconds for various solutions mailed to r-devel are listed
below. There is some variation between runs and with the contents of x. The
times shown are for

set.seed(1066);  x <- as.double(runif(1e6) > .5)

This was tested on a WinXP 3 GHz Pentium D with Ra 1.0.7 (based on R 2.6.2).
The code to generate these results is attached.

vin     24
greg   11
had    3.9
dan    1.4
dan2  1.4
jit       0.25    # code is shown above, 7 secs with standard R 2.6.2>

Stephen Milborrow
www.milbo.users.sonic.net
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: cm-post.R.txt
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080414/d4e41782/attachment.txt 

From vogranovich at jumptrading.com  Mon Apr 14 22:33:56 2008
From: vogranovich at jumptrading.com (Vadim Organovich)
Date: Mon, 14 Apr 2008 15:33:56 -0500
Subject: [Rd] clean-up actions after non-local exits
Message-ID: <22D850BC39A25742977325ADDE208E770266956333@chiexchange02.w2k.jumptrading.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080414/7803015d/attachment.pl 

From murdoch at stats.uwo.ca  Mon Apr 14 22:53:44 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 14 Apr 2008 16:53:44 -0400
Subject: [Rd] clean-up actions after non-local exits
In-Reply-To: <22D850BC39A25742977325ADDE208E770266956333@chiexchange02.w2k.jumptrading.com>
References: <22D850BC39A25742977325ADDE208E770266956333@chiexchange02.w2k.jumptrading.com>
Message-ID: <4803C458.4060109@stats.uwo.ca>

On 14/04/2008 4:33 PM, Vadim Organovich wrote:
> Dear R-devel,
> 
> 
> 
> Some time ago I started a thread that boiled down to clean-up actions after non-local exits in R, see below. I wonder if there has been any progress on this? R-ext 2.6.1 doesn't say much on the subject.
> 
> 
> 
> How, for example, do people deal with a situation where their C (C++) function opens a file and then receives a signal or  longjump-s on error(), how do they make sure the file is eventually closed?

The finalizer code that Luke mentioned is more easily accessible now 
than it was in 2004.  See the section on external pointers and weak 
references in the Writing R Extensions manual.

The idea would be to create an external pointer object that controls the 
resource.  If there's an error, at the next GC the external pointer will 
be finalized and that's where the cleanup can happen.

Duncan Murdoch

> 
> 
> Thanks,
> 
> Vadim
> 
> 
> 
> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
> 
>> This is disappointing. How on Earth can mkChar know when it is safe or
>> not to make a long jump? For example if I just opened a file how am I
>> supposed to close it after the long jump? I am not even talking about
>> C++ where long jumps are simply devastating... (and this is the language
>> I am coding in :-( )
>>
>> Ok. A practical question: is it possible to somehow block
>> R_CheckUserInterrupt? I am ready to put up with out-of-memory errors,
>> but Ctrl-C is too common to be ignored.
> 
> Interrupts are not the issue. The issue is making sure that cleanup
> actions occur even if there is a non-local exit. A solution that
> addresses that issue will work for any non-local exit, whether it
> comes from an interrupt or an exception. So you don't have to put up
> with anything if you approach this the right way,
> 
> Currently there is no user accessible C level try/finally mechanism
> for insuring that cleanup code is executed during a non-local exit.
> We should make such a mechanicm available; maybe one will make it into
> the next major release.
> 
> For now you have two choices:
> 
>     You can create an R level object and attach a finalizer to the object
>     that will arrange for the GC to close the file at some point in the
>     future if a non-local exit occurs. Search developer.r-project.org for
>     finalization and weak references for some info on this.
> 
>     One other option is to use the R_ToplevelExec function. This has some
>     drawbacks since it effectively makes invisible all other error
>     handlers, but it is an option. It is also not officially documented
>     and subject to change.
> 
>> And I think it makes relevant again the question I asked in another
>> related thread: how is memory allocated by Calloc() and R_alloc() stand
>> up against long jumps?
> 
> R_alloc is stack-based; the stack is unwound on a non-local exit, so
> this is released on regular exits and non-local ones. It uses R
> allocation, so it could itself cause a non-local exit.
> 
> Calloc is like calloc but will never return NULL. If the allocation
> fails, then an error is signaled, which will result in a non-local
> exit. If the allocation succeeds, you are responsable for calling
> Free.
> 
> luke
> 
>>> -----Original Message-----
>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>> Sent: Monday, June 14, 2004 5:43 PM
>>> To: Vadim Ogranovich
>>> Cc: R-Help
>>> Subject: RE: [R] mkChar can be interrupted
>>>
>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>
>>>> I am confused. Here is an excerpt from R-exts:
>>>>
>>>> "As from R 1.8.0 no port of R can be interrupted whilst
>>> running long
>>>> computations in compiled code,..."
>>>>
>>>> Doesn't it imply that the primitive functions like allocVector,
>>>> mkChar, etc., which are likely to occur in any compiled code called
>>>> via .Call, are not supposed to handle interrupts in any way?
>>> No it does not. Read the full context. It says that if you
>>> wite a piece of C code that may run a long time and you want
>>> to guarantee that users will be able to interrupt your code
>>> then you should insure that R_CheckUserInterrupt is called
>>> periodically. If your code already periodically calls other
>>> R code that checks for interrupts then you may not need to do
>>> this yourself, but in general you do.
>>>
>>> Prior to 1.8.0 on Unix-like systems the asynchronous signal
>>> handler for SIGINT would longjmp to the nearest top level or
>>> browser context, which meant that on these sytems any code
>>> was interruptible at any point unless it was explicitly
>>> protected by a construct that suspended interrupts. Allowing
>>> interrupts at any point meant that inopportune interrupts
>>> could and did crash R, which is why this was changed.
>>>
>>> Unless there is explicit documentation to the contrary you
>>> should assume that every function in the R API might allocate
>>> and might cause a non-local exit (i.e. a longjmp) when an
>>> exception is raised (and an interrupt is one of, but only one
>>> of, the exceptions that might occur).
>>>
>>> luke
>>>
>>>> Thanks,
>>>> Vadim
>>>>
>>>>
>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>>>
>>>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>>>
>>>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>> ...
>>>>>>> Not sure why you think this suggest mkChar can be interrupted.
>>>>>>>
>>>> ...
>>>>>>> by calls to this function. I don't believe there are any
>>>>> such safe
>>>>>>> points in mkChar, but there are several potential ones
>>>>> within your
>>>>>>> example.
>>>>>> Apart from mkChar I am only calling SET_STRING_ELT. Is this
>>>>> what you
>>>>>> mean?
>>>>> You are printing, you have an assignment expression, all of those
>>>>> contain points where an interrupt could be checked for.
>>>> These are not relevant since Ctrl-C is pressed when the
>>> code is inside
>>>> for (i=0; i<n; ++i) {
>>>> SET_STRING_ELT(resSexp, i, mkChar("foo"));
>>>> }
>>>>
>>>> Just look at the way I deliver the signal.
>>>>
>>>> ______________________________________________
>>>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>>>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide!
>>>> http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>>>
>>> --
>>> Luke Tierney
>>> University of Iowa Phone: 319-335-3386
>>> Department of Statistics and Fax: 319-335-3017
>>> Actuarial Science
>>> 241 Schaeffer Hall email: luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>
>>> Iowa City, IA 52242 WWW: http://www.stat.uiowa.edu<http://www.stat.uiowa.edu/>
>>>
>>>
>>>
>> ______________________________________________
>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>
> 
> --
> Luke Tierney
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From jmc at r-project.org  Mon Apr 14 22:59:41 2008
From: jmc at r-project.org (John Chambers)
Date: Mon, 14 Apr 2008 13:59:41 -0700
Subject: [Rd] promptFunctions() to handle multiple names
In-Reply-To: <4803AF4F.7030801@campus.lmu.de>
References: <48021E3B.1080000@campus.lmu.de> <48039F0B.2030808@r-project.org>
	<4803AF4F.7030801@campus.lmu.de>
Message-ID: <4803C5BD.2010601@r-project.org>

Daniel Saban?s Bov? wrote:
> Hi John,
>
> thanks for the pointer to promptAll()! Judging by the description
> of your function, it seems to be exactly the thing I've searched for.
>
> Well, this is yet another reason to be looking forward to your new book.
> (When will it be in the stores?)
According to my last mail from Springer, should be sometime in May.

John
>
> Daniel
>
>
> John Chambers schrieb:
>> Daniel,
>>
>> Check out the promptAll() function in the SoDA package on CRAN.  
>> (Because it was written as an example for my new book, it's not the 
>> fanciest imaginable, but seems to work OK.)
>>
>> John
>>
>>
>> Daniel Saban?s Bov? wrote:
>> Hi all,
>>
>> I wanted to set up my first (private) R-package and wondered
>> if there was a function to prompt() for multiple aliases in one Rd-file,
>> e.g. to create something like the normal distribution manual page
>> encompassing rnorm, dnorm,...
>>
>> As I didn't find it, I modified prompt.default() and wrote a small 
>> function
>> to do this job, called "promptFunctions". It basically calls the helper
>> ".promptFunction" for every name it gets and puts together the output
>> from each function.
>>
>> It would be interesting for me if such a function already existed in R
>> or if something like "promptFunction" could be included in any future 
>> R version.
>> I think it would be used as many man pages document several functions 
>> at once,
>> and cutting and pasting the single prompt() files by hand could be 
>> boring.
>>
>> regards,
>> Daniel
>>
>> The Code:
>>
>


From vogranovich at jumptrading.com  Mon Apr 14 23:10:34 2008
From: vogranovich at jumptrading.com (Vadim Organovich)
Date: Mon, 14 Apr 2008 16:10:34 -0500
Subject: [Rd] clean-up actions after non-local exits
In-Reply-To: <4803C458.4060109@stats.uwo.ca>
References: <22D850BC39A25742977325ADDE208E770266956333@chiexchange02.w2k.jumptrading.com>,
	<4803C458.4060109@stats.uwo.ca>
Message-ID: <22D850BC39A25742977325ADDE208E770266956335@chiexchange02.w2k.jumptrading.com>

This is good, thanks!

I'd like to be able to make sure that the resource is released in conrolled fasion rather than at some arbitrary gc() call time. Will the following trick achieve the goal:

foo <-function(whatever) {
 on.exit(gc())
 ## arrange for an external pointer, don't know how yet
 ...
 ## actual call
 .Call(whatever)
}

The idea is to have gc() called on exit.

I seem to recall that a call to gc() doesn't guarantee that all possibly collectable objects are actually collected, which will defeat my solution. Is that correct?

Thanks,
Vadim

________________________________________
From: Duncan Murdoch [murdoch at stats.uwo.ca]
Sent: Monday, April 14, 2008 3:53 PM
To: Vadim Organovich
Cc: r-devel at r-project.org
Subject: Re: [Rd] clean-up actions after non-local exits

On 14/04/2008 4:33 PM, Vadim Organovich wrote:
> Dear R-devel,
>
>
>
> Some time ago I started a thread that boiled down to clean-up actions after non-local exits in R, see below. I wonder if there has been any progress on this? R-ext 2.6.1 doesn't say much on the subject.
>
>
>
> How, for example, do people deal with a situation where their C (C++) function opens a file and then receives a signal or  longjump-s on error(), how do they make sure the file is eventually closed?

The finalizer code that Luke mentioned is more easily accessible now
than it was in 2004.  See the section on external pointers and weak
references in the Writing R Extensions manual.

The idea would be to create an external pointer object that controls the
resource.  If there's an error, at the next GC the external pointer will
be finalized and that's where the cleanup can happen.

Duncan Murdoch

>
>
> Thanks,
>
> Vadim
>
>
>
> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>
>> This is disappointing. How on Earth can mkChar know when it is safe or
>> not to make a long jump? For example if I just opened a file how am I
>> supposed to close it after the long jump? I am not even talking about
>> C++ where long jumps are simply devastating... (and this is the language
>> I am coding in :-( )
>>
>> Ok. A practical question: is it possible to somehow block
>> R_CheckUserInterrupt? I am ready to put up with out-of-memory errors,
>> but Ctrl-C is too common to be ignored.
>
> Interrupts are not the issue. The issue is making sure that cleanup
> actions occur even if there is a non-local exit. A solution that
> addresses that issue will work for any non-local exit, whether it
> comes from an interrupt or an exception. So you don't have to put up
> with anything if you approach this the right way,
>
> Currently there is no user accessible C level try/finally mechanism
> for insuring that cleanup code is executed during a non-local exit.
> We should make such a mechanicm available; maybe one will make it into
> the next major release.
>
> For now you have two choices:
>
>     You can create an R level object and attach a finalizer to the object
>     that will arrange for the GC to close the file at some point in the
>     future if a non-local exit occurs. Search developer.r-project.org for
>     finalization and weak references for some info on this.
>
>     One other option is to use the R_ToplevelExec function. This has some
>     drawbacks since it effectively makes invisible all other error
>     handlers, but it is an option. It is also not officially documented
>     and subject to change.
>
>> And I think it makes relevant again the question I asked in another
>> related thread: how is memory allocated by Calloc() and R_alloc() stand
>> up against long jumps?
>
> R_alloc is stack-based; the stack is unwound on a non-local exit, so
> this is released on regular exits and non-local ones. It uses R
> allocation, so it could itself cause a non-local exit.
>
> Calloc is like calloc but will never return NULL. If the allocation
> fails, then an error is signaled, which will result in a non-local
> exit. If the allocation succeeds, you are responsable for calling
> Free.
>
> luke
>
>>> -----Original Message-----
>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>> Sent: Monday, June 14, 2004 5:43 PM
>>> To: Vadim Ogranovich
>>> Cc: R-Help
>>> Subject: RE: [R] mkChar can be interrupted
>>>
>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>
>>>> I am confused. Here is an excerpt from R-exts:
>>>>
>>>> "As from R 1.8.0 no port of R can be interrupted whilst
>>> running long
>>>> computations in compiled code,..."
>>>>
>>>> Doesn't it imply that the primitive functions like allocVector,
>>>> mkChar, etc., which are likely to occur in any compiled code called
>>>> via .Call, are not supposed to handle interrupts in any way?
>>> No it does not. Read the full context. It says that if you
>>> wite a piece of C code that may run a long time and you want
>>> to guarantee that users will be able to interrupt your code
>>> then you should insure that R_CheckUserInterrupt is called
>>> periodically. If your code already periodically calls other
>>> R code that checks for interrupts then you may not need to do
>>> this yourself, but in general you do.
>>>
>>> Prior to 1.8.0 on Unix-like systems the asynchronous signal
>>> handler for SIGINT would longjmp to the nearest top level or
>>> browser context, which meant that on these sytems any code
>>> was interruptible at any point unless it was explicitly
>>> protected by a construct that suspended interrupts. Allowing
>>> interrupts at any point meant that inopportune interrupts
>>> could and did crash R, which is why this was changed.
>>>
>>> Unless there is explicit documentation to the contrary you
>>> should assume that every function in the R API might allocate
>>> and might cause a non-local exit (i.e. a longjmp) when an
>>> exception is raised (and an interrupt is one of, but only one
>>> of, the exceptions that might occur).
>>>
>>> luke
>>>
>>>> Thanks,
>>>> Vadim
>>>>
>>>>
>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>>>
>>>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>>>
>>>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>> ...
>>>>>>> Not sure why you think this suggest mkChar can be interrupted.
>>>>>>>
>>>> ...
>>>>>>> by calls to this function. I don't believe there are any
>>>>> such safe
>>>>>>> points in mkChar, but there are several potential ones
>>>>> within your
>>>>>>> example.
>>>>>> Apart from mkChar I am only calling SET_STRING_ELT. Is this
>>>>> what you
>>>>>> mean?
>>>>> You are printing, you have an assignment expression, all of those
>>>>> contain points where an interrupt could be checked for.
>>>> These are not relevant since Ctrl-C is pressed when the
>>> code is inside
>>>> for (i=0; i<n; ++i) {
>>>> SET_STRING_ELT(resSexp, i, mkChar("foo"));
>>>> }
>>>>
>>>> Just look at the way I deliver the signal.
>>>>
>>>> ______________________________________________
>>>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>>>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide!
>>>> http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>>>
>>> --
>>> Luke Tierney
>>> University of Iowa Phone: 319-335-3386
>>> Department of Statistics and Fax: 319-335-3017
>>> Actuarial Science
>>> 241 Schaeffer Hall email: luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>
>>> Iowa City, IA 52242 WWW: http://www.stat.uiowa.edu<http://www.stat.uiowa.edu/>
>>>
>>>
>>>
>> ______________________________________________
>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>
>
> --
> Luke Tierney
>
>
>       [[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From simon.urbanek at r-project.org  Mon Apr 14 23:11:24 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 14 Apr 2008 17:11:24 -0400
Subject: [Rd] HOW TO AVOID LOOPS
In-Reply-To: <004601c89e6d$9e67dd50$6401a8c0@G3>
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
	<004601c89e6d$9e67dd50$6401a8c0@G3>
Message-ID: <00598712-C103-448D-92E2-8657A1A0A4AA@r-project.org>


On Apr 14, 2008, at 4:22 PM, Stephen Milborrow wrote:

>> Le sam. 12 avr. ? 12:47, carlos martinez a ?crit :
>> Looking for a simple, effective a minimum execution time solution.
>>
>> For a vector as:
>>
>> c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
>>
>> To transform it to the following vector without using any loops:
>>
>> (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
>
> Here is a fast solution using the Ra just-in-time compiler
> www.milbo.users.sonic.net/ra.
>
> jit(1)
> if (length(x) > 1)
>   for (i in 2:length(x))
>       if (x[i])
>           x[i] <- x[i-1] + 1
>
> The times in seconds for various solutions mailed to r-devel are  
> listed
> below. There is some variation between runs and with the contents of  
> x. The
> times shown are for
>
> set.seed(1066);  x <- as.double(runif(1e6) > .5)
>
> This was tested on a WinXP 3 GHz Pentium D with Ra 1.0.7 (based on R  
> 2.6.2).
> The code to generate these results is attached.
>

Well, if you want to break the rules, you may as well do it properly ;).

library(inline)
f = cfunction(signature(n="integer", x="numeric"),
"for(int i = 1; i < *n; i++) if (x[i]) x[i] = x[i-1] + 1;",
convention=".C")

f(length(x), x)

inline 0.03s
pure 2.7s
hadley 4.5s

(I couldn't measure Ra reliably - I was getting times around 2s which  
seems inappropriate - Stephen, how did you measure it?).

Cheers,
S




> vin     24
> greg   11
> had    3.9
> dan    1.4
> dan2  1.4
> jit       0.25    # code is shown above, 7 secs with standard R 2.6.2>
>
> Stephen Milborrow
> www.milbo.users.sonic.net
> <cm-post.R.txt>______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Tue Apr 15 00:56:17 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 14 Apr 2008 18:56:17 -0400
Subject: [Rd] clean-up actions after non-local exits
In-Reply-To: <22D850BC39A25742977325ADDE208E770266956335@chiexchange02.w2k.jumptrading.com>
References: <22D850BC39A25742977325ADDE208E770266956333@chiexchange02.w2k.jumptrading.com>,
	<4803C458.4060109@stats.uwo.ca>
	<22D850BC39A25742977325ADDE208E770266956335@chiexchange02.w2k.jumptrading.com>
Message-ID: <4803E111.5090509@stats.uwo.ca>

On 14/04/2008 5:10 PM, Vadim Organovich wrote:
> This is good, thanks!
> 
> I'd like to be able to make sure that the resource is released in conrolled fasion rather than at some arbitrary gc() call time. Will the following trick achieve the goal:
> 
> foo <-function(whatever) {
>  on.exit(gc())
>  ## arrange for an external pointer, don't know how yet
>  ...
>  ## actual call
>  .Call(whatever)
> }

Someone else more familiar with the memory manager will have to say 
whether this will work.  One thing is that objects bound to names within 
foo are still bound at the time of the gc() call, so they won't get 
collected, but variables that are not bound to anything should.  So I 
think if your C code is something like

PROTECT( ptr = R_MakeExternalPtr(...) )
R_RegisterFinalizer(ptr, ...)

<do something that causes an error exit>
UNPROTECT(1)

your scheme should work.

Duncan Murdoch
> 
> The idea is to have gc() called on exit.
> 
> I seem to recall that a call to gc() doesn't guarantee that all possibly collectable objects are actually collected, which will defeat my solution. Is that correct?
> 
> Thanks,
> Vadim
> 
> ________________________________________
> From: Duncan Murdoch [murdoch at stats.uwo.ca]
> Sent: Monday, April 14, 2008 3:53 PM
> To: Vadim Organovich
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] clean-up actions after non-local exits
> 
> On 14/04/2008 4:33 PM, Vadim Organovich wrote:
>> Dear R-devel,
>>
>>
>>
>> Some time ago I started a thread that boiled down to clean-up actions after non-local exits in R, see below. I wonder if there has been any progress on this? R-ext 2.6.1 doesn't say much on the subject.
>>
>>
>>
>> How, for example, do people deal with a situation where their C (C++) function opens a file and then receives a signal or  longjump-s on error(), how do they make sure the file is eventually closed?
> 
> The finalizer code that Luke mentioned is more easily accessible now
> than it was in 2004.  See the section on external pointers and weak
> references in the Writing R Extensions manual.
> 
> The idea would be to create an external pointer object that controls the
> resource.  If there's an error, at the next GC the external pointer will
> be finalized and that's where the cleanup can happen.
> 
> Duncan Murdoch
> 
>>
>> Thanks,
>>
>> Vadim
>>
>>
>>
>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>
>>> This is disappointing. How on Earth can mkChar know when it is safe or
>>> not to make a long jump? For example if I just opened a file how am I
>>> supposed to close it after the long jump? I am not even talking about
>>> C++ where long jumps are simply devastating... (and this is the language
>>> I am coding in :-( )
>>>
>>> Ok. A practical question: is it possible to somehow block
>>> R_CheckUserInterrupt? I am ready to put up with out-of-memory errors,
>>> but Ctrl-C is too common to be ignored.
>> Interrupts are not the issue. The issue is making sure that cleanup
>> actions occur even if there is a non-local exit. A solution that
>> addresses that issue will work for any non-local exit, whether it
>> comes from an interrupt or an exception. So you don't have to put up
>> with anything if you approach this the right way,
>>
>> Currently there is no user accessible C level try/finally mechanism
>> for insuring that cleanup code is executed during a non-local exit.
>> We should make such a mechanicm available; maybe one will make it into
>> the next major release.
>>
>> For now you have two choices:
>>
>>     You can create an R level object and attach a finalizer to the object
>>     that will arrange for the GC to close the file at some point in the
>>     future if a non-local exit occurs. Search developer.r-project.org for
>>     finalization and weak references for some info on this.
>>
>>     One other option is to use the R_ToplevelExec function. This has some
>>     drawbacks since it effectively makes invisible all other error
>>     handlers, but it is an option. It is also not officially documented
>>     and subject to change.
>>
>>> And I think it makes relevant again the question I asked in another
>>> related thread: how is memory allocated by Calloc() and R_alloc() stand
>>> up against long jumps?
>> R_alloc is stack-based; the stack is unwound on a non-local exit, so
>> this is released on regular exits and non-local ones. It uses R
>> allocation, so it could itself cause a non-local exit.
>>
>> Calloc is like calloc but will never return NULL. If the allocation
>> fails, then an error is signaled, which will result in a non-local
>> exit. If the allocation succeeds, you are responsable for calling
>> Free.
>>
>> luke
>>
>>>> -----Original Message-----
>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>> Sent: Monday, June 14, 2004 5:43 PM
>>>> To: Vadim Ogranovich
>>>> Cc: R-Help
>>>> Subject: RE: [R] mkChar can be interrupted
>>>>
>>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>>
>>>>> I am confused. Here is an excerpt from R-exts:
>>>>>
>>>>> "As from R 1.8.0 no port of R can be interrupted whilst
>>>> running long
>>>>> computations in compiled code,..."
>>>>>
>>>>> Doesn't it imply that the primitive functions like allocVector,
>>>>> mkChar, etc., which are likely to occur in any compiled code called
>>>>> via .Call, are not supposed to handle interrupts in any way?
>>>> No it does not. Read the full context. It says that if you
>>>> wite a piece of C code that may run a long time and you want
>>>> to guarantee that users will be able to interrupt your code
>>>> then you should insure that R_CheckUserInterrupt is called
>>>> periodically. If your code already periodically calls other
>>>> R code that checks for interrupts then you may not need to do
>>>> this yourself, but in general you do.
>>>>
>>>> Prior to 1.8.0 on Unix-like systems the asynchronous signal
>>>> handler for SIGINT would longjmp to the nearest top level or
>>>> browser context, which meant that on these sytems any code
>>>> was interruptible at any point unless it was explicitly
>>>> protected by a construct that suspended interrupts. Allowing
>>>> interrupts at any point meant that inopportune interrupts
>>>> could and did crash R, which is why this was changed.
>>>>
>>>> Unless there is explicit documentation to the contrary you
>>>> should assume that every function in the R API might allocate
>>>> and might cause a non-local exit (i.e. a longjmp) when an
>>>> exception is raised (and an interrupt is one of, but only one
>>>> of, the exceptions that might occur).
>>>>
>>>> luke
>>>>
>>>>> Thanks,
>>>>> Vadim
>>>>>
>>>>>
>>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>>>>
>>>>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>>>>
>>>>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>>> ...
>>>>>>>> Not sure why you think this suggest mkChar can be interrupted.
>>>>>>>>
>>>>> ...
>>>>>>>> by calls to this function. I don't believe there are any
>>>>>> such safe
>>>>>>>> points in mkChar, but there are several potential ones
>>>>>> within your
>>>>>>>> example.
>>>>>>> Apart from mkChar I am only calling SET_STRING_ELT. Is this
>>>>>> what you
>>>>>>> mean?
>>>>>> You are printing, you have an assignment expression, all of those
>>>>>> contain points where an interrupt could be checked for.
>>>>> These are not relevant since Ctrl-C is pressed when the
>>>> code is inside
>>>>> for (i=0; i<n; ++i) {
>>>>> SET_STRING_ELT(resSexp, i, mkChar("foo"));
>>>>> }
>>>>>
>>>>> Just look at the way I deliver the signal.
>>>>>
>>>>> ______________________________________________
>>>>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>>>>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide!
>>>>> http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>>>>
>>>> --
>>>> Luke Tierney
>>>> University of Iowa Phone: 319-335-3386
>>>> Department of Statistics and Fax: 319-335-3017
>>>> Actuarial Science
>>>> 241 Schaeffer Hall email: luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>
>>>> Iowa City, IA 52242 WWW: http://www.stat.uiowa.edu<http://www.stat.uiowa.edu/>
>>>>
>>>>
>>>>
>>> ______________________________________________
>>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>>
>> --
>> Luke Tierney
>>
>>
>>       [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From bill at insightful.com  Tue Apr 15 01:41:38 2008
From: bill at insightful.com (Bill Dunlap)
Date: Mon, 14 Apr 2008 16:41:38 -0700 (PDT)
Subject: [Rd] HOW TO AVOID LOOPS
In-Reply-To: <004601c89e6d$9e67dd50$6401a8c0@G3>
References: <FC1A822CDEFB4DE38EB135F6BE851F55@your136f2019dc>
	<004601c89e6d$9e67dd50$6401a8c0@G3>
Message-ID: <Pine.GSO.4.56.0804141625580.474@devsun3201.insightful.com>

On Mon, 14 Apr 2008, Stephen Milborrow wrote:

> > Le sam. 12 avr. ? 12:47, carlos martinez a ?crit :
> > Looking for a simple, effective a minimum execution time solution.
> >
> > For a vector as:
> >
> > c(0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1)
> >
> > To transform it to the following vector without using any loops:
> >
> > (0,0,1,0,1,2,3,0,0,1,2,0,1,0,1,2,3,4,5,6)
>
> Here is a fast solution using the Ra just-in-time compiler
> www.milbo.users.sonic.net/ra.
>
> jit(1)
> if (length(x) > 1)
>     for (i in 2:length(x))
>         if (x[i])
>             x[i] <- x[i-1] + 1
>
> The times in seconds for various solutions mailed to r-devel are listed
> below. There is some variation between runs and with the contents of x. The
> times shown are for
>
> set.seed(1066);  x <- as.double(runif(1e6) > .5)
>
> This was tested on a WinXP 3 GHz Pentium D with Ra 1.0.7 (based on R 2.6.2).
> The code to generate these results is attached.
>
> vin     24
> greg   11
> had    3.9
> dan    1.4
> dan2  1.4
> jit       0.25    # code is shown above, 7 secs with standard R 2.6.2>

Stephen's solution is certainly easy to read and write.

Another solution, if I understand the scope of the problem, is
   f7 <- function(x){ tmp<-cumsum(x);tmp-cummax((!x)*tmp)}

I made a script to run all the functions I noticed
(except for the library(inline) one) on various 0-1
vectors of length one million and got the following
timings on R 2.6.2 running on my Windows laptop
(Lenovo T61, Core 2 Duo at 2 GHz).   "error thrown"
means the function call died and "incorrect" means it
returned the wrong answer.

   > source("z:/dumpdata.R")
   Timing stopped at: 0.05 0 0.05 NA NA
   Error in dots[[1L]][[1L]] : subscript out of bounds
   Timing stopped at: 0.14 0.06 0.21 NA NA
   Error in x[x == 1] <- unlist(lapply(ends - starts, function(n) 1:n)) :
     incompatible types (from NULL to double) in subassignment type fix
      all.ones     all.zeros    few.long  many.short
   f1    7.02         7.03         7.04      7.03
   f2    0.13         0.13         0.13      2.52
   f3 error thrown   35.47      incorrect incorrect
   f4    0.19      error thrown    0.21      1.20
   f5    0.28         0.09         0.29      0.18
   f6    5.40         0.78         5.42      3.14
   f7    0.06         0.05         0.06      0.06

I've attached the script so you can figure out whose
function is whose if you care to.  The lapply/mapply
solution, f3, required that there be 1's at both ends of the
input vector.  Perhaps I miscopied the code.

----------------------------------------------------------------------------
Bill Dunlap
Insightful Corporation
bill at insightful dot com

 "All statements in this message represent the opinions of the author and do
 not necessarily reflect Insightful Corporation policy or position."
----------------------------------------------------------------------------

The test script:

len <- 1e6 # length of vectors in tests

funs <- list(
`f1` = function(x)Reduce( function(x,y) x*y + y, x, accumulate=TRUE ),

`f2` = function(x)x * unlist(lapply(rle(x)$lengths, seq_len)),

`f3` = function(x){
    ind <- which(x == 0)
    unlist(lapply(mapply(seq, ind, c(tail(ind, -1) - 1, length(x))),
        function(y) cumsum(x[y]))) },

`f4` = function(x) {
    d <- diff(c(0,x,0))
    starts <- which(d == 1)
    ends <- which(d == -1)
    x[x == 1] <- unlist(lapply(ends - starts, function(n) 1:n))
    x },

`f5` = function(x) {
    if (existsFunction("jit")) jit(1) else stop("no jit available")
    if (length(x) > 1)
        for (i in 2:length(x))
            if (x[i])
                x[i] <- x[i-1] + 1
    x
    },
`f6` = # same as f5, but not compiled with jit.
    function(x) {
        if (existsFunction("jit")) jit(0)
        if (length(x) > 1)
            for (i in 2:length(x))
                if (x[i])
                    x[i] <- x[i-1] + 1
        x
    },
`f7` =
    function(x) {
        tmp<-cumsum(x)
        tmp-cummax((!x)*tmp)
    }
)

data <- list(
    all.ones = rep(1, len),
    all.zeros = rep(0, len),
    few.long = rep( c(rep(1,len/10-1),0), len=len), # 10 long runs
    many.short = rep(c(1,0), len=len) # len/2 runs of length 1
)
expected <- list(
    all.ones = 1:len,
    all.zeros = rep(0, len),
    few.long = rep( c(1:(len/10-1), 0), len=len),
    many.short = rep(c(1,0), len=len)
)

print(noquote(sapply(names(data),
   function(d) sapply(names(funs),
      function(f){
          time<-try(unix.time(gcFirst=TRUE, val<-funs[[f]](data[[d]])))
          if (is(time, "try-error"))
              "error thrown"
          else if (!isTRUE(report <- all.equal(val, expected[[d]])))
              "incorrect"
          else
              sprintf("%7.2f", unname(time[1]+time[2]))
      }
   )
)))


From luke at stat.uiowa.edu  Tue Apr 15 01:57:27 2008
From: luke at stat.uiowa.edu (Luke Tierney)
Date: Mon, 14 Apr 2008 18:57:27 -0500 (CDT)
Subject: [Rd] clean-up actions after non-local exits
In-Reply-To: <22D850BC39A25742977325ADDE208E770266956335@chiexchange02.w2k.jumptrading.com>
References: <22D850BC39A25742977325ADDE208E770266956333@chiexchange02.w2k.jumptrading.com>,
	<4803C458.4060109@stats.uwo.ca>
	<22D850BC39A25742977325ADDE208E770266956335@chiexchange02.w2k.jumptrading.com>
Message-ID: <Pine.LNX.4.64.0804141847050.31782@itasca2.wildberry.org>

On Mon, 14 Apr 2008, Vadim Organovich wrote:

> This is good, thanks!
>
> I'd like to be able to make sure that the resource is released in conrolled fasion rather than at some arbitrary gc() call time. Will the following trick achieve the goal:
>
> foo <-function(whatever) {
> on.exit(gc())
> ## arrange for an external pointer, don't know how yet
> ...
> ## actual call
> .Call(whatever)
> }
>
> The idea is to have gc() called on exit.
>
> I seem to recall that a call to gc() doesn't guarantee that all possibly collectable objects are actually collected, which will defeat my solution. Is that correct?

It would not be safe to rely on gc runing the finalizer at precisely
this time.  Probably it does now, but that may not always remain true.

If you are prepared to use R level wrappers with on.exit code, or
tryCatch with a finally clause, the I would use those to call your
cleanup code directly.  That is nearly guaranteed to succeed.  The
exception is that it is currently possible for a user interrupt (or a
timer interrupt in R 2.7 and up) to be handled in the running of the
interpreted part of the on.exit/finally code.  At some point there
will be an R-level mechanism for selectively disabling and then
re-enabling interrupts (and maybe that will be used by default in
conjunction with tryCatch or on.exit, but that needs thinking
though).  Until then if you need a stronger guarantee I would add the
finalizer option as a backup and let the GC call it when it gets to
it.

luke


>
> Thanks,
> Vadim
>
> ________________________________________
> From: Duncan Murdoch [murdoch at stats.uwo.ca]
> Sent: Monday, April 14, 2008 3:53 PM
> To: Vadim Organovich
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] clean-up actions after non-local exits
>
> On 14/04/2008 4:33 PM, Vadim Organovich wrote:
>> Dear R-devel,
>>
>>
>>
>> Some time ago I started a thread that boiled down to clean-up actions after non-local exits in R, see below. I wonder if there has been any progress on this? R-ext 2.6.1 doesn't say much on the subject.
>>
>>
>>
>> How, for example, do people deal with a situation where their C (C++) function opens a file and then receives a signal or  longjump-s on error(), how do they make sure the file is eventually closed?
>
> The finalizer code that Luke mentioned is more easily accessible now
> than it was in 2004.  See the section on external pointers and weak
> references in the Writing R Extensions manual.
>
> The idea would be to create an external pointer object that controls the
> resource.  If there's an error, at the next GC the external pointer will
> be finalized and that's where the cleanup can happen.
>
> Duncan Murdoch
>
>>
>>
>> Thanks,
>>
>> Vadim
>>
>>
>>
>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>
>>> This is disappointing. How on Earth can mkChar know when it is safe or
>>> not to make a long jump? For example if I just opened a file how am I
>>> supposed to close it after the long jump? I am not even talking about
>>> C++ where long jumps are simply devastating... (and this is the language
>>> I am coding in :-( )
>>>
>>> Ok. A practical question: is it possible to somehow block
>>> R_CheckUserInterrupt? I am ready to put up with out-of-memory errors,
>>> but Ctrl-C is too common to be ignored.
>>
>> Interrupts are not the issue. The issue is making sure that cleanup
>> actions occur even if there is a non-local exit. A solution that
>> addresses that issue will work for any non-local exit, whether it
>> comes from an interrupt or an exception. So you don't have to put up
>> with anything if you approach this the right way,
>>
>> Currently there is no user accessible C level try/finally mechanism
>> for insuring that cleanup code is executed during a non-local exit.
>> We should make such a mechanicm available; maybe one will make it into
>> the next major release.
>>
>> For now you have two choices:
>>
>>     You can create an R level object and attach a finalizer to the object
>>     that will arrange for the GC to close the file at some point in the
>>     future if a non-local exit occurs. Search developer.r-project.org for
>>     finalization and weak references for some info on this.
>>
>>     One other option is to use the R_ToplevelExec function. This has some
>>     drawbacks since it effectively makes invisible all other error
>>     handlers, but it is an option. It is also not officially documented
>>     and subject to change.
>>
>>> And I think it makes relevant again the question I asked in another
>>> related thread: how is memory allocated by Calloc() and R_alloc() stand
>>> up against long jumps?
>>
>> R_alloc is stack-based; the stack is unwound on a non-local exit, so
>> this is released on regular exits and non-local ones. It uses R
>> allocation, so it could itself cause a non-local exit.
>>
>> Calloc is like calloc but will never return NULL. If the allocation
>> fails, then an error is signaled, which will result in a non-local
>> exit. If the allocation succeeds, you are responsable for calling
>> Free.
>>
>> luke
>>
>>>> -----Original Message-----
>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>> Sent: Monday, June 14, 2004 5:43 PM
>>>> To: Vadim Ogranovich
>>>> Cc: R-Help
>>>> Subject: RE: [R] mkChar can be interrupted
>>>>
>>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>>
>>>>> I am confused. Here is an excerpt from R-exts:
>>>>>
>>>>> "As from R 1.8.0 no port of R can be interrupted whilst
>>>> running long
>>>>> computations in compiled code,..."
>>>>>
>>>>> Doesn't it imply that the primitive functions like allocVector,
>>>>> mkChar, etc., which are likely to occur in any compiled code called
>>>>> via .Call, are not supposed to handle interrupts in any way?
>>>> No it does not. Read the full context. It says that if you
>>>> wite a piece of C code that may run a long time and you want
>>>> to guarantee that users will be able to interrupt your code
>>>> then you should insure that R_CheckUserInterrupt is called
>>>> periodically. If your code already periodically calls other
>>>> R code that checks for interrupts then you may not need to do
>>>> this yourself, but in general you do.
>>>>
>>>> Prior to 1.8.0 on Unix-like systems the asynchronous signal
>>>> handler for SIGINT would longjmp to the nearest top level or
>>>> browser context, which meant that on these sytems any code
>>>> was interruptible at any point unless it was explicitly
>>>> protected by a construct that suspended interrupts. Allowing
>>>> interrupts at any point meant that inopportune interrupts
>>>> could and did crash R, which is why this was changed.
>>>>
>>>> Unless there is explicit documentation to the contrary you
>>>> should assume that every function in the R API might allocate
>>>> and might cause a non-local exit (i.e. a longjmp) when an
>>>> exception is raised (and an interrupt is one of, but only one
>>>> of, the exceptions that might occur).
>>>>
>>>> luke
>>>>
>>>>> Thanks,
>>>>> Vadim
>>>>>
>>>>>
>>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>>>>
>>>>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>>>>
>>>>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>>> ...
>>>>>>>> Not sure why you think this suggest mkChar can be interrupted.
>>>>>>>>
>>>>> ...
>>>>>>>> by calls to this function. I don't believe there are any
>>>>>> such safe
>>>>>>>> points in mkChar, but there are several potential ones
>>>>>> within your
>>>>>>>> example.
>>>>>>> Apart from mkChar I am only calling SET_STRING_ELT. Is this
>>>>>> what you
>>>>>>> mean?
>>>>>> You are printing, you have an assignment expression, all of those
>>>>>> contain points where an interrupt could be checked for.
>>>>> These are not relevant since Ctrl-C is pressed when the
>>>> code is inside
>>>>> for (i=0; i<n; ++i) {
>>>>> SET_STRING_ELT(resSexp, i, mkChar("foo"));
>>>>> }
>>>>>
>>>>> Just look at the way I deliver the signal.
>>>>>
>>>>> ______________________________________________
>>>>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>>>>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide!
>>>>> http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>>>>
>>>> --
>>>> Luke Tierney
>>>> University of Iowa Phone: 319-335-3386
>>>> Department of Statistics and Fax: 319-335-3017
>>>> Actuarial Science
>>>> 241 Schaeffer Hall email: luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>
>>>> Iowa City, IA 52242 WWW: http://www.stat.uiowa.edu<http://www.stat.uiowa.edu/>
>>>>
>>>>
>>>>
>>> ______________________________________________
>>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>>
>>
>> --
>> Luke Tierney
>>
>>
>>       [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From jayuan2008 at yahoo.com  Tue Apr 15 03:21:09 2008
From: jayuan2008 at yahoo.com (Yuan Jian)
Date: Mon, 14 Apr 2008 18:21:09 -0700 (PDT)
Subject: [Rd] && and ||
In-Reply-To: <20080414150512.5b244328@berwin-nus1>
Message-ID: <947855.98799.qm@web46004.mail.sp1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080414/4bb06297/attachment.pl 

From grgoswami at gmail.com  Tue Apr 15 05:28:42 2008
From: grgoswami at gmail.com (Gopi Goswami)
Date: Mon, 14 Apr 2008 23:28:42 -0400
Subject: [Rd] Doing the right amount of copy for large data frames.
In-Reply-To: <480367C7.3020508@acm.org>
References: <5811e0170804140447k42854551p2a60e03a59b853ca@mail.gmail.com>
	<480367C7.3020508@acm.org>
Message-ID: <5811e0170804142028x51392495s6be4e61ad1070517@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080414/8b384975/attachment.pl 

From d.scott at auckland.ac.nz  Tue Apr 15 07:02:37 2008
From: d.scott at auckland.ac.nz (David Scott)
Date: Tue, 15 Apr 2008 17:02:37 +1200 (NZST)
Subject: [Rd] NEWS file
Message-ID: <alpine.LRH.1.00.0804151700090.13503@stat12.stat.auckland.ac.nz>


Is there Emacs support for creating a NEWS file for a package? If so where 
could I find it? I had a look at the GNU coding standards on documenting 
programs. It has a bit on Emacs and Change Logs but not concerning a NEWS 
file as far as I could see.

David Scott

_________________________________________________________________
David Scott	Department of Statistics, Tamaki Campus
 		The University of Auckland, PB 92019
 		Auckland 1142,    NEW ZEALAND
Phone: +64 9 373 7599 ext 86830		Fax: +64 9 373 7000
Email:	d.scott at auckland.ac.nz

Graduate Officer, Department of Statistics
Director of Consulting, Department of Statistics


From ripley at stats.ox.ac.uk  Tue Apr 15 08:22:08 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Apr 2008 07:22:08 +0100 (BST)
Subject: [Rd] option(expressions) and --max-ppsize
In-Reply-To: <4803B875.9020004@telenet.be>
References: <4803B875.9020004@telenet.be>
Message-ID: <alpine.LFD.1.00.0804142131170.4497@gannet.stats.ox.ac.uk>

On Mon, 14 Apr 2008, Tobias Verbeke wrote:

> Dear list,
>
> Is there an exact formula / safe rule of thumb that allows
> one to express the value of --max-ppsize as a function of
> the value of getOption("expressions") ?

There is none: it entirely depends on what you are doing.
But you would expect pp stack usage to be proportional to the number of 
expressions, the problem being what the ratio should be.

The ratio of the defaults was empirically determined, and should be a good 
guide.

However, if you find yourself increasing either then you probably want to 
rethink how you do the calculations in R.

> ?options tells "If you increase it [the expressions option],
> you may also want to start R with a larger protection stack".
>
> Motivation is to determine stack size of a Java vm used
> to launch R with a given --max-ppsize option.

R's expression limit is only vaguely related to its C stack usage
(assuming you mean 'embed R' not 'launch R' -- it is processes that get 
launched in the OS world I inhabit).

>
> Many thanks in advance,
> Tobias
>
> --
>
> Tobias Verbeke - Consultant
> Business & Decision Benelux
> Rue de la r?volution 8
> 1000 Brussels - BELGIUM
>
> +32 499 36 33 15
> tobias.verbeke at businessdecision.com
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From abergeron at gmail.com  Tue Apr 15 02:15:08 2008
From: abergeron at gmail.com (abergeron at gmail.com)
Date: Tue, 15 Apr 2008 02:15:08 +0200 (CEST)
Subject: [Rd] Small memory leak in plot on OS X (PR#11170)
Message-ID: <20080415001508.A294A282EF48@mail.pubhealth.ku.dk>

Full_Name: Arnaud Bergeron
Version: 2.6.2
OS: Mac OS X 10.5.2
Submission from: (NULL) (69.157.224.197)


When I run the following loop

repeat { plot(seq(5), seq(5)) }

the memory consumed by the process goes up by a small amout each time. I tried
this with the quartz() and pdf() output devices.  Only a single output device is
created by the process and is repeatedly overwritten by plot().

Also even if I close the device with dev.off() the memory is never released,
even after a gc() pass.  In fact the gc() pass reports way less memory used than
what the system reports.  I can understand a discrepancy in the numbers here,
but 9.1Mb (reported by gc()) versus 415Mb (reported by the system) is not normal
in my eyes.

With the png() device, the results were less conclusive. I'd say there was a
slight overall augmentation of used memory, but may that's just me.  Note that
this device creates many files by default and the problem does not seem to
happen when it does this.

Below is the sessionInfo() output:

R version 2.6.2 (2008-02-08) 
powerpc-apple-darwin8.10.1 

locale:
fr_CA.UTF-8/fr_CA.UTF-8/fr_CA.UTF-8/C/fr_CA.UTF-8/fr_CA.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


From daniel.sabanesbove at campus.lmu.de  Mon Apr 14 21:23:59 2008
From: daniel.sabanesbove at campus.lmu.de (=?ISO-8859-1?Q?Daniel_Saban=E9s_Bov=E9?=)
Date: Mon, 14 Apr 2008 21:23:59 +0200
Subject: [Rd] promptFunctions() to handle multiple names
In-Reply-To: <48039F0B.2030808@r-project.org>
References: <48021E3B.1080000@campus.lmu.de> <48039F0B.2030808@r-project.org>
Message-ID: <4803AF4F.7030801@campus.lmu.de>

Hi John,

thanks for the pointer to promptAll()! Judging by the description
of your function, it seems to be exactly the thing I've searched for.

Well, this is yet another reason to be looking forward to your new book.
(When will it be in the stores?)

Daniel


John Chambers schrieb:
> Daniel,
> 
> Check out the promptAll() function in the SoDA package on CRAN.  
> (Because it was written as an example for my new book, it's not the 
> fanciest imaginable, but seems to work OK.)
> 
> John
> 
> 
> Daniel Saban?s Bov? wrote:
> Hi all,
> 
> I wanted to set up my first (private) R-package and wondered
> if there was a function to prompt() for multiple aliases in one Rd-file,
> e.g. to create something like the normal distribution manual page
> encompassing rnorm, dnorm,...
> 
> As I didn't find it, I modified prompt.default() and wrote a small 
> function
> to do this job, called "promptFunctions". It basically calls the helper
> ".promptFunction" for every name it gets and puts together the output
> from each function.
> 
> It would be interesting for me if such a function already existed in R
> or if something like "promptFunction" could be included in any future 
> R version.
> I think it would be used as many man pages document several functions 
> at once,
> and cutting and pasting the single prompt() files by hand could be 
> boring.
> 
> regards,
> Daniel
> 
> The Code:
>


From ripley at stats.ox.ac.uk  Tue Apr 15 09:03:51 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Apr 2008 08:03:51 +0100 (BST)
Subject: [Rd] Doing the right amount of copy for large data frames.
In-Reply-To: <5811e0170804142028x51392495s6be4e61ad1070517@mail.gmail.com>
References: <5811e0170804140447k42854551p2a60e03a59b853ca@mail.gmail.com>
	<480367C7.3020508@acm.org>
	<5811e0170804142028x51392495s6be4e61ad1070517@mail.gmail.com>
Message-ID: <alpine.LFD.1.00.0804150641050.15858@gannet.stats.ox.ac.uk>

On Mon, 14 Apr 2008, Gopi Goswami wrote:

> Dear All,
>
>
> Thanks a lot for your helpful comments (e.g., NAMED, ExpressionSet,
> DNAStringSet).
>
>
> Observations and questions ::
>
> ooo   For a data.frame dd and a list ll with same contents to being with,
> the following operations show significant difference in the maximum memory
> usage column of the gc( ) output on R-2.6.2 (the detailed code is in the PS
> section below).
>
> ll$xx <- zz
> dd$xx <- zz
>
> My understanding is that the '$<-.data.frame' S3 method above makes a copy
> of the whole dd first (using '*tmp*'). But for a list this is avoided due to
> the use of SET_VECTOR_ELT at the C-level. Is this a valid explanation or
> something deeper is happening behind the scene?

Something deeper -- see the 'R Internals' manual.  '$<-' is primitive -- 
its methods are not.  For the list the copy *may* be avoided, if 'll' is 
the only reference to that object and R has never thought there might be 
another.


> ooo    I'll look into the read-only flag idea to avoid unhappy circumstances
> that might arise while bypassing the copy-on-modify principle. Any pointers
> or code snippets as to how to implement this idea?
>
>
>
> ooo    The main reason I want to bypass copy-on-modify is that I want to
> emulate a Python like behavior for lists (and data.frame), in the sense
> that, I want to take the responsibility of making a deep copy if need be,
> but most of the time I want to knowingly change 'things in place' using the
> proposed S4 class DataFrame.
>
>
> Regards,
> Gopi Goswami.
> PhD, Statistics, 2005
> http://gopi-goswami.net/index.html
>
>
>
> PS:
>
> zz <- seq_len(1000000)
> gc( )
> dd <- data.frame(xx = zz)
> dd$yy <- zz
> gc( )
> object.size(dd)
>
> ######################################################################
>
> zz <- seq_len(1000000)
> gc( )
> ll <- list(xx = zz)
> ll$yy <- zz
> gc( )
> object.size(ll)
>
>
>
>
> On Mon, Apr 14, 2008 at 10:18 AM, Tony Plate <tplate at acm.org> wrote:
>
>> Gopi Goswami wrote:
>>
>>> Hi there,
>>>
>>>
>>> Problem ::
>>> When one tries to change one or some of the columns of a data.frame, R
>>> makes
>>> a copy of the whole data.frame using the '*tmp*' mechanism (this does
>>> not
>>> happen for components of a list, tracemem( ) on R-2.6.2 says so).
>>>
>>>
>>> Suggested solution ::
>>> Store the columns of the data.frame as a list inside of an environment
>>> slot
>>> of an S4 class, and define the '[', '[<-' etc. operators using
>>> setMethod( )
>>> and setReplaceMethod( ).
>>>
>>>
>>> Question ::
>>> This implementation will violate copy on modify principle of R (since
>>> environments are not copied), but will save a lot of memory. Do you see
>>> any
>>> other obvious problem(s) with the idea?
>>>
>> Well, because it violates the copy-on-modify principle it can potentially
>> break code that depends on this principle.  I don't know how much there is
>> -- did you try to see if R and recommended packages will pass checks with
>> this change in place?
>>
>>>  Have you seen a related setup
>>> implemented / considered before (apart from the packages like filehash,
>>> ff,
>>> and database related ones for saving memory)?
>>>
>>>
>> I've frequently used a personal package that stores array data in a file
>> (like ff).  It works fine, and I partially get around the problem of
>> violating the copy-on-modify principle by having a readonly flag in the
>> object -- when the flag is set to allow modification I have to be careful,
>> but after I set it to readonly I can use it more freely with the knowledge
>> that if some function does attempt to modify the object, it will stop with
>> an error.
>>
>> In this particular case, why not just track down why data frame
>> modification is copying the entire object and suggest a change so that it
>> just copies the column being changed?  (should be possible if list
>> modification doesn't copy all components).
>>
>> -- Tony Plate
>>
>>>
>>> Implementation code snippet ::
>>> ### The S4 class.
>>> setClass('DataFrame',
>>>              representation(data = 'data.frame', nrow = 'numeric', ncol
>>> =
>>> 'numeric', store = 'environment'),
>>>              prototype(data = data.frame( ), nrow = 0, ncol = 0))
>>>
>>> setMethod('initialize', 'DataFrame', function(.Object) {
>>>    .Object <- callNextMethod( )
>>>    .Object at store <- new.env(hash = TRUE)
>>>    assign('data', as.list(.Object at data), .Object at store)
>>>    .Object at nrow <- nrow(.Object at data)
>>>    .Object at ncol <- ncol(.Object at data)
>>>    .Object at data <- data.frame( )
>>>    .Object
>>> })
>>>
>>>
>>> ### Usage:
>>> nn  <- 10
>>> ## dd1 below could possibly be created by read.table or scan and
>>> data.frame
>>> dd1 <- data.frame(xx = rnorm(nn), yy = rnorm(nn))
>>> dd2 <- new('DataFrame', data = dd1)
>>> rm(dd1)
>>> ## Now work with dd2
>>>
>>>
>>> Thanks a lot,
>>> Gopi Goswami.
>>> PhD, Statistics, 2005
>>> http://gopi-goswami.net/index.html
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>
>>>
>>
>>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From hpages at fhcrc.org  Tue Apr 15 09:03:56 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Tue, 15 Apr 2008 00:03:56 -0700
Subject: [Rd] Pb with validObject(..., complete=TRUE)
Message-ID: <4804535C.7000307@fhcrc.org>

Hi,

When called with complete=TRUE, validObject() is supposed to work in a
recursive manner. But here is a situation where it doesn't seem to be
the case.

Let's define a class with a validity method:

   setClass("PosInts", representation(ii="integer"))

   setValidity("PosInts",
     function(object)
     {
       if (!all(object at ii > 0))
         return("'ii' slot contains non-positive values")
       NULL
     }
   )

Let's extend this class (no need to add new slots for illustrating the pb):

   setClass("PosInts2", contains="PosInts")

   broken <- new("PosInts2")
   broken at ii <- 3:0

If "PosInts2" objects don't need to satisfy additional constraints in order to
be considered valid, then I don't need to define a validity method for them.
I can just rely on method dispatch, which works as expected with validity methods:

   > validObject(broken)
   Error in validObject(broken) :
     invalid class "PosInts" object: 'ii' slot contains non-positive values

Unfortunately, this will cause problems later when I try to validate objects
that have slots of type "PosInts2":

   setClass("A", representation(aa="PosInts2"))
   a <- new("A", aa=broken)

This works as expected:

   > validObject(a)
   [1] TRUE

But this is not what I would expect:

   > validObject(a, complete=TRUE)
   [1] TRUE

... given that 'a' has a slot that contains an invalid "PosInts2" instance:

   > validObject(a at aa)
   Error in validObject(a at aa) :
     invalid class "PosInts2" object: 'ii' slot contains non-positive values

So clearly 'a' is broken and I would expect validObject(a, complete=TRUE) to
tell me so...

Now if I define the same validity method for "PosInts2" objects as for "PosInts"
objects, then things work as expected (validObject(a, complete=TRUE) will fail)
but it's not clear to me why I should be forced to do this?

Thanks!

H.


From wstein at gmail.com  Tue Apr 15 18:27:08 2008
From: wstein at gmail.com (William Stein)
Date: Tue, 15 Apr 2008 09:27:08 -0700
Subject: [Rd] Sage <--> R integration
Message-ID: <85e81ba30804150927m133d8f2bk7401a0c59cdd38c9@mail.gmail.com>

Hi R-Devel,

The Sage project (http://www.sagemath.org) has been working extremely
hard for several
years to create a viable free open source alternative to Maple,
Matlab, Mathematica, and
Magma. Numerous users have requested statistical functionality.
Though Sage includes
scipy and numpy, which have some statistical functionality, we've
decided the best longterm
solution is to strongly integrate R into Sage.    We started doing
this in December, and
now include R in all copies of Sage, and include R as part of the Sage
build process.

R/Sage integration will have many potential benefits for the R projects:

1. Sage has a cross platform graphical user interface, which also
works over the web; it
will be possible to use this as a GUI for R as well.  This is what
many young people like
and feel comfortable with, and it makes deployment in a teaching
environment very easy.

2. The Sage Foundation has received funding from Microsoft to do a
full native port of Sage and
its components to Microsoft Windows (MSVC 32 *and* 64-bit).   The more
integrated
R is into Sage, the more important it will be for us to do a 64-bit
MSVC port of R (instead
of using your 32-bit only mingw binaries/build system), which is
something R users
would greatly benefit from.    The Sage Foundation has also received funding to
do and maintain 32 and 64-bit Solaris ports of Sage and all components; again
R can benefit from this.   )This funding means highly talented full
and part-time
developers working on these ports.)

3. Sage has substantial mathematical functionality that is not in R,
ranging from optimization
code to advanced number theory and cryptographic algorithms; combining
R with Sage
results in a very powerful environment for mathematical calculation
that really extends how
R will get used.

At present, the best possible way to encourage and support R being
fully integrated into
Sage would be for the R Google Summer of Code Mentors to select the R
/ Sage integration
project for one of their (four?) project slots.

Currently the one R GSoC project is rated number six, so is not likely
to be funded
unless it receives support from other mentors (or Google ups the
number of allocations).

 -- william

-- 
William Stein
Associate Professor of Mathematics
University of Washington
http://wstein.org


From sundar.dorai-raj at pdf.com  Tue Apr 15 19:45:03 2008
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Tue, 15 Apr 2008 10:45:03 -0700
Subject: [Rd] including additional packages in Recommended
Message-ID: <4804E99F.8040600@pdf.com>

Hi, R-devel,

I'm trying to create a modified distribution of R to include several 
packages are not part of the CRAN version. I.e. When I untar 
R-2.6.2.tar.gz I would like to include my package "foo_1.0-0.tar.gz" in 
'src/library/Recommended' so that when a user builds my version of R 
they also get my package and don't have to explicitly do 
install.packages. I searched the archives looking at ways to change the 
Makefile in 'src/library' but came up empty. I suspect the change has to 
do with $R_PKGS_BASE though I'm unsure.

Thanks,

--sundar


From ripley at stats.ox.ac.uk  Tue Apr 15 20:48:35 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Apr 2008 19:48:35 +0100 (BST)
Subject: [Rd] including additional packages in Recommended
In-Reply-To: <4804E99F.8040600@pdf.com>
References: <4804E99F.8040600@pdf.com>
Message-ID: <alpine.LFD.1.00.0804151943400.17191@gannet.stats.ox.ac.uk>

Look in share/make/vars.mk.  BASE means base, not recommended, believe it 
or not.  You would need to add to R_PKGS_RECOMMENDED_SOURCES and 
R_PKGS_RECOMMENDED.

On Tue, 15 Apr 2008, Sundar Dorai-Raj wrote:

> Hi, R-devel,
>
> I'm trying to create a modified distribution of R to include several
> packages are not part of the CRAN version. I.e. When I untar
> R-2.6.2.tar.gz I would like to include my package "foo_1.0-0.tar.gz" in
> 'src/library/Recommended' so that when a user builds my version of R
> they also get my package and don't have to explicitly do
> install.packages. I searched the archives looking at ways to change the
> Makefile in 'src/library' but came up empty. I suspect the change has to
> do with $R_PKGS_BASE though I'm unsure.

We don't encourage it.  We do describe how to do this for the Windows 
installer , but on a Unix-alike you can just use a wrapper script to 
install R and then run 'R CMD INSTALL foo_1.0-0.tar.gz'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From vogranovich at jumptrading.com  Tue Apr 15 21:13:08 2008
From: vogranovich at jumptrading.com (Vadim Organovich)
Date: Tue, 15 Apr 2008 14:13:08 -0500
Subject: [Rd] clean-up actions after non-local exits
In-Reply-To: <Pine.LNX.4.64.0804141847050.31782@itasca2.wildberry.org>
References: <22D850BC39A25742977325ADDE208E770266956333@chiexchange02.w2k.jumptrading.com>,
	<4803C458.4060109@stats.uwo.ca>
	<22D850BC39A25742977325ADDE208E770266956335@chiexchange02.w2k.jumptrading.com>,
	<Pine.LNX.4.64.0804141847050.31782@itasca2.wildberry.org>
Message-ID: <22D850BC39A25742977325ADDE208E770266956338@chiexchange02.w2k.jumptrading.com>

Thank you, Luke!

Regarding user interrupts. R-ext mentions that those could be suppressed by setting R_SignalHandlers to 0. So if I do so in my clean up code I should be good, shouldn't I?

Thanks,
Vadim

________________________________________
From: Luke Tierney [luke at stat.uiowa.edu]
Sent: Monday, April 14, 2008 6:57 PM
To: Vadim Organovich
Cc: r-devel at r-project.org
Subject: Re: [Rd] clean-up actions after non-local exits

On Mon, 14 Apr 2008, Vadim Organovich wrote:

> This is good, thanks!
>
> I'd like to be able to make sure that the resource is released in conrolled fasion rather than at some arbitrary gc() call time. Will the following trick achieve the goal:
>
> foo <-function(whatever) {
> on.exit(gc())
> ## arrange for an external pointer, don't know how yet
> ...
> ## actual call
> .Call(whatever)
> }
>
> The idea is to have gc() called on exit.
>
> I seem to recall that a call to gc() doesn't guarantee that all possibly collectable objects are actually collected, which will defeat my solution. Is that correct?

It would not be safe to rely on gc runing the finalizer at precisely
this time.  Probably it does now, but that may not always remain true.

If you are prepared to use R level wrappers with on.exit code, or
tryCatch with a finally clause, the I would use those to call your
cleanup code directly.  That is nearly guaranteed to succeed.  The
exception is that it is currently possible for a user interrupt (or a
timer interrupt in R 2.7 and up) to be handled in the running of the
interpreted part of the on.exit/finally code.  At some point there
will be an R-level mechanism for selectively disabling and then
re-enabling interrupts (and maybe that will be used by default in
conjunction with tryCatch or on.exit, but that needs thinking
though).  Until then if you need a stronger guarantee I would add the
finalizer option as a backup and let the GC call it when it gets to
it.

luke


>
> Thanks,
> Vadim
>
> ________________________________________
> From: Duncan Murdoch [murdoch at stats.uwo.ca]
> Sent: Monday, April 14, 2008 3:53 PM
> To: Vadim Organovich
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] clean-up actions after non-local exits
>
> On 14/04/2008 4:33 PM, Vadim Organovich wrote:
>> Dear R-devel,
>>
>>
>>
>> Some time ago I started a thread that boiled down to clean-up actions after non-local exits in R, see below. I wonder if there has been any progress on this? R-ext 2.6.1 doesn't say much on the subject.
>>
>>
>>
>> How, for example, do people deal with a situation where their C (C++) function opens a file and then receives a signal or  longjump-s on error(), how do they make sure the file is eventually closed?
>
> The finalizer code that Luke mentioned is more easily accessible now
> than it was in 2004.  See the section on external pointers and weak
> references in the Writing R Extensions manual.
>
> The idea would be to create an external pointer object that controls the
> resource.  If there's an error, at the next GC the external pointer will
> be finalized and that's where the cleanup can happen.
>
> Duncan Murdoch
>
>>
>>
>> Thanks,
>>
>> Vadim
>>
>>
>>
>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>
>>> This is disappointing. How on Earth can mkChar know when it is safe or
>>> not to make a long jump? For example if I just opened a file how am I
>>> supposed to close it after the long jump? I am not even talking about
>>> C++ where long jumps are simply devastating... (and this is the language
>>> I am coding in :-( )
>>>
>>> Ok. A practical question: is it possible to somehow block
>>> R_CheckUserInterrupt? I am ready to put up with out-of-memory errors,
>>> but Ctrl-C is too common to be ignored.
>>
>> Interrupts are not the issue. The issue is making sure that cleanup
>> actions occur even if there is a non-local exit. A solution that
>> addresses that issue will work for any non-local exit, whether it
>> comes from an interrupt or an exception. So you don't have to put up
>> with anything if you approach this the right way,
>>
>> Currently there is no user accessible C level try/finally mechanism
>> for insuring that cleanup code is executed during a non-local exit.
>> We should make such a mechanicm available; maybe one will make it into
>> the next major release.
>>
>> For now you have two choices:
>>
>>     You can create an R level object and attach a finalizer to the object
>>     that will arrange for the GC to close the file at some point in the
>>     future if a non-local exit occurs. Search developer.r-project.org for
>>     finalization and weak references for some info on this.
>>
>>     One other option is to use the R_ToplevelExec function. This has some
>>     drawbacks since it effectively makes invisible all other error
>>     handlers, but it is an option. It is also not officially documented
>>     and subject to change.
>>
>>> And I think it makes relevant again the question I asked in another
>>> related thread: how is memory allocated by Calloc() and R_alloc() stand
>>> up against long jumps?
>>
>> R_alloc is stack-based; the stack is unwound on a non-local exit, so
>> this is released on regular exits and non-local ones. It uses R
>> allocation, so it could itself cause a non-local exit.
>>
>> Calloc is like calloc but will never return NULL. If the allocation
>> fails, then an error is signaled, which will result in a non-local
>> exit. If the allocation succeeds, you are responsable for calling
>> Free.
>>
>> luke
>>
>>>> -----Original Message-----
>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>> Sent: Monday, June 14, 2004 5:43 PM
>>>> To: Vadim Ogranovich
>>>> Cc: R-Help
>>>> Subject: RE: [R] mkChar can be interrupted
>>>>
>>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>>
>>>>> I am confused. Here is an excerpt from R-exts:
>>>>>
>>>>> "As from R 1.8.0 no port of R can be interrupted whilst
>>>> running long
>>>>> computations in compiled code,..."
>>>>>
>>>>> Doesn't it imply that the primitive functions like allocVector,
>>>>> mkChar, etc., which are likely to occur in any compiled code called
>>>>> via .Call, are not supposed to handle interrupts in any way?
>>>> No it does not. Read the full context. It says that if you
>>>> wite a piece of C code that may run a long time and you want
>>>> to guarantee that users will be able to interrupt your code
>>>> then you should insure that R_CheckUserInterrupt is called
>>>> periodically. If your code already periodically calls other
>>>> R code that checks for interrupts then you may not need to do
>>>> this yourself, but in general you do.
>>>>
>>>> Prior to 1.8.0 on Unix-like systems the asynchronous signal
>>>> handler for SIGINT would longjmp to the nearest top level or
>>>> browser context, which meant that on these sytems any code
>>>> was interruptible at any point unless it was explicitly
>>>> protected by a construct that suspended interrupts. Allowing
>>>> interrupts at any point meant that inopportune interrupts
>>>> could and did crash R, which is why this was changed.
>>>>
>>>> Unless there is explicit documentation to the contrary you
>>>> should assume that every function in the R API might allocate
>>>> and might cause a non-local exit (i.e. a longjmp) when an
>>>> exception is raised (and an interrupt is one of, but only one
>>>> of, the exceptions that might occur).
>>>>
>>>> luke
>>>>
>>>>> Thanks,
>>>>> Vadim
>>>>>
>>>>>
>>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>>>>
>>>>>> On Mon, 14 Jun 2004, Vadim Ogranovich wrote:
>>>>>>
>>>>>>>> From: Luke Tierney [mailto:luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>]
>>>>> ...
>>>>>>>> Not sure why you think this suggest mkChar can be interrupted.
>>>>>>>>
>>>>> ...
>>>>>>>> by calls to this function. I don't believe there are any
>>>>>> such safe
>>>>>>>> points in mkChar, but there are several potential ones
>>>>>> within your
>>>>>>>> example.
>>>>>>> Apart from mkChar I am only calling SET_STRING_ELT. Is this
>>>>>> what you
>>>>>>> mean?
>>>>>> You are printing, you have an assignment expression, all of those
>>>>>> contain points where an interrupt could be checked for.
>>>>> These are not relevant since Ctrl-C is pressed when the
>>>> code is inside
>>>>> for (i=0; i<n; ++i) {
>>>>> SET_STRING_ELT(resSexp, i, mkChar("foo"));
>>>>> }
>>>>>
>>>>> Just look at the way I deliver the signal.
>>>>>
>>>>> ______________________________________________
>>>>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>>>>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide!
>>>>> http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>>>>
>>>> --
>>>> Luke Tierney
>>>> University of Iowa Phone: 319-335-3386
>>>> Department of Statistics and Fax: 319-335-3017
>>>> Actuarial Science
>>>> 241 Schaeffer Hall email: luke at stat.uiowa.edu<mailto:luke at stat.uiowa.edu?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted>
>>>> Iowa City, IA 52242 WWW: http://www.stat.uiowa.edu<http://www.stat.uiowa.edu/>
>>>>
>>>>
>>>>
>>> ______________________________________________
>>> R-help at stat.math.ethz.ch<mailto:R-help at stat.math.ethz.ch?Subject=RE:%20%5BR%5D%20mkChar%20can%20be%20interrupted> mailing list
>>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html<http://www.r-project.org/posting-guide.html>
>>>
>>
>> --
>> Luke Tierney
>>
>>
>>       [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

--
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From sundar.dorai-raj at pdf.com  Tue Apr 15 22:02:09 2008
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Tue, 15 Apr 2008 13:02:09 -0700
Subject: [Rd] including additional packages in Recommended
In-Reply-To: <alpine.LFD.1.00.0804151943400.17191@gannet.stats.ox.ac.uk>
References: <4804E99F.8040600@pdf.com>
	<alpine.LFD.1.00.0804151943400.17191@gannet.stats.ox.ac.uk>
Message-ID: <480509C1.1090102@pdf.com>

Hi, Prof. Ripley (and Berwin for his off-list reply),

Thanks for the reply. Yes, I know this is not the recommended mode. I 
guessed as much when I could not find a simple answer in R-admin. The is 
actually our current mode of installation at the client. But some 
suggestions from management have veered my in this direction.

Thanks,

--sundar

Prof Brian Ripley said the following on 4/15/2008 11:48 AM:
> Look in share/make/vars.mk.  BASE means base, not recommended, believe 
> it or not.  You would need to add to R_PKGS_RECOMMENDED_SOURCES and 
> R_PKGS_RECOMMENDED.
> 
> On Tue, 15 Apr 2008, Sundar Dorai-Raj wrote:
> 
>> Hi, R-devel,
>>
>> I'm trying to create a modified distribution of R to include several
>> packages are not part of the CRAN version. I.e. When I untar
>> R-2.6.2.tar.gz I would like to include my package "foo_1.0-0.tar.gz" in
>> 'src/library/Recommended' so that when a user builds my version of R
>> they also get my package and don't have to explicitly do
>> install.packages. I searched the archives looking at ways to change the
>> Makefile in 'src/library' but came up empty. I suspect the change has to
>> do with $R_PKGS_BASE though I'm unsure.
> 
> We don't encourage it.  We do describe how to do this for the Windows 
> installer , but on a Unix-alike you can just use a wrapper script to 
> install R and then run 'R CMD INSTALL foo_1.0-0.tar.gz'.
>


From regetz at nceas.ucsb.edu  Wed Apr 16 01:37:39 2008
From: regetz at nceas.ucsb.edu (Jim Regetz)
Date: Tue, 15 Apr 2008 16:37:39 -0700
Subject: [Rd] obstacles to using vectors with attributes
Message-ID: <48053C43.1020401@nceas.ucsb.edu>

Hi all,

I am working on an application in which we'd like to use attributes to 
attach simple metadata to arbitrary R objects. It is essential that all 
functions that will work on the original object will also work on the 
object after metadata attributes have been added. However, this is not 
always the case for vectors: functions such as barplot, diffinv, and rle 
use is.vector, which (as documented and as discussed previously on this 
list) returns FALSE for a vector that has any attributes other than 
"names". For example,

 > x <- 1:3
 > attr(x, "date") <- date()
 > barplot(x)
Error in barplot.default(x) : 'height' must be a vector or a matrix

It strikes me that is.vector may be an overly strict test in these 
cases. Shouldn't barplot(x) behave the same regardless of whether vector 
x has any (non-special) attributes? In barplot.default, what if 
is.vector(x) were replaced with something along the lines of:
	is.atomic(x) && is.null(dim(x))

Admittedly, other functions currently using is.vector may require 
something slightly different. One such example is data.frame, which uses 
is.vector when applying recycling rules. It appears it is used at least 
in part to filter out AsIs objects, so a specific test of whether the 
object class is AsIs may be appropriate?

No doubt a slew of functions in user-contributed packages use is.vector 
in similar fashion, so even modifying core functions wouldn't fully 
solve our particular problem. On that note, I don't suppose there's hope 
of revisiting the definition of is.vector itself? Bear in mind, I do 
appreciate that there are good reasons for its current behavior, and 
compatibility constraints on changing it.

Thanks,
Jim

------------------------------
James Regetz, Ph.D.
Scientific Programmer/Analyst
National Center for Ecological Analysis & Synthesis
735 State St, Suite 300
Santa Barbara, CA 93101


From Thomas.Petzoldt at TU-Dresden.de  Wed Apr 16 10:15:29 2008
From: Thomas.Petzoldt at TU-Dresden.de (Thomas Petzoldt)
Date: Wed, 16 Apr 2008 10:15:29 +0200
Subject: [Rd] getNativeSymbolInfo fails with Fortran symbol.
In-Reply-To: <alpine.LFD.1.00.0804100830590.4710@auk.stats.ox.ac.uk>
References: <OF5CE538D6.F58F6597-ON85257426.00507834-85257426.0050F7F7@epamail.epa.gov>
	<alpine.LFD.1.00.0804100830590.4710@auk.stats.ox.ac.uk>
Message-ID: <4805B5A1.8010101@TU-Dresden.de>

Prof Brian Ripley wrote:
> It's a bug -- unlike is.loaded, getNativeSymbolInfo seems unaware of 
> Fortran names unless registered.
> 
> Will be fixed in 2.7.0.
> 
> On Wed, 9 Apr 2008, Setzer.Woodrow at epamail.epa.gov wrote:
> 
>>
>> In the following code routine 'initaquaphy' is defined in Fortran,
>> and dynamically loaded into R.:
>>
>> test.f:
>>
>>
>>      subroutine initaquaphy(odeparms)
>>
>>      external odeparms
>>      double precision pars(19)
>>      common /myparms/pars
>>
>>       call odeparms(19, pars)
>>
>>      return
>>      end
>>
>> $ R CMD SHLIB Aquaphy.f
>> gfortran   -fpic  -g -O2 -c test.f -o test.o
>> gcc -std=gnu99 -shared -L/usr/local/lib -o test.so test.o  -lgfortran -lm
>>
>>
>> and linked into the package dll (or so).  Help for is.loaded() and
>> getNativeSymbolInfo() say not to use symbol.For() to convert
>> to Fortran-specific symbols.  However, on Linux, getNativeSymbolInfo
>> is unable to find 'initaquaphy' in 'test.so', but does find
>> 'initaquaphy_'.  Note that is.loaded() works as advertised.  Furthermore,
>> this code works in Windows, R-2.6.2patched44759.
>>
>> triggerbug.R:
>>
>> system("R CMD SHLIB test.f")
>> dyn.load(paste("test",.Platform$dynlib.ext,sep=""))
>> is.loaded("initaquaphy", PACKAGE="test")
>> getNativeSymbolInfo("initaquaphy_", PACKAGE="test")
>> getNativeSymbolInfo("initaquaphy", PACKAGE="test")
>> cat("All Done")
>>
>> Resulting in:
>>
>>> source("triggerbug.R", echo=TRUE, print.eval=TRUE)
>>> system("R CMD SHLIB test.f")
>> gfortran   -fpic  -g -O2 -c test.f -o test.o
>> gcc -std=gnu99 -shared -L/usr/local/lib -o test.so test.o  -lgfortran -lm
>>
>>> dyn.load(paste("test",.Platform$dynlib.ext,sep=""))
>>> is.loaded("initaquaphy", PACKAGE="test")
>> [1] TRUE
>>
>>> getNativeSymbolInfo("initaquaphy_", PACKAGE="test")
>> $name
>> [1] "initaquaphy_"
>>
>> $address
>> <pointer: 0x1c03f0>
>> attr(,"class")
>> [1] "NativeSymbol"
>>
>> $package
>> DLL name: test
>> Filename: /home/setzer/tasks/Programming_Projects/test.so
>> Dynamic lookup: TRUE
>>
>> attr(,"class")
>> [1] "NativeSymbolInfo"
>>
>>> getNativeSymbolInfo("initaquaphy", PACKAGE="test")
>> Error in FUN("initaquaphy"[[1L]], ...) :
>>  no such symbol initaquaphy in package test
>> Have I misunderstood the help page, or is this a bug?
>>
>> --please do not edit the information below--
>>
>> Version:
>> platform = i686-pc-linux-gnu
>> arch = i686
>> os = linux-gnu
>> system = i686, linux-gnu
>> status = beta
>> major = 2
>> minor = 7.0
>> year = 2008
>> month = 04
>> day = 07
>> svn rev = 45159
>> language = R
>> version.string = R version 2.7.0 beta (2008-04-07 r45159)
>>
>> Locale:
>> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C
>>
>> Search Path:
>> .GlobalEnv, package:deSolve, package:stats, package:graphics, package:grDevices, package:utils, package:datasets, package:methods, Autoloads,
>> package:base
>>
>> R. Woodrow Setzer, Ph. D.
>> National Center for Computational Toxicology
>> http://www.epa.gov/comptox
>> US Environmental Protection Agency
>> Mail Drop B205-01/US EPA/RTP, NC 27711
>> Ph: (919) 541-0128    Fax: (919) 541-1194
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 

Many thanks to Prof. Brian Ripley

for fixing the above mentioned issue for recent versions
of R. Unfortunately, the problem seems to persist on Linux x86/64.

The example is almost the same as above:

 > getNativeSymbolInfo("iniaqua", PACKAGE = "deSolve")$address
Error in FUN("iniaqua"[[1L]], ...) :
   no such symbol iniaqua in package deSolve
 > getNativeSymbolInfo("iniaqua_", PACKAGE = "deSolve")$address
<pointer: 0x2b5cd3aa3960>
attr(,"class")
[1] "NativeSymbol"


Thomas Petzoldt


platform "x86_64-unknown-linux-gnu"
arch "x86_64"
os "linux-gnu"
system "x86_64, linux-gnu"
status "Under development (unstable)"
major "2"
minor "8.0"
year "2008"
month "04"
day "15"
`svn rev` "45347"
version.string "R version 2.8.0 Under development (unstable) (2008-04-15 
r45347)"

g++ (GCC) 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)


-- 
Thomas Petzoldt
Technische Universitaet Dresden
Institut fuer Hydrobiologie        thomas.petzoldt at tu-dresden.de
01062 Dresden                      http://tu-dresden.de/hydrobiologie/
GERMANY


From ml-it-r-devel at epigenomics.com  Wed Apr 16 14:29:46 2008
From: ml-it-r-devel at epigenomics.com (ml-it-r-devel at epigenomics.com)
Date: Wed, 16 Apr 2008 14:29:46 +0200
Subject: [Rd] methods::is problem in R 2.7.0 & R 2.8.0 devel
Message-ID: <fu4rfq$vln$1@perl.epigenomics.epi>


Hi,

x <- 1L
class(x) <- c("myInt", "integer")
is(x)
Error in inherits(x, "factor") :
  argument "class2" is missing, with no default

The problem arises when is() is used with only one argument (object)
which has more than one class reported by class(object).
In the code is() does use variable "class2" before checking for its
presence.

Reversing the order of checks

is2 <- function(object, class2) {
 cl <- class(object)
 if (missing(class2))
 return(extends(cl))
 if (length(cl) > 1)
 return(class2 %in% cl)
 if (.identC(cl, class2) || .identC(class2, "ANY"))
         return(TRUE)
     ext <- possibleExtends(cl, class2)
     if (is.logical(ext))
         ext
     else if (ext at simple)
         TRUE
     else ext at test(object)
}

is2(x)
[1] "myInt"   "integer"


This is not sufficient, though:

utils::data(npk, package="MASS")
ret <- aov(yield ~ block + N*P*K, npk)
is2(ret)
[1] "aov"      "lm"       "lm"       "mlm"      "oldClass" "oldClass"

with duplicate class names

due to
extends(class(ret))
[1] "aov"      "lm"       "lm"       "mlm"      "oldClass" "oldClass"

so something different would be needed.


Best,

  Matthias


> sessionInfo()
R version 2.7.0 RC (2008-04-15 r45347)
i686-pc-linux-gnu

locale:
LC_CTYPE=de_DE at euro;LC_NUMERIC=C;LC_TIME=C;LC_COLLATE=C;LC_MONETARY=C;LC_MESSAGES=C;LC_PAPER=de_DE at euro;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=de_DE at euro;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base


-- 
Matthias Burger                     Project Manager/ Biostatistician
Epigenomics AG    Kleine Praesidentenstr. 1    10178 Berlin, Germany
phone:+49-30-24345-371                          fax:+49-30-24345-555
http://www.epigenomics.com           matthias.burger at epigenomics.com
--
Epigenomics AG Berlin           Amtsgericht Charlottenburg HRB 75861
Vorstand:   Geert Nygaard (CEO/Vorsitzender),  Dr. Kurt Berlin (CSO)
              Oliver Schacht PhD (CFO),  Christian Piepenbrock (COO)
Aufsichtsrat:   Prof. Dr. Dr. hc. Rolf Krebs (Chairman/Vorsitzender)


From vogranovich at jumptrading.com  Wed Apr 16 21:17:33 2008
From: vogranovich at jumptrading.com (Vadim Organovich)
Date: Wed, 16 Apr 2008 14:17:33 -0500
Subject: [Rd] C++ complains abouct Rprintf signature
Message-ID: <22D850BC39A25742977325ADDE208E77026695633C@chiexchange02.w2k.jumptrading.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080416/ee723b49/attachment.pl 

From ripley at stats.ox.ac.uk  Wed Apr 16 22:07:37 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Apr 2008 21:07:37 +0100 (BST)
Subject: [Rd] C++ complains abouct Rprintf signature
In-Reply-To: <22D850BC39A25742977325ADDE208E77026695633C@chiexchange02.w2k.jumptrading.com>
References: <22D850BC39A25742977325ADDE208E77026695633C@chiexchange02.w2k.jumptrading.com>
Message-ID: <alpine.LFD.1.00.0804162101370.10949@gannet.stats.ox.ac.uk>

Please see the posting guide:

   For questions about unexpected behavior or a possible bug, you should,
   at a minimum, copy and paste the output from sessionInfo() into
   your message.
...
   If you are using an old version of R and think it does not work
   properly, upgrade to the latest version and try that, before posting.
   If possible, try the current R-patched or R-devel version of R
   (see the FAQ for details), to see if the problem has already
   been addressed.

It has ....

On Wed, 16 Apr 2008, Vadim Organovich wrote:

> Dear R-devel,
>
> My g++ complains about the first argument to Rprintf being non-const char *. For example when compiling the line
>
> Rprintf("hello world\n");
>
> the following warning is emitted:
> warning: deprecated conversion from string constant to 'char*'
>
>
>
> Is there a reason for the non-const? It is curious that Rf_error, which is similar to RPrintf, is const.
>
>
>
> If there is a need to keep it non-const in C please consider using the patch below in future releases.
>
>
>
> Thanks,
>
> Vadim
>
> Patch to R-2.6.1/include/R_ext/Print.h
>
> #ifdef  __cplusplus
> extern "C" {
> #define CONST const
> #endif
> void Rprintf(CONST char *, ...);
> void REprintf(CONST char *, ...);
> void Rvprintf(const char *, va_list);
> void REvprintf(const char *, va_list);
> #ifdef  __cplusplus
> }
> #undef CONST
> #endif
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jmc at r-project.org  Wed Apr 16 23:55:31 2008
From: jmc at r-project.org (John Chambers)
Date: Wed, 16 Apr 2008 14:55:31 -0700
Subject: [Rd] Pb with validObject(..., complete=TRUE)
In-Reply-To: <4804535C.7000307@fhcrc.org>
References: <4804535C.7000307@fhcrc.org>
Message-ID: <480675D3.3080503@r-project.org>

The "infelicity" arises because validObject() is not a generic function; 
validity "method" is a bit of a misnomer.  The functions are attached to 
the class definition and validObject looks for them directly--in the 
process it catches all methods from superclasses, but not from 
superclasses of the slots' classes.

The fix is to call validObject recursively on each slot when 
complete=TRUE.  This is a moderately large efficiency hit, but if you're 
using complete=TRUE, it's reasonable to assume you really want the whole 
truth, even if it takes a bit longer.

Unless there are counter-arguments, we'll make this change (not, 
however, for 2.7.0)

John

Herve Pages wrote:
> Hi,
>
> When called with complete=TRUE, validObject() is supposed to work in a
> recursive manner. But here is a situation where it doesn't seem to be
> the case.
>
> Let's define a class with a validity method:
>
>    setClass("PosInts", representation(ii="integer"))
>
>    setValidity("PosInts",
>      function(object)
>      {
>        if (!all(object at ii > 0))
>          return("'ii' slot contains non-positive values")
>        NULL
>      }
>    )
>
> Let's extend this class (no need to add new slots for illustrating the pb):
>
>    setClass("PosInts2", contains="PosInts")
>
>    broken <- new("PosInts2")
>    broken at ii <- 3:0
>
> If "PosInts2" objects don't need to satisfy additional constraints in order to
> be considered valid, then I don't need to define a validity method for them.
> I can just rely on method dispatch, which works as expected with validity methods:
>
>    > validObject(broken)
>    Error in validObject(broken) :
>      invalid class "PosInts" object: 'ii' slot contains non-positive values
>
> Unfortunately, this will cause problems later when I try to validate objects
> that have slots of type "PosInts2":
>
>    setClass("A", representation(aa="PosInts2"))
>    a <- new("A", aa=broken)
>
> This works as expected:
>
>    > validObject(a)
>    [1] TRUE
>
> But this is not what I would expect:
>
>    > validObject(a, complete=TRUE)
>    [1] TRUE
>
> ... given that 'a' has a slot that contains an invalid "PosInts2" instance:
>
>    > validObject(a at aa)
>    Error in validObject(a at aa) :
>      invalid class "PosInts2" object: 'ii' slot contains non-positive values
>
> So clearly 'a' is broken and I would expect validObject(a, complete=TRUE) to
> tell me so...
>
> Now if I define the same validity method for "PosInts2" objects as for "PosInts"
> objects, then things work as expected (validObject(a, complete=TRUE) will fail)
> but it's not clear to me why I should be forced to do this?
>
> Thanks!
>
> H.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From hpages at fhcrc.org  Thu Apr 17 01:07:07 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Wed, 16 Apr 2008 16:07:07 -0700
Subject: [Rd] Pb with validObject(..., complete=TRUE)
In-Reply-To: <480675D3.3080503@r-project.org>
References: <4804535C.7000307@fhcrc.org> <480675D3.3080503@r-project.org>
Message-ID: <4806869B.7080902@fhcrc.org>

Hi John,

John Chambers wrote:
> The "infelicity" arises because validObject() is not a generic function; 
> validity "method" is a bit of a misnomer.

Indeed. And I guess referring to "method dispatch" like I did in my previous
email is not appropriate either.
So yes I learned that thinking of validity "methods" as regular methods doesn't
really work. For example the man page for callNextMethod is stating that "a
call to 'callNextMethod' can only appear inside a method definition" but it
won't work inside a validity "method". Why would I need to do that? Well the
problem I reported in this thread can be worked around by redefining the
the same validity method for "PosInts2" objects as for "PosInts" objects.
So while I was looking at different ways to achieve this, I tried this
(I really want to avoid code duplication):

    setValidity("PosInts2", function(object) callNextMethod())

which of course doesn't work, so I finally came up with something like this:

    setValidity("PosInts2", getValidity(getClassDef(extends("PosInt2")[2])))

which tries to mimic what callNextMethod would do but in an ugly and easy to
break way. This is a temporary fix anyway, until validObject(..., complete=TRUE)
is fixed in R 2.8.0.

>  The functions are attached to 
> the class definition and validObject looks for them directly--in the 
> process it catches all methods from superclasses, but not from 
> superclasses of the slots' classes.
> 
> The fix is to call validObject recursively on each slot when 
> complete=TRUE.  This is a moderately large efficiency hit, but if you're 
> using complete=TRUE, it's reasonable to assume you really want the whole 
> truth, even if it takes a bit longer.

Absolutely.

Thanks for looking into this!

Cheers,
H.

> 
> Unless there are counter-arguments, we'll make this change (not, 
> however, for 2.7.0)
> 
> John
> 
> Herve Pages wrote:
>> Hi,
>>
>> When called with complete=TRUE, validObject() is supposed to work in a
>> recursive manner. But here is a situation where it doesn't seem to be
>> the case.
>>
>> Let's define a class with a validity method:
>>
>>    setClass("PosInts", representation(ii="integer"))
>>
>>    setValidity("PosInts",
>>      function(object)
>>      {
>>        if (!all(object at ii > 0))
>>          return("'ii' slot contains non-positive values")
>>        NULL
>>      }
>>    )
>>
>> Let's extend this class (no need to add new slots for illustrating the 
>> pb):
>>
>>    setClass("PosInts2", contains="PosInts")
>>
>>    broken <- new("PosInts2")
>>    broken at ii <- 3:0
>>
>> If "PosInts2" objects don't need to satisfy additional constraints in 
>> order to
>> be considered valid, then I don't need to define a validity method for 
>> them.
>> I can just rely on method dispatch, which works as expected with 
>> validity methods:
>>
>>    > validObject(broken)
>>    Error in validObject(broken) :
>>      invalid class "PosInts" object: 'ii' slot contains non-positive 
>> values
>>
>> Unfortunately, this will cause problems later when I try to validate 
>> objects
>> that have slots of type "PosInts2":
>>
>>    setClass("A", representation(aa="PosInts2"))
>>    a <- new("A", aa=broken)
>>
>> This works as expected:
>>
>>    > validObject(a)
>>    [1] TRUE
>>
>> But this is not what I would expect:
>>
>>    > validObject(a, complete=TRUE)
>>    [1] TRUE
>>
>> ... given that 'a' has a slot that contains an invalid "PosInts2" 
>> instance:
>>
>>    > validObject(a at aa)
>>    Error in validObject(a at aa) :
>>      invalid class "PosInts2" object: 'ii' slot contains non-positive 
>> values
>>
>> So clearly 'a' is broken and I would expect validObject(a, 
>> complete=TRUE) to
>> tell me so...
>>
>> Now if I define the same validity method for "PosInts2" objects as for 
>> "PosInts"
>> objects, then things work as expected (validObject(a, complete=TRUE) 
>> will fail)
>> but it's not clear to me why I should be forced to do this?
>>
>> Thanks!
>>
>> H.
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>   
>


From jayuan2008 at yahoo.com  Thu Apr 17 01:33:20 2008
From: jayuan2008 at yahoo.com (Yuan Jian)
Date: Wed, 16 Apr 2008 16:33:20 -0700 (PDT)
Subject: [Rd] matrix
Message-ID: <939863.45500.qm@web46012.mail.sp1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080416/940762fb/attachment.pl 

From murdoch at stats.uwo.ca  Thu Apr 17 01:46:23 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 16 Apr 2008 19:46:23 -0400
Subject: [Rd] matrix
In-Reply-To: <939863.45500.qm@web46012.mail.sp1.yahoo.com>
References: <939863.45500.qm@web46012.mail.sp1.yahoo.com>
Message-ID: <48068FCF.7040804@stats.uwo.ca>

On 16/04/2008 7:33 PM, Yuan Jian wrote:
> Hello,
>   I have a matrix, I want to change value to 0 when a element in the matrix has less than 10.
>   do you know how to do it without using loops?

A[A < 10] <- 0

Remember that matrices are just vectors with dimensions, so you can 
index one like a vector.

Duncan Murdoch


From jayuan2008 at yahoo.com  Thu Apr 17 03:42:53 2008
From: jayuan2008 at yahoo.com (Yuan Jian)
Date: Wed, 16 Apr 2008 18:42:53 -0700 (PDT)
Subject: [Rd] matrix
In-Reply-To: <48068FCF.7040804@stats.uwo.ca>
Message-ID: <893230.71494.qm@web46006.mail.sp1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080416/35782fdf/attachment.pl 

From maechler at stat.math.ethz.ch  Thu Apr 17 08:24:42 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 17 Apr 2008 08:24:42 +0200
Subject: [Rd] matrix
In-Reply-To: <893230.71494.qm@web46006.mail.sp1.yahoo.com>
References: <48068FCF.7040804@stats.uwo.ca>
	<893230.71494.qm@web46006.mail.sp1.yahoo.com>
Message-ID: <18438.60714.986567.9616@stat.math.ethz.ch>

>>>>> "YJ" == Yuan Jian <jayuan2008 at yahoo.com>
>>>>>     on Wed, 16 Apr 2008 18:42:53 -0700 (PDT) writes:

    YJ> thanks,
    YJ> can I ask another basic question?

yes, but *NOT* on R-devel.

PLEASE!  There seems to be a recent tendency to misuse R-devel
for things that *REALLY*  *ONLY*  belong  to R-help.

[...............]


From pent at aparamon.msk.ru  Wed Apr 16 21:50:18 2008
From: pent at aparamon.msk.ru (pent at aparamon.msk.ru)
Date: Wed, 16 Apr 2008 21:50:18 +0200 (CEST)
Subject: [Rd] package.skeleton() creates corrupted Rd file (PR#11191)
Message-ID: <20080416195018.2E8E7282EFF0@mail.pubhealth.ku.dk>

Calling package.skeleton() results in corrupted Rd-file stub on my
system. It (the file) is contaminated with mass question marks.

This happens only for package Rd file, Rd stubs for *package
functions* are generated nicely.

An example of bad Rd file created by package.skeleton():

\name{cmrutils-package}
\alias{cmrutils-package}
\alias{cmrutils}
\docType{package}
\title{
What the package does (short line)
~~ ????????? ?????? ~~
}
\description{
More about what it does (maybe more than one line)
~~ ??????? ?????????? (1-5 ?????) ???????? ?????? ~~
}
\details{
\tabular{ll}{
Package: \tab cmrutils\cr
Type: \tab Package\cr
Version: \tab 1.0\cr
Date: \tab 2008-03-30\cr
License: \tab What license is it under?\cr
}
~~ ????? ????, ??? ???????????? ?????, ??????? ???????? ?????? ??????? ~~
}
\author{
Who wrote it

?????????: Who to complain to <yourfault at somewhere.net>
~~ ????? ?/??? ?????????????? ????? ~~
}
\references{
~~ ?????????? ??? ?????? ?????? ?? ?????????????? ?????????? ~~
}
~~ ?????????????: ?????? ??????????? ???????? ?????, ?? ?????? ?? ??????, ~~
~~ ?? ????? KEYWORDS ? ????? ? ????????????? ?? R ~~
\keyword{ package }
\seealso{
~~ ?????????????? ?????? ?? ?????? ???????? ???????????, ???????? ~~
~~ \code{\link[<pkg>:<pkg>-package]{<pkg>}} ~~
}
\examples{
~~ ??????? ??????? ??? ???????? ?????? ??????? ~~
}

The file has been corrupted unevitably: these ?s are all actual 3F
characters, not that I just open the file in incorrect encoding.

Upon discussion with Dirk Eddelbuettel and Douglas Bates and further
investigation, it appears that the problem is in package.skeleton()
function, not in promptPackage() function neither in R-ru.po (Russian
translations for R) file. This is the problematic code:

package.skeleton <-
    ...
{
    ...

    ## we need to test in the C locale
    curLocale <- Sys.getlocale("LC_CTYPE")
    on.exit(Sys.setlocale("LC_CTYPE", curLocale), add = TRUE)
    if(Sys.setlocale("LC_CTYPE", "C") != "C")
        warning("cannot turn off locale-specific chars via LC_CTYPE")

    ...
}

Rd stubs for *package functions* are not affected because the
corresponding strings are not (yet) translated.

I'm ready to provide any additional info.

--please do not edit the information below--

Version:
 platform = i486-pc-linux-gnu
 arch = i486
 os = linux-gnu
 system = i486, linux-gnu
 status = 
 major = 2
 minor = 6.2
 year = 2008
 month = 02
 day = 08
 svn rev = 44383
 language = R
 version.string = R version 2.6.2 (2008-02-08)

Locale:
LC_CTYPE=ru_RU.UTF-8;LC_NUMERIC=C;LC_TIME=ru_RU.UTF-8;LC_COLLATE=ru_RU.UTF-8;LC_MONETARY=ru_RU.UTF-8;LC_MESSAGES=ru_RU.UTF-8;LC_PAPER=ru_RU.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=ru_RU.UTF-8;LC_IDENTIFICATION=C

Search Path:
 .GlobalEnv, package:stats, package:graphics, package:grDevices, package:utils, package:datasets, package:methods, Autoloads, package:base


From rmh at temple.edu  Thu Apr 17 00:30:12 2008
From: rmh at temple.edu (rmh at temple.edu)
Date: Thu, 17 Apr 2008 00:30:12 +0200 (CEST)
Subject: [Rd] segments() with zero-length arguments (PR#11192)
Message-ID: <20080416223012.A5B8E282EFF0@mail.pubhealth.ku.dk>

Uwe Ligges suggested I post this on R-bugs as a wishlist item with a
proposed patch.  R considers zero-length arguments to segments() to be
an error.  I would like R to allow this and to return without an
error.  It occurs naturally in settings like

valid <- c(FALSE, FALSE, FALSE)
segments(x0[valid], y0[valid], x1[valid], y1[valid])

For what it may be worth, S-Plus does not consider zero-length
arguments to segments() be an error.


plot(1:10)
segments(1,1,10,10,col='green')
segments(numeric(0), numeric(0), numeric(0), numeric(0), col='green')
Error in segments(x0, y0, x1, y1, col = col, lty = lty, lwd = lwd, ...) : 
        invalid first argument


segments.proposal <-
  function (x0, y0, x1, y1, col = par("fg"), lty = par("lty"), 
            lwd = par("lwd"), ...) {
    if (length(x0)==0 && length(y0)==0 && length(x1)==0 && length(y1)==0)
      return(invisible(NULL))
    .Internal(segments(x0, y0, x1, y1, col = col, lty = lty, lwd = lwd, ...))
}

segments.proposal(numeric(0), numeric(0), numeric(0), numeric(0), col='green')


From ripley at stats.ox.ac.uk  Thu Apr 17 11:45:37 2008
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Thu, 17 Apr 2008 11:45:37 +0200 (CEST)
Subject: [Rd] segments() with zero-length arguments (PR#11192)
Message-ID: <20080417094537.2DD622834610@mail.pubhealth.ku.dk>

I think we should allow only all-zero arguments (at present any 
zero-length argument is an error), as per the R-level proposed code.

arrows() and rect() share the code so it is much cleaner to do this 
internally.

Done for R-devel.

On Thu, 17 Apr 2008, rmh at temple.edu wrote:

> Uwe Ligges suggested I post this on R-bugs as a wishlist item with a
> proposed patch.  R considers zero-length arguments to segments() to be
> an error.  I would like R to allow this and to return without an
> error.  It occurs naturally in settings like
>
> valid <- c(FALSE, FALSE, FALSE)
> segments(x0[valid], y0[valid], x1[valid], y1[valid])
>
> For what it may be worth, S-Plus does not consider zero-length
> arguments to segments() be an error.
>
>
> plot(1:10)
> segments(1,1,10,10,col='green')
> segments(numeric(0), numeric(0), numeric(0), numeric(0), col='green')
> Error in segments(x0, y0, x1, y1, col = col, lty = lty, lwd = lwd, ...) :
>        invalid first argument
>
>
> segments.proposal <-
>  function (x0, y0, x1, y1, col = par("fg"), lty = par("lty"),
>            lwd = par("lwd"), ...) {
>    if (length(x0)==0 && length(y0)==0 && length(x1)==0 && length(y1)==0)
>      return(invisible(NULL))
>    .Internal(segments(x0, y0, x1, y1, col = col, lty = lty, lwd = lwd, ...))
> }
>
> segments.proposal(numeric(0), numeric(0), numeric(0), numeric(0), col='green')
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From P.Dalgaard at biostat.ku.dk  Thu Apr 17 12:16:24 2008
From: P.Dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu, 17 Apr 2008 12:16:24 +0200
Subject: [Rd] segments() with zero-length arguments (PR#11192)
In-Reply-To: <20080417094537.2DD622834610@mail.pubhealth.ku.dk>
References: <20080417094537.2DD622834610@mail.pubhealth.ku.dk>
Message-ID: <48072378.2030800@biostat.ku.dk>

ripley at stats.ox.ac.uk wrote:
> I think we should allow only all-zero arguments (at present any 
> zero-length argument is an error), as per the R-level proposed code.
>
> arrows() and rect() share the code so it is much cleaner to do this 
> internally.
>
>   
There are precedents for not requiring all-or-none zero-length args. In
arithmetic, "recycling" treats the case of one zero length item as if
all had length zero

> 2+numeric(0)
numeric(0)

cbind() and rbind() are a bit anomalous in that they just throw away the
offending item:

> cbind(a=1:2,b=numeric(0),c=3:4)
     a c
[1,] 1 3
[2,] 2 4

Only the former variant would make sense for segments(), but segments()
does recycle, unlike lines() which complains if vectors are of different
length.

I think there are cases where you might want it to just do nothing
rather than warn and do nothing or cause an error. Consider rug()-like code:
segments(x, ytop, x, ybot) with an empty x. (I realize that the real
rug() uses Axis(), but the point remains.)

> Done for R-devel.
>
> On Thu, 17 Apr 2008, rmh at temple.edu wrote:
>
>   
>> Uwe Ligges suggested I post this on R-bugs as a wishlist item with a
>> proposed patch.  R considers zero-length arguments to segments() to be
>> an error.  I would like R to allow this and to return without an
>> error.  It occurs naturally in settings like
>>
>> valid <- c(FALSE, FALSE, FALSE)
>> segments(x0[valid], y0[valid], x1[valid], y1[valid])
>>
>> For what it may be worth, S-Plus does not consider zero-length
>> arguments to segments() be an error.
>>
>>
>> plot(1:10)
>> segments(1,1,10,10,col='green')
>> segments(numeric(0), numeric(0), numeric(0), numeric(0), col='green')
>> Error in segments(x0, y0, x1, y1, col = col, lty = lty, lwd = lwd, ...) :
>>        invalid first argument
>>
>>
>> segments.proposal <-
>>  function (x0, y0, x1, y1, col = par("fg"), lty = par("lty"),
>>            lwd = par("lwd"), ...) {
>>    if (length(x0)==0 && length(y0)==0 && length(x1)==0 && length(y1)==0)
>>      return(invisible(NULL))
>>    .Internal(segments(x0, y0, x1, y1, col = col, lty = lty, lwd = lwd, ...))
>> }
>>
>> segments.proposal(numeric(0), numeric(0), numeric(0), numeric(0), col='green')
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>     
>
>   


-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From mhansen at gmail.com  Thu Apr 17 12:33:26 2008
From: mhansen at gmail.com (Mike Hansen)
Date: Thu, 17 Apr 2008 03:33:26 -0700
Subject: [Rd] [rd] sage <--> r integration
Message-ID: <f67335450804170333q93c718ftb749ed403b0d3d82@mail.gmail.com>

I would like to re-emphasize the above points that William makes.
Both projects could benefit a lot from working with each other.  A
fair number of people, including Persi Diaconis and Susan Holmes, have
had enthusiastic responses when I mentioned that R was being included
with Sage.

This is a good opportunity to build bridges between the two
communities, and the lack of response (regardless of how GSoC issues
play out) is a bit disappointing.

--Mike


From ripley at stats.ox.ac.uk  Thu Apr 17 12:35:24 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Apr 2008 11:35:24 +0100 (BST)
Subject: [Rd] segments() with zero-length arguments (PR#11192)
In-Reply-To: <48072378.2030800@biostat.ku.dk>
References: <20080417094537.2DD622834610@mail.pubhealth.ku.dk>
	<48072378.2030800@biostat.ku.dk>
Message-ID: <alpine.LFD.1.00.0804171120320.18116@gannet.stats.ox.ac.uk>

[Taken off R-bugs, at least for now.]

On Thu, 17 Apr 2008, Peter Dalgaard wrote:

> ripley at stats.ox.ac.uk wrote:
>> I think we should allow only all-zero arguments (at present any
>> zero-length argument is an error), as per the R-level proposed code.
>>
>> arrows() and rect() share the code so it is much cleaner to do this
>> internally.
>>
>>
> There are precedents for not requiring all-or-none zero-length args. In
> arithmetic, "recycling" treats the case of one zero length item as if
> all had length zero
>
>> 2+numeric(0)
> numeric(0)

There are also rules for array arithmetic.

> cbind() and rbind() are a bit anomalous in that they just throw away the
> offending item:
>
>> cbind(a=1:2,b=numeric(0),c=3:4)
>     a c
> [1,] 1 3
> [2,] 2 4
>
> Only the former variant would make sense for segments(), but segments()
> does recycle, unlike lines() which complains if vectors are of different
> length.

And neither is documented. Also S has changed its recycling rules in 
various ways over its lifetime.

> I think there are cases where you might want it to just do nothing
> rather than warn and do nothing or cause an error. Consider rug()-like code:
> segments(x, ytop, x, ybot) with an empty x. (I realize that the real
> rug() uses Axis(), but the point remains.)

I agree it is moot, which is why I commented on this.  Rich's proposal was 
the one I ended up implementing, but it was not my first idea. There are 
also cases when you pass zero-length arguments in error, and I thought 
those more likely.

>
>> Done for R-devel.
>>
>> On Thu, 17 Apr 2008, rmh at temple.edu wrote:
>>
>>
>>> Uwe Ligges suggested I post this on R-bugs as a wishlist item with a
>>> proposed patch.  R considers zero-length arguments to segments() to be
>>> an error.  I would like R to allow this and to return without an
>>> error.  It occurs naturally in settings like
>>>
>>> valid <- c(FALSE, FALSE, FALSE)
>>> segments(x0[valid], y0[valid], x1[valid], y1[valid])
>>>
>>> For what it may be worth, S-Plus does not consider zero-length
>>> arguments to segments() be an error.
>>>
>>>
>>> plot(1:10)
>>> segments(1,1,10,10,col='green')
>>> segments(numeric(0), numeric(0), numeric(0), numeric(0), col='green')
>>> Error in segments(x0, y0, x1, y1, col = col, lty = lty, lwd = lwd, ...) :
>>>        invalid first argument
>>>
>>>
>>> segments.proposal <-
>>>  function (x0, y0, x1, y1, col = par("fg"), lty = par("lty"),
>>>            lwd = par("lwd"), ...) {
>>>    if (length(x0)==0 && length(y0)==0 && length(x1)==0 && length(y1)==0)
>>>      return(invisible(NULL))
>>>    .Internal(segments(x0, y0, x1, y1, col = col, lty = lty, lwd = lwd, ...))
>>> }
>>>
>>> segments.proposal(numeric(0), numeric(0), numeric(0), numeric(0), col='green')
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>
>>
>>
>
>
> --
>   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
>  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
> (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From stigler3 at etu.unige.ch  Thu Apr 17 12:44:32 2008
From: stigler3 at etu.unige.ch (Matthieu Stigler)
Date: Thu, 17 Apr 2008 12:44:32 +0200
Subject: [Rd] Suggestion: add a warning in the help-file of unique()
Message-ID: <48072A10.2020703@etu.unige.ch>

Hello

I'm sorry if this suggestion/correction was already made but after a 
search in devel list I did not find any mention of it.
I would just suggest to add a warning or an exemple for the help-file of 
the function unique() like

"Note that unique() compares only identical values. Values which, are 
printed equally but in facts are not identical will be treated as 
different."


 > a<-c(0.2, 0.3, 0.2, 0.4-0.1)
 > a
[1] 0.2 0.3 0.2 0.3
 > unique(a)
[1] 0.2 0.3 0.3
 >

Well this is just the idea and the sentence could be made better (my 
poor english...). Maybe a reference to RFAQ 7.31 could be made.
Maybe is this behaviour clear and logical for experienced users,  but I 
don't think it is for beginners. I personnaly spent two hours to see 
that the problem in my code came from this.

I was thinking about modify the function unique() to introduce a "tol" 
argument which allows to compare with a tolerance level (with default 
value zero to keep unique consistent) like all.equal(), but it seemed 
too complicated with my little understanding.

Bests regards and many thanks for what you do for R!

Matthieu Stigler


From Ted.Harding at manchester.ac.uk  Thu Apr 17 15:54:22 2008
From: Ted.Harding at manchester.ac.uk ( (Ted Harding))
Date: Thu, 17 Apr 2008 14:54:22 +0100 (BST)
Subject: [Rd] Suggestion: add a warning in the help-file of unique()
In-Reply-To: <48072A10.2020703@etu.unige.ch>
Message-ID: <XFMail.080417145422.Ted.Harding@manchester.ac.uk>

On 17-Apr-08 10:44:32, Matthieu Stigler wrote:
> Hello
> 
> I'm sorry if this suggestion/correction was already made
> but after a search in devel list I did not find any mention
> of it. I would just suggest to add a warning or an exemple
> for the help-file of the function unique() like
> 
> "Note that unique() compares only identical values. Values
> which, are printed equally but in facts are not identical
> will be treated as different."
> 
> 
>  > a<-c(0.2, 0.3, 0.2, 0.4-0.1)
>  > a
> [1] 0.2 0.3 0.2 0.3
>  > unique(a)
> [1] 0.2 0.3 0.3
> 
> Well this is just the idea and the sentence could be made better
> (my poor english...). Maybe a reference to RFAQ 7.31 could be made.
> Maybe is this behaviour clear and logical for experienced users,
> but I don't think it is for beginners. I personnaly spent two
> hours to see that the problem in my code came from this.

The above is potentially a useful suggestion, and I would be
inclined to support it. However, for your other suggestion:

> I was thinking about modify the function unique() to introduce
> a "tol" argument which allows to compare with a tolerance level
> (with default value zero to keep unique consistent) like all.equal(),
> but it seemed too complicated with my little understanding.
> 
> Bests regards and many thanks for what you do for R!
> Matthieu Stigler

What is really complicated about it is that the results may
depend on the order of elements. When unique() eliminates only
values which are strictly identical to values which have been
scanned earlier, there is no problem.

But suppose you set "tol=0.11" in

unique(c(20.0, 30.0, 30.1, 30.2, 40.0)
# 20.0, 30.0, 40
[30.1 rejected because within 0.11 of previous 30.0;
 30.2 rejected because within 0.11 of previous 30.1]
and compare with

unique(c(20.0, 30.0, 30.2, 30.1, 40.0)
# 20.0, 30.0, 30.2, 40.0
[30.2 accepted because not within 0.11 of any previous;
 30.1 rejected because within 0.11 of previous 30.2 or 30.0]

This kind of problem is always present in situations where
there are potential "chained tolerances".

You cannot see the difference between the position of the
hour-hand of a clock now, and one minute later.

But you may not chain this logic, for, if you could:

If A is indistinguishable from B, and B is indistinguishable
  from C, then A is indistinguishable from C.

10:00 is indistinguishable from 10:01 (on the hour-hand)
10:[n] is indistinguishable from 10:[n+1]

Hence, by induction, 10:00 is indistinguishable from 11:00

Which you do not want!

Best wishes,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at manchester.ac.uk>
Fax-to-email: +44 (0)870 094 0861
Date: 17-Apr-08                                       Time: 14:54:19
------------------------------ XFMail ------------------------------


From iago.mosqueira at gmail.com  Thu Apr 17 16:35:43 2008
From: iago.mosqueira at gmail.com (Iago Mosqueira)
Date: Thu, 17 Apr 2008 16:35:43 +0200
Subject: [Rd] LinkingTo for 2 packages
Message-ID: <4807603F.9030608@gmail.com>

Hello,

One of our packages contains C++ code that needs to be compiled against
2 other packages. So the LinkingTo field in DESCRIPTION looks like this

LinkingTo: FLCore,FLash

Both packages are also in the Depends field.

In R 2.6.2, first thing we noticed was that both names could not have
any space between them, althoguh the example in the html version of
"Writing R Extensions" does have one:

"A package that wishes to make use of header files in other packages
needs to declare them as a comma-separated list in the field LinkingTo
in the DESCRIPTION file. For example

     Depends: link2, link3
     LinkingTo: link2, link3"

With the space character, this is the compiler call found in 00install.out

g++ -I/usr/local/lib/R/include -I/usr/local/lib/R/include
-I/usr/local/include -I"/usr/local/lib/R/library/FLCore/include"   -fpic
 -g -O2 -c FLBRP.cpp -o FLBRP.o

while deleting it means both include folders are correctly added

g++ -I/usr/local/lib/R/include -I/usr/local/lib/R/include
-I/usr/local/include -I"/usr/local/lib/R/library/FLCore/include"
-I"/usr/local/lib/R/library/FLash/include"   -fpic  -g -O2 -c FLBRP.cpp
-o FLBRP.o

Secondly, this behaviour has been detected when running R CMD check on
Linux (R.Version below), while in windows the second include is never
generated even if the space character is deleted.

g++-sjlj   -Ic:/progra~1/r/r-2.6.2/include
-I"c:/progra~1/r/r-2.6.2/library/FLCore/include"    -O2 -Wall  -c
FLBRP.cpp -o FLBRP.o

We haven't been able to test yet on the latest R 2.7.0rc.

Thanks,


Iago


WINDOWS:
> > R.Version()
$platform
[1] "i386-pc-mingw32"

$arch
[1] "i386"

$os
[1] "mingw32"

$system
[1] "i386, mingw32"

$status
[1] ""

$major
[1] "2"

$minor
[1] "6.2"

$year
[1] "2008"

$month
[1] "02"

$day
[1] "08"

$`svn rev`
[1] "44383"

$language
[1] "R"

$version.string
[1] "R version 2.6.2 (2008-02-08)"


LINUX:
> R.Version()
$platform
[1] "i686-pc-linux-gnu"

$arch
[1] "i686"

$os
[1] "linux-gnu"

$system
[1] "i686, linux-gnu"

$status
[1] ""

$major
[1] "2"

$minor
[1] "6.2"

$year
[1] "2008"

$month
[1] "02"

$day
[1] "08"

$`svn rev`
[1] "44383"

$language
[1] "R"

$version.string
[1] "R version 2.6.2 (2008-02-08)"


From mandecent.gupta at gmail.com  Thu Apr 17 12:37:01 2008
From: mandecent.gupta at gmail.com (man4ish)
Date: Thu, 17 Apr 2008 03:37:01 -0700 (PDT)
Subject: [Rd]  calculating multiregression for the given data
Message-ID: <16743253.post@talk.nabble.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080417/d6946b2d/attachment.pl 

From rmh at temple.edu  Thu Apr 17 16:50:14 2008
From: rmh at temple.edu (rmh at temple.edu)
Date: Thu, 17 Apr 2008 16:50:14 +0200 (CEST)
Subject: [Rd] Bug in ci.plot(HH Package) (PR#11163)
Message-ID: <20080417145014.DF2062834169@mail.pubhealth.ku.dk>

Thank you for the error report.  I have made the correction
which will be in HH_2.1-11 which will be posted in a few days.

Rich


From goedman at mac.com  Thu Apr 17 18:05:56 2008
From: goedman at mac.com (Rob Goedman)
Date: Thu, 17 Apr 2008 09:05:56 -0700
Subject: [Rd] [rd] sage <--> r integration
In-Reply-To: <f67335450804170333q93c718ftb749ed403b0d3d82@mail.gmail.com>
References: <f67335450804170333q93c718ftb749ed403b0d3d82@mail.gmail.com>
Message-ID: <624F21D3-F68B-4A14-A200-2A9FBA10BFA0@mac.com>

Mike,

I'm also surprised so few reactions have been forthcoming. I saw  
William's email shortly after Jan's email about Sage.

Having been involved in the Ryacas project (R to Yacas - Yet Another  
Computer Algebra System - with Gabor, Soren and Ayal), I  believe in  
the tremendous benefits of such an integration and have,  over the  
last couple of days, been studying Sage and its notebook interface to  
better understand how it could be used as an alternative/complement to  
the current Mac R.app (having occasionally helped out Simon on the Mac  
R GUI - R.app).

I am a firm believer in Python, and have worked on Python/ 
Django/"Python on Embedded systems for biometrics" for well over 2  
years now. I do believe this is also a major benefit of Sage. And  
projects such as Google's App Engine provide further support.

 From Willliam's email I take it the best route right now is to try to  
bring this project the attention of the GSoC mentors.

Regards,
Rob


On Apr 17, 2008, at 3:33 AM, Mike Hansen wrote:

> I would like to re-emphasize the above points that William makes.
> Both projects could benefit a lot from working with each other.  A
> fair number of people, including Persi Diaconis and Susan Holmes, have
> had enthusiastic responses when I mentioned that R was being included
> with Sage.
>
> This is a good opportunity to build bridges between the two
> communities, and the lack of response (regardless of how GSoC issues
> play out) is a bit disappointing.
>
> --Mike
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From hpages at fhcrc.org  Thu Apr 17 21:04:50 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Thu, 17 Apr 2008 12:04:50 -0700
Subject: [Rd] Couldn't (and shouldn't) is.unsorted() be faster?
Message-ID: <48079F52.5090708@fhcrc.org>

Hi,

Couldn't is.unsorted() bail out immediately here (after comparing
the first 2 elements):

 > x <- 20000000:1
 > system.time(is.unsorted(x), gcFirst=TRUE)
    user  system elapsed
   0.084   0.040   0.124

 > x <- 200000000:1
 > system.time(is.unsorted(x), gcFirst=TRUE)
    user  system elapsed
   0.772   0.440   1.214

Thanks!
H.


From bill at insightful.com  Thu Apr 17 21:26:12 2008
From: bill at insightful.com (Bill Dunlap)
Date: Thu, 17 Apr 2008 12:26:12 -0700 (PDT)
Subject: [Rd] Couldn't (and shouldn't) is.unsorted() be faster?
In-Reply-To: <48079F52.5090708@fhcrc.org>
References: <48079F52.5090708@fhcrc.org>
Message-ID: <Pine.GSO.4.56.0804171212150.9752@devsun3201.insightful.com>

On Thu, 17 Apr 2008, Herve Pages wrote:

> Couldn't is.unsorted() bail out immediately here (after comparing
> the first 2 elements):
>
>  > x <- 20000000:1
>  > system.time(is.unsorted(x), gcFirst=TRUE)
>     user  system elapsed
>    0.084   0.040   0.124
>
>  > x <- 200000000:1
>  > system.time(is.unsorted(x), gcFirst=TRUE)
>     user  system elapsed
>    0.772   0.440   1.214

The C code does bail out upon seeing the first out- of-order pair, but
before calling the C code, the S code does any(is.na(x)), forcing a
scan of the entire data.  If you remove the is.na calls from
is.unsorted's S code you will see the timings improve in your example.
(It looks easy to do the NA checks in the C code.)

   is.unsorted.no.nacheck <- function (x, na.rm = FALSE) {
       if (is.null(x))
           return(FALSE)
       if (!is.atomic(x))
           return(NA)
       .Internal(is.unsorted(x))
   }
   > x <- 20000000:1
   > system.time(is.unsorted(x), gcFirst=TRUE)
   user  system elapsed
     0.356   0.157   0.514
   > system.time(is.unsorted.no.nacheck(x), gcFirst=TRUE)
   user  system elapsed
      0       0       0
   > revx <- rev(x)
   > system.time(is.unsorted(revx), gcFirst=TRUE)
      user  system elapsed
     0.500   0.170   0.672
   > system.time(is.unsorted.no.nacheck(revx),gcFirst=TRUE)
      user  system elapsed
     0.131   0.000   0.132

----------------------------------------------------------------------------
Bill Dunlap
Insightful Corporation
bill at insightful dot com
360-428-8146

 "All statements in this message represent the opinions of the author and do
 not necessarily reflect Insightful Corporation policy or position."


From ripley at stats.ox.ac.uk  Thu Apr 17 22:02:14 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Apr 2008 21:02:14 +0100 (BST)
Subject: [Rd] Couldn't (and shouldn't) is.unsorted() be faster?
In-Reply-To: <Pine.GSO.4.56.0804171212150.9752@devsun3201.insightful.com>
References: <48079F52.5090708@fhcrc.org>
	<Pine.GSO.4.56.0804171212150.9752@devsun3201.insightful.com>
Message-ID: <alpine.LFD.1.00.0804172057400.3294@gannet.stats.ox.ac.uk>

I wouldn't say 'easy', and so I think we need a business case for this 
change.  (One of the issues is that the internals are used elsewhere and 
optimized for inputs without NAs.  So we would need to write separate code 
if we pass NAs down to C level.  As I recall, is.unsorted was a cheap R 
interface to existing C code.)

What real-world problems are being affected by this, and what would be 
proportional speedup of the whole analysis be from this change?

On Thu, 17 Apr 2008, Bill Dunlap wrote:

> On Thu, 17 Apr 2008, Herve Pages wrote:
>
>> Couldn't is.unsorted() bail out immediately here (after comparing
>> the first 2 elements):
>>
>> > x <- 20000000:1
>> > system.time(is.unsorted(x), gcFirst=TRUE)
>>     user  system elapsed
>>    0.084   0.040   0.124
>>
>> > x <- 200000000:1
>> > system.time(is.unsorted(x), gcFirst=TRUE)
>>     user  system elapsed
>>    0.772   0.440   1.214
>
> The C code does bail out upon seeing the first out- of-order pair, but
> before calling the C code, the S code does any(is.na(x)), forcing a
> scan of the entire data.  If you remove the is.na calls from
> is.unsorted's S code you will see the timings improve in your example.
> (It looks easy to do the NA checks in the C code.)
>
>   is.unsorted.no.nacheck <- function (x, na.rm = FALSE) {
>       if (is.null(x))
>           return(FALSE)
>       if (!is.atomic(x))
>           return(NA)
>       .Internal(is.unsorted(x))
>   }
>   > x <- 20000000:1
>   > system.time(is.unsorted(x), gcFirst=TRUE)
>   user  system elapsed
>     0.356   0.157   0.514
>   > system.time(is.unsorted.no.nacheck(x), gcFirst=TRUE)
>   user  system elapsed
>      0       0       0
>   > revx <- rev(x)
>   > system.time(is.unsorted(revx), gcFirst=TRUE)
>      user  system elapsed
>     0.500   0.170   0.672
>   > system.time(is.unsorted.no.nacheck(revx),gcFirst=TRUE)
>      user  system elapsed
>     0.131   0.000   0.132
>
> ----------------------------------------------------------------------------
> Bill Dunlap
> Insightful Corporation
> bill at insightful dot com
> 360-428-8146
>
> "All statements in this message represent the opinions of the author and do
> not necessarily reflect Insightful Corporation policy or position."
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From hpages at fhcrc.org  Fri Apr 18 01:35:17 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Thu, 17 Apr 2008 16:35:17 -0700
Subject: [Rd] Couldn't (and shouldn't) is.unsorted() be faster?
In-Reply-To: <alpine.LFD.1.00.0804172057400.3294@gannet.stats.ox.ac.uk>
References: <48079F52.5090708@fhcrc.org>
	<Pine.GSO.4.56.0804171212150.9752@devsun3201.insightful.com>
	<alpine.LFD.1.00.0804172057400.3294@gannet.stats.ox.ac.uk>
Message-ID: <4807DEB5.6050902@fhcrc.org>

Hi,

Thanks for your answers!

No need to change anything. In my case, 'x' is guaranteed to be an integer
vector with no NAs so I can call .Internal(is.unsorted(x)) directly.

BTW, why not make is.unsorted() a little bit more prepared to silly user
input:

   > is.unsorted(c(2:5, NA), na.rm=NA)
   Error in if (!is.atomic(x) || (!na.rm && any(is.na(x)))) return(NA) :
     missing value where TRUE/FALSE needed

(or at least silently coerce those silly values to TRUE or FALSE like
max()/min() do, following some obscure logic though).

Also it's arguable that a length-1 vector cannot be considered sorted:
   > is.unsorted(NA)
   [1] NA

Cheers,
H.


Prof Brian Ripley wrote:
> I wouldn't say 'easy', and so I think we need a business case for this 
> change.  (One of the issues is that the internals are used elsewhere and 
> optimized for inputs without NAs.  So we would need to write separate 
> code if we pass NAs down to C level.  As I recall, is.unsorted was a 
> cheap R interface to existing C code.)
> 
> What real-world problems are being affected by this, and what would be 
> proportional speedup of the whole analysis be from this change?
> 
> On Thu, 17 Apr 2008, Bill Dunlap wrote:
> 
>> On Thu, 17 Apr 2008, Herve Pages wrote:
>>
>>> Couldn't is.unsorted() bail out immediately here (after comparing
>>> the first 2 elements):
>>>
>>> > x <- 20000000:1
>>> > system.time(is.unsorted(x), gcFirst=TRUE)
>>>     user  system elapsed
>>>    0.084   0.040   0.124
>>>
>>> > x <- 200000000:1
>>> > system.time(is.unsorted(x), gcFirst=TRUE)
>>>     user  system elapsed
>>>    0.772   0.440   1.214
>>
>> The C code does bail out upon seeing the first out- of-order pair, but
>> before calling the C code, the S code does any(is.na(x)), forcing a
>> scan of the entire data.  If you remove the is.na calls from
>> is.unsorted's S code you will see the timings improve in your example.
>> (It looks easy to do the NA checks in the C code.)
>>
>>   is.unsorted.no.nacheck <- function (x, na.rm = FALSE) {
>>       if (is.null(x))
>>           return(FALSE)
>>       if (!is.atomic(x))
>>           return(NA)
>>       .Internal(is.unsorted(x))
>>   }
>>   > x <- 20000000:1
>>   > system.time(is.unsorted(x), gcFirst=TRUE)
>>   user  system elapsed
>>     0.356   0.157   0.514
>>   > system.time(is.unsorted.no.nacheck(x), gcFirst=TRUE)
>>   user  system elapsed
>>      0       0       0
>>   > revx <- rev(x)
>>   > system.time(is.unsorted(revx), gcFirst=TRUE)
>>      user  system elapsed
>>     0.500   0.170   0.672
>>   > system.time(is.unsorted.no.nacheck(revx),gcFirst=TRUE)
>>      user  system elapsed
>>     0.131   0.000   0.132
>>
>> ---------------------------------------------------------------------------- 
>>
>> Bill Dunlap
>> Insightful Corporation
>> bill at insightful dot com
>> 360-428-8146
>>
>> "All statements in this message represent the opinions of the author 
>> and do
>> not necessarily reflect Insightful Corporation policy or position."
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>


From katie.cheon at gmail.com  Fri Apr 18 06:23:19 2008
From: katie.cheon at gmail.com (Kyeongmi Cheon)
Date: Thu, 17 Apr 2008 23:23:19 -0500
Subject: [Rd] R-extension in unix system -- help to locate header files
Message-ID: <d9ad173c0804172123y6f5470fdh14a991b4bc168bc7@mail.gmail.com>

Hi list,
To call C,  I used to use R-extension in windows but I'm moving to unix system
because my PC doesn't have enough memory. My C codes requires to include the
following header files:

#include <stdlib.h>
#include <R.h>
#include <Rdefines.h>
#include <Rmath.h>
#include <R_ext/Applic.h>
#include <R_ext/PrtUtil.h>

In windows, I had no problem with it because I set the path for Rtools
and R etc.
But in unix system, these header files call other header files and
they call other
header files... And some files are not in R folders so I have to
manually find them
and give path and it takes for ever. For example,


#include </usr/include/stdlib.h>
#include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/R.h>
#include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/Rmath.h>
#include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/Rdefines.h>
#include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/R_ext/Applic.h>
#include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/R_ext/PrtUtil.h>

but now
<R_ext/Memory.h> calls <stddef.h> and I have to search the whole
directory of my
school computer to find it. Same for other header files...

Is there better way to do it? Or is there any package for unix that
has "all" the
needed header files so that I can download them only once and don't
have to search
for them? I appreciate your help in advance.
Kyeongmi

University of memphis


From ripley at stats.ox.ac.uk  Fri Apr 18 07:13:24 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Apr 2008 06:13:24 +0100 (BST)
Subject: [Rd] R-extension in unix system -- help to locate header files
In-Reply-To: <d9ad173c0804172123y6f5470fdh14a991b4bc168bc7@mail.gmail.com>
References: <d9ad173c0804172123y6f5470fdh14a991b4bc168bc7@mail.gmail.com>
Message-ID: <alpine.LFD.1.00.0804180608260.843@gannet.stats.ox.ac.uk>

You should never give full paths in #include statements.

The search paths for include ('header') files are set by the compiler and 
supplemented by -I flags on the command line.  If your C compiler is 
unable to find <stdlib.h> something is badly wrong, and you need to ask 
your 'unix' advisor for help.  (BTW, these header files are OS-specific, 
and some of them will be compiler-specific -- on my Solaris Unix box cc 
and gcc use different versions of some of these headers.)

On Thu, 17 Apr 2008, Kyeongmi Cheon wrote:

> Hi list,
> To call C,  I used to use R-extension in windows but I'm moving to unix system
> because my PC doesn't have enough memory. My C codes requires to include the
> following header files:
>
> #include <stdlib.h>
> #include <R.h>
> #include <Rdefines.h>
> #include <Rmath.h>
> #include <R_ext/Applic.h>
> #include <R_ext/PrtUtil.h>
>
> In windows, I had no problem with it because I set the path for Rtools
> and R etc.
> But in unix system, these header files call other header files and
> they call other
> header files... And some files are not in R folders so I have to
> manually find them
> and give path and it takes for ever. For example,
>
>
> #include </usr/include/stdlib.h>
> #include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/R.h>
> #include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/Rmath.h>
> #include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/Rdefines.h>
> #include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/R_ext/Applic.h>
> #include </gpfs/data/local/linux/R-2.6.2/lib64/R/include/R_ext/PrtUtil.h>
>
> but now
> <R_ext/Memory.h> calls <stddef.h> and I have to search the whole
> directory of my
> school computer to find it. Same for other header files...
>
> Is there better way to do it? Or is there any package for unix that
> has "all" the
> needed header files so that I can download them only once and don't
> have to search
> for them? I appreciate your help in advance.
> Kyeongmi
>
> University of memphis
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Fri Apr 18 07:17:38 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Apr 2008 06:17:38 +0100 (BST)
Subject: [Rd] Couldn't (and shouldn't) is.unsorted() be faster?
In-Reply-To: <4807DEB5.6050902@fhcrc.org>
References: <48079F52.5090708@fhcrc.org>
	<Pine.GSO.4.56.0804171212150.9752@devsun3201.insightful.com>
	<alpine.LFD.1.00.0804172057400.3294@gannet.stats.ox.ac.uk>
	<4807DEB5.6050902@fhcrc.org>
Message-ID: <alpine.LFD.1.00.0804180614350.843@gannet.stats.ox.ac.uk>

On Thu, 17 Apr 2008, Herve Pages wrote:

> Hi,
>
> Thanks for your answers!
>
> No need to change anything. In my case, 'x' is guaranteed to be an integer
> vector with no NAs so I can call .Internal(is.unsorted(x)) directly.
>
> BTW, why not make is.unsorted() a little bit more prepared to silly user
> input:

Because R is a volunteer project and resources spent on trapping misuse 
are resources not available to be spent on other things.  (Same as for bug 
reports on fixed issues ....)

>  > is.unsorted(c(2:5, NA), na.rm=NA)
>  Error in if (!is.atomic(x) || (!na.rm && any(is.na(x)))) return(NA) :
>    missing value where TRUE/FALSE needed
>
> (or at least silently coerce those silly values to TRUE or FALSE like
> max()/min() do, following some obscure logic though).
>
> Also it's arguable that a length-1 vector cannot be considered sorted:
>  > is.unsorted(NA)
>  [1] NA
>
> Cheers,
> H.
>
>
> Prof Brian Ripley wrote:
>> I wouldn't say 'easy', and so I think we need a business case for this 
>> change.  (One of the issues is that the internals are used elsewhere and 
>> optimized for inputs without NAs.  So we would need to write separate code 
>> if we pass NAs down to C level.  As I recall, is.unsorted was a cheap R 
>> interface to existing C code.)
>> 
>> What real-world problems are being affected by this, and what would be 
>> proportional speedup of the whole analysis be from this change?
>> 
>> On Thu, 17 Apr 2008, Bill Dunlap wrote:
>> 
>>> On Thu, 17 Apr 2008, Herve Pages wrote:
>>> 
>>>> Couldn't is.unsorted() bail out immediately here (after comparing
>>>> the first 2 elements):
>>>> 
>>>> > x <- 20000000:1
>>>> > system.time(is.unsorted(x), gcFirst=TRUE)
>>>>     user  system elapsed
>>>>    0.084   0.040   0.124
>>>> 
>>>> > x <- 200000000:1
>>>> > system.time(is.unsorted(x), gcFirst=TRUE)
>>>>     user  system elapsed
>>>>    0.772   0.440   1.214
>>> 
>>> The C code does bail out upon seeing the first out- of-order pair, but
>>> before calling the C code, the S code does any(is.na(x)), forcing a
>>> scan of the entire data.  If you remove the is.na calls from
>>> is.unsorted's S code you will see the timings improve in your example.
>>> (It looks easy to do the NA checks in the C code.)
>>>
>>>   is.unsorted.no.nacheck <- function (x, na.rm = FALSE) {
>>>       if (is.null(x))
>>>           return(FALSE)
>>>       if (!is.atomic(x))
>>>           return(NA)
>>>       .Internal(is.unsorted(x))
>>>   }
>>>   > x <- 20000000:1
>>>   > system.time(is.unsorted(x), gcFirst=TRUE)
>>>   user  system elapsed
>>>     0.356   0.157   0.514
>>>   > system.time(is.unsorted.no.nacheck(x), gcFirst=TRUE)
>>>   user  system elapsed
>>>      0       0       0
>>>   > revx <- rev(x)
>>>   > system.time(is.unsorted(revx), gcFirst=TRUE)
>>>      user  system elapsed
>>>     0.500   0.170   0.672
>>>   > system.time(is.unsorted.no.nacheck(revx),gcFirst=TRUE)
>>>      user  system elapsed
>>>     0.131   0.000   0.132
>>>
>>> 
>>> ---------------------------------------------------------------------------- 
>>> Bill Dunlap
>>> Insightful Corporation
>>> bill at insightful dot com
>>> 360-428-8146
>>> 
>>> "All statements in this message represent the opinions of the author and 
>>> do
>>> not necessarily reflect Insightful Corporation policy or position."
>>> 
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> 
>> 
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From r-ml at nn7.de  Fri Apr 18 12:49:42 2008
From: r-ml at nn7.de (Soeren Sonnenburg)
Date: Fri, 18 Apr 2008 12:49:42 +0200
Subject: [Rd] swig 1.3.35 & R - is the R wrapper still maintained and
	of	interest?
Message-ID: <1208515782.11561.27.camel@localhost>

Dear all,

I was trying to use the R swig wrapper with R 2.7 and shogun
( http://www.shogun-toolbox.org ) but it fails completely, as in doesn't
even compile and even after patching then though compiling - crashes...

So I asked on swig-users/swig-devel CC'ing the potential R maintainer
but I never received a reply. I now wonder if anyone here could help or
would be willing to maintain R+swig.

The compile fix for R 2.7 is here

http://article.gmane.org/gmane.comp.programming.swig/12697

and the crash I am now that it compiles see is

#0  0xb804e201 in _dl_debug_state () from /lib/ld-linux.so.2
#1  0xb8051608 in dl_open_worker () from /lib/ld-linux.so.2
#2  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
#3  0xb8050f5e in _dl_open () from /lib/ld-linux.so.2
#4  0xb74c3c19 in dlopen_doit () from /lib/i686/cmov/libdl.so.2
#5  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
#6  0xb74c42bc in _dlerror_run () from /lib/i686/cmov/libdl.so.2
#7  0xb74c3b51 in dlopen@@GLIBC_2.1 () from /lib/i686/cmov/libdl.so.2
#8  0xb7efd036 in loadLibrary (path=0xbfa5650c "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so", asLocal=1, now=1, search=0x9a81f20 "") at dynload.c:92
#9  0xb7d6efb3 in AddDLL (path=0xbfa5650c "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so", asLocal=1, now=1, DLLsearchpath=0x9a81f20 "") at Rdynload.c:543
#10 0xb7d6f657 in do_dynload (call=0x9e23998, op=0x9a91e44, args=0xa60d5e0, env=0xa60d650) at Rdynload.c:904
#11 0xb7e43dba in do_internal (call=0x9e239d0, op=0x9a8798c, args=0xa60d5e0, env=0xa60d650) at names.c:1129
#12 0xb7e0df21 in Rf_eval (e=0x9e239d0, rho=0xa60d650) at eval.c:463
#13 0xb7e11a3c in Rf_applyClosure (call=0xa60d74c, op=0x9e23a94, arglist=0xa60d6dc, rho=0x9a9a720, suppliedenv=0x9a9a73c) at eval.c:669
#14 0xb7e0de19 in Rf_eval (e=0xa60d74c, rho=0x9a9a720) at eval.c:507
#15 0xb7e31a00 in Rf_ReplIteration (rho=0x9a9a720, savestack=0, browselevel=0, state=0xbfa589a8) at main.c:257
#16 0xb7e31ddc in run_Rmainloop () at main.c:306
#17 0xb7e31e1c in Rf_mainloop () at main.c:974
#18 0x08048776 in main (ac=1, av=0xb805b668) at Rmain.c:35
#19 0xb7be8450 in __libc_start_main () from /lib/i686/cmov/libc.so.6
#20 0x08048691 in _start ()

To reproduce

?wget http://nn7.de/debugging/shogun-0.6.1+svn2882.tar.bz2
tar xjf shogun-0.6.1+svn2882.tar.bz2
cd shogun-0.6.1+svn2882/src
./configure --interface=R-modular
make

(wait a few minutes)

R
dyn.load('features/Features.so')
#source("features/Features.R") # not even necessary.

Note that shogun works for both python and octave nicely...

?So the question for me is, will this be better maintained in the future
or should I stop investing time on getting R supported?

Desperate,
Soeren


From Friedrich.Leisch at r-project.org  Fri Apr 18 13:59:37 2008
From: Friedrich.Leisch at r-project.org (Friedrich.Leisch at r-project.org)
Date: Fri, 18 Apr 2008 13:59:37 +0200
Subject: [Rd] [rd] sage <--> r integration
In-Reply-To: <624F21D3-F68B-4A14-A200-2A9FBA10BFA0@mac.com>
References: <f67335450804170333q93c718ftb749ed403b0d3d82@mail.gmail.com>
	<624F21D3-F68B-4A14-A200-2A9FBA10BFA0@mac.com>
Message-ID: <18440.36137.412292.227717@lxh5.stat.uni-muenchen.de>

>>>>> On Thu, 17 Apr 2008 09:05:56 -0700,
>>>>> Rob Goedman (RG) wrote:

  > Mike,
  > I'm also surprised so few reactions have been forthcoming. I saw  
  > William's email shortly after Jan's email about Sage.

There is a priovate mailing list for all R Google SoC mentors and
parts were discussed there.

  > Having been involved in the Ryacas project (R to Yacas - Yet Another  
  > Computer Algebra System - with Gabor, Soren and Ayal), I  believe in  
  > the tremendous benefits of such an integration and have,  over the  
  > last couple of days, been studying Sage and its notebook interface to  
  > better understand how it could be used as an alternative/complement to  
  > the current Mac R.app (having occasionally helped out Simon on the Mac  
  > R GUI - R.app).

  > I am a firm believer in Python, and have worked on Python/ 
  > Django/"Python on Embedded systems for biometrics" for well over 2  
  > years now. I do believe this is also a major benefit of Sage. And  
  > projects such as Google's App Engine provide further support.

  >  From Willliam's email I take it the best route right now is to try to  
  > bring this project the attention of the GSoC mentors.

Sorry, it is not a problem of "not enough attention". The problem is,
that the R Foundation was assigned four slots by Google, and we have
much more projects than 4, and cannot even fund all projects by R core
members. If things stay the way they are only two of the four will be
mentored by members of the core team, so it's not like we take all
slots for us.

If we fund the R-Sage project, I have to take somebody else his
slot away. The decision is not "do we fund R-Sage or not", but
which 4 of the 20+ applications do we choose.

The decisions which projects to fund were based on factors like:

1) Quality of the student application, i.e., how much work of the
   student went into preparing the application, did he read into code
   or textbooks that can help, how much email exchange with the
   prospective mentor etc (most important)
2) How important is the project for R?
3) How much did the mentor contribute to R in the past?

Number 3) looks like we don't like outsiders, but that is not the
point. If we want to participate again next year, our number of slots
will also be based on how successfull we are this year. And for
mentors we know well it is easier to guess if they can meet their
goals than for people unknown to us.

This is of particular importance for writing interfaces between
systems, where knowledge of R internals can be crucial. It is not like
that I do not think that the project can be done by the people
proposing it, but there are no means for me to assess in the limited
time we have whether they can do it or not.

I would love to assign slots to every projects that looks good, but
Google gave us only four, so somebody has to be disappointed.

But allmost all of R got created without any external funding, so I
don't see why this should be stop for the project. It won't be me
doing it, but I would be very excited to see it happen!

Best,
Fritz

-- 
-----------------------------------------------------------------------
Prof. Dr. Friedrich Leisch 

Institut f?r Statistik                          Tel: (+49 89) 2180 3165
Ludwig-Maximilians-Universit?t                  Fax: (+49 89) 2180 5308
Ludwigstra?e 33
D-80539 M?nchen                     http://www.statistik.lmu.de/~leisch
-----------------------------------------------------------------------
   Journal Computational Statistics --- http://www.springer.com/180 
          M?nchner R Kurse --- http://www.statistik.lmu.de/R


From paciorek at hsph.harvard.edu  Fri Apr 18 14:53:26 2008
From: paciorek at hsph.harvard.edu (Christopher Paciorek)
Date: Fri, 18 Apr 2008 08:53:26 -0400
Subject: [Rd] configure can't find dgemm in MKL10
Message-ID: <4808611D.10CD.002E.0@hsph.harvard.edu>

Hi, 
I'm trying to follow the R-admin instructions for using MKL10 as the external BLAS compiling R-2.6.2 under Linux on a RH EL head node of a cluster.  The configure process seems to have problems when it checks for dgemm in the BLAS.  I'm using configure as:
 ./configure CC=icc F77=ifort --with-lapack="$MKL" --with-blas="$MKL"  where $MKL is defined as in R-admin section A.3.1.4.

checking for cblas_cdotu_sub in vecLib framework... no
checking for dgemm_ in    -L/usr1/util/Intel/mkl/10.0.1.014/lib/em64t                                            -Wl,--start-group                                                    /usr1/util/Intel/mkl/10.0.1.014/lib/em64t/libmkl_gf_lp64.a                             /usr1/util/Intel/mkl/10.0.1.014/lib/em64t/libmkl_gnu_thread.a                          /usr1/util/Intel/mkl/10.0.1.014/lib/em64t/libmkl_core.a                        -Wl,--end-group                                              -liomp5 -lguide -lpthread -lgomp... no
checking for dgemm_... no
checking for ATL_xerbla in -latlas... yes
checking for dgemm_ in -lf77blas... no
checking for dgemm_ in -lblas... yes
checking for dgemm_ in -ldgemm... no
checking for dgemm_ in -lblas... (cached) yes
checking for dgemm_ in -lessl... no
checking for dgemm_ in -lblas... (cached) yes

I've looked in the MKL .a files and do not actually see dgemm or dgemm_ explicitly.  So this seemingly explains the result of configure which is that BLAS_LIBS is not set to point to MKL but defaults to pointing to the usual Rblas (based on BLAS_LIBS in Makeconf (BLAS_LIBS = -L$(R_HOME)/lib$(R_ARCH) -lRblas) and the absence of a mention of BLAS in the 'External libraries' line at the end of the configure process output.

In looking for dgemm in the MKL .a files (ar t libName.a | grep dgemm),
libmkl_gf_lp64.a lists cblas_dgemm_lp64.o,_dgemm_lp64.o
libmkl_core.a lists a bunch of things with dgemm in the name but not dgemm itself, e.g., _dgemm_kernel_0_fb.o,_mc_dgemm_bufs_0.o
libmkl_gnu_thread.a lists dgemm_omp.o

Incidentally _dgemm.o is listed in libmkl_gf_ilp64.a.  

We're running Red Hat Enterprise Linux AS release 4 (Nahant Update 5) on an Intel Xeon head node of a cluster.

Incidentally, this has come about because in playing with my new $1300 Macbook, I found it was doing basic matrix work (dense matrix multiplication, Cholesky) about 5x as fast as our Linux cluster.  I haven't looked into it much, but given that CPU use is listed as nearing 200% on the dual core Mac, part of this may be due to the Mac taking advantage of both cores. My hope is that with a faster BLAS the difference between the Mac and our cluster for basic linear algebra will lessen or disappear.

Any tips on what may be going wrong in the configure test process or how to get around this would be helpful.  

Thanks,
Chris

----------------------------------------------------------------------------------------------
Chris Paciorek / Asst. Professor        Email: paciorek at hsph.harvard.edu
Department of Biostatistics             Voice: 617-432-4912
Harvard School of Public Health         Fax:   617-432-5619
655 Huntington Av., Bldg. 2-407         WWW: www.biostat.harvard.edu/~paciorek
Boston, MA 02115 USA                    Permanent forward: paciorek at alumni.cmu.edu


From ripley at stats.ox.ac.uk  Fri Apr 18 15:45:17 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Apr 2008 14:45:17 +0100 (BST)
Subject: [Rd] configure can't find dgemm in MKL10
In-Reply-To: <4808611D.10CD.002E.0@hsph.harvard.edu>
References: <4808611D.10CD.002E.0@hsph.harvard.edu>
Message-ID: <alpine.LFD.1.10.0804181438440.23274@auk.stats.ox.ac.uk>

Did you see

   See 'Shared BLAS' for an alternative (and in many ways preferable)
   way to use MKL.

?  That's an easier route to get working, and you can swap BLASes almost 
instantly.

But you need to look at the config.log to see what went wrong.

'Xeon' covers a multitude of processors, but my group's experience is that 
for recent Intel CPUs the Goto BLAS beats all others (including MKL and 
ATLAS).  As you are in academia it is available to you, and it too is easy 
to swap in.


On Fri, 18 Apr 2008, Christopher Paciorek wrote:

> Hi,
> I'm trying to follow the R-admin instructions for using MKL10 as the external BLAS compiling R-2.6.2 under Linux on a RH EL head node of a cluster.  The configure process seems to have problems when it checks for dgemm in the BLAS.  I'm using configure as:
> ./configure CC=icc F77=ifort --with-lapack="$MKL" --with-blas="$MKL"  where $MKL is defined as in R-admin section A.3.1.4.
>
> checking for cblas_cdotu_sub in vecLib framework... no
> checking for dgemm_ in    -L/usr1/util/Intel/mkl/10.0.1.014/lib/em64t                                            -Wl,--start-group                                                    /usr1/util/Intel/mkl/10.0.1.014/lib/em64t/libmkl_gf_lp64.a                             /usr1/util/Intel/mkl/10.0.1.014/lib/em64t/libmkl_gnu_thread.a                          /usr1/util/Intel/mkl/10.0.1.014/lib/em64t/libmkl_core.a                        -Wl,--end-group                                              -liomp5 -lguide -lpthread -lgomp... no
> checking for dgemm_... no
> checking for ATL_xerbla in -latlas... yes
> checking for dgemm_ in -lf77blas... no
> checking for dgemm_ in -lblas... yes
> checking for dgemm_ in -ldgemm... no
> checking for dgemm_ in -lblas... (cached) yes
> checking for dgemm_ in -lessl... no
> checking for dgemm_ in -lblas... (cached) yes
>
> I've looked in the MKL .a files and do not actually see dgemm or dgemm_ explicitly.  So this seemingly explains the result of configure which is that BLAS_LIBS is not set to point to MKL but defaults to pointing to the usual Rblas (based on BLAS_LIBS in Makeconf (BLAS_LIBS = -L$(R_HOME)/lib$(R_ARCH) -lRblas) and the absence of a mention of BLAS in the 'External libraries' line at the end of the configure process output.
>
> In looking for dgemm in the MKL .a files (ar t libName.a | grep dgemm),
> libmkl_gf_lp64.a lists cblas_dgemm_lp64.o,_dgemm_lp64.o
> libmkl_core.a lists a bunch of things with dgemm in the name but not dgemm itself, e.g., _dgemm_kernel_0_fb.o,_mc_dgemm_bufs_0.o
> libmkl_gnu_thread.a lists dgemm_omp.o
>
> Incidentally _dgemm.o is listed in libmkl_gf_ilp64.a.
>
> We're running Red Hat Enterprise Linux AS release 4 (Nahant Update 5) on 
> an Intel Xeon head node of a cluster.
>
> Incidentally, this has come about because in playing with my new $1300 
> Macbook, I found it was doing basic matrix work (dense matrix 
> multiplication, Cholesky) about 5x as fast as our Linux cluster.  I 
> haven't looked into it much, but given that CPU use is listed as nearing 
> 200% on the dual core Mac, part of this may be due to the Mac taking 
> advantage of both cores. My hope is that with a faster BLAS the 
> difference between the Mac and our cluster for basic linear algebra will 
> lessen or disappear.
>
> Any tips on what may be going wrong in the configure test process or how 
> to get around this would be helpful.
>
> Thanks,
> Chris
>
> ----------------------------------------------------------------------------------------------
> Chris Paciorek / Asst. Professor        Email: paciorek at hsph.harvard.edu
> Department of Biostatistics             Voice: 617-432-4912
> Harvard School of Public Health         Fax:   617-432-5619
> 655 Huntington Av., Bldg. 2-407         WWW: www.biostat.harvard.edu/~paciorek
> Boston, MA 02115 USA                    Permanent forward: paciorek at alumni.cmu.edu
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From katie.cheon at gmail.com  Fri Apr 18 17:49:16 2008
From: katie.cheon at gmail.com (Kyeongmi Cheon)
Date: Fri, 18 Apr 2008 08:49:16 -0700 (PDT)
Subject: [Rd] R-extension in unix system -- help to locate header files
In-Reply-To: <alpine.LFD.1.00.0804180608260.843@gannet.stats.ox.ac.uk>
References: <d9ad173c0804172123y6f5470fdh14a991b4bc168bc7@mail.gmail.com>
	<alpine.LFD.1.00.0804180608260.843@gannet.stats.ox.ac.uk>
Message-ID: <16763526.post@talk.nabble.com>



Thank you for your reply. I'm really new to this unix system and let me ask
one more 
time to make sure if I understand it right.

So I do it this way?
1. Change my codes to like below:
 #include <stdlib.h> 
 #include <R.h> 
 #include <Rdefines.h> 
 #include <Rmath.h> 
 #include <R_ext/Applic.h> 
 #include <R_ext/PrtUtil.h> 

2. and at the command line,
set path = (/gpfs/data/local/linux/R-2.6.2/lib64/R/include $path) 
set path = (/gpfs/data/local/linux/R-2.6.2/lib64/R/include/R_ext $path) 

Then what is about -I flags? I googled it but couldn't find anything. I
don't really 
know what you meant by "The search paths ....  supplemented by -I flags on
the command 
line". How do I use it? Like this?
set path = (/gpfs/data/local/linux/R-2.6.2/lib64/R/include $path) -I


Thank you so much.
Kyeongmi Cheon

University of memphis

................

You should never give full paths in #include statements.

The search paths for include ('header') files are set by the compiler and 
supplemented by -I flags on the command line.  If your C compiler is 
unable to find <stdlib.h> something is badly wrong, and you need to ask 
your 'unix' advisor for help.  (BTW, these header files are OS-specific, 
and some of them will be compiler-specific -- on my Solaris Unix box cc 
and gcc use different versions of some of these headers.)


-----
Kyeongmi,

University of Memphis
-- 
View this message in context: http://www.nabble.com/R-extension-in-unix-system----help-to-locate-header-files-tp16760424p16763526.html
Sent from the R devel mailing list archive at Nabble.com.


From tyler.smith at mail.mcgill.ca  Fri Apr 18 18:03:25 2008
From: tyler.smith at mail.mcgill.ca (tyler)
Date: Fri, 18 Apr 2008 13:03:25 -0300
Subject: [Rd] naive question regarding running parallel C code from R
Message-ID: <87wsmv6tgy.fsf@blackbart.sedgenet>

Hi,

I have only the vaguest notions of what parallel programing, but I think
I have a situation where it might be of use to me, or at least provide
me with the opportunity to learn more about it. Before I invest in
figuring out the nuts and bolts, can anyone confirm that this is a sane
approach, or provide alternatives that I could pursue?

I'm running stochastic simulations, with the actual simulation in C
code, with an R interface to set up the parameters, format the output,
and save the resulting objects periodically through the run. The basic
layout is:

R function sets up the run
R for(c = 0; c < CYCLES; c++)
  call C function
  C for(i = 0; i < TIME; i++)
    immigration loop adds individuals to the recruit vector
    birth loop adds individuals to the recruit vector
    recruit vector is added to the community vector
    death loop removes excess individuals
  Return results to R, which processes and saves the objects
  Repeat

A typical run has 20 cycles, each with 500 time steps, and takes about
an hour. The immigration and birth loops are independent of each other,
and so could run simultaneously. They both add to the recruit vector,
but the order of the addition doesn't matter so long as both finish
before the recruit vector is added to the community vector. The
immigration, birth, and death loop iterate over arrays in a way that the
outcome at different locations is independent. i.e., the impact of the
birth vector on recruit vector position 0 has no influence on what the
birth vector does to recruit vector position 1.

What I'm thinking of doing is running the birth and immigration loops as
separate threads, and possibly running each of those threads as a group
of threads - so a thread for a birth loop that iterates over the first N
positions, another thread for the second N positions and so on.

I'm keen to learn about parallel programming, but I don't understand
enough yet to make sense of the information in the R extensions manual
and the various discussions on this list about R being thread-safe. Does
it matter if R is thread-safe if the actual simulation is being computed
in separate, shared C code?

I'm running my current, sequential code, on a cluster that supports both
OpenMP and MPI, should I figure out how to use it.

Thanks for your patience,

Tyler

-- 
Don't learn the tricks of the trade; learn the trade.


From ianfiske at gmail.com  Fri Apr 18 18:25:28 2008
From: ianfiske at gmail.com (Ian Fiske)
Date: Fri, 18 Apr 2008 09:25:28 -0700 (PDT)
Subject: [Rd]  problem customizing CXXFLAGS in Windows
Message-ID: <16763558.post@talk.nabble.com>


Hi all,

I am running R 2.6.2 in Windows XP with Rtools 2.7 and am trying to compile
a shared library in Windows with customized level of optimization. 
Specifically, I would like to have "-O3 -funroll-loops" as flags when I run
"R CMD SHLIB ***.cc" to speed the program for my simulations.

I have read through the documentation and have tried adding the line 

PKG_CXXFLAGS = -O3 -funroll-loops

in my Makevars in my package's src directory.  However, this places the
flags before the -O2 flag, thereby overriding it.  I have also tried
creating a config.site file in R_HOME/etc, but that seems to be ignored.

I found a possible solution at
http://tolstoy.newcastle.edu.au/R/e2/devel/07/03/2520.html.  However, when I
use this suggestion, I get errors that R.h cannot be found.

Please note that I do not plan to submit this package to CRAN or to other
users with the modified flags, but I just need to set them on my machine to
speed up simulations for testing, etc.

I appreciate any suggestions,
Ian
-- 
View this message in context: http://www.nabble.com/problem-customizing-CXXFLAGS-in-Windows-tp16763558p16763558.html
Sent from the R devel mailing list archive at Nabble.com.


From simon.urbanek at r-project.org  Fri Apr 18 18:38:33 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 18 Apr 2008 12:38:33 -0400
Subject: [Rd] R-extension in unix system -- help to locate header files
In-Reply-To: <16763526.post@talk.nabble.com>
References: <d9ad173c0804172123y6f5470fdh14a991b4bc168bc7@mail.gmail.com>
	<alpine.LFD.1.00.0804180608260.843@gannet.stats.ox.ac.uk>
	<16763526.post@talk.nabble.com>
Message-ID: <A5956AE2-72F5-487B-8F12-0355A853FB86@r-project.org>


On Apr 18, 2008, at 11:49 AM, Kyeongmi Cheon wrote:

> Thank you for your reply. I'm really new to this unix system and let  
> me ask
> one more
> time to make sure if I understand it right.
>
> So I do it this way?
> 1. Change my codes to like below:
> #include <stdlib.h>
> #include <R.h>
> #include <Rdefines.h>
> #include <Rmath.h>
> #include <R_ext/Applic.h>
> #include <R_ext/PrtUtil.h>
>
> 2. and at the command line,
> set path = (/gpfs/data/local/linux/R-2.6.2/lib64/R/include $path)
> set path = (/gpfs/data/local/linux/R-2.6.2/lib64/R/include/R_ext  
> $path)
>

No. You're confusing PATH (I supposed) and compilation.


> Then what is about -I flags? I googled it but couldn't find anything.

I hope you didn't google for "-I" ;) Those flags (see man gcc for  
details) are added automatically when you compile code for R via R CMD  
SHLIB or R CMD INSTALL so you should not worry about it at all.
Please read "Writing R Extensions" manual, but before you do that you  
should familiarize yourself with the basics of C and compilation in  
the first place. The process it the same on both Windows and unix, so  
you should be using R CMD INSTALL for your package as you did on  
Windows without any changes.

Cheers,
Simon


From simon.urbanek at r-project.org  Fri Apr 18 18:46:07 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 18 Apr 2008 12:46:07 -0400
Subject: [Rd] naive question regarding running parallel C code from R
In-Reply-To: <87wsmv6tgy.fsf@blackbart.sedgenet>
References: <87wsmv6tgy.fsf@blackbart.sedgenet>
Message-ID: <6CAD158B-7111-4C73-85D4-17B0E99F230E@r-project.org>


On Apr 18, 2008, at 12:03 PM, tyler wrote:

> Hi,
>
> I have only the vaguest notions of what parallel programing, but I  
> think
> I have a situation where it might be of use to me, or at least provide
> me with the opportunity to learn more about it. Before I invest in
> figuring out the nuts and bolts, can anyone confirm that this is a  
> sane
> approach, or provide alternatives that I could pursue?
>
> I'm running stochastic simulations, with the actual simulation in C
> code, with an R interface to set up the parameters, format the output,
> and save the resulting objects periodically through the run. The basic
> layout is:
>
> R function sets up the run
> R for(c = 0; c < CYCLES; c++)
>  call C function
>  C for(i = 0; i < TIME; i++)
>    immigration loop adds individuals to the recruit vector
>    birth loop adds individuals to the recruit vector
>    recruit vector is added to the community vector
>    death loop removes excess individuals
>  Return results to R, which processes and saves the objects
>  Repeat
>
> A typical run has 20 cycles, each with 500 time steps, and takes about
> an hour. The immigration and birth loops are independent of each  
> other,
> and so could run simultaneously. They both add to the recruit vector,
> but the order of the addition doesn't matter so long as both finish
> before the recruit vector is added to the community vector. The
> immigration, birth, and death loop iterate over arrays in a way that  
> the
> outcome at different locations is independent. i.e., the impact of the
> birth vector on recruit vector position 0 has no influence on what the
> birth vector does to recruit vector position 1.
>
> What I'm thinking of doing is running the birth and immigration  
> loops as
> separate threads, and possibly running each of those threads as a  
> group
> of threads - so a thread for a birth loop that iterates over the  
> first N
> positions, another thread for the second N positions and so on.
>
> I'm keen to learn about parallel programming, but I don't understand
> enough yet to make sense of the information in the R extensions manual
> and the various discussions on this list about R being thread-safe.  
> Does
> it matter if R is thread-safe if the actual simulation is being  
> computed
> in separate, shared C code?
>

As long as the code doesn't touch R during the time it's running  
threads, no (for all practical purposes). I.e. if you setup native  
structures to work on, you're free to spawn threads, wait for them to  
finish and then return to R. There are some issues that you could  
encounter: on some platforms you need special, reentrant versions of  
system libraries  which you don't get with R; there could be issues  
with error handling and interrupts - you will be on your own.


> I'm running my current, sequential code, on a cluster that supports  
> both OpenMP and MPI, should I figure out how to use it.
>

You can save yourself all the hassle and just use snow + Rmpi - that  
allows you to parallelize even R code, so you don' t need any of the  
above.

Cheers,
Simon


From edd at debian.org  Fri Apr 18 18:52:24 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 18 Apr 2008 11:52:24 -0500
Subject: [Rd] naive question regarding running parallel C code from R
In-Reply-To: <87wsmv6tgy.fsf@blackbart.sedgenet>
References: <87wsmv6tgy.fsf@blackbart.sedgenet>
Message-ID: <18440.53704.412420.316256@ron.nulle.part>


On 18 April 2008 at 13:03, tyler wrote:
| Hi,
| 
| I have only the vaguest notions of what parallel programing, but I think
| I have a situation where it might be of use to me, or at least provide
| me with the opportunity to learn more about it. Before I invest in
| figuring out the nuts and bolts, can anyone confirm that this is a sane
| approach, or provide alternatives that I could pursue?
| 
| I'm running stochastic simulations, with the actual simulation in C
| code, with an R interface to set up the parameters, format the output,
| and save the resulting objects periodically through the run. The basic
| layout is:
| 
| R function sets up the run
| R for(c = 0; c < CYCLES; c++)
|   call C function
|   C for(i = 0; i < TIME; i++)
|     immigration loop adds individuals to the recruit vector
|     birth loop adds individuals to the recruit vector
|     recruit vector is added to the community vector
|     death loop removes excess individuals
|   Return results to R, which processes and saves the objects
|   Repeat
| 
| A typical run has 20 cycles, each with 500 time steps, and takes about
| an hour. The immigration and birth loops are independent of each other,
| and so could run simultaneously. They both add to the recruit vector,
| but the order of the addition doesn't matter so long as both finish
| before the recruit vector is added to the community vector. The
| immigration, birth, and death loop iterate over arrays in a way that the
| outcome at different locations is independent. i.e., the impact of the
| birth vector on recruit vector position 0 has no influence on what the
| birth vector does to recruit vector position 1.
| 
| What I'm thinking of doing is running the birth and immigration loops as
| separate threads, and possibly running each of those threads as a group
| of threads - so a thread for a birth loop that iterates over the first N
| positions, another thread for the second N positions and so on.
| 
| I'm keen to learn about parallel programming, but I don't understand
| enough yet to make sense of the information in the R extensions manual
| and the various discussions on this list about R being thread-safe. Does
| it matter if R is thread-safe if the actual simulation is being computed
| in separate, shared C code?
| 
| I'm running my current, sequential code, on a cluster that supports both
| OpenMP and MPI, should I figure out how to use it.

As I recall, you use Debian so do

   $ sudo apt-get install r-cran-snow r-cran-rmpi

to get R support working out-of-the box. Then study the examples for Snow on
Luke's website. [ I also have some slides on my website from presentations I
gave a few years ago. ]

That allows you to _easily_ do the so-called embarassingly parallel: same
problem, different parameters.  Or, you could also loop over CYCLES across
the cluster.  Start with something simple to study it and then go from there.

Hope this helps, Dirk

--
Three out of two people have difficulties with fractions.


From ripley at stats.ox.ac.uk  Fri Apr 18 19:18:08 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Apr 2008 18:18:08 +0100 (BST)
Subject: [Rd] R-extension in unix system -- help to locate header files
In-Reply-To: <16763526.post@talk.nabble.com>
References: <d9ad173c0804172123y6f5470fdh14a991b4bc168bc7@mail.gmail.com>
	<alpine.LFD.1.00.0804180608260.843@gannet.stats.ox.ac.uk>
	<16763526.post@talk.nabble.com>
Message-ID: <alpine.LFD.1.10.0804181817100.17970@gannet.stats.ox.ac.uk>

I suggested you ask your 'unix' advisor for help.  This is *way* off topic 
for an R forum.

On Fri, 18 Apr 2008, Kyeongmi Cheon wrote:

>
>
> Thank you for your reply. I'm really new to this unix system and let me ask
> one more
> time to make sure if I understand it right.
>
> So I do it this way?
> 1. Change my codes to like below:
> #include <stdlib.h>
> #include <R.h>
> #include <Rdefines.h>
> #include <Rmath.h>
> #include <R_ext/Applic.h>
> #include <R_ext/PrtUtil.h>
>
> 2. and at the command line,
> set path = (/gpfs/data/local/linux/R-2.6.2/lib64/R/include $path)
> set path = (/gpfs/data/local/linux/R-2.6.2/lib64/R/include/R_ext $path)
>
> Then what is about -I flags? I googled it but couldn't find anything. I
> don't really
> know what you meant by "The search paths ....  supplemented by -I flags on
> the command
> line". How do I use it? Like this?
> set path = (/gpfs/data/local/linux/R-2.6.2/lib64/R/include $path) -I
>
>
> Thank you so much.
> Kyeongmi Cheon
>
> University of memphis
>
> ................
>
> You should never give full paths in #include statements.
>
> The search paths for include ('header') files are set by the compiler and
> supplemented by -I flags on the command line.  If your C compiler is
> unable to find <stdlib.h> something is badly wrong, and you need to ask
> your 'unix' advisor for help.  (BTW, these header files are OS-specific,
> and some of them will be compiler-specific -- on my Solaris Unix box cc
> and gcc use different versions of some of these headers.)
>
>
> -----
> Kyeongmi,
>
> University of Memphis
> -- 
> View this message in context: http://www.nabble.com/R-extension-in-unix-system----help-to-locate-header-files-tp16760424p16763526.html
> Sent from the R devel mailing list archive at Nabble.com.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Fri Apr 18 19:41:36 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Apr 2008 18:41:36 +0100 (BST)
Subject: [Rd] problem customizing CXXFLAGS in Windows
In-Reply-To: <16763558.post@talk.nabble.com>
References: <16763558.post@talk.nabble.com>
Message-ID: <alpine.LFD.1.10.0804181821460.17970@gannet.stats.ox.ac.uk>

On Fri, 18 Apr 2008, Ian Fiske wrote:

> Hi all,
>
> I am running R 2.6.2 in Windows XP with Rtools 2.7 and am trying to compile
> a shared library in Windows with customized level of optimization.
> Specifically, I would like to have "-O3 -funroll-loops" as flags when I run
> "R CMD SHLIB ***.cc" to speed the program for my simulations.
>
> I have read through the documentation and have tried adding the line
>
> PKG_CXXFLAGS = -O3 -funroll-loops
>
> in my Makevars in my package's src directory.  However, this places the
> flags before the -O2 flag, thereby overriding it.

I presume you meant the opposite -- 'it' refers to its immediate 
antecdent, 'the -O2 flag', which overrides not is overridden?  That is, 
the flags are processed from left to right and later settings win.

> I have also tried creating a config.site file in R_HOME/etc, but that 
> seems to be ignored.

What gave you the idea that would be relevant?  I don't see it in any of 
the manuals.

> I found a possible solution at
> http://tolstoy.newcastle.edu.au/R/e2/devel/07/03/2520.html.  However, when I
> use this suggestion, I get errors that R.h cannot be found.
>
> Please note that I do not plan to submit this package to CRAN or to other
> users with the modified flags, but I just need to set them on my machine to
> speed up simulations for testing, etc.

>From the R-admin manual:

'Package-specific compilation flags can be overridden or added to using 
the personal file $HOME/.R/Makevars.win, or if that does not exist, 
$HOME/.R/Makevars. (See the rw-FAQ for the meaning of $HOME.) For the 
record, the order of precedence is (last wins)

     * MakeDll and MkRules
     * src/Makevars.win if it exists, otherwise src/Makevars
     * $HOME/.R/Makevars.win if it exists, otherwise $HOME/.R/Makevars.
     * src/Makefile.win if present causes all but the last of the above to
       be ignored.
'


So you can set CXXFLAGS in src/Makevars.win and that will override the 
system's values.  Or you could change the system setting to -O3 in
MakeDll -- it is -O3 for C and Fortran, but -O2 for C++ (which R itself 
does not use) because -O3 for C++ used to be problematic (with gcc 3.4.5, 
not the current version).

I think the URL you give is too old -- it probably preceeds the corrected 
separation of CPPFLAGS and C[XX]FLAGS.  The rule is (from MkRules)

.cc.o:
         $(CXX) $(CPPFLAGS) $($*-CPPFLAGS) $(CXXFLAGS) $($*-CXXFLAGS) -c $< 
-o $@

and so CPPFLAGS should contain include paths, and CXXFLAGS optimization 
levels.

I've just taken a C++-using package and added

CXXFLAGS=-O3 -funroll-loops

to its Makevars.  All the headers were found, and that was the 
optimization level used.


> I appreciate any suggestions,
> Ian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ianfiske at gmail.com  Fri Apr 18 20:24:03 2008
From: ianfiske at gmail.com (Ian Fiske)
Date: Fri, 18 Apr 2008 14:24:03 -0400
Subject: [Rd] problem customizing CXXFLAGS in Windows
In-Reply-To: <alpine.LFD.1.10.0804181821460.17970@gannet.stats.ox.ac.uk>
References: <16763558.post@talk.nabble.com>
	<alpine.LFD.1.10.0804181821460.17970@gannet.stats.ox.ac.uk>
Message-ID: <61d179c50804181124y41eb75d8r29c355609c2917ec@mail.gmail.com>

Thanks for your suggestion, Prof Ripley.  The problem was that I was
originally specifying PKG_CXXFLAGS and not CXXFLAGS in my Makevars, as
you pointed out.  Now -O3 is recognized and working.

Thanks,
Ian

On Fri, Apr 18, 2008 at 1:41 PM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
> On Fri, 18 Apr 2008, Ian Fiske wrote:
>
>
> > Hi all,
> >
> >
> > I am running R 2.6.2 in Windows XP with Rtools 2.7 and am trying to
> compile
> > a shared library in Windows with customized level of optimization.
> > Specifically, I would like to have "-O3 -funroll-loops" as flags when I
> run
> > "R CMD SHLIB ***.cc" to speed the program for my simulations.
> >
> > I have read through the documentation and have tried adding the line
> >
> > PKG_CXXFLAGS = -O3 -funroll-loops
> >
> > in my Makevars in my package's src directory.  However, this places the
> > flags before the -O2 flag, thereby overriding it.
> >
>
>  I presume you meant the opposite -- 'it' refers to its immediate antecdent,
> 'the -O2 flag', which overrides not is overridden?  That is, the flags are
> processed from left to right and later settings win.
>
>
> > I have also tried creating a config.site file in R_HOME/etc, but that
> seems to be ignored.
> >
>
>  What gave you the idea that would be relevant?  I don't see it in any of
> the manuals.
>
>
> > I found a possible solution at
> > http://tolstoy.newcastle.edu.au/R/e2/devel/07/03/2520.html.  However, when
> I
> > use this suggestion, I get errors that R.h cannot be found.
> >
> > Please note that I do not plan to submit this package to CRAN or to other
> > users with the modified flags, but I just need to set them on my machine
> to
> > speed up simulations for testing, etc.
> >
>
>  From the R-admin manual:
>
>  'Package-specific compilation flags can be overridden or added to using the
> personal file $HOME/.R/Makevars.win, or if that does not exist,
> $HOME/.R/Makevars. (See the rw-FAQ for the meaning of $HOME.) For the
> record, the order of precedence is (last wins)
>
>     * MakeDll and MkRules
>     * src/Makevars.win if it exists, otherwise src/Makevars
>     * $HOME/.R/Makevars.win if it exists, otherwise $HOME/.R/Makevars.
>     * src/Makefile.win if present causes all but the last of the above to
>       be ignored.
>  '
>
>
>  So you can set CXXFLAGS in src/Makevars.win and that will override the
> system's values.  Or you could change the system setting to -O3 in
>  MakeDll -- it is -O3 for C and Fortran, but -O2 for C++ (which R itself
> does not use) because -O3 for C++ used to be problematic (with gcc 3.4.5,
> not the current version).
>
>  I think the URL you give is too old -- it probably preceeds the corrected
> separation of CPPFLAGS and C[XX]FLAGS.  The rule is (from MkRules)
>
>  .cc.o:
>         $(CXX) $(CPPFLAGS) $($*-CPPFLAGS) $(CXXFLAGS) $($*-CXXFLAGS) -c $<
> -o $@
>
>  and so CPPFLAGS should contain include paths, and CXXFLAGS optimization
> levels.
>
>  I've just taken a C++-using package and added
>
>  CXXFLAGS=-O3 -funroll-loops
>
>  to its Makevars.  All the headers were found, and that was the optimization
> level used.
>
>
>
> > I appreciate any suggestions,
> > Ian
> >
>
>  --
>  Brian D. Ripley,                  ripley at stats.ox.ac.uk
>  Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>  University of Oxford,             Tel:  +44 1865 272861 (self)
>  1 South Parks Road,                     +44 1865 272866 (PA)
>  Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>


From wstein at gmail.com  Fri Apr 18 17:26:36 2008
From: wstein at gmail.com (William Stein)
Date: Fri, 18 Apr 2008 08:26:36 -0700
Subject: [Rd] [rd] sage <--> r integration
In-Reply-To: <0B212AE2-58BC-435A-A4FF-541A533258BE@mac.com>
References: <f67335450804170333q93c718ftb749ed403b0d3d82@mail.gmail.com>
	<624F21D3-F68B-4A14-A200-2A9FBA10BFA0@mac.com>
	<18440.36137.412292.227717@lxh5.stat.uni-muenchen.de>
	<0B212AE2-58BC-435A-A4FF-541A533258BE@mac.com>
Message-ID: <85e81ba30804180826h5d10c4d8n5f6d6279e55dc5da@mail.gmail.com>

On Fri, Apr 18, 2008 at 8:17 AM, Rob Goedman <goedman at mac.com> wrote:
> Fritz,
>
>  Thanks a lot for your very clear answer (it provided me with the needed
>  context for the decisions)!
>
>  I'll continue to investigate what can be done on a small(er) scale with R,
> the
>  already available R/python bridges (e.g. RSPython, RPy) and Sage.
>

Hi,

You might also want to look at

    http://wiki.sagemath.org/R

briefly.  The code that is linked to there (in trac) will be going
into Sage-3.0, which is due to be released very soon.

I'm working on getting another UW undergrad
student interested in this project summer, so
Rob I hope you'll join sage-devel if you haven't
already and keep us posted about anything you're
interested in working on regarding R / Python-Sage
integration.

 -- William


From mflawren at fhcrc.org  Fri Apr 18 21:08:21 2008
From: mflawren at fhcrc.org (Michael Lawrence)
Date: Fri, 18 Apr 2008 12:08:21 -0700
Subject: [Rd] swig 1.3.35 & R - is the R wrapper still maintained and of
	interest?
In-Reply-To: <1208515782.11561.27.camel@localhost>
References: <1208515782.11561.27.camel@localhost>
Message-ID: <509e0620804181208h134706b2r58cdd0307d840dcb@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080418/d37e326b/attachment.pl 

From hpages at fhcrc.org  Sat Apr 19 03:56:33 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Fri, 18 Apr 2008 18:56:33 -0700
Subject: [Rd] Couldn't (and shouldn't) is.unsorted() be faster?
In-Reply-To: <alpine.LFD.1.00.0804180614350.843@gannet.stats.ox.ac.uk>
References: <48079F52.5090708@fhcrc.org>
	<Pine.GSO.4.56.0804171212150.9752@devsun3201.insightful.com>
	<alpine.LFD.1.00.0804172057400.3294@gannet.stats.ox.ac.uk>
	<4807DEB5.6050902@fhcrc.org>
	<alpine.LFD.1.00.0804180614350.843@gannet.stats.ox.ac.uk>
Message-ID: <48095151.1020907@fhcrc.org>

Prof Brian Ripley wrote:
> On Thu, 17 Apr 2008, Herve Pages wrote:
[...]
>> BTW, why not make is.unsorted() a little bit more prepared to silly user
>> input:
> 
> Because R is a volunteer project and resources spent on trapping misuse 
> are resources not available to be spent on other things.  (Same as for 
> bug reports on fixed issues ....)

I know that, thanks! Hope that you noticed that I'm not requesting a new feature
or anything fancy. Neither am I suggesting that I'm stuck because is.unsorted()
doesn't check its arguments (like any other function directly exposed to the user
is expected to do, especially for things that are used in an if statement).

H.


From hpages at fhcrc.org  Sat Apr 19 04:17:26 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Fri, 18 Apr 2008 19:17:26 -0700
Subject: [Rd] Pb with package::foo(x) <- value
Message-ID: <48095636.2040500@fhcrc.org>

Hi,

The parser doesn't seem to like this:

   somePackage::foo(x) <- value
   somePackage:::foo(x) <- value

where foo() is a replacement function or method defined in package somePackage.

For example:

   > x <- integer(4)
   > base::length(x) <- 7
   Error in base::length(x) <- 7 : invalid function in complex assignment

I've tried to put some back quotes on the left side of the assignment in
different ways but was not successful. So finally I had to use the
non-replacement form:

   > x <- base::`length<-`(x, 7)
   > x
   [1]  0  0  0  0 NA NA NA

Is there a way to avoid this?

Thanks!
H.


From mflawren at fhcrc.org  Sat Apr 19 06:13:50 2008
From: mflawren at fhcrc.org (Michael Lawrence)
Date: Fri, 18 Apr 2008 21:13:50 -0700
Subject: [Rd] Pb with package::foo(x) <- value
In-Reply-To: <48095636.2040500@fhcrc.org>
References: <48095636.2040500@fhcrc.org>
Message-ID: <509e0620804182113sbf9996ape6ff1d59069b41ec@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080418/76e0757e/attachment.pl 

From pcd at wikitex.org  Sat Apr 19 07:09:15 2008
From: pcd at wikitex.org (Peter Danenberg)
Date: Sat, 19 Apr 2008 00:09:15 -0500
Subject: [Rd] AddComment (gram.y)
Message-ID: <20080419050915.GA1820@klutometis.wikitex.org>

AddComment in gram.y would have been an extremely useful feature, but
it's been #if-0'd out; is it unimplemented?

It should have attached a comment attribute to any SEXP associated
with a comment.


From bill at insightful.com  Sat Apr 19 07:15:16 2008
From: bill at insightful.com (Bill Dunlap)
Date: Fri, 18 Apr 2008 22:15:16 -0700 (PDT)
Subject: [Rd] nondigits in R_FILEVERSION mess up Windows build
Message-ID: <Pine.GSO.4.56.0804182152300.29645@devsun3201.insightful.com>

I tried for the first time to build R from source on Windows, where I
got the source code via svn.  Per the Installation and Administration
manual, I altered src\gnuwin32\MkRules so it had the the locally
correct paths to HTML Help Workshop and Inno Setup 5.  I also set
USE_SVNVERSION=yes, as suggested in MkRules itself.  Then, while in
the directory src/gnuwin32 I ran 'make all recommended' and got an
error from windres very early in the build:

  E:\R\R-svn\r-devel\src\gnuwin32>make all recommended
  make --no-print-directory -C front-ends Rpwd
  make -C ../../include -f Makefile.win version
  make Rpwd.exe
  gcc  -std=gnu99 -I../../include  -O3 -Wall -pedantic  -c rpwd.c -o rpwd.o
  windres --preprocessor="gcc -E -xc -DRC_INVOKED"   -i rcico.rc -o rcico.o
  c:\Rtools\MinGW\bin\windres.exe: rcico.rc:9: syntax error
  make[3]: *** [rcico.o] Error 1
  make[2]: *** [Rpwd] Error 2
  make[1]: *** [front-ends/Rpwd.exe] Error 2
  make: *** [all] Error 2

Line 9 of src\gnuwin32\front-ends\rcico.rc is
  FILEVERSION R_FILEVERSION
The problem was that my change to MkRules caused 'svnversion' to put an
'M' (modified) on the end of the svn version it reports.  This svn
version number is used in the R_FILEVERSION macro, which is used in in
the *.rc files.  The resource file compiler, windres, appears to choke on
non-digits in R_FILEVERSION.  (A comment in tools\GETVERSION indicates
it might choke on leading 0's as well.)

After the following change, to remove the trailing M or S from the
svn version number, the build worked.  In R itself, the svn version
contains the trailing 'M' to show it came from modified source.
In the long run it might be nice to alter MkRules so it can read
a LocalMkRules file which is not under svn control, so trivial path
changes in MkRules don't make it look like the build is from modified
source code.  I don't think the M-less svn version in R_FILEVERSION
will cause any confusion.

Index: tools/GETVERSION
===================================================================
--- tools/GETVERSION	(revision 45381)
+++ tools/GETVERSION	(working copy)
@@ -43,7 +43,9 @@
   echo "#define R_SVN_REVISION \"${svn_rev}\""
 ## Using 1-digit year stops problems with leading zeros
 #  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${y1}${m}${d},0"
-  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${svn_rev},0"
+#  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${svn_rev},0"
+#  Non-digits in R_FILEVERSION stop windres file.rc, remove trailing M or S.
+  echo "#define R_FILEVERSION    ${maj},${pl}${sl},`echo ${svn_rev}|sed -e 's/[MS]*$//'`,0"
   echo
   echo '#ifdef __cplusplus'
   echo '}'

----------------------------------------------------------------------------
Bill Dunlap
Insightful Corporation
bill at insightful dot com

 "All statements in this message represent the opinions of the author and do
 not necessarily reflect Insightful Corporation policy or position."


From ripley at stats.ox.ac.uk  Sat Apr 19 07:51:18 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Apr 2008 06:51:18 +0100 (BST)
Subject: [Rd] Pb with package::foo(x) <- value
In-Reply-To: <48095636.2040500@fhcrc.org>
References: <48095636.2040500@fhcrc.org>
Message-ID: <alpine.LFD.1.10.0804190640050.18033@gannet.stats.ox.ac.uk>

On Fri, 18 Apr 2008, Herve Pages wrote:

> Hi,
>
> The parser doesn't seem to like this:
>
>   somePackage::foo(x) <- value
>   somePackage:::foo(x) <- value
>
> where foo() is a replacement function or method defined in package 
> somePackage.

But the error message you show is not from the parser, and

> parse(text="somePackage:::foo(x) <- value")
expression(somePackage:::foo(x) <- value)
attr(,"srcfile")
<text>

does work. The error you show arises is in the evaluator.

That's because that is not legal code.  :: and ::: are operators, not part 
of the language per se (although I have proposed changing that).  The 
message comes at a check for a name, and base::length is not a name.

It often helps to look error messages up in the sources.


> For example:
>
>   > x <- integer(4)
>   > base::length(x) <- 7
>   Error in base::length(x) <- 7 : invalid function in complex assignment
>
> I've tried to put some back quotes on the left side of the assignment in
> different ways but was not successful. So finally I had to use the
> non-replacement form:
>
>   > x <- base::`length<-`(x, 7)
>   > x
>   [1]  0  0  0  0 NA NA NA
>
> Is there a way to avoid this?
>
> Thanks!
> H.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch at stats.uwo.ca  Sat Apr 19 13:15:57 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 19 Apr 2008 07:15:57 -0400
Subject: [Rd] AddComment (gram.y)
In-Reply-To: <20080419050915.GA1820@klutometis.wikitex.org>
References: <20080419050915.GA1820@klutometis.wikitex.org>
Message-ID: <4809D46D.2030308@stats.uwo.ca>

On 19/04/2008 1:09 AM, Peter Danenberg wrote:
> AddComment in gram.y would have been an extremely useful feature, but
> it's been #if-0'd out; is it unimplemented?

It was removed in 2001.
> 
> It should have attached a comment attribute to any SEXP associated
> with a comment.
> 

The source references achieve something similar.

Duncan Murdoch


From jfox at mcmaster.ca  Sat Apr 19 13:52:26 2008
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 19 Apr 2008 07:52:26 -0400
Subject: [Rd] package building problem under Windows Vista
Message-ID: <000701c8a213$d693fc00$83bbf400$@ca>

Dear list members,

I've encountered the following problem trying to build a package under
Windows Vista (SP1). The problem occurs with both R 2.6.2 and R 2.7.0 RC
(from which this output was produced). The package builds just fine on my XP
(SP2) machine. Please see some further comments below.

---------- snip -------------

Microsoft Windows [Version 6.0.6001]
Copyright (c) 2006 Microsoft Corporation.  All rights reserved.

d:\R-packages>R CMD build tradeCosts
* checking for file 'tradeCosts/DESCRIPTION' ... OK
* preparing 'tradeCosts':
* checking DESCRIPTION meta-information ... OK
* installing the package to re-build vignettes
installing R.css in C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586


---------- Making package tradeCosts ------------
  adding build stamp to DESCRIPTION
  installing NAMESPACE file and metadata
Error in file(file, "r") : unable to open connection
Calls: <Anonymous> -> parseNamespaceFile -> parse -> file
In addition: Warning message:
In file(file, "r") :
  cannot open file
'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCos
ts/NAMESPACE', reason 'Permission denied'
Execution halted
make[2]: *** [nmspace] Error 1
make[1]: *** [all] Error 2
make: *** [pkg-tradeCosts] Error 2
*** Installation of tradeCosts failed ***

Removing 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCosts'
* creating vignettes ... OK
* removing junk files
* checking for LF line-endings in source and make files
* checking for empty or unneeded directories
* building 'tradeCosts_0.3-0.tar.gz'


d:\R-packages>

---------- snip -------------

I believe that the error is related to the vignette in the package, since I
can build packages without a vignette. Clearly there is a file-permission
problem but: (1) I'm using an account with administrator privileges; (2) R
is installed into c:\R (and the problem persists even when I install R into
d:\R); (3) the problem persists when I run the command window and R itself
as administrator, and when I turn off account controls; (4) the problems
persists when I reset the environment variables temp and tmp to d:\temp and
set the permissions to d:\temp so that all groups and users have full
control over that directory. 

I'm tempted to dump Vista but I've been trying to persist with it since most
people (e.g., my students) buying new Windows machines will be getting it.
Although I've read section 2.24 of the R for Windows FAQ, it's quite
possible that I've missed something of relevance there.

Any help would be appreciated.

Thanks in advance,
 John

--------------------------------
John Fox, Professor
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
905-525-9140x23604
http://socserv.mcmaster.ca/jfox


From ripley at stats.ox.ac.uk  Sat Apr 19 14:52:57 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Apr 2008 13:52:57 +0100 (BST)
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <000701c8a213$d693fc00$83bbf400$@ca>
References: <000701c8a213$d693fc00$83bbf400$@ca>
Message-ID: <alpine.LFD.1.10.0804191345090.23591@gannet.stats.ox.ac.uk>

John,

The environment variables are case-sensitive (not temp and tmp), and 
TMPDIR is the one used by 'R CMD build'. I think you need to set TMPDIR to 
somewhere known to have full control.  Why that is not true of 
C:/Users/JOHNFO~1/AppData/Local/Temp is unclear to me, but I don't think 
anything you said you did would have tried a different location.

Brian

On Sat, 19 Apr 2008, John Fox wrote:

> Dear list members,
>
> I've encountered the following problem trying to build a package under
> Windows Vista (SP1). The problem occurs with both R 2.6.2 and R 2.7.0 RC
> (from which this output was produced). The package builds just fine on my XP
> (SP2) machine. Please see some further comments below.
>
> ---------- snip -------------
>
> Microsoft Windows [Version 6.0.6001]
> Copyright (c) 2006 Microsoft Corporation.  All rights reserved.
>
> d:\R-packages>R CMD build tradeCosts
> * checking for file 'tradeCosts/DESCRIPTION' ... OK
> * preparing 'tradeCosts':
> * checking DESCRIPTION meta-information ... OK
> * installing the package to re-build vignettes
> installing R.css in C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586
>
>
> ---------- Making package tradeCosts ------------
>  adding build stamp to DESCRIPTION
>  installing NAMESPACE file and metadata
> Error in file(file, "r") : unable to open connection
> Calls: <Anonymous> -> parseNamespaceFile -> parse -> file
> In addition: Warning message:
> In file(file, "r") :
>  cannot open file
> 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCos
> ts/NAMESPACE', reason 'Permission denied'
> Execution halted
> make[2]: *** [nmspace] Error 1
> make[1]: *** [all] Error 2
> make: *** [pkg-tradeCosts] Error 2
> *** Installation of tradeCosts failed ***
>
> Removing 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCosts'
> * creating vignettes ... OK
> * removing junk files
> * checking for LF line-endings in source and make files
> * checking for empty or unneeded directories
> * building 'tradeCosts_0.3-0.tar.gz'
>
>
> d:\R-packages>
>
> ---------- snip -------------
>
> I believe that the error is related to the vignette in the package, since I
> can build packages without a vignette. Clearly there is a file-permission
> problem but: (1) I'm using an account with administrator privileges; (2) R
> is installed into c:\R (and the problem persists even when I install R into
> d:\R); (3) the problem persists when I run the command window and R itself
> as administrator, and when I turn off account controls; (4) the problems
> persists when I reset the environment variables temp and tmp to d:\temp and
> set the permissions to d:\temp so that all groups and users have full
> control over that directory.
>
> I'm tempted to dump Vista but I've been trying to persist with it since most
> people (e.g., my students) buying new Windows machines will be getting it.
> Although I've read section 2.24 of the R for Windows FAQ, it's quite
> possible that I've missed something of relevance there.
>
> Any help would be appreciated.
>
> Thanks in advance,
> John
>
> --------------------------------
> John Fox, Professor
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> 905-525-9140x23604
> http://socserv.mcmaster.ca/jfox
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ggrothendieck at gmail.com  Sat Apr 19 15:09:56 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sat, 19 Apr 2008 09:09:56 -0400
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <000701c8a213$d693fc00$83bbf400$@ca>
References: <000701c8a213$d693fc00$83bbf400$@ca>
Message-ID: <971536df0804190609v981bf0evbf3edd8bbb626617@mail.gmail.com>

Note that CRAN is also having a problem with the package
so its not just you:

http://cran.r-project.org/bin/windows/contrib/2.7/check/tm-check.log

I also have a problem with the vignettes (note
there are two) but as with you this works:

Rcmd build --no-vignettes tradeCosts

I don't have any special environment variables set for temporary
directories and I use C:\Program Files\R\...
for R.  I use Rcmd.bat and sweave.bat from batchfiles found at:
http://batchfiles.googlecode.com
which finds R in the registry so no paths need be set.
I am on Vista but you seem to have SP1 which I don't
have yet.

I can build other packages so there
is probably something that needs fixing in their vignettes.

On Sat, Apr 19, 2008 at 7:52 AM, John Fox <jfox at mcmaster.ca> wrote:
> Dear list members,
>
> I've encountered the following problem trying to build a package under
> Windows Vista (SP1). The problem occurs with both R 2.6.2 and R 2.7.0 RC
> (from which this output was produced). The package builds just fine on my XP
> (SP2) machine. Please see some further comments below.
>
> ---------- snip -------------
>
> Microsoft Windows [Version 6.0.6001]
> Copyright (c) 2006 Microsoft Corporation.  All rights reserved.
>
> d:\R-packages>R CMD build tradeCosts
> * checking for file 'tradeCosts/DESCRIPTION' ... OK
> * preparing 'tradeCosts':
> * checking DESCRIPTION meta-information ... OK
> * installing the package to re-build vignettes
> installing R.css in C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586
>
>
> ---------- Making package tradeCosts ------------
>  adding build stamp to DESCRIPTION
>  installing NAMESPACE file and metadata
> Error in file(file, "r") : unable to open connection
> Calls: <Anonymous> -> parseNamespaceFile -> parse -> file
> In addition: Warning message:
> In file(file, "r") :
>  cannot open file
> 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCos
> ts/NAMESPACE', reason 'Permission denied'
> Execution halted
> make[2]: *** [nmspace] Error 1
> make[1]: *** [all] Error 2
> make: *** [pkg-tradeCosts] Error 2
> *** Installation of tradeCosts failed ***
>
> Removing 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCosts'
> * creating vignettes ... OK
> * removing junk files
> * checking for LF line-endings in source and make files
> * checking for empty or unneeded directories
> * building 'tradeCosts_0.3-0.tar.gz'
>
>
> d:\R-packages>
>
> ---------- snip -------------
>
> I believe that the error is related to the vignette in the package, since I
> can build packages without a vignette. Clearly there is a file-permission
> problem but: (1) I'm using an account with administrator privileges; (2) R
> is installed into c:\R (and the problem persists even when I install R into
> d:\R); (3) the problem persists when I run the command window and R itself
> as administrator, and when I turn off account controls; (4) the problems
> persists when I reset the environment variables temp and tmp to d:\temp and
> set the permissions to d:\temp so that all groups and users have full
> control over that directory.
>
> I'm tempted to dump Vista but I've been trying to persist with it since most
> people (e.g., my students) buying new Windows machines will be getting it.
> Although I've read section 2.24 of the R for Windows FAQ, it's quite
> possible that I've missed something of relevance there.
>
> Any help would be appreciated.
>
> Thanks in advance,
>  John
>
> --------------------------------
> John Fox, Professor
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> 905-525-9140x23604
> http://socserv.mcmaster.ca/jfox
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From jfox at mcmaster.ca  Sat Apr 19 15:14:04 2008
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 19 Apr 2008 09:14:04 -0400
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <alpine.LFD.1.10.0804191345090.23591@gannet.stats.ox.ac.uk>
References: <000701c8a213$d693fc00$83bbf400$@ca>
	<alpine.LFD.1.10.0804191345090.23591@gannet.stats.ox.ac.uk>
Message-ID: <000001c8a21f$3dbde480$b939ad80$@ca>

Dear Brian,

Actually, though it's irrelevant, I did set the environment variables TEMP
and TMP (and of course forgot that R uses TMPDIR instead).

Unfortunately, setting TMPDIR to d:\temp doesn't solve the problem:

------------ snip -------------

Microsoft Windows [Version 6.0.6001]
Copyright (c) 2006 Microsoft Corporation.  All rights reserved.

d:\R-packages>set TMPDIR
TMPDIR=d:\temp

d:\R-packages>R CMD build tradeCosts
* checking for file 'tradeCosts/DESCRIPTION' ... OK
* preparing 'tradeCosts':
* checking DESCRIPTION meta-information ... OK
* installing the package to re-build vignettes
installing R.css in d:/temp/Rinst542048336


---------- Making package tradeCosts ------------
  adding build stamp to DESCRIPTION
  installing NAMESPACE file and metadata
Error in file(file, "r") : unable to open connection
Calls: <Anonymous> -> parseNamespaceFile -> parse -> file
In addition: Warning message:
In file(file, "r") :
  cannot open file 'd:/temp/Rinst542048336/tradeCosts/NAMESPACE', reason
'Permis
sion denied'
Execution halted
make[2]: *** [nmspace] Error 1
make[1]: *** [all] Error 2
make: *** [pkg-tradeCosts] Error 2
*** Installation of tradeCosts failed ***

Removing 'd:/temp/Rinst542048336/tradeCosts'
* creating vignettes ... OK
* removing junk files
* checking for LF line-endings in source and make files
* checking for empty or unneeded directories
* building 'tradeCosts_0.3-0.tar.gz'


d:\R-packages>

------------ snip -------------

Thank you for the suggestion,
 John


> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: April-19-08 8:53 AM
> To: John Fox
> Cc: 'R-devel'
> Subject: Re: [Rd] package building problem under Windows Vista
> 
> John,
> 
> The environment variables are case-sensitive (not temp and tmp), and
> TMPDIR is the one used by 'R CMD build'. I think you need to set TMPDIR
> to
> somewhere known to have full control.  Why that is not true of
> C:/Users/JOHNFO~1/AppData/Local/Temp is unclear to me, but I don't
> think
> anything you said you did would have tried a different location.
> 
> Brian
> 
> On Sat, 19 Apr 2008, John Fox wrote:
> 
> > Dear list members,
> >
> > I've encountered the following problem trying to build a package
> under
> > Windows Vista (SP1). The problem occurs with both R 2.6.2 and R 2.7.0
> RC
> > (from which this output was produced). The package builds just fine
> on my XP
> > (SP2) machine. Please see some further comments below.
> >
> > ---------- snip -------------
> >
> > Microsoft Windows [Version 6.0.6001]
> > Copyright (c) 2006 Microsoft Corporation.  All rights reserved.
> >
> > d:\R-packages>R CMD build tradeCosts
> > * checking for file 'tradeCosts/DESCRIPTION' ... OK
> > * preparing 'tradeCosts':
> > * checking DESCRIPTION meta-information ... OK
> > * installing the package to re-build vignettes
> > installing R.css in
> C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586
> >
> >
> > ---------- Making package tradeCosts ------------
> >  adding build stamp to DESCRIPTION
> >  installing NAMESPACE file and metadata
> > Error in file(file, "r") : unable to open connection
> > Calls: <Anonymous> -> parseNamespaceFile -> parse -> file
> > In addition: Warning message:
> > In file(file, "r") :
> >  cannot open file
> > 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCos
> > ts/NAMESPACE', reason 'Permission denied'
> > Execution halted
> > make[2]: *** [nmspace] Error 1
> > make[1]: *** [all] Error 2
> > make: *** [pkg-tradeCosts] Error 2
> > *** Installation of tradeCosts failed ***
> >
> > Removing
> 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCosts'
> > * creating vignettes ... OK
> > * removing junk files
> > * checking for LF line-endings in source and make files
> > * checking for empty or unneeded directories
> > * building 'tradeCosts_0.3-0.tar.gz'
> >
> >
> > d:\R-packages>
> >
> > ---------- snip -------------
> >
> > I believe that the error is related to the vignette in the package,
> since I
> > can build packages without a vignette. Clearly there is a file-
> permission
> > problem but: (1) I'm using an account with administrator privileges;
> (2) R
> > is installed into c:\R (and the problem persists even when I install
> R into
> > d:\R); (3) the problem persists when I run the command window and R
> itself
> > as administrator, and when I turn off account controls; (4) the
> problems
> > persists when I reset the environment variables temp and tmp to
> d:\temp and
> > set the permissions to d:\temp so that all groups and users have full
> > control over that directory.
> >
> > I'm tempted to dump Vista but I've been trying to persist with it
> since most
> > people (e.g., my students) buying new Windows machines will be
> getting it.
> > Although I've read section 2.24 of the R for Windows FAQ, it's quite
> > possible that I've missed something of relevance there.
> >
> > Any help would be appreciated.
> >
> > Thanks in advance,
> > John
> >
> > --------------------------------
> > John Fox, Professor
> > Department of Sociology
> > McMaster University
> > Hamilton, Ontario, Canada L8S 4M4
> > 905-525-9140x23604
> > http://socserv.mcmaster.ca/jfox
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ggrothendieck at gmail.com  Sat Apr 19 15:46:32 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sat, 19 Apr 2008 09:46:32 -0400
Subject: [Rd] Progress window on updating
Message-ID: <971536df0804190646v432a399an24614caacb128b7@mail.gmail.com>

I am updating some packages using the packages menu
and noticed that the progress window says 100% in the
title done all the time.  It works, its just that the progress
percentage is wrong.


From ggrothendieck at gmail.com  Sat Apr 19 15:47:36 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sat, 19 Apr 2008 09:47:36 -0400
Subject: [Rd] Progress window on updating
In-Reply-To: <971536df0804190646v432a399an24614caacb128b7@mail.gmail.com>
References: <971536df0804190646v432a399an24614caacb128b7@mail.gmail.com>
Message-ID: <971536df0804190647r10e1dfa4qca57599b5f8644e2@mail.gmail.com>

Sorry, forgot this:

> R.version.string # Vista
[1] "R version 2.7.0 alpha (2008-04-03 r45066)"


On Sat, Apr 19, 2008 at 9:46 AM, Gabor Grothendieck
<ggrothendieck at gmail.com> wrote:
> I am updating some packages using the packages menu
> and noticed that the progress window says 100% in the
> title done all the time.  It works, its just that the progress
> percentage is wrong.
>


From luke at stat.uiowa.edu  Sat Apr 19 15:49:51 2008
From: luke at stat.uiowa.edu (Luke Tierney)
Date: Sat, 19 Apr 2008 08:49:51 -0500 (CDT)
Subject: [Rd] Pb with package::foo(x) <- value
In-Reply-To: <alpine.LFD.1.10.0804190640050.18033@gannet.stats.ox.ac.uk>
References: <48095636.2040500@fhcrc.org>
	<alpine.LFD.1.10.0804190640050.18033@gannet.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.64.0804190832460.3041@itasca2.wildberry.org>

On Sat, 19 Apr 2008, Prof Brian Ripley wrote:

> On Fri, 18 Apr 2008, Herve Pages wrote:
>
>> Hi,
>>
>> The parser doesn't seem to like this:
>>
>>   somePackage::foo(x) <- value
>>   somePackage:::foo(x) <- value
>>
>> where foo() is a replacement function or method defined in package
>> somePackage.
>
> But the error message you show is not from the parser, and
>
>> parse(text="somePackage:::foo(x) <- value")
> expression(somePackage:::foo(x) <- value)
> attr(,"srcfile")
> <text>
>
> does work. The error you show arises is in the evaluator.
>
> That's because that is not legal code.  :: and ::: are operators, not part
> of the language per se (although I have proposed changing that).  The
> message comes at a check for a name, and base::length is not a name.

It would be nice to be able to handle this some way.  Kurt and I have
discussed this off and on, but not come up with a good approach.  In
principle incorporating :: and ::: into the language more directly
might be a good idea but I'm not sure how many things this would
break.  Pragmatically it may be more feasible to modify the complex
assignment code to deal with a call of the form

     ::(somePackage,foo)(x) <- y

which is essentially what somePackage:::foo(x) <- value is parsed
into.  Even there I am a bit nervous at adding to an already fairly
hairy piece of code.

There are some potential subtleties though:  In the evaluation of

    somePackage:::foo(bar(x)) <- value

one deeds to call both somePackage:::foo and somePackage:::foo<-.
Just because foo is defined in package X does not necessarily mean
foo<- is also deined in package X.  Not a very likely scenario, but
the sort of thing one needs to think through (and there may be a few
others I haven't thought of).

I would advise against ever calling an assignment function directly
unless you really know what you are doing.  The complex assingment
process does some initial setup, including checking for the need to
duplicate the object to be modified and duplicating if needed. That
gets lost with a direct call.  Many internal assignment functions also
make the duplication check but there are a few that don't (in a most
cases that is probably an oversight but I believe it is deliberate in
a few).

Best,

luke

>
> It often helps to look error messages up in the sources.
>
>
>> For example:
>>
>>  > x <- integer(4)
>>  > base::length(x) <- 7
>>   Error in base::length(x) <- 7 : invalid function in complex assignment
>>
>> I've tried to put some back quotes on the left side of the assignment in
>> different ways but was not successful. So finally I had to use the
>> non-replacement form:
>>
>>  > x <- base::`length<-`(x, 7)
>>  > x
>>   [1]  0  0  0  0 NA NA NA
>>
>> Is there a way to avoid this?
>>
>> Thanks!
>> H.
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From jfox at mcmaster.ca  Sat Apr 19 15:52:03 2008
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 19 Apr 2008 09:52:03 -0400
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <971536df0804190609v981bf0evbf3edd8bbb626617@mail.gmail.com>
References: <000701c8a213$d693fc00$83bbf400$@ca>
	<971536df0804190609v981bf0evbf3edd8bbb626617@mail.gmail.com>
Message-ID: <000001c8a224$8e814ce0$ab83e6a0$@ca>

Dear Gabor,

> -----Original Message-----
> From: Gabor Grothendieck [mailto:ggrothendieck at gmail.com]
> Sent: April-19-08 9:10 AM
> To: John Fox
> Cc: R-devel
> Subject: Re: [Rd] package building problem under Windows Vista
> 
> Note that CRAN is also having a problem with the package
> so its not just you:
> 
> http://cran.r-project.org/bin/windows/contrib/2.7/check/tm-check.log

I'm afraid that I don't see a problem in that check log -- just a string of
OKs -- though there is a warning in the log at
http://cran.r-project.org/bin/windows/contrib/2.7/check/tradeCosts-check.log
. Recall, however, that the package builds (and checks) just fine for me
under XP SP2, and that the package fails to build under R 2.6.2 on Vista,
for which there is no warning in the package check.

When you try to build the tradeCosts package *with* the vignettes, do you
get the same file-permission error that I do? Have you been able to build
other packages with both vignettes and namespaces successfully?

Thanks for the suggestions.

John

> 
> I also have a problem with the vignettes (note
> there are two) but as with you this works:
> 
> Rcmd build --no-vignettes tradeCosts
> 
> I don't have any special environment variables set for temporary
> directories and I use C:\Program Files\R\...
> for R.  I use Rcmd.bat and sweave.bat from batchfiles found at:
> http://batchfiles.googlecode.com
> which finds R in the registry so no paths need be set.
> I am on Vista but you seem to have SP1 which I don't
> have yet.
> 
> I can build other packages so there
> is probably something that needs fixing in their vignettes.
> 
> On Sat, Apr 19, 2008 at 7:52 AM, John Fox <jfox at mcmaster.ca> wrote:
> > Dear list members,
> >
> > I've encountered the following problem trying to build a package
> under
> > Windows Vista (SP1). The problem occurs with both R 2.6.2 and R 2.7.0
> RC
> > (from which this output was produced). The package builds just fine
> on my XP
> > (SP2) machine. Please see some further comments below.
> >
> > ---------- snip -------------
> >
> > Microsoft Windows [Version 6.0.6001]
> > Copyright (c) 2006 Microsoft Corporation.  All rights reserved.
> >
> > d:\R-packages>R CMD build tradeCosts
> > * checking for file 'tradeCosts/DESCRIPTION' ... OK
> > * preparing 'tradeCosts':
> > * checking DESCRIPTION meta-information ... OK
> > * installing the package to re-build vignettes
> > installing R.css in
> C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586
> >
> >
> > ---------- Making package tradeCosts ------------
> >  adding build stamp to DESCRIPTION
> >  installing NAMESPACE file and metadata
> > Error in file(file, "r") : unable to open connection
> > Calls: <Anonymous> -> parseNamespaceFile -> parse -> file
> > In addition: Warning message:
> > In file(file, "r") :
> >  cannot open file
> > 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCos
> > ts/NAMESPACE', reason 'Permission denied'
> > Execution halted
> > make[2]: *** [nmspace] Error 1
> > make[1]: *** [all] Error 2
> > make: *** [pkg-tradeCosts] Error 2
> > *** Installation of tradeCosts failed ***
> >
> > Removing
> 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCosts'
> > * creating vignettes ... OK
> > * removing junk files
> > * checking for LF line-endings in source and make files
> > * checking for empty or unneeded directories
> > * building 'tradeCosts_0.3-0.tar.gz'
> >
> >
> > d:\R-packages>
> >
> > ---------- snip -------------
> >
> > I believe that the error is related to the vignette in the package,
> since I
> > can build packages without a vignette. Clearly there is a file-
> permission
> > problem but: (1) I'm using an account with administrator privileges;
> (2) R
> > is installed into c:\R (and the problem persists even when I install
> R into
> > d:\R); (3) the problem persists when I run the command window and R
> itself
> > as administrator, and when I turn off account controls; (4) the
> problems
> > persists when I reset the environment variables temp and tmp to
> d:\temp and
> > set the permissions to d:\temp so that all groups and users have full
> > control over that directory.
> >
> > I'm tempted to dump Vista but I've been trying to persist with it
> since most
> > people (e.g., my students) buying new Windows machines will be
> getting it.
> > Although I've read section 2.24 of the R for Windows FAQ, it's quite
> > possible that I've missed something of relevance there.
> >
> > Any help would be appreciated.
> >
> > Thanks in advance,
> >  John
> >
> > --------------------------------
> > John Fox, Professor
> > Department of Sociology
> > McMaster University
> > Hamilton, Ontario, Canada L8S 4M4
> > 905-525-9140x23604
> > http://socserv.mcmaster.ca/jfox
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >


From ripley at stats.ox.ac.uk  Sat Apr 19 16:06:36 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Apr 2008 15:06:36 +0100 (BST)
Subject: [Rd] Progress window on updating
In-Reply-To: <971536df0804190647r10e1dfa4qca57599b5f8644e2@mail.gmail.com>
References: <971536df0804190646v432a399an24614caacb128b7@mail.gmail.com>
	<971536df0804190647r10e1dfa4qca57599b5f8644e2@mail.gmail.com>
Message-ID: <alpine.LFD.1.10.0804191502350.17152@gannet.stats.ox.ac.uk>

As the posting guide asked you to do before posting, you need to update to 
a current snapshot.  There was a build for a few hours did that on the 
second and subsequent downloads only, and yours is two weeks' old.

On Sat, 19 Apr 2008, Gabor Grothendieck wrote:

> Sorry, forgot this:
>
>> R.version.string # Vista
> [1] "R version 2.7.0 alpha (2008-04-03 r45066)"
>
>
> On Sat, Apr 19, 2008 at 9:46 AM, Gabor Grothendieck
> <ggrothendieck at gmail.com> wrote:
>> I am updating some packages using the packages menu
>> and noticed that the progress window says 100% in the
>> title done all the time.  It works, its just that the progress
>> percentage is wrong.
>>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From bill at insightful.com  Sat Apr 19 19:41:38 2008
From: bill at insightful.com (Bill Dunlap)
Date: Sat, 19 Apr 2008 10:41:38 -0700 (PDT)
Subject: [Rd] nondigits in R_FILEVERSION mess up Windows build
In-Reply-To: <Pine.GSO.4.56.0804182152300.29645@devsun3201.insightful.com>
References: <Pine.GSO.4.56.0804182152300.29645@devsun3201.insightful.com>
Message-ID: <Pine.GSO.4.56.0804191007190.12957@devsun3201.insightful.com>

On Fri, 18 Apr 2008, Bill Dunlap wrote:

> I tried for the first time to build R from source on Windows, where I
> got the source code via svn.  Per the Installation and Administration
> manual, I altered src\gnuwin32\MkRules so it had the the locally
> correct paths to HTML Help Workshop and Inno Setup 5.  I also set
> USE_SVNVERSION=yes, as suggested in MkRules itself.  Then, while in
> the directory src/gnuwin32 I ran 'make all recommended' and got an
> error from windres very early in the build:
>  ...
> Line 9 of src\gnuwin32\front-ends\rcico.rc is
>   FILEVERSION R_FILEVERSION
> The problem was that my change to MkRules caused 'svnversion' to put an
> 'M' (modified) on the end of the svn version it reports.  This svn
> version number is used in the R_FILEVERSION macro, which is used in in
> the *.rc files.  The resource file compiler, windres, appears to choke on
> non-digits in R_FILEVERSION.  (A comment in tools\GETVERSION indicates
> it might choke on leading 0's as well.)
>
> After the following change, to remove the trailing M or S from the
> svn version number, the build worked.  In R itself, the svn version
> contains the trailing 'M' to show it came from modified source.
> In the long run it might be nice to alter MkRules so it can read
> a LocalMkRules file which is not under svn control, so trivial path
> changes in MkRules don't make it look like the build is from modified
> source code.  I don't think the M-less svn version in R_FILEVERSION
> will cause any confusion.

I ran into another problem with the trailing 'M' from svnversion
when doing 'make rinstaller' in R_HOME/src/gnuwin32:
   E:\R\R-svn\r-devel\src\gnuwin32\installer>type R-2.8.0dev.log
   Inno Setup 5 Command-Line Compiler
   ...
   Compiler engine version: Inno Setup 5.2.3 (ISPP 5.2.3.0)
   ...
   [ISPP] Preprocessing.
   ...
   [ISPP] Preprocessed.
   Parsing [Setup] section, line 10
   ...
   Parsing [Setup] section, line 20
   Error on line 12 in e:\R\R-svn\r-devel\src\gnuwin32\installer\R.iss: Value of [Setup] section directive "VersionInfoVersion" is invalid.
   Compile aborted.
The offending line 12 in R.iss is
    12  VersionInfoVersion=2.8.0.45381M
and it is put there by src/gnuwin32/installer/JRins.pl.
The following patch removes possible the trailing M or S
from the svn version number when making the Windows installer.
With that change 'make installer' completes without error
and I can run the installer (and uninstaller) successfully
with a locally modified svn tree.

It is nice to be able have the svn version available in R
and the 'M' (modified) tag is useful information.  It would
be more useful if we also stored the output of 'svn diff'
in the binary distribution, so we could tell exactly what was done.

Index: JRins.pl
===================================================================
--- JRins.pl	(revision 45381)
+++ JRins.pl	(working copy)
@@ -44,6 +44,7 @@
 $SVN = <ver>;
 close ver;
 $SVN =~s/Revision: //;
+$SVN =~s/[MS]* *$//;
 $RVER0 .= "." . $SVN;

 open insfile, "> R.iss" || die "Cannot open R.iss\n";


From duncan at wald.ucdavis.edu  Sat Apr 19 19:44:06 2008
From: duncan at wald.ucdavis.edu (Duncan Temple Lang)
Date: Sun, 20 Apr 2008 05:44:06 +1200
Subject: [Rd] swig 1.3.35 & R - is the R wrapper still maintained and
 of	interest?
In-Reply-To: <509e0620804181208h134706b2r58cdd0307d840dcb@mail.gmail.com>
References: <1208515782.11561.27.camel@localhost>
	<509e0620804181208h134706b2r58cdd0307d840dcb@mail.gmail.com>
Message-ID: <480A2F66.1080205@wald.ucdavis.edu>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


Hi Michael and Soeren

~  I've waited to see if there would be posts from others, but am
a little surprised to see only your two.  It would seem people aren't
using SWIG for R and I wonder why this community hasn't used or wanted
such tools?  Do we not have a need for them, or are we not aware of them, ...?
or

~  So what to do?  Firstly, I don't get that crash on load on my Linux
box.  So we would have to investigate further, but at least it does work
somewhere.  And such extreme failures are actually less worrying than the
potential lack of functionality in the bindings.

~  Soeren has already been in touch with me and indeed the
code in the SWIG distribution comes origially from the RSWIG source on the
omegahat repository. Unfortunately, the person who took that code
and put into the SWIG distribution did by himself and didn't seem
to want to work together to improve it add get it beyond the experimental state
it was in.  Futher, he apparently listed me as the contributor,
but haven't communicated at all with the SWIG developers and so I do not have
access to the SWIG repository and cannot change the code.
So we have a little bit of a problem that might have been better dealt with if
code had continued to be developed outside of SWIG by the R community.


~ If there is nobody interested in using SWIG in R, then there is little point
in fixing it.  I have been working on an alternative way to generate bindings using
output from GCC (gcc & g++) and exploring how the bindings should work
generally.  Most of the ideas I think would be able to go back into SWIG
and that _might_ be an easier tool for people to use who don't want more control
over the code generation or to do analysis on the code itself.
But if nobody other than the two of us is interested in using a general interface code
generation mechanism, then perhaps we shouldn't waste too much time on such
general resources.  However, I think it is of value and I think
we can fix up the SWIG module with a little collaboration.

~  D.


Michael Lawrence wrote:
| I am not sure what is included with swig, but have you seen this?
|
| http://www.omegahat.org/RSWIG/
|
| I'm not sure if it's actively maintained, but at the very least it might
| help in your efforts at getting an R swig driver working.
|
| Michael
|
| On Fri, Apr 18, 2008 at 3:49 AM, Soeren Sonnenburg <r-ml at nn7.de> wrote:
|
|> Dear all,
|>
|> I was trying to use the R swig wrapper with R 2.7 and shogun
|> ( http://www.shogun-toolbox.org ) but it fails completely, as in doesn't
|> even compile and even after patching then though compiling - crashes...
|>
|> So I asked on swig-users/swig-devel CC'ing the potential R maintainer
|> but I never received a reply. I now wonder if anyone here could help or
|> would be willing to maintain R+swig.
|>
|> The compile fix for R 2.7 is here
|>
|> http://article.gmane.org/gmane.comp.programming.swig/12697
|>
|> and the crash I am now that it compiles see is
|>
|> #0  0xb804e201 in _dl_debug_state () from /lib/ld-linux.so.2
|> #1  0xb8051608 in dl_open_worker () from /lib/ld-linux.so.2
|> #2  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
|> #3  0xb8050f5e in _dl_open () from /lib/ld-linux.so.2
|> #4  0xb74c3c19 in dlopen_doit () from /lib/i686/cmov/libdl.so.2
|> #5  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
|> #6  0xb74c42bc in _dlerror_run () from /lib/i686/cmov/libdl.so.2
|> #7  0xb74c3b51 in dlopen@@GLIBC_2.1 () from /lib/i686/cmov/libdl.so.2
|> #8  0xb7efd036 in loadLibrary (path=0xbfa5650c
|> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
|> asLocal=1, now=1, search=0x9a81f20 "") at dynload.c:92
|> #9  0xb7d6efb3 in AddDLL (path=0xbfa5650c
|> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
|> asLocal=1, now=1, DLLsearchpath=0x9a81f20 "") at Rdynload.c:543
|> #10 0xb7d6f657 in do_dynload (call=0x9e23998, op=0x9a91e44,
|> args=0xa60d5e0, env=0xa60d650) at Rdynload.c:904
|> #11 0xb7e43dba in do_internal (call=0x9e239d0, op=0x9a8798c,
|> args=0xa60d5e0, env=0xa60d650) at names.c:1129
|> #12 0xb7e0df21 in Rf_eval (e=0x9e239d0, rho=0xa60d650) at eval.c:463
|> #13 0xb7e11a3c in Rf_applyClosure (call=0xa60d74c, op=0x9e23a94,
|> arglist=0xa60d6dc, rho=0x9a9a720, suppliedenv=0x9a9a73c) at eval.c:669
|> #14 0xb7e0de19 in Rf_eval (e=0xa60d74c, rho=0x9a9a720) at eval.c:507
|> #15 0xb7e31a00 in Rf_ReplIteration (rho=0x9a9a720, savestack=0,
|> browselevel=0, state=0xbfa589a8) at main.c:257
|> #16 0xb7e31ddc in run_Rmainloop () at main.c:306
|> #17 0xb7e31e1c in Rf_mainloop () at main.c:974
|> #18 0x08048776 in main (ac=1, av=0xb805b668) at Rmain.c:35
|> #19 0xb7be8450 in __libc_start_main () from /lib/i686/cmov/libc.so.6
|> #20 0x08048691 in _start ()
|>
|> To reproduce
|>
|> ???wget http://nn7.de/debugging/shogun-0.6.1+svn2882.tar.bz2
|> tar xjf shogun-0.6.1+svn2882.tar.bz2
|> cd shogun-0.6.1+svn2882/src
|> ./configure --interface=R-modular
|> make
|>
|> (wait a few minutes)
|>
|> R
|> dyn.load('features/Features.so')
|> #source("features/Features.R") # not even necessary.
|>
|> Note that shogun works for both python and octave nicely...
|>
|> ???So the question for me is, will this be better maintained in the future
|> or should I stop investing time on getting R supported?
|>
|> Desperate,
|> Soeren
|>
|> ______________________________________________
|> R-devel at r-project.org mailing list
|> https://stat.ethz.ch/mailman/listinfo/r-devel
|>
|
| 	[[alternative HTML version deleted]]
|
|
|
| ------------------------------------------------------------------------
|
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (Darwin)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFICi9m9p/Jzwa2QP4RAv6qAJ9Ov/0ZrzXxQutS86fk/VgdH09G3wCdG2v5
p/XgqF2ZakrmJzZtHSb7ZLY=
=RPiM
-----END PGP SIGNATURE-----


From antonio.fabio at gmail.com  Sat Apr 19 20:04:45 2008
From: antonio.fabio at gmail.com (Antonio, Fabio Di Narzo)
Date: Sat, 19 Apr 2008 20:04:45 +0200
Subject: [Rd] swig 1.3.35 & R - is the R wrapper still maintained and of
	interest?
In-Reply-To: <480A2F66.1080205@wald.ucdavis.edu>
References: <1208515782.11561.27.camel@localhost>
	<509e0620804181208h134706b2r58cdd0307d840dcb@mail.gmail.com>
	<480A2F66.1080205@wald.ucdavis.edu>
Message-ID: <b0808fdc0804191104k343c262ak5a14aedecd6b79a3@mail.gmail.com>

Hi.
I also have looked for a SWIG-R module in the recent past.
However, since my use case was small enough, and given the
experimental state in which I  found the current R module
implementation, I gave up, and coded the bindings manually.

By the way, a tool like SWIG is extremely useful, as tnx to it one
should be able maintain R bindings to whatever C libraries with very
little mainteinance and documentation costs. And this in turn would
open a lot of existing C code to useRs.

Unfortunatly It's too late for it, but seems like a GSoC idea on this
topic would have been quite interesting...

Bests,
Antonio.

2008/4/19, Duncan Temple Lang <duncan at wald.ucdavis.edu>:
> -----BEGIN PGP SIGNED MESSAGE-----
>  Hash: SHA1
>
>
>  Hi Michael and Soeren
>
>  ~  I've waited to see if there would be posts from others, but am
>  a little surprised to see only your two.  It would seem people aren't
>  using SWIG for R and I wonder why this community hasn't used or wanted
>  such tools?  Do we not have a need for them, or are we not aware of them, ...?
>  or
>
>  ~  So what to do?  Firstly, I don't get that crash on load on my Linux
>  box.  So we would have to investigate further, but at least it does work
>  somewhere.  And such extreme failures are actually less worrying than the
>  potential lack of functionality in the bindings.
>
>  ~  Soeren has already been in touch with me and indeed the
>  code in the SWIG distribution comes origially from the RSWIG source on the
>  omegahat repository. Unfortunately, the person who took that code
>  and put into the SWIG distribution did by himself and didn't seem
>  to want to work together to improve it add get it beyond the experimental state
>  it was in.  Futher, he apparently listed me as the contributor,
>  but haven't communicated at all with the SWIG developers and so I do not have
>  access to the SWIG repository and cannot change the code.
>  So we have a little bit of a problem that might have been better dealt with if
>  code had continued to be developed outside of SWIG by the R community.
>
>
>  ~ If there is nobody interested in using SWIG in R, then there is little point
>  in fixing it.  I have been working on an alternative way to generate bindings using
>  output from GCC (gcc & g++) and exploring how the bindings should work
>  generally.  Most of the ideas I think would be able to go back into SWIG
>  and that _might_ be an easier tool for people to use who don't want more control
>  over the code generation or to do analysis on the code itself.
>  But if nobody other than the two of us is interested in using a general interface code
>  generation mechanism, then perhaps we shouldn't waste too much time on such
>  general resources.  However, I think it is of value and I think
>  we can fix up the SWIG module with a little collaboration.
>
>  ~  D.
>
>
>  Michael Lawrence wrote:
>  | I am not sure what is included with swig, but have you seen this?
>  |
>  | http://www.omegahat.org/RSWIG/
>  |
>  | I'm not sure if it's actively maintained, but at the very least it might
>  | help in your efforts at getting an R swig driver working.
>  |
>  | Michael
>  |
>  | On Fri, Apr 18, 2008 at 3:49 AM, Soeren Sonnenburg <r-ml at nn7.de> wrote:
>  |
>  |> Dear all,
>  |>
>  |> I was trying to use the R swig wrapper with R 2.7 and shogun
>  |> ( http://www.shogun-toolbox.org ) but it fails completely, as in doesn't
>  |> even compile and even after patching then though compiling - crashes...
>  |>
>  |> So I asked on swig-users/swig-devel CC'ing the potential R maintainer
>  |> but I never received a reply. I now wonder if anyone here could help or
>  |> would be willing to maintain R+swig.
>  |>
>  |> The compile fix for R 2.7 is here
>  |>
>  |> http://article.gmane.org/gmane.comp.programming.swig/12697
>  |>
>  |> and the crash I am now that it compiles see is
>  |>
>  |> #0  0xb804e201 in _dl_debug_state () from /lib/ld-linux.so.2
>  |> #1  0xb8051608 in dl_open_worker () from /lib/ld-linux.so.2
>  |> #2  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
>  |> #3  0xb8050f5e in _dl_open () from /lib/ld-linux.so.2
>  |> #4  0xb74c3c19 in dlopen_doit () from /lib/i686/cmov/libdl.so.2
>  |> #5  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
>  |> #6  0xb74c42bc in _dlerror_run () from /lib/i686/cmov/libdl.so.2
>  |> #7  0xb74c3b51 in dlopen@@GLIBC_2.1 () from /lib/i686/cmov/libdl.so.2
>  |> #8  0xb7efd036 in loadLibrary (path=0xbfa5650c
>  |> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
>  |> asLocal=1, now=1, search=0x9a81f20 "") at dynload.c:92
>  |> #9  0xb7d6efb3 in AddDLL (path=0xbfa5650c
>  |> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
>  |> asLocal=1, now=1, DLLsearchpath=0x9a81f20 "") at Rdynload.c:543
>  |> #10 0xb7d6f657 in do_dynload (call=0x9e23998, op=0x9a91e44,
>  |> args=0xa60d5e0, env=0xa60d650) at Rdynload.c:904
>  |> #11 0xb7e43dba in do_internal (call=0x9e239d0, op=0x9a8798c,
>  |> args=0xa60d5e0, env=0xa60d650) at names.c:1129
>  |> #12 0xb7e0df21 in Rf_eval (e=0x9e239d0, rho=0xa60d650) at eval.c:463
>  |> #13 0xb7e11a3c in Rf_applyClosure (call=0xa60d74c, op=0x9e23a94,
>  |> arglist=0xa60d6dc, rho=0x9a9a720, suppliedenv=0x9a9a73c) at eval.c:669
>  |> #14 0xb7e0de19 in Rf_eval (e=0xa60d74c, rho=0x9a9a720) at eval.c:507
>  |> #15 0xb7e31a00 in Rf_ReplIteration (rho=0x9a9a720, savestack=0,
>  |> browselevel=0, state=0xbfa589a8) at main.c:257
>  |> #16 0xb7e31ddc in run_Rmainloop () at main.c:306
>  |> #17 0xb7e31e1c in Rf_mainloop () at main.c:974
>  |> #18 0x08048776 in main (ac=1, av=0xb805b668) at Rmain.c:35
>  |> #19 0xb7be8450 in __libc_start_main () from /lib/i686/cmov/libc.so.6
>  |> #20 0x08048691 in _start ()
>  |>
>  |> To reproduce
>  |>
>  |> ?wget http://nn7.de/debugging/shogun-0.6.1+svn2882.tar.bz2
>  |> tar xjf shogun-0.6.1+svn2882.tar.bz2
>  |> cd shogun-0.6.1+svn2882/src
>  |> ./configure --interface=R-modular
>  |> make
>  |>
>  |> (wait a few minutes)
>  |>
>  |> R
>  |> dyn.load('features/Features.so')
>  |> #source("features/Features.R") # not even necessary.
>  |>
>  |> Note that shogun works for both python and octave nicely...
>  |>
>  |> ?So the question for me is, will this be better maintained in the future
>  |> or should I stop investing time on getting R supported?
>  |>
>  |> Desperate,
>  |> Soeren
>  |>
>  |> ______________________________________________
>  |> R-devel at r-project.org mailing list
>  |> https://stat.ethz.ch/mailman/listinfo/r-devel
>  |>
>  |
>  |       [[alternative HTML version deleted]]
>  |
>  |
>  |
>  | ------------------------------------------------------------------------
>  |
>  | ______________________________________________
>  | R-devel at r-project.org mailing list
>  | https://stat.ethz.ch/mailman/listinfo/r-devel
>
>  -----BEGIN PGP SIGNATURE-----
>  Version: GnuPG v1.4.7 (Darwin)
>  Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
>
>  iD8DBQFICi9m9p/Jzwa2QP4RAv6qAJ9Ov/0ZrzXxQutS86fk/VgdH09G3wCdG2v5
>  p/XgqF2ZakrmJzZtHSb7ZLY=
>  =RPiM
>  -----END PGP SIGNATURE-----
>
>  ______________________________________________
>  R-devel at r-project.org mailing list
>  https://stat.ethz.ch/mailman/listinfo/r-devel
>


-- 
Antonio, Fabio Di Narzo
Ph.D. student at
Department of Statistical Sciences
University of Bologna, Italy

From thomas.petzoldt at tu-dresden.de  Sat Apr 19 20:15:13 2008
From: thomas.petzoldt at tu-dresden.de (thomas.petzoldt at tu-dresden.de)
Date: Sat, 19 Apr 2008 20:15:13 +0200 (CEST)
Subject: [Rd] Fortran underscore problem persists on Linux x86/64 (PR#11206)
Message-ID: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>

Full_Name: Thomas Petzoldt
Version: R 2.8.0 devel, svn version 45389
OS: Linux x86/64 Ubuntu 7.1
Submission from: (NULL) (217.235.62.12)


In contrast to all other tested operating systems a call of Fortran functions on
Linux x86/64 requires an appended underscore.

The problem occured with package deSolve
(http://r-forge.r-project.org/projects/desolve/)


See also:

http://tolstoy.newcastle.edu.au/R/e4/devel/08/04/1224.html

Relevant code snippets

In R:

> getNativeSymbolInfo("iniaqua", PACKAGE = "deSolve")$address
Error in FUN("iniaqua"[[1L]], ...) :
   no such symbol iniaqua in package deSolve
 > getNativeSymbolInfo("iniaqua_", PACKAGE = "deSolve")$address
<pointer: 0x2b5cd3aa3960>
attr(,"class")
[1] "NativeSymbol"


In Aquaphy.f:

     subroutine iniaqua(odeparms)

      external odeparms
      double precision pars(19)
      common /myparms/pars

       call odeparms(19, pars)

      return
      end


From pcd at wikitex.org  Sat Apr 19 20:57:07 2008
From: pcd at wikitex.org (Peter Danenberg)
Date: Sat, 19 Apr 2008 13:57:07 -0500
Subject: [Rd] AddComment (gram.y)
In-Reply-To: <4809D46D.2030308@stats.uwo.ca>
References: <20080419050915.GA1820@klutometis.wikitex.org>
	<4809D46D.2030308@stats.uwo.ca>
Message-ID: <20080419185707.GA10684@klutometis.wikitex.org>

> The source references achieve something similar.

Thanks, Duncan; it seems like SkipComment cannibalizes comments before
they get to srcref, though.

I had to go back as far as 1999, actually, to find a version of gram.y
that implemented AddComment; would anyone object to bringing it back?


From tyler.smith at mail.mcgill.ca  Sat Apr 19 21:23:03 2008
From: tyler.smith at mail.mcgill.ca (tyler)
Date: Sat, 19 Apr 2008 16:23:03 -0300
Subject: [Rd] naive question regarding running parallel C code from R
References: <87wsmv6tgy.fsf@blackbart.sedgenet>
	<18440.53704.412420.316256@ron.nulle.part>
Message-ID: <87skxh7ip4.fsf@blackbart.sedgenet>

Dirk Eddelbuettel <edd at debian.org> writes:
>
> As I recall, you use Debian so do
>
>    $ sudo apt-get install r-cran-snow r-cran-rmpi
>
> to get R support working out-of-the box. Then study the examples for Snow on
> Luke's website. [ I also have some slides on my website from presentations I
> gave a few years ago. ]
>
> That allows you to _easily_ do the so-called embarassingly parallel: same
> problem, different parameters.  Or, you could also loop over CYCLES across
> the cluster.  Start with something simple to study it and then go from there.
>
> Hope this helps, Dirk
>

Very much! Thanks Dirk and Simon - I've got snow and rmpi installed and
I'll start from there.

Cheers,

Tyler

-- 
There is something fascinating about science. One gets such wholesale 
returns of conjecture out of such a trifling investment of fact.
                                       --Mark Twain


From r-ml at nn7.de  Sat Apr 19 22:07:44 2008
From: r-ml at nn7.de (Soeren Sonnenburg)
Date: Sat, 19 Apr 2008 20:07:44 +0000
Subject: [Rd] swig 1.3.35 & R - is the R wrapper still maintained
	and	of	interest?
In-Reply-To: <480A2F66.1080205@wald.ucdavis.edu>
References: <1208515782.11561.27.camel@localhost>
	<509e0620804181208h134706b2r58cdd0307d840dcb@mail.gmail.com>
	<480A2F66.1080205@wald.ucdavis.edu>
Message-ID: <1208635664.3861.128.camel@localhost>

On Sun, 2008-04-20 at 05:44 +1200, Duncan Temple Lang wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> 
> Hi Michael and Soeren
> 
> ~  I've waited to see if there would be posts from others, but am
> a little surprised to see only your two.  It would seem people aren't
> using SWIG for R and I wonder why this community hasn't used or wanted
> such tools?  Do we not have a need for them, or are we not aware of them, ...?
> or

Just to do some advertising on this. Using swig you basically
automagically get your C function directly available in R. And using
typemaps you get things like

compute_foo(double* vec, int len);

immediately wrapped to R and you may call it via

compute_foo(c(1.1, 2.2, 3.3)) 

same for matrices, returning things and for object oriented stuff even
slots!!

For the shogun project this means: I for free can support an R, octave
and python port only by writing the typemaps once for each language! And
hey I've written these typemaps already so you could immediately use
this without messing with the R C interface at all.

So this is of incredible help and I really think that this should be
worked on further. 

> ~  So what to do?  Firstly, I don't get that crash on load on my Linux
> box.  So we would have to investigate further, but at least it does work
> somewhere.  And such extreme failures are actually less worrying than the
> potential lack of functionality in the bindings.

Was this with R 2.7 and pasting things? Because it strangely doesn't
crash when I do R < script.R

> ~  Soeren has already been in touch with me and indeed the
> code in the SWIG distribution comes origially from the RSWIG source on the
> omegahat repository. Unfortunately, the person who took that code
> and put into the SWIG distribution did by himself and didn't seem
> to want to work together to improve it add get it beyond the experimental state
> it was in.  Futher, he apparently listed me as the contributor,
> but haven't communicated at all with the SWIG developers and so I do not have
> access to the SWIG repository and cannot change the code.
> So we have a little bit of a problem that might have been better dealt with if
> code had continued to be developed outside of SWIG by the R community.

Well I guess this could easily be changed if you post on the swig-devel
mailinglist with some short explanation. Also swig's svn-trunk is
publicly available and as no one seems to maintain the R port your
patches will stay current :) Anyway now that this port is in swig, I
suggest to maintain it there - things can only improve...

> ~ If there is nobody interested in using SWIG in R, then there is little point
> in fixing it.  I have been working on an alternative way to generate bindings using

Well I would be and I have everything inside of shogun ready (all
typemaps, build system etc). 

> output from GCC (gcc & g++) and exploring how the bindings should work
> generally.  Most of the ideas I think would be able to go back into SWIG
> and that _might_ be an easier tool for people to use who don't want more control
> over the code generation or to do analysis on the code itself.
> But if nobody other than the two of us is interested in using a general interface code
> generation mechanism, then perhaps we shouldn't waste too much time on such
> general resources.  However, I think it is of value and I think
> we can fix up the SWIG module with a little collaboration.

I would very much hope that we can fix up SWIG & R, with the compile fix
for R2.7 to begin with. I would not want to invest time in another
solution than swig, simply because swig is very widespread and well
maintained for at least python & octave. However while I can contribute
isolated test cases with as much debugging information as needed I am
unable to do the fixes to the swig-R core.

I will certainly ASAP try out patches and I could write some examples...

Soeren

> ~  D.
> 
> 
> Michael Lawrence wrote:
> | I am not sure what is included with swig, but have you seen this?
> |
> | http://www.omegahat.org/RSWIG/
> |
> | I'm not sure if it's actively maintained, but at the very least it might
> | help in your efforts at getting an R swig driver working.
> |
> | Michael
> |
> | On Fri, Apr 18, 2008 at 3:49 AM, Soeren Sonnenburg <r-ml at nn7.de> wrote:
> |
> |> Dear all,
> |>
> |> I was trying to use the R swig wrapper with R 2.7 and shogun
> |> ( http://www.shogun-toolbox.org ) but it fails completely, as in doesn't
> |> even compile and even after patching then though compiling - crashes...
> |>
> |> So I asked on swig-users/swig-devel CC'ing the potential R maintainer
> |> but I never received a reply. I now wonder if anyone here could help or
> |> would be willing to maintain R+swig.
> |>
> |> The compile fix for R 2.7 is here
> |>
> |> http://article.gmane.org/gmane.comp.programming.swig/12697
> |>
> |> and the crash I am now that it compiles see is
> |>
> |> #0  0xb804e201 in _dl_debug_state () from /lib/ld-linux.so.2
> |> #1  0xb8051608 in dl_open_worker () from /lib/ld-linux.so.2
> |> #2  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
> |> #3  0xb8050f5e in _dl_open () from /lib/ld-linux.so.2
> |> #4  0xb74c3c19 in dlopen_doit () from /lib/i686/cmov/libdl.so.2
> |> #5  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
> |> #6  0xb74c42bc in _dlerror_run () from /lib/i686/cmov/libdl.so.2
> |> #7  0xb74c3b51 in dlopen@@GLIBC_2.1 () from /lib/i686/cmov/libdl.so.2
> |> #8  0xb7efd036 in loadLibrary (path=0xbfa5650c
> |> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
> |> asLocal=1, now=1, search=0x9a81f20 "") at dynload.c:92
> |> #9  0xb7d6efb3 in AddDLL (path=0xbfa5650c
> |> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
> |> asLocal=1, now=1, DLLsearchpath=0x9a81f20 "") at Rdynload.c:543
> |> #10 0xb7d6f657 in do_dynload (call=0x9e23998, op=0x9a91e44,
> |> args=0xa60d5e0, env=0xa60d650) at Rdynload.c:904
> |> #11 0xb7e43dba in do_internal (call=0x9e239d0, op=0x9a8798c,
> |> args=0xa60d5e0, env=0xa60d650) at names.c:1129
> |> #12 0xb7e0df21 in Rf_eval (e=0x9e239d0, rho=0xa60d650) at eval.c:463
> |> #13 0xb7e11a3c in Rf_applyClosure (call=0xa60d74c, op=0x9e23a94,
> |> arglist=0xa60d6dc, rho=0x9a9a720, suppliedenv=0x9a9a73c) at eval.c:669
> |> #14 0xb7e0de19 in Rf_eval (e=0xa60d74c, rho=0x9a9a720) at eval.c:507
> |> #15 0xb7e31a00 in Rf_ReplIteration (rho=0x9a9a720, savestack=0,
> |> browselevel=0, state=0xbfa589a8) at main.c:257
> |> #16 0xb7e31ddc in run_Rmainloop () at main.c:306
> |> #17 0xb7e31e1c in Rf_mainloop () at main.c:974
> |> #18 0x08048776 in main (ac=1, av=0xb805b668) at Rmain.c:35
> |> #19 0xb7be8450 in __libc_start_main () from /lib/i686/cmov/libc.so.6
> |> #20 0x08048691 in _start ()
> |>
> |> To reproduce
> |>
> |> ???wget http://nn7.de/debugging/shogun-0.6.1+svn2882.tar.bz2
> |> tar xjf shogun-0.6.1+svn2882.tar.bz2
> |> cd shogun-0.6.1+svn2882/src
> |> ./configure --interface=R-modular
> |> make
> |>
> |> (wait a few minutes)
> |>
> |> R
> |> dyn.load('features/Features.so')
> |> #source("features/Features.R") # not even necessary.
> |>
> |> Note that shogun works for both python and octave nicely...
> |>
> |> ???So the question for me is, will this be better maintained in the future
> |> or should I stop investing time on getting R supported?
> |>
> |> Desperate,
> |> Soeren
> |>
> |> ______________________________________________
> |> R-devel at r-project.org mailing list
> |> https://stat.ethz.ch/mailman/listinfo/r-devel
> |>
> |
> | 	[[alternative HTML version deleted]]
> |
> |
> |
> | ------------------------------------------------------------------------
> |
> | ______________________________________________
> | R-devel at r-project.org mailing list
> | https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.7 (Darwin)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
> 
> iD8DBQFICi9m9p/Jzwa2QP4RAv6qAJ9Ov/0ZrzXxQutS86fk/VgdH09G3wCdG2v5
> p/XgqF2ZakrmJzZtHSb7ZLY=
> =RPiM
> -----END PGP SIGNATURE-----
> 


From edd at debian.org  Sat Apr 19 22:41:57 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 19 Apr 2008 15:41:57 -0500
Subject: [Rd] swig 1.3.35 & R - is the R wrapper still maintained and
 of	interest?
In-Reply-To: <480A2F66.1080205@wald.ucdavis.edu>
References: <1208515782.11561.27.camel@localhost>
	<509e0620804181208h134706b2r58cdd0307d840dcb@mail.gmail.com>
	<480A2F66.1080205@wald.ucdavis.edu>
Message-ID: <18442.22805.141892.154960@ron.nulle.part>


Duncan,

On 20 April 2008 at 05:44, Duncan Temple Lang wrote:
| ~  I've waited to see if there would be posts from others, but am
| a little surprised to see only your two.  It would seem people aren't
| using SWIG for R and I wonder why this community hasn't used or wanted

AFAICT it is a classic chicken and egg problem.  

"Something" exists, but is not exactly mature, been used mostly just for a
very large and rapidly changing codebase (ie Quantlib, which should stabilise
after the 1.0 release 'real soon now') with moderate success and hence
doesn't get off the ground for more.

| such tools?  Do we not have a need for them, or are we not aware of them, ...?
| or

My conjecture is that it would take off rather forcefully if only there were
one or two use cases for moderately-sized well-known libraries, providing
both use cases and usage templates. 

| ~  So what to do?  Firstly, I don't get that crash on load on my Linux
| box.  So we would have to investigate further, but at least it does work
| somewhere.  And such extreme failures are actually less worrying than the
| potential lack of functionality in the bindings.
| 
| ~  Soeren has already been in touch with me and indeed the
| code in the SWIG distribution comes origially from the RSWIG source on the
| omegahat repository. Unfortunately, the person who took that code
| and put into the SWIG distribution did by himself and didn't seem
| to want to work together to improve it add get it beyond the experimental state
| it was in.  Futher, he apparently listed me as the contributor,
| but haven't communicated at all with the SWIG developers and so I do not have

I think that is not true. Joe Wang had me CCed on a few email he had with the
Swig maintainers. He either has or had write access to the Swig repo, and
that seems to make sense as he was, afaik, the only one showing up there.  Or
did you ever offer your code for inclusion there?

But all that is spilled milk now.  Soeren has an _actual_ issue _right now_
so what can we do to get a proven tool (ie Swig) working and integrated with
R for him to get his work done and R and Shogun integrated ?

| access to the SWIG repository and cannot change the code.
| So we have a little bit of a problem that might have been better dealt with if
| code had continued to be developed outside of SWIG by the R community.
| 
| ~ If there is nobody interested in using SWIG in R, then there is little point
| in fixing it.  I have been working on an alternative way to generate bindings using
| output from GCC (gcc & g++) and exploring how the bindings should work

Sure, that is very well for you as a research project, but Swig is there, is
rather mature, understood and widel y used -- just not as much with R as it
could be.  IMHO we'd better off focussing on getting Swig working.

| generally.  Most of the ideas I think would be able to go back into SWIG
| and that _might_ be an easier tool for people to use who don't want more control
| over the code generation or to do analysis on the code itself.
| But if nobody other than the two of us is interested in using a general interface code
| generation mechanism, then perhaps we shouldn't waste too much time on such
| general resources.  However, I think it is of value and I think
| we can fix up the SWIG module with a little collaboration.

There is definitely interest.  Eg from the Quantlib angle, a few people
expressed interest a few months ago to revive the R/Quantlib integration via
Swig but nothing much has come of it yet. We're all too busy it seems.

Dirk
 
| ~  D.
| 
| 
| Michael Lawrence wrote:
| | I am not sure what is included with swig, but have you seen this?
| |
| | http://www.omegahat.org/RSWIG/
| |
| | I'm not sure if it's actively maintained, but at the very least it might
| | help in your efforts at getting an R swig driver working.
| |
| | Michael
| |
| | On Fri, Apr 18, 2008 at 3:49 AM, Soeren Sonnenburg <r-ml at nn7.de> wrote:
| |
| |> Dear all,
| |>
| |> I was trying to use the R swig wrapper with R 2.7 and shogun
| |> ( http://www.shogun-toolbox.org ) but it fails completely, as in doesn't
| |> even compile and even after patching then though compiling - crashes...
| |>
| |> So I asked on swig-users/swig-devel CC'ing the potential R maintainer
| |> but I never received a reply. I now wonder if anyone here could help or
| |> would be willing to maintain R+swig.
| |>
| |> The compile fix for R 2.7 is here
| |>
| |> http://article.gmane.org/gmane.comp.programming.swig/12697
| |>
| |> and the crash I am now that it compiles see is
| |>
| |> #0  0xb804e201 in _dl_debug_state () from /lib/ld-linux.so.2
| |> #1  0xb8051608 in dl_open_worker () from /lib/ld-linux.so.2
| |> #2  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
| |> #3  0xb8050f5e in _dl_open () from /lib/ld-linux.so.2
| |> #4  0xb74c3c19 in dlopen_doit () from /lib/i686/cmov/libdl.so.2
| |> #5  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
| |> #6  0xb74c42bc in _dlerror_run () from /lib/i686/cmov/libdl.so.2
| |> #7  0xb74c3b51 in dlopen@@GLIBC_2.1 () from /lib/i686/cmov/libdl.so.2
| |> #8  0xb7efd036 in loadLibrary (path=0xbfa5650c
| |> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
| |> asLocal=1, now=1, search=0x9a81f20 "") at dynload.c:92
| |> #9  0xb7d6efb3 in AddDLL (path=0xbfa5650c
| |> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
| |> asLocal=1, now=1, DLLsearchpath=0x9a81f20 "") at Rdynload.c:543
| |> #10 0xb7d6f657 in do_dynload (call=0x9e23998, op=0x9a91e44,
| |> args=0xa60d5e0, env=0xa60d650) at Rdynload.c:904
| |> #11 0xb7e43dba in do_internal (call=0x9e239d0, op=0x9a8798c,
| |> args=0xa60d5e0, env=0xa60d650) at names.c:1129
| |> #12 0xb7e0df21 in Rf_eval (e=0x9e239d0, rho=0xa60d650) at eval.c:463
| |> #13 0xb7e11a3c in Rf_applyClosure (call=0xa60d74c, op=0x9e23a94,
| |> arglist=0xa60d6dc, rho=0x9a9a720, suppliedenv=0x9a9a73c) at eval.c:669
| |> #14 0xb7e0de19 in Rf_eval (e=0xa60d74c, rho=0x9a9a720) at eval.c:507
| |> #15 0xb7e31a00 in Rf_ReplIteration (rho=0x9a9a720, savestack=0,
| |> browselevel=0, state=0xbfa589a8) at main.c:257
| |> #16 0xb7e31ddc in run_Rmainloop () at main.c:306
| |> #17 0xb7e31e1c in Rf_mainloop () at main.c:974
| |> #18 0x08048776 in main (ac=1, av=0xb805b668) at Rmain.c:35
| |> #19 0xb7be8450 in __libc_start_main () from /lib/i686/cmov/libc.so.6
| |> #20 0x08048691 in _start ()
| |>
| |> To reproduce
| |>
| |> ???wget http://nn7.de/debugging/shogun-0.6.1+svn2882.tar.bz2
| |> tar xjf shogun-0.6.1+svn2882.tar.bz2
| |> cd shogun-0.6.1+svn2882/src
| |> ./configure --interface=R-modular
| |> make
| |>
| |> (wait a few minutes)
| |>
| |> R
| |> dyn.load('features/Features.so')
| |> #source("features/Features.R") # not even necessary.
| |>
| |> Note that shogun works for both python and octave nicely...
| |>
| |> ???So the question for me is, will this be better maintained in the future
| |> or should I stop investing time on getting R supported?
| |>
| |> Desperate,
| |> Soeren
| |>
| |> ______________________________________________
| |> R-devel at r-project.org mailing list
| |> https://stat.ethz.ch/mailman/listinfo/r-devel
| |>
| |
| | 	[[alternative HTML version deleted]]
| |
| |
| |
| | ------------------------------------------------------------------------
| |
| | ______________________________________________
| | R-devel at r-project.org mailing list
| | https://stat.ethz.ch/mailman/listinfo/r-devel
| 
| -----BEGIN PGP SIGNATURE-----
| Version: GnuPG v1.4.7 (Darwin)
| Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
| 
| iD8DBQFICi9m9p/Jzwa2QP4RAv6qAJ9Ov/0ZrzXxQutS86fk/VgdH09G3wCdG2v5
| p/XgqF2ZakrmJzZtHSb7ZLY=
| =RPiM
| -----END PGP SIGNATURE-----
| 
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Three out of two people have difficulties with fractions.


From murdoch at stats.uwo.ca  Sat Apr 19 22:46:32 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 19 Apr 2008 16:46:32 -0400
Subject: [Rd] AddComment (gram.y)
In-Reply-To: <20080419185707.GA10684@klutometis.wikitex.org>
References: <20080419050915.GA1820@klutometis.wikitex.org>
	<4809D46D.2030308@stats.uwo.ca>
	<20080419185707.GA10684@klutometis.wikitex.org>
Message-ID: <480A5A28.60302@stats.uwo.ca>

Peter Danenberg wrote:
>> The source references achieve something similar.
>>     
>
> Thanks, Duncan; it seems like SkipComment cannibalizes comments before
> they get to srcref, though.
>
> I had to go back as far as 1999, actually, to find a version of gram.y
> that implemented AddComment; would anyone object to bringing it back?
>   
Yes, I would.  Use the source refs.  They aren't "cannibalized", they 
are still there, where the source ref says they are.

Duncan Murdoch


From maechler at stat.math.ethz.ch  Sat Apr 19 23:25:55 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 19 Apr 2008 23:25:55 +0200
Subject: [Rd] AddComment (gram.y)
In-Reply-To: <480A5A28.60302@stats.uwo.ca>
References: <20080419050915.GA1820@klutometis.wikitex.org>
	<4809D46D.2030308@stats.uwo.ca>
	<20080419185707.GA10684@klutometis.wikitex.org>
	<480A5A28.60302@stats.uwo.ca>
Message-ID: <18442.25443.49716.190470@stat.math.ethz.ch>

>>>>> "DM" == Duncan Murdoch <murdoch at stats.uwo.ca>
>>>>>     on Sat, 19 Apr 2008 16:46:32 -0400 writes:

    DM> Peter Danenberg wrote:

      >>> The source references achieve something similar.
      >>> 
    > Thanks, Duncan; it seems like SkipComment cannibalizes
    >> comments before they get to srcref, though.
    >> 
    >> I had to go back as far as 1999, actually, to find a
    >> version of gram.y that implemented AddComment; would
    >> anyone object to bringing it back?
    >> 
    DM> Yes, I would.  

and so would probably almost everyone in R-core.
We *did* think already back in the last millennium...
and removed them for a good reason
{IIRC, because there were always cases where they were attached
 to the wrong expression, and we were more or less convinced,
 there was no to do it "right" in all cases}.

Martin Maechler

    DM> Use the source refs.  They aren't
    DM> "cannibalized", they are still there, where the source
    DM> ref says they are.

    DM> Duncan Murdoch

    DM> ______________________________________________
    DM> R-devel at r-project.org mailing list
    DM> https://stat.ethz.ch/mailman/listinfo/r-devel


From mtmorgan at fhcrc.org  Sun Apr 20 04:26:03 2008
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Sat, 19 Apr 2008 19:26:03 -0700
Subject: [Rd] 2.7.0 RC (2008-04-19 r45391) package.skeleton LazyLoad
	incorrect
Message-ID: <6phy779gt38.fsf@gopher4.fhcrc.org>

package.skeleton inserts a lowercase second l in LazyLoad, so that the
package is not, in fact, lazy loaded.

Martin
-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M2 B169
Phone: (206) 667-2793


From mflawren at fhcrc.org  Sun Apr 20 06:29:18 2008
From: mflawren at fhcrc.org (Michael Lawrence)
Date: Sat, 19 Apr 2008 21:29:18 -0700
Subject: [Rd] swig 1.3.35 & R - is the R wrapper still maintained and of
	interest?
In-Reply-To: <18442.22805.141892.154960@ron.nulle.part>
References: <1208515782.11561.27.camel@localhost>
	<509e0620804181208h134706b2r58cdd0307d840dcb@mail.gmail.com>
	<480A2F66.1080205@wald.ucdavis.edu>
	<18442.22805.141892.154960@ron.nulle.part>
Message-ID: <509e0620804192129s55c99c98k1d32870a2b79d522@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080419/9319bc10/attachment.pl 

From p.dalgaard at biostat.ku.dk  Sun Apr 20 08:31:03 2008
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sun, 20 Apr 2008 08:31:03 +0200
Subject: [Rd] 2.7.0 RC (2008-04-19 r45391) package.skeleton
	LazyLoad	incorrect
In-Reply-To: <6phy779gt38.fsf@gopher4.fhcrc.org>
References: <6phy779gt38.fsf@gopher4.fhcrc.org>
Message-ID: <480AE327.5010500@biostat.ku.dk>

Martin Morgan wrote:
> package.skeleton inserts a lowercase second l in LazyLoad, so that the
> package is not, in fact, lazy loaded.
>
> Martin
>   
Fix committed.

-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From p.dalgaard at biostat.ku.dk  Sun Apr 20 09:26:50 2008
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sun, 20 Apr 2008 09:26:50 +0200
Subject: [Rd] AddComment (gram.y)
In-Reply-To: <18442.25443.49716.190470@stat.math.ethz.ch>
References: <20080419050915.GA1820@klutometis.wikitex.org>	<4809D46D.2030308@stats.uwo.ca>	<20080419185707.GA10684@klutometis.wikitex.org>	<480A5A28.60302@stats.uwo.ca>
	<18442.25443.49716.190470@stat.math.ethz.ch>
Message-ID: <480AF03A.1010407@biostat.ku.dk>


>     >> anyone object to bringing it back?
>     >> 
>     DM> Yes, I would.  
>
> and so would probably almost everyone in R-core.
> We *did* think already back in the last millennium...
> and removed them for a good reason
> {IIRC, because there were always cases where they were attached
>  to the wrong expression, and we were more or less convinced,
>  there was no to do it "right" in all cases}.
>
>   
Yes. Well, there was no _obvious_ way to do it right. If someone sets 
out to do it right, we might want the result, but it is definitely not 
as easy as reinstating the 1999 code, which would do fun stuff like 
moving end-loop comments to the start of the loop (and in glm.fit, the 
end-loop comment was, and still is, "## -- end IRLS iteration --"!!). It 
requires a substantial parser rewrite.

The main issue is that  you wold need the parser to retain more 
information about the textual layout of its input, probably not only 
about the comments, but also about line breaks. If you consider 
moderately complex syntactical structures, like for loops and switch 
expressions, all the points where  you could potentially insert a 
comment or break the line, and then try to insert that information in 
the parse tree, chances are you come out utterly confused. Notice, in 
particular, that everything is ambiguous, if you have two successive 
expressions and a comment on the line in between, does it belong with 
the former or the latter expression? And what about

plot(
   x=foo, # abscissa
   y=bar  # ordinate
)


-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From jombart at biomserv.univ-lyon1.fr  Sun Apr 20 10:25:03 2008
From: jombart at biomserv.univ-lyon1.fr (Thibaut Jombart)
Date: Sun, 20 Apr 2008 10:25:03 +0200
Subject: [Rd] Fortran underscore problem persists on Linux x86/64
	(PR#11206)
In-Reply-To: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>
References: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>
Message-ID: <480AFDDF.7060905@biomserv.univ-lyon1.fr>

thomas.petzoldt at tu-dresden.de wrote:

>Full_Name: Thomas Petzoldt
>Version: R 2.8.0 devel, svn version 45389
>OS: Linux x86/64 Ubuntu 7.1
>Submission from: (NULL) (217.235.62.12)
>
>
>In contrast to all other tested operating systems a call of Fortran functions on
>Linux x86/64 requires an appended underscore.
>
>The problem occured with package deSolve
>(http://r-forge.r-project.org/projects/desolve/)
>
>
>See also:
>
>http://tolstoy.newcastle.edu.au/R/e4/devel/08/04/1224.html
>
>Relevant code snippets
>
>In R:
>
>  
>
>>getNativeSymbolInfo("iniaqua", PACKAGE = "deSolve")$address
>>    
>>
>Error in FUN("iniaqua"[[1L]], ...) :
>   no such symbol iniaqua in package deSolve
> > getNativeSymbolInfo("iniaqua_", PACKAGE = "deSolve")$address
><pointer: 0x2b5cd3aa3960>
>attr(,"class")
>[1] "NativeSymbol"
>
>
>In Aquaphy.f:
>
>     subroutine iniaqua(odeparms)
>
>      external odeparms
>      double precision pars(19)
>      common /myparms/pars
>
>       call odeparms(19, pars)
>
>      return
>      end
>
>______________________________________________
>R-devel at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-devel
>
>
>  
>
Well, thanks Thomas, I fell less alone now...
I seemingly had the same problem:

####
 > library(tripack)
 > example(tri.mesh)

tr.msh> data(tritest)

tr.msh> tritest.tr<-tri.mesh(tritest$x,tritest$y)
Erreur dans .Fortran("trmesh", as.integer(n), x = as.double(x1), y = 
as.double(y1),  :
  le nom Fortran de symbole "trmesh" est introuvable dans la DLL pour le 
package "tripack"

## (error says that "trmesh" cannot be found in the tripack DLL
## this does not happen on the same machine/OS with R.2.6.2

 > getNativeSymbolInfo("trmesh", PACKAGE = "tripack")
Erreur dans FUN("trmesh"[[1L]], ...) :
  no such symbol trmesh in package tripack

 > getNativeSymbolInfo("trmesh_", PACKAGE = "tripack")
$name
[1] "trmesh_"

$address
<pointer: 0x2aaaac271080>
attr(,"class")
[1] "NativeSymbol"

$package
DLL name: tripack
Filename: /usr/local/lib64/R-rc/library/tripack/libs/tripack.so
Dynamic lookup: TRUE

attr(,"class")
[1] "NativeSymbolInfo"

 > sessionInfo()
R version 2.7.0 RC (2008-04-15 r45347)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=fr_FR.UTF-8;LC_NUMERIC=C;LC_TIME=fr_FR.UTF-8;LC_COLLATE=fr_FR.UTF-8;LC_MONETARY=C;LC_MESSAGES=fr_FR.UTF-8;LC_PAPER=fr_FR.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=fr_FR.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] tripack_1.2-11

loaded via a namespace (and not attached):
[1] tools_2.7.0
###

Best regards,

Thibaut.

-- 
######################################
Thibaut JOMBART
CNRS UMR 5558 - Laboratoire de Biom?trie et Biologie Evolutive
Universite Lyon 1
43 bd du 11 novembre 1918
69622 Villeurbanne Cedex
T?l. : 04.72.43.29.35
Fax : 04.72.43.13.88
jombart at biomserv.univ-lyon1.fr
http://lbbe.univ-lyon1.fr/-Jombart-Thibaut-.html?lang=en
http://adegenet.r-forge.r-project.org/


From ripley at stats.ox.ac.uk  Sun Apr 20 11:34:22 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 20 Apr 2008 10:34:22 +0100 (BST)
Subject: [Rd] Fortran underscore problem persists on Linux x86/64
 (PR#11206)
In-Reply-To: <480AFDDF.7060905@biomserv.univ-lyon1.fr>
References: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>
	<480AFDDF.7060905@biomserv.univ-lyon1.fr>
Message-ID: <alpine.LFD.1.10.0804201023270.31126@gannet.stats.ox.ac.uk>

And your machine is? -- you haven't given the 'at a minimum' information 
asked for in the posting guide.

Neither example is reproducible on my Fedora 8 x86_64 systems (nor in the 
case of tripack, on CRAN's).  It will need someone with an affected system 
to debug this.  One possibility is that they are using double underscores, 
where the code does not look right to me -- but few systems do and this 
code is the same as in 2.6.2.

For the record, 'iniaqua' is a not a valid Fortran entry point, and all 
these issues will go away if you register your package's symbols.

What does nm -g report on the affected DSOs?


On Sun, 20 Apr 2008, Thibaut Jombart wrote:

> thomas.petzoldt at tu-dresden.de wrote:
>
>> Full_Name: Thomas Petzoldt
>> Version: R 2.8.0 devel, svn version 45389
>> OS: Linux x86/64 Ubuntu 7.1
>> Submission from: (NULL) (217.235.62.12)
>>
>>
>> In contrast to all other tested operating systems a call of Fortran functions on
>> Linux x86/64 requires an appended underscore.
>>
>> The problem occured with package deSolve
>> (http://r-forge.r-project.org/projects/desolve/)
>>
>>
>> See also:
>>
>> http://tolstoy.newcastle.edu.au/R/e4/devel/08/04/1224.html
>>
>> Relevant code snippets
>>
>> In R:
>>
>>
>>
>>> getNativeSymbolInfo("iniaqua", PACKAGE = "deSolve")$address
>>>
>>>
>> Error in FUN("iniaqua"[[1L]], ...) :
>>   no such symbol iniaqua in package deSolve
>>> getNativeSymbolInfo("iniaqua_", PACKAGE = "deSolve")$address
>> <pointer: 0x2b5cd3aa3960>
>> attr(,"class")
>> [1] "NativeSymbol"
>>
>>
>> In Aquaphy.f:
>>
>>     subroutine iniaqua(odeparms)
>>
>>      external odeparms
>>      double precision pars(19)
>>      common /myparms/pars
>>
>>       call odeparms(19, pars)
>>
>>      return
>>      end
>>cd //
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>>
>>
> Well, thanks Thomas, I fell less alone now...
> I seemingly had the same problem:
>
> ####
> > library(tripack)
> > example(tri.mesh)
>
> tr.msh> data(tritest)
>
> tr.msh> tritest.tr<-tri.mesh(tritest$x,tritest$y)
> Erreur dans .Fortran("trmesh", as.integer(n), x = as.double(x1), y =
> as.double(y1),  :
>  le nom Fortran de symbole "trmesh" est introuvable dans la DLL pour le
> package "tripack"
>
> ## (error says that "trmesh" cannot be found in the tripack DLL
> ## this does not happen on the same machine/OS with R.2.6.2
>
> > getNativeSymbolInfo("trmesh", PACKAGE = "tripack")
> Erreur dans FUN("trmesh"[[1L]], ...) :
>  no such symbol trmesh in package tripack
>
> > getNativeSymbolInfo("trmesh_", PACKAGE = "tripack")
> $name
> [1] "trmesh_"
>
> $address
> <pointer: 0x2aaaac271080>
> attr(,"class")
> [1] "NativeSymbol"
>
> $package
> DLL name: tripack
> Filename: /usr/local/lib64/R-rc/library/tripack/libs/tripack.so
> Dynamic lookup: TRUE
>
> attr(,"class")
> [1] "NativeSymbolInfo"
>
> > sessionInfo()
> R version 2.7.0 RC (2008-04-15 r45347)
> x86_64-unknown-linux-gnu
>
> locale:
> LC_CTYPE=fr_FR.UTF-8;LC_NUMERIC=C;LC_TIME=fr_FR.UTF-8;LC_COLLATE=fr_FR.UTF-8;LC_MONETARY=C;LC_MESSAGES=fr_FR.UTF-8;LC_PAPER=fr_FR.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=fr_FR.UTF-8;LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] tripack_1.2-11
>
> loaded via a namespace (and not attached):
> [1] tools_2.7.0
> ###
>
> Best regards,
>
> Thibaut.
>
> -- 
> ######################################
> Thibaut JOMBART
> CNRS UMR 5558 - Laboratoire de Biom?trie et Biologie Evolutive
> Universite Lyon 1
> 43 bd du 11 novembre 1918
> 69622 Villeurbanne Cedex
> T?l. : 04.72.43.29.35
> Fax : 04.72.43.13.88
> jombart at biomserv.univ-lyon1.fr
> http://lbbe.univ-lyon1.fr/-Jombart-Thibaut-.html?lang=en
> http://adegenet.r-forge.r-project.org/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From jombart at biomserv.univ-lyon1.fr  Sun Apr 20 12:40:13 2008
From: jombart at biomserv.univ-lyon1.fr (Thibaut Jombart)
Date: Sun, 20 Apr 2008 12:40:13 +0200
Subject: [Rd] Fortran underscore problem persists on Linux x86/64
	(PR#11206)
In-Reply-To: <alpine.LFD.1.10.0804201023270.31126@gannet.stats.ox.ac.uk>
References: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>
	<480AFDDF.7060905@biomserv.univ-lyon1.fr>
	<alpine.LFD.1.10.0804201023270.31126@gannet.stats.ox.ac.uk>
Message-ID: <480B1D8D.2080808@biomserv.univ-lyon1.fr>

Prof Brian Ripley wrote:

> And your machine is? -- you haven't given the 'at a minimum' 
> information asked for in the posting guide.
>
> Neither example is reproducible on my Fedora 8 x86_64 systems (nor in 
> the case of tripack, on CRAN's).  It will need someone with an 
> affected system to debug this.  One possibility is that they are using 
> double underscores, where the code does not look right to me -- but 
> few systems do and this code is the same as in 2.6.2.
>
> For the record, 'iniaqua' is a not a valid Fortran entry point, and 
> all these issues will go away if you register your package's symbols.
>
> What does nm -g report on the affected DSOs?
>
>
My mistake, I thought sessionInfo() would be enough. My system is an 
Ubuntu Dapper Drake (6.06.2 LTS, 64 bits version). R installed from the 
sources, same for the packages, using install.packages (one warning for 
tripack: an unmatched right brace in a manpage). My fortran and C 
compilers are respectively g77 and gcc:
 > g77 -dumpversion
GNU Fortran (GCC) 3.4.6 (Ubuntu 3.4.6-1ubuntu2)

 > gcc --version
gcc (GCC) 4.0.3 (Ubuntu 4.0.3-1ubuntu5)

# This may be useful:
 > ld --version
GNU ld version 2.16.91 20060118 Debian GNU/Linux

# Your request:
 > nm -g /usr/local/lib64/R-rc/library/tripack/libs/tripack.so
0000000000001f40 T addcst_
0000000000002270 T addnod_
0000000000002820 T areap_
0000000000002890 T bdyadd_
00000000000029c0 T bnodes_
0000000000001cc0 T border_
000000000010c53c A __bss_start
0000000000002a40 T circum_
0000000000002c40 T crtri_
                 w __cxa_finalize@@GLIBC_2.2.5
0000000000002cd0 T delarc_
0000000000002eb0 T delnb_
0000000000003050 T delnod_
                 U do_fio
000000000010c53c A _edata
0000000000003910 T edge_
000000000010c568 A _end
                 U e_wsfe
000000000000a6c8 T _fini
0000000000004570 T getnp_
                 w __gmon_start__
0000000000005010 T indxcc_
0000000000001740 T inhull_
00000000000014c0 T _init
0000000000005090 T insert_
00000000000050c0 T intadd_
00000000000051f0 T intsec_
0000000000005370 T jrand_
                 w _Jv_RegisterClasses
0000000000005450 T left_
0000000000005490 T lstptr_
00000000000054c0 T nbcnt_
00000000000054e0 T nearnd_
0000000000001940 T onhull_
0000000000005910 T optim_
0000000000001d10 T qsort_
000000000000a620 T rmshnb_
000000000010c550 B stcom_
0000000000005b90 T store_
0000000000005ba0 T swap_
000000000010c560 B swpcom_
0000000000005d60 T swptst_
                 U s_wsfe
0000000000005e90 T trfind_
0000000000006730 T trlist_
0000000000006be0 T trlprt_
0000000000007080 T trmesh_
00000000000076a0 T trmshr_
0000000000009d80 T troutp_
0000000000009e80 T troutq_
0000000000008190 T trplot_
00000000000097e0 T trprnt_
0000000000009fc0 T voronoi_


I can see one single difference in the compilation logs for tripack 
using R 2.6.2 vs R-rc (2008-04-15 r45347), and the same sources:
in R 2.6.2, gcc uses the option -lgcc_s to produce the shared object, 
which is not used in R-rc. Command in R 2.6.2 is:
[...]
gcc -std=gnu99 -shared -L/usr/local/lib64 -o tripack.so inhull.o qsort.o 
tr ipack.o troutp.o troutq.o voronoi.o  
-L/usr/lib/gcc/x86_64-linux-gnu/3.4.6 -lg2c -lm -lgcc_s
[...]

I hope this helps. I'd be glad to provide more details if needed.

Regards,

Thibaut.

>> > sessionInfo()
>> R version 2.7.0 RC (2008-04-15 r45347)
>> x86_64-unknown-linux-gnu
>>
>> locale:
>> LC_CTYPE=fr_FR.UTF-8;LC_NUMERIC=C;LC_TIME=fr_FR.UTF-8;LC_COLLATE=fr_FR.UTF-8;LC_MONETARY=C;LC_MESSAGES=fr_FR.UTF-8;LC_PAPER=fr_FR.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=fr_FR.UTF-8;LC_IDENTIFICATION=C 
>>
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>> [1] tripack_1.2-11
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.7.0
>> ###
>>
>> Best regards,
>>
>> Thibaut.
>
>


-- 
######################################
Thibaut JOMBART
CNRS UMR 5558 - Laboratoire de Biom?trie et Biologie Evolutive
Universite Lyon 1
43 bd du 11 novembre 1918
69622 Villeurbanne Cedex
T?l. : 04.72.43.29.35
Fax : 04.72.43.13.88
jombart at biomserv.univ-lyon1.fr
http://lbbe.univ-lyon1.fr/-Jombart-Thibaut-.html?lang=en
http://adegenet.r-forge.r-project.org/


From ripley at stats.ox.ac.uk  Sun Apr 20 13:10:49 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 20 Apr 2008 12:10:49 +0100 (BST)
Subject: [Rd] Fortran underscore problem persists on Linux x86/64
 (PR#11206)
In-Reply-To: <480B1D8D.2080808@biomserv.univ-lyon1.fr>
References: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>
	<480AFDDF.7060905@biomserv.univ-lyon1.fr>
	<alpine.LFD.1.10.0804201023270.31126@gannet.stats.ox.ac.uk>
	<480B1D8D.2080808@biomserv.univ-lyon1.fr>
Message-ID: <alpine.LFD.1.10.0804201141590.3204@auk.stats.ox.ac.uk>

On Sun, 20 Apr 2008, Thibaut Jombart wrote:

> Prof Brian Ripley wrote:
>
>> And your machine is? -- you haven't given the 'at a minimum' information 
>> asked for in the posting guide.
>> 
>> Neither example is reproducible on my Fedora 8 x86_64 systems (nor in the 
>> case of tripack, on CRAN's).  It will need someone with an affected system 
>> to debug this.  One possibility is that they are using double underscores, 
>> where the code does not look right to me -- but few systems do and this 
>> code is the same as in 2.6.2.
>> 
>> For the record, 'iniaqua' is a not a valid Fortran entry point, and all 
>> these issues will go away if you register your package's symbols.
>> 
>> What does nm -g report on the affected DSOs?
>> 
>> 
> My mistake, I thought sessionInfo() would be enough. My system is an Ubuntu 
> Dapper Drake (6.06.2 LTS, 64 bits version). R installed from the sources, 
> same for the packages, using install.packages (one warning for tripack: an 
> unmatched right brace in a manpage). My fortran and C compilers are 
> respectively g77 and gcc:
>> g77 -dumpversion
> GNU Fortran (GCC) 3.4.6 (Ubuntu 3.4.6-1ubuntu2)
>
>> gcc --version
> gcc (GCC) 4.0.3 (Ubuntu 4.0.3-1ubuntu5)

Thanks, for code-compilation problems we need that level of detail.

Your problem appears to be that you are mixing gcc4 and g77 (not 
recommended), and g77 does use extra underscores, I believe.  I have

/* Define if your Fortran compiler appends an extra_underscore to external
    names containing an underscore. */
/* #undef HAVE_F77_EXTRA_UNDERSCORE */

/* Define if your Fortran compiler appends an underscore to external 
names. */
#define HAVE_F77_UNDERSCORE 1

in src/include/config.h.  If the first of these is defined, please try 
commenting it out and rebuilding R.

I've found an old Solaris box that still has g77 on, and I can reproduce 
this there.  I will patch the sources after further testing, but altering 
src/include/config.h worked for me.

I was certainly not expecting Ubuntu 7.07 to be using g77, so we need 
the same details from Thomas Petzoldt.

BDR

> # This may be useful:
>> ld --version
> GNU ld version 2.16.91 20060118 Debian GNU/Linux
>
> # Your request:
>> nm -g /usr/local/lib64/R-rc/library/tripack/libs/tripack.so
> 0000000000001f40 T addcst_
> 0000000000002270 T addnod_
> 0000000000002820 T areap_
> 0000000000002890 T bdyadd_
> 00000000000029c0 T bnodes_
> 0000000000001cc0 T border_
> 000000000010c53c A __bss_start
> 0000000000002a40 T circum_
> 0000000000002c40 T crtri_
>                w __cxa_finalize@@GLIBC_2.2.5
> 0000000000002cd0 T delarc_
> 0000000000002eb0 T delnb_
> 0000000000003050 T delnod_
>                U do_fio
> 000000000010c53c A _edata
> 0000000000003910 T edge_
> 000000000010c568 A _end
>                U e_wsfe
> 000000000000a6c8 T _fini
> 0000000000004570 T getnp_
>                w __gmon_start__
> 0000000000005010 T indxcc_
> 0000000000001740 T inhull_
> 00000000000014c0 T _init
> 0000000000005090 T insert_
> 00000000000050c0 T intadd_
> 00000000000051f0 T intsec_
> 0000000000005370 T jrand_
>                w _Jv_RegisterClasses
> 0000000000005450 T left_
> 0000000000005490 T lstptr_
> 00000000000054c0 T nbcnt_
> 00000000000054e0 T nearnd_
> 0000000000001940 T onhull_
> 0000000000005910 T optim_
> 0000000000001d10 T qsort_
> 000000000000a620 T rmshnb_
> 000000000010c550 B stcom_
> 0000000000005b90 T store_
> 0000000000005ba0 T swap_
> 000000000010c560 B swpcom_
> 0000000000005d60 T swptst_
>                U s_wsfe
> 0000000000005e90 T trfind_
> 0000000000006730 T trlist_
> 0000000000006be0 T trlprt_
> 0000000000007080 T trmesh_
> 00000000000076a0 T trmshr_
> 0000000000009d80 T troutp_
> 0000000000009e80 T troutq_
> 0000000000008190 T trplot_
> 00000000000097e0 T trprnt_
> 0000000000009fc0 T voronoi_
>
>
> I can see one single difference in the compilation logs for tripack using R 
> 2.6.2 vs R-rc (2008-04-15 r45347), and the same sources:
> in R 2.6.2, gcc uses the option -lgcc_s to produce the shared object, which 
> is not used in R-rc. Command in R 2.6.2 is:
> [...]
> gcc -std=gnu99 -shared -L/usr/local/lib64 -o tripack.so inhull.o qsort.o tr 
> ipack.o troutp.o troutq.o voronoi.o  -L/usr/lib/gcc/x86_64-linux-gnu/3.4.6 
> -lg2c -lm -lgcc_s
> [...]
>
> I hope this helps. I'd be glad to provide more details if needed.
>
> Regards,
>
> Thibaut.
>
>>> > sessionInfo()
>>> R version 2.7.0 RC (2008-04-15 r45347)
>>> x86_64-unknown-linux-gnu
>>> 
>>> locale:
>>> LC_CTYPE=fr_FR.UTF-8;LC_NUMERIC=C;LC_TIME=fr_FR.UTF-8;LC_COLLATE=fr_FR.UTF-8;LC_MONETARY=C;LC_MESSAGES=fr_FR.UTF-8;LC_PAPER=fr_FR.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=fr_FR.UTF-8;LC_IDENTIFICATION=C 
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> other attached packages:
>>> [1] tripack_1.2-11
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] tools_2.7.0
>>> ###
>>> 
>>> Best regards,
>>> 
>>> Thibaut.
>> 
>> 
>
>
> -- 
> ######################################
> Thibaut JOMBART
> CNRS UMR 5558 - Laboratoire de Biom?trie et Biologie Evolutive
> Universite Lyon 1
> 43 bd du 11 novembre 1918
> 69622 Villeurbanne Cedex
> T?l. : 04.72.43.29.35
> Fax : 04.72.43.13.88
> jombart at biomserv.univ-lyon1.fr
> http://lbbe.univ-lyon1.fr/-Jombart-Thibaut-.html?lang=en
> http://adegenet.r-forge.r-project.org/
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From p.dalgaard at biostat.ku.dk  Sun Apr 20 13:31:50 2008
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sun, 20 Apr 2008 13:31:50 +0200
Subject: [Rd] Fortran underscore problem persists on Linux x86/64
	(PR#11206)
In-Reply-To: <alpine.LFD.1.10.0804201141590.3204@auk.stats.ox.ac.uk>
References: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>	<480AFDDF.7060905@biomserv.univ-lyon1.fr>	<alpine.LFD.1.10.0804201023270.31126@gannet.stats.ox.ac.uk>	<480B1D8D.2080808@biomserv.univ-lyon1.fr>
	<alpine.LFD.1.10.0804201141590.3204@auk.stats.ox.ac.uk>
Message-ID: <480B29A6.7000900@biostat.ku.dk>

Prof Brian Ripley wrote:
> On Sun, 20 Apr 2008, Thibaut Jombart wrote:
>
>> Prof Brian Ripley wrote:
>>
>>> And your machine is? -- you haven't given the 'at a minimum' 
>>> information asked for in the posting guide.
>>>
>>> Neither example is reproducible on my Fedora 8 x86_64 systems (nor 
>>> in the case of tripack, on CRAN's).  It will need someone with an 
>>> affected system to debug this.  One possibility is that they are 
>>> using double underscores, where the code does not look right to me 
>>> -- but few systems do and this code is the same as in 2.6.2.
>>>
>>> For the record, 'iniaqua' is a not a valid Fortran entry point, and 
>>> all these issues will go away if you register your package's symbols.
>>>
>>> What does nm -g report on the affected DSOs?
>>>
>>>
>> My mistake, I thought sessionInfo() would be enough. My system is an 
>> Ubuntu Dapper Drake (6.06.2 LTS, 64 bits version). R installed from 
>> the sources, same for the packages, using install.packages (one 
>> warning for tripack: an unmatched right brace in a manpage). My 
>> fortran and C compilers are respectively g77 and gcc:
>>> g77 -dumpversion
>> GNU Fortran (GCC) 3.4.6 (Ubuntu 3.4.6-1ubuntu2)
>>
>>> gcc --version
>> gcc (GCC) 4.0.3 (Ubuntu 4.0.3-1ubuntu5)
>
> Thanks, for code-compilation problems we need that level of detail.
>
> Your problem appears to be that you are mixing gcc4 and g77 (not 
> recommended), and g77 does use extra underscores, I believe.  I have
>
> /* Define if your Fortran compiler appends an extra_underscore to 
> external
>    names containing an underscore. */
> /* #undef HAVE_F77_EXTRA_UNDERSCORE */
>
> /* Define if your Fortran compiler appends an underscore to external 
> names. */
> #define HAVE_F77_UNDERSCORE 1
>
> in src/include/config.h.  If the first of these is defined, please try 
> commenting it out and rebuilding R.
>
> I've found an old Solaris box that still has g77 on, and I can 
> reproduce this there.  I will patch the sources after further testing, 
> but altering src/include/config.h worked for me.
>
> I was certainly not expecting Ubuntu 7.07 to be using g77, so we need 
> the same details from Thomas Petzoldt.
Is this perhaps an installation issue (missing gfortran)?

more `R RHOME`/etc/Makeconf

should tell you which compilers R itself was built with. In my 
experience, it just doesn't work to mix v.3.x and 4.x compilers (Brian 
might correct me on that though).

-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From ggrothendieck at gmail.com  Sun Apr 20 14:43:50 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 20 Apr 2008 08:43:50 -0400
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <000001c8a224$8e814ce0$ab83e6a0$@ca>
References: <000701c8a213$d693fc00$83bbf400$@ca>
	<971536df0804190609v981bf0evbf3edd8bbb626617@mail.gmail.com>
	<000001c8a224$8e814ce0$ab83e6a0$@ca>
Message-ID: <971536df0804200543g644a6cdbh266d3871da7cacbf@mail.gmail.com>

There does seem to be some general problem associated with Sweave
and graphics when I try it on my Vista system with
[1] "R version 2.7.0 RC (2008-04-17 r45367)"

Using tradeCosts-article.Rnw from the tradeCosts package:

    setwd(path.to.tradeCosts-article.Rnw)
    Sweave("tradeCosts-article.Rnw")

appears to work properly; however, if we try it from the
command line:

    R CMD Sweave tradeCosts-article.Rnw

to simulate what happens when trying to build the package it
indicates that in chunk 2 that pdf is masked from grDevices.
Then in chunk 17, when plotting is attempted the first time,
it chokes.

Maybe someone familiar with the relevant internals can explain.

I have shown chunks 1, 2 and 17 as output from Stangle,
the Rnw file up to the end of chunk 2 and the error log
from Sweave in the sections below.


-------------------------------------------------------------------------
###################################################
### chunk number 1:
###################################################
options(digits = 3, width = 60, scipen = 99)
set.seed(1)

cat.df.without.rownames <- function (d, file = ""){
  stopifnot(is.data.frame(d))
  row.names(d) <- 1:nrow(d)
  x <- NULL
  conn <- textConnection("x", "w", local = TRUE)
  capture.output(print(d), file = conn)
  close(conn)
  cat(substring(x, first = max(nchar(row.names(d))) + 2), sep = "\n",
      file = file)
}


###################################################
### chunk number 2:
###################################################
library(tradeCosts)
data(trade.mar.2007)
head(trade.mar.2007)


###################################################
### chunk number 17:
###################################################
plot(result.batched, "time.series.bps")

-------------------------------------------------------------------------


\documentclass[a4paper]{report}
\usepackage[round]{natbib}

\usepackage{Rnews}
\usepackage{fancyvrb}
\usepackage{Sweave}
\hyphenation{tradeCosts}
\hyphenation{tradeCostsResults}
\hyphenation{decision}

\DefineVerbatimEnvironment{Sinput}{Verbatim}{fontsize=\small,fontshape=sl}
\DefineVerbatimEnvironment{Soutput}{Verbatim}{fontsize=\small}
\DefineVerbatimEnvironment{Scode}{Verbatim}{fontsize=\small,fontshape=sl}

%% \SweaveOpts{prefix.string=graphics/portfolio}

\bibliographystyle{abbrvnat}

\begin{document}
\begin{article}
\title{Trade Costs}
\author{Jeff Enos, David Kane, Arjun Ravi Narayan, Aaron Schwartz,
Daniel Suo and Luyi Zhao}

%%\VignetteIndexEntry{Trade Costs}
%%\VignetteDepends{tradeCosts}

<<echo = FALSE>>=
options(digits = 3, width = 60, scipen = 99)
set.seed(1)

cat.df.without.rownames <- function (d, file = ""){
  stopifnot(is.data.frame(d))
  row.names(d) <- 1:nrow(d)
  x <- NULL
  conn <- textConnection("x", "w", local = TRUE)
  capture.output(print(d), file = conn)
  close(conn)
  cat(substring(x, first = max(nchar(row.names(d))) + 2), sep = "\n",
      file = file)
}
@

\maketitle

\setkeys{Gin}{width=0.95\textwidth}


\section*{Introduction}

Trade costs are the costs a trader must pay to implement a decision to
buy or sell a security. Consider a single trade of a single equity
security. Suppose on the evening of August 1, a trader decides to
purchase 10,000 shares of IBM at \$10, the \emph{decision price} of
the trade.  The next day, the trader's broker buys 10,000 shares in a
rising market and pays \$11 per share, the trade's \emph{execution price}.

How much did it cost to implement this trade?  In the most basic
ex-post analysis, trade costs are calculated by comparing the
execution price of a trade to a benchmark price.\footnote{For an
  in-depth discussion of both ex-ante modeling and ex-post measurement
  of trade costs, see \citet{kissell:glantz}.}  Suppose we
wished to compare the execution price to the price of the security at
the time of the decision in the above example.  Since the trader's
decision occurred at \$10 and the broker paid \$11, the cost of the
trade relative to the decision price was $\$11 - \$10 = \$1$ per
share, or \$10,000 (9.1\% of the total value of the execution).

Measuring costs relative to a trade's decision price captures costs
associated with the delay in the release of a trade into the market
and movements in price after the decision was made but before the
order is completed.  It does not, however, provide a means to
determine whether the broker's execution reflects a fair price. For
example, the price of \$11 would be a poor price if most transactions
in IBM on August 2 occurred at \$10.50.  For this purpose a better
benchmark would be the day's volume-weighted average price, or VWAP.
If VWAP on August 2 was \$10.50 and the trader used this as her
benchmark, then the trade cost would be \$0.50 per share, or \$500.

The first version of the \pkg{tradeCosts} package provides a simple
framework for calculating the cost of trades relative to a benchmark
price, such as VWAP or decision price, over multiple periods and basic
reporting and plotting facilities to analyse these costs.

\section*{Trade costs in a single period}
Suppose we want to calculate trade costs for a single period.  First,
the data required to run the analysis must be assembled into three
data frames.  A sample of each of the three types of data has been included
with the package in three data sets.

The first data frame contains all trade-specific information, a sample
of which is in the \texttt{trade.mar.2007} data frame:

<<echo=TRUE>>=
library(tradeCosts)
data(trade.mar.2007)
head(trade.mar.2007)
@

-------------------------------------------------------------------------

Here is the result of sweaving:

Writing to file tradeCosts-article.tex
Processing code chunks ...
 1 : term verbatim
 2 : echo term verbatim
Loading required package: tools

Attaching package: 'tradeCosts'


        The following object(s) are masked from package:grDevices :

         pdf

 3 : echo term verbatim
 4 : echo term verbatim
 5 : term verbatim
 6 : echo term verbatim
 7 : term verbatim
 8 : echo term verbatim
 9 : echo term verbatim
10 : term verbatim
11 : echo term verbatim
12 : term verbatim
13 : echo term verbatim
14 : term verbatim
15 : term verbatim
16 : term verbatim
17 : echo term verbatim eps pdf

Error:  chunk 17
Error in function (classes, fdef, mtable)  :
  unable to find an inherited method for function "pdf", for signature "missing"

Execution halted





> Thanks for the suggestions.
>
> John
>
>
> >
> > I also have a problem with the vignettes (note
> > there are two) but as with you this works:
> >
> > Rcmd build --no-vignettes tradeCosts
> >
> > I don't have any special environment variables set for temporary
> > directories and I use C:\Program Files\R\...
> > for R.  I use Rcmd.bat and sweave.bat from batchfiles found at:
> > http://batchfiles.googlecode.com
> > which finds R in the registry so no paths need be set.
> > I am on Vista but you seem to have SP1 which I don't
> > have yet.
> >
> > I can build other packages so there
> > is probably something that needs fixing in their vignettes.
> >
> > On Sat, Apr 19, 2008 at 7:52 AM, John Fox <jfox at mcmaster.ca> wrote:
> > > Dear list members,
> > >
> > > I've encountered the following problem trying to build a package
> > under
> > > Windows Vista (SP1). The problem occurs with both R 2.6.2 and R 2.7.0
> > RC
> > > (from which this output was produced). The package builds just fine
> > on my XP
> > > (SP2) machine. Please see some further comments below.
> > >
> > > ---------- snip -------------
> > >
> > > Microsoft Windows [Version 6.0.6001]
> > > Copyright (c) 2006 Microsoft Corporation.  All rights reserved.
> > >
> > > d:\R-packages>R CMD build tradeCosts
> > > * checking for file 'tradeCosts/DESCRIPTION' ... OK
> > > * preparing 'tradeCosts':
> > > * checking DESCRIPTION meta-information ... OK
> > > * installing the package to re-build vignettes
> > > installing R.css in
> > C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586
> > >
> > >
> > > ---------- Making package tradeCosts ------------
> > >  adding build stamp to DESCRIPTION
> > >  installing NAMESPACE file and metadata
> > > Error in file(file, "r") : unable to open connection
> > > Calls: <Anonymous> -> parseNamespaceFile -> parse -> file
> > > In addition: Warning message:
> > > In file(file, "r") :
> > >  cannot open file
> > > 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCos
> > > ts/NAMESPACE', reason 'Permission denied'
> > > Execution halted
> > > make[2]: *** [nmspace] Error 1
> > > make[1]: *** [all] Error 2
> > > make: *** [pkg-tradeCosts] Error 2
> > > *** Installation of tradeCosts failed ***
> > >
> > > Removing
> > 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCosts'
> > > * creating vignettes ... OK
> > > * removing junk files
> > > * checking for LF line-endings in source and make files
> > > * checking for empty or unneeded directories
> > > * building 'tradeCosts_0.3-0.tar.gz'
> > >
> > >
> > > d:\R-packages>
> > >
> > > ---------- snip -------------
> > >
> > > I believe that the error is related to the vignette in the package,
> > since I
> > > can build packages without a vignette. Clearly there is a file-
> > permission
> > > problem but: (1) I'm using an account with administrator privileges;
> > (2) R
> > > is installed into c:\R (and the problem persists even when I install
> > R into
> > > d:\R); (3) the problem persists when I run the command window and R
> > itself
> > > as administrator, and when I turn off account controls; (4) the
> > problems
> > > persists when I reset the environment variables temp and tmp to
> > d:\temp and
> > > set the permissions to d:\temp so that all groups and users have full
> > > control over that directory.
> > >
> > > I'm tempted to dump Vista but I've been trying to persist with it
> > since most
> > > people (e.g., my students) buying new Windows machines will be
> > getting it.
> > > Although I've read section 2.24 of the R for Windows FAQ, it's quite
> > > possible that I've missed something of relevance there.
> > >
> > > Any help would be appreciated.
> > >
> > > Thanks in advance,
> > >  John
> > >
> > > --------------------------------
> > > John Fox, Professor
> > > Department of Sociology
> > > McMaster University
> > > Hamilton, Ontario, Canada L8S 4M4
> > > 905-525-9140x23604
> > > http://socserv.mcmaster.ca/jfox
> > >
> > > ______________________________________________
> > > R-devel at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-devel
> > >
>
>


From ebonak at hotmail.com  Sun Apr 20 15:22:23 2008
From: ebonak at hotmail.com (esmail bonakdarian)
Date: Sun, 20 Apr 2008 09:22:23 -0400
Subject: [Rd] Java->R functions (or possibly C++ -> R)
Message-ID: <BAY120-W351D5931B2BC68B1F30228C3E60@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080420/68e4ea06/attachment.pl 

From jombart at biomserv.univ-lyon1.fr  Sun Apr 20 15:41:54 2008
From: jombart at biomserv.univ-lyon1.fr (Thibaut Jombart)
Date: Sun, 20 Apr 2008 15:41:54 +0200
Subject: [Rd] Fortran underscore problem persists on Linux x86/64
	(PR#11206)
In-Reply-To: <480B29A6.7000900@biostat.ku.dk>
References: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>	<480AFDDF.7060905@biomserv.univ-lyon1.fr>	<alpine.LFD.1.10.0804201023270.31126@gannet.stats.ox.ac.uk>	<480B1D8D.2080808@biomserv.univ-lyon1.fr>
	<alpine.LFD.1.10.0804201141590.3204@auk.stats.ox.ac.uk>
	<480B29A6.7000900@biostat.ku.dk>
Message-ID: <480B4822.7080502@biomserv.univ-lyon1.fr>


>>
>> Thanks, for code-compilation problems we need that level of detail.
>>
>> Your problem appears to be that you are mixing gcc4 and g77 (not 
>> recommended), and g77 does use extra underscores, I believe.  I have
>>
>> /* Define if your Fortran compiler appends an extra_underscore to 
>> external
>>    names containing an underscore. */
>> /* #undef HAVE_F77_EXTRA_UNDERSCORE */
>>
>> /* Define if your Fortran compiler appends an underscore to external 
>> names. */
>> #define HAVE_F77_UNDERSCORE 1
>>
>> in src/include/config.h.  If the first of these is defined, please 
>> try commenting it out and rebuilding R.
>>
>> I've found an old Solaris box that still has g77 on, and I can 
>> reproduce this there.  I will patch the sources after further 
>> testing, but altering src/include/config.h worked for me.
>>
>> I was certainly not expecting Ubuntu 7.07 to be using g77, so we need 
>> the same details from Thomas Petzoldt.
>
> Is this perhaps an installation issue (missing gfortran)?
>
> more `R RHOME`/etc/Makeconf
>
> should tell you which compilers R itself was built with. In my 
> experience, it just doesn't work to mix v.3.x and 4.x compilers (Brian 
> might correct me on that though).
>
Thank you, your hint worked!
I commented out the line:
#define HAVE_F77_EXTRA_UNDERSCORE 1
in the R configure script (line 28098 in R 2.7.0 RC (2008-04-15 r45347))

Contrary to what I thought previously, I have gfortran installed:
 > gfortran-4.0 --version
GNU Fortran 95 (GCC 4.0.3 (Ubuntu 4.0.3-1ubuntu5))

And here is the content of the "working" Makeconf:
############## Makeconf
# etc/Makeconf.  Generated from Makeconf.in by configure.
#
# ${R_HOME}/etc/Makeconf

include $(R_SHARE_DIR)/make/vars.mk

AR = ar
BLAS_LIBS = -L$(R_HOME)/lib$(R_ARCH) -lRblas
C_VISIBILITY = -fvisibility=hidden
CC = gcc -std=gnu99
CFLAGS = -g -O2
CPICFLAGS = -fpic
CPPFLAGS = -I/usr/local/include
CXX = g++
CXXCPP = g++ -E
CXXFLAGS = -g -O2
CXXPICFLAGS = -fpic
DYLIB_EXT = .so
DYLIB_LD = gcc -std=gnu99
DYLIB_LDFLAGS = -shared
DYLIB_LINK = $(DYLIB_LD) $(DYLIB_LDFLAGS) $(LDFLAGS)
ECHO = echo
ECHO_C =
ECHO_N = -n
ECHO_T =
F77 = g77
F77_VISIBILITY =
FC = g77
FCFLAGS = -g -O2
FFLAGS = -g -O2
FLIBS =  -L/usr/lib/gcc/x86_64-linux-gnu/3.4.6 -lg2c -lm
FCPICFLAGS = -fpic
FPICFLAGS = -fpic
FOUNDATION_CPPFLAGS =
FOUNDATION_LIBS =
JAR = /usr/bin/jar
JAVA = /usr/local/jre/bin/java
JAVAC =
JAVAH =
JAVA_HOME = /usr/local/jre1.5.0_07
JAVA_LD_LIBRARY_PATH = 
$(JAVA_HOME)/lib/amd64/server:$(JAVA_HOME)/lib/amd64:$(JAVA_HOME)/../lib/amd64:/usr/local/lib64
JAVA_LIBS = -L$(JAVA_HOME)/lib/amd64/server -L$(JAVA_HOME)/lib/amd64 
-L$(JAVA_HOME)/../lib/amd64 -L/usr/local/lib64 -ljvm
JAVA_CPPFLAGS = ~autodetect~
LAPACK_LIBS = -L$(R_HOME)/lib$(R_ARCH) -lRlapack
## we only need this is if it is external, as otherwise link to R
LIBINTL=
LIBM = -lm
LIBR =
LIBS =  -ldl -lm
## needed by R CMD config
LIBnn = lib64
LIBTOOL = $(SHELL) $(R_HOME)/bin/libtool
LDFLAGS = -L/usr/local/lib64
## needed to build applications linking to static libR
MAIN_LD = gcc -std=gnu99
MAIN_LDFLAGS = -Wl,--export-dynamic
MAIN_LINK = $(MAIN_LD) $(MAIN_LDFLAGS) $(LDFLAGS)
OBJC =
OBJCFLAGS =
OBJC_LIBS =
OBJCXX =
R_ARCH =
RANLIB = ranlib
SAFE_FFLAGS = -g -O2 -ffloat-store
SED = /bin/sed
SHELL = /bin/sh
SHLIB_CFLAGS =
SHLIB_CXXFLAGS =
SHLIB_CXXLD = g++
SHLIB_CXXLDFLAGS = -shared
SHLIB_EXT = .so
SHLIB_FCLD = g77
SHLIB_FCLDFLAGS = -shared
SHLIB_FFLAGS =
SHLIB_LD = gcc -std=gnu99
SHLIB_LDFLAGS = -shared
SHLIB_LIBADD =
SHLIB_LINK = $(SHLIB_LD) $(SHLIB_LDFLAGS) $(LDFLAGS)
STRIP_LIBS = strip --strip-unneeded
STRIP_STATIC_LIBS = strip --strip-debug
TCLTK_CPPFLAGS = -I/usr/include/tcl8.4
TCLTK_LIBS = -L/usr/lib -ltcl8.4 -L/usr/lib -ltk8.4 -lX11

## for linking to libR.a
STATIC_LIBR = # $(R_HOME)/lib$(R_ARCH)/libR.a $(BLAS_LIBS) $(FLIBS)  
$(LIBINTL) -lreadline  $(LIBS)


R_XTRA_CFLAGS =
R_XTRA_CPPFLAGS =  -I$(R_INCLUDE_DIR)
R_XTRA_CXXFLAGS =
R_XTRA_FFLAGS =

ALL_CFLAGS = $(R_XTRA_CFLAGS) $(PKG_CFLAGS) $(CPICFLAGS) $(SHLIB_CFLAGS) 
$(CFLAGS)
ALL_CPPFLAGS = $(R_XTRA_CPPFLAGS) $(PKG_CPPFLAGS) $(CPPFLAGS) 
$(CLINK_CPPFLAGS)
ALL_CXXFLAGS = $(R_XTRA_CXXFLAGS) $(PKG_CXXFLAGS) $(CXXPICFLAGS) 
$(SHLIB_CXXFLAGS) $(CXXFLAGS)
ALL_OBJCFLAGS = $(PKG_OBJCFLAGS) $(CPICFLAGS) $(SHLIB_CFLAGS) $(OBJCFLAGS)
ALL_OBJCXXFLAGS = $(PKG_OBJCXXFLAGS) $(CXXPICFLAGS) $(SHLIB_CXXFLAGS) 
$(OBJCXXFLAGS)
ALL_FFLAGS = $(R_XTRA_FFLAGS) $(PKG_FFLAGS) $(FPICFLAGS) $(SHLIB_FFLAGS) 
$(FFLAGS)
ALL_LIBS = $(PKG_LIBS) $(SHLIB_LIBADD) $(LIBR)# $(LIBINTL)

.SUFFIXES:
.SUFFIXES: .c .cc .cpp .C .d .f .f90 .f95 .m .mm .M .o

.c.o:
        $(CC) $(ALL_CPPFLAGS) $(ALL_CFLAGS) -c $< -o $@
.c.d:
        @echo "making $@ from $<"
        @gcc -std=gnu99 -MM $(ALL_CPPFLAGS) $< > $@
.m.d:
        @echo > $@
.cc.o:
        $(CXX) $(ALL_CPPFLAGS) $(ALL_CXXFLAGS) -c $< -o $@
.cpp.o:
        $(CXX) $(ALL_CPPFLAGS) $(ALL_CXXFLAGS) -c $< -o $@
.C.o:
        $(CXX) $(ALL_CPPFLAGS) $(ALL_CXXFLAGS) -c $< -o $@
.cc.d:
        @echo "making $@ from $<"
        @$(CXX) -M $(ALL_CPPFLAGS) $< > $@
.cpp.d:
        @echo "making $@ from $<"
        @$(CXX) -M $(ALL_CPPFLAGS) $< > $@
.C.d:
        @echo "making $@ from $<"
        @$(CXX) -M $(ALL_CPPFLAGS) $< > $@
.m.o:
        $(OBJC) $(ALL_CPPFLAGS) $(ALL_OBJCFLAGS) -c $< -o $@
.mm.o:
        $(OBJCXX) $(ALL_CPPFLAGS) $(ALL_OBJCXXFLAGS) -c $< -o $@
.M.o:
        $(OBJCXX) $(ALL_CPPFLAGS) $(ALL_OBJCXXFLAGS) -c $< -o $@
.f.o:
        $(F77) $(ALL_FFLAGS) -c $< -o $@
.f95.o:
        $(FC) $(PKG_FCFLAGS) $(FCPICFLAGS) $(FCFLAGS) -c  $< -o $@
.f90.o:
        $(FC) $(PKG_FCFLAGS) $(FCPICFLAGS) $(FCFLAGS) -c  $< -o $@
################# end Makeconf

Not surprisingly, this also fixed the issue with deSolve:
 > library(deSolve)
 > getNativeSymbolInfo("iniaqua", PACKAGE = "deSolve")$address
<pointer: 0x2aaaaeb3c4d0>
attr(,"class")
[1] "NativeSymbol"


Best regards,

Thibaut.

-- 
######################################
Thibaut JOMBART
CNRS UMR 5558 - Laboratoire de Biom?trie et Biologie Evolutive
Universite Lyon 1
43 bd du 11 novembre 1918
69622 Villeurbanne Cedex
T?l. : 04.72.43.29.35
Fax : 04.72.43.13.88
jombart at biomserv.univ-lyon1.fr
http://lbbe.univ-lyon1.fr/-Jombart-Thibaut-.html?lang=en
http://adegenet.r-forge.r-project.org/


From edd at debian.org  Sun Apr 20 16:19:07 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 20 Apr 2008 09:19:07 -0500
Subject: [Rd] Java->R functions (or possibly C++ -> R)
In-Reply-To: <BAY120-W351D5931B2BC68B1F30228C3E60@phx.gbl>
References: <BAY120-W351D5931B2BC68B1F30228C3E60@phx.gbl>
Message-ID: <18443.20699.833288.298896@ron.nulle.part>


On 20 April 2008 at 09:22, esmail bonakdarian wrote:
| I am trying to implement a simple Genetic Algorithm using some of the
| functions of R (such as lm). I am a total newbie with regard to R, but
| not programming or GAs.

Genetic algorithms / evolutionary computing _are_ already available via CRAN,
see eg rgenoud and DEoptim.  Wrapping existing ones is also fairly easy; I am
sometimes use PGAPack from R at work (using non-released code).

As for Jave, as I understand it, rjava is _the_ common interface. 

I prefer C++ and use RCpp (now on r-forge.r-project.org) and there are
parallel discussions going on regarding Swig.

| PS:Does anyone know how to do an effective search for R in google (or
|    other search engines). The fact that this is a single letters seems

i)  Use the dedicated front-ends to searching as eg RSiteSearch("foo") from
    within R, or

ii) combine your search terms with terms like 'r-help' or 'r-devel'

| PPS: I there a USENET group dedicated to R?

There are several lists/usenet gateways like eg gmane. See the R FAQ/

Dirk

-- 
Three out of two people have difficulties with fractions.


From murdoch at stats.uwo.ca  Sun Apr 20 16:52:13 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 20 Apr 2008 10:52:13 -0400
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <971536df0804200543g644a6cdbh266d3871da7cacbf@mail.gmail.com>
References: <000701c8a213$d693fc00$83bbf400$@ca>	<971536df0804190609v981bf0evbf3edd8bbb626617@mail.gmail.com>	<000001c8a224$8e814ce0$ab83e6a0$@ca>
	<971536df0804200543g644a6cdbh266d3871da7cacbf@mail.gmail.com>
Message-ID: <480B589D.9010700@stats.uwo.ca>

On 20/04/2008 8:43 AM, Gabor Grothendieck wrote:
> There does seem to be some general problem associated with Sweave
> and graphics when I try it on my Vista system with
> [1] "R version 2.7.0 RC (2008-04-17 r45367)"
> 
> Using tradeCosts-article.Rnw from the tradeCosts package:
> 
>     setwd(path.to.tradeCosts-article.Rnw)
>     Sweave("tradeCosts-article.Rnw")
> 
> appears to work properly; however, if we try it from the
> command line:
> 
>     R CMD Sweave tradeCosts-article.Rnw
> 
> to simulate what happens when trying to build the package it
> indicates that in chunk 2 that pdf is masked from grDevices.

tradeCosts has its own pdf(), which is an S4 generic.  Once you have 
attached that package, the regular pdf() device driver is hidden.  So it 
looks as though running Sweave from the R console does the search in the 
intended way, but running it from R CMD Sweave finds the tradeCosts 
version of pdf() instead of the standard one.  I don't see why there's 
any difference here, but utils (where Sweave lives) doesn't state that 
it depends on grDevices (which is where the standard pdf() comes from).
However, fixing this is not enough to fix the error.

I see that tradeCosts doesn't declare any dependency on grDevices; 
fixing that also doesn't fix the problem.

When tradeCosts creates the S4 generic for pdf(), it uses a signature 
that is inconsistent with the standard one; that might be the problem. 
However, I don't see how to fix it.  The docs for setGeneric suggest 
simply using

  setGeneric("pdf")

but that doesn't work:

Loading required package: grDevices
Loading required package: graphics
Loading required package: stats
Loading required package: tools
Error in setGeneric("pdf") :
   must supply a function skeleton, explicitly or via an existing function

I don't know why setGeneric can't see pdf() in grDevices.  I think John 
Chambers is offline for a while, so this will likely have to wait.

Duncan Murdoch



> Then in chunk 17, when plotting is attempted the first time,
> it chokes.
> 
> Maybe someone familiar with the relevant internals can explain.
> 
> I have shown chunks 1, 2 and 17 as output from Stangle,
> the Rnw file up to the end of chunk 2 and the error log
> from Sweave in the sections below.
> 
> 
> -------------------------------------------------------------------------
> ###################################################
> ### chunk number 1:
> ###################################################
> options(digits = 3, width = 60, scipen = 99)
> set.seed(1)
> 
> cat.df.without.rownames <- function (d, file = ""){
>   stopifnot(is.data.frame(d))
>   row.names(d) <- 1:nrow(d)
>   x <- NULL
>   conn <- textConnection("x", "w", local = TRUE)
>   capture.output(print(d), file = conn)
>   close(conn)
>   cat(substring(x, first = max(nchar(row.names(d))) + 2), sep = "\n",
>       file = file)
> }
> 
> 
> ###################################################
> ### chunk number 2:
> ###################################################
> library(tradeCosts)
> data(trade.mar.2007)
> head(trade.mar.2007)
> 
> 
> ###################################################
> ### chunk number 17:
> ###################################################
> plot(result.batched, "time.series.bps")
> 
> -------------------------------------------------------------------------
> 
> 
> \documentclass[a4paper]{report}
> \usepackage[round]{natbib}
> 
> \usepackage{Rnews}
> \usepackage{fancyvrb}
> \usepackage{Sweave}
> \hyphenation{tradeCosts}
> \hyphenation{tradeCostsResults}
> \hyphenation{decision}
> 
> \DefineVerbatimEnvironment{Sinput}{Verbatim}{fontsize=\small,fontshape=sl}
> \DefineVerbatimEnvironment{Soutput}{Verbatim}{fontsize=\small}
> \DefineVerbatimEnvironment{Scode}{Verbatim}{fontsize=\small,fontshape=sl}
> 
> %% \SweaveOpts{prefix.string=graphics/portfolio}
> 
> \bibliographystyle{abbrvnat}
> 
> \begin{document}
> \begin{article}
> \title{Trade Costs}
> \author{Jeff Enos, David Kane, Arjun Ravi Narayan, Aaron Schwartz,
> Daniel Suo and Luyi Zhao}
> 
> %%\VignetteIndexEntry{Trade Costs}
> %%\VignetteDepends{tradeCosts}
> 
> <<echo = FALSE>>=
> options(digits = 3, width = 60, scipen = 99)
> set.seed(1)
> 
> cat.df.without.rownames <- function (d, file = ""){
>   stopifnot(is.data.frame(d))
>   row.names(d) <- 1:nrow(d)
>   x <- NULL
>   conn <- textConnection("x", "w", local = TRUE)
>   capture.output(print(d), file = conn)
>   close(conn)
>   cat(substring(x, first = max(nchar(row.names(d))) + 2), sep = "\n",
>       file = file)
> }
> @
> 
> \maketitle
> 
> \setkeys{Gin}{width=0.95\textwidth}
> 
> 
> \section*{Introduction}
> 
> Trade costs are the costs a trader must pay to implement a decision to
> buy or sell a security. Consider a single trade of a single equity
> security. Suppose on the evening of August 1, a trader decides to
> purchase 10,000 shares of IBM at \$10, the \emph{decision price} of
> the trade.  The next day, the trader's broker buys 10,000 shares in a
> rising market and pays \$11 per share, the trade's \emph{execution price}.
> 
> How much did it cost to implement this trade?  In the most basic
> ex-post analysis, trade costs are calculated by comparing the
> execution price of a trade to a benchmark price.\footnote{For an
>   in-depth discussion of both ex-ante modeling and ex-post measurement
>   of trade costs, see \citet{kissell:glantz}.}  Suppose we
> wished to compare the execution price to the price of the security at
> the time of the decision in the above example.  Since the trader's
> decision occurred at \$10 and the broker paid \$11, the cost of the
> trade relative to the decision price was $\$11 - \$10 = \$1$ per
> share, or \$10,000 (9.1\% of the total value of the execution).
> 
> Measuring costs relative to a trade's decision price captures costs
> associated with the delay in the release of a trade into the market
> and movements in price after the decision was made but before the
> order is completed.  It does not, however, provide a means to
> determine whether the broker's execution reflects a fair price. For
> example, the price of \$11 would be a poor price if most transactions
> in IBM on August 2 occurred at \$10.50.  For this purpose a better
> benchmark would be the day's volume-weighted average price, or VWAP.
> If VWAP on August 2 was \$10.50 and the trader used this as her
> benchmark, then the trade cost would be \$0.50 per share, or \$500.
> 
> The first version of the \pkg{tradeCosts} package provides a simple
> framework for calculating the cost of trades relative to a benchmark
> price, such as VWAP or decision price, over multiple periods and basic
> reporting and plotting facilities to analyse these costs.
> 
> \section*{Trade costs in a single period}
> Suppose we want to calculate trade costs for a single period.  First,
> the data required to run the analysis must be assembled into three
> data frames.  A sample of each of the three types of data has been included
> with the package in three data sets.
> 
> The first data frame contains all trade-specific information, a sample
> of which is in the \texttt{trade.mar.2007} data frame:
> 
> <<echo=TRUE>>=
> library(tradeCosts)
> data(trade.mar.2007)
> head(trade.mar.2007)
> @
> 
> -------------------------------------------------------------------------
> 
> Here is the result of sweaving:
> 
> Writing to file tradeCosts-article.tex
> Processing code chunks ...
>  1 : term verbatim
>  2 : echo term verbatim
> Loading required package: tools
> 
> Attaching package: 'tradeCosts'
> 
> 
>         The following object(s) are masked from package:grDevices :
> 
>          pdf
> 
>  3 : echo term verbatim
>  4 : echo term verbatim
>  5 : term verbatim
>  6 : echo term verbatim
>  7 : term verbatim
>  8 : echo term verbatim
>  9 : echo term verbatim
> 10 : term verbatim
> 11 : echo term verbatim
> 12 : term verbatim
> 13 : echo term verbatim
> 14 : term verbatim
> 15 : term verbatim
> 16 : term verbatim
> 17 : echo term verbatim eps pdf
> 
> Error:  chunk 17
> Error in function (classes, fdef, mtable)  :
>   unable to find an inherited method for function "pdf", for signature "missing"
> 
> Execution halted
> 
> 
> 
> 
> 
>> Thanks for the suggestions.
>>
>> John
>>
>>
>>> I also have a problem with the vignettes (note
>>> there are two) but as with you this works:
>>>
>>> Rcmd build --no-vignettes tradeCosts
>>>
>>> I don't have any special environment variables set for temporary
>>> directories and I use C:\Program Files\R\...
>>> for R.  I use Rcmd.bat and sweave.bat from batchfiles found at:
>>> http://batchfiles.googlecode.com
>>> which finds R in the registry so no paths need be set.
>>> I am on Vista but you seem to have SP1 which I don't
>>> have yet.
>>>
>>> I can build other packages so there
>>> is probably something that needs fixing in their vignettes.
>>>
>>> On Sat, Apr 19, 2008 at 7:52 AM, John Fox <jfox at mcmaster.ca> wrote:
>>>> Dear list members,
>>>>
>>>> I've encountered the following problem trying to build a package
>>> under
>>>> Windows Vista (SP1). The problem occurs with both R 2.6.2 and R 2.7.0
>>> RC
>>>> (from which this output was produced). The package builds just fine
>>> on my XP
>>>> (SP2) machine. Please see some further comments below.
>>>>
>>>> ---------- snip -------------
>>>>
>>>> Microsoft Windows [Version 6.0.6001]
>>>> Copyright (c) 2006 Microsoft Corporation.  All rights reserved.
>>>>
>>>> d:\R-packages>R CMD build tradeCosts
>>>> * checking for file 'tradeCosts/DESCRIPTION' ... OK
>>>> * preparing 'tradeCosts':
>>>> * checking DESCRIPTION meta-information ... OK
>>>> * installing the package to re-build vignettes
>>>> installing R.css in
>>> C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586
>>>>
>>>> ---------- Making package tradeCosts ------------
>>>>  adding build stamp to DESCRIPTION
>>>>  installing NAMESPACE file and metadata
>>>> Error in file(file, "r") : unable to open connection
>>>> Calls: <Anonymous> -> parseNamespaceFile -> parse -> file
>>>> In addition: Warning message:
>>>> In file(file, "r") :
>>>>  cannot open file
>>>> 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCos
>>>> ts/NAMESPACE', reason 'Permission denied'
>>>> Execution halted
>>>> make[2]: *** [nmspace] Error 1
>>>> make[1]: *** [all] Error 2
>>>> make: *** [pkg-tradeCosts] Error 2
>>>> *** Installation of tradeCosts failed ***
>>>>
>>>> Removing
>>> 'C:/Users/JOHNFO~1/AppData/Local/Temp/Rinst602447586/tradeCosts'
>>>> * creating vignettes ... OK
>>>> * removing junk files
>>>> * checking for LF line-endings in source and make files
>>>> * checking for empty or unneeded directories
>>>> * building 'tradeCosts_0.3-0.tar.gz'
>>>>
>>>>
>>>> d:\R-packages>
>>>>
>>>> ---------- snip -------------
>>>>
>>>> I believe that the error is related to the vignette in the package,
>>> since I
>>>> can build packages without a vignette. Clearly there is a file-
>>> permission
>>>> problem but: (1) I'm using an account with administrator privileges;
>>> (2) R
>>>> is installed into c:\R (and the problem persists even when I install
>>> R into
>>>> d:\R); (3) the problem persists when I run the command window and R
>>> itself
>>>> as administrator, and when I turn off account controls; (4) the
>>> problems
>>>> persists when I reset the environment variables temp and tmp to
>>> d:\temp and
>>>> set the permissions to d:\temp so that all groups and users have full
>>>> control over that directory.
>>>>
>>>> I'm tempted to dump Vista but I've been trying to persist with it
>>> since most
>>>> people (e.g., my students) buying new Windows machines will be
>>> getting it.
>>>> Although I've read section 2.24 of the R for Windows FAQ, it's quite
>>>> possible that I've missed something of relevance there.
>>>>
>>>> Any help would be appreciated.
>>>>
>>>> Thanks in advance,
>>>>  John
>>>>
>>>> --------------------------------
>>>> John Fox, Professor
>>>> Department of Sociology
>>>> McMaster University
>>>> Hamilton, Ontario, Canada L8S 4M4
>>>> 905-525-9140x23604
>>>> http://socserv.mcmaster.ca/jfox
>>>>
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ebonak at hotmail.com  Sun Apr 20 17:11:20 2008
From: ebonak at hotmail.com (esmail bonakdarian)
Date: Sun, 20 Apr 2008 11:11:20 -0400
Subject: [Rd] Java->R functions (or possibly C++ -> R)
In-Reply-To: <18443.20699.833288.298896@ron.nulle.part>
References: <BAY120-W351D5931B2BC68B1F30228C3E60@phx.gbl>
	<18443.20699.833288.298896@ron.nulle.part>
Message-ID: <BAY120-W26018D0F62ED9B11973309C3E60@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080420/08338d95/attachment.pl 

From Thomas.Petzoldt at TU-Dresden.de  Sun Apr 20 18:22:14 2008
From: Thomas.Petzoldt at TU-Dresden.de (Thomas Petzoldt)
Date: Sun, 20 Apr 2008 18:22:14 +0200
Subject: [Rd] Fortran underscore problem persists on Linux x86/64
	(PR#11206)
In-Reply-To: <alpine.LFD.1.10.0804201141590.3204@auk.stats.ox.ac.uk>
References: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>
	<480AFDDF.7060905@biomserv.univ-lyon1.fr>
	<alpine.LFD.1.10.0804201023270.31126@gannet.stats.ox.ac.uk>
	<480B1D8D.2080808@biomserv.univ-lyon1.fr>
	<alpine.LFD.1.10.0804201141590.3204@auk.stats.ox.ac.uk>
Message-ID: <480B6DB6.5000107@TU-Dresden.de>

Dear Prof. Ripley,

thank you very much for correcting the treatment of 'extra underscore' 
that in fact solved our problem with the Fortran interface on my Ubuntu 
  7.1 x86/64, even with g77 3.4.6. I accidentally installed g77 instead 
of gfortran (4.x), sorry for my limited knowledge about that. Is it 
still necessary to provide detailed information about all involved 
compilers and symbol tables?


Thomas Petzoldt


-- 
Thomas Petzoldt
Technische Universitaet Dresden
Institut fuer Hydrobiologie        thomas.petzoldt at tu-dresden.de
01062 Dresden                      http://tu-dresden.de/hydrobiologie/
GERMANY


From ripley at stats.ox.ac.uk  Sun Apr 20 18:26:17 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 20 Apr 2008 17:26:17 +0100 (BST)
Subject: [Rd] Fortran underscore problem persists on Linux x86/64
 (PR#11206)
In-Reply-To: <480B6DB6.5000107@TU-Dresden.de>
References: <20080419181513.6E73D2834154@mail.pubhealth.ku.dk>
	<480AFDDF.7060905@biomserv.univ-lyon1.fr>
	<alpine.LFD.1.10.0804201023270.31126@gannet.stats.ox.ac.uk>
	<480B1D8D.2080808@biomserv.univ-lyon1.fr>
	<alpine.LFD.1.10.0804201141590.3204@auk.stats.ox.ac.uk>
	<480B6DB6.5000107@TU-Dresden.de>
Message-ID: <alpine.LFD.1.10.0804201723440.10970@auk.stats.ox.ac.uk>

On Sun, 20 Apr 2008, Thomas Petzoldt wrote:

> Dear Prof. Ripley,
>
> thank you very much for correcting the treatment of 'extra underscore' that 
> in fact solved our problem with the Fortran interface on my Ubuntu  7.1 
> x86/64, even with g77 3.4.6. I accidentally installed g77 instead of gfortran 
> (4.x), sorry for my limited knowledge about that. Is it still necessary to 
> provide detailed information about all involved compilers and symbol tables?

Not if the problem is solved, thank you.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Sun Apr 20 19:21:56 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 20 Apr 2008 18:21:56 +0100 (BST)
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <480B589D.9010700@stats.uwo.ca>
References: <000701c8a213$d693fc00$83bbf400$@ca>
	<971536df0804190609v981bf0evbf3edd8bbb626617@mail.gmail.com>
	<000001c8a224$8e814ce0$ab83e6a0$@ca>
	<971536df0804200543g644a6cdbh266d3871da7cacbf@mail.gmail.com>
	<480B589D.9010700@stats.uwo.ca>
Message-ID: <alpine.LFD.1.10.0804201755500.10970@auk.stats.ox.ac.uk>

On Sun, 20 Apr 2008, Duncan Murdoch wrote:

> On 20/04/2008 8:43 AM, Gabor Grothendieck wrote:
>> There does seem to be some general problem associated with Sweave
>> and graphics when I try it on my Vista system with
>> [1] "R version 2.7.0 RC (2008-04-17 r45367)"

There is no evidence whatsoever of 'some general problem', and it is quite 
specific to that package.  We've tested all the CRAN and BioC packages 
with vignettes, and accounted for all the errors.

>> Using tradeCosts-article.Rnw from the tradeCosts package:
>>
>>     setwd(path.to.tradeCosts-article.Rnw)
>>     Sweave("tradeCosts-article.Rnw")
>>
>> appears to work properly; however, if we try it from the
>> command line:
>>
>>     R CMD Sweave tradeCosts-article.Rnw
>>
>> to simulate what happens when trying to build the package it
>> indicates that in chunk 2 that pdf is masked from grDevices.
>
> tradeCosts has its own pdf(), which is an S4 generic.  Once you have
> attached that package, the regular pdf() device driver is hidden.  So it
> looks as though running Sweave from the R console does the search in the
> intended way, but running it from R CMD Sweave finds the tradeCosts
> version of pdf() instead of the standard one.

Sweave does call grDevices::pdf explicitly.  But that's not the issue as

R --slave < tradeCosts-article.R

also fails at

Calls: plot ... barplot -> barplot.default -> par -> pdf -> <Anonymous>

So the issue is that pdf() is getting called because no device has been 
opened, and "pdf" is the default device.  That seems quite reasonable to 
me: if you create a function "pdf" high on the path it indicates that you 
want that to be the default device.  (And the default device is used.)

If you want grDevices::pdf to be the default device, that is what you need 
to specify (as written).

The solution is to open a device explicitly in the vignette, e.g. call
dev.new() before library(tradeCosts).

> I don't see why there's any difference here,

batch vs interactive.

> but utils (where Sweave lives) doesn't state that it depends on 
> grDevices (which is where the standard pdf() comes from). However, 
> fixing this is not enough to fix the error.

(That's intentional, as is the use of grDevices::pdf.)


> I see that tradeCosts doesn't declare any dependency on grDevices;
> fixing that also doesn't fix the problem.
>
> When tradeCosts creates the S4 generic for pdf(), it uses a signature
> that is inconsistent with the standard one; that might be the problem.
> However, I don't see how to fix it.  The docs for setGeneric suggest
> simply using
>
>  setGeneric("pdf")
>
> but that doesn't work:
>
> Loading required package: grDevices
> Loading required package: graphics
> Loading required package: stats
> Loading required package: tools
> Error in setGeneric("pdf") :
>   must supply a function skeleton, explicitly or via an existing function
>
> I don't know why setGeneric can't see pdf() in grDevices.  I think John
> Chambers is offline for a while, so this will likely have to wait.

If you did this in the package, that code is run without importing 
grDevices.  If you do, it has a different complaint (that the signatures 
differ).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From duncan at wald.ucdavis.edu  Sun Apr 20 21:42:41 2008
From: duncan at wald.ucdavis.edu (Duncan Temple Lang)
Date: Mon, 21 Apr 2008 07:42:41 +1200
Subject: [Rd] swig 1.3.35 & R - is the R wrapper still maintained and of
 interest?
In-Reply-To: <18442.22805.141892.154960@ron.nulle.part>
References: <1208515782.11561.27.camel@localhost>	<509e0620804181208h134706b2r58cdd0307d840dcb@mail.gmail.com>	<480A2F66.1080205@wald.ucdavis.edu>
	<18442.22805.141892.154960@ron.nulle.part>
Message-ID: <480B9CB1.5070307@wald.ucdavis.edu>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1



Dirk Eddelbuettel wrote:
| Duncan,
|
| On 20 April 2008 at 05:44, Duncan Temple Lang wrote:
| | ~  I've waited to see if there would be posts from others, but am
| | a little surprised to see only your two.  It would seem people aren't
| | using SWIG for R and I wonder why this community hasn't used or wanted
|
| AFAICT it is a classic chicken and egg problem.
|
| "Something" exists, but is not exactly mature, been used mostly just for a
| very large and rapidly changing codebase (ie Quantlib, which should stabilise
| after the 1.0 release 'real soon now') with moderate success and hence
| doesn't get off the ground for more.

I concur fully. And while it is reasonable for people to wait until there are good examples and a
working tool, it would be helpful if people would express a sense of interest for such potential
projects.  We have built too many "good" things that people haven't used, and it would be
good to evaluate this before committing too much time into them. In the case of something like
interface generators, the idea is well known, so people could express an interest in the concept
without too much learning being necessary.
Indeed, I recall in 2001 asking why people hadn't cried out for SWIG facilities for R
and I got at least one blank look :-)



|
| | such tools?  Do we not have a need for them, or are we not aware of them, ...?
| | or
|
| My conjecture is that it would take off rather forcefully if only there were
| one or two use cases for moderately-sized well-known libraries, providing
| both use cases and usage templates.

I'm working on that for wxWidgets and Qt at the moment.
And I have some for smaller codebases.

|
| | ~  So what to do?  Firstly, I don't get that crash on load on my Linux
| | box.  So we would have to investigate further, but at least it does work
| | somewhere.  And such extreme failures are actually less worrying than the
| | potential lack of functionality in the bindings.
| |
| | ~  Soeren has already been in touch with me and indeed the
| | code in the SWIG distribution comes origially from the RSWIG source on the
| | omegahat repository. Unfortunately, the person who took that code
| | and put into the SWIG distribution did by himself and didn't seem
| | to want to work together to improve it add get it beyond the experimental state
| | it was in.  Futher, he apparently listed me as the contributor,
| | but haven't communicated at all with the SWIG developers and so I do not have
|
| I think that is not true. Joe Wang had me CCed on a few email he had with the
| Swig maintainers. He either has or had write access to the Swig repo, and
| that seems to make sense as he was, afaik, the only one showing up there.  Or
| did you ever offer your code for inclusion there?

Well, we are talking about different things. I know Joe had SWIG svn access.
I didn't get the opportunity to discuss how to include my code as Joe included
it before I was ready to make it public in that way given its experimental nature.
Adding it implies some sense of maintenance obligation, potential back compatability,
etc. and that is why it is not particularly helpful to take a project somebody is actively working
on and make decisions about it without that person's approval. It is "water under the bridge",
but helpful to learn from.

|
| But all that is spilled milk now.  Soeren has an _actual_ issue _right now_
| so what can we do to get a proven tool (ie Swig) working and integrated with
| R for him to get his work done and R and Shogun integrated ?

One "issue" whether Soeren or anyone else needs the R interface
"immediately" or  whether this would be just a nice thing to have.
Again, chicken and egg, but given the limited amount of time available
of people who know how to do this "properly", whether a stop-gap solution
or whether we can do it properly over a period of time.

It is complex to create the general mechanism for SWIG code generation that covers C and C++
and handles important aspects.  I _might_ be able to get to it
in late summer, but I cannot guarantee it. Once I finish the approach that leverages
GCC, then I should have at least all the issues resolved with how I think the mapping
should generate the code. That should simplify implementing the map in Perl.

I would be very keen to chat with people who are interested in helping or have
examples to try out and are willing to withstand the volatility of development
versions.




|
| | access to the SWIG repository and cannot change the code.
| | So we have a little bit of a problem that might have been better dealt with if
| | code had continued to be developed outside of SWIG by the R community.
| |
| | ~ If there is nobody interested in using SWIG in R, then there is little point
| | in fixing it.  I have been working on an alternative way to generate bindings using
| | output from GCC (gcc & g++) and exploring how the bindings should work
|
| Sure, that is very well for you as a research project,
~ Thanks!
| but Swig is there, is
| rather mature, understood and widel y used -- just not as much with R as it
| could be.  IMHO we'd better off focussing on getting Swig working.

I have little doubt that it would be nice to have the RSWIG mechanism functional.
SWIG is excellent. That's why I did the work back in 2005.
However, SWIG does not do everything that we would like it to do, or necessarily do it properly.
We can make things "easier" and better and that is why Michael (Lawrence) and I are exploring
other approaches.  And there is not likely to be one single all-encompassing answer.

And the claim that it is it well understood requires some qualification. There are not many people
who know more than the basics
of the SWIG-specific language used to customize and control the code generation.
And as for widely used - so is MS Windows* :-)
And the idea that "because something is mature and understood and widely used"
is a very worrying attitude that I am seeing more and more with R. Yes, we need usable,
useful things. But we have to continue to innovate or fall further and further behind.

|
| | generally.  Most of the ideas I think would be able to go back into SWIG
| | and that _might_ be an easier tool for people to use who don't want more control
| | over the code generation or to do analysis on the code itself.
| | But if nobody other than the two of us is interested in using a general interface code
| | generation mechanism, then perhaps we shouldn't waste too much time on such
| | general resources.  However, I think it is of value and I think
| | we can fix up the SWIG module with a little collaboration.
|
| There is definitely interest.  Eg from the Quantlib angle, a few people
| expressed interest a few months ago to revive the R/Quantlib integration via
| Swig but nothing much has come of it yet. We're all too busy it seems.
|
| Dirk
|
| | ~  D.
| |
| |
| | Michael Lawrence wrote:
| | | I am not sure what is included with swig, but have you seen this?
| | |
| | | http://www.omegahat.org/RSWIG/
| | |
| | | I'm not sure if it's actively maintained, but at the very least it might
| | | help in your efforts at getting an R swig driver working.
| | |
| | | Michael
| | |
| | | On Fri, Apr 18, 2008 at 3:49 AM, Soeren Sonnenburg <r-ml at nn7.de> wrote:
| | |
| | |> Dear all,
| | |>
| | |> I was trying to use the R swig wrapper with R 2.7 and shogun
| | |> ( http://www.shogun-toolbox.org ) but it fails completely, as in doesn't
| | |> even compile and even after patching then though compiling - crashes...
| | |>
| | |> So I asked on swig-users/swig-devel CC'ing the potential R maintainer
| | |> but I never received a reply. I now wonder if anyone here could help or
| | |> would be willing to maintain R+swig.
| | |>
| | |> The compile fix for R 2.7 is here
| | |>
| | |> http://article.gmane.org/gmane.comp.programming.swig/12697
| | |>
| | |> and the crash I am now that it compiles see is
| | |>
| | |> #0  0xb804e201 in _dl_debug_state () from /lib/ld-linux.so.2
| | |> #1  0xb8051608 in dl_open_worker () from /lib/ld-linux.so.2
| | |> #2  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
| | |> #3  0xb8050f5e in _dl_open () from /lib/ld-linux.so.2
| | |> #4  0xb74c3c19 in dlopen_doit () from /lib/i686/cmov/libdl.so.2
| | |> #5  0xb804d5d6 in _dl_catch_error () from /lib/ld-linux.so.2
| | |> #6  0xb74c42bc in _dlerror_run () from /lib/i686/cmov/libdl.so.2
| | |> #7  0xb74c3b51 in dlopen@@GLIBC_2.1 () from /lib/i686/cmov/libdl.so.2
| | |> #8  0xb7efd036 in loadLibrary (path=0xbfa5650c
| | |> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
| | |> asLocal=1, now=1, search=0x9a81f20 "") at dynload.c:92
| | |> #9  0xb7d6efb3 in AddDLL (path=0xbfa5650c
| | |> "/home/sonne/Documents/work/fml/repositories/shogun/trunk/src/features/Features.so",
| | |> asLocal=1, now=1, DLLsearchpath=0x9a81f20 "") at Rdynload.c:543
| | |> #10 0xb7d6f657 in do_dynload (call=0x9e23998, op=0x9a91e44,
| | |> args=0xa60d5e0, env=0xa60d650) at Rdynload.c:904
| | |> #11 0xb7e43dba in do_internal (call=0x9e239d0, op=0x9a8798c,
| | |> args=0xa60d5e0, env=0xa60d650) at names.c:1129
| | |> #12 0xb7e0df21 in Rf_eval (e=0x9e239d0, rho=0xa60d650) at eval.c:463
| | |> #13 0xb7e11a3c in Rf_applyClosure (call=0xa60d74c, op=0x9e23a94,
| | |> arglist=0xa60d6dc, rho=0x9a9a720, suppliedenv=0x9a9a73c) at eval.c:669
| | |> #14 0xb7e0de19 in Rf_eval (e=0xa60d74c, rho=0x9a9a720) at eval.c:507
| | |> #15 0xb7e31a00 in Rf_ReplIteration (rho=0x9a9a720, savestack=0,
| | |> browselevel=0, state=0xbfa589a8) at main.c:257
| | |> #16 0xb7e31ddc in run_Rmainloop () at main.c:306
| | |> #17 0xb7e31e1c in Rf_mainloop () at main.c:974
| | |> #18 0x08048776 in main (ac=1, av=0xb805b668) at Rmain.c:35
| | |> #19 0xb7be8450 in __libc_start_main () from /lib/i686/cmov/libc.so.6
| | |> #20 0x08048691 in _start ()
| | |>
| | |> To reproduce
| | |>
| | |> ???wget http://nn7.de/debugging/shogun-0.6.1+svn2882.tar.bz2
| | |> tar xjf shogun-0.6.1+svn2882.tar.bz2
| | |> cd shogun-0.6.1+svn2882/src
| | |> ./configure --interface=R-modular
| | |> make
| | |>
| | |> (wait a few minutes)
| | |>
| | |> R
| | |> dyn.load('features/Features.so')
| | |> #source("features/Features.R") # not even necessary.
| | |>
| | |> Note that shogun works for both python and octave nicely...
| | |>
| | |> ???So the question for me is, will this be better maintained in the future
| | |> or should I stop investing time on getting R supported?
| | |>
| | |> Desperate,
| | |> Soeren
| | |>
| | |> ______________________________________________
| | |> R-devel at r-project.org mailing list
| | |> https://stat.ethz.ch/mailman/listinfo/r-devel
| | |>
| | |
| | | 	[[alternative HTML version deleted]]
| | |
| | |
| | |
| | | ------------------------------------------------------------------------
| | |
| | | ______________________________________________
| | | R-devel at r-project.org mailing list
| | | https://stat.ethz.ch/mailman/listinfo/r-devel
| |
| | -----BEGIN PGP SIGNATURE-----
| | Version: GnuPG v1.4.7 (Darwin)
| | Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
| |
| | iD8DBQFICi9m9p/Jzwa2QP4RAv6qAJ9Ov/0ZrzXxQutS86fk/VgdH09G3wCdG2v5
| | p/XgqF2ZakrmJzZtHSb7ZLY=
| | =RPiM
| | -----END PGP SIGNATURE-----
| |
| | ______________________________________________
| | R-devel at r-project.org mailing list
| | https://stat.ethz.ch/mailman/listinfo/r-devel
|
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (Darwin)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFIC5yw9p/Jzwa2QP4RAtSXAJ9NXtnyFkAly6s9d2UAGabWQUVx8QCffoeb
/pQzTiM3t5h6sEif5pz8yOg=
=nh0D
-----END PGP SIGNATURE-----


From murdoch at stats.uwo.ca  Sun Apr 20 22:18:06 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 20 Apr 2008 16:18:06 -0400
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <alpine.LFD.1.10.0804201755500.10970@auk.stats.ox.ac.uk>
References: <000701c8a213$d693fc00$83bbf400$@ca>	<971536df0804190609v981bf0evbf3edd8bbb626617@mail.gmail.com>	<000001c8a224$8e814ce0$ab83e6a0$@ca>	<971536df0804200543g644a6cdbh266d3871da7cacbf@mail.gmail.com>	<480B589D.9010700@stats.uwo.ca>
	<alpine.LFD.1.10.0804201755500.10970@auk.stats.ox.ac.uk>
Message-ID: <480BA4FE.5020304@stats.uwo.ca>

On 20/04/2008 1:21 PM, Prof Brian Ripley wrote:
> On Sun, 20 Apr 2008, Duncan Murdoch wrote:
> 
>> On 20/04/2008 8:43 AM, Gabor Grothendieck wrote:
>>> There does seem to be some general problem associated with Sweave
>>> and graphics when I try it on my Vista system with
>>> [1] "R version 2.7.0 RC (2008-04-17 r45367)"
> 
> There is no evidence whatsoever of 'some general problem', and it is quite 
> specific to that package.  We've tested all the CRAN and BioC packages 
> with vignettes, and accounted for all the errors.
> 
>>> Using tradeCosts-article.Rnw from the tradeCosts package:
>>>
>>>     setwd(path.to.tradeCosts-article.Rnw)
>>>     Sweave("tradeCosts-article.Rnw")
>>>
>>> appears to work properly; however, if we try it from the
>>> command line:
>>>
>>>     R CMD Sweave tradeCosts-article.Rnw
>>>
>>> to simulate what happens when trying to build the package it
>>> indicates that in chunk 2 that pdf is masked from grDevices.
>> tradeCosts has its own pdf(), which is an S4 generic.  Once you have
>> attached that package, the regular pdf() device driver is hidden.  So it
>> looks as though running Sweave from the R console does the search in the
>> intended way, but running it from R CMD Sweave finds the tradeCosts
>> version of pdf() instead of the standard one.
> 
> Sweave does call grDevices::pdf explicitly.  But that's not the issue as
> 
> R --slave < tradeCosts-article.R
> 
> also fails at
> 
> Calls: plot ... barplot -> barplot.default -> par -> pdf -> <Anonymous>
> 
> So the issue is that pdf() is getting called because no device has been 
> opened, and "pdf" is the default device.  That seems quite reasonable to 
> me: if you create a function "pdf" high on the path it indicates that you 
> want that to be the default device.  (And the default device is used.)

I think there may be another problem.  Running R on the Stangle output 
is different than running Sweave, because Sweave knows that certain 
chunks have fig=TRUE, and so it should set up the graphics device for 
them.  I don't think there's a chunk in that file that does graphics 
without declaring fig=TRUE, so the original Sweave run should succeed, 
even if the run above fails.

So I still don't understand why in chunk 17 "pdf" is being used instead 
of "grDevices::pdf".

> If you want grDevices::pdf to be the default device, that is what you need 
> to specify (as written).
> 
> The solution is to open a device explicitly in the vignette, e.g. call
> dev.new() before library(tradeCosts).
> 
>> I don't see why there's any difference here,
> 
> batch vs interactive.
> 
>> but utils (where Sweave lives) doesn't state that it depends on 
>> grDevices (which is where the standard pdf() comes from). However, 
>> fixing this is not enough to fix the error.
> 
> (That's intentional, as is the use of grDevices::pdf.)
> 
> 
>> I see that tradeCosts doesn't declare any dependency on grDevices;
>> fixing that also doesn't fix the problem.
>>
>> When tradeCosts creates the S4 generic for pdf(), it uses a signature
>> that is inconsistent with the standard one; that might be the problem.
>> However, I don't see how to fix it.  The docs for setGeneric suggest
>> simply using
>>
>>  setGeneric("pdf")
>>
>> but that doesn't work:
>>
>> Loading required package: grDevices
>> Loading required package: graphics
>> Loading required package: stats
>> Loading required package: tools
>> Error in setGeneric("pdf") :
>>   must supply a function skeleton, explicitly or via an existing function
>>
>> I don't know why setGeneric can't see pdf() in grDevices.  I think John
>> Chambers is offline for a while, so this will likely have to wait.
> 
> If you did this in the package, that code is run without importing 
> grDevices.  If you do, it has a different complaint (that the signatures 
> differ).

I did this by adding grDevices to the Depends line in the package 
DESCRIPTION.

I think we need to simplify this stuff. I was under the impression that 
Depends implied Imports, and seeing the "Loading required" messages 
makes me think that at the time setGeneric("pdf") was called (I put it 
in the AllGenerics.R file), grDevices would at least be on the search 
path.  I later put an explicit "library(grDevices)" ahead of the call to 
setGeneric("pdf"), and that still didn't work.

So the problem is that our search strategy is too complicated.  I'd 
expect if a function was visible to be executed (as pdf() was at that 
point), then it should be visible to be used in setGeneric().  It 
shouldn't matter if it is imported, or just on the search path:  we 
should consistently see it or consistently not see it.  (I would 
actually prefer the latter.  If you don't explicitly import it, then you 
shouldn't be able to use it in package code.)

Duncan Murdoch

> 
>


From ripley at stats.ox.ac.uk  Sun Apr 20 23:00:00 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 20 Apr 2008 22:00:00 +0100 (BST)
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <480BA4FE.5020304@stats.uwo.ca>
References: <000701c8a213$d693fc00$83bbf400$@ca>
	<971536df0804190609v981bf0evbf3edd8bbb626617@mail.gmail.com>
	<000001c8a224$8e814ce0$ab83e6a0$@ca>
	<971536df0804200543g644a6cdbh266d3871da7cacbf@mail.gmail.com>
	<480B589D.9010700@stats.uwo.ca>
	<alpine.LFD.1.10.0804201755500.10970@auk.stats.ox.ac.uk>
	<480BA4FE.5020304@stats.uwo.ca>
Message-ID: <alpine.LFD.1.10.0804202135380.30178@gannet.stats.ox.ac.uk>

On Sun, 20 Apr 2008, Duncan Murdoch wrote:

> On 20/04/2008 1:21 PM, Prof Brian Ripley wrote:
>> On Sun, 20 Apr 2008, Duncan Murdoch wrote:
>> 
>>> On 20/04/2008 8:43 AM, Gabor Grothendieck wrote:
>>>> There does seem to be some general problem associated with Sweave
>>>> and graphics when I try it on my Vista system with
>>>> [1] "R version 2.7.0 RC (2008-04-17 r45367)"
>> 
>> There is no evidence whatsoever of 'some general problem', and it is quite 
>> specific to that package.  We've tested all the CRAN and BioC packages with 
>> vignettes, and accounted for all the errors.
>> 
>>>> Using tradeCosts-article.Rnw from the tradeCosts package:
>>>>
>>>>     setwd(path.to.tradeCosts-article.Rnw)
>>>>     Sweave("tradeCosts-article.Rnw")
>>>> 
>>>> appears to work properly; however, if we try it from the
>>>> command line:
>>>>
>>>>     R CMD Sweave tradeCosts-article.Rnw
>>>> 
>>>> to simulate what happens when trying to build the package it
>>>> indicates that in chunk 2 that pdf is masked from grDevices.
>>> tradeCosts has its own pdf(), which is an S4 generic.  Once you have
>>> attached that package, the regular pdf() device driver is hidden.  So it
>>> looks as though running Sweave from the R console does the search in the
>>> intended way, but running it from R CMD Sweave finds the tradeCosts
>>> version of pdf() instead of the standard one.
>> 
>> Sweave does call grDevices::pdf explicitly.  But that's not the issue as
>> 
>> R --slave < tradeCosts-article.R
>> 
>> also fails at
>> 
>> Calls: plot ... barplot -> barplot.default -> par -> pdf -> <Anonymous>
>> 
>> So the issue is that pdf() is getting called because no device has been 
>> opened, and "pdf" is the default device.  That seems quite reasonable to 
>> me: if you create a function "pdf" high on the path it indicates that you 
>> want that to be the default device.  (And the default device is used.)
>
> I think there may be another problem.  Running R on the Stangle output is 
> different than running Sweave, because Sweave knows that certain chunks have 
> fig=TRUE, and so it should set up the graphics device for them.  I don't 
> think there's a chunk in that file that does graphics without declaring 
> fig=TRUE, so the original Sweave run should succeed, even if the run above 
> fails.
>
> So I still don't understand why in chunk 17 "pdf" is being used instead of 
> "grDevices::pdf".

That's equally true of the example used in example(Sweave), and that puts 
up a graphics device, just as this one does.

fig=TRUE asks for *additional* runs with devices set -- see the code in 
makeRweaveLatexCodeRunner.  If options$eval is true

                 if(options$eval) err <- evalFunc(ce, options)

is run (and if it isn't options$eps and options$pdf are not reached).
Or look at ?RweaveLatex which says

      eval: logical ('TRUE'). If 'FALSE', the code chunk is not
           evaluated, and hence no text or graphical output produced.

Try

options(device="pdf")
example(Sweave)

and see what gets generated.

Or (as I had done), put options(device=grDevice::pdf) in the first chunk 
of the tradeCosts example, and see what gets plotted in Rplots.pdf.

[...]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From mathieu.ribatet at epfl.ch  Sun Apr 20 23:31:10 2008
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Sun, 20 Apr 2008 23:31:10 +0200
Subject: [Rd] Extending R formulas
Message-ID: <480BB61E.8050600@epfl.ch>

    Dear list,

I'm currently trying to write a new R package to model spatial extremes. 
In particular, for a model fitting procedure, I'd like to use flexible 
response surfaces (like linear models, splines, ...) for the parameters 
of my model. Following this idea, I'd like to allow "a new 
interpretation" of an R formula  given by the user, like y ~ x1 + rb(x2, 
knots, degree, penalty) where x1, x2 are covariates and rb stands for 
using a radial basis smooth splines with given knots, degree and penalty 
coefficient.
Such "new formula" should then provide the appropriate design matrix.

I know that existing packages have done this way too - e.g. mgcv; but 
their codes are quite hard to understand - for me I mean.
Does anyone can provide some useful guidelines to do this kind of stuffs 
or provide more readable codes?

In advance, thank you
Best,
Mathieu

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From murdoch at stats.uwo.ca  Mon Apr 21 01:07:13 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 20 Apr 2008 19:07:13 -0400
Subject: [Rd] package building problem under Windows Vista
In-Reply-To: <alpine.LFD.1.10.0804202135380.30178@gannet.stats.ox.ac.uk>
References: <000701c8a213$d693fc00$83bbf400$@ca>
	<971536df0804190609v981bf0evbf3edd8bbb626617@mail.gmail.com>
	<000001c8a224$8e814ce0$ab83e6a0$@ca>
	<971536df0804200543g644a6cdbh266d3871da7cacbf@mail.gmail.com>
	<480B589D.9010700@stats.uwo.ca>
	<alpine.LFD.1.10.0804201755500.10970@auk.stats.ox.ac.uk>
	<480BA4FE.5020304@stats.uwo.ca>
	<alpine.LFD.1.10.0804202135380.30178@gannet.stats.ox.ac.uk>
Message-ID: <480BCCA1.6050406@stats.uwo.ca>

On 20/04/2008 5:00 PM, Prof Brian Ripley wrote:
> On Sun, 20 Apr 2008, Duncan Murdoch wrote:
> 
>> On 20/04/2008 1:21 PM, Prof Brian Ripley wrote:
>>> On Sun, 20 Apr 2008, Duncan Murdoch wrote:
>>>
>>>> On 20/04/2008 8:43 AM, Gabor Grothendieck wrote:
>>>>> There does seem to be some general problem associated with Sweave
>>>>> and graphics when I try it on my Vista system with
>>>>> [1] "R version 2.7.0 RC (2008-04-17 r45367)"
>>> There is no evidence whatsoever of 'some general problem', and it is quite 
>>> specific to that package.  We've tested all the CRAN and BioC packages with 
>>> vignettes, and accounted for all the errors.
>>>
>>>>> Using tradeCosts-article.Rnw from the tradeCosts package:
>>>>>
>>>>>     setwd(path.to.tradeCosts-article.Rnw)
>>>>>     Sweave("tradeCosts-article.Rnw")
>>>>>
>>>>> appears to work properly; however, if we try it from the
>>>>> command line:
>>>>>
>>>>>     R CMD Sweave tradeCosts-article.Rnw
>>>>>
>>>>> to simulate what happens when trying to build the package it
>>>>> indicates that in chunk 2 that pdf is masked from grDevices.
>>>> tradeCosts has its own pdf(), which is an S4 generic.  Once you have
>>>> attached that package, the regular pdf() device driver is hidden.  So it
>>>> looks as though running Sweave from the R console does the search in the
>>>> intended way, but running it from R CMD Sweave finds the tradeCosts
>>>> version of pdf() instead of the standard one.
>>> Sweave does call grDevices::pdf explicitly.  But that's not the issue as
>>>
>>> R --slave < tradeCosts-article.R
>>>
>>> also fails at
>>>
>>> Calls: plot ... barplot -> barplot.default -> par -> pdf -> <Anonymous>
>>>
>>> So the issue is that pdf() is getting called because no device has been 
>>> opened, and "pdf" is the default device.  That seems quite reasonable to 
>>> me: if you create a function "pdf" high on the path it indicates that you 
>>> want that to be the default device.  (And the default device is used.)
>> I think there may be another problem.  Running R on the Stangle output is 
>> different than running Sweave, because Sweave knows that certain chunks have 
>> fig=TRUE, and so it should set up the graphics device for them.  I don't 
>> think there's a chunk in that file that does graphics without declaring 
>> fig=TRUE, so the original Sweave run should succeed, even if the run above 
>> fails.
>>
>> So I still don't understand why in chunk 17 "pdf" is being used instead of 
>> "grDevices::pdf".
> 
> That's equally true of the example used in example(Sweave), and that puts 
> up a graphics device, just as this one does.
> 
> fig=TRUE asks for *additional* runs with devices set -- see the code in 
> makeRweaveLatexCodeRunner.  If options$eval is true
> 
>                  if(options$eval) err <- evalFunc(ce, options)
> 
> is run (and if it isn't options$eps and options$pdf are not reached).

Thanks, that explains it.

Duncan Murdoch

> Or look at ?RweaveLatex which says
> 
>       eval: logical ('TRUE'). If 'FALSE', the code chunk is not
>            evaluated, and hence no text or graphical output produced.
> 
> Try
> 
> options(device="pdf")
> example(Sweave)
> 
> and see what gets generated.
> 
> Or (as I had done), put options(device=grDevice::pdf) in the first chunk 
> of the tradeCosts example, and see what gets plotted in Rplots.pdf.
> 
> [...]
> 
>


From mflawren at fhcrc.org  Mon Apr 21 02:02:26 2008
From: mflawren at fhcrc.org (Michael Lawrence)
Date: Sun, 20 Apr 2008 17:02:26 -0700
Subject: [Rd] swig 1.3.35 & R - is the R wrapper still maintained and of
	interest?
In-Reply-To: <480B9CB1.5070307@wald.ucdavis.edu>
References: <1208515782.11561.27.camel@localhost>
	<509e0620804181208h134706b2r58cdd0307d840dcb@mail.gmail.com>
	<480A2F66.1080205@wald.ucdavis.edu>
	<18442.22805.141892.154960@ron.nulle.part>
	<480B9CB1.5070307@wald.ucdavis.edu>
Message-ID: <509e0620804201702j4a007b26r5e28bea5a2019b01@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080420/c0fd92ef/attachment.pl 

From pcd at wikitex.org  Mon Apr 21 06:15:54 2008
From: pcd at wikitex.org (Peter Danenberg)
Date: Sun, 20 Apr 2008 23:15:54 -0500
Subject: [Rd] AddComment (gram.y)
In-Reply-To: <480A5A28.60302@stats.uwo.ca>
References: <20080419050915.GA1820@klutometis.wikitex.org>
	<4809D46D.2030308@stats.uwo.ca>
	<20080419185707.GA10684@klutometis.wikitex.org>
	<480A5A28.60302@stats.uwo.ca>
Message-ID: <20080421041554.GA32674@klutometis.wikitex.org>

> They aren't "cannibalized", they are still there, where the source
> ref says they are.

I was thinking along the lines of using parse() to unambiguously
associate a comment block with a code object; sure, srcref() retains
them: but that's no different than parsing a text file.

If I can't associate comment with code in parse(), I don't see how I
can avoid reimplementing the R parser; at least far enough to identify
top-level objects (but why stop there?).

By "cannibalizing", I'm referring to the following; take trivial.R:

   # Comment relevant to foo
   foo <- "bar"

attributes(parse("trivial.R"))$srcref[[1]] returns:

   foo <- "bar"

which is consistent with SkipComment.


From pcd at wikitex.org  Mon Apr 21 06:27:57 2008
From: pcd at wikitex.org (Peter Danenberg)
Date: Sun, 20 Apr 2008 23:27:57 -0500
Subject: [Rd] AddComment (gram.y)
In-Reply-To: <18442.25443.49716.190470@stat.math.ethz.ch>
References: <20080419050915.GA1820@klutometis.wikitex.org>
	<4809D46D.2030308@stats.uwo.ca>
	<20080419185707.GA10684@klutometis.wikitex.org>
	<480A5A28.60302@stats.uwo.ca>
	<18442.25443.49716.190470@stat.math.ethz.ch>
Message-ID: <20080421042757.GB32674@klutometis.wikitex.org>

> IIRC, because there were always cases where they were attached to
> the wrong expression, and we were more or less convinced, there was
> no to do it "right" in all cases.

Doxygen and Javadoc seem to have solved the problem of comment-object
association, implying that it's not generally intractable; are there
any ambiguities specific to R (but not, say, C++ or Java) that make it
a special case?


From bor.ingrida at gmail.com  Mon Apr 21 12:13:20 2008
From: bor.ingrida at gmail.com (Ingrida)
Date: Mon, 21 Apr 2008 03:13:20 -0700 (PDT)
Subject: [Rd]  Creation of Dialog boxes
Message-ID: <16806672.post@talk.nabble.com>


Dear, Forum members,

My student are creating some functions to implement the median polish
kriging (one of prediction method in geostatistic). She want to create some
dialog box (to input some data) and menu. For this she is using
winMenuAddItem and winDialogString commands in function. But WinDialogString
makes just one string to fill data. Which of commands she must use to create
dialog box with a few strings?

Regards
-- 
View this message in context: http://www.nabble.com/Creation-of-Dialog-boxes-tp16806672p16806672.html
Sent from the R devel mailing list archive at Nabble.com.


From maechler at stat.math.ethz.ch  Mon Apr 21 18:40:43 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 21 Apr 2008 18:40:43 +0200
Subject: [Rd] prod(0, 1:1000) ;  0 * Inf  etc
Message-ID: <18444.50059.714864.992037@stat.math.ethz.ch>


I think most of us would expect  prod(0:1000)  to return 0, and ...


... it does.

However, many of us also expect  
  prod(x1, x2)    to be equivalent to
  prod(c(x1,x2))
the same as we can expect that for min(), max(), sum() and such
members of the "Summary" group.

Consequently, prod(0, 1:1000) should also return 0,
but as you see, it gives  NaN  which may be a bit puzzling...
The explanation is relatively simple:

1) The internal implementation uses

     prod(x1, x2) := prod(x1) * prod(x2)

   which in this case is

2)  0 * Inf    and that is not 0, but NaN;

  not necessarily because we would want that, but I think just
  because the underlying C math library does so.


I would personally like to change both behaviors,
but am currently only proposing to change  prod() such as to
return 0 in such cases.
This would be S-plus compatible, in case that matters.

Opinions?

Martin Maechler, ETH Zurich & R-core


From mathieu.ribatet at epfl.ch  Mon Apr 21 20:39:18 2008
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Mon, 21 Apr 2008 20:39:18 +0200
Subject: [Rd] prod(0, 1:1000) ;  0 * Inf  etc
In-Reply-To: <18444.50059.714864.992037@stat.math.ethz.ch>
References: <18444.50059.714864.992037@stat.math.ethz.ch>
Message-ID: <480CDF56.5070104@epfl.ch>

I definitely do agree with you.
Basically, I see two different ways to proceed:

   1. one could first check if there are any 0 in the vector and then
      return 0 without computing the product
   2. or convert prod(x1, x2, x3) in prod(c(x1, x2, x3))

Both approaches are similar except for the pathological case where one 
vector x1 is really huge. An example:

prod(0, 1:1e25)

   1. will give 0
   2. will give an error stating that the vector c(0, 1:1e255) will be
      too large - in length I mean

Consequently, my opinion will be that approach 1 will be better - and 
maybe faster because it'll avoide useless computations.

Best,
Mathieu

Martin Maechler a ?crit :
> I think most of us would expect  prod(0:1000)  to return 0, and ...
>
>
> ... it does.
>
> However, many of us also expect  
>   prod(x1, x2)    to be equivalent to
>   prod(c(x1,x2))
> the same as we can expect that for min(), max(), sum() and such
> members of the "Summary" group.
>
> Consequently, prod(0, 1:1000) should also return 0,
> but as you see, it gives  NaN  which may be a bit puzzling...
> The explanation is relatively simple:
>
> 1) The internal implementation uses
>
>      prod(x1, x2) := prod(x1) * prod(x2)
>
>    which in this case is
>
> 2)  0 * Inf    and that is not 0, but NaN;
>
>   not necessarily because we would want that, but I think just
>   because the underlying C math library does so.
>
>
> I would personally like to change both behaviors,
> but am currently only proposing to change  prod() such as to
> return 0 in such cases.
> This would be S-plus compatible, in case that matters.
>
> Opinions?
>
> Martin Maechler, ETH Zurich & R-core
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>   

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From j.van_den_hoff at fzd.de  Mon Apr 21 21:36:58 2008
From: j.van_den_hoff at fzd.de (Joerg van den Hoff)
Date: Mon, 21 Apr 2008 21:36:58 +0200
Subject: [Rd] "sub-optimal" message from R CMD INSTALL
Message-ID: <20080421193658.GE13623@claude.fz-rossendorf.de>

I received the following message when installing
a private package:

** preparing package for lazy loading
Loading required package: roiutils
Loading required package: fzrutils
Loading required package: pkc
** help
>>> Building/Updating help pages for package 'psflib'
Formats: text html latex example 
Note: unmatched right brace in 'psf' on or after line 136
psflib-package                    text    html    latex   example
** building package indices ...
* DONE (psflib)


I would like to propose to change the message in such a way
that the actual file name (here: `psf.Rd') or an actual
reference to the manpage ("...brace in documentation for "psf'") 
is reported avoiding the silly pitfall of looking for a brace mismatch 
in `psf.R'. moreover, I'm wondering why R CMD CHECK did _not_ 
complain at all, which is the other thing I wanted to ask.

right now, it's only clear form the context that `psf.Rd' is meant 
in the message provided.

regards,

joerg


From apjaworski at mmm.com  Mon Apr 21 22:11:04 2008
From: apjaworski at mmm.com (apjaworski at mmm.com)
Date: Mon, 21 Apr 2008 15:11:04 -0500
Subject: [Rd] R-2.7.0 RC (2008-04-20 r45403) fails fullcheck
Message-ID: <OFD92C6622.DB4AFC16-ON86257432.006D99AC-86257432.006EE061@mmm.com>


A strange thing happened.  After installing the most recent RC version of
2.7 (2008-04-20 r45403) I compiled it as usual with no errors.  After
installing it I ran "make fullcheck".  I got as far as testing recommended
packages and I got the following:

...
-------- Testing package foreign --------
Running examples in 'foreign-Ex.R' ...
Comparing `foreign-Ex.Rout' to `foreign-Ex.Rout.prev' ...OK
Running specific tests
  Running `S3.R'
  Comparing `S3.Rout' to `S3.Rout.save' ...OK
  Running `arff.R'
  Comparing `arff.Rout' to `arff.Rout.save' ...OK
  Running `minitab.R'
  Comparing `minitab.Rout' to `minitab.Rout.save' ...OK
  Running `octave.R'
  Comparing `octave.Rout' to `octave.Rout.save' ...OK
  Running `sas.R'
make[2]: *** [sas.Rout] Error 1
make[1]: *** [tests] Error 2
make: *** [pkgcheck-foreign] Error 2

This also happens when I just run "make check-recommended".

The thing is that if I start-up the just installed version of R, change
directory to R-rc/src/library/foreign/tests and source the sas.R script,
everything works fine.  Also when I do

Rcmd.exe BATCH sas.R

things seem to be normal, i.e., I just get the prompt back after a short
while.

I am on Windows XP professional SP2.  My machine is a core-duo Xeon
workstation.

Hope this helps,

Andy


__________________________________
Andy Jaworski
518-1-01
Process Laboratory
3M Corporate Research Laboratory
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


From ripley at stats.ox.ac.uk  Mon Apr 21 23:05:13 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 21 Apr 2008 22:05:13 +0100 (BST)
Subject: [Rd] R-2.7.0 RC (2008-04-20 r45403) fails fullcheck
In-Reply-To: <OFD92C6622.DB4AFC16-ON86257432.006D99AC-86257432.006EE061@mmm.com>
References: <OFD92C6622.DB4AFC16-ON86257432.006D99AC-86257432.006EE061@mmm.com>
Message-ID: <alpine.LFD.1.10.0804212201240.9392@auk.stats.ox.ac.uk>

That check needs a (large) file from the internet.  Your symptoms would be 
consistent with it being temporarily unavailable.  I would have expected 
you to look at sas.Rout to see what happened.

On Mon, 21 Apr 2008, apjaworski at mmm.com wrote:

>
> A strange thing happened.  After installing the most recent RC version of
> 2.7 (2008-04-20 r45403) I compiled it as usual with no errors.  After
> installing it I ran "make fullcheck".  I got as far as testing recommended
> packages and I got the following:
>
> ...
> -------- Testing package foreign --------
> Running examples in 'foreign-Ex.R' ...
> Comparing `foreign-Ex.Rout' to `foreign-Ex.Rout.prev' ...OK
> Running specific tests
>  Running `S3.R'
>  Comparing `S3.Rout' to `S3.Rout.save' ...OK
>  Running `arff.R'
>  Comparing `arff.Rout' to `arff.Rout.save' ...OK
>  Running `minitab.R'
>  Comparing `minitab.Rout' to `minitab.Rout.save' ...OK
>  Running `octave.R'
>  Comparing `octave.Rout' to `octave.Rout.save' ...OK
>  Running `sas.R'
> make[2]: *** [sas.Rout] Error 1
> make[1]: *** [tests] Error 2
> make: *** [pkgcheck-foreign] Error 2
>
> This also happens when I just run "make check-recommended".
>
> The thing is that if I start-up the just installed version of R, change
> directory to R-rc/src/library/foreign/tests and source the sas.R script,
> everything works fine.  Also when I do
>
> Rcmd.exe BATCH sas.R
>
> things seem to be normal, i.e., I just get the prompt back after a short
> while.
>
> I am on Windows XP professional SP2.  My machine is a core-duo Xeon
> workstation.
>
> Hope this helps,
>
> Andy
>
>
> __________________________________
> Andy Jaworski
> 518-1-01
> Process Laboratory
> 3M Corporate Research Laboratory
> -----
> E-mail: apjaworski at mmm.com
> Tel:  (651) 733-6092
> Fax:  (651) 736-3122
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From apjaworski at mmm.com  Mon Apr 21 23:32:54 2008
From: apjaworski at mmm.com (apjaworski at mmm.com)
Date: Mon, 21 Apr 2008 16:32:54 -0500
Subject: [Rd] R-2.7.0 RC (2008-04-20 r45403) fails fullcheck
In-Reply-To: <alpine.LFD.1.10.0804212201240.9392@auk.stats.ox.ac.uk>
Message-ID: <OF2F2BBC4A.7B6822B1-ON86257432.0075353A-86257432.00765E7F@mmm.com>

Sorry.  I should have looked at the sas.Rout.  Indeed, the network file
cannot be read.

This seems to be the same problem that was happening a couple of versions
ago and had to do with our firewall not allowing certain connections.  The
solution then was to use the --internet2 switch.  The same thing happens
now.  If I do

Rcmd.exe BATCH --internet2 sas.R

it works.  Without --internet2 it does not.  What confused me was that it
works fine from the R console, although I do not use the --internet2 switch
when starting up interactive R (I used to have to do it explicitly in my R
link).  Apparently there is no need for --internet2 in Rgui but there is in
Rcmd, although I am almost sure that I did not see this problem when 2.6
was coming out.

Andy

__________________________________
Andy Jaworski
518-1-01
Process Laboratory
3M Corporate Research Laboratory
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                           
             Prof Brian Ripley                                             
             <ripley at stats.ox.                                             
             ac.uk>                                                     To 
                                       apjaworski at mmm.com                  
             04/21/2008 04:05                                           cc 
             PM                        R-devel at stat.math.ethz.ch           
                                                                   Subject 
                                       Re: [Rd] R-2.7.0 RC (2008-04-20     
                                       r45403) fails fullcheck             
                                                                           
                                                                           
                                                                           
                                                                           
                                                                           
                                                                           




That check needs a (large) file from the internet.  Your symptoms would be
consistent with it being temporarily unavailable.  I would have expected
you to look at sas.Rout to see what happened.

On Mon, 21 Apr 2008, apjaworski at mmm.com wrote:

>
> A strange thing happened.  After installing the most recent RC version of
> 2.7 (2008-04-20 r45403) I compiled it as usual with no errors.  After
> installing it I ran "make fullcheck".  I got as far as testing
recommended
> packages and I got the following:
>
> ...
> -------- Testing package foreign --------
> Running examples in 'foreign-Ex.R' ...
> Comparing `foreign-Ex.Rout' to `foreign-Ex.Rout.prev' ...OK
> Running specific tests
>  Running `S3.R'
>  Comparing `S3.Rout' to `S3.Rout.save' ...OK
>  Running `arff.R'
>  Comparing `arff.Rout' to `arff.Rout.save' ...OK
>  Running `minitab.R'
>  Comparing `minitab.Rout' to `minitab.Rout.save' ...OK
>  Running `octave.R'
>  Comparing `octave.Rout' to `octave.Rout.save' ...OK
>  Running `sas.R'
> make[2]: *** [sas.Rout] Error 1
> make[1]: *** [tests] Error 2
> make: *** [pkgcheck-foreign] Error 2
>
> This also happens when I just run "make check-recommended".
>
> The thing is that if I start-up the just installed version of R, change
> directory to R-rc/src/library/foreign/tests and source the sas.R script,
> everything works fine.  Also when I do
>
> Rcmd.exe BATCH sas.R
>
> things seem to be normal, i.e., I just get the prompt back after a short
> while.
>
> I am on Windows XP professional SP2.  My machine is a core-duo Xeon
> workstation.
>
> Hope this helps,
>
> Andy
>
>
> __________________________________
> Andy Jaworski
> 518-1-01
> Process Laboratory
> 3M Corporate Research Laboratory
> -----
> E-mail: apjaworski at mmm.com
> Tel:  (651) 733-6092
> Fax:  (651) 736-3122
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch at stats.uwo.ca  Tue Apr 22 00:08:58 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 21 Apr 2008 18:08:58 -0400
Subject: [Rd] AddComment (gram.y)
In-Reply-To: <20080421041554.GA32674@klutometis.wikitex.org>
References: <20080419050915.GA1820@klutometis.wikitex.org>	<4809D46D.2030308@stats.uwo.ca>	<20080419185707.GA10684@klutometis.wikitex.org>	<480A5A28.60302@stats.uwo.ca>
	<20080421041554.GA32674@klutometis.wikitex.org>
Message-ID: <480D107A.3070102@stats.uwo.ca>

Peter Danenberg wrote:
>> They aren't "cannibalized", they are still there, where the source
>> ref says they are.
>>     
>
> I was thinking along the lines of using parse() to unambiguously
> associate a comment block with a code object; sure, srcref() retains
> them: but that's no different than parsing a text file.
>
> If I can't associate comment with code in parse(), I don't see how I
> can avoid reimplementing the R parser; at least far enough to identify
> top-level objects (but why stop there?).
>
> By "cannibalizing", I'm referring to the following; take trivial.R:
>
>    # Comment relevant to foo
>    foo <- "bar"
>
> attributes(parse("trivial.R"))$srcref[[1]] returns:
>
>    foo <- "bar"
>
> which is consistent with SkipComment.

That's not the way to do it.  Currently there is no easy way to print 
the comments, but one could certainly be written.  If you look at all 
the srcref values, they identify the start and end of the expressions 
that were parsed.  The source outside those identified regions are the 
comments.  (There may also be embedded comments within
those regions, e.g.

  foo <-   # about foo
      "bar"


For example, when I parse your file above and save the srcrefs, I get

 > unclass(srcref[[1]])
[1]  2  4  2 15
attr(,"srcfile")
trivial.R

This says that everything before line 2, column 4 is whitespace/comment, 
and everything after line 2 column 15 is the same.  If you want to adopt 
a style that says comments precede their target, then you should be 
looking for a comment in line 1.  R can't put a comment in the first few 
chars of a line.  If you want your comments
to follow the object, then look in line 2 after column 15, or in line 3 
or later.

I think a parser modification that returned the location of all # 
markers that start comments would be reasonable, but the parser 
shouldn't decide which expression these
are attached to.  That's not part of the language, that's a convention 
added on top of it.

Duncan Murdoch


From paciorek at hsph.harvard.edu  Tue Apr 22 02:23:21 2008
From: paciorek at hsph.harvard.edu (Christopher Paciorek)
Date: Mon, 21 Apr 2008 20:23:21 -0400
Subject: [Rd] configure can't find dgemm in MKL10
In-Reply-To: <alpine.LFD.1.10.0804181438440.23274@auk.stats.ox.ac.uk>
References: <4808611D.10CD.002E.0@hsph.harvard.edu>
	<alpine.LFD.1.10.0804181438440.23274@auk.stats.ox.ac.uk>
Message-ID: <480CF752.10CD.002E.0@hsph.harvard.edu>

Just to follow up on my previous email with some results about this that may be helpful as a guide for others... this was on a Linux box, Intel processor, R 2.6.2.

Following Prof. Ripley's suggestion, we went the shared BLAS route and were able to get this working using Goto BLAS.
The combination of using Intel compilers in place of gnu and using Goto BLAS in place of internal R BLAS gave an order of magnitude speedup in basic linear algebra routines.  

Here's an example of some comparative timings:

Intel compilers, Goto BLAS:
  mat=matrix(rnorm(2000*2000),2000,2000)
> system.time(mat%*%mat)
   user  system elapsed 
  2.203   0.061   2.270 
> cov=t(mat)%*%mat
> system.time(chol(cov))
   user  system elapsed 
  0.442   0.046   0.496 

Gnu compilers, internal R BLAS:
  mat=matrix(rnorm(2000*2000),2000,2000)
>  system.time(mat%*%mat)
   user  system elapsed 
 46.695   0.058  46.793 
>  cov=t(mat)%*%mat
> system.time(chol(cov))
   user  system elapsed 
  4.871   0.026   4.902 

Didn't go back and check, but I believe these timings are about equivalent in speed to just using the R2.6.2 Mac OS X image downloaded directly from CRAN to my MacBook, dual-core Intel.

-chris 

 
 
>>> Prof Brian Ripley <ripley at stats.ox.ac.uk> 04/18/08 9:45 AM >>> 
Did you see

   See 'Shared BLAS' for an alternative (and in many ways preferable)
   way to use MKL.

?  That's an easier route to get working, and you can swap BLASes almost 
instantly.

But you need to look at the config.log to see what went wrong.

'Xeon' covers a multitude of processors, but my group's experience is that 
for recent Intel CPUs the Goto BLAS beats all others (including MKL and 
ATLAS).  As you are in academia it is available to you, and it too is easy 
to swap in.


On Fri, 18 Apr 2008, Christopher Paciorek wrote:

> Hi,
> I'm trying to follow the R- admin instructions for using MKL10 as the external BLAS compiling R- 2.6.2 under Linux on a RH EL head node of a cluster.  The configure process seems to have problems when it checks for dgemm in the BLAS.  I'm using configure as:
> ./configure CC=icc F77=ifort -- with- lapack="$MKL" -- with- blas="$MKL"  where $MKL is defined as in R- admin section A.3.1.4.
>
> checking for cblas_cdotu_sub in vecLib framework... no
> checking for dgemm_ in    - L/usr1/util/Intel/mkl/10.0.1.014/lib/em64t                                            - Wl,-- start- group                                                    /usr1/util/Intel/mkl/10.0.1.014/lib/em64t/libmkl_gf_lp64.a                             /usr1/util/Intel/mkl/10.0.1.014/lib/em64t/libmkl_gnu_thread.a                          /usr1/util/Intel/mkl/10.0.1.014/lib/em64t/libmkl_core.a                        - Wl,-- end- group                                              - liomp5 - lguide - lpthread - lgomp... no
> checking for dgemm_... no
> checking for ATL_xerbla in - latlas... yes
> checking for dgemm_ in - lf77blas... no
> checking for dgemm_ in - lblas... yes
> checking for dgemm_ in - ldgemm... no
> checking for dgemm_ in - lblas... (cached) yes
> checking for dgemm_ in - lessl... no
> checking for dgemm_ in - lblas... (cached) yes
>
> I've looked in the MKL .a files and do not actually see dgemm or dgemm_ explicitly.  So this seemingly explains the result of configure which is that BLAS_LIBS is not set to point to MKL but defaults to pointing to the usual Rblas (based on BLAS_LIBS in Makeconf (BLAS_LIBS = - L$(R_HOME)/lib$(R_ARCH) - lRblas) and the absence of a mention of BLAS in the 'External libraries' line at the end of the configure process output.
>
> In looking for dgemm in the MKL .a files (ar t libName.a | grep dgemm),
> libmkl_gf_lp64.a lists cblas_dgemm_lp64.o,_dgemm_lp64.o
> libmkl_core.a lists a bunch of things with dgemm in the name but not dgemm itself, e.g., _dgemm_kernel_0_fb.o,_mc_dgemm_bufs_0.o
> libmkl_gnu_thread.a lists dgemm_omp.o
>
> Incidentally _dgemm.o is listed in libmkl_gf_ilp64.a.
>
> We're running Red Hat Enterprise Linux AS release 4 (Nahant Update 5) on 
> an Intel Xeon head node of a cluster.
>
> Incidentally, this has come about because in playing with my new $1300 
> Macbook, I found it was doing basic matrix work (dense matrix 
> multiplication, Cholesky) about 5x as fast as our Linux cluster.  I 
> haven't looked into it much, but given that CPU use is listed as nearing 
> 200% on the dual core Mac, part of this may be due to the Mac taking 
> advantage of both cores. My hope is that with a faster BLAS the 
> difference between the Mac and our cluster for basic linear algebra will 
> lessen or disappear.
>
> Any tips on what may be going wrong in the configure test process or how 
> to get around this would be helpful.
>
> Thanks,
> Chris
>
> ----------------------------------------------------------------------------------------------
> Chris Paciorek / Asst. Professor        Email: paciorek at hsph.harvard.edu
> Department of Biostatistics             Voice: 617- 432- 4912
> Harvard School of Public Health         Fax:   617- 432- 5619
> 655 Huntington Av., Bldg. 2- 407         WWW: www.biostat.harvard.edu/~paciorek
> Boston, MA 02115 USA                    Permanent forward: paciorek at alumni.cmu.edu
>
> ______________________________________________
> R- devel at r- project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r- devel
>

--  
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From bill at insightful.com  Tue Apr 22 03:43:44 2008
From: bill at insightful.com (Bill Dunlap)
Date: Mon, 21 Apr 2008 18:43:44 -0700 (PDT)
Subject: [Rd] prod(0, 1:1000) ;  0 * Inf  etc
In-Reply-To: <480CDF56.5070104@epfl.ch>
References: <18444.50059.714864.992037@stat.math.ethz.ch>
	<480CDF56.5070104@epfl.ch>
Message-ID: <Pine.GSO.4.56.0804211820460.26934@devsun3201.insightful.com>

On Mon, 21 Apr 2008, Mathieu Ribatet wrote:

> I definitely do agree with you.
> Basically, I see two different ways to proceed:
>
>    1. one could first check if there are any 0 in the vector and then
>       return 0 without computing the product

That would fail for prod(0,Inf), which should return the same
thing as 0*Inf=NaN.  Similarly for prod(0,NA) and prod(0,NaN).
Scanning for all these things might well be slower than just
doing the multiplications.  Scanning also means that 0 is treated
more commutatively than other numbers.

>    2. or convert prod(x1, x2, x3) in prod(c(x1, x2, x3))

c() can convert values of classy objects in undesirable ways.
E.g.,
   > now<-Sys.time()
   > min(now-file.info(".")$mtime, now-file.info("..")$mtime)
   Time difference of 3787.759 secs
   > min(c(now-file.info(".")$mtime, now-file.info("..")$mtime))
   [1] 1.052155

This may be considered a bug in c(), at least for class
"timediff" (and  "factor" and "ordered"), but c() removes
attributes.

> Martin Maechler a ?crit :
> > I think most of us would expect  prod(0:1000)  to return 0, and ...
> >
> >
> > ... it does.
> >
> > However, many of us also expect
> >   prod(x1, x2)    to be equivalent to
> >   prod(c(x1,x2))
> > the same as we can expect that for min(), max(), sum() and such
> > members of the "Summary" group.
> >
> > Consequently, prod(0, 1:1000) should also return 0,
> > but as you see, it gives  NaN  which may be a bit puzzling...
> > The explanation is relatively simple:
> >
> > 1) The internal implementation uses
> >
> >      prod(x1, x2) := prod(x1) * prod(x2)
> >
> >    which in this case is
> >
> > 2)  0 * Inf    and that is not 0, but NaN;
> >
> >   not necessarily because we would want that, but I think just
> >   because the underlying C math library does so.
> >
> >
> > I would personally like to change both behaviors,
> > but am currently only proposing to change  prod() such as to
> > return 0 in such cases.
> > This would be S-plus compatible, in case that matters.
> >
> > Opinions?
> >
> > Martin Maechler, ETH Zurich & R-core
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
>
> --
> Institute of Mathematics
> Ecole Polytechnique F?d?rale de Lausanne
> STAT-IMA-FSB-EPFL, Station 8
> CH-1015 Lausanne   Switzerland
> http://stat.epfl.ch/
> Tel: + 41 (0)21 693 7907
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

----------------------------------------------------------------------------
Bill Dunlap
Insightful Corporation
bill at insightful dot com
360-428-8146

 "All statements in this message represent the opinions of the author and do
 not necessarily reflect Insightful Corporation policy or position."


From berwin at maths.uwa.edu.au  Tue Apr 22 05:10:02 2008
From: berwin at maths.uwa.edu.au (Berwin A Turlach)
Date: Tue, 22 Apr 2008 11:10:02 +0800
Subject: [Rd] prod(0, 1:1000) ;  0 * Inf  etc
In-Reply-To: <18444.50059.714864.992037@stat.math.ethz.ch>
References: <18444.50059.714864.992037@stat.math.ethz.ch>
Message-ID: <20080422111002.44d65bd1@berwin5>

G'day Martin,

On Mon, 21 Apr 2008 18:40:43 +0200
Martin Maechler <maechler at stat.math.ethz.ch> wrote:

> I think most of us would expect  prod(0:1000)  to return 0, and ...
> ... it does.
> 
> However, many of us also expect  
>   prod(x1, x2)    to be equivalent to
>   prod(c(x1,x2))
> the same as we can expect that for min(), max(), sum() and such
> members of the "Summary" group.

Many may also expect that prod(x) and prod(rev(x)) are equivalent.
Unfortunately, this does not hold in finite precision arithmetic:

> prod(0:1000)
[1] 0
> prod(1000:0)
[1] NA
> prod(rev(0:1000))
[1] NA

It might be better to educate useRs on finite precision arithmetic
than trying to catch such situations.  Note, I am saying "better", not
"easier". :-)  

Cheers,
	
	Berwin


From r.hankin at noc.soton.ac.uk  Tue Apr 22 09:17:16 2008
From: r.hankin at noc.soton.ac.uk (Robin Hankin)
Date: Tue, 22 Apr 2008 08:17:16 +0100
Subject: [Rd] prod(0, 1:1000) ;  0 * Inf  etc
In-Reply-To: <Pine.GSO.4.56.0804211820460.26934@devsun3201.insightful.com>
References: <18444.50059.714864.992037@stat.math.ethz.ch>
	<480CDF56.5070104@epfl.ch>
	<Pine.GSO.4.56.0804211820460.26934@devsun3201.insightful.com>
Message-ID: <25B79FD5-59A1-441D-8393-9033AC7F7CAE@noc.soton.ac.uk>

Interesting problem this.

My take on it would be that the "true" value depends
on how fast the "0" approaches 0 and how fast the "n"
approaches infinity.

Consider

f1 <- function(n){prod(1/n , seq_len(n))}
f2 <- function(n){prod(1/factorial(n) , seq_len(n))}
f3 <- function(n){prod(n^(-n) , seq_len(n))}

All these are equal to prod( "small number" , 1:"big number")

but applying these functions to an increasing sequence gives different
behaviour:

 > sapply(c(10,100,1000),f1)
[1]  3.628800e+05 9.332622e+155           Inf
 > sapply(c(10,100,1000),f2)
[1]   1   1 NaN
 > sapply(c(10,100,1000),f3)
[1] 3.628800e-04 9.332622e-43          NaN
 >


f1() tends to infinity, f2() tends to 1, and f3() tends to zero.

Figuring out the appropriate limit in cases like this is a job
for a symbolic system.

I would say the original behaviour is desirable.


rksh



On 22 Apr 2008, at 02:43, Bill Dunlap wrote:

> On Mon, 21 Apr 2008, Mathieu Ribatet wrote:
>
>> I definitely do agree with you.
>> Basically, I see two different ways to proceed:
>>
>>   1. one could first check if there are any 0 in the vector and then
>>      return 0 without computing the product
>
> That would fail for prod(0,Inf), which should return the same
> thing as 0*Inf=NaN.  Similarly for prod(0,NA) and prod(0,NaN).
> Scanning for all these things might well be slower than just
> doing the multiplications.  Scanning also means that 0 is treated
> more commutatively than other numbers.
>
>>   2. or convert prod(x1, x2, x3) in prod(c(x1, x2, x3))
>
> c() can convert values of classy objects in undesirable ways.
> E.g.,
>> now<-Sys.time()
>> min(now-file.info(".")$mtime, now-file.info("..")$mtime)
>   Time difference of 3787.759 secs
>> min(c(now-file.info(".")$mtime, now-file.info("..")$mtime))
>   [1] 1.052155
>
> This may be considered a bug in c(), at least for class
> "timediff" (and  "factor" and "ordered"), but c() removes
> attributes.
>
>> Martin Maechler a ?crit :
>>> I think most of us would expect  prod(0:1000)  to return 0, and ...
>>>
>>>
>>> ... it does.
>>>
>>> However, many of us also expect
>>>  prod(x1, x2)    to be equivalent to
>>>  prod(c(x1,x2))
>>> the same as we can expect that for min(), max(), sum() and such
>>> members of the "Summary" group.
>>>
>>> Consequently, prod(0, 1:1000) should also return 0,
>>> but as you see, it gives  NaN  which may be a bit puzzling...
>>> The explanation is relatively simple:
>>>
>>> 1) The internal implementation uses
>>>
>>>     prod(x1, x2) := prod(x1) * prod(x2)
>>>
>>>   which in this case is
>>>
>>> 2)  0 * Inf    and that is not 0, but NaN;
>>>
>>>  not necessarily because we would want that, but I think just
>>>  because the underlying C math library does so.
>>>
>>>
>>> I would personally like to change both behaviors,
>>> but am currently only proposing to change  prod() such as to
>>> return 0 in such cases.
>>> This would be S-plus compatible, in case that matters.
>>>
>>> Opinions?
>>>
>>> Martin Maechler, ETH Zurich & R-core
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>
>> --
>> Institute of Mathematics
>> Ecole Polytechnique F?d?rale de Lausanne
>> STAT-IMA-FSB-EPFL, Station 8
>> CH-1015 Lausanne   Switzerland
>> http://stat.epfl.ch/
>> Tel: + 41 (0)21 693 7907
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
> ----------------------------------------------------------------------------
> Bill Dunlap
> Insightful Corporation
> bill at insightful dot com
> 360-428-8146
>
> "All statements in this message represent the opinions of the author  
> and do
> not necessarily reflect Insightful Corporation policy or position."
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

--
Robin Hankin
Uncertainty Analyst and Neutral Theorist,
National Oceanography Centre, Southampton
European Way, Southampton SO14 3ZH, UK
  tel  023-8059-7743


From mathieu.ribatet at epfl.ch  Tue Apr 22 10:22:50 2008
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Tue, 22 Apr 2008 10:22:50 +0200
Subject: [Rd] prod(0, 1:1000) ;  0 * Inf  etc
In-Reply-To: <Pine.GSO.4.56.0804211820460.26934@devsun3201.insightful.com>
References: <18444.50059.714864.992037@stat.math.ethz.ch>
	<480CDF56.5070104@epfl.ch>
	<Pine.GSO.4.56.0804211820460.26934@devsun3201.insightful.com>
Message-ID: <480DA05A.5030207@epfl.ch>


>> I definitely do agree with you.
>> Basically, I see two different ways to proceed:
>>
>>    1. one could first check if there are any 0 in the vector and then
>>       return 0 without computing the product
>>     
>
> That would fail for prod(0,Inf), which should return the same
> thing as 0*Inf=NaN.  Similarly for prod(0,NA) and prod(0,NaN).
> Scanning for all these things might well be slower than just
> doing the multiplications.  Scanning also means that 0 is treated
> more commutatively than other numbers.
>
>   
Yes you're right when vectors have special values - oupppsss. However, 
for the "more commutatively behaviour of 0", to me this is not a problem 
- just a computational trick. We all know easily how to multiply by 11. 
This is just the same. What we want is that the operator is still 
commutative which (of course) is still the case.

However, you're probably right with the time consuming approach of 
checking 0 (as well as special values) within the vector. The question 
is what is the main objective? Fast computations but could lead to 
miss-calculations - in rarely cases. Or run codes a little bit slower 
while returning the appropriate values - a little bit more often.

I'm not sure users do so many times products of really huge length 
vectors though - but this is only my point of view.
Best,
Mathieu
>>    2. or convert prod(x1, x2, x3) in prod(c(x1, x2, x3))
>>     
>
> c() can convert values of classy objects in undesirable ways.
> E.g.,
>    > now<-Sys.time()
>    > min(now-file.info(".")$mtime, now-file.info("..")$mtime)
>    Time difference of 3787.759 secs
>    > min(c(now-file.info(".")$mtime, now-file.info("..")$mtime))
>    [1] 1.052155
>
> This may be considered a bug in c(), at least for class
> "timediff" (and  "factor" and "ordered"), but c() removes
> attributes.
>
>   
>> Martin Maechler a ?crit :
>>     
>>> I think most of us would expect  prod(0:1000)  to return 0, and ...
>>>
>>>
>>> ... it does.
>>>
>>> However, many of us also expect
>>>   prod(x1, x2)    to be equivalent to
>>>   prod(c(x1,x2))
>>> the same as we can expect that for min(), max(), sum() and such
>>> members of the "Summary" group.
>>>
>>> Consequently, prod(0, 1:1000) should also return 0,
>>> but as you see, it gives  NaN  which may be a bit puzzling...
>>> The explanation is relatively simple:
>>>
>>> 1) The internal implementation uses
>>>
>>>      prod(x1, x2) := prod(x1) * prod(x2)
>>>
>>>    which in this case is
>>>
>>> 2)  0 * Inf    and that is not 0, but NaN;
>>>
>>>   not necessarily because we would want that, but I think just
>>>   because the underlying C math library does so.
>>>
>>>
>>> I would personally like to change both behaviors,
>>> but am currently only proposing to change  prod() such as to
>>> return 0 in such cases.
>>> This would be S-plus compatible, in case that matters.
>>>
>>> Opinions?
>>>
>>> Martin Maechler, ETH Zurich & R-core
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>       
>> --
>> Institute of Mathematics
>> Ecole Polytechnique F?d?rale de Lausanne
>> STAT-IMA-FSB-EPFL, Station 8
>> CH-1015 Lausanne   Switzerland
>> http://stat.epfl.ch/
>> Tel: + 41 (0)21 693 7907
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>     
>
> ----------------------------------------------------------------------------
> Bill Dunlap
> Insightful Corporation
> bill at insightful dot com
> 360-428-8146
>
>  "All statements in this message represent the opinions of the author and do
>  not necessarily reflect Insightful Corporation policy or position."
>   

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From osklyar at maninvestments.com  Tue Apr 22 11:45:28 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 22 Apr 2008 10:45:28 +0100
Subject: [Rd] S3 method despatch (changed between 2.6.2 and 2.7.0 RC?)
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE430229487E@mildnpexmb01.maninvestments.ad.man.com>

Dear developers:

I have observed a change in the behaviour of S3 method despatch (as I
guess related to namespaces) between 2.6.2 and yesterday's 2.7.0 RC and
would be grateful if you could comment on that:

the 'Axis' function in the 'graphics' namespace calls
UseMethod("Axis",x), internally to despatch on the S3 Axis method
depending on the type of the argument. Both 2.6.2 and 2.7.0 define the
following Axis.* methods in 'graphics': Axis.Date, Axis.POSIXct
Axis.POSIXlt and Axis.default. Now, if one defines an Axis.MyClass
outside of the 'graphics' namespace, it is called automatically by 2.6.2
on objects of MyClass, i.e. R would search for further method definition
outside of the graphics namespace. Looks like this behaviour has changed
in 2.7.0 so that UseMethod called in a given namesspace (graphics) does
not despatch on methods defined in another namespace (global or another
package) as the example below shows.

Have I done something wrong?

Is it an intended behaviour, any idea how to go around it?

Thanks,
Oleg

PS: The difference in the code below is that 2.6.2 calls Axis.MyClass in
plot.default (and thus prints the message), while 2.7.0 does not.

x = 1:5
class(x) = c("MyClass",class(x))
Axis.MyClass = function (x, at, ..., side, labels=TRUE) {
    print("running Axis.MyClass")
    axis(side, at=if(!missing(x)) x else at, labels=labels, ...)
}
methods("Axis")
plot(x, 1:5)

== >>> Output from 2.6.2 RC (2008-02-08)
=======================================
> methods("Axis")
[1] Axis.Date*    Axis.MyClass  Axis.POSIXct* Axis.POSIXlt*
Axis.default*

   Non-visible functions are asterisked
> plot(x, 1:5)
[1] "running Axis.MyClass"
>
> sessionInfo()
R version 2.6.2 (2008-02-08)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_MO
NETARY=en_GB.UTF-8;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=
C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATI
ON=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] rcompgen_0.1-17 tools_2.6.2

== >>> Output from 2.7.0 RC (2008-04-20 r45403)
================================
> methods("Axis")
[1] Axis.Date*    Axis.MyClass  Axis.POSIXct* Axis.POSIXlt*
Axis.default*

   Non-visible functions are asterisked
> plot(x, 1:5)
>
> sessionInfo()
R version 2.7.0 RC (2008-04-20 r45403)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_MO
NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRE
SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.7.0


Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com


**********************************************************************
The contents of this email are for the named addressee(s) only.
It contains information which may be confidential and privileged.
If you are not the intended recipient, please notify the sender
immediately, destroy this email and any attachments and do not
otherwise disclose or use them. Email transmission is not a
secure method of communication and Man Investments cannot accept
responsibility for the completeness or accuracy of this email or
any attachments. Whilst Man Investments makes every effort to keep
its network free from viruses, it does not accept responsibility
for any computer virus which might be transferred by way of this
email or any attachments. This email does not constitute a request,
offer, recommendation or solicitation of any kind to buy, subscribe,
sell or redeem any investment instruments or to perform other such
transactions of any kind. Man Investments reserves the right to
monitor, record and retain all electronic communications through
its network to ensure the integrity of its systems, for record
keeping and regulatory purposes. 

Visit us at: www.maninvestments.com


From liqun.xing at basf.com  Tue Apr 22 04:15:08 2008
From: liqun.xing at basf.com (liqun.xing at basf.com)
Date: Tue, 22 Apr 2008 04:15:08 +0200 (CEST)
Subject: [Rd] Seqfault, Address 0, track X11() (PR#11231)
Message-ID: <20080422021508.201ED282EFF8@mail.pubhealth.ku.dk>

Full_Name: Liqun Xing
Version: 2.6.2
OS: Solaris 9
Submission from: (NULL) (76.182.91.82)


When first time launch X11(), it was fine. However, when closed the X11 windon
by clicking the close button, or closed it off by command Dev.off() and launched
the X11() again, got segfault, and asking for exiting R and other options.


From osklyar at maninvestments.com  Tue Apr 22 13:25:43 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 22 Apr 2008 12:25:43 +0100
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in 2.7.0
	RC
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>

Following my previous post on S3 method despatch, I put debug messages
in the code of Axis, Axis.default and plot.default in graphics/R/axis.R
and graphics/R/plot.R to print the class of x, at and y on plot. After
recompiling R, what I see is that x *lost* its class attribute (at least
for classes not known to 'graphics') in Axis, called directly from
plot.default and this could be the reason why R did not despatch on
Axis.MyClass from my previous post. This happens for both S3 and S4
classes as in the code below! Funny enough, even "integer" was reset to
numeric in Axis...

Is this really an intended behaviour? It looks very wrong to me!

Thanks,
Oleg

*** R version 2.7.0 RC (2008-04-20 r45403) [/research/osklyar/R-devel]
***
> Axis
function (x = NULL, at = NULL, ..., side, labels = NULL)
{
    cat("In Axis() class(x)=", class(x), "; class(at)=", class(at),
        "\n", sep = "")
    if (!is.null(x))
        UseMethod("Axis", x)
    else if (!is.null(at))
        UseMethod("Axis", at)
    else axis(side = side, at = at, labels = labels, ...)
}
<environment: namespace:graphics>
> graphics:::Axis.default
function (x = NULL, at = NULL, ..., side, labels = NULL)
{
    cat("In Axis.default() class(x)=", class(x), "; class(at)=",
        class(at), "\n", sep = "")
    if (is.null(at) && !is.null(x))
        at = pretty(x)
    axis(side = side, at = at, labels = labels, ...)
}
<environment: namespace:graphics>
>
> setClass("MyClass", representation(smth="character"),
contains="numeric")
[1] "MyClass"
> a = new("MyClass", runif(10))
> a
An object of class "MyClass"
 [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
0.112210501
 [7] 0.007140895 0.972028903 0.443581963 0.536452424
Slot "smth":
character(0)
> plot(1:10,a)
In plot.default() class(x)=integer; class(y)=MyClass
In Axis() class(x)=numeric; class(at)=NULL
In Axis.default() class(x)=numeric; class(at)=NULL
In Axis() class(x)=numeric; class(at)=NULL
In Axis.default() class(x)=numeric; class(at)=NULL
> plot(a,1:10)
In plot.default() class(x)=MyClass; class(y)=integer
In Axis() class(x)=numeric; class(at)=NULL
In Axis.default() class(x)=numeric; class(at)=NULL
In Axis() class(x)=numeric; class(at)=NULL
In Axis.default() class(x)=numeric; class(at)=NULL
> b = runif(10)
> class(b)="AnotherClass"
> plot(b,1:10)
In plot.default() class(x)=AnotherClass; class(y)=integer
In Axis() class(x)=numeric; class(at)=NULL
In Axis.default() class(x)=numeric; class(at)=NULL
In Axis() class(x)=numeric; class(at)=NULL
In Axis.default() class(x)=numeric; class(at)=NULL
> plot(1:10)
In plot.default() class(x)=integer; class(y)=NULL
In Axis() class(x)=numeric; class(at)=NULL
In Axis.default() class(x)=numeric; class(at)=NULL
In Axis() class(x)=numeric; class(at)=NULL
In Axis.default() class(x)=numeric; class(at)=NULL>
> sessionInfo()
R version 2.7.0 RC (2008-04-20 r45403)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_MO
NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRE
SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com


**********************************************************************
The contents of this email are for the named addressee(s) only.
It contains information which may be confidential and privileged.
If you are not the intended recipient, please notify the sender
immediately, destroy this email and any attachments and do not
otherwise disclose or use them. Email transmission is not a
secure method of communication and Man Investments cannot accept
responsibility for the completeness or accuracy of this email or
any attachments. Whilst Man Investments makes every effort to keep
its network free from viruses, it does not accept responsibility
for any computer virus which might be transferred by way of this
email or any attachments. This email does not constitute a request,
offer, recommendation or solicitation of any kind to buy, subscribe,
sell or redeem any investment instruments or to perform other such
transactions of any kind. Man Investments reserves the right to
monitor, record and retain all electronic communications through
its network to ensure the integrity of its systems, for record
keeping and regulatory purposes. 

Visit us at: www.maninvestments.com


From murdoch at stats.uwo.ca  Tue Apr 22 14:01:14 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 22 Apr 2008 08:01:14 -0400
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
 2.7.0	RC
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <480DD38A.7090004@stats.uwo.ca>

On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
> Following my previous post on S3 method despatch, I put debug messages
> in the code of Axis, Axis.default and plot.default in graphics/R/axis.R
> and graphics/R/plot.R to print the class of x, at and y on plot. After
> recompiling R, what I see is that x *lost* its class attribute (at least
> for classes not known to 'graphics') in Axis, called directly from
> plot.default and this could be the reason why R did not despatch on
> Axis.MyClass from my previous post. This happens for both S3 and S4
> classes as in the code below! Funny enough, even "integer" was reset to
> numeric in Axis...

If you look at plot.default, you'll see it passes x and y through 
xy.coords to get coordinates.  That function ends with

return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))

so that's where classes get removed.  If you don't want this to happen, 
shouldn't you be defining plot.MyClass, or calling the default with 
axes=F, and then calling Axis on your object yourself?

> Is this really an intended behaviour? It looks very wrong to me!

This is documented:  ?plot.default tells you to look at ?xy.coords for 
details of how x and y are handled, and xy.coords
says "In any other case, the 'x' argument is coerced to a vector and
      returned as *y* component where the resulting 'x' is just the
      index vector '1:n'.  In this case, the resulting 'xlab' component
      is set to '"Index"'."

Duncan Murdoch

> Thanks,
> Oleg
> 
> *** R version 2.7.0 RC (2008-04-20 r45403) [/research/osklyar/R-devel]
> ***
>> Axis
> function (x = NULL, at = NULL, ..., side, labels = NULL)
> {
>     cat("In Axis() class(x)=", class(x), "; class(at)=", class(at),
>         "\n", sep = "")
>     if (!is.null(x))
>         UseMethod("Axis", x)
>     else if (!is.null(at))
>         UseMethod("Axis", at)
>     else axis(side = side, at = at, labels = labels, ...)
> }
> <environment: namespace:graphics>
>> graphics:::Axis.default
> function (x = NULL, at = NULL, ..., side, labels = NULL)
> {
>     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
>         class(at), "\n", sep = "")
>     if (is.null(at) && !is.null(x))
>         at = pretty(x)
>     axis(side = side, at = at, labels = labels, ...)
> }
> <environment: namespace:graphics>
>> setClass("MyClass", representation(smth="character"),
> contains="numeric")
> [1] "MyClass"
>> a = new("MyClass", runif(10))
>> a
> An object of class "MyClass"
>  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
> 0.112210501
>  [7] 0.007140895 0.972028903 0.443581963 0.536452424
> Slot "smth":
> character(0)
>> plot(1:10,a)
> In plot.default() class(x)=integer; class(y)=MyClass
> In Axis() class(x)=numeric; class(at)=NULL
> In Axis.default() class(x)=numeric; class(at)=NULL
> In Axis() class(x)=numeric; class(at)=NULL
> In Axis.default() class(x)=numeric; class(at)=NULL
>> plot(a,1:10)
> In plot.default() class(x)=MyClass; class(y)=integer
> In Axis() class(x)=numeric; class(at)=NULL
> In Axis.default() class(x)=numeric; class(at)=NULL
> In Axis() class(x)=numeric; class(at)=NULL
> In Axis.default() class(x)=numeric; class(at)=NULL
>> b = runif(10)
>> class(b)="AnotherClass"
>> plot(b,1:10)
> In plot.default() class(x)=AnotherClass; class(y)=integer
> In Axis() class(x)=numeric; class(at)=NULL
> In Axis.default() class(x)=numeric; class(at)=NULL
> In Axis() class(x)=numeric; class(at)=NULL
> In Axis.default() class(x)=numeric; class(at)=NULL
>> plot(1:10)
> In plot.default() class(x)=integer; class(y)=NULL
> In Axis() class(x)=numeric; class(at)=NULL
> In Axis.default() class(x)=numeric; class(at)=NULL
> In Axis() class(x)=numeric; class(at)=NULL
> In Axis.default() class(x)=numeric; class(at)=NULL>
>> sessionInfo()
> R version 2.7.0 RC (2008-04-20 r45403)
> x86_64-unknown-linux-gnu
> 
> locale:
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_MO
> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRE
> SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> 
> Dr Oleg Sklyar
> Technology Group
> Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com
> 
> 
> **********************************************************************
> The contents of this email are for the named addressee(s) only.
> It contains information which may be confidential and privileged.
> If you are not the intended recipient, please notify the sender
> immediately, destroy this email and any attachments and do not
> otherwise disclose or use them. Email transmission is not a
> secure method of communication and Man Investments cannot accept
> responsibility for the completeness or accuracy of this email or
> any attachments. Whilst Man Investments makes every effort to keep
> its network free from viruses, it does not accept responsibility
> for any computer virus which might be transferred by way of this
> email or any attachments. This email does not constitute a request,
> offer, recommendation or solicitation of any kind to buy, subscribe,
> sell or redeem any investment instruments or to perform other such
> transactions of any kind. Man Investments reserves the right to
> monitor, record and retain all electronic communications through
> its network to ensure the integrity of its systems, for record
> keeping and regulatory purposes. 
> 
> Visit us at: www.maninvestments.com
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From osklyar at maninvestments.com  Tue Apr 22 14:53:39 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 22 Apr 2008 13:53:39 +0100
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
	2.7.0	RC
In-Reply-To: <480DD38A.7090004@stats.uwo.ca>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE4302294880@mildnpexmb01.maninvestments.ad.man.com>

Thanks Duncan,

this might explain why Axis.MyClass is never called.

However, it is really not only illogical to define plot.MyClass instead
of Axis.MyClass if the only thing I want is formatting of the axis, but
it is also broken in R 2.7.0 and here is why.

Let's forget about MyClass and take POSIXct, for which plot.POSIXct and
Axis.POSIXct are defined in graphics. First question would be, why
define Axis.POSIXct if it is logical to just define plot.POSIXct. But
then, try the following example in 2.7.0 and 2.6.2:

x = Sys.time() + runif(100,1,7200) ## time over two hours, POSIXct
plot(x,1:100)
plot(1:100,x)

The first plot will be correctly formatted in both R versions while the
second one will be *incorrectly* formatted in 2.7.0 (funny enough
xy.coords returns as.double in both, so that might not be the reason for
the problem).

What happens is that plot.POSIXct is called in the former case and thus
we get the correct formatting. However, plot.default is called in the
latter case. In 2.6.2 Axis.POSIXct was the reason why y axis was
correctly formatted here. In 2.7.0 Axis.default is called instead
because class of x is reset.

Now this perfectly indicates why it is logical to have Axis.MyClass
defined (as this two-liner would be called in all possible situations
producing correct axes independently where it is called from) and not
plot.MyClass (which would actually not cover the situation of only the
second argument being MyClass). Surely I can define S4 with multiple
signatures, but logically I would define Axis.MyClass.

Omitting axes completely is not a good options to enforce on users for
default plots, is it?


Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
> Sent: 22 April 2008 13:01
> To: Sklyar, Oleg (MI London)
> Cc: R-devel at r-project.org
> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class 
> attributes of 'x' in 2.7.0 RC
> 
> On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
> > Following my previous post on S3 method despatch, I put 
> debug messages 
> > in the code of Axis, Axis.default and plot.default in 
> > graphics/R/axis.R and graphics/R/plot.R to print the class of x, at 
> > and y on plot. After recompiling R, what I see is that x *lost* its 
> > class attribute (at least for classes not known to 'graphics') in 
> > Axis, called directly from plot.default and this could be 
> the reason 
> > why R did not despatch on Axis.MyClass from my previous post. This 
> > happens for both S3 and S4 classes as in the code below! 
> Funny enough, 
> > even "integer" was reset to numeric in Axis...
> 
> If you look at plot.default, you'll see it passes x and y 
> through xy.coords to get coordinates.  That function ends with
> 
> return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
> 
> so that's where classes get removed.  If you don't want this 
> to happen, shouldn't you be defining plot.MyClass, or calling 
> the default with axes=F, and then calling Axis on your object 
> yourself?
> 
> > Is this really an intended behaviour? It looks very wrong to me!
> 
> This is documented:  ?plot.default tells you to look at 
> ?xy.coords for details of how x and y are handled, and 
> xy.coords says "In any other case, the 'x' argument is 
> coerced to a vector and
>       returned as *y* component where the resulting 'x' is just the
>       index vector '1:n'.  In this case, the resulting 'xlab' 
> component
>       is set to '"Index"'."
> 
> Duncan Murdoch
> 
> > Thanks,
> > Oleg
> > 
> > *** R version 2.7.0 RC (2008-04-20 r45403) 
> [/research/osklyar/R-devel]
> > ***
> >> Axis
> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >     cat("In Axis() class(x)=", class(x), "; class(at)=", class(at),
> >         "\n", sep = "")
> >     if (!is.null(x))
> >         UseMethod("Axis", x)
> >     else if (!is.null(at))
> >         UseMethod("Axis", at)
> >     else axis(side = side, at = at, labels = labels, ...) }
> > <environment: namespace:graphics>
> >> graphics:::Axis.default
> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
> >         class(at), "\n", sep = "")
> >     if (is.null(at) && !is.null(x))
> >         at = pretty(x)
> >     axis(side = side, at = at, labels = labels, ...) }
> > <environment: namespace:graphics>
> >> setClass("MyClass", representation(smth="character"),
> > contains="numeric")
> > [1] "MyClass"
> >> a = new("MyClass", runif(10))
> >> a
> > An object of class "MyClass"
> >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
> > 0.112210501
> >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 Slot "smth":
> > character(0)
> >> plot(1:10,a)
> > In plot.default() class(x)=integer; class(y)=MyClass In Axis() 
> > class(x)=numeric; class(at)=NULL In Axis.default() 
> class(x)=numeric; 
> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
> > Axis.default() class(x)=numeric; class(at)=NULL
> >> plot(a,1:10)
> > In plot.default() class(x)=MyClass; class(y)=integer In Axis() 
> > class(x)=numeric; class(at)=NULL In Axis.default() 
> class(x)=numeric; 
> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
> > Axis.default() class(x)=numeric; class(at)=NULL
> >> b = runif(10)
> >> class(b)="AnotherClass"
> >> plot(b,1:10)
> > In plot.default() class(x)=AnotherClass; class(y)=integer In Axis() 
> > class(x)=numeric; class(at)=NULL In Axis.default() 
> class(x)=numeric; 
> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
> > Axis.default() class(x)=numeric; class(at)=NULL
> >> plot(1:10)
> > In plot.default() class(x)=integer; class(y)=NULL In Axis() 
> > class(x)=numeric; class(at)=NULL In Axis.default() 
> class(x)=numeric; 
> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
> > Axis.default() class(x)=numeric; class(at)=NULL>
> >> sessionInfo()
> > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
> > 
> > locale:
> > 
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_
> > MO 
> > 
> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADD
> > RE 
> SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
> > 
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> > 
> > 
> > Dr Oleg Sklyar
> > Technology Group
> > Man Investments Ltd
> > +44 (0)20 7144 3803
> > osklyar at maninvestments.com
> > 
> > 
> > 
> **********************************************************************
> > The contents of this email are for the named addressee(s) only.
> > It contains information which may be confidential and privileged.
> > If you are not the intended recipient, please notify the sender 
> > immediately, destroy this email and any attachments and do not 
> > otherwise disclose or use them. Email transmission is not a secure 
> > method of communication and Man Investments cannot accept 
> > responsibility for the completeness or accuracy of this 
> email or any 
> > attachments. Whilst Man Investments makes every effort to keep its 
> > network free from viruses, it does not accept 
> responsibility for any 
> > computer virus which might be transferred by way of this 
> email or any 
> > attachments. This email does not constitute a request, offer, 
> > recommendation or solicitation of any kind to buy, 
> subscribe, sell or 
> > redeem any investment instruments or to perform other such 
> > transactions of any kind. Man Investments reserves the right to 
> > monitor, record and retain all electronic communications 
> through its 
> > network to ensure the integrity of its systems, for record 
> keeping and 
> > regulatory purposes.
> > 
> > Visit us at: www.maninvestments.com
> > 
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 


From osklyar at maninvestments.com  Tue Apr 22 15:08:56 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 22 Apr 2008 14:08:56 +0100
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
	2.7.0	RC
In-Reply-To: <480DD38A.7090004@stats.uwo.ca>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>

Duncan,

looking further, what has changed from 2.6.2 into 2.7.0 are the
following two lines in plot.default, which I think were logical before
and are not really logical now:

plot.R: plot.default (2.6.2):
if (axes) {
	localAxis(x, side=1, ...)
	localAxis(y, side=2, ...)
}

plot.R: plot.default (2.7.0):
...
if (axes) {
	localAxis(xy$x, side=1, ...)
	localAxis(xy$y, side=2, ...)
}

The fact that xy.coords is called does not really matter.


Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
> Sent: 22 April 2008 13:01
> To: Sklyar, Oleg (MI London)
> Cc: R-devel at r-project.org
> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class 
> attributes of 'x' in 2.7.0 RC
> 
> On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
> > Following my previous post on S3 method despatch, I put 
> debug messages 
> > in the code of Axis, Axis.default and plot.default in 
> > graphics/R/axis.R and graphics/R/plot.R to print the class of x, at 
> > and y on plot. After recompiling R, what I see is that x *lost* its 
> > class attribute (at least for classes not known to 'graphics') in 
> > Axis, called directly from plot.default and this could be 
> the reason 
> > why R did not despatch on Axis.MyClass from my previous post. This 
> > happens for both S3 and S4 classes as in the code below! 
> Funny enough, 
> > even "integer" was reset to numeric in Axis...
> 
> If you look at plot.default, you'll see it passes x and y 
> through xy.coords to get coordinates.  That function ends with
> 
> return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
> 
> so that's where classes get removed.  If you don't want this 
> to happen, shouldn't you be defining plot.MyClass, or calling 
> the default with axes=F, and then calling Axis on your object 
> yourself?
> 
> > Is this really an intended behaviour? It looks very wrong to me!
> 
> This is documented:  ?plot.default tells you to look at 
> ?xy.coords for details of how x and y are handled, and 
> xy.coords says "In any other case, the 'x' argument is 
> coerced to a vector and
>       returned as *y* component where the resulting 'x' is just the
>       index vector '1:n'.  In this case, the resulting 'xlab' 
> component
>       is set to '"Index"'."
> 
> Duncan Murdoch
> 
> > Thanks,
> > Oleg
> > 
> > *** R version 2.7.0 RC (2008-04-20 r45403) 
> [/research/osklyar/R-devel]
> > ***
> >> Axis
> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >     cat("In Axis() class(x)=", class(x), "; class(at)=", class(at),
> >         "\n", sep = "")
> >     if (!is.null(x))
> >         UseMethod("Axis", x)
> >     else if (!is.null(at))
> >         UseMethod("Axis", at)
> >     else axis(side = side, at = at, labels = labels, ...) }
> > <environment: namespace:graphics>
> >> graphics:::Axis.default
> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
> >         class(at), "\n", sep = "")
> >     if (is.null(at) && !is.null(x))
> >         at = pretty(x)
> >     axis(side = side, at = at, labels = labels, ...) }
> > <environment: namespace:graphics>
> >> setClass("MyClass", representation(smth="character"),
> > contains="numeric")
> > [1] "MyClass"
> >> a = new("MyClass", runif(10))
> >> a
> > An object of class "MyClass"
> >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
> > 0.112210501
> >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 Slot "smth":
> > character(0)
> >> plot(1:10,a)
> > In plot.default() class(x)=integer; class(y)=MyClass In Axis() 
> > class(x)=numeric; class(at)=NULL In Axis.default() 
> class(x)=numeric; 
> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
> > Axis.default() class(x)=numeric; class(at)=NULL
> >> plot(a,1:10)
> > In plot.default() class(x)=MyClass; class(y)=integer In Axis() 
> > class(x)=numeric; class(at)=NULL In Axis.default() 
> class(x)=numeric; 
> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
> > Axis.default() class(x)=numeric; class(at)=NULL
> >> b = runif(10)
> >> class(b)="AnotherClass"
> >> plot(b,1:10)
> > In plot.default() class(x)=AnotherClass; class(y)=integer In Axis() 
> > class(x)=numeric; class(at)=NULL In Axis.default() 
> class(x)=numeric; 
> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
> > Axis.default() class(x)=numeric; class(at)=NULL
> >> plot(1:10)
> > In plot.default() class(x)=integer; class(y)=NULL In Axis() 
> > class(x)=numeric; class(at)=NULL In Axis.default() 
> class(x)=numeric; 
> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
> > Axis.default() class(x)=numeric; class(at)=NULL>
> >> sessionInfo()
> > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
> > 
> > locale:
> > 
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_
> > MO 
> > 
> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADD
> > RE 
> SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
> > 
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> > 
> > 
> > Dr Oleg Sklyar
> > Technology Group
> > Man Investments Ltd
> > +44 (0)20 7144 3803
> > osklyar at maninvestments.com
> > 
> > 
> > 
> **********************************************************************
> > The contents of this email are for the named addressee(s) only.
> > It contains information which may be confidential and privileged.
> > If you are not the intended recipient, please notify the sender 
> > immediately, destroy this email and any attachments and do not 
> > otherwise disclose or use them. Email transmission is not a secure 
> > method of communication and Man Investments cannot accept 
> > responsibility for the completeness or accuracy of this 
> email or any 
> > attachments. Whilst Man Investments makes every effort to keep its 
> > network free from viruses, it does not accept 
> responsibility for any 
> > computer virus which might be transferred by way of this 
> email or any 
> > attachments. This email does not constitute a request, offer, 
> > recommendation or solicitation of any kind to buy, 
> subscribe, sell or 
> > redeem any investment instruments or to perform other such 
> > transactions of any kind. Man Investments reserves the right to 
> > monitor, record and retain all electronic communications 
> through its 
> > network to ensure the integrity of its systems, for record 
> keeping and 
> > regulatory purposes.
> > 
> > Visit us at: www.maninvestments.com
> > 
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 


From ggrothendieck at gmail.com  Tue Apr 22 15:11:40 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 22 Apr 2008 09:11:40 -0400
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
	2.7.0 RC
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294880@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294880@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <971536df0804220611l3b30d0e8q34b88bc9b992e5fd@mail.gmail.com>

This also affects Axis.yearmon and Axis.yearqtr in the
zoo package which worked in R 2.6.2 and now don't work
properly.   It seems more logical to define plot.whatever
to handle the object in question, i.e. we do define plot.zoo,
whereas only the Axis method ought to be required for the
X and Y coordinate axes.

On Tue, Apr 22, 2008 at 8:53 AM, Sklyar, Oleg (MI London)
<osklyar at maninvestments.com> wrote:
> Thanks Duncan,
>
> this might explain why Axis.MyClass is never called.
>
> However, it is really not only illogical to define plot.MyClass instead
> of Axis.MyClass if the only thing I want is formatting of the axis, but
> it is also broken in R 2.7.0 and here is why.
>
> Let's forget about MyClass and take POSIXct, for which plot.POSIXct and
> Axis.POSIXct are defined in graphics. First question would be, why
> define Axis.POSIXct if it is logical to just define plot.POSIXct. But
> then, try the following example in 2.7.0 and 2.6.2:
>
> x = Sys.time() + runif(100,1,7200) ## time over two hours, POSIXct
> plot(x,1:100)
> plot(1:100,x)
>
> The first plot will be correctly formatted in both R versions while the
> second one will be *incorrectly* formatted in 2.7.0 (funny enough
> xy.coords returns as.double in both, so that might not be the reason for
> the problem).
>
> What happens is that plot.POSIXct is called in the former case and thus
> we get the correct formatting. However, plot.default is called in the
> latter case. In 2.6.2 Axis.POSIXct was the reason why y axis was
> correctly formatted here. In 2.7.0 Axis.default is called instead
> because class of x is reset.
>
> Now this perfectly indicates why it is logical to have Axis.MyClass
> defined (as this two-liner would be called in all possible situations
> producing correct axes independently where it is called from) and not
> plot.MyClass (which would actually not cover the situation of only the
> second argument being MyClass). Surely I can define S4 with multiple
> signatures, but logically I would define Axis.MyClass.
>
> Omitting axes completely is not a good options to enforce on users for
> default plots, is it?
>
>
> Dr Oleg Sklyar
> Technology Group
> Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com
>
>
> > -----Original Message-----
> > From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca]
> > Sent: 22 April 2008 13:01
> > To: Sklyar, Oleg (MI London)
> > Cc: R-devel at r-project.org
> > Subject: Re: [Rd] graphics::Axis loosing S3/S4 class
> > attributes of 'x' in 2.7.0 RC
> >
> > On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
> > > Following my previous post on S3 method despatch, I put
> > debug messages
> > > in the code of Axis, Axis.default and plot.default in
> > > graphics/R/axis.R and graphics/R/plot.R to print the class of x, at
> > > and y on plot. After recompiling R, what I see is that x *lost* its
> > > class attribute (at least for classes not known to 'graphics') in
> > > Axis, called directly from plot.default and this could be
> > the reason
> > > why R did not despatch on Axis.MyClass from my previous post. This
> > > happens for both S3 and S4 classes as in the code below!
> > Funny enough,
> > > even "integer" was reset to numeric in Axis...
> >
> > If you look at plot.default, you'll see it passes x and y
> > through xy.coords to get coordinates.  That function ends with
> >
> > return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
> >
> > so that's where classes get removed.  If you don't want this
> > to happen, shouldn't you be defining plot.MyClass, or calling
> > the default with axes=F, and then calling Axis on your object
> > yourself?
> >
> > > Is this really an intended behaviour? It looks very wrong to me!
> >
> > This is documented:  ?plot.default tells you to look at
> > ?xy.coords for details of how x and y are handled, and
> > xy.coords says "In any other case, the 'x' argument is
> > coerced to a vector and
> >       returned as *y* component where the resulting 'x' is just the
> >       index vector '1:n'.  In this case, the resulting 'xlab'
> > component
> >       is set to '"Index"'."
> >
> > Duncan Murdoch
> >
> > > Thanks,
> > > Oleg
> > >
> > > *** R version 2.7.0 RC (2008-04-20 r45403)
> > [/research/osklyar/R-devel]
> > > ***
> > >> Axis
> > > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> > >     cat("In Axis() class(x)=", class(x), "; class(at)=", class(at),
> > >         "\n", sep = "")
> > >     if (!is.null(x))
> > >         UseMethod("Axis", x)
> > >     else if (!is.null(at))
> > >         UseMethod("Axis", at)
> > >     else axis(side = side, at = at, labels = labels, ...) }
> > > <environment: namespace:graphics>
> > >> graphics:::Axis.default
> > > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> > >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
> > >         class(at), "\n", sep = "")
> > >     if (is.null(at) && !is.null(x))
> > >         at = pretty(x)
> > >     axis(side = side, at = at, labels = labels, ...) }
> > > <environment: namespace:graphics>
> > >> setClass("MyClass", representation(smth="character"),
> > > contains="numeric")
> > > [1] "MyClass"
> > >> a = new("MyClass", runif(10))
> > >> a
> > > An object of class "MyClass"
> > >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
> > > 0.112210501
> > >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 Slot "smth":
> > > character(0)
> > >> plot(1:10,a)
> > > In plot.default() class(x)=integer; class(y)=MyClass In Axis()
> > > class(x)=numeric; class(at)=NULL In Axis.default()
> > class(x)=numeric;
> > > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> > > Axis.default() class(x)=numeric; class(at)=NULL
> > >> plot(a,1:10)
> > > In plot.default() class(x)=MyClass; class(y)=integer In Axis()
> > > class(x)=numeric; class(at)=NULL In Axis.default()
> > class(x)=numeric;
> > > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> > > Axis.default() class(x)=numeric; class(at)=NULL
> > >> b = runif(10)
> > >> class(b)="AnotherClass"
> > >> plot(b,1:10)
> > > In plot.default() class(x)=AnotherClass; class(y)=integer In Axis()
> > > class(x)=numeric; class(at)=NULL In Axis.default()
> > class(x)=numeric;
> > > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> > > Axis.default() class(x)=numeric; class(at)=NULL
> > >> plot(1:10)
> > > In plot.default() class(x)=integer; class(y)=NULL In Axis()
> > > class(x)=numeric; class(at)=NULL In Axis.default()
> > class(x)=numeric;
> > > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> > > Axis.default() class(x)=numeric; class(at)=NULL>
> > >> sessionInfo()
> > > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
> > >
> > > locale:
> > >
> > LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_
> > > MO
> > >
> > NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADD
> > > RE
> > SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
> > >
> > > attached base packages:
> > > [1] stats     graphics  grDevices utils     datasets  methods   base
> > >
> > >
> > > Dr Oleg Sklyar
> > > Technology Group
> > > Man Investments Ltd
> > > +44 (0)20 7144 3803
> > > osklyar at maninvestments.com
> > >
> > >
> > >
> > **********************************************************************
> > > The contents of this email are for the named addressee(s) only.
> > > It contains information which may be confidential and privileged.
> > > If you are not the intended recipient, please notify the sender
> > > immediately, destroy this email and any attachments and do not
> > > otherwise disclose or use them. Email transmission is not a secure
> > > method of communication and Man Investments cannot accept
> > > responsibility for the completeness or accuracy of this
> > email or any
> > > attachments. Whilst Man Investments makes every effort to keep its
> > > network free from viruses, it does not accept
> > responsibility for any
> > > computer virus which might be transferred by way of this
> > email or any
> > > attachments. This email does not constitute a request, offer,
> > > recommendation or solicitation of any kind to buy,
> > subscribe, sell or
> > > redeem any investment instruments or to perform other such
> > > transactions of any kind. Man Investments reserves the right to
> > > monitor, record and retain all electronic communications
> > through its
> > > network to ensure the integrity of its systems, for record
> > keeping and
> > > regulatory purposes.
> > >
> > > Visit us at: www.maninvestments.com
> > >
> > > ______________________________________________
> > > R-devel at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> >
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From osklyar at maninvestments.com  Tue Apr 22 15:12:49 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 22 Apr 2008 14:12:49 +0100
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
	2.7.0 RC
In-Reply-To: <971536df0804220611l3b30d0e8q34b88bc9b992e5fd@mail.gmail.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294880@mildnpexmb01.maninvestments.ad.man.com>
	<971536df0804220611l3b30d0e8q34b88bc9b992e5fd@mail.gmail.com>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE4302294882@mildnpexmb01.maninvestments.ad.man.com>

Lines 69/70 in plot.R of graphics:

xy$x and xy$y should have stayed as x and y

Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: Gabor Grothendieck [mailto:ggrothendieck at gmail.com] 
> Sent: 22 April 2008 14:12
> To: Sklyar, Oleg (MI London)
> Cc: Duncan Murdoch; R-devel at r-project.org
> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class 
> attributes of 'x' in 2.7.0 RC
> 
> This also affects Axis.yearmon and Axis.yearqtr in the zoo 
> package which worked in R 2.6.2 and now don't work
> properly.   It seems more logical to define plot.whatever
> to handle the object in question, i.e. we do define plot.zoo, 
> whereas only the Axis method ought to be required for the X 
> and Y coordinate axes.
> 
> On Tue, Apr 22, 2008 at 8:53 AM, Sklyar, Oleg (MI London) 
> <osklyar at maninvestments.com> wrote:
> > Thanks Duncan,
> >
> > this might explain why Axis.MyClass is never called.
> >
> > However, it is really not only illogical to define plot.MyClass 
> > instead of Axis.MyClass if the only thing I want is 
> formatting of the 
> > axis, but it is also broken in R 2.7.0 and here is why.
> >
> > Let's forget about MyClass and take POSIXct, for which plot.POSIXct 
> > and Axis.POSIXct are defined in graphics. First question 
> would be, why 
> > define Axis.POSIXct if it is logical to just define 
> plot.POSIXct. But 
> > then, try the following example in 2.7.0 and 2.6.2:
> >
> > x = Sys.time() + runif(100,1,7200) ## time over two hours, POSIXct
> > plot(x,1:100)
> > plot(1:100,x)
> >
> > The first plot will be correctly formatted in both R versions while 
> > the second one will be *incorrectly* formatted in 2.7.0 
> (funny enough 
> > xy.coords returns as.double in both, so that might not be 
> the reason 
> > for the problem).
> >
> > What happens is that plot.POSIXct is called in the former case and 
> > thus we get the correct formatting. However, plot.default 
> is called in 
> > the latter case. In 2.6.2 Axis.POSIXct was the reason why y 
> axis was 
> > correctly formatted here. In 2.7.0 Axis.default is called instead 
> > because class of x is reset.
> >
> > Now this perfectly indicates why it is logical to have Axis.MyClass 
> > defined (as this two-liner would be called in all possible 
> situations 
> > producing correct axes independently where it is called 
> from) and not 
> > plot.MyClass (which would actually not cover the situation 
> of only the 
> > second argument being MyClass). Surely I can define S4 with 
> multiple 
> > signatures, but logically I would define Axis.MyClass.
> >
> > Omitting axes completely is not a good options to enforce 
> on users for 
> > default plots, is it?
> >
> >
> > Dr Oleg Sklyar
> > Technology Group
> > Man Investments Ltd
> > +44 (0)20 7144 3803
> > osklyar at maninvestments.com
> >
> >
> > > -----Original Message-----
> > > From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca]
> > > Sent: 22 April 2008 13:01
> > > To: Sklyar, Oleg (MI London)
> > > Cc: R-devel at r-project.org
> > > Subject: Re: [Rd] graphics::Axis loosing S3/S4 class 
> attributes of 
> > > 'x' in 2.7.0 RC
> > >
> > > On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
> > > > Following my previous post on S3 method despatch, I put
> > > debug messages
> > > > in the code of Axis, Axis.default and plot.default in 
> > > > graphics/R/axis.R and graphics/R/plot.R to print the 
> class of x, 
> > > > at and y on plot. After recompiling R, what I see is 
> that x *lost* 
> > > > its class attribute (at least for classes not known to 
> 'graphics') 
> > > > in Axis, called directly from plot.default and this could be
> > > the reason
> > > > why R did not despatch on Axis.MyClass from my previous 
> post. This 
> > > > happens for both S3 and S4 classes as in the code below!
> > > Funny enough,
> > > > even "integer" was reset to numeric in Axis...
> > >
> > > If you look at plot.default, you'll see it passes x and y through 
> > > xy.coords to get coordinates.  That function ends with
> > >
> > > return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
> > >
> > > so that's where classes get removed.  If you don't want this to 
> > > happen, shouldn't you be defining plot.MyClass, or calling the 
> > > default with axes=F, and then calling Axis on your object 
> yourself?
> > >
> > > > Is this really an intended behaviour? It looks very wrong to me!
> > >
> > > This is documented:  ?plot.default tells you to look at 
> ?xy.coords 
> > > for details of how x and y are handled, and xy.coords 
> says "In any 
> > > other case, the 'x' argument is coerced to a vector and
> > >       returned as *y* component where the resulting 'x' 
> is just the
> > >       index vector '1:n'.  In this case, the resulting 'xlab'
> > > component
> > >       is set to '"Index"'."
> > >
> > > Duncan Murdoch
> > >
> > > > Thanks,
> > > > Oleg
> > > >
> > > > *** R version 2.7.0 RC (2008-04-20 r45403)
> > > [/research/osklyar/R-devel]
> > > > ***
> > > >> Axis
> > > > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> > > >     cat("In Axis() class(x)=", class(x), "; 
> class(at)=", class(at),
> > > >         "\n", sep = "")
> > > >     if (!is.null(x))
> > > >         UseMethod("Axis", x)
> > > >     else if (!is.null(at))
> > > >         UseMethod("Axis", at)
> > > >     else axis(side = side, at = at, labels = labels, ...) }
> > > > <environment: namespace:graphics>
> > > >> graphics:::Axis.default
> > > > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> > > >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
> > > >         class(at), "\n", sep = "")
> > > >     if (is.null(at) && !is.null(x))
> > > >         at = pretty(x)
> > > >     axis(side = side, at = at, labels = labels, ...) }
> > > > <environment: namespace:graphics>
> > > >> setClass("MyClass", representation(smth="character"),
> > > > contains="numeric")
> > > > [1] "MyClass"
> > > >> a = new("MyClass", runif(10))
> > > >> a
> > > > An object of class "MyClass"
> > > >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
> > > > 0.112210501
> > > >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 
> Slot "smth":
> > > > character(0)
> > > >> plot(1:10,a)
> > > > In plot.default() class(x)=integer; class(y)=MyClass In Axis() 
> > > > class(x)=numeric; class(at)=NULL In Axis.default()
> > > class(x)=numeric;
> > > > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> > > > Axis.default() class(x)=numeric; class(at)=NULL
> > > >> plot(a,1:10)
> > > > In plot.default() class(x)=MyClass; class(y)=integer In Axis() 
> > > > class(x)=numeric; class(at)=NULL In Axis.default()
> > > class(x)=numeric;
> > > > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> > > > Axis.default() class(x)=numeric; class(at)=NULL
> > > >> b = runif(10)
> > > >> class(b)="AnotherClass"
> > > >> plot(b,1:10)
> > > > In plot.default() class(x)=AnotherClass; class(y)=integer In 
> > > > Axis() class(x)=numeric; class(at)=NULL In Axis.default()
> > > class(x)=numeric;
> > > > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> > > > Axis.default() class(x)=numeric; class(at)=NULL
> > > >> plot(1:10)
> > > > In plot.default() class(x)=integer; class(y)=NULL In Axis() 
> > > > class(x)=numeric; class(at)=NULL In Axis.default()
> > > class(x)=numeric;
> > > > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> > > > Axis.default() class(x)=numeric; class(at)=NULL>
> > > >> sessionInfo()
> > > > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
> > > >
> > > > locale:
> > > >
> > > 
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;L
> > > C_
> > > > MO
> > > >
> > > 
> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_A
> > > DD
> > > > RE
> > > SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
> > > >
> > > > attached base packages:
> > > > [1] stats     graphics  grDevices utils     datasets  
> methods   base
> > > >
> > > >
> > > > Dr Oleg Sklyar
> > > > Technology Group
> > > > Man Investments Ltd
> > > > +44 (0)20 7144 3803
> > > > osklyar at maninvestments.com
> > > >
> > > >
> > > >
> > > 
> ********************************************************************
> > > **
> > > > The contents of this email are for the named addressee(s) only.
> > > > It contains information which may be confidential and 
> privileged.
> > > > If you are not the intended recipient, please notify the sender 
> > > > immediately, destroy this email and any attachments and do not 
> > > > otherwise disclose or use them. Email transmission is 
> not a secure 
> > > > method of communication and Man Investments cannot accept 
> > > > responsibility for the completeness or accuracy of this
> > > email or any
> > > > attachments. Whilst Man Investments makes every effort 
> to keep its 
> > > > network free from viruses, it does not accept
> > > responsibility for any
> > > > computer virus which might be transferred by way of this
> > > email or any
> > > > attachments. This email does not constitute a request, offer, 
> > > > recommendation or solicitation of any kind to buy,
> > > subscribe, sell or
> > > > redeem any investment instruments or to perform other such 
> > > > transactions of any kind. Man Investments reserves the right to 
> > > > monitor, record and retain all electronic communications
> > > through its
> > > > network to ensure the integrity of its systems, for record
> > > keeping and
> > > > regulatory purposes.
> > > >
> > > > Visit us at: www.maninvestments.com
> > > >
> > > > ______________________________________________
> > > > R-devel at r-project.org mailing list 
> > > > https://stat.ethz.ch/mailman/listinfo/r-devel
> > >
> > >
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> 


From murdoch at stats.uwo.ca  Tue Apr 22 15:24:24 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 22 Apr 2008 09:24:24 -0400
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
 2.7.0	RC
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <480DE708.3030104@stats.uwo.ca>

On 4/22/2008 9:08 AM, Sklyar, Oleg (MI London) wrote:
> Duncan,
> 
> looking further, what has changed from 2.6.2 into 2.7.0 are the
> following two lines in plot.default, which I think were logical before
> and are not really logical now:

I believe it is behaving as documented now, so the behaviour is 
"logical", even if it may not be convenient.  In your example

x = Sys.time() + runif(100,1,7200) ## time over two hours, POSIXct
plot(x, 1:100)
plot(1:100, x)

the 1st works in 2.6.2 and 2.7.0 and the second only works in 2.6.2. 
But the change below was designed to fix the case

plot(x)

which works in 2.7.0 and *not* in 2.6.2, so reverting the change is not 
the way to address this.

Duncan Murdoch

> 
> plot.R: plot.default (2.6.2):
> if (axes) {
> 	localAxis(x, side=1, ...)
> 	localAxis(y, side=2, ...)
> }
> 
> plot.R: plot.default (2.7.0):
> ...
> if (axes) {
> 	localAxis(xy$x, side=1, ...)
> 	localAxis(xy$y, side=2, ...)
> }
> 
> The fact that xy.coords is called does not really matter.
> 
> 
> Dr Oleg Sklyar
> Technology Group
> Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com 
> 
>> -----Original Message-----
>> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
>> Sent: 22 April 2008 13:01
>> To: Sklyar, Oleg (MI London)
>> Cc: R-devel at r-project.org
>> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class 
>> attributes of 'x' in 2.7.0 RC
>> 
>> On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
>> > Following my previous post on S3 method despatch, I put 
>> debug messages 
>> > in the code of Axis, Axis.default and plot.default in 
>> > graphics/R/axis.R and graphics/R/plot.R to print the class of x, at 
>> > and y on plot. After recompiling R, what I see is that x *lost* its 
>> > class attribute (at least for classes not known to 'graphics') in 
>> > Axis, called directly from plot.default and this could be 
>> the reason 
>> > why R did not despatch on Axis.MyClass from my previous post. This 
>> > happens for both S3 and S4 classes as in the code below! 
>> Funny enough, 
>> > even "integer" was reset to numeric in Axis...
>> 
>> If you look at plot.default, you'll see it passes x and y 
>> through xy.coords to get coordinates.  That function ends with
>> 
>> return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
>> 
>> so that's where classes get removed.  If you don't want this 
>> to happen, shouldn't you be defining plot.MyClass, or calling 
>> the default with axes=F, and then calling Axis on your object 
>> yourself?
>> 
>> > Is this really an intended behaviour? It looks very wrong to me!
>> 
>> This is documented:  ?plot.default tells you to look at 
>> ?xy.coords for details of how x and y are handled, and 
>> xy.coords says "In any other case, the 'x' argument is 
>> coerced to a vector and
>>       returned as *y* component where the resulting 'x' is just the
>>       index vector '1:n'.  In this case, the resulting 'xlab' 
>> component
>>       is set to '"Index"'."
>> 
>> Duncan Murdoch
>> 
>> > Thanks,
>> > Oleg
>> > 
>> > *** R version 2.7.0 RC (2008-04-20 r45403) 
>> [/research/osklyar/R-devel]
>> > ***
>> >> Axis
>> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
>> >     cat("In Axis() class(x)=", class(x), "; class(at)=", class(at),
>> >         "\n", sep = "")
>> >     if (!is.null(x))
>> >         UseMethod("Axis", x)
>> >     else if (!is.null(at))
>> >         UseMethod("Axis", at)
>> >     else axis(side = side, at = at, labels = labels, ...) }
>> > <environment: namespace:graphics>
>> >> graphics:::Axis.default
>> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
>> >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
>> >         class(at), "\n", sep = "")
>> >     if (is.null(at) && !is.null(x))
>> >         at = pretty(x)
>> >     axis(side = side, at = at, labels = labels, ...) }
>> > <environment: namespace:graphics>
>> >> setClass("MyClass", representation(smth="character"),
>> > contains="numeric")
>> > [1] "MyClass"
>> >> a = new("MyClass", runif(10))
>> >> a
>> > An object of class "MyClass"
>> >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
>> > 0.112210501
>> >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 Slot "smth":
>> > character(0)
>> >> plot(1:10,a)
>> > In plot.default() class(x)=integer; class(y)=MyClass In Axis() 
>> > class(x)=numeric; class(at)=NULL In Axis.default() 
>> class(x)=numeric; 
>> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
>> > Axis.default() class(x)=numeric; class(at)=NULL
>> >> plot(a,1:10)
>> > In plot.default() class(x)=MyClass; class(y)=integer In Axis() 
>> > class(x)=numeric; class(at)=NULL In Axis.default() 
>> class(x)=numeric; 
>> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
>> > Axis.default() class(x)=numeric; class(at)=NULL
>> >> b = runif(10)
>> >> class(b)="AnotherClass"
>> >> plot(b,1:10)
>> > In plot.default() class(x)=AnotherClass; class(y)=integer In Axis() 
>> > class(x)=numeric; class(at)=NULL In Axis.default() 
>> class(x)=numeric; 
>> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
>> > Axis.default() class(x)=numeric; class(at)=NULL
>> >> plot(1:10)
>> > In plot.default() class(x)=integer; class(y)=NULL In Axis() 
>> > class(x)=numeric; class(at)=NULL In Axis.default() 
>> class(x)=numeric; 
>> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In 
>> > Axis.default() class(x)=numeric; class(at)=NULL>
>> >> sessionInfo()
>> > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
>> > 
>> > locale:
>> > 
>> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC_
>> > MO 
>> > 
>> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADD
>> > RE 
>> SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
>> > 
>> > attached base packages:
>> > [1] stats     graphics  grDevices utils     datasets  methods   base
>> > 
>> > 
>> > Dr Oleg Sklyar
>> > Technology Group
>> > Man Investments Ltd
>> > +44 (0)20 7144 3803
>> > osklyar at maninvestments.com
>> > 
>> > 
>> > 
>> **********************************************************************
>> > The contents of this email are for the named addressee(s) only.
>> > It contains information which may be confidential and privileged.
>> > If you are not the intended recipient, please notify the sender 
>> > immediately, destroy this email and any attachments and do not 
>> > otherwise disclose or use them. Email transmission is not a secure 
>> > method of communication and Man Investments cannot accept 
>> > responsibility for the completeness or accuracy of this 
>> email or any 
>> > attachments. Whilst Man Investments makes every effort to keep its 
>> > network free from viruses, it does not accept 
>> responsibility for any 
>> > computer virus which might be transferred by way of this 
>> email or any 
>> > attachments. This email does not constitute a request, offer, 
>> > recommendation or solicitation of any kind to buy, 
>> subscribe, sell or 
>> > redeem any investment instruments or to perform other such 
>> > transactions of any kind. Man Investments reserves the right to 
>> > monitor, record and retain all electronic communications 
>> through its 
>> > network to ensure the integrity of its systems, for record 
>> keeping and 
>> > regulatory purposes.
>> > 
>> > Visit us at: www.maninvestments.com
>> > 
>> > ______________________________________________
>> > R-devel at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-devel
>> 
>>


From osklyar at maninvestments.com  Tue Apr 22 15:44:01 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 22 Apr 2008 14:44:01 +0100
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
	2.7.0	RC
In-Reply-To: <480DE708.3030104@stats.uwo.ca>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>
	<480DE708.3030104@stats.uwo.ca>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE4302294883@mildnpexmb01.maninvestments.ad.man.com>

So if plot(x) produced rubbish in 2.6.2 in sense of axis formatting
would not that mean that either plot.POSIXct or in fact Axis.POSIXct is
incorrectly defined? I will have a look at those to see if I can find a
fix.

Anyway, it does not seem to have any sense to argue any further, because
for me documented and logical are not the same things. 

This "fix" effectively makes Axis.POSIXct and all other Axis.* methods
useless as there is now no despatch on Axis taking place in plot.default
and thus it is not clear why Axis and not Axis.default is actually used?
This would at least make the code cleaner. I was thinking that the idea
of methods is actually to have different implementations depending on
the argument class rather than coerce everything to double and use the
default instead.

Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
> Sent: 22 April 2008 14:24
> To: Sklyar, Oleg (MI London)
> Cc: R-devel at r-project.org
> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class 
> attributes of 'x' in 2.7.0 RC
> 
> On 4/22/2008 9:08 AM, Sklyar, Oleg (MI London) wrote:
> > Duncan,
> > 
> > looking further, what has changed from 2.6.2 into 2.7.0 are the 
> > following two lines in plot.default, which I think were 
> logical before 
> > and are not really logical now:
> 
> I believe it is behaving as documented now, so the behaviour 
> is "logical", even if it may not be convenient.  In your example
> 
> x = Sys.time() + runif(100,1,7200) ## time over two hours, 
> POSIXct plot(x, 1:100) plot(1:100, x)
> 
> the 1st works in 2.6.2 and 2.7.0 and the second only works in 2.6.2. 
> But the change below was designed to fix the case
> 
> plot(x)
> 
> which works in 2.7.0 and *not* in 2.6.2, so reverting the 
> change is not the way to address this.
> 
> Duncan Murdoch
> 
> > 
> > plot.R: plot.default (2.6.2):
> > if (axes) {
> > 	localAxis(x, side=1, ...)
> > 	localAxis(y, side=2, ...)
> > }
> > 
> > plot.R: plot.default (2.7.0):
> > ...
> > if (axes) {
> > 	localAxis(xy$x, side=1, ...)
> > 	localAxis(xy$y, side=2, ...)
> > }
> > 
> > The fact that xy.coords is called does not really matter.
> > 
> > 
> > Dr Oleg Sklyar
> > Technology Group
> > Man Investments Ltd
> > +44 (0)20 7144 3803
> > osklyar at maninvestments.com
> > 
> >> -----Original Message-----
> >> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca]
> >> Sent: 22 April 2008 13:01
> >> To: Sklyar, Oleg (MI London)
> >> Cc: R-devel at r-project.org
> >> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class attributes of 
> >> 'x' in 2.7.0 RC
> >> 
> >> On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
> >> > Following my previous post on S3 method despatch, I put
> >> debug messages
> >> > in the code of Axis, Axis.default and plot.default in 
> >> > graphics/R/axis.R and graphics/R/plot.R to print the 
> class of x, at 
> >> > and y on plot. After recompiling R, what I see is that x 
> *lost* its 
> >> > class attribute (at least for classes not known to 
> 'graphics') in 
> >> > Axis, called directly from plot.default and this could be
> >> the reason
> >> > why R did not despatch on Axis.MyClass from my previous 
> post. This 
> >> > happens for both S3 and S4 classes as in the code below!
> >> Funny enough,
> >> > even "integer" was reset to numeric in Axis...
> >> 
> >> If you look at plot.default, you'll see it passes x and y through 
> >> xy.coords to get coordinates.  That function ends with
> >> 
> >> return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
> >> 
> >> so that's where classes get removed.  If you don't want this to 
> >> happen, shouldn't you be defining plot.MyClass, or calling the 
> >> default with axes=F, and then calling Axis on your object yourself?
> >> 
> >> > Is this really an intended behaviour? It looks very wrong to me!
> >> 
> >> This is documented:  ?plot.default tells you to look at ?xy.coords 
> >> for details of how x and y are handled, and xy.coords says "In any 
> >> other case, the 'x' argument is coerced to a vector and
> >>       returned as *y* component where the resulting 'x' is just the
> >>       index vector '1:n'.  In this case, the resulting 'xlab' 
> >> component
> >>       is set to '"Index"'."
> >> 
> >> Duncan Murdoch
> >> 
> >> > Thanks,
> >> > Oleg
> >> > 
> >> > *** R version 2.7.0 RC (2008-04-20 r45403)
> >> [/research/osklyar/R-devel]
> >> > ***
> >> >> Axis
> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >> >     cat("In Axis() class(x)=", class(x), "; class(at)=", 
> class(at),
> >> >         "\n", sep = "")
> >> >     if (!is.null(x))
> >> >         UseMethod("Axis", x)
> >> >     else if (!is.null(at))
> >> >         UseMethod("Axis", at)
> >> >     else axis(side = side, at = at, labels = labels, ...) }
> >> > <environment: namespace:graphics>
> >> >> graphics:::Axis.default
> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >> >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
> >> >         class(at), "\n", sep = "")
> >> >     if (is.null(at) && !is.null(x))
> >> >         at = pretty(x)
> >> >     axis(side = side, at = at, labels = labels, ...) }
> >> > <environment: namespace:graphics>
> >> >> setClass("MyClass", representation(smth="character"),
> >> > contains="numeric")
> >> > [1] "MyClass"
> >> >> a = new("MyClass", runif(10))
> >> >> a
> >> > An object of class "MyClass"
> >> >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
> >> > 0.112210501
> >> >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 Slot "smth":
> >> > character(0)
> >> >> plot(1:10,a)
> >> > In plot.default() class(x)=integer; class(y)=MyClass In Axis() 
> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> class(x)=numeric;
> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> > Axis.default() class(x)=numeric; class(at)=NULL
> >> >> plot(a,1:10)
> >> > In plot.default() class(x)=MyClass; class(y)=integer In Axis() 
> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> class(x)=numeric;
> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> > Axis.default() class(x)=numeric; class(at)=NULL
> >> >> b = runif(10)
> >> >> class(b)="AnotherClass"
> >> >> plot(b,1:10)
> >> > In plot.default() class(x)=AnotherClass; 
> class(y)=integer In Axis() 
> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> class(x)=numeric;
> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> > Axis.default() class(x)=numeric; class(at)=NULL
> >> >> plot(1:10)
> >> > In plot.default() class(x)=integer; class(y)=NULL In Axis() 
> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> class(x)=numeric;
> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> > Axis.default() class(x)=numeric; class(at)=NULL>
> >> >> sessionInfo()
> >> > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
> >> > 
> >> > locale:
> >> > 
> >> 
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC
> >> _
> >> > MO
> >> > 
> >> 
> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_AD
> >> D
> >> > RE
> >> SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
> >> > 
> >> > attached base packages:
> >> > [1] stats     graphics  grDevices utils     datasets  
> methods   base
> >> > 
> >> > 
> >> > Dr Oleg Sklyar
> >> > Technology Group
> >> > Man Investments Ltd
> >> > +44 (0)20 7144 3803
> >> > osklyar at maninvestments.com
> >> > 
> >> > 
> >> > 
> >> 
> *********************************************************************
> >> *
> >> > The contents of this email are for the named addressee(s) only.
> >> > It contains information which may be confidential and privileged.
> >> > If you are not the intended recipient, please notify the sender 
> >> > immediately, destroy this email and any attachments and do not 
> >> > otherwise disclose or use them. Email transmission is 
> not a secure 
> >> > method of communication and Man Investments cannot accept 
> >> > responsibility for the completeness or accuracy of this
> >> email or any
> >> > attachments. Whilst Man Investments makes every effort 
> to keep its 
> >> > network free from viruses, it does not accept
> >> responsibility for any
> >> > computer virus which might be transferred by way of this
> >> email or any
> >> > attachments. This email does not constitute a request, offer, 
> >> > recommendation or solicitation of any kind to buy,
> >> subscribe, sell or
> >> > redeem any investment instruments or to perform other such 
> >> > transactions of any kind. Man Investments reserves the right to 
> >> > monitor, record and retain all electronic communications
> >> through its
> >> > network to ensure the integrity of its systems, for record
> >> keeping and
> >> > regulatory purposes.
> >> > 
> >> > Visit us at: www.maninvestments.com
> >> > 
> >> > ______________________________________________
> >> > R-devel at r-project.org mailing list
> >> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >> 
> >> 
> 
> 


From ggrothendieck at gmail.com  Tue Apr 22 16:06:46 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 22 Apr 2008 10:06:46 -0400
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
	2.7.0 RC
In-Reply-To: <480DE708.3030104@stats.uwo.ca>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>
	<480DE708.3030104@stats.uwo.ca>
Message-ID: <971536df0804220706i7102fc7en24e666fd494bfc34@mail.gmail.com>

On Tue, Apr 22, 2008 at 9:24 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 4/22/2008 9:08 AM, Sklyar, Oleg (MI London) wrote:
> > Duncan,
> >
> > looking further, what has changed from 2.6.2 into 2.7.0 are the
> > following two lines in plot.default, which I think were logical before
> > and are not really logical now:
>
> I believe it is behaving as documented now, so the behaviour is
> "logical", even if it may not be convenient.  In your example
>
> x = Sys.time() + runif(100,1,7200) ## time over two hours, POSIXct
> plot(x, 1:100)
> plot(1:100, x)
>
> the 1st works in 2.6.2 and 2.7.0 and the second only works in 2.6.2.
> But the change below was designed to fix the case
>
> plot(x)
>

In what sense is plot(x) "fixed"?  When I try it I get numbers on both axes --
times on neither.   Clearly Axis should not behave in a way which effectively
makes it useless and breaks reasonable old code.

> R.version.string
[1] "R version 2.7.0 RC (2008-04-17 r45367)"


From maechler at stat.math.ethz.ch  Tue Apr 22 16:26:58 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 22 Apr 2008 16:26:58 +0200
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
	2.7.0 RC
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294883@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>
	<480DE708.3030104@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294883@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <18445.62898.118580.497631@stat.math.ethz.ch>

>>>>> "OlegS" == Sklyar, Oleg \(MI London\) <osklyar at maninvestments.com>
>>>>>     on Tue, 22 Apr 2008 14:44:01 +0100 writes:

    OlegS> So if plot(x) produced rubbish in 2.6.2 in sense of axis formatting
    OlegS> would not that mean that either plot.POSIXct or in fact Axis.POSIXct is
    OlegS> incorrectly defined? I will have a look at those to see if I can find a
    OlegS> fix.

Me too.


    OlegS> Anyway, it does not seem to have any sense to argue any further, because
    OlegS> for me documented and logical are not the same things. 

It still makes much sense to discuss further.

I agree with you that the change 2.6.2 -> 2.7.0  fixed one problem
but introduced another one.

2.7.1 (and before that "2.7.0 patched") should hopefully be
better than both 2.6.2 and 2.7.0

My current version is

    if (axes) {
	localAxis(if(is.null(y)) xy$x else x, side = 1, ...)
	localAxis(if(is.null(y))  x   else y, side = 2, ...)
    }

which is I think better already than either predecessor;
it definitely is compatible with Rversion <= 2.6.2 when both
(x,y) are specified,
and it produces the correct axes in these three cases:

## Axis() calls via plot()
x <- as.Date("2008-04-22 09:45") + (i <- 0:4)
plot(x)# not ok in 2.6.2, nor 2.7.0
plot(x, i)# ok in 2.6.2  and 2.7.0
plot(i, x)# ok in 2.6.2 and not in 2.7.0


I'm grateful for further examples, preferably not using code
from packages outside of "standard R".

Martin Maechler, ETH Zurich


    OlegS> This "fix" effectively makes Axis.POSIXct and all other Axis.* methods
    OlegS> useless as there is now no despatch on Axis taking place in plot.default
    OlegS> and thus it is not clear why Axis and not Axis.default is actually used?
    OlegS> This would at least make the code cleaner. I was thinking that the idea
    OlegS> of methods is actually to have different implementations depending on
    OlegS> the argument class rather than coerce everything to double and use the
    OlegS> default instead.

    OlegS> Dr Oleg Sklyar
    OlegS> Technology Group
    OlegS> Man Investments Ltd
    OlegS> +44 (0)20 7144 3803
    OlegS> osklyar at maninvestments.com 

    >> -----Original Message-----
    >> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
    >> Sent: 22 April 2008 14:24
    >> To: Sklyar, Oleg (MI London)
    >> Cc: R-devel at r-project.org
    >> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class 
    >> attributes of 'x' in 2.7.0 RC
    >> 
    >> On 4/22/2008 9:08 AM, Sklyar, Oleg (MI London) wrote:
    >> > Duncan,
    >> > 
    >> > looking further, what has changed from 2.6.2 into 2.7.0 are the 
    >> > following two lines in plot.default, which I think were 
    >> logical before 
    >> > and are not really logical now:
    >> 
    >> I believe it is behaving as documented now, so the behaviour 
    >> is "logical", even if it may not be convenient.  In your example
    >> 
    >> x = Sys.time() + runif(100,1,7200) ## time over two hours, 
    >> POSIXct plot(x, 1:100) plot(1:100, x)
    >> 
    >> the 1st works in 2.6.2 and 2.7.0 and the second only works in 2.6.2. 
    >> But the change below was designed to fix the case
    >> 
    >> plot(x)
    >> 
    >> which works in 2.7.0 and *not* in 2.6.2, so reverting the 
    >> change is not the way to address this.
    >> 
    >> Duncan Murdoch
    >> 
    >> > 
    >> > plot.R: plot.default (2.6.2):
    >> > if (axes) {
    >> > 	localAxis(x, side=1, ...)
    >> > 	localAxis(y, side=2, ...)
    >> > }
    >> > 
    >> > plot.R: plot.default (2.7.0):
    >> > ...
    >> > if (axes) {
    >> > 	localAxis(xy$x, side=1, ...)
    >> > 	localAxis(xy$y, side=2, ...)
    >> > }
    >> > 
    >> > The fact that xy.coords is called does not really matter.
    >> > 
    >> > 
    [..............]


From osklyar at maninvestments.com  Tue Apr 22 16:26:40 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 22 Apr 2008 15:26:40 +0100
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
	2.7.0	RC
In-Reply-To: <480DE708.3030104@stats.uwo.ca>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>
	<480DE708.3030104@stats.uwo.ca>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE4302294884@mildnpexmb01.maninvestments.ad.man.com>

Ok, so what's wrong with the following fix for plot(x) that would
actually fix what needs to be fixed instead of changing plot.default?
Fix means reverting plot.default in 2.7.0 to what it was (if testing in
2.7.0, copy and paste the OLD plot.default into the .GlobalEnv):

plot.POSIXct <- function(x, y, xlab = "", ...) {
    if (!missing(y)) {
        side = 1
        plotDef <- function(x, y, xaxt, xlab, ...) plot.default(x, y,
xaxt="n", xlab=xlab, ...)
        plotDef(x, y, xlab=xlab, ...)
    } else {
        side = 2
        plotDef <- function(x, y, yaxt, xlab, ...) plot.default(x, y,
yaxt="n", xlab=xlab, ...)
        plotDef(seq_along(x), x, xlab=xlab, ...)
    }
    ## trick to remove arguments intended for title() or plot.default()
    axisInt <- function(x, type, main, sub, xlab, ylab, col, lty, lwd,
                        xlim, ylim, bg, pch, log, asp, axes, frame.plot,
...)
        axis.POSIXct(side, x, ...)
    dots <- list(...)
    axes <- if("axes" %in% names(dots)) dots$axes else TRUE
    xaxt <- if("xaxt" %in% names(dots)) dots$xaxt else par("xaxt")
    if(axes && xaxt != "n") axisInt(x, ...)
}

plot.POSIXlt <- function(x, y, xlab = "", ...) {
    if (missing(y)) plot.POSIXct(as.POSIXct(x), xlab=xlab, ...)
    else plot.POSIXct(as.POSIXct(x), y=y, xlab=xlab, ...)
}

And try with:
x = Sys.time() + runif(100,1,7200)
plot(x)
plot(x,1:100)
plot(1:100,x)

plot(as.POSIXlt(x))
plot(as.POSIXlt(x),1:100)
plot(1:100,as.POSIXlt(x))


Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
> Sent: 22 April 2008 14:24
> To: Sklyar, Oleg (MI London)
> Cc: R-devel at r-project.org
> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class 
> attributes of 'x' in 2.7.0 RC
> 
> On 4/22/2008 9:08 AM, Sklyar, Oleg (MI London) wrote:
> > Duncan,
> > 
> > looking further, what has changed from 2.6.2 into 2.7.0 are the 
> > following two lines in plot.default, which I think were 
> logical before 
> > and are not really logical now:
> 
> I believe it is behaving as documented now, so the behaviour 
> is "logical", even if it may not be convenient.  In your example
> 
> x = Sys.time() + runif(100,1,7200) ## time over two hours, 
> POSIXct plot(x, 1:100) plot(1:100, x)
> 
> the 1st works in 2.6.2 and 2.7.0 and the second only works in 2.6.2. 
> But the change below was designed to fix the case
> 
> plot(x)
> 
> which works in 2.7.0 and *not* in 2.6.2, so reverting the 
> change is not the way to address this.
> 
> Duncan Murdoch
> 
> > 
> > plot.R: plot.default (2.6.2):
> > if (axes) {
> > 	localAxis(x, side=1, ...)
> > 	localAxis(y, side=2, ...)
> > }
> > 
> > plot.R: plot.default (2.7.0):
> > ...
> > if (axes) {
> > 	localAxis(xy$x, side=1, ...)
> > 	localAxis(xy$y, side=2, ...)
> > }
> > 
> > The fact that xy.coords is called does not really matter.
> > 
> > 
> > Dr Oleg Sklyar
> > Technology Group
> > Man Investments Ltd
> > +44 (0)20 7144 3803
> > osklyar at maninvestments.com
> > 
> >> -----Original Message-----
> >> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca]
> >> Sent: 22 April 2008 13:01
> >> To: Sklyar, Oleg (MI London)
> >> Cc: R-devel at r-project.org
> >> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class attributes of 
> >> 'x' in 2.7.0 RC
> >> 
> >> On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
> >> > Following my previous post on S3 method despatch, I put
> >> debug messages
> >> > in the code of Axis, Axis.default and plot.default in 
> >> > graphics/R/axis.R and graphics/R/plot.R to print the 
> class of x, at 
> >> > and y on plot. After recompiling R, what I see is that x 
> *lost* its 
> >> > class attribute (at least for classes not known to 
> 'graphics') in 
> >> > Axis, called directly from plot.default and this could be
> >> the reason
> >> > why R did not despatch on Axis.MyClass from my previous 
> post. This 
> >> > happens for both S3 and S4 classes as in the code below!
> >> Funny enough,
> >> > even "integer" was reset to numeric in Axis...
> >> 
> >> If you look at plot.default, you'll see it passes x and y through 
> >> xy.coords to get coordinates.  That function ends with
> >> 
> >> return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
> >> 
> >> so that's where classes get removed.  If you don't want this to 
> >> happen, shouldn't you be defining plot.MyClass, or calling the 
> >> default with axes=F, and then calling Axis on your object yourself?
> >> 
> >> > Is this really an intended behaviour? It looks very wrong to me!
> >> 
> >> This is documented:  ?plot.default tells you to look at ?xy.coords 
> >> for details of how x and y are handled, and xy.coords says "In any 
> >> other case, the 'x' argument is coerced to a vector and
> >>       returned as *y* component where the resulting 'x' is just the
> >>       index vector '1:n'.  In this case, the resulting 'xlab' 
> >> component
> >>       is set to '"Index"'."
> >> 
> >> Duncan Murdoch
> >> 
> >> > Thanks,
> >> > Oleg
> >> > 
> >> > *** R version 2.7.0 RC (2008-04-20 r45403)
> >> [/research/osklyar/R-devel]
> >> > ***
> >> >> Axis
> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >> >     cat("In Axis() class(x)=", class(x), "; class(at)=", 
> class(at),
> >> >         "\n", sep = "")
> >> >     if (!is.null(x))
> >> >         UseMethod("Axis", x)
> >> >     else if (!is.null(at))
> >> >         UseMethod("Axis", at)
> >> >     else axis(side = side, at = at, labels = labels, ...) }
> >> > <environment: namespace:graphics>
> >> >> graphics:::Axis.default
> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >> >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
> >> >         class(at), "\n", sep = "")
> >> >     if (is.null(at) && !is.null(x))
> >> >         at = pretty(x)
> >> >     axis(side = side, at = at, labels = labels, ...) }
> >> > <environment: namespace:graphics>
> >> >> setClass("MyClass", representation(smth="character"),
> >> > contains="numeric")
> >> > [1] "MyClass"
> >> >> a = new("MyClass", runif(10))
> >> >> a
> >> > An object of class "MyClass"
> >> >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
> >> > 0.112210501
> >> >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 Slot "smth":
> >> > character(0)
> >> >> plot(1:10,a)
> >> > In plot.default() class(x)=integer; class(y)=MyClass In Axis() 
> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> class(x)=numeric;
> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> > Axis.default() class(x)=numeric; class(at)=NULL
> >> >> plot(a,1:10)
> >> > In plot.default() class(x)=MyClass; class(y)=integer In Axis() 
> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> class(x)=numeric;
> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> > Axis.default() class(x)=numeric; class(at)=NULL
> >> >> b = runif(10)
> >> >> class(b)="AnotherClass"
> >> >> plot(b,1:10)
> >> > In plot.default() class(x)=AnotherClass; 
> class(y)=integer In Axis() 
> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> class(x)=numeric;
> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> > Axis.default() class(x)=numeric; class(at)=NULL
> >> >> plot(1:10)
> >> > In plot.default() class(x)=integer; class(y)=NULL In Axis() 
> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> class(x)=numeric;
> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> > Axis.default() class(x)=numeric; class(at)=NULL>
> >> >> sessionInfo()
> >> > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
> >> > 
> >> > locale:
> >> > 
> >> 
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC
> >> _
> >> > MO
> >> > 
> >> 
> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_AD
> >> D
> >> > RE
> >> SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
> >> > 
> >> > attached base packages:
> >> > [1] stats     graphics  grDevices utils     datasets  
> methods   base
> >> > 
> >> > 
> >> > Dr Oleg Sklyar
> >> > Technology Group
> >> > Man Investments Ltd
> >> > +44 (0)20 7144 3803
> >> > osklyar at maninvestments.com
> >> > 
> >> > 
> >> > 
> >> 
> *********************************************************************
> >> *
> >> > The contents of this email are for the named addressee(s) only.
> >> > It contains information which may be confidential and privileged.
> >> > If you are not the intended recipient, please notify the sender 
> >> > immediately, destroy this email and any attachments and do not 
> >> > otherwise disclose or use them. Email transmission is 
> not a secure 
> >> > method of communication and Man Investments cannot accept 
> >> > responsibility for the completeness or accuracy of this
> >> email or any
> >> > attachments. Whilst Man Investments makes every effort 
> to keep its 
> >> > network free from viruses, it does not accept
> >> responsibility for any
> >> > computer virus which might be transferred by way of this
> >> email or any
> >> > attachments. This email does not constitute a request, offer, 
> >> > recommendation or solicitation of any kind to buy,
> >> subscribe, sell or
> >> > redeem any investment instruments or to perform other such 
> >> > transactions of any kind. Man Investments reserves the right to 
> >> > monitor, record and retain all electronic communications
> >> through its
> >> > network to ensure the integrity of its systems, for record
> >> keeping and
> >> > regulatory purposes.
> >> > 
> >> > Visit us at: www.maninvestments.com
> >> > 
> >> > ______________________________________________
> >> > R-devel at r-project.org mailing list
> >> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >> 
> >> 
> 
> 


From vwolowski at gmail.com  Tue Apr 22 17:40:04 2008
From: vwolowski at gmail.com (Vincent Wolowski)
Date: Tue, 22 Apr 2008 17:40:04 +0200
Subject: [Rd]  question about p-value implementation
Message-ID: <6ae5dcbc0804220840v4cf7bfe2r23fb208c91853b6@mail.gmail.com>

Hello all,

I hope I have found the right place for my question.

There are different kinds of p-values for one-sided and two-sided
tests, for example mid p-value [1], minimum-likelihood p-value [2] or
conditional two-sided p-value [3].
I tried to find out what kind of p-value is implemented in R with
regard to the two-sided chi-square (function chisq.test()) and
Spearman rank test (function cor.test() with method="spearman"), but I
could not determine this from the documentation or the source.
I would be thankful if someone with a better understanding could
provide an explanation.

[1] J. D. Gibbons, J. W. Pratt. P-Values: Interpretation and Methodology. 1975
[2] I. Rivals, L. Personnaz, L. Taing, M. C. Potier. Enrichment or
depletion of a GO category within a class of genes: which test?. 2006
[3] E. Kulinskaya. One two-sided p-values for non-symmetrical
distributions. 2007

Best regards,
Vincent


From osklyar at maninvestments.com  Tue Apr 22 18:34:24 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 22 Apr 2008 17:34:24 +0100
Subject: [Rd] plot(x) in 2.7.0 (with y=NULL) proposed code correction
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE4302294889@mildnpexmb01.maninvestments.ad.man.com>

Hi all:

following the previous discussion, it looks like plot(x) with y=NULL
still does not work correctly. If one tries for example plot(1:5) it
works, but already for plot(runif(100)) it does not. I posted the
proposed correction for plot.POSIXct and plot.POSIXlt before. Please
voice your opinions whether the following fix for plot.default could be
reasonable? I include the full function and the diff.

Thanks,
Oleg

plot.default <-
    function(x, y = NULL, type = "p", xlim = NULL, ylim = NULL,
             log = "", main = NULL, sub = NULL, xlab = NULL, ylab =
NULL,
             ann = par("ann"), axes = TRUE, frame.plot = axes,
             panel.first = NULL, panel.last = NULL, asp = NA, ...)
{
    ## These col, bg, pch, cex can be vectors, so exclude them
    ## Also, axis and box accept some of these
    localAxis <- function(..., col, bg, pch, cex, lty, lwd) Axis(...)
    localBox <- function(..., col, bg, pch, cex, lty, lwd) box(...)
    localWindow <- function(..., col, bg, pch, cex, lty, lwd)
plot.window(...)
    localTitle <- function(..., col, bg, pch, cex, lty, lwd) title(...)
    if (!is.null(y)) {
        ## normal plot x against y 
        xlabel <- if (!missing(x)) deparse(substitute(x))
        ylabel <- deparse(substitute(y))
        xy <- xy.coords(x, y, xlabel, ylabel, log)
        xlab <- if (is.null(xlab)) xy$xlab else xlab
        ylab <- if (is.null(ylab)) xy$ylab else ylab
        xlim <- if (is.null(xlim)) range(xy$x[is.finite(xy$x)]) else
xlim
        ylim <- if (is.null(ylim)) range(xy$y[is.finite(xy$y)]) else
ylim
                
    } else {
        ## plot x on the vertical axis against index
        ## exchange given x* and y* attributes. One actually needs to
        ## exchange other attributes like xaxt/yaxt etc, but the same
flaw
        ## is in the original implementation
        xlabel <- "Index"
        ylabel <- if (!missing(x)) deparse(substitute(x))
        xy <- xy.coords(seq_along(x), x, "Index", ylabel, log)
        # if (!is.null(ylab)) warning("y is NULL, ylab will be ignored")
        ylab <- if (is.null(xlab)) xy$ylab else xlab
        xlab <- "Index"
        # if (!is.null(ylim)) warning("y is NULL, ylim is ignored")
        ylim <- if (is.null(xlim)) range(xy$y[is.finite(xy$y)]) else
xlim
        xlim <- range(xy$x[is.finite(xy$x)])
    }
    plot.new()
    localWindow(xlim, ylim, log, asp, ...)
    panel.first # eval() is wrong here {Ross I.}
    plot.xy(xy, type, ...)
    panel.last
    if (axes) {
    	localAxis(if(is.null(y)) xy$x else x, side = 1, ...)
    	localAxis(if(is.null(y))  x   else y, side = 2, ...)
    }
    if (frame.plot) localBox(...)
    if (ann) localTitle(main = main, sub = sub, xlab = xlab, ylab =
ylab, ...)
    invisible()
}

=================== diff
=====================================================
57,81c57,63
<     if (!is.null(y)) {
<         ## normal plot x against y
<         xlabel <- if (!missing(x)) deparse(substitute(x))
<         ylabel <- deparse(substitute(y))
<         xy <- xy.coords(x, y, xlabel, ylabel, log)
<         xlab <- if (is.null(xlab)) xy$xlab else xlab
<         ylab <- if (is.null(ylab)) xy$ylab else ylab
<         xlim <- if (is.null(xlim)) range(xy$x[is.finite(xy$x)]) else
xlim
<         ylim <- if (is.null(ylim)) range(xy$y[is.finite(xy$y)]) else
ylim
<
<     } else {
<         ## plot x on the vertical axis against index
<         ## exchange given x* and y* attributes. One actually needs to
<         ## exchange other attributes like xaxt/yaxt etc, but the same
flaw
<         ## is in the original implementation
<         xlabel <- "Index"
<         ylabel <- if (!missing(x)) deparse(substitute(x))
<         xy <- xy.coords(seq_along(x), x, "Index", ylabel, log)
<         # if (!is.null(ylab)) warning("y is NULL, ylab will be
ignored")
<         ylab <- if (is.null(xlab)) xy$ylab else xlab
<         xlab <- "Index"
<         # if (!is.null(ylim)) warning("y is NULL, ylim is ignored")
<         ylim <- if (is.null(xlim)) range(xy$y[is.finite(xy$y)]) else
xlim
<         xlim <- range(xy$x[is.finite(xy$x)])
<     }
---
>     xlabel <- if (!missing(x)) deparse(substitute(x))
>     ylabel <- if (!missing(y)) deparse(substitute(y))
>     xy <- xy.coords(x, y, xlabel, ylabel, log)
>     xlab <- if (is.null(xlab)) xy$xlab else xlab
>     ylab <- if (is.null(ylab)) xy$ylab else ylab
>     xlim <- if (is.null(xlim)) range(xy$x[is.finite(xy$x)]) else xlim
>     ylim <- if (is.null(ylim)) range(xy$y[is.finite(xy$y)]) else ylim
88,89c70,71
<       localAxis(if(is.null(y)) xy$x else x, side = 1, ...)
<       localAxis(if(is.null(y))  x   else y, side = 2, ...)
---
>       localAxis(xy$x, side = 1, ...)
>       localAxis(xy$y, side = 2, ...)


Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com


**********************************************************************
The contents of this email are for the named addressee(s) only.
It contains information which may be confidential and privileged.
If you are not the intended recipient, please notify the sender
immediately, destroy this email and any attachments and do not
otherwise disclose or use them. Email transmission is not a
secure method of communication and Man Investments cannot accept
responsibility for the completeness or accuracy of this email or
any attachments. Whilst Man Investments makes every effort to keep
its network free from viruses, it does not accept responsibility
for any computer virus which might be transferred by way of this
email or any attachments. This email does not constitute a request,
offer, recommendation or solicitation of any kind to buy, subscribe,
sell or redeem any investment instruments or to perform other such
transactions of any kind. Man Investments reserves the right to
monitor, record and retain all electronic communications through
its network to ensure the integrity of its systems, for record
keeping and regulatory purposes. 

Visit us at: www.maninvestments.com


From russell-lenth at uiowa.edu  Tue Apr 22 18:45:11 2008
From: russell-lenth at uiowa.edu (russell-lenth at uiowa.edu)
Date: Tue, 22 Apr 2008 18:45:11 +0200 (CEST)
Subject: [Rd] Bug in poly() (PR#11243)
Message-ID: <20080422164511.2FA17282EFF1@mail.pubhealth.ku.dk>

Full_Name: Russell Lenth
Version: 2.6.2
OS: Windows XP Pro
Submission from: (NULL) (128.255.132.36)


The poly() function allows a higher-degree polynomial than it should, when
raw=FALSE.

For example, consider 5 distinct 'x' values, each repeated twice.  we can fit a
polynomial of degree 8:

=====
R> x = rep(1:5, 2)
R> y = rnorm(10)
R> lm(y ~ poly(x, 8))

Call:
lm(formula = y ~ poly(x, 8))

Coefficients:
(Intercept)  poly(x, 8)1  poly(x, 8)2  poly(x, 8)3  poly(x, 8)4  poly(x, 8)5  
   -0.07790      0.58768      0.30147     -0.18237      0.64779     -0.04444  
poly(x, 8)6  poly(x, 8)7  poly(x, 8)8  
   -0.22694     -0.07500      0.17235  
=====

If we specify 'raw=TRUE' in the same example, we are limited (as we should) to a
degree-4 polynomial:

=====
R> lm(y ~ poly(x, 8, raw=TRUE))

Call:
lm(formula = y ~ poly(x, 8, raw = TRUE))

Coefficients:
            (Intercept)  poly(x, 8, raw = TRUE)1  poly(x, 8, raw = TRUE)2  
                 7.3958                 -14.0150                   8.2784  
poly(x, 8, raw = TRUE)3  poly(x, 8, raw = TRUE)4  poly(x, 8, raw = TRUE)5  
                -1.9502                   0.1597                       NA  
poly(x, 8, raw = TRUE)6  poly(x, 8, raw = TRUE)7  poly(x, 8, raw = TRUE)8  
                     NA                       NA                       NA  
=====

We do get an error with an even higher degree:

=====
R> lm(y ~ poly(x, 10))
Error in poly(x, 10) : 'degree' must be less than number of points
=====

Looking at the code for poly(), I think the problem is that it should check the
'rank' result from its call to qr().

[The above results are using Windows XP Pro, but I verified this bug under Linux
as well (x86_64, dual core).  It seems pretty obvious to me that this bug is not
platform-dependent.]


From maechler at stat.math.ethz.ch  Tue Apr 22 18:55:02 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 22 Apr 2008 18:55:02 +0200
Subject: [Rd] plot(x) in 2.7.0 (with y=NULL) proposed code correction
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294889@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294889@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <18446.6246.920108.375163@stat.math.ethz.ch>

>>>>> "OlegS" == Sklyar, Oleg \(MI London\) <osklyar at maninvestments.com>
>>>>>     on Tue, 22 Apr 2008 17:34:24 +0100 writes:

    OlegS> Hi all:
    OlegS> following the previous discussion, it looks like plot(x) with y=NULL
    OlegS> still does not work correctly. If one tries for example plot(1:5) it
    OlegS> works, but already for plot(runif(100)) it does not. 

??? Not for me, with my propsal
{{maybe only in your too much modified version of R ??}

I've committed my proposal, and am interested in feedback, 
notably additional relevant examples.

Martin

    OlegS> I posted the proposed correction for plot.POSIXct and
    OlegS> plot.POSIXlt before. Please voice your opinions
    OlegS> whether the following fix for plot.default could be
    OlegS> reasonable? I include the full function and the diff.

(And both suffered from wraparounds)


From murdoch at stats.uwo.ca  Tue Apr 22 19:18:56 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 22 Apr 2008 13:18:56 -0400
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
 2.7.0	RC
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE4302294884@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>
	<480DE708.3030104@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294884@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <480E1E00.8080409@stats.uwo.ca>

There seem to be nonlinearities in the time-space continuum, so this 
message arrived several hours after Martin's, even though both have the 
same timestamp.  Please test his, and see if you can break it.  I'd 
guess not, it looks simple enough, but not too simple.

And for the future:

Please test the alpha/beta/RC releases!  The change we're talking about 
came fairly late in the process, but it was there for the last couple of 
weeks.  It would be easier for everyone if it had been corrected before 
release, rather than after.  It was announced on the RSS list, here:

http://developer.r-project.org/blosxom.cgi/R-2-7-branch/NEWS/2008/04/08#n2008-04-08

so it would really have helped if people who rely on special axis 
handling by Axis had tested the change after they'd seen that notice.

On 4/22/2008 10:26 AM, Sklyar, Oleg (MI London) wrote:
 > Ok, so what's wrong with the following fix for plot(x)

The main thing that's wrong with it is that you don't explain what the 
changes are.  I can't believe that the error is specific to the POSIXct 
class, so it doesn't make sense that changes there would fix it in general.

Duncan Murdoch

 > that would
> actually fix what needs to be fixed instead of changing plot.default?
> Fix means reverting plot.default in 2.7.0 to what it was (if testing in
> 2.7.0, copy and paste the OLD plot.default into the .GlobalEnv):
> 
> plot.POSIXct <- function(x, y, xlab = "", ...) {
>     if (!missing(y)) {
>         side = 1
>         plotDef <- function(x, y, xaxt, xlab, ...) plot.default(x, y,
> xaxt="n", xlab=xlab, ...)
>         plotDef(x, y, xlab=xlab, ...)
>     } else {
>         side = 2
>         plotDef <- function(x, y, yaxt, xlab, ...) plot.default(x, y,
> yaxt="n", xlab=xlab, ...)
>         plotDef(seq_along(x), x, xlab=xlab, ...)
>     }
>     ## trick to remove arguments intended for title() or plot.default()
>     axisInt <- function(x, type, main, sub, xlab, ylab, col, lty, lwd,
>                         xlim, ylim, bg, pch, log, asp, axes, frame.plot,
> ...)
>         axis.POSIXct(side, x, ...)
>     dots <- list(...)
>     axes <- if("axes" %in% names(dots)) dots$axes else TRUE
>     xaxt <- if("xaxt" %in% names(dots)) dots$xaxt else par("xaxt")
>     if(axes && xaxt != "n") axisInt(x, ...)
> }
> 
> plot.POSIXlt <- function(x, y, xlab = "", ...) {
>     if (missing(y)) plot.POSIXct(as.POSIXct(x), xlab=xlab, ...)
>     else plot.POSIXct(as.POSIXct(x), y=y, xlab=xlab, ...)
> }
> 
> And try with:
> x = Sys.time() + runif(100,1,7200)
> plot(x)
> plot(x,1:100)
> plot(1:100,x)
> 
> plot(as.POSIXlt(x))
> plot(as.POSIXlt(x),1:100)
> plot(1:100,as.POSIXlt(x))
> 
> 
> Dr Oleg Sklyar
> Technology Group
> Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com 
> 
>> -----Original Message-----
>> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca] 
>> Sent: 22 April 2008 14:24
>> To: Sklyar, Oleg (MI London)
>> Cc: R-devel at r-project.org
>> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class 
>> attributes of 'x' in 2.7.0 RC
>> 
>> On 4/22/2008 9:08 AM, Sklyar, Oleg (MI London) wrote:
>> > Duncan,
>> > 
>> > looking further, what has changed from 2.6.2 into 2.7.0 are the 
>> > following two lines in plot.default, which I think were 
>> logical before 
>> > and are not really logical now:
>> 
>> I believe it is behaving as documented now, so the behaviour 
>> is "logical", even if it may not be convenient.  In your example
>> 
>> x = Sys.time() + runif(100,1,7200) ## time over two hours, 
>> POSIXct plot(x, 1:100) plot(1:100, x)
>> 
>> the 1st works in 2.6.2 and 2.7.0 and the second only works in 2.6.2. 
>> But the change below was designed to fix the case
>> 
>> plot(x)
>> 
>> which works in 2.7.0 and *not* in 2.6.2, so reverting the 
>> change is not the way to address this.
>> 
>> Duncan Murdoch
>> 
>> > 
>> > plot.R: plot.default (2.6.2):
>> > if (axes) {
>> > 	localAxis(x, side=1, ...)
>> > 	localAxis(y, side=2, ...)
>> > }
>> > 
>> > plot.R: plot.default (2.7.0):
>> > ...
>> > if (axes) {
>> > 	localAxis(xy$x, side=1, ...)
>> > 	localAxis(xy$y, side=2, ...)
>> > }
>> > 
>> > The fact that xy.coords is called does not really matter.
>> > 
>> > 
>> > Dr Oleg Sklyar
>> > Technology Group
>> > Man Investments Ltd
>> > +44 (0)20 7144 3803
>> > osklyar at maninvestments.com
>> > 
>> >> -----Original Message-----
>> >> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca]
>> >> Sent: 22 April 2008 13:01
>> >> To: Sklyar, Oleg (MI London)
>> >> Cc: R-devel at r-project.org
>> >> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class attributes of 
>> >> 'x' in 2.7.0 RC
>> >> 
>> >> On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
>> >> > Following my previous post on S3 method despatch, I put
>> >> debug messages
>> >> > in the code of Axis, Axis.default and plot.default in 
>> >> > graphics/R/axis.R and graphics/R/plot.R to print the 
>> class of x, at 
>> >> > and y on plot. After recompiling R, what I see is that x 
>> *lost* its 
>> >> > class attribute (at least for classes not known to 
>> 'graphics') in 
>> >> > Axis, called directly from plot.default and this could be
>> >> the reason
>> >> > why R did not despatch on Axis.MyClass from my previous 
>> post. This 
>> >> > happens for both S3 and S4 classes as in the code below!
>> >> Funny enough,
>> >> > even "integer" was reset to numeric in Axis...
>> >> 
>> >> If you look at plot.default, you'll see it passes x and y through 
>> >> xy.coords to get coordinates.  That function ends with
>> >> 
>> >> return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
>> >> 
>> >> so that's where classes get removed.  If you don't want this to 
>> >> happen, shouldn't you be defining plot.MyClass, or calling the 
>> >> default with axes=F, and then calling Axis on your object yourself?
>> >> 
>> >> > Is this really an intended behaviour? It looks very wrong to me!
>> >> 
>> >> This is documented:  ?plot.default tells you to look at ?xy.coords 
>> >> for details of how x and y are handled, and xy.coords says "In any 
>> >> other case, the 'x' argument is coerced to a vector and
>> >>       returned as *y* component where the resulting 'x' is just the
>> >>       index vector '1:n'.  In this case, the resulting 'xlab' 
>> >> component
>> >>       is set to '"Index"'."
>> >> 
>> >> Duncan Murdoch
>> >> 
>> >> > Thanks,
>> >> > Oleg
>> >> > 
>> >> > *** R version 2.7.0 RC (2008-04-20 r45403)
>> >> [/research/osklyar/R-devel]
>> >> > ***
>> >> >> Axis
>> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
>> >> >     cat("In Axis() class(x)=", class(x), "; class(at)=", 
>> class(at),
>> >> >         "\n", sep = "")
>> >> >     if (!is.null(x))
>> >> >         UseMethod("Axis", x)
>> >> >     else if (!is.null(at))
>> >> >         UseMethod("Axis", at)
>> >> >     else axis(side = side, at = at, labels = labels, ...) }
>> >> > <environment: namespace:graphics>
>> >> >> graphics:::Axis.default
>> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
>> >> >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
>> >> >         class(at), "\n", sep = "")
>> >> >     if (is.null(at) && !is.null(x))
>> >> >         at = pretty(x)
>> >> >     axis(side = side, at = at, labels = labels, ...) }
>> >> > <environment: namespace:graphics>
>> >> >> setClass("MyClass", representation(smth="character"),
>> >> > contains="numeric")
>> >> > [1] "MyClass"
>> >> >> a = new("MyClass", runif(10))
>> >> >> a
>> >> > An object of class "MyClass"
>> >> >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
>> >> > 0.112210501
>> >> >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 Slot "smth":
>> >> > character(0)
>> >> >> plot(1:10,a)
>> >> > In plot.default() class(x)=integer; class(y)=MyClass In Axis() 
>> >> > class(x)=numeric; class(at)=NULL In Axis.default()
>> >> class(x)=numeric;
>> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
>> >> > Axis.default() class(x)=numeric; class(at)=NULL
>> >> >> plot(a,1:10)
>> >> > In plot.default() class(x)=MyClass; class(y)=integer In Axis() 
>> >> > class(x)=numeric; class(at)=NULL In Axis.default()
>> >> class(x)=numeric;
>> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
>> >> > Axis.default() class(x)=numeric; class(at)=NULL
>> >> >> b = runif(10)
>> >> >> class(b)="AnotherClass"
>> >> >> plot(b,1:10)
>> >> > In plot.default() class(x)=AnotherClass; 
>> class(y)=integer In Axis() 
>> >> > class(x)=numeric; class(at)=NULL In Axis.default()
>> >> class(x)=numeric;
>> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
>> >> > Axis.default() class(x)=numeric; class(at)=NULL
>> >> >> plot(1:10)
>> >> > In plot.default() class(x)=integer; class(y)=NULL In Axis() 
>> >> > class(x)=numeric; class(at)=NULL In Axis.default()
>> >> class(x)=numeric;
>> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
>> >> > Axis.default() class(x)=numeric; class(at)=NULL>
>> >> >> sessionInfo()
>> >> > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
>> >> > 
>> >> > locale:
>> >> > 
>> >> 
>> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC
>> >> _
>> >> > MO
>> >> > 
>> >> 
>> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_AD
>> >> D
>> >> > RE
>> >> SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
>> >> > 
>> >> > attached base packages:
>> >> > [1] stats     graphics  grDevices utils     datasets  
>> methods   base
>> >> > 
>> >> > 
>> >> > Dr Oleg Sklyar
>> >> > Technology Group
>> >> > Man Investments Ltd
>> >> > +44 (0)20 7144 3803
>> >> > osklyar at maninvestments.com
>> >> > 
>> >> > 
>> >> > 
>> >> 
>> *********************************************************************
>> >> *
>> >> > The contents of this email are for the named addressee(s) only.
>> >> > It contains information which may be confidential and privileged.
>> >> > If you are not the intended recipient, please notify the sender 
>> >> > immediately, destroy this email and any attachments and do not 
>> >> > otherwise disclose or use them. Email transmission is 
>> not a secure 
>> >> > method of communication and Man Investments cannot accept 
>> >> > responsibility for the completeness or accuracy of this
>> >> email or any
>> >> > attachments. Whilst Man Investments makes every effort 
>> to keep its 
>> >> > network free from viruses, it does not accept
>> >> responsibility for any
>> >> > computer virus which might be transferred by way of this
>> >> email or any
>> >> > attachments. This email does not constitute a request, offer, 
>> >> > recommendation or solicitation of any kind to buy,
>> >> subscribe, sell or
>> >> > redeem any investment instruments or to perform other such 
>> >> > transactions of any kind. Man Investments reserves the right to 
>> >> > monitor, record and retain all electronic communications
>> >> through its
>> >> > network to ensure the integrity of its systems, for record
>> >> keeping and
>> >> > regulatory purposes.
>> >> > 
>> >> > Visit us at: www.maninvestments.com
>> >> > 
>> >> > ______________________________________________
>> >> > R-devel at r-project.org mailing list
>> >> > https://stat.ethz.ch/mailman/listinfo/r-devel
>> >> 
>> >> 
>> 
>>


From ggrothendieck at gmail.com  Tue Apr 22 19:29:58 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 22 Apr 2008 13:29:58 -0400
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
	2.7.0 RC
In-Reply-To: <480E1E00.8080409@stats.uwo.ca>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>
	<480DD38A.7090004@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>
	<480DE708.3030104@stats.uwo.ca>
	<1A68FCB28DE72F4BA3B967E6506CCE4302294884@mildnpexmb01.maninvestments.ad.man.com>
	<480E1E00.8080409@stats.uwo.ca>
Message-ID: <971536df0804221029p55d19792s8bf49846ca2cf5de@mail.gmail.com>

Its not clear to me at this point what and where the proposed
or already made change is but here
is a test that should produce a year/month style rather than
numeric style X axis:

library(zoo)
z <- zoo(1:12, as.yearmon(2000 + 1:12/12))
plot(z)


On Tue, Apr 22, 2008 at 1:18 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> There seem to be nonlinearities in the time-space continuum, so this
> message arrived several hours after Martin's, even though both have the
> same timestamp.  Please test his, and see if you can break it.  I'd
> guess not, it looks simple enough, but not too simple.
>
> And for the future:
>
> Please test the alpha/beta/RC releases!  The change we're talking about
> came fairly late in the process, but it was there for the last couple of
> weeks.  It would be easier for everyone if it had been corrected before
> release, rather than after.  It was announced on the RSS list, here:
>
> http://developer.r-project.org/blosxom.cgi/R-2-7-branch/NEWS/2008/04/08#n2008-04-08
>
> so it would really have helped if people who rely on special axis
> handling by Axis had tested the change after they'd seen that notice.
>
> On 4/22/2008 10:26 AM, Sklyar, Oleg (MI London) wrote:
>  > Ok, so what's wrong with the following fix for plot(x)
>
> The main thing that's wrong with it is that you don't explain what the
> changes are.  I can't believe that the error is specific to the POSIXct
> class, so it doesn't make sense that changes there would fix it in general.
>
> Duncan Murdoch
>
>
>  > that would
> > actually fix what needs to be fixed instead of changing plot.default?
> > Fix means reverting plot.default in 2.7.0 to what it was (if testing in
> > 2.7.0, copy and paste the OLD plot.default into the .GlobalEnv):
> >
> > plot.POSIXct <- function(x, y, xlab = "", ...) {
> >     if (!missing(y)) {
> >         side = 1
> >         plotDef <- function(x, y, xaxt, xlab, ...) plot.default(x, y,
> > xaxt="n", xlab=xlab, ...)
> >         plotDef(x, y, xlab=xlab, ...)
> >     } else {
> >         side = 2
> >         plotDef <- function(x, y, yaxt, xlab, ...) plot.default(x, y,
> > yaxt="n", xlab=xlab, ...)
> >         plotDef(seq_along(x), x, xlab=xlab, ...)
> >     }
> >     ## trick to remove arguments intended for title() or plot.default()
> >     axisInt <- function(x, type, main, sub, xlab, ylab, col, lty, lwd,
> >                         xlim, ylim, bg, pch, log, asp, axes, frame.plot,
> > ...)
> >         axis.POSIXct(side, x, ...)
> >     dots <- list(...)
> >     axes <- if("axes" %in% names(dots)) dots$axes else TRUE
> >     xaxt <- if("xaxt" %in% names(dots)) dots$xaxt else par("xaxt")
> >     if(axes && xaxt != "n") axisInt(x, ...)
> > }
> >
> > plot.POSIXlt <- function(x, y, xlab = "", ...) {
> >     if (missing(y)) plot.POSIXct(as.POSIXct(x), xlab=xlab, ...)
> >     else plot.POSIXct(as.POSIXct(x), y=y, xlab=xlab, ...)
> > }
> >
> > And try with:
> > x = Sys.time() + runif(100,1,7200)
> > plot(x)
> > plot(x,1:100)
> > plot(1:100,x)
> >
> > plot(as.POSIXlt(x))
> > plot(as.POSIXlt(x),1:100)
> > plot(1:100,as.POSIXlt(x))
> >
> >
> > Dr Oleg Sklyar
> > Technology Group
> > Man Investments Ltd
> > +44 (0)20 7144 3803
> > osklyar at maninvestments.com
> >
> >> -----Original Message-----
> >> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca]
> >> Sent: 22 April 2008 14:24
> >> To: Sklyar, Oleg (MI London)
> >> Cc: R-devel at r-project.org
> >> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class
> >> attributes of 'x' in 2.7.0 RC
> >>
> >> On 4/22/2008 9:08 AM, Sklyar, Oleg (MI London) wrote:
> >> > Duncan,
> >> >
> >> > looking further, what has changed from 2.6.2 into 2.7.0 are the
> >> > following two lines in plot.default, which I think were
> >> logical before
> >> > and are not really logical now:
> >>
> >> I believe it is behaving as documented now, so the behaviour
> >> is "logical", even if it may not be convenient.  In your example
> >>
> >> x = Sys.time() + runif(100,1,7200) ## time over two hours,
> >> POSIXct plot(x, 1:100) plot(1:100, x)
> >>
> >> the 1st works in 2.6.2 and 2.7.0 and the second only works in 2.6.2.
> >> But the change below was designed to fix the case
> >>
> >> plot(x)
> >>
> >> which works in 2.7.0 and *not* in 2.6.2, so reverting the
> >> change is not the way to address this.
> >>
> >> Duncan Murdoch
> >>
> >> >
> >> > plot.R: plot.default (2.6.2):
> >> > if (axes) {
> >> >    localAxis(x, side=1, ...)
> >> >    localAxis(y, side=2, ...)
> >> > }
> >> >
> >> > plot.R: plot.default (2.7.0):
> >> > ...
> >> > if (axes) {
> >> >    localAxis(xy$x, side=1, ...)
> >> >    localAxis(xy$y, side=2, ...)
> >> > }
> >> >
> >> > The fact that xy.coords is called does not really matter.
> >> >
> >> >
> >> > Dr Oleg Sklyar
> >> > Technology Group
> >> > Man Investments Ltd
> >> > +44 (0)20 7144 3803
> >> > osklyar at maninvestments.com
> >> >
> >> >> -----Original Message-----
> >> >> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca]
> >> >> Sent: 22 April 2008 13:01
> >> >> To: Sklyar, Oleg (MI London)
> >> >> Cc: R-devel at r-project.org
> >> >> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class attributes of
> >> >> 'x' in 2.7.0 RC
> >> >>
> >> >> On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
> >> >> > Following my previous post on S3 method despatch, I put
> >> >> debug messages
> >> >> > in the code of Axis, Axis.default and plot.default in
> >> >> > graphics/R/axis.R and graphics/R/plot.R to print the
> >> class of x, at
> >> >> > and y on plot. After recompiling R, what I see is that x
> >> *lost* its
> >> >> > class attribute (at least for classes not known to
> >> 'graphics') in
> >> >> > Axis, called directly from plot.default and this could be
> >> >> the reason
> >> >> > why R did not despatch on Axis.MyClass from my previous
> >> post. This
> >> >> > happens for both S3 and S4 classes as in the code below!
> >> >> Funny enough,
> >> >> > even "integer" was reset to numeric in Axis...
> >> >>
> >> >> If you look at plot.default, you'll see it passes x and y through
> >> >> xy.coords to get coordinates.  That function ends with
> >> >>
> >> >> return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
> >> >>
> >> >> so that's where classes get removed.  If you don't want this to
> >> >> happen, shouldn't you be defining plot.MyClass, or calling the
> >> >> default with axes=F, and then calling Axis on your object yourself?
> >> >>
> >> >> > Is this really an intended behaviour? It looks very wrong to me!
> >> >>
> >> >> This is documented:  ?plot.default tells you to look at ?xy.coords
> >> >> for details of how x and y are handled, and xy.coords says "In any
> >> >> other case, the 'x' argument is coerced to a vector and
> >> >>       returned as *y* component where the resulting 'x' is just the
> >> >>       index vector '1:n'.  In this case, the resulting 'xlab'
> >> >> component
> >> >>       is set to '"Index"'."
> >> >>
> >> >> Duncan Murdoch
> >> >>
> >> >> > Thanks,
> >> >> > Oleg
> >> >> >
> >> >> > *** R version 2.7.0 RC (2008-04-20 r45403)
> >> >> [/research/osklyar/R-devel]
> >> >> > ***
> >> >> >> Axis
> >> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >> >> >     cat("In Axis() class(x)=", class(x), "; class(at)=",
> >> class(at),
> >> >> >         "\n", sep = "")
> >> >> >     if (!is.null(x))
> >> >> >         UseMethod("Axis", x)
> >> >> >     else if (!is.null(at))
> >> >> >         UseMethod("Axis", at)
> >> >> >     else axis(side = side, at = at, labels = labels, ...) }
> >> >> > <environment: namespace:graphics>
> >> >> >> graphics:::Axis.default
> >> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
> >> >> >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
> >> >> >         class(at), "\n", sep = "")
> >> >> >     if (is.null(at) && !is.null(x))
> >> >> >         at = pretty(x)
> >> >> >     axis(side = side, at = at, labels = labels, ...) }
> >> >> > <environment: namespace:graphics>
> >> >> >> setClass("MyClass", representation(smth="character"),
> >> >> > contains="numeric")
> >> >> > [1] "MyClass"
> >> >> >> a = new("MyClass", runif(10))
> >> >> >> a
> >> >> > An object of class "MyClass"
> >> >> >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
> >> >> > 0.112210501
> >> >> >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 Slot "smth":
> >> >> > character(0)
> >> >> >> plot(1:10,a)
> >> >> > In plot.default() class(x)=integer; class(y)=MyClass In Axis()
> >> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> >> class(x)=numeric;
> >> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> >> > Axis.default() class(x)=numeric; class(at)=NULL
> >> >> >> plot(a,1:10)
> >> >> > In plot.default() class(x)=MyClass; class(y)=integer In Axis()
> >> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> >> class(x)=numeric;
> >> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> >> > Axis.default() class(x)=numeric; class(at)=NULL
> >> >> >> b = runif(10)
> >> >> >> class(b)="AnotherClass"
> >> >> >> plot(b,1:10)
> >> >> > In plot.default() class(x)=AnotherClass;
> >> class(y)=integer In Axis()
> >> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> >> class(x)=numeric;
> >> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> >> > Axis.default() class(x)=numeric; class(at)=NULL
> >> >> >> plot(1:10)
> >> >> > In plot.default() class(x)=integer; class(y)=NULL In Axis()
> >> >> > class(x)=numeric; class(at)=NULL In Axis.default()
> >> >> class(x)=numeric;
> >> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
> >> >> > Axis.default() class(x)=numeric; class(at)=NULL>
> >> >> >> sessionInfo()
> >> >> > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
> >> >> >
> >> >> > locale:
> >> >> >
> >> >>
> >> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC
> >> >> _
> >> >> > MO
> >> >> >
> >> >>
> >> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_AD
> >> >> D
> >> >> > RE
> >> >> SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
> >> >> >
> >> >> > attached base packages:
> >> >> > [1] stats     graphics  grDevices utils     datasets
> >> methods   base
> >> >> >
> >> >> >
> >> >> > Dr Oleg Sklyar
> >> >> > Technology Group
> >> >> > Man Investments Ltd
> >> >> > +44 (0)20 7144 3803
> >> >> > osklyar at maninvestments.com
> >> >> >
> >> >> >
> >> >> >
> >> >>
> >> *********************************************************************
> >> >> *
> >> >> > The contents of this email are for the named addressee(s) only.
> >> >> > It contains information which may be confidential and privileged.
> >> >> > If you are not the intended recipient, please notify the sender
> >> >> > immediately, destroy this email and any attachments and do not
> >> >> > otherwise disclose or use them. Email transmission is
> >> not a secure
> >> >> > method of communication and Man Investments cannot accept
> >> >> > responsibility for the completeness or accuracy of this
> >> >> email or any
> >> >> > attachments. Whilst Man Investments makes every effort
> >> to keep its
> >> >> > network free from viruses, it does not accept
> >> >> responsibility for any
> >> >> > computer virus which might be transferred by way of this
> >> >> email or any
> >> >> > attachments. This email does not constitute a request, offer,
> >> >> > recommendation or solicitation of any kind to buy,
> >> >> subscribe, sell or
> >> >> > redeem any investment instruments or to perform other such
> >> >> > transactions of any kind. Man Investments reserves the right to
> >> >> > monitor, record and retain all electronic communications
> >> >> through its
> >> >> > network to ensure the integrity of its systems, for record
> >> >> keeping and
> >> >> > regulatory purposes.
> >> >> >
> >> >> > Visit us at: www.maninvestments.com
> >> >> >
> >> >> > ______________________________________________
> >> >> > R-devel at r-project.org mailing list
> >> >> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >> >>
> >> >>
> >>
> >>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From osklyar at maninvestments.com  Tue Apr 22 19:37:40 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 22 Apr 2008 18:37:40 +0100
Subject: [Rd] plot(x) in 2.7.0 (with y=NULL) proposed code correction
In-Reply-To: <18446.6246.920108.375163@stat.math.ethz.ch>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294889@mildnpexmb01.maninvestments.ad.man.com>
	<18446.6246.920108.375163@stat.math.ethz.ch>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE430229488C@mildnpexmb01.maninvestments.ad.man.com>

To Martin:

sorry, you are right, my fault. Your SVN fix for axisLocal seems to
solve the problems for numerics.
However, the problem remains for POSIXct:

plot(Sys.time()+runif(100,1,7200))

(for me it plots time on y correctly, but labeling of index x axis and
xlab="Index" are wrong/missing). I would assume that there is therefore
a problem in the current plot.POSIXct function. 

In fact, if one simply sets: plot.POSIXct = plot.default the result IS
correct! This is probably because POSIXct is numeric internally and axis
handling is performed correctly by your fix, i.e. strictly there is no
need for plot.POSIXct. For plot.POSIXlt, one could simply convert x into
POSIXct and call the default.

I do not think there will be many more "standard R" examples because the
problem was about calling one of the Axis.* methods and those are
defined for POSIX and Date classes only.

To Duncan:

I would be happy if I could test it before, I have recently started at
the current position and even now cannot access the R SVN directly due
to the company's internet connection policy.

The above working correctly for POSIXct with plot.default and not
working with plot.POSIXct was exactly the reason, why for me it is
logical to define Axis.MyClass rather than plot.MyClass.


Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: Martin Maechler [mailto:maechler at stat.math.ethz.ch] 
> Sent: 22 April 2008 17:55
> To: Sklyar, Oleg (MI London)
> Cc: R-devel at r-project.org
> Subject: Re: plot(x) in 2.7.0 (with y=NULL) proposed code correction
> 
> >>>>> "OlegS" == Sklyar, Oleg \(MI London\) 
> <osklyar at maninvestments.com>
> >>>>>     on Tue, 22 Apr 2008 17:34:24 +0100 writes:
> 
>     OlegS> Hi all:
>     OlegS> following the previous discussion, it looks like 
> plot(x) with y=NULL
>     OlegS> still does not work correctly. If one tries for 
> example plot(1:5) it
>     OlegS> works, but already for plot(runif(100)) it does not. 
> 
> ??? Not for me, with my propsal
> {{maybe only in your too much modified version of R ??}
> 
> I've committed my proposal, and am interested in feedback, 
> notably additional relevant examples.
> 
> Martin
> 
>     OlegS> I posted the proposed correction for plot.POSIXct and
>     OlegS> plot.POSIXlt before. Please voice your opinions
>     OlegS> whether the following fix for plot.default could be
>     OlegS> reasonable? I include the full function and the diff.
> 
> (And both suffered from wraparounds)
> 


**********************************************************************
The contents of this email are for the named addressee(s) only.
It contains information which may be confidential and privileged.
If you are not the intended recipient, please notify the sender
immediately, destroy this email and any attachments and do not
otherwise disclose or use them. Email transmission is not a
secure method of communication and Man Investments cannot accept
responsibility for the completeness or accuracy of this email or
any attachments. Whilst Man Investments makes every effort to keep
its network free from viruses, it does not accept responsibility
for any computer virus which might be transferred by way of this
email or any attachments. This email does not constitute a request,
offer, recommendation or solicitation of any kind to buy, subscribe,
sell or redeem any investment instruments or to perform other such
transactions of any kind. Man Investments reserves the right to
monitor, record and retain all electronic communications through
its network to ensure the integrity of its systems, for record
keeping and regulatory purposes. 

Visit us at: www.maninvestments.com


From murdoch at stats.uwo.ca  Tue Apr 22 19:45:01 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 22 Apr 2008 13:45:01 -0400
Subject: [Rd] plot(x) in 2.7.0 (with y=NULL) proposed code correction
In-Reply-To: <1A68FCB28DE72F4BA3B967E6506CCE430229488C@mildnpexmb01.maninvestments.ad.man.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294889@mildnpexmb01.maninvestments.ad.man.com>
	<18446.6246.920108.375163@stat.math.ethz.ch>
	<1A68FCB28DE72F4BA3B967E6506CCE430229488C@mildnpexmb01.maninvestments.ad.man.com>
Message-ID: <480E241D.3050509@stats.uwo.ca>

On 4/22/2008 1:37 PM, Sklyar, Oleg (MI London) wrote:
> To Martin:
> 
> sorry, you are right, my fault. Your SVN fix for axisLocal seems to
> solve the problems for numerics.
> However, the problem remains for POSIXct:
> 
> plot(Sys.time()+runif(100,1,7200))
> 
> (for me it plots time on y correctly, but labeling of index x axis and
> xlab="Index" are wrong/missing). I would assume that there is therefore
> a problem in the current plot.POSIXct function. 
> 
> In fact, if one simply sets: plot.POSIXct = plot.default the result IS
> correct! This is probably because POSIXct is numeric internally and axis
> handling is performed correctly by your fix, i.e. strictly there is no
> need for plot.POSIXct. For plot.POSIXlt, one could simply convert x into
> POSIXct and call the default.
> 
> I do not think there will be many more "standard R" examples because the
> problem was about calling one of the Axis.* methods and those are
> defined for POSIX and Date classes only.
> 
> To Duncan:
> 
> I would be happy if I could test it before, I have recently started at
> the current position and even now cannot access the R SVN directly due
> to the company's internet connection policy.

We do have daily binary builds, you don't need svn access.  I don't know 
if your company policy would allow you to download and install them, of 
course.  But if your company policy is not to allow you to test software 
that matters to the company, then you may have bigger problems than bad 
axis labels.

Duncan Murdoch

> 
> The above working correctly for POSIXct with plot.default and not
> working with plot.POSIXct was exactly the reason, why for me it is
> logical to define Axis.MyClass rather than plot.MyClass.
> 
> 
> Dr Oleg Sklyar
> Technology Group
> Man Investments Ltd
> +44 (0)20 7144 3803
> osklyar at maninvestments.com 
> 
>> -----Original Message-----
>> From: Martin Maechler [mailto:maechler at stat.math.ethz.ch] 
>> Sent: 22 April 2008 17:55
>> To: Sklyar, Oleg (MI London)
>> Cc: R-devel at r-project.org
>> Subject: Re: plot(x) in 2.7.0 (with y=NULL) proposed code correction
>> 
>> >>>>> "OlegS" == Sklyar, Oleg \(MI London\) 
>> <osklyar at maninvestments.com>
>> >>>>>     on Tue, 22 Apr 2008 17:34:24 +0100 writes:
>> 
>>     OlegS> Hi all:
>>     OlegS> following the previous discussion, it looks like 
>> plot(x) with y=NULL
>>     OlegS> still does not work correctly. If one tries for 
>> example plot(1:5) it
>>     OlegS> works, but already for plot(runif(100)) it does not. 
>> 
>> ??? Not for me, with my propsal
>> {{maybe only in your too much modified version of R ??}
>> 
>> I've committed my proposal, and am interested in feedback, 
>> notably additional relevant examples.
>> 
>> Martin
>> 
>>     OlegS> I posted the proposed correction for plot.POSIXct and
>>     OlegS> plot.POSIXlt before. Please voice your opinions
>>     OlegS> whether the following fix for plot.default could be
>>     OlegS> reasonable? I include the full function and the diff.
>> 
>> (And both suffered from wraparounds)
>> 
> 
> 
> **********************************************************************
> The contents of this email are for the named addressee(s) only.
> It contains information which may be confidential and privileged.
> If you are not the intended recipient, please notify the sender
> immediately, destroy this email and any attachments and do not
> otherwise disclose or use them. Email transmission is not a
> secure method of communication and Man Investments cannot accept
> responsibility for the completeness or accuracy of this email or
> any attachments. Whilst Man Investments makes every effort to keep
> its network free from viruses, it does not accept responsibility
> for any computer virus which might be transferred by way of this
> email or any attachments. This email does not constitute a request,
> offer, recommendation or solicitation of any kind to buy, subscribe,
> sell or redeem any investment instruments or to perform other such
> transactions of any kind. Man Investments reserves the right to
> monitor, record and retain all electronic communications through
> its network to ensure the integrity of its systems, for record
> keeping and regulatory purposes. 
> 
> Visit us at: www.maninvestments.com
> 
> **********************************************************************
>


From ggrothendieck at gmail.com  Tue Apr 22 19:53:00 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 22 Apr 2008 13:53:00 -0400
Subject: [Rd] plot(x) in 2.7.0 (with y=NULL) proposed code correction
In-Reply-To: <480E241D.3050509@stats.uwo.ca>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294889@mildnpexmb01.maninvestments.ad.man.com>
	<18446.6246.920108.375163@stat.math.ethz.ch>
	<1A68FCB28DE72F4BA3B967E6506CCE430229488C@mildnpexmb01.maninvestments.ad.man.com>
	<480E241D.3050509@stats.uwo.ca>
Message-ID: <971536df0804221053h647db792s65278977d3b2097d@mail.gmail.com>

On Tue, Apr 22, 2008 at 1:45 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> > defined for POSIX and Date classes only.
> >

zoo defines Axis methods for the yearmon and yearqtr classes and potentially
other time/date classes will need Axis methods.


From murdoch at stats.uwo.ca  Tue Apr 22 20:14:14 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 22 Apr 2008 14:14:14 -0400
Subject: [Rd] graphics::Axis loosing S3/S4 class attributes of 'x' in
 2.7.0 RC
In-Reply-To: <971536df0804221029p55d19792s8bf49846ca2cf5de@mail.gmail.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE430229487F@mildnpexmb01.maninvestments.ad.man.com>	
	<480DD38A.7090004@stats.uwo.ca>	
	<1A68FCB28DE72F4BA3B967E6506CCE4302294881@mildnpexmb01.maninvestments.ad.man.com>	
	<480DE708.3030104@stats.uwo.ca>	
	<1A68FCB28DE72F4BA3B967E6506CCE4302294884@mildnpexmb01.maninvestments.ad.man.com>	
	<480E1E00.8080409@stats.uwo.ca>
	<971536df0804221029p55d19792s8bf49846ca2cf5de@mail.gmail.com>
Message-ID: <480E2AF6.5000700@stats.uwo.ca>

On 4/22/2008 1:29 PM, Gabor Grothendieck wrote:
> Its not clear to me at this point what and where the proposed
> or already made change is but here
> is a test that should produce a year/month style rather than
> numeric style X axis:
> 
> library(zoo)
> z <- zoo(1:12, as.yearmon(2000 + 1:12/12))
> plot(z)

It does.

Duncan Murdoch

> 
> 
> On Tue, Apr 22, 2008 at 1:18 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> There seem to be nonlinearities in the time-space continuum, so this
>> message arrived several hours after Martin's, even though both have the
>> same timestamp.  Please test his, and see if you can break it.  I'd
>> guess not, it looks simple enough, but not too simple.
>>
>> And for the future:
>>
>> Please test the alpha/beta/RC releases!  The change we're talking about
>> came fairly late in the process, but it was there for the last couple of
>> weeks.  It would be easier for everyone if it had been corrected before
>> release, rather than after.  It was announced on the RSS list, here:
>>
>> http://developer.r-project.org/blosxom.cgi/R-2-7-branch/NEWS/2008/04/08#n2008-04-08
>>
>> so it would really have helped if people who rely on special axis
>> handling by Axis had tested the change after they'd seen that notice.
>>
>> On 4/22/2008 10:26 AM, Sklyar, Oleg (MI London) wrote:
>>  > Ok, so what's wrong with the following fix for plot(x)
>>
>> The main thing that's wrong with it is that you don't explain what the
>> changes are.  I can't believe that the error is specific to the POSIXct
>> class, so it doesn't make sense that changes there would fix it in general.
>>
>> Duncan Murdoch
>>
>>
>>  > that would
>> > actually fix what needs to be fixed instead of changing plot.default?
>> > Fix means reverting plot.default in 2.7.0 to what it was (if testing in
>> > 2.7.0, copy and paste the OLD plot.default into the .GlobalEnv):
>> >
>> > plot.POSIXct <- function(x, y, xlab = "", ...) {
>> >     if (!missing(y)) {
>> >         side = 1
>> >         plotDef <- function(x, y, xaxt, xlab, ...) plot.default(x, y,
>> > xaxt="n", xlab=xlab, ...)
>> >         plotDef(x, y, xlab=xlab, ...)
>> >     } else {
>> >         side = 2
>> >         plotDef <- function(x, y, yaxt, xlab, ...) plot.default(x, y,
>> > yaxt="n", xlab=xlab, ...)
>> >         plotDef(seq_along(x), x, xlab=xlab, ...)
>> >     }
>> >     ## trick to remove arguments intended for title() or plot.default()
>> >     axisInt <- function(x, type, main, sub, xlab, ylab, col, lty, lwd,
>> >                         xlim, ylim, bg, pch, log, asp, axes, frame.plot,
>> > ...)
>> >         axis.POSIXct(side, x, ...)
>> >     dots <- list(...)
>> >     axes <- if("axes" %in% names(dots)) dots$axes else TRUE
>> >     xaxt <- if("xaxt" %in% names(dots)) dots$xaxt else par("xaxt")
>> >     if(axes && xaxt != "n") axisInt(x, ...)
>> > }
>> >
>> > plot.POSIXlt <- function(x, y, xlab = "", ...) {
>> >     if (missing(y)) plot.POSIXct(as.POSIXct(x), xlab=xlab, ...)
>> >     else plot.POSIXct(as.POSIXct(x), y=y, xlab=xlab, ...)
>> > }
>> >
>> > And try with:
>> > x = Sys.time() + runif(100,1,7200)
>> > plot(x)
>> > plot(x,1:100)
>> > plot(1:100,x)
>> >
>> > plot(as.POSIXlt(x))
>> > plot(as.POSIXlt(x),1:100)
>> > plot(1:100,as.POSIXlt(x))
>> >
>> >
>> > Dr Oleg Sklyar
>> > Technology Group
>> > Man Investments Ltd
>> > +44 (0)20 7144 3803
>> > osklyar at maninvestments.com
>> >
>> >> -----Original Message-----
>> >> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca]
>> >> Sent: 22 April 2008 14:24
>> >> To: Sklyar, Oleg (MI London)
>> >> Cc: R-devel at r-project.org
>> >> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class
>> >> attributes of 'x' in 2.7.0 RC
>> >>
>> >> On 4/22/2008 9:08 AM, Sklyar, Oleg (MI London) wrote:
>> >> > Duncan,
>> >> >
>> >> > looking further, what has changed from 2.6.2 into 2.7.0 are the
>> >> > following two lines in plot.default, which I think were
>> >> logical before
>> >> > and are not really logical now:
>> >>
>> >> I believe it is behaving as documented now, so the behaviour
>> >> is "logical", even if it may not be convenient.  In your example
>> >>
>> >> x = Sys.time() + runif(100,1,7200) ## time over two hours,
>> >> POSIXct plot(x, 1:100) plot(1:100, x)
>> >>
>> >> the 1st works in 2.6.2 and 2.7.0 and the second only works in 2.6.2.
>> >> But the change below was designed to fix the case
>> >>
>> >> plot(x)
>> >>
>> >> which works in 2.7.0 and *not* in 2.6.2, so reverting the
>> >> change is not the way to address this.
>> >>
>> >> Duncan Murdoch
>> >>
>> >> >
>> >> > plot.R: plot.default (2.6.2):
>> >> > if (axes) {
>> >> >    localAxis(x, side=1, ...)
>> >> >    localAxis(y, side=2, ...)
>> >> > }
>> >> >
>> >> > plot.R: plot.default (2.7.0):
>> >> > ...
>> >> > if (axes) {
>> >> >    localAxis(xy$x, side=1, ...)
>> >> >    localAxis(xy$y, side=2, ...)
>> >> > }
>> >> >
>> >> > The fact that xy.coords is called does not really matter.
>> >> >
>> >> >
>> >> > Dr Oleg Sklyar
>> >> > Technology Group
>> >> > Man Investments Ltd
>> >> > +44 (0)20 7144 3803
>> >> > osklyar at maninvestments.com
>> >> >
>> >> >> -----Original Message-----
>> >> >> From: Duncan Murdoch [mailto:murdoch at stats.uwo.ca]
>> >> >> Sent: 22 April 2008 13:01
>> >> >> To: Sklyar, Oleg (MI London)
>> >> >> Cc: R-devel at r-project.org
>> >> >> Subject: Re: [Rd] graphics::Axis loosing S3/S4 class attributes of
>> >> >> 'x' in 2.7.0 RC
>> >> >>
>> >> >> On 22/04/2008 7:25 AM, Sklyar, Oleg (MI London) wrote:
>> >> >> > Following my previous post on S3 method despatch, I put
>> >> >> debug messages
>> >> >> > in the code of Axis, Axis.default and plot.default in
>> >> >> > graphics/R/axis.R and graphics/R/plot.R to print the
>> >> class of x, at
>> >> >> > and y on plot. After recompiling R, what I see is that x
>> >> *lost* its
>> >> >> > class attribute (at least for classes not known to
>> >> 'graphics') in
>> >> >> > Axis, called directly from plot.default and this could be
>> >> >> the reason
>> >> >> > why R did not despatch on Axis.MyClass from my previous
>> >> post. This
>> >> >> > happens for both S3 and S4 classes as in the code below!
>> >> >> Funny enough,
>> >> >> > even "integer" was reset to numeric in Axis...
>> >> >>
>> >> >> If you look at plot.default, you'll see it passes x and y through
>> >> >> xy.coords to get coordinates.  That function ends with
>> >> >>
>> >> >> return(list(x=as.double(x), y=as.double(y), xlab=xlab, ylab=ylab))
>> >> >>
>> >> >> so that's where classes get removed.  If you don't want this to
>> >> >> happen, shouldn't you be defining plot.MyClass, or calling the
>> >> >> default with axes=F, and then calling Axis on your object yourself?
>> >> >>
>> >> >> > Is this really an intended behaviour? It looks very wrong to me!
>> >> >>
>> >> >> This is documented:  ?plot.default tells you to look at ?xy.coords
>> >> >> for details of how x and y are handled, and xy.coords says "In any
>> >> >> other case, the 'x' argument is coerced to a vector and
>> >> >>       returned as *y* component where the resulting 'x' is just the
>> >> >>       index vector '1:n'.  In this case, the resulting 'xlab'
>> >> >> component
>> >> >>       is set to '"Index"'."
>> >> >>
>> >> >> Duncan Murdoch
>> >> >>
>> >> >> > Thanks,
>> >> >> > Oleg
>> >> >> >
>> >> >> > *** R version 2.7.0 RC (2008-04-20 r45403)
>> >> >> [/research/osklyar/R-devel]
>> >> >> > ***
>> >> >> >> Axis
>> >> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
>> >> >> >     cat("In Axis() class(x)=", class(x), "; class(at)=",
>> >> class(at),
>> >> >> >         "\n", sep = "")
>> >> >> >     if (!is.null(x))
>> >> >> >         UseMethod("Axis", x)
>> >> >> >     else if (!is.null(at))
>> >> >> >         UseMethod("Axis", at)
>> >> >> >     else axis(side = side, at = at, labels = labels, ...) }
>> >> >> > <environment: namespace:graphics>
>> >> >> >> graphics:::Axis.default
>> >> >> > function (x = NULL, at = NULL, ..., side, labels = NULL) {
>> >> >> >     cat("In Axis.default() class(x)=", class(x), "; class(at)=",
>> >> >> >         class(at), "\n", sep = "")
>> >> >> >     if (is.null(at) && !is.null(x))
>> >> >> >         at = pretty(x)
>> >> >> >     axis(side = side, at = at, labels = labels, ...) }
>> >> >> > <environment: namespace:graphics>
>> >> >> >> setClass("MyClass", representation(smth="character"),
>> >> >> > contains="numeric")
>> >> >> > [1] "MyClass"
>> >> >> >> a = new("MyClass", runif(10))
>> >> >> >> a
>> >> >> > An object of class "MyClass"
>> >> >> >  [1] 0.773237167 0.548630205 0.987956687 0.212667925 0.337135151
>> >> >> > 0.112210501
>> >> >> >  [7] 0.007140895 0.972028903 0.443581963 0.536452424 Slot "smth":
>> >> >> > character(0)
>> >> >> >> plot(1:10,a)
>> >> >> > In plot.default() class(x)=integer; class(y)=MyClass In Axis()
>> >> >> > class(x)=numeric; class(at)=NULL In Axis.default()
>> >> >> class(x)=numeric;
>> >> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
>> >> >> > Axis.default() class(x)=numeric; class(at)=NULL
>> >> >> >> plot(a,1:10)
>> >> >> > In plot.default() class(x)=MyClass; class(y)=integer In Axis()
>> >> >> > class(x)=numeric; class(at)=NULL In Axis.default()
>> >> >> class(x)=numeric;
>> >> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
>> >> >> > Axis.default() class(x)=numeric; class(at)=NULL
>> >> >> >> b = runif(10)
>> >> >> >> class(b)="AnotherClass"
>> >> >> >> plot(b,1:10)
>> >> >> > In plot.default() class(x)=AnotherClass;
>> >> class(y)=integer In Axis()
>> >> >> > class(x)=numeric; class(at)=NULL In Axis.default()
>> >> >> class(x)=numeric;
>> >> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
>> >> >> > Axis.default() class(x)=numeric; class(at)=NULL
>> >> >> >> plot(1:10)
>> >> >> > In plot.default() class(x)=integer; class(y)=NULL In Axis()
>> >> >> > class(x)=numeric; class(at)=NULL In Axis.default()
>> >> >> class(x)=numeric;
>> >> >> > class(at)=NULL In Axis() class(x)=numeric; class(at)=NULL In
>> >> >> > Axis.default() class(x)=numeric; class(at)=NULL>
>> >> >> >> sessionInfo()
>> >> >> > R version 2.7.0 RC (2008-04-20 r45403) x86_64-unknown-linux-gnu
>> >> >> >
>> >> >> > locale:
>> >> >> >
>> >> >>
>> >> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=C;LC
>> >> >> _
>> >> >> > MO
>> >> >> >
>> >> >>
>> >> NETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_AD
>> >> >> D
>> >> >> > RE
>> >> >> SS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
>> >> >> >
>> >> >> > attached base packages:
>> >> >> > [1] stats     graphics  grDevices utils     datasets
>> >> methods   base
>> >> >> >
>> >> >> >
>> >> >> > Dr Oleg Sklyar
>> >> >> > Technology Group
>> >> >> > Man Investments Ltd
>> >> >> > +44 (0)20 7144 3803
>> >> >> > osklyar at maninvestments.com
>> >> >> >
>> >> >> >
>> >> >> >
>> >> >>
>> >> *********************************************************************
>> >> >> *
>> >> >> > The contents of this email are for the named addressee(s) only.
>> >> >> > It contains information which may be confidential and privileged.
>> >> >> > If you are not the intended recipient, please notify the sender
>> >> >> > immediately, destroy this email and any attachments and do not
>> >> >> > otherwise disclose or use them. Email transmission is
>> >> not a secure
>> >> >> > method of communication and Man Investments cannot accept
>> >> >> > responsibility for the completeness or accuracy of this
>> >> >> email or any
>> >> >> > attachments. Whilst Man Investments makes every effort
>> >> to keep its
>> >> >> > network free from viruses, it does not accept
>> >> >> responsibility for any
>> >> >> > computer virus which might be transferred by way of this
>> >> >> email or any
>> >> >> > attachments. This email does not constitute a request, offer,
>> >> >> > recommendation or solicitation of any kind to buy,
>> >> >> subscribe, sell or
>> >> >> > redeem any investment instruments or to perform other such
>> >> >> > transactions of any kind. Man Investments reserves the right to
>> >> >> > monitor, record and retain all electronic communications
>> >> >> through its
>> >> >> > network to ensure the integrity of its systems, for record
>> >> >> keeping and
>> >> >> > regulatory purposes.
>> >> >> >
>> >> >> > Visit us at: www.maninvestments.com
>> >> >> >
>> >> >> > ______________________________________________
>> >> >> > R-devel at r-project.org mailing list
>> >> >> > https://stat.ethz.ch/mailman/listinfo/r-devel
>> >> >>
>> >> >>
>> >>
>> >>
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>


From bill at insightful.com  Tue Apr 22 22:15:17 2008
From: bill at insightful.com (Bill Dunlap)
Date: Tue, 22 Apr 2008 13:15:17 -0700 (PDT)
Subject: [Rd] plot(x) in 2.7.0 (with y=NULL) proposed code correction
In-Reply-To: <18446.6246.920108.375163@stat.math.ethz.ch>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294889@mildnpexmb01.maninvestments.ad.man.com>
	<18446.6246.920108.375163@stat.math.ethz.ch>
Message-ID: <Pine.GSO.4.56.0804221309250.8875@devsun3201.insightful.com>

On Tue, 22 Apr 2008, Martin Maechler wrote:

> I've committed my proposal, and am interested in feedback,
> notably additional relevant examples.

I tried the following test and the axes
looked right in 2.6.2 and the r45453
(right after your change to plot.R).
They looked bad (all were 2,4,6,8,10, not
1*pi,2*pi,3*pi) in r45390 (2008-04-19).


Axis.MyRadian <- function(x = NULL, at = NULL, ...,
    side, labels = NULL)
{
    r <- range(x)
    npi <- floor(r[1]/pi):ceiling(r[2]/pi)
    at <- npi * pi
    labels <- as.expression(lapply(
        npi,function(i)substitute(i*pi, list(i=i))))
    axis(side=side, at=at, labels=labels)
}
par(mfrow=c(2,2))
plot(structure(1:10, class="MyRadian"), sin(1:10),
   main="n pi radians on x  axis")
plot(structure(1:10, class="MyRadian"),
   main="n pi radians on y axis")
plot(structure(1:10, class="MyRadian"),
   structure(10:1, class="MyRadian"),
   main="n pi radians on both axes")
plot(1:10, 1:10, main="no pi's on either axis")
par(mfrow=c(2,2))


----------------------------------------------------------------------------
Bill Dunlap
Insightful Corporation
bill at insightful dot com
360-428-8146

 "All statements in this message represent the opinions of the author and do
 not necessarily reflect Insightful Corporation policy or position."


From maechler at stat.math.ethz.ch  Wed Apr 23 09:00:11 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 23 Apr 2008 09:00:11 +0200
Subject: [Rd] plot(x) in 2.7.0 (with y=NULL) proposed code correction
In-Reply-To: <Pine.GSO.4.56.0804221309250.8875@devsun3201.insightful.com>
References: <1A68FCB28DE72F4BA3B967E6506CCE4302294889@mildnpexmb01.maninvestments.ad.man.com>
	<18446.6246.920108.375163@stat.math.ethz.ch>
	<Pine.GSO.4.56.0804221309250.8875@devsun3201.insightful.com>
Message-ID: <18446.56955.164407.717723@stat.math.ethz.ch>

Thank you, Bill, (and Gabor BTW) for the nice example.

In the mean time the change has made it into R-patched aka 
'R 2.7.0 patched' , not only in SVN but also already in last night's
snapshot at ftp://stat.ethz.ch/Software/R/

Martin

    BD> On Tue, 22 Apr 2008, Martin Maechler wrote:
    BD> I've committed my proposal, and am interested in feedback,
    BD> notably additional relevant examples.

    BD> I tried the following test and the axes
    BD> looked right in 2.6.2 and the r45453
    BD> (right after your change to plot.R).
    BD> They looked bad (all were 2,4,6,8,10, not
    BD> 1*pi,2*pi,3*pi) in r45390 (2008-04-19).


    >> Axis.MyRadian <- function(x = NULL, at = NULL, ...,
    >>     side, labels = NULL)
    >> {
    >>     r <- range(x)
    >>     npi <- floor(r[1]/pi):ceiling(r[2]/pi)
    >>     at <- npi * pi
    >>     labels <- as.expression(lapply(
    >>         npi,function(i)substitute(i*pi, list(i=i))))
    >>     axis(side=side, at=at, labels=labels)
    >> }
    >> par(mfrow=c(2,2))
    >> plot(structure(1:10, class="MyRadian"), sin(1:10),
    >>    main="n pi radians on x  axis")
    >> plot(structure(1:10, class="MyRadian"),
    >>    main="n pi radians on y axis")
    >> plot(structure(1:10, class="MyRadian"),
    >>    structure(10:1, class="MyRadian"),
    >>    main="n pi radians on both axes")
    >> plot(1:10, 1:10, main="no pi's on either axis")
    >> par(mfrow=c(2,2))
    >> 
    >> 
    >> ----------------------------------------------------------------------------
    >> Bill Dunlap
    >> Insightful Corporation
    >> bill at insightful dot com
    >> 360-428-8146
    >> 
    >>  "All statements in this message represent the opinions of the author and do
    >>  not necessarily reflect Insightful Corporation policy or position."


From Christophe.GIRAUD at unice.fr  Tue Apr 22 16:15:08 2008
From: Christophe.GIRAUD at unice.fr (Christophe.GIRAUD at unice.fr)
Date: Tue, 22 Apr 2008 16:15:08 +0200 (CEST)
Subject: [Rd] (PR#11240)
Message-ID: <20080422141508.333A1283461B@mail.pubhealth.ku.dk>

Hi,

I have a mac OS X 10.4.11.
Since I have updated R (version 2.6.2) I have a bug with the console:=20=20
when R is busy and I want to stop the computation, I click on "STOP"=20=20
and then R does not respond anymore (I have to kill it). I had no=20=20
problem with my previous version.

For information, I have downloaded R-2.6.2-mini.dmg

regards,
Christophe.
---
Ma=EEtre de conf=E9rences =E0 l'Universit=E9 de Nice,
en d=E9l=E9gation =E0 l'INRA Jouy-en-Josas.
t=E9l:  01 34 65 22 40
fax: 01 34 65 22 17
http://math.unice.fr/~cgiraud/




	[[alternative HTML version deleted]]


From alzennyr at gmail.com  Wed Apr 23 10:44:18 2008
From: alzennyr at gmail.com (Alzennyr Silva)
Date: Wed, 23 Apr 2008 10:44:18 +0200
Subject: [Rd] Problem with graphic exhibition in Java using JRI
Message-ID: <a9a3dda00804230144v5701e5frfa0b7d221f3821c3@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080423/5290f86e/attachment.pl 

From brechbuehler at gmail.com  Wed Apr 23 16:55:12 2008
From: brechbuehler at gmail.com (brechbuehler at gmail.com)
Date: Wed, 23 Apr 2008 16:55:12 +0200 (CEST)
Subject: [Rd] Seqfault, Address 0, track X11() (PR#11231)
Message-ID: <20080423145512.E722D282EF48@mail.pubhealth.ku.dk>

On Mon, Apr 21, 2008 at 10:15 PM, <liqun.xing at basf.com> wrote:
> When first time launch X11(), it was fine. However, when closed the X11 windon
> by clicking the close button, or closed it off by command Dev.off() and launched
> the X11() again, got segfault, and asking for exiting R and other options.

A) Yes, that happens occasionally; particularly if I forget to call
Dev.off() after closing the window.  Just try it again.
B) Instead of calling x11 without arguments, you could pass DISPLAY,
e.g., x11("localhost:0.0").
C) I've seen that suggestion to exit R.  Usually I ignore it, and
nothing bad happens.

Good luck
/Christian


From pgilbert at bank-banque-canada.ca  Wed Apr 23 17:01:21 2008
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 23 Apr 2008 11:01:21 -0400
Subject: [Rd] S4 default for coercing
Message-ID: <480F4F41.3030806@bank-banque-canada.ca>

Something has changed in the S4 default for coercing.  Am I now suppose 
to use setAs, or is there something else I should do  to make this work:

R version 2.7.0 (2008-04-22)
....
 > require("methods")
 > setClassUnion("OptionalPOSIXct",   c("POSIXct",   "NULL"))
[1] "OptionalPOSIXct"
 > setClass("TSmetax",
   representation(serIDs="character", ExtractionDate="OptionalPOSIXct" ))
[1] "TSmetax"
 > setGeneric("TSmetax", def= function(x, ...) standardGeneric("TSmetax"))
[1] "TSmetax"
 > setMethod("TSmetax",   signature(x="character"),  definition= 
function(x, ...){
new("TSmetax", serIDs=x, ExtractionDate=Sys.time())  } )
[1] "TSmetax"

 > z <- new("TSmetax", serIDs="whatever", ExtractionDate= Sys.time())
Error in as(slotVal, slotClass, strict = FALSE) :
  no method or default for coercing "POSIXt" to "OptionalPOSIXct"

(It did work in R-2.6.2.)

Paul
====================================================================================

La version fran?aise suit le texte anglais.

------------------------------------------------------------------------------------

This email may contain privileged and/or confidential in...{{dropped:26}}


From russell-lenth at uiowa.edu  Wed Apr 23 19:05:28 2008
From: russell-lenth at uiowa.edu (russell-lenth at uiowa.edu)
Date: Wed, 23 Apr 2008 19:05:28 +0200 (CEST)
Subject: [Rd] poly() can exceed degree k - 1 for k distinct points (PR#11251)
Message-ID: <20080423170528.BB9A2282EFF6@mail.pubhealth.ku.dk>

The poly() function can create more variables than can be fitted when 
there are replicated values.  In the example below, 'x' has only 5 
distinct values, but I can apparently fit a 12th-degree polynomial with 
no error messages or even nonzero coefficients:

R> x = rep(1:5,3)
R> y = rnorm(15)
R> lm(y ~ poly(x, 12))

Call:
lm(formula = y ~ poly(x, 12))

Coefficients:
   (Intercept)   poly(x, 12)1   poly(x, 12)2   poly(x, 12)3
      -0.27442        0.35822       -0.26412        2.11780
  poly(x, 12)4   poly(x, 12)5   poly(x, 12)6   poly(x, 12)7
       1.83117       -0.09260       -0.48572        1.94030
  poly(x, 12)8   poly(x, 12)9  poly(x, 12)10  poly(x, 12)11
      -0.88297       -1.04556        0.74289       -0.01422
poly(x, 12)12
      -0.46548




If I try the same with raw=TRUE, only a 4th-degree polynomial is obtained:

R> lm(y ~ poly(x, 12, raw=TRUE))

Call:
lm(formula = y ~ poly(x, 12, raw = TRUE))

Coefficients:
               (Intercept)   poly(x, 12, raw = TRUE)1
                    9.7527                   -22.0971
  poly(x, 12, raw = TRUE)2   poly(x, 12, raw = TRUE)3
                   15.3293                    -4.1005
  poly(x, 12, raw = TRUE)4   poly(x, 12, raw = TRUE)5
                    0.3686                         NA
  poly(x, 12, raw = TRUE)6   poly(x, 12, raw = TRUE)7
                        NA                         NA
  poly(x, 12, raw = TRUE)8   poly(x, 12, raw = TRUE)9
                        NA                         NA
poly(x, 12, raw = TRUE)10  poly(x, 12, raw = TRUE)11
                        NA                         NA
poly(x, 12, raw = TRUE)12
                        NA

I believe that what is needed is a check on the 'rank' result after 
poly() calls the qr() function.



System info:
R version: 2.6.2
Windows XP Pro; also get same results on Linux x_64 dual-core system.



[I thought I submitted this via the website yesterday, but I can find no 
trace of it.  I apologize if this is a duplicate, but I don't think it is.]
-- 
Russell V. Lenth, Professor
Department of Statistics
   & Actuarial Science            (319)335-0814    FAX (319)335-3017
The University of Iowa           russell-lenth at uiowa.edu
Iowa City, IA 52242  USA         http://www.stat.uiowa.edu/~rlenth/


From liqun.xing at basf.com  Wed Apr 23 17:15:13 2008
From: liqun.xing at basf.com (liqun.xing at basf.com)
Date: Wed, 23 Apr 2008 17:15:13 +0200 (CEST)
Subject: [Rd] Seqfault, Address 0, track X11() (PR#11231)
Message-ID: <20080423151514.0BD2B282EF48@mail.pubhealth.ku.dk>

Thank you very much for the helps.

However, it happened me on my Solaris OS 9 machine every time as long a=
s I
closed the X11 window regardless how I launched the X11 window using pl=
ot,
edit(dataset) , etc, even I specifically close the device using dev.off=
()
command after I closed the window by clicking the close button.

I will try the pass the DISPLAY and see how it will happen....

Thanks again
Liqun
_______________________________________________________________________=
_______________


Liqun Xing, PhD
Principal Scientist

Phone:  1-919-547-2153
E-mail:  liqun.xing at basf.com
Postal Address:
BASF Plant Science, L.L.C.
26 Davis Drive
Research Triangle Pa, NC, 27709
USA

BASF - The Chemical Company



                                                                       =
    
                         "Christi                                      =
    
                         an                                            =
    
                         Brechb=FCh                                    =
   To 
                         ler"             liqun.xing at basf.com          =
    
                         <brechbu                                      =
 cc 
                         ehler at gm         R-bugs at biostat.ku.dk         =
    
                         ail.com>                                  Subj=
ect 
                                          Re: [Rd] Seqfault, Address 0,=
    
                         04/23/20         track X11() (PR#11231)       =
    
                         08 10:51                                      =
    
                         AM                                            =
    
                                                                       =
    
                                                                       =
    
                                                                       =
    
                                                                       =
    




On Mon, Apr 21, 2008 at 10:15 PM, <liqun.xing at basf.com> wrote:
> When first time launch X11(), it was fine. However, when closed the X=
11
windon
> by clicking the close button, or closed it off by command Dev.off() a=
nd
launched
> the X11() again, got segfault, and asking for exiting R and other
options.

A) Yes, that happens occasionally; particularly if I forget to call
Dev.off() after closing the window.  Just try it again.
B) Instead of calling x11 without arguments, you could pass DISPLAY,
e.g., x11("localhost:0.0").
C) I've seen that suggestion to exit R.  Usually I ignore it, and
nothing bad happens.

Good luck
/Christian
=


From Ludek.Salom at rsj.cz  Wed Apr 23 16:25:13 2008
From: Ludek.Salom at rsj.cz (Ludek.Salom at rsj.cz)
Date: Wed, 23 Apr 2008 16:25:13 +0200 (CEST)
Subject: [Rd] HTML help solveLP(linprog) (PR#11250)
Message-ID: <20080423142513.60BBF283416D@mail.pubhealth.ku.dk>

Dear R team!

=20

I found in HTML help for function solveLP(linprog) a small mistake. It
says in Description "Minimizes c'x, subject to A x >=3D b and x >=3D 0", but
tests show that there should be A x <=3D b.

=20

Best regards,

=20

Ludek

=20

=20


	[[alternative HTML version deleted]]


From dankoc at gmail.com  Wed Apr 23 20:16:46 2008
From: dankoc at gmail.com (Charles Danko)
Date: Wed, 23 Apr 2008 14:16:46 -0400
Subject: [Rd] cbind speed.
Message-ID: <8adccabf0804231116yb26e66bn2e8134297b34140@mail.gmail.com>

cbind/ rbind/ data.frame functions are very convenient for merging
vectors of different types into a single data frame, but take quite a
bit of time to execute on larger data sets.

Is it possible to speed these up a bit?

What functions do you use instead?

Thanks & regards,
Charles


From ripley at stats.ox.ac.uk  Wed Apr 23 21:03:22 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 Apr 2008 20:03:22 +0100 (BST)
Subject: [Rd] cbind speed.
In-Reply-To: <8adccabf0804231116yb26e66bn2e8134297b34140@mail.gmail.com>
References: <8adccabf0804231116yb26e66bn2e8134297b34140@mail.gmail.com>
Message-ID: <alpine.LFD.1.10.0804231956410.8164@gannet.stats.ox.ac.uk>

On Wed, 23 Apr 2008, Charles Danko wrote:

> cbind/ rbind/ data.frame functions are very convenient for merging
> vectors of different types into a single data frame, but take quite a
> bit of time to execute on larger data sets.
>
> Is it possible to speed these up a bit?
>
> What functions do you use instead?

You would need to show us some examples and timings (and cbind and rbind 
are very different tasks).

Sometimes adding a single column by DF$new <- new_col is faster than 
cbind, and it is often faster to use matrices if you have purely numeric 
data (at least for rbind).

Also, what does this have to do with R-devel rather than R-help -- it is 
not about 'code development', 'programming' nor the development of R?
So please follow up there after re-reading the posting guide.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From arne.henningsen at googlemail.com  Wed Apr 23 22:10:51 2008
From: arne.henningsen at googlemail.com (Arne Henningsen)
Date: Wed, 23 Apr 2008 22:10:51 +0200
Subject: [Rd] HTML help solveLP(linprog) (PR#11250)
In-Reply-To: <20080423142513.60BBF283416D@mail.pubhealth.ku.dk>
References: <20080423142513.60BBF283416D@mail.pubhealth.ku.dk>
Message-ID: <200804232211.35438.arne.henningsen@googlemail.com>

Dear Ludek!

On Wednesday 23 April 2008 16:25, Ludek.Salom at rsj.cz wrote:
> Dear R team!
>
> =20
>
> I found in HTML help for function solveLP(linprog) a small mistake. It
> says in Description "Minimizes c'x, subject to A x >=3D b and x >=3D 0",
> but tests show that there should be A x <=3D b.

Thanks for your message. I will check this and update either the code or the 
documentation.

Best wishes,
Arne

>
> =20
>
> Best regards,
>
> =20
>
> Ludek
>
> =20
>
> =20
>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Arne Henningsen
http://www.arne-henningsen.name
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-devel/attachments/20080423/83d1eed4/attachment.bin 

From belhassen.kaabi at gmail.com  Wed Apr 23 20:50:17 2008
From: belhassen.kaabi at gmail.com (belhassen.kaabi at gmail.com)
Date: Wed, 23 Apr 2008 20:50:17 +0200 (CEST)
Subject: [Rd] HTML help for R (PR#11253)
Message-ID: <20080423185017.D74FF282EFF6@mail.pubhealth.ku.dk>

Full_Name: Belhassen Kaabi
Version: 2.7.0
OS: Windows XP SP2 
Submission from: (NULL) (193.95.84.230)


R stuck when HTML help is invited (proxy server is used for the connection to
the internet).

I tried both internet2.dll and the default  in custom intallation.

Thanks


From ripley at stats.ox.ac.uk  Thu Apr 24 00:10:14 2008
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Thu, 24 Apr 2008 00:10:14 +0200 (CEST)
Subject: [Rd] (PR#11231) [Solaris 9 segfault when closiing X11()]
Message-ID: <20080423221014.157DA282EFF7@mail.pubhealth.ku.dk>

We need to know a great deal more information, and asking on R-devel would 
be a lot kinder than blaming this on a bug in R (and please use a 
meaningful subject line).

What version of R is this?

Precisely what OS (Solaris 9 comes for several architectures)?

Assuming you compiled R yourself, what compilers did you use? (And where 
did you get those from if they are not Sun compilers?)  If got a 
pre-compiled version, you need to try compiling on the machine you are 
using.

Do you have a debugger for your compiler?  If so you can run R under the 
debugger (possibly R -d gdb) and debug the crash for yourself. (We cannot 
do this for you unless we can reproduce it.)

Given that Solaris 9 is long obsolete (Solaris 10 is more than 3 years' 
old), we don't hear of many R users on it.  But we do hear from some using 
it successfully.  And since R is in use on both Solaris 8 and 10, it is 
unlikely to be a generic Solaris issue.

Given all our experience, the most likely explanation is a bug in the 
software on your machine, e.g. in a compiler.  Please take this to your IT 
support team and get them to identify the problem -- if they are able to 
supply a patch to a current version of R that works around the problem it 
would be a positive contribution to the R project.


On Wed, 23 Apr 2008, liqun.xing at basf.com wrote:

> Thank you very much for the helps.
>
> However, it happened me on my Solaris OS 9 machine every time as long a=
> s I
> closed the X11 window regardless how I launched the X11 window using pl=
> ot,
> edit(dataset) , etc, even I specifically close the device using dev.off=
> ()
> command after I closed the window by clicking the close button.
>
> I will try the pass the DISPLAY and see how it will happen....
>
> Thanks again
> Liqun
> _______________________________________________________________________=
> _______________
>
>
> Liqun Xing, PhD
> Principal Scientist
>
> Phone:  1-919-547-2153
> E-mail:  liqun.xing at basf.com
> Postal Address:
> BASF Plant Science, L.L.C.
> 26 Davis Drive
> Research Triangle Pa, NC, 27709
> USA
>
> BASF - The Chemical Company
>
>
>
>                                                                       =
>
>                         "Christi                                      =
>
>                         an                                            =
>
>                         Brechb=FCh                                    =
>   To
>                         ler"             liqun.xing at basf.com          =
>
>                         <brechbu                                      =
> cc
>                         ehler at gm         R-bugs at biostat.ku.dk         =
>
>                         ail.com>                                  Subj=
> ect
>                                          Re: [Rd] Seqfault, Address 0,=
>
>                         04/23/20         track X11() (PR#11231)       =
>
>                         08 10:51                                      =
>
>                         AM                                            =
>
>                                                                       =
>
>                                                                       =
>
>                                                                       =
>
>                                                                       =
>
>
>
>
>
> On Mon, Apr 21, 2008 at 10:15 PM, <liqun.xing at basf.com> wrote:
>> When first time launch X11(), it was fine. However, when closed the X=
> 11
> windon
>> by clicking the close button, or closed it off by command Dev.off() a=
> nd
> launched
>> the X11() again, got segfault, and asking for exiting R and other
> options.
>
> A) Yes, that happens occasionally; particularly if I forget to call
> Dev.off() after closing the window.  Just try it again.
> B) Instead of calling x11 without arguments, you could pass DISPLAY,
> e.g., x11("localhost:0.0").
> C) I've seen that suggestion to exit R.  Usually I ignore it, and
> nothing bad happens.
>
> Good luck
> /Christian
> =
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From dieter.menne at menne-biomed.de  Thu Apr 24 10:52:29 2008
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Thu, 24 Apr 2008 08:52:29 +0000 (UTC)
Subject: [Rd] R-gui and chinese character
Message-ID: <loom.20080424T084807-584@post.gmane.org>

I had to test an R-application that works with Chinese character. Just for fun,
I took one character from WikiPedia, pasted it into R-Gui, and pressed enter.
Rgui smoothly closed down without saying anything else.

I am aware, this is not serious....

?


R version 2.7.0 (2008-04-22)
Windows Vista, Service Pack 1
English locale, German Vista

Dieter


From ripley at stats.ox.ac.uk  Thu Apr 24 11:50:34 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Apr 2008 10:50:34 +0100 (BST)
Subject: [Rd] R-gui and chinese character
In-Reply-To: <loom.20080424T084807-584@post.gmane.org>
References: <loom.20080424T084807-584@post.gmane.org>
Message-ID: <alpine.LFD.1.10.0804241001510.17042@gannet.stats.ox.ac.uk>

On Thu, 24 Apr 2008, Dieter Menne wrote:

> I had to test an R-application that works with Chinese character. Just for fun,
> I took one character from WikiPedia, pasted it into R-Gui, and pressed enter.
> Rgui smoothly closed down without saying anything else.
>
> I am aware, this is not serious....
>
> $BK1(J

Yes, nobody has said that you can paste in Unicode chars that are not 
valid in your locale.  Unfortunately there seems to be a bug in the MSVCRT 
function used, and this ends up returning an empty string to the R engine, 
which takes that as EOF.  On my machine, I can click on 'cancel'.

The relevant code was altered by our Japanese colleagues during alpha 
testing to make things work for them.  We'll see if we can make it more 
robust.

Thank you for the report, but it would have been *much* preferable to have 
received it in the alpha/beta/RC period (and such reports are less likely 
to be overlooked if sent to R-windows).

>
>
> R version 2.7.0 (2008-04-22)
> Windows Vista, Service Pack 1
> English locale, German Vista
>
> Dieter
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From Ruan.Rossouw at sasol.com  Thu Apr 24 12:35:34 2008
From: Ruan.Rossouw at sasol.com (Rossouw, Ruan (RF))
Date: Thu, 24 Apr 2008 12:35:34 +0200
Subject: [Rd] Calling R functions with multiple arguments from C
Message-ID: <1E4A0C6895F30F4881B516DB33ADA6047AAFE1@SASDMSG06.sasol.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080424/ce53c9bd/attachment.pl 

From ripley at stats.ox.ac.uk  Thu Apr 24 12:59:50 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Apr 2008 11:59:50 +0100 (BST)
Subject: [Rd] Calling R functions with multiple arguments from C
In-Reply-To: <1E4A0C6895F30F4881B516DB33ADA6047AAFE1@SASDMSG06.sasol.com>
References: <1E4A0C6895F30F4881B516DB33ADA6047AAFE1@SASDMSG06.sasol.com>
Message-ID: <alpine.LFD.1.10.0804241146210.22801@gannet.stats.ox.ac.uk>

Try PrintValue(R_fcall):

function(x,y)match.call()
(list(x = 10, y = 12))

You want a pairlist of length 1+nargs, not a pairlist of pairlists.  Here 
is one way to do it (there are many)

#include <Rinternals.h>

SEXP foo(SEXP fn, SEXP elmt1, SEXP elmt2, SEXP rho)
{
     SEXP R_fcall, args, ans,s;
     PROTECT( R_fcall = lang3(fn, elmt1, elmt2) );
     s = CDR(R_fcall);
     SET_TAG(s, install("x"));
     s = CDR(R_fcall);
     SET_TAG(s, install("y"));
     ans = eval(R_fcall, rho);
     UNPROTECT(1);
     return ans;
}


On Thu, 24 Apr 2008, Rossouw, Ruan (RF) wrote:

> Hi,
> I'm writing a C function that has to call a R function with multiple
> arguments. I've read the relevant section in  Writing R Extensions, and
> searched the R site, mailing lists as well as rseek. I managed to call
> the function, but I'm now having trouble creating the argument list.
> I tried to create a pairlist of the arguments and send it to the R
> function. The R function however only recieves one argument as a list. I
> can change the R function to use this argument, but would like to know
> what I'm doing wrong. I copied the C and R code below. It is code
> submitted by Timur Elzhov on the the R mailing list under the discussion
> Calling R function from within C code that I've modified. I've read that
> discussion, but still got stuck. Could anybody point me in the right
> direction?
>
>
> SEXP foo(SEXP fn, SEXP elmt1, SEXP elmt2, SEXP rho)
> {
>    SEXP R_fcall, args, ans,s;
>    PROTECT( args = s = allocList(2));
>    PROTECT( R_fcall = lang2(fn, R_NilValue) );
>    SETCAR(s,elmt1);
>    SET_TAG(s,install("x"));
>    s = CDR(s);
>    SETCAR(s,elmt2);
>    SET_TAG(s,install("y"));
>    SETCADR( R_fcall, args);
>    PROTECT( ans = eval(R_fcall, rho) );
>    UNPROTECT(3);
>    return ans;
>
> }
>
> foo.func <- function(x,y)match.call()
>
>
>> .Call("foo",foo.func,x=10,y=12,new.env())
>
> function(x,y)match.call()
> (x = list(x = 10, y = 12))
>
>
>> sessionInfo()
> R version 2.7.0 (2008-04-22)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=English_South Africa.1252;LC_CTYPE=English_South
> Africa.1252;LC_MONETARY=English_South
> Africa.1252;LC_NUMERIC=C;LC_TIME=English_South Africa.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> Regards,
>
> Ruan Rossouw
> Sasol Technology R&D
> Reaction Technology and Industrial Statistics
> Tel: +27 16 960 4717
> Fax: +27 11 522 4465
> Cell: +27 83 724 4163
> e-mail: Ruan.Rossouw at Sasol.Com
>
> [All views expressed are my own and not necessarily that of my
> employer.]
>
>
>
>
> ----------------------------------------------------------------------------
> NOTICE: Please note that this eMail, and the contents thereof,
> is subject to the standard Sasol eMail legal notice which may be found at:
> http://www.sasol.com/legalnotices
>
> If you cannot access the legal notice through the URL attached and you wish
> to receive a copy thereof please send an eMail to
> legalnotice at sasol.com
> ----------------------------------------------------------------------------
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Thu Apr 24 17:00:59 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 24 Apr 2008 11:00:59 -0400
Subject: [Rd] (PR#11240)
In-Reply-To: <20080422141508.333A1283461B@mail.pubhealth.ku.dk>
References: <20080422141508.333A1283461B@mail.pubhealth.ku.dk>
Message-ID: <F586650F-9106-4D62-9D41-355EC858A856@r-project.org>

Please follow the posting guide before reporting bugs! You have failed  
to even follow the instruction from the page you got the image from -  
this is long fixed (the update was posted 5 days after the affected R  
2.6.2 release).

Cheers,
Simon

On Apr 22, 2008, at 10:15 AM, Christophe.GIRAUD at unice.fr wrote:

> Hi,
>
> I have a mac OS X 10.4.11.
> Since I have updated R (version 2.6.2) I have a bug with the  
> console:=20=20
> when R is busy and I want to stop the computation, I click on  
> "STOP"=20=20
> and then R does not respond anymore (I have to kill it). I had  
> no=20=20
> problem with my previous version.
>
> For information, I have downloaded R-2.6.2-mini.dmg
>
> regards,
> Christophe.
> ---
> Ma=EEtre de conf=E9rences =E0 l'Universit=E9 de Nice,
> en d=E9l=E9gation =E0 l'INRA Jouy-en-Josas.
> t=E9l:  01 34 65 22 40
> fax: 01 34 65 22 17
> http://math.unice.fr/~cgiraud/
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From maechler at stat.math.ethz.ch  Thu Apr 24 18:37:05 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 24 Apr 2008 18:37:05 +0200
Subject: [Rd] S4 default for coercing
In-Reply-To: <480F4F41.3030806@bank-banque-canada.ca>
References: <480F4F41.3030806@bank-banque-canada.ca>
Message-ID: <18448.46897.891329.719240@stat.math.ethz.ch>

Yes, there's a change from R 2.6.2 to 2.7.0  that might have
been unintended and hence a bug.
The short version is this

  setClassUnion("OptionalPOSIXct",   c("POSIXct", "NULL"))

  as(Sys.time(), "OptionalPOSIXct",  strict=FALSE)

which now gives 
   >> Error ..
   >> no method or default for coercing "POSIXt" to "OptionalPOSIXct

and used to work in 2.6.2.
Unfortunately, the expert master mind on these issues, 
John Chambers, is basically offline these days,
and I'd rather have waited on his opinion on the issue.
Class unions are a bit special and from that may have been quite
untested.

Excuse me, but why did you not find this when beta or even alpha
testing R 2.7.0?
We now have always 2 weeks of alpha testing and 1+1 week of beta
testing before an x.y.0 release, 
*EXACTLY* in order to find such issues in time and
discuss about them {and John was around then ...}

Best regards (all the same ;-),
Martin



>>>>> "PaulG" == Paul Gilbert <pgilbert at bank-banque-canada.ca>
>>>>>     on Wed, 23 Apr 2008 11:01:21 -0400 writes:

    PaulG> Something has changed in the S4 default for coercing.  Am I now suppose 
    PaulG> to use setAs, or is there something else I should do  to make this work:

    PaulG> R version 2.7.0 (2008-04-22)
    PaulG> ....
    >> require("methods")
    >> setClassUnion("OptionalPOSIXct",   c("POSIXct",   "NULL"))
    PaulG> [1] "OptionalPOSIXct"
    >> setClass("TSmetax",
    PaulG> representation(serIDs="character", ExtractionDate="OptionalPOSIXct" ))
    PaulG> [1] "TSmetax"
    >> setGeneric("TSmetax", def= function(x, ...) standardGeneric("TSmetax"))
    PaulG> [1] "TSmetax"
    >> setMethod("TSmetax",   signature(x="character"),  definition= 
    PaulG> function(x, ...){
    PaulG> new("TSmetax", serIDs=x, ExtractionDate=Sys.time())  } )
    PaulG> [1] "TSmetax"

    >> z <- new("TSmetax", serIDs="whatever", ExtractionDate= Sys.time())
    PaulG> Error in as(slotVal, slotClass, strict = FALSE) :
    PaulG> no method or default for coercing "POSIXt" to "OptionalPOSIXct"

    PaulG> (It did work in R-2.6.2.)

    PaulG> Paul


From murdoch at stats.uwo.ca  Fri Apr 25 00:45:31 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 24 Apr 2008 18:45:31 -0400
Subject: [Rd] RFC:  What should ?foo do?
Message-ID: <48110D8B.10300@stats.uwo.ca>

Currently ?foo does help("foo"), which looks for a man page with alias 
foo.  If foo happens to be a function call, it will do a bit more, so

?mean(something)

will find the mean method for something if mean happens to be an S4 
generic.  There are also the type?foo variations, e.g. methods?foo, or 
package?foo.

I think these are all too limited.

The easiest search should be the most permissive.  Users should need to 
do extra work to limit their search to man pages, with exact matches, as 
? does.

We don't currently have a general purpose search for "foo", or something 
like it.  We come close with RSiteSearch, and so possibly ?foo should 
mean RSiteSearch("foo"), but
there are problems with that: it can't limit itself to the current 
version of R, and it doesn't work when you're offline (or when 
search.r-project.org is down.)  We also have help.search("foo"), but it 
is too limited. I'd like to have a local search that looks through the 
man pages, manuals, FAQs, vignettes, DESCRIPTION files, etc., specific 
to the current R installation, and I think ? should be attached to that 
search.

Comments, please.

Duncan Murdoch


From john.maindonald at anu.edu.au  Fri Apr 25 02:05:40 2008
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Fri, 25 Apr 2008 10:05:40 +1000
Subject: [Rd] R-devel Digest, Vol 62, Issue 24
In-Reply-To: <mailman.22.1209031205.8468.r-devel@r-project.org>
References: <mailman.22.1209031205.8468.r-devel@r-project.org>
Message-ID: <9B52E0AA-0EC3-43EB-B5F1-249DA23925A4@anu.edu.au>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080425/b3041413/attachment.pl 

From john.maindonald at anu.edu.au  Fri Apr 25 02:24:19 2008
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Fri, 25 Apr 2008 10:24:19 +1000
Subject: [Rd] R-devel Digest, Vol 62, Issue 24
In-Reply-To: <mailman.22.1209031205.8468.r-devel@r-project.org>
References: <mailman.22.1209031205.8468.r-devel@r-project.org>
Message-ID: <FEFDBEC5-CF9D-465E-A075-EB071252B66D@anu.edu.au>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080425/aad099d6/attachment.pl 

From smckinney at bccrc.ca  Fri Apr 25 05:26:55 2008
From: smckinney at bccrc.ca (Steven McKinney)
Date: Thu, 24 Apr 2008 20:26:55 -0700
Subject: [Rd] poly() can exceed degree k - 1 for k distinct points
	(PR#11251)
References: <mailman.22.1209031205.8468.r-devel@r-project.org>
	<FEFDBEC5-CF9D-465E-A075-EB071252B66D@anu.edu.au>
Message-ID: <0BE438149FF2254DB4199E2682C8DFEB0328A281@crcmail1.BCCRC.CA>


I haven't parsed the source to fully understand
the 'normalization constants' returned in the
poly output component 
  attr(,"coefs")$norm2
but notice that the first 6 are non-zero and
the last 8 are smaller than machine precision.
Some kind of useful warning to the user could
ensue upon evaluation of such normalization
constants?



> x = rep(1:5,3)
> x
 [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
> poly(x, 12)
                  1          2             3           4           5           6           7           8           9          10
 [1,] -3.651484e-01  0.3086067 -1.825742e-01  0.06900656  0.50410540 -0.04690012  0.16698778  0.03700268 -0.21853454 -0.50410540
 [2,] -1.825742e-01 -0.1543033  3.651484e-01 -0.27602622  0.11156408 -0.48312338 -0.10874588 -0.02250863  0.27412822 -0.11156408
 [3,] -6.437201e-18 -0.3086067 -1.301129e-16  0.41403934 -0.17911692 -0.14493516  0.51592172  0.11434917  0.03151684  0.17911692
 [4,]  1.825742e-01 -0.1543033 -3.651484e-01 -0.27602622  0.07326369  0.11056157 -0.07141299  0.52748012  0.18001893 -0.07326369
 [5,]  3.651484e-01  0.3086067  1.825742e-01  0.06900656 -0.17121360 -0.25395954 -0.14949152  0.20036589 -0.42074883  0.17121360
 [6,] -3.651484e-01  0.3086067 -1.825742e-01  0.06900656 -0.75205270  0.02345006 -0.08349389 -0.01850134  0.10926727 -0.24794730
 [7,] -1.825742e-01 -0.1543033  3.651484e-01 -0.27602622 -0.05578204  0.74156169  0.05437294  0.01125431 -0.13706411  0.05578204
 [8,] -6.437201e-18 -0.3086067 -8.788409e-17  0.41403934  0.08955846  0.07246758 -0.75796086 -0.05717459 -0.01575842 -0.08955846
 [9,]  1.825742e-01 -0.1543033 -3.651484e-01 -0.27602622 -0.03663185 -0.05528079  0.03570650 -0.76374006 -0.09000946  0.03663185
[10,]  3.651484e-01  0.3086067  1.825742e-01  0.06900656  0.08560680  0.12697977  0.07474576 -0.10018295  0.71037442 -0.08560680
[11,] -3.651484e-01  0.3086067 -1.825742e-01  0.06900656  0.24794730  0.02345006 -0.08349389 -0.01850134  0.10926727  0.75205270
[12,] -1.825742e-01 -0.1543033  3.651484e-01 -0.27602622 -0.05578204 -0.25843831  0.05437294  0.01125431 -0.13706411  0.05578204
[13,] -6.437201e-18 -0.3086067 -8.788409e-17  0.41403934  0.08955846  0.07246758  0.24203914 -0.05717459 -0.01575842 -0.08955846
[14,]  1.825742e-01 -0.1543033 -3.651484e-01 -0.27602622 -0.03663185 -0.05528079  0.03570650  0.23625994 -0.09000946  0.03663185
[15,]  3.651484e-01  0.3086067  1.825742e-01  0.06900656  0.08560680  0.12697977  0.07474576 -0.10018295 -0.28962558 -0.08560680
               11          12
 [1,]  0.04690012  0.16698778
 [2,]  0.48312338 -0.10874588
 [3,]  0.14493516  0.51592172
 [4,] -0.11056157 -0.07141299
 [5,]  0.25395954 -0.14949152
 [6,] -0.02345006 -0.08349389
 [7,]  0.25843831  0.05437294
 [8,] -0.07246758  0.24203914
 [9,]  0.05528079  0.03570650
[10,] -0.12697977  0.07474576
[11,] -0.02345006 -0.08349389
[12,] -0.74156169  0.05437294
[13,] -0.07246758 -0.75796086
[14,]  0.05528079  0.03570650
[15,] -0.12697977  0.07474576
attr(,"degree")
 [1]  1  2  3  4  5  6  7  8  9 10 11 12
attr(,"coefs")
attr(,"coefs")$alpha
 [1] 3.000000 3.000000 3.000000 3.000000 3.000000 1.314957 2.355111 2.973300 4.032925 4.323708 1.314957 2.355111

attr(,"coefs")$norm2
 [1] 1.000000e+00 1.500000e+01 3.000000e+01 4.200000e+01 4.320000e+01 2.468571e+01 1.128824e-28 1.344243e-28 7.418009e-29 9.824087e-27
[11] 1.017082e-32 2.357175e-51 9.543887e-57 6.351670e-57

attr(,"class")
[1] "poly"   "matrix"


Steven McKinney



-----Original Message-----
From: r-devel-bounces at r-project.org on behalf of John Maindonald
Sent: Thu 4/24/2008 5:24 PM
To: r-devel at r-project.org
Subject: Re: [Rd] R-devel Digest, Vol 62, Issue 24
 
Actually, this may be a useful feature!  It allows calculation of a  
basis for the orthogonal complement of the space spanned by  
model.matrix(lm(y ~ poly(x,12)).  However, the default ought surely to  
be to disallow df > k-1 in poly(x,df), where k = length(unique(x)).

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 24 Apr 2008, at 8:00 PM, r-devel-request at r-project.org wrote:

> From: russell-lenth at uiowa.edu
> Date: 24 April 2008 3:05:28 AM
> To: r-devel at stat.math.ethz.ch
> Cc: R-bugs at biostat.ku.dk
> Subject: [Rd] poly() can exceed degree k - 1 for k distinct points  
> (PR#11251)
>
>
> The poly() function can create more variables than can be fitted when
> there are replicated values.  In the example below, 'x' has only 5
> distinct values, but I can apparently fit a 12th-degree polynomial  
> with
> no error messages or even nonzero coefficients:
>
> R> x = rep(1:5,3)
> R> y = rnorm(15)
> R> lm(y ~ poly(x, 12))
>
> Call:
> lm(formula = y ~ poly(x, 12))
>
> Coefficients:
>   (Intercept)   poly(x, 12)1   poly(x, 12)2   poly(x, 12)3
>      -0.27442        0.35822       -0.26412        2.11780
>  poly(x, 12)4   poly(x, 12)5   poly(x, 12)6   poly(x, 12)7
>       1.83117       -0.09260       -0.48572        1.94030
>  poly(x, 12)8   poly(x, 12)9  poly(x, 12)10  poly(x, 12)11
>      -0.88297       -1.04556        0.74289       -0.01422
> poly(x, 12)12
>      -0.46548
>
<snip>
<snip>

> [I thought I submitted this via the website yesterday, but I can  
> find no
> trace of it.  I apologize if this is a duplicate, but I don't think  
> it is.]
> -- 
> Russell V. Lenth, Professor
> Department of Statistics
>   & Actuarial Science            (319)335-0814    FAX (319)335-3017
> The University of Iowa           russell-lenth at uiowa.edu
> Iowa City, IA 52242  USA         http://www.stat.uiowa.edu/~rlenth/


	[[alternative HTML version deleted]]

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel


From marc_schwartz at comcast.net  Fri Apr 25 05:34:09 2008
From: marc_schwartz at comcast.net (Marc Schwartz)
Date: Thu, 24 Apr 2008 22:34:09 -0500
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <48110D8B.10300@stats.uwo.ca>
References: <48110D8B.10300@stats.uwo.ca>
Message-ID: <48115131.7000402@comcast.net>

Duncan Murdoch wrote:
> Currently ?foo does help("foo"), which looks for a man page with alias 
> foo.  If foo happens to be a function call, it will do a bit more, so
> 
> ?mean(something)
> 
> will find the mean method for something if mean happens to be an S4 
> generic.  There are also the type?foo variations, e.g. methods?foo, or 
> package?foo.
> 
> I think these are all too limited.
> 
> The easiest search should be the most permissive.  Users should need to 
> do extra work to limit their search to man pages, with exact matches, as 
> ? does.
> 
> We don't currently have a general purpose search for "foo", or something 
> like it.  We come close with RSiteSearch, and so possibly ?foo should 
> mean RSiteSearch("foo"), but
> there are problems with that: it can't limit itself to the current 
> version of R, and it doesn't work when you're offline (or when 
> search.r-project.org is down.)  We also have help.search("foo"), but it 
> is too limited. I'd like to have a local search that looks through the 
> man pages, manuals, FAQs, vignettes, DESCRIPTION files, etc., specific 
> to the current R installation, and I think ? should be attached to that 
> search.
> 
> Comments, please.
> 
> Duncan Murdoch

Duncan,

I agree in principle with the points that you raise. I suspect that at 
least in part, it might assist new users with some of the issues that 
were raised in the latest incarnation of the 'we need better 
documentation' thread on r-help.

I am not convinced that ?foo should do this however. help("foo") 
conceptually seems predicated upon the notion that a user is looking for 
a reference/help page for a specific function or descriptor called 
'foo'. The user knows the name of the function or descriptor and should 
not have to wait for a search function to locate it or conceptually 
related terms. If the user has a large number of CRAN packages 
installed, such a search can take a rather long time. That's an issue 
for example with help.search().

That being said and being a firm believer in incrementalism, perhaps the 
first step should be to create a new function, called esearch() [as in 
extended search] or doc.search() [as in documentation search] or even 
search.all(). This new function would facilitate searching all of the 
local objects that you list and perhaps others. It would by default be 
uber-inclusive of all categories of such objects. It would support 
functionality along the lines of help.search() in allowing for the use 
of regex and fuzzy matching via grep()/agrep().

The downside of this approach is that we would add yet another search 
function to the list of those already available, each of which searches 
a focused subset of the potential targets for assistance, whether local 
or online. Thus, it would require some level of understanding of the 
general structure of the myriad of local and online resources of R 
related assistance.

Perhaps ?help could be augmented a bit in elucidating some of these 
issues. The See Also there does not reference apropos() for example and 
it might be worthwhile adding something along the lines of the bullets 
in the "Do your homework before posting" section in the Posting Guide. 
Thus ?help can become something of a "first place to look - local 
centralized help resource" for users to identify the tiered help 
resources that are available and to also provide a framework for how to 
use those resources. One could also have links to the online pages for R 
News, R Books, the R Wiki, the R Graph Gallery, Contributed 
Documentation, Bioconductor and Other Documentation, so that users 
become more aware of help resources beyond the documentation installed 
with R by default.

A longer term plan could be to look to consolidate some of these 
functions into a single help/search function perhaps circa R version 
3.0.0. That would enable some time for thoughtful consideration and 
feedback.

That's my US\$ $\displaystyle e^{i\pi} + \sum_{n=1}^\infty \frac{1}{2^n} 
+ 2(10^{-2})$

:-)

HTH,

Marc


From h.wickham at gmail.com  Fri Apr 25 06:23:50 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Thu, 24 Apr 2008 23:23:50 -0500
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <48115131.7000402@comcast.net>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
Message-ID: <f8e6ff050804242123k76122d5cj94f0790cba4ca905@mail.gmail.com>

>  I am not convinced that ?foo should do this however. help("foo")
>  conceptually seems predicated upon the notion that a user is looking for
>  a reference/help page for a specific function or descriptor called
>  'foo'. The user knows the name of the function or descriptor and should
>  not have to wait for a search function to locate it or conceptually

Is that true?  That does limit the usefulness of ? as it implies that
you must already know the function that you need.

>  related terms. If the user has a large number of CRAN packages
>  installed, such a search can take a rather long time. That's an issue
>  for example with help.search().

But that's just a problem with the current implementation.  Better
indexing could make full text search of all documentation practical
instantaneous.  This is one argument for a centralised documentation
web site - such indices are much easier to set up in a modern web
development environment.  I could imagine this being an eventual
feature of crantastic.org, but it requires on some tool to turn Rd
files into a form more easily parsed with off-the-shelf tools (ideally
xml).

Hadley

-- 
http://had.co.nz/


From ripley at stats.ox.ac.uk  Fri Apr 25 06:37:18 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Apr 2008 05:37:18 +0100 (BST)
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <f8e6ff050804242123k76122d5cj94f0790cba4ca905@mail.gmail.com>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<f8e6ff050804242123k76122d5cj94f0790cba4ca905@mail.gmail.com>
Message-ID: <alpine.LFD.1.10.0804250531540.30202@gannet.stats.ox.ac.uk>

On Thu, 24 Apr 2008, hadley wickham wrote:

>>  I am not convinced that ?foo should do this however. help("foo")
>>  conceptually seems predicated upon the notion that a user is looking for
>>  a reference/help page for a specific function or descriptor called
>>  'foo'. The user knows the name of the function or descriptor and should
>>  not have to wait for a search function to locate it or conceptually
>
> Is that true?  That does limit the usefulness of ? as it implies that
> you must already know the function that you need.
>
>>  related terms. If the user has a large number of CRAN packages
>>  installed, such a search can take a rather long time. That's an issue
>>  for example with help.search().
>
> But that's just a problem with the current implementation.  Better
> indexing could make full text search of all documentation practical
> instantaneous.  This is one argument for a centralised documentation
> web site - such indices are much easier to set up in a modern web
> development environment.  I could imagine this being an eventual
> feature of crantastic.org, but it requires on some tool to turn Rd
> files into a form more easily parsed with off-the-shelf tools (ideally
> xml).

The search is a lot faster in 2.7.x, but is limited by disc speed (and 
hence is relatively slow on Windows -- and I have a box which has both 
Linux and Windows on, so I've tested this on identical hardware). R is a 
dynamic environment which can change libraries (and their order), add or 
remove packages ....  The text search is pretty close to instantaneous 
(try it a second time) -- the time is taken building the database for the 
first use.

Yes, we could do this differently, but some credit for the work already 
done would be an encouragement to continue to improve.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From r-ml at nn7.de  Fri Apr 25 08:48:28 2008
From: r-ml at nn7.de (Soeren Sonnenburg)
Date: Fri, 25 Apr 2008 08:48:28 +0200
Subject: [Rd] Bug in R 2.7 for over long lines
Message-ID: <1209106108.5229.19.camel@localhost>

While trying to fix swig & R2.7 I actually discovered that there is a
bug in R 2.7 causing a crash (so R & swig might actually work):

the bug is in ./src/main/gram.c  line 3038:

            } else { /* over-long line */
fixthis --> char *LongLine = (char *) malloc(nc);
            if(!LongLine)
                error(_("unable to allocate space for source line %d"), xxlineno);
            strncpy(LongLine, (char *)p0, nc);
 bug -->    LongLine[nc] = '\0';
            SET_STRING_ELT(source, lines++,
                       mkChar2((char *)LongLine));
            free(LongLine);

note that LongLine is only nc chars long, so the LongLine[nc]='\0' might
be an out of bounds write. the fix would be to do

?            char *LongLine = (char *) malloc(nc+1);

in line 3034

Please fix and thanks to dirk for the debian r-base-dbg package!

Soeren


From r-ml at nn7.de  Fri Apr 25 09:16:40 2008
From: r-ml at nn7.de (Soeren Sonnenburg)
Date: Fri, 25 Apr 2008 09:16:40 +0200
Subject: [Rd] Bug in R 2.7 for over long lines
In-Reply-To: <1209106108.5229.19.camel@localhost>
References: <1209106108.5229.19.camel@localhost>
Message-ID: <1209107800.5229.35.camel@localhost>

On Fri, 2008-04-25 at 08:48 +0200, Soeren Sonnenburg wrote:
> While trying to fix swig & R2.7 I actually discovered that there is a
> bug in R 2.7 causing a crash (so R & swig might actually work):
> 
> the bug is in ./src/main/gram.c  line 3038:
> 
>             } else { /* over-long line */
> fixthis --> char *LongLine = (char *) malloc(nc);
>             if(!LongLine)
>                 error(_("unable to allocate space for source line %d"), xxlineno);
>             strncpy(LongLine, (char *)p0, nc);
>  bug -->    LongLine[nc] = '\0';
>             SET_STRING_ELT(source, lines++,
>                        mkChar2((char *)LongLine));
>             free(LongLine);
> 
> note that LongLine is only nc chars long, so the LongLine[nc]='\0' might
> be an out of bounds write. the fix would be to do
> 
> ?            char *LongLine = (char *) malloc(nc+1);
> 
> in line 3034
> 
> Please fix and thanks to dirk for the debian r-base-dbg package!

Looking at the code again there seems to be another bug above this for
the MAXLINESIZE test too:

        if (*p == '\n' || p == end - 1) {
            nc = p - p0;
            if (*p != '\n')
            nc++;
            if (nc <= MAXLINESIZE) {
            strncpy((char *)SourceLine, (char *)p0, nc);
bug2 -->    SourceLine[nc] = '\0';
            SET_STRING_ELT(source, lines++,
                       mkChar2((char *)SourceLine));
            } else { /* over-long line */
            char *LongLine = (char *) malloc(nc+1);
            if(!LongLine)
                error(_("unable to allocate space for source line %d"), xxlineno);
bug1 -->    strncpy(LongLine, (char *)p0, nc);
            LongLine[nc] = '\0';
            SET_STRING_ELT(source, lines++,
                       mkChar2((char *)LongLine));
            free(LongLine);
            }
            p0 = p + 1;
        }


So I guess the test would be for nc < MAXLINESIZE above or to change
SourceLine to have MAXLINESIZE+1 size.

Alternatively as the strncpy manpage suggests do this for all
occurrences of strncpy

           strncpy(buf, str, n);
           if (n > 0)
               buf[n - 1]= ?\0?;

this could even be made a makro / helper function ...

And another update: This does fix the R+swig crasher for me (tested)!

Soeren


From jakobstoeger at gmx.de  Thu Apr 24 20:20:17 2008
From: jakobstoeger at gmx.de (jakobstoeger at gmx.de)
Date: Thu, 24 Apr 2008 20:20:17 +0200 (CEST)
Subject: [Rd] r won't start: "r: symbol lookup error: r: undefined symbol:
	R_Visible" (PR#11265)
Message-ID: <20080424182017.23D37282EFF8@mail.pubhealth.ku.dk>

Full_Name: Jakob Stoeger
Version: 2.7.0
OS: ubuntu 7.10
Submission from: (NULL) (137.248.74.38)


Hi!

I hope, it is justified to write this email...
I'm relatively new to linux, and haven't worked with r, yet, so please pardon
any things I do not know...

I tried installing r on my computer, and didn't manage to get the program
running.
After having installed littler, typing r into the bash results in following
message:

r: symbol lookup error: r: undefined symbol: R_Visible

I found a bugreport here:
http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=418686
I'm not sure, if this has anything to do with it, as it concerns rkward...

Anyway, this information might come handy:
my system:
ubuntu 7.10
Kernel 2.6.22-14-generic
GNOME 2.20.1

installed packages:
r-base 2.7.0-1gutsy0
r-base-core 2.7.1gutsy0
r-cran-cluster 1.11.10-1gutsy0
r-cran-boot 1.2.32-1gutsy0
r-cran-cluster 1.11.10-1gutsy0
r-cran-codetools 0.2-0-1gutsy0
r-cran-foreign 0.8.24-1gutsy0
r-cran-kernsmooth 2.22.22-1gutsy0
r-cran-lattice 0.17-6-1gutsy0
r-cran-mgcv 1.3-30-1gutsy0
r-cran-nlme 3.1.88-1gutsy0
r-cran-rpart 3.1.41-1gutsy0
r-cran-survival 2.34-1gutsy0
r-cran-vr 7.2.41-1gutsy0

rkward 0.4.7a-1ubuntu1

r-recommended 2.7.0-1gutsy0


I can't guarantee, that this list is complete, as I don't know (yet), how to
check for it...

Not really relevant, but I feel that I should tell you:

The university at which I study used to use SPSS. Until this term, from which on
we will officially use r. Yeah!

So, I hope you can help me getting r working. If I can help by doing anything,
please tell me how...
Also, I hope, this is a problem with r and not with my ubuntu, in which case I
probably wouldn't have contacted you, if I would have known...

Thank you very much!

All the best,
Jakob


From job75 at business.kaist.ac.kr  Thu Apr 24 09:15:04 2008
From: job75 at business.kaist.ac.kr (job75 at business.kaist.ac.kr)
Date: Thu, 24 Apr 2008 09:15:04 +0200 (CEST)
Subject: [Rd] r for windows gui front-end error (PR#11257)
Message-ID: <20080424071504.6BF0B283416D@mail.pubhealth.ku.dk>

Full_Name: Ho Kim
Version: 2.7.0
OS: Vista
Submission from: (NULL) (137.68.61.23)


I've just installed R 2.7.0 in my computer whose operating system is Windows
Vista. When I first started the R program I encountered an error message about
"R for Windows GUI frond-end". I've never seen error messages like this when I
used old versions of R. For your information, my windows system supports Korean
characters.


From rmark at infomagic.net  Fri Apr 25 05:00:12 2008
From: rmark at infomagic.net (rmark at infomagic.net)
Date: Fri, 25 Apr 2008 05:00:12 +0200 (CEST)
Subject: [Rd] CircStats Bug? (PR#11266)
Message-ID: <20080425030012.B6121282EFF0@mail.pubhealth.ku.dk>

I have a vector of dimension 67, but CircStat circ.summary and circ.disp 
seems to conclude that the dimension is 1.
I am new to R so maybe I'm just missing something.

 > dim(data)
[1] 67  1
 > circ.mean(data)
[1] 0.2200071
 > circ.summary(data)
   n  mean.dir      rho
1 1 0.2200071 43.12534
 > circ.disp(data)
   n        r     rbar       var
1 1 43.12534 43.12534 -42.12534
 >

--
Robert Mark, Ph.D.                  rmark at infomagic.net
Rupestrian CyberServices            Phone/FAX 928-526-3625
3644 N. Stone Crest St.             http://www.rupestrian.com/
Flagstaff, AZ 86004-6811
USA

RCS:  Computer science in the service of rock art research, protection, and education.


From virtualreal at gmail.com  Thu Apr 24 18:40:17 2008
From: virtualreal at gmail.com (virtualreal at gmail.com)
Date: Thu, 24 Apr 2008 18:40:17 +0200 (CEST)
Subject: [Rd] R crashes while running a positive checked script (PR#11264)
Message-ID: <20080424164017.E103D282EFF7@mail.pubhealth.ku.dk>

Full_Name: Bas Zimmerman
Version: 2.7.0 (2008-04-22)
OS: Windows 2000 Pro SP 4 Eng
Submission from: (NULL) (62.51.53.106)


Running the following line of the R-code SurvivalEnsembles.R, part of the MBoost
package results in a program crash:

'AMLrf <- cforest(I(log(time)) ~ ., data = AMLlearn, control = ctrl,
                 weights = AMLw)'

This package received a OK-check, see
http://cran.r-project.org/web/checks/check_results_mboost.html, so I think it's
rather a program issue. The crash report indicates that this crash is caused by
a lack of available memory, but there is still >750 virtual memory available.

Hope this report helps,

Bas


                  2.7.0    (2008-04-22) caused exception C00000FD at address
6C9125D3 (Base: 400000)

Registers:
EAX=0000102C   EBX=000003E8   ECX=0041274C   EDX=00008000   ESI=00E04208
EDI=00414788   EBP=00414758   ESP=00414744   EIP=6C9125D3 FLAGS=00000202
CS=001B   DS=0023   SS=0023   ES=0023   FS=003B   GS=0000
FPU stack:
4016A000000000000000 401697FFFFFFFFFFFE00 400EC37C000000000000
3FFD9999999999999800 40019453FDBDC8102738 4001E000000000000000
00000000000000000000 000200153E5000000029 SW=0000 CW=037F

Stack dump:
00414744  00000037  6C76E540  000003E8  00E04208  7...@?vl?..B?.
00414754  00414788 >00416798  6C76E958  036F8E5C  ?GA.?gA.X?vl\?o
00414764  6C930E9A  00414788  004167A4  00000000  ?.?l?GA.?gA.....
00414774  00000000  00000000  00000000  00000000  ................
00414784  00000000  63616552  20646568  61746F74  ....Reached tota
00414794  6C61206C  61636F6C  6E6F6974  20666F20  l allocation of 
004147A4  624D3336  6573203A  65682065  6D28706C  63Mb: see help(m
004147B4  726F6D65  69732E79  0029657A  00000000  emory.size).....
004147C4  00000000  00000000  00000000  00000000  ................
004147D4  00000000  00000000  00000000  00000000  ................
004147E4  00000000  00000000  00000000  00000000  ................
004147F4  00000000  00000000  00000000  00000000  ................
00414804  00000000  00000000  00000000  00000000  ................
00414814  00000000  00000000  00000000  00000000  ................
00414824  00000000  00000000  00000000  00000000  ................
00414834  00000000  00000000  00000000  00000000  ................
00414844  00000000  00000000  00000000  00000000  ................
00414854  00000000  00000000  00000000  00000000  ................
00414864  00000000  00000000  00000000  00000000  ................
00414874  00000000  00000000  00000000  00000000  ................
00414884  00000000  00000000  00000000  00000000  ................
00414894  00000000  00000000  00000000  00000000  ................
004148A4  00000000  00000000  00000000  00000000  ................
004148B4  00000000  00000000  00000000  00000000  ................
004148C4  00000000  00000000  00000000  00000000  ................
004148D4  00000000  00000000  00000000  00000000  ................
004148E4  00000000  00000000  00000000  00000000  ................
004148F4  00000000  00000000  00000000  00000000  ................
00414904  00000000  00000000  00000000  00000000  ................
00414914  00000000  00000000  00000000  00000000  ................
00414924  00000000  00000000  00000000  00000000  ................
00414934  00000000  00000000  00000000  00000000  ................
00414944  00000000  00000000  00000000  00000000  ................
00414954  00000000  00000000  00000000  00000000  ................
00414964  00000000  00000000  00000000  00000000  ................
00414974  00000000  00000000  00000000  00000000  ................
00414984  00000000  00000000  00000000  00000000  ................
00414994  00000000  00000000  00000000  00000000  ................
004149A4  00000000  00000000  00000000  00000000  ................
004149B4  00000000  00000000  00000000  00000000  ................
004149C4  00000000  00000000  00000000  00000000  ................
004149D4  00000000  00000000  00000000  00000000  ................
004149E4  00000000  00000000  00000000  00000000  ................
004149F4  00000000  00000000  00000000  00000000  ................
00414A04  00000000  00000000  00000000  00000000  ................
00414A14  00000000  00000000  00000000  00000000  ................
00414A24  00000000  00000000  00000000  00000000  ................
00414A34  00000000  00000000  00000000  00000000  ................
00414A44  00000000  00000000  00000000  00000000  ................
00414A54  00000000  00000000  00000000  00000000  ................
00414A64  00000000  00000000  00000000  00000000  ................
00414A74  00000000  00000000  00000000  00000000  ................
00414A84  00000000  00000000  00000000  00000000  ................
00414A94  00000000  00000000  00000000  00000000  ................
00414AA4  00000000  00000000  00000000  00000000  ................
00414AB4  00000000  00000000  00000000  00000000  ................
00414AC4  00000000  00000000  00000000  00000000  ................
00414AD4  00000000  00000000  00000000  00000000  ................
00414AE4  00000000  00000000  00000000  00000000  ................
00414AF4  00000000  00000000  00000000  00000000  ................
00414B04  00000000  00000000  00000000  00000000  ................
00414B14  00000000  00000000  00000000  00000000  ................
00414B24  00000000  00000000  00000000  00000000  ................
00414B34  00000000  00000000  00000000  00000000  ................
00414B44  00000000  00000000  00000000  00000000  ................
00414B54  00000000  00000000  00000000  00000000  ................
00414B64  00000000  00000000  00000000  00000000  ................
00414B74  00000000  00000000  00000000  00000000  ................
00414B84  00000000  00000000  00000000  00000000  ................
00414B94  00000000  00000000  00000000  00000000  ................
00414BA4  00000000  00000000  00000000  00000000  ................
00414BB4  00000000  00000000  00000000  00000000  ................
00414BC4  00000000  00000000  00000000  00000000  ................
00414BD4  00000000  00000000  00000000  00000000  ................
00414BE4  00000000  00000000  00000000  00000000  ................
00414BF4  00000000  00000000  00000000  00000000  ................
00414C04  00000000  00000000  00000000  00000000  ................
00414C14  00000000  00000000  00000000  00000000  ................
00414C24  00000000  00000000  00000000  00000000  ................
00414C34  00000000  00000000  00000000  00000000  ................
00414C44  00000000  00000000  00000000  00000000  ................
00414C54  00000000  00000000  00000000  00000000  ................
00414C64  00000000  00000000  00000000  00000000  ................
00414C74  00000000  00000000  00000000  00000000  ................
00414C84  00000000  00000000  00000000  00000000  ................
00414C94  00000000  00000000  00000000  00000000  ................
00414CA4  00000000  00000000  00000000  00000000  ................
00414CB4  00000000  00000000  00000000  00000000  ................
00414CC4  00000000  00000000  00000000  00000000  ................
00414CD4  00000000  00000000  00000000  00000000  ................
00414CE4  00000000  00000000  00000000  00000000  ................
00414CF4  00000000  00000000  00000000  00000000  ................
00414D04  00000000  00000000  00000000  00000000  ................
00414D14  00000000  00000000  00000000  00000000  ................
00414D24  00000000  00000000  00000000  00000000  ................
00414D34  00000000  00000000  00000000  00000000  ................
00414D44  00000000  00000000  00000000  00000000  ................
00414D54  00000000  00000000  00000000  00000000  ................
00414D64  00000000  00000000  00000000  00000000  ................
00414D74  00000000  00000000  00000000  00000000  ................
00414D84  00000000  00000000  00000000  00000000  ................
00414D94  00000000  00000000  00000000  00000000  ................
00414DA4  00000000  00000000  00000000  00000000  ................
00414DB4  00000000  00000000  00000000  00000000  ................
00414DC4  00000000  00000000  00000000  00000000  ................
00414DD4  00000000  00000000  00000000  00000000  ................
00414DE4  00000000  00000000  00000000  00000000  ................
00414DF4  00000000  00000000  00000000  00000000  ................
00414E04  00000000  00000000  00000000  00000000  ................
00414E14  00000000  00000000  00000000  00000000  ................
00414E24  00000000  00000000  00000000  00000000  ................
00414E34  00000000  00000000  00000000  00000000  ................
00414E44  00000000  00000000  00000000  00000000  ................
00414E54  00000000  00000000  00000000  00000000  ................
00414E64  00000000  00000000  00000000  00000000  ................
00414E74  00000000  00000000  00000000  00000000  ................
00414E84  00000000  00000000  00000000  00000000  ................
00414E94  00000000  00000000  00000000  00000000  ................
00414EA4  00000000  00000000  00000000  00000000  ................
00414EB4  00000000  00000000  00000000  00000000  ................
00414EC4  00000000  00000000  00000000  00000000  ................
00414ED4  00000000  00000000  00000000  00000000  ................
00414EE4  00000000  00000000  00000000  00000000  ................
00414EF4  00000000  00000000  00000000  00000000  ................
00414F04  00000000  00000000  00000000  00000000  ................
00414F14  00000000  00000000  00000000  00000000  ................
00414F24  00000000  00000000  00000000  00000000  ................
00414F34  00000000  00000000  00000000  00000000  ................
00414F44  00000000  00000000  00000000  00000000  ................
00414F54  00000000  00000000  00000000  00000000  ................
00414F64  00000000  00000000  00000000  00000000  ................
00414F74  00000000  00000000  00000000  00000000  ................
00414F84  00000000  00000000  00000000  00000000  ................
00414F94  00000000  00000000  00000000  00000000  ................
00414FA4  00000000  00000000  00000000  00000000  ................
00414FB4  00000000  00000000  00000000  00000000  ................
00414FC4  00000000  00000000  00000000  00000000  ................
00414FD4  00000000  00000000  00000000  00000000  ................
00414FE4  00000000  00000000  00000000  00000000  ................
00414FF4  00000000  00000000  00000000  00000000  ................
00415004  00000000  00000000  00000000  00000000  ................
00415014  00000000  00000000  00000000  00000000  ................
00415024  00000000  00000000  00000000  00000000  ................
00415034  00000000  00000000  00000000  00000000  ................
00415044  00000000  00000000  00000000  00000000  ................
00415054  00000000  00000000  00000000  00000000  ................
00415064  00000000  00000000  00000000  00000000  ................
00415074  00000000  00000000  00000000  00000000  ................
00415084  00000000  00000000  00000000  00000000  ................
00415094  00000000  00000000  00000000  00000000  ................
004150A4  00000000  00000000  00000000  00000000  ................
004150B4  00000000  00000000  00000000  00000000  ................
004150C4  00000000  00000000  00000000  00000000  ................
004150D4  00000000  00000000  00000000  00000000  ................
004150E4  00000000  00000000  00000000  00000000  ................
004150F4  00000000  00000000  00000000  00000000  ................
00415104  00000000  00000000  00000000  00000000  ................
00415114  00000000  00000000  00000000  00000000  ................
00415124  00000000  00000000  00000000  00000000  ................
00415134  00000000  00000000  00000000  00000000  ................
00415144  00000000  00000000  00000000  00000000  ................
00415154  00000000  00000000  00000000  00000000  ................
00415164  00000000  00000000  00000000  00000000  ................
00415174  00000000  00000000  00000000  00000000  ................
00415184  00000000  00000000  00000000  00000000  ................
00415194  00000000  00000000  00000000  00000000  ................
004151A4  00000000  00000000  00000000  00000000  ................
004151B4  00000000  00000000  00000000  00000000  ................
004151C4  00000000  00000000  00000000  00000000  ................
004151D4  00000000  00000000  00000000  00000000  ................
004151E4  00000000  00000000  00000000  00000000  ................
004151F4  00000000  00000000  00000000  00000000  ................
00415204  00000000  00000000  00000000  00000000  ................
00415214  00000000  00000000  00000000  00000000  ................
00415224  00000000  00000000  00000000  00000000  ................
00415234  00000000  00000000  00000000  00000000  ................
00415244  00000000  00000000  00000000  00000000  ................
00415254  00000000  00000000  00000000  00000000  ................
00415264  00000000  00000000  00000000  00000000  ................
00415274  00000000  00000000  00000000  00000000  ................
00415284  00000000  00000000  00000000  00000000  ................
00415294  00000000  00000000  00000000  00000000  ................
004152A4  00000000  00000000  00000000  00000000  ................
004152B4  00000000  00000000  00000000  00000000  ................
004152C4  00000000  00000000  00000000  00000000  ................
004152D4  00000000  00000000  00000000  00000000  ................
004152E4  00000000  00000000  00000000  00000000  ................
004152F4  00000000  00000000  00000000  00000000  ................
00415304  00000000  00000000  00000000  00000000  ................
00415314  00000000  00000000  00000000  00000000  ................
00415324  00000000  00000000  00000000  00000000  ................
00415334  00000000  00000000  00000000  00000000  ................
00415344  00000000  00000000  00000000  00000000  ................
00415354  00000000  00000000  00000000  00000000  ................
00415364  00000000  00000000  00000000  00000000  ................
00415374  00000000  00000000  00000000  00000000  ................
00415384  00000000  00000000  00000000  00000000  ................
00415394  00000000  00000000  00000000  00000000  ................
004153A4  00000000  00000000  00000000  00000000  ................
004153B4  00000000  00000000  00000000  00000000  ................
004153C4  00000000  00000000  00000000  00000000  ................
004153D4  00000000  00000000  00000000  00000000  ................
004153E4  00000000  00000000  00000000  00000000  ................
004153F4  00000000  00000000  00000000  00000000  ................
00415404  00000000  00000000  00000000  00000000  ................
00415414  00000000  00000000  00000000  00000000  ................
00415424  00000000  00000000  00000000  00000000  ................
00415434  00000000  00000000  00000000  00000000  ................
00415444  00000000  00000000  00000000  00000000  ................
00415454  00000000  00000000  00000000  00000000  ................
00415464  00000000  00000000  00000000  00000000  ................
00415474  00000000  00000000  00000000  00000000  ................
00415484  00000000  00000000  00000000  00000000  ................
00415494  00000000  00000000  00000000  00000000  ................
004154A4  00000000  00000000  00000000  00000000  ................
004154B4  00000000  00000000  00000000  00000000  ................
004154C4  00000000  00000000  00000000  00000000  ................
004154D4  00000000  00000000  00000000  00000000  ................
004154E4  00000000  00000000  00000000  00000000  ................
004154F4  00000000  00000000  00000000  00000000  ................
00415504  00000000  00000000  00000000  00000000  ................
00415514  00000000  00000000  00000000  00000000  ................
00415524  00000000  00000000  00000000  00000000  ................
00415534  00000000  00000000  00000000  00000000  ................
00415544  00000000  00000000  00000000  00000000  ................
00415554  00000000  00000000  00000000  00000000  ................
00415564  00000000  00000000  00000000  00000000  ................
00415574  00000000  00000000  00000000  00000000  ................
00415584  00000000  00000000  00000000  00000000  ................
00415594  00000000  00000000  00000000  00000000  ................
004155A4  00000000  00000000  00000000  00000000  ................
004155B4  00000000  00000000  00000000  00000000  ................
004155C4  00000000  00000000  00000000  00000000  ................
004155D4  00000000  00000000  00000000  00000000  ................
004155E4  00000000  00000000  00000000  00000000  ................
004155F4  00000000  00000000  00000000  00000000  ................
00415604  00000000  00000000  00000000  00000000  ................
00415614  00000000  00000000  00000000  00000000  ................
00415624  00000000  00000000  00000000  00000000  ................
00415634  00000000  00000000  00000000  00000000  ................
00415644  00000000  00000000  00000000  00000000  ................
00415654  00000000  00000000  00000000  00000000  ................
00415664  00000000  00000000  00000000  00000000  ................
00415674  00000000  00000000  00000000  00000000  ................
00415684  00000000  00000000  00000000  00000000  ................
00415694  00000000  00000000  00000000  00000000  ................
004156A4  00000000  00000000  00000000  00000000  ................
004156B4  00000000  00000000  00000000  00000000  ................
004156C4  00000000  00000000  00000000  00000000  ................
004156D4  00000000  00000000  00000000  00000000  ................
004156E4  00000000  00000000  00000000  00000000  ................
004156F4  00000000  00000000  00000000  00000000  ................
00415704  00000000  00000000  00000000  00000000  ................
00415714  00000000  00000000  00000000  00000000  ................
00415724  00000000  00000000  00000000  00000000  ................
00415734  00000000  00000000  00000000  00000000  ................
00415744  00000000  00000000  00000000  00000000  ................
00415754  00000000  00000000  00000000  00000000  ................
00415764  00000000  00000000  00000000  00000000  ................
00415774  00000000  00000000  00000000  00000000  ................
00415784  00000000  00000000  00000000  00000000  ................
00415794  00000000  00000000  00000000  00000000  ................
004157A4  00000000  00000000  00000000  00000000  ................
004157B4  00000000  00000000  00000000  00000000  ................
004157C4  00000000  00000000  00000000  00000000  ................
004157D4  00000000  00000000  00000000  00000000  ................
004157E4  00000000  00000000  00000000  00000000  ................
004157F4  00000000  00000000  00000000  00000000  ................
00415804  00000000  00000000  00000000  00000000  ................
00415814  00000000  00000000  00000000  00000000  ................
00415824  00000000  00000000  00000000  00000000  ................
00415834  00000000  00000000  00000000  00000000  ................
00415844  00000000  00000000  00000000  00000000  ................
00415854  00000000  00000000  00000000  00000000  ................
00415864  00000000  00000000  00000000  00000000  ................
00415874  00000000  00000000  00000000  00000000  ................
00415884  00000000  00000000  00000000  00000000  ................
00415894  00000000  00000000  00000000  00000000  ................
004158A4  00000000  00000000  00000000  00000000  ................
004158B4  00000000  00000000  00000000  00000000  ................
004158C4  00000000  00000000  00000000  00000000  ................
004158D4  00000000  00000000  00000000  00000000  ................
004158E4  00000000  00000000  00000000  00000000  ................
004158F4  00000000  00000000  00000000  00000000  ................
00415904  00000000  00000000  00000000  00000000  ................
00415914  00000000  00000000  00000000  00000000  ................
00415924  00000000  00000000  00000000  00000000  ................
00415934  00000000  00000000  00000000  00000000  ................
00415944  00000000  00000000  00000000  00000000  ................
00415954  00000000  00000000  00000000  00000000  ................
00415964  00000000  00000000  00000000  00000000  ................
00415974  00000000  00000000  00000000  00000000  ................
00415984  00000000  00000000  00000000  00000000  ................
00415994  00000000  00000000  00000000  00000000  ................
004159A4  00000000  00000000  00000000  00000000  ................
004159B4  00000000  00000000  00000000  00000000  ................
004159C4  00000000  00000000  00000000  00000000  ................
004159D4  00000000  00000000  00000000  00000000  ................
004159E4  00000000  00000000  00000000  00000000  ................
004159F4  00000000  00000000  00000000  00000000  ................
00415A04  00000000  00000000  00415A34  78008676  ........4ZA.v?.x
00415A14  00000000  6C930E9B  6C930E9A  78014A54  ....?.?l?.?lTJx
00415A24  6C930E9B  6C930E9A  00000001  00000000  ?.?l?.?l.......
00415A34  00415C88  78014A44  6C930E9B  00415C68  ?\A.DJx?.?lh\A.
00415A44  00000029  00415A68  6C90B485  00416898  )...hZA.
??l?hA.
00415A54  00000029  0000000A  00000000  0041896F  )...........o?A.
00415A64  0041896F  00415A98  6C90B680  00418938  o?A.?ZA.???l8?A.
00415A74  00000000  00000000  00000000  00000037  ............7...
00415A84  FFFFFFC8  FFFFFFC8  00000000  00001FFF  ????????....?..
00415A94  00415C98  00415C88  6C90D0A6  00000000  ?\A.?\A.???l....
00415AA4  FFFFFFFF  00000000  00000000  00000001  ????...........
00415AB4  00000000  00000000  00000000  00000000  ................
00415AC4  FFFFFFFF  FFFFFFFF  0000000A  00000000  ????????........
00415AD4  00000000  00000001  00000002  00415C98  ..........?\A.
00415AE4  6C930E9A  00416898  00000001  00000000  ?.?l?hA........
00415AF4  00000000  FFFFFFFF  00000002  00000000  ....????.......
00415B04  00000000  00000000  00000000  00000000  ................
00415B14  00000000  00000000  00000000  00000000  ................
00415B24  00000000  00000000  00000000  00000000  ................
00415B34  00000000  00000000  00000000  00000000  ................
00415B44  00000000  00000000  00000000  00000000  ................
00415B54  00000000  00000000  00000000  00000000  ................
00415B64  00000000  00000000  00000000  00000000  ................
00415B74  00000000  00000000  00000000  00000000  ................
00415B84  00000000  00000000  00000000  00000000  ................
00415B94  00000000  00000000  00000000  00000000  ................
00415BA4  00000000  00000000  00000000  00000000  ................
00415BB4  00000000  00415C98  00000000  00000000  ....?\A.........
00415BC4  00000000  00000000  00000000  00000000  ................
00415BD4  00000000  00000000  00000000  00000000  ................
00415BE4  00000000  00000001  00000000  00000000  ...............
00415BF4  00000000  00000000  00000000  00000000  ................
00415C04  00000000  00000000  00000000  00000000  ................
00415C14  00000000  00000000  00000000  00000000  ................
00415C24  00000000  00000000  00000000  00000000  ................
00415C34  00000000  00000000  00000000  00000000  ................
00415C44  00000000  00000000  0000000A  00000000  ................
00415C54  00000000  00000000  00000000  00000000  ................
00415C64  00000000  6C930E9B  00000000  00000000  ....?.?l........
00415C74  00000000  00000000  00416898  00001FFF  ........?hA.?..
00415C84  00415C98  004168C8  6C90F11C  0041891C  ?\A.?hA.
??l
?A.
00415C94  00000000  00000004  00000000  00000000  ...............
00415CA4  FFFFFFFF  0000000A  FFFFFFFF  00000002  ????....????...
00415CB4  00000000  00418938  00000000  00000000  ....8?A.........
00415CC4  00000000  00000000  00000000  00000000  ................
00415CD4  00000000  00000000  00000000  00000000  ................
00415CE4  00000000  00000000  00000000  00000000  ................
00415CF4  00000000  00000000  00000000  00000000  ................
00415D04  00000000  00000000  00000000  00000000  ................
00415D14  00000000  00000000  00000000  00000000  ................
00415D24  00000000  00000000  00000000  00000000  ................
00415D34  00000000  00000000  00000000  00000000  ................
00415D44  00000000  00000000  00000000  00000000  ................
00415D54  00000000  00000000  00000000  00000000  ................
00415D64  00000000  00000000  00000000  00000000  ................
00415D74  00000000  00000000  00000000  00000000  ................
00415D84  00000000  00000000  00000000  00000000  ................
00415D94  00000000  00000000  00000000  00000000  ................
00415DA4  00000000  00000000  00000000  00000000  ................
00415DB4  00000000  00000000  00000000  00000000  ................
00415DC4  00000000  00000000  00000000  00000000  ................
00415DD4  00000000  00000000  00000000  00000000  ................
00415DE4  00000000  00000000  00000000  00000000  ................
00415DF4  00000000  00000000  00000000  00000000  ................
00415E04  00000000  00000000  00000000  00000000  ................
00415E14  00000000  00000000  00000000  00000000  ................
00415E24  00000000  00000000  00000000  00000000  ................
00415E34  00000000  00000000  00000000  00000000  ................
00415E44  00000000  00000000  00000000  00000000  ................
00415E54  00000000  00000000  00000000  00000000  ................
00415E64  00000000  00000000  00000000  00000000  ................
00415E74  00000000  00000000  00000000  00000000  ................
00415E84  00000000  00000000  00000000  00000000  ................
00415E94  00000000  00000000  00000000  00000000  ................
00415EA4  00000000  00000000  00000000  00000000  ................
00415EB4  00000000  00000000  00000000  00000000  ................
00415EC4  00000000  00000000  00000000  00000000  ................
00415ED4  00000000  00000000  00000000  00000000  ................
00415EE4  00000000  00000000  00000000  00000000  ................
00415EF4  00000000  00000000  00000000  00000000  ................
00415F04  00000000  00000000  00000000  00000000  ................
00415F14  00000000  00000000  00000000  00000000  ................
00415F24  00000000  00000000  00000000  00000000  ................
00415F34  00000000  00000000  00000000  00000000  ................
00415F44  00000000  00000000  00000000  00000000  ................
00415F54  00000000  00000000  00000000  00000000  ................
00415F64  00000000  00000000  00000000  00000000  ................
00415F74  00000000  00000000  00000000  00000000  ................
00415F84  00000000  00000000  00000000  00000000  ................
00415F94  00000000  00000000  00000000  00000000  ................
00415FA4  00000000  00000000  00000000  00000000  ................
00415FB4  00000000  00000000  00000000  00000000  ................
00415FC4  00000000  00000000  00000000  00000000  ................
00415FD4  00000000  00000000  00000000  00000000  ................
00415FE4  00000000  00000000  00000000  00000000  ................
00415FF4  00000000  00000000  00000000  00000000  ................
00416004  00000000  00000000  00000000  00000000  ................
00416014  00000000  00000000  00000000  00000000  ................
00416024  00000000  00000000  00000000  00000000  ................
00416034  00000000  00000000  00000000  00000000  ................
00416044  00000000  00000000  00000000  00000000  ................
00416054  00000000  00000000  00000000  00000000  ................
00416064  00000000  00000000  00000000  00000000  ................
00416074  00000000  00000000  00000000  00000000  ................
00416084  00000000  00000000  00000000  00000000  ................
00416094  00000000  00000000  00000000  00000000  ................
004160A4  00000000  00000000  00000000  00000000  ................
004160B4  00000000  00000000  00000000  00000000  ................
004160C4  00000000  00000000  00000000  00000000  ................
004160D4  00000000  00000000  00000000  00000000  ................
004160E4  00000000  00000000  00000000  00000000  ................
004160F4  00000000  00000000  00000000  00000000  ................
00416104  00000000  00000000  00000000  00000000  ................
00416114  00000000  00000000  00000000  00000000  ................
00416124  00000000  00000000  00000000  00000000  ................
00416134  00000000  00000000  00000000  00000000  ................
00416144  00000000  00000000  00000000  00000000  ................
00416154  00000000  00000000  00000000  00000000  ................
00416164  00000000  00000000  00000000  00000000  ................
00416174  00000000  00000000  00000000  00000000  ................
00416184  00000000  00000000  00000000  00000000  ................
00416194  00000000  00000000  00000000  00000000  ................
004161A4  00000000  00000000  00000000  00000000  ................
004161B4  00000000  00000000  00000000  00000000  ................
004161C4  00000000  00000000  00000000  00000000  ................
004161D4  00000000  00000000  00000000  00000000  ................
004161E4  00000000  00000000  00000000  00000000  ................
004161F4  00000000  00000000  00000000  00000000  ................
00416204  00000000  00000000  00000000  00000000  ................
00416214  00000000  00000000  00000000  00000000  ................
00416224  00000000  00000000  00000000  00000000  ................
00416234  00000000  00000000  00000000  00000000  ................
00416244  00000000  00000000  00000000  00000000  ................
00416254  00000000  00000000  00000000  00000000  ................
00416264  00000000  00000000  00000000  00000000  ................
00416274  00000000  00000000  00000000  00000000  ................
00416284  00000000  00000000  00000000  00000000  ................
00416294  00000000  00000000  00000000  00000000  ................
004162A4  00000000  00000000  00000000  00000000  ................
004162B4  00000000  00000000  00000000  00000000  ................
004162C4  00000000  00000000  00000000  00000000  ................
004162D4  00000000  00000000  00000000  00000000  ................
004162E4  00000000  00000000  00000000  00000000  ................
004162F4  00000000  00000000  00000000  00000000  ................
00416304  00000000  00000000  00000000  00000000  ................
00416314  00000000  00000000  00000000  00000000  ................
00416324  00000000  00000000  00000000  00000000  ................
00416334  00000000  00000000  00000000  00000000  ................
00416344  00000000  00000000  00000000  00000000  ................
00416354  00000000  00000000  00000000  00000000  ................
00416364  00000000  00000000  00000000  00000000  ................
00416374  00000000  00000000  00000000  00000000  ................
00416384  00000000  00000000  00000000  00000000  ................
00416394  00000000  00000000  00000000  00000000  ................
004163A4  00000000  00000000  00000000  00000000  ................
004163B4  00000000  00000000  00000000  00000000  ................
004163C4  00000000  00000000  00000000  00000000  ................
004163D4  00000000  00000000  00000000  00000000  ................
004163E4  00000000  00000000  00000000  00000000  ................
004163F4  00000000  00000000  00000000  00000000  ................
00416404  00000000  00000000  00000000  00000000  ................
00416414  00000000  00000000  00000000  00000000  ................
00416424  00000000  00000000  00000000  00000000  ................
00416434  00000000  00000000  00000000  00000000  ................
00416444  00000000  00000000  00000000  00000000  ................
00416454  00000000  00000000  00000000  00000000  ................
00416464  00000000  00000000  00000000  00000000  ................
00416474  00000000  00000000  00000000  00000000  ................
00416484  00000000  00000000  00000000  00000000  ................
00416494  00000000  00000000  00000000  00000000  ................
004164A4  00000000  00000000  00000000  00000000  ................
004164B4  00000000  00000000  00000000  00000000  ................
004164C4  00000000  00000000  00000000  00000000  ................
004164D4  00000000  00000000  00000000  00000000  ................
004164E4  00000000  00000000  00000000  00000000  ................
004164F4  00000000  00000000  00000000  00000000  ................
00416504  00000000  00000000  00000000  00000000  ................
00416514  00000000  00000000  00000000  00000000  ................
00416524  00000000  00000000  00000000  00000000  ................
00416534  00000000  00000000  00000000  00000000  ................
00416544  00000000  00000000  00000000  00000000  ................
00416554  00000000  00000000  00000000  00000000  ................
00416564  00000000  00000000  00000000  00000000  ................
00416574  00000000  00000000  00000000  00000000  ................
00416584  00000000  00000000  00000000  00000000  ................
00416594  00000000  00000000  00000000  00000000  ................
004165A4  00000000  00000000  00000000  00000000  ................
004165B4  00000000  00000000  00000000  00000000  ................
004165C4  00000000  00000000  00000000  00000000  ................
004165D4  00000000  00000000  00000000  00000000  ................
004165E4  00000000  00000000  00000000  00000000  ................
004165F4  00000000  00000000  00000000  00000000  ................
00416604  00000000  00000000  00000000  00000000  ................
00416614  00000000  00000000  00000000  00000000  ................
00416624  00000000  00000000  00000000  00000000  ................
00416634  00000000  00000000  00000000  00000000  ................
00416644  00000000  00000000  00000000  00000000  ................
00416654  00000000  00000000  00000000  00000000  ................
00416664  00000000  00000000  00000000  00000000  ................
00416674  00000000  00000000  00000000  00000000  ................
00416684  00000000  00000000  00000000  00000000  ................
00416694  00000000  00000000  00000000  00000000  ................
004166A4  00000000  00000000  00000000  00000000  ................
004166B4  00000000  00000000  00000000  00000000  ................
004166C4  00000000  00000000  00000000  00000000  ................
004166D4  00000000  00000000  00000000  00000000  ................
004166E4  00000000  00000000  00000000  00000000  ................
004166F4  00000000  00000000  00000000  00000000  ................
00416704  00000000  00000000  00000000  00000000  ................
00416714  00000000  00000000  00000000  00000000  ................
00416724  00000000  00000000  00000000  00000000  ................
00416734  00000000  00000000  00000000  00000000  ................

Used DLLs:
ntdll.dll         5.00.2195.7006                                Base: 77F80000
KERNEL32.dll      5.00.2195.7006                                Base: 7C570000
MSVCRT.dll        6.10.9844.0                                   Base: 78000000
USER32.dll        5.00.2195.7032                                Base: 77E10000
GDI32.dll         5.00.2195.7011                                Base: 77F40000
Rgraphapp.dll     2.7.0    (2008-04-22)                         Base: 63540000
R.dll             2.7.0    (2008-04-22)                         Base: 6C700000
Rblas.dll         2.7.0    (2008-04-22)                         Base: 6B000000
ADVAPI32.dll      5.00.2195.7038                                Base: 7C2D0000
RPCRT4.dll        5.00.2195.7020                                Base: 77D30000
SHELL32.dll       5.00.3900.7032                                Base: 7CF30000
COMCTL32.dll      5.81                                          Base: 71710000
SHLWAPI.dll       6.00.2800.1106                                Base: 70BD0000
VERSION.dll       5.00.2195.6623                                Base: 77820000
LZ32.dll          5.00.2195.6611                                Base: 759B0000
iconv.dll                                                       Base: 63940000
Rzlib.dll                                                       Base: 6F8C0000
comdlg32.dll      5.00.3700.6693                                Base: 76B30000
IMM32.dll         5.00.2195.6655                                Base: 75E60000
ole32.dll         5.00.2195.7034                                Base: 7CE20000
OLEAUT32.dll      2.40.4522                                     Base: 779B0000
CLBCatQ.DLL       2000.2.3511.0                                 Base: 7C950000
CSCUI.dll         5.00.2195.6705                                Base: 77840000
CSCDLL.dll        5.00.2195.6713                                Base: 770C0000
methods.dll       2.7.0                                         Base: 64A40000
grDevices.dll     2.7.0                                         Base: 6FC80000
stats.dll         2.7.0                                         Base: 71100000
splines.dll       2.7.0                                         Base: 6F7C0000
survival.dll      2.34-1                                        Base: 688C0000
grid.dll          2.7.0                                         Base: 6EA80000
mvtnorm.dll       0.9-0                                         Base: 70000000
coin.dll          0.6-7                                         Base: 63740000
lattice.dll       0.17-6                                        Base: 6DFC0000
MASS.dll          7.2-41                                        Base: 6ED40000
colorspace.dll    0.95                                          Base: 657C0000
party.dll         0.9-95                                        Base: 6D780000
Rlapack.dll       2.7.0    (2008-04-22)                         Base:  40C0000
mboost.dll        1.0-1                                         Base: 64A00000
tools.dll         2.7.0                                         Base: 6D400000
rpart.dll         3.1-41                                        Base: 6DDC0000
mlbench.dll       1.1-3                                         Base: 68A00000
nnet.dll          7.2-41                                        Base: 6B480000
class.dll         7.2-41                                        Base: 6D100000
ipred.dll         0.8-5                                         Base: 64640000
internet.dll      2.7.0    (2008-04-22)                         Base: 67D80000
WS2_32.dll        5.00.2195.6601                                Base: 75030000
WS2HELP.dll       5.00.2134.1                                   Base: 75020000
RNR20.dll         5.00.2195.6603                                Base: 782C0000
DNSAPI.dll        5.00.2195.7003                                Base: 77980000
WSOCK32.dll       5.00.2195.6603                                Base: 75050000
iphlpapi.dll      5.00.2195.6602                                Base: 77340000
ICMP.dll          5.00.2134.1                                   Base: 77520000
MPRAPI.dll        5.00.2181.1                                   Base: 77320000
SAMLIB.dll        5.00.2195.6944                                Base: 75150000
NETAPI32.dll      5.00.2195.7038                                Base: 7CDC0000
NETRAP.dll        5.00.2134.1                                   Base: 751C0000
NTDSAPI.dll       5.00.2195.6666                                Base: 77BF0000
WLDAP32.dll       5.00.2195.7017                                Base: 77950000
Secur32.dll       5.00.2195.6695                                Base: 7C340000
ACTIVEDS.dll      5.00.2195.6601                                Base: 773B0000
adsldpc.dll       5.00.2195.6993                                Base: 77380000
rtutils.dll       5.00.2168.1                                   Base: 77830000
SETUPAPI.dll      5.00.2195.6622                                Base: 77880000
USERENV.dll       5.00.2195.7002                                Base: 7C0F0000
RASAPI32.dll      5.00.2195.6920                                Base: 774E0000
rasman.dll        5.00.2195.6824                                Base: 774C0000
TAPI32.dll        5.00.2195.6664                                Base: 77530000
DHCPCSVC.DLL      5.00.2195.6685                                Base: 77360000
WINRNR.dll        5.00.2160.1                                   Base: 777E0000
MSAFD.dll         5.00.2195.6602                                Base: 74FD0000
WSHTCPIP.dll      5.00.2195.6601                                Base: 75010000
rasadhlp.dll      5.00.2168.1                                   Base: 777F0000

Memory dumps:
0041234C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041235C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041236C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041237C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041238C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041239C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004123AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004123BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004123CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004123DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004123EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004123FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041240C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041241C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041242C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041243C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041244C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041245C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041246C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041247C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041248C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041249C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004124AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004124BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004124CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004124DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004124EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004124FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041250C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041251C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041252C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041253C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041254C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041255C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041256C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041257C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041258C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041259C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004125AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004125BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004125CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004125DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004125EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004125FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041260C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041261C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041262C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041263C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041264C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041265C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041266C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041267C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041268C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041269C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004126AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004126BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004126CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004126DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004126EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004126FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041270C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041271C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041272C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041273C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041274C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041275C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041276C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041277C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041278C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041279C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004127AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004127BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004127CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004127DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004127EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004127FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041280C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041281C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041282C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041283C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041284C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041285C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041286C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041287C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041288C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041289C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004128AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004128BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004128CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004128DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004128EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004128FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041290C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041291C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041292C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041293C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041294C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041295C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041296C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041297C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041298C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041299C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004129AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004129BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004129CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004129DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004129EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004129FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A0C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A1C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A2C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A3C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A4C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A5C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A6C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A7C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A8C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412A9C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412AAC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412ABC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412ACC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412ADC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412AEC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412AFC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412B0C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412B1C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412B2C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00412B3C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................

00416398  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004163A8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004163B8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004163C8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004163D8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004163E8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004163F8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416408  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416418  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416428  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416438  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416448  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416458  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416468  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416478  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416488  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416498  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004164A8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004164B8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004164C8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004164D8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004164E8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004164F8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416508  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416518  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416528  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416538  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416548  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416558  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416568  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416578  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416588  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416598  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004165A8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004165B8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004165C8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004165D8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004165E8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004165F8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416608  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416618  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416628  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416638  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416648  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416658  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416668  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416678  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416688  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416698  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004166A8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004166B8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004166C8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004166D8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004166E8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004166F8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416708  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416718  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416728  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416738  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416748  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416758  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416768  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416778  00 00 00 00  00 00 00 00  00 00 00 00  00 00 FF FF  ..............??
00416788  A4 67 41 00  01 00 00 00  30 F8 FF FF  00 00 01 00  ?gA....0???...
00416798  38 68 41 00  7E A2 72 6C  C0 96 92 6C  3F 00 00 00  8hA.~?rl???l?...
004167A8  A5 C6 78 00  00 00 00 00  00 00 00 00  00 00 00 00  ??x.............
004167B8  00 00 00 71  D0 07 00 00  00 6C 53 69  6D 70 6C 65  ...q?...lSimple
004167C8  57 61 72 6E  05 00 00 00  00 00 00 00  00 00 00 00  Warn...........
004167D8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004167E8  00 00 00 00  00 00 00 00  00 00 00 00  1D 00 00 00  ............
...
004167F8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416808  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416818  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416828  00 00 00 00  F0 8C 98 6C  18 89 41 00  CC 0C EB 05  ....???l?A.?.?
00416838  C8 68 41 00  3C 2F 73 6C  CC 07 00 00  00 00 00 00  ?hA.</sl?......
00416848  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416858  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416868  00 00 00 00  3E 00 00 00  B8 00 00 00  01 00 00 00  ....>...?......
00416878  01 00 00 00  01 00 00 00  00 00 00 00  EC 80 01 00  ..........??.
00416888  08 09 79 05  3B 60 00 00  20 00 00 00  00 00 00 00  .y;`.. .......
00416898  60 B3 90 6C  00 00 00 00  D0 68 41 00  00 00 00 00  `??l....?hA.....
004168A8  37 00 00 00  F8 68 41 00  18 89 41 00  CC 0C EB 05  7...?hA.?A.?.?
004168B8  C8 68 41 00  08 09 79 05  18 89 41 00  CC 0C EB 05  ?hA..y?A.?.?
004168C8  08 89 41 00  34 E6 76 6C  10 00 00 00  01 00 00 00  ?A.4?vl......
004168D8  9A 0E 93 6C  18 89 41 00  00 00 00 00  00 00 00 00  ?.?l?A.........
004168E8  E0 6C E5 02  00 00 00 00  00 00 00 00  00 00 00 00  ?l?............
004168F8  52 65 61 63  68 65 64 20  74 6F 74 61  6C 20 61 6C  Reached total al
00416908  6C 6F 63 61  74 69 6F 6E  20 6F 66 20  36 33 4D 62  location of 63Mb
00416918  3A 20 73 65  65 20 68 65  6C 70 28 6D  65 6D 6F 72  : see help(memor
00416928  79 2E 73 69  7A 65 29 00  00 00 00 00  00 00 00 00  y.size).........
00416938  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416948  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416958  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416968  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416978  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416988  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416998  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004169A8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004169B8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004169C8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004169D8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004169E8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004169F8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A08  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A18  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A28  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A38  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A48  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A58  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A68  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A78  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A88  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416A98  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416AA8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416AB8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416AC8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416AD8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416AE8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416AF8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B08  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B18  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B28  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B38  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B48  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B58  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B68  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B78  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B88  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416B98  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416BA8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416BB8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416BC8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416BD8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416BE8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416BF8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C08  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C18  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C28  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C38  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C48  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C58  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C68  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C78  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C88  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416C98  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416CA8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00416CB8  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................

0041851C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041852C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041853C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041854C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041855C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041856C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041857C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041858C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041859C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004185AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004185BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004185CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004185DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004185EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004185FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041860C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041861C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041862C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041863C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041864C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041865C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041866C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041867C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041868C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041869C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004186AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004186BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004186CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004186DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004186EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004186FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041870C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041871C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041872C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041873C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041874C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041875C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041876C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041877C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041878C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041879C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004187AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004187BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004187CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004187DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004187EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004187FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041880C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041881C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041882C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041883C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041884C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041885C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041886C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041887C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041888C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041889C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004188AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004188BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004188CC  00 00 00 00  00 00 00 00  00 00 00 00  60 B3 90 6C  ............`??l
004188DC  00 00 00 00  10 89 41 00  00 00 00 00  37 00 00 00  ....?A.....7...
004188EC  37 00 00 00  E8 03 00 00  37 00 00 00  18 89 41 00  7...?..7...?A.
004188FC  E8 03 00 00  08 42 E0 00  38 89 41 00  48 A9 41 00  ?..B?.8?A.H?A.
0041890C  58 E9 76 6C  5C 8E 6F 03  9A 0E 93 6C  38 89 41 00  X?vl\?o?.?l8?A.
0041891C  54 A9 41 00  00 00 00 00  00 00 00 00  00 00 00 00  T?A.............
0041892C  00 00 00 00  00 00 00 00  00 00 00 00  52 65 61 63  ............Reac
0041893C  68 65 64 20  74 6F 74 61  6C 20 61 6C  6C 6F 63 61  hed total alloca
0041894C  74 69 6F 6E  20 6F 66 20  36 33 4D 62  3A 20 73 65  tion of 63Mb: se
0041895C  65 20 68 65  6C 70 28 6D  65 6D 6F 72  79 2E 73 69  e help(memory.si
0041896C  7A 65 29 00  00 00 00 00  00 00 00 00  00 00 00 00  ze).............
0041897C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041898C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
0041899C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004189AC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004189BC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004189CC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004189DC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004189EC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
004189FC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A0C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A1C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A2C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A3C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A4C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A5C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A6C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A7C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A8C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418A9C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418AAC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418ABC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418ACC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418ADC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418AEC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418AFC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B0C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B1C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B2C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B3C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B4C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B5C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B6C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B7C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B8C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418B9C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418BAC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418BBC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418BCC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418BDC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418BEC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418BFC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C0C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C1C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C2C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C3C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C4C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C5C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C6C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C7C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C8C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418C9C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418CAC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418CBC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418CCC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418CDC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418CEC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418CFC  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418D0C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418D1C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418D2C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418D3C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418D4C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418D5C  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00418D6C  00 00 00                                            ...

00E03E08  48 3F E0 2E  5F 5F 53 33  4D 65 74 68  6F 64 73 54  H??.__S3MethodsT
00E03E18  61 62 6C 65  5F 5F 2E 00  01 00 00 00  04 0B 00 00  able__........
00E03E28  74 7C 9B 0A  80 82 AA 05  9C 1E E3 02  40 49 E5 02  t|?.????
?@I?
00E03E38  18 3F E0 00  69 D7 77 6C  65 66 61 75  6C 74 00 00  ??.i?wlefault..
00E03E48  E0 FF E0 00  74 3E E0 00  76 86 00 78  00 00 00 00  ???.t>?.v?.x....
00E03E58  9B 0E 93 6C  9A 0E 93 6C  54 4A 01 78  9B 0E 93 6C  ?.?l?.?lTJx?.?l
00E03E68  9A 0E 93 6C  01 00 00 00  00 00 00 00  C8 40 E0 00  ?.?l.......?@?.
00E03E78  44 4A 01 78  30 EA BC 05  84 24 E1 02  30 EA BC 05  DJx0???$?0??
00E03E88  B8 3E E0 00  B1 1E 78 6C  B0 8E 6F 03  E0 E8 BC 05  ?>?.?
xl??o???
00E03E98  0A 00 00 00  31 54 76 6C  AF 6D E0 00  AF 6D E0 00  ....1Tvl?m?.?m?.
00E03EA8  00 00 A0 00  30 EA BC 05  00 00 00 00  A0 24 E1 02  ..?.0??....?$?
00E03EB8  98 3F E0 00  CF D8 77 6C  37 00 00 00  C8 FF FF FF  ???.??wl7...????
00E03EC8  C8 FF FF FF  00 00 00 00  FF 1F 00 00  D8 40 E0 00  ????....?..?@?.
00E03ED8  C8 40 E0 00  A6 D0 90 6C  25 00 00 00  FF FF FF FF  ?@?.???l%...????
00E03EE8  02 00 00 00  60 77 7E 05  01 00 00 00  00 00 00 00  ...`w~.......
00E03EF8  00 00 00 00  00 00 00 00  00 00 00 00  FF FF FF FF  ............????
00E03F08  FF FF FF FF  0A 00 00 00  00 00 00 00  00 00 00 00  ????............
00E03F18  01 00 00 00  00 00 00 00  D8 00 00 00  00 00 00 00  .......?.......
00E03F28  D8 4C E0 00  A0 24 E1 02  A0 24 E1 02  18 E9 BC 05  ?L?.?$??$???
00E03F38  58 3F E0 00  BD 21 7C 6C  18 E9 BC 05  A0 24 E1 02  X??.?!|l???$?
00E03F48  98 41 E0 00  18 E9 BC 05  01 00 00 00  34 FE E1 02  ?A?.??...4??
00E03F58  A0 EA BC 05  B7 21 78 6C  18 E9 BC 05  D0 1F E1 02  ????!xl????
00E03F68  A0 24 E1 02  A0 EA BC 05  34 FE E1 02  34 FE E1 02  ?$????4??4??
00E03F78  98 3F E0 00  67 55 76 6C  A0 EA BC 05  34 FE E1 02  ???.gUvl???4??
00E03F88  01 00 00 00  A0 24 E1 02  30 EA BC 05  34 FE E1 02  ...?$?0??4??
00E03F98  78 40 E0 00  72 DC 77 6C  30 EA BC 05  A0 EA BC 05  x@?.r?wl0?????
00E03FA8  00 00 00 00  58 5B 8C 05  F0 82 AA 05  A0 24 E1 02  ....X[?????$?
00E03FB8  00 00 A0 00  00 00 00 00  24 00 00 00  00 00 00 00  ..?.....$.......
00E03FC8  A8 40 E0 00  CF D8 77 6C  3C A3 E0 00  A0 24 E1 02  ?@?.??wl<??.?$?
00E03FD8  B8 40 E0 00  CF D8 77 6C  2C 04 EB 02  6C AB AA 05  ?@?.??wl,?l??
00E03FE8  08 40 E0 00  31 54 76 6C  47 00 00 00  C0 23 E1 02  @?.1TvlG...?#?
00E03FF8  00 00 A0 00  2C BF 00 00  45 00 00 00  70 E1 EA 02  ..?.,?..E...p??
00E04008  00 00 A0 00  1C BF 00 00  70 E1 EA 02  88 E7 E1 02  ..?.
?..p?????
00E04018  54 E1 EA 02  6C AB AA 05  00 00 00 00  6C AB AA 05  T??l??....l??
00E04028  01 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ...............
00E04038  00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  ................
00E04048  00 00 00 00  28 F6 BC 05  84 24 E1 02  28 F6 BC 05  ....(???$?(??
00E04058  88 40 E0 00  DD 1E 78 6C  28 F6 BC 05  A0 24 E1 02  ?@?.?
xl(???$?
00E04068  00 00 00 00  A0 24 E1 02  3C E0 F5 02  D8 EA BC 05  ....?$?<?????
00E04078  A8 40 E0 00  97 E6 77 6C  34 FE E1 02  A0 EA BC 05  ?@?.??wl4?????
00E04088  68 41 E0 00  CF D8 77 6C  02 00 00 00  CC DF F5 02  hA?.??wl...???
00E04098  BC EA BC 05  04 E0 F5 02  3C E0 F5 02  D4 E2 E1 02  ?????<?????
00E040A8  E8 40 E0 00  D7 E2 7F 6C  E8 DF F5 02  A0 EA BC 05  ?@?.??l??????
00E040B8  D4 E2 E1 02  84 24 E1 02  9C 1E E3 02  B8 E2 E1 02  ????$??
????
00E040C8  04 E0 F5 02  30 FF E1 02  8F 00 00 00  58 5B 8C 05  ??0???...X[?
00E040D8  E8 DF F5 02  D4 E2 E1 02  00 00 00 00  3C E0 F5 02  ??????....<??
00E040E8  C8 41 E0 00  D7 DA 77 6C  3C E0 F5 02  D4 E2 E1 02  ?A?.??wl<?????
00E040F8  20 E0 F5 02  A0 EA BC 05  00 00 00 00  A0 EA BC 05   ?????....???
00E04108  FC E1 EA 02  01 00 00 00  23 00 00 00  8E 00 00 00  ???...#...?...
00E04118  02 00 00 00  58 5B 8C 05  00 00 A0 00  CC BD 00 00  ...X[?..?.??..
00E04128  48 41 E0 00  C2 D2 54 63  A8 79 56 63  00 00 00 00  HA?.??Tc?yVc....
00E04138  00 00 00 00  00 00 00 00  01 00 00 00  00 D2 E1 02  ............??
00E04148  68 81 AA 05  00 00 00 00  01 00 00 00  38 89 6F 03  h??.......8?o
00E04158  E0 E8 BC 05  70 E8 BC 05  84 24 E1 02  70 E8 BC 05  ???p???$?p??
00E04168  98 41 E0 00  58 E0 F5 02  58 E0 F5 02  A0 24 E1 02  ?A?.X??X???$?
00E04178  C8 41 E0 00  BA F0 7F 6C  01 00 00 00  30 EA BC 05  ?A?.??l...0??
00E04188  58 42 E0 00  F6 EA 77 6C  01 00 00 00  A0 24 E1 02  XB?.??wl...?$?
00E04198  00 00 00 00  A0 24 E1 02  84 EA BC 05  A0 24 E1 02  ....?$?????$?
00E041A8  A0 24 E1 02  A0 24 E1 02  02 00 00 00  02 00 00 00  ?$??$?......
00E041B8  C8 41 E0 00  08 42 E0 00  A0 24 E1 02  84 EA BC 05  ?A?.B?.?$????
00E041C8  A8 42 E0 00  4E 0E 78 6C  3C E0 F5 02  A0 EA BC 05  ?B?.N.xl<?????
00E041D8  5C 8E 6F 03  A0 EA BC 05  E0 E8 BC 05  14 EA BC 05  \?o????????
00E041E8  90 E0 F5 02  5C A6 E2 02  94 0E 8C 03  01 00 00 00  ???\???.?...
00E041F8  3C E0 F5 02  01 00 00 00  01 00 00 00  60 E4 E6 07  <??......`??
00E04208  E8 45 E0 00  0C 00 00 00  A8 42 E0 00  08 42 E0 00  ?E?.....?B?.B?.
00E04218  84 EA BC 05  A0 24 E1 02  CC 41 E0 00  CD 0D 78 6C  ????$??A?.?.xl
00E04228  E0 FF E0 00  00 00 00 00  80 E4 E6 07  E0 22 E1 02  ???.....????"?
00E04238  50 E9 BC 05  01 00 00 00  01 00 00 00  01 00 00 00  P??.........
00E04248  78 42 E0 00  A4 E9 BC 05  00 00 00 00  A4 E9 BC 05  xB?.???....???
00E04258  8D 00 00 00  23 00 00 00  14 EA BC 05  90 E0 F5 02  ?...#...?????
00E04268  E0 E8 BC 05  5C 8E 6F 03  A0 EA BC 05  A0 24 E1 02  ???\?o????$?
00E04278  00 00 00 00  A0 24 E1 02  58 5B 8C 05  00 00 00 00  ....?$?X[?....
00E04288  A0 24 E1 02  A0 24 E1 02  00 00 00 00  C0 24 E1 02  ?$??$?....?$?
00E04298  A0 EA BC 05  90 E0 F5 02  14 EA BC 05  5C 8E 6F 03  ????????\?o
00E042A8  88 43 E0 00  F5 D9 77 6C  5C 8E 6F 03  90 E0 F5 02  ?C?.??wl\?o???
00E042B8  14 EA BC 05  E0 E8 BC 05  0C 1F E3 02  00 00 00 00  ?????.?....
00E042C8  00 00 A0 00  5C BC 00 00  22 00 00 00  88 E7 E1 02  ..?.\?.."...???
00E042D8  00 00 A0 00  4C BC 00 00  8A 00 00 00  00 00 00 00  ..?.L?..?.......
00E042E8  58 5B 8C 05  60 77 7E 05  03 00 00 00  D4 82 AA 05  X[?`w~...???
00E042F8  48 75 6F 03  D4 82 AA 05  80 82 AA 05  A0 24 E1 02  Huo???????$?
00E04308  C0 00 EA 02  FC 43 E0 00  00 44 E0 00  C8 4B E0 00  ?.??C?..D?.?K?.
00E04318  E0 FF E0 00  D0 4B E0 00  1C 7F AA 05  E0 FF E0 00  ???.?K?.
????.
00E04328  9C BC 00 78  FE FF FF FF  E0 FF E0 00  C8 4B E0 00  ??.x???????.?K?.
00E04338  E0 FF E0 00  FC 89 6F 03  A0 24 E1 02  FC 89 6F 03  ???.??o?$???o
00E04348  88 43 E0 00  F9 60 76 6C  E0 E8 BC 05  C0 E9 BC 05  ?C?.?`vl??????
00E04358  98 43 E0 00  4A 61 76 6C  E0 E8 BC 05  60 E4 E6 07  ?C?.Javl???`??
00E04368  58 21 E1 02  C8 4B E0 00  01 00 00 00  04 D1 E1 02  X!??K?....??
00E04378  9C 1E E3 02  EC 8D 6F 03  20 D1 E1 02  D0 8D 6F 03  ?
???o ????o
00E04388  B8 43 E0 00  FF 05 78 6C  5C 8E 6F 03  E0 E8 BC 05  ?C?.?xl\?o???
00E04398  B8 43 E0 00  31 54 76 6C  9C 1E E3 02  04 D1 E1 02  ?C?.1Tvl?
???
00E043A8  E0 E8 BC 05  20 D1 E1 02  00 00 00 00  D0 8D 6F 03  ??? ??....??o
00E043B8  98 44 E0 00  D7 DA 77 6C  D0 8D 6F 03  20 D1 E1 02  ?D?.??wl??o ??
00E043C8  EC 8D 6F 03  E0 E8 BC 05  24 77 6F 03  04 D8 E1 02  ??o???$wo??
00E043D8  C8 44 E0 00  00 00 00 00  21 00 00 00  88 00 00 00  ?D?.....!...?...
00E043E8  01 00 00 00  58 5B 8C 05  43 00 00 00  DB 00 00 00  ...X[?C...?...
00E043F8  00 00 00 00  60 77 7E 05  02 00 00 00  50 23 E1 02  ....`w~...P#?
00E04408  F8 B4 91 05  08 84 AA 05  F8 B4 91 05  48 82 AA 05  ????????H??
00E04418  58 44 E0 00  4A 61 76 6C  01 00 00 00  00 D2 E1 02  XD?.Javl....??
00E04428  80 82 AA 05  AC 2A 80 6C  80 82 AA 05  F8 B4 91 05  ????*?l??????
00E04438  00 D2 E1 02  80 82 AA 05  00 D2 E1 02  00 D2 E1 02  .?????.??.??
00E04448  68 44 E0 00  67 55 76 6C  80 82 AA 05  00 D2 E1 02  hD?.gUvl???.??
00E04458  01 00 00 00  A0 24 E1 02  A0 24 E1 02  A0 24 E1 02  ...?$??$??$?
00E04468  48 45 E0 00  72 D9 77 6C  00 D2 E1 02  80 82 AA 05  HE?.r?wl.?????
00E04478  A8 44 E0 00  00 00 00 00  01 00 00 00  C0 23 E1 02  ?D?........?#?
00E04488  9C 1E E3 02  B4 8D 6F 03  E0 E8 BC 05  88 E7 E1 02  ?
???o??????
00E04498  C8 44 E0 00  EF ED 77 6C  D0 8D 6F 03  E0 E8 BC 05  ?D?.??wl??o???
00E044A8  C8 44 E0 00  31 54 76 6C  9C 1E E3 02  C0 23 E1 02  ?D?.1Tvl?
??#?
00E044B8  01 00 00 00  88 E7 E1 02  00 00 00 00  C8 88 6F 03  ...???....??o
00E044C8  A8 45 E0 00  D7 DA 77 6C  C8 88 6F 03  88 E7 E1 02  ?E?.??wl??o???
00E044D8  E4 88 6F 03  E0 E8 BC 05  00 00 00 00  E0 E8 BC 05  ??o???....???
00E044E8  10 75 6F 03  01 00 00 00  20 00 00 00  86 00 00 00  uo... ...?...
00E044F8  02 00 00 00  58 5B 8C 05  42 00 00 00  98 A7 AA 05  ...X[?B...???
00E04508  48 45 E0 00  4A 61 76 6C  98 A7 AA 05  20 17 B3 03  HE?.Javl??? ?
00E04518  B5 83 7C 00  19 E4 7F 6C  30 A5 AA 05  20 17 B3 03  ??|.?l0?? ?
00E04528  08 8E 6F 03  01 00 00 00  01 00 00 00  8C E8 BC 05  ?o......???
00E04538  58 45 E0 00  E5 1E 73 6C  A0 24 E1 02  A0 24 E1 02  XE?.?
sl?$??$?
00E04548  78 45 E0 00  90 88 6F 03  A0 24 E1 02  A0 24 E1 02  xE?.??o?$??$?
00E04558  A8 45 E0 00  BA F0 7F 6C  01 00 00 00  C4 E8 BC 05  ?E?.??l...???
00E04568  B8 75 6F 03  B8 75 6F 03  01 00 00 00  78 97 E3 02  ?uo?uo...x??
00E04578  01 00 00 00  A8 E8 BC 05  A8 E8 BC 05  A0 24 E1 02  ...???????$?
00E04588  A0 24 E1 02  A0 24 E1 02  78 97 E3 02  78 97 E3 02  ?$??$?x??x??
00E04598  A8 45 E0 00  E8 45 E0 00  A0 24 E1 02  A8 E8 BC 05  ?E?.?E?.?$????
00E045A8  88 46 E0 00  4E 0E 78 6C  C8 88 6F 03  E0 E8 BC 05  ?F?.N.xl??o???
00E045B8  38 6F 6F 03  E0 E8 BC 05  B4 F6 BC 05  8C E8 BC 05  8oo?????????
00E045C8  AC E7 BC 05  80 82 AA 05  08 00 00 00  00 00 00 20  ??????...... 
00E045D8  C8 88 6F 03  01 00 00 00  41 00 00 00  DA 00 00 00  ??o...A...?...
00E045E8  C8 49 E0 00  0C 00 00 00  88 46 E0 00  E8 45 E0 00  ?I?.....?F?.?E?.
00E045F8  A8 E8 BC 05  A0 24 E1 02  AC 45 E0 00  CD 0D 78 6C  ????$??E?.?.xl

036F8A5C  6C 8A 6F 03  78 85 6F 03  A0 24 E1 02  28 E6 F0 02  l?ox
o?$?(??
036F8A6C  02 00 00 11  A0 24 E1 02  50 8A 6F 03  DC 8A 6F 03  ..?$?P?o??o
036F8A7C  98 85 6F 03  A0 24 E1 02  50 23 E1 02  02 00 00 11  ?
o?$?P#?..
036F8A8C  A0 24 E1 02  A4 8A 6F 03  C0 8A 6F 03  B4 5B E3 02  ?$???o??o?[?
036F8A9C  A0 24 E1 02  A0 24 E1 02  08 00 00 11  A0 24 E1 02  ?$??$?..?$?
036F8AAC  D8 8B 6F 03  88 8A 6F 03  17 01 00 00  A0 24 E1 02  ??o??o..?$?
036F8ABC  A0 24 E1 02  06 00 00 11  A0 24 E1 02  88 8A 6F 03  ?$?..?$???o
036F8ACC  50 8A 6F 03  A4 8A 6F 03  88 8A 6F 03  A0 24 E1 02  P?o??o??o?$?
036F8ADC  02 00 00 11  A0 24 E1 02  6C 8A 6F 03  F4 8B 6F 03  ..?$?l?o??o
036F8AEC  C0 8A 6F 03  6C 8A 6F 03  98 11 3B 03  02 00 00 11  ??ol?o?;..
036F8AFC  A0 24 E1 02  30 8B 6F 03  14 8B 6F 03  B8 85 6F 03  ?$?0?o?o?
o
036F8B0C  A0 24 E1 02  28 E6 F0 02  02 00 00 11  A0 24 E1 02  ?$?(??..?$?
036F8B1C  F8 8A 6F 03  4C 8B 6F 03  D8 85 6F 03  A0 24 E1 02  ??oL?o?
o?$?
036F8B2C  50 23 E1 02  13 00 00 11  A0 24 E1 02  A0 8B 6F 03  P#?..?$???o
036F8B3C  F8 8A 6F 03  00 00 00 00  00 00 00 00  A0 24 E1 02  ??o........?$?
036F8B4C  02 00 00 11  A0 24 E1 02  14 8B 6F 03  68 8B 6F 03  ..?$??oh?o
036F8B5C  30 8B 6F 03  14 8B 6F 03  F0 10 3B 03  02 00 00 11  0?o?o?;..
036F8B6C  A0 24 E1 02  4C 8B 6F 03  BC 8B 6F 03  B4 5B E3 02  ?$?L?o??o?[?
036F8B7C  4C 8B 6F 03  28 11 3B 03  02 00 00 11  A0 24 E1 02  L?o(;..?$?
036F8B8C  2C 8C 6F 03  A0 8B 6F 03  F8 85 6F 03  A0 24 E1 02  ,?o??o?
o?$?
036F8B9C  58 21 E1 02  08 00 00 11  A0 24 E1 02  84 8B 6F 03  X!?..?$???o
036F8BAC  30 8B 6F 03  17 01 00 00  A0 24 E1 02  A0 24 E1 02  0?o..?$??$?
036F8BBC  02 00 00 11  A0 24 E1 02  68 8B 6F 03  D8 8B 6F 03  ..?$?h?o??o
036F8BCC  18 86 6F 03  68 8B 6F 03  EC 35 E9 02  39 10 00 11  ?oh?o?5?9.
036F8BDC  BC 8B 6F 03  BC 8B 6F 03  A4 8A 6F 03  00 00 00 00  ??o??o??o....
036F8BEC  00 00 00 00  A0 24 E1 02  02 00 00 11  A0 24 E1 02  ....?$?..?$?
036F8BFC  DC 8A 6F 03  10 8C 6F 03  D8 8B 6F 03  DC 8A 6F 03  ??o?o??o??o
036F8C0C  24 AF 3B 03  02 00 00 11  A0 24 E1 02  F4 8B 6F 03  $?;..?$???o
036F8C1C  48 8C 6F 03  38 86 6F 03  F4 8B 6F 03  A0 A9 37 03  H?o8?o??o??7
036F8C2C  10 00 00 11  A0 24 E1 02  9C 8C 6F 03  84 8B 6F 03  ..?$???o??o
036F8C3C  00 00 00 00  00 00 00 00  A0 24 E1 02  02 00 00 11  ........?$?..
036F8C4C  A0 24 E1 02  10 8C 6F 03  64 8C 6F 03  2C 8C 6F 03  ?$??od?o,?o
036F8C5C  10 8C 6F 03  00 9A 3B 03  02 00 00 11  A0 24 E1 02  ?o.?;..?$?
036F8C6C  48 8C 6F 03  80 8C 6F 03  78 86 6F 03  48 8C 6F 03  H?o??ox?oH?o
036F8C7C  70 9A 3B 03  02 00 00 11  A0 24 E1 02  64 8C 6F 03  p?;..?$?d?o
036F8C8C  B8 8C 6F 03  98 86 6F 03  64 8C 6F 03  28 E6 F0 02  ??o??od?o(??
036F8C9C  02 00 00 11  A0 24 E1 02  D0 12 6F 03  2C 8C 6F 03  ..?$??o,?o
036F8CAC  B8 86 6F 03  A0 24 E1 02  28 E6 F0 02  02 00 00 11  ??o?$?(??..
036F8CBC  A0 24 E1 02  80 8C 6F 03  88 C1 6F 03  D8 86 6F 03  ?$???o??o??o
036F8CCC  80 8C 6F 03  A0 8B EC 02  23 10 00 11  B8 8C 6F 03  ??o???#.??o
036F8CDC  04 E8 6F 03  5C E7 6F 03  20 E8 6F 03  04 E8 6F 03  ?o\?o ?o?o
036F8CEC  D4 96 6F 03  08 00 00 11  A0 24 E1 02  60 8D 6F 03  ??o..?$?`?o
036F8CFC  0C 8D 6F 03  18 01 00 00  A0 24 E1 02  A0 24 E1 02  .?o..?$??$?
036F8D0C  02 00 00 11  A0 24 E1 02  F0 8C 6F 03  28 8D 6F 03  ..?$???o(?o
036F8D1C  F0 8C 6F 03  A0 24 E1 02  A0 24 E1 02  02 00 00 11  ??o?$??$?..
036F8D2C  A0 24 E1 02  0C 8D 6F 03  44 8D 6F 03  F8 86 6F 03  ?$?.?oD?o??o
036F8D3C  0C 8D 6F 03  A0 24 E1 02  06 00 00 11  A0 24 E1 02  .?o?$?..?$?
036F8D4C  28 8D 6F 03  D0 12 6F 03  48 F0 E2 02  28 8D 6F 03  (?o?oH??(?o
036F8D5C  A0 24 E1 02  02 00 00 11  A0 24 E1 02  D0 1C 6F 03  ?$?..?$??
o
036F8D6C  F0 8C 6F 03  68 24 E1 02  A0 24 E1 02  B4 5B E3 02  ??oh$??$??[?
036F8D7C  02 00 00 11  A0 24 E1 02  38 7C 6F 03  20 48 6F 03  ..?$?8|o Ho
036F8D8C  78 24 6F 03  38 7C 6F 03  18 2D 55 03  02 00 00 11  x$o8|o-U..
036F8D9C  A0 24 E1 02  00 89 6F 03  34 8A 6F 03  38 89 6F 03  ?$?.?o4?o8?o
036F8DAC  A0 24 E1 02  A0 24 E1 02  02 00 00 11  A0 24 E1 02  ?$??$?..?$?
036F8DBC  E8 8E 6F 03  C4 89 6F 03  D0 8D 6F 03  E8 8E 6F 03  ??o??o??o??o
036F8DCC  A0 24 E1 02  06 00 00 11  A0 24 E1 02  EC 8D 6F 03  ?$?..?$???o
036F8DDC  74 8F 6F 03  04 D1 E1 02  EC 8D 6F 03  A0 24 E1 02  t?o????o?$?
036F8DEC  02 00 00 11  A0 24 E1 02  40 8E 6F 03  D0 8D 6F 03  ..?$?@?o??o
036F8DFC  08 8E 6F 03  40 8E 6F 03  A0 24 E1 02  01 00 00 11  ?o@?o?$?..
036F8E0C  A0 24 E1 02  18 69 6F 03  9C 4F 6F 03  60 06 AC 03  ?$?io?Oo`?
036F8E1C  84 24 E1 02  A0 24 E1 02  02 00 00 11  A0 24 E1 02  ?$??$?..?$?
036F8E2C  84 BB 2A 04  50 4E 56 03  08 8E 6F 03  A0 24 E1 02  ??*PNV?o?$?
036F8E3C  A0 24 E1 02  02 00 00 11  A0 24 E1 02  5C 8E 6F 03  ?$?..?$?\?o
036F8E4C  EC 8D 6F 03  5C 8E 6F 03  A0 24 E1 02  A0 24 E1 02  ??o\?o?$??$?
036F8E5C  06 00 00 11  A0 24 E1 02  78 8E 6F 03  40 8E 6F 03  ..?$?x?o@?o
036F8E6C  30 FF E1 02  78 8E 6F 03  A0 24 E1 02  02 00 00 11  0??x?o?$?..
036F8E7C  A0 24 E1 02  94 8E 6F 03  5C 8E 6F 03  98 C7 64 03  ?$???o\?o??d
036F8E8C  94 8E 6F 03  A0 24 E1 02  02 00 00 11  A0 24 E1 02  ??o?$?..?$?
036F8E9C  B0 8E 6F 03  78 8E 6F 03  B0 8E 6F 03  A0 24 E1 02  ??ox?o??o?$?
036F8EAC  A0 24 E1 02  06 00 00 11  A0 24 E1 02  CC 8E 6F 03  ?$?..?$???o
036F8EBC  94 8E 6F 03  34 FE E1 02  CC 8E 6F 03  A0 24 E1 02  ??o4????o?$?
036F8ECC  02 00 00 11  A0 24 E1 02  E0 89 6F 03  B0 8E 6F 03  ..?$???o??o
036F8EDC  38 89 6F 03  A0 24 E1 02  A0 24 E1 02  02 00 00 11  8?o?$??$?..
036F8EEC  A0 24 E1 02  90 71 6F 03  B4 8D 6F 03  04 8F 6F 03  ?$??qo??o?o
036F8EFC  90 71 6F 03  A0 24 E1 02  06 00 00 11  A0 24 E1 02  ?qo?$?..?$?
036F8F0C  20 8F 6F 03  90 71 6F 03  BC 1D E1 02  20 8F 6F 03   ?o?qo?
? ?o
036F8F1C  A0 24 E1 02  02 00 00 11  A0 24 E1 02  3C 8F 6F 03  ?$?..?$?<?o
036F8F2C  04 8F 6F 03  14 70 E3 02  3C 8F 6F 03  A0 24 E1 02  ?op?<?o?$?
036F8F3C  02 00 00 11  A0 24 E1 02  90 8F 6F 03  20 8F 6F 03  ..?$???o ?o
036F8F4C  58 8F 6F 03  90 8F 6F 03  A0 24 E1 02  06 00 00 11  X?o??o?$?..
036F8F5C  A0 24 E1 02  74 8F 6F 03  38 89 6F 03  C8 90 E2 02  ?$?t?o8?o???
036F8F6C  74 8F 6F 03  A0 24 E1 02  02 00 00 11  A0 24 E1 02  t?o?$?..?$?
036F8F7C  D0 8D 6F 03  58 8F 6F 03  38 89 6F 03  A0 24 E1 02  ??oX?o8?o?$?
036F8F8C  A0 24 E1 02  02 00 00 11  A0 24 E1 02  48 78 6F 03  ?$?..?$?Hxo
036F8F9C  3C 8F 6F 03  48 78 6F 03  A0 24 E1 02  A0 24 E1 02  <?oHxo?$??$?
036F8FAC  D3 07 00 00  E0 87 6F 03  00 00 00 00  06 00 00 11  ?..??o......
036F8FBC  A0 24 E1 02  D4 8F 6F 03  60 90 6F 03  34 67 E2 02  ?$???o`?o4g?
036F8FCC  D4 8F 6F 03  A0 24 E1 02  02 00 00 11  A0 24 E1 02  ??o?$?..?$?
036F8FDC  C4 A4 6F 03  B8 8F 6F 03  88 00 EA 02  A0 24 E1 02  ??o??o?.??$?
036F8FEC  A0 24 E1 02  02 00 00 11  A0 24 E1 02  0C 90 6F 03  ?$?..?$?.?o
036F8FFC  64 A7 6F 03  0C 90 6F 03  A0 24 E1 02  A0 24 E1 02  d?o.?o?$??$?
036F900C  06 00 00 11  A0 24 E1 02  28 90 6F 03  F0 8F 6F 03  ..?$?(?o??o
036F901C  B8 EC E1 02  28 90 6F 03  A0 24 E1 02  02 00 00 11  ???(?o?$?..
036F902C  A0 24 E1 02  7C 90 6F 03  0C 90 6F 03  44 90 6F 03  ?$?|?o.?oD?o
036F903C  7C 90 6F 03  A0 24 E1 02  06 00 00 11  A0 24 E1 02  |?o?$?..?$?
036F904C  60 90 6F 03  7C 90 6F 03  34 FE E1 02  60 90 6F 03  `?o|?o4??`?o
036F905C  A0 24 E1 02  02 00 00 11  A0 24 E1 02  B8 8F 6F 03  ?$?..?$???o
036F906C  44 90 6F 03  88 00 EA 02  A0 24 E1 02  A0 24 E1 02  D?o?.??$??$?
036F907C  02 00 00 11  A0 24 E1 02  44 90 6F 03  28 90 6F 03  ..?$?D?o(?o
036F908C  38 23 65 03  A0 24 E1 02  A0 24 E1 02  02 00 00 11  8#e?$??$?..
036F909C  A0 24 E1 02  B4 90 6F 03  F4 A6 6F 03  B4 90 6F 03  ?$???o??o??o
036F90AC  A0 24 E1 02  A0 24 E1 02  06 00 00 11  A0 24 E1 02  ?$??$?..?$?
036F90BC  D0 90 6F 03  98 90 6F 03  B4 B3 E8 02  D0 90 6F 03  ??o??o?????o
036F90CC  A0 24 E1 02  02 00 00 11  A0 24 E1 02  10 A7 6F 03  ?$?..?$??o
036F90DC  B4 90 6F 03  88 00 EA 02  A0 24 E1 02  A0 24 E1 02  ??o?.??$??$?
036F90EC  02 00 00 11  A0 24 E1 02  08 91 6F 03  BC A6 6F 03  ..?$??o??o
036F90FC  08 91 6F 03  A0 24 E1 02  A0 24 E1 02  06 00 00 11  ?o?$??$?..
036F910C  A0 24 E1 02  24 91 6F 03  EC 90 6F 03  04 D1 E1 02  ?$?$?o??o??
036F911C  24 91 6F 03  A0 24 E1 02  02 00 00 11  A0 24 E1 02  $?o?$?..?$?
036F912C  40 91 6F 03  08 91 6F 03  88 00 EA 02  40 91 6F 03  @?o?o?.?@?o
036F913C  A0 24 E1 02  02 00 00 11  A0 24 E1 02  5C 91 6F 03  ?$?..?$?\?o
036F914C  24 91 6F 03  5C 91 6F 03  A0 24 E1 02  A0 24 E1 02  $?o\?o?$??$?
036F915C  06 00 00 11  A0 24 E1 02  78 91 6F 03  40 91 6F 03  ..?$?x?o@?o
036F916C  E8 05 E2 02  78 91 6F 03  A0 24 E1 02  02 00 00 11  ??x?o?$?..
036F917C  A0 24 E1 02  CC 91 6F 03  5C 91 6F 03  94 91 6F 03  ?$???o\?o??o
036F918C  CC 91 6F 03  A0 24 E1 02  06 00 00 11  A0 24 E1 02  ??o?$?..?$?
036F919C  B0 91 6F 03  E8 91 6F 03  A0 51 E2 02  B0 91 6F 03  ??o??o?Q???o
036F91AC  A0 24 E1 02  02 00 00 11  A0 24 E1 02  D8 A6 6F 03  ?$?..?$???o
036F91BC  94 91 6F 03  88 00 EA 02  A0 24 E1 02  A0 24 E1 02  ??o?.??$??$?
036F91CC  02 00 00 11  A0 24 E1 02  04 92 6F 03  78 91 6F 03  ..?$??ox?o
036F91DC  E8 91 6F 03  04 92 6F 03  74 46 E3 02  06 00 00 11  ??o?otF?..
036F91EC  A0 24 E1 02  94 91 6F 03  04 92 6F 03  50 9F E2 02  ?$???o?oP??
036F91FC  A0 24 E1 02  A0 24 E1 02  02 00 00 11  A0 24 E1 02  ?$??$?..?$?
036F920C  E8 91 6F 03  CC 91 6F 03  B8 C5 64 03  A0 24 E1 02  ??o??o??d?$?
036F921C  90 21 E1 02  02 00 00 11  A0 24 E1 02  3C 92 6F 03  ?!?..?$?<?o
036F922C  84 A6 6F 03  3C 92 6F 03  A0 24 E1 02  A0 24 E1 02  ??o<?o?$??$?
036F923C  06 00 00 11  A0 24 E1 02  58 92 6F 03  20 92 6F 03  ..?$?X?o ?o
036F924C  F0 5C E2 02  58 92 6F 03  A0 24 E1 02  02 00 00 11  ?\?X?o?$?..

6C76E530  55 B8 2C 20  00 00 89 E5  57 56 53 E8  80 40 1A 00  U?, ..??WVS??@.
6C76E540  8D 75 10 89  75 F0 C7 04  24 52 0E 93  6C E8 0E FE  ?u?u??$R.?l?.?

6C76E948  C7 44 24 04  9A 0E 93 6C  89 04 24 E8  D8 FB FF FF  ?D$?.?l?$?????
6C76E958  81 C4 2C 20  00 00 5B 5E  5F 5D C3 8D  04 0F 80 78  ??, ..[^_]???x

6C90B475  5C 0F 84 99  00 00 00 89  5C 24 04 89  34 24 FF 16  \??...?\$?4$?
6C90B485  8B 5D F8 8B  75 FC 89 EC  5D C3 90 A1  60 DB 9C 6C  ?]??u???]???`??l

6C90B670  0F B6 13 89  F8 83 C3 01  8B 4D E0 E8  C0 FD FF FF  ??????M??????
6C90B680  39 F3 75 EC  8B 75 E4 85  F6 74 1E 8B  5D EC 85 DB  9?u??u?
?t
?]?
?

6C90D096  FF FF 89 0C  24 8B 8D 68  FE FF FF E8  3A E5 FF FF  ???.$??h????:???
6C90D0A6  E9 89 FB FF  FF 8B 95 30  FF FF FF 8D  4D E5 0F B7  ???????0????M??

6C90F10C  89 C2 78 15  8B 55 10 89  F9 89 D8 E8  14 D9 FF FF  ??x?U????????
6C90F11C  89 C2 8B 45  EC 85 C0 75  1B 85 F6 74  06 8B 45 08  ???E?
?u
?t?E

6C9125C3  83 C1 08 3D  00 10 00 00  72 10 81 E9  00 10 00 00  ??=...r??...
6C9125D3  83 09 00 2D  00 10 00 00  EB E9 29 C1  83 09 00 89  ?..-...??)??..?

6C930A9A  76 6C 36 A2  76 6C 36 A2  76 6C 60 A2  76 6C 73 A0  vl6?vl6?vl`?vls?
6C930AAA  76 6C 36 A2  76 6C 36 A2  76 6C 73 A0  76 6C 73 A0  vl6?vl6?vls?vls?
6C930ABA  76 6C 73 A0  76 6C 36 A2  76 6C 10 9D  76 6C C9 9F  vls?vl6?vl?vl??
6C930ACA  76 6C 1A A2  76 6C C9 9F  76 6C 0B A2  76 6C C9 9F  vl?vl??vl.?vl??
6C930ADA  76 6C 1A A2  76 6C C9 9F  76 6C C9 9F  76 6C F2 A1  vl?vl??vl??vl??
6C930AEA  76 6C F2 A1  76 6C C9 9F  76 6C C9 9F  76 6C F2 A1  vl??vl??vl??vl??
6C930AFA  76 6C F2 A1  76 6C F2 A1  76 6C F2 A1  76 6C 1A A2  vl??vl??vl??vl?
6C930B0A  76 6C C9 9F  76 6C F2 A1  76 6C F2 A1  76 6C C9 9F  vl??vl??vl??vl??
6C930B1A  76 6C C9 9F  76 6C C9 9F  76 6C F2 A1  76 6C 15 A4  vl??vl??vl??vl?
6C930B2A  76 6C C9 A3  76 6C DE A4  76 6C C9 A3  76 6C 71 A4  vl??vl??vl??vlq?
6C930B3A  76 6C C9 A3  76 6C DE A4  76 6C C9 A3  76 6C C9 A3  vl??vl??vl??vl??
6C930B4A  76 6C 55 A4  76 6C 55 A4  76 6C C9 A3  76 6C C9 A3  vlU?vlU?vl??vl??
6C930B5A  76 6C 55 A4  76 6C 55 A4  76 6C 55 A4  76 6C 55 A4  vlU?vlU?vlU?vlU?
6C930B6A  76 6C DE A4  76 6C C9 A3  76 6C 55 A4  76 6C 55 A4  vl??vl??vlU?vlU?
6C930B7A  76 6C C9 A3  76 6C C9 A3  76 6C C9 A3  76 6C 55 A4  vl??vl??vl??vlU?
6C930B8A  76 6C 69 A4  76 6C 96 A4  76 6C 46 A5  76 6C 96 A4  vli?vl??vlF?vl??
6C930B9A  76 6C 36 A5  76 6C 96 A4  76 6C 46 A5  76 6C 96 A4  vl6?vl??vlF?vl??
6C930BAA  76 6C 96 A4  76 6C 17 A5  76 6C 17 A5  76 6C 96 A4  vl??vl?vl?vl??
6C930BBA  76 6C 96 A4  76 6C 17 A5  76 6C 17 A5  76 6C 17 A5  vl??vl?vl?vl?
6C930BCA  76 6C 17 A5  76 6C 46 A5  76 6C 96 A4  76 6C 17 A5  vl?vlF?vl??vl?
6C930BDA  76 6C 17 A5  76 6C 96 A4  76 6C 96 A4  76 6C 96 A4  vl?vl??vl??vl??
6C930BEA  76 6C 17 A5  76 6C 61 72  67 75 6D 65  6E 74 73 20  vl?vlarguments 
6C930BFA  6D 75 73 74  20 62 65 20  73 79 6D 62  6F 6C 69 63  must be symbolic
6C930C0A  00 00 D6 AC  76 6C 9D A6  76 6C 4E AB  76 6C 9D A6  ..??vl??vlN?vl??
6C930C1A  76 6C 3E AB  76 6C 9D A6  76 6C 4E AB  76 6C 9D A6  vl>?vl??vlN?vl??
6C930C2A  76 6C 9D A6  76 6C 1F AB  76 6C 1F AB  76 6C 9D A6  vl??vl?vl?vl??
6C930C3A  76 6C 9D A6  76 6C 1F AB  76 6C 1F AB  76 6C 1F AB  vl??vl?vl?vl?
6C930C4A  76 6C 1F AB  76 6C 4E AB  76 6C 9D A6  76 6C 1F AB  vl?vlN?vl??vl?
6C930C5A  76 6C 1F AB  76 6C 9D A6  76 6C 9D A6  76 6C 9D A6  vl?vl??vl??vl??
6C930C6A  76 6C 1F AB  76 6C 7F A8  76 6C 10 A8  76 6C B0 AC  vl?vl?vl?vl??
6C930C7A  76 6C 10 A8  76 6C 40 AC  76 6C 10 A8  76 6C B0 AC  vl?vl@?vl?vl??
6C930C8A  76 6C 10 A8  76 6C 10 A8  76 6C 27 AC  76 6C 27 AC  vl?vl?vl'?vl'?
6C930C9A  76 6C 10 A8  76 6C 10 A8  76 6C 27 AC  76 6C 27 AC  vl?vl?vl'?vl'?
6C930CAA  76 6C 27 AC  76 6C 27 AC  76 6C B0 AC  76 6C 10 A8  vl'?vl'?vl??vl?
6C930CBA  76 6C 27 AC  76 6C 27 AC  76 6C 10 A8  76 6C 10 A8  vl'?vl'?vl?vl?
6C930CCA  76 6C 10 A8  76 6C 27 AC  76 6C 51 AA  76 6C E8 A9  vl?vl'?vlQ?vl??
6C930CDA  76 6C 03 AC  76 6C E8 A9  76 6C 90 AB  76 6C E8 A9  vl?vl??vl??vl??
6C930CEA  76 6C 03 AC  76 6C E8 A9  76 6C E8 A9  76 6C 75 AB  vl?vl??vl??vlu?
6C930CFA  76 6C 75 AB  76 6C E8 A9  76 6C E8 A9  76 6C 75 AB  vlu?vl??vl??vlu?
6C930D0A  76 6C 75 AB  76 6C 75 AB  76 6C 75 AB  76 6C 03 AC  vlu?vlu?vlu?vl?
6C930D1A  76 6C E8 A9  76 6C 75 AB  76 6C 75 AB  76 6C E8 A9  vl??vlu?vlu?vl??
6C930D2A  76 6C E8 A9  76 6C E8 A9  76 6C 75 AB  76 6C 51 AA  vl??vl??vlu?vlQ?
6C930D3A  76 6C B3 AB  76 6C 01 AF  76 6C B3 AB  76 6C F1 AE  vl??vl?vl??vl??
6C930D4A  76 6C B3 AB  76 6C 01 AF  76 6C B3 AB  76 6C B3 AB  vl??vl?vl??vl??
6C930D5A  76 6C D2 AE  76 6C D2 AE  76 6C B3 AB  76 6C B3 AB  vl??vl??vl??vl??
6C930D6A  76 6C D2 AE  76 6C D2 AE  76 6C D2 AE  76 6C D2 AE  vl??vl??vl??vl??
6C930D7A  76 6C 01 AF  76 6C B3 AB  76 6C D2 AE  76 6C D2 AE  vl?vl??vl??vl??
6C930D8A  76 6C B3 AB  76 6C B3 AB  76 6C B3 AB  76 6C D2 AE  vl??vl??vl??vl??
6C930D9A  76 6C 7F A8  76 6C 63 AC  76 6C 79 AE  76 6C 63 AC  vl?vlc?vly?vlc?
6C930DAA  76 6C 69 AE  76 6C 63 AC  76 6C 79 AE  76 6C 63 AC  vli?vlc?vly?vlc?
6C930DBA  76 6C 63 AC  76 6C 4A AE  76 6C 4A AE  76 6C 63 AC  vlc?vlJ?vlJ?vlc?
6C930DCA  76 6C 63 AC  76 6C 4A AE  76 6C 4A AE  76 6C 4A AE  vlc?vlJ?vlJ?vlJ?
6C930DDA  76 6C 4A AE  76 6C 79 AE  76 6C 63 AC  76 6C 4A AE  vlJ?vly?vlc?vlJ?
6C930DEA  76 6C 4A AE  76 6C 63 AC  76 6C 63 AC  76 6C 63 AC  vlJ?vlc?vlc?vlc?
6C930DFA  76 6C 4A AE  76 6C 33 33  33 33 33 33  EB 3F 33 33  vlJ?vl333333??33
6C930E0A  33 33 33 33  F3 3F 4C 6F  73 74 20 77  61 72 6E 69  3333??Lost warni
6C930E1A  6E 67 20 6D  65 73 73 61  67 65 73 0A  00 00 3C 41  ng messages...<A
6C930E2A  6E 6F 6E 79  6D 6F 75 73  3E 00 73 74  6F 70 00 77  nonymous>.stop.w
6C930E3A  61 72 6E 69  6E 67 00 73  75 70 70 72  65 73 73 57  arning.suppressW
6C930E4A  61 72 6E 69  6E 67 73 00  2E 73 69 67  6E 61 6C 53  arnings..signalS
6C930E5A  69 6D 70 6C  65 57 61 72  6E 69 6E 67  00 61 62 6F  impleWarning.abo
6C930E6A  72 74 00 72  65 73 74 61  72 74 00 57  61 72 6E 69  rt.restart.Warni
6C930E7A  6E 67 20 6D  65 73 73 61  67 65 73 3A  0A 00 57 61  ng messages:..Wa
6C930E8A  72 6E 69 6E  67 20 6D 65  73 73 61 67  65 3A 0A 00  rning message:..
6C930E9A  25 73 00 25  73 20 0A 00  0A 20 20 00  20 00 49 6E  %s.%s ...  . .In
6C930EAA  20 25 73 20  3A 25 73 25  73 0A 00 25  64 3A 20 25   %s :%s%s..%d: %
6C930EBA  73 20 0A 00  25 64 3A 20  49 6E 20 25  73 20 3A 25  s ..%d: In %s :%
6C930ECA  73 25 73 0A  00 00 54 68  65 72 65 20  77 65 72 65  s%s...There were
6C930EDA  20 25 64 20  77 61 72 6E  69 6E 67 73  20 28 75 73   %d warnings (us
6C930EEA  65 20 77 61  72 6E 69 6E  67 73 28 29  20 74 6F 20  e warnings() to 
6C930EFA  73 65 65 20  74 68 65 6D  29 0A 00 00  00 00 54 68  see them).....Th
6C930F0A  65 72 65 20  77 65 72 65  20 35 30 20  6F 72 20 6D  ere were 50 or m
6C930F1A  6F 72 65 20  77 61 72 6E  69 6E 67 73  20 28 75 73  ore warnings (us
6C930F2A  65 20 77 61  72 6E 69 6E  67 73 28 29  20 74 6F 20  e warnings() to 
6C930F3A  73 65 65 20  74 68 65 20  66 69 72 73  74 20 35 30  see the first 50
6C930F4A  29 0A 00 6C  61 73 74 2E  77 61 72 6E  69 6E 67 00  )..last.warning.
6C930F5A  49 6E 20 61  64 64 69 74  69 6F 6E 3A  20 00 45 72  In addition: .Er
6C930F6A  72 6F 72 20  64 75 72 69  6E 67 20 77  72 61 70 75  ror during wrapu
6C930F7A  70 3A 20 00  25 73 0A 00  45 72 72 6F  72 20 69 6E  p: .%s..Error in
6C930F8A  20 00 20 3A  20 00 25 73  25 73 25 73  00 45 72 72   . : .%s%s%s.Err
6C930F9A  6F 72 3A 20  00 2E 68 61  6E 64 6C 65  53 69 6D 70  or: ..handleSimp
6C930FAA  6C 65 45 72  72 6F 72 00  71 75 6F 74  65 00 73 69  leError.quote.si
6C930FBA  6D 70 6C 65  45 72 72 6F  72 00 65 72  72 6F 72 00  mpleError.error.
6C930FCA  63 6F 6E 64  69 74 69 6F  6E 00 20 5B  69 6E 76 61  condition. [inva
6C930FDA  6C 69 64 20  73 74 72 69  6E 67 20 69  6E 20 73 74  lid string in st
6C930FEA  6F 70 28 2E  29 5D 00 69  6E 76 61 6C  69 64 20 27  op(.)].invalid '
6C930FFA  25 73 27 20  76 61 6C 75  65 00 64 6F  6D 61 69 6E  %s' value.domain
6C93100A  00 64 69 72  6E 61 6D 65  00 00 65 72  72 6F 72 20  .dirname..error 
6C93101A  6D 65 73 73  61 67 65 20  6D 75 73 74  20 62 65 20  message must be 
6C93102A  61 20 63 68  61 72 61 63  74 65 72 20  73 74 72 69  a character stri
6C93103A  6E 67 00 72  65 73 74 61  72 74 20 6E  6F 74 20 6F  ng.restart not o
6C93104A  6E 20 73 74  61 63 6B 00  62 61 64 20  72 65 73 74  n stack.bad rest
6C93105A  61 72 74 00  69 6E 76 61  6C 69 64 20  6F 70 74 69  art.invalid opti
6C93106A  6F 6E 20 22  65 72 72 6F  72 22 0A 00  62 72 6F 77  on "error"..brow
6C93107A  73 65 72 00  74 72 79 52  65 73 74 61  72 74 00 2E  ser.tryRestart..
6C93108A  54 72 61 63  65 62 61 63  6B 00 45 78  65 63 75 74  Traceback.Execut
6C93109A  69 6F 6E 20  68 61 6C 74  65 64 0A 00  69 6E 74 65  ion halted..inte
6C9310AA  72 72 75 70  74 00 0A 00  00 00 68 61  6E 64 6C 65  rrupt.....handle
6C9310BA  72 20 6F 72  20 72 65 73  74 61 72 74  20 73 74 61  r or restart sta
6C9310CA  63 6B 20 6D  69 73 6D 61  74 63 68 20  69 6E 20 6F  ck mismatch in o
6C9310DA  6C 64 20 72  65 73 74 61  72 74 00 6E  6F 74 20 69  ld restart.not i
6C9310EA  6E 20 61 20  74 72 79 20  63 6F 6E 74  65 78 74 00  n a try context.
6C9310FA  62 61 64 20  68 61 6E 64  6C 65 72 20  64 61 74 61  bad handler data
6C93110A  00 00 4E 6F  20 66 75 6E  63 74 69 6F  6E 20 74 6F  ..No function to
6C93111A  20 72 65 74  75 72 6E 20  66 72 6F 6D  2C 20 6A 75   return from, ju
6C93112A  6D 70 69 6E  67 20 74 6F  20 74 6F 70  20 6C 65 76  mping to top lev
6C93113A  65 6C 00 75  6E 69 6D 70  6C 65 6D 65  6E 74 65 64  el.unimplemented
6C93114A  20 66 65 61  74 75 72 65  20 69 6E 20  25 73 00 00   feature in %s..
6C93115A  00 00 69 6E  63 6F 72 72  65 63 74 20  6E 75 6D 62  ..incorrect numb
6C93116A  65 72 20 6F  66 20 61 72  67 75 6D 65  6E 74 73 20  er of arguments 
6C93117A  74 6F 20 22  25 73 22 00  77 61 72 6E  69 6E 67 2E  to "%s".warning.
6C93118A  65 78 70 72  65 73 73 69  6F 6E 00 00  00 00 69 6E  expression....in
6C93119A  76 61 6C 69  64 20 6F 70  74 69 6F 6E  20 22 77 61  valid option "wa
6C9311AA  72 6E 69 6E  67 2E 65 78  70 72 65 73  73 69 6F 6E  rning.expression
6C9311BA  22 00 77 61  72 6E 00 28  63 6F 6E 76  65 72 74 65  ".warn.(converte
6C9311CA  64 20 66 72  6F 6D 20 77  61 72 6E 69  6E 67 29 20  d from warning) 
6C9311DA  25 73 00 57  61 72 6E 69  6E 67 3A 20  25 73 0A 00  %s.Warning: %s..
6C9311EA  57 61 72 6E  69 6E 67 20  69 6E 20 25  73 20 3A 20  Warning in %s : 
6C9311FA  25 73 0A 00  57 61 72 6E  69 6E 67 20  69 6E 20 25  %s..Warning in %
6C93120A  73 20 3A 0A  20 20 25 73  0A 00 43 61  6C 6C 73 3A  s :.  %s..Calls:
6C93121A  20 25 73 0A  00 00 20 5B  69 6E 76 61  6C 69 64 20   %s... [invalid 
6C93122A  73 74 72 69  6E 67 20 69  6E 20 77 61  72 6E 69 6E  string in warnin
6C93123A  67 28 2E 29  5D 00 74 6F  70 20 6C 65  76 65 6C 20  g(.)].top level 
6C93124A  69 6E 63 6F  6E 73 69 73  74 65 6E 63  79 3F 00 62  inconsistency?.b
6C93125A  61 64 20 65  72 72 6F 72  20 6D 65 73  73 61 67 65  ad error message
6C93126A  00 00 43 20  73 74 61 63  6B 20 75 73  61 67 65 20  ..C stack usage 
6C93127A  69 73 20 74  6F 6F 20 63  6C 6F 73 65  20 74 6F 20  is too close to 
6C93128A  74 68 65 20  6C 69 6D 69  74 00 69 6E  76 61 6C 69  the limit.invali
6C93129A  64                                                  d

78008666  20 03 78 83  4E 04 FF 89  06 57 FF 15  70 20 03 78   x?N??W?p x
78008676  8B C6 5F 5E  C3 6A 10 E8  E0 F8 FF FF  59 EB EA 8B  ??_^?j?????Y???

78014A34  74 24 10 FF  74 24 10 FF  74 24 10 E8  04 00 00 00  t$?t$?t$?...
78014A44  83 C4 10 C3  55 8B EC 51  53 56 57 E8  C8 3B FF FF  ???U??QSVW??;??
78014A54  8B 70 60 3B  35 00 DF 03  78 74 07 E8  4D 79 FF FF  ?p`;5.?xt?My??


From mathieu.ribatet at epfl.ch  Fri Apr 25 11:59:19 2008
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Fri, 25 Apr 2008 11:59:19 +0200
Subject: [Rd] r won't start: "r: symbol lookup error: r: undefined
 symbol: R_Visible" (PR#11265)
In-Reply-To: <20080424182017.23D37282EFF8@mail.pubhealth.ku.dk>
References: <20080424182017.23D37282EFF8@mail.pubhealth.ku.dk>
Message-ID: <4811AB77.6010007@epfl.ch>


> I tried installing r on my computer, and didn't manage to get the program
> running.
> After having installed littler, typing r into the bash results in following
> message:
>
> r: symbol lookup error: r: undefined symbol: R_Visible
>   
Did you invoke "r" or "R" because it is totally different *NIX sytems 
are case sensitive.

You could also run "R --verbose" to see what's going wrong if any...
Best,
Mathieu

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From mathieu.ribatet at epfl.ch  Fri Apr 25 12:00:08 2008
From: mathieu.ribatet at epfl.ch (mathieu.ribatet at epfl.ch)
Date: Fri, 25 Apr 2008 12:00:08 +0200 (CEST)
Subject: [Rd] r won't start: "r: symbol lookup error: r: undefined
	symbol: (PR#11273)
Message-ID: <20080425100008.3450F282EF48@mail.pubhealth.ku.dk>


> I tried installing r on my computer, and didn't manage to get the program
> running.
> After having installed littler, typing r into the bash results in following
> message:
>
> r: symbol lookup error: r: undefined symbol: R_Visible
>   
Did you invoke "r" or "R" because it is totally different *NIX sytems 
are case sensitive.

You could also run "R --verbose" to see what's going wrong if any...
Best,
Mathieu

-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From murdoch at stats.uwo.ca  Fri Apr 25 13:01:00 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 25 Apr 2008 07:01:00 -0400
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <48115131.7000402@comcast.net>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
Message-ID: <4811B9EC.3010701@stats.uwo.ca>

Marc Schwartz wrote:
> Duncan Murdoch wrote:
>   
>> Currently ?foo does help("foo"), which looks for a man page with alias 
>> foo.  If foo happens to be a function call, it will do a bit more, so
>>
>> ?mean(something)
>>
>> will find the mean method for something if mean happens to be an S4 
>> generic.  There are also the type?foo variations, e.g. methods?foo, or 
>> package?foo.
>>
>> I think these are all too limited.
>>
>> The easiest search should be the most permissive.  Users should need to 
>> do extra work to limit their search to man pages, with exact matches, as 
>> ? does.
>>
>> We don't currently have a general purpose search for "foo", or something 
>> like it.  We come close with RSiteSearch, and so possibly ?foo should 
>> mean RSiteSearch("foo"), but
>> there are problems with that: it can't limit itself to the current 
>> version of R, and it doesn't work when you're offline (or when 
>> search.r-project.org is down.)  We also have help.search("foo"), but it 
>> is too limited. I'd like to have a local search that looks through the 
>> man pages, manuals, FAQs, vignettes, DESCRIPTION files, etc., specific 
>> to the current R installation, and I think ? should be attached to that 
>> search.
>>
>> Comments, please.
>>
>> Duncan Murdoch
>>     
>
> Duncan,
>
> I agree in principle with the points that you raise. I suspect that at 
> least in part, it might assist new users with some of the issues that 
> were raised in the latest incarnation of the 'we need better 
> documentation' thread on r-help.
>
> I am not convinced that ?foo should do this however. help("foo") 
> conceptually seems predicated upon the notion that a user is looking for 
> a reference/help page for a specific function or descriptor called 
> 'foo'. The user knows the name of the function or descriptor ...

With the current definition, that's correct, though man("foo") might be 
a better match to Unix-users expectations for a function that did that.  
For a naive user, help("foo") suggests that they're looking for help on 
"foo".
>
> ...  and should 
> not have to wait for a search function to locate it or conceptually 
> related terms.  If the user has a large number of CRAN packages 
> installed, such a search can take a rather long time. That's an issue 
> for example with help.search().
>   

As Brian and Hadley said, that's an implementation issue, already being 
addressed.

> That being said and being a firm believer in incrementalism, perhaps the 
> first step should be to create a new function, called esearch() [as in 
> extended search] or doc.search() [as in documentation search] or even 
> search.all(). This new function would facilitate searching all of the 
> local objects that you list and perhaps others. It would by default be 
> uber-inclusive of all categories of such objects. It would support 
> functionality along the lines of help.search() in allowing for the use 
> of regex and fuzzy matching via grep()/agrep().
>   

Definitely there would need to be a new function, with a new name; if we 
were attaching the name to ? somehow, then it wouldn't matter much what 
name was used.

I haven't done it, but I suspect we could introduce special behaviour 
for ??foo very easily.  We could even have a whole hierarchy:

?foo, ??foo, ???foo, ????foo, ...

> The downside of this approach is that we would add yet another search 
> function to the list of those already available, each of which searches 
> a focused subset of the potential targets for assistance, whether local 
> or online. Thus, it would require some level of understanding of the 
> general structure of the myriad of local and online resources of R 
> related assistance.
>   

Part of the idea behind my suggestion is that it should be somewhat 
automatic for a new user to learn about the different types of help.  
One way for this to happen is the current one:  expect them to find and 
read the manuals.  The suggestion is to make it easier to find the 
different types.  The risk of this is that exposing a new user to a wide 
range of different kinds of results would just be confusing.

> Perhaps ?help could be augmented a bit in elucidating some of these 
> issues. The See Also there does not reference apropos() for example and 
> it might be worthwhile adding something along the lines of the bullets 
> in the "Do your homework before posting" section in the Posting Guide. 
> Thus ?help can become something of a "first place to look - local 
> centralized help resource" for users to identify the tiered help 
> resources that are available and to also provide a framework for how to 
> use those resources. One could also have links to the online pages for R 
> News, R Books, the R Wiki, the R Graph Gallery, Contributed 
> Documentation, Bioconductor and Other Documentation, so that users 
> become more aware of help resources beyond the documentation installed 
> with R by default.
>   

Those are probably good ideas, but my guess would be that few users read 
?help. 

> A longer term plan could be to look to consolidate some of these 
> functions into a single help/search function perhaps circa R version 
> 3.0.0. That would enable some time for thoughtful consideration and 
> feedback.
>   

As all the recent bug reports show, we don't really get feedback until 
code is released, so there's not much of an advantage of 3.0.0 (unless 
we really break the current system) over 2.8.0. 

Duncan Murdoch

> That's my US\$ $\displaystyle e^{i\pi} + \sum_{n=1}^\infty \frac{1}{2^n} 
> + 2(10^{-2})$
>
> :-)
>
> HTH,
>
> Marc
>


From edd at debian.org  Fri Apr 25 13:09:25 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 25 Apr 2008 06:09:25 -0500
Subject: [Rd] r won't start: "r: symbol lookup error: r: undefined
	symbol:	R_Visible" (PR#11265)
In-Reply-To: <20080424182017.23D37282EFF8@mail.pubhealth.ku.dk>
References: <20080424182017.23D37282EFF8@mail.pubhealth.ku.dk>
Message-ID: <18449.48101.353214.745021@ron.nulle.part>


On 24 April 2008 at 20:20, jakobstoeger at gmx.de wrote:
| Full_Name: Jakob Stoeger
| Version: 2.7.0
| OS: ubuntu 7.10
| Submission from: (NULL) (137.248.74.38)
| 
| 
| Hi!
| 
| I hope, it is justified to write this email...
| I'm relatively new to linux, and haven't worked with r, yet, so please pardon
| any things I do not know...
| 
| I tried installing r on my computer, and didn't manage to get the program
| running.
| After having installed littler, typing r into the bash results in following
| message:
| 
| r: symbol lookup error: r: undefined symbol: R_Visible

You need to rebuild littler ('r') against the new version of R ('R'). 

I did that for Debian, looks like Ubuntu could do with it too.  Your R
version was provided by volunteers outside of Ubuntu.

Vincent: In a perfect world, could you rebuild littler and provide it?

Jakob: Barring a new littler you can apt-get, the easiest may be to just
uninstall littler and rebuild it locally so that thew R 2.7.0 is used.
Ping me, or better still, the r-sig-debian list, with questions if you have
any.  You need to subscribe to r-sig-debian before you can post there.

Lastly, if you only want or use R, use R :)  'r' is for scripting and short
command-line uses.

Dirk

PS  It is the same with RPy.
 
| I found a bugreport here:
| http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=418686
| I'm not sure, if this has anything to do with it, as it concerns rkward...
| 
| Anyway, this information might come handy:
| my system:
| ubuntu 7.10
| Kernel 2.6.22-14-generic
| GNOME 2.20.1
| 
| installed packages:
| r-base 2.7.0-1gutsy0
| r-base-core 2.7.1gutsy0
| r-cran-cluster 1.11.10-1gutsy0
| r-cran-boot 1.2.32-1gutsy0
| r-cran-cluster 1.11.10-1gutsy0
| r-cran-codetools 0.2-0-1gutsy0
| r-cran-foreign 0.8.24-1gutsy0
| r-cran-kernsmooth 2.22.22-1gutsy0
| r-cran-lattice 0.17-6-1gutsy0
| r-cran-mgcv 1.3-30-1gutsy0
| r-cran-nlme 3.1.88-1gutsy0
| r-cran-rpart 3.1.41-1gutsy0
| r-cran-survival 2.34-1gutsy0
| r-cran-vr 7.2.41-1gutsy0
| 
| rkward 0.4.7a-1ubuntu1
| 
| r-recommended 2.7.0-1gutsy0
| 
| 
| I can't guarantee, that this list is complete, as I don't know (yet), how to
| check for it...
| 
| Not really relevant, but I feel that I should tell you:
| 
| The university at which I study used to use SPSS. Until this term, from which on
| we will officially use r. Yeah!
| 
| So, I hope you can help me getting r working. If I can help by doing anything,
| please tell me how...
| Also, I hope, this is a problem with r and not with my ubuntu, in which case I
| probably wouldn't have contacted you, if I would have known...
| 
| Thank you very much!
| 
| All the best,
| Jakob
| 
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Three out of two people have difficulties with fractions.


From edd at debian.org  Fri Apr 25 13:10:08 2008
From: edd at debian.org (edd at debian.org)
Date: Fri, 25 Apr 2008 13:10:08 +0200 (CEST)
Subject: [Rd] r won't start: "r: symbol lookup error: r: undefined
	symbol: (PR#11274)
Message-ID: <20080425111008.72B2A282EFF0@mail.pubhealth.ku.dk>


On 24 April 2008 at 20:20, jakobstoeger at gmx.de wrote:
| Full_Name: Jakob Stoeger
| Version: 2.7.0
| OS: ubuntu 7.10
| Submission from: (NULL) (137.248.74.38)
| 
| 
| Hi!
| 
| I hope, it is justified to write this email...
| I'm relatively new to linux, and haven't worked with r, yet, so please pardon
| any things I do not know...
| 
| I tried installing r on my computer, and didn't manage to get the program
| running.
| After having installed littler, typing r into the bash results in following
| message:
| 
| r: symbol lookup error: r: undefined symbol: R_Visible

You need to rebuild littler ('r') against the new version of R ('R'). 

I did that for Debian, looks like Ubuntu could do with it too.  Your R
version was provided by volunteers outside of Ubuntu.

Vincent: In a perfect world, could you rebuild littler and provide it?

Jakob: Barring a new littler you can apt-get, the easiest may be to just
uninstall littler and rebuild it locally so that thew R 2.7.0 is used.
Ping me, or better still, the r-sig-debian list, with questions if you have
any.  You need to subscribe to r-sig-debian before you can post there.

Lastly, if you only want or use R, use R :)  'r' is for scripting and short
command-line uses.

Dirk

PS  It is the same with RPy.
 
| I found a bugreport here:
| http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=418686
| I'm not sure, if this has anything to do with it, as it concerns rkward...
| 
| Anyway, this information might come handy:
| my system:
| ubuntu 7.10
| Kernel 2.6.22-14-generic
| GNOME 2.20.1
| 
| installed packages:
| r-base 2.7.0-1gutsy0
| r-base-core 2.7.1gutsy0
| r-cran-cluster 1.11.10-1gutsy0
| r-cran-boot 1.2.32-1gutsy0
| r-cran-cluster 1.11.10-1gutsy0
| r-cran-codetools 0.2-0-1gutsy0
| r-cran-foreign 0.8.24-1gutsy0
| r-cran-kernsmooth 2.22.22-1gutsy0
| r-cran-lattice 0.17-6-1gutsy0
| r-cran-mgcv 1.3-30-1gutsy0
| r-cran-nlme 3.1.88-1gutsy0
| r-cran-rpart 3.1.41-1gutsy0
| r-cran-survival 2.34-1gutsy0
| r-cran-vr 7.2.41-1gutsy0
| 
| rkward 0.4.7a-1ubuntu1
| 
| r-recommended 2.7.0-1gutsy0
| 
| 
| I can't guarantee, that this list is complete, as I don't know (yet), how to
| check for it...
| 
| Not really relevant, but I feel that I should tell you:
| 
| The university at which I study used to use SPSS. Until this term, from which on
| we will officially use r. Yeah!
| 
| So, I hope you can help me getting r working. If I can help by doing anything,
| please tell me how...
| Also, I hope, this is a problem with r and not with my ubuntu, in which case I
| probably wouldn't have contacted you, if I would have known...
| 
| Thank you very much!
| 
| All the best,
| Jakob
| 
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Three out of two people have difficulties with fractions.


From P.Dalgaard at biostat.ku.dk  Fri Apr 25 14:46:16 2008
From: P.Dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Fri, 25 Apr 2008 14:46:16 +0200
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <4811B9EC.3010701@stats.uwo.ca>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca>
Message-ID: <4811D298.4030102@biostat.ku.dk>

Duncan Murdoch wrote:
> I haven't done it, but I suspect we could introduce special behaviour 
> for ??foo very easily.  We could even have a whole hierarchy:
>
> ?foo, ??foo, ???foo, ????foo, ...
>
>   
Heh, that's rather nice, actually. In words, that could read

?foo: tell me about foo!
??foo: what can you tell me about foo?
???foo: what can you tell me about things like foo?
????foo: I don't know what I'm looking for but it might be something
related foo?

You do have to be careful about messing with ?, though. I think many
people, including me, would pretty quickly go nuts if ?par suddenly
didn't work the way we're used to.

-- 

   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From rgentlem at fhcrc.org  Fri Apr 25 16:16:13 2008
From: rgentlem at fhcrc.org (Robert Gentleman)
Date: Fri, 25 Apr 2008 07:16:13 -0700
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <48110D8B.10300@stats.uwo.ca>
References: <48110D8B.10300@stats.uwo.ca>
Message-ID: <4811E7AD.6090703@fhcrc.org>



Duncan Murdoch wrote:
> Currently ?foo does help("foo"), which looks for a man page with alias 
> foo.  If foo happens to be a function call, it will do a bit more, so
> 
> ?mean(something)
> 
> will find the mean method for something if mean happens to be an S4 
> generic.  There are also the type?foo variations, e.g. methods?foo, or 
> package?foo.
> 
> I think these are all too limited.
> 
> The easiest search should be the most permissive.  Users should need to 
> do extra work to limit their search to man pages, with exact matches, as 
> ? does.

   While I like the idea, I don't really agree with the sentiment above. 
I think that the easiest search should be the one that you want the 
result of most often.
And at least for me that is the man page for the function, so I can 
check some detail; and it works pretty well.  I use site searches much 
less frequently and would be happy to type more for them.

> 
> We don't currently have a general purpose search for "foo", or something 
> like it.  We come close with RSiteSearch, and so possibly ?foo should 
> mean RSiteSearch("foo"), but
> there are problems with that: it can't limit itself to the current 
> version of R, and it doesn't work when you're offline (or when 
> search.r-project.org is down.)  We also have help.search("foo"), but it 
> is too limited. I'd like to have a local search that looks through the 
> man pages, manuals, FAQs, vignettes, DESCRIPTION files, etc., specific 
> to the current R installation, and I think ? should be attached to that 
> search.

  I think that would be very useful (although there will be some 
decisions on which tool to use to achieve this). But, it will also be 
problematic, as one will get tons of hits for some things, and then 
selecting the one you really want will be a pain.

  I would rather see that be one of the dyadic forms, say

   site?foo

  or
   all?foo

  one could even imagine refining that for different subsets of the docs 
you have mentioned;

   help?foo #only man pages
   guides?foo #the manuals, R Extensions etc

and so on.

   You did not, make a suggestion as to how we would get the equivalent 
of ?foo now, if a decision to move were taken.


> 
> Comments, please.
> 
> Duncan Murdoch
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 

-- 
Robert Gentleman, PhD
Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M2-B876
PO Box 19024
Seattle, Washington 98109-1024
206-667-7700
rgentlem at fhcrc.org


From h.wickham at gmail.com  Fri Apr 25 16:17:09 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 25 Apr 2008 09:17:09 -0500
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <alpine.LFD.1.10.0804250531540.30202@gannet.stats.ox.ac.uk>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<f8e6ff050804242123k76122d5cj94f0790cba4ca905@mail.gmail.com>
	<alpine.LFD.1.10.0804250531540.30202@gannet.stats.ox.ac.uk>
Message-ID: <f8e6ff050804250717q1e5915d3gcc50c12432967a6d@mail.gmail.com>

> > But that's just a problem with the current implementation.  Better
> > indexing could make full text search of all documentation practical
> > instantaneous.  This is one argument for a centralised documentation
> > web site - such indices are much easier to set up in a modern web
> > development environment.  I could imagine this being an eventual
> > feature of crantastic.org, but it requires on some tool to turn Rd
> > files into a form more easily parsed with off-the-shelf tools (ideally
> > xml).
> >
>
>  The search is a lot faster in 2.7.x, but is limited by disc speed (and
> hence is relatively slow on Windows -- and I have a box which has both Linux
> and Windows on, so I've tested this on identical hardware). R is a dynamic
> environment which can change libraries (and their order), add or remove
> packages ....  The text search is pretty close to instantaneous (try it a
> second time) -- the time is taken building the database for the first use.

Would it be possible to build per package help databases during the
install (or build?) process?  That way all that work could be shifted
to one a one off compilation.

>  Yes, we could do this differently, but some credit for the work already
> done would be an encouragement to continue to improve.

Sorry! Writing a good text search engine is hard and I didn't mean to
disparage the existing work of R-core.  The current system works great
for the majority of uses.

Hadley

-- 
http://had.co.nz/


From h.wickham at gmail.com  Fri Apr 25 16:18:34 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 25 Apr 2008 09:18:34 -0500
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <4811D298.4030102@biostat.ku.dk>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca> <4811D298.4030102@biostat.ku.dk>
Message-ID: <f8e6ff050804250718u6cc654cboe02f3071c6d9cb24@mail.gmail.com>

On Fri, Apr 25, 2008 at 7:46 AM, Peter Dalgaard
<P.Dalgaard at biostat.ku.dk> wrote:
> Duncan Murdoch wrote:
>  > I haven't done it, but I suspect we could introduce special behaviour
>  > for ??foo very easily.  We could even have a whole hierarchy:
>  >
>  > ?foo, ??foo, ???foo, ????foo, ...
>  >
>  >
>  Heh, that's rather nice, actually. In words, that could read
>
>  ?foo: tell me about foo!
>  ??foo: what can you tell me about foo?
>  ???foo: what can you tell me about things like foo?
>  ????foo: I don't know what I'm looking for but it might be something
>  related foo?

I like the idea, but why do not it automatically and then display the
results on a single page?  (i.e. list results in order of specificity)


Hadley


-- 
http://had.co.nz/


From h.wickham at gmail.com  Fri Apr 25 16:20:09 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 25 Apr 2008 09:20:09 -0500
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <4811E7AD.6090703@fhcrc.org>
References: <48110D8B.10300@stats.uwo.ca> <4811E7AD.6090703@fhcrc.org>
Message-ID: <f8e6ff050804250720i172151f2y3cc909c7ead78ee7@mail.gmail.com>

>   I would rather see that be one of the dyadic forms, say
>
>    site?foo
>
>   or
>    all?foo

I'd be interested to know how many R users are aware of the dyadic
form - I suspect it's very very few.

Hadley


-- 
http://had.co.nz/


From murdoch at stats.uwo.ca  Fri Apr 25 16:39:38 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 25 Apr 2008 10:39:38 -0400
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <f8e6ff050804250718u6cc654cboe02f3071c6d9cb24@mail.gmail.com>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>	
	<4811B9EC.3010701@stats.uwo.ca> <4811D298.4030102@biostat.ku.dk>
	<f8e6ff050804250718u6cc654cboe02f3071c6d9cb24@mail.gmail.com>
Message-ID: <4811ED2A.1070709@stats.uwo.ca>

On 4/25/2008 10:18 AM, hadley wickham wrote:
> On Fri, Apr 25, 2008 at 7:46 AM, Peter Dalgaard
> <P.Dalgaard at biostat.ku.dk> wrote:
>> Duncan Murdoch wrote:
>>  > I haven't done it, but I suspect we could introduce special behaviour
>>  > for ??foo very easily.  We could even have a whole hierarchy:
>>  >
>>  > ?foo, ??foo, ???foo, ????foo, ...
>>  >
>>  >
>>  Heh, that's rather nice, actually. In words, that could read
>>
>>  ?foo: tell me about foo!
>>  ??foo: what can you tell me about foo?
>>  ???foo: what can you tell me about things like foo?
>>  ????foo: I don't know what I'm looking for but it might be something
>>  related foo?
> 
> I like the idea, but why do not it automatically and then display the
> results on a single page?  (i.e. list results in order of specificity)

One reason not to do that is that in single-threaded R you are pretty 
much stuck until it is done.  Presumably the more specific search is 
quicker than the less specific one.  And even if we could act on results 
as soon as they were available, I think a lot of users would wait for 
the search to stop, so there'd be a perception that it was too slow.

One possible change to ?foo that would not be so painful for old-time 
users would be to try it under its current meaning first, and only fall 
back to a more general search if that fails.

Consistent with this idea would be something like the "I feel lucky" 
search on Google, i.e. ?foo would go immediately to the best match, 
while ??foo would present a list of possible matches.  This is not 
consistent with current behaviour, where ?foo will present a list if it 
matches two or more topics, but I think we can always rank one ahead of 
the other based on their ordering in the search list.  I don't know if 
it will be so easy to rank hits coming from help.search(), or from other 
searches that don't exist yet:  but maybe it doesn't matter.  If someone 
doesn't like what they get from ?foo, they can always try ??foo.

Duncan


From simon.urbanek at r-project.org  Fri Apr 25 16:41:19 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 25 Apr 2008 10:41:19 -0400
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <4811D298.4030102@biostat.ku.dk>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca> <4811D298.4030102@biostat.ku.dk>
Message-ID: <8CBFD83C-9EAE-443D-836B-03F3B14CA88F@r-project.org>


On Apr 25, 2008, at 8:46 AM, Peter Dalgaard wrote:

> Duncan Murdoch wrote:
>> I haven't done it, but I suspect we could introduce special behaviour
>> for ??foo very easily.  We could even have a whole hierarchy:
>>
>> ?foo, ??foo, ???foo, ????foo, ...
>>
>>
> Heh, that's rather nice, actually. In words, that could read
>
> ?foo: tell me about foo!
> ??foo: what can you tell me about foo?
> ???foo: what can you tell me about things like foo?
> ????foo: I don't know what I'm looking for but it might be something
> related foo?
>
> You do have to be careful about messing with ?, though. I think many
> people, including me, would pretty quickly go nuts if ?par suddenly
> didn't work the way we're used to.
>

I strongly agree with that.

One potential way out could be to offer some extended fall-back in  
case the man page doesn't exist. (I'm not sure I like that, either,  
but I could get used to it ;).)

I don't really have a problem with status quo and I think if you want  
proper advanced searches, you should be using (or implementing them)  
in the GUIs anyway. That is what the new users will be using (and  
looking for) in the first place. If they have to count the question  
marks instead, they won't know about it (although I like the idea for  
advanced users).

Cheers,
Simon

>


From murdoch at stats.uwo.ca  Fri Apr 25 16:44:53 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 25 Apr 2008 10:44:53 -0400
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <4811E7AD.6090703@fhcrc.org>
References: <48110D8B.10300@stats.uwo.ca> <4811E7AD.6090703@fhcrc.org>
Message-ID: <4811EE65.2070903@stats.uwo.ca>

On 4/25/2008 10:16 AM, Robert Gentleman wrote:
> 
> Duncan Murdoch wrote:
>> Currently ?foo does help("foo"), which looks for a man page with alias 
>> foo.  If foo happens to be a function call, it will do a bit more, so
>> 
>> ?mean(something)
>> 
>> will find the mean method for something if mean happens to be an S4 
>> generic.  There are also the type?foo variations, e.g. methods?foo, or 
>> package?foo.
>> 
>> I think these are all too limited.
>> 
>> The easiest search should be the most permissive.  Users should need to 
>> do extra work to limit their search to man pages, with exact matches, as 
>> ? does.
> 
>    While I like the idea, I don't really agree with the sentiment above. 
> I think that the easiest search should be the one that you want the 
> result of most often.
> And at least for me that is the man page for the function, so I can 
> check some detail; and it works pretty well.  I use site searches much 
> less frequently and would be happy to type more for them.

That's true.

What's your feeling about what should happen when ?foo fails?


> 
>> 
>> We don't currently have a general purpose search for "foo", or something 
>> like it.  We come close with RSiteSearch, and so possibly ?foo should 
>> mean RSiteSearch("foo"), but
>> there are problems with that: it can't limit itself to the current 
>> version of R, and it doesn't work when you're offline (or when 
>> search.r-project.org is down.)  We also have help.search("foo"), but it 
>> is too limited. I'd like to have a local search that looks through the 
>> man pages, manuals, FAQs, vignettes, DESCRIPTION files, etc., specific 
>> to the current R installation, and I think ? should be attached to that 
>> search.
> 
>   I think that would be very useful (although there will be some 
> decisions on which tool to use to achieve this). But, it will also be 
> problematic, as one will get tons of hits for some things, and then 
> selecting the one you really want will be a pain.
> 
>   I would rather see that be one of the dyadic forms, say
> 
>    site?foo
> 
>   or
>    all?foo
> 
>   one could even imagine refining that for different subsets of the docs 
> you have mentioned;
> 
>    help?foo #only man pages
>    guides?foo #the manuals, R Extensions etc
> 
> and so on.
> 
>    You did not, make a suggestion as to how we would get the equivalent 
> of ?foo now, if a decision to move were taken.

I didn't say, but I would assume there would be a way to do it, and it 
shouldn't be hard to invoke.  Maybe help?foo as you suggested, or man?foo.

Duncan Murdoch


From h.wickham at gmail.com  Fri Apr 25 16:52:37 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 25 Apr 2008 09:52:37 -0500
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <4811ED2A.1070709@stats.uwo.ca>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca> <4811D298.4030102@biostat.ku.dk>
	<f8e6ff050804250718u6cc654cboe02f3071c6d9cb24@mail.gmail.com>
	<4811ED2A.1070709@stats.uwo.ca>
Message-ID: <f8e6ff050804250752i589ac592j28aa42e2ce8acff@mail.gmail.com>

>  Consistent with this idea would be something like the "I feel lucky" search
> on Google, i.e. ?foo would go immediately to the best match, while ??foo
> would present a list of possible matches.  This is not consistent with
> current behaviour, where ?foo will present a list if it matches two or more
> topics, but I think we can always rank one ahead of the other based on their
> ordering in the search list.  I don't know if it will be so easy to rank
> hits coming from help.search(), or from other searches that don't exist yet:
> but maybe it doesn't matter.  If someone doesn't like what they get from
> ?foo, they can always try ??foo.

That seems like a good compromise to me - it's a metaphor familiar to
most people, and corresponds roughly to the current behaviour of help
and help.search.

Hadley

-- 
http://had.co.nz/


From murdoch at stats.uwo.ca  Fri Apr 25 16:57:16 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 25 Apr 2008 10:57:16 -0400
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <8CBFD83C-9EAE-443D-836B-03F3B14CA88F@r-project.org>
References: <48110D8B.10300@stats.uwo.ca>
	<48115131.7000402@comcast.net>	<4811B9EC.3010701@stats.uwo.ca>
	<4811D298.4030102@biostat.ku.dk>
	<8CBFD83C-9EAE-443D-836B-03F3B14CA88F@r-project.org>
Message-ID: <4811F14C.8030705@stats.uwo.ca>

On 4/25/2008 10:41 AM, Simon Urbanek wrote:
> On Apr 25, 2008, at 8:46 AM, Peter Dalgaard wrote:
> 
>> Duncan Murdoch wrote:
>>> I haven't done it, but I suspect we could introduce special behaviour
>>> for ??foo very easily.  We could even have a whole hierarchy:
>>>
>>> ?foo, ??foo, ???foo, ????foo, ...
>>>
>>>
>> Heh, that's rather nice, actually. In words, that could read
>>
>> ?foo: tell me about foo!
>> ??foo: what can you tell me about foo?
>> ???foo: what can you tell me about things like foo?
>> ????foo: I don't know what I'm looking for but it might be something
>> related foo?
>>
>> You do have to be careful about messing with ?, though. I think many
>> people, including me, would pretty quickly go nuts if ?par suddenly
>> didn't work the way we're used to.
>>
> 
> I strongly agree with that.
>
> One potential way out could be to offer some extended fall-back in  
> case the man page doesn't exist. (I'm not sure I like that, either,  
> but I could get used to it ;).)
> 
> I don't really have a problem with status quo and I think if you want  
> proper advanced searches, you should be using (or implementing them)  
> in the GUIs anyway. That is what the new users will be using (and  
> looking for) in the first place. If they have to count the question  
> marks instead, they won't know about it (although I like the idea for  
> advanced users).

I'd like to try to have the search common across all platforms, but the 
GUIs could present it and the results in their own way.

Duncan Murdoch


From marc_schwartz at comcast.net  Fri Apr 25 17:28:40 2008
From: marc_schwartz at comcast.net (Marc Schwartz)
Date: Fri, 25 Apr 2008 10:28:40 -0500
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <4811B9EC.3010701@stats.uwo.ca>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca>
Message-ID: <4811F8A8.1050108@comcast.net>

Duncan Murdoch wrote:
> Marc Schwartz wrote:
>> Duncan Murdoch wrote:
>>  
>>> Currently ?foo does help("foo"), which looks for a man page with 
>>> alias foo.  If foo happens to be a function call, it will do a bit 
>>> more, so
>>>
>>> ?mean(something)
>>>
>>> will find the mean method for something if mean happens to be an S4 
>>> generic.  There are also the type?foo variations, e.g. methods?foo, 
>>> or package?foo.
>>>
>>> I think these are all too limited.
>>>
>>> The easiest search should be the most permissive.  Users should need 
>>> to do extra work to limit their search to man pages, with exact 
>>> matches, as ? does.
>>>
>>> We don't currently have a general purpose search for "foo", or 
>>> something like it.  We come close with RSiteSearch, and so possibly 
>>> ?foo should mean RSiteSearch("foo"), but
>>> there are problems with that: it can't limit itself to the current 
>>> version of R, and it doesn't work when you're offline (or when 
>>> search.r-project.org is down.)  We also have help.search("foo"), but 
>>> it is too limited. I'd like to have a local search that looks through 
>>> the man pages, manuals, FAQs, vignettes, DESCRIPTION files, etc., 
>>> specific to the current R installation, and I think ? should be 
>>> attached to that search.
>>>
>>> Comments, please.
>>>
>>> Duncan Murdoch
>>>     
>>
>> Duncan,
>>
>> I agree in principle with the points that you raise. I suspect that at 
>> least in part, it might assist new users with some of the issues that 
>> were raised in the latest incarnation of the 'we need better 
>> documentation' thread on r-help.
>>
>> I am not convinced that ?foo should do this however. help("foo") 
>> conceptually seems predicated upon the notion that a user is looking 
>> for a reference/help page for a specific function or descriptor called 
>> 'foo'. The user knows the name of the function or descriptor ...
> 
> With the current definition, that's correct, though man("foo") might be 
> a better match to Unix-users expectations for a function that did that.  
> For a naive user, help("foo") suggests that they're looking for help on 
> "foo".

I agree that man("foo") would be consistent with looking for help with a 
known specific function. I also agree that Linux/Unix users would expect 
such behavior. However, I am not sure that Windows users would be so 
inclined. Certainly as a former Windows user and despite many years of 
programming experience in various environments, I would not, out of the 
gate, have instinctively known or thought about man("foo").

That is not to argue against moving in that direction however. In fact, 
as part of any future consolidation of the myriad help and search 
functions, it would make a great deal of sense that ?foo become an alias 
for man("foo") rather than help("foo").

Thus, the other help/search related functions could also consolidate 
around a mechanism with two key distinctions, that being local versus 
online sources.

>> ...  and should not have to wait for a search function to locate it or 
>> conceptually related terms.  If the user has a large number of CRAN 
>> packages installed, such a search can take a rather long time. That's 
>> an issue for example with help.search().
>>   
> 
> As Brian and Hadley said, that's an implementation issue, already being 
> addressed.

My comment there was more of an observation rather than a criticism and 
my apologies if it was taken as the latter. I think it is reasonable to 
expect, that if a useR has 1,300+ CRAN packages installed, that it is 
going to take longer to search that infrastructure, than if the useR 
only has a few.

I would want to have a reasonable expectation however, that if I used 
?t.test as opposed to help.search("t test"), the result would be 
forthcoming in a more efficient manner in the former case than in the 
latter. In the former case, I am typically looking for a specific 
function in a package that is in the search path. In the latter, I am 
searching for related terms/concepts in all installed packages, etc.

>> That being said and being a firm believer in incrementalism, perhaps 
>> the first step should be to create a new function, called esearch() 
>> [as in extended search] or doc.search() [as in documentation search] 
>> or even search.all(). This new function would facilitate searching all 
>> of the local objects that you list and perhaps others. It would by 
>> default be uber-inclusive of all categories of such objects. It would 
>> support functionality along the lines of help.search() in allowing for 
>> the use of regex and fuzzy matching via grep()/agrep().
>>   
> 
> Definitely there would need to be a new function, with a new name; if we 
> were attaching the name to ? somehow, then it wouldn't matter much what 
> name was used.
> 
> I haven't done it, but I suspect we could introduce special behaviour 
> for ??foo very easily.  We could even have a whole hierarchy:
> 
> ?foo, ??foo, ???foo, ????foo, ...

Conceptually, my initial reaction, which I think is consistent to an 
extent with the differentiation that Peter made in his reply, is 
positive, though as always, there is the risk of confusion.

 From the perspective of naive users and the KISS approach, I would tend 
to favor the basic distinction of:

1. ?foo or man("foo") - look for the man page for a known specific 
function in the current searchpath

2. help.search("foo") - look for conceptual links related to 'foo', with 
some appropriate wrappers that default to either local or online sources.


>> The downside of this approach is that we would add yet another search 
>> function to the list of those already available, each of which 
>> searches a focused subset of the potential targets for assistance, 
>> whether local or online. Thus, it would require some level of 
>> understanding of the general structure of the myriad of local and 
>> online resources of R related assistance.
>>   
> 
> Part of the idea behind my suggestion is that it should be somewhat 
> automatic for a new user to learn about the different types of help.  
> One way for this to happen is the current one:  expect them to find and 
> read the manuals.  The suggestion is to make it easier to find the 
> different types.  The risk of this is that exposing a new user to a wide 
> range of different kinds of results would just be confusing.

I will admit a little ambivalence here. Part of me thinks that a useR 
*should* at minimum, read "An Introduction to R" or at least be inclined 
to look there as their first resource. It does seem that there is some 
expectation from new users that they can just dive in and become 
productive with R immediately, whether or not they have prior 
programming experience and whether or not they have experience with 
other statistical applications. In fact, there is an argument to be made 
that such prior experience can bias their expectations and frame of 
reference.

Reading "Intro" can assist them in beginning to understand the 
conceptual differences in R as compared to these other environments, 
such as methods, vectorized functions, object structures and accessor 
functions, etc.

If a user has found and knows how to use lm() and construct model 
formulae for example, why is it that they don't know about coef(), 
effects(), fitted(), etc. when these are listed on the help page for lm?

They didn't read far enough or they skipped right over the See Also 
section to the examples?

The first instinct has become to post to r-help (as just happened), 
rather than use the phenomenal resources that this community has already 
made available.

So rather than taking a little time to read a bit more, and in the long 
run, save themselves time from posting and waiting for a reply, they 
default to posting.

It is interesting to note that by users doing this, they are in effect 
providing substantive praise to this community and the support provided 
by the lists, in that they have come to expect a pretty rapid response 
from the community 24x7. I suspect that the volume of certain categories 
of e-mails might be quite different if the typical response time on the 
lists was hours rather than minutes...

The first presumption of a useR should be that the available 
documentation might cover these issues or that there is a reasonable 
possibility that somebody else has likely already asked the same 
question and thus if I don't find the answer in "Intro", I should then 
consider searching the list archives.

These are the issues that are covered in the Posting Guide, which 
clearly many don't utilize either.

So, that being the case, how do we provide a conceptual framework for 
seeking assistance in using R and how do we behaviorally modify useRs to 
actually utilize those resources to their own benefit?

I am not looking to solve 100% of the needs, but again within the notion 
of incrementalism and Pareto's 80/20 Rule, how do we address a 
reasonable majority of the needs. How do we get the biggest bang for the 
the investment of time.

>> Perhaps ?help could be augmented a bit in elucidating some of these 
>> issues. The See Also there does not reference apropos() for example 
>> and it might be worthwhile adding something along the lines of the 
>> bullets in the "Do your homework before posting" section in the 
>> Posting Guide. Thus ?help can become something of a "first place to 
>> look - local centralized help resource" for users to identify the 
>> tiered help resources that are available and to also provide a 
>> framework for how to use those resources. One could also have links to 
>> the online pages for R News, R Books, the R Wiki, the R Graph Gallery, 
>> Contributed Documentation, Bioconductor and Other Documentation, so 
>> that users become more aware of help resources beyond the 
>> documentation installed with R by default.
>>   
> 
> Those are probably good ideas, but my guess would be that few users read 
> ?help.

As I note above, somehow we need to get users to look to a central 
resource that is platform independent. That resource should include some 
type of overview of the local and online help resources that are 
available for R, and perhaps a suggested hierarchy of use.

It seems logical to me that such a resource be embedded up front in 
"Intro" with it also being included within the existing help system and 
referenced in the start up banner message.

>> A longer term plan could be to look to consolidate some of these 
>> functions into a single help/search function perhaps circa R version 
>> 3.0.0. That would enable some time for thoughtful consideration and 
>> feedback.
>>   
> 
> As all the recent bug reports show, we don't really get feedback until 
> code is released, so there's not much of an advantage of 3.0.0 (unless 
> we really break the current system) over 2.8.0.

Good point.

Regards,

Marc


From h.wickham at gmail.com  Fri Apr 25 17:31:43 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Fri, 25 Apr 2008 10:31:43 -0500
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <4811F8A8.1050108@comcast.net>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca> <4811F8A8.1050108@comcast.net>
Message-ID: <f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>

>  It seems logical to me that such a resource be embedded up front in "Intro"
> with it also being included within the existing help system and referenced
> in the start up banner message.

That would help if anyone actually read the startup banner.  The next
time you're in front of an audience of people who have been using R
for a couple of weeks, ask them how to cite R.

Hadley


-- 
http://had.co.nz/


From rgentlem at fhcrc.org  Fri Apr 25 17:55:46 2008
From: rgentlem at fhcrc.org (Robert Gentleman)
Date: Fri, 25 Apr 2008 08:55:46 -0700
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <4811EE65.2070903@stats.uwo.ca>
References: <48110D8B.10300@stats.uwo.ca> <4811E7AD.6090703@fhcrc.org>
	<4811EE65.2070903@stats.uwo.ca>
Message-ID: <4811FF02.8020704@fhcrc.org>



Duncan Murdoch wrote:
> On 4/25/2008 10:16 AM, Robert Gentleman wrote:
>>
>> Duncan Murdoch wrote:
>>> Currently ?foo does help("foo"), which looks for a man page with 
>>> alias foo.  If foo happens to be a function call, it will do a bit 
>>> more, so
>>>
>>> ?mean(something)
>>>
>>> will find the mean method for something if mean happens to be an S4 
>>> generic.  There are also the type?foo variations, e.g. methods?foo, 
>>> or package?foo.
>>>
>>> I think these are all too limited.
>>>
>>> The easiest search should be the most permissive.  Users should need 
>>> to do extra work to limit their search to man pages, with exact 
>>> matches, as ? does.
>>
>>    While I like the idea, I don't really agree with the sentiment 
>> above. I think that the easiest search should be the one that you want 
>> the result of most often.
>> And at least for me that is the man page for the function, so I can 
>> check some detail; and it works pretty well.  I use site searches much 
>> less frequently and would be happy to type more for them.
> 
> That's true.
> 
> What's your feeling about what should happen when ?foo fails?

   present of list of man pages with spellings close to foo (we have the 
tools to do this in many places right now, and it would be a great help, 
IMHO, as spellings and capitalization behavior varies both between and 
within individuals), so the user can select one

> 
> 
>>
>>>
>>> We don't currently have a general purpose search for "foo", or 
>>> something like it.  We come close with RSiteSearch, and so possibly 
>>> ?foo should mean RSiteSearch("foo"), but
>>> there are problems with that: it can't limit itself to the current 
>>> version of R, and it doesn't work when you're offline (or when 
>>> search.r-project.org is down.)  We also have help.search("foo"), but 
>>> it is too limited. I'd like to have a local search that looks through 
>>> the man pages, manuals, FAQs, vignettes, DESCRIPTION files, etc., 
>>> specific to the current R installation, and I think ? should be 
>>> attached to that search.
>>
>>   I think that would be very useful (although there will be some 
>> decisions on which tool to use to achieve this). But, it will also be 
>> problematic, as one will get tons of hits for some things, and then 
>> selecting the one you really want will be a pain.
>>
>>   I would rather see that be one of the dyadic forms, say
>>
>>    site?foo
>>
>>   or
>>    all?foo
>>
>>   one could even imagine refining that for different subsets of the 
>> docs you have mentioned;
>>
>>    help?foo #only man pages
>>    guides?foo #the manuals, R Extensions etc
>>
>> and so on.
>>
>>    You did not, make a suggestion as to how we would get the 
>> equivalent of ?foo now, if a decision to move were taken.
> 
> I didn't say, but I would assume there would be a way to do it, and it 
> shouldn't be hard to invoke.  Maybe help?foo as you suggested, or man?foo.

   If not then I would be strongly opposed -- I really think we want to 
make the most common thing the easiest to do.  And if we really think 
that might be different for different people, then disambiguate the 
"short-cut", ? in this case, from the command so that users have some 
freedom to customize, would be my favored alternative.

   I also wonder if one could not also provide some mechanism to provide 
distinct information on what is local vs what is on the internet. 
Something that would make tools like spotlight much more valuable, IMHO, 
is to tell me what I have on my computer, and what I can get, if I want 
to; at least as some form of option.


   Robert

> 
> Duncan Murdoch
> 

-- 
Robert Gentleman, PhD
Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M2-B876
PO Box 19024
Seattle, Washington 98109-1024
206-667-7700
rgentlem at fhcrc.org


From marc_schwartz at comcast.net  Fri Apr 25 18:11:16 2008
From: marc_schwartz at comcast.net (Marc Schwartz)
Date: Fri, 25 Apr 2008 11:11:16 -0500
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>
References: <48110D8B.10300@stats.uwo.ca>
	<48115131.7000402@comcast.net>	<4811B9EC.3010701@stats.uwo.ca>
	<4811F8A8.1050108@comcast.net>
	<f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>
Message-ID: <481202A4.2030508@comcast.net>

hadley wickham wrote:
>>  It seems logical to me that such a resource be embedded up front in "Intro"
>> with it also being included within the existing help system and referenced
>> in the start up banner message.
> 
> That would help if anyone actually read the startup banner.  The next
> time you're in front of an audience of people who have been using R
> for a couple of weeks, ask them how to cite R.
> 
> Hadley

That might be supportive of having the startup banner be nothing more 
than a version/copyright notice and then leave you at a '>" prompt.

I am open to the notion however, that some do read it, perhaps less so 
over time as they just want to get to the prompt and effectively become 
oblivious to the banner.

Of course, it ('citation()') is also referenced in the main R FAQ...

Marc


From deepayan.sarkar at gmail.com  Fri Apr 25 19:54:25 2008
From: deepayan.sarkar at gmail.com (Deepayan Sarkar)
Date: Fri, 25 Apr 2008 10:54:25 -0700
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <481202A4.2030508@comcast.net>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca> <4811F8A8.1050108@comcast.net>
	<f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>
	<481202A4.2030508@comcast.net>
Message-ID: <eb555e660804251054kaabb1c4r237007ff5703ca5f@mail.gmail.com>

For what it's worth, I use ?foo mostly to look up usage of functions
that I know I want to use, and find it perfect for that (one benefit
over help() is that completion works for ?). The only thing I miss is
the ability to do the equivalent of help("foo", package = "bar");
?bar::foo gives the help page for "::". Perhaps that would be
something to consider for addition.

-Deepayan


From jfox at mcmaster.ca  Fri Apr 25 20:23:46 2008
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 25 Apr 2008 14:23:46 -0400
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <eb555e660804251054kaabb1c4r237007ff5703ca5f@mail.gmail.com>
References: <48110D8B.10300@stats.uwo.ca>
	<48115131.7000402@comcast.net>	<4811B9EC.3010701@stats.uwo.ca>
	<4811F8A8.1050108@comcast.net>	<f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>	<481202A4.2030508@comcast.net>
	<eb555e660804251054kaabb1c4r237007ff5703ca5f@mail.gmail.com>
Message-ID: <000f01c8a701$80247d20$806d7760$@ca>

Dear all,

Why not leave ? more-or-less as it is (at least for ?foo) and add arguments
to help() for other kinds of searches? Perhaps the kind of search that
help() does by default could be set as an option.

Regards,
 John

------------------------------
John Fox, Professor
Department of Sociology
McMaster University
Hamilton, Ontario, Canada
web: socserv.mcmaster.ca/jfox


> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
> project.org] On Behalf Of Deepayan Sarkar
> Sent: April-25-08 1:54 PM
> To: R-devel
> Subject: Re: [Rd] RFC: What should ?foo do?
> 
> For what it's worth, I use ?foo mostly to look up usage of functions
> that I know I want to use, and find it perfect for that (one benefit
> over help() is that completion works for ?). The only thing I miss is
> the ability to do the equivalent of help("foo", package = "bar");
> ?bar::foo gives the help page for "::". Perhaps that would be
> something to consider for addition.
> 
> -Deepayan
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Fri Apr 25 20:47:37 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Apr 2008 19:47:37 +0100 (BST)
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <eb555e660804251054kaabb1c4r237007ff5703ca5f@mail.gmail.com>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca> <4811F8A8.1050108@comcast.net>
	<f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>
	<481202A4.2030508@comcast.net>
	<eb555e660804251054kaabb1c4r237007ff5703ca5f@mail.gmail.com>
Message-ID: <alpine.LFD.1.10.0804251931290.23000@gannet.stats.ox.ac.uk>

On Fri, 25 Apr 2008, Deepayan Sarkar wrote:

> For what it's worth, I use ?foo mostly to look up usage of functions
> that I know I want to use, and find it perfect for that (one benefit
> over help() is that completion works for ?). The only thing I miss is
> the ability to do the equivalent of help("foo", package = "bar");
> ?bar::foo gives the help page for "::". Perhaps that would be
> something to consider for addition.

That fits most naturally with the (somewhat technical) idea that bar::foo 
becomes a symbol and not a function call.  I believe that several of think 
that is in principle a better idea, but no one has as yet (AFAIK) explored 
the ramifications.

However, 5 mins looking at the sources suggests that it is easy to do.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From vincent.goulet at act.ulaval.ca  Sat Apr 26 00:30:41 2008
From: vincent.goulet at act.ulaval.ca (Vincent Goulet)
Date: Fri, 25 Apr 2008 18:30:41 -0400
Subject: [Rd] r won't start: "r: symbol lookup error: r: undefined
	symbol: R_Visible" (PR#11265)
In-Reply-To: <18449.48101.353214.745021@ron.nulle.part>
References: <20080424182017.23D37282EFF8@mail.pubhealth.ku.dk>
	<18449.48101.353214.745021@ron.nulle.part>
Message-ID: <3746446A-08F6-4CA0-AD5E-A2E38975E382@act.ulaval.ca>

Le ven. 25 avr. ? 07:09, Dirk Eddelbuettel a ?crit :

>
> On 24 April 2008 at 20:20, jakobstoeger at gmx.de wrote:
> | Full_Name: Jakob Stoeger
> | Version: 2.7.0
> | OS: ubuntu 7.10
> | Submission from: (NULL) (137.248.74.38)
> |
> |
> | Hi!
> |
> | I hope, it is justified to write this email...
> | I'm relatively new to linux, and haven't worked with r, yet, so  
> please pardon
> | any things I do not know...
> |
> | I tried installing r on my computer, and didn't manage to get the  
> program
> | running.
> | After having installed littler, typing r into the bash results in  
> following
> | message:
> |
> | r: symbol lookup error: r: undefined symbol: R_Visible
>
> You need to rebuild littler ('r') against the new version of R ('R').
>
> I did that for Debian, looks like Ubuntu could do with it too.  Your R
> version was provided by volunteers outside of Ubuntu.
>
> Vincent: In a perfect world, could you rebuild littler and provide it?

I'm not convinced this was the problem (probably more the case issue  
raised by others), but heck, it was simple to build packages for  
littler. On their way to CRAN now.

*However*, I won't commit to always maintain this package for Ubuntu.  
Our general policy is to provide up-to-date binaries for the  
Recommended packages only.

HTH   Vincent

>
>
> Jakob: Barring a new littler you can apt-get, the easiest may be to  
> just
> uninstall littler and rebuild it locally so that thew R 2.7.0 is used.
> Ping me, or better still, the r-sig-debian list, with questions if  
> you have
> any.  You need to subscribe to r-sig-debian before you can post there.
>
> Lastly, if you only want or use R, use R :)  'r' is for scripting  
> and short
> command-line uses.
>
> Dirk
>
> PS  It is the same with RPy.
>
> | I found a bugreport here:
> | http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=418686
> | I'm not sure, if this has anything to do with it, as it concerns  
> rkward...
> |
> | Anyway, this information might come handy:
> | my system:
> | ubuntu 7.10
> | Kernel 2.6.22-14-generic
> | GNOME 2.20.1
> |
> | installed packages:
> | r-base 2.7.0-1gutsy0
> | r-base-core 2.7.1gutsy0
> | r-cran-cluster 1.11.10-1gutsy0
> | r-cran-boot 1.2.32-1gutsy0
> | r-cran-cluster 1.11.10-1gutsy0
> | r-cran-codetools 0.2-0-1gutsy0
> | r-cran-foreign 0.8.24-1gutsy0
> | r-cran-kernsmooth 2.22.22-1gutsy0
> | r-cran-lattice 0.17-6-1gutsy0
> | r-cran-mgcv 1.3-30-1gutsy0
> | r-cran-nlme 3.1.88-1gutsy0
> | r-cran-rpart 3.1.41-1gutsy0
> | r-cran-survival 2.34-1gutsy0
> | r-cran-vr 7.2.41-1gutsy0
> |
> | rkward 0.4.7a-1ubuntu1
> |
> | r-recommended 2.7.0-1gutsy0
> |
> |
> | I can't guarantee, that this list is complete, as I don't know  
> (yet), how to
> | check for it...
> |
> | Not really relevant, but I feel that I should tell you:
> |
> | The university at which I study used to use SPSS. Until this term,  
> from which on
> | we will officially use r. Yeah!
> |
> | So, I hope you can help me getting r working. If I can help by  
> doing anything,
> | please tell me how...
> | Also, I hope, this is a problem with r and not with my ubuntu, in  
> which case I
> | probably wouldn't have contacted you, if I would have known...
> |
> | Thank you very much!
> |
> | All the best,
> | Jakob
> |
> | ______________________________________________
> | R-devel at r-project.org mailing list
> | https://stat.ethz.ch/mailman/listinfo/r-devel
>
> -- 
> Three out of two people have difficulties with fractions.


From rdiaz02 at gmail.com  Sat Apr 26 02:23:44 2008
From: rdiaz02 at gmail.com (Ramon Diaz-Uriarte)
Date: Sat, 26 Apr 2008 02:23:44 +0200
Subject: [Rd] returning vectors of unknown size from C (with .C)
Message-ID: <624934630804251723n2e6b6345gc1678297e9412d34@mail.gmail.com>

Dear All,

In a package, I am using ".C" to call some C functions. In one case,
the number of elements of the return vectors are not known in R before
the C call. (Two of the vectors are integers, the third is vector of
character strings).

Passing from R a vector of the maximum possible size would be a huge
waste. I understand one alternative is to use ".Call", but I'd rather
avoid it if I can (all of the code seems working except for the return
of values into R). Another would be to write to a file from C and then
read that into R, but this looks very ugly. Are there any other
reasonable alternatives, or should I just use .Call?

Thanks,

R.



-- 
Ramon Diaz-Uriarte
Statistical Computing Team
Structural Biology and Biocomputing Programme
Spanish National Cancer Centre (CNIO)
http://ligarto.org/rdiaz


From murdoch at stats.uwo.ca  Sat Apr 26 03:19:25 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 25 Apr 2008 21:19:25 -0400
Subject: [Rd] returning vectors of unknown size from C (with .C)
In-Reply-To: <624934630804251723n2e6b6345gc1678297e9412d34@mail.gmail.com>
References: <624934630804251723n2e6b6345gc1678297e9412d34@mail.gmail.com>
Message-ID: <4812831D.5070100@stats.uwo.ca>

Ramon Diaz-Uriarte wrote:
> Dear All,
>
> In a package, I am using ".C" to call some C functions. In one case,
> the number of elements of the return vectors are not known in R before
> the C call. (Two of the vectors are integers, the third is vector of
> character strings).
>
> Passing from R a vector of the maximum possible size would be a huge
> waste. I understand one alternative is to use ".Call", but I'd rather
> avoid it if I can (all of the code seems working except for the return
> of values into R). Another would be to write to a file from C and then
> read that into R, but this looks very ugly. Are there any other
> reasonable alternatives, or should I just use .Call?
>   

.Call is usually easiest, but another possibility is to have two entry 
points:  one to calculate how much space you need, a second to pass in a 
vector that's the right size to hold the result.

Duncan Murdoch
> Thanks,
>
> R.
>
>
>
>


From ali.baharev at gmail.com  Fri Apr 25 16:15:15 2008
From: ali.baharev at gmail.com (ali.baharev at gmail.com)
Date: Fri, 25 Apr 2008 16:15:15 +0200 (CEST)
Subject: [Rd] remarks on function pnbeta (PR#11277)
Message-ID: <20080425141515.5D3432834613@mail.pubhealth.ku.dk>

Dear Developers,

The pnbeta function has been reviewed recently in the article of A.
Baharev, S. Kem=E9ny, On the computation of the noncentral F and
noncentral beta distribution, Statistics and Computing, 2008, in
press. Preprint of the paper is available here:

http://reliablecomputing.eu/publications.html

and the article here

http://dx.doi.org/10.1007/s11222-008-9061-3

I suggest increasing the itrmax to (at least) 2000, since practically
important values cannot be computed with the current value. For
example:

pnbeta(0.99992057, 25.0, 0.5, 34012.98, 1, 0);

needs 1649 iterations on my machine, and returns 0.0752037 instead of
the true value 0.100000. This is not a bug, i got a warning, however i
think it would be better to increase the iteration limit.

According to my experience the users tend to ignore warning messages
and would use the incorrect values that is why i think it would be
better if pnbeta called exit(EXIT_FAILURE) or throw an exception than
returning a completely incorrect value and let the user use that. This
is my personal opinion, i do not know more about the design and
application logic of R.

The source file pnbeta.c refers to the paper of Frick (1990, AS R84)
giving a FORTRAN implementation. That paper contains typos; those were
corrected by Lam (1995, AS R95). Lam also made some remarks that are
worth considering.

The R implementation is a revised C code, and it seems to me that the
pnbeta's implementation is not influenced by the typos in the paper of
Frick.
However it would be better to indicate that the pnbeta is a revised
implementation compared to AS 226 and AS R84, and is not influenced by
AS R95.

Cancellation may occur during the recursion in the do while loop, we
failed to produce an example using practically meaningful parameter
values where serious cancellation occurs. We suspect it may be an
issue where the corresponding probability is small (less then
1.0E-30).

We plan to contribute a C implementation of our algorithm where
cancellation cannot occur, and newton iteration for the noncentrality
parameter is included. The computation of the noncentrality parameter
is need for ANOVA purposes.

Best regards,

Ali Baharev


From bugreports at nn7.de  Fri Apr 25 21:55:09 2008
From: bugreports at nn7.de (bugreports at nn7.de)
Date: Fri, 25 Apr 2008 21:55:09 +0200 (CEST)
Subject: [Rd] Bug in R 2.7 for over long lines (crasher+proposed fix!)
	(PR#11281)
Message-ID: <20080425195509.5EFAF2834614@mail.pubhealth.ku.dk>

OK, I am just sending it here too as it looks like r-devel at r-project.org
is not the right place:

=EF=BB=BFOn Fri, 2008-04-25 at 08:48 +0200, Soeren Sonnenburg wrote:
> While trying to fix swig & R2.7 I actually discovered that there is a
> bug in R 2.7 causing a crash (so R & swig might actually work):
>=20
> the bug is in ./src/main/gram.c  line 3038:
>=20
>             } else { /* over-long line */
> fixthis --> char *LongLine =3D (char *) malloc(nc);
>             if(!LongLine)
>                 error(_("unable to allocate space for source line %
d"), xxlineno);
>             strncpy(LongLine, (char *)p0, nc);
>  bug -->    LongLine[nc] =3D '\0';
>             SET_STRING_ELT(source, lines++,
>                        mkChar2((char *)LongLine));
>             free(LongLine);
>=20
> note that LongLine is only nc chars long, so the LongLine[nc]=3D'\0'
might
> be an out of bounds write. the fix would be to do
>=20
> =EF=BB=BF            char *LongLine =3D (char *) malloc(nc+1);
>=20
> in line 3034
>=20
> Please fix and thanks to dirk for the debian r-base-dbg package!

Looking at the code again there seems to be another bug above this for
the MAXLINESIZE test too:

        if (*p =3D=3D '\n' || p =3D=3D end - 1) {
            nc =3D p - p0;
            if (*p !=3D '\n')
            nc++;
            if (nc <=3D MAXLINESIZE) {
            strncpy((char *)SourceLine, (char *)p0, nc);
bug2 -->    SourceLine[nc] =3D '\0';
            SET_STRING_ELT(source, lines++,
                       mkChar2((char *)SourceLine));
            } else { /* over-long line */
            char *LongLine =3D (char *) malloc(nc+1);
            if(!LongLine)
                error(_("unable to allocate space for source line %d"),
xxlineno);
bug1 -->    strncpy(LongLine, (char *)p0, nc);
            LongLine[nc] =3D '\0';
            SET_STRING_ELT(source, lines++,
                       mkChar2((char *)LongLine));
            free(LongLine);
            }
            p0 =3D p + 1;
        }


So I guess the test would be for nc < MAXLINESIZE above or to change
SourceLine to have MAXLINESIZE+1 size.

Alternatively as the strncpy manpage suggests do this for all
occurrences of strncpy

           strncpy(buf, str, n);
           if (n > 0)
               buf[n - 1]=3D =E2=80=99\0=E2=80=99;

this could even be made a makro / helper function ...

And another update: This does fix the R+swig crasher for me (tested)!

Soeren


From ripley at stats.ox.ac.uk  Sat Apr 26 09:17:08 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 26 Apr 2008 08:17:08 +0100 (BST)
Subject: [Rd] Misuse of get(getOption("device"))() in packages
Message-ID: <alpine.LFD.1.10.0804251757290.17362@gannet.stats.ox.ac.uk>

Quite a few packages have used this construct to launch a device, but it 
has several flaws.  It's not clear in most cases that a package really 
needs to launch a new device (R will do so if needed), but 2.7.0 provides 
a function dev.new() to do so.  (If you really need this in a GPL-ed 
package that must run in R < 2.7.0, consider copying dev.new.)

You cannot assume any arguments for the default device, and lines like

   get(getOption("device"))(width=8,height=8)

may throw an error or give you an 8x8 pixel device.  Even worse is

   get(getOption("device"))(8, 8)

as for e.g. X11() and quartz() the first argument is not a dimension, and

   get(getOption("device"))(width=3.55,height=3.55,rescale="fixed")

applies to just one device (and this user at least does not want to get 
his magnifying glass out to examine plots forced into 6% of his screen 
area).

It is better to adapt your plots to the user's environment than to attempt 
to adapt his/her environment to your plots.  (dev.size(), also new in 
2.7.0, may help you do so.)


The more important flaws are:

1) As from R 2.5.0, options("device") can be a character string or a 
function.  If the latter, this construct does not work.

2) ?options carefully describes the search path for the device if 
specified by name.  get() in a package will not do the same thing, and is 
more likely to pick up another object of the same name.

3) What most of these packages do is to open another device when one is 
already open.  If there is no screen device, this can be disastrous as 
e.g. there may already be a pdf() device open that is writing to 
Rplots.pdf, and  get(getOption("device))() will start another pdf() device 
writing to Rplots.pdf: the result is almost certainly a corrupt PDF file.

The intention is that in R 2.8.0 the out-of-the-box default devices will 
all be functions, so point 1 will apply.  (dev.new will be more 
sophisticated there.)  Many of the packages concerned are now showing 
ERROR in the 'r-devel Linux x86_64' section of

http://cran.r-project.org/web/checks/check_summary.html


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From p.dalgaard at biostat.ku.dk  Sat Apr 26 09:38:53 2008
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sat, 26 Apr 2008 09:38:53 +0200
Subject: [Rd] Bug in R 2.7 for over long lines (crasher+proposed fix!)
 (PR#11281)
In-Reply-To: <20080425195509.5EFAF2834614@mail.pubhealth.ku.dk>
References: <20080425195509.5EFAF2834614@mail.pubhealth.ku.dk>
Message-ID: <4812DC0D.90800@biostat.ku.dk>

bugreports at nn7.de wrote:
> OK, I am just sending it here too as it looks like r-devel at r-project.org
> is not the right place:
>   
I think it was seen there too, just that noone got around to reply. In 
R-bugs, there's a filing system so that it won't be completely forgotten...

However, your mail seems to have gotten encoded in quoted-printable, you 
might want to follow up with a cleaned version. (Just keep the  
(PR#11281) in the header).
> =EF=BB=BFOn Fri, 2008-04-25 at 08:48 +0200, Soeren Sonnenburg wrote:
>   
>> While trying to fix swig & R2.7 I actually discovered that there is a
>> bug in R 2.7 causing a crash (so R & swig might actually work):
>> =20
>> the bug is in ./src/main/gram.c  line 3038:
>> =20
>>             } else { /* over-long line */
>> fixthis --> char *LongLine =3D (char *) malloc(nc);
>>             if(!LongLine)
>>                 error(_("unable to allocate space for source line %
>>     
> d"), xxlineno);
>   
>>             strncpy(LongLine, (char *)p0, nc);
>>  bug -->    LongLine[nc] =3D '\0';
>>             SET_STRING_ELT(source, lines++,
>>                        mkChar2((char *)LongLine));
>>             free(LongLine);
>> =20
>> note that LongLine is only nc chars long, so the LongLine[nc]=3D'\0'
>>     
> might
>   
>> be an out of bounds write. the fix would be to do
>> =20
>> =EF=BB=BF            char *LongLine =3D (char *) malloc(nc+1);
>> =20
>> in line 3034
>> =20
>> Please fix and thanks to dirk for the debian r-base-dbg package!
>>     
>
> Looking at the code again there seems to be another bug above this for
> the MAXLINESIZE test too:
>
>         if (*p =3D=3D '\n' || p =3D=3D end - 1) {
>             nc =3D p - p0;
>             if (*p !=3D '\n')
>             nc++;
>             if (nc <=3D MAXLINESIZE) {
>             strncpy((char *)SourceLine, (char *)p0, nc);
> bug2 -->    SourceLine[nc] =3D '\0';
>             SET_STRING_ELT(source, lines++,
>                        mkChar2((char *)SourceLine));
>             } else { /* over-long line */
>             char *LongLine =3D (char *) malloc(nc+1);
>             if(!LongLine)
>                 error(_("unable to allocate space for source line %d"),
> xxlineno);
> bug1 -->    strncpy(LongLine, (char *)p0, nc);
>             LongLine[nc] =3D '\0';
>             SET_STRING_ELT(source, lines++,
>                        mkChar2((char *)LongLine));
>             free(LongLine);
>             }
>             p0 =3D p + 1;
>         }
>
>
> So I guess the test would be for nc < MAXLINESIZE above or to change
> SourceLine to have MAXLINESIZE+1 size.
>
> Alternatively as the strncpy manpage suggests do this for all
> occurrences of strncpy
>
>            strncpy(buf, str, n);
>            if (n > 0)
>                buf[n - 1]=3D =E2=80=99\0=E2=80=99;
>
> this could even be made a makro / helper function ...
>
> And another update: This does fix the R+swig crasher for me (tested)!
>
> Soeren
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>   


-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From p.dalgaard at biostat.ku.dk  Sat Apr 26 09:40:10 2008
From: p.dalgaard at biostat.ku.dk (p.dalgaard at biostat.ku.dk)
Date: Sat, 26 Apr 2008 09:40:10 +0200 (CEST)
Subject: [Rd] Bug in R 2.7 for over long lines (crasher+proposed fix!)
	(PR#11284)
Message-ID: <20080426074010.1C347282EFF0@mail.pubhealth.ku.dk>

bugreports at nn7.de wrote:
> OK, I am just sending it here too as it looks like r-devel at r-project.or=
g
> is not the right place:
>  =20
I think it was seen there too, just that noone got around to reply. In=20
R-bugs, there's a filing system so that it won't be completely forgotten.=
=2E.

However, your mail seems to have gotten encoded in quoted-printable, you =

might want to follow up with a cleaned version. (Just keep the =20
(PR#11281) in the header).
> =3DEF=3DBB=3DBFOn Fri, 2008-04-25 at 08:48 +0200, Soeren Sonnenburg wro=
te:
>  =20
>> While trying to fix swig & R2.7 I actually discovered that there is a
>> bug in R 2.7 causing a crash (so R & swig might actually work):
>> =3D20
>> the bug is in ./src/main/gram.c  line 3038:
>> =3D20
>>             } else { /* over-long line */
>> fixthis --> char *LongLine =3D3D (char *) malloc(nc);
>>             if(!LongLine)
>>                 error(_("unable to allocate space for source line %
>>    =20
> d"), xxlineno);
>  =20
>>             strncpy(LongLine, (char *)p0, nc);
>>  bug -->    LongLine[nc] =3D3D '\0';
>>             SET_STRING_ELT(source, lines++,
>>                        mkChar2((char *)LongLine));
>>             free(LongLine);
>> =3D20
>> note that LongLine is only nc chars long, so the LongLine[nc]=3D3D'\0'=

>>    =20
> might
>  =20
>> be an out of bounds write. the fix would be to do
>> =3D20
>> =3DEF=3DBB=3DBF            char *LongLine =3D3D (char *) malloc(nc+1);=

>> =3D20
>> in line 3034
>> =3D20
>> Please fix and thanks to dirk for the debian r-base-dbg package!
>>    =20
>
> Looking at the code again there seems to be another bug above this for
> the MAXLINESIZE test too:
>
>         if (*p =3D3D=3D3D '\n' || p =3D3D=3D3D end - 1) {
>             nc =3D3D p - p0;
>             if (*p !=3D3D '\n')
>             nc++;
>             if (nc <=3D3D MAXLINESIZE) {
>             strncpy((char *)SourceLine, (char *)p0, nc);
> bug2 -->    SourceLine[nc] =3D3D '\0';
>             SET_STRING_ELT(source, lines++,
>                        mkChar2((char *)SourceLine));
>             } else { /* over-long line */
>             char *LongLine =3D3D (char *) malloc(nc+1);
>             if(!LongLine)
>                 error(_("unable to allocate space for source line %d"),=

> xxlineno);
> bug1 -->    strncpy(LongLine, (char *)p0, nc);
>             LongLine[nc] =3D3D '\0';
>             SET_STRING_ELT(source, lines++,
>                        mkChar2((char *)LongLine));
>             free(LongLine);
>             }
>             p0 =3D3D p + 1;
>         }
>
>
> So I guess the test would be for nc < MAXLINESIZE above or to change
> SourceLine to have MAXLINESIZE+1 size.
>
> Alternatively as the strncpy manpage suggests do this for all
> occurrences of strncpy
>
>            strncpy(buf, str, n);
>            if (n > 0)
>                buf[n - 1]=3D3D =3DE2=3D80=3D99\0=3DE2=3D80=3D99;
>
> this could even be made a makro / helper function ...
>
> And another update: This does fix the R+swig crasher for me (tested)!
>
> Soeren
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>  =20


--=20
   O__  ---- Peter Dalgaard             =D8ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From rdiaz02 at gmail.com  Sat Apr 26 11:32:38 2008
From: rdiaz02 at gmail.com (Ramon Diaz-Uriarte)
Date: Sat, 26 Apr 2008 11:32:38 +0200
Subject: [Rd] returning vectors of unknown size from C (with .C)
In-Reply-To: <4812831D.5070100@stats.uwo.ca>
References: <624934630804251723n2e6b6345gc1678297e9412d34@mail.gmail.com>
	<4812831D.5070100@stats.uwo.ca>
Message-ID: <624934630804260232h4afee17ckfbb1ecc0c88112d4@mail.gmail.com>

On Sat, Apr 26, 2008 at 3:19 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> Ramon Diaz-Uriarte wrote:
>
> > Dear All,
> >
> > In a package, I am using ".C" to call some C functions. In one case,
> > the number of elements of the return vectors are not known in R before
> > the C call. (Two of the vectors are integers, the third is vector of
> > character strings).
> >
> > Passing from R a vector of the maximum possible size would be a huge
> > waste. I understand one alternative is to use ".Call", but I'd rather
> > avoid it if I can (all of the code seems working except for the return
> > of values into R). Another would be to write to a file from C and then
> > read that into R, but this looks very ugly. Are there any other
> > reasonable alternatives, or should I just use .Call?
> >
> >
>
>  .Call is usually easiest, but another possibility is to have two entry
> points:  one to calculate how much space you need, a second to pass in a
> vector that's the right size to hold the result.
>


You mean making two successive calls to the C code? The problem is
that the size of the result is not known until the result is obtained
(in my C code, the underlying structure is a linked list that gets
stretched as needed as the computation proceeds). So I would not know
"where to leave the result from C" in between the two calls to C.

Best,

R.




>  Duncan Murdoch
>
> > Thanks,
> >
> > R.
> >
> >
> >
> >
> >
>
>



-- 
Ramon Diaz-Uriarte
Statistical Computing Team
Structural Biology and Biocomputing Programme
Spanish National Cancer Centre (CNIO)
http://ligarto.org/rdiaz


From ripley at stats.ox.ac.uk  Sat Apr 26 11:38:18 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 26 Apr 2008 10:38:18 +0100 (BST)
Subject: [Rd] returning vectors of unknown size from C (with .C)
In-Reply-To: <624934630804260232h4afee17ckfbb1ecc0c88112d4@mail.gmail.com>
References: <624934630804251723n2e6b6345gc1678297e9412d34@mail.gmail.com>
	<4812831D.5070100@stats.uwo.ca>
	<624934630804260232h4afee17ckfbb1ecc0c88112d4@mail.gmail.com>
Message-ID: <alpine.LFD.1.10.0804261036370.14262@gannet.stats.ox.ac.uk>

On Sat, 26 Apr 2008, Ramon Diaz-Uriarte wrote:

> On Sat, Apr 26, 2008 at 3:19 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> Ramon Diaz-Uriarte wrote:
>>
>>> Dear All,
>>>
>>> In a package, I am using ".C" to call some C functions. In one case,
>>> the number of elements of the return vectors are not known in R before
>>> the C call. (Two of the vectors are integers, the third is vector of
>>> character strings).
>>>
>>> Passing from R a vector of the maximum possible size would be a huge
>>> waste. I understand one alternative is to use ".Call", but I'd rather
>>> avoid it if I can (all of the code seems working except for the return
>>> of values into R). Another would be to write to a file from C and then
>>> read that into R, but this looks very ugly. Are there any other
>>> reasonable alternatives, or should I just use .Call?
>>>
>>>
>>
>>  .Call is usually easiest, but another possibility is to have two entry
>> points:  one to calculate how much space you need, a second to pass in a
>> vector that's the right size to hold the result.
>>
>
>
> You mean making two successive calls to the C code? The problem is
> that the size of the result is not known until the result is obtained
> (in my C code, the underlying structure is a linked list that gets
> stretched as needed as the computation proceeds). So I would not know
> "where to leave the result from C" in between the two calls to C.

But that is possible (you malloc the memory for a local copy in the rist 
call), and rpart does something like it.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From rdiaz02 at gmail.com  Sat Apr 26 12:21:13 2008
From: rdiaz02 at gmail.com (Ramon Diaz-Uriarte)
Date: Sat, 26 Apr 2008 12:21:13 +0200
Subject: [Rd] returning vectors of unknown size from C (with .C)
In-Reply-To: <alpine.LFD.1.10.0804261036370.14262@gannet.stats.ox.ac.uk>
References: <624934630804251723n2e6b6345gc1678297e9412d34@mail.gmail.com>
	<4812831D.5070100@stats.uwo.ca>
	<624934630804260232h4afee17ckfbb1ecc0c88112d4@mail.gmail.com>
	<alpine.LFD.1.10.0804261036370.14262@gannet.stats.ox.ac.uk>
Message-ID: <624934630804260321o4fa13e65tf474295d908784b2@mail.gmail.com>

On Sat, Apr 26, 2008 at 11:38 AM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
> On Sat, 26 Apr 2008, Ramon Diaz-Uriarte wrote:
>
>
> > On Sat, Apr 26, 2008 at 3:19 AM, Duncan Murdoch <murdoch at stats.uwo.ca>
> wrote:
> >
> > > Ramon Diaz-Uriarte wrote:
> > >
> > >
> > > > Dear All,
> > > >
> > > > In a package, I am using ".C" to call some C functions. In one case,
> > > > the number of elements of the return vectors are not known in R before
> > > > the C call. (Two of the vectors are integers, the third is vector of
> > > > character strings).
> > > >
> > > > Passing from R a vector of the maximum possible size would be a huge
> > > > waste. I understand one alternative is to use ".Call", but I'd rather
> > > > avoid it if I can (all of the code seems working except for the return
> > > > of values into R). Another would be to write to a file from C and then
> > > > read that into R, but this looks very ugly. Are there any other
> > > > reasonable alternatives, or should I just use .Call?
> > > >
> > > >
> > > >
> > >
> > >  .Call is usually easiest, but another possibility is to have two entry
> > > points:  one to calculate how much space you need, a second to pass in a
> > > vector that's the right size to hold the result.
> > >
> > >
> >
> >
> > You mean making two successive calls to the C code? The problem is
> > that the size of the result is not known until the result is obtained
> > (in my C code, the underlying structure is a linked list that gets
> > stretched as needed as the computation proceeds). So I would not know
> > "where to leave the result from C" in between the two calls to C.
> >
>
>  But that is possible (you malloc the memory for a local copy in the rist
> call), and rpart does something like it.
>

Aha, thanks, I didn't know it was doable (or easy). I'll look at the
rpart code. One further question, though, what is "the rist call"?

Thanks,

R.


>
>  --
>  Brian D. Ripley,                  ripley at stats.ox.ac.uk
>  Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>  University of Oxford,             Tel:  +44 1865 272861 (self)
>  1 South Parks Road,                     +44 1865 272866 (PA)
>  Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>



-- 
Ramon Diaz-Uriarte
Statistical Computing Team
Structural Biology and Biocomputing Programme
Spanish National Cancer Centre (CNIO)
http://ligarto.org/rdiaz


From Rob.Hyndman at buseco.monash.edu.au  Sat Apr 26 14:46:28 2008
From: Rob.Hyndman at buseco.monash.edu.au (Rob Hyndman)
Date: Sat, 26 Apr 2008 22:46:28 +1000
Subject: [Rd] median methods
Message-ID: <905db6ff0804260546u5adf592cs190b914d09750ea9@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080426/1e3b3c0f/attachment.pl 

From dnadavenator at gmail.com  Sat Apr 26 22:17:32 2008
From: dnadavenator at gmail.com (David Henderson)
Date: Sat, 26 Apr 2008 13:17:32 -0700
Subject: [Rd] returning vectors of unknown size from C (with .C)
In-Reply-To: <624934630804260321o4fa13e65tf474295d908784b2@mail.gmail.com>
Message-ID: <C438DBEC.A0A6%DNADavenator@GMail.Com>

Hola Ramon!

>>  But that is possible (you malloc the memory for a local copy in the rist
>> call), and rpart does something like it.
>> 
> 
> Aha, thanks, I didn't know it was doable (or easy). I'll look at the
> rpart code. One further question, though, what is "the rist call"?

I think Brian meant to type "first call".

Thanks!!

Dave H
-- 
David Henderson, Ph.D.
1535 NW 51st ST
Seattle, WA 98107
206-794-8552
DNADave at GMail.Com


From ripley at stats.ox.ac.uk  Sat Apr 26 22:44:48 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 26 Apr 2008 21:44:48 +0100 (BST)
Subject: [Rd] median methods
In-Reply-To: <905db6ff0804260546u5adf592cs190b914d09750ea9@mail.gmail.com>
References: <905db6ff0804260546u5adf592cs190b914d09750ea9@mail.gmail.com>
Message-ID: <alpine.LFD.1.10.0804262134390.22028@gannet.stats.ox.ac.uk>

On Sat, 26 Apr 2008, Rob Hyndman wrote:

> Can we please have a ... argument in median() to make it possible to pass
> arguments to specific methods.

Not without a reasoned case -- see 'Writing R Extensions' as to why it is 
a non-trivial change that affects all existing methods (and there are 
some) -- also S4 setMethod("median") calls (which there are too).

There is also an argument as to where the ... should come -- probably

function (x, ..., na.rm = FALSE)

(but that could break some existing calls), and why should na.rm be on the 
generic as well (it is not for mean nor quantile, for example)?

So there have to be some pretty compelling arguments in favour.


> _____________________________
> Rob J Hyndman
> Professor of Statistics, Monash University
> Editor-in-Chief, International Journal of Forecasting
> http://www.robhyndman.info/
>
> 	[[alternative HTML version deleted]]

Hmm, we do explicitly ask you not to do send that.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch at stats.uwo.ca  Sat Apr 26 23:21:06 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 26 Apr 2008 17:21:06 -0400
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <alpine.LFD.1.10.0804251931290.23000@gannet.stats.ox.ac.uk>
References: <48110D8B.10300@stats.uwo.ca>
	<48115131.7000402@comcast.net>	<4811B9EC.3010701@stats.uwo.ca>
	<4811F8A8.1050108@comcast.net>	<f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>	<481202A4.2030508@comcast.net>	<eb555e660804251054kaabb1c4r237007ff5703ca5f@mail.gmail.com>
	<alpine.LFD.1.10.0804251931290.23000@gannet.stats.ox.ac.uk>
Message-ID: <48139CC2.8090801@stats.uwo.ca>

On 25/04/2008 2:47 PM, Prof Brian Ripley wrote:
> On Fri, 25 Apr 2008, Deepayan Sarkar wrote:
> 
>> For what it's worth, I use ?foo mostly to look up usage of functions
>> that I know I want to use, and find it perfect for that (one benefit
>> over help() is that completion works for ?). The only thing I miss is
>> the ability to do the equivalent of help("foo", package = "bar");
>> ?bar::foo gives the help page for "::". Perhaps that would be
>> something to consider for addition.
> 
> That fits most naturally with the (somewhat technical) idea that bar::foo 
> becomes a symbol and not a function call.  I believe that several of think 
> that is in principle a better idea, but no one has as yet (AFAIK) explored 
> the ramifications.
> 
> However, 5 mins looking at the sources suggests that it is easy to do.


And you already did.  Thanks!

I'm going to make the following change soon (in R-devel).

??foo

will now be like help.search("foo").  This will work with your change, 
so ??utils::foo will limit the search to the utils package.  This is 
also quite easy.  A more difficult thing I'd like to do is to broaden 
the search to look outside the man pages, but that's a lot harder, and I 
haven't started on it.

I will also follow Hadley's suggestion and change the format of the 
help.search results, so you can just cut and paste after a question mark 
to look up the particular topic, e.g.  ??foo gives

utils::citEntry         Writing Package CITATION Files

Type '?PKG::FOO' to inspect entry 'PKG::FOO TITLE'.

I haven't touched the case of ?foo failing; I'll want to try it for a 
while to decide whether I like it best as is:

 > ?foo
No documentation for 'foo' in specified packages and libraries:
you could try '??foo'

or whether it should just automatically call help.search, or something 
in between.

Duncan Murdoch


From Rob.Hyndman at buseco.monash.edu.au  Sun Apr 27 12:15:23 2008
From: Rob.Hyndman at buseco.monash.edu.au (Rob Hyndman)
Date: Sun, 27 Apr 2008 20:15:23 +1000
Subject: [Rd] median methods
In-Reply-To: <alpine.LFD.1.10.0804262134390.22028@gannet.stats.ox.ac.uk>
References: <905db6ff0804260546u5adf592cs190b914d09750ea9@mail.gmail.com>
	<alpine.LFD.1.10.0804262134390.22028@gannet.stats.ox.ac.uk>
Message-ID: <905db6ff0804270315j125d80b6y46338ce5dab10eee@mail.gmail.com>

Brian. The example I have in mind is for functional data where there
are several ways to define a median. For example, it can be defined as
the pointwise median of a set of functions {f_j(x); j=1,...,n}. Or it
can be defined as m(x) = arg min_{g(x)} \sum_j |g(x) - f_j(x)| dx. The
latter can be calculated using several different algorithms, one of
which is the Hossjer-Croux algorithm.  So I want to write a function
of the form

median.fd <- function(x, method=c("hossjer-croux","pointwise"))

where x is of class "fd" (functional data). Without a ... argument in
the generic median function, I can't do this.

There are no doubt other similar examples where an additional argument
(or more) is required.

Furthermore, this would make it consistent with mean() and quantile().

You can easily retain existing code by defining generic median as
median(x,...). Then if an na.rm argument is passed without name, it
will go through to median.default(x,na.rm) without a hitch.  It should
not affect existing methods since they must all have na.rm as a second
argument also.

So I am suggesting median(x, ...) which makes it more flexible for
method writers, and I don't think it causes a problem for existing
code.

Best wishes,
Rob



On 27/04/2008, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> On Sat, 26 Apr 2008, Rob Hyndman wrote:
>
>
> >  Can we please have a ... argument in median() to make it possible to pass
> >  arguments to specific methods.
> >
>
>  Not without a reasoned case -- see 'Writing R Extensions' as to why it is a non-trivial change that affects all existing methods (and there are some) -- also S4 setMethod("median") calls (which there are too).
>
>  There is also an argument as to where the ... should come -- probably
>
>  function (x, ..., na.rm = FALSE)
>
>  (but that could break some existing calls), and why should na.rm be on the generic as well (it is not for mean nor quantile, for example)?
>
>  So there have to be some pretty compelling arguments in favour.
>
>
>  --
>  Brian D. Ripley,                  ripley at stats.ox.ac.uk
>  Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>  University of Oxford,             Tel:  +44 1865 272861 (self)
>  1 South Parks Road,                     +44 1865 272866 (PA)
>  Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>



-- 
_____________________________
Rob J Hyndman
Professor of Statistics, Monash University
Editor-in-Chief, International Journal of Forecasting
http://www.robhyndman.info/


From pburns at pburns.seanet.com  Sun Apr 27 12:44:36 2008
From: pburns at pburns.seanet.com (Patrick Burns)
Date: Sun, 27 Apr 2008 11:44:36 +0100
Subject: [Rd] RFC:  What should ?foo do?
In-Reply-To: <4811D298.4030102@biostat.ku.dk>
References: <48110D8B.10300@stats.uwo.ca>
	<48115131.7000402@comcast.net>	<4811B9EC.3010701@stats.uwo.ca>
	<4811D298.4030102@biostat.ku.dk>
Message-ID: <48145914.8020909@pburns.seanet.com>

Peter Dalgaard wrote:
> Duncan Murdoch wrote:
>   
>> I haven't done it, but I suspect we could introduce special behaviour 
>> for ??foo very easily.  We could even have a whole hierarchy:
>>
>> ?foo, ??foo, ???foo, ????foo, ...
>>
>>   
>>     
> Heh, that's rather nice, actually. In words, that could read
>
> ?foo: tell me about foo!
> ??foo: what can you tell me about foo?
> ???foo: what can you tell me about things like foo?
> ????foo: I don't know what I'm looking for but it might be something
> related foo?
>   

I quite like this.  It seems very intuitive to me -- just match
the number of question marks to the level of my frustration.

Pat
> You do have to be careful about messing with ?, though. I think many
> people, including me, would pretty quickly go nuts if ?par suddenly
> didn't work the way we're used to.
>
>


From jmc at r-project.org  Sun Apr 27 19:12:12 2008
From: jmc at r-project.org (John Chambers)
Date: Sun, 27 Apr 2008 10:12:12 -0700
Subject: [Rd] S4 default for coercing
In-Reply-To: <18448.46897.891329.719240@stat.math.ethz.ch>
References: <480F4F41.3030806@bank-banque-canada.ca>
	<18448.46897.891329.719240@stat.math.ethz.ch>
Message-ID: <4814B3EC.3000400@r-project.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-devel/attachments/20080427/77efb127/attachment.pl 

From jholtman at gmail.com  Sun Apr 27 00:30:22 2008
From: jholtman at gmail.com (jholtman at gmail.com)
Date: Sun, 27 Apr 2008 00:30:22 +0200 (CEST)
Subject: [Rd] View functionhas problems going beyond 65536 rows (PR#11291)
Message-ID: <20080426223022.DE046282C786@mail.pubhealth.ku.dk>

Full_Name: jim holtman
Version: 2.7.0
OS: Winfows XP
Submission from: (NULL) (75.186.87.163)


I am using the "View" function to look at a data frame.  If the data has more
than 65535 rows in it, strange things happen.  You can reproduce the problem
with the following:

x <- 1:66000
View(x)

If you now take the scroll bar and move it to the end, you will see that the row
number is now 464 and the bar has jumped back to that location.

Now press the "End" and you will get to the end of the vector and the row number
does show up as 66000.  It appears there is some trucation happen when the value
gets to be more than 65535 rows when using the scroll bar.  You can move the
scroll bar to about 65000 and the "Page Down" will move the data to the last row
(66000).

This problem only seems to happen when using the scroll bar to move within the
data.


From p.c.j.kleiweg at rug.nl  Sun Apr 27 14:10:07 2008
From: p.c.j.kleiweg at rug.nl (p.c.j.kleiweg at rug.nl)
Date: Sun, 27 Apr 2008 14:10:07 +0200 (CEST)
Subject: [Rd] R_DEFAULT_DEVICE (PR#11294)
Message-ID: <20080427121007.D3AB1283460E@mail.pubhealth.ku.dk>


Setting enviroment variable R_DEFAULT_DEVICE causes an error. 
The patch below fixes this.

I guess the same goes for R_INTERACTIVE_DEVICE.


--- R-2.7.0/src/library/grDevices/R/zzz.R       2008-04-27 13:49:11.000000000 +0200
+++ R-2.7.0/src/library/grDevices/R/zzz.R.new   2008-04-27 13:59:37.000000000 +0200
@@ -22,7 +22,7 @@
     extras <- if(.Platform$OS.type == "windows")
         list(windowsTimeouts = c(100L,500L)) else
     list(bitmapType = if(capabilities("aqua")) "quartz" else if(capabilities("cairo")) "cairo" else "Xlib")
-    defdev <- Sys.getenv("R_DEFAULT_DEVICE")
+    defdev <- as.character(Sys.getenv("R_DEFAULT_DEVICE"))
     if(!nzchar(defdev)) defdev <- "pdf"
     device <- if(interactive()) {
         intdev <- Sys.getenv("R_INTERACTIVE_DEVICE")




--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 2
 minor = 7.0
 year = 2008
 month = 04
 day = 22
 svn rev = 45424
 language = R
 version.string = R version 2.7.0 (2008-04-22)

Locale:
LC_CTYPE=nl_NL at euro;LC_NUMERIC=C;LC_TIME=nl_NL at euro;LC_COLLATE=C;LC_MONETARY=C;LC_MESSAGES=nl_NL at euro;LC_PAPER=nl_NL at euro;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=nl_NL at euro;LC_IDENTIFICATION=C

Search Path:
 .GlobalEnv, package:stats, package:graphics, package:utils, package:datasets, package:grDevices, package:methods, Autoloads, package:base


From P.Dalgaard at biostat.ku.dk  Mon Apr 28 10:38:17 2008
From: P.Dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Mon, 28 Apr 2008 10:38:17 +0200
Subject: [Rd] R_DEFAULT_DEVICE (PR#11294)
In-Reply-To: <20080427121007.D3AB1283460E@mail.pubhealth.ku.dk>
References: <20080427121007.D3AB1283460E@mail.pubhealth.ku.dk>
Message-ID: <48158CF9.4020507@biostat.ku.dk>

p.c.j.kleiweg at rug.nl wrote:
> Setting enviroment variable R_DEFAULT_DEVICE causes an error. 
> The patch below fixes this.
>   
Probably, but it may not be the best fix, so please give your analysis
of the situation. Reproducible example and all that.

To do your homework for you, the issue seems to be this:

viggo:~/>R_INTERACTIVE_DEVICE=pdf ~/misc/r-release-branch/BUILD-dist/bin/R

R version 2.7.0 (2008-04-22)
....
> plot(0)
Error in plot.new() : no active or default device
> names(options())
 [1] "HTTPUserAgent"               "OutDec"
 [3] "add.smooth"                  "bitmapType"
 [5] "browser"                     "check.bounds"
 [7] "continue"                    "contrasts"
 [9] "defaultPackages"             "device.R_INTERACTIVE_DEVICE"

OBS!!!

[11] "device.ask.default"          "digits"
.....
[47] "useFancyQuotes"              "verbose"
[49] "warn"                        "warnings.length"
[51] "width"
>                 

> I guess the same goes for R_INTERACTIVE_DEVICE.
>
>
> --- R-2.7.0/src/library/grDevices/R/zzz.R       2008-04-27 13:49:11.000000000 +0200
> +++ R-2.7.0/src/library/grDevices/R/zzz.R.new   2008-04-27 13:59:37.000000000 +0200
> @@ -22,7 +22,7 @@
>      extras <- if(.Platform$OS.type == "windows")
>          list(windowsTimeouts = c(100L,500L)) else
>      list(bitmapType = if(capabilities("aqua")) "quartz" else if(capabilities("cairo")) "cairo" else "Xlib")
> -    defdev <- Sys.getenv("R_DEFAULT_DEVICE")
> +    defdev <- as.character(Sys.getenv("R_DEFAULT_DEVICE"))
>      if(!nzchar(defdev)) defdev <- "pdf"
>      device <- if(interactive()) {
>          intdev <- Sys.getenv("R_INTERACTIVE_DEVICE")
>
>
>
>
> --please do not edit the information below--
>
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status = 
>  major = 2
>  minor = 7.0
>  year = 2008
>  month = 04
>  day = 22
>  svn rev = 45424
>  language = R
>  version.string = R version 2.7.0 (2008-04-22)
>
> Locale:
> LC_CTYPE=nl_NL at euro;LC_NUMERIC=C;LC_TIME=nl_NL at euro;LC_COLLATE=C;LC_MONETARY=C;LC_MESSAGES=nl_NL at euro;LC_PAPER=nl_NL at euro;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=nl_NL at euro;LC_IDENTIFICATION=C
>
> Search Path:
>  .GlobalEnv, package:stats, package:graphics, package:utils, package:datasets, package:grDevices, package:methods, Autoloads, package:base
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>   


-- 
   O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
 (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From ripley at stats.ox.ac.uk  Mon Apr 28 10:55:13 2008
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Mon, 28 Apr 2008 10:55:13 +0200 (CEST)
Subject: [Rd] R_DEFAULT_DEVICE (PR#11294)
Message-ID: <20080428085513.320D7282EF48@mail.pubhealth.ku.dk>

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.

--27464147-2109857085-1209372640=:16392
Content-Type: TEXT/PLAIN; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8BIT

It has already been changed in R-patched, though ....

On Mon, 28 Apr 2008, Peter Dalgaard wrote:

> p.c.j.kleiweg at rug.nl wrote:
>> Setting enviroment variable R_DEFAULT_DEVICE causes an error.
>> The patch below fixes this.
>>
> Probably, but it may not be the best fix, so please give your analysis
> of the situation. Reproducible example and all that.
>
> To do your homework for you, the issue seems to be this:
>
> viggo:~/>R_INTERACTIVE_DEVICE=pdf ~/misc/r-release-branch/BUILD-dist/bin/R
>
> R version 2.7.0 (2008-04-22)
> ....
>> plot(0)
> Error in plot.new() : no active or default device
>> names(options())
> [1] "HTTPUserAgent"               "OutDec"
> [3] "add.smooth"                  "bitmapType"
> [5] "browser"                     "check.bounds"
> [7] "continue"                    "contrasts"
> [9] "defaultPackages"             "device.R_INTERACTIVE_DEVICE"
>
> OBS!!!
>
> [11] "device.ask.default"          "digits"
> .....
> [47] "useFancyQuotes"              "verbose"
> [49] "warn"                        "warnings.length"
> [51] "width"
>>
>
>> I guess the same goes for R_INTERACTIVE_DEVICE.
>>
>>
>> --- R-2.7.0/src/library/grDevices/R/zzz.R       2008-04-27 13:49:11.000000000 +0200
>> +++ R-2.7.0/src/library/grDevices/R/zzz.R.new   2008-04-27 13:59:37.000000000 +0200
>> @@ -22,7 +22,7 @@
>>      extras <- if(.Platform$OS.type == "windows")
>>          list(windowsTimeouts = c(100L,500L)) else
>>      list(bitmapType = if(capabilities("aqua")) "quartz" else if(capabilities("cairo")) "cairo" else "Xlib")
>> -    defdev <- Sys.getenv("R_DEFAULT_DEVICE")
>> +    defdev <- as.character(Sys.getenv("R_DEFAULT_DEVICE"))
>>      if(!nzchar(defdev)) defdev <- "pdf"
>>      device <- if(interactive()) {
>>          intdev <- Sys.getenv("R_INTERACTIVE_DEVICE")
>>
>>
>>
>>
>> --please do not edit the information below--
>>
>> Version:
>>  platform = i686-pc-linux-gnu
>>  arch = i686
>>  os = linux-gnu
>>  system = i686, linux-gnu
>>  status =
>>  major = 2
>>  minor = 7.0
>>  year = 2008
>>  month = 04
>>  day = 22
>>  svn rev = 45424
>>  language = R
>>  version.string = R version 2.7.0 (2008-04-22)
>>
>> Locale:
>> LC_CTYPE=nl_NL at euro;LC_NUMERIC=C;LC_TIME=nl_NL at euro;LC_COLLATE=C;LC_MONETARY=C;LC_MESSAGES=nl_NL at euro;LC_PAPER=nl_NL at euro;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=nl_NL at euro;LC_IDENTIFICATION=C
>>
>> Search Path:
>>  .GlobalEnv, package:stats, package:graphics, package:utils, package:datasets, package:grDevices, package:methods, Autoloads, package:base
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>
>
> --
>   O__  ---- Peter Dalgaard             ??ster Farimagsgade 5, Entr.B
>  c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
> (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
--27464147-2109857085-1209372640=:16392--


From ripley at stats.ox.ac.uk  Mon Apr 28 10:55:29 2008
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Mon, 28 Apr 2008 10:55:29 +0200 (CEST)
Subject: [Rd] (PR#11291) View functionhas problems going beyond 65536
Message-ID: <20080428085529.5439A282EF48@mail.pubhealth.ku.dk>

This is specific to the scrollbar: paging/End work fine -- so the original 
subject list was seriously misleading.

It is a Windows limitation on scrollbars -- there was code to work around 
it, but it was not switched on  - will be in R-devel and R-patched 
shortly.

On Sun, 27 Apr 2008, jholtman at gmail.com wrote:

> Full_Name: jim holtman
> Version: 2.7.0
> OS: Winfows XP
> Submission from: (NULL) (75.186.87.163)
>
>
> I am using the "View" function to look at a data frame.  If the data has more
> than 65535 rows in it, strange things happen.  You can reproduce the problem
> with the following:
>
> x <- 1:66000
> View(x)
>
> If you now take the scroll bar and move it to the end, you will see that the row
> number is now 464 and the bar has jumped back to that location.
>
> Now press the "End" and you will get to the end of the vector and the row number
> does show up as 66000.  It appears there is some trucation happen when the value
> gets to be more than 65535 rows when using the scroll bar.  You can move the
> scroll bar to about 65000 and the "Page Down" will move the data to the last row
> (66000).
>
> This problem only seems to happen when using the scroll bar to move within the
> data.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jon.clayden at gmail.com  Mon Apr 28 12:00:10 2008
From: jon.clayden at gmail.com (Jon Clayden)
Date: Mon, 28 Apr 2008 11:00:10 +0100
Subject: [Rd] R 2.7.0, match() and strings containing \0 - bug?
Message-ID: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>

Hi,

A piece of my code that uses readBin() to read a certain file type is
behaving strangely with R 2.7.0. This seems to be because of a failure
to match() strings after using rawToChar() when the original was
terminated with a "\0" character. Direct equality testing with ==
still works as expected. I can reproduce this as follows:

> x <- "foo"
> y <- c(charToRaw("foo"),as.raw(0))
> z <- rawToChar(y)
> z==x
[1] TRUE
> z=="foo"
[1] TRUE
> z %in% c("foo","bar")
[1] FALSE
> z %in% c("foo","bar","foo\0")
[1] FALSE

But without the nul character it works fine:

> zz <- rawToChar(charToRaw("foo"))
> zz %in% c("foo","bar")
[1] TRUE

I don't see anything about this in the latest NEWS, but is this
expected behaviour? Or is it, as I suspect, a bug? This seems to be
new to R 2.7.0, as I said.

Regards,
Jon


From jon.clayden at gmail.com  Mon Apr 28 12:15:16 2008
From: jon.clayden at gmail.com (Jon Clayden)
Date: Mon, 28 Apr 2008 11:15:16 +0100
Subject: [Rd] R 2.7.0, match() and strings containing \0 - bug?
In-Reply-To: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>
References: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>
Message-ID: <68e086180804280315j55ec0018iaf3a67ab96570b0@mail.gmail.com>

Apologies for missing out the sessionInfo():

R version 2.7.0 (2008-04-22)
i386-apple-darwin8.10.1

locale:
en_GB.UTF-8/en_US.UTF-8/C/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


2008/4/28 Jon Clayden <jon.clayden at gmail.com>:
> Hi,
>
>  A piece of my code that uses readBin() to read a certain file type is
>  behaving strangely with R 2.7.0. This seems to be because of a failure
>  to match() strings after using rawToChar() when the original was
>  terminated with a "\0" character. Direct equality testing with ==
>  still works as expected. I can reproduce this as follows:
>
>  > x <- "foo"
>  > y <- c(charToRaw("foo"),as.raw(0))
>  > z <- rawToChar(y)
>  > z==x
>  [1] TRUE
>  > z=="foo"
>  [1] TRUE
>  > z %in% c("foo","bar")
>  [1] FALSE
>  > z %in% c("foo","bar","foo\0")
>  [1] FALSE
>
>  But without the nul character it works fine:
>
>  > zz <- rawToChar(charToRaw("foo"))
>  > zz %in% c("foo","bar")
>  [1] TRUE
>
>  I don't see anything about this in the latest NEWS, but is this
>  expected behaviour? Or is it, as I suspect, a bug? This seems to be
>  new to R 2.7.0, as I said.
>
>  Regards,
>  Jon
>


From ripley at stats.ox.ac.uk  Mon Apr 28 12:54:27 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 28 Apr 2008 11:54:27 +0100 (BST)
Subject: [Rd] R 2.7.0, match() and strings containing \0 - bug?
In-Reply-To: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>
References: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>
Message-ID: <alpine.LFD.1.10.0804281147120.3654@gannet.stats.ox.ac.uk>

On Mon, 28 Apr 2008, Jon Clayden wrote:

> Hi,
>
> A piece of my code that uses readBin() to read a certain file type is
> behaving strangely with R 2.7.0. This seems to be because of a failure
> to match() strings after using rawToChar() when the original was
> terminated with a "\0" character. Direct equality testing with ==
> still works as expected. I can reproduce this as follows:
>
>> x <- "foo"
>> y <- c(charToRaw("foo"),as.raw(0))
>> z <- rawToChar(y)
>> z==x
> [1] TRUE
>> z=="foo"
> [1] TRUE
>> z %in% c("foo","bar")
> [1] FALSE
>> z %in% c("foo","bar","foo\0")
> [1] FALSE
>
> But without the nul character it works fine:
>
>> zz <- rawToChar(charToRaw("foo"))
>> zz %in% c("foo","bar")
> [1] TRUE
>
> I don't see anything about this in the latest NEWS, but is this
> expected behaviour? Or is it, as I suspect, a bug? This seems to be
> new to R 2.7.0, as I said.

And so is the comment in ?match:

      Character inputs with embedded nul bytes will be truncated at the
      first nul.

The bug is in the documentation here -- this was intentional.

As support for embedded nuls in character strings is being removed in R 
2.8.0, you should not rely on this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jon.clayden at gmail.com  Mon Apr 28 13:21:53 2008
From: jon.clayden at gmail.com (Jon Clayden)
Date: Mon, 28 Apr 2008 12:21:53 +0100
Subject: [Rd] R 2.7.0, match() and strings containing \0 - bug?
In-Reply-To: <alpine.LFD.1.10.0804281147120.3654@gannet.stats.ox.ac.uk>
References: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>
	<alpine.LFD.1.10.0804281147120.3654@gannet.stats.ox.ac.uk>
Message-ID: <68e086180804280421w1bef4612kf1a0f8748c721e7e@mail.gmail.com>

2008/4/28 Prof Brian Ripley <ripley at stats.ox.ac.uk>:
>
> On Mon, 28 Apr 2008, Jon Clayden wrote:
>
>
> > Hi,
> >
> > A piece of my code that uses readBin() to read a certain file type is
> > behaving strangely with R 2.7.0. This seems to be because of a failure
> > to match() strings after using rawToChar() when the original was
> > terminated with a "\0" character. Direct equality testing with ==
> > still works as expected. I can reproduce this as follows:
> >
> >
> > > x <- "foo"
> > > y <- c(charToRaw("foo"),as.raw(0))
> > > z <- rawToChar(y)
> > > z==x
> > >
> > [1] TRUE
> >
> > > z=="foo"
> > >
> > [1] TRUE
> >
> > > z %in% c("foo","bar")
> > >
> > [1] FALSE
> >
> > > z %in% c("foo","bar","foo\0")
> > >
> > [1] FALSE
> >
> > But without the nul character it works fine:
> >
> >
> > > zz <- rawToChar(charToRaw("foo"))
> > > zz %in% c("foo","bar")
> > >
> > [1] TRUE
> >
> > I don't see anything about this in the latest NEWS, but is this
> > expected behaviour? Or is it, as I suspect, a bug? This seems to be
> > new to R 2.7.0, as I said.
> >
>
>  And so is the comment in ?match:
>
>      Character inputs with embedded nul bytes will be truncated at the
>      first nul.
>
>  The bug is in the documentation here -- this was intentional.
>
>  As support for embedded nuls in character strings is being removed in R
> 2.8.0, you should not rely on this.
>

Thanks for the reply, but I don't see why this should make the match
fail. If "foo\0" gets truncated to "foo", then surely there's no
question that match("foo\0","foo") should produce "1" (which it does
if you use the literals, but not if it came out of rawToChar)?

Also, ?'==' seems to contain a similar comment:

     When comparisons are made between character strings, parts of the
     strings after embedded 'nul' characters are ignored.

So why are the results different? I would expect 'z=="foo"' and 'z
%in% "foo"' to both return TRUE, but the second returns FALSE.

Jon


From jholtman at gmail.com  Mon Apr 28 11:40:12 2008
From: jholtman at gmail.com (jholtman at gmail.com)
Date: Mon, 28 Apr 2008 11:40:12 +0200 (CEST)
Subject: [Rd] (PR#11291) View functionhas problems going beyond 65536
	rows *using the scrollbar*
Message-ID: <20080428094012.17852282EF48@mail.pubhealth.ku.dk>

THanks for the response.  Sorry about the misleading subject line, but
I did say in the description that it only appears to happen with the
scroll bar and can understand if it is a limitation of Windows.
Probably left over from the days when Excel could only go to 65536
rows.

On Mon, Apr 28, 2008 at 4:53 AM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
> This is specific to the scrollbar: paging/End work fine -- so the original
> subject list was seriously misleading.
>
> It is a Windows limitation on scrollbars -- there was code to work around
> it, but it was not switched on  - will be in R-devel and R-patched shortly.
>
> On Sun, 27 Apr 2008, jholtman at gmail.com wrote:
>
> > Full_Name: jim holtman
> > Version: 2.7.0
> > OS: Winfows XP
> > Submission from: (NULL) (75.186.87.163)
> >
> >
> > I am using the "View" function to look at a data frame.  If the data has
> more
> > than 65535 rows in it, strange things happen.  You can reproduce the
> problem
> > with the following:
> >
> > x <- 1:66000
> > View(x)
> >
> > If you now take the scroll bar and move it to the end, you will see that
> the row
> > number is now 464 and the bar has jumped back to that location.
> >
> > Now press the "End" and you will get to the end of the vector and the row
> number
> > does show up as 66000.  It appears there is some trucation happen when the
> value
> > gets to be more than 65535 rows when using the scroll bar.  You can move
> the
> > scroll bar to about 65000 and the "Page Down" will move the data to the
> last row
> > (66000).
> >
> > This problem only seems to happen when using the scroll bar to move within
> the
> > data.
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>



-- 
Jim Holtman
Cincinnati, OH
+1 513 646 9390

What is the problem you are trying to solve?


From nelson.ana at gmail.com  Mon Apr 28 10:10:03 2008
From: nelson.ana at gmail.com (nelson.ana at gmail.com)
Date: Mon, 28 Apr 2008 10:10:03 +0200 (CEST)
Subject: [Rd] Small Visual Bug in R GUI Package Installer (PR#11317)
Message-ID: <20080428081003.6B007282EF48@mail.pubhealth.ku.dk>

Full_Name: Ana Nelson
Version: R 2.7.0 GUI 1.24 (5102)
OS: OSX 10.5.2
Submission from: (NULL) (87.198.253.138)


When you switch the Package Installer repository selection box to any of the 3
"local" options, i.e. install from "Local Package Directory", the "Install All"
button text becomes corrupted.

Screenshot is here:
http://skitch.com/ananelson/kmp6/r-package-installer


From nelson.ana at gmail.com  Mon Apr 28 11:10:04 2008
From: nelson.ana at gmail.com (nelson.ana at gmail.com)
Date: Mon, 28 Apr 2008 11:10:04 +0200 (CEST)
Subject: [Rd] OSX R GUI visual interface tweak (PR#11318)
Message-ID: <20080428091004.4262D2834154@mail.pubhealth.ku.dk>

Full_Name: Ana Nelson
Version: R 2.7.0 GUI 1.24 (5102)
OS: OSX 10.5.2
Submission from: (NULL) (213.94.201.89)


The R GUI close button has a solid circle. Screenshot is here:
http://skitch.com/ananelson/kmxj/r-console

On OSX this indicates that there are unsaved changes pending. Please see page
201 of the Apple Human Interface Guidelines (version 2008-03-11):

http://developer.apple.com/documentation/UserExperience/Conceptual/OSXHIGuidelines/OSXHIGuidelines.pdf

However, I never save my workspace on exiting R, therefore I don't really have
unsaved changes, so the "X" close button would be more appropriate.

I know this might seem like a very fussy request, but I actually find it very
distracting to think I have unsaved changes in a document, and every time I
glance and see the solid circle I have to stop and think and remind myself that
I don't. Apple has me so well trained! (sigh) I think it's because when I see a
dot instead of an X, I anticipate that I will be faced with a "save as" dialog
box, which will interrupt my workflow and I will have to think about where to
save the file, what to call it etc.

Anyway, I would vote to get rid of the dot, perhaps just for those users who
have the "No" option selected for "save workspace on exit from R".


From Thierry.ONKELINX at inbo.be  Mon Apr 28 15:40:03 2008
From: Thierry.ONKELINX at inbo.be (ONKELINX, Thierry)
Date: Mon, 28 Apr 2008 15:40:03 +0200
Subject: [Rd] Take marginality into account in factor.scope
Message-ID: <2E9C414912813E4EB981326983E0A10404B2CDA0@inboexch.inbo.be>

Dear devellopeRs,

I've altered factor.scope() from the stats package so it can take
marginality into account. Therefore I've added the argument marginal.
When marginal is NULL, factor.scope() works like the original version.
The marginality is to be specified as a named list. The name of the
elements is the name of a variable. The content of the element is a
character vector with the variable(s) that must be in the model.

E.g. marginal = list(D = c("B", "C"), A3 = "A2", A2 = "A1")
Means that
- D can only enter the model if B and C are present.
- A2 can only enter the model if A1 is present.
- A3 can only enter the model if A2 is present. Since the list contains
A2 = "A1", this implies that A1 needs to be present too.

- B can only leave the model if D is not present.
- C can only leave the model if D is not present.
- A2 can only leave the model if A3 is not present.
- A1 can only leave the model if A2 and A3 are not present.

It copes with interactions too.

A1:B needs 
	by default
		A1 and B
	due to marginality
		none

A2:B needs
	by default
		A2 and B
	due marginality
		A1 and A1:B

Comments are welcome,

Cheers,

Thierry



factor.scope <- function (factor, scope, marginal = NULL) {
    drop <- scope$drop
    add <- scope$add
    if (length(factor) && !is.null(drop)) {
        nmdrop <- colnames(drop)
        facs <- factor
        if (length(drop)) {
            nmfac <- colnames(factor)
            nmfac0 <- sapply(strsplit(nmfac, ":", fixed = TRUE),
function(x) paste(sort(x), collapse = ":"))
            nmdrop0 <- sapply(strsplit(nmdrop, ":", fixed = TRUE),
function(x) paste(sort(x), collapse = ":"))
            where <- match(nmdrop0, nmfac0, 0)
            if (any(!where)){
                stop(gettextf("lower scope has term(s) %s not included
in model",  paste(sQuote(nmdrop[where == 0]), collapse = ", ")), domain
= NA)
            }
            facs <- factor[, -where, drop = FALSE]
            nmdrop <- nmfac[-where]
        } else { 
            nmdrop <- colnames(factor)
        }
        if (ncol(facs) > 1) {
            keep <- rep.int(TRUE, ncol(facs))
            f <- crossprod(facs > 0)
            for (i in seq(keep)){
                keep[i] <- max(f[i, -i]) != f[i, i]
            }
            nmdrop <- nmdrop[keep]
        }
        keep <- unlist(lapply(strsplit(nmdrop, ":", fixed = TRUE),
function(x){
            whereMarginal <- match(x, names(marginal))
            if(!all(is.na(whereMarginal))){
                if(length(x) == 1){
                    marginal[[whereMarginal]]
                } else {
                    lowerOrderTerms <- lapply(seq_along(whereMarginal),
function(z){
                        if(is.na(whereMarginal[z])){
                           x[z]
                        } else {
                            c(x[z], marginal[[whereMarginal[z]]])
                        }
                    })
                    lowerOrder <- apply(expand.grid(lowerOrderTerms), 1,
function(z){
                        paste(sort(z), collapse = ":")
                    })
                    lowerOrder[!lowerOrder %in% paste(sort(x), collapse
= ":")]
                }
            }
        }))
        nmdrop <- nmdrop[!nmdrop %in% keep]
    } else {
        nmdrop <- character(0)
    }
    if (!length(add)){
        nmadd <- character(0)
    } else {
        nmfac <- colnames(factor)
        nmadd <- colnames(add)
        if (!is.null(nmfac)) {
            nmfac0 <- sapply(strsplit(nmfac, ":", fixed = TRUE),
function(x) paste(sort(x), collapse = ":"))
            nmadd0 <- sapply(strsplit(nmadd, ":", fixed = TRUE),
function(x) paste(sort(x), collapse = ":"))
            where <- match(nmfac0, nmadd0, 0)
            if (any(!where)){
                stop(gettextf("upper scope does not include model
term(s) %s", paste(sQuote(nmfac[where == 0]), collapse = ", ")), domain
= NA)
            }
            nmadd <- nmadd[-where]
            add <- add[, -where, drop = FALSE]
        }
        if (ncol(add) > 1) {
            keep <- rep.int(TRUE, ncol(add))
            f <- crossprod(add > 0)
            for (i in seq(keep)){
                keep[-i] <- keep[-i] & (f[i, -i] < f[i, i])
            }
            nmadd <- nmadd[keep]
        }
        if(length(nmadd)){
            keep <- sapply(strsplit(nmadd, ":", fixed = TRUE),
function(x){
                whereMarginal <- match(x, names(marginal))
                if(!all(is.na(whereMarginal))){
                    if(length(x) == 1){
                        all(!marginal[[whereMarginal]] %in% nmadd)
                    } else {
                        lowerOrderTerms <-
lapply(seq_along(whereMarginal), function(z){
                            if(is.na(whereMarginal[z])){
                               x[z]
                            } else {
                                c(x[z], marginal[[whereMarginal[z]]])
                            }
                        })
                        lowerOrder <-
apply(expand.grid(lowerOrderTerms), 1, function(z){
                            paste(sort(z), collapse = ":")
                        })
                        lowerOrder <- lowerOrder[!lowerOrder %in%
paste(sort(x), collapse = ":")]
                        all(!lowerOrder %in% nmadd)
                    }
                } else {
                    TRUE
                }
            })
            nmadd <- nmadd[keep]
        }
    }
    list(drop = nmdrop, add = nmadd)
}

------------------------------------------------------------------------
----
ir. Thierry Onkelinx
Instituut voor natuur- en bosonderzoek / Research Institute for Nature
and Forest
Cel biometrie, methodologie en kwaliteitszorg / Section biometrics,
methodology and quality assurance
Gaverstraat 4
9500 Geraardsbergen
Belgium 
tel. + 32 54/436 185
Thierry.Onkelinx at inbo.be 
www.inbo.be 

To call in the statistician after the experiment is done may be no more
than asking him to perform a post-mortem examination: he may be able to
say what the experiment died of.
~ Sir Ronald Aylmer Fisher

The plural of anecdote is not data.
~ Roger Brinner

The combination of some data and an aching desire for an answer does not
ensure that a reasonable answer can be extracted from a given body of
data.
~ John Tukey


From seth at userprimary.net  Mon Apr 28 16:01:53 2008
From: seth at userprimary.net (Seth Falcon)
Date: Mon, 28 Apr 2008 07:01:53 -0700
Subject: [Rd] R 2.7.0, match() and strings containing \0 - bug?
In-Reply-To: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>
References: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>
Message-ID: <20080428140153.GC3984@ziti.local>

Hi Jon,

* On 2008-04-28 at 11:00 +0100 Jon Clayden wrote:
> A piece of my code that uses readBin() to read a certain file type is
> behaving strangely with R 2.7.0. This seems to be because of a failure
> to match() strings after using rawToChar() when the original was
> terminated with a "\0" character. Direct equality testing with ==
> still works as expected. I can reproduce this as follows:
> 
> > x <- "foo"
> > y <- c(charToRaw("foo"),as.raw(0))
> > z <- rawToChar(y)
> > z==x
> [1] TRUE
> > z=="foo"
> [1] TRUE
> > z %in% c("foo","bar")
> [1] FALSE
> > z %in% c("foo","bar","foo\0")
> [1] FALSE
> 
> But without the nul character it works fine:
> 
> > zz <- rawToChar(charToRaw("foo"))
> > zz %in% c("foo","bar")
> [1] TRUE
> 
> I don't see anything about this in the latest NEWS, but is this
> expected behaviour? Or is it, as I suspect, a bug? This seems to be
> new to R 2.7.0, as I said.

The short answer is that your example works in R-2.6 and in the
current R-devel.  Whether the behavior in R-2.7 is a bug is perhaps in
the eye of the beholder.

Historically, R's internal string representation allowed for embedded
nul characters.  This was particularly useful before the raw vector
type, RAWSXP, was introduced.  Since the vast majority of
R's internal string processing functions use standard C semantics
and truncated at first nul there has always been some room for
"interesting" behavior.  The change in R-2.7 was an attempt to start
resolving these inconsistencies.  Since then the core team has agreed
to remove the partial support for embedded nul in character strings --
raw can be used when this is desired, and having nul terminated
strings will make the code more consistent and easier to maintain
going forward.

Best Wishes,

+ seth

-- 
Seth Falcon | http://userprimary.net/user/


From stefan.theussl at wu-wien.ac.at  Mon Apr 28 18:22:32 2008
From: stefan.theussl at wu-wien.ac.at (Stefan Theussl)
Date: Mon, 28 Apr 2008 18:22:32 +0200
Subject: [Rd] R-Forge SVN repositories: R CMD build/check error on Windows
	machines
Message-ID: <4815F9C8.80209@wu-wien.ac.at>

Dear R-devel,

One of our R-Forge developers pointed out that it is not possible to 
build packages under Windows using the R-Forge repository structure: a 
package resides in ./pkg - not in a directory with the same name as the 
package name.

Under Linux 'R CMD build pkg' or 'R CMD check pkg' work pretty well (I 
think Kurt Hornik fixed that in R 2.5.1 or so) whereas under Windows one 
gets the following error (this is the example sent by the user):

c:\work\packages\spdep>R CMD check pkg
* checking for working pdflatex ... OK
* using log directory 'C:/work/packages/spdep/pkg.Rcheck'
* using R version 2.7.0 (2008-04-22)
* using session charset: ISO8859-1
* checking for file 'pkg/DESCRIPTION' ... OK
* this is package 'spdep' version '0.4-21'
* package encoding: latin1
* checking package name space information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... WARNING
Subdirectory 'pkg/src' contains object files.
* checking whether package 'spdep' can be installed ... ERROR
Installation failed.
See 'C:/work/packages/spdep/pkg.Rcheck/00install.out' for details.

which is:

installing R.css in C:/work/packages/spdep/pkg.Rcheck


---------- Making package pkg ------------
  adding build stamp to DESCRIPTION
  installing NAMESPACE file and metadata
  making DLL ...
  ... DLL made
  installing DLL
  installing R files
  installing inst files
  installing data files
  preparing package pkg for lazy loading
Loading required package: tripack
Loading required package: sp
...
Error in findpack(package, lib.loc) : *there is no package called 'pkg'*
Calls: <Anonymous> -> findpack
Execution halted
make[2]: *** [lazyload] Error 1
make[1]: *** [all] Error 2
make: *** [pkg-pkg] Error 2
*** Installation of pkg failed ***

I could verify this on our 'Windows package building machine' not only 
for this package but also for others.
Therefore, it seems to me that the (Windows) R CMD build/check scripts 
are not considering the package name in the DESCRIPTION file but rather 
take the directory name as package name.

Or are we just doing something completely wrong?

I used R-patched 2.7.0 on R-Forge to reproduce this error.

Best regards,
Stefan


From spluque at gmail.com  Mon Apr 28 19:11:16 2008
From: spluque at gmail.com (Sebastian P. Luque)
Date: Mon, 28 Apr 2008 12:11:16 -0500
Subject: [Rd] method dispatch conflict?
Message-ID: <87prs9j45n.fsf@patagonia.sebmags.homelinux.org>

Hi,

I vaguely recall this was discussed in the past, but I cannot remember
the context.  The code below shows the problem:


---<---------------cut here---------------start-------------->---
R> library(stats4)
R> library(lme4)
Loading required package: Matrix

Attaching package: 'Matrix'


        The following object(s) are masked from package:stats :

         xtabs


Attaching package: 'lme4'


        The following object(s) are masked from package:stats4 :

         BIC

Warning messages:
1: In namespaceImportFrom(self, asNamespace(ns)) :
  replacing previous import: cov2cor
2: In namespaceImportFrom(self, asNamespace(ns)) :
  replacing previous import: update
3: In namespaceImportFrom(self, asNamespace(ns)) :
  replacing previous import: xtabs
R> example
example
R> example(lmer)

lmerR> (fm1 <- lmer(Reaction ~ Days + (Days|Subject), sleepstudy))
Error in printMer(object) :
  no slot of name "status" for this object of class "table"
In addition: Warning message:
In printMer(object) :
  trying to get slot "status" from an object (class "table") that is not an S4 object
---<---------------cut here---------------end---------------->---


IIUC, the problem lies in choosing the correct print method for the lmer
object.  If lme4 is loaded *before* stats4, then the object is printed
without errors.  This is with:


---<---------------cut here---------------start-------------->---
R> sessionInfo()
R version 2.7.0 (2008-04-22) 
x86_64-pc-linux-gnu 

locale:
LC_CTYPE=en_CA.UTF-8;LC_NUMERIC=C;LC_TIME=en_CA.UTF-8;LC_COLLATE=en_CA.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_CA.UTF-8;LC_PAPER=en_CA.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_CA.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats4    stats     graphics  grDevices utils     datasets  methods  
[8] base     

other attached packages:
[1] lme4_0.99875-9    Matrix_0.999375-9 lattice_0.17-6   

loaded via a namespace (and not attached):
[1] grid_2.7.0
---<---------------cut here---------------end---------------->---


Cheers,

-- 
Seb


From murdoch at stats.uwo.ca  Mon Apr 28 22:19:36 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 28 Apr 2008 16:19:36 -0400
Subject: [Rd] R-Forge SVN repositories: R CMD build/check error on
 Windows machines
In-Reply-To: <4815F9C8.80209@wu-wien.ac.at>
References: <4815F9C8.80209@wu-wien.ac.at>
Message-ID: <48163158.2050802@stats.uwo.ca>

On 28/04/2008 12:22 PM, Stefan Theussl wrote:
> Dear R-devel,
> 
> One of our R-Forge developers pointed out that it is not possible to 
> build packages under Windows using the R-Forge repository structure: a 
> package resides in ./pkg - not in a directory with the same name as the 
> package name.
> 
> Under Linux 'R CMD build pkg' or 'R CMD check pkg' work pretty well (I 
> think Kurt Hornik fixed that in R 2.5.1 or so) whereas under Windows one 
> gets the following error (this is the example sent by the user):
> 
> c:\work\packages\spdep>R CMD check pkg
> * checking for working pdflatex ... OK
> * using log directory 'C:/work/packages/spdep/pkg.Rcheck'
> * using R version 2.7.0 (2008-04-22)
> * using session charset: ISO8859-1
> * checking for file 'pkg/DESCRIPTION' ... OK
> * this is package 'spdep' version '0.4-21'
> * package encoding: latin1
> * checking package name space information ... OK
> * checking package dependencies ... OK
> * checking if this is a source package ... WARNING
> Subdirectory 'pkg/src' contains object files.
> * checking whether package 'spdep' can be installed ... ERROR
> Installation failed.
> See 'C:/work/packages/spdep/pkg.Rcheck/00install.out' for details.
> 
> which is:
> 
> installing R.css in C:/work/packages/spdep/pkg.Rcheck
> 
> 
> ---------- Making package pkg ------------
>   adding build stamp to DESCRIPTION
>   installing NAMESPACE file and metadata
>   making DLL ...
>   ... DLL made
>   installing DLL
>   installing R files
>   installing inst files
>   installing data files
>   preparing package pkg for lazy loading
> Loading required package: tripack
> Loading required package: sp
> ...
> Error in findpack(package, lib.loc) : *there is no package called 'pkg'*
> Calls: <Anonymous> -> findpack
> Execution halted
> make[2]: *** [lazyload] Error 1
> make[1]: *** [all] Error 2
> make: *** [pkg-pkg] Error 2
> *** Installation of pkg failed ***
> 
> I could verify this on our 'Windows package building machine' not only 
> for this package but also for others.
> Therefore, it seems to me that the (Windows) R CMD build/check scripts 
> are not considering the package name in the DESCRIPTION file but rather 
> take the directory name as package name.
> 
> Or are we just doing something completely wrong?

You're right, on Windows there's an assumption that package foo is in 
directory foo.  But I don't see why this is a big problem.  Can't you 
just check out pkg into foo, e.g.

svn co svn://svn.r-forge.r-project.org/svnroot/foo/pkg foo

(Not that I'd be against accepting a patch to remove this restriction; 
occasionally it might be nice to have two versions of the same package 
side-by-side.)

Duncan Murdoch

> 
> I used R-patched 2.7.0 on R-Forge to reproduce this error.
> 
> Best regards,
> Stefan
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From simon.urbanek at r-project.org  Mon Apr 28 22:42:26 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 28 Apr 2008 16:42:26 -0400
Subject: [Rd] OSX R GUI visual interface tweak (PR#11318)
In-Reply-To: <20080428091004.4262D2834154@mail.pubhealth.ku.dk>
References: <20080428091004.4262D2834154@mail.pubhealth.ku.dk>
Message-ID: <C7855899-FBDC-4254-9F94-565E826CF597@r-project.org>


On Apr 28, 2008, at 5:10 AM, nelson.ana at gmail.com wrote:

> Full_Name: Ana Nelson
> Version: R 2.7.0 GUI 1.24 (5102)
> OS: OSX 10.5.2
> Submission from: (NULL) (213.94.201.89)
>
>
> The R GUI close button has a solid circle. Screenshot is here:
> http://skitch.com/ananelson/kmxj/r-console
>
> On OSX this indicates that there are unsaved changes pending. Please  
> see page
> 201 of the Apple Human Interface Guidelines (version 2008-03-11):
>
> http://developer.apple.com/documentation/UserExperience/Conceptual/OSXHIGuidelines/OSXHIGuidelines.pdf
>
> However, I never save my workspace on exiting R, therefore I don't  
> really have
> unsaved changes, so the "X" close button would be more appropriate.
>

The workspace has nothing to do with it. The window you are referring  
to is the console window and its contents (text) has changed (namely R  
output was added), hence the unsaved status. However, to avoid  
(unexpected) loss of data, we don't reset the status on console text  
save, either.

The R console semantics doesn't readily correspond to Apple's document  
model. There are in fact at least two documents here - the console and  
the workspace. There's isn't much we can do about that.

BTW: We are not creating those buttons, Apple's frameworks are, so we  
have no control over their appearance.


> I know this might seem like a very fussy request, but I actually  
> find it very distracting to think I have unsaved changes in a  
> document, and every time I glance and see the solid circle I have to  
> stop and think and remind myself that I don't. Apple has me so well  
> trained! (sigh) I think it's because when I see a dot instead of an  
> X, I anticipate that I will be faced with a "save as" dialog box,  
> which will interrupt my workflow and I will have to think about  
> where to save the file, what to call it etc.

>
> Anyway, I would vote to get rid of the dot, perhaps just for those  
> users who have the "No" option selected for "save workspace on exit  
> from R".
>

See above, that's not our call.

Cheers,
Simon


From ripley at stats.ox.ac.uk  Mon Apr 28 23:36:59 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 28 Apr 2008 22:36:59 +0100 (BST)
Subject: [Rd] R-Forge SVN repositories: R CMD build/check error on
 Windows machines
In-Reply-To: <48163158.2050802@stats.uwo.ca>
References: <4815F9C8.80209@wu-wien.ac.at> <48163158.2050802@stats.uwo.ca>
Message-ID: <alpine.LFD.1.10.0804282218510.18306@gannet.stats.ox.ac.uk>

The difference is in INSTALL, not build/check.

You are right that the Unix INSTALL was changed in r25808 (Aug 2003), but 
AFAICS this was not documented at the time in [O]NEWS, nor anywhere else.

Can you point me to the documentation you used to implement this?


On Mon, 28 Apr 2008, Duncan Murdoch wrote:

> On 28/04/2008 12:22 PM, Stefan Theussl wrote:
>> Dear R-devel,
>> 
>> One of our R-Forge developers pointed out that it is not possible to build 
>> packages under Windows using the R-Forge repository structure: a package 
>> resides in ./pkg - not in a directory with the same name as the package 
>> name.
>> 
>> Under Linux 'R CMD build pkg' or 'R CMD check pkg' work pretty well (I 
>> think Kurt Hornik fixed that in R 2.5.1 or so) whereas under Windows one 
>> gets the following error (this is the example sent by the user):
>> 
>> c:\work\packages\spdep>R CMD check pkg
>> * checking for working pdflatex ... OK
>> * using log directory 'C:/work/packages/spdep/pkg.Rcheck'
>> * using R version 2.7.0 (2008-04-22)
>> * using session charset: ISO8859-1
>> * checking for file 'pkg/DESCRIPTION' ... OK
>> * this is package 'spdep' version '0.4-21'
>> * package encoding: latin1
>> * checking package name space information ... OK
>> * checking package dependencies ... OK
>> * checking if this is a source package ... WARNING
>> Subdirectory 'pkg/src' contains object files.
>> * checking whether package 'spdep' can be installed ... ERROR
>> Installation failed.
>> See 'C:/work/packages/spdep/pkg.Rcheck/00install.out' for details.
>> 
>> which is:
>> 
>> installing R.css in C:/work/packages/spdep/pkg.Rcheck
>> 
>> 
>> ---------- Making package pkg ------------
>>   adding build stamp to DESCRIPTION
>>   installing NAMESPACE file and metadata
>>   making DLL ...
>>   ... DLL made
>>   installing DLL
>>   installing R files
>>   installing inst files
>>   installing data files
>>   preparing package pkg for lazy loading
>> Loading required package: tripack
>> Loading required package: sp
>> ...
>> Error in findpack(package, lib.loc) : *there is no package called 'pkg'*
>> Calls: <Anonymous> -> findpack
>> Execution halted
>> make[2]: *** [lazyload] Error 1
>> make[1]: *** [all] Error 2
>> make: *** [pkg-pkg] Error 2
>> *** Installation of pkg failed ***
>> 
>> I could verify this on our 'Windows package building machine' not only for 
>> this package but also for others.
>> Therefore, it seems to me that the (Windows) R CMD build/check scripts are 
>> not considering the package name in the DESCRIPTION file but rather take 
>> the directory name as package name.
>> 
>> Or are we just doing something completely wrong?
>
> You're right, on Windows there's an assumption that package foo is in 
> directory foo.  But I don't see why this is a big problem.  Can't you just 
> check out pkg into foo, e.g.
>
> svn co svn://svn.r-forge.r-project.org/svnroot/foo/pkg foo
>
> (Not that I'd be against accepting a patch to remove this restriction; 
> occasionally it might be nice to have two versions of the same package 
> side-by-side.)
>
> Duncan Murdoch
>
>> 
>> I used R-patched 2.7.0 on R-Forge to reproduce this error.
>> 
>> Best regards,
>> Stefan
>> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From deepayan.sarkar at gmail.com  Tue Apr 29 00:22:12 2008
From: deepayan.sarkar at gmail.com (Deepayan Sarkar)
Date: Mon, 28 Apr 2008 15:22:12 -0700
Subject: [Rd] R-Forge SVN repositories: R CMD build/check error on
	Windows machines
In-Reply-To: <alpine.LFD.1.10.0804282218510.18306@gannet.stats.ox.ac.uk>
References: <4815F9C8.80209@wu-wien.ac.at> <48163158.2050802@stats.uwo.ca>
	<alpine.LFD.1.10.0804282218510.18306@gannet.stats.ox.ac.uk>
Message-ID: <eb555e660804281522s7b8565e9o308a5864a733e12c@mail.gmail.com>

On 4/28/08, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> The difference is in INSTALL, not build/check.
>
>  You are right that the Unix INSTALL was changed in r25808 (Aug 2003), but
> AFAICS this was not documented at the time in [O]NEWS, nor anywhere else.
>
>  Can you point me to the documentation you used to implement this?

FWIW, the NEWS for 2.5.0 [1] has

    o	R CMD build now takes the package name from the DESCRIPTION
	file and not from the directory.  (PR#9266)

and that does seem to work on Windows.

[1] https://stat.ethz.ch/pipermail/r-announce/2007/000828.html

-Deepayan


From hpages at fhcrc.org  Tue Apr 29 00:43:00 2008
From: hpages at fhcrc.org (Herve Pages)
Date: Mon, 28 Apr 2008 15:43:00 -0700
Subject: [Rd] R 2.7.0, match() and strings containing \0 - bug?
In-Reply-To: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>
References: <68e086180804280300k67057773yc7e8003259c6c6cf@mail.gmail.com>
Message-ID: <481652F4.30706@fhcrc.org>

Hi Jon,

Jon Clayden wrote:
> Hi,
> 
> A piece of my code that uses readBin() to read a certain file type is
> behaving strangely with R 2.7.0. This seems to be because of a failure
> to match() strings after using rawToChar() when the original was
> terminated with a "\0" character. Direct equality testing with ==
> still works as expected. I can reproduce this as follows:
> 
>> x <- "foo"
>> y <- c(charToRaw("foo"),as.raw(0))
>> z <- rawToChar(y)
>> z==x
> [1] TRUE
>> z=="foo"
> [1] TRUE
>> z %in% c("foo","bar")
> [1] FALSE
>> z %in% c("foo","bar","foo\0")
> [1] FALSE

But this gives TRUE:

   > z %in% c("foo","bar", z)
   [1] TRUE

An additional problem you have here is that when the "foo\0" string literal
is converted into a character string, then the string data that are after the
first embedded nul are dropped:

   > identical("foo\0a\0b", "foo")
   [1] TRUE

And to add to the endless source of surprises that come with embedded nuls:

   > dump("z", file="")
   z <-
   "foo\0"

but of course sourcing the above dump into an R session will not restore 'z'.

Dropping support for embedded nuls in R 2.8.0 sounds like good news to me.

Cheers,
H.


> 
> But without the nul character it works fine:
> 
>> zz <- rawToChar(charToRaw("foo"))
>> zz %in% c("foo","bar")
> [1] TRUE
> 
> I don't see anything about this in the latest NEWS, but is this
> expected behaviour? Or is it, as I suspect, a bug? This seems to be
> new to R 2.7.0, as I said.
> 
> Regards,
> Jon
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From julien.barnier at ens-lsh.fr  Mon Apr 28 16:40:11 2008
From: julien.barnier at ens-lsh.fr (julien.barnier at ens-lsh.fr)
Date: Mon, 28 Apr 2008 16:40:11 +0200 (CEST)
Subject: [Rd] X11 window title setting in X11() Device (PR#11325)
Message-ID: <20080428144011.39F77282EFF0@mail.pubhealth.ku.dk>

--=-=-=
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Hi,

I think I have found a very little bug in the new version of the X11()
device in R 2.7.0, more precisely in the devX11.c file.

The problem is that when you open a new window with X11(), the title
of the window (the WM_NAME property) is not immediately set. It seems
that the window is created, then it is displayed (mapped) with no
title, and then the title is set.

It is something absolutely invisible for the user, but it leads to
problem for me because I use a window manager that relies on window
titles to give them different attributes (I use it to make all my R
Graphics windows floating). And due to the fact that the title is set
after opening, my window manager rules don't apply anymore.

I found a quick and dirty workaround which set the title immediately
after the window opening if the =C2=ABtitle=C2=BB option in X11.options() is
set. You will find the patch for devX11.c attached to this mail, it is
just two lines moved before the call to X11_Open.

Surely there could be something much better, but I am quite new to C
and X11 programming...

Here is my sessionInfo() :

,----
| R version 2.7.0 (2008-04-22)=20
| i486-pc-linux-gnu=20
|=20
| locale:
| LC_CTYPE=3Dfr_FR.UTF-8;LC_NUMERIC=3DC;LC_TIME=3Dfr_FR.UTF-8;LC_COLLATE=3D=
fr_FR.UTF-8;LC_MONETARY=3DC;LC_MESSAGES=3Dfr_FR.UTF-8;LC_PAPER=3Dfr_FR.UTF-=
8;LC_NAME=3DC;LC_ADDRESS=3DC;LC_TELEPHONE=3DC;LC_MEASUREMENT=3Dfr_FR.UTF-8;=
LC_IDENTIFICATION=3DC
|=20
| attached base packages:
| [1] grDevices utils     datasets  graphics  stats     methods   base=20=
=20=20=20=20
|=20
| other attached packages:
| [1] car_1.2-7
`----

Thanks for all your work !

Regards,

Julien=20


--=-=-=
Content-Type: text/x-diff
Content-Disposition: attachment; filename=devX11_patch.diff

--- devX11.c.orig	2008-04-28 16:22:46.000000000 +0200
+++ devX11.c	2008-04-28 16:22:57.000000000 +0200
@@ -2225,6 +2225,9 @@
 	else strcpy(xd->symbolfamily,fn);
     }
 
+    strncpy(xd->title, title, 100);
+    xd->title[100] = '\0';
+
     /*	Start the Device Driver and Hardcopy.  */
 
     if (!X11_Open(dd, xd, disp_name, width, height,
@@ -2238,8 +2241,6 @@
     xd->fill = 0xffffffff; /* this is needed to ensure that the
 			      first newpage does set whitecolor
 			      if par("bg") is not transparent */
-    strncpy(xd->title, title, 100);
-    xd->title[100] = '\0';
 
 #if BUG
     R_ProcessX11Events((void*) NULL);

--=-=-=--


From ripley at stats.ox.ac.uk  Tue Apr 29 10:00:15 2008
From: ripley at stats.ox.ac.uk (ripley at stats.ox.ac.uk)
Date: Tue, 29 Apr 2008 10:00:15 +0200 (CEST)
Subject: [Rd] X11 window title setting in X11() Device (PR#11325)
Message-ID: <20080429080015.5D7E7282EFF0@mail.pubhealth.ku.dk>

Can you please give precise reproduction instructions -- you don't even 
tell us what the window manager is.

I'd be willing to consider a workaround, but only if I can reproduce the 
problem (which appears to be a false assumption elsewhere in your setup).

On Mon, 28 Apr 2008, julien.barnier at ens-lsh.fr wrote:

> --=-=-=
> Content-Type: text/plain; charset=utf-8
> Content-Transfer-Encoding: quoted-printable
>
> Hi,
>
> I think I have found a very little bug in the new version of the X11()
> device in R 2.7.0, more precisely in the devX11.c file.
>
> The problem is that when you open a new window with X11(), the title
> of the window (the WM_NAME property) is not immediately set. It seems
> that the window is created, then it is displayed (mapped) with no
> title, and then the title is set.

Which is perfectly valid in X11, so I don't see where the 'bug' is.

R changes the title to reflect the window state, do the supplied 'title' 
is never actually used without decoration.  R 2.6.x put up one title and 
then immediately changed it, but that was undocumented and not safe to 
rely on (as you found).


> It is something absolutely invisible for the user, but it leads to
> problem for me because I use a window manager that relies on window
> titles to give them different attributes (I use it to make all my R
> Graphics windows floating). And due to the fact that the title is set
> after opening, my window manager rules don't apply anymore.
>
> I found a quick and dirty workaround which set the title immediately
> after the window opening if the =C2=ABtitle=C2=BB option in X11.options() is
> set. You will find the patch for devX11.c attached to this mail, it is
> just two lines moved before the call to X11_Open.
>
> Surely there could be something much better, but I am quite new to C
> and X11 programming...
>
> Here is my sessionInfo() :
>
> ,----
> | R version 2.7.0 (2008-04-22)=20
> | i486-pc-linux-gnu=20
> |=20
> | locale:
> | LC_CTYPE=3Dfr_FR.UTF-8;LC_NUMERIC=3DC;LC_TIME=3Dfr_FR.UTF-8;LC_COLLATE=3D=
> fr_FR.UTF-8;LC_MONETARY=3DC;LC_MESSAGES=3Dfr_FR.UTF-8;LC_PAPER=3Dfr_FR.UTF-=
> 8;LC_NAME=3DC;LC_ADDRESS=3DC;LC_TELEPHONE=3DC;LC_MEASUREMENT=3Dfr_FR.UTF-8;=
> LC_IDENTIFICATION=3DC
> |=20
> | attached base packages:
> | [1] grDevices utils     datasets  graphics  stats     methods   base=20=
> =20=20=20=20
> |=20
> | other attached packages:
> | [1] car_1.2-7
> `----
>
> Thanks for all your work !
>
> Regards,
>
> Julien=20
>
>
> --=-=-=
> Content-Type: text/x-diff
> Content-Disposition: attachment; filename=devX11_patch.diff
>
> --- devX11.c.orig	2008-04-28 16:22:46.000000000 +0200
> +++ devX11.c	2008-04-28 16:22:57.000000000 +0200
> @@ -2225,6 +2225,9 @@
> 	else strcpy(xd->symbolfamily,fn);
>     }
>
> +    strncpy(xd->title, title, 100);
> +    xd->title[100] = '\0';
> +
>     /*	Start the Device Driver and Hardcopy.  */
>
>     if (!X11_Open(dd, xd, disp_name, width, height,
> @@ -2238,8 +2241,6 @@
>     xd->fill = 0xffffffff; /* this is needed to ensure that the
> 			      first newpage does set whitecolor
> 			      if par("bg") is not transparent */
> -    strncpy(xd->title, title, 100);
> -    xd->title[100] = '\0';
>
> #if BUG
>     R_ProcessX11Events((void*) NULL);
>
> --=-=-=--
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From stefan.theussl at wu-wien.ac.at  Tue Apr 29 10:37:27 2008
From: stefan.theussl at wu-wien.ac.at (Stefan Theussl)
Date: Tue, 29 Apr 2008 10:37:27 +0200
Subject: [Rd] R-Forge SVN repositories: R CMD build/check error on
 Windows machines
In-Reply-To: <48163158.2050802@stats.uwo.ca>
References: <4815F9C8.80209@wu-wien.ac.at> <48163158.2050802@stats.uwo.ca>
Message-ID: <4816DE47.1030401@wu-wien.ac.at>

Duncan Murdoch wrote:
> On 28/04/2008 12:22 PM, Stefan Theussl wrote:
>> Dear R-devel,
>>
>> One of our R-Forge developers pointed out that it is not possible to 
>> build packages under Windows using the R-Forge repository structure: 
>> a package resides in ./pkg - not in a directory with the same name as 
>> the package name.
>>
>> Under Linux 'R CMD build pkg' or 'R CMD check pkg' work pretty well 
>> (I think Kurt Hornik fixed that in R 2.5.1 or so) whereas under 
>> Windows one gets the following error (this is the example sent by the 
>> user):
>>
>> c:\work\packages\spdep>R CMD check pkg
>> * checking for working pdflatex ... OK
>> * using log directory 'C:/work/packages/spdep/pkg.Rcheck'
>> * using R version 2.7.0 (2008-04-22)
>> * using session charset: ISO8859-1
>> * checking for file 'pkg/DESCRIPTION' ... OK
>> * this is package 'spdep' version '0.4-21'
>> * package encoding: latin1
>> * checking package name space information ... OK
>> * checking package dependencies ... OK
>> * checking if this is a source package ... WARNING
>> Subdirectory 'pkg/src' contains object files.
>> * checking whether package 'spdep' can be installed ... ERROR
>> Installation failed.
>> See 'C:/work/packages/spdep/pkg.Rcheck/00install.out' for details.
>>
>> which is:
>>
>> installing R.css in C:/work/packages/spdep/pkg.Rcheck
>>
>>
>> ---------- Making package pkg ------------
>>   adding build stamp to DESCRIPTION
>>   installing NAMESPACE file and metadata
>>   making DLL ...
>>   ... DLL made
>>   installing DLL
>>   installing R files
>>   installing inst files
>>   installing data files
>>   preparing package pkg for lazy loading
>> Loading required package: tripack
>> Loading required package: sp
>> ...
>> Error in findpack(package, lib.loc) : *there is no package called 'pkg'*
>> Calls: <Anonymous> -> findpack
>> Execution halted
>> make[2]: *** [lazyload] Error 1
>> make[1]: *** [all] Error 2
>> make: *** [pkg-pkg] Error 2
>> *** Installation of pkg failed ***
>>
>> I could verify this on our 'Windows package building machine' not 
>> only for this package but also for others.
>> Therefore, it seems to me that the (Windows) R CMD build/check 
>> scripts are not considering the package name in the DESCRIPTION file 
>> but rather take the directory name as package name.
>>
>> Or are we just doing something completely wrong?
>
> You're right, on Windows there's an assumption that package foo is in 
> directory foo.  But I don't see why this is a big problem.  Can't you 
> just check out pkg into foo, e.g.
>
> svn co svn://svn.r-forge.r-project.org/svnroot/foo/pkg foo
>
> (Not that I'd be against accepting a patch to remove this restriction; 
> occasionally it might be nice to have two versions of the same package 
> side-by-side.)
Yes, you're right. Actually we do it this way when exporting the R-Forge 
packages. We just look for the package name in the DESCRIPTION file and 
do an 'svn export' using this information. The other possibility on 
R-Forge would be to have the package in a directory ./pkg/foo in the 
repository. This is supported by our build process.
Therefore this is no problem at all for us.

Nevertheless, I think that this is a useful convenience feature (indeed 
I use that very often under Linux). E.g., one wants to have his or her 
packages in different directories like foo-devel, foo-release and just 
say R CMD build/check on them.

Best,
Stefan
>
> Duncan Murdoch
>
>>
>> I used R-patched 2.7.0 on R-Forge to reproduce this error.
>>
>> Best regards,
>> Stefan
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From stefan.theussl at wu-wien.ac.at  Tue Apr 29 10:45:51 2008
From: stefan.theussl at wu-wien.ac.at (Stefan Theussl)
Date: Tue, 29 Apr 2008 10:45:51 +0200
Subject: [Rd] R-Forge SVN repositories: R CMD build/check error on
 Windows machines
In-Reply-To: <eb555e660804281522s7b8565e9o308a5864a733e12c@mail.gmail.com>
References: <4815F9C8.80209@wu-wien.ac.at> <48163158.2050802@stats.uwo.ca>	
	<alpine.LFD.1.10.0804282218510.18306@gannet.stats.ox.ac.uk>
	<eb555e660804281522s7b8565e9o308a5864a733e12c@mail.gmail.com>
Message-ID: <4816E03F.8030904@wu-wien.ac.at>

Deepayan Sarkar wrote:
> On 4/28/08, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>   
>> The difference is in INSTALL, not build/check.
>>
>>  You are right that the Unix INSTALL was changed in r25808 (Aug 2003), but
>> AFAICS this was not documented at the time in [O]NEWS, nor anywhere else.
>>
>>  Can you point me to the documentation you used to implement this?
>>     
>
> FWIW, the NEWS for 2.5.0 [1] has
>
>     o	R CMD build now takes the package name from the DESCRIPTION
> 	file and not from the directory.  (PR#9266)
>
> and that does seem to work on Windows.
>   
Indeed, this works but with the side effect of getting the error message

Error in findpack(package, lib.loc) : there is no package called 'pkg'
Calls: <Anonymous> -> findpack
Execution halted
make[2]: *** [lazyload] Error 1
make[1]: *** [all] Error 2
make: *** [pkg-pkg] Error 2
*** Installation of pkg failed ***

which comes from R CMD INSTALL as Brian Ripley pointed out already.
Nevertheless, the package gets built and you can handle the tarball with 
no further problems as always.

Stefan
> [1] https://stat.ethz.ch/pipermail/r-announce/2007/000828.html
>
> -Deepayan
>


From ripley at stats.ox.ac.uk  Tue Apr 29 11:59:54 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 29 Apr 2008 10:59:54 +0100 (BST)
Subject: [Rd] R-Forge SVN repositories: R CMD build/check error on
 Windows machines
In-Reply-To: <4816DE47.1030401@wu-wien.ac.at>
References: <4815F9C8.80209@wu-wien.ac.at> <48163158.2050802@stats.uwo.ca>
	<4816DE47.1030401@wu-wien.ac.at>
Message-ID: <alpine.LFD.1.10.0804291052001.15988@gannet.stats.ox.ac.uk>

On Tue, 29 Apr 2008, Stefan Theussl wrote:

> Duncan Murdoch wrote:
>> On 28/04/2008 12:22 PM, Stefan Theussl wrote:
>>> Dear R-devel,
>>> 
>>> One of our R-Forge developers pointed out that it is not possible to build 
>>> packages under Windows using the R-Forge repository structure: a package 
>>> resides in ./pkg - not in a directory with the same name as the package 
>>> name.
>>> 
>>> Under Linux 'R CMD build pkg' or 'R CMD check pkg' work pretty well (I 
>>> think Kurt Hornik fixed that in R 2.5.1 or so) whereas under Windows one 
>>> gets the following error (this is the example sent by the user):

[...]

> Nevertheless, I think that this is a useful convenience feature (indeed I use 
> that very often under Linux). E.g., one wants to have his or her packages in 
> different directories like foo-devel, foo-release and just say R CMD 
> build/check on them.

(I think the problem with 'build' on Windows comes from packages with 
vignettes.)

Features such as this have a little cost (not least in maintenance when 
developers don't know about them).  However, the plan is to move INSTALL 
to an R script used by both Unix and Windows for 2.8.0 which would allow 
more flexibility and keep the platforms in line.  Knowing this is required 
at the design stage is much easier than bolting it on afterwards.  (One 
consequence is that I am not at all keen to change the Windows INSTALL for 
2.7.x.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jinghuazhao at hotmail.com  Tue Apr 29 13:25:51 2008
From: jinghuazhao at hotmail.com (jing hua zhao)
Date: Tue, 29 Apr 2008 11:25:51 +0000
Subject: [Rd] Some compiling problems
In-Reply-To: <4816E03F.8030904@wu-wien.ac.at>
References: <4815F9C8.80209@wu-wien.ac.at> <48163158.2050802@stats.uwo.ca>
	<alpine.LFD.1.10.0804282218510.18306@gannet.stats.ox.ac.uk>
	<eb555e660804281522s7b8565e9o308a5864a733e12c@mail.gmail.com> 
	<4816E03F.8030904@wu-wien.ac.at>
Message-ID: <BAY104-W31B7A6C59DFB366A47BD05A5D90@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20080429/55ad3cb7/attachment.pl>

From kmma at ha.org.hk  Tue Apr 29 11:40:10 2008
From: kmma at ha.org.hk (kmma at ha.org.hk)
Date: Tue, 29 Apr 2008 11:40:10 +0200 (CEST)
Subject: [Rd] inquiry - failed to start R-2.7.0 (Window) (PR#11329)
Message-ID: <20080429094010.C38622834615@mail.pubhealth.ku.dk>

This is a multi-part message in MIME format.

--------------090508000000060102040500
Content-Type: text/plain;
	charset="ISO-8859-1";
	format=flowed
Content-Transfer-Encoding: quoted-printable

Dear R team,

I am new to R.  Please forgive me if I am using the incorrect format to=20
ask or this is not right place to ask.

I have a little problem with R-2.7.0 for Window.  When I started the=20
software I repeatedly receive this message:

"Error in file.exist(name) : unsupported conversion in 'filenameToWchar' =

as well as the "Fatal error: unable to restore saved data in .R.data"=20
(see attached jpg). =20

Not quite understand these last error message (I have never done=20
anything with R-2.7.0 and there shouldn't be anything to restore, =
right?).

I  tried several times with repeated installations and reboot of my=20
computer but got the same result.   I have repeated installations of=20
R-2.6.2. trying to see if there is anything wrong with my installation=20
procedure and computer and it works fine with this earlier version.  I=20
have no problem with R-2.6.1 and R-2.6.2 using the same computer i.e.=20
Microsoft Windows XP, Intel R Pentium (R) 4 CPU 2.80 GHz with 2.81 GHz=20
2.00 GB RAM.

I have also tried this: uninstall all R software and delete the R folder =

(created during installation) and then installs R-2.7.0 again, but same=20
error message showed up.

I passed this question to a friend who is using R-2.5.1.  He tried to=20
install R-2.7.0 but receive the same error message.  And he passed your=20
email address.

Your expert advice would be most appreciated.=20

Thanks in advance.

Regards,

Dr. K.M. MA
Consultant in Nuclear Medicine
Department of Nuclear Medicine
Tuen Mun Hospital
Tsing Chung Koon Road, N.T.
Hong Kong, China
Tel: 852 2468 5062
Fax: 852 2461 9074
e-mail: kmma at ha.org.hk


*************************************************************************=
**
Disclaimer=20

This Email may contain privileged and confidential information and is =
solely for the use of the intended recipient. If you are not the =
intended recipient, you must not print, copy, distribute or take any =
action in reliance on it. If you have received this Email by mistake, =
please notify the sender and then delete this Email from your computer. =
The Hospital Authority does not accept liability arising from Email =
transmitted by mistake.

Although this Email and any attachments are believed to be free of virus =
or other defects that might affect any computer system into which it is =
received and opened, it is the responsibility of the recipient to ensure =
that it is virus free, and no responsibility is accepted by the Hospital =
Authority for any loss or damage in any way arising from its use.

All views or opinions expressed in this Email and its attachments are =
those of the sender and do not necessarily reflect the views and =
opinions of the Hospital Authority.=20
*************************************************************************=
**

--------------090508000000060102040500
Content-Type: image/jpeg;
	name="error.jpg"
Content-Transfer-Encoding: base64
Content-Disposition: inline;
	filename="error.jpg"

/9j/4AAQSkZJRgABAQEASABIAAD//gAcU29mdHdhcmU6IE1pY3Jvc29mdCBPZmZpY2X/2wBD
AAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0
Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAIcAtADASIAAhEBAxEB/8QAHAABAAID
AQEBAAAAAAAAAAAAAAUGAgMEBwEI/8QAVhAAAQMDAQMGCQgIAgYIBgMAAQACAwQFERITITEG
FBZBUZEVIlJTVWFxk9EyNmJzgZKhsQcXIzNCVJSjVsEkNXSCorI0Q2NyddLw8SU3g7PC4URF
Zf/EABoBAQEBAQEBAQAAAAAAAAAAAAABAgMEBQb/xAA6EQACAQIDBgMGBQMEAwEAAAAAAQID
EQQSURMUITFSkQVBYRUyQrHR8CJTcXKhFoHSIzNiwQaSsuH/3QAEACj/2gAMAwEAAhEDEQA/
AM+e18UlNFRxiWSVvydIznBPWRuw1SltuVXUU5dPoB1Ya5u4EesdWOH2KNZSTVlRTxtbPFCY
8PnjcG48V2MEHPEjdjeuqy0tTC2aOrpRG7UHOlbj9q7eDwJ3YAxw446l+lkonzGydlguEcoj
OhxLizLXAgEDJyerccrRM+rgeGktfloeDGdQweG8LvnuW3nbKYcFupuC/cWOGCOHH1r5BcjT
1DXtj8RsbYw3XgnSQck447lwWa3FGrx1Ix1XO0NJcPGGd3UvnPZvK/BddZK2qEOGluyYW+M7
ORkns9a5diPUuitbijLaPnPZvK/BOezeV+C+7EepNiPUrZEuj5z2byvwTns3lfgvuxHqTYj1
JZC6PnPZvK/BOezeV+C+7EepNiPUlkLo+c9m8r8E57N5X4L7sR6k2I9SWQuj5z2byvwTns3l
fgvuxHqTYj1JZC6PnPZvK/BOezeV+C+7EepNiPUlkLo+c9m8r8E57N5X4L7sR6k2I9SWQuj5
z2byvwTns3lfgvuxHqTYj1JZC6PnPZvK/BOezeV+C+7EepNiPUlkLo+c9m8r8E57N5X4L7sR
6k2I9SWQuj5z2byvwTns3lfgvuxHqTYj1JZC6PnPZvK/BOezeV+C+7EepNiPUlkLo+c9m8r8
E55P5X4L7sR2hfNgO1LIt0OeT+V+Cc8n8r8E2A7U2A7UshdDnk/lfgnPJ/K/BNgO1NgO1LIX
Q55P5X4JzyfyvwTYDtTYDtSyF0OeT+V+Cc8n8r8E2A7U2A7UshdDnk/lfgnPJ/K/BNgO1NgO
1LIXQ55P5X4JzyfyvwTYDtTYDtSyF0OeT+V+Cc8n8r8E2A7U2A7UshdDnk/lfgnPJ/K/BNgO
1NgO1LIXQ55P5X4JzyfyvwTYDtTYDtSyF0OeT+V+Cc8n8r8E2A7U2A7UshdDnk/lfgnPJ/K/
BNgO1NgO1LIXQ55P5X4JzyfyvwTYDtTYDtSyF0OeT+V+Cc8n8r8E2A7U2A7UshdHznk/lJz2
fyl92A7U2ISyF0fOez+UnPZ/KX3YhNiEshdHzns/lKGv7qqsNuhjpamscaknm9M4Nc8CNx7R
u3Z4qa2IWmeiExjcHyMfG4ua+OV0bmkgg4LSDwJC44im50pRhza4HSjUVOop6FX5A01ey7Vs
lYJY9i2opnQzTOc9r2sdnI3jh1gqfffeUdFyOsFJZaUTQR2OgmleYtTW5BDtbtQIGG8B61tt
dpprZWzVMbXh8wlMjnTOeXvewguOSd5OMlSFNT213Jmz0NbQxvrqKhgppJXRNka7QzBbv4ty
Sf8A3XyK+HxDf4km+Hlw/wCj006sLPjbmSMbppLBySuMuYa2qr421DYXuDHAtkyMEndkDcpy
3MZLaLc2YuMTaNr9mwkFxA3k+zdgetVrnGfBsRmDKWgnbNHBDTNYMAHxflbhvz9i7JKy11ll
pLdX0s8rYGNBMcpjOoDBwWkHC81TCVsrVONm/Q6KrDzkRvT+il5RWi2WwVxfV1TIpedHLQw5
yMZ3HdxXiFv/APndR/8Ajkf/AN0L1mjsNJR36huMRp4Y6V0TtjT0egv2ZOCXF53nOCfUFSqX
kPeIP0kU9/dzbmUdzZVECXx9AkDuGOOOpdKWFqxivwu/ncSrU23Z8CTunKJluv11ZcopJmvu
cwilddKqPEe3cw+JG4NAZj7Qp/kXV1VVXVM0kMlNS1FNR1FPAa2WoBaalzdeZCSCdPAdWFqr
uTbautuEorKd0NXLM/RPb9bmtkk2hZqEoyNWDnClrVDLQ1TqirrG1JEFNSxMipRC2KKGTWBj
W7J3kL61dKVHLBO/9/T+xzVSN+ZtutUaW5zzve6p111Qw0vPJY5HNaRjRpcAAM9m/es7PM+e
AymbUJoIZHMbNJI1juc4x45O8AAHCyqHRy1VTIBTPZLO+ZoqKFkro9RyQHFy10UcFFJUSB2p
0+zBDYtAGmQPJ3uOSV8RYWvf3WcYytO7fAzuVPc6u6XiSi2k5gnmc6PbzFxALA1rGMcO0ngs
aCXXJVhkk5j2IBZLJI7xm1DBnDzkHiFjXQxVdxqaps2kSzPlYHQEuZqxkamyDI8UJRxRUTZQ
14IdGI2MZDoa39oHknxiSTheaOBxKqJ5GfoKmNwzoOKmr29TqujjU3m8MdU1ULaaqaZZYpn6
mscWNAY0HGAS4ncsI5Ayor6RlRJOyKkBMpkeWygyMLXaXE6XYOCO1fa6Y1FfUVNLWTUpkmdK
x7IgJGagAQHBw3HSNywjc2OOXVKZHuhMYOyDckvD3OcdRLicLEcBilVvs3z5/bPl7anbmcXK
Z8UQ5VVrnVdRc2XIU9DA2tmjYBso3OOljwMNBc4n2ZKirPLWOgq+csnhMlprNbHVckzHlros
OGtzhkanDcVLXCjNRyhrLpTVcLWz1BnZHU0Am0O0tb5YB+QDvG4rZUur66epqrjcW1c7rfLR
wtZSCFrdZack6jn5IXt3Wtf3Ge94yhssqkuXrpy0P//QpH6DpHRfpAkkbjUy31DhntDV+jKe
nqKmigudLWysL2kbKZ+qOQEjxsEeKdxIx1FeI/o25HXLkpypfcLqIXUrqSWAinmy/Lxjd2e1
XB9pmMIjZyv5SYYBs2SGFzWkfJyMDIGB2KVcLXcuEfL1MqrT1O2TlBPeLdDLK6B1RR3CekfL
TgiOQtYDkA7xucB9meta46uZ0jGl24uAK5bdaKa0WOmt9PLNPIKmWqqZ5QG63vAB0tBOBuG7
JXXFC0SsJIwHD819bAU5U6OWouJ5K84yndM56i7zRnxHADs0NP8AktVDdqqqrRE57dBaTuYA
cjHYt1G61MhkZc7dcZZ9o7DoSWt09X+a4LTC8XUOdFIyMMdlzmkDq7V9XLTyy4cv0OGZ3RP0
jLjcpXtpvEibkGUwF7QR1Za0nK4JKuriugpHVUM8Ri2gkibgEEZGNwKxpq91KGxyU1bmKpdK
Ni4sDt43HxTkeL+K5KR09ReBLNG9rREW5MekNAGAOCwqdszdrW9C51wRN4q56eolpdEmwdh8
TWgv05xqAxvCi7wKqne+lqXQmTYOe9sYGqI4J0kjr7R612Udwfa5KiaGllNfrIimLCWxtJ3k
DrJUfc5IqqqmqoaOWmD4Huma4HTtCDktz1E9S+FSqz2sVd8z7sqVNQlwXL0L07k5Z6VrGinq
Dnc0Ne53ALY2wWl7i0RTAgA+NI4bj/7KRq4HzGIbEyMaSXNzg8MLR4Okc9rnPAaDkNa0jrJ7
fWvJvNbqfc8uzhoc/Rq1+ak965aRY7OQ87CoAYCSS5wG7jhT2Dnge5Roop3ySh8TWte4kuxn
O84BGfWVN4rdT7jZw0OccnrQS0bOQFwy0GV2/dlJOTtpijdI6GbS0ZOJHErvjonsqGynScfQ
OfkgcfsXS8O0HEZdu+TwyrvFbqfcbOGhDM5P2l5diGcaTgkyOG/GVn0atfmpPeuXRzGWSGKM
sMYjzknfqz7DuW5lDoma/Li1oHi4O89v+am8Vup9xs4aHD0ZtfmZfeuWptiszxGWxynaAloE
js7uKncOG8NOfYotlBUANaYcZa5jiTkDIxuGftV3it1PuNnDQ19GrV5qT3rk6NWvzMvvXLti
oXxzCQlp7RoPePWuohwBw056tym8Vup9xs4aEJDYLRO3UyKb2OkcD2rLo7aTJs9lLq06v3rs
ELpZb5Xwxsc0wuYN5G/Ue3cVsdQSOc1wcxulukARnAzxI71d4rdT7jZw0OTo1avNye+KdGrV
5qT3rludb5iWR4BjDSNW/Lckn29a6YKQwyB27AbpwGn8+xTeK3U+42cNCOk5O2mKNz3RS6Wj
JxI4rBlis8ji1sM+Rxy9w68fmCpmdjnQvaI3PLhjHBcbKKXBaIdG9rtTzqHi+oHrV3it1PuN
nDQ5X8nbSzTmKXxnaRiVx3rLo1aj/wBVJ74rqZbpGvaS8ENxjxDuwBv9pX3we7RgO0uBGC1u
Bgf55AP2JvFbqfcbOGhydGrV5qT3rli/k7ao9OYZjqcGjTI47ypSKm2MrnNHikAAad+71rGr
ikljYGxa8PDi07sgKbxW6n3GzhoRXgGzmDbbKbRjP7x2cZxwW3o1ajwikPsmK3x2+bZ+N4j9
GjBBIHcV0UdPJC15ewMLifFaNwGSc+3em8Vup9xs4aHB0ZtfmpPeuToza/NSe9cpjB7D3Jg9
h7k3it1PuNnDQh+jNr81J71ydGbX5qT3rlMYPYe5MHsPcm8Vup9xs4aEP0ZtfmpPeuToza/N
Se9cpjB7D3Jg9h7k3it1PuNnDQh+jNr81J71ydGrX5qT3rlMYPYe5MHsPcrvFbqfcbOGhD9G
rX5qT3rk6NWvzUnvXKYwew9yYPYe5TeK3U+42cNCH6NWvzUnvXJ0atfmpPeuUxg9h7kwew9y
bxW6n3GzhoQ/Rq1+ak965OjVr81J71ymMHsPcmD2HuTeK3U+42cNCH6NWvzUnvXJ0atfmpPe
uUxg9h7kwew9ybxW6n3GzhoQ/Rq1+ak965OjVr81J71ymMHsPcmD2HuTeK3U+42cNCH6NWvz
UnvXJ0atfmpPeuUxg9h7kwew9ybxW6n3GzhoQ/Rq1+ak965OjVr81J71ymMHsPcmD2HuTeK3
U+42cNCH6NWvzUnvXJ0atfmpPeuUxg9h7kwew9ybxW6n3GzhoQ/Rq1+ak965OjVr81J71ymM
HsPcmD2HuTeK3U+42cNCH6NWvzUnvXJ0atfmpPeuUxg9h7kwew9ybxW6n3GzhoQ/Rq1+ak96
5OjVr81J71ymMHsPcmD2HuTeK3U+42cNCH6NWvzUnvXJ0atfmpPeuUxg9h7kwew9ybxW6n3G
zhoQ/Rq1+ak965OjVr81J71ymMHsPcmD2HuTeK3U+42cNCH6M2vzUnvXJ0ZtfmpfeuUxg9h7
kwew9yu81up9xs4aEP0ZtfmpfeuToza/NS+9cpjB7D3Jg9h7k3mt1PuNnDQh+jNr81L71ydG
bX5qX3rlMYPYe5MHsPcm81up9xs4aEP0ZtfmpfeuToza/NS+9cpjB7D3Jg9h7k3mt1PuNnDQ
h+jNr81L71ydGbX5qX3rlMYPYe5MHsPcm81up9xs4aEP0ZtfmpfeuToza/NS+9cpjB7D3Jg9
h7k3mt1PuNnDQ//R9R6M2vzUvvXJ0ZtfmpfeuUxg9h7kwew9ym81up9xs4aEP0ZtfmpfeuTo
za/NS+9cpjB7D3Jg9h7k3mt1PuNnDQh+jNr81L71ydGbX5qX3rlMYPYe5MHsPcm81up9xs4a
EP0ZtfmpfeuToza/NS+9cpjB7D3Jg9h7k3mt1PuNnDQh+jNr81L71ydGbX5qX3rlMYPYe5MH
sPcm81up9xs4aEP0ZtfmpfeuToza/NS+9cpjB7D3Jg9h7k3mt1PuNnDQh+jNr81L71ydGbX5
qX3rlMYPYe5MHsPcm81up9xs4aET0ctvkT++cvh5N2w8Y5j7ZnKXwew9yYPYe5TeK3U+42cN
CJ6OW0DAZP75y+Hk1bHDDo5j7ZnKXwew9yYPYe5N4rdT7jZw0Ifo1bMY0TY+vd8VhJyVtMzC
x8UxaRgjbuU3g9h7k0u8k9yu81ut9xkjoarhW10dypaKggppJJ45ZS6olcwNDCwYGlpyTr/B
aKiqvlIxr6ltjha5waHSVkjQSeA3s4rk5UVclBO6shkEUsFqrpGyHGGkbE539iod05csFU2C
3VE9xo4pAGuqZ4XbVpOHhuYzJ4wyAdWd46sLhUrwpNKXmVJsu1y5RXq13ehts9vtz5q7Iicy
pk0tIexvjZZw8fq7F3Vtfe7dSy1NVFaGRRRulfiomc7S3iQ0MycZHDtCp8tOaO6ciYX2+S3h
jXnm0tQZnxjbRHxnneTvyexR77fbr3cbpf7rfK1tRtaqO3OLZnUzKeRjGxlwDQABgkjdnIJ4
Bd7InEsE36QZIYJJo4rfUbGRjJoWSzRys1A6XaXxjI8UjKmpr1caUxtqp+TtNI9geGTV72Ow
evBaqRyl5KVtitj62rqqeUSztY1sTXDBJ1HeerxeHrWnldyqo+RfL+O81lG2qjNphphGTg5c
5zgc4PkHvSq4QfDijNNycfxKzLrU8pLhDbK6tp3WCsFHTvqHxU9e9zi1oz1NOOxSdfdaqJ1u
ZSQ02urhfO91VMWMja1rSd4afK/BeXUt38P3TlRdvBz7e2q5LvfHC7rjIBa8HAyHD1dSvl8g
kqaW2wRRmSWW0VbGMHFxMTAB9qkWnxNEhSXC8XBrnUTrDUtYcOMNa94B9eGriufKC9Wi5W+h
qLfb3yV5LIXR1MmGuD2N8bLOHj9XYqNNLX0F4r6iY11DUyU7Y4Xhzo36S6QtcW5w/SdI35AG
5Tlxr6i5XHkXU1Tonzmpmje+EYa4sqImZA6s6c4XV07RzC5aXXG8McWuFkBBwQaqXj2fIXDd
eU1zs9FzyamtdRE2RjHsgqpNY1OAyMsx1ryvlMyWs5VXR0lQ0jwjJTM5wZDHFvwHDScggbgQ
Cd6kacz0/JO5W6sldJUU9bCWkuc8OjMjQHNc4DILg4+rK5QvJNpcED1FtfffB0ddNDZYIHxt
kLpauRoaCBjJLMdawqLpe4bRUXOKGzVFPDC+XMNZI4ODQSQCGY6lwupoxeuTtVc7k9tuFEBD
SzQs2HONIwS88H4zgHsOD1Lmr6pjq3lRDbLafB3gyTnFbDO3Ymo0O3aB/HpwCRv4ZHArtsll
uv1JcnprvVvgs3MaWB09yZtMTyua2MCPWd4aSexcNXyiq6CpdTVdVydhnbjVHJXSAjPaNCxB
eKbkmY86xRSaccc833LyN89ikid4QZM+udvlmBfrL8HVnUcZz6h9vFeOvW2SXDmfX8J8MWOl
JNtKNuSu+P8AdHtDbrc6e+Wy311LQ7K4CXRLTVD3FuhurgWgEH2rIXG71NRcOaU1ubTUk5hL
6moe1xw1ri44aQBv7epUvkfXNrrpYTCZTRQ19dFSCRxJEQgZgAnfjJd7OHUuzlFdZqCkr6Vs
0NNBW3iSGWeYO0j9nGQzxQfl8O9dotSSZ86tTdKpKm/JtdiXp+VdRVVMdPDPZHSyuDGN5xMN
TjwAJjwpnk/cp7tFXirgjgno6x9K4QyF7XaQ05BIB/i/BeQvra+G4wNoKzNc+oLoOa6i+STS
QCQ5oBjy7Byd2rOCvVeSP77lF/4xN/yRqqz5HIsOyHa7vTZDtd3rNEsDDZDtd3psh2u71miW
Bhsh2u702Q7Xd6zRLAw2Q7Xd6bIdru9ZolgYbIdru9NkO13es0SwMNkO13emyHa7vWaJYGGy
Ha7vTZDtd3rNEsDDZDtd3psh2u71miWBhsh2u702Q7Xd6zRLAw2Q7Xd6bIdru9ZolgYbIdru
9NkO13es0SwMNkO13emyHa7vWaJYGGyHa7vTZDtd3rNEsDDZDtd3psh2u71miWBhsh2u702Q
7Xd6zRLAw2Q7Xd6bIdru9ZolgYbIdru9NkO13es0SwMNkO13emyHa7vWaJYGGyHa7vTZDtd3
rNEsDDZDtd3psh2u71miWB//0ve9kO13emyHa7vWaKWBhsh2u702Q7Xd6zRLAw2Q7Xd6bIdr
u9ZolgYbIdru9NkO13es0SwMNkO13emyHa7vWaJYGGyHa7vTZDtd3rNEsDDZDtd3psh2u71m
iWBhsh2u702Q7Xd6zRLAw2Q7Xd6bIdru9ZolgYbIdru9NkO13es0SwMNkO13emyHa7vWaJYG
GyHa7vTZDtd3rNEsDDZDtd3psh2u71miWBhsh2u702Q7Xd6zRLAw2Q7Xd6i7/qitgcx7gTUQ
tOD1GRql1E8o/wDVTf8AaYP/ALjUa4Ahr/Vk3KnmoK2zOkhjnp54K+YgEPMfkg+QQQe1RUVV
UwStlipuREcjDlr2SPBB7QdCrNNdZo4NtU1czgd7nPkOAu2K9wyv2cdRqfjOnaOyQvfuE1zZ
wddLyJC6eE7vdaK41Fy5NRyUTTs42VUhbJl7CQ46cjcw8O1RjrNXSUfM33+3upCGgweFnhjg
MYBAi9QXQbk/6f3yvnhJ/wBP75+KbhPUm8rQkL7LdOUdFHRVly5NQQtlEpfDVSOdkA7sFoHW
tNxg8MiE3Wj5EVz4WBjXzzSOIA9rFy+En/T++finhJ/0/vn4puE9RvC0M3W8xW+upqCHkZQv
rKR9I6aCokDmscMYHicBxxw3Kx3KtDZLRUWq6Wd81FE+J7aqdzWuDmtGQWgni38VWfCT/p/f
PxTwk/6f3z8U3Cev33G8LQm6m6XGsc11UORs7mjDTLPI4gfaxR1dHX19bbann3Jel8Gkvgig
qH6HOL43YPijA8Q8O1cvhJ/0/vn4p4Sf9P75+Ku41LWzffcbwtBX2eG5VklZUw8k3VL37R0z
a+ZrtXbkNWuSxulpnUza7k/TxyvjMkjbhNK4NY/VhrXNwN62eEn/AE/vn4p4Sf8AT++fim41
LWzcPv1G8R0JqO73htuiopajklNEyNsZbJVSkOAAG8FnqWFVcrvPZ6i2x1HJKngmhfDiKqkA
YHAgkDRjrUR4Sf8AT++finhJ/wBP75+Km4VOr77jeFoWKrqWw0tiNsutnfU26PZvFTO5rHgx
6CQWgniq5c7JTXivlrq6n5KvqZd73sulVGHHtw0AZX3wk/6f3z8U8JP+n98/FR+HSfNrsbhj
ZU3eF0/R2Je2lzLvZpKmr5O0lBa2Stjhoqh5Pjs0gYc0D1rbNW1UNVco6Wr5M1VBV1JnDayd
+re1owQGkcWqD8JP+n98/FPCT/p/fPxV3Cev33MbwtCYgr62lmE1PFyKhlHB8cz2kfaGKT5M
VlNbKe4PuV1thqaytfVEU0xLGhzWjGXAH+FVTwk/6f3z8U8JP+n98/FNwnr99xvC0PR+kFn9
J0vvQnSCz+k6X3oXnHhJ/wBP75Twk/6f3ym4T1++43haHo/SCz+k6X3oTpBZ/SdL70Lzjwk/
6f3ynhJ/0/vlNwnr99xvC0PR+kFn9J0vvQnSCz+k6X3oXnHhJ/0/vlPCT/p/fKbhPX77jeFo
ej9ILP6TpfehOkFn9J0vvQvOPCT/AKf3ynhJ/wBP75TcJ6/fcbwtD0fpBZ/SdL70J0gs/pOl
96F5x4Sf9P75Twk/6f3ym4T1++43haHo/SCz+k6X3oTpBZ/SdL70Lzjwk/6f3ynhJ/0/vlNw
nr99xvC0PR+kFn9J0vvQnSCz+k6X3oXnHhJ/0/vlPCT/AKf3ym4T1++43haHo/SCz+k6X3oT
pBZ/SdL70Lzjwk/6f3ynhJ/0/vlNwnr99xvC0PR+kFn9J0vvQnSCz+k6X3oXnHhJ/wBP75Tw
m/6f3ym4T1++43haHo/SCz+k6X3oTpBZ/SdL70Lzfwm/6f3ynhN/0/vlNwnqN4Wh6R0gs/pO
l96E6QWf0nS+9C838Jv+n98p4Tf9P75TcJ6jeFoekdILP6TpfehOkFn9J0vvQvN/Cb/p/fKe
E3/T++U3Ceo3haHpHSCz+k6X3oTpBZ/SdL70Lzfwm/6f3ynhN/0/vlNwnqN4Wh6R0gs/pOl9
6E6QWf0nS+9C838Jv+n98p4Tf9P75TcJ6jeFoekdILP6TpfehOkFn9J0vvQvN/Cb/p/fKeE3
/T++U3Ceo3haH//T9s6QWf0nS+9CdILP6Tpfeheb+E3/AE/vlbOfPDA90haDwy9x/Je7cJ6/
wefeFoeidILP6TpfehOkFn9J0vvQvNn3eNnyqnH+8/4Laa57GapHlg9b3H8lfZ9TX+BvC0PR
OkFn9J0vvQnSCz+k6X3oXmzrzEz5VUB/vP8AgtprJtGpzywZxve7/JZlgZwV5St/Y1Gtmdoq
56J0gs/pOl96E6QWf0nS+9C80kuRYCTUgf77/gououdayqLG1U7Bvy3aE4K5ywryuUZJ2Ol5
J2lFo9f6QWf0nS+9CdILP6TpfeheO+E67+cn++U8J1385P8AfK8vE0exdILP6TpfehOkFn9J
0vvQvHfCdd/OT/fKeE67+cn++U4g9i6QWf0nS+9CdILP6TpfeheO+E67+cn++U8J1385P98p
xB7F0gs/pOl96E6QWf0nS+9C8d8J1385P98p4Trv5yf75TiD2LpBZ/SdL70J0gs/pOl96F47
4Trv5yf75TwnXfzk/wB8pxB7F0gs/pOl96E6QWf0nS+9C8d8J1385P8AfKeE67+cn++U4g9i
6QWf0nS+9CdILP6TpfeheO+E67+cn++U8J1385P98pxB7F0gs/pOl96E6QWf0nS+9C8d8J13
85P98p4Trv5yf75TiD2LpBZ/SdL70J0gs/pOl96F474Trv5yf75TwnXfzk/3ynEHsXSCz+k6
X3oTpBZ/SdL70Lx3wnXfzk/3ynhOu/nJ/vlOIPYukFn9J0vvQnSCz+k6X3oXjvhOu/nJ/vlP
Cdd/OT/fKcQexdILP6TpfehOkFn9J0vvQvHfCdd/OT/fKeE67+cn++U4g9i6QWf0nS+9CdIL
P6TpfeheO+E67+cn++U8J1385P8AfKcQexdILP6TpfehOkFn9J0vvQvHfCdd/OT/AHynhOu/
nJ/vlOIPYukFn9J0vvQnSCz+k6X3oXjvhOu/nJ/vlPCdd/OT/fKcQexdILP6TpfehR17u9uq
6COGnrqeWQ1MOGMkBJ/aNXl3hOu/nJ/vlfRc68EEVs4I4EPKWYNcjALRvIAOnJIzjeuSgbTi
vpooqbYFrGlwnky4kt3PbxyXA8M9R61ZLbYKy9WmMxUb5oAcEtm2ZyB6iD1rvk5GV0ksEjrU
dcDWtjInAwGnLQcO34Pav0kq8ItxbXc+c4yvdIzo6SKS0F74WPl1SBo0+M/xRjB6sHJ9eMLk
pKfNFI+OFktSJGjS5urDMcce3cu88nL1n/V/9xnxTo5evR/9xnxXDaQ4/iXctp9JzNtMckbZ
HPLXPIy1mNIJfpLR6wN/sW11hiErmmoe1uAQ4huBvIOd/qz9q2dHL16P/uM+KdG716O/uM+K
bSPWv4Lll0mMNph/bRFww+MEOkA1RHaYz9oyVGVlI2nqnRRuc5oA3uGCpXo5evR39xnxTo5e
vR/9xnxVjUgndzX8EcZdJB7M9ibM9inOjl79Hn3jPinRy9+jz7xnxW9tT6l3JknoQezPYmzP
Ypzo5e/R594z4p0cvfo8+8Z8U21PqXcZJ6EHsz2Jsz2Kc6OXv0efeM+KdHL36PPvGfFNtT6l
3GSehB7M9ibM9inOjl79Hn3jPinRy9+jz7xnxTbU+pdxknoQezPYmzPYpzo5e/R594z4p0cv
fo8+8Z8U21PqXcZJ6EHsz2Jsz2Kc6OXv0efeM+KdHL36PPvGfFNtT6l3GSehBbM9ibM9inej
l79H/wBxnxTo5e/R/wDcZ8U21PqXcZJ6EFsz2Jsz2Kd6OXv0f/cZ8U6OXv0f/cZ8U21PqXcZ
J6EFsz2Jsz2Kd6OXv0f/AHGfFOjl79H/ANxnxTbU+pdxknoQWzPYmzPYp3o5e/R/9xnxTo5e
/R/9xnxTbU+pdxknoQWzPYmzPYp3o5e/R/8AcZ8U6OXv0f8A3GfFNtT6l3GSehBbM9ibM9in
ejl79H/3GfFOjl79H/3GfFNtT6l3GSehBbM9ibM9inejl79H/wBxnxTo5e/R/wDcZ8U21PqX
cZJ6EFsz2Jsz2Kd6OXv0f/cZ8U6OXv0f/cZ8U21PqXcZJ6EFsz2Jsyp3o5e/R/8AcZ8U6OXv
0f8A3GfFNtT6l3GSehBbMpsyp3o5e/R/9xnxTo5e/R/9xnxTbU+pdxknof/UmdmU2ZU70cvf
o/8AuM+KdHL36P8A7jPiv0G2p9S7nzsk9CC2ZTZlTvRy9+j/AO4z4p0cvfo/+4z4ptqfUu4y
T0ILZlNmVO9HL36P/uM+KdHL36P/ALjPim2p9S7jJPQgtmU2ZU70cvfo/wDuM+KdHL36P/uM
+Kban1LuMk9CC2ZTZlTvRy9+j/7jPinRy9+j/wC4z4ptqfUu4yT0ILZlfTSVddVMpKSJ0sux
DtDSAcZO/epzo5e/R/8AcZ8Vql5KXiaVsvNKiKQN0ZinY3IVjXpp3zIZJ6FQudFVW+pdT1kT
opQASxxHA8OCskFRJS3OV8cLJnx0r3tjkZraTqPV1rZLyIucztUtNVyH6VRGc/auibkteZ5x
OaSoilA06oZ2N3ZJ/wA10qYmjNJOS+/7kjCor8CIu10q7jZKttVb6WnEbo3NfFTbMkkkEZXZ
S848LU8VPBHO9wd+ykHiubl2c9gxnf1LbNyMu9Q3RNFXSNznS+qYQt0/Ji8TPEj6GZjgC3Mc
zBuJ/wD2vJipU501Gm1z1PVhW4VL1F5HFyipqSmtLvBLI5qN0p29Rq1va8Z0s3jc3HA9agLg
0tr89uVYpOSFxLSx1LUaTxHOIwCoW909RSXJsNVFsptJcWgg7jjG8LyUYuNOpdrlqmeuvVjP
Ko+pwoiLwGAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiID1P9Hnz
XH1zvyarWqp+j35rj6535NW223y7yUtfWVlHG6Gm1hkcTDG+XSd5aXOIcMezfuXpxEW60/1M
Q91FmRQ0l7q44qUiyVbpKlzmtj2kYLcDI1eNgZGfYdyzbe3vqnRMt85jJeyKUuYBJIwHLcZy
OB3nduXHIzVyWRcNquElypBUPoZ6RrgCxsxaS4EcfFJwvrq2Vt35nzc7MwGVsmR4xBAI45HH
rCy4tOwvwudqKMs93fdGOMlDNSODWva2VzXamnOD4pOOB3LXd78LTVU0LqGpnZM4B0sQGmLL
g0FxPDeVcks2XzF+FyXRQsN7qXxV0j7W9gpjIGATxkzaDg4Gd329qG/yMpdvNbKiHML5mtkk
jBLW44+NgHDs/ZhXJIXJpFEOvUpqpI4bbPLEwuZttoxrS8N1acE59WcfhvWFLfZpqOnmltz4
ZJwSI9vG7T4heMkHrwQpkdrlJpFDNvskk9OyO2VD45oG1BlD2aWMPHO/ORu3DOepYWjlKy60
9RP4PrqaGKPatknhLWyMwTlpPXu4K7OVrkTuTiLjt9bzq3UdRMY45KmNr2sDu0ZwM8ThR8lz
uNLVXV80UE9LRxCSOOFpbK/IJxlztPAHsUyO7RScRQUl/qmsp9NnlMskz4pY3TxtMRa3VnOc
HI7CvsPKVlRepLdDbq2RrHFnOWxExaw3VjVwAxuz2q7OQuTiKBbyhqn0LKltjq/2krYo2Oli
BcTkE/K3AEfaDlfelEAuFDS81qDzprCXgZETnZ0tfjgTgps5EuidRR9BV1Ejq5tWIs08xa10
QIBbpDhnJO/eoqrv1xbaqGup6eHZzxbeVzmueI2HBGQDkDG8uweHBFBt2RSyook3zTVS05o5
S+J0msB7SQxrQ4PxnOHZAHXlfbPfGXSklnlppqExS7J0dThrs4BHfkcVMkrXFyVRQtVyibTV
zoOYzyQMlMT6hrm6WvDNZGknUcN7BxXLT8q5qu3OqoLJXBwkia2OcCIPbIcBzXOwD6x6wqqc
mri5ZEUBLyobFc4KEW2tle9rHTOgj2jYdRIAJbkHBByerC+9I5hFVPdZ6kGHUWt2kZ2jWv0O
Iwd2OO/iE2ciXJ5FCm+vfbjVMpSzXVNpoC94c2TLw0PBaT4vHuRnKOB96qLdzaf9k1zmzgZY
8tALmg9ozjCbORT/1ffkURZ78y6U9RLLSzUJgkDHMqsNO8Ag+rj1rOou0rK91LBQyytY5rJJ
9bA2NzhkZBIJG8Zx2rThJOzHMlEVdi5TystTqirtszJ2tjLImkEzlxIGgAk9RODvwt7OULp4
6CSltdVOysjMjSCxuzwRkODiMY//AErs5EuibRQEfKqmkqa2HmtRimaXMeB4s4DtHinh8ogL
KS/VsboGGyTCSSRzHtdUxDQGt1as6sEY/JNnIpOooODlK2pvM1vgt1a9sZcznIiOyLw3ONXA
Dqz2rKO/PdZaq5zW6opo4YnSNbK5pL8A5+STjeP802ckFx4E0igp+UfNLzR2iajkdVVTWuY6
N7dBG/Wd5yA3sO853Zwcd9BcBUxVLpg2N1NM+KQ58Xxd+e4hRwaVwdyL4CHNDmkEHeCOtQkX
KWGW41tIKSoPNmPe2QNy2bQcODT2gnGO1RRb5AnEUXaL2y6Uck8tNLROjm2Lo6nDXasAjd68
jGVjUXiZtXLT09DI9jDs3VJc0MZJp1AFuoOI4cB1q5GnYLiSyKuDlRJHaec1NrqG1P7MNp2l
rnS6xkFoBPUHHHEALqZfnzyUQprbVTR1cInbICxoY3IzqBIIIyPaq6ciXRMooCn5VQVL6xjK
SoLoC3ZHA01Ac/Q0sccDBd18Fm6/VbZqeM2aVpkMgl11MQ2QZjJ+VvGDlNnIpOIoKm5Sirud
TRwWyuc2EyNbOYiI3vZxbqO4b9wJ4rPw9J4Bnuj7dPThrA6Jkxbl+cAZ0k43lNnIX42JpFGP
uxiqxTPpnF+2bCXB7cElmoEDOcbiO3r4Lki5SvfbZqt1pq2SMaxzIAWvfIHEgEaSew7kySJc
nkVai5YxzS0ccdpuLzOxr5NEJfsA5xaNWM9bTns612QXirqIq4m3indBtBEZJmuEpYcHcDkd
Xeq6clzKuJMrF/yCq9eOUUlLQW6qppKeFlUBIXVDS/DSAcaWkHfkDIzjsVgk3wuPaFmUWldi
5EyPqDJqBZoGBozxHblecctjnlSfq2/8oXqrKdjuJf8AfK8u5etDOVpaOAiH5Bbw69/9rMy8
iuoiLkaCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgPU/wBHvzXH
1zvyapdnJyyRsmYy1UbWzN0yAQjDxnOD9oyoj9HnzXH1zvyarWvRiW1WlbUxD3URz7HaHMp2
Pt9KW02+AGMfs9+fF7N6zNptj6qec0VMZ5mFkr9A1PadxBXFfrNU3Ih1I6kY90ToZDURF+4k
OBGCN4I/zXI3k5UsuNVWRC3RyVDpS97YnBzg5jWgEg7xkZP4YKwuKu5GidoqOit1MIKKCGnh
yToiAa3PXuC1SWq2S3AV0lHTOrAN0xYNYGMcePBV6j5IT0NtMNOaETOme4iSN0kYa5mgjecn
gDv3dS56bkzWi6VUs1BR6GsixOGjaTFsQaQzxvFBIwQ4cD19Wssbt5gi10ltt1AS+jpKeA6B
GTGwN8UbwN3UMnvSe22+pq4quekp5KiIDZyvYC5ozuwfaqtaeStZHZI45qa308wZGDTbMmOX
Tn97hxDjvzkfb2Lu6MSGqtj5IbbLHSsc1wdE7LdTs4ZvwA3+EHOEaSl7w8uRLutlpqX1UjqS
kkfONFQ7Q0l4HU7u/Baqq12KK1tbVUNHzGmBe1r4gWMHWQFGT8kzJFdKeLmdPDWEvDoYCyV7
i4Ow9wO9ucjA4grlfyNnNoZRs5hubK0NmEkrY9ePHZl2WuGPhhEo9Q8yzR2u3Nqm1sdHTioD
A1swjGrTjAwfYtXgWz80fT+D6Pm7pNo5mzbpLu0+tdDqeSW2GlfLokdDszJHuwcYyFXhyWmb
SloprOHGUOMDaZwgkAaRl4zvdvyP8+KzHjzkCajs1pgqoqiOgpWTwt0RvbGA5jR1DsCzprbb
aN80lNS08Lpt8pY0DV7e9QjeS8sdfBVNFA58TIGbV8TjJpZq1gHPWHY9g35Wup5EU8lFUQwu
iYS5jYQ1mgNia4uEbi3eRqJ/DsV/C+cgWCO20McNIwwxyCk307pAHGPcRlpPDcSPYtbrLaHS
1UjqClMlQ0tqHGMZkB34d2j2qEbyUeBao3wW6WKjDg9swkkOHOzhpJ4DqByAeGMBZxcmJo71
X3L/AEJ0k8ckbWva9zXhxG54JO7AA3cUsuoEsLTZ56Ms5jSup5niUtMY0udjAdg9eFtdara+
tFU6jpzUhunaaBq04xjuOFBu5OV8too6SfwZM6ma6MMkheYtJAw4DO5wxu9R6lup+TstNexX
sFEXbRpdKY3bZ7BHoILs8ScHsSy4/iHkScVhtMNO2CK20rIWyCVrGxAAPG7UB2+tfBYLQHQO
FspNVOAIjsh+zwcjHZgqRRc88tS2P//W9xpLRbqCaWakoYIJJf3jo2AF/t7Vq8AWoin2lDDK
6mGIXSsDnMGc4BPVnqUki1mlqCPbZqU1lbUzGSoNXGIpI5iHM0DPigY4bys22e2soxRtoKYU
weJNlsxp1Agh2O0EA59S7UTM9QRkthoJr5Hd3xnnUbNIxgDgRk7sk4OOK2R2S1xQzwx2+mbF
UfvWCMYf7Qu9Ezy5XBwustseacut9MTTACE7MfswDkY7FlBabdTTGaChp45CHN1NjAOHHLh9
p3ldiJmeoOaagppqJtIYwyFmnQ2PxdGkgtxjhjAWl9ktclVJVPt1K6okBD5DEC5wIwcn1jcV
3opma8wcLbLa2ULqFtvpuaOcHuh2Q0EgggkdoIB+wLOa10FTVsq56OCSoYMNlfGC4D2/aV1o
mZ6gjvANo2Ri8G0uzLGxluyGNLTkD2Ao2w2hj6d7LbStdT/uSIgNnvz4vZv3qRRXPLUWOBtk
tbaiWdtupRNMHNkeIhl4PEE9YKeA7VzNtH4OpebNfrEWyGnV247V3omaWoOJ9otz6s1bqGA1
BboMmgaiMYxn2bkgtFupaGWipqOGGmlBD442BoORg7gu1FMz1BwGyWxzxJJQwSzDZnayMDnk
x/IJJ3kjJwfWUms9HUWyot8rHOp6guMwLt79Rycn18PZuXeiuaWoPjWtY0NaA1oGAAMABcDr
FaXzzTuttKZZg5sjzEMvB4gnrz1qQRRNrkDibaLayjbSNoKYUzJBK2LZjSHg5DsdoIByvs1q
t9RV86moqeSo06Nq6MF2nGMZ9hK7ETM9QRxsFodE6I2ylMbmsaW7IYIbuaPs6l9ZY7VHNBNH
bqVktO3TC5sQBjHHDewb1IIrnlqCPZYrTG+d7LbStdO0tlIiHjgnJB7RlfTZLWaWKmNupTBE
/XHGYhpa7tA7V3omaWoOJ9ntslTLUvoaczytLJJCwZe0jBBPXu3Iy0W+K3SW+GkihpZAQ6KJ
ukb+sY4FdqKZnqDils9unqmVU9FBLUsADZpIwXjHDetXR6zbExeC6TZkNaW7IYw0ktH2EnHt
UkiuaWoOGSzWyXm+ugp3c2AEOYx+zA6h2L6+00L31Mopo45qlmiaaNoa9wxj5XFdqJmeoOaW
go52QslpontgIdEHMB0EcMdi3S/unexZrCX9072LLbBhFwXlXL/53n6ofkF6rFwXlXL/AOd5
+qH5BdsP8X7WZl5FcREXE0EREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREARE
QBERAep/o8+a4+ud+TVa1VP0efNcfXO/Jql7Xe4rpLJE2mqIHNBcNroOoBxaSNLjjeOvC9GJ
Tdab9TEPdRKIuGuvNvtshjq6kROERmILSfEBwTuHVkLWzlBaZKqWmZXRuniYXvjGcgAZON28
jrA3hccsmr2NkkiiTynsnMTW+EYTTBwZtBkgkjO7dv3dnYV0w3WjqKptPFMHPdAKgEcCw4wc
9fFHCS5oXO1FFHlLZ208lQa5myje1jnaXcXHDcbt4J4EbipCnqIqunjqIHh8UjQ5rh1hHFrm
gbUXFT3JtRXzUZpaiF8bdbXSNAbI3OMjBJG8dYCxudzNsjbIaGqqGYJe6HRhgGOOpw7eAymV
3sD/1/fkWEkrIYHzSHSxjS5xxwAGVzW+4suDZP2E0EkZGqKYDUARkHcSN4Vs7XB2ItE9XFBU
U8DtRkqHFrGtHYMkn1D/ADC4RfY9NQH0VWySEtDYnNbql1EhunxsDOP4iMdeEUWwSqKJdygp
2sheaepw8Ey7m/sAHaTr39TsjdngepZ0t9pKu6VVAwPbJT51ucW43HB3A5HH+IDPVlXJIlyT
RcFddYqKNjhFLUl2o6YNJw1oy5xyQMDv3r429UclzjoI3l8r4zIXNxpaMAgE54kHOOxMrZbk
gi5KuubT0zpooZKog40QFpPtySAB7StHhmPXR4paoxVYbpm0ANaXDIBBOc7uoHHWii2CSRaK
Wriq2yGPIMcjontdxa4f+gfYVvWQEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERA
EREAREQBERAEREAWEv7p3sWawl/dO9iAwi4Lyrl/87z9UPyC9Vi4Lyrl/wDO8/VD8gu2H+L9
rMy8iuIiLiaCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgP/0PU/
0efNcfXO/JqlbXyepLRO6emfLtJNW1cdI2uXFwLsNGSCTg8d+/Kiv0e/Nf8A+s78mr5DQ1NP
HO+C11cNeG4nq2ytJny4aiwF2C4jOC4DHBeuvxrTV/MxD3UWGtt0FeYDNq/YvDxpOM/RPaDu
yPUFwxcm6OnuFRW08j4ZZtZOiOLLXP4uDiwuznfvJHqxuVfqKm7suFHSCou4kkglfHC3Y68h
w0GUnxeGrODvAG5STKiqmvFbRtrKqTmzTO8QluSXN0iIagBuILhv6xkrnklFcGa8zsl5NRT2
qG3S19XJFEdznticSMYwQWad3bjPrW7wEznkM4rqwRxQ7BtPqYWFmACDluo5wN+VDaLuOT8D
pGXiorTOx743bAHxcZBAOnQR6857F8rquul5SwUjzcGNmIeKdgj2Rg0HLX8Tq15BwcYxvVyy
fmvMnkS7OT7GMDfCFa4tdHoc4sy1rHamsHicM9u/1rvoKMUFI2nbNLMGlx1y41HJJ6gB19ir
FPQ3dlnfS67swsjglaQ+JrwQ7x42EHHyQNx3etWe3mU0EO2ZMyTTvbM5rn/7xbuz7FiaaXO5
UctBZGW+aslbW1cz6txc8ylhLT1YIaDgDcASQFvjtzG2+npJZ552w6DtJn5fIWnILjjfvG9R
VfBVz3G5M0SSNdBDsmNcW62Bx2jQeAJ4faFhT0/Nzbm0NunoM1jnGGR+rEeg6iQCQ0cMDPHC
Wb43KTT6FstXNPJPO5ksIhdTl/7IDJy4DHyjnBOeACxt9uZb2SATTTySEapJiC4gDAG4AYA9
S31JLaWZzYnyuDCRGx2HP3cAcjBPtVUpbbKbG0T2adsTqkyS25rm8NOAG+PggHBJyMnJwpHi
uYZZKqh5xXUdW1+mSmL+rOWuGCPbuB+xcVJychpKOenFdWSmaQTbaUsMjXg51A6d54cc8MLh
Zba1txoHywSSVEbIf9KDxpia0ftGnfnLvUDnPqWzkzb6qiqa508U7BI4EmXR4zsnJGknVxHj
OwTuWrWjwZLnc6wU7mQs29RhgIk3t/bgu1HXu8rJ3Y4lZsslOKqeWWSSeOYOBp5Q0xjUcu3a
cnJHWSo++2imrrzbppbVLVeMWyzNcAI24OM5cDxOdwPBcIpb5TxVjLeKyJ023MbZdkY4TrBb
pAOckF2Mnid+ESuuYZOz2GifTshpm8xY0u/6IxjMhww4EYIwcD17hvR1hoHXSC4CJrZYo3RY
EbMPaQG+MdOo7hjitfJxtwZbC25SzyzCQ6XTxNjfp3YB0ucD178/YouG2VkXLGe4NodNO6cA
yAASPBjAznXvYCN7cA5wRlFe7WYeRJ1vJq31VCaSBpoInSB8gomMj2mOAcNJDh6iFsNjYbtT
3F1dVukgjEbYzoLMdZxp3E9ZBHDsXNysoZLjZRTxQSTPMzD+zaxxaAd7sPIB3dXrXMKGvoK2
lpqJtWylj0bMQ7MQjJ/abQOOrtxp4bkjdx94Mm6Ci5mKhxfrknmdM84wMncAPYAAutVGU390
NRA2K6Mc2JrGzNfAS5wk3ubk9bDvJG/sBG/Rdaa+VVrNMIbpIA2RkYa6HU8h50mTJ4FuMYx1
8E2d3xaF+JdUVTazlFPerhG/ncNFPFI2IgxgQuwNBa7UTk78+LuJ6+K+vF0ZZKZopbxLPHUM
cQ+SFz3gEF2veBp44353BTZcuKDZa0VelN2kvLXtbXshOCGtMWyEeneHb9W0zn1cOpbOTjbn
Ex8dw588mKN+urMZOs51NGjqGB8Vlwsr3FydRVu+211fyitbpKe4S0sILnbF8Yia/U3SXBxy
dwdnHUtOm+bKvz4SMpidjSYdO01DRsd/DGc6ur1qqCaTuUtSLgszKhttjNVJVPmd4zudBgeD
1jxN2OxQbrZVz8pqmpjpaqDU2RhqJCwADThro3NcXcceK5uBvPFRQV2r8guJa0VNnj5RM5PR
QUjbkKpsnjyzSRSSnDOoZA0l27ec9eFIQR3QXilqpmXEtlgj2kTZYxDE8A69TeOeGNOcladP
1RCxIqox938DXCGKlukM7qjVFK8QukLHEcAHgHGDxIOMcUgpb3E20z1MlynlbGWzRxSxMaXa
wQZBw+TnOknhjfxLZ+qFy1oq2111FTeGQUtcwyEPgmmMWN24hmD2fJ1D2rgrm8pG26HwcLpr
Erng1BgdJuA0scA4DSTq35J3evcVO75opc0UFTCZvKiWYWuqijnp2skqDo0F4yd+HZ4buC33
2mdUwwa6OStpmyZmpo3AF4wcbiQDg4OCfyWcvFK5LksiqwgucM9PHTwXCCBrG7OKOSN7GN/j
EhcS4u44xkZx61C1c/KC2UUUtXV3gMe6JrnEQFwJLdQGBjO+QZ4bgtxo5nZNC56Giqkpv0NJ
GY4blM57SGN1wh7MPBBk34yW5BxnOOo710ww3CmuFy2gus0Uge+NwmjLWAgYbGDgh2c8dwWd
n6gsSKoll5ls1uiZFdqaaHaNmEZgDn4YS0neRvdjh684C+R1tzk5U0lLPLXROeRK+Fgj2Ii2
fB3Eh2vOd/2q7L1F+Bb0RFyKEREAREQBERAEREAWEv7p3sWawl/dO9iAwi4Lyrl/87z9UPyC
9Vi4Lyrl/wDO8/VD8gu2H+L9rMy8iuIiLiaCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiA
/9EiIgCIiAIiIAiIgCIiA9T/AEefNcfXO/Jq7xcLu3wqXU1LLzY6YGRF2p5IB359R4DjhcH6
PPmuPrnfk1S55OWciqBoIiKoh0+c+OQcgn1ggL1V2lWnfUxD3UQk/Ki6RUsE7aKGQYkM7WRy
ks0OAIO7xNx6+HrXdT36smvUNC6GnYx8so1anZfG0Za5u77CD/mux/JuzStha+3wubCC2MHO
4E5I9eT2rpgtNvppttDSRMl2j5A8N3hztziD1ZwMrm5U7cFqa4mq81lZQ0Dp6KBk0jd5aQ4n
Hqa0ZJ/918ivlHLLBBqft5mNe1rY3ub4wyPHA0/iuiut1Hc4RFW07JmNOoBw4FdLWtYwMY0N
a0YDQMABc7xtxKVql5RVtTzinNJGysa+NsbXtkaxusuGHEgZI0nOnccjC3+HaosgkbTw6Ghp
qcuOcmQx+Ju37wTv6sKQbZba2lnphSR7Gd2qVu/xj7eKydabe51K40kWaUYg3fIHq7lvNC/I
nEjjea//AEospIn5ilfSMa4lzjG4NIdu4kkYws6e7Vc1HRyiGIudUCGqDg+Mx5OBhpGc7wd6
7vBFv11TzRxF1UMTkjOsetaZOT1pmpYaaShiMMLi6Nm/xXHr9qJw80HcymvdFDPPT6pHTwsc
4s2TwDgZ+VjT+K4DdbsaKpcIqBlRTYfIXPeY9mW6hjdku6lP4GnTjdjGFy01roaSldSwUsbI
HHU5gG4n1rKcV5FNEd4gZLT0tVrjrZGNLo2xPc0OI4asY7ytdqudRWzuZUQxMD4hPDs3E+IS
QA7P8W7qUsualt9JQvmfTU7InTO1yFo+UUvGz4EOlERYKEREAREQBERAEREAREQBERAEREAR
EQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAWEv7p3sWawl/dO9iAwi4Lyrl/87z9
UPyC9Vi4Lyrl/wDO8/VD8gu2H+L9rMy8iuIiLiaCIiAIiIAiIgCIiAIiID//0iIiAIiIAiIg
CIiAIiIAiIgCIiAIiIAiIgCIiA9T/R581x9c78mq1qqfo8+a4+ud+TV95L3eqra2aOpqpZo3
B5idKI8PLZC06CwDcBjIdv3gr1YiLdWbXkzEHaKLUihr3eWWqrtzZKulgimm0yCV+lxbjiPV
niuan5QVNRyultTYqV1IwOzIyXVI0tA+U3qGSRvAHYTlcFTk1dGm7FiRQPKy41FutkTqWupa
KSWdkW2qODQTvI6s47erK0C91cV3jtrKi31JbTNmdmUiaU4JIa0DGTxB7OpVU21dFbsWVFRo
eWl1ktNRUut9EJmSRtGKthbEHZztPG8XGMbyMk+pWyz1slxtNNVzMiZJI3LmxSiRuc43OG4h
J0pQV2S52oqkzlXVvuFziENG6mpmEskbNq0kPDcyYzpAyScgHAOM4ytNx5Q1sluothdbZRvn
qnQuqgdTHtDScs1ZHHDTnO9VUZC5c0VbkvFwhuddRbe3vkjiL6WJzX7STDA7U7G7TnIyAN+5
cFXyyq47dLWQUsQZtGRxCoyzJ0FzskkAAjSW79+ccdyKlJ8ilzRVmPlLNU3Oip6Z9u0VFMyo
2b5jtd+8taOBOOB9XBZ8mOUFbepallZS00GzAcGxVDXvbknLXtBJBGOJx7FHSkldkuixoq3y
h5TSWW6UNO2KF0UpBmMj9BDS4NGnJ3kbyQAcDHDK0DlTUsnrWSG3vEZmbCI5HZGzc0Ev9QDs
nHDBRUpNXQbsWtFB8mbpLdIK101VT1Doqksa6nOWadLSMbhu3njn2laqm/VEN5kpGCkLY8jm
7nO5xIAwu1NABGCd2/17+pTZyvYpYUVMl5XVradr4ZLRO4vPjMlfoIDHPLAfLGnf/wB4cEpu
WFwmu1JSGkotk9zY5JOctZrcXFpMYcQSBgbsElb2EyXLmirth5QVN2vFdTPipebQjMUkEusn
xiMOxwOBnBwfVuWd9vlXaaoRx07ZWSwkwnSSRJnHjY/h3tG7flyzs5ZsvmW5Poq62+yvr7rQ
xVVDJWU8IfBE1xPjAHUHDicEdXUQuF/KOsfR0M8NwtjpnmTagahC4NZrOCcuJHqON5zwwipS
BcEXIyvgfaW3B0jY4HQiYvzkNbjOcqkx8qal9pEb7pLBVmWKRklVsoC+GTO7OhzcDHytO/d2
pGlKXIl+Fz0FFSWX+tl8Eg3OMSvazawsLNpNmQt1NBbh7SAd7S3AyccAvs17qm09U995MMzY
pHTxbNg5k4O8QZLevh42dWcjC1sJC5dUVSrr2wwNkpL4/ZCnkiZKxsbhNUANLcHSQXHPAbj2
LCWtqoK25xHlJIX0lHtzC6OEaSQ7j4mRjxT9vrU2T+7i5cEVIpL442ijnquUzGyPqmtmcx8L
mtBBOjVoAO4A8ARnCkHXaSov9FT0t2aKauYKhjSGagxnFrQW5IfnOScjScKujJOwvwuWdFE8
oKyaipKeSnqWQSuqY2ASY0yZPyDnhntCr0d7ruaMkluk8Ly1z6dstOzVUv2r27IjSOAa0Ybg
+NnKzGm5K6K+Bd0UVygqZ6Wwz1MMskMkelxMTQ5wGoagAQRwz1Kqy8prjBGySWoq21LZ5ZJa
RkMbw2ONo1NO4HTqyA4b8dqsKTmroF/RUkcoppbrWuiuUjqHDhHL+yMTCYg9oGBqDs5I1biA
RvK5WcpK51phjdX1ja+eWN0DRFDJLIws1OIDRpcw4IBG8dZV2EiXPQEVIHKSouVTE6huLhBP
JSgtiYx7oHPOHNdkHxTvGTwI471vp62qNHd6hvKUz8xk0nW2ENGnBwSGbtXjN/LeFHRkuYuX
BFDWu6x+DKCatrmyy3F5MGACMuBcIwWj+EAjJ7FMrEouLswncIiLJQiIgCIiAIiIAiIgCIiA
LCX9072LNYS/unexAYRcF5Vy/wDnefqh+QXqsXBeVcv/AJ3n6ofkF2w/xftZmXkVxERcTR//
0yIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgPU/0e/NcfXO/JqlI
OUlFM+Rr2TQCJjnzumAAhw7Th+/cTjIHWFF/o8+a4+ud+TVKGw5lr5HV05dVSMlB0RjZPZjS
W+LvxgfKzwXqr5dtPNqYh7qOht8tboRM2ugMZZr1at2nVpz37l3Pe2ONz3kBrRkk9QUJPycM
9MIvClZHI7WJpmCMOl1EE5GnA4DgApWqpRV0EtJJJI1ssZjc9h0uGRjI7CuElHyNrnxOU3+0
to2VjrjTtp5HFjZC8AF3Z7fUs471bZaqKljroHTysD2MDt7gRkfhvUXByUbS0Rpqe5VEQNSK
klkEI8YAYw3RgDcDwXQeTNJ4bF1Dhti5r3h0EbtTw3Tq1FuppwBwIWrU9ScSUnq4KZ0LZ5Wx
umeI4w4/Kcd+B69xXIL9aTLFF4Qp9crixjdfEg4I7xhbbnbYbrRmlqC8RlwJ0HBPaM+sZHsK
in8kKF09LOHl0kDWsc6WGOUyBri4ZLmnByTvGOKkVB+8yv0JSO6wPNbtQ+nFG7EjpsNGMZDg
c8MLSOUVnNMyoFyptk95ja7WPlDiPsWrwE581a+W5VMjaog6CyMCNzSC0tw3O7A45z1r5JYZ
JWAuutWZyHMkm0R5ex2MtxpwBuHAZRKHm/vsQ3s5Q2d9W+lbc6Uzsc5ro9oMgtGTn2YK6aG4
0dyhMtFUxzsBwSw5wfWoebkjTVIeyasqHxPc7VHpZgtJzp+TnHEdq7rNZYbLFLHE9r9o4EuE
EcZ3DG/Q0Z+1GqeXg+I43Nzrxb23TwY6qYK0tDtjvzg5x+RWdJc6GvkljpKqKZ8JxIGOzp/9
YWuotxnr2VTaueJoaGyRM06ZQCSASRkcTwIysLdaRb5S81c0+mMRRCRrBs2Dg0aQM9W85O5S
0LFNlZd7fbpWRVlZDBJIMsbI7Bdvxu7eKxF7tjpKiMV9PrpgXTDWPEA4k+xKy2yVVwpattbL
DzfOI2sYWuzxyXNJG7duIUbHyPoYKiplheYxNqLdMMQdG5zg4kP06j4wzgkhVKFuLJxOun5S
WyqjbJFOC19TzaM7vHfgHdv9ftXTLeLdBW8ylrIW1Oku2Rd42ACTu9gJUceTc2xkYL1WB0lQ
Kl79nDlzwG43aMY8ULe2wReHG3WSokklb8lpjjGDp0/KDQ4jicE4yVWoa/fYGcXKOzzUAr2X
GDmhcGbVztLdR3gZPBborxQzzwQQVDZXzxGaMMPymDdlcb7BI63Oo/C1Xo1sLC5kbtDW8GAF
uCOG8gk44rfNaZ5q+kqvClQzm7cbNscel5PyifFzv9WFGoeT++w4mNDyktVwhD4ayMOy1ro3
OAcxzjgAjtzu9qzfyhtMctPG6viD6kuEI3nWQdJ/HcuOm5MNpqUweEqt+lmiFzmxgw+MHEjD
QDvA45W1lhfHBExt1rRIyR7nTeJreHkFzT4uAMgYIGR2q2p35/fYcTuiulDPXSUUVXE+pi+X
EHeMO1ZVlfT0DYjUSBm1kbFGD/E48Ao+i5NUlBd5LhAWgvc92gwR5BecuIfp17zk8V1XW3SX
OnbCyumpQHh5MTWEuwQRnUD1hZahdWfAcT628W911fbG1TDWsALod+QCM/kumaqhptntpWx7
R2lmo/KOCcD7AVyeDHivZVc/qRhrRJGNIbKW5wTuyOJ3AgLdX0ZrqcRtqJKd7XteyWMNJaR6
nAg/aFGo3VimgX61Gop4BcIDLUND4Wa97wdwI+3ctfSS1GrnpxWRk08ZklfqGlgDg0gntyQu
dnJssZG0XSrIYxrMubGS7TJryTp4k7j8d61TckYKnUyeuqJYdmY44XsjLYxra8fw5OHNHHPr
yuiVPUiuSEnKGzxU8VRJcqZsU2dm4vADscQPWOzipAyMEe0L2hmNWondjtyoWLk2KeGkip65
8AppXTfsqaFoe47t4DMcCd4wd6l6injqqWWmlH7ORhY4DduIwsSUfIL1OAcpbKad1QLnTGJr
wwuD+DsZx3b1tfe7YyrjpXV9OKiQNLI9Yy4O4EdoPao+r5LR3CFgra6apnjfqZLNDE7SMYI0
6NPDrIyuqnsppq6CojrZBHDA2AQNhiawtHsbkb9+AQNy01T1++w4mVPyitFVQy1sFdE+mhIE
km8BpJxv3dq3i60Tp6WFlQx76ppfDpIOpoGSQuCbk22oo5aWS4VTonPD42ODC2PDi7GC3Dhk
/wAWersWMHJt1LBb4Ke61UcVCSWNEcXjZzx8TsJG7CWp+TDJCku9vr6manpKyGaaEkSMY7Ja
QcHP2rOvudDa4my11VFTsccB0jsZXNS2g0tdznns8gzKdm5rA3x3Ang0Hdjdv9uVtuFuNa+O
SKrmpZmNczaRNYSWuxluHAjqHcs2jdaAeGrbzg0/PoNqI9qWh4zpxnPdv9i1N5RWd9Aa5lxp
3Uwdo2jXgguxnA+zetfgINqHPbXVDYsl7YtLCGyFunXnTnO/hnHqWqPk4YmtMd0qmyxhgjk0
R5aGs0cNODkHfn7MLVoa/fYcTso73RVzqVkUn7Spg5wxjsZ0dp3+vqytcXKO0z0VTVw1sb4K
b964ZGnfjr9YWil5PPpJKAx3Wr2dEzZsjLIsPHXk6c78AbsLabLIIaqKO6VbGT5DQAwiIOJL
tOW785O85RqHk/vsVHTPd6Cl5vzirihNRjZB7gC7P/uFjFerZPUVEEVdA6WmBMzQ/fHjjn2L
kPJ4ugijdc6k6YthK7RHmaPO5p8XdxIyMFH8n9ckzzcakCUynTojIG0AHW3fjG7OfXlLQ1Jx
JGhuNHc4DNRVMc8bXaC5hzg9h9e8LpUPR2BlDbuaU1bUQkzid0kTWMJwQS3SG6Q0gYOB1nr3
qYWJKN/wlQREWQEREAREQH//1PfkREAREQBYS/unexZrCX9072IDCLgvKuX/AM7z9UPyC9Vi
4Lyrl/8AO8/VD8gu2H+L9rMy8iuIiLiaCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiI
AiIgCIiAIiIAiIgPU/0ejPJfH/bO/Jq009DFbo71UwR1dtfE79lUVEhLXM8U7tTnDBLTvIz4
3rW79HnzXH1zvyarWvViJONaf6mIe6iiy3i5S11Fsa6vzXUz6qKmgiheWbxoDiRnTjOd/wBo
wpS2v5Q9JZm18ruZkv0xtphsw3+HEmc57cjt4KzIubqq1lE1Y5LlQC5UZpnTSwjaMfridh3i
uDsZ7DjB9RUdI90XK1j2UFaWvpzHJO1uYicgt/i6t+/CnEXNSsUqtNU3Q2uqY2C6RvbUlxkk
hj2zoif4B8kuHrHDtK0Pk5TtrLeWVFUKUhuraUjHvcdZ1bQNIDfF04x6yexXFFtVbeSJYqjK
i9xc+33OUvZMYddPERGQ/DNIGM+Kc7zvx1LhkfywbbqRwqZw7XLrfzNj5DvGjUwEYbjV159Y
V5RVVbeSFiIldL4fpxOXCm5k8jGQC/LdWfs4fatVLRTXXkpDS1U08L5Gg7RjsPDQ/Ld/aQBn
2qcRYz6FPjs6TpxnG7KqZqL8LfWuBue3EbdOaeIlsueEY4OZ7d+OtW1FIyy+QOS2CXwfEZpK
iR7hkmoY1sgz1EN3Bc81BHA+51b+c1LaqNofTtOcBrSMMGRgnO9SaJm4hFSbUVsVgtbW0F2b
LBMwSQiNri5rSM6sk7sHcQc5C6qmW9PucnN+eMy0mFhij5vjQca3Hxg7VxwfirGi1tPQiVim
Ub+Uj7cGVVVcNqamMF8VHGx7WEHX8okFvDeBketdbKi9TSUJeLjFqZHlscMWknPj7XPyd3k9
u7fuVoRV1b+SFis8nn8oTVVbbtK55DSWtNMGMa/J+S8He32j7Vnb31Bg5PkOlM7mv50HE8NJ
15z2P04+CsaKOpfyKckNAIbpVVwmlcahkbDGXeI3Tq3gdROrf7AorldBPVW2CCIXBzHzs2wo
Q3UWDjnV1exWBFmMmpKQK4w3KC6QwRCuFMwNaxuzYYtkGb9TvlbTOfVw3Lo5OOr5YZpK+Wvc
/WWtZVwxx4bk4I0cd2Mk9fUFNotOd1axLFX5RC5yVsbII658DXwvY2mYwsdh4L9ZJDgcDdgj
7V9bV3Jrb22KmuQkLtdNLJAw9QGGgEZAOSAd+B1qzoiqcLWKU+FvKAUNvqKqe5ySNllEjKeO
FrntJ8TW1wwBuxx613sluLr7W633NtJGzVFGIItDjp3hruJOcYz154qwoq6l/JEsUlz7pJRW
twprzFLTzStmkZFHtSwg4OCdJz4vUevcFItqb3HV0kU0Na/aOidI+NkezY0tIeHHjxwd3bxx
uVlRHUv5CxUm+FYbDcKeU3mepblrJS2ElxycBmAMtxjJPbuXRU1V2ldRvp4a+AOjbpjbDHjX
qw4TZyQ3GMaT1lWVE2nnYWK/apboLvK2qdXyU8jptO3ijayMBw0YLd+8E8c8OpfOVTbjJSGG
kbWGOSGRuKRjHOMmPFDtXBvHhg+sKwos5/xKVilSoncon3vZ1E08VC+PDGCmBDW7Pcdpnc8O
45BHV61rkl5QRcnWxU/hR1Y2RrXzzsic/c3fpaAMtyAMnfvz1K4otbX0QK3BWXF10tclRR3D
x6bTUNETNlHIcb+OQcg53kYwtEU1bDb7vHQ0FxpZHT64HPiDzh2kEtBdv36jj8Fa0U2i0+7k
sf/V9ktNTc4bXQNuEFRU1M0jmSSBrGmNvjFrnjIwMADAyckKaRFqTu72AREWQEREAREQBERA
EREAREQBYS/unexZrCX9072IDCLgvKuX/wA7z9UPyC9Vi4Lyrl/87z9UPyC7Yf4v2szLyK4i
IuJoIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiA9T/R781x9c78m
qw0lyoa8yCjraeoMZw8Qyh+k+vB3cCq9+jz5rj6535NXXYrNX22rdPVTRSte17dAfnZAvLgG
HSMg53g7wQME5XqxCTqzvqYh7qJ9z2txqcBqOBk8T2L6oe80VbU1dBPRQ0r300usumnfGQMY
IGlpzn19i5aexVbOV0t4lka2IhzQ1tQ52oEADxC0BuMeUfUBlcFFNXbNMsSKB5U2etvVDFT0
czI9Ly52qQxnOCGkODXcCc4xv7QpanjnFBFHO8c4EQa97TqGrG8gnjvUaWW9ynQtTqqnZUsp
nTxtqJGlzIi8BzgOJA4lViPk3WMppmGGk1PLNbedzEVWCcl5x4uc53A8MEkLsjtt1p3Wpscd
G6OlLjJrqH5aHZGlviHIaCMEkZx1LWSOpCbhqqepdK2CeKUxP0SBjw7Q7sOOB9Sy20QnEG0Z
ti3WI9Q1ac4zjsyoCptl3qReI9NFEysaBG5szi7AAGD4m7Lc7xnB6iopvJS682o4ZhRzimbM
1u0rJctD3AtOWsGdOOwerCqhF82C7oq4yxVjLm+ofsJstcDO+d4fK0swI3NxpDc78gnhwyo+
TknXycnmULNhDOZQ6UtrJHbQBpDTrc0kEEjdjgMZCKEdQXNfGua4kNcDpODg8Cq7BYqqO60V
wkho5KltPHFUTvkeXAtzktGMOznrxj1rGCxVklDW0tTDSQtdUc5pdjUSPDXjBAdlo3ZG/HaV
HCOoLKip1TyOqTPQyQVL8QjU9rap0WmQv1Oe3xHZznGN24AKa5UU81VybrYaeGWaZzBoZE7S
4nIxg5GO9HCN1Z8yriS6KoO5OVk1BTRijpWME+1NMa2VrY2FuC0ODcnJySDu9q7fAk8V353o
jdC3eJBO8ymPRjZaCNOM9efxVcI6/fciZYGva/Ohwdg4ODnB7FkqfNyemuVkNPSwzUMPO9s2
lkl2Zc3Tpw4gPx42XcDwHBdLeT1XtqF0ginEDI265quUviLTk4LQNefXp9eRuTJHUXLOihbJ
ZnWipqwynpY4JHue10b3F78uLvGB3NxnG7OfUtV9sVVcqoS0lQyEPhME4fnx2Z4Ds4k5G/IC
zljmtfgUng5peWBw1AZIzvCxdNEyZkLpGNleCWMLhlwHHA68KCFmqn1l0ikp6RlBWwiPxZ3u
fkAgEtLQN4Izg9XWuM8mamS20tG+koGxQOe7ZR1EoGSzDTnGT4288MbuOFVCOoLYi4X01RLY
nUsuzdUuptm7xzpL9OPlYzjPXjKqp5H3JlHLTQup2xTBgkbzuQk6cHAc5pxvzvwfx3Iwi+bJ
5XLwiqLOTlzD6GeXmstVTQRR7Z1VJnU1+ScacHLd2T244Lus1C9t2q5JKWaGCne9tKZOLg86
nnicjI3Z6lXCKXBi5YEUJfrRPc3QmNkM0bWuaYpp5Ig0ng8Fm8kbx1ceIXJJYK11ZUy4p3bS
ORomNRIHPDm4Ebm4wGg43gk7huyVlRTV7lP/1vfkVQ6KTm2tppKWikEM0c0MT6mQtJ0aX5dp
yMnJ68ruFkqH36nrZ6emMUcLGlzKmVpD2/xBmMHHAZOcZXVwjr99yXJx1TAwtD5o2lz9m0Fw
GXcdI9fqW1VGXk/dZrbLRupre2M1ralsYq5cFucuaToBGfV2n7c32C6MghbTij1YbrD55cRa
ZNbQw4y7AJGTj2Y3Js46hlrRVlvJ2eCW6CljpIm1Zc8StkkD5CSDpd5I+UMjJ39S0y8m6uSj
pYRS0miOodI6AVsrWsYW4LGuDcuBOSQQAmSOoZbEVbj5P1LeVrLoXtbTxNLGgVD3am6NIBYW
7jnfnUR6snInKPnmwPPhAJtbsbAkt0ZOnj14xn1rMopcmU6ERFgBERAEREAREQBERAEREARE
QBERAFhL+6d7FmsJf3TvYgMIuC8q5f8AzvP1Q/IL1WLgvKuX/wA7z9UPyC7Yf4v2szLyK4iI
uJoIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiA9T/R78193HbO/J
q+0Nbcg+6vju8N0fRO0c30Mbjc0k5YCQfljHXhfP0efNcfXO/Jql31VrrYrnTTYZFTO2dUX5
jaMtDvlbt2HDevVXdq0+HmYh7qIep5V1cNRGWx25tLNG+aCSapdGZWNIAABb8p2cgLotvKWp
ruUU1ufQRwwsL2tc6oZtRp6zHnVg9W7sW+Do5t7bPTPpZZA001I6OXV4oG9o378d4XdFdbVP
XVEEVZTOqqfO2YHDWzGM57wsPLbhE0bLkyufRltuljjqNbDqkGRp1DUPtbkKNrL7LT3nmbW0
ehrmgslnLZ5MjOY2YOodXHiDwwuya/2iCmhqZbnSsgmeWRyGUaXOG/AP2Le2tpJK8UzZI3VI
i2uAQSGHge3BWEmuaKV4cqamSkfJGLW6QyQtZ/pZ0N2jtOl507njjhbGcpZ31FvcZLYykqGH
W50zi50gfpLY8DDvUOKlTeLK2CWY3ChEMcgZI/at0tf1AntW91ZRtgppmvY+Od7WwOjGoOLu
BGPVk57Fq66SEPDyhnmlujRLaWx0Rc3XzzJzu0l4x4o34PrC4JuVr2Ntk8FbbnsqKR8krZqh
rW626c6XAEl28jCtEc9LJHUvawfsXOZKNG/I38PYQftXygnpbjb6etpmDYTsbLHqZpOCMjd1
FFKK4uP3YEQOUjnV7aEc0ZVPMgbC+U6xiMPYS3HXnB/DK0Q8qJ3WmGZ8tp5w94Y9/OHNgiOn
VhziNzuIwp19xtsdXJA+rpW1MbDI9hkbra0dZHEABZUdXQXKnMlHPT1MGrBdE4Pbnj1KXjb3
QQ0PKKeoulHSRtt7dvA2ctkqsSgHiGtx427eD2BfLPymnuc9yDqan2NMzaRPgqBLtBl2443A
7huO/fwUp4Tt3hY0D5I460Y0Mkw1zwRnLesjjw7F9iutqc9zIq6kLtqInBkjc7Q8G+04O71K
u1vdBx0lyqXCyGVzX8+icZAG4wdGsEeocPtUhTsrm3GsdPLG6jcGc2Y0eM3cdeT15OML5Rx2
94a+j2LhBqhBjIIZv8Zvq3jeFjBerZUy1MUNfTvfTEidokGY8cdXZhZfG9l93KRvKu5VdvpK
RtHXUNHJUTiMy1bw3SME+LkEdXX2r42/zMugonOo3Bv7N2qfEpIZq2mjGNHrUzT1NHcqds9P
LDUwkkB7CHtz171rfX22OvbSSVVK2sc3dE57Q8j2ceoqppLK48QcfJ67z3mkfUycx0Z0t5rU
7XBG46twxncR6io+58qKi33ialEdA6nicwPc6pLZAC3UctxxxnG9Svhyz09vZXOrKaGklk2b
JS4BrnZI3Hh1FbzX201EUJqaYzTtD42F7dTweBA604Zm8vAnkf/X9VPKuXmldPi3YgiMrW87
+Rg40SnHiOPVx35Wqt5W11I6hAoqKYVDDIZGVzGxlurGlj3loc7HFWK4VUFuo31MlPJK0uaC
yGLW5xJAG7r3lfaOemuFGyWOLDMkaJI9JY4HBBHUQV2Uo88vAjN1RKIKaWUvjZoYXapXaWDd
1nqCrPSmV1mt9TTT2uaadz2SmSqwxpa1zjggb9w7BxCn33O3baenfW021hYXzRmQZY3rLh1B
faSpt9dG51HNTVDGOw4wua4A49Xqwsx4Liilfdfaqp5RU0dNX0LKMUjak0zZA6ebUCcAY9XU
etDytlZbKirPgtxiMbhprcMw4kaHOI8V4xwUuLtRi8GgNNOyVrgwTGHEZcW6g0O7cLprKq3W
+EPrZ6amje7AMzmtDnY9fErd48PwkK3U8rK2kqRG+O0yMaxj3ujrTwcHOyBp4Yace0L5Fyxm
rDdoqWGk2lNE6anc+bIewOIOpo8Zp3Z4dasba62OfAxtTSl1Q3VCA9v7Rva3tC0zXm10/Ogy
ohlmp2l00MBD5GjcCS0b/al49II6XlKyGnts0tfawyaoMcz2VHikDyC4eMBuyvs3KSSOuqoQ
KENibJhj6jErSxpdre3HisOOPrHapIXWzShoFbROG0MLcSNI1ji32+pZuudqbWvpXVlIKoDD
ojI3XjGd448N6nDpBzWG7vutPKZuaiaPQXCmm2jQHNDhvwN+CuOs5Uc05Uw2gxw7KTDDI+UN
c15aXDxTvIwBvHWcKUbdrU2jNY2upBTatJlEjQ3PZntXWwwzsZPGY5GvaCyRuCCDvBB7FltK
TbjwC5FWp+V08tE6STwW2VwY5jm1ZMTGuc4Ze7G7e3s6wFMcnLhJc7HDUyzRTSl8jXPicHN8
V7huIx1ALPwraRRSVb6qljpWyGJ0r3tDNQPDPDiu6nlhngZNTPjfC8amPjILXDtBCs2rcI2B
sRcEV8tM5kEVzo3mPGvTM06cnG/f27vasJ+UFrpp2RzVsMYfrAkc8BmppAc3Vw1AngsZJcrF
JJFyMuEL6+ak0yNfFGJC9zcMc09bT1rFt3t5twuBrIWUhOBM94DTvxxzjiplYO1FyR3Ogllh
jjrad75ma4mtkBL29o7RuK0RcoLRPSVFVDcaaSCn/evbICGb8b+zeFcstASSLlludDT835xV
wwmowImySBpeT1Dt4hYxXa3TzzwRV9M+WAEysbK0mPHHUM7sKZXoDsRaKStpa+Iy0dTFURh2
kuieHAHs3de9b1GrcwEREAREQBERAEREAREQBYS/unexZrCX9072IDCLgvKuX/zvP1Q/IL1W
LgvKuX/zvP1Q/ILth/i/azMvIriIi4mgiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiA
IiIAiIgCIiAIiID1P9HnzXH1zvyarDXULKylkh1bJznNeJGtBIc0gg4O47wOKr36PPmuPrnf
k1WtejEu1eT9TEPdRBzWKslip2tvEjJIpjO54po/Hf7Mbvz9a3z2aSaasIuNRHBVMIdFGGjD
y0N1B2M8AN3apVFyzyNldouSzqCgfT01xfHIajnDJGwMAjdp0nDcYII7V1vs9RJcoql1zlMT
ITCYXRM8dpAzl2M5JAO5S6I6km7sliCZydkbGGuuL3OY6IRuMDBpZG7UG4xv39fFbm2eSKmt
7BU7WSjqTNre0N1A6gRgbuDzj2BS6JtJCxx0VEaeetmkc1z6qbWQOAAaGgdzd/tXW1oa0NaA
ANwAG4L6iy3cp//Q9mfYnOq5ZG1z2wvc+RsWyYdEjmlpdqxk8TuK32q1utm0Dqp04c2NoBja
3ToaG9XbhSKLWd2sSxE1FlfPcJKoVrmB8kTywRMO5mfFzjO/P2dS5ujDX00kE9dLIzQ2KItY
1joowc6QQN5xuyp9FVOS5FOW3ULLdQx0rJHyBmTrf8p2STv71xS2N0z6wGumFPUZcIdDcMec
eNnGTvA3HdxUuiik07g47dQvoo5dtUGomlfrklLAzJwANw3cAFzus8guL6mKtfHE9+1MOyY7
9pp06tRGeGNylETM73BCQ2KpjoJaeS6ySSOm28cuwY0xv1ajuAwRntWmXknBLdYLjJOJahmz
Mj5oGPMhYdxBx4p9isKKqpJciWOG8W0Xe2SUTpTE2QtLnBgdkAg4we3CyttvZa6TmsL3Oga4
mJrv+rad+nPWBv4712Is5nbL5FIcWORtVLKyve1mZHQx7Jh2T38XZxl3E7j/AJLqtNvdbLfF
SOnE2zGlr9k2PxRwGG7l3Iq5NqwIV3J2J1+kvHOHipL2FhDG+K0N0uZ6wR27x1LPlBbq25QU
jKGWGKSGqZMZJBnSBngMEE7+vvUuiud3T0BWpuSDJqqjqDXyCSnc1+TEw5eHl5IGPFyTvA9S
6H8nC+mqqU18nNpo3xMj2TMxtccuGrGT/wCuJU6iu0kCqT8iI57bTULrlNsqbU2LVEx2lpII
GCMZGMajvI454rZJyXmqblO2pqWPtUkco2WBr1yjD9+nhxPEqzortp6ksVfoZD4MfRCohaHy
7V7hRx4f4uneMbz6+KsVLTtpKOGmjLiyKMRtLt5wBhbkWZTlLmWxBR2CqbDPHLdny7WoZUZN
PGMOa4HHDr0juUnbqR1DRtgfOZiHOdrLQ3i4nGBu611Io5tqzFisW/k1WNgqGV9Ywa3TGFkD
ARFtHatWS0En1HI9qzdyXqXStmdepnTAyZeaeI52gaHD5O75O7/NWRFrayvcEPFZqiC485iu
cjYmwCBkBhYQ1oG7xuJIO9aobBUx0gjN2kdOyZ00U2wjGguzq8XGDnUfYp1FNpIliuSck2SX
OjrjXy66XQQDEw5Lc8N3ig5OQMLrNlqRTVcEV1mZHPqEbdkwiIOJLureTkjephEdST5lIJ3J
6Z8EMbrnIS2HYTO2DP2sYOQOHi8cZC+v5PSPlnd4ReGymY6dhGcbQAdY3409fHrU4ibSRLIh
aCwG2200lLXSQudUCd8kUTG53jLQ3BABAweveSppEUlJy5lCIiyAiIgCIiAIiIAiIgCwl/dO
9izWEv7p3sQGEXBeVcv/AJ3n6ofkF6rFwXlXL/53n6ofkF2w/wAX7WZl5FcREXE0EREAREQB
ERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAf/9H1P9HvzX3eed+TV2w32uZz
ySvtbIoKYhrnU9QZnajp/h0t3YdknPUVxfo8+a4+ud+TVKOoLfFFcG01VsJap4bM9021w88B
peSASCBjHZ6l6q9ttO68zEPdRrm5T0sNW+nNHXvLdZL2U5c3S0gOdnsBPwyvtFyqtdfeZLXT
yvdUM1DVo8Rxb8oA+r1rSOSdMZKDaVNQ6KjpjT7NrtAkBxkuLcE5wMjgexSFNR25twnlpZDz
hh/axR1Li1pI649WkE8eHrXN7O3C5ribbjVTUdGZqekfVSa2N2TDg4c4Anh1Ak/YuKt5QRUl
wipRTTPaZRFLPpIjjJaXfKxvOMbuG/jncphR1RYrdVVrayaF7pmvbIMTPDS4DAJaDpJxuyRw
3LEXH4ikXBy5tFVSvqKdlZM1j2tIjgLiAQSHburDXevdwXXHynopWRvbDWaXH9odgf2O/AL+
zK3dHbboDDHUOY12prHVUpa04I3AuwBgkYG5fGcnLXG5rmwSDS7VjnEmHHOfGGrDt/Uc/itt
0vJMnE2y3TTU1sEUO0dSQNld42Mk5Ib3N4r7Ncn81oamkpX1MdVJG06TjZsd/Gd3Adiymtkc
s1VK2R8b6qEQyacdWcH24JC3wCngiip4XMDGN2bGh3U3dj7Fj8JTa92ljnYLsDOBxPsVfoOV
ElVQ87ntNXCJJNNPC0a5ZRxJxuA3etTrnxSOfTmQa9GXMa/Dg07s7t4696jDYrRR23Yu2sNL
E7aB7qyQGPq3PLstHqzhI5bfiQMhf6Z9XBTx09ZIZ2Nka9kBLQ0nGSerB4g7113GvhtlBLWV
AeYohl2huSuemtVtM9PX02slkQZE6OpeWFnV4odpPcuuro4a6DYzh+jId4kjo3Ag5GHNII70
eW6sERcXKihnpaapiiq3xTN1kiE/sm6i3U/sGQe3hlaHcs7ZE2Z08VbAyIOLnywFrTgkYB6y
SCB7FIGwW0thbsHgRDAxM8at+rx8Hx9+T42eJ7Vr6NWndmme7GflTyHiXHrd9J3f6gt3paMn
E32e8Ul8oud0ZfoDyxwe3Ba4dX4jguSr5SQUle2ndBNsQ9zZalzSI2aWOecHG8gN9X28F2sN
DaIhC+q2YdqeOc1TnuIA3kF7icAfYFGTx8mJbiZ5qylNS120LDWkNzpwXFmrT8k7928cVEot
t2dir1NUPLi1VFLziGKtkYH6HBkBcW+KXZOOrAJ+xdsXKSjmdCGwVeHkB7jCQISTgB/Yc+1a
J6Dk9TsbFVVYa1u9rZ7jJuDmloxqfwIyB1Lrj5P2yGVszIZGljtf/SJNJOc5cNWHYO/fnCst
n5Jk4ny3coKK6XOroKcTCal/eF8ekcSNx9oKlVDeALbUW+pjppJQysi2ZmZUOkOzO8hhcTpB
z1YUvFGyGJkUbdLGNDWjsA4LE8vwgjqq6VFM64/6A4xUkDZWSl5DZidWpowDgjA7eIXDV8sr
ZQUkU9XHVQukeWCF8WJBgAkkZ4YI71OVVNFWUslNO1zopG6Xhri0ke0EELifYbe8uJjnDnP2
heypka4HAbucHZAwBuG44Vi4fEgz54X/ANKIEIfSupOdRyscS54GMjSQMcRjf3LCk5Q0dXRT
VeyqYY4oecYniLC6PBOoA9W72rOaxUctQaoOqG1OyMTZOcSODRjHyS7Se3eDk7ytdtsFFarU
+kc+SZjodlLJPITqZgjG84aMHgMBP9O3qXzOiG5a56KGWHZuq4DK3xs4IwS3h2Hj7Vspaqae
srYZKR8McD2tjlJyJgWgkjduwSR9ixhtscctLK6R8rqaEwxl2OvGXe04C7Vl5fIhE3y7z2pt
M2lt01bNUSbNrWHDW4BJJO/G4HqWbb3Cat1PsKkubqAkbGSx72jJY13W7ce4rfXWuluL4H1L
ZS6BxdGY53x4JGM+KRnd29q532+0tuZ1PDKudriIucuaTkYLms1YBxnxgM8d60slrW4lN1ru
kV2pzPDBUxx7tJniMeoHrAKxmvFPDcBSGKocdQY6VsZMbHEZDS7tO7vC30Fvp7bTCmpRIIgc
gPldIR9riTj1LXLaaOWuFY+N+2GDuleGkjgS0HSSO0jPDsU/BmehFe3E5KXlLb6ilkqZttRx
MwS6rZs8gkgEZ9YIW/wq2WooOaiKopKsuaJ2S8CATuGMEbj1rOhtFFbn66WORrtmI/Gme/xQ
SQPGJ6yd6+1lppK6qgqahsxlgOYyyokYAfY1wB49arcL8BxNMl7ihjuUklNUBtBjWBHlzxjO
WjrC4azlna7fBBJVtqYXyueNk6Lx2acai4Z4bxwzxXXNY7Uw1k8+1aKsaJ3PrJA1wJ3De7A7
BjHYFsdYLe7PiTtcZDIXsqpWvyQAfGDs4OBuzjdwVWz87jidc9RooZKmJok0xmRoJ0h27I34
OO5QkvLK3U1tZWVUVVAXvDGwviw9xLdQIB6sZ3+pTLjS1TZ6AyteQzTLG2Xx2tI68HIyOtcv
R+3aXARTAnR4wqZA4aW6Rh2rI3bt3HrypHIveQPkN4FRUUZghElHV07popg4h5IwcaCOw8c/
YlqvtNd8bGGqi1M2jOcQlm0bnBIz2FZvsdE+pgqTznb07dMTzVSnSPWNWHevOc9eVwUvJKkp
rNNbzU1LzNGYpJzIQ7QTkho4Nzw8UBX/AE2hxLAovw9TmeWJsFU7QHlrxF4spb8prD1kb+4q
SYxscbY2DDWgADsAXCbHbzNNLspA6YODsTyADV8rSNWGk9rcFYWXzKbLbco7pTc4ihqI4zjT
t4jGXAjIIB34XYueiooLfSspqcSCJnyQ+V0hH2uJK6FJWvw5EV/MIiKFCIiAIiIAiIgCIiAL
CX9072LNYS/unexAYRcF5Vy/+d5+qH5BeqxcF5Vy/wDnefqh+QXbD/F+1mZeRXERFxNBERAE
REAREQBERAEREAREQBERAEREAREQBERAf//SIiIAiIgCIiAIiIAiIgPU/wBHnzXH1zvyapK6
WWOWhrmUdO0zVsrJJiZTHqI0gnUASDpaOCjf0e56L7uO2d+TVnR190jddJDcqW5mjdoNOyMR
kbmknLS4jA1bsb8L1109vNp+ZiHuo5K3k3d5xTCKeaKKnfII4oa8tLQX5a7U6N2Tjdg8O0rq
vFJcyLzKyhbs56TZxPpqh22c9urSdIaMHJH8W7CT8rJ4qhgZS0RppY5JoZZK3RtY2kDcCzic
7hn7V0W3lNNcL9NbzbXRQsL2iV0zNWW9rM6gD1cepZ/1LXa5GuCFppbpR2qR8FNHHNK+NzKa
pqpJAxu7WS4jIJGTpxjI9ZWNbZ6+q5V09e2RzKWHGcVTgHN0nIMYbxyeOrG4blMXIVxoz4Od
E2p1s3yjLdOoavt05x61FVfKOWC9st8dNTvBqGU511OmTLm6i4M0nLQN2c8fVvWIuUm2uYtZ
WOAcnLhBY6i3U0UMTXSN8ZtZIXytBJJ1OB0HhuwetbIbLdHvtArWbU08OzqJGXGRuo6tx0ho
D8YzvxvK76i71EdLeKlgYG0MoY1hG9wDWudv9erAUjUc+NdRGmMYpdT+dB48YjSdOn/exn1K
ucvP74Boj7RaZbbdK14gibBM9zxLzh73PLnZA0Hc3GTwO/ctFHb6uOhs0Do3Nnpqlz5pe0DW
HHP0iQftUtdameitVVVU0cck0UZe1sji1px2kAn8FET8pnQ0sL2i3SSOD3Pc2txF4uMta/T4
zt43YHtUTnLiik22hp23F9eIxzl8TYXPzxYCSB3kqO5S2yS7WtlNHSxVOJ45HMkqHQghrgTv
aCd4GPtXfU1raa1y1xie5scJl2Y+UcDOPaoGDlXK5823it0cUTxGZ2V2qMuMZePG0jsAPX7e
vMVL3l5A2+B6wXOlljibHFGI9Dm1bxsGtHjMDMYeDv3nHH1LfyftlRQvqZKqExve86P9NfON
BJIGHAacf5rGl5Qsqbhb4ttRtjq6XbNaKgF5f4u7GOG/cRx7FusV3muTZmVQomTxuIMVPOZH
NAcR4wLRp4Lcs+V3MqzOTlDartXXShqbfK1rKfBxzgx79QLtQ0u1AtGBwxv7Vna7VW0d5lqX
RhsUz5i888fJuJBZhpGB18OGetc9/vVXbr7SwQ1IbCYhJJGYmuaBrDS57s5a3B4gHGFYYq2l
nqpqaKoifPAGmWNrgXMDhluR1ZA3KXkoLTiV8WRHKO0VN22LYW+KyKUFwqDEcubgN3NOWnr/
AM1yzWOpkknAtdvLH2/YtJk/63B4jRw34zx9StCLKqNKwsU6Hk9cKIOEFDS1Acad37eq3jZ5
8Ufs+AGGj1DJVqpTVOpGuq44m1BBLmRuLmjfuGSBndjfhb0UnNy5lKXR8nLrTWmpp9lGyV8B
YAy4S4keXZDgdP7PSOGBvXXPY650FK2GIgtactdcZP2MhOdoHYzJ7Dgd6tKLW2le5LFY8BXS
Osne2pa6nZtn00e2e1we8cS7fu8Z3aG6W4CjHck7ubTFAKyoGmofIYRXHVgtAH7QxngQTgNA
8btV6RFWkhYr0Fpq/D0VVPG90LIY27Q17yTI0b3GMNDSTwzu7cLuv9JUV1nmpqWFksz9zQ+d
0Qaeo6mgnccbutSaLLm209BYrVXa7nVXGnrxTsZNHFGMCvkDWuD8u8UNw7xc7yN+cLRJycrW
090pqPTTCoeXtnZVvL5Mv1acOBEe7LcjPFWxFpVZIWKgOT9wFBbqd8cswileZdpdHtdoPBup
jBqHXggYxxXQbFVNv9yr4aOnbJNBs4Kp9U9zg4NI3sxgA56j1KzojqyCVinUdhvENpNJUDnE
bajaNgfcHguYW4wZGsBGHZOMb8rbDyeukV+pKx1VO6GNsY0trTpYA3BaQ5hLwTvyXAnKtiJt
pcRYjr5bvClqkpgwPdqa9rHSujDi1wOC5u8ZxhRM9nuUvM9MUbNmxrWhldIBTEOJyN37U4wP
Gxw9as6LMajirIpwXqlmrrNU0sDGvklbpAdIWDj5QBx3Kt1/Jq6zwxRQTSwwQTSbKGKvLXaX
aS1xe5jjkEO3b/lcVc0VhUcORGis3KjuW3rpW0THwvoDAJYqg7dzgCQdIaN+d3yvWvljpbvS
WWWWGlZHUyRsMdPV1cjwX/xOc4jLSewA8FZ0Tau1rCwREXMoREQBERAEREAREQBERAEREARE
QBYS/unexZrCX9072IDCLgvKuX/zvP1Q/IL1WLgvKuX/AM7z9UPyC7Yf4v2szLyK4iIuJoIi
IAiIgCIiAIiIAiIgP//TIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiID1P9HnzXH1zvyarF
LQUssM0RhaxswxIYiWOd/vNwfxVd/R581x9c78mq1r0Yl/60v1MQ91Ec2xWxs1LLzUF9LEIY
dTnODGDqwTg+071283g2+32Me2xjaaRq7+K2IuDk3zZsLjq7XRVtRBPUQB00Dw+N4Ja4EcN4
IyPUdy7ERNrigc76GlkdK58LSZXNdJ9It4Z7guhEUuAQCCCMgrSaSmMTIjTwmNhyxpYMNPqH
UtyJcBcMFmt1NJUPhpI2moc10jd5aSOBDTuH2ALuRVNrkDRzOl2jZObQ62/JdsxkewrYyKON
z3Mja1zzlxaMFx7T2rNEuwYOhie/W6Jjn6dOotBOOz2L61jGuLmsaHHGSBvOOCyRQBERAERE
AREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAFhL+6d7Fm
sJf3TvYgMIuC8q5f/O8/VD8gvVYuC8q5f/O8/VD8gu2H+L9rMy8iuIiLiaP/1CIiAIiIAiIg
CIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgPU/0e/NcfXO/Jq4bZJX0tFdJhJdj
VhrzAJaaoka0a/FGl5Ic4/Rxu7MLu/R581x9c78mq1r1V55a0/1MQ91FWmrLuILaGVtSHVDn
baQWl50DG7Lf4MHcNXUftW7nt18J1DHuqGxtbICxtC4tY0DxXsf/ABuO7xd/HGNysaLjnWhp
IieT01dU20T18z3zPxlr6R1OWHG8aXbyPWtctbPHymEH+mOp3U5A00jzGx+QQdYGDkZ48MKa
RRyTbdglwsQPJyruU4ey4vnkeYmSB8lGYA0kkFu/jjAPbvWq/Mqp79a4WVdxhpd7pW0sDyxz
sjSHvbwHHicKxorn/FmsLcLFdirpJJrzBVNuT4gcxObSSxnTgAhhaN5B6xvPH1qNqrnygba7
WbcyWMCIiofVUkz3mQYw1zQwuwd/jY39quiKqok72FiNqq6qDKmnpKSR9Yyk20T3sIhe85Ab
q7cjeOwhVg3XlVHZdcbDU1/OA2NgoZIw5ukk6y5jdOOIIByQG9eVeUUjNLyKVukuNWblbWzG
vkZLSAS6re+NrZDje4gYaTvyCd2Fww1vKWpgubzNNE1hY+ncygIe0azqaGvA1HT2Z9RKuSK7
RLyJYqVxuN8DLY23GoLnb5jNQO1SDUBvwMMOMnDi3iPYu66VdbFWXNtPJK2SKga+layMyanl
ztR0D5RGGD7VPpgZzjf2qZ1oLFMuF15Q09uaKRlRPURTvDpX0DxtWhoIbpDTjJJGoYHineCv
stz5RCulkpxPLDtHCKCS3uYODQAX9mXHf9H2q5IrtF0gp1HcL66yTyV8gNWyeHYBtPJCXEuA
LCHNaHDjwyrihAPEZwizOSlyVinBb5qmWruLZ3SmOOcNhD6fZgN0NPiuydYyT427sxuXFfa6
voX5pWVMjXxeI2ClM2Hhw444AtJ49m7epxFFJXvYMq7Lldo7hWlxqpYMzCFht7gGaWgtOoDx
skkevG7eueluXKCO1GetNRI8ySRtMFA4uI0AsOggH5QIyQBv7N6uCLe0VuRCkw365zXGriFa
RsWtLojR4bEDEHOL358UtOdzscMb1nbbzd6yzMqRUTTMlbG59RHbzmMkHUI2DO0GQBkZxk8e
q4CGIF5EbMv+UdI8b29q+sY2Ngaxoa0cA0YAVdWPlEWK02tvElZbYjNPE2WMmY+DXOBId4uT
wjLhnIPD1LVLV3+CnukcMlTUVTHkxGWj0xxs18Wlo/aHQc4GeG/fuNsRTaLQWKRWV3KGSwhs
klQJ3RS4fSUEuqRw+S0ghrmbv4sAdhVullnFtfLTxl8+x1MY8YJdjcCPaulFJTT8ioqYrrvz
QnnVaY3S4M5tLhIwac4Ee8uGf4sbvXxWxtdejc4do6obE5sLXxNoXFoc9rtTtfY0hp9WcFWh
FdotCWKhUT8q4aCd7JQ6SJzISXU2c7yXStDQSRjSAMHr7FtZXXuR1pjkqJInzMPOHx22VzMh
2GnLgNBPXqHrGNxVqRNotELFVhuF6fdrkJnTMoGRP2RZQP1xuBAaRlvj9Z8XVn1L4653R1mo
HxCtgk2ZErjb5HvdIAMNLCMhpyfG9XFWtE2i0FuJXKWtuvh7RUOnNM6QR7IURDGfsw4u2nWN
WRngu3lFUVFNanPpTUbbW3Ap6d0rnb94w0ZAPapZFlyV07CxXKi4XHw3FJA6r5iRD+xNvdv1
lwdl2MjAwcdXWp2rhdU0c8DJnwvkjcxsrPlMJGNQ9Y4rcijle1ilWvkFYJbNRMr7m2Fu6okp
qd7zJhuAXvbvbk+vrz1Lrhrnm53anqRcH04YDG4UkrQAAQ5rHAeMeGCN5zuzhTyLWe6s0SxS
prjfm2K2+DWVEbm6mVElXSzPkyPkgt0FxB35djq4rvZcLwy8EybeWnyxogZQuDcmIuJEhHDU
Mb8YzgqzIq6ifkLFEgu/KiWjLXieOobLlrxbXuD2bMu0nLW4w4BufX18VuhuXKh9zpY3jTSh
wY90lFKDL4xDidLSGbsYyQPxV1RXarpQsVGlinozdZaR93dJFII2Gq20rdB06nsY7c8ghxGn
/NcdwN+njbNAyvm1wSMc5okgc5ofgEMBGmQ6gQcZw09qvSKKrZ3sUqlbPdBJWQbWtDGRSNZF
FRvOQG+I4TA5LicEgZPVgcVorrnyhprW5lMKieqZMBt3ULgHN2erGkNJ3uOMjhjeQrkiKovN
Esf/1fXIa651N8p49pUQUz4GSvjdb36dePGZtDuH2789yl6GkkpBUCSqlqNrO+Vu0P7truDB
6gutFuUr8kSwREWChYS/unexZrCX9072IDCLgvKuX/zvP1Q/IL1WLgvKuX/zvP1Q/ILth/i/
azMvIriIi4mgiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiID1P9Hn
zXH1zvyarWqp+jz5rj6535NVrXfFf70v1MQ91BERcDYREQBERAEREAREQBERAFSv0lcrankt
ZqYUOG1dZKY2SFoIYAMk4PXwwrqvKf03N1UVi/2iT/kXu8NpRq4qEJK6/wDw4YmTjRk1oUuH
lrfsZddq53tqHLY7l1eh/wD2VZ/UOXXS2uhuFBZ46kxxBluqJZDDJFG90okOgPJGclukDPat
tZZbXFbI6CMwPfHJWymVs0e1qTGQIWh2/QHAl3+6etfqJV8JGWVwV7vyXlfj/B8JYfES/Epu
36/p9SM6eXr0jW/1Dk6eXr0jW/1Dl1xcmbE+tigbWyTQvrpqc1DaqJrRGxoIkwQc5OpvHGWn
2LpbyMsT6ynY66uhhkb4+qpicWuxFvyOoa353f8AVnejxOBXOP8ABpYbEv4n3Ivp5evSNb/U
OTp5evSNb/UOUnT8nbNV0FIx1SKFxghFRLtonB7zUOa/Od4IaAfF6iPXnnoOS1mrHPZJXPgk
EMDnNNTEdi94fqY4kDUW6Wk4x8sBN4wSveC4eg3bE8LSfH1OTp5evSNb/UOTp5evSNb/AFDl
WRE4gZGD1jsTZOX0N0o9C7Hj2s18T7lm6eXr0jW/1Dk6eXr0jW/1DlWdk5Nm7sV3Sj0LsNrP
qfcs3Ty9eka3+ocnTy9eka3+ocqzs3dibN3Ym6UehdhtZ9T7lm6eXr0jW/1Dk6eXr0jW/wBQ
5VnZu7E2buxN0o9C7Daz6n3LN08vXpGt/qHJ08vXpGt/qHKs7N3Ymzd2JulHoXYbWfU+5Zun
t69I1n9Q5Ont79I1n9Q5VjZu7E2Z7E3Oj0LsNrPqfcs/T29+kaz+ocnT29+kaz+ocqxsz2Js
z2JudHoXYbWfU+5Z+nt79I1n9Q5Ont79I1n9Q5VjZnsTZnsTc6PQuw2s+p9yz9Pb36RrP6hy
+Hl9egD/APEq3+ocqzsz2LCSI6D7E3Oj0LsFVn1Puf/WmGzcqebxSzX+SEyNDtBllcRkZ3kD
GVyVNz5SwtJh5SSSTDLmRh8o1EDOPGGOrr4qetkgmlqoqkRm3MiYKpzzgsGkaS08dWeA61G3
wbO525lM2IWwsdzR8e8vGk6i88deeIPDqXaXjVdVrZY2zWtlWtvtnth4Jh3Tu3K+W983pfv6
acS8fo55VTcruSja6paBUwzOp5XAYDy0A6gPWHDPryravMv0Ft0ch6sf/wChJ/yRr01dMdTj
TxM4RVkmz51J3gmERF5ToEREAREQBERAEREAWEv7p3sWawl/dO9iAwi4Lyrl/wDO8/VD8gvV
YuC8q5f/ADvP1Q/ILth/i/azMvIriIi4mgiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCI
iAIiIAiIgCIiAIiID1P9HnzXH1zvyarWqp+jz5rj6535NVrXfFf70v1MQ91BERcDYREQBERA
EREAREQBERAF5n+l2gqbmeT1JRsD55aqRrGucGgkt7SvTFS+Wvzj5I/7e7/lXs8PqOniFOPN
Jv8AhnHERUqbi/M8zZ+j7lQPlW2mJ/2iNZfq+5TY/wBV0/8AUR/Fe0L61rnZwNw4nqH2r1r/
AMixmkez+p5H4Th/XueKH9HvKc8bZT9n/SI/ivn6vOU3oum/qI/ivaY5GTU7aiCRk0DuEkTg
9veFkCCMg5Cr/wDIsYuaj2f1HsnD+vc8V/V5ymz/AKspv6iP4p+r3lMRjwZT4/2iP4r2pfcH
GcblP6jxmkez+pfZOH9e54r+r/lSOFug/qWfFOgHKn0fB/Us+K9pRP6kxmkez+pPZGH9e54t
0A5U+j4P6lnxToByp9Hw/wBUz4r2lE/qTGaR7P6j2RhvXueLdAOVPo+H+qZ8U6AcqfR8P9Uz
4r2lE/qTGaR7P6j2RhvXueLdAOVPo+H+qZ8U6AcqfR8P9Uz4r2ngif1JjNI9n9R7Iw3r3P/X
+dAOVPo+H+qZ8U6AcqfR8P8AVM+K9pRfX/qTGaR7P6nzvZGG9e54r+r/AJU+joP6pnxT9X/K
n0dB/VM+K9qRP6kxmkez+o9k4b17niv6v+VPo6D+qZ8U/V/yp9HQf1TPivakwc4xvT+pMZpH
s/qPZOG9e54r+r/lT6Og/qmfFP1f8qfR0H9Uz4r2pE/qTGaR7P6j2ThvXueK/q/5U+joP6pn
xXx36PuVLhjwdB/VM+K9rX3B7Ff6kxmkez+pfZOH9e55V0Y5SyHXPZGulcBrdHc2MDiBjOMH
HDtWB5JcpWvEkFjY2dudDpLmx7WkjGdOBnj2r1dfW/LHtXyNvSz7TYwve/J8/wD2PrKtiFDZ
7WVrW5+XYp36GYJKXktc6aUASw3SWN4BzhwawHf9i9GVE/Rb/q/lF/47Vf8A4q9r046TliJy
fmzy0laCQREXlOgREQBERAEREAREQBYS/unexZrGQZjIQGuLgvKuX/zvP1Q/IL041LWAlpZg
HG88CvL+Xb9pysLsY/ZN/wCULth/j/azMvIryIi4mgiIgCIiAIiIAiIgCIiAIiIAiIgCIiAI
iIAiIgCIiAIiIAiIgCIiAIiID1L9Hzmt5MDJx+2d+TVatozyl5tZqisp+RbjQRMlqcvMbHnc
T4vefV1qYsVQ51JTybeWVzogTJKzQ928ZyOpe7EUW6kpXOMalkkXHaM8oJtGeUFVjI0nO7em
0b6lz3V6l2padozygm0Z5QVW2jfUm0b6k3V6jalp2jPKCbRnlBVbaN9Sa2epN1eo2qLTtGeU
E2jPKCq2tnqTWz1Jur1G1Radozygm0Z5QVW1s9Sa2epN1eo2qLTtGeUE2jPKCq2tnqTWz1Ju
r1G1RadozygqZy0cHco+SODn/T3f8q6tTPUoC+Fp5S8lcY/6c7/lC74ehlm3fyl/8s51Kl42
/T5lwnk2UDn9iXaUssNbHBTRVJ5u8GGWQxtkGPGBcASMjK+zRNnhfE7cHDGexVm53ia3Uc9H
XAQyujcyOpewmJwIxk49XUvBhlFu3mdqra4ox/RlcqCo5ExSW22MttNziRop2ymThjeXEDeV
MwVoHKKqt7c6Ng2ob9HLi0j8iqNYqqn5DWGK1Gr8IOlc6ambBA7aP1YyMb8jON6svJa23AVF
XeruzZVdYGsjp852MQ3gH6RJyV6cZGCzO/PkcqMpSaP/0PaFS7raq6TlPcLnRUjA+CKB0cj6
Quc94a8Exvzg6ctJbg5xjfwV0RedM0UOGs5VsuO1qKSpkgmEBqoTS6ow3TplazAzn5TvWQB1
gHtpZL9SWzk/BS08kVOyi01TX05dI17RjTj+EgAkZ4nA38Fb0VuClsr+VDmBzm1zRso3OHMG
5D3RlxaBjeA8NaewEknrU5ZZ7lPNM65c4iLZjG2I04azSGg6g7GSMlwBzv0hTCJcFKkuHKun
2jDFVyvj1b20TS1xaJDgEDeHEQjd5bscN2mSflNUV1LVvoJ21FPUSGnIpsAMewjZydQbqABd
9uVe0S4KpyVN4iuT6SalfTWiMzGFssBa7fK5wdk+3GOwDcOJw5My8oWVEFLcedvjbLK17qin
DRs95a/WBvdq8XHk4OOtW5EuCnMreVbqwlrZRSkTACWiGrLXPDSBu6hG4ZO8ucADjA0UdTyq
ZcpzI2udHKYXsElK3TktYHNJA8UAayeHjDqzhXhEuCr2Kr5R1F1hNex7aB8LnObNS7Nwdkji
Bu4N3HeQ47uscvPuVz7gIo4XtgL3t2ktIAOvSd2cAEMGT1OJGvGRckS4KjJW8rTUB/NmMp5I
NqYmwa3R6nHLc8C9jdOAflEnceK56uhuY5A2+1w01QX6DHO3ZAyAtJLN3UCQMkcOrCuyJcFJ
uVbyqlrJHwwVTGRVmqARU2dTCyQYf2tH7N3XvcesYHTW1/KBtntU7KKV9wxMJ2x0ZeQ8MIYf
oBxxndwceGFbUS4ICWWqq+SNwjrKSqlqHR1NO1nNyHy41BjtI8oaTkbsnqUBTWzY01thuVmq
ahkVXtZY4KF2yDDTkDQ3JI8bTqB/jyVfkS4KHUScroqU0jmVJbFHE5j4Ig95c2Rhxq4Oy0vB
3/wevJs/JuoudTQE3eIsqmzEAmLRqZuIOO8fZ9qlV9b8se1RvgUrH6L3NFv5RZOP/jtV/wDi
r1tGeUF5XyFeGxcoAcf66qf/AMVa9o31L7OJw7lVk7nlhUtFItO0Z5QTaM8oKrbRvqTaN9S4
bq9TW1LTtGeUE2jPKCq2tnqTWz1Jur1G1RadozygvhljAyXge1VfWz1JrBBDTvI6keGaV7ja
lo2sflhNrH5YWBi3lNkvJc6me1j8sJtY/LCw2SbJLg2bRnlBaKysp6SjlqJ5WxwxjU97uACi
L/KIYJGulfEBA52uNuXN47wOsqmXCsr3/o/uUtY3Z1JpxgjxS5utuHEfwkjqXroYbaOKb5tf
M41KuRO3kWJ/KXk46USG5w6h9F+Ce35KpPKuspq/lAKiknbNC6MAPbnGQ0A8V53z6p88/wC8
VPWyR8tFTve4udqk3k+xfZxXhFPCUZVIyb4WPBhcdUr1FCSSO9ERfnD6oREQBERAEREAREQB
ERAEREAREQBERAEREAREQBERAEREAREQBERAEREBIUXKC40FG2lp2MEbSTvDXHJx2j1Lqi5Y
XiJ+sNhcfpMb/kFCovU8XJ84rsc9miZ6XXfP7uAf/TZ8E6XXfyIfds+ChkTepdK7F2aJnpdd
/Ih92z4J0uu/kQ+7Z8FDIm9S6V2GzRM9Lrv5EPu2fBOl138iH3bPgoZE3qXSuw2aJnpdd/Ih
92z4J0uu/kQ+7Z8FDIm9S6V2GzR//9GZ6XXfyIfds+CdLrv5EPu2fBQyL1b1LpXYxs0TPS67
+RD7tnwTpdd/Ih92z4KGRN6l0rsNmiY6XXfyIfds+C1Q3mtunK3k6yqawNjqyW6WtG/HqCjF
utXzvsH+1f5Lvh8RKU8rS5S8v+LOVWCUb/p80exIQHNLXAFpGCCMgoi+Mesh7fydp7ZdjW00
rxHsDCyAjIjBdq3Hjj1dSmERalJyd2RJLggiIslCIiAIi01VXBRQmapkEcecZIJ39gA3lErk
NyKK6S2f+bd7iT/yp0ls/wDNu9xJ/wCVb2c9H2M546kqiiuktoxnnbvcSf8AlTpLaP5p3uJP
/Kmzno+wzx1JVFE9JrP/ADbvcSf+VfRyls5//mEeswyAf8qbOejGeOpKovjXBzQ5pBBGQR1h
fVg2EREAREQBERAF9b8oe1fF9b8oe1AeM2W+19srL9BStjMZu1Q46mtJzkdo9Slul138iH3b
PgqzRf6yvv8A4pP+a7V9jE4mUaslZdjzQgnFMmel138iH3bPgnS67+RD7tnwUMi471LpXY3s
0TPS67+RD7tnwTpdd/Ih92z4KGRN6l0rsNmiZ6XXfyIfds+C+s5YXhjs7OA+osb8FCom9S6V
2GzRZf1g8oOyD7oT9YPKDsg+6FWkWNv/AMI9i5fUsv6weUHZB90J+sHlB2QfdCrSJt/+Eewy
+pO1HLW91Lg54hyBgEMb/mFx1XKK41tFPR1MUUkE7dEjcNGRnPEAKORbji5R5RXYy6cXzOPw
fR+j2+9K3RxNj2bI4RFGzUcas7ytyLrV8SxFWDhN3TMQw1KDzRVmERF4DuEREAREQBERAERE
AREQBERAEREAREQBERAEREAREQBERAEREAREQBERAf/SIiIAiIgCIiAIiIAiIgCIiAIiIAt1
q+d9g/2r/JaVutXzvsH+1f5L04T/AHf7S/8AlnKt7nb5o9iREXzj0BERAEREAREQBQPKk4p7
dnGDXMBzwOWvU8o69WoXeiZCKh1PJHIJY5Gt1aXAEcOviVum0ppszNNrgTBp6UOI5rB7tvwU
HyxApuR90npIYo544dTZGkRmPeMu1DfuGTjrxjrXJ4I5Qk56Vv8A6Nv/AJl8Nm5QOBDuVLiD
xBomkf8AMu9o9a/n6GLvT5fU89sFzfX8pKiGqrJaamkppJTLHVSSGNrWZGkuOCPGJG7PAZPF
WPkpSPm5QONTW1OlkrS6KWVrdb9iwlj2OcXHBJbubg6fapro3d9ptOkEW08vwbHq78rJ3J+9
PnbO/lI10zRhsjrewuHsOrIS0Otfz9Bd6fL6lr2FL/Kwe7b8FG8oIqePk/XPZBC1zYshwjAI
3hRXgflD/iuT+jb/AOZa5+T97qoHwVHKd8kMgw9nMwMj7yqyJ3zr+foG3bl8vqTFp/1Lb/8A
ZYv+QLsWuCFlNTRU8ednExsbc8cAYH5LYvLJ3dzouCCIihQiIgCIiAL635Q9q+L635Q9qA8J
ov8AWV9/8Un/ADXauKi/1lff/FJ/zXavoYv/AH5HGn7iCIi85sIiIAiIgCIiAIiIAiIgCIiA
IiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgP//TIiIAiIgCIiAIiIAiIgCIiAIiIAiI
gCIiAIiIAiIgCIiALQa2a2Xi13CKimrBTTF744iAcY9a3oulKo6c8yV+f8qxmUcysyx/rUm/
wlcffMT9ak3+Erj79nwVcRbz0fyl3l/kLS6vl9Cx/rUm/wAJXH37Pgn61Jv8JXH37Pgq4ibS
j+Uu8v8AIWl1fL6Fj/WpN/hK4+/Z8E/WpN/hK4+/Z8FXETaUfyl3l/kLS6vl9Cx/rUm/wlcf
fs+CfrUm/wAJXH37Pgq4ibSj+Uu8v8haXV8voWP9ak3+Erj79nwT9ak3+Erj79nwVcRNpR/K
XeX+QtLq+X0LH+tSb/CVx9+z4J+tSb/CVx9+z4KuIm0o/lLvL/IWl1fL6Fj/AFqTf4SuPv2f
BP1qTf4SuPv2fBVxE2lH8pd5f5C0ur5fQsf61Jv8JXH37Pgn61Jv8JXH37Pgq4ibSj+Uu8v8
haXV8voWP9ak3+Erj79nwT9ak3+Erj79nwVcRNpR/KXeX+QtLq+X0LH+tSb/AAlcffs+CfrU
m/wlcffs+CriJtKP5S7y/wAhaXV8voWP9ak3+Erj79nwT9ak3+Erj79nwVcRNpR/KXeX+QtL
q+X0LH+tSb/CVx9+z4J+tSb/AAlcffs+CriJtKP5S7y/yFpdXy+hY/1qTf4SuPv2fBB+lWYE
Holcd3/bs+CriJno/lLvL/IWl1fL6Efa9vJJcamemfTGqrZJ2xvIJDXYI4KQRFirUdSbm/Ms
VZWCIi5lCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgP//UIiIAiIgCIiAIiIAi
IgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiA
IiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiID/1SIiAIiIAiIg
CIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIi
IAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiA/9YiIgCI
iAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIA
iIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgP/X
IiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiI
gCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAI
iID/0CIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgC
IiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiI
AiIgCIiA/9EiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIi
AIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAi
IgCIiAIiIAiIgP/SIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAI
iIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIg
CIiAIiIAiIgCIiAIiID/09YniIyJGke1fdtH5YXZSXUUttpo2saf2YySOvC2Vt9ZTW4SNfE+
pc8NbEMfavFPGZHZo5YZ1MRfJbgru5H7VnlBNrH5YUnWV1RRCnErmbSZheGBu8D1rrtr31tO
6aWdsTQ8Mb4o37sk7+oblKWMVVJw4o4LEycsqXEgdrH5YTax+WFYZI5eYQTsn1STiPZtLAGk
v3gEn6IJJ6iCtUtNWiR+lrpYcARSRMDhI48N43BvXkncPWV0deS8iuvUXwkHto/Lb3r5t4sg
bRuT1ZWUtbUDOWjPZhQ9bcJm4dkNIO4hKWKUppS5HDfn5Il9rH5be9NrH5be9QXhCq865d1P
HXTwCZ9bBAxzsNE0mHO9g61+rl4NTiruZh+ITSu0jv2sflt702sflt71D1FZUwzOjE7yWnBy
MEFWK28mbxX0bKyWuip6dzNoC7LiWeVgDhndkrE/CaMI5pTsirHVHyijl2sflt702sflt71E
1tRV0VwqaQzOJgkLNXlY6x6lLU9oulVS001PUbZ87S4Qxb3tAJGSPsOOs4XlxWFweFhGdWo0
pcuF/kmdaeIr1G1GC4Dax+W3vTax+W3vXFdY6y1SxMdWMm2sYkDoycAHqOd4O45C56WoqKja
66lzNDcg7t5zjHtPUu+H8Nw+IpKtSm3F+nrbQzPF1YSyyirkrtY/Lb3ptY/Lb3qKkqaiOuMA
qdowPDdbesZU3PJBEX4jw1ud7nnqXV+DQ4fiZjf5rmkadrH5be9NrH5be9TcNigraCaporlD
USRQCZ8EUchIyM6c9o7FC0wfWECCJznFpfpyQQAMlcKXh9Cq2ozd16W+ZueLqwSbiuPqfNrH
5be9NrH5be9Y7QYzpOPaU2g8g/eK9HsWHUzl7Rl0mW1j8tvem1j8tvesdoPJ/wCIpSPa6pqN
oHOa1jS1uo4BJPwUfg0F8TKvEJv4UZbWPy296bWPy296l7dZai7Us09MIWtjOkNklIL3YzgK
NqoJ6KVsVVA6KRw1BrnHOO9eeOBwsqjpKp+JO1uHP/v+x0eKrqOfJwNW1j8tvem1j8tveuie
lmp4GzPawscGu8SXUQHDLcgHdnB7ly7QeT/xFeheDQfKTOb8QmucTLax+W3vTax+W3vWO0Hk
/wDEVhLJ+ydgEHBwQ4q+xYdTJ7Rl0m3ax+W3vTax+W3vWcb4m0kLnMLnmNrnOLjxIytslNK0
UxdHoNSXCJoa52ogZIyNwOOpcKnhtCkk5zauaWOm/hRz7WPy296bWPy2966bdRT3OtFJCwCY
tLsOcSNwzxGc9WO3K3XC01dtBdPEHRh2kvY8kA/nvW14VRbSU+f6F36ra+U4NrH5be9NrH5b
e9Y7QeT/AMRTaDyf+Irp7Fh1Mx7Rl0mW1j8tvem1j8tvetcbw6vha7UIy1xc0OO/AyF1NfTu
qIo3lkDJHtYZHuJDcnGViXhFOKbcnwNLHzdlZcTTtY/Lb3ptY/Lb3qWuVnjorQLnTVra2m2u
zLoYpAB6/Z6+C44KGeppnVEYi2bHaTrnDTn2E5XOn4dQqJuM3w/t8zcsXVja8eZy7WPy296b
WPy296+y6oZnxSRkPjcWuGo7iDhYbQeT/wARXf2LB/Ezl7Rn0mW1j8tvem1j8tvesDIMfJP3
is6N7DRl8gc95kcAS47gDuUfg0F8TKvEJ9KG1j8tvem1j8tveu+jtN0ulNzmgtcksGotEm1a
3JG7g5wPUuN8VRFcjbpqWSOrGn9kXZ48N4JC4x8Ow8pZVU4/2OjxdZLM4cDDax+W3vTax+W3
vW2ohkpXtZKweM0PaWSagWngcg+paNf0D3ldl4NB8VJnN+ITXwmW1j8tvem1j8tvesdoPJ/4
itNVMW07nMy1w4EOKvsWHUyLxGb+E6NrH5be9NrH5be9dL9iJREyPr06nOKi3V5Mro2U+XtO
NOXYO7OAeGcHhlc34TTXOTNxxtSXKK7nXtY/Lb3ptY/Lb3rdTQSVe02Yjbs2hztrLowCQOs9
pA+1ZczqdlLI6HSItRe10mHYBwSBnJAO72rXsemuGf5Gd/qdJz7WPy296bWPy296+atxOnGO
ouIJ9i+bQeT/AMRWvYsOpk9oy6TLax+W3vTax+WFC3usngfTtglfEHuOrS7jgLkpJLhWSPZH
WzZa3Vgu47wMD171l+EU18TNrHTfkiy7WPywm1j8sKsmesMZkiuL5mNOHmN+dOeGV9c+5to2
1bp6gU73mNsheMFwGSFleFU38TNPGVFziiy7WPywm1j8sKsOnuLIGTuqKkRPcWteXbnEcQCt
fPaz+cn+8r7Ip9T/AIM79PRFr2sflhNrH5be9VTntZ/OT/eVissuu1bSoL5pNo5oc5x4DHxT
2RDqf8B46a8kdO1j8tvem1j8tveu2OjE0Ecu1ghEhdpD3PJ3EAncDgZIWFZQyUM0UUjonGTg
Wvdgb8b84wvnUlgKtbYQqvNe1rP6HsqRxlOltZU1l580cu1j8tvem1j8tveuh9HUR842kWz5
vKIZC9+AHnOBx38CfZvXLrHkHvK+mvBqb5S+R4X4hNc4mW1j8tvem1j8tvesdoPJ/wCIrTVT
FtNI5mWuAyCHFX2LDqZPaM+k6NrH5be9NrH5be9RFJNca6pZTU5fJM/Olo4nAyu7wdftQGxl
Oo4BGCCdOrjnHDesy8IowdpTsbWNqvlE6drH5be9NrH5be9Q0dVXz1MVNC50k0sjYo2AganO
OAMndvJ6131Vt5R0UVTJUUwa2lbqqA2rhe6Idpa15d19i51PDcNSko1Ktm9bGo4qtJXjC51b
WPy296bWPy296hGVtY+VsYlOpzg0Z7ScKdu9uktVt27rjI6oDxHs3Rlgc4Y16dQBIGeOMFdJ
eD04tRc3dkWNqNNqKMdrH5be9fOcQ+cb3rhtMV0vNbzWmmDdLdckj/ksb2ntPYFLT0dXaWxU
75zK1+p7JCws15J3jfvGcrMvCqSnkzu5wreJ1KcbqKZz84h841OcQ+capmjs9TW0jKhtXpDw
cDScDBxvPUom6vkttRURMqecNhBw9hwH7upYXhtBtxU3wOcvE8TGKm6as+XE/9TXziHzjU5x
D5xq5r03lJYLVNca2CgMMIaZGxVhc8ZGQMad2QsYrsJaOGpExYyZgewPODgjIX0cJRwGMi54
etmS5nx6uNxtKSjKjxejv8jr5xD5xqc4h841famG8UEluFaIA24Mc6IxSkkYa12/IHU4Ljnv
MMAiDah1QZHaCYHtc1pPDO/PrXWODwso51Udvv0G+Y3Pk2Sv+v8A3yOvnEPnGpziHzjVzT3m
nobVFX1bqxwlm2LGQBpOdOd+Std1v8Fsr47e6Ot51KY9BL2GPxiAckHiDkH1tIXp9j07pZnx
Ta5cVG13/a6uZjj8XKGdUlb9Tt5xD5xqc4h841fY3VUsc0jHOLIW65DngMgfmQspRWwNgMmt
u3YJI/pNJIB7wVfY9PlnPN7arc9mu7MOcQ+canOIfONW6opLnTibagsMJIe3WNQwQCcdYBIB
K4edTj/rXd6i8HptXUzT8ZrLg6a7s5aeUOp4hnOloGF2NrYamsoIq6n2FHTlznO+WHuPWccF
Fx0zGtADnj/eW1sIz8t/3l8OPh2MhTqUoTSU1Z697epulW2U8yV/1Jusloqy6PqKMO5syNsc
ZdnLsbyd+/ipSnrqWjfDHG9r2NbofIDIA0He/AaRknOB2DeqmGfTf95Zhp4bR/3l5aXgmIpR
UYyXDVv6B4luq6nmyzeEIHzc4mDJZHkvla0POSdwDS45GluRv8ogDfkYuraTZZlcyaVkBaBL
SZ2jyTga87gNW7dwbhV3SfOP+8sdJzjW/wC8uvsnE6r+foa3qRIyFjWAZBwFAXECR7Y24Jc4
BdroweLn/eUbWgUo2se92dOXHK6YfwSq6sczVr8ef0OMWjIt4rukngMcEMj5IY4jucyMS6x2
+oqA59N9HuTn830e5fuKiU1YOnfmSc5E9XNM0SBjyNIlILsAY343ZVrby6pxZaGiNNcRNTRt
he2HxQ/STg6s4IweBHFUHn030e5OfzfR7lwq4enVjGMr8DpByjyJCR76qtq6ySEQuqZnSbMP
LtAPBuTxwrlarxQW20QRmaZ8rpBM5sL9nJDI0Oa0hxBBaWu3jjlee8+m+j3Jz6b6PcvH4j4X
TxsIQzOOW/lfmdqFeVJt2vctPKOaCruAqIKnnDpRtJn6S0bQ8QAd+OG/rUNo9ij+fTfR7k59
N9HuXrwGGjg8PGhF3tfj+rb/AOznWk6s3N+ZJxNxNH/3h+am59TtpoLdeSW6hkZ6tyqQr5gf
4e5bPC1Z538F6ZuMlZ8mcssrpryPWOS9wtVp0VNwvNPNVGARnZ0zwRk6nanHJJz2YCr9suMV
BUz1GiR73uIYW4xpL8u3EdYG7sVH8LVnnSnhas86V4KOEjCcpyk3dW8l8jvUnKUVGKSseh09
5paeFkAgqTC3I0GRu9uXHHDsLR/urkuNfBcJY5NlIxzGaNxbv4kZ7wPYFR/C1Z538E8LVnnf
wXqjCmpZlzOLU2rNlpdp1HRnT1auK1wnE9R62s/MqteFqzzv4L4LpVhxcJPGO4ldcyZlU2j0
OycpTyfDyKCWqe7OnS9oDc8cg8epcN8vlTygqaDaQvhiphI8tON7icDeNx3Eql+Fqzzv4J4W
rPOlfL9mYbeN443vmtfhc9W8Vdns+HK3rYvVXco6mghpRHK0Qxsaw5bvIGDnA3js7N/ao1Vf
wtWedKeFqzzv4L6UHGKsjyunKXFstCwk/dO9hVa8LVnnfwQ3WrIIMm4+pazomyZZgNdLG3OM
xNH/AArtmvghhbBS25j2yvfJOytqnaWvP8TGtZxHUc8DgqmC61bWgCTAAwBhPC1Z50rx4vCw
xCSbasdqTdNt2TLtyfuDLXdKarfFIyJjNBZkOdpDNI+3cCuq7XGir5JNnHMAZNqHnAJJ3OBG
eGA3HsK8/wDC1Z50p4WrPOrpCjThZq/BWI87TWpanbPA0avXqx/67Viqv4WrPO/gnhas87+C
9GdHLZMsgOKyL/uv/JZlsr5IhFUR0+XgOlewuDWn5XDfw7N+FVzdKouDjJ4w4HsX3wtWed/B
YqKM4tPzNxjKLTXkesS3Oz03JW50UVyhqKuq1POyp3Rtc48AAR+JKrVPUQxU00UkcjjJJG/L
SMANJzx696pnhas86U8LVnnSvLhsNGjmu281v4OtWUqlrJKx6FWX5tVRzw7BwkmJL5HEOJ8Y
kb8Z3DAUR+x0/wDWaserGf8A1j8VVPC1Z538E8LVnnfwXqgoQVoo4yhOTu2WhYUx/wBHx/2j
/wA1WvC1Z538F8bdKtgw2TAzlbzImzdrF7or7NSUjIWsq4ZY2bPXTyM0PaHEgkE5zvXBHOH3
Ns80M74GnLjLKNrIS7U7Jbw7AVVPC1Z538E8LVnnSvDTwVCnU2kb3+p3lUqyjldi/wDheERy
NZDM3VnJDx+0JGC527iOIx171hcbpHXM0AVLW7V8mlzwRg40t/3d/eVQ/C1Z50p4WrPO/gvS
oU07pHJqbVrlqfoz4mrH0sf+uGFz1X/Rnqu+Fqzzv4L4651T2lrpMg9WF1zK1jKpNO5bzI1l
RtHHxWuyfYo19VMWO2byKUyBvixlpadLfHBxq45BPV1cFB+Fqzzv4J4WrfPFc5qMnc3BSjyL
nZ7kKGN8zYnF8sIawOAIG8HxgePDHat77nHol2ccusxOhjdI4OIY5xdknHygSd4VF8LVnnSn
has86jUG7tEyzSsmegV16jraKaF0UwkkIdkuBAOouPVnG8qHVX8LVnnfwTwtWed/BahkgrRR
JQlJ3bO2/wD7yj/7zvyXyyyRQ1j3TSNjaWY1OcGj5TesqOnq5qnTtSHFpy09i163dqxNXvbz
NxVrHb4Q21E9rY6elOluRE0N2sefk795IPHrKkbdcaOloY2SOl2zHzPGIWvaC5jWsO89Tmg8
FA7R/lFNo/yisbPhY25O9y4TX61bSJkLZjBFnS11MwYYZHPMYGo7nBwbq4jT61WC2HSSHvBx
kN0bs9mc+0Z9S5to/wAoptH+UUhSUORJNy5m1WG07raB/wBq/wDyVZ2j/KK3R3GphZojfgZz
9q6x4O7MSi2rHptqu1NS2s0sxp3tka5kscokBxqDmkOYMjhwUdcaiGZ9Jibb6NRkLQ7reTgF
287u1UbwtWed/BPC1Z50r4NDwOnRxSxOduzbtZed/P8AufUq+JTqYd0MqV0uN9D0h3KNkk5k
fDNgVDZxpc3Jxq+VkbzggZ7AuWe7RTR1LQ2pZtWsa0CQYYAd4G7hjdhUHwtWedKeFqzzv4L7
cadJckfLe0fNlqdsseJrz9LGFz1X/RZf+6VXfC1Z538F8ddKp7S10mQeIwu2dGFSd7n/1Yiz
zQ0d3pqmo1bKNxLtLA4ncRwJGVPQXu30sM8bRJIJnaixkDYmtOy0AtGo4wersJ7VQ+fzfR7k
5/N9HuX7WtRjVlds+DFyiuBNW+ZlHebfVyajHT1cMz9IydLXgnA6zgK2Xu9cmKqC8T0gkhq6
mE09JE6Ex5MjtpK7GN+XNBLiTjdw6/OefzfR7k5/N9HuXkxnh0MVOM3Jqyt/J3oV5UouKVyR
cMuJHbldlfRNpmUzhcIKszR68RFxMfqdkDB9SgufTfR7k59N9HuX03LijzZWWSx3F9smqA3T
icN3kZGW53H1b1M3KvdfrvFWCGWFjWsNQXHLGlvVH2AgDA7SqFz+b6PcpikvNVFQQxAMcAXH
LgSd5z2rhKMVPMlxZ48SnBZud7cP0PQrTX0FPb4DUOiadu8zNdku0ngQAN6ql7MdTV1ktOyQ
wSPOlrW5dpJ6h2434UU68VLuIj7v/wBrHwtUdjO5eWlgY06k6qk7y4c+C/RHGeJrThCDStGz
7EVeaSunq3udW3ergq4tlVSS0jQ46R4jcDiPX1b1YaF1Rb6BkTbVbJyYmtLKiMv2RDcYYc8F
xeFqnsZ3J4VqOxncucvC8PKlspLT05cvL+36fofQo+NYyhWVekoqSvq1xLBd7rTXKXk9FT1E
svNGyCR0kbiWAsj45aOsOGPUuSWms9tFVR2qnluDZ4x/pErnRCIjsyOPHh1KK8LVP0O5ffCt
R2M7ko+GwpwUczsjFXxTETnKaSTl+vr9SUpJLZQyWk3YzGKkqjUbOCnfKXFrAG8AcDVv+xR1
7ks9xtdojoYqwXGkuD34NLLpdFJO55y5zRwzn1ZI38Vr8LVPYzuX3wtU4/g7j8Vmt4ZGri4Y
t1JKUFZJPhZ3T4W88zv/AG0MUfEKtOhscqfrxJqme2GOrbIx7jNFs2lpGAdQOT6vFXZUXd89
RT1Apo2Sws06Wl2hx1EjIznAzuweIVY8K1HYzuXzwpUdjO5fScIyd2fNiqqVk0WeruNNUNrX
ilmjnqSPkvBa0DG7fv6snt3dih3NJ6lH+E6jsZ3L54QmPUzuVhFRVkWSnJ3Z/9k=
--------------090508000000060102040500--


From julien.barnier at ens-lsh.fr  Tue Apr 29 11:40:27 2008
From: julien.barnier at ens-lsh.fr (julien.barnier at ens-lsh.fr)
Date: Tue, 29 Apr 2008 11:40:27 +0200 (CEST)
Subject: [Rd] X11 window title setting in X11() Device (PR#11325)
Message-ID: <20080429094028.053E12834612@mail.pubhealth.ku.dk>

Hi,

> Can you please give precise reproduction instructions -- you don't
> even tell us what the window manager is.
> I'd be willing to consider a workaround, but only if I can reproduce
> the problem (which appears to be a false assumption elsewhere in your
> setup).

Yes, sorry, it is one of my first bug report so please forgive me for
being incomplete.

The window manager I use is dwm, which can be found at :

http://www.suckless.org/wiki/dwm

It is a lightweight tiled window manager with configuration by
compilation. You can change settings by modifying the config.h file
and recompiling dwm.c. The setting which cause problem in my config.h
is the following :

Rule rules[] =3D {
        /* class        instance        title           tags ref        isf=
loating */
        { NULL,         NULL,           "R Graphics",   NULL,        True},

which makes every window whose title match the =C2=ABR Graphics=C2=BB subst=
ring
to be considered as a floating window.

If you use dwm with this configuration rule, launch R and open a
graphics window, it will not be set as floating but will remain tiled
(which is the default).

The problem is that dwm applies the rule given above as soon as the
window is mapped. But in R 2.7.0, when the window is mapped she
doesn't have any title (it is assigned later), so the rule doesn't
apply because the window is considered having no instance name, no
class name (the WM_CLASS attribute) and no title.

> Which is perfectly valid in X11, so I don't see where the 'bug' is.
>
> R changes the title to reflect the window state, do the supplied
> title' is never actually used without decoration.  R 2.6.x put up one
> title and then immediately changed it, but that was undocumented and
> not safe to rely on (as you found).

You're perfectly right by saying that it is not a bug per se, it is
just a small change which shouldn't affect the vast majority of users
but those who rely on windows attributes to manage them. But maybe I
am the only one in that case...

Another workaround could be to give a class or instance name specific
to the graphics windows.

Thanks for your answer and sorry for the incomplete bug report.

Regards,
--=20
Julien Barnier
Groupe de Recherche sur la Socialisation
ENS Lettres et Sciences humaines, Lyon
T=C3=A9l : 04 37 37 62 92


From ligges at statistik.tu-dortmund.de  Tue Apr 29 14:01:13 2008
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Tue, 29 Apr 2008 14:01:13 +0200
Subject: [Rd] Some compiling problems
In-Reply-To: <BAY104-W31B7A6C59DFB366A47BD05A5D90@phx.gbl>
References: <4815F9C8.80209@wu-wien.ac.at>
	<48163158.2050802@stats.uwo.ca>	<alpine.LFD.1.10.0804282218510.18306@gannet.stats.ox.ac.uk>	<eb555e660804281522s7b8565e9o308a5864a733e12c@mail.gmail.com>
	<4816E03F.8030904@wu-wien.ac.at>
	<BAY104-W31B7A6C59DFB366A47BD05A5D90@phx.gbl>
Message-ID: <48170E09.2000807@statistik.tu-dortmund.de>



jing hua zhao wrote:
> Dear R experts,
>  
> I had some difficulties to build R on Linux (cross-build) and Windows (via Rtools) and hope it is appropriate to post for help,
>  
> Our system has gcc 3.4.6 on RedHat Linux x86_64. With the help of Makefile-rcb by Yan and Rossini (setting BUILD=CROSS, R_EXE, F77 and FLIBS to g77 and g2c) I was able to build R 2.7.0 but most of the executables failed to initialise under Windows XP or Vista. After manually zip on Linux and unzip under Windows, all executables work. There appears to be problems with the compression? 
>  
> Earlier I kept Excel files in inst/doc but would corrupt in Windows packages from cross-build. Maybe it is a bad practice to have those anyway?
>  
> I was able to build R 2.5.1 myself under Windows and with R 2.7.0 this is much simpler and led to the point of success but is still stuck with 'make distribution' since bitmap directory does not have a proper Makefile as before. I do notice they are available from Cross-build or it is possible to build outside R framework via Cygwin.
>


R-2.5.1 is not R-2.7.0, hence re-read the manuals and update your 
compilers, bitmap requirements etc.

Uwe Ligges


> Many thanks for your help,
>  
>  
> Jing Hua
>  
>  
> _________________________________________________________________
> Bag extra points with the Walkers Brit Trip Game 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From gpau at ebi.ac.uk  Tue Apr 29 15:52:12 2008
From: gpau at ebi.ac.uk (Gregoire Pau)
Date: Tue, 29 Apr 2008 14:52:12 +0100
Subject: [Rd] reproducible segmentation fault caused by textConnection()
Message-ID: <4817280C.4050701@ebi.ac.uk>

Dear all,

It seems that textConnection() can trigger a segmentation fault. The
following script (using two large loops) makes this bug reproducible:

for (i in 1:10000) {
   z=textConnection(NULL,open='w')
   for (j in 1:100) {
     write(runif(1)*1e6,file=z)
     write('\n',file=z)
   }
   close(z)
}

The bug could be reproduced on R-2.6.1, R-2.7.0 and on the latest 
R-devel 2008-04-29 r45543.
Here are some sessionInfo() details:
*----*
R version 2.6.1 (2007-11-26)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=en_US.UTF-8;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base
*----*
R version 2.7.0 (2008-04-22)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=en_GB.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base
*----*
R version 2.8.0 Under development (unstable) (2008-04-29 r45543)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=en_GB.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base

Greg
---
Gregoire Pau
EMBL/EBI Cambridge, UK
http://www.ebi.ac.uk/~gpau


From tchiang at fhcrc.org  Tue Apr 29 16:01:30 2008
From: tchiang at fhcrc.org (Tony Chiang)
Date: Tue, 29 Apr 2008 15:01:30 +0100
Subject: [Rd] reproducible segmentation fault caused by textConnection()
In-Reply-To: <4817280C.4050701@ebi.ac.uk>
References: <4817280C.4050701@ebi.ac.uk>
Message-ID: <52f663c40804290701y11757acaiff2ba0ae40cd6073@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20080429/926c5641/attachment.pl>

From osklyar at maninvestments.com  Tue Apr 29 16:07:38 2008
From: osklyar at maninvestments.com (Sklyar, Oleg (MI London))
Date: Tue, 29 Apr 2008 15:07:38 +0100
Subject: [Rd] reproducible segmentation fault caused by textConnection()
In-Reply-To: <52f663c40804290701y11757acaiff2ba0ae40cd6073@mail.gmail.com>
References: <4817280C.4050701@ebi.ac.uk> 
	<52f663c40804290701y11757acaiff2ba0ae40cd6073@mail.gmail.com>
Message-ID: <1A68FCB28DE72F4BA3B967E6506CCE43022948A3@mildnpexmb01.maninvestments.ad.man.com>

Hi Tony, Greg.

I get the same as Greg's: segfault

*** R version 2.7.0 (2008-04-22) [/research/osklyar/R-2.7.0] ***
> sessionInfo()
R version 2.7.0 (2008-04-22)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_GB;LC_NUMERIC=C;LC_TIME=en_GB;LC_COLLATE=C;LC_MONETARY=C;LC_
MESSAGES=en_GB;LC_PAPER=en_GB;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_M
EASUREMENT=en_GB;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base
> for (i in 1:10000) {
+
+    z=textConnection(NULL,open='w')
+
+    for (j in 1:100) {
+
+      write(runif(1)*1e6,file=z)
+
+      write('\n',file=z)
+
+    }
+
+    close(z)
+
+ }

 *** caught segfault ***
address 0xa0b0, cause 'memory not mapped'

Traceback:
 1: cat(x, file = file, sep = c(rep.int(sep, ncolumns - 1), "\n"),
append = append)
 2: write(runif(1) * 1e+06, file = z)

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection:

Dr Oleg Sklyar
Technology Group
Man Investments Ltd
+44 (0)20 7144 3803
osklyar at maninvestments.com 

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Tony Chiang
> Sent: 29 April 2008 15:02
> To: Gregoire Pau
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] reproducible segmentation fault caused by 
> textConnection()
> 
> Hi Greg,
> 
> I get a different error on my mac:
> 
> > for (i in 1:10000) {
> +  try({z=textConnection(NULL,open='w')
> +  for (j in 1:100) {
> +    write(runif(1)*1e6,file=z)
> +    write('\n',file=z)
> +  }
> +  close(z)})
> + }
> Error : cannot set length of non-vector
> In addition: Warning message:
> closing unused connection 3 (NULL)
> Error: no function to return from, jumping to top level In 
> addition: Warning message:
> closing unused connection 3 (NULL)
> Error : Value of SET_STRING_ELT() must be a 'CHARSXP' not a 
> 'character'
> Error : cannot set length of non-vector
> Error : cannot set length of non-vector
> Error : cannot set length of non-vector
> Error: no function to return from, jumping to top level In 
> addition: Warning messages:
> 1: closing unused connection 7 (NULL)
> 2: closing unused connection 6 (NULL)
> 3: closing unused connection 5 (NULL)
> 4: closing unused connection 4 (NULL)
> Error : cannot set length of non-vector
> Error : cannot set length of non-vector
> In addition: Warning message:
> closing unused connection 5 (NULL)
> Error: no function to return from, jumping to top level In 
> addition: Warning message:
> closing unused connection 5 (NULL)
> Error : SET_STRING_ELT() can only be applied to a 'character 
> vector', not a 'integer'
> Error: no function to return from, jumping to top level In 
> addition: Warning message:
> closing unused connection 6 (NULL)
> Error : cannot set length of non-vector
> Error : Value of SET_STRING_ELT() must be a 'CHARSXP' not a 
> 'character'
> In addition: Warning message:
> closing unused connection 7 (NULL)
> Error : cannot set length of non-vector
> 
> whence I ^C out of the loop.
> 
> > sessionInfo()
> R version 2.7.0 Patched (2008-04-28 r45540)
> i386-apple-darwin8.10.1
> 
> locale:
> C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> On Tue, Apr 29, 2008 at 2:52 PM, Gregoire Pau <gpau at ebi.ac.uk> wrote:
> 
> > Dear all,
> >
> > It seems that textConnection() can trigger a segmentation 
> fault. The 
> > following script (using two large loops) makes this bug 
> reproducible:
> >
> > for (i in 1:10000) {
> >  z=textConnection(NULL,open='w')
> >  for (j in 1:100) {
> >    write(runif(1)*1e6,file=z)
> >    write('\n',file=z)
> >  }
> >  close(z)
> > }
> >
> > The bug could be reproduced on R-2.6.1, R-2.7.0 and on the latest 
> > R-devel
> > 2008-04-29 r45543.
> > Here are some sessionInfo() details:
> > *----*
> > R version 2.6.1 (2007-11-26)
> > x86_64-unknown-linux-gnu
> >
> > locale:
> >
> > 
> LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US
> > 
> .UTF-8;LC_MONETARY=en_US.UTF-8;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.
> > 
> UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8
> > ;LC_IDENTIFICATION=C
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> > *----*
> > R version 2.7.0 (2008-04-22)
> > x86_64-unknown-linux-gnu
> >
> > locale:
> >
> > 
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=en_GB
> > 
> .UTF-8;LC_MONETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_N
> > 
> AME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTI
> > FICATION=C
> >
> > attached base packages:
> > [1] stats     graphics  grDevices datasets  utils     methods   base
> > *----*
> > R version 2.8.0 Under development (unstable) (2008-04-29 r45543) 
> > x86_64-unknown-linux-gnu
> >
> > locale:
> >
> > 
> LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=en_GB
> > 
> .UTF-8;LC_MONETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_N
> > 
> AME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTI
> > FICATION=C
> >
> > attached base packages:
> > [1] stats     graphics  grDevices datasets  utils     methods   base
> >
> > Greg
> > ---
> > Gregoire Pau
> > EMBL/EBI Cambridge, UK
> > http://www.ebi.ac.uk/~gpau <http://www.ebi.ac.uk/%7Egpau>
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


**********************************************************************
The contents of this email are for the named addressee(s...{{dropped:22}}


From henrik.parn at bio.ntnu.no  Tue Apr 29 16:38:24 2008
From: henrik.parn at bio.ntnu.no (Henrik Parn)
Date: Tue, 29 Apr 2008 16:38:24 +0200
Subject: [Rd] help text for xlim
Message-ID: <481732E0.6050607@bio.ntnu.no>

Dear R-developers,

A student asked me today of how to specify the limits of the x-axis. I 
knew that he should use xlim, but I tried to encourage him to have a try 
himself with the various help functions. I do not judge if he used the 
correct search strategy or right key words, but anyway here is what he 
tried: he looked at ?plot. There xlim is not mentioned. He checked ?par. 
There you find xlim mentioned under the xaxs argument, but not how to 
specify xlim itself. He also failed with help.search("x-axis limits") 
and help.search("x-axis range") and dito apropos(). Neither did 
Rsitesearch() for these terms leed him reasonably straight to the xlim. 
Finally, he checked under See Also: plot.default, and there xlim is 
mentioned as argument, but it does not appear in the examples.

I think it is fair enough that xlim does not appear under ?plot or ?par, 
but would it be possible to add an explicit xlim example under 
plot.default and perhaps to make xlim more likely to be hit by 
'xlim-related' searches?


Best regards,

Henrik


 > sessionInfo()
R version 2.7.0 (2008-04-22)
i386-pc-mingw32

locale:
LC_COLLATE=English_United Kingdom.1252;LC_CTYPE=English_United 
Kingdom.1252;LC_MONETARY=English_United 
Kingdom.1252;LC_NUMERIC=C;LC_TIME=English_United Kingdom.1252

WinXP

-- 
Henrik P?rn
Centre for Conservation Biology
Department of Biology
Norwegian University of Science and Technology
NO-7491 Trondheim
Norway

Office: +47 73596285
Fax: +47 73596100
Mobile: +47 90989255

E-mail: henrik.parn at bio.ntnu.no


From ggrothendieck at gmail.com  Tue Apr 29 17:14:20 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 29 Apr 2008 11:14:20 -0400
Subject: [Rd] help text for xlim
In-Reply-To: <481732E0.6050607@bio.ntnu.no>
References: <481732E0.6050607@bio.ntnu.no>
Message-ID: <971536df0804290814k7627c547re139fd790f854a6@mail.gmail.com>

Note that first hit of

RSiteSearch("xlim")

gives an example.

On Tue, Apr 29, 2008 at 10:38 AM, Henrik Parn <henrik.parn at bio.ntnu.no> wrote:
> Dear R-developers,
>
> A student asked me today of how to specify the limits of the x-axis. I knew
> that he should use xlim, but I tried to encourage him to have a try himself
> with the various help functions. I do not judge if he used the correct
> search strategy or right key words, but anyway here is what he tried: he
> looked at ?plot. There xlim is not mentioned. He checked ?par. There you
> find xlim mentioned under the xaxs argument, but not how to specify xlim
> itself. He also failed with help.search("x-axis limits") and
> help.search("x-axis range") and dito apropos(). Neither did Rsitesearch()
> for these terms leed him reasonably straight to the xlim. Finally, he
> checked under See Also: plot.default, and there xlim is mentioned as
> argument, but it does not appear in the examples.
>
> I think it is fair enough that xlim does not appear under ?plot or ?par, but
> would it be possible to add an explicit xlim example under plot.default and
> perhaps to make xlim more likely to be hit by 'xlim-related' searches?
>
>
> Best regards,
>
> Henrik
>
>
> > sessionInfo()
> R version 2.7.0 (2008-04-22)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=English_United Kingdom.1252;LC_CTYPE=English_United
> Kingdom.1252;LC_MONETARY=English_United
> Kingdom.1252;LC_NUMERIC=C;LC_TIME=English_United Kingdom.1252
>
> WinXP
>
> --
> Henrik P?rn
> Centre for Conservation Biology
> Department of Biology
> Norwegian University of Science and Technology
> NO-7491 Trondheim
> Norway
>
> Office: +47 73596285
> Fax: +47 73596100
> Mobile: +47 90989255
>
> E-mail: henrik.parn at bio.ntnu.no
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From murdoch at stats.uwo.ca  Tue Apr 29 18:18:08 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 29 Apr 2008 12:18:08 -0400
Subject: [Rd] help text for xlim
In-Reply-To: <481732E0.6050607@bio.ntnu.no>
References: <481732E0.6050607@bio.ntnu.no>
Message-ID: <48174A40.6080701@stats.uwo.ca>

I think you're right, xlim is harder to discover than it should be.  If 
we added the right "concept" marker to the page, then help.search() 
would find it.  But a lot of things are mentioned on the plot.default 
page; how many others there are just as hard as xlim to find?  I'd 
rather not fix xlim today, and then something else tomorrow, etc:  I'd 
prefer it if someone looked carefully at what the concepts are on that 
page and whether it is the best place to find descriptions of them.  Any 
volunteers?

Duncan Murdoch

Henrik Parn wrote:
> Dear R-developers,
>
> A student asked me today of how to specify the limits of the x-axis. I 
> knew that he should use xlim, but I tried to encourage him to have a try 
> himself with the various help functions. I do not judge if he used the 
> correct search strategy or right key words, but anyway here is what he 
> tried: he looked at ?plot. There xlim is not mentioned. He checked ?par. 
> There you find xlim mentioned under the xaxs argument, but not how to 
> specify xlim itself. He also failed with help.search("x-axis limits") 
> and help.search("x-axis range") and dito apropos(). Neither did 
> Rsitesearch() for these terms leed him reasonably straight to the xlim. 
> Finally, he checked under See Also: plot.default, and there xlim is 
> mentioned as argument, but it does not appear in the examples.
>
> I think it is fair enough that xlim does not appear under ?plot or ?par, 
> but would it be possible to add an explicit xlim example under 
> plot.default and perhaps to make xlim more likely to be hit by 
> 'xlim-related' searches?
>
>
> Best regards,
>
> Henrik
>
>
>  > sessionInfo()
> R version 2.7.0 (2008-04-22)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=English_United Kingdom.1252;LC_CTYPE=English_United 
> Kingdom.1252;LC_MONETARY=English_United 
> Kingdom.1252;LC_NUMERIC=C;LC_TIME=English_United Kingdom.1252
>
> WinXP
>
>


From bill at insightful.com  Tue Apr 29 18:29:35 2008
From: bill at insightful.com (Bill Dunlap)
Date: Tue, 29 Apr 2008 09:29:35 -0700 (PDT)
Subject: [Rd] reproducible segmentation fault caused by textConnection()
In-Reply-To: <4817280C.4050701@ebi.ac.uk>
References: <4817280C.4050701@ebi.ac.uk>
Message-ID: <Pine.GSO.4.56.0804290924510.14834@devsun3201.insightful.com>

On Tue, 29 Apr 2008, Gregoire Pau wrote:

> Dear all,
>
> It seems that textConnection() can trigger a segmentation fault. The
> following script (using two large loops) makes this bug reproducible:
>
> for (i in 1:10000) {
>    z=textConnection(NULL,open='w')
>    for (j in 1:100) {
>      write(runif(1)*1e6,file=z)
>      write('\n',file=z)
>    }
>    close(z)
> }
>
> The bug could be reproduced on R-2.6.1, R-2.7.0 and on the latest
> R-devel 2008-04-29 r45543.

valgrind shows that it uses freed memory after
a garbage collecting episode (after many iterations),
because a Routtextconn's 'data' component was freed:

   ==24210== Invalid read of size 1
   ==24210==    at 0x810B328: Rf_lengthgets (Rinlinedfuns.h:358)
   ==24210==    by 0x8121C48: text_vfprintf (connections.c:2064)
   ==24210==    by 0x809D0C1: Rvprintf (printutils.c:770)
   ==24210==    by 0x809D105: Rprintf (printutils.c:668)
   ==24210==    by 0x810A984: do_cat (builtin.c:617)
   ==24210==  Address 0x5823CD8 is 0 bytes inside a block of size 1,176 free'd
   ==24210==    at 0x40052A3: free (vg_replace_malloc.c:233)
   ==24210==    by 0x805AC3D: R_gc_internal (memory.c:769)
   ==24210==    by 0x805B873: Rf_cons (memory.c:1757)
   ==24210==    by 0x81571F6: Rf_promiseArgs (eval.c:1633)

   (gdb) where 5
   #0  Rf_lengthgets (x=0x5823cd8, len=289)
       at ../../src/include/Rinlinedfuns.h:358
   #1  0x08121c49 in text_vfprintf (con=0x500f280, format=0x81e64d8 "\n",
    ap=0xbef18b84 "?\213??") at connections.c:2064
   #2  0x0809d0c2 in Rvprintf (format=0x81e64d8 "\n", arg=0xbef18b84 "?\213??")
       at printutils.c:770
   #3  0x0809d106 in Rprintf (format=0x81e64d8 "\n") at printutils.c:668
   #4  0x0810a985 in do_cat (call=0x4ae31f0, op=0x4104eec, args=0x55bb2bc,
       rho=0x55baf20) at builtin.c:617
   (More stack frames follow...)
   (gdb) up
   #1  0x08121c49 in text_vfprintf (con=0x500f280, format=0x81e64d8 "\n",
       ap=0xbef18b84 "?\213??") at connections.c:2064
   2064                PROTECT(tmp = lengthgets(this->data, ++this->len));
   (gdb) print this->data
   $1 = 0x5823cd8
   (gdb) whatis this
   type = Routtextconn
   (gdb) whatis this->data
   type = SEXP
   (gdb) print *this->data
   $2 = {sxpinfo = {type = 16, obj = 0, named = 2, gp = 0, mark = 0, debug = 0,
     trace = 0, spare = 0, gcgen = 0, gccls = 7}, attrib = 0x40ae088,
     gengc_next_node = 0x8235270, gengc_prev_node = 0x8235270, u = {primsxp = {
     offset = 288}, symsxp = {pname = 0x120, value = 0x0,
     internal = 0x57685c0}, listsxp = {carval = 0x120, cdrval = 0x0,
     tagval = 0x57685c0}, envsxp = {frame = 0x120, enclos = 0x0,
     hashtab = 0x57685c0}, closxp = {formals = 0x120, body = 0x0,
     env = 0x57685c0}, promsxp = {value = 0x120, expr = 0x0,
     env = 0x57685c0}}}


----------------------------------------------------------------------------
Bill Dunlap
Insightful Corporation
bill at insightful dot com

 "All statements in this message represent the opinions of the author and do
 not necessarily reflect Insightful Corporation policy or position."


From wuolong at gmail.com  Tue Apr 29 18:54:57 2008
From: wuolong at gmail.com (Michael)
Date: Tue, 29 Apr 2008 11:54:57 -0500
Subject: [Rd] build packages with vignettes in Windows
Message-ID: <6vprs88uu6.fsf@gmail.com>


I've been trying to build a Windows binary of a package of mine without
success.  It seems that the files under inst/doc throw the script off.

I am using the command 'Rcmd INSTALL --build'.

---------- Making package genepi ------------
  adding build stamp to DESCRIPTION
  installing NAMESPACE file and metadata
  installing R files
  installing inst files
FIND: Parameter format not correct
make[2]: *** [C:/Library/R/genepi/inst] Error 2
make[1]: *** [all] Error 2
make: *** [pkg-genepi] Error 2
*** Installation of genepi failed ***

I also tried a couple of packages downloaded from CRAN.  Those without
inst/doc directory worked fine and those who do have it didn't.

I'm using a fresh install of R-2.7.0 and Rtools-2.7. 

Any clue of what was wrong with my setup?

Thanks,

Michael


From alexcozzi at gmail.com  Tue Apr 29 18:25:21 2008
From: alexcozzi at gmail.com (alexcozzi at gmail.com)
Date: Tue, 29 Apr 2008 18:25:21 +0200 (CEST)
Subject: [Rd] crash in Mac.app (PR#11334)
Message-ID: <20080429162521.612A82834157@mail.pubhealth.ku.dk>

Full_Name: Alex Cozzi
Version: 2.7
OS: OS X 10.4
Submission from: (NULL) (209.131.62.113)


Observed a crash while pressing ctrl-A and ESC in R.app


Date/Time:      2008-04-29 09:18:28.501 -0700
OS Version:     10.4.11 (Build 8S2167)
Report Version: 4

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Parent:  WindowServer [2784]

Version: R 2.7.0 GUI 1.24 (5102)

PID:    9213
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000004

Thread 0 Crashed:
0   com.apple.CoreFoundation       	0x90872f9c __CFStorageFindByte + 23
1   com.apple.CoreFoundation       	0x90873069 __CFStorageFindByte + 228
2   com.apple.CoreFoundation       	0x90870d59 CFStorageGetValueAtIndex + 319
3   com.apple.AppKit               	0x9339c901 -[NSLayoutManager
intAttribute:forGlyphAtIndex:] + 182
4   com.apple.AppKit               	0x937232b7
-[NSTextView(NSKeyBindingCommands) moveRight:] + 1128
5   com.apple.AppKit               	0x93380e29 -[NSResponder
doCommandBySelector:] + 76
6   com.apple.AppKit               	0x93380cbc -[NSTextView
doCommandBySelector:] + 229
7   com.apple.AppKit               	0x93376448
-[NSKeyBindingManager(NSKeyBindingManager_MultiClients)
interpretEventAsCommand:forClient:] + 1932
8   com.apple.AppKit               	0x933749a9 -[NSTSMInputContext
interpretKeyEvents:] + 1157
9   com.apple.AppKit               	0x93373d50 -[NSView interpretKeyEvents:] +
65
10  com.apple.AppKit               	0x93373c3e -[NSTextView keyDown:] + 1061
11  org.R-project.R                	0x00030a88 -[RTextView keyDown:] + 319
(RTextView.m:259)
12  com.apple.AppKit               	0x933737c1 -[NSWindow sendEvent:] + 7377
13  com.apple.AppKit               	0x93364f28 -[NSApplication sendEvent:] +
5023
14  org.R-project.R                	0x00008f46 -[RController doProcessEvents:] +
530 (RController.m:2201)
15  org.R-project.R                	0x00006350 -[RController handleReadConsole:]
+ 126 (RController.m:1118)
16  org.R-project.R                	0x00010fa9 Re_ReadConsole + 494
(Rcallbacks.m:143)
17  org.R-project.R                	0x00018aed run_REngineRmainloop + 867
(Rinit.m:393)
18  org.R-project.R                	0x0001142a -[REngine runREPL] + 260
(REngine.m:181)
19  org.R-project.R                	0x00002e91 main + 795 (main.m:126)
20  org.R-project.R                	0x00002b5a _start + 216
21  org.R-project.R                	0x00002a81 start + 41

Thread 1:
0   libSystem.B.dylib              	0x90009cd7 mach_msg_trap + 7
1   com.apple.CoreFoundation       	0x9082d21b CFRunLoopRunSpecific + 2014
2   com.apple.CoreFoundation       	0x9082ca36 CFRunLoopRunInMode + 61
3   com.apple.Foundation           	0x92854c76 +[NSURLCache _diskCacheSyncLoop:]
+ 206
4   com.apple.Foundation           	0x927f839c forkThreadForFunction + 123
5   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 2:
0   libSystem.B.dylib              	0x9001a1cc select + 12
1   com.apple.Foundation           	0x927f839c forkThreadForFunction + 123
2   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 3:
0   libSystem.B.dylib              	0x900248c7 semaphore_wait_signal_trap + 7
1   com.apple.Foundation           	0x9284e2fc -[NSConditionLock
lockWhenCondition:] + 39
2   com.apple.AppKit               	0x9336ce50 -[NSUIHeartBeat
_heartBeatThread:] + 377
3   com.apple.Foundation           	0x927f839c forkThreadForFunction + 123
4   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 4:
0   libSystem.B.dylib              	0x90009cd7 mach_msg_trap + 7
1   com.apple.CoreFoundation       	0x9082d21b CFRunLoopRunSpecific + 2014
2   com.apple.CoreFoundation       	0x9082ca36 CFRunLoopRunInMode + 61
3   com.apple.Foundation           	0x9282da40
+[NSURLConnection(NSURLConnectionInternal) _resourceLoadLoop:] + 259
4   com.apple.Foundation           	0x927f839c forkThreadForFunction + 123
5   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 5:
0   libSystem.B.dylib              	0x9001a1cc select + 12
1   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 6:
0   libSystem.B.dylib              	0x90026d5c kevent + 12
1   ...ple.CoreServices.CarbonCore 	0x90cb8c68 PrivateMPEntryPoint + 51
2   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 7:
0   libSystem.B.dylib              	0x900248c7 semaphore_wait_signal_trap + 7
1   ...ple.CoreServices.CarbonCore 	0x90cb8e0d MPWaitOnQueue + 198
2   com.apple.DesktopServices      	0x9271e943
TNodeSyncTask::SyncTaskProc(void*) + 143
3   ...ple.CoreServices.CarbonCore 	0x90cb8c68 PrivateMPEntryPoint + 51
4   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 0 crashed with X86 Thread State (32-bit):
  eax: 0x18361b90  ebx: 0x90872f93  ecx: 0x00000000  edx: 0x00000000
  edi: 0x18361bb0  esi: 0x00000002  ebp: 0xbffff3a8  esp: 0xbffff370
   ss: 0x0000001f  efl: 0x00010282  eip: 0x90872f9c   cs: 0x00000017
   ds: 0x0000001f   es: 0x0000001f   fs: 0x00000000   gs: 0x00000037

Binary Images Description:
    0x1000 -    0x3dfff org.R-project.R R 2.7.0 GUI 1.24 (5102)
/Applications/R.app/Contents/MacOS/R
  0x190000 -   0x191fff libRblas.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libRblas.dylib
  0x196000 -   0x1bcfff libreadline.5.2.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libreadline.5.2.dylib
  0x1d0000 -   0x1d7fff libgcc_s.1.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libgcc_s.1.dylib
  0x305000 -   0x523fff libR.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libR.dylib
  0x5fa000 -   0x685fff libgfortran.2.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libgfortran.2.dylib
 0x1340000 -  0x1343fff lattice.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/lattice/libs/i386/lattice.so
 0x1775000 -  0x1776fff gtools.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/gtools/libs/i386/gtools.so
 0x17b5000 -  0x17b6fff jp.co.canon.PS.Session_LPR 1.70
/Library/Printers/Canon/PS/Sessions/Session_LPR.plugin/Contents/MacOS/Session_LPR
 0x17e8000 -  0x17e9fff com.apple.print.converter.plugin 4.6 (163.10)
/System/Library/Printers/CVs/Converter.plugin/Contents/MacOS/Converter
 0xce62000 -  0xce65fff tools.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/tools/libs/i386/tools.so
 0xcebd000 -  0xcee0fff com.apple.print.framework.Print.Private 4.6 (163.10)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/Current/Plugins/PrintCocoaUI.bundle/Contents/MacOS/PrintCocoaUI
 0xcf03000 -  0xcf36fff jp.co.canon.PS.PDEs.Finish 1.70
/Library/Printers/Canon/PS/PDEs/Canon FinishPDE.plugin/Contents/MacOS/FinishPDE
 0xd1e6000 -  0xd1e6fff org.xlife.InquisitorLoader 3.0 (53)
/Library/InputManagers/Inquisitor/Inquisitor.bundle/Contents/MacOS/Inquisitor
 0xd4a6000 -  0xd4a8fff net.culater.SIMBL 0.8 (8)
/Library/InputManagers/SIMBL/SIMBL.bundle/Contents/MacOS/SIMBL
 0xd549000 -  0xd54efff methods.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/methods/libs/i386/methods.so
 0xd6aa000 -  0xd6ccfff grDevices.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/grDevices/libs/i386/grDevices.so
 0xd760000 -  0xd7b2fff stats.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/stats/libs/i386/stats.so
 0xf1a7000 -  0xf1befff grid.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/grid/libs/i386/grid.so
 0xf222000 -  0xf224fff splines.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/splines/libs/i386/splines.so
 0xf228000 -  0xf236fff jp.co.canon.PS.fmwk.PSlib 1.70
/Library/Printers/Canon/PS/Frameworks/PSLib.framework/Versions/A/PSLib
 0xf259000 -  0xf260fff jp.co.canon.frameworks.PS.PDEValidateLib 1.70
/Library/Printers/Canon/PS/Frameworks/PS PDEValidateLib.framework/Versions/A/PS
PDEValidateLib
 0xf267000 -  0xf26bfff jp.co.canon.PS.INFOModule 1.70
/Library/Printers/Canon/PS/Cores/INFOModule.plugin/Contents/MacOS/INFOModule
 0xf271000 -  0xf288fff jp.co.canon.PS.VMs.validate_PS 1.70
/Library/Printers/Canon/PS/VMs/validate_PS.plugin/Contents/MacOS/validate_PS
 0xf295000 -  0xf29efff internet.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/modules/i386/internet.so
 0xf2b5000 -  0xf2c5fff jp.co.canon.PS.PDEs.Version 1.70
/Library/Printers/Canon/PS/PDEs/Canon
VersionPDE.plugin/Contents/MacOS/VersionPDE
0x11183000 - 0x11187fff MASS.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/MASS/libs/i386/MASS.so
0x1118c000 - 0x11196fff colorspace.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/colorspace/libs/i386/colorspace.so
0x11300000 - 0x11330fff jp.co.canon.mcd.fmwk.PSCommonLib 1.70
/Library/Printers/Canon/PS/Frameworks/PSCommonLib.framework/Versions/A/PSCommonLib
0x11463000 - 0x1148cfff jp.co.canon.PS.PDEs.InPaper 1.70
/Library/Printers/Canon/PS/PDEs/Canon
InPaperPDE.plugin/Contents/MacOS/InPaperPDE
0x114a0000 - 0x114b9fff com.apple.print.PrintingCocoaPDEs 4.6 (163.10)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Plugins/PrintingCocoaPDEs.bundle/Contents/MacOS/PrintingCocoaPDEs
0x114d3000 - 0x11505fff jp.co.canon.PS.PDEs.BasicSet 1.70
/Library/Printers/Canon/PS/PDEs/Canon
BasicSetPDE.plugin/Contents/MacOS/BasicSetPDE
0x1151d000 - 0x1153efff jp.co.canon.PS.PDEs.AdvancedOption 1.70
/Library/Printers/Canon/PS/PDEs/Canon
AdvancedOptionPDE.plugin/Contents/MacOS/AdvancedOptionPDE
0x1156a000 - 0x11576fff jp.co.canon.PS.IOService 1.70
/Library/Printers/Canon/PS/Cores/IOService.plugin/Contents/MacOS/IOService
0x11585000 - 0x11596fff com.apple.print.PrintingTiogaPDEs 4.6 (163.10)
/System/Library/Frameworks/Carbon.framework/Frameworks/Print.framework/Versions/A/Plugins/PrintingTiogaPDEs.bundle/Contents/MacOS/PrintingTiogaPDEs
0x1159f000 - 0x115a1fff jp.co.canon.mcd.PS.IOSControl 1.70
/Library/Printers/Canon/PS/Controls/IOSControl.plugin/Contents/MacOS/IOSControl
0x115ab000 - 0x115adfff jp.co.canon.PS.IOM_LPR 1.70
/Library/Printers/Canon/PS/IOMs/LPR_IOM.plugin/Contents/MacOS/LPR_IOM
0x116b2000 - 0x116f4fff jp.co.canon.PS.Protocol_CPCA 1.70
/Library/Printers/Canon/PS/Protocols/Protocol_CPCA.plugin/Contents/MacOS/Protocol_CPCA
0x78e00000 - 0x78e06fff libLW8Utils.dylib 
/System/Library/Printers/Libraries/libLW8Utils.dylib
0x79200000 - 0x7923dfff libLW8Converter.dylib 
/System/Library/Printers/Libraries/libLW8Converter.dylib
0x8fe00000 - 0x8fe4afff dyld 46.16	/usr/lib/dyld
0x90000000 - 0x90171fff libSystem.B.dylib 	/usr/lib/libSystem.B.dylib
0x901c1000 - 0x901c3fff libmathCommon.A.dylib 
/usr/lib/system/libmathCommon.A.dylib
0x901c5000 - 0x90202fff com.apple.CoreText 1.1.3 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreText.framework/Versions/A/CoreText
0x90229000 - 0x902fffff ATS 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS
0x9031f000 - 0x90774fff com.apple.CoreGraphics 1.258.77 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x9080b000 - 0x908d3fff com.apple.CoreFoundation 6.4.10 (368.33)
/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
0x90911000 - 0x90911fff com.apple.CoreServices 10.4 (???)
/System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
0x90913000 - 0x90a07fff libicucore.A.dylib 	/usr/lib/libicucore.A.dylib
0x90a57000 - 0x90ad6fff libobjc.A.dylib 	/usr/lib/libobjc.A.dylib
0x90aff000 - 0x90b63fff libstdc++.6.dylib 	/usr/lib/libstdc++.6.dylib
0x90bd2000 - 0x90bd9fff libgcc_s.1.dylib 	/usr/lib/libgcc_s.1.dylib
0x90bde000 - 0x90c51fff com.apple.framework.IOKit 1.4.8 (???)
/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90c66000 - 0x90c78fff libauto.dylib 	/usr/lib/libauto.dylib
0x90c7e000 - 0x90f24fff com.apple.CoreServices.CarbonCore 682.28
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
0x90f67000 - 0x90fcffff com.apple.CoreServices.OSServices 4.1
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices
0x91008000 - 0x91047fff com.apple.CFNetwork 129.22 (129.23)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
0x9105a000 - 0x9106afff com.apple.WebServices 1.1.3 (1.1.0)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/WebServicesCore.framework/Versions/A/WebServicesCore
0x91075000 - 0x910f4fff com.apple.SearchKit 1.0.7
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
0x9112e000 - 0x9114cfff com.apple.Metadata 10.4.4 (121.36)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata
0x91158000 - 0x91166fff libz.1.dylib 	/usr/lib/libz.1.dylib
0x91169000 - 0x91308fff com.apple.security 4.5.2 (29774)
/System/Library/Frameworks/Security.framework/Versions/A/Security
0x91406000 - 0x9140efff com.apple.DiskArbitration 2.1.2
/System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
0x91415000 - 0x9141cfff libbsm.dylib 	/usr/lib/libbsm.dylib
0x91420000 - 0x91446fff com.apple.SystemConfiguration 1.8.6
/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration
0x91458000 - 0x914cefff com.apple.audio.CoreAudio 3.0.5
/System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x9151f000 - 0x9151ffff com.apple.ApplicationServices 10.4 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices
0x91521000 - 0x9154dfff com.apple.AE 314 (313)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
0x91560000 - 0x91634fff com.apple.ColorSync 4.4.10
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync
0x9166f000 - 0x916e2fff com.apple.print.framework.PrintCore 4.6 (177.13)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
0x91710000 - 0x917b9fff com.apple.QD 3.10.25 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
0x917df000 - 0x9182afff com.apple.HIServices 1.5.2 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices
0x91849000 - 0x9185ffff com.apple.LangAnalysis 1.6.3
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis
0x9186b000 - 0x91886fff com.apple.FindByContent 1.5
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/FindByContent.framework/Versions/A/FindByContent
0x91891000 - 0x918cefff com.apple.LaunchServices 182
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices
0x918e2000 - 0x918eefff com.apple.speech.synthesis.framework 3.5
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x918f5000 - 0x91935fff com.apple.ImageIO.framework 1.5.6
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/ImageIO
0x91948000 - 0x919fafff libcrypto.0.9.7.dylib 	/usr/lib/libcrypto.0.9.7.dylib
0x91a40000 - 0x91a56fff libcups.2.dylib 	/usr/lib/libcups.2.dylib
0x91a5b000 - 0x91a79fff libJPEG.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
0x91a7e000 - 0x91addfff libJP2.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib
0x91aef000 - 0x91af3fff libGIF.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
0x91af5000 - 0x91b7dfff libRaw.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRaw.dylib
0x91b81000 - 0x91bbefff libTIFF.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
0x91bc4000 - 0x91bdefff libPng.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
0x91be3000 - 0x91be5fff libRadiance.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
0x91be7000 - 0x91cc5fff libxml2.2.dylib 	/usr/lib/libxml2.2.dylib
0x91ce2000 - 0x91ce2fff com.apple.Accelerate 1.3.1 (Accelerate 1.3.1)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
0x91ce4000 - 0x91d72fff com.apple.vImage 2.5
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage
0x91d79000 - 0x91d79fff com.apple.Accelerate.vecLib 3.3.1 (vecLib 3.3.1)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib
0x91d7b000 - 0x91dd4fff libvMisc.dylib 
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib
0x91ddd000 - 0x91e01fff libvDSP.dylib 
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib
0x91e09000 - 0x92212fff libBLAS.dylib 
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
0x9224c000 - 0x92600fff libLAPACK.dylib 
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib
0x9262d000 - 0x9271afff libiconv.2.dylib 	/usr/lib/libiconv.2.dylib
0x9271c000 - 0x9279afff com.apple.DesktopServices 1.3.7
/System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
0x927db000 - 0x92a0bfff com.apple.Foundation 6.4.10 (567.37)
/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92b25000 - 0x92b3cfff libGL.dylib 
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
0x92b47000 - 0x92b9ffff libGLU.dylib 
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib
0x92bb3000 - 0x92bb3fff com.apple.Carbon 10.4 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
0x92bb5000 - 0x92bc5fff com.apple.ImageCapture 3.0.4
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture
0x92bd4000 - 0x92bdcfff com.apple.speech.recognition.framework 3.6
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
0x92be2000 - 0x92be8fff com.apple.securityhi 2.0.1 (24742)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI
0x92bee000 - 0x92c7ffff com.apple.ink.framework 101.2.1 (71)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink
0x92c93000 - 0x92c97fff com.apple.help 1.0.3 (32.1)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help
0x92c9a000 - 0x92cb8fff com.apple.openscripting 1.2.5 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting
0x92cca000 - 0x92cd0fff com.apple.print.framework.Print 5.2 (192.4)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print
0x92cd6000 - 0x92d39fff com.apple.htmlrendering 66.1 (1.1.3)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HTMLRendering.framework/Versions/A/HTMLRendering
0x92d60000 - 0x92da1fff com.apple.NavigationServices 3.4.4 (3.4.3)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/NavigationServices.framework/Versions/A/NavigationServices
0x92dc8000 - 0x92dd6fff com.apple.audio.SoundManager 3.9.1
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CarbonSound.framework/Versions/A/CarbonSound
0x92ddd000 - 0x92de2fff com.apple.CommonPanels 1.2.3 (73)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels
0x92de7000 - 0x930dcfff com.apple.HIToolbox 1.4.10 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
0x931e2000 - 0x931edfff com.apple.opengl 1.4.16
/System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
0x931f2000 - 0x9320dfff com.apple.DirectoryService.Framework 3.3
/System/Library/Frameworks/DirectoryService.framework/Versions/A/DirectoryService
0x9327d000 - 0x9327dfff com.apple.Cocoa 6.4 (???)
/System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
0x9327f000 - 0x93935fff com.apple.AppKit 6.4.10 (824.45)
/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x93cb6000 - 0x93d31fff com.apple.CoreData 91 (92.1)
/System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
0x93d6a000 - 0x93e23fff com.apple.audio.toolbox.AudioToolbox 1.4.7
/System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
0x93e66000 - 0x93e66fff com.apple.audio.units.AudioUnit 1.4.2
/System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x93e68000 - 0x94029fff com.apple.QuartzCore 1.4.12
/System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x9406f000 - 0x940b0fff libsqlite3.0.dylib 	/usr/lib/libsqlite3.0.dylib
0x940b8000 - 0x940f2fff libGLImage.dylib 
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
0x940f7000 - 0x9410dfff com.apple.CoreVideo 1.4.2
/System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
0x942a1000 - 0x942b0fff libCGATS.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x942b7000 - 0x942c2fff libCSync.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x942c7000 - 0x942ebfff libPDFRIP.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libPDFRIP.A.dylib
0x9430e000 - 0x94328fff libRIP.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x947cb000 - 0x94911fff com.apple.AddressBook.framework 4.0.6 (490)
/System/Library/Frameworks/AddressBook.framework/Versions/A/AddressBook
0x9499d000 - 0x949acfff com.apple.DSObjCWrappers.Framework 1.1
/System/Library/PrivateFrameworks/DSObjCWrappers.framework/Versions/A/DSObjCWrappers
0x949b3000 - 0x949dcfff com.apple.LDAPFramework 1.4.2 (69.1.1)
/System/Library/Frameworks/LDAP.framework/Versions/A/LDAP
0x949e2000 - 0x949f1fff libsasl2.2.dylib 	/usr/lib/libsasl2.2.dylib
0x949f5000 - 0x94a1afff libssl.0.9.7.dylib 	/usr/lib/libssl.0.9.7.dylib
0x94a26000 - 0x94a43fff libresolv.9.dylib 	/usr/lib/libresolv.9.dylib
0x951fd000 - 0x952affff com.apple.WebKit 4525.18
/System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
0x9531a000 - 0x953e1fff com.apple.JavaScriptCore 4525.17
/System/Library/Frameworks/JavaScriptCore.framework/Versions/A/JavaScriptCore
0x9541d000 - 0x95a0ffff com.apple.WebCore 4525.18.1
/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/Versions/A/WebCore
0x9601f000 - 0x96021fff com.apple.ExceptionHandling 1.2 (???)
/System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
0x9651f000 - 0x9654dfff libncurses.5.4.dylib 	/usr/lib/libncurses.5.4.dylib
0x9657a000 - 0x96590fff libJapaneseConverter.dylib 
/System/Library/CoreServices/Encodings/libJapaneseConverter.dylib
0x96f94000 - 0x96f94fff com.apple.vecLib 3.3.1 (vecLib 3.3.1)
/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
0x9a6f0000 - 0x9a70dfff com.apple.OpenTransport 3.0
/System/Library/PrivateFrameworks/OpenTransport.framework/OpenTransport
0x9aaca000 - 0x9aae0fff libCFilter.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCFilter.A.dylib
0xeab00000 - 0xeab1cfff libConverter.dylib 
/System/Library/Printers/Libraries/libConverter.dylib

Model: MacBookPro2,2, BootROM MBP22.00A5.B01, 2 processors, Intel Core 2 Duo,
2.16 GHz, 2 GB
Graphics: ATI Radeon X1600, ATY,RadeonX1600, PCIe, 128 MB
Memory Module: BANK 0/DIMM0, 1 GB, DDR2 SDRAM, 667 MHz
Memory Module: BANK 1/DIMM1, 1 GB, DDR2 SDRAM, 667 MHz
AirPort: spairport_wireless_card_type_airport_extreme (0x168C, 0x87), 1.3.5
Bluetooth: Version 1.9.5f4, 2 service, 1 devices, 1 incoming serial ports
Network Service: Built-in Ethernet, Ethernet, en0
Network Service: AirPort, AirPort, en1
Serial ATA Device: Hitachi HTS541612J9SA00, 111.79 GB
Parallel ATA Device: HL-DT-ST DVDRW GWA4080MA
USB Device: Built-in iSight, Micron, Up to 480 Mb/sec, 500 mA
USB Device: Apple Internal Keyboard / Trackpad, Apple Computer, Up to 12 Mb/sec,
500 mA
USB Device: Hub in Apple Pro Keyboard, Mitsumi Electric, Up to 12 Mb/sec, 500
mA
USB Device: USB-PS/2 Optical Mouse, B16_b_02, Up to 1.5 Mb/sec, 100 mA
USB Device: Apple Pro Keyboard, Mitsumi Electric, Up to 12 Mb/sec, 250 mA
USB Device: IR Receiver, Apple Computer, Inc., Up to 12 Mb/sec, 500 mA
USB Device: Bluetooth USB Host Controller, Apple, Inc., Up to 12 Mb/sec, 500 mA


From HDu at enh.org  Tue Apr 29 19:03:41 2008
From: HDu at enh.org (Du, Hongyan)
Date: Tue, 29 Apr 2008 12:03:41 -0500
Subject: [Rd] R code for weighted Deming regression?
Message-ID: <DF7299E02A99084FAD84E33375C0C84A1246EA6C@EXCHANGE01.enhnet.org>

Hi,

Any one has the code that I can borrow? Or any suggestions?

Highly appreciate.

Hongyan Du
 


-----Original Message-----
From: r-devel-bounces at r-project.org
[mailto:r-devel-bounces at r-project.org] On Behalf Of alexcozzi at gmail.com
Sent: Tuesday, April 29, 2008 11:25 AM
To: r-devel at stat.math.ethz.ch
Cc: R-bugs at biostat.ku.dk
Subject: [Rd] crash in Mac.app (PR#11334)

Full_Name: Alex Cozzi
Version: 2.7
OS: OS X 10.4
Submission from: (NULL) (209.131.62.113)


Observed a crash while pressing ctrl-A and ESC in R.app


Date/Time:      2008-04-29 09:18:28.501 -0700
OS Version:     10.4.11 (Build 8S2167)
Report Version: 4

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Parent:  WindowServer [2784]

Version: R 2.7.0 GUI 1.24 (5102)

PID:    9213
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000004

Thread 0 Crashed:
0   com.apple.CoreFoundation       	0x90872f9c __CFStorageFindByte +
23
1   com.apple.CoreFoundation       	0x90873069 __CFStorageFindByte +
228
2   com.apple.CoreFoundation       	0x90870d59
CFStorageGetValueAtIndex + 319
3   com.apple.AppKit               	0x9339c901 -[NSLayoutManager
intAttribute:forGlyphAtIndex:] + 182
4   com.apple.AppKit               	0x937232b7
-[NSTextView(NSKeyBindingCommands) moveRight:] + 1128
5   com.apple.AppKit               	0x93380e29 -[NSResponder
doCommandBySelector:] + 76
6   com.apple.AppKit               	0x93380cbc -[NSTextView
doCommandBySelector:] + 229
7   com.apple.AppKit               	0x93376448
-[NSKeyBindingManager(NSKeyBindingManager_MultiClients)
interpretEventAsCommand:forClient:] + 1932
8   com.apple.AppKit               	0x933749a9 -[NSTSMInputContext
interpretKeyEvents:] + 1157
9   com.apple.AppKit               	0x93373d50 -[NSView
interpretKeyEvents:] +
65
10  com.apple.AppKit               	0x93373c3e -[NSTextView
keyDown:] + 1061
11  org.R-project.R                	0x00030a88 -[RTextView keyDown:]
+ 319
(RTextView.m:259)
12  com.apple.AppKit               	0x933737c1 -[NSWindow
sendEvent:] + 7377
13  com.apple.AppKit               	0x93364f28 -[NSApplication
sendEvent:] +
5023
14  org.R-project.R                	0x00008f46 -[RController
doProcessEvents:] +
530 (RController.m:2201)
15  org.R-project.R                	0x00006350 -[RController
handleReadConsole:]
+ 126 (RController.m:1118)
16  org.R-project.R                	0x00010fa9 Re_ReadConsole + 494
(Rcallbacks.m:143)
17  org.R-project.R                	0x00018aed run_REngineRmainloop
+ 867
(Rinit.m:393)
18  org.R-project.R                	0x0001142a -[REngine runREPL] +
260
(REngine.m:181)
19  org.R-project.R                	0x00002e91 main + 795
(main.m:126)
20  org.R-project.R                	0x00002b5a _start + 216
21  org.R-project.R                	0x00002a81 start + 41

Thread 1:
0   libSystem.B.dylib              	0x90009cd7 mach_msg_trap + 7
1   com.apple.CoreFoundation       	0x9082d21b CFRunLoopRunSpecific
+ 2014
2   com.apple.CoreFoundation       	0x9082ca36 CFRunLoopRunInMode +
61
3   com.apple.Foundation           	0x92854c76 +[NSURLCache
_diskCacheSyncLoop:]
+ 206
4   com.apple.Foundation           	0x927f839c forkThreadForFunction
+ 123
5   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 2:
0   libSystem.B.dylib              	0x9001a1cc select + 12
1   com.apple.Foundation           	0x927f839c forkThreadForFunction
+ 123
2   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 3:
0   libSystem.B.dylib              	0x900248c7
semaphore_wait_signal_trap + 7
1   com.apple.Foundation           	0x9284e2fc -[NSConditionLock
lockWhenCondition:] + 39
2   com.apple.AppKit               	0x9336ce50 -[NSUIHeartBeat
_heartBeatThread:] + 377
3   com.apple.Foundation           	0x927f839c forkThreadForFunction
+ 123
4   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 4:
0   libSystem.B.dylib              	0x90009cd7 mach_msg_trap + 7
1   com.apple.CoreFoundation       	0x9082d21b CFRunLoopRunSpecific
+ 2014
2   com.apple.CoreFoundation       	0x9082ca36 CFRunLoopRunInMode +
61
3   com.apple.Foundation           	0x9282da40
+[NSURLConnection(NSURLConnectionInternal) _resourceLoadLoop:] + 259
4   com.apple.Foundation           	0x927f839c forkThreadForFunction
+ 123
5   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 5:
0   libSystem.B.dylib              	0x9001a1cc select + 12
1   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 6:
0   libSystem.B.dylib              	0x90026d5c kevent + 12
1   ...ple.CoreServices.CarbonCore 	0x90cb8c68 PrivateMPEntryPoint +
51
2   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 7:
0   libSystem.B.dylib              	0x900248c7
semaphore_wait_signal_trap + 7
1   ...ple.CoreServices.CarbonCore 	0x90cb8e0d MPWaitOnQueue + 198
2   com.apple.DesktopServices      	0x9271e943
TNodeSyncTask::SyncTaskProc(void*) + 143
3   ...ple.CoreServices.CarbonCore 	0x90cb8c68 PrivateMPEntryPoint +
51
4   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 0 crashed with X86 Thread State (32-bit):
  eax: 0x18361b90  ebx: 0x90872f93  ecx: 0x00000000  edx: 0x00000000
  edi: 0x18361bb0  esi: 0x00000002  ebp: 0xbffff3a8  esp: 0xbffff370
   ss: 0x0000001f  efl: 0x00010282  eip: 0x90872f9c   cs: 0x00000017
   ds: 0x0000001f   es: 0x0000001f   fs: 0x00000000   gs: 0x00000037

Binary Images Description:
    0x1000 -    0x3dfff org.R-project.R R 2.7.0 GUI 1.24 (5102)
/Applications/R.app/Contents/MacOS/R
  0x190000 -   0x191fff libRblas.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libRblas.dyli
b
  0x196000 -   0x1bcfff libreadline.5.2.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libreadline.5
.2.dylib
  0x1d0000 -   0x1d7fff libgcc_s.1.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libgcc_s.1.dy
lib
  0x305000 -   0x523fff libR.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libR.dylib
  0x5fa000 -   0x685fff libgfortran.2.dylib 
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libgfortran.2
.dylib
 0x1340000 -  0x1343fff lattice.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/lattice/l
ibs/i386/lattice.so
 0x1775000 -  0x1776fff gtools.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/gtools/li
bs/i386/gtools.so
 0x17b5000 -  0x17b6fff jp.co.canon.PS.Session_LPR 1.70
/Library/Printers/Canon/PS/Sessions/Session_LPR.plugin/Contents/MacOS/Se
ssion_LPR
 0x17e8000 -  0x17e9fff com.apple.print.converter.plugin 4.6 (163.10)
/System/Library/Printers/CVs/Converter.plugin/Contents/MacOS/Converter
 0xce62000 -  0xce65fff tools.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/tools/lib
s/i386/tools.so
 0xcebd000 -  0xcee0fff com.apple.print.framework.Print.Private 4.6
(163.10)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.
framework/Versions/Current/Plugins/PrintCocoaUI.bundle/Contents/MacOS/Pr
intCocoaUI
 0xcf03000 -  0xcf36fff jp.co.canon.PS.PDEs.Finish 1.70
/Library/Printers/Canon/PS/PDEs/Canon
FinishPDE.plugin/Contents/MacOS/FinishPDE
 0xd1e6000 -  0xd1e6fff org.xlife.InquisitorLoader 3.0 (53)
/Library/InputManagers/Inquisitor/Inquisitor.bundle/Contents/MacOS/Inqui
sitor
 0xd4a6000 -  0xd4a8fff net.culater.SIMBL 0.8 (8)
/Library/InputManagers/SIMBL/SIMBL.bundle/Contents/MacOS/SIMBL
 0xd549000 -  0xd54efff methods.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/methods/l
ibs/i386/methods.so
 0xd6aa000 -  0xd6ccfff grDevices.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/grDevices
/libs/i386/grDevices.so
 0xd760000 -  0xd7b2fff stats.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/stats/lib
s/i386/stats.so
 0xf1a7000 -  0xf1befff grid.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/grid/libs
/i386/grid.so
 0xf222000 -  0xf224fff splines.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/splines/l
ibs/i386/splines.so
 0xf228000 -  0xf236fff jp.co.canon.PS.fmwk.PSlib 1.70
/Library/Printers/Canon/PS/Frameworks/PSLib.framework/Versions/A/PSLib
 0xf259000 -  0xf260fff jp.co.canon.frameworks.PS.PDEValidateLib 1.70
/Library/Printers/Canon/PS/Frameworks/PS
PDEValidateLib.framework/Versions/A/PS
PDEValidateLib
 0xf267000 -  0xf26bfff jp.co.canon.PS.INFOModule 1.70
/Library/Printers/Canon/PS/Cores/INFOModule.plugin/Contents/MacOS/INFOMo
dule
 0xf271000 -  0xf288fff jp.co.canon.PS.VMs.validate_PS 1.70
/Library/Printers/Canon/PS/VMs/validate_PS.plugin/Contents/MacOS/validat
e_PS
 0xf295000 -  0xf29efff internet.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/modules/i386/inte
rnet.so
 0xf2b5000 -  0xf2c5fff jp.co.canon.PS.PDEs.Version 1.70
/Library/Printers/Canon/PS/PDEs/Canon
VersionPDE.plugin/Contents/MacOS/VersionPDE
0x11183000 - 0x11187fff MASS.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/MASS/libs
/i386/MASS.so
0x1118c000 - 0x11196fff colorspace.so 
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/colorspac
e/libs/i386/colorspace.so
0x11300000 - 0x11330fff jp.co.canon.mcd.fmwk.PSCommonLib 1.70
/Library/Printers/Canon/PS/Frameworks/PSCommonLib.framework/Versions/A/P
SCommonLib
0x11463000 - 0x1148cfff jp.co.canon.PS.PDEs.InPaper 1.70
/Library/Printers/Canon/PS/PDEs/Canon
InPaperPDE.plugin/Contents/MacOS/InPaperPDE
0x114a0000 - 0x114b9fff com.apple.print.PrintingCocoaPDEs 4.6 (163.10)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.
framework/Versions/A/Plugins/PrintingCocoaPDEs.bundle/Contents/MacOS/Pri
ntingCocoaPDEs
0x114d3000 - 0x11505fff jp.co.canon.PS.PDEs.BasicSet 1.70
/Library/Printers/Canon/PS/PDEs/Canon
BasicSetPDE.plugin/Contents/MacOS/BasicSetPDE
0x1151d000 - 0x1153efff jp.co.canon.PS.PDEs.AdvancedOption 1.70
/Library/Printers/Canon/PS/PDEs/Canon
AdvancedOptionPDE.plugin/Contents/MacOS/AdvancedOptionPDE
0x1156a000 - 0x11576fff jp.co.canon.PS.IOService 1.70
/Library/Printers/Canon/PS/Cores/IOService.plugin/Contents/MacOS/IOServi
ce
0x11585000 - 0x11596fff com.apple.print.PrintingTiogaPDEs 4.6 (163.10)
/System/Library/Frameworks/Carbon.framework/Frameworks/Print.framework/V
ersions/A/Plugins/PrintingTiogaPDEs.bundle/Contents/MacOS/PrintingTiogaP
DEs
0x1159f000 - 0x115a1fff jp.co.canon.mcd.PS.IOSControl 1.70
/Library/Printers/Canon/PS/Controls/IOSControl.plugin/Contents/MacOS/IOS
Control
0x115ab000 - 0x115adfff jp.co.canon.PS.IOM_LPR 1.70
/Library/Printers/Canon/PS/IOMs/LPR_IOM.plugin/Contents/MacOS/LPR_IOM
0x116b2000 - 0x116f4fff jp.co.canon.PS.Protocol_CPCA 1.70
/Library/Printers/Canon/PS/Protocols/Protocol_CPCA.plugin/Contents/MacOS
/Protocol_CPCA
0x78e00000 - 0x78e06fff libLW8Utils.dylib 
/System/Library/Printers/Libraries/libLW8Utils.dylib
0x79200000 - 0x7923dfff libLW8Converter.dylib 
/System/Library/Printers/Libraries/libLW8Converter.dylib
0x8fe00000 - 0x8fe4afff dyld 46.16	/usr/lib/dyld
0x90000000 - 0x90171fff libSystem.B.dylib
/usr/lib/libSystem.B.dylib
0x901c1000 - 0x901c3fff libmathCommon.A.dylib 
/usr/lib/system/libmathCommon.A.dylib
0x901c5000 - 0x90202fff com.apple.CoreText 1.1.3 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreText.framework/Versions/A/CoreText
0x90229000 - 0x902fffff ATS 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ATS.framework/Versions/A/ATS
0x9031f000 - 0x90774fff com.apple.CoreGraphics 1.258.77 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x9080b000 - 0x908d3fff com.apple.CoreFoundation 6.4.10 (368.33)
/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFound
ation
0x90911000 - 0x90911fff com.apple.CoreServices 10.4 (???)
/System/Library/Frameworks/CoreServices.framework/Versions/A/CoreService
s
0x90913000 - 0x90a07fff libicucore.A.dylib
/usr/lib/libicucore.A.dylib
0x90a57000 - 0x90ad6fff libobjc.A.dylib 	/usr/lib/libobjc.A.dylib
0x90aff000 - 0x90b63fff libstdc++.6.dylib
/usr/lib/libstdc++.6.dylib
0x90bd2000 - 0x90bd9fff libgcc_s.1.dylib
/usr/lib/libgcc_s.1.dylib
0x90bde000 - 0x90c51fff com.apple.framework.IOKit 1.4.8 (???)
/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90c66000 - 0x90c78fff libauto.dylib 	/usr/lib/libauto.dylib
0x90c7e000 - 0x90f24fff com.apple.CoreServices.CarbonCore 682.28
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
CarbonCore.framework/Versions/A/CarbonCore
0x90f67000 - 0x90fcffff com.apple.CoreServices.OSServices 4.1
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
OSServices.framework/Versions/A/OSServices
0x91008000 - 0x91047fff com.apple.CFNetwork 129.22 (129.23)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
CFNetwork.framework/Versions/A/CFNetwork
0x9105a000 - 0x9106afff com.apple.WebServices 1.1.3 (1.1.0)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
WebServicesCore.framework/Versions/A/WebServicesCore
0x91075000 - 0x910f4fff com.apple.SearchKit 1.0.7
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
SearchKit.framework/Versions/A/SearchKit
0x9112e000 - 0x9114cfff com.apple.Metadata 10.4.4 (121.36)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
Metadata.framework/Versions/A/Metadata
0x91158000 - 0x91166fff libz.1.dylib 	/usr/lib/libz.1.dylib
0x91169000 - 0x91308fff com.apple.security 4.5.2 (29774)
/System/Library/Frameworks/Security.framework/Versions/A/Security
0x91406000 - 0x9140efff com.apple.DiskArbitration 2.1.2
/System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbi
tration
0x91415000 - 0x9141cfff libbsm.dylib 	/usr/lib/libbsm.dylib
0x91420000 - 0x91446fff com.apple.SystemConfiguration 1.8.6
/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/Syst
emConfiguration
0x91458000 - 0x914cefff com.apple.audio.CoreAudio 3.0.5
/System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x9151f000 - 0x9151ffff com.apple.ApplicationServices 10.4 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Appl
icationServices
0x91521000 - 0x9154dfff com.apple.AE 314 (313)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/AE.framework/Versions/A/AE
0x91560000 - 0x91634fff com.apple.ColorSync 4.4.10
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ColorSync.framework/Versions/A/ColorSync
0x9166f000 - 0x916e2fff com.apple.print.framework.PrintCore 4.6 (177.13)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/PrintCore.framework/Versions/A/PrintCore
0x91710000 - 0x917b9fff com.apple.QD 3.10.25 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/QD.framework/Versions/A/QD
0x917df000 - 0x9182afff com.apple.HIServices 1.5.2 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/HIServices.framework/Versions/A/HIServices
0x91849000 - 0x9185ffff com.apple.LangAnalysis 1.6.3
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/LangAnalysis.framework/Versions/A/LangAnalysis
0x9186b000 - 0x91886fff com.apple.FindByContent 1.5
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/FindByContent.framework/Versions/A/FindByContent
0x91891000 - 0x918cefff com.apple.LaunchServices 182
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/LaunchServices.framework/Versions/A/LaunchServices
0x918e2000 - 0x918eefff com.apple.speech.synthesis.framework 3.5
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x918f5000 - 0x91935fff com.apple.ImageIO.framework 1.5.6
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/ImageIO
0x91948000 - 0x919fafff libcrypto.0.9.7.dylib
/usr/lib/libcrypto.0.9.7.dylib
0x91a40000 - 0x91a56fff libcups.2.dylib 	/usr/lib/libcups.2.dylib
0x91a5b000 - 0x91a79fff libJPEG.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
0x91a7e000 - 0x91addfff libJP2.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib
0x91aef000 - 0x91af3fff libGIF.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
0x91af5000 - 0x91b7dfff libRaw.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libRaw.dylib
0x91b81000 - 0x91bbefff libTIFF.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
0x91bc4000 - 0x91bdefff libPng.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
0x91be3000 - 0x91be5fff libRadiance.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
0x91be7000 - 0x91cc5fff libxml2.2.dylib 	/usr/lib/libxml2.2.dylib
0x91ce2000 - 0x91ce2fff com.apple.Accelerate 1.3.1 (Accelerate 1.3.1)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
0x91ce4000 - 0x91d72fff com.apple.vImage 2.5
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vI
mage.framework/Versions/A/vImage
0x91d79000 - 0x91d79fff com.apple.Accelerate.vecLib 3.3.1 (vecLib 3.3.1)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/vecLib
0x91d7b000 - 0x91dd4fff libvMisc.dylib 
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/libvMisc.dylib
0x91ddd000 - 0x91e01fff libvDSP.dylib 
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/libvDSP.dylib
0x91e09000 - 0x92212fff libBLAS.dylib 
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/libBLAS.dylib
0x9224c000 - 0x92600fff libLAPACK.dylib 
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/libLAPACK.dylib
0x9262d000 - 0x9271afff libiconv.2.dylib
/usr/lib/libiconv.2.dylib
0x9271c000 - 0x9279afff com.apple.DesktopServices 1.3.7
/System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions
/A/DesktopServicesPriv
0x927db000 - 0x92a0bfff com.apple.Foundation 6.4.10 (567.37)
/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92b25000 - 0x92b3cfff libGL.dylib 
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.d
ylib
0x92b47000 - 0x92b9ffff libGLU.dylib 
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.
dylib
0x92bb3000 - 0x92bb3fff com.apple.Carbon 10.4 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
0x92bb5000 - 0x92bc5fff com.apple.ImageCapture 3.0.4
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageC
apture.framework/Versions/A/ImageCapture
0x92bd4000 - 0x92bdcfff com.apple.speech.recognition.framework 3.6
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Speech
Recognition.framework/Versions/A/SpeechRecognition
0x92be2000 - 0x92be8fff com.apple.securityhi 2.0.1 (24742)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Securi
tyHI.framework/Versions/A/SecurityHI
0x92bee000 - 0x92c7ffff com.apple.ink.framework 101.2.1 (71)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.fr
amework/Versions/A/Ink
0x92c93000 - 0x92c97fff com.apple.help 1.0.3 (32.1)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.f
ramework/Versions/A/Help
0x92c9a000 - 0x92cb8fff com.apple.openscripting 1.2.5 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenSc
ripting.framework/Versions/A/OpenScripting
0x92cca000 - 0x92cd0fff com.apple.print.framework.Print 5.2 (192.4)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.
framework/Versions/A/Print
0x92cd6000 - 0x92d39fff com.apple.htmlrendering 66.1 (1.1.3)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HTMLRe
ndering.framework/Versions/A/HTMLRendering
0x92d60000 - 0x92da1fff com.apple.NavigationServices 3.4.4 (3.4.3)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Naviga
tionServices.framework/Versions/A/NavigationServices
0x92dc8000 - 0x92dd6fff com.apple.audio.SoundManager 3.9.1
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Carbon
Sound.framework/Versions/A/CarbonSound
0x92ddd000 - 0x92de2fff com.apple.CommonPanels 1.2.3 (73)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Common
Panels.framework/Versions/A/CommonPanels
0x92de7000 - 0x930dcfff com.apple.HIToolbox 1.4.10 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HITool
box.framework/Versions/A/HIToolbox
0x931e2000 - 0x931edfff com.apple.opengl 1.4.16
/System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
0x931f2000 - 0x9320dfff com.apple.DirectoryService.Framework 3.3
/System/Library/Frameworks/DirectoryService.framework/Versions/A/Directo
ryService
0x9327d000 - 0x9327dfff com.apple.Cocoa 6.4 (???)
/System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
0x9327f000 - 0x93935fff com.apple.AppKit 6.4.10 (824.45)
/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x93cb6000 - 0x93d31fff com.apple.CoreData 91 (92.1)
/System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
0x93d6a000 - 0x93e23fff com.apple.audio.toolbox.AudioToolbox 1.4.7
/System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbo
x
0x93e66000 - 0x93e66fff com.apple.audio.units.AudioUnit 1.4.2
/System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x93e68000 - 0x94029fff com.apple.QuartzCore 1.4.12
/System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x9406f000 - 0x940b0fff libsqlite3.0.dylib
/usr/lib/libsqlite3.0.dylib
0x940b8000 - 0x940f2fff libGLImage.dylib 
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLIm
age.dylib
0x940f7000 - 0x9410dfff com.apple.CoreVideo 1.4.2
/System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
0x942a1000 - 0x942b0fff libCGATS.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x942b7000 - 0x942c2fff libCSync.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x942c7000 - 0x942ebfff libPDFRIP.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libPDFRIP.A.dylib
0x9430e000 - 0x94328fff libRIP.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x947cb000 - 0x94911fff com.apple.AddressBook.framework 4.0.6 (490)
/System/Library/Frameworks/AddressBook.framework/Versions/A/AddressBook
0x9499d000 - 0x949acfff com.apple.DSObjCWrappers.Framework 1.1
/System/Library/PrivateFrameworks/DSObjCWrappers.framework/Versions/A/DS
ObjCWrappers
0x949b3000 - 0x949dcfff com.apple.LDAPFramework 1.4.2 (69.1.1)
/System/Library/Frameworks/LDAP.framework/Versions/A/LDAP
0x949e2000 - 0x949f1fff libsasl2.2.dylib
/usr/lib/libsasl2.2.dylib
0x949f5000 - 0x94a1afff libssl.0.9.7.dylib
/usr/lib/libssl.0.9.7.dylib
0x94a26000 - 0x94a43fff libresolv.9.dylib
/usr/lib/libresolv.9.dylib
0x951fd000 - 0x952affff com.apple.WebKit 4525.18
/System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
0x9531a000 - 0x953e1fff com.apple.JavaScriptCore 4525.17
/System/Library/Frameworks/JavaScriptCore.framework/Versions/A/JavaScrip
tCore
0x9541d000 - 0x95a0ffff com.apple.WebCore 4525.18.1
/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCor
e.framework/Versions/A/WebCore
0x9601f000 - 0x96021fff com.apple.ExceptionHandling 1.2 (???)
/System/Library/Frameworks/ExceptionHandling.framework/Versions/A/Except
ionHandling
0x9651f000 - 0x9654dfff libncurses.5.4.dylib
/usr/lib/libncurses.5.4.dylib
0x9657a000 - 0x96590fff libJapaneseConverter.dylib 
/System/Library/CoreServices/Encodings/libJapaneseConverter.dylib
0x96f94000 - 0x96f94fff com.apple.vecLib 3.3.1 (vecLib 3.3.1)
/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
0x9a6f0000 - 0x9a70dfff com.apple.OpenTransport 3.0
/System/Library/PrivateFrameworks/OpenTransport.framework/OpenTransport
0x9aaca000 - 0x9aae0fff libCFilter.A.dylib 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libCFilter.A.dylib
0xeab00000 - 0xeab1cfff libConverter.dylib 
/System/Library/Printers/Libraries/libConverter.dylib

Model: MacBookPro2,2, BootROM MBP22.00A5.B01, 2 processors, Intel Core 2
Duo,
2.16 GHz, 2 GB
Graphics: ATI Radeon X1600, ATY,RadeonX1600, PCIe, 128 MB
Memory Module: BANK 0/DIMM0, 1 GB, DDR2 SDRAM, 667 MHz
Memory Module: BANK 1/DIMM1, 1 GB, DDR2 SDRAM, 667 MHz
AirPort: spairport_wireless_card_type_airport_extreme (0x168C, 0x87),
1.3.5
Bluetooth: Version 1.9.5f4, 2 service, 1 devices, 1 incoming serial
ports
Network Service: Built-in Ethernet, Ethernet, en0
Network Service: AirPort, AirPort, en1
Serial ATA Device: Hitachi HTS541612J9SA00, 111.79 GB
Parallel ATA Device: HL-DT-ST DVDRW GWA4080MA
USB Device: Built-in iSight, Micron, Up to 480 Mb/sec, 500 mA
USB Device: Apple Internal Keyboard / Trackpad, Apple Computer, Up to 12
Mb/sec,
500 mA
USB Device: Hub in Apple Pro Keyboard, Mitsumi Electric, Up to 12
Mb/sec, 500
mA
USB Device: USB-PS/2 Optical Mouse, B16_b_02, Up to 1.5 Mb/sec, 100 mA
USB Device: Apple Pro Keyboard, Mitsumi Electric, Up to 12 Mb/sec, 250
mA
USB Device: IR Receiver, Apple Computer, Inc., Up to 12 Mb/sec, 500 mA
USB Device: Bluetooth USB Host Controller, Apple, Inc., Up to 12 Mb/sec,
500 mA

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel


From HDu at enh.org  Tue Apr 29 19:05:23 2008
From: HDu at enh.org (HDu at enh.org)
Date: Tue, 29 Apr 2008 19:05:23 +0200 (CEST)
Subject: [Rd] R code for weighted Deming regression? (PR#11334)
Message-ID: <20080429170523.A214D282EF48@mail.pubhealth.ku.dk>

Hi,

Any one has the code that I can borrow? Or any suggestions?

Highly appreciate.

Hongyan Du
=20


-----Original Message-----
From: r-devel-bounces at r-project.org
[mailto:r-devel-bounces at r-project.org] On Behalf Of alexcozzi at gmail.com
Sent: Tuesday, April 29, 2008 11:25 AM
To: r-devel at stat.math.ethz.ch
Cc: R-bugs at biostat.ku.dk
Subject: [Rd] crash in Mac.app (PR#11334)

Full_Name: Alex Cozzi
Version: 2.7
OS: OS X 10.4
Submission from: (NULL) (209.131.62.113)


Observed a crash while pressing ctrl-A and ESC in R.app


Date/Time:      2008-04-29 09:18:28.501 -0700
OS Version:     10.4.11 (Build 8S2167)
Report Version: 4

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Parent:  WindowServer [2784]

Version: R 2.7.0 GUI 1.24 (5102)

PID:    9213
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000004

Thread 0 Crashed:
0   com.apple.CoreFoundation       	0x90872f9c __CFStorageFindByte +
23
1   com.apple.CoreFoundation       	0x90873069 __CFStorageFindByte +
228
2   com.apple.CoreFoundation       	0x90870d59
CFStorageGetValueAtIndex + 319
3   com.apple.AppKit               	0x9339c901 -[NSLayoutManager
intAttribute:forGlyphAtIndex:] + 182
4   com.apple.AppKit               	0x937232b7
-[NSTextView(NSKeyBindingCommands) moveRight:] + 1128
5   com.apple.AppKit               	0x93380e29 -[NSResponder
doCommandBySelector:] + 76
6   com.apple.AppKit               	0x93380cbc -[NSTextView
doCommandBySelector:] + 229
7   com.apple.AppKit               	0x93376448
-[NSKeyBindingManager(NSKeyBindingManager_MultiClients)
interpretEventAsCommand:forClient:] + 1932
8   com.apple.AppKit               	0x933749a9 -[NSTSMInputContext
interpretKeyEvents:] + 1157
9   com.apple.AppKit               	0x93373d50 -[NSView
interpretKeyEvents:] +
65
10  com.apple.AppKit               	0x93373c3e -[NSTextView
keyDown:] + 1061
11  org.R-project.R                	0x00030a88 -[RTextView keyDown:]
+ 319
(RTextView.m:259)
12  com.apple.AppKit               	0x933737c1 -[NSWindow
sendEvent:] + 7377
13  com.apple.AppKit               	0x93364f28 -[NSApplication
sendEvent:] +
5023
14  org.R-project.R                	0x00008f46 -[RController
doProcessEvents:] +
530 (RController.m:2201)
15  org.R-project.R                	0x00006350 -[RController
handleReadConsole:]
+ 126 (RController.m:1118)
16  org.R-project.R                	0x00010fa9 Re_ReadConsole + 494
(Rcallbacks.m:143)
17  org.R-project.R                	0x00018aed run_REngineRmainloop
+ 867
(Rinit.m:393)
18  org.R-project.R                	0x0001142a -[REngine runREPL] +
260
(REngine.m:181)
19  org.R-project.R                	0x00002e91 main + 795
(main.m:126)
20  org.R-project.R                	0x00002b5a _start + 216
21  org.R-project.R                	0x00002a81 start + 41

Thread 1:
0   libSystem.B.dylib              	0x90009cd7 mach_msg_trap + 7
1   com.apple.CoreFoundation       	0x9082d21b CFRunLoopRunSpecific
+ 2014
2   com.apple.CoreFoundation       	0x9082ca36 CFRunLoopRunInMode +
61
3   com.apple.Foundation           	0x92854c76 +[NSURLCache
_diskCacheSyncLoop:]
+ 206
4   com.apple.Foundation           	0x927f839c forkThreadForFunction
+ 123
5   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 2:
0   libSystem.B.dylib              	0x9001a1cc select + 12
1   com.apple.Foundation           	0x927f839c forkThreadForFunction
+ 123
2   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 3:
0   libSystem.B.dylib              	0x900248c7
semaphore_wait_signal_trap + 7
1   com.apple.Foundation           	0x9284e2fc -[NSConditionLock
lockWhenCondition:] + 39
2   com.apple.AppKit               	0x9336ce50 -[NSUIHeartBeat
_heartBeatThread:] + 377
3   com.apple.Foundation           	0x927f839c forkThreadForFunction
+ 123
4   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 4:
0   libSystem.B.dylib              	0x90009cd7 mach_msg_trap + 7
1   com.apple.CoreFoundation       	0x9082d21b CFRunLoopRunSpecific
+ 2014
2   com.apple.CoreFoundation       	0x9082ca36 CFRunLoopRunInMode +
61
3   com.apple.Foundation           	0x9282da40
+[NSURLConnection(NSURLConnectionInternal) _resourceLoadLoop:] + 259
4   com.apple.Foundation           	0x927f839c forkThreadForFunction
+ 123
5   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 5:
0   libSystem.B.dylib              	0x9001a1cc select + 12
1   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 6:
0   libSystem.B.dylib              	0x90026d5c kevent + 12
1   ...ple.CoreServices.CarbonCore 	0x90cb8c68 PrivateMPEntryPoint +
51
2   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 7:
0   libSystem.B.dylib              	0x900248c7
semaphore_wait_signal_trap + 7
1   ...ple.CoreServices.CarbonCore 	0x90cb8e0d MPWaitOnQueue + 198
2   com.apple.DesktopServices      	0x9271e943
TNodeSyncTask::SyncTaskProc(void*) + 143
3   ...ple.CoreServices.CarbonCore 	0x90cb8c68 PrivateMPEntryPoint +
51
4   libSystem.B.dylib              	0x90024227 _pthread_body + 84

Thread 0 crashed with X86 Thread State (32-bit):
  eax: 0x18361b90  ebx: 0x90872f93  ecx: 0x00000000  edx: 0x00000000
  edi: 0x18361bb0  esi: 0x00000002  ebp: 0xbffff3a8  esp: 0xbffff370
   ss: 0x0000001f  efl: 0x00010282  eip: 0x90872f9c   cs: 0x00000017
   ds: 0x0000001f   es: 0x0000001f   fs: 0x00000000   gs: 0x00000037

Binary Images Description:
    0x1000 -    0x3dfff org.R-project.R R 2.7.0 GUI 1.24 (5102)
/Applications/R.app/Contents/MacOS/R
  0x190000 -   0x191fff libRblas.dylib=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libRblas.dyli
b
  0x196000 -   0x1bcfff libreadline.5.2.dylib=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libreadline.5
.2.dylib
  0x1d0000 -   0x1d7fff libgcc_s.1.dylib=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libgcc_s.1.dy
lib
  0x305000 -   0x523fff libR.dylib=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libR.dylib
  0x5fa000 -   0x685fff libgfortran.2.dylib=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/libgfortran.2
.dylib
 0x1340000 -  0x1343fff lattice.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/lattice/l
ibs/i386/lattice.so
 0x1775000 -  0x1776fff gtools.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/gtools/li
bs/i386/gtools.so
 0x17b5000 -  0x17b6fff jp.co.canon.PS.Session_LPR 1.70
/Library/Printers/Canon/PS/Sessions/Session_LPR.plugin/Contents/MacOS/Se
ssion_LPR
 0x17e8000 -  0x17e9fff com.apple.print.converter.plugin 4.6 (163.10)
/System/Library/Printers/CVs/Converter.plugin/Contents/MacOS/Converter
 0xce62000 -  0xce65fff tools.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/tools/lib
s/i386/tools.so
 0xcebd000 -  0xcee0fff com.apple.print.framework.Print.Private 4.6
(163.10)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.
framework/Versions/Current/Plugins/PrintCocoaUI.bundle/Contents/MacOS/Pr
intCocoaUI
 0xcf03000 -  0xcf36fff jp.co.canon.PS.PDEs.Finish 1.70
/Library/Printers/Canon/PS/PDEs/Canon
FinishPDE.plugin/Contents/MacOS/FinishPDE
 0xd1e6000 -  0xd1e6fff org.xlife.InquisitorLoader 3.0 (53)
/Library/InputManagers/Inquisitor/Inquisitor.bundle/Contents/MacOS/Inqui
sitor
 0xd4a6000 -  0xd4a8fff net.culater.SIMBL 0.8 (8)
/Library/InputManagers/SIMBL/SIMBL.bundle/Contents/MacOS/SIMBL
 0xd549000 -  0xd54efff methods.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/methods/l
ibs/i386/methods.so
 0xd6aa000 -  0xd6ccfff grDevices.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/grDevices
/libs/i386/grDevices.so
 0xd760000 -  0xd7b2fff stats.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/stats/lib
s/i386/stats.so
 0xf1a7000 -  0xf1befff grid.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/grid/libs
/i386/grid.so
 0xf222000 -  0xf224fff splines.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/splines/l
ibs/i386/splines.so
 0xf228000 -  0xf236fff jp.co.canon.PS.fmwk.PSlib 1.70
/Library/Printers/Canon/PS/Frameworks/PSLib.framework/Versions/A/PSLib
 0xf259000 -  0xf260fff jp.co.canon.frameworks.PS.PDEValidateLib 1.70
/Library/Printers/Canon/PS/Frameworks/PS
PDEValidateLib.framework/Versions/A/PS
PDEValidateLib
 0xf267000 -  0xf26bfff jp.co.canon.PS.INFOModule 1.70
/Library/Printers/Canon/PS/Cores/INFOModule.plugin/Contents/MacOS/INFOMo
dule
 0xf271000 -  0xf288fff jp.co.canon.PS.VMs.validate_PS 1.70
/Library/Printers/Canon/PS/VMs/validate_PS.plugin/Contents/MacOS/validat
e_PS
 0xf295000 -  0xf29efff internet.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/modules/i386/inte
rnet.so
 0xf2b5000 -  0xf2c5fff jp.co.canon.PS.PDEs.Version 1.70
/Library/Printers/Canon/PS/PDEs/Canon
VersionPDE.plugin/Contents/MacOS/VersionPDE
0x11183000 - 0x11187fff MASS.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/MASS/libs
/i386/MASS.so
0x1118c000 - 0x11196fff colorspace.so=20
/Library/Frameworks/R.framework/Versions/2.7/Resources/library/colorspac
e/libs/i386/colorspace.so
0x11300000 - 0x11330fff jp.co.canon.mcd.fmwk.PSCommonLib 1.70
/Library/Printers/Canon/PS/Frameworks/PSCommonLib.framework/Versions/A/P
SCommonLib
0x11463000 - 0x1148cfff jp.co.canon.PS.PDEs.InPaper 1.70
/Library/Printers/Canon/PS/PDEs/Canon
InPaperPDE.plugin/Contents/MacOS/InPaperPDE
0x114a0000 - 0x114b9fff com.apple.print.PrintingCocoaPDEs 4.6 (163.10)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.
framework/Versions/A/Plugins/PrintingCocoaPDEs.bundle/Contents/MacOS/Pri
ntingCocoaPDEs
0x114d3000 - 0x11505fff jp.co.canon.PS.PDEs.BasicSet 1.70
/Library/Printers/Canon/PS/PDEs/Canon
BasicSetPDE.plugin/Contents/MacOS/BasicSetPDE
0x1151d000 - 0x1153efff jp.co.canon.PS.PDEs.AdvancedOption 1.70
/Library/Printers/Canon/PS/PDEs/Canon
AdvancedOptionPDE.plugin/Contents/MacOS/AdvancedOptionPDE
0x1156a000 - 0x11576fff jp.co.canon.PS.IOService 1.70
/Library/Printers/Canon/PS/Cores/IOService.plugin/Contents/MacOS/IOServi
ce
0x11585000 - 0x11596fff com.apple.print.PrintingTiogaPDEs 4.6 (163.10)
/System/Library/Frameworks/Carbon.framework/Frameworks/Print.framework/V
ersions/A/Plugins/PrintingTiogaPDEs.bundle/Contents/MacOS/PrintingTiogaP
DEs
0x1159f000 - 0x115a1fff jp.co.canon.mcd.PS.IOSControl 1.70
/Library/Printers/Canon/PS/Controls/IOSControl.plugin/Contents/MacOS/IOS
Control
0x115ab000 - 0x115adfff jp.co.canon.PS.IOM_LPR 1.70
/Library/Printers/Canon/PS/IOMs/LPR_IOM.plugin/Contents/MacOS/LPR_IOM
0x116b2000 - 0x116f4fff jp.co.canon.PS.Protocol_CPCA 1.70
/Library/Printers/Canon/PS/Protocols/Protocol_CPCA.plugin/Contents/MacOS
/Protocol_CPCA
0x78e00000 - 0x78e06fff libLW8Utils.dylib=20
/System/Library/Printers/Libraries/libLW8Utils.dylib
0x79200000 - 0x7923dfff libLW8Converter.dylib=20
/System/Library/Printers/Libraries/libLW8Converter.dylib
0x8fe00000 - 0x8fe4afff dyld 46.16	/usr/lib/dyld
0x90000000 - 0x90171fff libSystem.B.dylib
/usr/lib/libSystem.B.dylib
0x901c1000 - 0x901c3fff libmathCommon.A.dylib=20
/usr/lib/system/libmathCommon.A.dylib
0x901c5000 - 0x90202fff com.apple.CoreText 1.1.3 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreText.framework/Versions/A/CoreText
0x90229000 - 0x902fffff ATS=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ATS.framework/Versions/A/ATS
0x9031f000 - 0x90774fff com.apple.CoreGraphics 1.258.77 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x9080b000 - 0x908d3fff com.apple.CoreFoundation 6.4.10 (368.33)
/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFound
ation
0x90911000 - 0x90911fff com.apple.CoreServices 10.4 (???)
/System/Library/Frameworks/CoreServices.framework/Versions/A/CoreService
s
0x90913000 - 0x90a07fff libicucore.A.dylib
/usr/lib/libicucore.A.dylib
0x90a57000 - 0x90ad6fff libobjc.A.dylib 	/usr/lib/libobjc.A.dylib
0x90aff000 - 0x90b63fff libstdc++.6.dylib
/usr/lib/libstdc++.6.dylib
0x90bd2000 - 0x90bd9fff libgcc_s.1.dylib
/usr/lib/libgcc_s.1.dylib
0x90bde000 - 0x90c51fff com.apple.framework.IOKit 1.4.8 (???)
/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90c66000 - 0x90c78fff libauto.dylib 	/usr/lib/libauto.dylib
0x90c7e000 - 0x90f24fff com.apple.CoreServices.CarbonCore 682.28
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
CarbonCore.framework/Versions/A/CarbonCore
0x90f67000 - 0x90fcffff com.apple.CoreServices.OSServices 4.1
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
OSServices.framework/Versions/A/OSServices
0x91008000 - 0x91047fff com.apple.CFNetwork 129.22 (129.23)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
CFNetwork.framework/Versions/A/CFNetwork
0x9105a000 - 0x9106afff com.apple.WebServices 1.1.3 (1.1.0)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
WebServicesCore.framework/Versions/A/WebServicesCore
0x91075000 - 0x910f4fff com.apple.SearchKit 1.0.7
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
SearchKit.framework/Versions/A/SearchKit
0x9112e000 - 0x9114cfff com.apple.Metadata 10.4.4 (121.36)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
Metadata.framework/Versions/A/Metadata
0x91158000 - 0x91166fff libz.1.dylib 	/usr/lib/libz.1.dylib
0x91169000 - 0x91308fff com.apple.security 4.5.2 (29774)
/System/Library/Frameworks/Security.framework/Versions/A/Security
0x91406000 - 0x9140efff com.apple.DiskArbitration 2.1.2
/System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbi
tration
0x91415000 - 0x9141cfff libbsm.dylib 	/usr/lib/libbsm.dylib
0x91420000 - 0x91446fff com.apple.SystemConfiguration 1.8.6
/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/Syst
emConfiguration
0x91458000 - 0x914cefff com.apple.audio.CoreAudio 3.0.5
/System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x9151f000 - 0x9151ffff com.apple.ApplicationServices 10.4 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Appl
icationServices
0x91521000 - 0x9154dfff com.apple.AE 314 (313)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/AE.framework/Versions/A/AE
0x91560000 - 0x91634fff com.apple.ColorSync 4.4.10
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ColorSync.framework/Versions/A/ColorSync
0x9166f000 - 0x916e2fff com.apple.print.framework.PrintCore 4.6 (177.13)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/PrintCore.framework/Versions/A/PrintCore
0x91710000 - 0x917b9fff com.apple.QD 3.10.25 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/QD.framework/Versions/A/QD
0x917df000 - 0x9182afff com.apple.HIServices 1.5.2 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/HIServices.framework/Versions/A/HIServices
0x91849000 - 0x9185ffff com.apple.LangAnalysis 1.6.3
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/LangAnalysis.framework/Versions/A/LangAnalysis
0x9186b000 - 0x91886fff com.apple.FindByContent 1.5
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/FindByContent.framework/Versions/A/FindByContent
0x91891000 - 0x918cefff com.apple.LaunchServices 182
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/LaunchServices.framework/Versions/A/LaunchServices
0x918e2000 - 0x918eefff com.apple.speech.synthesis.framework 3.5
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x918f5000 - 0x91935fff com.apple.ImageIO.framework 1.5.6
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/ImageIO
0x91948000 - 0x919fafff libcrypto.0.9.7.dylib
/usr/lib/libcrypto.0.9.7.dylib
0x91a40000 - 0x91a56fff libcups.2.dylib 	/usr/lib/libcups.2.dylib
0x91a5b000 - 0x91a79fff libJPEG.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
0x91a7e000 - 0x91addfff libJP2.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib
0x91aef000 - 0x91af3fff libGIF.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
0x91af5000 - 0x91b7dfff libRaw.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libRaw.dylib
0x91b81000 - 0x91bbefff libTIFF.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
0x91bc4000 - 0x91bdefff libPng.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
0x91be3000 - 0x91be5fff libRadiance.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
0x91be7000 - 0x91cc5fff libxml2.2.dylib 	/usr/lib/libxml2.2.dylib
0x91ce2000 - 0x91ce2fff com.apple.Accelerate 1.3.1 (Accelerate 1.3.1)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
0x91ce4000 - 0x91d72fff com.apple.vImage 2.5
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vI
mage.framework/Versions/A/vImage
0x91d79000 - 0x91d79fff com.apple.Accelerate.vecLib 3.3.1 (vecLib 3.3.1)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/vecLib
0x91d7b000 - 0x91dd4fff libvMisc.dylib=20
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/libvMisc.dylib
0x91ddd000 - 0x91e01fff libvDSP.dylib=20
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/libvDSP.dylib
0x91e09000 - 0x92212fff libBLAS.dylib=20
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/libBLAS.dylib
0x9224c000 - 0x92600fff libLAPACK.dylib=20
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ve
cLib.framework/Versions/A/libLAPACK.dylib
0x9262d000 - 0x9271afff libiconv.2.dylib
/usr/lib/libiconv.2.dylib
0x9271c000 - 0x9279afff com.apple.DesktopServices 1.3.7
/System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions
/A/DesktopServicesPriv
0x927db000 - 0x92a0bfff com.apple.Foundation 6.4.10 (567.37)
/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92b25000 - 0x92b3cfff libGL.dylib=20
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.d
ylib
0x92b47000 - 0x92b9ffff libGLU.dylib=20
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.
dylib
0x92bb3000 - 0x92bb3fff com.apple.Carbon 10.4 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
0x92bb5000 - 0x92bc5fff com.apple.ImageCapture 3.0.4
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageC
apture.framework/Versions/A/ImageCapture
0x92bd4000 - 0x92bdcfff com.apple.speech.recognition.framework 3.6
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Speech
Recognition.framework/Versions/A/SpeechRecognition
0x92be2000 - 0x92be8fff com.apple.securityhi 2.0.1 (24742)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Securi
tyHI.framework/Versions/A/SecurityHI
0x92bee000 - 0x92c7ffff com.apple.ink.framework 101.2.1 (71)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.fr
amework/Versions/A/Ink
0x92c93000 - 0x92c97fff com.apple.help 1.0.3 (32.1)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.f
ramework/Versions/A/Help
0x92c9a000 - 0x92cb8fff com.apple.openscripting 1.2.5 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenSc
ripting.framework/Versions/A/OpenScripting
0x92cca000 - 0x92cd0fff com.apple.print.framework.Print 5.2 (192.4)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.
framework/Versions/A/Print
0x92cd6000 - 0x92d39fff com.apple.htmlrendering 66.1 (1.1.3)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HTMLRe
ndering.framework/Versions/A/HTMLRendering
0x92d60000 - 0x92da1fff com.apple.NavigationServices 3.4.4 (3.4.3)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Naviga
tionServices.framework/Versions/A/NavigationServices
0x92dc8000 - 0x92dd6fff com.apple.audio.SoundManager 3.9.1
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Carbon
Sound.framework/Versions/A/CarbonSound
0x92ddd000 - 0x92de2fff com.apple.CommonPanels 1.2.3 (73)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Common
Panels.framework/Versions/A/CommonPanels
0x92de7000 - 0x930dcfff com.apple.HIToolbox 1.4.10 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HITool
box.framework/Versions/A/HIToolbox
0x931e2000 - 0x931edfff com.apple.opengl 1.4.16
/System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
0x931f2000 - 0x9320dfff com.apple.DirectoryService.Framework 3.3
/System/Library/Frameworks/DirectoryService.framework/Versions/A/Directo
ryService
0x9327d000 - 0x9327dfff com.apple.Cocoa 6.4 (???)
/System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
0x9327f000 - 0x93935fff com.apple.AppKit 6.4.10 (824.45)
/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x93cb6000 - 0x93d31fff com.apple.CoreData 91 (92.1)
/System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
0x93d6a000 - 0x93e23fff com.apple.audio.toolbox.AudioToolbox 1.4.7
/System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbo
x
0x93e66000 - 0x93e66fff com.apple.audio.units.AudioUnit 1.4.2
/System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x93e68000 - 0x94029fff com.apple.QuartzCore 1.4.12
/System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x9406f000 - 0x940b0fff libsqlite3.0.dylib
/usr/lib/libsqlite3.0.dylib
0x940b8000 - 0x940f2fff libGLImage.dylib=20
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLIm
age.dylib
0x940f7000 - 0x9410dfff com.apple.CoreVideo 1.4.2
/System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
0x942a1000 - 0x942b0fff libCGATS.A.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x942b7000 - 0x942c2fff libCSync.A.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x942c7000 - 0x942ebfff libPDFRIP.A.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libPDFRIP.A.dylib
0x9430e000 - 0x94328fff libRIP.A.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x947cb000 - 0x94911fff com.apple.AddressBook.framework 4.0.6 (490)
/System/Library/Frameworks/AddressBook.framework/Versions/A/AddressBook
0x9499d000 - 0x949acfff com.apple.DSObjCWrappers.Framework 1.1
/System/Library/PrivateFrameworks/DSObjCWrappers.framework/Versions/A/DS
ObjCWrappers
0x949b3000 - 0x949dcfff com.apple.LDAPFramework 1.4.2 (69.1.1)
/System/Library/Frameworks/LDAP.framework/Versions/A/LDAP
0x949e2000 - 0x949f1fff libsasl2.2.dylib
/usr/lib/libsasl2.2.dylib
0x949f5000 - 0x94a1afff libssl.0.9.7.dylib
/usr/lib/libssl.0.9.7.dylib
0x94a26000 - 0x94a43fff libresolv.9.dylib
/usr/lib/libresolv.9.dylib
0x951fd000 - 0x952affff com.apple.WebKit 4525.18
/System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
0x9531a000 - 0x953e1fff com.apple.JavaScriptCore 4525.17
/System/Library/Frameworks/JavaScriptCore.framework/Versions/A/JavaScrip
tCore
0x9541d000 - 0x95a0ffff com.apple.WebCore 4525.18.1
/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCor
e.framework/Versions/A/WebCore
0x9601f000 - 0x96021fff com.apple.ExceptionHandling 1.2 (???)
/System/Library/Frameworks/ExceptionHandling.framework/Versions/A/Except
ionHandling
0x9651f000 - 0x9654dfff libncurses.5.4.dylib
/usr/lib/libncurses.5.4.dylib
0x9657a000 - 0x96590fff libJapaneseConverter.dylib=20
/System/Library/CoreServices/Encodings/libJapaneseConverter.dylib
0x96f94000 - 0x96f94fff com.apple.vecLib 3.3.1 (vecLib 3.3.1)
/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
0x9a6f0000 - 0x9a70dfff com.apple.OpenTransport 3.0
/System/Library/PrivateFrameworks/OpenTransport.framework/OpenTransport
0x9aaca000 - 0x9aae0fff libCFilter.A.dylib=20
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Fram
eworks/CoreGraphics.framework/Versions/A/Resources/libCFilter.A.dylib
0xeab00000 - 0xeab1cfff libConverter.dylib=20
/System/Library/Printers/Libraries/libConverter.dylib

Model: MacBookPro2,2, BootROM MBP22.00A5.B01, 2 processors, Intel Core 2
Duo,
2.16 GHz, 2 GB
Graphics: ATI Radeon X1600, ATY,RadeonX1600, PCIe, 128 MB
Memory Module: BANK 0/DIMM0, 1 GB, DDR2 SDRAM, 667 MHz
Memory Module: BANK 1/DIMM1, 1 GB, DDR2 SDRAM, 667 MHz
AirPort: spairport_wireless_card_type_airport_extreme (0x168C, 0x87),
1.3.5
Bluetooth: Version 1.9.5f4, 2 service, 1 devices, 1 incoming serial
ports
Network Service: Built-in Ethernet, Ethernet, en0
Network Service: AirPort, AirPort, en1
Serial ATA Device: Hitachi HTS541612J9SA00, 111.79 GB
Parallel ATA Device: HL-DT-ST DVDRW GWA4080MA
USB Device: Built-in iSight, Micron, Up to 480 Mb/sec, 500 mA
USB Device: Apple Internal Keyboard / Trackpad, Apple Computer, Up to 12
Mb/sec,
500 mA
USB Device: Hub in Apple Pro Keyboard, Mitsumi Electric, Up to 12
Mb/sec, 500
mA
USB Device: USB-PS/2 Optical Mouse, B16_b_02, Up to 1.5 Mb/sec, 100 mA
USB Device: Apple Pro Keyboard, Mitsumi Electric, Up to 12 Mb/sec, 250
mA
USB Device: IR Receiver, Apple Computer, Inc., Up to 12 Mb/sec, 500 mA
USB Device: Bluetooth USB Host Controller, Apple, Inc., Up to 12 Mb/sec,
500 mA

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Tue Apr 29 20:27:47 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 29 Apr 2008 19:27:47 +0100 (BST)
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <6vprs88uu6.fsf@gmail.com>
References: <6vprs88uu6.fsf@gmail.com>
Message-ID: <alpine.LFD.1.10.0804291926560.31064@gannet.stats.ox.ac.uk>

On Tue, 29 Apr 2008, Michael wrote:

>
> I've been trying to build a Windows binary of a package of mine without
> success.  It seems that the files under inst/doc throw the script off.
>
> I am using the command 'Rcmd INSTALL --build'.
>
> ---------- Making package genepi ------------
>  adding build stamp to DESCRIPTION
>  installing NAMESPACE file and metadata
>  installing R files
>  installing inst files
> FIND: Parameter format not correct
> make[2]: *** [C:/Library/R/genepi/inst] Error 2
> make[1]: *** [all] Error 2
> make: *** [pkg-genepi] Error 2
> *** Installation of genepi failed ***
>
> I also tried a couple of packages downloaded from CRAN.  Those without
> inst/doc directory worked fine and those who do have it didn't.
>
> I'm using a fresh install of R-2.7.0 and Rtools-2.7.
>
> Any clue of what was wrong with my setup?

Your path is incorrect -- as 'R Installation and Administration' does warn 
you.

>
> Thanks,
>
> Michael
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch at stats.uwo.ca  Tue Apr 29 20:29:00 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 29 Apr 2008 14:29:00 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <6vprs88uu6.fsf@gmail.com>
References: <6vprs88uu6.fsf@gmail.com>
Message-ID: <481768EC.50008@stats.uwo.ca>

On 29/04/2008 12:54 PM, Michael wrote:
> I've been trying to build a Windows binary of a package of mine without
> success.  It seems that the files under inst/doc throw the script off.
> 
> I am using the command 'Rcmd INSTALL --build'.
> 
> ---------- Making package genepi ------------
>   adding build stamp to DESCRIPTION
>   installing NAMESPACE file and metadata
>   installing R files
>   installing inst files
> FIND: Parameter format not correct

That looks as though you don't have the tools installed correctly, you 
have some other "find" earlier on your path.

Duncan Murdoch

> make[2]: *** [C:/Library/R/genepi/inst] Error 2
> make[1]: *** [all] Error 2
> make: *** [pkg-genepi] Error 2
> *** Installation of genepi failed ***
> 
> I also tried a couple of packages downloaded from CRAN.  Those without
> inst/doc directory worked fine and those who do have it didn't.
> 
> I'm using a fresh install of R-2.7.0 and Rtools-2.7. 
> 
> Any clue of what was wrong with my setup?
> 
> Thanks,
> 
> Michael
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From bill at insightful.com  Tue Apr 29 20:30:12 2008
From: bill at insightful.com (bill at insightful.com)
Date: Tue, 29 Apr 2008 20:30:12 +0200 (CEST)
Subject: [Rd] non-digits in svnversion output mess up windows build if
	USE_SVNVERSION=yes (PR#11339)
Message-ID: <20080429183012.789FA282EF48@mail.pubhealth.ku.dk>

Full_Name: Bill Dunlap
Version: 2.8.0dev
OS: Windows XP
Submission from: (NULL) (70.98.76.47)


I tried for the first time to build R from source on Windows, where I
got the source code via svn.  Per the Installation and Administration
manual, I altered src\gnuwin32\MkRules so it had the the locally
correct paths to HTML Help Workshop and Inno Setup 5.  I also set
USE_SVNVERSION=yes, as suggested in MkRules itself.  Then, while in
the directory src/gnuwin32 I ran 'make all recommended' and got an
error from windres very early in the build:

  E:\R\R-svn\r-devel\src\gnuwin32>make all recommended
  make --no-print-directory -C front-ends Rpwd
  make -C ../../include -f Makefile.win version
  make Rpwd.exe
  gcc  -std=gnu99 -I../../include  -O3 -Wall -pedantic  -c rpwd.c -o rpwd.o
  windres --preprocessor="gcc -E -xc -DRC_INVOKED"   -i rcico.rc -o rcico.o
  c:\Rtools\MinGW\bin\windres.exe: rcico.rc:9: syntax error
  make[3]: *** [rcico.o] Error 1
  make[2]: *** [Rpwd] Error 2
  make[1]: *** [front-ends/Rpwd.exe] Error 2
  make: *** [all] Error 2

Line 9 of src\gnuwin32\front-ends\rcico.rc is
  FILEVERSION R_FILEVERSION
The problem was that my change to MkRules caused 'svnversion' to put an
'M' (modified) on the end of the svn version it reports.  This svn
version number is used in the R_FILEVERSION macro, which is used in in
the *.rc files.  The resource file compiler, windres, appears to choke on
non-digits in R_FILEVERSION.  (A comment in tools\GETVERSION indicates
it might choke on leading 0's as well.)

svnversion can also output a string of the form "123:125"
to mean the current source is from a variety of svn revisions,
between 123 through 125.  An "M" or "S" may also be appended.
If you don't have Subversion installed then you might get
a svn version of "unknown".  None of these non-digits is
acceptble to windres.

I patched tools/GETVERSION to fix up this problem.  It removes
the trailing M or S and removes anything up to an including a
colon, so it reports the highest version in the range.  If there
are still non-digits in there it makes the version string "0"
(not useful, but doesn't kill the build with a noninformative
error message).

I ran into another problem with the trailing 'M' from svnversion
when doing 'make rinstaller' in R_HOME/src/gnuwin32:
   E:\R\R-svn\r-devel\src\gnuwin32\installer>type R-2.8.0dev.log
   Inno Setup 5 Command-Line Compiler
   ...
   Compiler engine version: Inno Setup 5.2.3 (ISPP 5.2.3.0)
   ...
   [ISPP] Preprocessing.
   ...
   [ISPP] Preprocessed.
   Parsing [Setup] section, line 10
   ...
   Parsing [Setup] section, line 20
   Error on line 12 in e:\R\R-svn\r-devel\src\gnuwin32\installer\R.iss: Value of
[Setup] section directive "VersionInfoVersion" is invalid.
   Compile aborted.
The offending line 12 in R.iss is
    12  VersionInfoVersion=2.8.0.45381M
and it is put there by src/gnuwin32/installer/JRins.pl.

I patched JRins.pl to ensure the svn revision consisted
of only digits.

Then I could build R on Windows (make distribution)
with USE_SVNVERSION=yes set in src/gnuwin32/MkRules
and with a variety of svn revision settings.

Index: src/gnuwin32/installer/JRins.pl
===================================================================
--- src/gnuwin32/installer/JRins.pl     (revision 45553)
+++ src/gnuwin32/installer/JRins.pl     (working copy)
@@ -44,6 +44,11 @@
 $SVN = <ver>;
 close ver;
 $SVN =~s/Revision: //;
+## inno setup requires that SVN be all numeric, not 123M, 120:123, "unknown",
or empty
+$SVN =~s/[MS]* *$//;
+$SVN =~s/^.*://;
+$SVN =~s/[^0-9]//g;
+$SVN =~s/^$/0/;
 $RVER0 .= "." . $SVN;

 open insfile, "> R.iss" || die "Cannot open R.iss\n";
Index: tools/GETVERSION
===================================================================
--- tools/GETVERSION    (revision 45479)
+++ tools/GETVERSION    (working copy)
@@ -24,6 +24,7 @@
     y1=6
     svn_rev=unknown
   fi
+  all_numeric_svn_rev=`echo ${svn_rev}|sed -e 's/[MS]*$//' -e 's/^.*://' -e
's/[^0-9]//g' -e 's/^$/0/'`
   echo "/* Rversion.h.  Generated automatically. */"
   echo "#ifndef R_VERSION_H"
   echo "#define R_VERSION_H"
@@ -43,7 +44,7 @@
   echo "#define R_SVN_REVISION \"${svn_rev}\""
 ## Using 1-digit year stops problems with leading zeros
 #  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${y1}${m}${d},0"
-  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${svn_rev},0"
+  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${all_numeric_svn_rev},0"
   echo
   echo '#ifdef __cplusplus'
   echo '}'


From ggrothendieck at gmail.com  Tue Apr 29 20:51:18 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 29 Apr 2008 14:51:18 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <481768EC.50008@stats.uwo.ca>
References: <6vprs88uu6.fsf@gmail.com> <481768EC.50008@stats.uwo.ca>
Message-ID: <971536df0804291151m645d7428xeb7a11afd41a8915@mail.gmail.com>

The use of the UNIX find command on Windows makes installation
very troublesome and fragile.   I wonder if you could include a
find2 or somesuch with the tools and change the scripts to use that
getting rid of find or use just use the Windows find command in the
scripts.  Or some other solution so that one does not have to have
a non-Windows find on the PATH.

If you don't have the find in Rtools first in your path then you have
problems like the one below and if you do have it first then it throws
off the scripts from other software.

On Tue, Apr 29, 2008 at 2:29 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 29/04/2008 12:54 PM, Michael wrote:
> > I've been trying to build a Windows binary of a package of mine without
> > success.  It seems that the files under inst/doc throw the script off.
> >
> > I am using the command 'Rcmd INSTALL --build'.
> >
> > ---------- Making package genepi ------------
> >  adding build stamp to DESCRIPTION
> >  installing NAMESPACE file and metadata
> >  installing R files
> >  installing inst files
> > FIND: Parameter format not correct
> >
>
> That looks as though you don't have the tools installed correctly, you have
> some other "find" earlier on your path.
>
> Duncan Murdoch
>
>
>
> > make[2]: *** [C:/Library/R/genepi/inst] Error 2
> > make[1]: *** [all] Error 2
> > make: *** [pkg-genepi] Error 2
> > *** Installation of genepi failed ***
> >
> > I also tried a couple of packages downloaded from CRAN.  Those without
> > inst/doc directory worked fine and those who do have it didn't.
> >
> > I'm using a fresh install of R-2.7.0 and Rtools-2.7.
> > Any clue of what was wrong with my setup?
> >
> > Thanks,
> >
> > Michael
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From murdoch at stats.uwo.ca  Tue Apr 29 22:00:05 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 29 Apr 2008 16:00:05 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <971536df0804291151m645d7428xeb7a11afd41a8915@mail.gmail.com>
References: <6vprs88uu6.fsf@gmail.com> <481768EC.50008@stats.uwo.ca>
	<971536df0804291151m645d7428xeb7a11afd41a8915@mail.gmail.com>
Message-ID: <48177E45.4050607@stats.uwo.ca>

On 29/04/2008 2:51 PM, Gabor Grothendieck wrote:
> The use of the UNIX find command on Windows makes installation
> very troublesome and fragile.   I wonder if you could include a
> find2 or somesuch with the tools and change the scripts to use that
> getting rid of find or use just use the Windows find command in the
> scripts.  Or some other solution so that one does not have to have
> a non-Windows find on the PATH.

Find isn't unique:  there are lots of versions of make, and grep, and 
tar that don't work, either.  We've adopted a simple solution, and it 
works:  when you're using the R tools, put them first on the path.

We've thought about including the R tools with R, which would increase 
the size of the distribution quite a bit. Then Rcmd.exe could do the 
path modifications, and you wouldn't need to worry about doing it 
yourself.  That might still happen for 2.8.0.

Duncan Murdoch

> 
> If you don't have the find in Rtools first in your path then you have
> problems like the one below and if you do have it first then it throws
> off the scripts from other software.
> 
> On Tue, Apr 29, 2008 at 2:29 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 29/04/2008 12:54 PM, Michael wrote:
>>> I've been trying to build a Windows binary of a package of mine without
>>> success.  It seems that the files under inst/doc throw the script off.
>>>
>>> I am using the command 'Rcmd INSTALL --build'.
>>>
>>> ---------- Making package genepi ------------
>>>  adding build stamp to DESCRIPTION
>>>  installing NAMESPACE file and metadata
>>>  installing R files
>>>  installing inst files
>>> FIND: Parameter format not correct
>>>
>> That looks as though you don't have the tools installed correctly, you have
>> some other "find" earlier on your path.
>>
>> Duncan Murdoch
>>
>>
>>
>>> make[2]: *** [C:/Library/R/genepi/inst] Error 2
>>> make[1]: *** [all] Error 2
>>> make: *** [pkg-genepi] Error 2
>>> *** Installation of genepi failed ***
>>>
>>> I also tried a couple of packages downloaded from CRAN.  Those without
>>> inst/doc directory worked fine and those who do have it didn't.
>>>
>>> I'm using a fresh install of R-2.7.0 and Rtools-2.7.
>>> Any clue of what was wrong with my setup?
>>>
>>> Thanks,
>>>
>>> Michael
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Tue Apr 29 22:07:51 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 29 Apr 2008 16:07:51 -0400
Subject: [Rd] non-digits in svnversion output mess up windows build if
 USE_SVNVERSION=yes (PR#11339)
In-Reply-To: <20080429183012.789FA282EF48@mail.pubhealth.ku.dk>
References: <20080429183012.789FA282EF48@mail.pubhealth.ku.dk>
Message-ID: <48178017.2050403@stats.uwo.ca>

This is not a bug, it's a feature.

It stops me from distributing versions with unintentional uncommitted 
changes.

Duncan Murdoch

On 29/04/2008 2:30 PM, bill at insightful.com wrote:
> Full_Name: Bill Dunlap
> Version: 2.8.0dev
> OS: Windows XP
> Submission from: (NULL) (70.98.76.47)
> 
> 
> I tried for the first time to build R from source on Windows, where I
> got the source code via svn.  Per the Installation and Administration
> manual, I altered src\gnuwin32\MkRules so it had the the locally
> correct paths to HTML Help Workshop and Inno Setup 5.  I also set
> USE_SVNVERSION=yes, as suggested in MkRules itself.  Then, while in
> the directory src/gnuwin32 I ran 'make all recommended' and got an
> error from windres very early in the build:
> 
>   E:\R\R-svn\r-devel\src\gnuwin32>make all recommended
>   make --no-print-directory -C front-ends Rpwd
>   make -C ../../include -f Makefile.win version
>   make Rpwd.exe
>   gcc  -std=gnu99 -I../../include  -O3 -Wall -pedantic  -c rpwd.c -o rpwd.o
>   windres --preprocessor="gcc -E -xc -DRC_INVOKED"   -i rcico.rc -o rcico.o
>   c:\Rtools\MinGW\bin\windres.exe: rcico.rc:9: syntax error
>   make[3]: *** [rcico.o] Error 1
>   make[2]: *** [Rpwd] Error 2
>   make[1]: *** [front-ends/Rpwd.exe] Error 2
>   make: *** [all] Error 2
> 
> Line 9 of src\gnuwin32\front-ends\rcico.rc is
>   FILEVERSION R_FILEVERSION
> The problem was that my change to MkRules caused 'svnversion' to put an
> 'M' (modified) on the end of the svn version it reports.  This svn
> version number is used in the R_FILEVERSION macro, which is used in in
> the *.rc files.  The resource file compiler, windres, appears to choke on
> non-digits in R_FILEVERSION.  (A comment in tools\GETVERSION indicates
> it might choke on leading 0's as well.)
> 
> svnversion can also output a string of the form "123:125"
> to mean the current source is from a variety of svn revisions,
> between 123 through 125.  An "M" or "S" may also be appended.
> If you don't have Subversion installed then you might get
> a svn version of "unknown".  None of these non-digits is
> acceptble to windres.
> 
> I patched tools/GETVERSION to fix up this problem.  It removes
> the trailing M or S and removes anything up to an including a
> colon, so it reports the highest version in the range.  If there
> are still non-digits in there it makes the version string "0"
> (not useful, but doesn't kill the build with a noninformative
> error message).
> 
> I ran into another problem with the trailing 'M' from svnversion
> when doing 'make rinstaller' in R_HOME/src/gnuwin32:
>    E:\R\R-svn\r-devel\src\gnuwin32\installer>type R-2.8.0dev.log
>    Inno Setup 5 Command-Line Compiler
>    ...
>    Compiler engine version: Inno Setup 5.2.3 (ISPP 5.2.3.0)
>    ...
>    [ISPP] Preprocessing.
>    ...
>    [ISPP] Preprocessed.
>    Parsing [Setup] section, line 10
>    ...
>    Parsing [Setup] section, line 20
>    Error on line 12 in e:\R\R-svn\r-devel\src\gnuwin32\installer\R.iss: Value of
> [Setup] section directive "VersionInfoVersion" is invalid.
>    Compile aborted.
> The offending line 12 in R.iss is
>     12  VersionInfoVersion=2.8.0.45381M
> and it is put there by src/gnuwin32/installer/JRins.pl.
> 
> I patched JRins.pl to ensure the svn revision consisted
> of only digits.
> 
> Then I could build R on Windows (make distribution)
> with USE_SVNVERSION=yes set in src/gnuwin32/MkRules
> and with a variety of svn revision settings.
> 
> Index: src/gnuwin32/installer/JRins.pl
> ===================================================================
> --- src/gnuwin32/installer/JRins.pl     (revision 45553)
> +++ src/gnuwin32/installer/JRins.pl     (working copy)
> @@ -44,6 +44,11 @@
>  $SVN = <ver>;
>  close ver;
>  $SVN =~s/Revision: //;
> +## inno setup requires that SVN be all numeric, not 123M, 120:123, "unknown",
> or empty
> +$SVN =~s/[MS]* *$//;
> +$SVN =~s/^.*://;
> +$SVN =~s/[^0-9]//g;
> +$SVN =~s/^$/0/;
>  $RVER0 .= "." . $SVN;
> 
>  open insfile, "> R.iss" || die "Cannot open R.iss\n";
> Index: tools/GETVERSION
> ===================================================================
> --- tools/GETVERSION    (revision 45479)
> +++ tools/GETVERSION    (working copy)
> @@ -24,6 +24,7 @@
>      y1=6
>      svn_rev=unknown
>    fi
> +  all_numeric_svn_rev=`echo ${svn_rev}|sed -e 's/[MS]*$//' -e 's/^.*://' -e
> 's/[^0-9]//g' -e 's/^$/0/'`
>    echo "/* Rversion.h.  Generated automatically. */"
>    echo "#ifndef R_VERSION_H"
>    echo "#define R_VERSION_H"
> @@ -43,7 +44,7 @@
>    echo "#define R_SVN_REVISION \"${svn_rev}\""
>  ## Using 1-digit year stops problems with leading zeros
>  #  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${y1}${m}${d},0"
> -  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${svn_rev},0"
> +  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${all_numeric_svn_rev},0"
>    echo
>    echo '#ifdef __cplusplus'
>    echo '}'
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Tue Apr 29 22:10:32 2008
From: murdoch at stats.uwo.ca (murdoch at stats.uwo.ca)
Date: Tue, 29 Apr 2008 22:10:32 +0200 (CEST)
Subject: [Rd] non-digits in svnversion output mess up windows build if
	(PR#11340)
Message-ID: <20080429201051.09903282EF48@mail.pubhealth.ku.dk>

This is not a bug, it's a feature.

It stops me from distributing versions with unintentional uncommitted 
changes.

Duncan Murdoch

On 29/04/2008 2:30 PM, bill at insightful.com wrote:
> Full_Name: Bill Dunlap
> Version: 2.8.0dev
> OS: Windows XP
> Submission from: (NULL) (70.98.76.47)
> 
> 
> I tried for the first time to build R from source on Windows, where I
> got the source code via svn.  Per the Installation and Administration
> manual, I altered src\gnuwin32\MkRules so it had the the locally
> correct paths to HTML Help Workshop and Inno Setup 5.  I also set
> USE_SVNVERSION=yes, as suggested in MkRules itself.  Then, while in
> the directory src/gnuwin32 I ran 'make all recommended' and got an
> error from windres very early in the build:
> 
>   E:\R\R-svn\r-devel\src\gnuwin32>make all recommended
>   make --no-print-directory -C front-ends Rpwd
>   make -C ../../include -f Makefile.win version
>   make Rpwd.exe
>   gcc  -std=gnu99 -I../../include  -O3 -Wall -pedantic  -c rpwd.c -o rpwd.o
>   windres --preprocessor="gcc -E -xc -DRC_INVOKED"   -i rcico.rc -o rcico.o
>   c:\Rtools\MinGW\bin\windres.exe: rcico.rc:9: syntax error
>   make[3]: *** [rcico.o] Error 1
>   make[2]: *** [Rpwd] Error 2
>   make[1]: *** [front-ends/Rpwd.exe] Error 2
>   make: *** [all] Error 2
> 
> Line 9 of src\gnuwin32\front-ends\rcico.rc is
>   FILEVERSION R_FILEVERSION
> The problem was that my change to MkRules caused 'svnversion' to put an
> 'M' (modified) on the end of the svn version it reports.  This svn
> version number is used in the R_FILEVERSION macro, which is used in in
> the *.rc files.  The resource file compiler, windres, appears to choke on
> non-digits in R_FILEVERSION.  (A comment in tools\GETVERSION indicates
> it might choke on leading 0's as well.)
> 
> svnversion can also output a string of the form "123:125"
> to mean the current source is from a variety of svn revisions,
> between 123 through 125.  An "M" or "S" may also be appended.
> If you don't have Subversion installed then you might get
> a svn version of "unknown".  None of these non-digits is
> acceptble to windres.
> 
> I patched tools/GETVERSION to fix up this problem.  It removes
> the trailing M or S and removes anything up to an including a
> colon, so it reports the highest version in the range.  If there
> are still non-digits in there it makes the version string "0"
> (not useful, but doesn't kill the build with a noninformative
> error message).
> 
> I ran into another problem with the trailing 'M' from svnversion
> when doing 'make rinstaller' in R_HOME/src/gnuwin32:
>    E:\R\R-svn\r-devel\src\gnuwin32\installer>type R-2.8.0dev.log
>    Inno Setup 5 Command-Line Compiler
>    ...
>    Compiler engine version: Inno Setup 5.2.3 (ISPP 5.2.3.0)
>    ...
>    [ISPP] Preprocessing.
>    ...
>    [ISPP] Preprocessed.
>    Parsing [Setup] section, line 10
>    ...
>    Parsing [Setup] section, line 20
>    Error on line 12 in e:\R\R-svn\r-devel\src\gnuwin32\installer\R.iss: Value of
> [Setup] section directive "VersionInfoVersion" is invalid.
>    Compile aborted.
> The offending line 12 in R.iss is
>     12  VersionInfoVersion=2.8.0.45381M
> and it is put there by src/gnuwin32/installer/JRins.pl.
> 
> I patched JRins.pl to ensure the svn revision consisted
> of only digits.
> 
> Then I could build R on Windows (make distribution)
> with USE_SVNVERSION=yes set in src/gnuwin32/MkRules
> and with a variety of svn revision settings.
> 
> Index: src/gnuwin32/installer/JRins.pl
> ===================================================================
> --- src/gnuwin32/installer/JRins.pl     (revision 45553)
> +++ src/gnuwin32/installer/JRins.pl     (working copy)
> @@ -44,6 +44,11 @@
>  $SVN = <ver>;
>  close ver;
>  $SVN =~s/Revision: //;
> +## inno setup requires that SVN be all numeric, not 123M, 120:123, "unknown",
> or empty
> +$SVN =~s/[MS]* *$//;
> +$SVN =~s/^.*://;
> +$SVN =~s/[^0-9]//g;
> +$SVN =~s/^$/0/;
>  $RVER0 .= "." . $SVN;
> 
>  open insfile, "> R.iss" || die "Cannot open R.iss\n";
> Index: tools/GETVERSION
> ===================================================================
> --- tools/GETVERSION    (revision 45479)
> +++ tools/GETVERSION    (working copy)
> @@ -24,6 +24,7 @@
>      y1=6
>      svn_rev=unknown
>    fi
> +  all_numeric_svn_rev=`echo ${svn_rev}|sed -e 's/[MS]*$//' -e 's/^.*://' -e
> 's/[^0-9]//g' -e 's/^$/0/'`
>    echo "/* Rversion.h.  Generated automatically. */"
>    echo "#ifndef R_VERSION_H"
>    echo "#define R_VERSION_H"
> @@ -43,7 +44,7 @@
>    echo "#define R_SVN_REVISION \"${svn_rev}\""
>  ## Using 1-digit year stops problems with leading zeros
>  #  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${y1}${m}${d},0"
> -  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${svn_rev},0"
> +  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${all_numeric_svn_rev},0"
>    echo
>    echo '#ifdef __cplusplus'
>    echo '}'
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From wuolong at gmail.com  Tue Apr 29 22:26:47 2008
From: wuolong at gmail.com (Michael)
Date: Tue, 29 Apr 2008 15:26:47 -0500
Subject: [Rd] build packages with vignettes in Windows
References: <6vprs88uu6.fsf@gmail.com> <481768EC.50008@stats.uwo.ca>
Message-ID: <y763u08l14.fsf@gmail.com>

On 29 Apr 2008, Duncan Murdoch wrote:

> On 29/04/2008 12:54 PM, Michael wrote:
> > I've been trying to build a Windows binary of a package of mine without
> > success.  It seems that the files under inst/doc throw the script off.
> >

> > I am using the command 'Rcmd INSTALL --build'.
> >
> > ---------- Making package genepi ------------
> >   adding build stamp to DESCRIPTION
> >   installing NAMESPACE file and metadata
> >   installing R files
> >   installing inst files
> > FIND: Parameter format not correct

> That looks as though you don't have the tools installed correctly, you have
> some other "find" earlier on your path.

Thanks, I didn't let the Rtools Installer to update the PATH variable for me
because it says 'restart is required' which I didn't want to do, since I can
update the environment variable without rebooting Windows.

Michael


From murdoch at stats.uwo.ca  Tue Apr 29 22:55:58 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 29 Apr 2008 16:55:58 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <y763u08l14.fsf@gmail.com>
References: <6vprs88uu6.fsf@gmail.com> <481768EC.50008@stats.uwo.ca>
	<y763u08l14.fsf@gmail.com>
Message-ID: <48178B5E.80603@stats.uwo.ca>

On 29/04/2008 4:26 PM, Michael wrote:
> On 29 Apr 2008, Duncan Murdoch wrote:
> 
>> On 29/04/2008 12:54 PM, Michael wrote:
>>> I've been trying to build a Windows binary of a package of mine without
>>> success.  It seems that the files under inst/doc throw the script off.
>>>
> 
>>> I am using the command 'Rcmd INSTALL --build'.
>>>
>>> ---------- Making package genepi ------------
>>>   adding build stamp to DESCRIPTION
>>>   installing NAMESPACE file and metadata
>>>   installing R files
>>>   installing inst files
>>> FIND: Parameter format not correct
> 
>> That looks as though you don't have the tools installed correctly, you have
>> some other "find" earlier on your path.
> 
> Thanks, I didn't let the Rtools Installer to update the PATH variable for me
> because it says 'restart is required' which I didn't want to do, since I can
> update the environment variable without rebooting Windows.

Right, you don't need to set the system path for everything, but you do 
need to set it in CMD (or other shell) before running Rcmd.

Duncan Murdoch


From bill at insightful.com  Tue Apr 29 23:05:09 2008
From: bill at insightful.com (Bill Dunlap)
Date: Tue, 29 Apr 2008 14:05:09 -0700 (PDT)
Subject: [Rd] non-digits in svnversion output mess up windows build if
 USE_SVNVERSION=yes (PR#11339)
In-Reply-To: <48178017.2050403@stats.uwo.ca>
References: <20080429183012.789FA282EF48@mail.pubhealth.ku.dk>
	<48178017.2050403@stats.uwo.ca>
Message-ID: <Pine.GSO.4.56.0804291342390.14834@devsun3201.insightful.com>

On Tue, 29 Apr 2008, Duncan Murdoch wrote:

> This is not a bug, it's a feature.
>
> It stops me from distributing versions with unintentional uncommitted
> changes.

It does have that effect, but the error messages
are pretty obscure:
    c:\Rtools\MinGW\bin\windres.exe: rcico.rc:9: syntax error
and
    Error on line 12 in
    e:\R\R-svn\r-devel\src\gnuwin32\installer\R.iss: Value of [Setup]
    section directive "VersionInfoVersion" is invalid.

Both problems are Windows-specific and the desire to not distribute
versions with unintentional uncommitted uncommitted changes is not
Windows-specific.

Note that the rcico.rc problem arises as the first step of compiling R
on Windows from clean source tree, so you cannot even test a proposed
change.  I ran into it because I had to change src/gnuwin32/MkRules to
say that I put Inno Setup in its standard place, "C:/Program Files/Inno
Setup 5", and not in "C:/packages/inno".

I guess I don't need to have USE_SVNVERSION=yes, but doing that means
that version$"svn rev" shows me I have a non-standard version:  that
will show the svn version as something like "123M" or "123:145S".  It
is too bad it only is available on the Windows build.  I think it would
be a good thing to have on the non-Windows builds also.  They use 'svn
info' instead, which does not tell you that the local version is not
the standard one.

If we did that on all platforms then we could check the disribution by
checking that !is.na(as.integer(svn$"svn rev")).

It might also be nice to include the output of 'svn diff' in the
distribution so a user or tester could see how this version was
different than the official one.

> On 29/04/2008 2:30 PM, bill at insightful.com wrote:
> > Full_Name: Bill Dunlap
> > Version: 2.8.0dev
> > OS: Windows XP
> > Submission from: (NULL) (70.98.76.47)
> >
> >
> > I tried for the first time to build R from source on Windows, where I
> > got the source code via svn.  Per the Installation and Administration
> > manual, I altered src\gnuwin32\MkRules so it had the the locally
> > correct paths to HTML Help Workshop and Inno Setup 5.  I also set
> > USE_SVNVERSION=yes, as suggested in MkRules itself.  Then, while in
> > the directory src/gnuwin32 I ran 'make all recommended' and got an
> > error from windres very early in the build:
> >
> >   E:\R\R-svn\r-devel\src\gnuwin32>make all recommended
> >   make --no-print-directory -C front-ends Rpwd
> >   make -C ../../include -f Makefile.win version
> >   make Rpwd.exe
> >   gcc  -std=gnu99 -I../../include  -O3 -Wall -pedantic  -c rpwd.c -o rpwd.o
> >   windres --preprocessor="gcc -E -xc -DRC_INVOKED"   -i rcico.rc -o rcico.o
> >   c:\Rtools\MinGW\bin\windres.exe: rcico.rc:9: syntax error
> >   make[3]: *** [rcico.o] Error 1
> >   make[2]: *** [Rpwd] Error 2
> >   make[1]: *** [front-ends/Rpwd.exe] Error 2
> >   make: *** [all] Error 2
> >
> > Line 9 of src\gnuwin32\front-ends\rcico.rc is
> >   FILEVERSION R_FILEVERSION
> > The problem was that my change to MkRules caused 'svnversion' to put an
> > 'M' (modified) on the end of the svn version it reports.  This svn
> > version number is used in the R_FILEVERSION macro, which is used in in
> > the *.rc files.  The resource file compiler, windres, appears to choke on
> > non-digits in R_FILEVERSION.  (A comment in tools\GETVERSION indicates
> > it might choke on leading 0's as well.)
> >
> > svnversion can also output a string of the form "123:125"
> > to mean the current source is from a variety of svn revisions,
> > between 123 through 125.  An "M" or "S" may also be appended.
> > If you don't have Subversion installed then you might get
> > a svn version of "unknown".  None of these non-digits is
> > acceptble to windres.
> >
> > I patched tools/GETVERSION to fix up this problem.  It removes
> > the trailing M or S and removes anything up to an including a
> > colon, so it reports the highest version in the range.  If there
> > are still non-digits in there it makes the version string "0"
> > (not useful, but doesn't kill the build with a noninformative
> > error message).
> >
> > I ran into another problem with the trailing 'M' from svnversion
> > when doing 'make rinstaller' in R_HOME/src/gnuwin32:
> >    E:\R\R-svn\r-devel\src\gnuwin32\installer>type R-2.8.0dev.log
> >    Inno Setup 5 Command-Line Compiler
> >    ...
> >    Compiler engine version: Inno Setup 5.2.3 (ISPP 5.2.3.0)
> >    ...
> >    [ISPP] Preprocessing.
> >    ...
> >    [ISPP] Preprocessed.
> >    Parsing [Setup] section, line 10
> >    ...
> >    Parsing [Setup] section, line 20
> >    Error on line 12 in e:\R\R-svn\r-devel\src\gnuwin32\installer\R.iss: Value of
> > [Setup] section directive "VersionInfoVersion" is invalid.
> >    Compile aborted.
> > The offending line 12 in R.iss is
> >     12  VersionInfoVersion=2.8.0.45381M
> > and it is put there by src/gnuwin32/installer/JRins.pl.
> >
> > I patched JRins.pl to ensure the svn revision consisted
> > of only digits.
> >
> > Then I could build R on Windows (make distribution)
> > with USE_SVNVERSION=yes set in src/gnuwin32/MkRules
> > and with a variety of svn revision settings.
> >
> > Index: src/gnuwin32/installer/JRins.pl
> > ===================================================================
> > --- src/gnuwin32/installer/JRins.pl     (revision 45553)
> > +++ src/gnuwin32/installer/JRins.pl     (working copy)
> > @@ -44,6 +44,11 @@
> >  $SVN = <ver>;
> >  close ver;
> >  $SVN =~s/Revision: //;
> > +## inno setup requires that SVN be all numeric, not 123M, 120:123, "unknown",
> > or empty
> > +$SVN =~s/[MS]* *$//;
> > +$SVN =~s/^.*://;
> > +$SVN =~s/[^0-9]//g;
> > +$SVN =~s/^$/0/;
> >  $RVER0 .= "." . $SVN;
> >
> >  open insfile, "> R.iss" || die "Cannot open R.iss\n";
> > Index: tools/GETVERSION
> > ===================================================================
> > --- tools/GETVERSION    (revision 45479)
> > +++ tools/GETVERSION    (working copy)
> > @@ -24,6 +24,7 @@
> >      y1=6
> >      svn_rev=unknown
> >    fi
> > +  all_numeric_svn_rev=`echo ${svn_rev}|sed -e 's/[MS]*$//' -e 's/^.*://' -e
> > 's/[^0-9]//g' -e 's/^$/0/'`
> >    echo "/* Rversion.h.  Generated automatically. */"
> >    echo "#ifndef R_VERSION_H"
> >    echo "#define R_VERSION_H"
> > @@ -43,7 +44,7 @@
> >    echo "#define R_SVN_REVISION \"${svn_rev}\""
> >  ## Using 1-digit year stops problems with leading zeros
> >  #  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${y1}${m}${d},0"
> > -  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${svn_rev},0"
> > +  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${all_numeric_svn_rev},0"
> >    echo
> >    echo '#ifdef __cplusplus'
> >    echo '}'
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
>
>

----------------------------------------------------------------------------
Bill Dunlap
Insightful Corporation
bill at insightful dot com
360-428-8146

 "All statements in this message represent the opinions of the author and do
 not necessarily reflect Insightful Corporation policy or position."


From bill at insightful.com  Tue Apr 29 23:10:11 2008
From: bill at insightful.com (bill at insightful.com)
Date: Tue, 29 Apr 2008 23:10:11 +0200 (CEST)
Subject: [Rd] non-digits in svnversion output mess up windows build if
	(PR#11341)
Message-ID: <20080429211011.45891282EF48@mail.pubhealth.ku.dk>

On Tue, 29 Apr 2008, Duncan Murdoch wrote:

> This is not a bug, it's a feature.
>
> It stops me from distributing versions with unintentional uncommitted
> changes.

It does have that effect, but the error messages
are pretty obscure:
    c:\Rtools\MinGW\bin\windres.exe: rcico.rc:9: syntax error
and
    Error on line 12 in
    e:\R\R-svn\r-devel\src\gnuwin32\installer\R.iss: Value of [Setup]
    section directive "VersionInfoVersion" is invalid.

Both problems are Windows-specific and the desire to not distribute
versions with unintentional uncommitted uncommitted changes is not
Windows-specific.

Note that the rcico.rc problem arises as the first step of compiling R
on Windows from clean source tree, so you cannot even test a proposed
change.  I ran into it because I had to change src/gnuwin32/MkRules to
say that I put Inno Setup in its standard place, "C:/Program Files/Inno
Setup 5", and not in "C:/packages/inno".

I guess I don't need to have USE_SVNVERSION=yes, but doing that means
that version$"svn rev" shows me I have a non-standard version:  that
will show the svn version as something like "123M" or "123:145S".  It
is too bad it only is available on the Windows build.  I think it would
be a good thing to have on the non-Windows builds also.  They use 'svn
info' instead, which does not tell you that the local version is not
the standard one.

If we did that on all platforms then we could check the disribution by
checking that !is.na(as.integer(svn$"svn rev")).

It might also be nice to include the output of 'svn diff' in the
distribution so a user or tester could see how this version was
different than the official one.

> On 29/04/2008 2:30 PM, bill at insightful.com wrote:
> > Full_Name: Bill Dunlap
> > Version: 2.8.0dev
> > OS: Windows XP
> > Submission from: (NULL) (70.98.76.47)
> >
> >
> > I tried for the first time to build R from source on Windows, where I
> > got the source code via svn.  Per the Installation and Administration
> > manual, I altered src\gnuwin32\MkRules so it had the the locally
> > correct paths to HTML Help Workshop and Inno Setup 5.  I also set
> > USE_SVNVERSION=yes, as suggested in MkRules itself.  Then, while in
> > the directory src/gnuwin32 I ran 'make all recommended' and got an
> > error from windres very early in the build:
> >
> >   E:\R\R-svn\r-devel\src\gnuwin32>make all recommended
> >   make --no-print-directory -C front-ends Rpwd
> >   make -C ../../include -f Makefile.win version
> >   make Rpwd.exe
> >   gcc  -std=gnu99 -I../../include  -O3 -Wall -pedantic  -c rpwd.c -o rpwd.o
> >   windres --preprocessor="gcc -E -xc -DRC_INVOKED"   -i rcico.rc -o rcico.o
> >   c:\Rtools\MinGW\bin\windres.exe: rcico.rc:9: syntax error
> >   make[3]: *** [rcico.o] Error 1
> >   make[2]: *** [Rpwd] Error 2
> >   make[1]: *** [front-ends/Rpwd.exe] Error 2
> >   make: *** [all] Error 2
> >
> > Line 9 of src\gnuwin32\front-ends\rcico.rc is
> >   FILEVERSION R_FILEVERSION
> > The problem was that my change to MkRules caused 'svnversion' to put an
> > 'M' (modified) on the end of the svn version it reports.  This svn
> > version number is used in the R_FILEVERSION macro, which is used in in
> > the *.rc files.  The resource file compiler, windres, appears to choke on
> > non-digits in R_FILEVERSION.  (A comment in tools\GETVERSION indicates
> > it might choke on leading 0's as well.)
> >
> > svnversion can also output a string of the form "123:125"
> > to mean the current source is from a variety of svn revisions,
> > between 123 through 125.  An "M" or "S" may also be appended.
> > If you don't have Subversion installed then you might get
> > a svn version of "unknown".  None of these non-digits is
> > acceptble to windres.
> >
> > I patched tools/GETVERSION to fix up this problem.  It removes
> > the trailing M or S and removes anything up to an including a
> > colon, so it reports the highest version in the range.  If there
> > are still non-digits in there it makes the version string "0"
> > (not useful, but doesn't kill the build with a noninformative
> > error message).
> >
> > I ran into another problem with the trailing 'M' from svnversion
> > when doing 'make rinstaller' in R_HOME/src/gnuwin32:
> >    E:\R\R-svn\r-devel\src\gnuwin32\installer>type R-2.8.0dev.log
> >    Inno Setup 5 Command-Line Compiler
> >    ...
> >    Compiler engine version: Inno Setup 5.2.3 (ISPP 5.2.3.0)
> >    ...
> >    [ISPP] Preprocessing.
> >    ...
> >    [ISPP] Preprocessed.
> >    Parsing [Setup] section, line 10
> >    ...
> >    Parsing [Setup] section, line 20
> >    Error on line 12 in e:\R\R-svn\r-devel\src\gnuwin32\installer\R.iss: Value of
> > [Setup] section directive "VersionInfoVersion" is invalid.
> >    Compile aborted.
> > The offending line 12 in R.iss is
> >     12  VersionInfoVersion=2.8.0.45381M
> > and it is put there by src/gnuwin32/installer/JRins.pl.
> >
> > I patched JRins.pl to ensure the svn revision consisted
> > of only digits.
> >
> > Then I could build R on Windows (make distribution)
> > with USE_SVNVERSION=yes set in src/gnuwin32/MkRules
> > and with a variety of svn revision settings.
> >
> > Index: src/gnuwin32/installer/JRins.pl
> > ===================================================================
> > --- src/gnuwin32/installer/JRins.pl     (revision 45553)
> > +++ src/gnuwin32/installer/JRins.pl     (working copy)
> > @@ -44,6 +44,11 @@
> >  $SVN = <ver>;
> >  close ver;
> >  $SVN =~s/Revision: //;
> > +## inno setup requires that SVN be all numeric, not 123M, 120:123, "unknown",
> > or empty
> > +$SVN =~s/[MS]* *$//;
> > +$SVN =~s/^.*://;
> > +$SVN =~s/[^0-9]//g;
> > +$SVN =~s/^$/0/;
> >  $RVER0 .= "." . $SVN;
> >
> >  open insfile, "> R.iss" || die "Cannot open R.iss\n";
> > Index: tools/GETVERSION
> > ===================================================================
> > --- tools/GETVERSION    (revision 45479)
> > +++ tools/GETVERSION    (working copy)
> > @@ -24,6 +24,7 @@
> >      y1=6
> >      svn_rev=unknown
> >    fi
> > +  all_numeric_svn_rev=`echo ${svn_rev}|sed -e 's/[MS]*$//' -e 's/^.*://' -e
> > 's/[^0-9]//g' -e 's/^$/0/'`
> >    echo "/* Rversion.h.  Generated automatically. */"
> >    echo "#ifndef R_VERSION_H"
> >    echo "#define R_VERSION_H"
> > @@ -43,7 +44,7 @@
> >    echo "#define R_SVN_REVISION \"${svn_rev}\""
> >  ## Using 1-digit year stops problems with leading zeros
> >  #  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${y1}${m}${d},0"
> > -  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${svn_rev},0"
> > +  echo "#define R_FILEVERSION    ${maj},${pl}${sl},${all_numeric_svn_rev},0"
> >    echo
> >    echo '#ifdef __cplusplus'
> >    echo '}'
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
>
>

----------------------------------------------------------------------------
Bill Dunlap
Insightful Corporation
bill at insightful dot com
360-428-8146

 "All statements in this message represent the opinions of the author and do
 not necessarily reflect Insightful Corporation policy or position."


From ggrothendieck at gmail.com  Tue Apr 29 23:32:56 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 29 Apr 2008 17:32:56 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <48177E45.4050607@stats.uwo.ca>
References: <6vprs88uu6.fsf@gmail.com> <481768EC.50008@stats.uwo.ca>
	<971536df0804291151m645d7428xeb7a11afd41a8915@mail.gmail.com>
	<48177E45.4050607@stats.uwo.ca>
Message-ID: <971536df0804291432y64d40086q143c3d510c8c9930@mail.gmail.com>

On Tue, Apr 29, 2008 at 4:00 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 29/04/2008 2:51 PM, Gabor Grothendieck wrote:
> > The use of the UNIX find command on Windows makes installation
> > very troublesome and fragile.   I wonder if you could include a
> > find2 or somesuch with the tools and change the scripts to use that
> > getting rid of find or use just use the Windows find command in the
> > scripts.  Or some other solution so that one does not have to have
> > a non-Windows find on the PATH.
> >
>
> Find isn't unique:  there are lots of versions of make, and grep, and tar
> that don't work, either.  We've adopted a simple solution, and it works:

It only works if you are very careful and actually it doesn't work because
it does not preserve Windows functionality for other programs.

> when you're using the R tools, put them first on the path.

That's not comparable because find comes with Windows whereas
those other programs you mention are addons.


From bill at insightful.com  Wed Apr 30 00:30:01 2008
From: bill at insightful.com (Bill Dunlap)
Date: Tue, 29 Apr 2008 15:30:01 -0700 (PDT)
Subject: [Rd] reproducible segmentation fault caused by textConnection()
In-Reply-To: <Pine.GSO.4.56.0804290924510.14834@devsun3201.insightful.com>
References: <4817280C.4050701@ebi.ac.uk>
	<Pine.GSO.4.56.0804290924510.14834@devsun3201.insightful.com>
Message-ID: <Pine.GSO.4.56.0804291525200.14834@devsun3201.insightful.com>

If you call gctorture(TRUE) the error happens immediately,
at the same place.
    2064                PROTECT(tmp = lengthgets(this->data, ++this->len));

Is this a case where PROTECT_WITH_INDEX() and REPROTECT()
need to be used (in connections.c)?  Could lengthgets (used
by the SET_LENGTH() macro) be changed to propogate the protection
status?  It looks like it always requires protection tricks
to use.
	Bill

On Tue, 29 Apr 2008, Bill Dunlap wrote:

> On Tue, 29 Apr 2008, Gregoire Pau wrote:
>
> > Dear all,
> >
> > It seems that textConnection() can trigger a segmentation fault. The
> > following script (using two large loops) makes this bug reproducible:
> >
> > for (i in 1:10000) {
> >    z=textConnection(NULL,open='w')
> >    for (j in 1:100) {
> >      write(runif(1)*1e6,file=z)
> >      write('\n',file=z)
> >    }
> >    close(z)
> > }
> >
> > The bug could be reproduced on R-2.6.1, R-2.7.0 and on the latest
> > R-devel 2008-04-29 r45543.
>
> valgrind shows that it uses freed memory after
> a garbage collecting episode (after many iterations),
> because a Routtextconn's 'data' component was freed:
>
>    ==24210== Invalid read of size 1
>    ==24210==    at 0x810B328: Rf_lengthgets (Rinlinedfuns.h:358)
>    ==24210==    by 0x8121C48: text_vfprintf (connections.c:2064)
>    ==24210==    by 0x809D0C1: Rvprintf (printutils.c:770)
>    ==24210==    by 0x809D105: Rprintf (printutils.c:668)
>    ==24210==    by 0x810A984: do_cat (builtin.c:617)
>    ==24210==  Address 0x5823CD8 is 0 bytes inside a block of size 1,176 free'd
>    ==24210==    at 0x40052A3: free (vg_replace_malloc.c:233)
>    ==24210==    by 0x805AC3D: R_gc_internal (memory.c:769)
>    ==24210==    by 0x805B873: Rf_cons (memory.c:1757)
>    ==24210==    by 0x81571F6: Rf_promiseArgs (eval.c:1633)
>
>    (gdb) where 5
>    #0  Rf_lengthgets (x=0x5823cd8, len=289)
>        at ../../src/include/Rinlinedfuns.h:358
>    #1  0x08121c49 in text_vfprintf (con=0x500f280, format=0x81e64d8 "\n",
>     ap=0xbef18b84 "?\213??") at connections.c:2064
>    #2  0x0809d0c2 in Rvprintf (format=0x81e64d8 "\n", arg=0xbef18b84 "?\213??")
>        at printutils.c:770
>    #3  0x0809d106 in Rprintf (format=0x81e64d8 "\n") at printutils.c:668
>    #4  0x0810a985 in do_cat (call=0x4ae31f0, op=0x4104eec, args=0x55bb2bc,
>        rho=0x55baf20) at builtin.c:617
>    (More stack frames follow...)
>    (gdb) up
>    #1  0x08121c49 in text_vfprintf (con=0x500f280, format=0x81e64d8 "\n",
>        ap=0xbef18b84 "?\213??") at connections.c:2064
>    2064                PROTECT(tmp = lengthgets(this->data, ++this->len));
>    (gdb) print this->data
>    $1 = 0x5823cd8
>    (gdb) whatis this
>    type = Routtextconn
>    (gdb) whatis this->data
>    type = SEXP
>    (gdb) print *this->data
>    $2 = {sxpinfo = {type = 16, obj = 0, named = 2, gp = 0, mark = 0, debug = 0,
>      trace = 0, spare = 0, gcgen = 0, gccls = 7}, attrib = 0x40ae088,
>      gengc_next_node = 0x8235270, gengc_prev_node = 0x8235270, u = {primsxp = {
>      offset = 288}, symsxp = {pname = 0x120, value = 0x0,
>      internal = 0x57685c0}, listsxp = {carval = 0x120, cdrval = 0x0,
>      tagval = 0x57685c0}, envsxp = {frame = 0x120, enclos = 0x0,
>      hashtab = 0x57685c0}, closxp = {formals = 0x120, body = 0x0,
>      env = 0x57685c0}, promsxp = {value = 0x120, expr = 0x0,
>      env = 0x57685c0}}}

----------------------------------------------------------------------------
Bill Dunlap
Insightful Corporation
bill at insightful dot com
360-428-8146

 "All statements in this message represent the opinions of the author and do
 not necessarily reflect Insightful Corporation policy or position."


From maechler at stat.math.ethz.ch  Wed Apr 30 08:44:02 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 30 Apr 2008 08:44:02 +0200
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <48139CC2.8090801@stats.uwo.ca>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca> <4811F8A8.1050108@comcast.net>
	<f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>
	<481202A4.2030508@comcast.net>
	<eb555e660804251054kaabb1c4r237007ff5703ca5f@mail.gmail.com>
	<alpine.LFD.1.10.0804251931290.23000@gannet.stats.ox.ac.uk>
	<48139CC2.8090801@stats.uwo.ca>
Message-ID: <18456.5426.84057.765126@stat.math.ethz.ch>

>>>>> "DM" == Duncan Murdoch <murdoch at stats.uwo.ca>
>>>>>     on Sat, 26 Apr 2008 17:21:06 -0400 writes:

    DM> On 25/04/2008 2:47 PM, Prof Brian Ripley wrote:
    >> On Fri, 25 Apr 2008, Deepayan Sarkar wrote:
    >> 
    >>> For what it's worth, I use ?foo mostly to look up usage of functions
    >>> that I know I want to use, and find it perfect for that (one benefit
    >>> over help() is that completion works for ?). The only thing I miss is
    >>> the ability to do the equivalent of help("foo", package = "bar");
    >>> ?bar::foo gives the help page for "::". Perhaps that would be
    >>> something to consider for addition.
    >> 
    >> That fits most naturally with the (somewhat technical) idea that bar::foo 
    >> becomes a symbol and not a function call.  I believe that several of think 
    >> that is in principle a better idea, but no one has as yet (AFAIK) explored 
    >> the ramifications.
    >> 
    >> However, 5 mins looking at the sources suggests that it is easy to do.


    DM> And you already did.  Thanks!
indeed.

    DM> I'm going to make the following change soon (in R-devel).

    DM> ??foo

    DM> will now be like help.search("foo").  This will work with your change, 
    DM> so ??utils::foo will limit the search to the utils package.  This is 
    DM> also quite easy.  A more difficult thing I'd like to do is to broaden 
    DM> the search to look outside the man pages, but that's a lot harder, and I 
    DM> haven't started on it.

    DM> I will also follow Hadley's suggestion and change the format of the 
    DM> help.search results, so you can just cut and paste after a question mark 
    DM> to look up the particular topic, e.g.  ??foo gives

    DM> utils::citEntry         Writing Package CITATION Files

    DM> Type '?PKG::FOO' to inspect entry 'PKG::FOO TITLE'.

    DM> I haven't touched the case of ?foo failing; I'll want to try it for a 
    DM> while to decide whether I like it best as is:

    >> ?foo
    DM> No documentation for 'foo' in specified packages and libraries:
    DM> you could try '??foo'

    DM> or whether it should just automatically call help.search, or something 
    DM> in between.

Please the former, at least by default!
[The case of 1500 installed packages was mentioned before...]

Note one thing that hasn't been mentioned before:

help() has had the optional argument
       ' try.all.packages = getOption("help.try.all.packages") '
for many years now, and I have been involved in its history as
well but don't recall all details. IIRC,
help() {and hence "?"} used to *default* to  
'try.all.packages = TRUE' for a while and later it was the
default for me (and our whole statistics departmental unit).
But we found that it *was* inconvenient that a big search was
started, often just because of a typo.
So I think   ?<non-existing>  should ``answer quickly'' by
default.

Martin Maechler

    DM> Duncan Murdoch


From murdoch at stats.uwo.ca  Wed Apr 30 12:53:07 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 30 Apr 2008 06:53:07 -0400
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <18456.5426.84057.765126@stat.math.ethz.ch>
References: <48110D8B.10300@stats.uwo.ca>
	<48115131.7000402@comcast.net>	<4811B9EC.3010701@stats.uwo.ca>
	<4811F8A8.1050108@comcast.net>	<f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>	<481202A4.2030508@comcast.net>	<eb555e660804251054kaabb1c4r237007ff5703ca5f@mail.gmail.com>	<alpine.LFD.1.10.0804251931290.23000@gannet.stats.ox.ac.uk>	<48139CC2.8090801@stats.uwo.ca>
	<18456.5426.84057.765126@stat.math.ethz.ch>
Message-ID: <48184F93.5080901@stats.uwo.ca>

On 30/04/2008 2:44 AM, Martin Maechler wrote:
>>>>>> "DM" == Duncan Murdoch <murdoch at stats.uwo.ca>
>>>>>>     on Sat, 26 Apr 2008 17:21:06 -0400 writes:
> 
>     DM> On 25/04/2008 2:47 PM, Prof Brian Ripley wrote:
>     >> On Fri, 25 Apr 2008, Deepayan Sarkar wrote:
>     >> 
>     >>> For what it's worth, I use ?foo mostly to look up usage of functions
>     >>> that I know I want to use, and find it perfect for that (one benefit
>     >>> over help() is that completion works for ?). The only thing I miss is
>     >>> the ability to do the equivalent of help("foo", package = "bar");
>     >>> ?bar::foo gives the help page for "::". Perhaps that would be
>     >>> something to consider for addition.
>     >> 
>     >> That fits most naturally with the (somewhat technical) idea that bar::foo 
>     >> becomes a symbol and not a function call.  I believe that several of think 
>     >> that is in principle a better idea, but no one has as yet (AFAIK) explored 
>     >> the ramifications.
>     >> 
>     >> However, 5 mins looking at the sources suggests that it is easy to do.
> 
> 
>     DM> And you already did.  Thanks!
> indeed.
> 
>     DM> I'm going to make the following change soon (in R-devel).
> 
>     DM> ??foo
> 
>     DM> will now be like help.search("foo").  This will work with your change, 
>     DM> so ??utils::foo will limit the search to the utils package.  This is 
>     DM> also quite easy.  A more difficult thing I'd like to do is to broaden 
>     DM> the search to look outside the man pages, but that's a lot harder, and I 
>     DM> haven't started on it.
> 
>     DM> I will also follow Hadley's suggestion and change the format of the 
>     DM> help.search results, so you can just cut and paste after a question mark 
>     DM> to look up the particular topic, e.g.  ??foo gives
> 
>     DM> utils::citEntry         Writing Package CITATION Files
> 
>     DM> Type '?PKG::FOO' to inspect entry 'PKG::FOO TITLE'.
> 
>     DM> I haven't touched the case of ?foo failing; I'll want to try it for a 
>     DM> while to decide whether I like it best as is:
> 
>     >> ?foo
>     DM> No documentation for 'foo' in specified packages and libraries:
>     DM> you could try '??foo'
> 
>     DM> or whether it should just automatically call help.search, or something 
>     DM> in between.
> 
> Please the former, at least by default!
> [The case of 1500 installed packages was mentioned before...]
> 
> Note one thing that hasn't been mentioned before:
> 
> help() has had the optional argument
>        ' try.all.packages = getOption("help.try.all.packages") '
> for many years now, and I have been involved in its history as
> well but don't recall all details. IIRC,
> help() {and hence "?"} used to *default* to  
> 'try.all.packages = TRUE' for a while and later it was the
> default for me (and our whole statistics departmental unit).
> But we found that it *was* inconvenient that a big search was
> started, often just because of a typo.
> So I think   ?<non-existing>  should ``answer quickly'' by
> default.

Have you tried help.search() lately?  It is now very fast.  I haven't 
checked if help() makes use of the same search mechanism, but presumably 
it could do so, if speed is an issue.

So I would say the speed is a solvable or solved problem.

Duncan Murdoch


From ripley at stats.ox.ac.uk  Wed Apr 30 13:23:02 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 Apr 2008 12:23:02 +0100 (BST)
Subject: [Rd] RFC: What should ?foo do?
In-Reply-To: <48184F93.5080901@stats.uwo.ca>
References: <48110D8B.10300@stats.uwo.ca> <48115131.7000402@comcast.net>
	<4811B9EC.3010701@stats.uwo.ca> <4811F8A8.1050108@comcast.net>
	<f8e6ff050804250831g7198fe33s6e92a13ed7deb3ca@mail.gmail.com>
	<481202A4.2030508@comcast.net>
	<eb555e660804251054kaabb1c4r237007ff5703ca5f@mail.gmail.com>
	<alpine.LFD.1.10.0804251931290.23000@gannet.stats.ox.ac.uk>
	<48139CC2.8090801@stats.uwo.ca>
	<18456.5426.84057.765126@stat.math.ethz.ch>
	<48184F93.5080901@stats.uwo.ca>
Message-ID: <alpine.LFD.1.10.0804301201130.21332@gannet.stats.ox.ac.uk>

On Wed, 30 Apr 2008, Duncan Murdoch wrote:

> On 30/04/2008 2:44 AM, Martin Maechler wrote:
>>>>>>> "DM" == Duncan Murdoch <murdoch at stats.uwo.ca>
>>>>>>>     on Sat, 26 Apr 2008 17:21:06 -0400 writes:
>>
>>     DM> On 25/04/2008 2:47 PM, Prof Brian Ripley wrote:
>>     >> On Fri, 25 Apr 2008, Deepayan Sarkar wrote:
>>     >>     >>> For what it's worth, I use ?foo mostly to look up usage of 
>> functions
>>     >>> that I know I want to use, and find it perfect for that (one 
>> benefit
>>     >>> over help() is that completion works for ?). The only thing I miss 
>> is
>>     >>> the ability to do the equivalent of help("foo", package = "bar");
>>     >>> ?bar::foo gives the help page for "::". Perhaps that would be
>>     >>> something to consider for addition.
>>     >>     >> That fits most naturally with the (somewhat technical) idea 
>> that bar::foo     >> becomes a symbol and not a function call.  I believe 
>> that several of think     >> that is in principle a better idea, but no one 
>> has as yet (AFAIK) explored     >> the ramifications.
>>     >>     >> However, 5 mins looking at the sources suggests that it is 
>> easy to do.
>> 
>>
>>     DM> And you already did.  Thanks!
>> indeed.
>>
>>     DM> I'm going to make the following change soon (in R-devel).
>>
>>     DM> ??foo
>>
>>     DM> will now be like help.search("foo").  This will work with your 
>> change,     DM> so ??utils::foo will limit the search to the utils package. 
>> This is     DM> also quite easy.  A more difficult thing I'd like to do is 
>> to broaden     DM> the search to look outside the man pages, but that's a 
>> lot harder, and I     DM> haven't started on it.
>>
>>     DM> I will also follow Hadley's suggestion and change the format of the 
>> DM> help.search results, so you can just cut and paste after a question 
>> mark     DM> to look up the particular topic, e.g.  ??foo gives
>>
>>     DM> utils::citEntry         Writing Package CITATION Files
>>
>>     DM> Type '?PKG::FOO' to inspect entry 'PKG::FOO TITLE'.
>>
>>     DM> I haven't touched the case of ?foo failing; I'll want to try it for 
>> a     DM> while to decide whether I like it best as is:
>>
>>     >> ?foo
>>     DM> No documentation for 'foo' in specified packages and libraries:
>>     DM> you could try '??foo'
>>
>>     DM> or whether it should just automatically call help.search, or 
>> something     DM> in between.
>> 
>> Please the former, at least by default!
>> [The case of 1500 installed packages was mentioned before...]
>> 
>> Note one thing that hasn't been mentioned before:
>> 
>> help() has had the optional argument
>>        ' try.all.packages = getOption("help.try.all.packages") '
>> for many years now, and I have been involved in its history as
>> well but don't recall all details. IIRC,
>> help() {and hence "?"} used to *default* to  'try.all.packages = TRUE' for 
>> a while and later it was the
>> default for me (and our whole statistics departmental unit).
>> But we found that it *was* inconvenient that a big search was
>> started, often just because of a typo.
>> So I think   ?<non-existing>  should ``answer quickly'' by
>> default.
>
> Have you tried help.search() lately?  It is now very fast.  I haven't checked 
> if help() makes use of the same search mechanism, but presumably it could do 
> so, if speed is an issue.
>
> So I would say the speed is a solvable or solved problem.

There are some possible improvements as yet.  Hadley mentioned keeping 
binary indices -- we do per-package and could per-library.  Just opening 
1700 files can be quite slow on some systems -- this is one of the areas 
where you see the benefits of Unix-alike file systems.

A lot of the speed ups are generic, e.g. internal file.path.  I get

> system.time(help("linear", try.all.packages = TRUE))
    user  system elapsed
  10.948   2.620  37.808
> system.time(help.search("linear"))
    user  system elapsed
   8.219   0.432  28.358

so there is room for improvement in help().  However, the re-run

> system.time(help.search("linear"))
    user  system elapsed
   1.951   0.003   1.960

shows the benefits of caching.

(This is on a not particularly fast machine with all of CRAN and BioC 
installed, in UTF-8: and I know of some ways to improve performance in 
UTF-8.)

It's all a question of resources and who is prepared to contribute.
I sped help.search() up ca 3x because 100s was too slow for me -- 30s the 
first time in a session is OK.  (And incidentally disc caching means that 
the next session got

> system.time(help.search("linear"))
    user  system elapsed
   7.180   0.246   7.627

, so the main issue is disc access.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From rpeng at jhsph.edu  Wed Apr 30 14:39:07 2008
From: rpeng at jhsph.edu (Roger D. Peng [audrey])
Date: Wed, 30 Apr 2008 08:39:07 -0400
Subject: [Rd] [PATCH] Typo in 'help' documentation
Message-ID: <1209559147-19751-1-git-send-email-rpeng@jhsph.edu>

---
I think this should be "package is loaded" and not "library is
loaded".  At least, I can't see how it can be correct the way it's
currently written.

-roger

 src/library/utils/man/help.Rd |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git src/library/utils/man/help.Rd src/library/utils/man/help.Rd
index 5b0ed8e..783b0c2 100644
--- src/library/utils/man/help.Rd
+++ src/library/utils/man/help.Rd
@@ -135,7 +135,7 @@ type?topic
 \note{
   Unless \code{lib.loc} is specified explicitly, the loaded packages are
   searched before those in the specified libraries.  This ensures that
-  if a library is loaded from a library not in the known library trees,
+  if a package is loaded from a library not in the known library trees,
   then the help from the loaded library is used.  If \code{lib.loc} is
   specified explicitly, the loaded packages are \emph{not} searched.
 
-- 
1.5.5.1.99.gf0ec4


From j.van_den_hoff at fzd.de  Wed Apr 30 14:59:55 2008
From: j.van_den_hoff at fzd.de (Joerg van den Hoff)
Date: Wed, 30 Apr 2008 14:59:55 +0200
Subject: [Rd] weighted nonlinear fits: `nls' and `eval'
Message-ID: <20080430125955.GA19242@marco.fz-rossendorf.de>

2  days  ago  I  asked this on r-help, but no luck...  since
this is actually a programming  question,  I  post  it  here
again:

my question concerns the use of `eval' in defining the model
formula for `nls' when performing  weighted  fits.   (I  use
version  2.6.2., but according to NEWS there were no changes
to `nls' in 2.7.0, so the problem is still present). in this
scenario their exists a serious problem.

consider  the  following  simple  example,  where some fixed
model plus data are used  to  perform  both  unweighted  and
weighted  fits.  (I intentionally used very uneven weights to
guarantee large differences in the results.)

#================================CUT===========================
ln      <- 100
x       <- 1:ln
y0      <- exp(-.02*x)
y       <- rnorm(y0, y0, .01)

wts     <- rep(1, ln)
y[30]   <- 1.2*y[30]
wts[30] <- 1e3
model   <- y ~ exp(-k*x)

xydata  <- list(x=x, y=y)

#simple unweighted fit works as expected:
r0 <- nls(model, start = c(k=.01), data = list(x=x, y=y))

#simple weighted fit works as expected:
r1 <- nls(model, start = c(k=.01), data = xydata, weights = wts)

#this actually performs an unweighted fit (issuing a warning):
mdl <- model[[3]]
r2  <- nls(y ~ eval(mdl), start = c(k=.01), data = xydata, weights = wts)

#this, too, actually performs an unweighted fit (issuing a warning):
dv1 <- deriv(model, "k")
r3  <- nls(y ~ eval(dv1), start = c(k=.01), data = xydata, weights = wts)

#weighted fit, works as expected
dv2 <- deriv(model, "k", c("k", "x"))
r4  <- nls(y ~ dv2(k, x), start = c(k=.01), data = xydata, weights = wts)
#================================CUT===========================

if  you  copy  this  to  the  R  prompt you can see the fits
producing `r2' and `r3' do _not_ do what's intended. looking
at  the  source  code  of `nls' I get some ideas where it is
going wrong (in setting up the model  frame  in  `mf')  what
exactly is the problem.

moreover,  I found out that `r2'  and `r3'  can be convinced
to do what's intended by modifying `xydata' to

xydata  <- list(x=x, y=y, `(weights)` = wts)

i.e. by adding a `(weights)`  component to the `data' field.
but that probably is not the way to go ...

while it is clear that my example is artificial, there _are_
circumstances where `eval' constructs for defining the model
formula    occur   quite   naturally   when   writing   some
wrappers/drivers for `nls' usage.

questions:
==========

1.)  is  it actually not intended/supported to use `eval' in
defining the model formula argument of `nls'?   if  so,  why
not  (it's  a  legitimate  and  not  that  esoteric language
feature)?  or what am I missing (e.g. necessity  to  provide
explicitely  an  `envir'  argument  to  `eval'. if so, which
one)?

2.)  could/should  not  `nls' be modified to cleanly support
the use of  `eval'   (remarks  along  the  line  of  "submit
changes"  would  not  help much, I'm afraid :-))? apart from
the problem described here  there  are  others  where  `nls'
simply   parses   `eval'  based  formulas  not  as  intended
(erroneously) and bails out.

3.)  if  the  policy  of  the core group is that the current
state of affairs is quite perfect (an  assessement  which  I
would'nt  share),  should  not at least the manpage of `nls'
be augmented to warn people very clearly  that  any  use  of
`eval'  in  the model formula is calling for trouble.

I  find  the  example  above  especially  annoying: the fits
producing `r2'  and `r3' run apparently fine, only issuing a
warning,  which  sure  is  cryptic for joe user. so, if this
happens in some wrapper function provided to others (which I
do) they very well might believe having performed a weighted
fit when they did not.

thanks,

joerg


From hb at stat.berkeley.edu  Wed Apr 30 17:10:23 2008
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Wed, 30 Apr 2008 17:10:23 +0200
Subject: [Rd] Read/write file locking mechanism using SQL?
Message-ID: <59d7961d0804300810k7f8d6f25g875ed3ba1c8c8329@mail.gmail.com>

Hi,

I've got data stored in multiple files on a shared file system.  I
wish to have multiple processes/hosts read and write to these files
simultaneously.  When a process wish to write to a file no other
processes may write to nor read from the file.  If no process is
writing to the file, any number of processes may read from it.  ...and
the solution should be very simple and work automagically in the
background (no/minimal setup required by the user).

The above can be achieved via file locking mechanism where writers
need to require a write lock before writing, and readers need to
require a read lock before reading.  Any number of read locks can be
handed out, but only if no write lock is already in place.  Write
locks can only be obtained if no other locks (read or write) are
handed out.  The locking mechanism is per file.

I am locking for a cross platform solution in R that works on any file
system, i.e. I am not in control of the operating systems of the hosts
nor the file system where the data files are stored.  I've been
suggested to use, for instance, RSQLite database since it provides
atomic transactions (and is available on Windows, *nix & OSX).  I can
image to have a table where each entry is indexed by a file and it
keeps track of how many read and write locks are active.

Does anyone know of existing solution for this, or has ideas how this
could be implemented?  I appreciate any references/comments.

/Henrik


From wuolong at gmail.com  Wed Apr 30 17:56:59 2008
From: wuolong at gmail.com (Michael)
Date: Wed, 30 Apr 2008 10:56:59 -0500
Subject: [Rd] build packages with vignettes in Windows
References: <6vprs88uu6.fsf@gmail.com> <481768EC.50008@stats.uwo.ca>
	<y763u08l14.fsf@gmail.com> <48178B5E.80603@stats.uwo.ca>
Message-ID: <8vtzhj5oac.fsf@gmail.com>

On 29 Apr 2008, Duncan Murdoch wrote:
 
> Right, you don't need to set the system path for everything, but you do
> need to set it in CMD (or other shell) before running Rcmd.

For Win 2K/XP/Vista, the system path can be set (through the GUI interface,
not sure how to do it with scripts) without restarting, for new CMD
processes started afterwards.

Michael


From stephen.mcintyre at utoronto.ca  Wed Apr 30 15:00:04 2008
From: stephen.mcintyre at utoronto.ca (stephen.mcintyre at utoronto.ca)
Date: Wed, 30 Apr 2008 15:00:04 +0200 (CEST)
Subject: [Rd] apply and monthly time series (PR#11352)
Message-ID: <20080430130004.74F412834154@mail.pubhealth.ku.dk>

Full_Name: Stephen McIntyre
Version: 2.7
OS: Windows XP
Submission from: (NULL) (99.231.2.44)


When I use the apply function to calculate a trend for a matrix of monthly time
series, it yields a different answer than when the trend is calculated one at a
time (by a factor of 12) rather than the identical answer as it should. Here's
an example:
 
download.file("http://www.climateaudit.org/data/models/monthly.tab","temp.dat",mode="wb")
load("temp.dat")
trend= function(x)  lm(x~c(time(x)))$coef[2]
b= apply(monthly,2,trend)
a= c(trend(monthly[,1]),trend(monthly[,2]),trend(monthly[,3]))
a/b  #12 12 12


From gpau at ebi.ac.uk  Wed Apr 30 16:08:30 2008
From: gpau at ebi.ac.uk (Gregoire Pau)
Date: Wed, 30 Apr 2008 15:08:30 +0100
Subject: [Rd] reproducible segmentation fault caused by textConnection()
In-Reply-To: <Pine.GSO.4.56.0804290924510.14834@devsun3201.insightful.com>
References: <4817280C.4050701@ebi.ac.uk>
	<Pine.GSO.4.56.0804290924510.14834@devsun3201.insightful.com>
Message-ID: <48187D5E.3070401@ebi.ac.uk>

Dear Bill,

Thanks for having had a look on this bug. I am now using an anonymous 
file() connection to store my stuffs instead of textConnection(): it is 
much faster and doesn't raise any seg faults.

Regards,

Greg
---
Gregoire Pau
EMBL/EBI Cambridge, UK
http://www.ebi.ac.uk/~gpau

Bill Dunlap wrote:
> On Tue, 29 Apr 2008, Gregoire Pau wrote:
> 
>> Dear all,
>>
>> It seems that textConnection() can trigger a segmentation fault. The
>> following script (using two large loops) makes this bug reproducible:
>>
>> for (i in 1:10000) {
>>    z=textConnection(NULL,open='w')
>>    for (j in 1:100) {
>>      write(runif(1)*1e6,file=z)
>>      write('\n',file=z)
>>    }
>>    close(z)
>> }
>>
>> The bug could be reproduced on R-2.6.1, R-2.7.0 and on the latest
>> R-devel 2008-04-29 r45543.
> 
> valgrind shows that it uses freed memory after
> a garbage collecting episode (after many iterations),
> because a Routtextconn's 'data' component was freed:
> 
>    ==24210== Invalid read of size 1
>    ==24210==    at 0x810B328: Rf_lengthgets (Rinlinedfuns.h:358)
>    ==24210==    by 0x8121C48: text_vfprintf (connections.c:2064)
>    ==24210==    by 0x809D0C1: Rvprintf (printutils.c:770)
>    ==24210==    by 0x809D105: Rprintf (printutils.c:668)
>    ==24210==    by 0x810A984: do_cat (builtin.c:617)
>    ==24210==  Address 0x5823CD8 is 0 bytes inside a block of size 1,176 free'd
>    ==24210==    at 0x40052A3: free (vg_replace_malloc.c:233)
>    ==24210==    by 0x805AC3D: R_gc_internal (memory.c:769)
>    ==24210==    by 0x805B873: Rf_cons (memory.c:1757)
>    ==24210==    by 0x81571F6: Rf_promiseArgs (eval.c:1633)
> 
>    (gdb) where 5
>    #0  Rf_lengthgets (x=0x5823cd8, len=289)
>        at ../../src/include/Rinlinedfuns.h:358
>    #1  0x08121c49 in text_vfprintf (con=0x500f280, format=0x81e64d8 "\n",
>     ap=0xbef18b84 "?\213?") at connections.c:2064
>    #2  0x0809d0c2 in Rvprintf (format=0x81e64d8 "\n", arg=0xbef18b84 "?\213?")
>        at printutils.c:770
>    #3  0x0809d106 in Rprintf (format=0x81e64d8 "\n") at printutils.c:668
>    #4  0x0810a985 in do_cat (call=0x4ae31f0, op=0x4104eec, args=0x55bb2bc,
>        rho=0x55baf20) at builtin.c:617
>    (More stack frames follow...)
>    (gdb) up
>    #1  0x08121c49 in text_vfprintf (con=0x500f280, format=0x81e64d8 "\n",
>        ap=0xbef18b84 "?\213?") at connections.c:2064
>    2064                PROTECT(tmp = lengthgets(this->data, ++this->len));
>    (gdb) print this->data
>    $1 = 0x5823cd8
>    (gdb) whatis this
>    type = Routtextconn
>    (gdb) whatis this->data
>    type = SEXP
>    (gdb) print *this->data
>    $2 = {sxpinfo = {type = 16, obj = 0, named = 2, gp = 0, mark = 0, debug = 0,
>      trace = 0, spare = 0, gcgen = 0, gccls = 7}, attrib = 0x40ae088,
>      gengc_next_node = 0x8235270, gengc_prev_node = 0x8235270, u = {primsxp = {
>      offset = 288}, symsxp = {pname = 0x120, value = 0x0,
>      internal = 0x57685c0}, listsxp = {carval = 0x120, cdrval = 0x0,
>      tagval = 0x57685c0}, envsxp = {frame = 0x120, enclos = 0x0,
>      hashtab = 0x57685c0}, closxp = {formals = 0x120, body = 0x0,
>      env = 0x57685c0}, promsxp = {value = 0x120, expr = 0x0,
>      env = 0x57685c0}}}
> 
> 
> ----------------------------------------------------------------------------
> Bill Dunlap
> Insightful Corporation
> bill at insightful dot com
> 
>  "All statements in this message represent the opinions of the author and do
>  not necessarily reflect Insightful Corporation policy or position."


From mitchell.wachtel at ttuhsc.edu  Wed Apr 30 18:20:09 2008
From: mitchell.wachtel at ttuhsc.edu (mitchell.wachtel at ttuhsc.edu)
Date: Wed, 30 Apr 2008 18:20:09 +0200 (CEST)
Subject: [Rd] Quotation marks (PR#11353)
Message-ID: <20080430162009.CD1B82834169@mail.pubhealth.ku.dk>

Full_Name: Mitchell Steven Wachtel, MD
Version: 2.7.0 RC
OS: Vista
Submission from: (NULL) (66.230.2.56)


Single (') and double (") quotation marks are not being read as quotation marks
when commands are copied from Word; they produce an error message whenever they
are used. To correct this, one has to retype everything in the R console. I
tried using courier new, as well as the good old fashioned Times New Roman, but
nothing seemed to work.


From ggrothendieck at gmail.com  Wed Apr 30 18:54:12 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 30 Apr 2008 12:54:12 -0400
Subject: [Rd] apply and monthly time series (PR#11352)
In-Reply-To: <20080430130004.74F412834154@mail.pubhealth.ku.dk>
References: <20080430130004.74F412834154@mail.pubhealth.ku.dk>
Message-ID: <971536df0804300954l2a562f92h8e829381ff49c4f9@mail.gmail.com>

See ?apply

If X is not an array but has a dimension attribute, apply attempts to coerce
it to an array via as.matrix if it is two-dimensional (e.g., data
frames) or via as.array.

So for example, try this noting that time is 1, 2, 3, ...

apply(monthly, 2, time)

Try

lm(monthly ~ time(monthly))


On Wed, Apr 30, 2008 at 9:00 AM,  <stephen.mcintyre at utoronto.ca> wrote:
> Full_Name: Stephen McIntyre
> Version: 2.7
> OS: Windows XP
> Submission from: (NULL) (99.231.2.44)
>
>
> When I use the apply function to calculate a trend for a matrix of monthly time
> series, it yields a different answer than when the trend is calculated one at a
> time (by a factor of 12) rather than the identical answer as it should. Here's
> an example:
>
> download.file("http://www.climateaudit.org/data/models/monthly.tab","temp.dat",mode="wb")
> load("temp.dat")
> trend= function(x)  lm(x~c(time(x)))$coef[2]
> b= apply(monthly,2,trend)
> a= c(trend(monthly[,1]),trend(monthly[,2]),trend(monthly[,3]))
> a/b  #12 12 12
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From ggrothendieck at gmail.com  Wed Apr 30 18:57:18 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 30 Apr 2008 12:57:18 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <8vtzhj5oac.fsf@gmail.com>
References: <6vprs88uu6.fsf@gmail.com> <481768EC.50008@stats.uwo.ca>
	<y763u08l14.fsf@gmail.com> <48178B5E.80603@stats.uwo.ca>
	<8vtzhj5oac.fsf@gmail.com>
Message-ID: <971536df0804300957iaab68ecp20686aaa66c9778f@mail.gmail.com>

You can use the Windows batch PATH command.

On Wed, Apr 30, 2008 at 11:56 AM, Michael <wuolong at gmail.com> wrote:
> On 29 Apr 2008, Duncan Murdoch wrote:
>
> > Right, you don't need to set the system path for everything, but you do
> > need to set it in CMD (or other shell) before running Rcmd.
>
> For Win 2K/XP/Vista, the system path can be set (through the GUI interface,
> not sure how to do it with scripts) without restarting, for new CMD
> processes started afterwards.
>
> Michael
>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From h.wickham at gmail.com  Wed Apr 30 19:11:54 2008
From: h.wickham at gmail.com (hadley wickham)
Date: Wed, 30 Apr 2008 12:11:54 -0500
Subject: [Rd] Quotation marks (PR#11353)
In-Reply-To: <20080430162009.CD1B82834169@mail.pubhealth.ku.dk>
References: <20080430162009.CD1B82834169@mail.pubhealth.ku.dk>
Message-ID: <f8e6ff050804301011n1a8c0aa3vff593fcc9f3ec74e@mail.gmail.com>

>
>  Single (') and double (") quotation marks are not being read as quotation marks
>  when commands are copied from Word; they produce an error message whenever they
>  are used. To correct this, one has to retype everything in the R console. I
>  tried using courier new, as well as the good old fashioned Times New Roman, but
>  nothing seemed to work.

Try turning off smart quotes.

Hadley


-- 
http://had.co.nz/


From murdoch at stats.uwo.ca  Wed Apr 30 20:31:37 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 30 Apr 2008 14:31:37 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <8vtzhj5oac.fsf@gmail.com>
References: <6vprs88uu6.fsf@gmail.com>
	<481768EC.50008@stats.uwo.ca>	<y763u08l14.fsf@gmail.com>
	<48178B5E.80603@stats.uwo.ca> <8vtzhj5oac.fsf@gmail.com>
Message-ID: <4818BB09.6070205@stats.uwo.ca>

On 4/30/2008 11:56 AM, Michael wrote:
> On 29 Apr 2008, Duncan Murdoch wrote:
>  
>> Right, you don't need to set the system path for everything, but you do
>> need to set it in CMD (or other shell) before running Rcmd.
> 
> For Win 2K/XP/Vista, the system path can be set (through the GUI interface,
> not sure how to do it with scripts) without restarting, for new CMD
> processes started afterwards.

Sure, but the installer doesn't know how to do that.  It just sets the 
path in the registry; it doesn't know how to give Explorer a kick to get 
it to reload from there.  As far as I know there's no documented way to 
do that.

Within a shell it's very easy to set the path, but it doesn't propagate 
to processes started outside that shell.

Duncan Murdoch


From simon.urbanek at r-project.org  Wed Apr 30 22:01:32 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 30 Apr 2008 16:01:32 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <4818BB09.6070205@stats.uwo.ca>
References: <6vprs88uu6.fsf@gmail.com>
	<481768EC.50008@stats.uwo.ca>	<y763u08l14.fsf@gmail.com>
	<48178B5E.80603@stats.uwo.ca> <8vtzhj5oac.fsf@gmail.com>
	<4818BB09.6070205@stats.uwo.ca>
Message-ID: <078E26DF-5AA8-4ADE-A33E-EA640817781A@r-project.org>


On Apr 30, 2008, at 2:31 PM, Duncan Murdoch wrote:

> On 4/30/2008 11:56 AM, Michael wrote:
>> On 29 Apr 2008, Duncan Murdoch wrote:
>>
>>> Right, you don't need to set the system path for everything, but  
>>> you do
>>> need to set it in CMD (or other shell) before running Rcmd.
>> For Win 2K/XP/Vista, the system path can be set (through the GUI  
>> interface,
>> not sure how to do it with scripts) without restarting, for new CMD
>> processes started afterwards.
>
> Sure, but the installer doesn't know how to do that.  It just sets  
> the path in the registry; it doesn't know how to give Explorer a  
> kick to get it to reload from there.  As far as I know there's no  
> documented way to do that.
>

FWIW the PATH setting is effective immediately (at least on 2k/ 
XP ...). Any new shell you start (e.g. using Run..) will have the  
updated PATH already.

I was always very skeptical as editing PATH in the installer is  
concerned (and I have always declined any automated changes), but I  
really love the feature that allows me to edit the whole PATH  
interactively in an editor-like window.

Also note that the rebooting is optional, you can still safely decline  
it so I see no reason why that should deter anyone.

Cheers,
Simon


From murdoch at stats.uwo.ca  Wed Apr 30 22:29:34 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 30 Apr 2008 16:29:34 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <078E26DF-5AA8-4ADE-A33E-EA640817781A@r-project.org>
References: <6vprs88uu6.fsf@gmail.com>
	<481768EC.50008@stats.uwo.ca>	<y763u08l14.fsf@gmail.com>
	<48178B5E.80603@stats.uwo.ca> <8vtzhj5oac.fsf@gmail.com>
	<4818BB09.6070205@stats.uwo.ca>
	<078E26DF-5AA8-4ADE-A33E-EA640817781A@r-project.org>
Message-ID: <4818D6AE.5030401@stats.uwo.ca>

On 4/30/2008 4:01 PM, Simon Urbanek wrote:
> On Apr 30, 2008, at 2:31 PM, Duncan Murdoch wrote:
> 
>> On 4/30/2008 11:56 AM, Michael wrote:
>>> On 29 Apr 2008, Duncan Murdoch wrote:
>>>
>>>> Right, you don't need to set the system path for everything, but  
>>>> you do
>>>> need to set it in CMD (or other shell) before running Rcmd.
>>> For Win 2K/XP/Vista, the system path can be set (through the GUI  
>>> interface,
>>> not sure how to do it with scripts) without restarting, for new CMD
>>> processes started afterwards.
>>
>> Sure, but the installer doesn't know how to do that.  It just sets  
>> the path in the registry; it doesn't know how to give Explorer a  
>> kick to get it to reload from there.  As far as I know there's no  
>> documented way to do that.
>>
> 
> FWIW the PATH setting is effective immediately (at least on 2k/ 
> XP ...). Any new shell you start (e.g. using Run..) will have the  
> updated PATH already.

Does that happen with the Rtools installer?  I didn't know that.  I 
thought explorer only changes the PATH at startup, or when you edit it 
from the control panel.

Duncan

> I was always very skeptical as editing PATH in the installer is  
> concerned (and I have always declined any automated changes), but I  
> really love the feature that allows me to edit the whole PATH  
> interactively in an editor-like window.
> 
> Also note that the rebooting is optional, you can still safely decline  
> it so I see no reason why that should deter anyone.
> 
> Cheers,
> Simon


From drieteenmeeuw at hotmail.com  Wed Apr 30 19:26:49 2008
From: drieteenmeeuw at hotmail.com (Maarten Blaauw)
Date: Wed, 30 Apr 2008 10:26:49 -0700 (PDT)
Subject: [Rd] New version of X11, png and jpeg
In-Reply-To: <alpine.LFD.1.00.0802201933470.25534@gannet.stats.ox.ac.uk>
References: <alpine.LFD.1.00.0802201933470.25534@gannet.stats.ox.ac.uk>
Message-ID: <16987759.post@talk.nabble.com>


The now default Cairo results in much prettier graphs, but dense graphs such
as plot(rnorm(1e4)) take considerably longer to plot than using
X11(type="Xlib"). This has already been mentioned, but I was wondering if we
users could expect Cairo speed increases in the near future?

>Slower under some circumstances (although on the test systems much faster
than packages Cairo and cairoDevice).  This will be particularly true for
X11() with a slow connection between the machine running R and the X server.

Using R 2.7.0 on Ubuntu 8.04 (Pentium 4 1.70 GHz on one machine and Centrino
Duo on another)
-- 
View this message in context: http://www.nabble.com/New-version-of-X11%2C-png-and-jpeg-tp15672580p16987759.html
Sent from the R devel mailing list archive at Nabble.com.


From simon.urbanek at r-project.org  Wed Apr 30 23:02:41 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 30 Apr 2008 17:02:41 -0400
Subject: [Rd] build packages with vignettes in Windows
In-Reply-To: <4818D6AE.5030401@stats.uwo.ca>
References: <6vprs88uu6.fsf@gmail.com>
	<481768EC.50008@stats.uwo.ca>	<y763u08l14.fsf@gmail.com>
	<48178B5E.80603@stats.uwo.ca> <8vtzhj5oac.fsf@gmail.com>
	<4818BB09.6070205@stats.uwo.ca>
	<078E26DF-5AA8-4ADE-A33E-EA640817781A@r-project.org>
	<4818D6AE.5030401@stats.uwo.ca>
Message-ID: <DE668E91-0693-42C4-B1B0-2657018F9A59@r-project.org>


On Apr 30, 2008, at 4:29 PM, Duncan Murdoch wrote:
> On 4/30/2008 4:01 PM, Simon Urbanek wrote:
>> On Apr 30, 2008, at 2:31 PM, Duncan Murdoch wrote:
>>> On 4/30/2008 11:56 AM, Michael wrote:
>>>> On 29 Apr 2008, Duncan Murdoch wrote:
>>>>
>>>>> Right, you don't need to set the system path for everything,  
>>>>> but  you do
>>>>> need to set it in CMD (or other shell) before running Rcmd.
>>>> For Win 2K/XP/Vista, the system path can be set (through the GUI   
>>>> interface,
>>>> not sure how to do it with scripts) without restarting, for new CMD
>>>> processes started afterwards.
>>>
>>> Sure, but the installer doesn't know how to do that.  It just  
>>> sets  the path in the registry; it doesn't know how to give  
>>> Explorer a  kick to get it to reload from there.  As far as I know  
>>> there's no  documented way to do that.
>>>
>> FWIW the PATH setting is effective immediately (at least on 2k/  
>> XP ...). Any new shell you start (e.g. using Run..) will have the   
>> updated PATH already.
>
> Does that happen with the Rtools installer?  I didn't know that.  I  
> thought explorer only changes the PATH at startup, or when you edit  
> it from the control panel.
>


Hmm I thought it did, but a subsequent test shows it doesn't.  
Apparently I must have triggered a change in the Control Panel so PATH  
was updated even before reboot.

Anyway, there are free tools with source that show how to send a  
broadcast message to make that change active immediately, e.g.:
http://www.codeproject.com/KB/applications/SetEnv.aspx?fid=230498&df=90&mpp=25&noise=3&sort=Position&view=Quick&select=1531752&fr=48

BTW: By testing this I found out that the Rtools installer is not as  
smart as it could be - when you run it a second time it will duplicate  
the paths.

Cheers,
Simon



>
>> I was always very skeptical as editing PATH in the installer is   
>> concerned (and I have always declined any automated changes), but  
>> I  really love the feature that allows me to edit the whole PATH   
>> interactively in an editor-like window.
>> Also note that the rebooting is optional, you can still safely  
>> decline  it so I see no reason why that should deter anyone.
>> Cheers,
>> Simon
>
>


From mflawren at fhcrc.org  Wed Apr 30 23:43:16 2008
From: mflawren at fhcrc.org (Michael Lawrence)
Date: Wed, 30 Apr 2008 14:43:16 -0700
Subject: [Rd] New version of X11, png and jpeg
In-Reply-To: <16987759.post@talk.nabble.com>
References: <alpine.LFD.1.00.0802201933470.25534@gannet.stats.ox.ac.uk>
	<16987759.post@talk.nabble.com>
Message-ID: <509e0620804301443o73e7d717mc7d53237c544ca83@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20080430/42ef7675/attachment.pl>

