From jago@mclink.it  Tue Jan  1 20:17:47 2002
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 1 Jan 2002 21:17:47 +0100
Subject: [Rd] ifs estimator
In-Reply-To: <15408.25675.538679.627892@gargle.gargle.HOWL>
Message-ID: <9F50E120-FEF4-11D5-BB5F-003065CC4CB8@mclink.it>

Thank you Martin,

you have been really helpful.


Stefano

On Lunedì, dicembre 31, 2001, at 02:12 , Martin Maechler wrote:

>>>>>> "Stefano" == Stefano Iacus <jago@mclink.it> writes:
>
>     Stefano> Hy all, I have written a small library that provide
>
> ((it's called  ``package''  , not library ... ))
>
>     Stefano> a new distribution function estimator based on IFS
>     Stefano> (that are essentially fractals).
>
>     Stefano> I would be pleased if any of you can build hte
>     Stefano> library for Unix-type machines and Windows
>     Stefano> implementations with the included makefiles as a
>     Stefano> Mac library is already working. As I'm not able to
>     Stefano> test these platforms any modification to makefiles
>     Stefano> is welcome.
>
>     Stefano> I have put something (src and Monte Carlo results)
>     Stefano> at
>
>     Stefano> http://159.149.74.117/~web/R/ifs/
>
>     Stefano> This is a very preliminary release of the library
>     Stefano> and only the basic estimator is contained in it. We
>     Stefano> (me and D. La Torre) are working on smarter
>     Stefano> estimators and also on density estimators.
>
> I had to change DESCRIPTION.in (this is for R standard
>  packages!!) to DESCRIPTION
> {and then you don't need a TITLE file anymore).
>
> Also the file permissions were wrong in quite a few places, you
> had extra executable permission on simple text files.
>
>     Stefano> On that page there is also some theory on the
>     Stefano> subject at a very preliminary stage as a full paper
>     Stefano> will follow in 2002.
> (fine).
>
> Note that I would recommend using a tests/ subdirectory
> where you'd put some of the code currently in your (separately
> packaged) ifs demo.
>
> After the above changes, `R CMD check' only reports two
> remaining problem groups :
>
> 1)
>>> * checking Rd files ... WARNING
>>> *  non-standard keyword(s) in `man/ifs.Rd': distribution function 
>>> estimation
>
> Note that you must choose from <RHOME>/doc/KEYWORDS
>
> 2)
>
>>>   * checking for undocumented objects ... WARNING
>>>   [1] "phi"    "SM.IFS"
>
>  {you have to decide what to do here}.
>
>
>     Stefano> thank you for your attention and I wish you an
>     Stefano> happy new year.
>
> The same to you and all other R-develers!
>
> Martin
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Richard.Beare@csiro.au  Wed Jan  2 05:35:47 2002
From: Richard.Beare@csiro.au (Richard Beare)
Date: Wed, 02 Jan 2002 16:35:47 +1100
Subject: [Rd] Building R-1.4 on Tru64
Message-ID: <3C329C33.11D295F0@csiro.au>

Hello everyone,

I've just attempted to build R-1.4 on Compaq Tru64 (I'll enclose the
text from bug.report() from R-1.3.1 at the end.) The relevant part of
the log is below.

Any ideas?

gcc -shared  -o methods.so do_substitute_direct.o
methods_list_dispatch.o method_meta_data.o slot.o   -L/usr/local/lib  
/usr/ucb/ld:
Warning: Unresolved:
TYPEOF
Rf_error
Rf_protect
Rf_substitute
Rf_unprotect
Rf_duplicate
Rf_VectorToPairList
R_NilValue
Rf_NewEnvironment
R_set_standardGeneric_ptr
R_GlobalEnv
R_set_quick_method_check
Rf_install
Rf_allocVector
LOGICAL
R_PreserveObject
Rf_mkChar
SET_STRING_ELT
Rf_findVar
R_UnboundValue
VECTOR_ELT
R_NamesSymbol
Rf_getAttrib
Rf_length
STRING_ELT
R_CHAR
R_do_slot
Rf_asChar
PRINTNAME
Rf_isNull
CAR
CDR
R_data_class
Rf_isFunction
Rf_findFun
SETCAR
Rf_eval
INTEGER
CLOENV
Rf_findVarInFrame
Rf_isSymbol
ENCLOS
SYMVALUE
Rf_asLogical
R_MissingArg
Rf_isPrimitive
do_set_prim_method
BODY
R_deferred_default_method
PREXPR
PRENV
R_DotsSymbol
DDVAL
R_set_prim_method
Rf_defineVar
R_do_slot_assign
mkdir ../../../../library/methods/libs
make[5]: Leaving directory
`/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/src/library/methods/src'
make[4]: Leaving directory
`/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/src/library/methods/src'
make[4]: Entering directory
`/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/src/library/methods'
dumping R code in package `methods'
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/library/methods/libs/methods.so":
  dlopen:
/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/library/ctest/libs/ctest.so:
symbol "dansari" unresolved
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1

-------------------------------------

Version:
 platform = alphaev56-dec-osf5.1
 arch = alphaev56
 os = osf5.1
 system = alphaev56, osf5.1
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R


-- 
Richard Beare, CSIRO Mathematical & Information Sciences
Locked Bag 17, North Ryde, NSW 1670, Australia
Phone: +61-2-93253221 (GMT+~10hrs)  Fax: +61-2-93253200

Richard.Beare@csiro.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sohanw@ait.ac.th  Wed Jan  2 07:29:18 2002
From: sohanw@ait.ac.th (sohanw@ait.ac.th)
Date: Wed, 2 Jan 2002 08:29:18 +0100 (MET)
Subject: [Rd] Help for installation (PR#1233)
Message-ID: <200201020729.IAA04998@pubhealth.ku.dk>

Dear r-bugs,

  I down loaded the R-1.4.0.tgz
  But cannot unzip or install. I would be grateful if you
  could give some help.

  My system is Microsoft windows.
  
Best regards,

Sohan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jan  2 07:42:41 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 2 Jan 2002 08:42:41 +0100 (MET)
Subject: [Rd] Help for installation (PR#1233)
Message-ID: <200201020742.IAA05076@pubhealth.ku.dk>

Why do you think this is a bug in R?  Try the FAQ (address at the bottom
of this message) for information on getting R.

Either get a pre-built binary for Windows (from where you got R-1.4.0.tgz)
or get the tools you need to unpack this (it is not a zip archive) from
http://www.stats.ox.ac.uk/pub/Rtools/.

Given your apparent level of knowledge, I strongly recommend the first.

To help us avoid repeats of this, could you please explain where you got
the idea that R-1.4.0.tgz was the thing to download?

On Wed, 2 Jan 2002 sohanw@ait.ac.th wrote:

> Dear r-bugs,
>
>   I down loaded the R-1.4.0.tgz
>   But cannot unzip or install. I would be grateful if you
>   could give some help.
>
>   My system is Microsoft windows.
>
> Best regards,
>
> Sohan
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Wed Jan  2 09:22:18 2002
From: bellis@hsph.harvard.edu (Byron Ellis)
Date: Wed, 2 Jan 2002 04:22:18 -0500 (EST)
Subject: [Rd] Help for installation (PR#1233)
In-Reply-To: <200201020729.IAA04998@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.10201020419170.16979-100000@hsph.harvard.edu>

I imagine you'll be yelled at since this belongs in R-help and isn't a bug
at all. You've downloaded the source code rather than a binary. WinZip and
its ilk should handle the .tgz archive without problems, but you would
probably prefer to download SetupR.exe from the windows binary section to
successfully install R 1.4.0, it is much simpler than building the source
on windows boxen.

Byron Ellis (bellis@hsph.harvard.edu)
"Oook" - The Librarian

On Wed, 2 Jan 2002 sohanw@ait.ac.th wrote:

> Dear r-bugs,
> 
>   I down loaded the R-1.4.0.tgz
>   But cannot unzip or install. I would be grateful if you
>   could give some help.
> 
>   My system is Microsoft windows.
>   
> Best regards,
> 
> Sohan
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From H.Rinner@tirol.gv.at  Wed Jan  2 15:10:00 2002
From: H.Rinner@tirol.gv.at (H.Rinner@tirol.gv.at)
Date: Wed, 2 Jan 2002 16:10:00 +0100 (MET)
Subject: [Rd] R1.4.0 under Windows NT, package grid/lattice (PR#1234)
Message-ID: <200201021510.QAA12536@pubhealth.ku.dk>

Full_Name: Heinrich Rinner
Version: 1.4.0
OS: Windows NT 4.0
Submission from: (NULL) (212.183.27.1)


Today I downloaded and installed R1.4.0 for Windows from
"http://cran.at.r-project.org/bin/windows/base/SetupR.exe".
I also downloaded "http://cran.at.r-project.org/bin/windows/contrib/grid.zip"
and "http://cran.at.r-project.org/bin/windows/contrib/lattice.zip" and then
installed the packages from my local zip files.

Running the following commands (Windows NT 4.0) causes R to crash:

> library(lattice)
> plot(1:10)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jan  2 15:52:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 2 Jan 2002 16:52:34 +0100 (MET)
Subject: [Rd] R1.4.0 under Windows NT, package grid/lattice (PR#1234)
Message-ID: <200201021552.QAA13013@pubhealth.ku.dk>

Yes, this *has* already been discussed on R-help, with the solution!
The solution is also in the rw-FAQ.

There is something wrong with
http://cran.at.r-project.org/bin/windows/base/SetupR.exe

If you compile R yourself, it will be fine, or if you use the version I
put it up, it will be fine.

On Wed, 2 Jan 2002 H.Rinner@tirol.gv.at wrote:

> Full_Name: Heinrich Rinner
> Version: 1.4.0
> OS: Windows NT 4.0
> Submission from: (NULL) (212.183.27.1)
>
>
> Today I downloaded and installed R1.4.0 for Windows from
> "http://cran.at.r-project.org/bin/windows/base/SetupR.exe".
> I also downloaded "http://cran.at.r-project.org/bin/windows/contrib/grid.zip"
> and "http://cran.at.r-project.org/bin/windows/contrib/lattice.zip" and then
> installed the packages from my local zip files.
>
> Running the following commands (Windows NT 4.0) causes R to crash:
>
> > library(lattice)
> > plot(1:10)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stvjc@channing.harvard.edu  Wed Jan  2 21:05:17 2002
From: stvjc@channing.harvard.edu (Vincent J. Carey, Jr.)
Date: Wed, 2 Jan 2002 16:05:17 -0500 (EST)
Subject: [Rd] comparative rendering of modeling outputs
Message-ID: <200201022105.QAA20438@falmouth.bwh.harvard.edu>


This note is to r-devel rather than r-announce because it
notes an experimental package that addresses issues that 
intersect with broader developmental issues in R.

I have posted the package

cremo = Comparative REndering of Modeling Outputs

for retrival at

http://www.biostat.harvard.edu/~carey/cremo.html

This package addresses the problem of assembling and
rendering results of multiple linear model fits in formats
suitable for presentation in applications contexts.

An extract from the output of 'example(cremo)':

cremo> data(stackloss)

cremo> attach(stackloss)

cremo> glm2 <- glm(stack.loss ~ Air.Flow + Water.Temp + Acid.Conc.)

cremo> glm3 <- glm(stack.loss ~ Air.Flow + Water.Temp)

cremo> glm4 <- glm(stack.loss ~ Air.Flow * Water.Temp)

cremo> try(print(cremo(list(glm2, glm3, glm4), adeqel = c("deviance", 
    "aic")), quote = F))
      var                 Model 1  Model 2 Model 3 
 [1,] (Intercept)         -39.92   -50.359 22.29   
 [2,]                     (11.896) (5.138) (35.096)
 [3,] Air.Flow            0.716    0.671   -0.516  
 [4,]                     (0.135)  (0.127) (0.58)  
 [5,] Water.Temp          1.295    1.295   -1.93   
 [6,]                     (0.368)  (0.367) (1.58)  
 [7,] Acid.Conc.          -0.152   --      --      
 [8,]                     (0.156)  --      --      
 [9,] Air.Flow:Water.Temp --       --      0.052   
[10,]                     --       --      (0.025) 
[11,] -----               -----    -----   -----   
[12,] deviance            178.83   188.795 150.232 
[13,] aic                 114.576  113.714 110.916 

A preliminary form of the package, which passes "R CMD check" for the 
12-14 version of 1.4.0, can be obtained at

http://www.biostat.harvard.edu/~carey/cremo.html

Much remains to be done for the problem confronted by this
package, and some avenues to be explored are mentioned at the
URL cited above.  Anyone interested in the problem of
specifying modeling report templates is invited to get
involved; the code in cremo is extremely primitive and
some more sensible approaches are sketched on the cremo.html
page.  Distributed under GPL2.
-- 
---
Vince Carey, PhD
Ass't Prof Med (Biostatistics)
Harvard Medical School
Channing Laboratory - ph 6175252265 fa 6177311541
181 Longwood Ave Boston MA 02115 USA

stvjc@channing.harvard.edu

-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: PGP 6.5.8

mQCNAzqIeGUAAAEEAMJXU941vIornTS52rl6z7eo+A7wwB0km/idLnkxzIhc1uLi
Qtn19OyOfG6IDSucLrtmpvwagemAnQ9jL6TVDrmlrKnqsh+FFtvUuZ37eV85L70E
BsS8RZCmMYHJKfrpCwegbTVZrEkd1ByquLIN/yUwxU4IcVuHxbNQk69riQ8tAAUR
tBVWaW5jZW50IEouIENhcmV5LCBKci6JAJUDBRA6iHhls1CTr2uJDy0BAdsLA/wM
cCzEDsP9MqodKZfDI1s/gXW6BcCuQ6n7MdEplLgmWvyqfbvRYx4upYZ3pNp8L0zU
MrlR6eCTs/eDtMO/ZbGvkqqiQO6wS2fZb1T5L/DhhtT4mEAHt0E8dNBVCj+lKr3W
vYS5GqO9gY4CiT3JXFH9N19pSbUQFiNDqpmG6EbWng==
=DQNF
-----END PGP PUBLIC KEY BLOCK-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Wed Jan  2 23:02:24 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Wed, 2 Jan 2002 15:02:24 -0800
Subject: [Rd] multiple definitions in C code
Message-ID: <C8FC28E2-FFD4-11D5-B79D-00039319314A@stat.ucla.edu>

There is a problem in MacOS X with multiple definitions of the same
symbol in different files that will be put into the same bundle or
dynamic library by the dynamic linker. It occurs, for example, in
the rpart package, which includes rpart.h in all its source files,
and rpart.h has definitions of a structure rp and functions rp_init
and so on. I think the same problem occurs in the grid package --
all 150+ others seem to be fine. Just out of curiosity, I looked into
the problem a bit, in particular as it relates to dyld in OS X.

==========================================================================
====
According to the ANSI Standard

G.5 Common Extensions

The following extensions are widely used in many systems, but are not
portable to all implementations. The inclusion of any extension that may 
cause
a strictly conforming program to become invalid renders an implementation
non-conforming.

...

G.5.11 Multiple external definitions

There may be more than one external definition for the identifier of an 
object,
with or without the explicit use of the keyword extern. If the 
definitions
disagree, or more than one is initialized, the behavior is undefined.
==========================================================================
====
See also Summit, C Programming FAQ, section 1.7, or Koenig, C Traps and
Pitfalls, pages 54-56. Portability considerations makes them suggest 
that the
safe way to proceed is to have only a single definition, in a source 
file, with
or without initialization, and everywhere else (in header files) external
declarations.
==========================================================================
====
 From the MacOS X ld man page:

Different linking can occur only when there  is  more
than  one  definition  of a symbol and the library modules
that contain the definitions for that symbol do not define
and  reference  exactly  the  same symbols.  In this case,
even different executions of the same program can  produce
different  linking  because the dynamic linker binds unde-
fined functions as they are called, and this  affects  the
order  in  which  undefined symbols are bound.  Because it
can  produce  different  dynamic  linking,  using  dynamic
shared  libraries that define the same symbols in the same
program is strongly discouraged.
==========================================================================
====
 From Inside Mac OS X (page 134)

When you create a framework, you must ensure that each symbol
is defined only once in a library. In addition, "common" symbols
are not allowed in the library, you must use a single true definition
and precede all other definitions with the extern key word in C
code.
==========================================================================
====

Thus we see that the dynamic linker sets things up for "lazy
linking", where symbols are loaded at run time if they are actually
needed (and not at startup). It is different, I think, from Solaris
(see Solaris Porting Guide, p. 102-103), which also has "lazy
linking", but allows multiple definitions ("the first one wins").

The gcc compiler has a flag -fno-common (Stallman, p. 187), which 
allocates
space for each defined variable directly, and does not place it in
"common" space. The Next dynamic linker has a flag -m, which
makes multiple definitions into warnings instead of errors.
This if we have files galadriel.c with

==========================================================================
====
#include <stdio.h>

float bilbo;

int galadriel ()
{
bilbo = 1.0;
return printf("%1.0f\n", bilbo + bilbo);
}
==========================================================================
====

and elrond.c with

==========================================================================
====
#include <stdio.h>

int bilbo;

int elrond()
{
bilbo = 1;
return printf("%d\n", bilbo + bilbo);
}
==========================================================================
====

and we compile them with -fno-common, then we cannot link them
into either an executable (with a suitable main) or into a bundle.
If we leave out -fno-common, then we can. Linking into an
executable will lead to undefined but unambiguous behavior, linking 
into a
dynamic library could lead to different behaviors at different
occasions at run time. Thus

[localhost:~/Desktop/rings] deleeuw% gcc -c -fno-common elrond.c
[localhost:~/Desktop/rings] deleeuw% gcc -c -fno-common galadriel.c
[localhost:~/Desktop/rings] deleeuw% nm -pg elrond.o
000000a8 S _bilbo
00000000 T _elrond
          U _printf
          U dyld_stub_binding_helper
[localhost:~/Desktop/rings] deleeuw% nm -pg galadriel.o
000000c0 S _bilbo
00000000 T _galadriel
          U _printf
          U dyld_stub_binding_helper

and then

[localhost:~/Desktop/rings] deleeuw% gcc -bundle -o rings.so elrond.o 
galadriel.o
/usr/bin/ld: multiple definitions of symbol _bilbo
elrond.o definition of _bilbo in section (__DATA,__common)
galadriel.o definition of _bilbo in section (__DATA,__common)
[localhost:~/Desktop/rings] deleeuw% gcc -bundle -o rings.so -Xlinker -m 
elrond.o galadriel.o
/usr/bin/ld: warning multiple definitions of symbol _bilbo
elrond.o definition of _bilbo in section (__DATA,__common)
galadriel.o definition of _bilbo in section (__DATA,__common)
[localhost:~/Desktop/rings] deleeuw% nm -pg rings.so
00001018 S _bilbo
00000ecc T _elrond
00000f44 T _galadriel
          U _printf

  while

[localhost:~/Desktop/rings] deleeuw% gcc -c elrond.c
[localhost:~/Desktop/rings] deleeuw% gcc -c galadriel.c
[localhost:~/Desktop/rings] deleeuw% gcc -bundle -o rings.so elrond.o 
galadriel.o
[localhost:~/Desktop/rings] deleeuw% nm -pg elrond.o
00000000 T _elrond
00000004 C _bilbo
          U _printf
          U dyld_stub_binding_helper
[localhost:~/Desktop/rings] deleeuw% nm -pg galadriel.o
00000000 T _galadriel
00000004 C _bilbo
          U _printf
          U dyld_stub_binding_helper
[localhost:~/Desktop/rings] deleeuw% nm -pg rings.so
00001020 S _bilbo
00000ecc T _elrond
00000f44 T _galadriel
          U _printf

but now

[localhost:~/Desktop/rings] deleeuw% gcc -dynamiclib -o librings.dylib 
elrond.o galadriel.o
ld: common symbols not allowed with MH_DYLIB output format
elrond.o definition of common _bilbo (size 4)
/usr/bin/libtool: internal link edit command failed


Of course we can use ar to put the object files in an archive, but if a 
symbol
is defined (and initialized) more than once the table of contents cannot 
be
sorted by ranlib.


===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Jan  2 23:44:22 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jan 2002 00:44:22 +0100
Subject: [Rd] multiple definitions in C code
In-Reply-To: <C8FC28E2-FFD4-11D5-B79D-00039319314A@stat.ucla.edu>
References: <C8FC28E2-FFD4-11D5-B79D-00039319314A@stat.ucla.edu>
Message-ID: <x2ofkcgvxl.fsf@blueberry.kubism.ku.dk>

Jan de Leeuw <deleeuw@stat.ucla.edu> writes:

> There is a problem in MacOS X with multiple definitions of the same
> symbol in different files that will be put into the same bundle or
> dynamic library by the dynamic linker. It occurs, for example, in
> the rpart package, which includes rpart.h in all its source files,
> and rpart.h has definitions of a structure rp and functions rp_init
> and so on. I think the same problem occurs in the grid package --
> all 150+ others seem to be fine. Just out of curiosity, I looked into
> the problem a bit, in particular as it relates to dyld in OS X.
> 
> ==========================================================================
> ====
> According to the ANSI Standard
> 
> G.5 Common Extensions
> 
> The following extensions are widely used in many systems, but are not
> portable to all implementations. The inclusion of any extension that
> may cause
> a strictly conforming program to become invalid renders an implementation
> non-conforming.
> 
> ...
> 
> G.5.11 Multiple external definitions
> 
> There may be more than one external definition for the identifier of
> an object,
> with or without the explicit use of the keyword extern. If the
> definitions
> disagree, or more than one is initialized, the behavior is undefined.
> ==========================================================================
> ====
> See also Summit, C Programming FAQ, section 1.7, or Koenig, C Traps and
> Pitfalls, pages 54-56. Portability considerations makes them suggest
> that the
> safe way to proceed is to have only a single definition, in a source
> file, with
> or without initialization, and everywhere else (in header files) external
> declarations.


Yes. The standard way is to do something like this in the include file

#ifndef extern
#define extern extern
#endif

extern struct {
...
} rp;

and then in *one* of the files precede the inclusion with 

#define extern

However, as I read G.5.11, the way it is being used in rpart is in
fact in accordance with ANSI C. It says that behaviour is well-defined
except in case of conflicts.

> ==========================================================================
> ====
>  From the MacOS X ld man page:
> 
> Different linking can occur only when there  is  more
> than  one  definition  of a symbol and the library modules
> that contain the definitions for that symbol do not define
> and  reference  exactly  the  same symbols.  In this case,
> even different executions of the same program can  produce
> different  linking  because the dynamic linker binds unde-
> fined functions as they are called, and this  affects  the
> order  in  which  undefined symbols are bound.  Because it
> can  produce  different  dynamic  linking,  using  dynamic
> shared  libraries that define the same symbols in the same
> program is strongly discouraged.
> ==========================================================================
> ====
>  From Inside Mac OS X (page 134)
> 
> When you create a framework, you must ensure that each symbol
> is defined only once in a library. In addition, "common" symbols
> are not allowed in the library, you must use a single true definition
> and precede all other definitions with the extern key word in C
> code.
> ==========================================================================
> ====
> 
> Thus we see that the dynamic linker sets things up for "lazy
> linking", where symbols are loaded at run time if they are actually
> needed (and not at startup). It is different, I think, from Solaris
> (see Solaris Porting Guide, p. 102-103), which also has "lazy
> linking", but allows multiple definitions ("the first one wins").

The really nasty thing about this is if two different packages happen
to use the same symbol. I seem to recall that this is why there is no
OpenOffice for MacOS X, since they had an explicit requirement that
each of their plugin modules contain a specifically named
initialization routine! 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tobias.hoevekamp@ilw.agrl.ethz.ch  Thu Jan  3 14:29:04 2002
From: tobias.hoevekamp@ilw.agrl.ethz.ch (tobias.hoevekamp@ilw.agrl.ethz.ch)
Date: Thu, 3 Jan 2002 15:29:04 +0100 (MET)
Subject: [Rd] Axes labelling with logarithmic scales (PR#1235)
Message-ID: <200201031429.PAA25599@pubhealth.ku.dk>

Full_Name: Tobias Hoevekamp
Version: 1.4.0
OS: Debian GNU/Linux
Submission from: (NULL) (129.132.139.109)


There seems to be a problem with the labelling of axes when
logarithmic scales are used. More than half of 
both axes are not labeled in the following example:


x <-  c(0.12,  0.3,   0.53,  1.1,   1.8,  2.6, 4.5)
y <-  c(0.012, 0.021, 0.032, 0.055, 0.1,  0.2, 0.35)

plot(x, y,
     log="xy",
     main="Problem with axes labelling on logarithmic scales",
     xlab="x, why aren't 0.5, or even smaller tic-values displyed?",
     ylab="y, why isn't 0.05 diplayed?")


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@bell-labs.com  Thu Jan  3 16:00:20 2002
From: dxsun@bell-labs.com (dxsun@bell-labs.com)
Date: Thu, 3 Jan 2002 17:00:20 +0100 (MET)
Subject: [Rd] type.convert() (PR#1236)
Message-ID: <200201031600.RAA27088@pubhealth.ku.dk>

Full_Name: Don Sun
Version: 1.4.0
OS: Red Hat Linux release 6.2
Submission from: (NULL) (204.178.20.14)


> type.convert(letters[1:2],as.is=T)
stack imbalance in internal type.convert, 7 then 6stack imbalance in .Internal,
6 then 5
[1] "a" "b"
Error: unprotect(): stack imbalance

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R             

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan  3 16:48:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 3 Jan 2002 17:48:34 +0100 (MET)
Subject: [Rd] type.convert() (PR#1236)
Message-ID: <200201031648.RAA27416@pubhealth.ku.dk>

Oh, do check the R-bugs database first!  This was solved in R-patched
before the first report ...

>From NEWS:

    o   type.convert() could give stack imbalance warnings if used
        with as.is = TRUE.

Actually, it works perfectly, so it's not a serious bug, especially as
using type.convert(letters[1:2],as.is=T) is a waste of time (yours in
that case).


On Thu, 3 Jan 2002 dxsun@bell-labs.com wrote:

> Full_Name: Don Sun
> Version: 1.4.0
> OS: Red Hat Linux release 6.2
> Submission from: (NULL) (204.178.20.14)
>
>
> > type.convert(letters[1:2],as.is=T)
> stack imbalance in internal type.convert, 7 then 6stack imbalance in .Internal,
> 6 then 5
> [1] "a" "b"
> Error: unprotect(): stack imbalance
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@bell-labs.com  Thu Jan  3 17:25:47 2002
From: dxsun@bell-labs.com (dxsun@bell-labs.com)
Date: Thu, 3 Jan 2002 18:25:47 +0100 (MET)
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <200201031725.SAA27619@pubhealth.ku.dk>

Full_Name: Don Sun
Version: 1.4.0
OS: Red Hat Linux 6.2
Submission from: (NULL) (204.178.20.14)


require(lattice)
trellis.device("postscript", file = "demo.ps", bg = "white")
print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
dev.off()

gives incomplete plot in the postscript file demo.ps, it worked fine in 1.3.1.

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R                


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Thu Jan  3 18:23:14 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Thu, 03 Jan 2002 13:23:14 -0500
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8450@usrymx10.merck.com>

How is it incomplete?  It worked fine in R-1.4.0 on WinNT4 compiled from
source.

Andy

> -----Original Message-----
> From: dxsun@bell-labs.com [mailto:dxsun@bell-labs.com]
> Sent: Thursday, January 03, 2002 12:26 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] trellis plot and postscript file (PR#1237)
> 
> 
> Full_Name: Don Sun
> Version: 1.4.0
> OS: Red Hat Linux 6.2
> Submission from: (NULL) (204.178.20.14)
> 
> 
> require(lattice)
> trellis.device("postscript", file = "demo.ps", bg = "white")
> print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
> dev.off()
> 
> gives incomplete plot in the postscript file demo.ps, it 
> worked fine in 1.3.1.
> 
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    4.0              
> year     2001             
> month    12               
> day      19               
> language R                
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@jessie.research.bell-labs.com  Thu Jan  3 19:41:30 2002
From: dxsun@jessie.research.bell-labs.com (Don Sun)
Date: Thu, 3 Jan 2002 14:41:30 -0500 (EST)
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <200201031941.OAA22171@jessie.research.bell-labs.com>


Thanks, then it could be just a specific problem for R-1.4.0 on Red Hat
Linux 6.2. 

>
> How is it incomplete? It worked fine in R-1.4.0 on WinNT4 compiled from 
> source. 
> 
> Andy 
> 
> > -----Original Message----- 
> > From: dxsun@bell-labs.com [mailto:dxsun@bell-labs.com] 
> > Sent: Thursday, January 03, 2002 12:26 PM 
> > To: r-devel@stat.math.ethz.ch 
> > Cc: R-bugs@biostat.ku.dk 
> > Subject: [Rd] trellis plot and postscript file (PR#1237) 
> > 
> > 
> > Full_Name: Don Sun 
> > Version: 1.4.0 
> > OS: Red Hat Linux 6.2 
> > Submission from: (NULL) (204.178.20.14) 
> > 
> > 
> > require(lattice) 
> > trellis.device("postscript", file = "demo.ps", bg = "white") 
> > print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) ) 
> > dev.off() 
> > 
> > gives incomplete plot in the postscript file demo.ps, it 
> > worked fine in 1.3.1. 
> > 
> > platform i686-pc-linux-gnu 
> > arch i686 
> > os linux-gnu 
> > system i686, linux-gnu 
> > status 
> > major 1 
> > minor 4.0 
> > year 2001 
> > month 12 
> > day 19 
> > language R 
> > 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deepayansarkar@yahoo.com  Thu Jan  3 19:42:29 2002
From: deepayansarkar@yahoo.com (Deepayan Sarkar)
Date: Thu, 3 Jan 2002 11:42:29 -0800 (PST)
Subject: [Rd] trellis plot and postscript file (PR#1237)
In-Reply-To: <200201031725.SAA27619@pubhealth.ku.dk>
Message-ID: <20020103194229.43063.qmail@web13907.mail.yahoo.com>



Could you be more specific in how it is incomplete ? I don't see any
problems with R 1.4.0, grid 0.5 and lattice 0.3-1 (my output is at
http://www.stat.wisc.edu/~deepayan/R/demo.ps )


--- dxsun@bell-labs.com wrote:
> Full_Name: Don Sun
> Version: 1.4.0
> OS: Red Hat Linux 6.2
> Submission from: (NULL) (204.178.20.14)
> 
> 
> require(lattice)
> trellis.device("postscript", file = "demo.ps", bg = "white")
> print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
> dev.off()
> 
> gives incomplete plot in the postscript file demo.ps, it worked fine in
> 1.3.1.
> 
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    4.0              
> year     2001             
> month    12               
> day      19               
> language R                
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@jessie.research.bell-labs.com  Thu Jan  3 21:29:27 2002
From: dxsun@jessie.research.bell-labs.com (Don Sun)
Date: Thu, 3 Jan 2002 16:29:27 -0500 (EST)
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <200201032129.QAA18012@jessie.research.bell-labs.com>


Thanks for reminding me the version numbers of both grid and lattice.
I had installed R 1.4.0 on top of the old 
grid 0.1 and lattice 0.2-3. That was the cause of the problem. 

>
> Date: Thu, 3 Jan 2002 11:42:29 -0800 (PST)
> From: Deepayan Sarkar <deepayansarkar@yahoo.com>
> Cc: R-bugs@biostat.ku.dk
> 
> Could you be more specific in how it is incomplete ? I don't see any
> problems with R 1.4.0, grid 0.5 and lattice 0.3-1 (my output is at
> http://www.stat.wisc.edu/~deepayan/R/demo.ps )
> 
> --- dxsun@bell-labs.com wrote:
> > Full_Name: Don Sun
> > Version: 1.4.0
> > OS: Red Hat Linux 6.2
> > Submission from: (NULL) (204.178.20.14)
> > 
> > 
> > require(lattice)
> > trellis.device("postscript", file = "demo.ps", bg = "white")
> > print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
> > dev.off()
> > 
> > gives incomplete plot in the postscript file demo.ps, it worked fine in
> > 1.3.1.
> > 
> > platform i686-pc-linux-gnu
> > arch     i686             
> > os       linux-gnu        
> > system   i686, linux-gnu  
> > status                    
> > major    1                
> > minor    4.0              
> > year     2001             
> > month    12               
> > day      19               
> > language R                
> > 
> > 
> >
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From christian.hoffmann@wsl.ch  Fri Jan  4 11:39:49 2002
From: christian.hoffmann@wsl.ch (christian.hoffmann@wsl.ch)
Date: Fri, 4 Jan 2002 12:39:49 +0100 (MET)
Subject: [Rd] R CMD check, file permissions (PR#1239)
Message-ID: <200201041139.MAA04899@pubhealth.ku.dk>

SunOS fluke 5.8 Generic_108528-07 sun4u sparc SUNW,Ultra-Enterprise

R-1.4.0

Running from the command line 

R CMD check chlib

results in the log file 00check.log:

* using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'
* checking for file `chlib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... WARNING
*   Found the following text files with incorrect permissions:
*     ./R/cbind.dimnames.r
*     ./R/clean.na.r
*     ./R/invgauss.r
*     ./R/my.table.r
*     ./R/negbingof.r
*     ./R/numberof.r
*     ./R/poisgam.r
*     ./R/progress.meter.r
*     ./R/qnorm.appr.r
*     ./R/qres.r
*     ./R/rowSums.r
*     ./R/S.princomp.r
*     ./R/select.range.r
*     ./R/shapiro.wilk.test.r
*     ./R/smoothed.df.r
*     ./R/tri.r
*     ./R/tweedie.r
*     ./R/tweedief.r
*     ./R/weighted.mean1.r
*     ./R/zzz.R
*     ./R/weighted.median.r
*     ./R/plotCI.Rd
*     ./man/cbind.dimnames.Rd
*     ./man/chlib-internal.Rd
*     ./man/clean.na.Rd
*     ./man/eql.Rd
*     ./man/invgauss.Rd
*     ./man/my.table.Rd
*     ./man/negbingof.Rd
*     ./man/numberof.Rd
*     ./man/poisgam.Rd
*     ./man/progress.meter.Rd
*     ./man/qnorm.appr.Rd
*     ./man/qres.Rd
*     ./man/remove.dup.rows.Rd
*     ./man/rowSums.Rd
*     ./man/S.princomp.Rd
*     ./man/select.range.Rd
*     ./man/shapiro.wilk.test.Rd
*     ./man/smoothed.df.Rd
*     ./man/tri.Rd
*     ./man/tweedie.Rd
*     ./man/tweedief.Rd
*     ./man/weighted.mean1.Rd
*     ./man/weighted.median.Rd
*   Please fix permissions.
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ... OK
* checking R files for library.dynam ...

I ran chmod 666 * on all the mentioned files, to no avail.



--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib,
package:mva, package:strlib, package:chlib, Autoloads, package:base

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hoffmann@wsl.ch  Fri Jan  4 11:51:48 2002
From: hoffmann@wsl.ch (hoffmann@wsl.ch)
Date: Fri, 4 Jan 2002 12:51:48 +0100 (MET)
Subject: [Rd] R CMD check (PR#1240)
Message-ID: <200201041151.MAA05237@pubhealth.ku.dk>

SunOS fluke 5.8 Generic_108528-07 sun4u sparc SUNW,Ultra-Enterprise

R-1.4.0

Running from the command line 

R CMD check chlib

results in the log file 00check.log:

* using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'
* checking for file `chlib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... WARNING
*   Found the following text files with incorrect permissions:
*     ./R/cbind.dimnames.r
*     ./R/clean.na.r
*     ./R/invgauss.r
*     ./R/my.table.r
*     ./R/negbingof.r
*     ./R/numberof.r
*     ./R/poisgam.r
*     ./R/progress.meter.r
*     ./R/qnorm.appr.r
*     ./R/qres.r
*     ./R/rowSums.r
*     ./R/S.princomp.r
*     ./R/select.range.r
*     ./R/shapiro.wilk.test.r
*     ./R/smoothed.df.r
*     ./R/tri.r
*     ./R/tweedie.r
*     ./R/tweedief.r
*     ./R/weighted.mean1.r
*     ./R/zzz.R
*     ./R/weighted.median.r
*     ./R/plotCI.Rd
*     ./man/cbind.dimnames.Rd
*     ./man/chlib-internal.Rd
*     ./man/clean.na.Rd
*     ./man/eql.Rd
*     ./man/invgauss.Rd
*     ./man/my.table.Rd
*     ./man/negbingof.Rd
*     ./man/numberof.Rd
*     ./man/poisgam.Rd
*     ./man/progress.meter.Rd
*     ./man/qnorm.appr.Rd
*     ./man/qres.Rd
*     ./man/remove.dup.rows.Rd
*     ./man/rowSums.Rd
*     ./man/S.princomp.Rd
*     ./man/select.range.Rd
*     ./man/shapiro.wilk.test.Rd
*     ./man/smoothed.df.Rd
*     ./man/tri.Rd
*     ./man/tweedie.Rd
*     ./man/tweedief.Rd
*     ./man/weighted.mean1.Rd
*     ./man/weighted.median.Rd
*   Please fix permissions.
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ... OK
* checking R files for library.dynam ...

I ran chmod 666 * on all the mentioned files, to no avail.



--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib, package:mva, package:strlib, package:chlib, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From christian.hoffmann@wsl.ch  Fri Jan  4 12:34:38 2002
From: christian.hoffmann@wsl.ch (christian.hoffmann@wsl.ch)
Date: Fri, 4 Jan 2002 13:34:38 +0100 (MET)
Subject: [Rd] R CMD check (PR#1240)
Message-ID: <200201041234.NAA06142@pubhealth.ku.dk>

Göran,

After  chmod 644 * I got some success:

hoffmann@fluke:~/R/Sources >R CMD check chlib
* checking for working latex ... OK
* using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'

Installing *binary* package `chlib' ...
 DONE (chlib)

DONE (INSTALL)

* checking for file `chlib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... OK
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ... OK
* checking R files for library.dynam ...Error: cannot open file
`/home/woodstock/hoffmann/R/Sources/chlib.Rcheck/chlib/R/chlib' for reading
at /usr/local/lib/R/bin/check line 522.

What can this be?

Thanks for help

--christian

At 13:10 04.01.2002 +0100, Göran Broström wrote:
>I asked the same question some days ago. I have:
>
>-rw-r--r--    1 gb       gb           4070 Dec 30 10:13 statistics.c
>
>which works. Maybe 644? Check archives, I have lost the answer I got.
>
>Göran
>



Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib,
package:mva, package:strlib, package:chlib, Autoloads, package:base

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gb@stat.umu.se  Fri Jan  4 13:20:58 2002
From: gb@stat.umu.se (gb@stat.umu.se)
Date: Fri, 4 Jan 2002 14:20:58 +0100 (MET)
Subject: [Rd] R CMD check (PR#1240)
Message-ID: <200201041320.OAA07222@pubhealth.ku.dk>

Christian,

The answer I got from Thomas was 644 for files and 755 for directories.
It worked for me.

Göran

On Fri, 4 Jan 2002, Christian Hoffmann wrote:

> Göran,
> 
> After  chmod 644 * I got some success:
> 
> hoffmann@fluke:~/R/Sources >R CMD check chlib
> * checking for working latex ... OK
> * using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'
> 
> Installing *binary* package `chlib' ...
>  DONE (chlib)
> 
> DONE (INSTALL)
> 
> * checking for file `chlib/DESCRIPTION' ... OK
> * checking package directory ... OK
> * checking for sufficient/correct file permissions ... OK
> * checking DESCRIPTION Package field ... OK
> * checking DESCRIPTION Version field ... OK
> * checking DESCRIPTION License field ... OK
> * checking DESCRIPTION Description field ... OK
> * checking DESCRIPTION Title field ... OK
> * checking DESCRIPTION Author field ... OK
> * checking DESCRIPTION Maintainer field ... OK
> * checking DESCRIPTION Depends field ... OK
> * checking R files for syntax errors ... OK
> * checking R files for library.dynam ...Error: cannot open file
> `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck/chlib/R/chlib' for reading
> at /usr/local/lib/R/bin/check line 522.
> 
> What can this be?
> 
> Thanks for help
> 
> --christian
> 
> At 13:10 04.01.2002 +0100, Göran Broström wrote:
> >I asked the same question some days ago. I have:
> >
> >-rw-r--r--    1 gb       gb           4070 Dec 30 10:13 statistics.c
> >
> >which works. Maybe 644? Check archives, I have lost the answer I got.
> >
> >Göran
> >
> 
> 
> 
> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status = 
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib,
> package:mva, package:strlib, package:chlib, Autoloads, package:base
> 
> Dr.sc.math.Christian W. Hoffmann
> Mathematics and Statistical Computing
> Landscape Modeling and Web Applications
> Swiss Federal Research Institute WSL 
> Zuercherstrasse 111
> CH-8903 Birmensdorf, Switzerland
> phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
> e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
> www: http://www.wsl.ch/staff/christian.hoffmann/
> 

-- 
 Göran Broström                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Umeå University
 SE-90187 Umeå, Sweden             e-mail: gb@stat.umu.se


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Fri Jan  4 13:41:57 2002
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Fri, 4 Jan 2002 14:41:57 +0100 (MET)
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
Message-ID: <200201041341.OAA07672@pubhealth.ku.dk>

Hi everyone,

I encountered unexpected behaviour when calling "missing" within a
"local" environment, namely

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    dontwantme <- 1:100
    if (missing(y)) print("No \"y\" today")
  })
  x
}

whereupon I get

> fred(1:10)
Error in eval(expr, envir, enclos) : "missing" illegal use of missing

I think it is reasonable to expect missing to work in this context (I
suspect the problem relates to lazy evaluation): if not, it might be
helpful to amend the help file.

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan  4 13:51:29 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 4 Jan 2002 14:51:29 +0100 (MET)
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
Message-ID: <200201041351.OAA07843@pubhealth.ku.dk>

On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:

> Hi everyone,
>
> I encountered unexpected behaviour when calling "missing" within a
> "local" environment, namely
>
> fred <- function(x, y)
> {
>   x <- as.vector(x)
>   local({
>     dontwantme <- 1:100
>     if (missing(y)) print("No \"y\" today")
>   })
>   x
> }
>
> whereupon I get
>
> > fred(1:10)
> Error in eval(expr, envir, enclos) : "missing" illegal use of missing
>
> I think it is reasonable to expect missing to work in this context (I
> suspect the problem relates to lazy evaluation): if not, it might be
> helpful to amend the help file.

Why do you think it reasonable?  You've take a function from

     Evaluate an R expression in a specified environment.

and evaluated it somewhere where missing() is not defined.  If you had
used eval() explicitly, would you think it reasonable?  I doubt it.

Which help file did you have in mind?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Fri Jan  4 14:48:07 2002
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Fri, 4 Jan 2002 15:48:07 +0100 (MET)
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
Message-ID: <200201041448.PAA09053@pubhealth.ku.dk>

Hi Brian,

Prof Brian Ripley wrote:
> 
> On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:
> 
> > Hi everyone,
> >
> > I encountered unexpected behaviour when calling "missing" within a
> > "local" environment, namely
> >
> > fred <- function(x, y)
> > {
> >   x <- as.vector(x)
> >   local({
> >     dontwantme <- 1:100
> >     if (missing(y)) print("No \"y\" today")
> >   })
> >   x
> > }
> >
> > whereupon I get
> >
> > > fred(1:10)
> > Error in eval(expr, envir, enclos) : "missing" illegal use of missing
> >
> > I think it is reasonable to expect missing to work in this context (I
> > suspect the problem relates to lazy evaluation): if not, it might be
> > helpful to amend the help file.
> 
> Why do you think it reasonable?  You've take a function from
> 
>      Evaluate an R expression in a specified environment.
> 
> and evaluated it somewhere where missing() is not defined.  If you had
> used eval() explicitly, would you think it reasonable?  I doubt it.

By "reasonable" in this context I mean that the operation would appear
to be well-defined and useful.  I can access x within the local()
environment, ie it is found in the enclosing environment, and I do not
think that y should be treated any differently.  If I modify my function
to read

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    print(x)
    print(y)
    if (missing(y)) print("No \"y\" today")
  })
  x
}

then I get the error message

> fred(1:10)
 [1]  1  2  3  4  5  6  7  8  9 10
Error in print(y) : Argument "y" is missing, with no default

This error message suggests to me that "missing(y)" would evaluate
correctly.

> 
> Which help file did you have in mind?
> 

The help file for "missing".  This points out that "missing" is not
always reliable, eg after "x <- match.arg(x)".  Perhaps this could be
another example of "unreliability".

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis2.stat.umn.edu  Fri Jan  4 15:17:12 2002
From: luke@nokomis2.stat.umn.edu (Luke Tierney)
Date: Fri, 4 Jan 2002 09:17:12 -0600
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
In-Reply-To: <200201041448.PAA09053@pubhealth.ku.dk>; from J.C.Rougier@durham.ac.uk on Fri, Jan 04, 2002 at 03:48:07PM +0100
References: <200201041448.PAA09053@pubhealth.ku.dk>
Message-ID: <20020104091712.A19103@nokomis2.stat.umn.edu>

I think Jonathan has a point.  Here is another variation that does not
involve explicit eval or local:

	f<-function(x){
	    g<-function() missing(x)
	    g()
	}

	> f()
	Error in g() : "missing" illegal use of missing

This sort of thing does not arise in S, but with lexical scope in R it
seems natural to me at least that missing should work on lexically
visible variables.  The error produced by

	f<-function(x){
	    g<-function() x
	    g()
	}

	> f()
	Error in g() : Argument "x" is missing, with no default

also suggests that it would be nice to be able to use missing to guard
against this error.

For the short term we should add a note to the help file for missing
(I will do this), but longer term I think we should revise the missing
inplementation to handle these cases more naturally (unless anyone
sees anything seriously wrong with that).

By the way, the help for missing says:

     `missing(x)' is only reliable if `x' has not been altered since
     entering the function: in particular it will always be true after
     `x <- match.arg(x)'. 

I believe that should be "... it will always be false after ..."?

luke

On Fri, Jan 04, 2002 at 03:48:07PM +0100, J.C.Rougier@durham.ac.uk wrote:
> Hi Brian,
> 
> Prof Brian Ripley wrote:
> > 
> > On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:
> > 
> > > Hi everyone,
> > >
> > > I encountered unexpected behaviour when calling "missing" within a
> > > "local" environment, namely
> > >
> > > fred <- function(x, y)
> > > {
> > >   x <- as.vector(x)
> > >   local({
> > >     dontwantme <- 1:100
> > >     if (missing(y)) print("No \"y\" today")
> > >   })
> > >   x
> > > }
> > >
> > > whereupon I get
> > >
> > > > fred(1:10)
> > > Error in eval(expr, envir, enclos) : "missing" illegal use of missing
> > >
> > > I think it is reasonable to expect missing to work in this context (I
> > > suspect the problem relates to lazy evaluation): if not, it might be
> > > helpful to amend the help file.
> > 
> > Why do you think it reasonable?  You've take a function from
> > 
> >      Evaluate an R expression in a specified environment.
> > 
> > and evaluated it somewhere where missing() is not defined.  If you had
> > used eval() explicitly, would you think it reasonable?  I doubt it.
> 
> By "reasonable" in this context I mean that the operation would appear
> to be well-defined and useful.  I can access x within the local()
> environment, ie it is found in the enclosing environment, and I do not
> think that y should be treated any differently.  If I modify my function
> to read
> 
> fred <- function(x, y)
> {
>   x <- as.vector(x)
>   local({
>     print(x)
>     print(y)
>     if (missing(y)) print("No \"y\" today")
>   })
>   x
> }
> 
> then I get the error message
> 
> > fred(1:10)
>  [1]  1  2  3  4  5  6  7  8  9 10
> Error in print(y) : Argument "y" is missing, with no default
> 
> This error message suggests to me that "missing(y)" would evaluate
> correctly.
> 
> > 
> > Which help file did you have in mind?
> > 
> 
> The help file for "missing".  This points out that "missing" is not
> always reliable, eg after "x <- match.arg(x)".  Perhaps this could be
> another example of "unreliability".
> 
> Cheers, Jonathan.
> 
> -- 
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sway@tanox.com  Fri Jan  4 15:20:35 2002
From: sway@tanox.com (Shawn Way)
Date: Fri, 4 Jan 2002 09:20:35 -0600
Subject: [Rd] Testing a Port...
Message-ID: <0565F48FC373D411BE4D00B0D049602628E69B@nt40hou1.tanox.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C19533.5BC03B40
Content-Type: text/plain

I've been porting a library from the STATLIB site from S+ to R.
Unfortunately, I don't have the capability to test the port against the
original application.  Is there anyone out there who has S+ inhouse that can
help in this manner?

Also, this is a first time port for a relative newbie, so there are some
things that need to be worked out yet...



--------------------------
"Don't rush me, you rush a miracle, you get a rotten miracle." 
-Miracle Max, The Princess Bride
--------------------------

Shawn Way

------_=_NextPart_001_01C19533.5BC03B40
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>Testing a Port...</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I've been porting a library from the STATLIB site =
from S+ to R. Unfortunately, I don't have the capability to test the =
port against the original application.&nbsp; Is there anyone out there =
who has S+ inhouse that can help in this manner?</FONT></P>

<P><FONT SIZE=3D2>Also, this is a first time port for a relative =
newbie, so there are some things that need to be worked out =
yet...</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>--------------------------</FONT>
<BR><FONT SIZE=3D2>&quot;Don't rush me, you rush a miracle, you get a =
rotten miracle.&quot; </FONT>
<BR><FONT SIZE=3D2>-Miracle Max, The Princess Bride</FONT>
<BR><FONT SIZE=3D2>--------------------------</FONT>
</P>

<P><FONT SIZE=3D2>Shawn Way</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C19533.5BC03B40--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Jan  4 19:44:49 2002
From: andy_liaw@merck.com (andy_liaw@merck.com)
Date: Fri, 4 Jan 2002 20:44:49 +0100 (MET)
Subject: [Rd] copy metafile from window() device fails when lattice/grid is (PR#1242)
Message-ID: <200201041944.UAA11607@pubhealth.ku.dk>

Dear all,

I'm running into a rather strange problem that hasn't happened before
R-1.4.0.  If I make a plot on a window() device, and use the menu to either
save to a metafile or copy to clipboard as a metafile, I get an error
message in the R console:

Error: A metafile can store only one figure.

This only happens when the lattice (and grid) package is attached,
regardless of whether the plot is Trellis or non-Trellis.  If I detach both
lattice and grid, and make the plot on a fresh window() device, I have no
problem getting the metafile.  If I try trellis.device(win.metafile,
"try.emf", bg="white"), I get 

Error in if (color) { : argument is not interpretable as logical

but the device is openned.  If I try to make a trellis plot, I get

Error in grid.newpage() : A metafile can store only one figure.

Any idea how to get around this problem?  TIA!!

Cheers,
Andy
--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:lattice, package:grid, package:ctest, Autoloads,
package:base

Andy I. Liaw, PhD
Biometrics Research          Phone: (732) 594-0820
Merck & Co., Inc.              Fax: (732) 594-1565
P.O. Box 2000, RY70-38            Rahway, NJ 07065
mailto:andy_liaw@merck.com




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan  4 19:51:22 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 4 Jan 2002 20:51:22 +0100 (MET)
Subject: (PR#1242)[Rd] copy metafile from window() device fails when
Message-ID: <200201041951.UAA11666@pubhealth.ku.dk>

The problem is known and is in grid/lattice. That starts up a blank page
before the first plot. It is not related to 1.3.1/1.4.0, but to grid
updates.  Paul Murrell has been informed!


On Fri, 4 Jan 2002 andy_liaw@merck.com wrote:

> Dear all,
>
> I'm running into a rather strange problem that hasn't happened before
> R-1.4.0.  If I make a plot on a window() device, and use the menu to either
> save to a metafile or copy to clipboard as a metafile, I get an error
> message in the R console:
>
> Error: A metafile can store only one figure.
>
> This only happens when the lattice (and grid) package is attached,
> regardless of whether the plot is Trellis or non-Trellis.  If I detach both
> lattice and grid, and make the plot on a fresh window() device, I have no
> problem getting the metafile.  If I try trellis.device(win.metafile,
> "try.emf", bg="white"), I get
>
> Error in if (color) { : argument is not interpretable as logical
>
> but the device is openned.  If I try to make a trellis plot, I get
>
> Error in grid.newpage() : A metafile can store only one figure.
>
> Any idea how to get around this problem?  TIA!!

Copy from an on-screen window.

>
> Cheers,
> Andy
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
>
> Windows NT 4.0 (build 1381) Service Pack 6
>
> Search Path:
>  .GlobalEnv, package:lattice, package:grid, package:ctest, Autoloads,
> package:base
>
> Andy I. Liaw, PhD
> Biometrics Research          Phone: (732) 594-0820
> Merck & Co., Inc.              Fax: (732) 594-1565
> P.O. Box 2000, RY70-38            Rahway, NJ 07065
> mailto:andy_liaw@merck.com
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Jan  4 19:51:40 2002
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 4 Jan 2002 20:51:40 +0100
Subject: [Rd] R CMD check (PR#1240)
In-Reply-To: <200201041234.NAA06142@pubhealth.ku.dk>
References: <200201041234.NAA06142@pubhealth.ku.dk>
Message-ID: <15414.1996.510707.189484@mithrandir.hornik.net>

>>>>> christian hoffmann writes:

> Göran,
> After  chmod 644 * I got some success:

> hoffmann@fluke:~/R/Sources >R CMD check chlib
> * checking for working latex ... OK
> * using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'

> Installing *binary* package `chlib' ...
>  DONE (chlib)

Why does it say *binary* package?
R CMD check is meant for sources ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Sat Jan  5 00:11:48 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Sat, 5 Jan 2002 01:11:48 +0100 (MET)
Subject: [Rd] abline and log plots (PR#1243)
Message-ID: <200201050011.BAA12574@pubhealth.ku.dk>

Full_Name: Stephen Eglen
Version: 1.4
OS: Redhat Linux 7.1
Submission from: (NULL) (128.252.204.36)


abline() produces a spurious line in addition to the correct line, at least with

the X11 driver.  The postscript file generated also has nan values in it, which
causes an error under ghostscript.

xs <- c(0, 150, 300)
ys <- c(75, 40, 23)
par(mfrow=c(1,2))
plot(xs,ys, log="")
abline(70, -0.25, -.1, untf=F)
plot(xs,ys, log="y")
abline(70, -0.3, -.1, untf=T)
dev.copy2eps(file="abline.ps")


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jan  5 00:31:13 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2002 01:31:13 +0100
Subject: [Rd] abline and log plots (PR#1243)
In-Reply-To: <200201050011.BAA12574@pubhealth.ku.dk>
References: <200201050011.BAA12574@pubhealth.ku.dk>
Message-ID: <x2bsg9d4fi.fsf@blueberry.kubism.ku.dk>

stephen@cogsci.ed.ac.uk writes:

> Full_Name: Stephen Eglen
> Version: 1.4
> OS: Redhat Linux 7.1
> Submission from: (NULL) (128.252.204.36)
> 
> 
> abline() produces a spurious line in addition to the correct line, at least with
> 
> the X11 driver.  The postscript file generated also has nan values in it, which
> causes an error under ghostscript.
> 
> xs <- c(0, 150, 300)
> ys <- c(75, 40, 23)
> par(mfrow=c(1,2))
> plot(xs,ys, log="")
> abline(70, -0.25, -.1, untf=F)
> plot(xs,ys, log="y")
> abline(70, -0.3, -.1, untf=T)
> dev.copy2eps(file="abline.ps")

Still in the development version too. Notice that it is log="y" +
untf=T that is causing the trouble. Looks like the clipping algorithm
is getting confused.

A fairly straightforward workaround is 

plot(xs,ys, log="y")
curve(70-0.3*x,add=T)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From armin@approximity.com  Sat Jan  5 00:48:25 2002
From: armin@approximity.com (armin@approximity.com)
Date: Sat, 5 Jan 2002 01:48:25 +0100 (MET)
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
Message-ID: <200201050048.BAA12656@pubhealth.ku.dk>

Full_Name: Armin Roehrl
Version: 1.4.0(2001-12-19)
OS: Linux; Suse 7.3
Submission from: (NULL) (217.84.18.204)


Hello,

On a given matrix det returns different results whether
I use the method "qr" or "eivenvalues".

The matrix:
> m2
             [,1]         [,2]        [,3]
[1,] 9.822616e+09 3.841723e+09    79790.09
[2,] 3.841723e+09 1.502536e+09    31251.82
[3,] 7.979009e+04 3.125182e+04 64156419.36

> det(m2, method="eigenvalues")
[1] -9.331893e+19


> det(m2, method="qr")
[1] 9.331893e+19

I think the result based on the eigenvalues is correct.

Good night.
	Armin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jan  5 02:10:15 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2002 03:10:15 +0100
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
In-Reply-To: <200201050048.BAA12656@pubhealth.ku.dk>
References: <200201050048.BAA12656@pubhealth.ku.dk>
Message-ID: <x2itahtuns.fsf@blueberry.kubism.ku.dk>

armin@approximity.com writes:

> Full_Name: Armin Roehrl
> Version: 1.4.0(2001-12-19)
> OS: Linux; Suse 7.3
> Submission from: (NULL) (217.84.18.204)
> 
> 
> Hello,
> 
> On a given matrix det returns different results whether
> I use the method "qr" or "eivenvalues".
> 
> The matrix:
> > m2
>              [,1]         [,2]        [,3]
> [1,] 9.822616e+09 3.841723e+09    79790.09
> [2,] 3.841723e+09 1.502536e+09    31251.82
> [3,] 7.979009e+04 3.125182e+04 64156419.36

That format is a bit awkward to key back in. Could you do a dput(m2)
so that it becomes easier for us to reproduce the effect?

> > det(m2, method="eigenvalues")
> [1] -9.331893e+19
> 
> 
> > det(m2, method="qr")
> [1] 9.331893e+19
> 
> I think the result based on the eigenvalues is correct.
> 
> Good night.
> 	Armin
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From armin@approximity.com  Sat Jan  5 09:50:25 2002
From: armin@approximity.com (Armin Roehrl)
Date: Sat, 5 Jan 2002 10:50:25 +0100
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
In-Reply-To: <x2itahtuns.fsf@blueberry.kubism.ku.dk>
References: <200201050048.BAA12656@pubhealth.ku.dk> <x2itahtuns.fsf@blueberry.kubism.ku.dk>
Message-ID: <200201051046.g05AkWW29240@approximity.com>

Good morning,

>dput(m2)
structure(c(9822616000, 3841723000, 79790.09, 3841723000, 1502536000, 
31251.82, 79790.09, 31251.82, 64156419.36), .Dim = c(3, 3))

> det(m2, method="eigenvalues")
[1] -9.331893e+19
> det(m2, method="qr")
[1] 9.331893e+19

I hope it's not just some numerical accuracy thing and therefore
wasting your time.

Thx,
	Armin

On Saturday 05 January 2002 03:10, Peter Dalgaard BSA wrote:
> 64156419.36

-- 
Armin.

-----------------------------------------------
Armin Roehrl, http://www.approximity.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jan  5 11:45:55 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2002 12:45:55 +0100
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
In-Reply-To: <200201051046.g05AkWW29240@approximity.com>
References: <200201050048.BAA12656@pubhealth.ku.dk>
 <x2itahtuns.fsf@blueberry.kubism.ku.dk>
 <200201051046.g05AkWW29240@approximity.com>
Message-ID: <x2heq110ng.fsf@blueberry.kubism.ku.dk>

Armin Roehrl <armin@approximity.com> writes:

> Good morning,
> 
> >dput(m2)
> structure(c(9822616000, 3841723000, 79790.09, 3841723000, 1502536000, 
> 31251.82, 79790.09, 31251.82, 64156419.36), .Dim = c(3, 3))
> 
> > det(m2, method="eigenvalues")
> [1] -9.331893e+19
> > det(m2, method="qr")
> [1] 9.331893e+19
> 
> I hope it's not just some numerical accuracy thing and therefore
> wasting your time.

It's a numerical accuracy thing, but not a waste of time. The issue
is that qr() thinks that the matrix is singular:

> prod(diag(qr(m,tol=1e-9)$qr))
[1] -9.331893e+19
> prod(diag(qr(m)$qr))
[1] 9.331893e+19

Two issues here: 
(a) if qr() thinks a matrix is singular, I think det() should take the
consequences and return zero.
(b) Perhaps there ought to be a way to pass the tol= argument to det. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@free.fr  Sat Jan  5 20:19:52 2002
From: haibi@free.fr (haibi@free.fr)
Date: Sat, 5 Jan 2002 21:19:52 +0100 (MET)
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier (PR#1245)
Message-ID: <200201052019.VAA15219@pubhealth.ku.dk>


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@free.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@free.fr  Sat Jan  5 20:20:52 2002
From: haibi@free.fr (Habib HAIBI)
Date: Sat, 5 Jan 2002 21:20:52 +0100
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
Message-ID: <3c375fff3d0e4a91@villosa.wanadoo.fr> (added by villosa.wanadoo.fr)


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@free.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@wanadoo.fr  Sat Jan  5 21:50:26 2002
From: haibi@wanadoo.fr (Habib HAIBI)
Date: Sat, 5 Jan 2002 22:50:26 +0100
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
Message-ID: <3c3774fc3cc1f496@mahonia.wanadoo.fr> (added by mahonia.wanadoo.fr)


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@wanadoo.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@wanadoo.fr  Sat Jan  5 21:50:41 2002
From: haibi@wanadoo.fr (haibi@wanadoo.fr)
Date: Sat, 5 Jan 2002 22:50:41 +0100 (MET)
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier (PR#1246)
Message-ID: <200201052150.WAA15408@pubhealth.ku.dk>


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@wanadoo.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Sun Jan  6 04:08:58 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Sat, 5 Jan 2002 23:08:58 -0500
Subject: [Rd] speeding up [.data.frame
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF13F@groexmbcr02.pfizer.com>


(I'm up too late so this might come through garbled...)

I've just been doing some bootstrapping on data frames and I discovered that
S-plus 6.0r1 was a *lot* faster than R 1.3.1 at the task.  Splus was
completing 100 bootstrap iterations in about 4 seconds while R was taking
about 15 seconds. However, doing bootstrapping on equivalent *matrices* R
was slightly faster, 1.5 seconds verses 1.86.

Now, since I'm doing glm's inside the bootstrap, I really need to use data
frames...

It turns out that one of the reasons S-plus is faster on data frames is that
S-Plus's allows you to turn of checking for/resolution of duplicate row
names in "[.data.frame" by setting an attribute 'dup.row.names' to any
non-NULL value.  Adding an additional argument to R's "[.data.frame"  (patch
below) to permit the same optimization and using the argument in my
bootstrap function reduced the elapsed time for R to 8.6 seconds.   

Still, I'm wondering if there are other 'reasonable' changes to
"[.data.frame" that could narrow the gap further...

-Greg

################ PATCH STARTS HERE #################3
diff -c /Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R.orig
/Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R
*** /Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R.orig	Sat
Jan  5 22:58:10 2002
--- /Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R	Sat Jan  5
22:58:10 2002
***************
*** 323,329 ****
  ###  These are a little less general than S
  
  "[.data.frame" <-
!     function(x, i, j, drop = if(missing(i)) TRUE else length(cols) == 1)
  {
      if(nargs() < 3) {
  	if(missing(i))
--- 323,330 ----
  ###  These are a little less general than S
  
  "[.data.frame" <-
!     function(x, i, j, drop = if(missing(i)) TRUE else length(cols) == 1,
!              dup.row.names=F)
  {
      if(nargs() < 3) {
  	if(missing(i))
***************
*** 390,396 ****
      }
      if(!drop) {
  	names(x) <- cols
! 	if(any(duplicated(rows)))
  	    rows <- make.names(rows, unique = TRUE)
  	attr(x, "row.names") <- rows
  	class(x) <- cl
--- 391,397 ----
      }
      if(!drop) {
  	names(x) <- cols
!         if (any(duplicated(rows)) && !dup.row.names) 
  	    rows <- make.names(rows, unique = TRUE)
  	attr(x, "row.names") <- rows
  	class(x) <- cl




LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Jan  6 07:52:09 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 Jan 2002 07:52:09 +0000 (GMT)
Subject: [Rd] speeding up [.data.frame
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF13F@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0201060735290.23866-100000@gannet.stats>

On Sat, 5 Jan 2002, Warnes, Gregory R wrote:

>
> (I'm up too late so this might come through garbled...)
>
> I've just been doing some bootstrapping on data frames and I discovered that
> S-plus 6.0r1 was a *lot* faster than R 1.3.1 at the task.  Splus was
> completing 100 bootstrap iterations in about 4 seconds while R was taking
> about 15 seconds. However, doing bootstrapping on equivalent *matrices* R
> was slightly faster, 1.5 seconds verses 1.86.
>
> Now, since I'm doing glm's inside the bootstrap, I really need to use data
> frames...

Why?  Surely you should be working at the design matrix level and calling
glm.fit directly?   Otherwise you are repeating a lot of work for every
bootstrap fit.

BTW, is 11 seconds worth saving?: it sound trivial to me.  But if it is,
moving to glm.fit looks to me to be the best optimization.

> It turns out that one of the reasons S-plus is faster on data frames is that
> S-Plus's allows you to turn of checking for/resolution of duplicate row
> names in "[.data.frame" by setting an attribute 'dup.row.names' to any
> non-NULL value.  Adding an additional argument to R's "[.data.frame"  (patch
> below) to permit the same optimization and using the argument in my
> bootstrap function reduced the elapsed time for R to 8.6 seconds.
>
> Still, I'm wondering if there are other 'reasonable' changes to
> "[.data.frame" that could narrow the gap further...

That one is not reasonable in my opinion.  It should not be in S-PLUS (and
the advisory board has discussed its removal, as I recall).  Having unique
row names is a fundamental property of data frames.  What you and they
seem to want is another class which is like data frames but does not
require row names, from which data.frame could inherit.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Mon Jan  7 06:15:03 2002
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Mon, 7 Jan 2002 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200201070615.g076F3h27776@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1218 *
Subject:  behavior of r* and d* functions at boundaries 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 17 Dec 2001 11:04:27 -0500
--points 1 and 2 were fixed for 1.4.0
* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
--This isn't really a bug: the line in question is a plain-text equation, not a
--piece of R code.

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)

Directory:  In-Out

none

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--
* PR# 1211 *
Subject: crash bug in get("function.name")()
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 11 Dec 2001 17:34:07 -0500 (EST)

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1233 *
Subject: Help for installation
From: "Dr. N.T.S. Wijesekera" <sohanw@ait.ac.th>
Date: Wed, 2 Jan 2002 14:24:35 +0700
* PR# 1234 *
Subject: R1.4.0 under Windows NT, package grid/lattice
From: H.Rinner@tirol.gv.at
Date: Wed, 2 Jan 2002 16:09:58 +0100 (MET)
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
* PR# 1236 *
Subject: type.convert()
From: dxsun@bell-labs.com
Date: Thu, 3 Jan 2002 17:00:18 +0100 (MET)
* PR# 1237 *
Subject: trellis plot and postscript file
From: dxsun@bell-labs.com
Date: Thu, 3 Jan 2002 18:25:46 +0100 (MET)
* PR# 1238 *
Subject:  identify.default() fails when x is a structure/matrix 
From: David James <dj@localhost.localdomain>
Date: Thu, 3 Jan 2002 17:17:12 -0500
* PR# 1239 *
Subject: R CMD check, file permissions
From: Christian Hoffmann <christian.hoffmann@wsl.ch>
Date: Fri, 04 Jan 2002 12:38:54 +0100
* PR# 1240 *
Subject:  R CMD check 
From: hoffmann@wsl.ch
Date: Fri, 4 Jan 2002 12:51:15 +0100 (MET)
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
* PR# 1242 *
Subject: copy metafile from window() device fails when lattice/grid is
From: "Liaw, Andy" <andy_liaw@merck.com>
Date: Fri, 04 Jan 2002 14:43:08 -0500
* PR# 1243 *
Subject: abline and log plots
From: stephen@cogsci.ed.ac.uk
Date: Sat, 5 Jan 2002 01:11:47 +0100 (MET)
* PR# 1244 *
Subject: possible bug in det using method="qr"
From: armin@approximity.com
Date: Sat, 5 Jan 2002 01:48:13 +0100 (MET)
* PR# 1245 *
Subject: Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
From: Habib HAIBI<haibi@free.fr>
Date: Sat, 5 Jan 2002 21:19:49 +0100
* PR# 1246 *
Subject: Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
From: Habib HAIBI<haibi@wanadoo.fr>
Date: Sat, 5 Jan 2002 22:50:23 +0100
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From terra@diku.dk  Mon Jan  7 15:19:10 2002
From: terra@diku.dk (Morten Welinder)
Date: 7 Jan 2002 15:19:10 -0000
Subject: [Rd] qbeta function (FYI, compiler bug)
Message-ID: <20020107151910.14705.qmail@tyr.diku.dk>


Hi there,

this is just to let you know that the qbeta function, which was
copied from R into Gnumeric, has been confirmed to be miscompiled
by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

This shows by qbeta(0.025,4,0.5) ending up taking the wrong
branch of "if (alpha <= 0.5)".

We compile things in a different context, so this may or may not
affect you.  The qbeta function was taken from R 0.64.

Morten

http://www.gnome.org/gnumeric/
http://bugzilla.gnome.org/show_bug.cgi?id=68057
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Jan  7 15:47:32 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jan 2002 16:47:32 +0100
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <20020107151910.14705.qmail@tyr.diku.dk>
References: <20020107151910.14705.qmail@tyr.diku.dk>
Message-ID: <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>

Morten Welinder <terra@diku.dk> writes:

> Hi there,
> 
> this is just to let you know that the qbeta function, which was
> copied from R into Gnumeric, has been confirmed to be miscompiled
> by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

Which version? The ones in RH 7.1 and later has seemed to be quite
solid, whereas the one shipping with 7.0 was worthless (and so was the
first 50 or so fixup revisions of the compiler that should never have
been released...).

> This shows by qbeta(0.025,4,0.5) ending up taking the wrong
> branch of "if (alpha <= 0.5)".

> We compile things in a different context, so this may or may not
> affect you.  The qbeta function was taken from R 0.64.
> 
> Morten

0.64 is 2.5 years old! Several things have been fixed since then,
including at least one really bad bug in qbeta(). You might want to
track the development of R a bit closer (&maybe note that R's math
library can now be compiled a a standalone dynlib).

The "if (alpha <= 0.5)" line has disappeared in recent versions, but I
don't see any trouble in the current version, compiled with
gcc-2.96-81:

> pbeta(qbeta(0.025,4,0.5),4,.5)
[1] 0.025


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Mon Jan  7 15:52:57 2002
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Mon, 7 Jan 2002 16:52:57 +0100 (MET)
Subject: [Rd] Mishandling missing "..." (PR#1247)
Message-ID: <200201071552.QAA00375@pubhealth.ku.dk>

R> myfun <- function(x, ...) {x[...] <- 0; x}
R> myfun(3)
   Error in myfun(3) : SubAssignArgs: invalid number of arguments

It fails because no ... was passed.  The workaround (and desired behavior) is:
R> myfun <- function(x, ...) {if (missing(...)) x[] <- 0 else x[...] <- 0; x}
R> myfun(3)
   [1] 0

Deja vu?  This is the one piece of my PR#1110 (Oct 3, 2001) that I think may be
a genuine bug (though even that is debatable), and I would like to override
PR#1110 with this report.  This behavior still occurs in 1.4.0.

-- 
                              -- David Brahm (brahm@alum.mit.edu)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From terra@diku.dk  Mon Jan  7 16:07:16 2002
From: terra@diku.dk (Morten Welinder)
Date: 7 Jan 2002 16:07:16 -0000
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 07 Jan 2002 16:47:32 +0100)
References: <20020107151910.14705.qmail@tyr.diku.dk> <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020107160716.17625.qmail@tyr.diku.dk>


   > this is just to let you know that the qbeta function, which was
   > copied from R into Gnumeric, has been confirmed to be miscompiled
   > by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

   Which version? The ones in RH 7.1 and later has seemed to be quite
   solid [...]

The problem is seen with "gcc version 2.96 20000731 (Red Hat Linux 7.1
2.96-98)".  That would appear to be newer than yours.

   0.64 is 2.5 years old!  Several things have been fixed since then,
   [...]

Ahem, :-)  I did look at some point and nothing much had changed.
I've put it on my todo list to have a look.  (We might switch to
GSL since that has more code that we would like to offload from
our backs.  Also, the packing seems to be nicer.  On the other hand,
I have no idea of how reliable it is.)

Thanks,

Morten
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stefano.iacus@unimi.it  Mon Jan  7 16:10:17 2002
From: stefano.iacus@unimi.it (Stefano Iacus)
Date: Mon, 7 Jan 2002 17:10:17 +0100
Subject: [Rd] quadprog
Message-ID: <0A6D4C0A-0389-11D6-8E49-003065CC4CB8@unimi.it>

Hy,
I have to solve the following minimization problem on x

Q(x) = 1/2 x' A x + x'b

where Q is a quadratic form and x is in the simplex (x_i>=0, sum_i x_i = 
1, i=1,...,n), A pos. def. and b a negative vector.

I have tried with quadprog routines but it gives me solutions of the form
x* = (...,1,..)
where the dots "." are zeroes "0".

the toolbox optim/quadprog in Matlab lead to the same results as 
R+quaprog package (they use the "same" qld algorithm).

Are there any more efficient methods based on lagrange multipliers + 
standard simplex minimization ? I think that the qld algorithm is rather 
general and then not efficient for my specific case.

Any idea or reference ?

Stefano








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Jan  7 16:59:24 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jan 2002 17:59:24 +0100
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <20020107160716.17625.qmail@tyr.diku.dk>
References: <20020107151910.14705.qmail@tyr.diku.dk>
 <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
 <20020107160716.17625.qmail@tyr.diku.dk>
Message-ID: <x2itaef66r.fsf@blueberry.kubism.ku.dk>

Morten Welinder <terra@diku.dk> writes:

>    > this is just to let you know that the qbeta function, which was
>    > copied from R into Gnumeric, has been confirmed to be miscompiled
>    > by gcc 2.96 on Linux.  (That's Red Hat's compiler.)
> 
>    Which version? The ones in RH 7.1 and later has seemed to be quite
>    solid [...]
> 
> The problem is seen with "gcc version 2.96 20000731 (Red Hat Linux 7.1
> 2.96-98)".  That would appear to be newer than yours.
> 
>    0.64 is 2.5 years old!  Several things have been fixed since then,
>    [...]
> 
> Ahem, :-)  I did look at some point and nothing much had changed.
> I've put it on my todo list to have a look.  (We might switch to
> GSL since that has more code that we would like to offload from
> our backs.  Also, the packing seems to be nicer.  On the other hand,
> I have no idea of how reliable it is.)

GSL doesn't seem to have the distribution functions. Lots of random
variable generation, but no pbeta/qbeta and friends. In general, the
support for statistical analysis is quite weak and strongly slanted
towards physics applications.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Jan  7 17:01:40 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 7 Jan 2002 18:01:40 +0100
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <20020107160716.17625.qmail@tyr.diku.dk>
References: <20020107151910.14705.qmail@tyr.diku.dk>
 <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
 <20020107160716.17625.qmail@tyr.diku.dk>
Message-ID: <15417.54388.87441.372262@gargle.gargle.HOWL>

>>>>> "Morten" == Morten Welinder <terra@diku.dk> writes:

    >> this is just to let you know that the qbeta function,
    >> which was copied from R into Gnumeric, has been confirmed
    >> to be miscompiled by gcc 2.96 on Linux.  (That's Red
    >> Hat's compiler.)

    Morten>    Which version? The ones in RH 7.1 and later has
    Morten> seemed to be quite solid [...]

    Morten> The problem is seen with "gcc version 2.96 20000731
    Morten> (Red Hat Linux 7.1 2.96-98)".  That would appear to
    Morten> be newer than yours.

    Morten>    0.64 is 2.5 years old!  Several things have been
    Morten> fixed since then, [...]

    Morten> Ahem, :-) I did look at some point and nothing much

if you measure "much" in percentage of changed source code. 
Sometimes a bug is fixed by replacing "<" with "<=" etc... which
is not ``much'' .. :-)
Really, please don't use anything <= R 1.0; and indeed, since
you should upgrade anyway, please use the current 1.4.0.

    Morten> had changed.  I've put it on my todo list to have a
    Morten> look.  (We might switch to GSL since that has more
    Morten> code that we would like to offload from our backs.
    Morten> Also, the packing seems to be nicer.  On the other
    Morten> hand, I have no idea of how reliable it is.)

Well, without wanting to brag, it still must be said:
The things we do with distributions, we do **much** better than
the GSL (which has quite a wider scope of numerical analysis
than we do), at least for the few cases I looked at.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Jan  7 17:54:40 2002
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Mon, 7 Jan 2002 18:54:40 +0100 (MET)
Subject: [Rd] piechart default colour (PR#1248)
Message-ID: <200201071754.SAA01839@pubhealth.ku.dk>

As of 1.4.0, the default colour of pieslices is black. Try
piechart(1:3) for instance. The workaround is to use an explicit
col="white" argument.

(Of course, everything in example(piechart) uses fancy colour schemes,
so nobody noticed that the default got changed.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Mon Jan  7 18:42:44 2002
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Mon, 7 Jan 2002 19:42:44 +0100 (MET)
Subject: [Rd] cluster - clusplot.default (PR#1249)
Message-ID: <200201071842.TAA02067@pubhealth.ku.dk>



    


The following code in clusplot.default (package cluster) is in error:

x1 <- cmdscale(x, k = 2, eig = TRUE)
        var.dec <- sum(x1$eig)/sum(diag(x1$x))
        if (var.dec < 0) 
            var.dec <- 0
        if (var.dec > 1) 
            var.dec <- 1
        x1 <- x1$points

x1 has components with names "points" and "eig", not "x", so 
sum(diag(x1$x)) returns 0, the division gives Inf which is later replaced 
by 1. 
So in the plot it is reported (always) that "These two components explain 
100% 
of the variability". 

Besides, is it reasonable that sum(NULL) returns 0 without at least a 
warning?

Another small point about the cluster package: it loads automatically
mva, but that is not mentioned in the Depends field in the description file.

Kjetil Halvorsen



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From apjaworski@mmm.com  Mon Jan  7 18:47:12 2002
From: apjaworski@mmm.com (apjaworski@mmm.com)
Date: Mon, 7 Jan 2002 12:47:12 -0600
Subject: [Rd] qbeta function (FYI, compiler bug)
Message-ID: <OFFE9E74CF.84A8CAF7-ON86256B3A.0066C491@mmm.com>


I am not sure if this is still true.

Hre is a quick check:

(1) R-1.4.0 (Prof. Ripley build), Win2000

     > qbeta(0.025,4,0.5)
     [1] 0.5137795

(2) R-1.4.0 (compiled from source), RH-7.2 (gcc 2.96-98)

     > qbeta(0.025,4,0.5)
     [1] 0.5137795

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski@mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    Morten Welinder                                                                                                            
                    <terra@diku.dk>      To:     r-devel@hypatia.math.ethz.ch                                                                  
                                         cc:     (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                 
                    01/07/2002           Subject:     [Rd] qbeta function (FYI, compiler bug)                                                  
                    09:19 AM                                                                                                                   
                                                                                                                                               
                                                                                                                                               






Hi there,

this is just to let you know that the qbeta function, which was
copied from R into Gnumeric, has been confirmed to be miscompiled
by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

This shows by qbeta(0.025,4,0.5) ending up taking the wrong
branch of "if (alpha <= 0.5)".

We compile things in a different context, so this may or may not
affect you.  The qbeta function was taken from R 0.64.

Morten

http://www.gnome.org/gnumeric/
http://bugzilla.gnome.org/show_bug.cgi?id=68057
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Jan  7 19:14:33 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 7 Jan 2002 11:14:33 -0800 (PST)
Subject: [Rd] Mishandling missing "..." (PR#1247)
In-Reply-To: <200201071552.QAA00375@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.43.0201071110230.157118-100000@homer04.u.washington.edu>

On Mon, 7 Jan 2002 brahm@alum.mit.edu wrote:

> R> myfun <- function(x, ...) {x[...] <- 0; x}
> R> myfun(3)
>    Error in myfun(3) : SubAssignArgs: invalid number of arguments
>
> It fails because no ... was passed.  The workaround (and desired behavior) is:
> R> myfun <- function(x, ...) {if (missing(...)) x[] <- 0 else x[...] <- 0; x}
> R> myfun(3)
>    [1] 0
>

This is interesting.  Another workaround is

> myfun
function(x, ...) {x[...] <- 0; x}
> myfun(3,)
[1] 0

and the problem goes down to eval.c:evalListKeepMissing, which says
	/* If we have a ... symbol, we look to see what it is bound to.
	 * If its binding is Null (i.e. zero length)
	 *	we just ignore it and return the cdr with all its
               expressions evaluated;

The difference between  myfun(3) and myfun(3,) is that in the former case
there are no ... arguments, in the latter there is a ... argument but it's
missing.

In one way this would be fairly easy to fix by writing yet another variant
of evalList that replaced an empty ... with R_MissingArg, but I'm scared.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Jan  7 19:38:59 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Jan 2002 19:38:59 +0000 (GMT)
Subject: [Rd] cluster - clusplot.default (PR#1249)
In-Reply-To: <200201071842.TAA02067@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201071934140.32313-100000@gannet.stats>

On Mon, 7 Jan 2002 kjetilh@umsanet.edu.bo wrote:

>
>
>
>
>
> The following code in clusplot.default (package cluster) is in error:
>
> x1 <- cmdscale(x, k = 2, eig = TRUE)
>         var.dec <- sum(x1$eig)/sum(diag(x1$x))
>         if (var.dec < 0)
>             var.dec <- 0
>         if (var.dec > 1)
>             var.dec <- 1
>         x1 <- x1$points
>
> x1 has components with names "points" and "eig", not "x", so
> sum(diag(x1$x)) returns 0, the division gives Inf which is later replaced
> by 1.
> So in the plot it is reported (always) that "These two components explain
> 100%
> of the variability".
>
> Besides, is it reasonable that sum(NULL) returns 0 without at least a
> warning?

Yes: an empty sum is zero in mathematics.  S code relies on such things.

> Another small point about the cluster package: it loads automatically
> mva, but that is not mentioned in the Depends field in the description file.

It depends on base too, but that's not mentioned.  The convention is to
only include packages that are not in the standard tar bundle.
We can (and do) move things around between those, and indeed have talked
about some major reorganization of them (back as far DSC99, in fact).

You'll find most packages follow that convention: MASS uses almost all the
standard packages somewhere.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From terra@diku.dk  Mon Jan  7 20:25:47 2002
From: terra@diku.dk (Morten Welinder)
Date: 7 Jan 2002 20:25:47 -0000
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 07 Jan 2002 16:47:32 +0100)
References: <20020107151910.14705.qmail@tyr.diku.dk> <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020107202547.25588.qmail@tyr.diku.dk>


Thanks all.

I checked 1.4 and a clever head here noticed that one problem still
seems to be there.  In the !IEEE_754 case, either qbeta should zero
errno or else pbeta_raw should.

A similar problem seems to be in qgamma.

Morten
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Mon Jan  7 22:01:00 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 7 Jan 2002 17:01:00 -0500
Subject: [Rd] speeding up [.data.frame
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF14A@groexmbcr02.pfizer.com>


 >  -----Original Message-----
 >  From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
 >  Subject: Re: [Rd] speeding up [.data.frame
 >  
 >  
 >  On Sat, 5 Jan 2002, Warnes, Gregory R wrote:
 >  
 >  >
 >  > (I'm up too late so this might come through garbled...)
 >  >
 >  > I've just been doing some bootstrapping on data frames 
 >  > and I discovered that S-plus 6.0r1 was a *lot* faster 
 >  > than R 1.3.1 at the task. Splus was completing 100 bootstrap 
 >  > iterations in about 4 seconds while R was taking
 >  > about 15 seconds. However, doing bootstrapping on 
 >  > equivalent *matrices* R was slightly faster, 1.5 seconds verses 1.86.
 >  >
 >  > Now, since I'm doing glm's inside the bootstrap, I really 
 >  > need to use data frames...
 >  
 >  Why?  Surely you should be working at the design matrix 
 >  level and calling glm.fit directly?   Otherwise you are repeating a lot
of 
 >  work for every bootstrap fit.

Ahh, well, I usually start doing things the easy way and then work towards
harder (and potentially more efficient) ones.  I was  just suprised about
the overhead of bootstrapping a data frame when the operation inside the
bootstrap was essentially a NOOP.  

Is there example code of calling glm fit somewhere?

 >  
 >  BTW, is 11 seconds worth saving?: it sound trivial to me.  
 >  But if it is,
 >  moving to glm.fit looks to me to be the best optimization.

No, 11 seconds is not worth much work.  However, when I do 1000 bootstrap
samples it just might be 110 seconds and if we throw this insite another
loop to search over one of the parameters (which it looks like we may have
to do) this gets multiplied again..

 >  
 >  > It turns out that one of the reasons S-plus is faster on 
 >  > data frames is that S-Plus's allows you to turn of checking 
 >  > for/resolution of duplicate row names in "[.data.frame" by 
 >  > setting an attribute 'dup.row.names' to any non-NULL value.  
 >  > Adding an additional argument to R's "[.data.frame"  (patch
 >  > below) to permit the same optimization and using the argument in my
 >  > bootstrap function reduced the elapsed time for R to 8.6 seconds.
 >  >
 >  > Still, I'm wondering if there are other 'reasonable' changes to
 >  > "[.data.frame" that could narrow the gap further...
 >  
 >  That one is not reasonable in my opinion.  It should not be in S-PLUS
(and
 >  the advisory board has discussed its removal, as I recall). Having
unique
 >  row names is a fundamental property of data frames.  What you and they
 >  seem to want is another class which is like data frames but does not
 >  require row names, from which data.frame could inherit.

If there was another class that acted like a data frame but was 'lighter
weight' that would do for my purpose.  

BTW, are the 'fundimental properties' of various S language objects defined
anywhere?  Surely, some properties are implementation accidents, others are
implementation choices, and others are 'fundimental' to the behavior of the
object.

 >  
 >  -- 
 >  Brian D. Ripley,                  ripley@stats.ox.ac.uk
 >  Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 >  University of Oxford,             Tel:  +44 1865 272861 (self)
 >  1 South Parks Road,                     +44 1865 272860 (secr)
 >  Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Jan  7 22:22:40 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 7 Jan 2002 14:22:40 -0800 (PST)
Subject: [Rd] speeding up [.data.frame
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF14A@groexmbcr02.pfizer.com>
Message-ID: <Pine.A41.4.43.0201071421270.157118-100000@homer04.u.washington.edu>

On Mon, 7 Jan 2002, Warnes, Gregory R wrote:

>
> Is there example code of calling glm fit somewhere?
>

The main example is in glm().

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Jan  7 23:06:21 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Jan 2002 23:06:21 +0000 (GMT)
Subject: [Rd] speeding up [.data.frame
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF14A@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0201072255390.15523-100000@gannet.stats>

On Mon, 7 Jan 2002, Warnes, Gregory R wrote:

>
>  >  -----Original Message-----
>  >  From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
>  >  Subject: Re: [Rd] speeding up [.data.frame
>  >
>  >
>  >  On Sat, 5 Jan 2002, Warnes, Gregory R wrote:
>  >
>  >  >
>  >  > (I'm up too late so this might come through garbled...)
>  >  >
>  >  > I've just been doing some bootstrapping on data frames
>  >  > and I discovered that S-plus 6.0r1 was a *lot* faster
>  >  > than R 1.3.1 at the task. Splus was completing 100 bootstrap
>  >  > iterations in about 4 seconds while R was taking
>  >  > about 15 seconds. However, doing bootstrapping on
>  >  > equivalent *matrices* R was slightly faster, 1.5 seconds verses 1.86.
>  >  >
>  >  > Now, since I'm doing glm's inside the bootstrap, I really
>  >  > need to use data frames...
>  >
>  >  Why?  Surely you should be working at the design matrix
>  >  level and calling glm.fit directly?   Otherwise you are repeating a lot
> of
>  >  work for every bootstrap fit.
>
> Ahh, well, I usually start doing things the easy way and then work towards
> harder (and potentially more efficient) ones.  I was  just suprised about
> the overhead of bootstrapping a data frame when the operation inside the
> bootstrap was essentially a NOOP.
>
> Is there example code of calling glm fit somewhere?

glm!   Take a look a package sm too, which has bootstrapping code for
glms.

People often don't realise how much work gets done creating model matrices
etc: profiling is often a very sobering exercise.

>  >  BTW, is 11 seconds worth saving?: it sound trivial to me.
>  >  But if it is,
>  >  moving to glm.fit looks to me to be the best optimization.
>
> No, 11 seconds is not worth much work.  However, when I do 1000 bootstrap
> samples it just might be 110 seconds and if we throw this insite another
> loop to search over one of the parameters (which it looks like we may have
> to do) this gets multiplied again..
>
>  >
>  >  > It turns out that one of the reasons S-plus is faster on
>  >  > data frames is that S-Plus's allows you to turn of checking
>  >  > for/resolution of duplicate row names in "[.data.frame" by
>  >  > setting an attribute 'dup.row.names' to any non-NULL value.
>  >  > Adding an additional argument to R's "[.data.frame"  (patch
>  >  > below) to permit the same optimization and using the argument in my
>  >  > bootstrap function reduced the elapsed time for R to 8.6 seconds.
>  >  >
>  >  > Still, I'm wondering if there are other 'reasonable' changes to
>  >  > "[.data.frame" that could narrow the gap further...
>  >
>  >  That one is not reasonable in my opinion.  It should not be in S-PLUS
> (and
>  >  the advisory board has discussed its removal, as I recall). Having
> unique
>  >  row names is a fundamental property of data frames.  What you and they
>  >  seem to want is another class which is like data frames but does not
>  >  require row names, from which data.frame could inherit.
>
> If there was another class that acted like a data frame but was 'lighter
> weight' that would do for my purpose.
>
> BTW, are the 'fundimental properties' of various S language objects defined
> anywhere?  Surely, some properties are implementation accidents, others are
> implementation choices, and others are 'fundimental' to the behavior of the
> object.

No, although the blue and white books are the closest we have to a
definition.  In this case, the first line of page 57 of the white book
says row names must be unique.  It's exactly like relations (tables) in an
RDBMS: data frames correspond to relations with a primary key, and
database theory explains why that is a key (sorry) property.  So I am sure
this was no accident.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Mon Jan  7 23:06:00 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Mon, 07 Jan 2002 18:06:00 -0500
Subject: [Rd] Mishandling missing "..." (PR#1247)
References: <Pine.A41.4.43.0201071110230.157118-100000@homer04.u.washington.edu>
Message-ID: <3C3A29D8.FB0A80C8@research.bell-labs.com>

Thomas Lumley wrote:
> 
> On Mon, 7 Jan 2002 brahm@alum.mit.edu wrote:
> 
> > R> myfun <- function(x, ...) {x[...] <- 0; x}
> > R> myfun(3)
> >    Error in myfun(3) : SubAssignArgs: invalid number of arguments
> >
> > It fails because no ... was passed.  The workaround (and desired behavior) is:
> > R> myfun <- function(x, ...) {if (missing(...)) x[] <- 0 else x[...] <- 0; x}
> > R> myfun(3)
> >    [1] 0
> >
> 
> This is interesting.  Another workaround is
> 
> > myfun
> function(x, ...) {x[...] <- 0; x}
> > myfun(3,)
> [1] 0
> 
> and the problem goes down to eval.c:evalListKeepMissing, which says
>         /* If we have a ... symbol, we look to see what it is bound to.
>          * If its binding is Null (i.e. zero length)
>          *      we just ignore it and return the cdr with all its
>                expressions evaluated;
> 
> The difference between  myfun(3) and myfun(3,) is that in the former case
> there are no ... arguments, in the latter there is a ... argument but it's
> missing.
> 
> In one way this would be fairly easy to fix by writing yet another variant
> of evalList that replaced an empty ... with R_MissingArg, but I'm scared.
> 
>         -thomas


My feeling is that it's the ordinary behavior of x[] <- 0 that is
puzzling.  Even though the example with myFun generates an error, it
looks more consistent with a general semantics than does the "raw"
expression.

Shouldn't the expression x[] <- 0 be  equivalent to "[<-(x, 0), just as

  x[i]<-0; x[i,j] <- 0

are equivalent to

  "[<-"(x,i,0); "[<-"(x,i,j,0)
??

But in fact the functional form of the operator generates the same
error:

> x <- 1:10
> "[<-"(x, 0)
Error: SubAssignArgs: invalid number of arguments

OTOH,

> "[<-"(x, , 0)
 [1] 0 0 0 0 0 0 0 0 0 0

The internal problem seems to be that SubAssignArgs is supposed to
return a subscript list of length 1 containing one element which is
"missing", rather than a list of length 0 for the x[] <-... case.  If it
could return the latter, and if the switch statement in
do_subassign_dflt didn't ignore the case of 0 subscripts, but had
instead
	case 0:
	   x = VectorAssign(call, x, R_MissingArg, y);
	   break;

then the anomalies seem to go away.  Making this change in the r-devel
code, and returning something from SubAssignArgs for the case nsub==0
gives:

> myfun <- function(x, ...) {x[...] <- 0; x}
> x <- 1:10
> myfun(x)
 [1] 0 0 0 0 0 0 0 0 0 0
> x
 [1]  1  2  3  4  5  6  7  8  9 10
> x[] <- 0
> x
 [1] 0 0 0 0 0 0 0 0 0 0


Not to beat longer on the question than it perhaps deserves, but the
"workaround"  using missing(...) seems wrong in principle.  Requires a
digression on the history of "..."; sorry about that.

The essential meaning of "..."  is that, if it's a formal argument to a
function, f, and in the body of f there is a call, say, g(...), then the
effect is equivalent to calling g with all the arguments that match
"..." (with arguments evaluated in the right environment of course).

This has always been a rather dicey bit of the language, since it is
much less object-based than any other concept in the basic semantics. 
In trying to elaborate the model somewhat, we came up with the notion
that "..." was roughly like having objects ..1, ..2, etc. in the local
frame, up to n where n == length(list(...)).   The evaluator then
roughly turns g(...) into g(<name1>=..1, ....) with the appropriate
names taken from the call to f.

As a semantic model, this is not great, but the mechanism is pretty
clearly useful in practice.  (And I have to say that none of the
versions I know of the same mechanism in other languages, developed in
parallel with our floundering around, impress me as better in terms of
combined usefulness and clarity.)

But it leads to some tricky situations if one interprets "..." as an
ordinary variable.

For example, missing(...) doesn't work if interpreted according to the
semantics for "...".  For example:

  f <- function(x, ...) { if(missing(...)) x else ## something or
other..}

f(1)

should be equivalent to { if(missing())... 

f(1,2, 3)

should be equivalent to { if(missing(..1, ..2))....

neither of which should be legal.  

So, missing(...) seems a questionable expression in any context.

John


-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From loki@cs.usyd.edu.au  Tue Jan  8 23:55:48 2002
From: loki@cs.usyd.edu.au (Lachlan Patrick)
Date: Wed, 09 Jan 2002 10:55:48 +1100
Subject: [Rd] GraphApp version 3
Message-ID: <200201090001.BAA24268@stat.math.ethz.ch>

Hi, I'm the developer of GraphApp, which is a graphics and
user interface toolkit which I believe has been used
by your "R" package.

I don't know whether GraphApp is still used in "R", but
I thought you should know there is a new version of
GraphApp available (version 3) which is built around
a solid, portable core of graphics operations and is
independent of Motif, Athena, and other such toolkits.
There are a number of new features. You might want to
investigate converting "R" over to the new interface
if you are still using the older GraphApp version 2.
Programs will need to be slightly rewritten, but there
are a number of example programs to help with that
process, and many examples are based on older examples
from version 2, so there is a source of comparison to
see what has changed.

The new GraphApp has a new home page, which can be
reached by visiting the old page and clicking on the
link. The old page is:
http://www.cs.usyd.edu.au/~loki/graphapp/
And the new one is:
http://enchantia.com/software/graphapp/

Loki
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ccsshb@bath.ac.uk  Wed Jan  9 13:24:56 2002
From: ccsshb@bath.ac.uk (ccsshb@bath.ac.uk)
Date: Wed, 9 Jan 2002 14:24:56 +0100 (MET)
Subject: [Rd] Not striclty a bug but a problem (PR#1250)
Message-ID: <200201091324.OAA24056@pubhealth.ku.dk>

Version: 1040
OS: Windows 98 SE

Problem: 
I have installed R with all help files to a network read-only drive. help.start() requires rw on two files
../R/rw1040/doc/html/packages.html
../R/rw1040/doc/html/search/index.txt

This is a minor issue as running R 1.4.0 help from the start menu works fine.

Perhaps the next version may address this?

Simon Bowman
Systems Adminstrator
University of Bath
UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jan  9 13:34:47 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 9 Jan 2002 14:34:47 +0100 (MET)
Subject: [Rd] Not striclty a bug but a problem (PR#1250)
Message-ID: <200201091334.OAA24436@pubhealth.ku.dk>

On Wed, 9 Jan 2002 ccsshb@bath.ac.uk wrote:

> Version: 1040
> OS: Windows 98 SE
>
> Problem:
> I have installed R with all help files to a network read-only drive. help.start() requires rw on two files
> ../R/rw1040/doc/html/packages.html
> ../R/rw1040/doc/html/search/index.txt

What exactly is reported?

> This is a minor issue as running R 1.4.0 help from the start menu works fine.

But it won't work fine if the set of installed packages is changed, if
that is an issue.

> Perhaps the next version may address this?

Could you suggest a patch?   Does adding try() as in

try(make.packages.html(.libPaths()))
try(make.search.html(.Library))

help?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Jan  9 14:18:49 2002
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 09 Jan 2002 15:18:49 +0100
Subject: [Rd] Not striclty a bug but a problem (PR#1250)
References: <200201091334.OAA24436@pubhealth.ku.dk>
Message-ID: <3C3C5149.389812A9@statistik.uni-dortmund.de>

ripley@stats.ox.ac.uk wrote:
> 
> On Wed, 9 Jan 2002 ccsshb@bath.ac.uk wrote:
> 
> > Version: 1040
> > OS: Windows 98 SE
> >
> > Problem:
> > I have installed R with all help files to a network read-only drive. help.start() requires rw on two files
> > ../R/rw1040/doc/html/packages.html
> > ../R/rw1040/doc/html/search/index.txt
> 
> What exactly is reported?
> 
> > This is a minor issue as running R 1.4.0 help from the start menu works fine.
> 
> But it won't work fine if the set of installed packages is changed, if
> that is an issue.
> 
> > Perhaps the next version may address this?
> 
> Could you suggest a patch?   Does adding try() as in
> 
> try(make.packages.html(.libPaths()))
> try(make.search.html(.Library))
> 
> help?

That's a very good idea!
Of course, in these cases the administrator has to call these functions
(or link.html.help()) manually again (don't know if this is still
documented or deleted from docs since the updates are done
automatically).

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Wed Jan  9 18:31:09 2002
From: a296180@mica.fmr.com (a296180@mica.fmr.com)
Date: Wed, 9 Jan 2002 19:31:09 +0100 (MET)
Subject: [Rd] typo in R Install/Admin manual version 1.4.0 (PR#1251)
Message-ID: <200201091831.TAA28657@pubhealth.ku.dk>

On page 15, I think that "Some case is needed" should be "Some care is needed".

Regards,

Dave Kane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jan 10 08:25:21 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 10 Jan 2002 09:25:21 +0100 (MET)
Subject: [Rd] cluster - clusplot.default (PR#1249)
Message-ID: <200201100825.JAA02105@pubhealth.ku.dk>

>>>>> "kjetil" == kjetil halvorsen <kjetilh@umsanet.edu.bo> writes:

    kjetil> The following code in clusplot.default (package cluster) is in error:

    kjetil>    x1 <- cmdscale(x, k = 2, eig = TRUE)
    kjetil>    var.dec <- sum(x1$eig)/sum(diag(x1$x))
    kjetil>    if (var.dec < 0)  var.dec <- 0
    kjetil>    if (var.dec > 1)  var.dec <- 1
    kjetil>    x1 <- x1$points

    kjetil> x1 has components with names "points" and "eig", not
    kjetil> "x", so sum(diag(x1$x)) returns 0, the division
    kjetil> gives Inf which is later replaced by 1.  So in the
    kjetil> plot it is reported (always) that "These two
    kjetil> components explain 100% of the variability".

Thank you Kjetil.
Yes, there's definitely a problem there.
However the solution is not as easy: Doing the replacement you
suggest is not enough, since var.dec still is not scaled to [0,1].

Before the lines you cite above, there is

        ##x1 <- cmd(x, k = 2, eig = T, add = T)
        ##if(x1$ac < 0)
        ##	x1 <- cmd(x, k = 2, eig = T)

which was Rousseeuw et al's original code -- instead of the
  x1 <- cmdscale(...) line above.
And cmd() was an internal function calling directly into
undocumented S-plus internal Fortran code...
The original porter of the cluster package had replaced the
cmd() by cmdscale()  which seemed but was not ok.

I'll have a look.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jan 10 08:30:28 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 10 Jan 2002 09:30:28 +0100 (MET)
Subject: [Rd] typo in R Install/Admin manual version 1.4.0 (PR#1251)
Message-ID: <200201100830.JAA02217@pubhealth.ku.dk>

>>>>> "DavK" == David Kane <a296180@mica.fmr.com> writes:

    DavK> On page 15, I think that "Some case is needed" should
    DavK> be "Some care is needed".  

Indeed! thank you  {fixed for R-patched aka 1.4.1 to be}
Martin Maechler

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From o.christensen@lancaster.ac.uk  Thu Jan 10 19:35:44 2002
From: o.christensen@lancaster.ac.uk (o.christensen@lancaster.ac.uk)
Date: Thu, 10 Jan 2002 20:35:44 +0100 (MET)
Subject: [Rd] round(10000000000) (PR#1254)
Message-ID: <200201101935.UAA14520@pubhealth.ku.dk>

Full_Name: Ole Christensen
Version: 1.4.0
OS: Linux
Submission from: (NULL) (194.80.32.10)


Dear R-people

I found the following feature for the round function (using R-1.4.0)

> round(10000000000)
[1] -2147483648

Is this a bug ?

The round(10000000000) worked fine using R-1.3.1

Thank you in advance

Ole


> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Jan 10 19:36:09 2002
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Thu, 10 Jan 2002 20:36:09 +0100 (MET)
Subject: [Rd] Size of type double in object type dist (PR#1255)
Message-ID: <200201101936.UAA14534@pubhealth.ku.dk>


The following problem occurs in R 1.4.0 and 1.3.1 for Windows95,
but not in R 1.2.0 for Windows95.

The problem does not occur in R 1.4.0 for Linux PC, Linux Alpha
and HP-UX.

Sometimes, the type of 'Size' of an object of type 'dist'
changes from integer into double. Running cmdscale on such a
'dist' object gives invalid results.

I don't know what should be considered a bug, the type of 'Size'
changing into 'double', or cmdscale not able to process a 'dist'
object with a 'Size' of type 'double'. Perhaps both.

I have not been able to locate a single cause of this problem.
The following example is when it goes wrong:

    # PA is an object of class 'dist' with 'Size' 67
    > data(PA)
    > attr(PA, "Size")
    [1] 67
    >
    > MDS <- function (dif, dim)
    + {
    +     a <- cmdscale(dif, k = dim, eig = FALSE)
    +     row.names(a) <- names(dif)
    +     a
    + }
    >
    > vec <- MDS(PA, 2)
    > attr(PA, "Size")
    [1] 67
    > plot(vec, type="n", xlab="", ylab="")
    > attr(PA, "Size")
    [1] 67
    > text(vec, rownames(vec), cex=0.5)
    > attr(PA, "Size")
    [1] 67
    >
    > vec8 <- MDS(PA, 8)
    > attr(PA, "Size")
    [1] 67
    > d2 <- dist(vec)
    > attr(PA, "Size"); attr(d2, "Size")
    [1] 67
    [1] 67
    > d8 <- dist(vec8)
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    > cor(PA, d2)
    [1] 0.9370243
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    > cor(PA, d8)
    [1] 0.9773668
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    >
    > plot(c(min(PA), max(PA)), c(min(d2, d8), max(d2, d8)),
    +      type="n", xlab="PA", ylab="dist( cmdscale( PA ) )")
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    > points(PA, d2, pch=20, cex=0.5, col="black")
# here is when it changes
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67.00000
    [1] 67
    [1] 67
    > points(PA, d8, pch=20, cex=0.5, col="blue")
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67.00000
    [1] 67
    [1] 67
    > legend(min(PA),max(c(d2,d8)),c("dim = 2", "dim = 8"), fill=c("black", "blue"))
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67.00000
    [1] 67
    [1] 67

It gets weirder...

    > rm(PA)
    > data(PA)
    > attr(PA, "Size")
    [1] 67.00000

If I do the following, the 'Size' attributes becomes an integer,
and seems to stay an integer:

    > PA <- as.dist(PA)

...however, running cmdscale on it produces nonsense

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Windows 95 4.0 (build 1111)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 10 19:54:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 10 Jan 2002 20:54:34 +0100 (MET)
Subject: [Rd] round(10000000000) (PR#1254)
Message-ID: <200201101954.UAA14591@pubhealth.ku.dk>

Yes, it's a newly introduced bug, fixed now.

On Thu, 10 Jan 2002 o.christensen@lancaster.ac.uk wrote:

> Full_Name: Ole Christensen
> Version: 1.4.0
> OS: Linux
> Submission from: (NULL) (194.80.32.10)
>
>
> Dear R-people
>
> I found the following feature for the round function (using R-1.4.0)
>
> > round(10000000000)
> [1] -2147483648
>
> Is this a bug ?
>
> The round(10000000000) worked fine using R-1.3.1
>
> Thank you in advance
>
> Ole
>
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Jan 10 23:51:28 2002
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Fri, 11 Jan 2002 00:51:28 +0100 (CET)
Subject: [Rd] Size of type double in object type dist (PR#1255)
In-Reply-To: <200201101936.UAA14534@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.33.0201110031300.476-100000@kleigh.nl>

kleiweg@let.rug.nl scribeva...

> Sometimes, the type of 'Size' of an object of type 'dist'
> changes from integer into double. Running cmdscale on such a
> 'dist' object gives invalid results.

I have done some further testing. It seems the storage mode of
'Size' was double from the start. Setting the storage mode to
integer does not fix the problem. (However, the problems occur
once attr(PA, "Size") no longer prints 67, but 67.00000)

There seems to be something wrong with the interaction of
the 'plot' function with objects of class 'dist' and
the 'cmdscale' function. I traced cmdscale:

function (d, k = 2, eig = FALSE)
{
[snip]

    storage.mode(x) <- "double"
    Tmat <- -0.5 * .C("dblcen", x, as.integer(n), PACKAGE = "mva")[[1]]

Up to this point, all goes well. The results in Tmat seem OK.
When things go wrong, the following command take a long time to
run:

    e <- La.eigen(Tmat, symmetric = TRUE)

[snip]

}

My best guess is that there is some memory problem (overflow,
null pointer assignment, whatever) when plot is applied to an
object of class 'dist', which causes another call to cmdscale on
the same object to go wrong.

If someone wants to try this, the problem occured running the
examples of the functions 'MDS', 'ISOMDS', and 'SAMMON' in the
'iLeven' package. That package can be downloaded from:

    http://www.let.rug.nl/~kleiweg/levenshtein/R/

Just running one example (any example) once works fine. Running
that example again, or running any of the other examples fails.

R versions 1.3.1 and 1.4.0 / Windows95

-- 
Peter Kleiweg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From patrick.lindsey@luc.ac.be  Fri Jan 11 15:21:15 2002
From: patrick.lindsey@luc.ac.be (Patrick Lindsey)
Date: Fri, 11 Jan 2002 16:21:15 +0100 (MET)
Subject: [Rd] Wrong header file in ttest.c (windlgs package).
Message-ID: <200201111521.QAA04235@luc.ac.be>

Hi everyone,
  I've just installed "rw1040" and all the components necessary to compile
packages for windows. I always try out my new installation on the provided
package "windlgs" in order to ensure that everything is working.
  This time I ran into a small problem. Indeed, the second line of "ttest.c"
includes a header file ("ga.h") which does not exits. I believe that it
should be changed back to what it was under "rw1031" which was "graphapp.h".
  Apologies if this has already been reported.
Patrick.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 11 15:30:38 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 15:30:38 +0000 (GMT)
Subject: [Rd] Wrong header file in ttest.c (windlgs package).
In-Reply-To: <200201111521.QAA04235@luc.ac.be>
Message-ID: <Pine.LNX.4.31.0201111523320.18667-100000@gannet.stats>

On Fri, 11 Jan 2002, Patrick Lindsey wrote:

> Hi everyone,
>   I've just installed "rw1040" and all the components necessary to compile
> packages for windows. I always try out my new installation on the provided
> package "windlgs" in order to ensure that everything is working.
>   This time I ran into a small problem. Indeed, the second line of "ttest.c"
> includes a header file ("ga.h") which does not exits. I believe that it
> should be changed back to what it was under "rw1031" which was "graphapp.h".
>   Apologies if this has already been reported.

Sorry, it does need to be ga.h.  We'll arrange to ship it.  The line

    setbackground(win, myGetSysColor(COLOR_MENU));

and CVS entry

revision 1.5
date: 2001/11/19 09:23:47;  author: ripley;  state: Exp;  lines: +14 -12
correct background colours under Win2k

explain why.  Could you just get it from the sources and put it in
src/include.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jutans@utans.u-net.com  Fri Jan 11 15:46:25 2002
From: jutans@utans.u-net.com (jutans@utans.u-net.com)
Date: Fri, 11 Jan 2002 16:46:25 +0100 (MET)
Subject: [Rd] seq.POSIXt: & DST (PR#1256)
Message-ID: <200201111546.QAA26755@pubhealth.ku.dk>

Full_Name: Joachim Utans
Version: 1.4.0
OS: NT4 sp4
Submission from: (NULL) (195.42.238.80)


seq.POSIXt(..., by="day") apparently has problems steping over
a change in daylight savings time; 2001-10-28 appears twice,
the last day, 2001-10-30, is missing


> seq(as.POSIXct("2001-10-26"),as.POSIXct("2001-10-30"),by="day")
[1] "2001-10-26 00:00:00 GMT Daylight Time" "2001-10-27 00:00:00 GMT Daylight
Time" "2001-10-28 00:00:00 GMT Daylight Time"
[4] "2001-10-28 23:00:00 GMT Standard Time" "2001-10-29 23:00:00 GMT Standard
Time"



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 11 15:54:56 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 15:54:56 +0000 (GMT)
Subject: [Rd] seq.POSIXt: & DST (PR#1256)
In-Reply-To: <200201111546.QAA26755@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201111551370.18667-100000@gannet.stats>

On Fri, 11 Jan 2002 jutans@utans.u-net.com wrote:

> Full_Name: Joachim Utans
> Version: 1.4.0
> OS: NT4 sp4
> Submission from: (NULL) (195.42.238.80)
>
>
> seq.POSIXt(..., by="day") apparently has problems steping over
> a change in daylight savings time; 2001-10-28 appears twice,
> the last day, 2001-10-30, is missing

Take a closer look.  It is stepping by days, but that means by 24-hour
days.  Look at it in GMT (there is no such time zone as GMT Daylight Time,
Bill Gates!)

z <- seq(as.POSIXct("2001-10-26"),as.POSIXct("2001-10-30"),by="day")
> format(z, tz="GMT")
[1] "2001-10-25 23:00:00" "2001-10-26 23:00:00" "2001-10-27 23:00:00"
[4] "2001-10-28 23:00:00" "2001-10-29 23:00:00"

which is correct.

> > seq(as.POSIXct("2001-10-26"),as.POSIXct("2001-10-30"),by="day")
> [1] "2001-10-26 00:00:00 GMT Daylight Time" "2001-10-27 00:00:00 GMT Daylight
> Time" "2001-10-28 00:00:00 GMT Daylight Time"
> [4] "2001-10-28 23:00:00 GMT Standard Time" "2001-10-29 23:00:00 GMT Standard
> Time"


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sway@tanox.com  Fri Jan 11 20:59:30 2002
From: sway@tanox.com (Shawn Way)
Date: Fri, 11 Jan 2002 14:59:30 -0600
Subject: [Rd] RODBC
Message-ID: <0565F48FC373D411BE4D00B0D049602628E6BC@nt40hou1.tanox.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C19AE2.DCDAFCB0
Content-Type: text/plain


I'm trying to make some modifications to the RODBC package under windows,
and I know that it has been compile for the current version of R.  I've
looked at the contrib source code and the current structure in the library
and they just don't match.  Does someone out there have the source code and
setup for the current version?  Or any clues as to what to do after the
configuration.

Thanks...


Shawn Way

------_=_NextPart_001_01C19AE2.DCDAFCB0
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>RODBC</TITLE>
</HEAD>
<BODY>
<BR>

<P><FONT SIZE=3D2>I'm trying to make some modifications to the RODBC =
package under windows, and I know that it has been compile for the =
current version of R.&nbsp; I've looked at the contrib source code and =
the current structure in the library and they just don't match.&nbsp; =
Does someone out there have the source code and setup for the current =
version?&nbsp; Or any clues as to what to do after the =
configuration.</FONT></P>

<P><FONT SIZE=3D2>Thanks...</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Shawn Way</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C19AE2.DCDAFCB0--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From zeileis@ci.tuwien.ac.at  Fri Jan 11 21:29:52 2002
From: zeileis@ci.tuwien.ac.at (zeileis@ci.tuwien.ac.at)
Date: Fri, 11 Jan 2002 22:29:52 +0100 (MET)
Subject: [Rd] documentation of `las' on `par' help page (PR#1257)
Message-ID: <200201112129.WAA28243@pubhealth.ku.dk>

Just a small documentation bug:
something went wrong for the description of the graphical parameter
`las' on the HTML version of the `par' help page: `las' is missing and
instead a line from the description is used.
Z


platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 11 21:31:35 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 21:31:35 +0000 (GMT)
Subject: [Rd] RODBC
In-Reply-To: <0565F48FC373D411BE4D00B0D049602628E6BC@nt40hou1.tanox.com>
Message-ID: <Pine.LNX.4.31.0201112125210.27497-100000@gannet.stats>

On Fri, 11 Jan 2002, Shawn Way wrote:

>
> I'm trying to make some modifications to the RODBC package under windows,
> and I know that it has been compile for the current version of R.  I've
> looked at the contrib source code and the current structure in the library
> and they just don't match.  Does someone out there have the source code and
> setup for the current version?  Or any clues as to what to do after the
> configuration.

It was compiled from the sources by Rcmd INSTALL, but not recently.
Indeed, the DESCRIPTION file ends
Built: R 1.3.0;  Win32;  2001-06-25 17:13:49

But I've just re-run this under 1.4.0 and it still works. No configuration
is needed: there is a src/Makevars.win file.  So try the standard
procdure (as documented in `Writing R extensions').

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Sat Jan 12 01:08:05 2002
From: murdoch@stats.uwo.ca (murdoch@stats.uwo.ca)
Date: Sat, 12 Jan 2002 02:08:05 +0100 (MET)
Subject: [Rd] Bug in predict(newdata=x) with poly() (PR#1258)
Message-ID: <200201120108.CAA28888@pubhealth.ku.dk>

Bug in predict.lm & poly

The predict function doesn't work when used with poly and newdata.

For example, I'd expect the following code to work, and plot a fitted
cubic to the nearly straight line:

 x <- 1:10
 y <- x + rnorm(10)/100
 plot(x,y)
 fit <- lm(y ~ poly(x,3))
 newx <- seq(1,10,len=100)
 lines(newx,predict(fit,newdata=data.frame(x=newx)))

However, the plotted line is way off the data.  The problem is that
poly(x,3) doesn't agree with poly(newx,3) at equal values of x, so
predict applies the fitted coefficients to the wrong values.

To fix this we need a predict.poly procedure analogous to the
predict.ns() and predict.bs() procedures. This doesn't look easy to
write.

Duncan Murdoch

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Windows 98 4.10 (build 1998)  

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jan 12 07:49:39 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 12 Jan 2002 08:49:39 +0100 (MET)
Subject: [Rd] Bug in predict(newdata=x) with poly() (PR#1258)
Message-ID: <200201120749.IAA29489@pubhealth.ku.dk>

This is long-term known in S: there have been examples in V&R for years.
The S solution is predict.gam.

predict.poly is easy. The problem (as for bs and ns) is getting it used by
predict.lm.  Thomas Yee (I think) has made a solution available, but the
consensus was that it could be done more elegantly at a lower level.  We
already preserve information on contrasts and sets of levels: we need to
preserve similar information for poly() and spline terms.

I noticed this was still open last week, and put it on my (private) TODO
list.

On Sat, 12 Jan 2002 murdoch@stats.uwo.ca wrote:

> Bug in predict.lm & poly
>
> The predict function doesn't work when used with poly and newdata.
>
> For example, I'd expect the following code to work, and plot a fitted
> cubic to the nearly straight line:
>
>  x <- 1:10
>  y <- x + rnorm(10)/100
>  plot(x,y)
>  fit <- lm(y ~ poly(x,3))
>  newx <- seq(1,10,len=100)
>  lines(newx,predict(fit,newdata=data.frame(x=newx)))
>
> However, the plotted line is way off the data.  The problem is that
> poly(x,3) doesn't agree with poly(newx,3) at equal values of x, so
> predict applies the fitted coefficients to the wrong values.
>
> To fix this we need a predict.poly procedure analogous to the
> predict.ns() and predict.bs() procedures. This doesn't look easy to
> write.
>
> Duncan Murdoch
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
>
> Windows 98 4.10 (build 1998)
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Jan 12 15:25:35 2002
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Sat, 12 Jan 2002 16:25:35 +0100 (MET)
Subject: [Rd] Bug in predict(newdata=x) with poly() (PR#1258)
Message-ID: <200201121525.QAA00525@pubhealth.ku.dk>

On Sat, 12 Jan 2002 07:49:01 +0000 (GMT), you wrote:

>predict.poly is easy. The problem (as for bs and ns) is getting it used by
>predict.lm.  Thomas Yee (I think) has made a solution available, but the
>consensus was that it could be done more elegantly at a lower level.  We
>already preserve information on contrasts and sets of levels: we need to
>preserve similar information for poly() and spline terms.

Yes, I didn't notice that predict.bs wasn't being called by
predict.lm.

>I noticed this was still open last week, and put it on my (private) TODO
>list.

A short-term workaround would be to put code like this into
predict.lm, at the point where tt contains the terms of the fit, and
it has been determined that newdata is not missing:

  if (any(c('poly','bs','ns') %in% flatten(tt)))          
     warning("newdata not supported with 'poly', 'ns', or 'bs'")

I don't know if there's already a function like flatten in R; here's a
simple one:

flatten <- function (expr) 
{
  if (is.expression(expr) | is.call(expr) | is.list(expr)) {
    unlist(lapply(as.list(expr), flatten))
  } else {
    as.character(expr)
  }
}

There may be other functions besides poly, bs and ns that return
bases; I don't know.

Duncan Murdoch
 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From BudgetLife3@eudoramail.com  Sun Jan 13 18:55:37 2002
From: BudgetLife3@eudoramail.com (BudgetLife3@eudoramail.com)
Date: Sun, 13 Jan 2002 00:55:37 -1800
Subject: [Rd] Are You Paying too Much for Life Insurance?                KT
Message-ID: <000011c1060f$00001325$0000293a@mx1.eudoramail.com>

<html><body><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:center>M=
ost likely, <b>YES <span style=3Dfont-size:14.0pt;mso-bidi-font-size:12.0p=
t>!<o:p></o:p></span></b><o:p></o:p></p><p class=3DMsoNormal align=3Dcente=
r style=3Dtext-align:center>Here's why.<span style=3D"mso-spacerun: yes">&=
nbsp; </span><b><span style=3Dcolor:#FF3300>F</span><span style=3Dcolor:#F=
F9900>i</span><span style=3Dcolor:#FF3300>e</span><span style=3Dcolor:#FF9=
900>r</span><span style=3Dcolor:#FF3300>c</span><span style=3Dcolor:#FF990=
0>e</span></b> ... take no prisoner ... insurance industry <b><span style=3D=
color:red>PRICE WARS</span></b> have driven premiums <b><span style=3Dfont=
-size:14.0pt;mso-bidi-font-size:12.0pt;color:#003300>DOWN</span></b>, and =
<b>down</b>, and <b><span style=3Dfont-size:10.0pt;mso-bidi-font-size:12.0=
pt>down</span></b> --30 -- 40 -- 50 -- even <b><span style=3D"font-size:14=
.0pt;mso-bidi-font-size:
12.0pt">70%</span></b> from where they were just a short time ago!<o:p></o=
:p></p><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:center><b><s=
pan style=3Dcolor:#9900CC>YOUR INSURANCE COMPANY </span><span style=3Dcolo=
r:#FF3300>DOESN'T </span><span style=3Dcolor:#9900CC>WANT YOU TO READ THIS=
</span><span style=3Dfont-size:18.0pt;mso-bidi-font-size:12.0pt>...</span>=
<o:p></o:p></b><o:p></o:p></p><p class=3DMsoNormal align=3Dcenter style=3D=
text-align:center>They will <b><span style=3Dcolor:#009900>continue </span=
></b>to <b><span style=3Dcolor:#009900>take your money</span></b>, while o=
ffering lower rates (up to 50%, even 70% lower) to <b><span style=3Dcolor:=
black>new</span></b> buyers.<o:p></o:p></p><p class=3DMsoNormal align=3Dce=
nter style=3Dtext-align:center><b><span style=3Dfont-size:14.0pt;mso-bidi-=
font-size:12.0pt;color:black>B</span></b>UT DON'T TAKE OUR WORD FOR IT<b><=
span style=3D"font-size:16.0pt;mso-bidi-font-size:
12.0pt">...</span></b> <b><span style=3D"font-size:14.0pt;mso-bidi-font-si=
ze:
12.0pt">Visit<o:p></o:p></span></b><o:p></o:p></p><p class=3DMsoNormal ali=
gn=3Dcenter style=3Dtext-align:center><b><span style=3Dfont-size:14.0pt;ms=
o-bidi-font-size:12.0pt;color:blue><p><center><a href=3Dhttp://www.lifeins=
urance.net.cn/email>http://www.lifeinsurance.net.cn/email/</a></p><o:p></o=
:p></span></b><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:cente=
r>and request an online quote today.<span style=3D"mso-spacerun: yes">&nbs=
p; </span>Be prepared to be surprised by how <b><span style=3Dcolor:#00990=
0>cheaply</span></b> you can buy <b><span style=3Dcolor:#009900>large</spa=
n></b> amounts of term life insurance!</p><p class=3DMsoNormal align=3Dcen=
ter style=3Dtext-align:center>&nbsp;</p><p class=3DMsoNormal align=3Dcente=
r style=3Dtext-align:center>If you think, that you will not benefit from t=
his correspondence, please reply with =FFFFFF93remove key=FFFFFF94 as the =
subject matter.</p><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:=
center>&nbsp;<o:p></o:p></p></body></html>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jan 15 13:20:59 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 15 Jan 2002 14:20:59 +0100 (MET)
Subject: [Rd] La.eigen() segfaults (asymmetric , only.values = TRUE) (PR#1262)
Message-ID: <200201151320.OAA29746@pubhealth.ku.dk>

The following produces a segmentation fault in R 1.4.0

    La.eigen(matrix(1:4, 2), only.values = TRUE)

It won't anymore in 1.4.1
since I'm about to commit a patch to modules/Lapack.c

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Tue Jan 15 13:39:02 2002
From: a296180@mica.fmr.com (David Kane  <David Kane)
Date: Tue, 15 Jan 2002 08:39:02 -0500
Subject: [Rd] 1.4.1 release date
Message-ID: <15428.12534.267549.539827@gargle.gargle.HOWL>

Has the likely release date for R 1.4.1 been set? Apologies if there is some
obvious place on the web site that I could have looked this up at. We are eager
to upgrade to 1.4, but some of the bugs matter to us. We have played around
with the patched code, but have mainly succeeded in demonstrating that we need
to learn more about UNIX code development . . .

Thanks to all for a most excellent program. 

Regards,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 15 14:07:14 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jan 2002 15:07:14 +0100
Subject: [Rd] 1.4.1 release date
In-Reply-To: <15428.12534.267549.539827@gargle.gargle.HOWL>
References: <15428.12534.267549.539827@gargle.gargle.HOWL>
Message-ID: <x2ita3wvvx.fsf@blueberry.kubism.ku.dk>

"David Kane  <David Kane" <a296180@mica.fmr.com> writes:

> Has the likely release date for R 1.4.1 been set? Apologies if there is some
> obvious place on the web site that I could have looked this up at.

It's generally announced on developer.r-project.org, but currently
that only says that a date hasn't been set.

It's "under consideration"... The release manager (i.e. me) has a book
deadline on Feb. 1, so wants to keep his nose down, but on the other
hand he also wants to be able to refer to a bugfixed version, so a
release towards the end of January is definitely possible. I should
have a better estimate around the weekend.

At any rate, now is a good time for people to try out their old code
and see if they can scare up some new bugs. Or maybe even debug and
file patches for things already reported. 

> We are eager
> to upgrade to 1.4, but some of the bugs matter to us. We have played around
> with the patched code, but have mainly succeeded in demonstrating that we need
> to learn more about UNIX code development . . .
> 
> Thanks to all for a most excellent program. 

(Which bugs were bothering you and have they been fixed?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Tue Jan 15 14:19:12 2002
From: a296180@mica.fmr.com (David Kane  <David Kane)
Date: Tue, 15 Jan 2002 09:19:12 -0500
Subject: [Rd] 1.4.1 release date
In-Reply-To: <x2ita3wvvx.fsf@blueberry.kubism.ku.dk>
References: <15428.12534.267549.539827@gargle.gargle.HOWL>
 <x2ita3wvvx.fsf@blueberry.kubism.ku.dk>
Message-ID: <15428.14944.90321.404661@gargle.gargle.HOWL>

Peter Dalgaard BSA writes:
 > At any rate, now is a good time for people to try out their old code
 > and see if they can scare up some new bugs. Or maybe even debug and
 > file patches for things already reported. 

We have run a large amount of our code through 1.4.0 and noticed nothing amiss
(except the two items below).

 > (Which bugs were bothering you and have they been fixed?)

The rounding issue and the as.is=TRUE. Both have been fixed (as we can see by
for ourselves in R-patched). 

Regards,

Dave Kane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Tue Jan 15 16:12:42 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Tue, 15 Jan 2002 17:12:42 +0100 (MET)
Subject: [Rd] labels returned by cut() when include.lowest=T (PR#1263)
Message-ID: <200201151612.RAA04275@pubhealth.ku.dk>

Full_Name: Stephen Eglen
Version: 1.4
OS: Redhat Linux 7.1
Submission from: (NULL) (128.252.204.36)


I think the brackets in the levels of cut() are slightly incorrect when
include.lowest is TRUE.

For example:

> table(cut( c(1,4), include.lowest=T, right=F, breaks=c(1,2,3,4)))

[1,2) [2,3) [3,4) 
    1     0     1 

I think the last range in this case should be [3,4].  A similar
problem exists for the first range when right=T.

Here is a possible patch against 1.4.0, which on the above example gives:
[1,2) [2,3) [3,4] 
    1     0     1 

Stephen

*** /tmp/cut.R.orig716Cri	Mon Jan 14 22:58:12 2002
--- /tmp/cut.R716P1o	Mon Jan 14 22:58:12 2002
***************
*** 25,30 ****
--- 25,35 ----
  			 ch.br[-nb], ",", ch.br[-1],
  			 if(right)"]" else ")", sep='')
  	    else paste("Range", 1:(nb - 1),sep="_")
+         if (ok && include.lowest)
+           if (right)
+             labels[1] <- sub("\\(", "\\[", labels[1])
+           else
+             labels[nb-1] <- sub(")", "]", labels[nb-1])
      } else if (is.logical(labels) && !labels)
          codes.only <- TRUE
      else if (length(labels) != nb-1)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jan 15 17:07:56 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 15 Jan 2002 18:07:56 +0100 (MET)
Subject: [Rd] labels returned by cut() when include.lowest=T (PR#1263)
Message-ID: <200201151707.SAA04859@pubhealth.ku.dk>

>>>>> "StEgl" == Stephen Eglen <stephen@cogsci.ed.ac.uk> writes:

    StEgl> Full_Name: Stephen Eglen
    StEgl> Version: 1.4
    StEgl> OS: Redhat Linux 7.1
    StEgl> Submission from: (NULL) (128.252.204.36)


    StEgl> I think the brackets in the levels of cut() are
    StEgl> slightly incorrect when include.lowest is TRUE.

    StEgl> For example:

    >> table(cut( c(1,4), include.lowest=T, right=F, breaks=c(1,2,3,4)))

    StEgl> [1,2) [2,3) [3,4) 
    StEgl> 1     0     1 

    StEgl> I think the last range in this case should be [3,4].  A similar
    StEgl> problem exists for the first range when right=T.

    StEgl> Here is a possible patch against 1.4.0, which on the
    StEgl> above example gives:

    StEgl> [1,2) [2,3) [3,4] 
    StEgl> 1     0     1 

    StEgl> Stephen

  *** /tmp/cut.R.orig716Cri	Mon Jan 14 22:58:12 2002
  --- /tmp/cut.R716P1o	Mon Jan 14 22:58:12 2002
  ***************
  *** 25,30 ****
  --- 25,35 ----
			   ch.br[-nb], ",", ch.br[-1],
			   if(right)"]" else ")", sep='')
	      else paste("Range", 1:(nb - 1),sep="_")
  +         if (ok && include.lowest)
  +           if (right)
  +             labels[1] <- sub("\\(", "\\[", labels[1])
  +           else
  +             labels[nb-1] <- sub(")", "]", labels[nb-1])
	} else if (is.logical(labels) && !labels)
	    codes.only <- TRUE
	else if (length(labels) != nb-1)

------

Thank you.
{I've fixed it using  ``substring() <- '' instead of sub()}.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Tue Jan 15 19:54:55 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Tue, 15 Jan 2002 20:54:55 +0100 (MET)
Subject: [Rd] typos in hist.Rd (PR#1264)
Message-ID: <200201151954.UAA05683@pubhealth.ku.dk>

Full_Name: Stephen Eglen
Version: 1.5 (development version)
OS: Redhat Linux 7.1
Submission from: (NULL) (128.252.204.36)


Hi, here are a few typos in hist.Rd, from the version in R-devel:

(line 24)      \item an function to compute

(line 49)    is to use the standard foregound color.
Should be FOREGROUND.


I also noted use of both "color" and "colour".  If both are okay, then fine.
Otherwise, it seems that color is more popular in the docs:

R/src/library/base/man 43 grep 'color' *.Rd| wc
    216    1784   14632
R/src/library/base/man 44 grep 'colour' *.Rd| wc
     13     136     936

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kohnicho@comp.nus.edu.sg  Wed Jan 16 06:16:02 2002
From: kohnicho@comp.nus.edu.sg (kohnicho@comp.nus.edu.sg)
Date: Wed, 16 Jan 2002 07:16:02 +0100 (MET)
Subject: [Rd] bug in survival package basehaz function (PR#1266)
Message-ID: <200201160616.HAA07145@pubhealth.ku.dk>

Hi,
In the survival analysis package the function basehaz has 2 errors in the
last line
   return(data.frame(hazard=H,time=surv$time,strata=strata))

1) no object surv is created or passed to the function, it should be sfit
2) If there are no strata data.frame barfs bucause strata is NULL

the following is a work around, there may be a better way.
   if(!is.null(strata))
   return(data.frame(hazard=H,time=sfit$time,strata=strata))
   else
   return(data.frame(hazard=H,time=sfit$time))

below is all the version info.

Nicholas

Title: Survival analysis, including penalised likelihood.
Maintainer: Thomas Lumley <tlumley@u.washington.edu>
Priority: recommended
Package: survival
Version: 2.8-2
Requires: R (>= 1.4.0)
Author: S original by Terry Therneau, ported by Thomas Lumley
Description: survival analysis: descriptive statistics, two-sample
  tests, parametric accelerated failure models, Cox model. Delayed entry
  (truncation) allowed for all models; interval censoring for parametric
  models.
License: GPL2



platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R                



                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin@iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho@comp.nus.edu.sg


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Wed Jan 16 23:09:32 2002
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Thu, 17 Jan 2002 00:09:32 +0100 (MET)
Subject: [Rd] round() doesn't (PR#1139)
Message-ID: <200201162309.AAA20378@pubhealth.ku.dk>

Hi, all,

In PR#1138 and PR#1139, I pointed out that round() with digits<0 would not
actually round to an integer.  Brian D. Ripley (hereafter BDR) fixed it in
R-1.4.0, but the fix introduced a new error, PR#1254 (caught by Ole
Christensen).  BDR (I'm guessing) fixed the fix; here's the relevant line from
fround.c:

  if(dig <= 0 && fabs(res) < 1e9) res = (int)floor(res + 0.5);

This solution casts the result as int if it's under a billion, but it
re-introduces the original problem for large numbers:

  R-patched 01/13/2002> round(1e15, -2) - 1e15
                        [1] -0.25

So I'd ask to re-open PR#1139, and suggest another look at the "fround" C
function that I posted (in a followup) on 10/24/2001 (copied below).  I
substituted it into src/nmath/fround.c, successfully re-built R, and it works.
It handles the 3 cases dig=0, dig>0, and dig<0 separately, avoids the roundoff
errors that were occurring for dig<0, and avoids a call to R_pow_di altogether
when dig=0.  It gets the correct answer "0" in the above example.

Here are a few explicit test cases; the last one fails in R-patched 01/13/2002,
but all work with my "fround".
  all.equal(round(1234.5678,  2),         1234.57)
  all.equal(round(1234.5678,  0),         1235)
  all.equal(round(1234.5678, -2),         1200)
  all.equal(round(100000/3,  -2) - 33300, 0)
  all.equal(round(1e15,      -2) - 1e15,  0)  # Fails in R-patched

Thanks to all for a great program, and congratulations on the release of 1.4.0!

---- begin C code for fround.c: ----

double fround(double x, double digits) {
#define MAX_DIGITS DBL_MAX_10_EXP
    /* = 308 (IEEE); was till R 0.99: (DBL_DIG - 1) */
    /* Note that large digits make sense for very small numbers */
    double pow10, sgn, intx;
    int dig;

#ifdef IEEE_754
    if (ISNAN(x) || ISNAN(digits))
	return x + digits;
    if(!R_FINITE(x)) return x;
#endif

    if (digits > MAX_DIGITS)
	digits = MAX_DIGITS;
    dig = (int)floor(digits + 0.5);
    if(x < 0.) {
	sgn = -1.;
	x = -x;
    } else
	sgn = 1.;
    if (dig == 0) {
      return sgn * R_rint(x);
    } else if (dig > 0) {
        pow10 = R_pow_di(10., dig);
	intx = floor(x);
	return sgn * (intx + R_rint((x-intx) * pow10) / pow10);
    } else {
        pow10 = R_pow_di(10., -dig);
        return sgn * R_rint(x/pow10) * pow10;
    }
}
---- end C code ----
                              -- David Brahm (brahm@alum.mit.edu)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Jan 17 00:30:08 2002
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Thu, 17 Jan 2002 01:30:08 +0100 (MET)
Subject: [Rd] hashing NaN (PR#1267)
Message-ID: <200201170030.BAA20702@pubhealth.ku.dk>


Different NaNs can hash to different values and so be treated differently
by duplicated(), unique(), match(). Any IEEE double value with exponent
bits all 1 is NaN (except the one that is NA).

AFAICT all arithmetic and mathematical operations in R produce the same
NaN, but this is not guaranteed by any standard. read.spss() will produce
different NaNs when reading missing values in at least some circumstances.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gm81640@development.nssmb.com  Thu Jan 17 05:28:37 2002
From: gm81640@development.nssmb.com (gm81640@development.nssmb.com)
Date: Thu, 17 Jan 2002 06:28:37 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
Message-ID: <200201170528.GAA21628@pubhealth.ku.dk>

Full_Name: Geordon Marchak
Version: R-1.3.1
OS: Solaris 2.6
Submission from: (NULL) (199.67.239.91)


Got the following error when compiling on Solaris 2.6 with the standard GNU
gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
too :-)

# make
`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
".subsection"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
".previous"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
*** Error code 1
make: Fatal error: Command failed for target `lbfgsb.o'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gm81640@development.nssmb.com  Thu Jan 17 05:28:50 2002
From: gm81640@development.nssmb.com (gm81640@development.nssmb.com)
Date: Thu, 17 Jan 2002 06:28:50 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1269)
Message-ID: <200201170528.GAA21642@pubhealth.ku.dk>

Full_Name: Geordon Marchak
Version: R-1.3.1
OS: Solaris 2.6
Submission from: (NULL) (199.67.239.91)


Got the following error when compiling on Solaris 2.6 with the standard GNU
gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
too :-)

# make
`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
".subsection"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
".previous"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
*** Error code 1
make: Fatal error: Command failed for target `lbfgsb.o'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From angelus@truthmail.com  Thu Jan 17 06:35:21 2002
From: angelus@truthmail.com (angelus@truthmail.com)
Date: Thu, 17 Jan 2002 07:35:21 +0100 (MET)
Subject: [Rd] Notification:  You are hereby..... (PR#1270)
Message-ID: <200201170635.HAA21846@pubhealth.ku.dk>

Notification:

You are hereby challenged to see What the Media doen't want you to know.

The Truth about Abortion with your own eyes.

at http://www.getabortion.info

What you will never see on TV.

Its not a blob of tissue.  Every scientist , even those for abortion, will 
tell you that life begins at conception.  Once the egg and sperm join there 
is human life.

Why won't the media show you this?

They show open heart surgery, liver transplants and other operations on tv 
and cable.

Why not an abortion?

You can watch real videos online from former abortion doctors who have 
performed up to 75000 abortions, hear what they have to say about abortion.

Did you know that abortion is perfectly legal through all nine months of 
pregnancy, including the day of birth?

Did you know that in most states a child under the age of 16 can get an 
abortion without their parents knowing?

Anyone can plainly see that we are killing our own.

On September 11th 5000 people were killed.  Abortion in the US alone kills 
over 4000 children per day that's an average of one innocent unborn human 
murdered every 22 seconds!

An entire genertion has been slaughtered.

Overpopulation is a myth, back room abortions are a falsehood propagated by 
the money mongers of the industry.

See it for yourself.

http://getabortion.info
























































































































-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 17 08:37:53 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 17 Jan 2002 09:37:53 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
Message-ID: <200201170837.JAA23228@pubhealth.ku.dk>

On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:

> Full_Name: Geordon Marchak
> Version: R-1.3.1
> OS: Solaris 2.6
> Submission from: (NULL) (199.67.239.91)
>
>
> Got the following error when compiling on Solaris 2.6 with the standard GNU
> gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> too :-)

You sent this twice, for some reason.

It's hard to tell what `the standard GNU gcc package (from the Sun site)'
actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
between your compiler and your assembler.  I don't think that qualifies as
a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
seem to be valid C that is accepted by a wide range of compilers on
Solaris and elsewhere.


> # make
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> ".subsection"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> ".previous"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> *** Error code 1
> make: Fatal error: Command failed for target `lbfgsb.o'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.heffernan@orcina.com  Thu Jan 17 08:54:15 2002
From: david.heffernan@orcina.com (david.heffernan@orcina.com)
Date: Thu, 17 Jan 2002 09:54:15 +0100 (MET)
Subject: [Rd] detach(package:base) kills R (PR#1271)
Message-ID: <200201170854.JAA23580@pubhealth.ku.dk>

Full_Name: David Heffernan
Version: 1.3.1
OS: Windows & Linux
Submission from: (NULL) (158.152.160.7)


The command detach(package:base) kills R with segmentation fault on Linux and an
access violation on Windows.  I guess the same will happen on any platform. 
Obviously this is a not a sensible command to execute but you could easily do it
by accident particularly if using the pos parameter to detach and getting it
wrong.

It seems to me that an obvious fix is to report an error in do_detach in envir.c
if the base package is the one which the caller is attempting to detach.

As a related issue it seems bad that when R crashes it doesn't give you a chance
to save your workspace.  In fact, why does an access violation have to cause
termination?  At the least the user should get a chance to save their workspace
before termination.  At best R would report the error an carry running.

By the way, it's a great piece of software!!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 17 10:45:33 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jan 2002 11:45:33 +0100
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
In-Reply-To: <200201170837.JAA23228@pubhealth.ku.dk>
References: <200201170837.JAA23228@pubhealth.ku.dk>
Message-ID: <x2g055cl2q.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.

Assuming that the "Sun site" means www.sunfreeware.com, I seem to
recall that you get in trouble if you use gcc3 without GNU binutils.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 17 10:53:37 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jan 2002 11:53:37 +0100
Subject: [Rd] detach(package:base) kills R (PR#1271)
In-Reply-To: <200201170854.JAA23580@pubhealth.ku.dk>
References: <200201170854.JAA23580@pubhealth.ku.dk>
Message-ID: <x2bsftckpa.fsf@blueberry.kubism.ku.dk>

david.heffernan@orcina.com writes:

> The command detach(package:base) kills R with segmentation fault on Linux and an
> access violation on Windows.  I guess the same will happen on any platform. 
> Obviously this is a not a sensible command to execute but you could easily do it
> by accident particularly if using the pos parameter to detach and getting it
> wrong.
> 
> It seems to me that an obvious fix is to report an error in do_detach in envir.c
> if the base package is the one which the caller is attempting to detach.

Yes, it still does this in 1.4.0. And the fixup would be something
like that.

> As a related issue it seems bad that when R crashes it doesn't give you a chance
> to save your workspace.  In fact, why does an access violation have to cause
> termination?  At the least the user should get a chance to save their workspace
> before termination.  At best R would report the error an carry running.
> 
> By the way, it's a great piece of software!!

These types of error are handled by the OS. It is difficult, if not
impossible, to get the program back in control. Even if you do,
there's a rather large risk that the workspace has been corrupted.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 17 19:02:30 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Jan 2002 19:02:30 +0000 (GMT)
Subject: [Rd] RE: MKL seems to beat ATLAS, but some problems... (was RE: [R] li
 nkin g R against MKL)
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC84BE@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0201171852140.23495-100000@gannet.stats>

On Thu, 17 Jan 2002, Liaw, Andy wrote:

> Prof. Ripley,
>
> > From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
>
> [snipped...]
>
> > R cannot currently make use of anyone else's LAPACK routines (because
> > we've found too many problems with them).
> >
> > If you are getting no useful diagnostics, try
> > dyn.load("RHOME/modules/lapack.so").  That ought to tell you
> > why you can't
> > load it.  My guess would be to do with libraries, so do an ldd on
> > lapack.so and check that all the dependencies are resolved as
> > you expect.
>
> I wonder if the problem is the clash between the Lapack routines in MKL and
> those packaged with R.


> Sorry, but seems like I need a bit more spoon-feeding:
> I did the dyn.load, and got:
>         unable to load shared library
> "/home/andy/R-patched-mkl/modules/lapack.so":
>   /home/andy/R-patched-mkl/modules/lapack.so: undefined symbol: lsame_

Right, that's it.  LSAME is a BLAS routine, and your BLAS doesn't have
it.  There is a version in src/appl/blas.f, but you don't seem to
have a complete BLAS to link against.

If you really have a complete LAPACK3 (which I would not bet on)
you can try building in src/modules/lapack omitting double.f and
complex.f: you will need to rename a few entry points in Lapack.h
as they have already been changed to avoid conflicts with sunperf
(I think).  See also the comments in the README there.

[....]

> Looks like all the libraries it needs are there, but why can't it find those
> undefined symbols?

They are in R.bin itself.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Thu Jan 17 20:17:44 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Thu, 17 Jan 2002 15:17:44 -0500
Subject: [Rd] solved(?) (was RE: MKL seems to beat ATLAS, but some
 problems...)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC84C1@usrymx10.merck.com>

Prof. Ripley,
 
> > Sorry, but seems like I need a bit more spoon-feeding:
> > I did the dyn.load, and got:
> >         unable to load shared library
> > "/home/andy/R-patched-mkl/modules/lapack.so":
> >   /home/andy/R-patched-mkl/modules/lapack.so: undefined 
> symbol: lsame_
> 
> Right, that's it.  LSAME is a BLAS routine, and your BLAS doesn't have
> it.  There is a version in src/appl/blas.f, but you don't seem to
> have a complete BLAS to link against.

Strangely, I found lsame in libmkl_lapack.a (which I guess is the Lapack
part of MKL).  I did a real ugly hack: I inserted the link flags to this
library in RHOME/src/modules/lapack/Makefile, where lapack.so is built.
That seems to have solved the problem.  The resulting build passes make
check w/o any error.

> If you really have a complete LAPACK3 (which I would not bet on)
> you can try building in src/modules/lapack omitting double.f and
> complex.f: you will need to rename a few entry points in Lapack.h
> as they have already been changed to avoid conflicts with sunperf
> (I think).  See also the comments in the README there.

I think I'll just follow the advise in that README file, at least for now...

Thanks very much for your help!

Regards,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Jan 17 20:26:13 2002
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Thu, 17 Jan 2002 21:26:13 +0100 (MET)
Subject: [Rd] eigen segfault with GCC 3 on Solaris (PR#1272)
Message-ID: <200201172026.VAA03052@pubhealth.ku.dk>

A message this morning reminded me of a previous problem I had which should be
noted in R bugs, but is really a problem with gcc 3 I believe. It may be only a
problem on Solaris, but AFAIK has not been checked on other platforms. I
resolved it by going back to a gcc 2.9x.x (which a few people suggested). Below
is the relevant part of my original post, an example which provokes the
segfault, and some gdb information from Peter Dalgaard.

PG>I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example
I
PG>previously posted (repeated below) still gives a segmentation fault, as it
does
PG>with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to
be
PG> repeated several times before the segmentation fault occurs. La.eigen does
not
PG> cause a problem. (The problem occurred with R-devel too, but I have not
tested
PG> that with GCC 3.0.2.)

PD>I don't know if it helps, but I see it too... 3.0.1 on Solaris 2.7.
PD>
PD>gdb says that it is happening at l.2144 of eigen.f:
PD>
PD>2142    C
PD>2143                DO 760 J = M, EN
PD>2144                   RA = RA + H(I,J) * H(J,NA)
PD>2145                   SA = SA + H(I,J) * H(J,EN)
PD>2146      760       CONTINUE
PD>2147    C
PD>
PD>J prints as 7289784 for me, which looks a bit weird since M and EN are
PD>17 and 18 respectively. However, optimizers sometimes cause this sort
PD>of thing.

----- example -----


zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
Segmentation Fault - core dumped

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Jan 18 13:21:52 2002
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 18 Jan 2002 08:21:52 -0500
Subject: [Rd] Should dots be used in generic functions?
Message-ID: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>

When writing generic functions, should "..." arguments be routinely
used?  

The Writing R Extensions manual says that if it is used, all
descendant methods must use it too.  In most cases in the R library
source, the generic has the dots, often documented as parameters for
the descendants (e.g. profile does this).  In the case of profile, the
descendants declare the dots, but don't make use of them. 

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 14:07:39 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 14:07:39 +0000 (GMT)
Subject: [Rd] Should dots be used in generic functions?
In-Reply-To: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>
Message-ID: <Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>

On Fri, 18 Jan 2002, Duncan Murdoch wrote:

> When writing generic functions, should "..." arguments be routinely
> used?
>
> The Writing R Extensions manual says that if it is used, all
> descendant methods must use it too.  In most cases in the R library
> source, the generic has the dots, often documented as parameters for
> the descendants (e.g. profile does this).  In the case of profile, the
> descendants declare the dots, but don't make use of them.

You mean the `methods' (they are not really descendants of anything)?  If
so, you can't tell, as anyone can write a method.  In this case there are
methods profile.nls and profile.glm, and they each have arguments that the
generic and the other method does not have, so they do make use of the ...
in the generic.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From vinod.rajakumar@vectorpartners.com  Fri Jan 18 14:17:10 2002
From: vinod.rajakumar@vectorpartners.com (vinod.rajakumar@vectorpartners.com)
Date: Fri, 18 Jan 2002 15:17:10 +0100 (MET)
Subject: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)
Message-ID: <200201181417.PAA13605@pubhealth.ku.dk>

Full_Name: vinod rajakumar
Version: R-1.4.0
OS: Solaris 5.8
Submission from: (NULL) (66.9.157.2)



my machine looks like:
SunOS 5.8 Generic_108528-07 sun4u sparc SUNW,Sun-Blade-1000 (64-bit)

I downloaded the zipped R-1.4.0 files into $HOME/dwnlds, unzipped, un-tar-ed, 
and ran the following:

export MAKE=gmake
export CC = gcc
./configure --prefix=$HOME/sfw/R
gmake

and here's where it failed:

gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:672: #error code requires that int have 32 bits

I did a double-check and sizeof(int) is 32 bits, any advice?

thank you,
vinod

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 14:31:08 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 18 Jan 2002 15:31:08 +0100 (MET)
Subject: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)
Message-ID: <200201181431.PAA13779@pubhealth.ku.dk>

On Fri, 18 Jan 2002 vinod.rajakumar@vectorpartners.com wrote:

> Full_Name: vinod rajakumar
> Version: R-1.4.0
> OS: Solaris 5.8
> Submission from: (NULL) (66.9.157.2)
>
>
>
> my machine looks like:
> SunOS 5.8 Generic_108528-07 sun4u sparc SUNW,Sun-Blade-1000 (64-bit)
>
> I downloaded the zipped R-1.4.0 files into $HOME/dwnlds, unzipped, un-tar-ed,
> and ran the following:
>
> export MAKE=gmake
> export CC = gcc
> ./configure --prefix=$HOME/sfw/R
> gmake
>
> and here's where it failed:
>
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> arithmetic.c:672: #error code requires that int have 32 bits
>
> I did a double-check and sizeof(int) is 32 bits, any advice?

INT_32_BITS is tested during configure, so you need to look to see what it
did: possibly config.log will help.

I have seen this when the LD_LIBRARY_PATH was not set to allow the
libraries to be found.  You don't tell us which version of gcc, but
gcc 3.0.x needs libgcc.so.

R does build with gcc 3.0.2 on Solaris 7, for example, so there is almost
certainly no problem other than local to you.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Jan 18 14:50:23 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 18 Jan 2002 09:50:23 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>
Message-ID: <3C48362F.2856D89@research.bell-labs.com>

Duncan Murdoch wrote:
> 
> When writing generic functions, should "..." arguments be routinely
> used?
> 
> The Writing R Extensions manual says that if it is used, all
> descendant methods must use it too.  In most cases in the R library
> source, the generic has the dots, often documented as parameters for
> the descendants (e.g. profile does this).  In the case of profile, the
> descendants declare the dots, but don't make use of them.
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

A comment on this for the formal ("S4") methods, where a similar
discussion came up.

The concept we're developing is that the formal arguments of the generic
function and each of its methods must "conform".  This means that they
should have identical arguments, with two exceptions:

1- the method can omit formal arguments from the generic, which is
interpreted as identical to having the omitted arguments in the method
signature with class "missing";

2- the method can have arguments not in the generic if the generic has
..., with the interpretation that the actual arguments matching ... may
correspond to the extra arguments.

There are some additional constraints, such as consistent order of
common arguments, to attempt to ensure sanity.

The r-devel version of the methods package has both these extensions,
the 1.4 version has the first (with a bug in handling ... that's fixed
in r-patched).

This somewhat extends the green book (and the current S-Plus
implementation), but it seems to correspond to useful techniques for
applications.  I'm hopeful that we can iron out a good API, and then
have both R and S-Plus implement it.

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Jan 18 15:48:46 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 18 Jan 2002 10:48:46 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <3C48362F.2856D89@research.bell-labs.com>
Message-ID: <3C4843DE.58B734DD@bank-banque-canada.ca>

John Chambers wrote:

> 2- the method can have arguments not in the generic if the generic has
> ..., with the interpretation that the actual arguments matching ... may
> correspond to the extra arguments.

In this case, would the method have ... as well, or not?

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Jan 18 15:59:01 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 18 Jan 2002 10:59:01 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <3C48362F.2856D89@research.bell-labs.com> <3C4843DE.58B734DD@bank-banque-canada.ca>
Message-ID: <3C484645.C75F29FB@research.bell-labs.com>

Paul Gilbert wrote:
> 
> John Chambers wrote:
> 
> > 2- the method can have arguments not in the generic if the generic has
> > ..., with the interpretation that the actual arguments matching ... may
> > correspond to the extra arguments.
> 
> In this case, would the method have ... as well, or not?

Subject to discussion .... Either seems plausible.  What currently
happens is that setMethod constructs a method that contains the
programmer's supplied definition as a local function and calls it
(needed so that argument re-matching can take place).

An advantage of the method not having ... is that errors in naming
arguments are more likely to be caught.

John

> 
> Paul Gilbert
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Jan 18 16:11:34 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 18 Jan 2002 11:11:34 -0500
Subject: [Rd] Should dots be used in generic functions?
In-Reply-To: <Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>
Message-ID: <sshg4ucl0pdjkuv9dclqnfbmicb0s615jk@4ax.com>

On Fri, 18 Jan 2002 14:07:39 +0000 (GMT), you wrote in message
<Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>:

>On Fri, 18 Jan 2002, Duncan Murdoch wrote:
>
>> When writing generic functions, should "..." arguments be routinely
>> used?
>>
>> The Writing R Extensions manual says that if it is used, all
>> descendant methods must use it too.  In most cases in the R library
>> source, the generic has the dots, often documented as parameters for
>> the descendants (e.g. profile does this).  In the case of profile, the
>> descendants declare the dots, but don't make use of them.
>
>You mean the `methods' (they are not really descendants of anything)?  If
>so, you can't tell, as anyone can write a method.  In this case there are
>methods profile.nls and profile.glm, and they each have arguments that the
>generic and the other method does not have, so they do make use of the ...
>in the generic.

I was stupid, I didn't realize that if you don't have ... in the
generic, then you can't use the generic to call methods with new
parameters.

This is way too late to be changed in the old objects, but I'd suggest
a change in the new system, so that there is a way to detect errors in
the parameters used when calling a method.  Right now, if the
Extensions manual advice is followed, the only way to do that is to
add an explicit test at the start of the method:

if(length(list(...))) stop('args not matched')

Duncan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 16:16:58 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 18 Jan 2002 17:16:58 +0100 (MET)
Subject: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)
Message-ID: <200201181616.RAA15135@pubhealth.ku.dk>

Filing this for the record.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

---------- Forwarded message ----------
Date: Fri, 18 Jan 2002 10:49:52 -0500
From: Vinod Rajakumar <vinod.rajakumar@vectorpartners.com>
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Subject: Re: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)


Thanks so much. I am not very familiar with Unix and your suggestions helped
tremendously

this is the gcc I have:
gcc version 2.95.2 19991024

gcc is installed on /opt/sfw, and you were correct regarding LD_LIBRARY_PATH, I
have compiled and successfully installed R. here's what I did:

gmake distclean

export
LD_LIBRARY_PATH=/opt/sfw/lib:/opt/sfw/lib/gcc-lib/sparc-sun-solaris2.8/2.95.2/
./configure --prefix=$HOME/sfw/R
gmake
gmake check
gmake install

Best regards,
Vinod Rajakumar


Prof Brian Ripley wrote:

> On Fri, 18 Jan 2002 vinod.rajakumar@vectorpartners.com wrote:
>
> > Full_Name: vinod rajakumar
> > Version: R-1.4.0
> > OS: Solaris 5.8
> > Submission from: (NULL) (66.9.157.2)
> >
> >
> >
> > my machine looks like:
> > SunOS 5.8 Generic_108528-07 sun4u sparc SUNW,Sun-Blade-1000 (64-bit)
> >
> > I downloaded the zipped R-1.4.0 files into $HOME/dwnlds, unzipped, un-tar-ed,
> > and ran the following:
> >
> > export MAKE=gmake
> > export CC = gcc
> > ./configure --prefix=$HOME/sfw/R
> > gmake
> >
> > and here's where it failed:
> >
> > gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> > -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> > arithmetic.c:672: #error code requires that int have 32 bits
> >
> > I did a double-check and sizeof(int) is 32 bits, any advice?
>
> INT_32_BITS is tested during configure, so you need to look to see what it
> did: possibly config.log will help.
>
> I have seen this when the LD_LIBRARY_PATH was not set to allow the
> libraries to be found.  You don't tell us which version of gcc, but
> gcc 3.0.x needs libgcc.so.
>
> R does build with gcc 3.0.2 on Solaris 7, for example, so there is almost
> certainly no problem other than local to you.
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Jan 18 16:16:49 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 18 Jan 2002 11:16:49 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <3C48362F.2856D89@research.bell-labs.com> <3C4843DE.58B734DD@bank-banque-canada.ca> <3C484645.C75F29FB@research.bell-labs.com>
Message-ID: <3C484A71.8928AE3E@bank-banque-canada.ca>

John Chambers wrote:
> 
> Paul Gilbert wrote:
> >
> > John Chambers wrote:
> >
> > > 2- the method can have arguments not in the generic if the generic has
> > > ..., with the interpretation that the actual arguments matching ... may
> > > correspond to the extra arguments.
> >
> > In this case, would the method have ... as well, or not?
> 
> Subject to discussion .... Either seems plausible.  What currently
> happens is that setMethod constructs a method that contains the
> programmer's supplied definition as a local function and calls it
> (needed so that argument re-matching can take place).
> 
> An advantage of the method not having ... is that errors in naming
> arguments are more likely to be caught.
> 
This seems to bring things back much closer to the way my code is currently
written. I guess I will wait for the final outcome before I add ... to all my
methods. (It is much harder to take out then it is to add, and I do like the
error catching feature.)

Thanks,
Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Jan 18 17:06:57 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 18 Jan 2002 12:06:57 -0500
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
Message-ID: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>

I'm writing functions that need to behave differently for
GLMs like binomial and Poisson with fixed deviance, and those like
normal or gamma or quasi where the deviance is estimated from the
data.  Given a glm object, is there a simple way to tell this
directly, or do I have to look at the name of the family?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Jan 18 17:13:07 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 18 Jan 2002 18:13:07 +0100
Subject: [Rd] Should dots be used in generic functions?
In-Reply-To: <3C484645.C75F29FB@research.bell-labs.com>
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>
 <3C48362F.2856D89@research.bell-labs.com>
 <3C4843DE.58B734DD@bank-banque-canada.ca>
 <3C484645.C75F29FB@research.bell-labs.com>
Message-ID: <15432.22435.773412.10170@gargle.gargle.HOWL>

>>>>> "John" == John Chambers <jmc@research.bell-labs.com> writes:

    John> Paul Gilbert wrote:
    >> 
    >> John Chambers wrote:
    >> 
    >> > 2- the method can have arguments not in the generic if the generic has
    >> > ..., with the interpretation that the actual arguments matching ... may
    >> > correspond to the extra arguments.
    >> 
    >> In this case, would the method have ... as well, or not?

    John> Subject to discussion .... Either seems plausible.  What currently
    John> happens is that setMethod constructs a method that contains the
    John> programmer's supplied definition as a local function and calls it
    John> (needed so that argument re-matching can take place).

    John> An advantage of the method not having ... is that errors in naming
    John> arguments are more likely to be caught.

Indee.  Leading to much better / understandable error messages in
	  many cases; (etc... you know my stories on this subject)
I'd vote quite emphatically for not requiring these in the method
-- as Paul and Duncan did in the mean time.

 (Finally a really compelling reason to switch to the new method system :-) ;-)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Fri Jan 18 17:14:54 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Fri, 18 Jan 2002 09:14:54 -0800 (PST)
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>
Message-ID: <Pine.A41.4.44.0201180913240.16914-100000@homer26.u.washington.edu>

On Fri, 18 Jan 2002, Duncan Murdoch wrote:

> I'm writing functions that need to behave differently for
> GLMs like binomial and Poisson with fixed deviance, and those like
> normal or gamma or quasi where the deviance is estimated from the
> data.  Given a glm object, is there a simple way to tell this
> directly, or do I have to look at the name of the family?
>

I assume you  mean dispersion rather than deviance.

You have to look.  This information can be specificied by the user to
summary.glm(), but not to glm() itself. Presumably the reason is that the
fit doesn't depend on the dispersion.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 17:26:01 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 17:26:01 +0000 (GMT)
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>
Message-ID: <Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>

On Fri, 18 Jan 2002, Duncan Murdoch wrote:

> I'm writing functions that need to behave differently for
> GLMs like binomial and Poisson with fixed deviance, and those like
> normal or gamma or quasi where the deviance is estimated from the
> data.  Given a glm object, is there a simple way to tell this
> directly, or do I have to look at the name of the family?

Did you mean dispersion fixed?

S/R do not take the dispersion into account: it is not in the fit.
It is used by the summary, predict and anova methods (and that's all as I
recall).  And they do look at the family name.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Jan 18 17:51:58 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 18 Jan 2002 12:51:58 -0500
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>
References: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com> <Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>
Message-ID: <g4og4ucbg9h2jj67ggkuorlnbficrp4vc9@4ax.com>

On Fri, 18 Jan 2002 17:26:01 +0000 (GMT), you wrote in message
<Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>:

>On Fri, 18 Jan 2002, Duncan Murdoch wrote:
>
>> I'm writing functions that need to behave differently for
>> GLMs like binomial and Poisson with fixed deviance, and those like
>> normal or gamma or quasi where the deviance is estimated from the
>> data.  Given a glm object, is there a simple way to tell this
>> directly, or do I have to look at the name of the family?
>
>Did you mean dispersion fixed?

Yes, that's what I meant.  Thanks to everyone for the quick responses!

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From smyth@wehi.edu.au  Sat Jan 19 06:52:57 2002
From: smyth@wehi.edu.au (Gordon Smyth)
Date: Sat, 19 Jan 2002 17:52:57 +1100
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <Pine.A41.4.44.0201180913240.16914-100000@homer26.u.washing
 ton.edu>
References: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>
Message-ID: <5.1.0.14.1.20020119171507.00ad5840@wehiz.wehi.edu.au>

I think that it could improve the glm family function to include an 
argument or attribute that tells explicitly that the dispersion is fixed, 
equivalent to the $scale declaration in GLIM. This would be set T by 
default for the binomial and Poisson families and F by default for most 
other families. This could be done I think in a way which would add extra 
features but would not contradict the S-Plus "Blue Book". In effect, I 
would like the dispersion to be considered part of the "fit" of a glm 
because it is needed for standard errors and hypothesis testing.

The advantage of an explicit fixed-dispersion-attribute would come when
(i) the dispersion happens to be known even though the dispersion is not 
always known for the response family being used. Eg the family is Gamma but 
you know that the responses are multiples of chi-square random variables on 
1 df.
(ii) someone defines a new glm family, other than the binomial or Poisson, 
with fixed dispersion
(iii) one want to use a binomial or Poisson family with variable 
dispersion, without switching to the quasi family.

In case (i), you can work around by calling summary with dispersion=2 (for 
chisquare_1 responses), but not all functions which take glm.objects as 
arguments have a dispersion argument. And in the spirit of object 
orientated programming, shouldn't the glm.object contain all the 
information necessary to construct a standard error or anova from it?

I am enjoying becoming a regular R user. Thanks to all for your work in 
providing a terrific piece of free software.
Gordon Smyth

At 09:14 AM 18/01/2002 -0800, Thomas Lumly wrote:
>On Fri, 18 Jan 2002, Duncan Murdoch wrote:
>
> > I'm writing functions that need to behave differently for
> > GLMs like binomial and Poisson with fixed deviance, and those like
> > normal or gamma or quasi where the deviance is estimated from the
> > data.  Given a glm object, is there a simple way to tell this
> > directly, or do I have to look at the name of the family?
> >
>
>I assume you  mean dispersion rather than deviance.
>
>You have to look.  This information can be specificied by the user to
>summary.glm(), but not to glm() itself. Presumably the reason is that the
>fit doesn't depend on the dispersion.
>
>
>         -thomas

---------------------------------------------------------------------------------------
Dr Gordon K Smyth, Bioinformatics,
Walter and Eliza Hall Institute of Medical Research,
Post Office, Royal Melbourne Hospital, Vic 3050
Tel: (03) 9345 2326, Fax (03) 9347 0852,
Email: smyth@wehi.edu.au, www: http://www.statsci.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jan 19 07:31:37 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Jan 2002 07:31:37 +0000 (GMT)
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <5.1.0.14.1.20020119171507.00ad5840@wehiz.wehi.edu.au>
Message-ID: <Pine.LNX.4.31.0201190716040.2728-100000@gannet.stats>

On Sat, 19 Jan 2002, Gordon Smyth wrote:

> I think that it could improve the glm family function to include an
> argument or attribute that tells explicitly that the dispersion is fixed,
> equivalent to the $scale declaration in GLIM. This would be set T by
> default for the binomial and Poisson families and F by default for most
> other families. This could be done I think in a way which would add extra
> features but would not contradict the S-Plus "Blue Book". In effect, I
> would like the dispersion to be considered part of the "fit" of a glm
> because it is needed for standard errors and hypothesis testing.

You would need to say what the fixed value is ....  So the obvious thing
would be to add a dispersion argument as used in summary.glm, predict.glm
and anova.glm, with the same semantics.

The argument against is S-compatibility. Many R users also use S-PLUS, and
R owes S-PLUS users for the majority of its software.  Some porting from R
to S-PLUS is now happening and I'd like to make that easy and to encourage
it.  (Hence some of the advice on generics/methods is stricter than it
needs to be for current R, but it is essential for current S.)

There is also a transitional issue, as stored glm objects would not have
the dispersion parameter set.  That makes this (quite a lot) harder to
implement, and I am rather against altering the definition of a class.

> The advantage of an explicit fixed-dispersion-attribute would come when
> (i) the dispersion happens to be known even though the dispersion is not
> always known for the response family being used. Eg the family is Gamma but
> you know that the responses are multiples of chi-square random variables on
> 1 df.
> (ii) someone defines a new glm family, other than the binomial or Poisson,
> with fixed dispersion
> (iii) one want to use a binomial or Poisson family with variable
> dispersion, without switching to the quasi family.

Take a closer look over (iii): there are quasibinomial and quasipoisson
families in R.

> In case (i), you can work around by calling summary with dispersion=2 (for
> chisquare_1 responses), but not all functions which take glm.objects as
> arguments have a dispersion argument. And in the spirit of object
> orientated programming, shouldn't the glm.object contain all the
> information necessary to construct a standard error or anova from it?

I believe all functions which need to know the dispersion do have a
dispersion argument (although that was not true a while back).  Can you
please list the exceptions?

I am not arguing against a change, but I am arguing for fully informed
discussion.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From smyth@wehi.edu.au  Sat Jan 19 09:41:41 2002
From: smyth@wehi.edu.au (Gordon Smyth)
Date: Sat, 19 Jan 2002 20:41:41 +1100
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <Pine.LNX.4.31.0201190716040.2728-100000@gannet.stats>
References: <5.1.0.14.1.20020119171507.00ad5840@wehiz.wehi.edu.au>
Message-ID: <5.1.0.14.1.20020119192356.00ad4008@wehiz.wehi.edu.au>

Thanks for your reply. My experience is mainly with S-Plus, so I must admit 
that I am coming from an uninformed viewpoint as far as glm functions in R 
is concerned. My apologies for this.

At 07:31 AM 19/01/2002 +0000, you wrote:
>On Sat, 19 Jan 2002, Gordon Smyth wrote:
>
> > I think that it could improve the glm family function to include an
> > argument or attribute that tells explicitly that the dispersion is fixed,
> > equivalent to the $scale declaration in GLIM. This would be set T by
> > default for the binomial and Poisson families and F by default for most
> > other families. This could be done I think in a way which would add extra
> > features but would not contradict the S-Plus "Blue Book". In effect, I
> > would like the dispersion to be considered part of the "fit" of a glm
> > because it is needed for standard errors and hypothesis testing.
>
>You would need to say what the fixed value is ....  So the obvious thing
>would be to add a dispersion argument as used in summary.glm, predict.glm
>and anova.glm, with the same semantics.
>
>The argument against is S-compatibility. Many R users also use S-PLUS, and
>R owes S-PLUS users for the majority of its software.  Some porting from R
>to S-PLUS is now happening and I'd like to make that easy and to encourage
>it.  (Hence some of the advice on generics/methods is stricter than it
>needs to be for current R, but it is essential for current S.)
>
>There is also a transitional issue, as stored glm objects would not have
>the dispersion parameter set.  That makes this (quite a lot) harder to
>implement, and I am rather against altering the definition of a class.

All good points.

I had in mind that glm would have an optional argument, prior.dispersion 
say, and that that argument would be passed to the glm.object as an 
optional component, just as prior.weights is an optional component in the 
glm.object in S-Plus. That would allow glm.objects without the 
prior.dispersion component to be treated just as at present. I notice now 
though that prior.weights is *always* present in R glm.objects even when 
weights was not present in the glm call, unlike S, so R may be working with 
a stricter class definition that is S.

The are already a number of components (aic, converged, boundary and 
xlevels) which are present in R glm.objects which are not present in S 
objects (at least not in S-Plus 2000 which is the most recent version that 
I have access to). So a prior.dispersion component would at least not be a 
precedent in that regard.

> > The advantage of an explicit fixed-dispersion-attribute would come when
> > (i) the dispersion happens to be known even though the dispersion is not
> > always known for the response family being used. Eg the family is Gamma but
> > you know that the responses are multiples of chi-square random variables on
> > 1 df.
> > (ii) someone defines a new glm family, other than the binomial or Poisson,
> > with fixed dispersion
> > (iii) one want to use a binomial or Poisson family with variable
> > dispersion, without switching to the quasi family.
>
>Take a closer look over (iii): there are quasibinomial and quasipoisson
>families in R.

Thanks for the pointers to quasibinomial and quaipoisson. They're not in 
S-Plus and I wasn't aware of them.

> > In case (i), you can work around by calling summary with dispersion=2 (for
> > chisquare_1 responses), but not all functions which take glm.objects as
> > arguments have a dispersion argument. And in the spirit of object
> > orientated programming, shouldn't the glm.object contain all the
> > information necessary to construct a standard error or anova from it?
>
>I believe all functions which need to know the dispersion do have a
>dispersion argument (although that was not true a while back).  Can you
>please list the exceptions?

R seems to be have been very careful in this regard, and your own 
contributions to the R project have no doubt gone a good way to making this 
true.

I had in mind the pointwise function. predict.glm accepts a dispersion 
argument, but when pointwise takes the output object from predict.glm, it 
"forgets" that the dispersion was known rather than estimated and uses a 
t-distribution instead of normal for the confidence intervals. (I notice 
now though that pointwise is not in the R base package, so this might not 
be a fair example.)

print.glm outputs AIC for the fitted model but doesn't accept a dispersion 
argument. The glm documentation says that AIC is computed "assuming that 
the dispersion is known", but a dispersion estimate of some sort must be 
needed for the AIC value. Looking at Gamma()$aic it appears that the 
dispersion is always estimated from the mean residual deviance whether the 
dispersion is actually known or not.


My main point is that it would be nice for glm.objects to "know" how they 
should be treated, so that functions down the track don't need to keep 
including dispersion= options. I won't push any further on the topic though 
at least until I have more experience with the R glm functions.

Best wishes
Gordon




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Mon Jan 21 06:15:03 2002
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Mon, 21 Jan 2002 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200201210615.g0L6F3X30294@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1218 *
Subject:  behavior of r* and d* functions at boundaries 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 17 Dec 2001 11:04:27 -0500
--points 1 and 2 were fixed for 1.4.0
* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100
* PR# 1244 *
Subject: possible bug in det using method="qr"
From: armin@approximity.com
Date: Sat, 5 Jan 2002 01:48:13 +0100 (MET)

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)
* PR# 1242 *
Subject: copy metafile from window() device fails when lattice/grid is
From: "Liaw, Andy" <andy_liaw@merck.com>
Date: Fri, 04 Jan 2002 14:43:08 -0500
--grid/lattice has spurious initial blank page on current versions
* PR# 1249 *
Subject: cluster - clusplot.default
From: Kjetilh Halvorsen <kjetilh@umsanet.edu.bo>
Date: Mon, 7 Jan 2002 14:55:27 -0400 (BOT)
* PR# 1266 *
Subject: bug in survival package basehaz function
From: Nicholas Lewin-Koh <kohnicho@comp.nus.edu.sg>
Date: Wed, 16 Jan 2002 14:15:21 +0800 (GMT-8)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
--This isn't really a bug: the line in question is a plain-text equation, not a
--piece of R code.
* PR# 1257 *
Subject: documentation of `las' on `par' help page
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Fri, 11 Jan 2002 12:30:20 +0100

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
* PR# 1243 *
Subject: abline and log plots
From: stephen@cogsci.ed.ac.uk
Date: Sat, 5 Jan 2002 01:11:47 +0100 (MET)
* PR# 1248 *
Subject: piechart default colour
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 07 Jan 2002 18:54:02 +0100

Directory:  In-Out

none

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--
* PR# 1211 *
Subject: crash bug in get("function.name")()
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 11 Dec 2001 17:34:07 -0500 (EST)
* PR# 1247 *
Subject: Mishandling missing "..."
From: David Brahm  <brahm@alum.mit.edu>
Date: Mon, 7 Jan 2002 10:52:09 -0500
* PR# 1267 *
Subject: hashing NaN
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Wed, 16 Jan 2002 16:29:35 -0800 (PST)
--Patch put in R-devel for further testing.

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas
* PR# 1261 *
Subject: R_140 AND RHL_72 AND Packages
From: Patrick Gonin <gonin@genethon.fr>
Date: Wed, 15 Jan 2003 13:25:17 +0100
--Seems to relate to RH7.2 rpms
* PR# 1268 *
Subject: Solaris 2.6 Compile
From: gm81640@development.nssmb.com
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
--Most likely a compiler installation problem
* PR# 1272 *
Subject: eigen segfault with GCC 3 on Solaris
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
--Seems to be a problem with g77 in gcc 3.0.2 on Solaris only.
--Probably a compiler bug

Directory:  TooMuchAtOnce

none

Directory:  Windows

none

Directory:  incoming

* PR# 1240 *
Subject:  R CMD check 
From: hoffmann@wsl.ch
Date: Fri, 4 Jan 2002 12:51:15 +0100 (MET)
* PR# 1271 *
Subject: detach(package:base) kills R
From: david.heffernan@orcina.com
Date: Thu, 17 Jan 2002 09:54:14 +0100 (MET)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From geordon.marchak@nssmb.com  Mon Jan 21 08:28:04 2002
From: geordon.marchak@nssmb.com (geordon.marchak@nssmb.com)
Date: Mon, 21 Jan 2002 09:28:04 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
Message-ID: <200201210828.JAA26357@pubhealth.ku.dk>


As you mentioned below, R 1.3.1 does compile on Solaris with gcc 2.95.  I've tried 
both Solaris 2.5.1 and Solaris 2.6 with this, and they are fine.  Moving to gcc 
3.03 however causes the problem.  

Thanks for you help earlier.

-Joe.



> Date: Thu, 17 Jan 2002 08:37:15 +0000 (GMT)
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> To: geordon.marchak@nssmb.com
> Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
> 
> On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:
> 
> > Full_Name: Geordon Marchak
> > Version: R-1.3.1
> > OS: Solaris 2.6
> > Submission from: (NULL) (199.67.239.91)
> >
> >
> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.
> 
> 
> > # make
> > `Makedeps' is up to date.
> > gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> > -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> > ".subsection"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> > ".previous"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> > *** Error code 1
> > make: Fatal error: Command failed for target `lbfgsb.o'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Jan 22 09:25:13 2002
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Tue, 22 Jan 2002 10:25:13 +0100 (MET)
Subject: [Rd] data(): Error in FUN(X[[2]], ...) : subscript out of bounds (PR#1274)
Message-ID: <200201220925.KAA11305@pubhealth.ku.dk>


When I do:

    > data()

... I get:

    Data sets in package `base':

    Formaldehyde            Determination of Formaldehyde concentration

[cut]

    women                   Heights and Weights of Women


    Use `data(package = .packages(all.available = TRUE))'
    to list the data sets in all *available* packages.



When I do as suggested:

    > data(package = .packages(all.available = TRUE))

... I get:

    Error in FUN(X[[2]], ...) : subscript out of bounds
    In addition: Warning message:
    packages `class', `ctest', `eda', `foreign', `lqs',
    	`methods', `mgcv', `nnet', `splines', `stepfun', `tcltk',
    	`tools' contain no datasets in: data(package =
    	.packages(all.available = TRUE))


Packages that cause trouble:

    > data(package = "boot")
    Error in FUN(X[[2]], ...) : subscript out of bounds

    > data(package = "rpart")
    Error in FUN(X[[2]], ...) : subscript out of bounds

    > data(package = "spatial")
    Error in FUN(X[[2]], ...) : subscript out of bounds


Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jan 22 10:25:49 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 22 Jan 2002 11:25:49 +0100 (MET)
Subject: (PR#1274) [Rd] data(): Error in FUN(X[[2]], ...) : subscript
Message-ID: <200201221025.LAA13301@pubhealth.ku.dk>

data() is making assumptions about the structure of the 00Index files
that are not warranted.  All `Writing R Extensions' says is

  The @file{data} subdirectory should also contain
  a @file{00Index} file that describes the datasets available.  Ideally
  this should have a one-line description of each dataset, with full
  documentation in the @file{man} directory.

whereas data() is assuming it is in a two-column format as generated by
Rdindex.  Those packages contain other information in the file, which they
are allowed to do.  More precisely, read.00Index is documented as

     Read item/description information from 00Index-style files.  Such
     files are description lists rendered in tabular form, and
     currently used for the object, data and demo indices and `TITLE'

and that's not required.


On Tue, 22 Jan 2002 kleiweg@let.rug.nl wrote:

>
> When I do:
>
>     > data()
>
> ... I get:
>
>     Data sets in package `base':
>
>     Formaldehyde            Determination of Formaldehyde concentration
>
> [cut]
>
>     women                   Heights and Weights of Women
>
>
>     Use `data(package = .packages(all.available = TRUE))'
>     to list the data sets in all *available* packages.
>
>
>
> When I do as suggested:
>
>     > data(package = .packages(all.available = TRUE))
>
> ... I get:
>
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>     In addition: Warning message:
>     packages `class', `ctest', `eda', `foreign', `lqs',
>     	`methods', `mgcv', `nnet', `splines', `stepfun', `tcltk',
>     	`tools' contain no datasets in: data(package =
>     	.packages(all.available = TRUE))
>
>
> Packages that cause trouble:
>
>     > data(package = "boot")
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>
>     > data(package = "rpart")
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>
>     > data(package = "spatial")
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>
>
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status =
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wtautz@math.uwaterloo.ca  Tue Jan 22 15:05:54 2002
From: wtautz@math.uwaterloo.ca (wtautz@math.uwaterloo.ca)
Date: Tue, 22 Jan 2002 16:05:54 +0100 (MET)
Subject: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
Message-ID: <200201221505.QAA20274@pubhealth.ku.dk>

I have included the full configure/make output:
(the particular error regarding bessel_i.c is at
the END of the report). 


-walter tautz 




	cd build/R-1.4.0 \
	    && unset noclobber \
	&& CPPFLAGS=" " \
	    LDFLAGS="" \
	       ./configure --prefix=/software/r-1 \
	           --datadir=/software/r-1/data \
	           --libdir=/software/r-1/lib \
	           --includedir=/software/r-1/include \
		   --with-x \
			   \
			 \
	           | tee configure.XHIER.log 2>&1 \
	&& touch XHIER_CONFIGURED
creating cache ./config.cache
checking for a BSD compatible install... tools/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... yes
checking for working aclocal... found
checking for working autoconf... found
checking for working automake... found
checking for working autoheader... found
checking for working makeinfo... found
checking host system type... mips-sgi-irix6.5
loading site script ./config.site
loading build specific script ./config.site
checking for pwd... /sbin/pwd
checking whether builddir is srcdir... yes
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking whether gcc needs -traditional... no
checking whether gcc accepts -M for generating dependencies... yes
checking whether gcc supports -c -o FILE.lo... yes
checking for mawk... no
checking for gawk... no
checking for nawk... nawk
checking whether ln -s works... yes
checking for ranlib... :
checking for bison... bison -y
checking for ar... ar
checking whether echo can suppress newlines... yes
configure: warning: redefining INSTALL to be /scratch/usr/source/r-1/build/R-1.4.0/tools/install-sh -c
checking for javac... no
checking for less... /.software/local/.admin/bins/bin/less
checking for perl... /.software/local/.admin/bins/bin/perl
checking whether perl version is at least 5.004... yes
checking for dvips... no
checking for tex... configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals
no
checking for latex... no
checking for makeindex... no
checking for pdftex... no
checking for pdflatex... no
checking for makeinfo... /.software/local/.admin/bins/bin/makeinfo
checking for unzip... no
checking for zip... no
checking for Cygwin environment... no
checking for mingw32 environment... no
checking build system type... mips-sgi-irix6.5
checking for ld used by GCC... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... no
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking how to recognise dependant libraries... pass_all
checking for object suffix... o
checking for executable suffix... no
checking command to parse /usr/bin/nm -B output... ok
checking for dlfcn.h... yes
checking for ranlib... (cached) :
checking for strip... strip
checking for objdir... .libs
checking for gcc option to produce PIC... none
checking if gcc static flag -static works... no
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.lo... 
checking if gcc supports -fno-rtti -fno-exceptions... yes
checking whether the linker (/usr/bin/ld -64) supports shared libraries... yes
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... no
checking dynamic linker characteristics... irix6.5 ld.so
checking if libtool supports shared libraries... yes
checking whether -lc should be explicitly linked in... yes
creating libtool
checking whether makeinfo version is at least 4... yes
checking for main in -lm... yes
defining F77 to be g77
checking whether the Fortran 77 compiler (g77  ) works... yes
checking whether the Fortran 77 compiler (g77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... yes
checking whether g77 accepts -g... yes
checking for Fortran 77 libraries...  -lg2c -lm -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3 -L/usr/bin -L/.software/arch/gcc-2.95.3/dis

tribution/lib/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib -lm -L/usr/lib64/mips3 -L/usr/lib64
checking whether g77 appends underscores... yes
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking for c++... g++
checking whether the C++ compiler (g++  ) works... yes
checking whether the C++ compiler (g++  ) is a cross-compiler... no
checking whether we are using GNU C++... yes
checking whether g++ accepts -g... yes
checking how to run the C++ preprocessor... g++ -E
checking whether g++ accepts -M for generating dependencies... yes
checking whether g++ supports -c -o FILE.lo... yes
checking for sin in -lm... yes
checking for sin in -lmoto... no
checking for main in -lncurses... no
checking for main in -ltermcap... yes
checking for dlopen in -ldl... no
checking for ATL_xerbla in -latlas... no
checking for zherk in -lblas... no
checking for dgemm_ in -lblas... yes
checking for rl_callback_read_char in -lreadline... no
checking for working alloca.h... yes
checking for alloca... yes
checking for ANSI C header files... yes
checking for pid_t... yes
checking for vfork.h... no
checking for working vfork... no
checking for vprintf... yes
checking for access... yes
checking for acosh... yes
checking for asinh... yes
checking for atanh... yes
checking for bcopy... yes
checking for bzero... yes
checking for finite... yes
checking for ftruncate... yes
checking for getcwd... yes
checking for getgrgid... yes
checking for getpwuid... yes
checking for getuid... yes
checking for hypot... yes
checking for isascii... yes
checking for isnan... yes
checking for matherr... no
checking for memcpy... yes
checking for memmove... yes
checking for mempcpy... no
checking for mkfifo... yes
checking for popen... yes
checking for putenv... yes
checking for rint... yes
checking for setenv... no
checking for snprintf... yes
checking for strcoll... yes
checking for stat... yes
checking for strptime... yes
checking for system... yes
checking for times... yes
checking for unsetenv... no
checking for vsnprintf... yes
checking for strdup... yes
checking for library containing connect... none required
checking for library containing gethostbyname... none required
checking for library containing xdr_string... none required
checking for __setfpucw... no
checking for working calloc... yes
checking for working finite... yes
checking for working log... yes
checking for working strptime... no
checking for ANSI C header files... (cached) yes
checking whether time.h and sys/time.h may both be included... yes
checking for dirent.h that defines DIR... yes
checking for opendir in -ldir... no
checking for sys/wait.h that is POSIX.1 compatible... yes
checking for arpa/inet.h... yes
checking for dl.h... no
checking for dlfcn.h... (cached) yes
checking for elf.h... yes
checking for errno.h... yes
checking for fcntl.h... yes
checking for floatingpoint.h... no
checking for fpu_control.h... no
checking for grp.h... yes
checking for ieee754.h... no
checking for ieeefp.h... yes
checking for locale.h... yes
checking for netdb.h... yes
checking for netinet/in.h... yes
checking for pwd.h... yes
checking for readline/history.h... yes
checking for readline/readline.h... yes
checking for rpc/xdr.h... yes
checking for string.h... yes
checking for strings.h... yes
checking for sys/param.h... yes
checking for sys/select.h... yes
checking for sys/socket.h... yes
checking for sys/stat.h... yes
checking for sys/time.h... yes
checking for sys/times.h... yes
checking for sys/utsname.h... yes
checking for unistd.h... yes
checking whether setjmp.h is POSIX.1 compatible... yes
checking for GNU C library with version >= 2... no
checking whether math.h defines isfinite... no
checking whether math.h defines isnan... no
checking return type of signal handlers... void
checking for pid_t... (cached) yes
checking for size_t... yes
checking for blkcnt_t... yes
checking for sys/socket.h... (cached) yes
checking for type of socket length... size_t *
checking whether byte ordering is bigendian... yes
checking for working const... yes
checking size of int... 4
checking size of long... 8
checking size of long long... 8
checking size of long double... 8
checking whether C compiler needs -OPT:IEEE_NaN_inf=ON... no
checking for xmkmf... /usr/bin/X11/xmkmf
checking for X... libraries , headers 
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... no
checking for gethostbyname... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for tclConfig.sh... no
checking for tkConfig.sh... no
checking for tcl.h... no
checking for finite... (cached) yes
checking for isnan... (cached) yes
checking whether you have IEEE 754 floating-point arithmetic... yes
checking for BSD networking... yes
checking for jpeglib.h... yes
checking if jpeglib version >= 6b... no
checking for main in -lz... yes
checking for png.h... yes
checking if libpng version >= 1.0.5... no
checking for XDR support... yes
checking for gzopen in -lz... yes
checking for zlib.h... yes
checking if zlib version >= 1.1.3... no
checking whether leap seconds are treated according to POSIX... yes
checking for setitimer... yes
checking for lpr... lpr
checking for paperconf... false
updating cache ./config.cache
creating ./config.status
creating Makeconf
creating Makefile
creating afm/Makefile
creating doc/Makefile
creating doc/html/Makefile
creating doc/html/search/Makefile
creating doc/manual/Makefile
creating etc/Makefile
creating etc/Makeconf
creating etc/Renviron
creating m4/Makefile
creating share/Makefile
creating src/Makefile
creating src/appl/Makefile
creating src/include/Makefile
creating src/include/R_ext/Makefile
creating src/library/Makefile
creating src/library/base/DESCRIPTION
creating src/library/base/Makefile
creating src/library/profile/Makefile
creating src/library/ctest/DESCRIPTION
creating src/library/ctest/Makefile
creating src/library/ctest/src/Makefile
creating src/library/eda/DESCRIPTION
creating src/library/eda/Makefile
creating src/library/eda/src/Makefile
creating src/library/lqs/DESCRIPTION
creating src/library/lqs/Makefile
creating src/library/lqs/src/Makefile
creating src/library/methods/DESCRIPTION
creating src/library/methods/Makefile
creating src/library/methods/src/Makefile
creating src/library/modreg/DESCRIPTION
creating src/library/modreg/Makefile
creating src/library/modreg/src/Makefile
creating src/library/mva/DESCRIPTION
creating src/library/mva/Makefile
creating src/library/mva/src/Makefile
creating src/library/nls/DESCRIPTION
creating src/library/nls/Makefile
creating src/library/nls/src/Makefile
creating src/library/stepfun/DESCRIPTION
creating src/library/stepfun/Makefile
creating src/library/splines/DESCRIPTION
creating src/library/splines/Makefile
creating src/library/splines/src/Makefile
creating src/library/tcltk/DESCRIPTION
creating src/library/tcltk/Makefile
creating src/library/tcltk/src/Makefile
creating src/library/tools/DESCRIPTION
creating src/library/tools/Makefile
creating src/library/ts/DESCRIPTION
creating src/library/ts/Makefile
creating src/library/ts/src/Makefile
creating src/main/Makefile
creating src/modules/Makefile
creating src/modules/X11/Makefile
creating src/modules/gnome/Makefile
creating src/modules/internet/Makefile
creating src/modules/lapack/Makefile
creating src/modules/vfonts/Makefile
creating src/nmath/Makefile
creating src/nmath/standalone/Makefile
creating src/scripts/Makefile
creating src/scripts/COMPILE
creating src/scripts/INSTALL
creating src/scripts/REMOVE
creating src/scripts/R.sh
creating src/scripts/Rdconv
creating src/scripts/Rdindex
creating src/scripts/Rprof
creating src/scripts/SHLIB
creating src/scripts/Sd2Rd
creating src/scripts/build
creating src/scripts/check
creating src/unix/Makefile
creating tests/Makefile
creating tests/Embedding/Makefile
creating tests/Examples/Makefile
creating tools/Makefile
creating src/include/config.h
configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals


R is now configured for mips-sgi-irix6.5

  Source directory:          .
  Installation directory:    /software/r-1
  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

	cd build/R-1.4.0 \
	&&  make  all \
	&& touch XHIER_BUILT
creating src/scripts/R.fe
mkdir ../../bin
mkdir ../../include
mkdir ../../../include/R_ext
making approx.d from approx.c
making bakslv.d from bakslv.c
making bandwidths.d from bandwidths.c
making binning.d from binning.c
making chull.d from chull.c
making cpoly.d from cpoly.c
making cumsum.d from cumsum.c
making fft.d from fft.c
making fmin.d from fmin.c
making integrate.d from integrate.c
making lbfgsb.d from lbfgsb.c
making loglin.d from loglin.c
making lowess.d from lowess.c
making machar.d from machar.c
making maxcol.d from maxcol.c
making massdist.d from massdist.c
making pretty.d from pretty.c
making rowsum.d from rowsum.c
making splines.d from splines.c
making stem.d from stem.c
making strsignif.d from strsignif.c
making tabulate.d from tabulate.c
making uncmin.d from uncmin.c
making zeroin.d from zeroin.c
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c approx.c -o approx.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bakslv.c -o bakslv.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bandwidths.c -o bandwidths.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c binning.c -o binning.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c chull.c -o chull.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cpoly.c -o cpoly.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cumsum.c -o cumsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fft.c -o fft.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmin.c -o fmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c integrate.c -o integrate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c loglin.c -o loglin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lowess.c -o lowess.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c machar.c -o machar.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c maxcol.c -o maxcol.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c massdist.c -o massdist.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c pretty.c -o pretty.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c rowsum.c -o rowsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c splines.c -o splines.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c stem.c -o stem.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c strsignif.c -o strsignif.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c tabulate.c -o tabulate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c uncmin.c -o uncmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c zeroin.c -o zeroin.o
	g77   -g -O2 -c ch2inv.f -o ch2inv.o
	g77   -g -O2 -c chol.f -o chol.o
	g77   -g -O2 -c dpbfa.f -o dpbfa.o
	g77   -g -O2 -c dpbsl.f -o dpbsl.o
	g77   -g -O2 -c dpoco.f -o dpoco.o
	g77   -g -O2 -c dpodi.f -o dpodi.o
	g77   -g -O2 -c dpofa.f -o dpofa.o
	g77   -g -O2 -c dposl.f -o dposl.o
	g77   -g -O2 -c dqrdc.f -o dqrdc.o
	g77   -g -O2 -c dqrdc2.f -o dqrdc2.o
	g77   -g -O2 -c dqrls.f -o dqrls.o
	g77   -g -O2 -c dqrsl.f -o dqrsl.o
	g77   -g -O2 -c dqrutl.f -o dqrutl.o
	g77   -g -O2 -c dsvdc.f -o dsvdc.o
	g77   -g -O2 -c dtrco.f -o dtrco.o
	g77   -g -O2 -c dtrsl.f -o dtrsl.o
	g77   -g -O2 -c eigen.f -o eigen.o
	g77   -g -O2 -c lminfl.f -o lminfl.o
	ar cr libappl.a approx.o  bakslv.o bandwidths.o binning.o  chull.o cpoly.o cumsum.o  fft.o fmin.o integrate.o lbfgsb.o loglin.o lowess.o  machar.o maxcol.o massdist.o  pretty.o  rowsum.o  splines.o stem.o strsignif.o  tabulate.o  uncmin.o  zeroin.o ch2in

v.o chol.o  dpbfa.o dpbsl.o dpoco.o dpodi.o dpofa.o dposl.o dqrdc.o  dqrdc2.o dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o dtrsl.o  eigen.o  lminfl.o 
	: libappl.a
making mlutils.d from mlutils.c
making d1mach.d from d1mach.c
making i1mach.d from i1mach.c
making fmax2.d from fmax2.c
making fmin2.d from fmin2.c
making fprec.d from fprec.c
making fround.d from fround.c
making ftrunc.d from ftrunc.c
making sign.d from sign.c
making fsign.d from fsign.c
making imax2.d from imax2.c
making imin2.d from imin2.c
making chebyshev.d from chebyshev.c
making log1p.d from log1p.c
making lgammacor.d from lgammacor.c
making gammalims.d from gammalims.c
making stirlerr.d from stirlerr.c
making bd0.d from bd0.c
making gamma.d from gamma.c
making lgamma.d from lgamma.c
making gamma_cody.d from gamma_cody.c
making beta.d from beta.c
making lbeta.d from lbeta.c
making polygamma.d from polygamma.c
making bessel_i.d from bessel_i.c
making bessel_j.d from bessel_j.c
making bessel_k.d from bessel_k.c
making bessel_y.d from bessel_y.c
making choose.d from choose.c
making snorm.d from snorm.c
making sexp.d from sexp.c
making dgamma.d from dgamma.c
making pgamma.d from pgamma.c
making qgamma.d from qgamma.c
making rgamma.d from rgamma.c
making dbeta.d from dbeta.c
making pbeta.d from pbeta.c
making qbeta.d from qbeta.c
making rbeta.d from rbeta.c
making dunif.d from dunif.c
making punif.d from punif.c
making qunif.d from qunif.c
making runif.d from runif.c
making dnorm.d from dnorm.c
making pnorm.d from pnorm.c
making qnorm.d from qnorm.c
making rnorm.d from rnorm.c
making dlnorm.d from dlnorm.c
making plnorm.d from plnorm.c
making qlnorm.d from qlnorm.c
making rlnorm.d from rlnorm.c
making df.d from df.c
making pf.d from pf.c
making qf.d from qf.c
making rf.d from rf.c
making dt.d from dt.c
making pt.d from pt.c
making qt.d from qt.c
making rt.d from rt.c
making dchisq.d from dchisq.c
making pchisq.d from pchisq.c
making qchisq.d from qchisq.c
making rchisq.d from rchisq.c
making dbinom.d from dbinom.c
making pbinom.d from pbinom.c
making qbinom.d from qbinom.c
making rbinom.d from rbinom.c
making dcauchy.d from dcauchy.c
making pcauchy.d from pcauchy.c
making qcauchy.d from qcauchy.c
making rcauchy.d from rcauchy.c
making dexp.d from dexp.c
making pexp.d from pexp.c
making qexp.d from qexp.c
making rexp.d from rexp.c
making dgeom.d from dgeom.c
making pgeom.d from pgeom.c
making qgeom.d from qgeom.c
making rgeom.d from rgeom.c
making dhyper.d from dhyper.c
making phyper.d from phyper.c
making qhyper.d from qhyper.c
making rhyper.d from rhyper.c
making dnbinom.d from dnbinom.c
making pnbinom.d from pnbinom.c
making qnbinom.d from qnbinom.c
making rnbinom.d from rnbinom.c
making dpois.d from dpois.c
making ppois.d from ppois.c
making qpois.d from qpois.c
making rpois.d from rpois.c
making dweibull.d from dweibull.c
making pweibull.d from pweibull.c
making qweibull.d from qweibull.c
making rweibull.d from rweibull.c
making dlogis.d from dlogis.c
making plogis.d from plogis.c
making qlogis.d from qlogis.c
making rlogis.d from rlogis.c
making dnchisq.d from dnchisq.c
making pnchisq.d from pnchisq.c
making qnchisq.d from qnchisq.c
making dnbeta.d from dnbeta.c
making pnbeta.d from pnbeta.c
making pnf.d from pnf.c
making pnt.d from pnt.c
making ptukey.d from ptukey.c
making qtukey.d from qtukey.c
making wilcox.d from wilcox.c
making signrank.d from signrank.c
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c mlutils.c -o mlutils.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c d1mach.c -o d1mach.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c i1mach.c -o i1mach.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmax2.c -o fmax2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmin2.c -o fmin2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fprec.c -o fprec.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fround.c -o fround.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c ftrunc.c -o ftrunc.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c sign.c -o sign.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fsign.c -o fsign.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c imax2.c -o imax2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c imin2.c -o imin2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c chebyshev.c -o chebyshev.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c log1p.c -o log1p.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lgammacor.c -o lgammacor.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c gammalims.c -o gammalims.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c stirlerr.c -o stirlerr.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bd0.c -o bd0.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c gamma.c -o gamma.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lgamma.c -o lgamma.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c gamma_cody.c -o gamma_cody.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c beta.c -o beta.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lbeta.c -o lbeta.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c polygamma.c -o polygamma.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bessel_i.c -o bessel_i.o
bessel_i.c: In function `I_bessel':
bessel_i.c:468: internal error--unrecognizable insn:
(insn 1418 1417 673 (set:DF (reg/v:DF 101)
        (if_then_else:DF (ne (reg:DI 416)
                (const_int 0 [0x0]))
            (reg/v:DF 101)
            (reg:DF 415))) -1 (insn_list 1417 (nil))
    (expr_list:REG_DEAD (reg:DI 416)
        (nil)))
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 22 15:27:45 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jan 2002 16:27:45 +0100
Subject: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
In-Reply-To: <200201221505.QAA20274@pubhealth.ku.dk>
References: <200201221505.QAA20274@pubhealth.ku.dk>
Message-ID: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>

wtautz@math.uwaterloo.ca writes:

> I have included the full configure/make output:
> (the particular error regarding bessel_i.c is at
> the END of the report). 
...
> bessel_i.c: In function `I_bessel':
> bessel_i.c:468: internal error--unrecognizable insn:
> (insn 1418 1417 673 (set:DF (reg/v:DF 101)
>         (if_then_else:DF (ne (reg:DI 416)
>                 (const_int 0 [0x0]))
>             (reg/v:DF 101)
>             (reg:DF 415))) -1 (insn_list 1417 (nil))
>     (expr_list:REG_DEAD (reg:DI 416)
>         (nil)))
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)

That looks like a problem in the gcc compiler suite. You might try
upgrading the compiler. Sometimes changing compiler flags (you would
only need to do it for the offending module) does the trick. 

Another possibility is that gcc is generating code that the system
assembler doesn't understand (this is happening with gcc 3 on
Solaris). If so, then you might install GNU binutils.

If none of this helps, I'm afraid that you need to take it up with the
GCC authors since it is not an R problem.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Walter Tautz <wtautz@math.uwaterloo.ca>  Tue Jan 22 15:48:18 2002
From: Walter Tautz <wtautz@math.uwaterloo.ca> (Walter Tautz)
Date: Tue, 22 Jan 2002 10:48:18 -0500 (EST)
Subject: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
In-Reply-To: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.3.96.1020122103116.3015L-100000@mfcf.math.uwaterloo.ca>



On 22 Jan 2002, Peter Dalgaard BSA wrote:

> wtautz@math.uwaterloo.ca writes:
> 
> > I have included the full configure/make output:
> > (the particular error regarding bessel_i.c is at
> > the END of the report). 
> ...
> > bessel_i.c: In function `I_bessel':
> > bessel_i.c:468: internal error--unrecognizable insn:
> > (insn 1418 1417 673 (set:DF (reg/v:DF 101)
> >         (if_then_else:DF (ne (reg:DI 416)
> >                 (const_int 0 [0x0]))
> >             (reg/v:DF 101)
> >             (reg:DF 415))) -1 (insn_list 1417 (nil))
> >     (expr_list:REG_DEAD (reg:DI 416)
> >         (nil)))
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> 
> That looks like a problem in the gcc compiler suite. You might try
> upgrading the compiler. Sometimes changing compiler flags (you would
> only need to do it for the offending module) does the trick. 
> 
> Another possibility is that gcc is generating code that the system
> assembler doesn't understand (this is happening with gcc 3 on
> Solaris). If so, then you might install GNU binutils.
> 

I neglected to mention that 
gcc -v gives:

gcc version 2.95.3 20010315 (release)



Here is a more verbose output if that helps:




Reading specs from /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/specs
gcc version 2.95.3 20010315 (release)
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cpp0 -lang-c -v -I. -I../../src/include -I../../src/include -D__GNUC__=2 -D__GNUC_MINOR__=95 -Dunix -Dmips -Dsgi -Dhost_mips -DMIPSEB -D_MIPSEB -DSYSTYPE_SVR4 -D_LONGLONG -D_SVR4
_SOURCE -D_MODERN_C -D__DSO__ -D__unix__ -D__mips__ -D__sgi__ -D__host_mips__ -D__MIPSEB__ -D_MIPSEB -D__SYSTYPE_SVR4__ -D_LONGLONG -D_SVR4_SOURCE -D_MODERN_C -D__DSO__ -D__unix -D__mips -D__sgi -D__host_mips -D__MIPSEB -D__SYSTYPE_SVR4 -Asystem(unix) -As
ystem(svr4) -Acpu(mips) -Amachine(sgi) -D__CHAR_UNSIGNED__ -D__OPTIMIZE__ -g -D__LANGUAGE_C -D_LANGUAGE_C -DLANGUAGE_C -D__SIZE_TYPE__=long unsigned int -D__PTRDIFF_TYPE__=long int -D__LONG_MAX__=9223372036854775807L -D__EXTENSIONS__ -D_SGI_SOURCE -D_MIPS
_FPSET=32 -D_MIPS_ISA=_MIPS_ISA_MIPS3 -D_ABI64=3 -D_MIPS_SIM=_ABI64 -D_MIPS_SZINT=32 -D_MIPS_SZLONG=64 -D_MIPS_SZPTR=64 -D_COMPILER_VERSION=601 -U__mips -D__mips=3 -D__mips64 -DHAVE_CONFIG_H bessel_i.c /var/tmp/ccyhjiCa.i
GNU CPP version 2.95.3 20010315 (release) [AL 1.1, MM 40] SGI running IRIX 6.x
#include "..." search starts here:
#include <...> search starts here:
 .
 ../../src/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../mips-sgi-irix6.5/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/include
 /usr/include
End of search list.
The following default directories have been omitted from the search path:
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../include/g++-3
 /usr/local/include
End of omitted list.
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cc1 /var/tmp/ccyhjiCa.i -quiet -dumpbase bessel_i.c -mabi=64 -g -O2 -version -o /var/tmp/ccKOSzid.s
GNU C version 2.95.3 20010315 (release) (mips-sgi-irix6.5) compiled by GNU C version 2.95.3 20010315 (release).
bessel_i.c: In function `I_bessel':
bessel_i.c:468: internal error--unrecognizable insn:
(insn 1418 1417 673 (set:DF (reg/v:DF 101)
        (if_then_else:DF (ne (reg:DI 416)
                (const_int 0 [0x0]))
            (reg/v:DF 101)
            (reg:DF 415))) -1 (insn_list 1417 (nil))
    (expr_list:REG_DEAD (reg:DI 416)
        (nil)))

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Thu Jan 24 03:48:43 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Thu, 24 Jan 2002 04:48:43 +0100 (MET)
Subject: [Rd] typos in R-intro.texi (PR#1279)
Message-ID: <200201240348.EAA07987@pubhealth.ku.dk>

Full_Name: stephen eglen
Version: 1.4
OS: Redhat 7.1
Submission from: (NULL) (128.252.204.36)


I found a few typos whilst reading R-intro.  Line numbers are
against R-intro.texi in the r-devel tree.

line 3060:  but a shorter right tail THAT one would
should be "than"

line 6126: [MaxOS 8/9]
should be "MacOS"

line 6596,6804: "invokation" written.  Should be "invocation".


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Thu Jan 24 10:12:20 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Thu, 24 Jan 2002 10:12:20 +0000
Subject: [Rd] Documentation for transpose function
Message-ID: <3C4FDE04.C062424@durham.ac.uk>

Hi Everyone,

A colleague of mine has suggested that it would be helpful to include a
link to aperm on the ?t help page, for example

\seealso{\code{\link{aperm}} for permuting the extents of arrays.}

Cheers, Jonathan.
-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 24 10:22:35 2002
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Thu, 24 Jan 2002 11:22:35 +0100 (MET)
Subject: [Rd] Documentation for transpose function (PR#1280)
Message-ID: <200201241022.LAA11852@pubhealth.ku.dk>

Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

> Hi Everyone,
> 
> A colleague of mine has suggested that it would be helpful to include a
> link to aperm on the ?t help page, for example
> 
> \seealso{\code{\link{aperm}} for permuting the extents of arrays.}

Sounds like a good idea. CC'ing r-bugs to remember it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 10:46:55 2002
From: theis@statistik.uni-dortmund.de (theis@statistik.uni-dortmund.de)
Date: Thu, 24 Jan 2002 11:46:55 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241046.LAA12336@pubhealth.ku.dk>

Full_Name: Winfried Theis
Version: 1.4.0
OS: Linux
Submission from: (NULL) (129.217.207.135)


Hello!

During an error search I stumbled across the following:
If I do 
> options(digits=22)
and then type in e.g. 0.1 I get:
> 0.1
[1] 0.1000000000000000055511

I hope there is some other way to correct this, than rounding to 12 digits 
or something similar. I tested it on a Sun and under Windows as well and it 
is the same on all systems.

Regards,

Winfried Theis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 11:20:41 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 24 Jan 2002 12:20:41 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241120.MAA12874@pubhealth.ku.dk>

On Thu, 24 Jan 2002 theis@statistik.uni-dortmund.de wrote:

> Full_Name: Winfried Theis
> Version: 1.4.0
> OS: Linux
> Submission from: (NULL) (129.217.207.135)
>
>
> Hello!
>
> During an error search I stumbled across the following:
> If I do
> > options(digits=22)
> and then type in e.g. 0.1 I get:
> > 0.1
> [1] 0.1000000000000000055511
>
> I hope there is some other way to correct this, than rounding to 12 digits
> or something similar. I tested it on a Sun and under Windows as well and it
> is the same on all systems.

0.1 cannot be represented exactly in binary arithmetic. You asked for the
representation to 22 digits, and at most 17 are used in IEEE arithmetic.

This is not a bug in R, which does not claim to have arbitrary precision.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From claudio@unive.it  Thu Jan 24 11:48:57 2002
From: claudio@unive.it (Claudio Agostinelli)
Date: Thu, 24 Jan 2002 12:48:57 +0100 (CET)
Subject: [Rd] round function
In-Reply-To: <200201241046.LAA12336@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.33L2.0201241235180.7180-100000@linaria.dst.unive.it>

Hy everybody,

if I use round function with numbers bigger than 2147483648 (at least
in my PC running linux) I got
> round(2147483648)
[1] -2147483648
>

trunc, floor and ceiling work fine
> trunc(2147483648)
[1] 2147483648
> ceiling(2147483648)
[1] 2147483648
> floor(2147483648)
[1] 2147483648
>

Is this a bug? If not, I suggest that round give back NA or NaN in these
cases.

best,
Claudio Agostinelli



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 12:01:22 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 12:01:22 +0000 (GMT)
Subject: [Rd] round function
In-Reply-To: <Pine.LNX.4.33L2.0201241235180.7180-100000@linaria.dst.unive.it>
Message-ID: <Pine.LNX.4.31.0201241200390.3406-100000@gannet.stats>

On Thu, 24 Jan 2002, Claudio Agostinelli wrote:

> Hy everybody,
>
> if I use round function with numbers bigger than 2147483648 (at least
> in my PC running linux) I got
> > round(2147483648)
> [1] -2147483648
> >
>
> trunc, floor and ceiling work fine
> > trunc(2147483648)
> [1] 2147483648
> > ceiling(2147483648)
> [1] 2147483648
> > floor(2147483648)
> [1] 2147483648
> >
>
> Is this a bug? If not, I suggest that round give back NA or NaN in these
> cases.

It's a bug in 1.4.0 only, already corrected in the patched version.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 24 12:32:31 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2002 13:32:31 +0100
Subject: [Rd] R-1.4.1 scheduled for Jan 30
Message-ID: <x2it9s9bfk.fsf@blueberry.kubism.ku.dk>


We plan to put out R-1.4.1 on Wednesday. This is mainly to get the
fixes that we have already made into an official version, and to clean
up the problem with the Windows build. 

Several on the core team are under fairly heavy load at this time, so
we'll probably be reluctant to fix further bugs unless they are
clearly serious and/or trivial to fix.

Those of you that have unusual platforms could be doing us a favour if
you try building snapshot versions and report back if there are
problems.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 13:06:07 2002
From: theis@statistik.uni-dortmund.de (theis@statistik.uni-dortmund.de)
Date: Thu, 24 Jan 2002 14:06:07 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241306.OAA14998@pubhealth.ku.dk>

Dear Prof. Ripley,

On 24-Jan-02 Prof Brian Ripley wrote:
> 
> 0.1 cannot be represented exactly in binary arithmetic. You asked for the
> representation to 22 digits, and at most 17 are used in IEEE arithmetic.
> 
> This is not a bug in R, which does not claim to have arbitrary precision.
> 
Okay, I do not expect arbitrary precision, but maybe a warning in some way
would be in order, to tell non-experts, what can be expected...

As I said I came across this,
when I searched for an error and this might be the reason for it. When comparing
distances in one dimension within the sequence seq(0,1,by=0.1), I found that R
does not take the distances between (0.3, 0.5) and (0.5,0.7) to be equal.

> abs(0.5-0.3)==abs(0.5-0.7)
[1] FALSE

Checking this now a bit closer with your information I found:
> round(abs(0.5-0.3),digits=17)==round(abs(0.5-0.7),digits=17)
[1] FALSE
> round(abs(0.5-0.3),digits=16)==round(abs(0.5-0.7),digits=16)
[1] TRUE

Would it be possible to restrict "==" as well to the maximum number of digits
used in the arithmetics? It would be very convenient to get the expected result
from such a comparison.

Thank you -- and of course the whole core-team -- for your efforts to make this
great software!

Regards,

Winfried Theis
----------------------------------
E-Mail: Winfried Theis <theis@statistik.uni-dortmund.de>
Date: 24-Jan-02
Time: 12:50:35
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 13:27:42 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 24 Jan 2002 14:27:42 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241327.OAA15418@pubhealth.ku.dk>

On Thu, 24 Jan 2002, Winfried Theis wrote:

> Dear Prof. Ripley,
>
> On 24-Jan-02 Prof Brian Ripley wrote:
> >
> > 0.1 cannot be represented exactly in binary arithmetic. You asked for the
> > representation to 22 digits, and at most 17 are used in IEEE arithmetic.
> >
> > This is not a bug in R, which does not claim to have arbitrary precision.
> >
> Okay, I do not expect arbitrary precision, but maybe a warning in some way
> would be in order, to tell non-experts, what can be expected...
>
> As I said I came across this,
> when I searched for an error and this might be the reason for it. When comparing
> distances in one dimension within the sequence seq(0,1,by=0.1), I found that R
> does not take the distances between (0.3, 0.5) and (0.5,0.7) to be equal.
>
> > abs(0.5-0.3)==abs(0.5-0.7)
> [1] FALSE
>
> Checking this now a bit closer with your information I found:
> > round(abs(0.5-0.3),digits=17)==round(abs(0.5-0.7),digits=17)
> [1] FALSE
> > round(abs(0.5-0.3),digits=16)==round(abs(0.5-0.7),digits=16)
> [1] TRUE
>
> Would it be possible to restrict "==" as well to the maximum number of digits
> used in the arithmetics? It would be very convenient to get the expected result
> from such a comparison.

There is a function all.equal provided for this purpose: it is a misuse of
==.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 13:44:30 2002
From: theis@statistik.uni-dortmund.de (theis@statistik.uni-dortmund.de)
Date: Thu, 24 Jan 2002 14:44:30 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241344.OAA15893@pubhealth.ku.dk>


On 24-Jan-02 Prof Brian Ripley wrote:
> 
> There is a function all.equal provided for this purpose: it is a misuse of
> ==.

But there is no hint or note on the "Comparisons" help page concerning this
problem. If it is a misuse one should be warned against it.

Winfried Theis

----------------------------------
E-Mail: Winfried Theis <theis@statistik.uni-dortmund.de>
Date: 24-Jan-02
Time: 13:54:53
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gb@stat.umu.se  Thu Jan 24 14:15:43 2002
From: gb@stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 24 Jan 2002 15:15:43 +0100 (CET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
In-Reply-To: <200201241344.OAA15893@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.33.0201241512580.5000-100000@tal.stat.umu.se>

On Thu, 24 Jan 2002 theis@statistik.uni-dortmund.de wrote:

> 
> On 24-Jan-02 Prof Brian Ripley wrote:
> > 
> > There is a function all.equal provided for this purpose: it is a misuse of
> > ==.
> 
> But there is no hint or note on the "Comparisons" help page concerning this
> problem. If it is a misuse one should be warned against it.

But there is a warning there:

Don't use == and != for tests, such as in if expressions, where you must 
get a single TRUE or FALSE. Unless you are absolutely sure that nothing 
unusual can happen, you should use the identical function instead.

And 'identical' suggests:

> identical(all.equal(x, y), TRUE)

Clever indeed!
-- 
 Göran Broström                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Umeå University
 SE-90187 Umeå, Sweden             e-mail: gb@stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Thu Jan 24 14:48:29 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Thu, 24 Jan 2002 08:48:29 -0600
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <x2it9s9bfk.fsf@blueberry.kubism.ku.dk>
References: <x2it9s9bfk.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020124144829.GA3676@sonny.eddelbuettel.com>

On Thu, Jan 24, 2002 at 01:32:31PM +0100, Peter Dalgaard BSA wrote:
> Those of you that have unusual platforms could be doing us a favour if
> you try building snapshot versions and report back if there are
> problems.

I could make a snapshot Debian release which would then be thrown at the
twelve distinct architectures Debian supports. On the other hand, 1.4.0
already builds on 9 of these as shown on

   http://buildd.debian.org/build.php?pkg=r-base
   
As I presume no fixes were made to correct the mips and mipsel failures,
would such a snapshot release really provide incremental information?

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 15:15:58 2002
From: theis@statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 24 Jan 2002 15:15:58 -0000 (GMT)
Subject: [Rd] Representation of floating point numbers (PR#1281)
In-Reply-To: <Pine.LNX.4.33.0201241512580.5000-100000@tal.stat.umu.se>
Message-ID: <XFMail.020124151558.theis@statistik.uni-dortmund.de>

Hello!
On 24-Jan-02 Göran Broström wrote:
> On Thu, 24 Jan 2002 theis@statistik.uni-dortmund.de wrote:
> 
>> 
>> On 24-Jan-02 Prof Brian Ripley wrote:
>> > 
>> > There is a function all.equal provided for this purpose: it is a misuse of
>> > ==.
>> 
>> But there is no hint or note on the "Comparisons" help page concerning this
>> problem. If it is a misuse one should be warned against it.
> 
> But there is a warning there:
> 
> Don't use == and != for tests, such as in if expressions, where you must 
> get a single TRUE or FALSE. Unless you are absolutely sure that nothing 
> unusual can happen, you should use the identical function instead.
> 
> And 'identical' suggests:
> 
>> identical(all.equal(x, y), TRUE)
> 
> Clever indeed!
Sorry for being imprecise here: I missed the hint on all.equal on that page.

My main problem is that I need to find the places of a numerical vector x where
it equals its maximum, so usually I would do

> x[x==max(x)]

and this led to this whole discussion. I may be a bit dumb today but I don't
see an easy way to solve this with identical or all.equal. -- But please don't
bother, for the time being I will just round in the appropriate places. 

Sorry to have bothered you all with this.

Regards,
Winfried Theis
----------------------------------
E-Mail: Winfried Theis <theis@statistik.uni-dortmund.de>
Date: 24-Jan-02
Time: 15:04:41
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 15:35:39 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 24 Jan 2002 15:35:39 +0000 (GMT)
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <20020124144829.GA3676@sonny.eddelbuettel.com>
Message-ID: <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>

On Thu, 24 Jan 2002, Dirk Eddelbuettel wrote:

> On Thu, Jan 24, 2002 at 01:32:31PM +0100, Peter Dalgaard BSA wrote:
> > Those of you that have unusual platforms could be doing us a favour if
> > you try building snapshot versions and report back if there are
> > problems.
>
> I could make a snapshot Debian release which would then be thrown at the
> twelve distinct architectures Debian supports. On the other hand, 1.4.0
> already builds on 9 of these as shown on
>
>    http://buildd.debian.org/build.php?pkg=r-base
>
> As I presume no fixes were made to correct the mips and mipsel failures,
> would such a snapshot release really provide incremental information?

Some, yes.  Sometimes fixes for one platform break another.  As a real
example, Rinternals.h was causing two C++-based compilers to object.
I changed a couple of declarations to a form that Metrowerks was known to
accept, and it passed on four others.  Then Luke found HP-UX's C compiler
objected, and had to change it again.

I really don't know how much independent evidence Debian's different
architectures provides, but my guess is that no else will be able to check
a 64-bit Linux.

Does that inform a cost-benefit analysis for you?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Thu Jan 24 15:43:15 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Thu, 24 Jan 2002 09:43:15 -0600
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
References: <20020124144829.GA3676@sonny.eddelbuettel.com> <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
Message-ID: <20020124154315.GA3906@sonny.eddelbuettel.com>

On Thu, Jan 24, 2002 at 03:35:39PM +0000, Prof Brian D Ripley wrote:
> On Thu, 24 Jan 2002, Dirk Eddelbuettel wrote:
> > As I presume no fixes were made to correct the mips and mipsel failures,
> > would such a snapshot release really provide incremental information?
> 
> Some, yes.  Sometimes fixes for one platform break another.  As a real
[...]

Good point. On the other hand, all this will show is gcc et al on different
Linux arches.

> Does that inform a cost-benefit analysis for you?

Sure. But one other problem I forgot earlier is that the timeframe might
simply be too tight -- it could be Sunday before most of the systems catch
up, and that would leave little time for R-core to try to mend things.

I could try to do it this eve if there is a view at your end that it is
useful. I guess it wouldn't hurt, overall. 

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Thu Jan 24 15:59:21 2002
From: brahm@alum.mit.edu (David Brahm)
Date: Thu, 24 Jan 2002 10:59:21 -0500
Subject: [Rd] Representation of floating point numbers (PR#1281)
In-Reply-To: <XFMail.020124151558.theis@statistik.uni-dortmund.de>
References: <Pine.LNX.4.33.0201241512580.5000-100000@tal.stat.umu.se>
 <XFMail.020124151558.theis@statistik.uni-dortmund.de>
Message-ID: <15440.12121.742575.747387@gargle.gargle.HOWL>

Winfried Theis writes:
> My main problem is that I need to find the places of a numerical vector x
> where it equals its maximum, so usually I would do
> x[x==max(x)]

Then you want which.max(x)  [a great function found in R but not S-Plus].
-- 
                              -- David Brahm (brahm@alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Jan 24 17:22:13 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 24 Jan 2002 12:22:13 -0500
Subject: [Rd] config.log
Message-ID: <3C5042C5.B87129FB@bank-banque-canada.ca>

(subject changed and move from r-help)

On Thu, 24 Jan 2002, Agustin Lobo wrote:

> (config.log was not that useful as the following 3 lines
> configure:8610: checking for rl_callback_read_char in -lreadline
> configure:10229: checking for readline/history.h
> configure:10229: checking for readline/readline.h
>
> state the checking but not the actual result.

There are times I have wished all the output from configure was recorded
somewhere. (Perhaps it is and I just don't know where.) I have even re-run
configure on occassion, just to try and figure out a problem. But re-running
does not help if your system has changed and you are trying to figure out why
something worked before and doesn't anymore.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Ralph.MacNally@sci.monash.edu.au  Fri Jan 25 04:22:20 2002
From: Ralph.MacNally@sci.monash.edu.au (Ralph.MacNally@sci.monash.edu.au)
Date: Fri, 25 Jan 2002 05:22:20 +0100 (MET)
Subject: [Rd] na.action=na.omit doesn't omit in glm() (PR#1282)
Message-ID: <200201250422.FAA22830@pubhealth.ku.dk>

Full_Name: Ralph Mac Nally
Version: 1.40
OS: MacOS9x/Windows98
Submission from: (NULL) (130.194.13.180)


I'm using a simple glm in which the dependent variable may have missing data
(coded 'NA') as usual. Both the default na.action (na.omit) and explicit
'na.action=na.omit' do not seem to ignore the missing data as I expect,
generating an error to that effect (NA passed to routine). I encounter the same
problem in classic Mac and Windows98 versions, but S works alright.

What is the source/solution to this problem?

Thanks Ralph

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 25 07:46:38 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Jan 2002 07:46:38 +0000 (GMT)
Subject: [Rd] na.action=na.omit doesn't omit in glm() (PR#1282)
In-Reply-To: <200201250422.FAA22830@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0201250740070.15891-100000@auk.stats>

On Fri, 25 Jan 2002 Ralph.MacNally@sci.monash.edu.au wrote:

> Full_Name: Ralph Mac Nally
> Version: 1.40
> OS: MacOS9x/Windows98
> Submission from: (NULL) (130.194.13.180)
>
>
> I'm using a simple glm in which the dependent variable may have missing data
> (coded 'NA') as usual. Both the default na.action (na.omit) and explicit
> 'na.action=na.omit' do not seem to ignore the missing data as I expect,
> generating an error to that effect (NA passed to routine). I encounter the same
> problem in classic Mac and Windows98 versions, but S works alright.
>
> What is the source/solution to this problem?

Could we have a reproducible example, please?

Based on example(glm)

counts <- c(18, 17, 15, 20, 10, 20, 25, 13, 12)
outcome <- gl(3, 1, 9)
treatment <- gl(3, 3)
d.AD <- data.frame(treatment, outcome, counts)

glm(counts ~ outcome + treatment, family = poisson, data=d.AD)
Degrees of Freedom: 8 Total (i.e. Null);  4 Residual
Null Deviance:      10.58
Residual Deviance: 5.129        AIC: 56.76

d.AD[1, 1] <- NA
glm(counts ~ outcome + treatment, family = poisson, data=d.AD)
Degrees of Freedom: 7 Total (i.e. Null);  3 Residual
Null Deviance:      10.46
Residual Deviance: 4.011        AIC: 50.91

d.AD[9,3] <- NA
glm(counts ~ outcome + treatment, family = poisson, data=d.AD)
Degrees of Freedom: 6 Total (i.e. Null);  2 Residual
Null Deviance:      8.934
Residual Deviance: 2.725        AIC: 45.28

appears to work exactly as advertised.

Or try not using a data frame:

counts[9] <- NA
glm(counts ~ outcome + treatment, family = poisson)
Degrees of Freedom: 7 Total (i.e. Null);  3 Residual
Null Deviance:      8.971
Residual Deviance: 3.204        AIC: 50.5


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Fri Jan 25 15:03:13 2002
From: bolker@zoo.ufl.edu (Ben Bolker)
Date: Fri, 25 Jan 2002 10:03:13 -0500 (EST)
Subject: [Rd] Re: [R] How to add error bars to plot(x,y)in R?
In-Reply-To: <Pine.OSF.3.96.1020125102720.8203B-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.30.0201250954360.14931-100000@bolker.zoo.ufl.edu>

On Fri, 25 Jan 2002, Agustin Lobo wrote:

>
> The real solution would be adding this feature as an option
> to plot.

  This is really a philosophical question.  There are several possible
solutions:

 1. tell people (on the list, in a FAQ, or somewhere in the documentation)
that the easiest way to add error bars is to use arrows(...,angle=90)

 2. add a plotCI (or error.bar, or whatever) function that uses arrows(),
possibly with some bells and whistles, to a utility package that users can
get;

 3. ditto, but to the base R package instead;

 4. make error bars an option to plot(), as you suggest.

 The basic problem is "featuritis", and the fact that there are many
different possible ways you might want to add error bars.  Purists would
say that you need only provide simple tools that people can use to do what
they need; some compromise between nothing and everything is usually
better.  I personally prefer solution #3 above, since plotting confidence
intervals seems to be a pretty basic operation, and one that users should
be encouraged to do.  I wonder if there's an object-oriented solution to
this?  An "error" class and a plot.error method?

  Ben

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Jan 25 19:38:28 2002
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Fri, 25 Jan 2002 20:38:28 +0100 (MET)
Subject: [Rd] max/min of NULL gives MININT/MAXINT instead of -INF/+INF (PR#1283)
Message-ID: <200201251938.UAA05657@pubhealth.ku.dk>

R Version 1.4.0 Patched (2002-01-23)
Solaris 5.8

I just noticed that max(NULL) gives a strange result:

	> max(NULL)
	[1] -2147483647
	Warning message: 
	no finite arguments to min/max; returning extreme. in: max(...,
na.rm = na.rm) 

I discovered this when I did something like

	max(object$element)

for an incorrect element name.  The warning  message was helpful, but I was
still surprised to get a negative integer from this operation.  

In playing around, I see that using numeric summary operations on NULL or
numeric(0) gives inconsistent results:

For NULL:

	> max(NULL)
	[1] -2147483647
	Warning message: 
	no finite arguments to min/max; returning extreme. in: max(...,
na.rm = na.rm) 

	> min(NULL)
	[1] 2147483647
	Warning message: 
	no finite arguments to min/max; returning extreme. in: min(...,
na.rm = na.rm) 

	> mean(NULL)
	[1] NA
	Warning message: 
	argument is not numeric or logical: returning NA in:
mean.default(NULL) 

	> sum(NULL)
	[1] 0

	> range(NULL)
	[1] NA NA
 

For numeric(0):

	> max(numeric(0))
	[1] -Inf
	Warning message: 
	no finite arguments to min/max; returning extreme. in: max(...,
na.rm = na.rm) 

	> min(numeric(0))
	[1] Inf
	Warning message: 
	no finite arguments to min/max; returning extreme. in: min(...,
na.rm = na.rm) 

	> mean(numeric(0))
	[1] NaN

	> sum(numeric(0))
	[1] 0
	
	> range(numeric(0))
	[1] NA NA


I'm not sure that it really makes sense return the extremes when min/max are
called with numeric(0) or NULL arguments.  It seems that returning NA in all
of these cases (including sum) would be best, since such operations usually
indicate an error of some sort.

Still, if one insists that min/max should return the extremes, when they
operate on NULL they should at least return the floating point +INF / -INF
so that things don't get really strange when they get compared with floating
point numbers.

-Greg






LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Jan 25 20:10:43 2002
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Fri, 25 Jan 2002 21:10:43 +0100 (MET)
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <200201252010.VAA05814@pubhealth.ku.dk>

	
When the R_HOME environment variable is set, R issues a warning messages
when it starts up.  When doing 'make check' this causes the check for
eval-etc.R to fail:
	
	[...]
	make[3]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	running strict specific tests
	make[3]: Entering directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	running code in `eval-etc.R' ... OK
	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
	< WARNING: ignoring environment value of R_HOME
	make[3]: *** [eval-etc.Rout] Error 1
	make[3]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	make[2]: *** [test-Specific] Error 2
	make[2]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	make[1]: *** [test-all-basics] Error 1
	make[1]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	make: *** [check] Error 2

This is, of course easily worked around by unsetting R_HOME and removing it
from the shell startup scripts, but this is incovienient when R_HOME needs
to be set for other reasons (e.g. to allow the Python interface to R
'RSPython' to find the R code it needs).

It already appears that the version strings are filtered out when testing
for difference between the versions.  Is it possible to filter out the
environment variable warning message as well? 

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Jan 25 21:15:45 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Fri, 25 Jan 2002 16:15:45 -0500
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC850B@usrymx10.merck.com>

I also fell into that trap a couple of times, but it doesn't really bother
me, since it's, IMHO, a real minor inconvenience.

(In bash, under Linux:)  Would the following work?  Haven't tried...

  R_HOME="" make check

Andy

> -----Original Message-----
> From: gregory_r_warnes@groton.pfizer.com
> [mailto:gregory_r_warnes@groton.pfizer.com]
> Sent: Friday, January 25, 2002 3:11 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
> 
> 
> 	
> When the R_HOME environment variable is set, R issues a 
> warning messages
> when it starts up.  When doing 'make check' this causes the check for
> eval-etc.R to fail:
> 	
> 	[...]
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running strict specific tests
> 	make[3]: Entering directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running code in `eval-etc.R' ... OK
> 	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
> 	< WARNING: ignoring environment value of R_HOME
> 	make[3]: *** [eval-etc.Rout] Error 1
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[2]: *** [test-Specific] Error 2
> 	make[2]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[1]: *** [test-all-basics] Error 1
> 	make[1]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make: *** [check] Error 2
> 
> This is, of course easily worked around by unsetting R_HOME 
> and removing it
> from the shell startup scripts, but this is incovienient when 
> R_HOME needs
> to be set for other reasons (e.g. to allow the Python interface to R
> 'RSPython' to find the R code it needs).
> 
> It already appears that the version strings are filtered out 
> when testing
> for difference between the versions.  Is it possible to filter out the
> environment variable warning message as well? 
> 
> -Greg
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is 
> confidential and may be privileged. It is intended for the 
> addressee(s) only. Access to this E-mail by anyone else is 
> unauthorized. If you are not an addressee, any disclosure or 
> copying of the contents of this E-mail or any action taken 
> (or not taken) in reliance on it is unauthorized and may be 
> unlawful. If you are not an addressee, please inform the 
> sender immediately.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Jan 25 21:16:58 2002
From: andy_liaw@merck.com (andy_liaw@merck.com)
Date: Fri, 25 Jan 2002 22:16:58 +0100 (MET)
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <200201252116.WAA06035@pubhealth.ku.dk>

I also fell into that trap a couple of times, but it doesn't really bother
me, since it's, IMHO, a real minor inconvenience.

(In bash, under Linux:)  Would the following work?  Haven't tried...

  R_HOME="" make check

Andy

> -----Original Message-----
> From: gregory_r_warnes@groton.pfizer.com
> [mailto:gregory_r_warnes@groton.pfizer.com]
> Sent: Friday, January 25, 2002 3:11 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
> 
> 
> 	
> When the R_HOME environment variable is set, R issues a 
> warning messages
> when it starts up.  When doing 'make check' this causes the check for
> eval-etc.R to fail:
> 	
> 	[...]
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running strict specific tests
> 	make[3]: Entering directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running code in `eval-etc.R' ... OK
> 	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
> 	< WARNING: ignoring environment value of R_HOME
> 	make[3]: *** [eval-etc.Rout] Error 1
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[2]: *** [test-Specific] Error 2
> 	make[2]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[1]: *** [test-all-basics] Error 1
> 	make[1]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make: *** [check] Error 2
> 
> This is, of course easily worked around by unsetting R_HOME 
> and removing it
> from the shell startup scripts, but this is incovienient when 
> R_HOME needs
> to be set for other reasons (e.g. to allow the Python interface to R
> 'RSPython' to find the R code it needs).
> 
> It already appears that the version strings are filtered out 
> when testing
> for difference between the versions.  Is it possible to filter out the
> environment variable warning message as well? 
> 
> -Greg
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is 
> confidential and may be privileged. It is intended for the 
> addressee(s) only. Access to this E-mail by anyone else is 
> unauthorized. If you are not an addressee, any disclosure or 
> copying of the contents of this E-mail or any action taken 
> (or not taken) in reliance on it is unauthorized and may be 
> unlawful. If you are not an addressee, please inform the 
> sender immediately.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Jan 25 21:34:21 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 25 Jan 2002 16:34:21 -0500
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE551@groexmbcr02.pfizer.com>

Perhaps one solution would be to add an equivalent line to the top level
makefile ?

-Greg

> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw@merck.com]
> Sent: Friday, January 25, 2002 4:16 PM
> To: 'gregory_r_warnes@groton.pfizer.com'; r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: RE: [Rd] make check fails when R_HOME env var set (PR#1284)
> 
> 
> I also fell into that trap a couple of times, but it doesn't 
> really bother
> me, since it's, IMHO, a real minor inconvenience.
> 
> (In bash, under Linux:)  Would the following work?  Haven't tried...
> 
>   R_HOME="" make check
> 
> Andy
> 
> > -----Original Message-----
> > From: gregory_r_warnes@groton.pfizer.com
> > [mailto:gregory_r_warnes@groton.pfizer.com]
> > Sent: Friday, January 25, 2002 3:11 PM
> > To: r-devel@stat.math.ethz.ch
> > Cc: R-bugs@biostat.ku.dk
> > Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
> > 
> > 
> > 	
> > When the R_HOME environment variable is set, R issues a 
> > warning messages
> > when it starts up.  When doing 'make check' this causes the 
> check for
> > eval-etc.R to fail:
> > 	
> > 	[...]
> > 	make[3]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	running strict specific tests
> > 	make[3]: Entering directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	running code in `eval-etc.R' ... OK
> > 	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
> > 	< WARNING: ignoring environment value of R_HOME
> > 	make[3]: *** [eval-etc.Rout] Error 1
> > 	make[3]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	make[2]: *** [test-Specific] Error 2
> > 	make[2]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	make[1]: *** [test-all-basics] Error 1
> > 	make[1]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	make: *** [check] Error 2
> > 
> > This is, of course easily worked around by unsetting R_HOME 
> > and removing it
> > from the shell startup scripts, but this is incovienient when 
> > R_HOME needs
> > to be set for other reasons (e.g. to allow the Python interface to R
> > 'RSPython' to find the R code it needs).
> > 
> > It already appears that the version strings are filtered out 
> > when testing
> > for difference between the versions.  Is it possible to 
> filter out the
> > environment variable warning message as well? 
> > 
> > -Greg
> > 
> > 
> > LEGAL NOTICE
> > Unless expressly stated otherwise, this message is 
> > confidential and may be privileged. It is intended for the 
> > addressee(s) only. Access to this E-mail by anyone else is 
> > unauthorized. If you are not an addressee, any disclosure or 
> > copying of the contents of this E-mail or any action taken 
> > (or not taken) in reliance on it is unauthorized and may be 
> > unlawful. If you are not an addressee, please inform the 
> > sender immediately.
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Jan 26 17:17:50 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 26 Jan 2002 11:17:50 -0600
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
References: <20020124144829.GA3676@sonny.eddelbuettel.com>
 <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
Message-ID: <15442.58558.687176.829313@sonny.eddelbuettel.com>


  "Brian" == Brian D Ripley <Prof> writes:
  Brian> I really don't know how much independent evidence Debian's different
  Brian> architectures provides, but my guess is that no else will be able to
  Brian> check a 64-bit Linux.

As an interim result, R-patched-2002-01-24 compiled fine on the i386, hppa,
ia64, powerpc. sparc, arm. It failed (just as previously) on mipsel (see
below). The m68k box was out of diskspace and postponed, others haven't tried
yet.

Full logs at http://buildd.debian.org/build.php?&pkg=r-base

The mipsel failure is in:

running code in `arith-true.R' ... OK
comparing `arith-true.Rout' to `./arith-true.Rout.save' ...161c161
< [1] FALSE
---
> [1] TRUE
190,193d189
< 
< n= 1006 : quantile(rErr, c(.95,1)) = 0.002086 0.0495 
< 
< n= 1039 : quantile(rErr, c(.95,1)) = 7.645e-14 3.195e-07 
198c194
< [1] FALSE
---
> [1] TRUE
make[4]: *** [arith-true.Rout] Error 1
make[4]: Leaving directory `/build/buildd/r-base-1.4.0.cvs20020124/tests'

If anybody here is motivated to look into this in detail, let me know.

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From garbade@psy.uni-muenchen.de  Tue Jan 29 09:39:29 2002
From: garbade@psy.uni-muenchen.de (garbade@psy.uni-muenchen.de)
Date: Tue, 29 Jan 2002 10:39:29 +0100 (MET)
Subject: [Rd] seek() doesn't reposition a file connection (PR#1287)
Message-ID: <200201290939.KAA00954@pubhealth.ku.dk>

Full_Name: Sven Garbade
Version: 1.4.0
OS: Linux i386
Submission from: (NULL) (129.187.254.49)


It seems that seek() can't reposition a file connection, but it can report the
actual file position correctly if the file connection was repositioned by
another function (e.g. readBin()).

R code:

> s <- file("p9_os/p9lr_all.mea","rb")
> s
         description                class                 mode 
"p9_os/p9lr_all.mea"               "file"                 "rb" 
                text               opened             can read 
            "binary"             "opened"                "yes" 
           can write 
                "no" 
> seek(s, 0, "end")
[1] 0           
> seek(s)
[1] 0           # file connctor its still at the first position
> readBin(s, integer(), 64, size=2)
 [1]   103     1   400     1   749     0     0     0     0     0     0     0
[13]     0     0     0     0     0     0     0     0     0     0     0     0
[25]     0     0     0     0     0     0     0     0 11884 25888 25977 11552
[37] 22560     0     0     0     0     0     0     0     0     0     0     0
[49]     0     0     0     0     0     0     0     0     0     0     0     0
[61]     0     0     0     0
> seek(s)
[1] 128        # here seek reports the correct postion


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jan 29 09:52:54 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 29 Jan 2002 10:52:54 +0100 (MET)
Subject: [Rd] (PR#1287) seek was ignoring the `origin' argument (was
Message-ID: <200201290952.KAA01265@pubhealth.ku.dk>

The original subject line is false.  It *does* reposition, but `origin'
was being ignored, so your request was to reposition to the beginning of
the file, and that is what happened.

This was already fixed in R-patched: from NEWS there:

    o	seek() on file connections was ignoring the `origin' argument.

It's always worth looking at the current patched version.


On Tue, 29 Jan 2002 garbade@psy.uni-muenchen.de wrote:

> Full_Name: Sven Garbade
> Version: 1.4.0
> OS: Linux i386
> Submission from: (NULL) (129.187.254.49)
>
>
> It seems that seek() can't reposition a file connection, but it can report the
> actual file position correctly if the file connection was repositioned by
> another function (e.g. readBin()).
>
> R code:
>
> > s <- file("p9_os/p9lr_all.mea","rb")
> > s
>          description                class                 mode
> "p9_os/p9lr_all.mea"               "file"                 "rb"
>                 text               opened             can read
>             "binary"             "opened"                "yes"
>            can write
>                 "no"
> > seek(s, 0, "end")
> [1] 0
> > seek(s)
> [1] 0           # file connctor its still at the first position
> > readBin(s, integer(), 64, size=2)
>  [1]   103     1   400     1   749     0     0     0     0     0     0     0
> [13]     0     0     0     0     0     0     0     0     0     0     0     0
> [25]     0     0     0     0     0     0     0     0 11884 25888 25977 11552
> [37] 22560     0     0     0     0     0     0     0     0     0     0     0
> [49]     0     0     0     0     0     0     0     0     0     0     0     0
> [61]     0     0     0     0
> > seek(s)
> [1] 128        # here seek reports the correct postion
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From garbade@psy.uni-muenchen.de  Tue Jan 29 10:41:56 2002
From: garbade@psy.uni-muenchen.de (garbade@psy.uni-muenchen.de)
Date: Tue, 29 Jan 2002 11:41:56 +0100 (MET)
Subject: [Rd] (PR#1287) seek was ignoring the `origin' argument (wasseek()
Message-ID: <200201291041.LAA02428@pubhealth.ku.dk>

Prof Brian Ripley wrote:
> 
> The original subject line is false.  It *does* reposition, but `origin'
> was being ignored, so your request was to reposition to the beginning of
> the file, and that is what happened.
> 
> This was already fixed in R-patched: from NEWS there:
> 
>     o   seek() on file connections was ignoring the `origin' argument.
> 
> It's always worth looking at the current patched version.

Thanks. I've only searched in existing bug reports in
http://r-bugs.biostat.ku.dk/cgi-bin/R and found nothing referable to
seek().

Regards, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@ms.cc.sunysb.edu  Tue Jan 29 20:11:09 2002
From: tkeitt@ms.cc.sunysb.edu (tkeitt@ms.cc.sunysb.edu)
Date: Tue, 29 Jan 2002 21:11:09 +0100 (MET)
Subject: [Rd] dimnames usage in ts (PR#1288)
Message-ID: <200201292011.VAA10838@pubhealth.ku.dk>

Full_Name: Tim Keitt
Version: 1.4
OS: Linux
Submission from: (NULL) (129.49.19.70)


I think this code in 'ts' is incorrect:

    if (is.matrix(data) || is.data.frame(data)) {
        nseries <- ncol(data)
        ndata <- nrow(data)
        dimnames(data) <- list(NULL, names)
    }

since

> x <- data.frame(matrix(rnorm(100),ncol=10))
> names(x)
 [1] "X1"  "X2"  "X3"  "X4"  "X5"  "X6"  "X7"  "X8"  "X9"  "X10"
> dimnames(x)
[[1]]
 [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10"

[[2]]
 [1] "X1"  "X2"  "X3"  "X4"  "X5"  "X6"  "X7"  "X8"  "X9"  "X10"

> dimnames(x) <- list(NULL, names(x))
Error in "dimnames<-.data.frame"(*tmp*, value = list(NULL, names(x))) : 
	invalid dimnames given for data frame
> 

Or else, "dimnames<-.data.frame" has a bug.

T.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 29 20:57:51 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Jan 2002 21:57:51 +0100
Subject: [Rd] dimnames usage in ts (PR#1288)
In-Reply-To: <200201292011.VAA10838@pubhealth.ku.dk>
References: <200201292011.VAA10838@pubhealth.ku.dk>
Message-ID: <x2665kub74.fsf@blueberry.kubism.ku.dk>

tkeitt@ms.cc.sunysb.edu writes:

> I think this code in 'ts' is incorrect:
> 
>     if (is.matrix(data) || is.data.frame(data)) {
>         nseries <- ncol(data)
>         ndata <- nrow(data)
>         dimnames(data) <- list(NULL, names)
>     }
...
> Or else, "dimnames<-.data.frame" has a bug.

It doesn't (well, this isn't one...). A data frame must have unique
rownames, so trying to set them to NULL is wrong, as you say. 

The fix would seem to be something like replacing the last line with

if (is.null(dimnames(data)))
        dimnames(data) <- list(NULL, names)
else
        dimnames(data)[[2]] <- name

Did you actually get bitten by this one?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@stonybrook.edu  Tue Jan 29 21:08:36 2002
From: Timothy.Keitt@stonybrook.edu (Timothy H. Keitt)
Date: 29 Jan 2002 16:08:36 -0500
Subject: [Rd] dimnames usage in ts (PR#1288)
In-Reply-To: <x2665kub74.fsf@blueberry.kubism.ku.dk>
References: <200201292011.VAA10838@pubhealth.ku.dk>
 <x2665kub74.fsf@blueberry.kubism.ku.dk>
Message-ID: <1012338516.13070.29.camel@keittlab-6>

On Tue, 2002-01-29 at 15:57, Peter Dalgaard BSA wrote:
> 
> Did you actually get bitten by this one?
> 

Yes. (Sorry if that wasn't clear.) In the past, I could create a
multivariate time series object by passing a dataframe to the 'ts' or
'as.ts' functions --- that no longer works because 'ts' tries to set the
row names to NULL. Unless I'm missing something, the bug is in the 'ts'
function.

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 29 23:02:29 2002
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Wed, 30 Jan 2002 00:02:29 +0100 (MET)
Subject: [Rd] dimnames usage in ts (PR#1288)
Message-ID: <200201292302.AAA11644@pubhealth.ku.dk>

"Timothy H. Keitt" <Timothy.Keitt@stonybrook.edu> writes:

> On Tue, 2002-01-29 at 15:57, Peter Dalgaard BSA wrote:
> > 
> > Did you actually get bitten by this one?
> > 
> 
> Yes. (Sorry if that wasn't clear.) In the past, I could create a
> multivariate time series object by passing a dataframe to the 'ts' or
> 'as.ts' functions --- that no longer works because 'ts' tries to set the
> row names to NULL. Unless I'm missing something, the bug is in the 'ts'
> function.

You had me tempted to fix this for 1.4.1, but

a) There's more to it than meets the eye. As I read the code, it
cannot possibly have worked to do ts(dataframe) since we changed the
internal structure of lists some time in the 0.6x series! The
"obvious" fix tickled another bug whose fix tickled another, etc.

b) On closer inspection, the docs don't promise that you should be
able to do that. "Vector or matrix"... I wouldn't know whether
anything would actually be able to work on a data frame with a "tsp"
attribute. So the only option would be to insert an automatic
conversion to a matrix.

c) That would be a new feature, out of bounds the day before a
release. The workaround is trivial anyway:
   ts(as.matrix(dataframe)) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@stonybrook.edu  Tue Jan 29 23:14:07 2002
From: Timothy.Keitt@stonybrook.edu (Timothy.Keitt@stonybrook.edu)
Date: Wed, 30 Jan 2002 00:14:07 +0100 (MET)
Subject: [Rd] dimnames usage in ts (PR#1288)
Message-ID: <200201292314.AAA11742@pubhealth.ku.dk>

On Tue, 2002-01-29 at 18:01, Peter Dalgaard BSA wrote:
> 
> You had me tempted to fix this for 1.4.1, but
> 
> c) That would be a new feature, out of bounds the day before a
> release. The workaround is trivial anyway:
>    ts(as.matrix(dataframe)) 
> 

Yes; that is what I ended up doing. Another solution is to make 'as.ts'
generic and add:

as.ts.data.frame <- function(x) ts(as.matrix(x))

(My code called 'as.ts' and I think I just forgot that it was not a
generic fuction with a data.frame method.)

T.

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jan 30 08:11:08 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 30 Jan 2002 09:11:08 +0100 (MET)
Subject: [Rd] cluster - clusplot.default (PR#1249)
Message-ID: <200201300811.JAA13573@pubhealth.ku.dk>

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:

>>>>> "kjetil" == kjetil halvorsen <kjetilh@umsanet.edu.bo> writes:
    kjetil> The following code in clusplot.default (package
    kjetil> cluster) is in error:

    kjetil> x1 <- cmdscale(x, k = 2, eig = TRUE) var.dec <-
    kjetil> sum(x1$eig)/sum(diag(x1$x)) if (var.dec < 0) var.dec
    kjetil> <- 0 if (var.dec > 1) var.dec <- 1 x1 <- x1$points

    kjetil> x1 has components with names "points" and "eig", not
    kjetil> "x", so sum(diag(x1$x)) returns 0, the division
    kjetil> gives Inf which is later replaced by 1.  So in the
    kjetil> plot it is reported (always) that "These two
    kjetil> components explain 100% of the variability".

    MM> Thank you Kjetil.  Yes, there's definitely a problem
    MM> there.  However the solution is not as easy: Doing the
    MM> replacement you suggest is not enough, since var.dec
    MM> still is not scaled to [0,1].

    MM> Before the lines you cite above, there is

    MM>         ##x1 <- cmd(x, k = 2, eig = T, add = T)
    MM> ##if(x1$ac < 0) ## x1 <- cmd(x, k = 2, eig = T)

    MM> which was Rousseeuw et al's original code -- instead of
    MM> the x1 <- cmdscale(...) line above.  And cmd() was an
    MM> internal function calling directly into undocumented
    MM> S-plus internal Fortran code...  The original porter of
    MM> the cluster package had replaced the cmd() by cmdscale()
    MM> which seemed but was not ok.

    MM> I'll have a look.

This is fixed in the now current version of cluster, 1.4-0.

Note that cmdscale() will have an ``add ='' option from R 1.5.0 on.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 13:10:32 2002
From: lio@hpss1.ccs.ornl.gov (lio@hpss1.ccs.ornl.gov)
Date: Wed, 30 Jan 2002 14:10:32 +0100 (MET)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
Message-ID: <200201301310.OAA19034@pubhealth.ku.dk>

Full_Name: Daniel L. Million
Version: 1.4.0
OS: AIX 5.1 and 4.3.3
Submission from: (NULL) (160.91.192.125)


Is there any guidance available on building R on AIX?  Specifically, which C 
compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX 
Visual Age C version 5.0.2.  We also have gcc available.

I have tried building with "cc" (the default AIX compiler) and "gcc".  During
the "make", C compilation in src/library/methods/src completes, and then I 
see this:

mkdir ../../../../library/methods/libs
dumping R code in package `methods'
make: 1254-059 The signal code from the last command is 11.

Apparently the make is running R.bin, which coredumps with a segmentation
violation.

Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
Any clues at all as to how to get around this?

Thanks.

Dan Million


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 16:45:53 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 08:45:53 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <200201301310.OAA19034@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>

On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:

> Full_Name: Daniel L. Million
> Version: 1.4.0
> OS: AIX 5.1 and 4.3.3
> Submission from: (NULL) (160.91.192.125)
>
>
> Is there any guidance available on building R on AIX?  Specifically, which C
> compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> Visual Age C version 5.0.2.  We also have gcc available.
>
> I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> the "make", C compilation in src/library/methods/src completes, and then I
> see this:
>
> mkdir ../../../../library/methods/libs
> dumping R code in package `methods'
> make: 1254-059 The signal code from the last command is 11.
>
> Apparently the make is running R.bin, which coredumps with a segmentation
> violation.
>
> Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> Any clues at all as to how to get around this?


I have successfully built most recent versions of R including 1.4.0 with
gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
haven't been able to mix the GNU and IBM compilers, but I haven't tried
recently.  Last week I compiled R-patched successfully using gcc/g77. I
didn't have to do anything special, but AIX has often been source of
configuration bugs.

You could try not building the methods package: edit  Makeconf in the top
R/ directory and remove methods from R_PKGS.

Also, I think that it's possible to have the methods package build in the
usual source form rather than as a saved image. I don't know how, but John
Chambers or Duncan Temple Lang may be able to help.

These wouldn't actually fix the problem, but would enable you to compile
everything else.

I'll try again with the AIX compilers and the new R 1.4.1. It's possible
that there have been some changes since I last tried, since I usually do
this shortly before a release.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 19:49:04 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Wed, 30 Jan 2002 14:49:04 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:
>
> > Full_Name: Daniel L. Million
> > Version: 1.4.0
> > OS: AIX 5.1 and 4.3.3
> > Submission from: (NULL) (160.91.192.125)
> >
> >
> > Is there any guidance available on building R on AIX?  Specifically, which C
> > compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> > Visual Age C version 5.0.2.  We also have gcc available.
> >
> > I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> > the "make", C compilation in src/library/methods/src completes, and then I
> > see this:
> >
> > mkdir ../../../../library/methods/libs
> > dumping R code in package `methods'
> > make: 1254-059 The signal code from the last command is 11.
> >
> > Apparently the make is running R.bin, which coredumps with a segmentation
> > violation.
> >
> > Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> > Any clues at all as to how to get around this?
>
>
> I have successfully built most recent versions of R including 1.4.0 with
> gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
> haven't been able to mix the GNU and IBM compilers, but I haven't tried
> recently.  Last week I compiled R-patched successfully using gcc/g77. I
> didn't have to do anything special, but AIX has often been source of
> configuration bugs.
>
> You could try not building the methods package: edit  Makeconf in the top
> R/ directory and remove methods from R_PKGS.
>
> Also, I think that it's possible to have the methods package build in the
> usual source form rather than as a saved image. I don't know how, but John
> Chambers or Duncan Temple Lang may be able to help.
>
> These wouldn't actually fix the problem, but would enable you to compile
> everything else.
>
> I'll try again with the AIX compilers and the new R 1.4.1. It's possible
> that there have been some changes since I last tried, since I usually do
> this shortly before a release.
>
> 	-thomas

Thanks for the reply.  I tried building without the modules package, and
got past that point.  Now the build fails trying to link tcltk.so.  Seems
the tclConfig.sh on my host refers to a file that does not exist
(/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).

I'll freely admit to being clueless about most of this.  I don't know
anything about R; I'm just a sysadmin trying to build/install it for a
user who needs it.

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 19:54:25 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 11:54:25 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <200201301310.OAA19034@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0201301150260.117500-100000@homer04.u.washington.edu>


I've just compiled R 1.4.1 on AIX 4.3 with

bash% CC=cc FC=f77 ./configure
bash% make

It all seems to work (I'm running make check, but the computer is very
slow).

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 20:13:12 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Wed, 30 Jan 2002 15:13:12 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301150260.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301510410.16064-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> I've just compiled R 1.4.1 on AIX 4.3 with
>
> bash% CC=cc FC=f77 ./configure
> bash% make
>
> It all seems to work (I'm running make check, but the computer is very
> slow).
>
> 	-thomas

I just tried it with CC=cc and FC=f77, and I got the coredump in the same
place.  This is on AIX 4.3.3 with Maintenance Level 09.

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 20:17:29 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 12:17:29 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>
Message-ID: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>

On Wed, 30 Jan 2002, Dan Million wrote:

> Thanks for the reply.  I tried building without the modules package, and
> got past that point.  Now the build fails trying to link tcltk.so.  Seems
> the tclConfig.sh on my host refers to a file that does not exist
> (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> I'll freely admit to being clueless about most of this.  I don't know
> anything about R; I'm just a sysadmin trying to build/install it for a
> user who needs it.

Our autodetection of tcl/tk is less reliable than most stuff, partly
because the tclConfig.sh and similar files are sometimes inaccurate.  If
your users don't need tcl/tk (which is a fairly low-level set of
facilities for writing GUIs) you can again remove tcltk from the R_PKGS
line of Makeconf, or reconfigure
   ./configure --without-tcltk

If your users do need this package then you (or they) need to track down
where tcl and tk lurk and provide this information to R. Probably the
easiest way would be to install a new version of Tcl and Tk, which should
produce an honest set of configuration files.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 20:24:19 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 12:24:19 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.31.0201301510410.16064-100000@hpss1.ccs.ornl.gov>
Message-ID: <Pine.A41.4.44.0201301220150.117500-100000@homer04.u.washington.edu>

On Wed, 30 Jan 2002, Dan Million wrote:

> I just tried it with CC=cc and FC=f77, and I got the coredump in the same
> place.  This is on AIX 4.3.3 with Maintenance Level 09.

Hmm. According to R I have
   platform rs6000-ibm-aix4.3.3.0

There's another few AIX users at CMU, so we should find out how widespread
this is fairly soon.

Are you compiling 32-bit or 64-bit?

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 20:27:37 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Wed, 30 Jan 2002 15:27:37 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301220150.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301525020.16064-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002, Dan Million wrote:
>
> > I just tried it with CC=cc and FC=f77, and I got the coredump in the same
> > place.  This is on AIX 4.3.3 with Maintenance Level 09.
>
> Hmm. According to R I have
>    platform rs6000-ibm-aix4.3.3.0
>
> There's another few AIX users at CMU, so we should find out how widespread
> this is fairly soon.
>
> Are you compiling 32-bit or 64-bit?
>
> 	-thomas

32-bit.

Mine says it's for "powerpc-ibm-aix4.3.3.0".

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plicplouf@yahoo.com  Thu Jan 31 12:30:57 2002
From: plicplouf@yahoo.com (=?iso-8859-1?q?plic=20plouf?=)
Date: Thu, 31 Jan 2002 07:30:57 -0500 (EST)
Subject: [Rd] filled.contour+graphics output
Message-ID: <20020131123057.55961.qmail@web13205.mail.yahoo.com>

Hello,

I really happy to see how fast R is going : another
new release !!!!!. I'm currently  using daily this 
software and really like it. Thanks for this nice
work.

I don't know how to proceed for my question and if I
had to write to you about that.

I got some trouble with postscript output mainly  but
other like png, jpeg and even screen  especially with
the function filled.contour

First of all for postscript the output is really huge
with my chart something 
like 3 MO and slow on the screen to appear I guess for
the same reason. 
It seems that the driver writes in the file everything
even parts from graph  that are in background and 
will be cover by an upper level and make the file 
really huge.

Then the graph is split in small voxel according to
the size of the matrix in input, all this voxel are
also written in the output but not really efficiently.
Because  I guess the output should during rendering
write the complete level instead of  all voxel that
make the file so big and slow to 
appear on the screen. 

Also the function  adding asp=1 for conservation of
the scale with x and y 
doesn't work properly with fixing the range of the
output
xlim=range(0.0,1),
ylim=range(0.27,0.9),
asp=1
the control of the range of xlim, and ylim are not
accurate and sometime give 
on the output an incomplete filling of the box .

Last point I would like to have the key to have an
independent behavior and be able for example to use
the same one and only one for different level plots.
It's maybe possible but never figure out how to do.


Best regards 

Sébastien 

PS Could you please give also the answer and comments
directly to my mail plicplouf@yahoo.com Thanks

__________________________________________________________
Obtenez votre adresse @yahoo.ca gratuite et en français !
courriel.yahoo.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Jan 31 13:55:57 2002
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 31 Jan 2002 14:55:57 +0100 (CET)
Subject: [Rd] Version number in manpage
Message-ID: <Pine.LNX.4.33.0201311452010.423-100000@kleigh.nl>


When I did 'man R' I noticed the version number says 1.4.0
Is this intentionally, or just something somebody forgot to
change to 1.4.1?
The date in the manpage is also old: December 2001.

-- 
Peter Kleiweg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brandy@hotmail.com  Thu Jan 31 16:29:01 2002
From: brandy@hotmail.com (brandy@hotmail.com)
Date: Fri, 1 Feb 2002 00:29:01 +0800
Subject: [Rd] ashley's open cam
Message-ID: <200201311632.RAA13458@stat.math.ethz.ch>

Below is the result of your feedback form.  It was submitted by  (brandy@hotmail.com) on Friday, February 1, 19102 at 00:29:01
---------------------------------------------------------------------------

: here's ashley's new web address , i talked to her all night long last night, and wow isn't she hot, here it is don't abuse it :)
url : http://www.mailsync.org/b4y/1/index.html

---------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brendan_mcmahon@prusec.com  Thu Jan 31 17:00:57 2002
From: brendan_mcmahon@prusec.com (brendan_mcmahon@prusec.com)
Date: Thu, 31 Jan 2002 18:00:57 +0100 (MET)
Subject: [Rd] Installation problem : SunOS (PR#1291)
Message-ID: <200201311700.SAA07558@pubhealth.ku.dk>

Full_Name: Brendan McMahon
Version: 1.3
OS: SunOS
Submission from: (NULL) (12.42.50.51)



Probably just a configuration problem but ... fails to compile.
configure completed without a problem.
Any help appreciated!!

SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10

`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:58: warning: `struct exception' declared inside parameter list
arithmetic.c:58: warning: its scope is only this definition or declaration,
arithmetic.c:58: warning: which is probably not what you want.
arithmetic.c: In function `matherr':
arithmetic.c:60: dereferencing pointer to incomplete type
arithmetic.c:61: `DOMAIN' undeclared (first use this function)
arithmetic.c:61: (Each undeclared identifier is reported only once
arithmetic.c:61: for each function it appears in.)
arithmetic.c:62: `SING' undeclared (first use this function)
arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
arithmetic.c:69: dereferencing pointer to incomplete type
arithmetic.c: In function `do_math1':
arithmetic.c:984: `acosh' undeclared (first use this function)
arithmetic.c:985: `asinh' undeclared (first use this function)
arithmetic.c:986: `atanh' undeclared (first use this function)
*** Error code 1
make: Fatal error: Command failed for target `arithmetic.o'
Current working directory /export/home/flexapp/R/R-1.3.0/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 31 17:46:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 31 Jan 2002 18:46:34 +0100 (MET)
Subject: [Rd] Installation problem : SunOS (PR#1291)
Message-ID: <200201311746.SAA07819@pubhealth.ku.dk>

On Thu, 31 Jan 2002 brendan_mcmahon@prusec.com wrote:

> Full_Name: Brendan McMahon
> Version: 1.3
> OS: SunOS
> Submission from: (NULL) (12.42.50.51)
>
>
>
> Probably just a configuration problem but ... fails to compile.
> configure completed without a problem.

We need to know your compiler system. This is I seem to remember a symptom
of using gcc made on SunOS 5.5 under 5.6/7, so if this is gcc, was it
built under 5.7?

BTW, R is now at 1.4.1, not 1.3.0.

> Any help appreciated!!
>
> SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10
>
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> arithmetic.c:58: warning: `struct exception' declared inside parameter list
> arithmetic.c:58: warning: its scope is only this definition or declaration,
> arithmetic.c:58: warning: which is probably not what you want.
> arithmetic.c: In function `matherr':
> arithmetic.c:60: dereferencing pointer to incomplete type
> arithmetic.c:61: `DOMAIN' undeclared (first use this function)
> arithmetic.c:61: (Each undeclared identifier is reported only once
> arithmetic.c:61: for each function it appears in.)
> arithmetic.c:62: `SING' undeclared (first use this function)
> arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
> arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
> arithmetic.c:69: dereferencing pointer to incomplete type
> arithmetic.c: In function `do_math1':
> arithmetic.c:984: `acosh' undeclared (first use this function)
> arithmetic.c:985: `asinh' undeclared (first use this function)
> arithmetic.c:986: `atanh' undeclared (first use this function)
> *** Error code 1
> make: Fatal error: Command failed for target `arithmetic.o'
> Current working directory /export/home/flexapp/R/R-1.3.0/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Thu Jan 31 18:36:00 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Thu, 31 Jan 2002 13:36:00 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201311327400.23486-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002, Dan Million wrote:
>
> > Thanks for the reply.  I tried building without the modules package, and
> > got past that point.  Now the build fails trying to link tcltk.so.  Seems
> > the tclConfig.sh on my host refers to a file that does not exist
> > (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> Our autodetection of tcl/tk is less reliable than most stuff, partly
> because the tclConfig.sh and similar files are sometimes inaccurate.  If
> your users don't need tcl/tk (which is a fairly low-level set of
> facilities for writing GUIs) you can again remove tcltk from the R_PKGS
> line of Makeconf, or reconfigure
>    ./configure --without-tcltk
>
> If your users do need this package then you (or they) need to track down
> where tcl and tk lurk and provide this information to R. Probably the
> easiest way would be to install a new version of Tcl and Tk, which should
> produce an honest set of configuration files.

I installed and built the Tcl/Tk source RPM, and now the file that R wants
is there.  By skipping the "modules" packages, the build gets all the way
to the end.

"make check" fails rather quickly:

    running code in `base-Ex.R' .../bin/sh: 51598 Illegal
	instruction(coredump)
    make: 1254-004 The error code from the last command is 1.

When I try to run R, I get the opening info and then a "> " prompt.
I can type simple commands like help(), but whenever I type q() to
quit, I get a coredump.  This is consistent with what I saw earlier when
the build was trying to load "modules".  The stack trace in the coredump
contains this:

Segmentation fault in spin_lock_global_ppc_mp at 0xd0106644 ($t1)
0xd0106644 (spin_lock_global_ppc_mp+0x24) 7ce5192d     stwcx.   r7,r5,r3
(dbx) where
spin_lock_global_ppc_mp() at 0xd0106644
_rec_mutex_lock(??) at 0xd0170d48
__ct__Q2_3std7_LockitFi(??, ??) at 0xd0bb3a18
__dt__Q2_3std6_WinitFv(??, ??) at 0xd0bdad18
__srterm__7__Fv() at 0xd0bcbe04
exit(??) at 0xd0177c40
Rstd_CleanUp(0x3, 0x0, 0x1), line 529 in "sys-std.c"

It almost looks like R is working OK until it calls "exit", and then it
blows up.

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gmuleb@hotmail.com  Thu Jan 31 22:44:01 2002
From: gmuleb@hotmail.com (gmuleb@hotmail.com)
Date: Fri, 1 Feb 2002 06:44:01 +0800
Subject: [Rd] real busty amateurs
Message-ID: <200201312244.GAA05530@infoweb1.east.net.cn>

Below is the result of your feedback form.  It was submitted by  (gmuleb@hotmail.com) on Friday, February 1, 19102 at 06:44:01
---------------------------------------------------------------------------

: if you like natural busty amateurs, check out these free pics gallery : 
http://www.mailsync.org/dnetw/index.html





if you do not wish to receive free sex galleries in your mail send an e-mail to :

gmuleb@hotmail.com

---------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Tue Jan  1 20:17:47 2002
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 1 Jan 2002 21:17:47 +0100
Subject: [Rd] ifs estimator
In-Reply-To: <15408.25675.538679.627892@gargle.gargle.HOWL>
Message-ID: <9F50E120-FEF4-11D5-BB5F-003065CC4CB8@mclink.it>

Thank you Martin,

you have been really helpful.


Stefano

On Lunedì, dicembre 31, 2001, at 02:12 , Martin Maechler wrote:

>>>>>> "Stefano" == Stefano Iacus <jago@mclink.it> writes:
>
>     Stefano> Hy all, I have written a small library that provide
>
> ((it's called  ``package''  , not library ... ))
>
>     Stefano> a new distribution function estimator based on IFS
>     Stefano> (that are essentially fractals).
>
>     Stefano> I would be pleased if any of you can build hte
>     Stefano> library for Unix-type machines and Windows
>     Stefano> implementations with the included makefiles as a
>     Stefano> Mac library is already working. As I'm not able to
>     Stefano> test these platforms any modification to makefiles
>     Stefano> is welcome.
>
>     Stefano> I have put something (src and Monte Carlo results)
>     Stefano> at
>
>     Stefano> http://159.149.74.117/~web/R/ifs/
>
>     Stefano> This is a very preliminary release of the library
>     Stefano> and only the basic estimator is contained in it. We
>     Stefano> (me and D. La Torre) are working on smarter
>     Stefano> estimators and also on density estimators.
>
> I had to change DESCRIPTION.in (this is for R standard
>  packages!!) to DESCRIPTION
> {and then you don't need a TITLE file anymore).
>
> Also the file permissions were wrong in quite a few places, you
> had extra executable permission on simple text files.
>
>     Stefano> On that page there is also some theory on the
>     Stefano> subject at a very preliminary stage as a full paper
>     Stefano> will follow in 2002.
> (fine).
>
> Note that I would recommend using a tests/ subdirectory
> where you'd put some of the code currently in your (separately
> packaged) ifs demo.
>
> After the above changes, `R CMD check' only reports two
> remaining problem groups :
>
> 1)
>>> * checking Rd files ... WARNING
>>> *  non-standard keyword(s) in `man/ifs.Rd': distribution function 
>>> estimation
>
> Note that you must choose from <RHOME>/doc/KEYWORDS
>
> 2)
>
>>>   * checking for undocumented objects ... WARNING
>>>   [1] "phi"    "SM.IFS"
>
>  {you have to decide what to do here}.
>
>
>     Stefano> thank you for your attention and I wish you an
>     Stefano> happy new year.
>
> The same to you and all other R-develers!
>
> Martin
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Richard.Beare@csiro.au  Wed Jan  2 05:35:47 2002
From: Richard.Beare@csiro.au (Richard Beare)
Date: Wed, 02 Jan 2002 16:35:47 +1100
Subject: [Rd] Building R-1.4 on Tru64
Message-ID: <3C329C33.11D295F0@csiro.au>

Hello everyone,

I've just attempted to build R-1.4 on Compaq Tru64 (I'll enclose the
text from bug.report() from R-1.3.1 at the end.) The relevant part of
the log is below.

Any ideas?

gcc -shared  -o methods.so do_substitute_direct.o
methods_list_dispatch.o method_meta_data.o slot.o   -L/usr/local/lib  
/usr/ucb/ld:
Warning: Unresolved:
TYPEOF
Rf_error
Rf_protect
Rf_substitute
Rf_unprotect
Rf_duplicate
Rf_VectorToPairList
R_NilValue
Rf_NewEnvironment
R_set_standardGeneric_ptr
R_GlobalEnv
R_set_quick_method_check
Rf_install
Rf_allocVector
LOGICAL
R_PreserveObject
Rf_mkChar
SET_STRING_ELT
Rf_findVar
R_UnboundValue
VECTOR_ELT
R_NamesSymbol
Rf_getAttrib
Rf_length
STRING_ELT
R_CHAR
R_do_slot
Rf_asChar
PRINTNAME
Rf_isNull
CAR
CDR
R_data_class
Rf_isFunction
Rf_findFun
SETCAR
Rf_eval
INTEGER
CLOENV
Rf_findVarInFrame
Rf_isSymbol
ENCLOS
SYMVALUE
Rf_asLogical
R_MissingArg
Rf_isPrimitive
do_set_prim_method
BODY
R_deferred_default_method
PREXPR
PRENV
R_DotsSymbol
DDVAL
R_set_prim_method
Rf_defineVar
R_do_slot_assign
mkdir ../../../../library/methods/libs
make[5]: Leaving directory
`/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/src/library/methods/src'
make[4]: Leaving directory
`/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/src/library/methods/src'
make[4]: Entering directory
`/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/src/library/methods'
dumping R code in package `methods'
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/library/methods/libs/methods.so":
  dlopen:
/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/library/ctest/libs/ctest.so:
symbol "dansari" unresolved
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1

-------------------------------------

Version:
 platform = alphaev56-dec-osf5.1
 arch = alphaev56
 os = osf5.1
 system = alphaev56, osf5.1
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R


-- 
Richard Beare, CSIRO Mathematical & Information Sciences
Locked Bag 17, North Ryde, NSW 1670, Australia
Phone: +61-2-93253221 (GMT+~10hrs)  Fax: +61-2-93253200

Richard.Beare@csiro.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sohanw@ait.ac.th  Wed Jan  2 07:29:18 2002
From: sohanw@ait.ac.th (sohanw@ait.ac.th)
Date: Wed, 2 Jan 2002 08:29:18 +0100 (MET)
Subject: [Rd] Help for installation (PR#1233)
Message-ID: <200201020729.IAA04998@pubhealth.ku.dk>

Dear r-bugs,

  I down loaded the R-1.4.0.tgz
  But cannot unzip or install. I would be grateful if you
  could give some help.

  My system is Microsoft windows.
  
Best regards,

Sohan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jan  2 07:42:41 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 2 Jan 2002 08:42:41 +0100 (MET)
Subject: [Rd] Help for installation (PR#1233)
Message-ID: <200201020742.IAA05076@pubhealth.ku.dk>

Why do you think this is a bug in R?  Try the FAQ (address at the bottom
of this message) for information on getting R.

Either get a pre-built binary for Windows (from where you got R-1.4.0.tgz)
or get the tools you need to unpack this (it is not a zip archive) from
http://www.stats.ox.ac.uk/pub/Rtools/.

Given your apparent level of knowledge, I strongly recommend the first.

To help us avoid repeats of this, could you please explain where you got
the idea that R-1.4.0.tgz was the thing to download?

On Wed, 2 Jan 2002 sohanw@ait.ac.th wrote:

> Dear r-bugs,
>
>   I down loaded the R-1.4.0.tgz
>   But cannot unzip or install. I would be grateful if you
>   could give some help.
>
>   My system is Microsoft windows.
>
> Best regards,
>
> Sohan
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Wed Jan  2 09:22:18 2002
From: bellis@hsph.harvard.edu (Byron Ellis)
Date: Wed, 2 Jan 2002 04:22:18 -0500 (EST)
Subject: [Rd] Help for installation (PR#1233)
In-Reply-To: <200201020729.IAA04998@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.10201020419170.16979-100000@hsph.harvard.edu>

I imagine you'll be yelled at since this belongs in R-help and isn't a bug
at all. You've downloaded the source code rather than a binary. WinZip and
its ilk should handle the .tgz archive without problems, but you would
probably prefer to download SetupR.exe from the windows binary section to
successfully install R 1.4.0, it is much simpler than building the source
on windows boxen.

Byron Ellis (bellis@hsph.harvard.edu)
"Oook" - The Librarian

On Wed, 2 Jan 2002 sohanw@ait.ac.th wrote:

> Dear r-bugs,
> 
>   I down loaded the R-1.4.0.tgz
>   But cannot unzip or install. I would be grateful if you
>   could give some help.
> 
>   My system is Microsoft windows.
>   
> Best regards,
> 
> Sohan
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From H.Rinner@tirol.gv.at  Wed Jan  2 15:10:00 2002
From: H.Rinner@tirol.gv.at (H.Rinner@tirol.gv.at)
Date: Wed, 2 Jan 2002 16:10:00 +0100 (MET)
Subject: [Rd] R1.4.0 under Windows NT, package grid/lattice (PR#1234)
Message-ID: <200201021510.QAA12536@pubhealth.ku.dk>

Full_Name: Heinrich Rinner
Version: 1.4.0
OS: Windows NT 4.0
Submission from: (NULL) (212.183.27.1)


Today I downloaded and installed R1.4.0 for Windows from
"http://cran.at.r-project.org/bin/windows/base/SetupR.exe".
I also downloaded "http://cran.at.r-project.org/bin/windows/contrib/grid.zip"
and "http://cran.at.r-project.org/bin/windows/contrib/lattice.zip" and then
installed the packages from my local zip files.

Running the following commands (Windows NT 4.0) causes R to crash:

> library(lattice)
> plot(1:10)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jan  2 15:52:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 2 Jan 2002 16:52:34 +0100 (MET)
Subject: [Rd] R1.4.0 under Windows NT, package grid/lattice (PR#1234)
Message-ID: <200201021552.QAA13013@pubhealth.ku.dk>

Yes, this *has* already been discussed on R-help, with the solution!
The solution is also in the rw-FAQ.

There is something wrong with
http://cran.at.r-project.org/bin/windows/base/SetupR.exe

If you compile R yourself, it will be fine, or if you use the version I
put it up, it will be fine.

On Wed, 2 Jan 2002 H.Rinner@tirol.gv.at wrote:

> Full_Name: Heinrich Rinner
> Version: 1.4.0
> OS: Windows NT 4.0
> Submission from: (NULL) (212.183.27.1)
>
>
> Today I downloaded and installed R1.4.0 for Windows from
> "http://cran.at.r-project.org/bin/windows/base/SetupR.exe".
> I also downloaded "http://cran.at.r-project.org/bin/windows/contrib/grid.zip"
> and "http://cran.at.r-project.org/bin/windows/contrib/lattice.zip" and then
> installed the packages from my local zip files.
>
> Running the following commands (Windows NT 4.0) causes R to crash:
>
> > library(lattice)
> > plot(1:10)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stvjc@channing.harvard.edu  Wed Jan  2 21:05:17 2002
From: stvjc@channing.harvard.edu (Vincent J. Carey, Jr.)
Date: Wed, 2 Jan 2002 16:05:17 -0500 (EST)
Subject: [Rd] comparative rendering of modeling outputs
Message-ID: <200201022105.QAA20438@falmouth.bwh.harvard.edu>


This note is to r-devel rather than r-announce because it
notes an experimental package that addresses issues that 
intersect with broader developmental issues in R.

I have posted the package

cremo = Comparative REndering of Modeling Outputs

for retrival at

http://www.biostat.harvard.edu/~carey/cremo.html

This package addresses the problem of assembling and
rendering results of multiple linear model fits in formats
suitable for presentation in applications contexts.

An extract from the output of 'example(cremo)':

cremo> data(stackloss)

cremo> attach(stackloss)

cremo> glm2 <- glm(stack.loss ~ Air.Flow + Water.Temp + Acid.Conc.)

cremo> glm3 <- glm(stack.loss ~ Air.Flow + Water.Temp)

cremo> glm4 <- glm(stack.loss ~ Air.Flow * Water.Temp)

cremo> try(print(cremo(list(glm2, glm3, glm4), adeqel = c("deviance", 
    "aic")), quote = F))
      var                 Model 1  Model 2 Model 3 
 [1,] (Intercept)         -39.92   -50.359 22.29   
 [2,]                     (11.896) (5.138) (35.096)
 [3,] Air.Flow            0.716    0.671   -0.516  
 [4,]                     (0.135)  (0.127) (0.58)  
 [5,] Water.Temp          1.295    1.295   -1.93   
 [6,]                     (0.368)  (0.367) (1.58)  
 [7,] Acid.Conc.          -0.152   --      --      
 [8,]                     (0.156)  --      --      
 [9,] Air.Flow:Water.Temp --       --      0.052   
[10,]                     --       --      (0.025) 
[11,] -----               -----    -----   -----   
[12,] deviance            178.83   188.795 150.232 
[13,] aic                 114.576  113.714 110.916 

A preliminary form of the package, which passes "R CMD check" for the 
12-14 version of 1.4.0, can be obtained at

http://www.biostat.harvard.edu/~carey/cremo.html

Much remains to be done for the problem confronted by this
package, and some avenues to be explored are mentioned at the
URL cited above.  Anyone interested in the problem of
specifying modeling report templates is invited to get
involved; the code in cremo is extremely primitive and
some more sensible approaches are sketched on the cremo.html
page.  Distributed under GPL2.
-- 
---
Vince Carey, PhD
Ass't Prof Med (Biostatistics)
Harvard Medical School
Channing Laboratory - ph 6175252265 fa 6177311541
181 Longwood Ave Boston MA 02115 USA

stvjc@channing.harvard.edu

-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: PGP 6.5.8

mQCNAzqIeGUAAAEEAMJXU941vIornTS52rl6z7eo+A7wwB0km/idLnkxzIhc1uLi
Qtn19OyOfG6IDSucLrtmpvwagemAnQ9jL6TVDrmlrKnqsh+FFtvUuZ37eV85L70E
BsS8RZCmMYHJKfrpCwegbTVZrEkd1ByquLIN/yUwxU4IcVuHxbNQk69riQ8tAAUR
tBVWaW5jZW50IEouIENhcmV5LCBKci6JAJUDBRA6iHhls1CTr2uJDy0BAdsLA/wM
cCzEDsP9MqodKZfDI1s/gXW6BcCuQ6n7MdEplLgmWvyqfbvRYx4upYZ3pNp8L0zU
MrlR6eCTs/eDtMO/ZbGvkqqiQO6wS2fZb1T5L/DhhtT4mEAHt0E8dNBVCj+lKr3W
vYS5GqO9gY4CiT3JXFH9N19pSbUQFiNDqpmG6EbWng==
=DQNF
-----END PGP PUBLIC KEY BLOCK-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Wed Jan  2 23:02:24 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Wed, 2 Jan 2002 15:02:24 -0800
Subject: [Rd] multiple definitions in C code
Message-ID: <C8FC28E2-FFD4-11D5-B79D-00039319314A@stat.ucla.edu>

There is a problem in MacOS X with multiple definitions of the same
symbol in different files that will be put into the same bundle or
dynamic library by the dynamic linker. It occurs, for example, in
the rpart package, which includes rpart.h in all its source files,
and rpart.h has definitions of a structure rp and functions rp_init
and so on. I think the same problem occurs in the grid package --
all 150+ others seem to be fine. Just out of curiosity, I looked into
the problem a bit, in particular as it relates to dyld in OS X.

==========================================================================
====
According to the ANSI Standard

G.5 Common Extensions

The following extensions are widely used in many systems, but are not
portable to all implementations. The inclusion of any extension that may 
cause
a strictly conforming program to become invalid renders an implementation
non-conforming.

...

G.5.11 Multiple external definitions

There may be more than one external definition for the identifier of an 
object,
with or without the explicit use of the keyword extern. If the 
definitions
disagree, or more than one is initialized, the behavior is undefined.
==========================================================================
====
See also Summit, C Programming FAQ, section 1.7, or Koenig, C Traps and
Pitfalls, pages 54-56. Portability considerations makes them suggest 
that the
safe way to proceed is to have only a single definition, in a source 
file, with
or without initialization, and everywhere else (in header files) external
declarations.
==========================================================================
====
 From the MacOS X ld man page:

Different linking can occur only when there  is  more
than  one  definition  of a symbol and the library modules
that contain the definitions for that symbol do not define
and  reference  exactly  the  same symbols.  In this case,
even different executions of the same program can  produce
different  linking  because the dynamic linker binds unde-
fined functions as they are called, and this  affects  the
order  in  which  undefined symbols are bound.  Because it
can  produce  different  dynamic  linking,  using  dynamic
shared  libraries that define the same symbols in the same
program is strongly discouraged.
==========================================================================
====
 From Inside Mac OS X (page 134)

When you create a framework, you must ensure that each symbol
is defined only once in a library. In addition, "common" symbols
are not allowed in the library, you must use a single true definition
and precede all other definitions with the extern key word in C
code.
==========================================================================
====

Thus we see that the dynamic linker sets things up for "lazy
linking", where symbols are loaded at run time if they are actually
needed (and not at startup). It is different, I think, from Solaris
(see Solaris Porting Guide, p. 102-103), which also has "lazy
linking", but allows multiple definitions ("the first one wins").

The gcc compiler has a flag -fno-common (Stallman, p. 187), which 
allocates
space for each defined variable directly, and does not place it in
"common" space. The Next dynamic linker has a flag -m, which
makes multiple definitions into warnings instead of errors.
This if we have files galadriel.c with

==========================================================================
====
#include <stdio.h>

float bilbo;

int galadriel ()
{
bilbo = 1.0;
return printf("%1.0f\n", bilbo + bilbo);
}
==========================================================================
====

and elrond.c with

==========================================================================
====
#include <stdio.h>

int bilbo;

int elrond()
{
bilbo = 1;
return printf("%d\n", bilbo + bilbo);
}
==========================================================================
====

and we compile them with -fno-common, then we cannot link them
into either an executable (with a suitable main) or into a bundle.
If we leave out -fno-common, then we can. Linking into an
executable will lead to undefined but unambiguous behavior, linking 
into a
dynamic library could lead to different behaviors at different
occasions at run time. Thus

[localhost:~/Desktop/rings] deleeuw% gcc -c -fno-common elrond.c
[localhost:~/Desktop/rings] deleeuw% gcc -c -fno-common galadriel.c
[localhost:~/Desktop/rings] deleeuw% nm -pg elrond.o
000000a8 S _bilbo
00000000 T _elrond
          U _printf
          U dyld_stub_binding_helper
[localhost:~/Desktop/rings] deleeuw% nm -pg galadriel.o
000000c0 S _bilbo
00000000 T _galadriel
          U _printf
          U dyld_stub_binding_helper

and then

[localhost:~/Desktop/rings] deleeuw% gcc -bundle -o rings.so elrond.o 
galadriel.o
/usr/bin/ld: multiple definitions of symbol _bilbo
elrond.o definition of _bilbo in section (__DATA,__common)
galadriel.o definition of _bilbo in section (__DATA,__common)
[localhost:~/Desktop/rings] deleeuw% gcc -bundle -o rings.so -Xlinker -m 
elrond.o galadriel.o
/usr/bin/ld: warning multiple definitions of symbol _bilbo
elrond.o definition of _bilbo in section (__DATA,__common)
galadriel.o definition of _bilbo in section (__DATA,__common)
[localhost:~/Desktop/rings] deleeuw% nm -pg rings.so
00001018 S _bilbo
00000ecc T _elrond
00000f44 T _galadriel
          U _printf

  while

[localhost:~/Desktop/rings] deleeuw% gcc -c elrond.c
[localhost:~/Desktop/rings] deleeuw% gcc -c galadriel.c
[localhost:~/Desktop/rings] deleeuw% gcc -bundle -o rings.so elrond.o 
galadriel.o
[localhost:~/Desktop/rings] deleeuw% nm -pg elrond.o
00000000 T _elrond
00000004 C _bilbo
          U _printf
          U dyld_stub_binding_helper
[localhost:~/Desktop/rings] deleeuw% nm -pg galadriel.o
00000000 T _galadriel
00000004 C _bilbo
          U _printf
          U dyld_stub_binding_helper
[localhost:~/Desktop/rings] deleeuw% nm -pg rings.so
00001020 S _bilbo
00000ecc T _elrond
00000f44 T _galadriel
          U _printf

but now

[localhost:~/Desktop/rings] deleeuw% gcc -dynamiclib -o librings.dylib 
elrond.o galadriel.o
ld: common symbols not allowed with MH_DYLIB output format
elrond.o definition of common _bilbo (size 4)
/usr/bin/libtool: internal link edit command failed


Of course we can use ar to put the object files in an archive, but if a 
symbol
is defined (and initialized) more than once the table of contents cannot 
be
sorted by ranlib.


===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Jan  2 23:44:22 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jan 2002 00:44:22 +0100
Subject: [Rd] multiple definitions in C code
In-Reply-To: <C8FC28E2-FFD4-11D5-B79D-00039319314A@stat.ucla.edu>
References: <C8FC28E2-FFD4-11D5-B79D-00039319314A@stat.ucla.edu>
Message-ID: <x2ofkcgvxl.fsf@blueberry.kubism.ku.dk>

Jan de Leeuw <deleeuw@stat.ucla.edu> writes:

> There is a problem in MacOS X with multiple definitions of the same
> symbol in different files that will be put into the same bundle or
> dynamic library by the dynamic linker. It occurs, for example, in
> the rpart package, which includes rpart.h in all its source files,
> and rpart.h has definitions of a structure rp and functions rp_init
> and so on. I think the same problem occurs in the grid package --
> all 150+ others seem to be fine. Just out of curiosity, I looked into
> the problem a bit, in particular as it relates to dyld in OS X.
> 
> ==========================================================================
> ====
> According to the ANSI Standard
> 
> G.5 Common Extensions
> 
> The following extensions are widely used in many systems, but are not
> portable to all implementations. The inclusion of any extension that
> may cause
> a strictly conforming program to become invalid renders an implementation
> non-conforming.
> 
> ...
> 
> G.5.11 Multiple external definitions
> 
> There may be more than one external definition for the identifier of
> an object,
> with or without the explicit use of the keyword extern. If the
> definitions
> disagree, or more than one is initialized, the behavior is undefined.
> ==========================================================================
> ====
> See also Summit, C Programming FAQ, section 1.7, or Koenig, C Traps and
> Pitfalls, pages 54-56. Portability considerations makes them suggest
> that the
> safe way to proceed is to have only a single definition, in a source
> file, with
> or without initialization, and everywhere else (in header files) external
> declarations.


Yes. The standard way is to do something like this in the include file

#ifndef extern
#define extern extern
#endif

extern struct {
...
} rp;

and then in *one* of the files precede the inclusion with 

#define extern

However, as I read G.5.11, the way it is being used in rpart is in
fact in accordance with ANSI C. It says that behaviour is well-defined
except in case of conflicts.

> ==========================================================================
> ====
>  From the MacOS X ld man page:
> 
> Different linking can occur only when there  is  more
> than  one  definition  of a symbol and the library modules
> that contain the definitions for that symbol do not define
> and  reference  exactly  the  same symbols.  In this case,
> even different executions of the same program can  produce
> different  linking  because the dynamic linker binds unde-
> fined functions as they are called, and this  affects  the
> order  in  which  undefined symbols are bound.  Because it
> can  produce  different  dynamic  linking,  using  dynamic
> shared  libraries that define the same symbols in the same
> program is strongly discouraged.
> ==========================================================================
> ====
>  From Inside Mac OS X (page 134)
> 
> When you create a framework, you must ensure that each symbol
> is defined only once in a library. In addition, "common" symbols
> are not allowed in the library, you must use a single true definition
> and precede all other definitions with the extern key word in C
> code.
> ==========================================================================
> ====
> 
> Thus we see that the dynamic linker sets things up for "lazy
> linking", where symbols are loaded at run time if they are actually
> needed (and not at startup). It is different, I think, from Solaris
> (see Solaris Porting Guide, p. 102-103), which also has "lazy
> linking", but allows multiple definitions ("the first one wins").

The really nasty thing about this is if two different packages happen
to use the same symbol. I seem to recall that this is why there is no
OpenOffice for MacOS X, since they had an explicit requirement that
each of their plugin modules contain a specifically named
initialization routine! 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tobias.hoevekamp@ilw.agrl.ethz.ch  Thu Jan  3 14:29:04 2002
From: tobias.hoevekamp@ilw.agrl.ethz.ch (tobias.hoevekamp@ilw.agrl.ethz.ch)
Date: Thu, 3 Jan 2002 15:29:04 +0100 (MET)
Subject: [Rd] Axes labelling with logarithmic scales (PR#1235)
Message-ID: <200201031429.PAA25599@pubhealth.ku.dk>

Full_Name: Tobias Hoevekamp
Version: 1.4.0
OS: Debian GNU/Linux
Submission from: (NULL) (129.132.139.109)


There seems to be a problem with the labelling of axes when
logarithmic scales are used. More than half of 
both axes are not labeled in the following example:


x <-  c(0.12,  0.3,   0.53,  1.1,   1.8,  2.6, 4.5)
y <-  c(0.012, 0.021, 0.032, 0.055, 0.1,  0.2, 0.35)

plot(x, y,
     log="xy",
     main="Problem with axes labelling on logarithmic scales",
     xlab="x, why aren't 0.5, or even smaller tic-values displyed?",
     ylab="y, why isn't 0.05 diplayed?")


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@bell-labs.com  Thu Jan  3 16:00:20 2002
From: dxsun@bell-labs.com (dxsun@bell-labs.com)
Date: Thu, 3 Jan 2002 17:00:20 +0100 (MET)
Subject: [Rd] type.convert() (PR#1236)
Message-ID: <200201031600.RAA27088@pubhealth.ku.dk>

Full_Name: Don Sun
Version: 1.4.0
OS: Red Hat Linux release 6.2
Submission from: (NULL) (204.178.20.14)


> type.convert(letters[1:2],as.is=T)
stack imbalance in internal type.convert, 7 then 6stack imbalance in .Internal,
6 then 5
[1] "a" "b"
Error: unprotect(): stack imbalance

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R             

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan  3 16:48:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 3 Jan 2002 17:48:34 +0100 (MET)
Subject: [Rd] type.convert() (PR#1236)
Message-ID: <200201031648.RAA27416@pubhealth.ku.dk>

Oh, do check the R-bugs database first!  This was solved in R-patched
before the first report ...

>From NEWS:

    o   type.convert() could give stack imbalance warnings if used
        with as.is = TRUE.

Actually, it works perfectly, so it's not a serious bug, especially as
using type.convert(letters[1:2],as.is=T) is a waste of time (yours in
that case).


On Thu, 3 Jan 2002 dxsun@bell-labs.com wrote:

> Full_Name: Don Sun
> Version: 1.4.0
> OS: Red Hat Linux release 6.2
> Submission from: (NULL) (204.178.20.14)
>
>
> > type.convert(letters[1:2],as.is=T)
> stack imbalance in internal type.convert, 7 then 6stack imbalance in .Internal,
> 6 then 5
> [1] "a" "b"
> Error: unprotect(): stack imbalance
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@bell-labs.com  Thu Jan  3 17:25:47 2002
From: dxsun@bell-labs.com (dxsun@bell-labs.com)
Date: Thu, 3 Jan 2002 18:25:47 +0100 (MET)
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <200201031725.SAA27619@pubhealth.ku.dk>

Full_Name: Don Sun
Version: 1.4.0
OS: Red Hat Linux 6.2
Submission from: (NULL) (204.178.20.14)


require(lattice)
trellis.device("postscript", file = "demo.ps", bg = "white")
print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
dev.off()

gives incomplete plot in the postscript file demo.ps, it worked fine in 1.3.1.

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R                


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Thu Jan  3 18:23:14 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Thu, 03 Jan 2002 13:23:14 -0500
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8450@usrymx10.merck.com>

How is it incomplete?  It worked fine in R-1.4.0 on WinNT4 compiled from
source.

Andy

> -----Original Message-----
> From: dxsun@bell-labs.com [mailto:dxsun@bell-labs.com]
> Sent: Thursday, January 03, 2002 12:26 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] trellis plot and postscript file (PR#1237)
> 
> 
> Full_Name: Don Sun
> Version: 1.4.0
> OS: Red Hat Linux 6.2
> Submission from: (NULL) (204.178.20.14)
> 
> 
> require(lattice)
> trellis.device("postscript", file = "demo.ps", bg = "white")
> print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
> dev.off()
> 
> gives incomplete plot in the postscript file demo.ps, it 
> worked fine in 1.3.1.
> 
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    4.0              
> year     2001             
> month    12               
> day      19               
> language R                
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@jessie.research.bell-labs.com  Thu Jan  3 19:41:30 2002
From: dxsun@jessie.research.bell-labs.com (Don Sun)
Date: Thu, 3 Jan 2002 14:41:30 -0500 (EST)
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <200201031941.OAA22171@jessie.research.bell-labs.com>


Thanks, then it could be just a specific problem for R-1.4.0 on Red Hat
Linux 6.2. 

>
> How is it incomplete? It worked fine in R-1.4.0 on WinNT4 compiled from 
> source. 
> 
> Andy 
> 
> > -----Original Message----- 
> > From: dxsun@bell-labs.com [mailto:dxsun@bell-labs.com] 
> > Sent: Thursday, January 03, 2002 12:26 PM 
> > To: r-devel@stat.math.ethz.ch 
> > Cc: R-bugs@biostat.ku.dk 
> > Subject: [Rd] trellis plot and postscript file (PR#1237) 
> > 
> > 
> > Full_Name: Don Sun 
> > Version: 1.4.0 
> > OS: Red Hat Linux 6.2 
> > Submission from: (NULL) (204.178.20.14) 
> > 
> > 
> > require(lattice) 
> > trellis.device("postscript", file = "demo.ps", bg = "white") 
> > print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) ) 
> > dev.off() 
> > 
> > gives incomplete plot in the postscript file demo.ps, it 
> > worked fine in 1.3.1. 
> > 
> > platform i686-pc-linux-gnu 
> > arch i686 
> > os linux-gnu 
> > system i686, linux-gnu 
> > status 
> > major 1 
> > minor 4.0 
> > year 2001 
> > month 12 
> > day 19 
> > language R 
> > 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deepayansarkar@yahoo.com  Thu Jan  3 19:42:29 2002
From: deepayansarkar@yahoo.com (Deepayan Sarkar)
Date: Thu, 3 Jan 2002 11:42:29 -0800 (PST)
Subject: [Rd] trellis plot and postscript file (PR#1237)
In-Reply-To: <200201031725.SAA27619@pubhealth.ku.dk>
Message-ID: <20020103194229.43063.qmail@web13907.mail.yahoo.com>



Could you be more specific in how it is incomplete ? I don't see any
problems with R 1.4.0, grid 0.5 and lattice 0.3-1 (my output is at
http://www.stat.wisc.edu/~deepayan/R/demo.ps )


--- dxsun@bell-labs.com wrote:
> Full_Name: Don Sun
> Version: 1.4.0
> OS: Red Hat Linux 6.2
> Submission from: (NULL) (204.178.20.14)
> 
> 
> require(lattice)
> trellis.device("postscript", file = "demo.ps", bg = "white")
> print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
> dev.off()
> 
> gives incomplete plot in the postscript file demo.ps, it worked fine in
> 1.3.1.
> 
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    4.0              
> year     2001             
> month    12               
> day      19               
> language R                
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@jessie.research.bell-labs.com  Thu Jan  3 21:29:27 2002
From: dxsun@jessie.research.bell-labs.com (Don Sun)
Date: Thu, 3 Jan 2002 16:29:27 -0500 (EST)
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <200201032129.QAA18012@jessie.research.bell-labs.com>


Thanks for reminding me the version numbers of both grid and lattice.
I had installed R 1.4.0 on top of the old 
grid 0.1 and lattice 0.2-3. That was the cause of the problem. 

>
> Date: Thu, 3 Jan 2002 11:42:29 -0800 (PST)
> From: Deepayan Sarkar <deepayansarkar@yahoo.com>
> Cc: R-bugs@biostat.ku.dk
> 
> Could you be more specific in how it is incomplete ? I don't see any
> problems with R 1.4.0, grid 0.5 and lattice 0.3-1 (my output is at
> http://www.stat.wisc.edu/~deepayan/R/demo.ps )
> 
> --- dxsun@bell-labs.com wrote:
> > Full_Name: Don Sun
> > Version: 1.4.0
> > OS: Red Hat Linux 6.2
> > Submission from: (NULL) (204.178.20.14)
> > 
> > 
> > require(lattice)
> > trellis.device("postscript", file = "demo.ps", bg = "white")
> > print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
> > dev.off()
> > 
> > gives incomplete plot in the postscript file demo.ps, it worked fine in
> > 1.3.1.
> > 
> > platform i686-pc-linux-gnu
> > arch     i686             
> > os       linux-gnu        
> > system   i686, linux-gnu  
> > status                    
> > major    1                
> > minor    4.0              
> > year     2001             
> > month    12               
> > day      19               
> > language R                
> > 
> > 
> >
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From christian.hoffmann@wsl.ch  Fri Jan  4 11:39:49 2002
From: christian.hoffmann@wsl.ch (christian.hoffmann@wsl.ch)
Date: Fri, 4 Jan 2002 12:39:49 +0100 (MET)
Subject: [Rd] R CMD check, file permissions (PR#1239)
Message-ID: <200201041139.MAA04899@pubhealth.ku.dk>

SunOS fluke 5.8 Generic_108528-07 sun4u sparc SUNW,Ultra-Enterprise

R-1.4.0

Running from the command line 

R CMD check chlib

results in the log file 00check.log:

* using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'
* checking for file `chlib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... WARNING
*   Found the following text files with incorrect permissions:
*     ./R/cbind.dimnames.r
*     ./R/clean.na.r
*     ./R/invgauss.r
*     ./R/my.table.r
*     ./R/negbingof.r
*     ./R/numberof.r
*     ./R/poisgam.r
*     ./R/progress.meter.r
*     ./R/qnorm.appr.r
*     ./R/qres.r
*     ./R/rowSums.r
*     ./R/S.princomp.r
*     ./R/select.range.r
*     ./R/shapiro.wilk.test.r
*     ./R/smoothed.df.r
*     ./R/tri.r
*     ./R/tweedie.r
*     ./R/tweedief.r
*     ./R/weighted.mean1.r
*     ./R/zzz.R
*     ./R/weighted.median.r
*     ./R/plotCI.Rd
*     ./man/cbind.dimnames.Rd
*     ./man/chlib-internal.Rd
*     ./man/clean.na.Rd
*     ./man/eql.Rd
*     ./man/invgauss.Rd
*     ./man/my.table.Rd
*     ./man/negbingof.Rd
*     ./man/numberof.Rd
*     ./man/poisgam.Rd
*     ./man/progress.meter.Rd
*     ./man/qnorm.appr.Rd
*     ./man/qres.Rd
*     ./man/remove.dup.rows.Rd
*     ./man/rowSums.Rd
*     ./man/S.princomp.Rd
*     ./man/select.range.Rd
*     ./man/shapiro.wilk.test.Rd
*     ./man/smoothed.df.Rd
*     ./man/tri.Rd
*     ./man/tweedie.Rd
*     ./man/tweedief.Rd
*     ./man/weighted.mean1.Rd
*     ./man/weighted.median.Rd
*   Please fix permissions.
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ... OK
* checking R files for library.dynam ...

I ran chmod 666 * on all the mentioned files, to no avail.



--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib,
package:mva, package:strlib, package:chlib, Autoloads, package:base

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hoffmann@wsl.ch  Fri Jan  4 11:51:48 2002
From: hoffmann@wsl.ch (hoffmann@wsl.ch)
Date: Fri, 4 Jan 2002 12:51:48 +0100 (MET)
Subject: [Rd] R CMD check (PR#1240)
Message-ID: <200201041151.MAA05237@pubhealth.ku.dk>

SunOS fluke 5.8 Generic_108528-07 sun4u sparc SUNW,Ultra-Enterprise

R-1.4.0

Running from the command line 

R CMD check chlib

results in the log file 00check.log:

* using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'
* checking for file `chlib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... WARNING
*   Found the following text files with incorrect permissions:
*     ./R/cbind.dimnames.r
*     ./R/clean.na.r
*     ./R/invgauss.r
*     ./R/my.table.r
*     ./R/negbingof.r
*     ./R/numberof.r
*     ./R/poisgam.r
*     ./R/progress.meter.r
*     ./R/qnorm.appr.r
*     ./R/qres.r
*     ./R/rowSums.r
*     ./R/S.princomp.r
*     ./R/select.range.r
*     ./R/shapiro.wilk.test.r
*     ./R/smoothed.df.r
*     ./R/tri.r
*     ./R/tweedie.r
*     ./R/tweedief.r
*     ./R/weighted.mean1.r
*     ./R/zzz.R
*     ./R/weighted.median.r
*     ./R/plotCI.Rd
*     ./man/cbind.dimnames.Rd
*     ./man/chlib-internal.Rd
*     ./man/clean.na.Rd
*     ./man/eql.Rd
*     ./man/invgauss.Rd
*     ./man/my.table.Rd
*     ./man/negbingof.Rd
*     ./man/numberof.Rd
*     ./man/poisgam.Rd
*     ./man/progress.meter.Rd
*     ./man/qnorm.appr.Rd
*     ./man/qres.Rd
*     ./man/remove.dup.rows.Rd
*     ./man/rowSums.Rd
*     ./man/S.princomp.Rd
*     ./man/select.range.Rd
*     ./man/shapiro.wilk.test.Rd
*     ./man/smoothed.df.Rd
*     ./man/tri.Rd
*     ./man/tweedie.Rd
*     ./man/tweedief.Rd
*     ./man/weighted.mean1.Rd
*     ./man/weighted.median.Rd
*   Please fix permissions.
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ... OK
* checking R files for library.dynam ...

I ran chmod 666 * on all the mentioned files, to no avail.



--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib, package:mva, package:strlib, package:chlib, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From christian.hoffmann@wsl.ch  Fri Jan  4 12:34:38 2002
From: christian.hoffmann@wsl.ch (christian.hoffmann@wsl.ch)
Date: Fri, 4 Jan 2002 13:34:38 +0100 (MET)
Subject: [Rd] R CMD check (PR#1240)
Message-ID: <200201041234.NAA06142@pubhealth.ku.dk>

Göran,

After  chmod 644 * I got some success:

hoffmann@fluke:~/R/Sources >R CMD check chlib
* checking for working latex ... OK
* using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'

Installing *binary* package `chlib' ...
 DONE (chlib)

DONE (INSTALL)

* checking for file `chlib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... OK
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ... OK
* checking R files for library.dynam ...Error: cannot open file
`/home/woodstock/hoffmann/R/Sources/chlib.Rcheck/chlib/R/chlib' for reading
at /usr/local/lib/R/bin/check line 522.

What can this be?

Thanks for help

--christian

At 13:10 04.01.2002 +0100, Göran Broström wrote:
>I asked the same question some days ago. I have:
>
>-rw-r--r--    1 gb       gb           4070 Dec 30 10:13 statistics.c
>
>which works. Maybe 644? Check archives, I have lost the answer I got.
>
>Göran
>



Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib,
package:mva, package:strlib, package:chlib, Autoloads, package:base

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gb@stat.umu.se  Fri Jan  4 13:20:58 2002
From: gb@stat.umu.se (gb@stat.umu.se)
Date: Fri, 4 Jan 2002 14:20:58 +0100 (MET)
Subject: [Rd] R CMD check (PR#1240)
Message-ID: <200201041320.OAA07222@pubhealth.ku.dk>

Christian,

The answer I got from Thomas was 644 for files and 755 for directories.
It worked for me.

Göran

On Fri, 4 Jan 2002, Christian Hoffmann wrote:

> Göran,
> 
> After  chmod 644 * I got some success:
> 
> hoffmann@fluke:~/R/Sources >R CMD check chlib
> * checking for working latex ... OK
> * using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'
> 
> Installing *binary* package `chlib' ...
>  DONE (chlib)
> 
> DONE (INSTALL)
> 
> * checking for file `chlib/DESCRIPTION' ... OK
> * checking package directory ... OK
> * checking for sufficient/correct file permissions ... OK
> * checking DESCRIPTION Package field ... OK
> * checking DESCRIPTION Version field ... OK
> * checking DESCRIPTION License field ... OK
> * checking DESCRIPTION Description field ... OK
> * checking DESCRIPTION Title field ... OK
> * checking DESCRIPTION Author field ... OK
> * checking DESCRIPTION Maintainer field ... OK
> * checking DESCRIPTION Depends field ... OK
> * checking R files for syntax errors ... OK
> * checking R files for library.dynam ...Error: cannot open file
> `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck/chlib/R/chlib' for reading
> at /usr/local/lib/R/bin/check line 522.
> 
> What can this be?
> 
> Thanks for help
> 
> --christian
> 
> At 13:10 04.01.2002 +0100, Göran Broström wrote:
> >I asked the same question some days ago. I have:
> >
> >-rw-r--r--    1 gb       gb           4070 Dec 30 10:13 statistics.c
> >
> >which works. Maybe 644? Check archives, I have lost the answer I got.
> >
> >Göran
> >
> 
> 
> 
> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status = 
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib,
> package:mva, package:strlib, package:chlib, Autoloads, package:base
> 
> Dr.sc.math.Christian W. Hoffmann
> Mathematics and Statistical Computing
> Landscape Modeling and Web Applications
> Swiss Federal Research Institute WSL 
> Zuercherstrasse 111
> CH-8903 Birmensdorf, Switzerland
> phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
> e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
> www: http://www.wsl.ch/staff/christian.hoffmann/
> 

-- 
 Göran Broström                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Umeå University
 SE-90187 Umeå, Sweden             e-mail: gb@stat.umu.se


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Fri Jan  4 13:41:57 2002
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Fri, 4 Jan 2002 14:41:57 +0100 (MET)
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
Message-ID: <200201041341.OAA07672@pubhealth.ku.dk>

Hi everyone,

I encountered unexpected behaviour when calling "missing" within a
"local" environment, namely

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    dontwantme <- 1:100
    if (missing(y)) print("No \"y\" today")
  })
  x
}

whereupon I get

> fred(1:10)
Error in eval(expr, envir, enclos) : "missing" illegal use of missing

I think it is reasonable to expect missing to work in this context (I
suspect the problem relates to lazy evaluation): if not, it might be
helpful to amend the help file.

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan  4 13:51:29 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 4 Jan 2002 14:51:29 +0100 (MET)
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
Message-ID: <200201041351.OAA07843@pubhealth.ku.dk>

On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:

> Hi everyone,
>
> I encountered unexpected behaviour when calling "missing" within a
> "local" environment, namely
>
> fred <- function(x, y)
> {
>   x <- as.vector(x)
>   local({
>     dontwantme <- 1:100
>     if (missing(y)) print("No \"y\" today")
>   })
>   x
> }
>
> whereupon I get
>
> > fred(1:10)
> Error in eval(expr, envir, enclos) : "missing" illegal use of missing
>
> I think it is reasonable to expect missing to work in this context (I
> suspect the problem relates to lazy evaluation): if not, it might be
> helpful to amend the help file.

Why do you think it reasonable?  You've take a function from

     Evaluate an R expression in a specified environment.

and evaluated it somewhere where missing() is not defined.  If you had
used eval() explicitly, would you think it reasonable?  I doubt it.

Which help file did you have in mind?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Fri Jan  4 14:48:07 2002
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Fri, 4 Jan 2002 15:48:07 +0100 (MET)
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
Message-ID: <200201041448.PAA09053@pubhealth.ku.dk>

Hi Brian,

Prof Brian Ripley wrote:
> 
> On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:
> 
> > Hi everyone,
> >
> > I encountered unexpected behaviour when calling "missing" within a
> > "local" environment, namely
> >
> > fred <- function(x, y)
> > {
> >   x <- as.vector(x)
> >   local({
> >     dontwantme <- 1:100
> >     if (missing(y)) print("No \"y\" today")
> >   })
> >   x
> > }
> >
> > whereupon I get
> >
> > > fred(1:10)
> > Error in eval(expr, envir, enclos) : "missing" illegal use of missing
> >
> > I think it is reasonable to expect missing to work in this context (I
> > suspect the problem relates to lazy evaluation): if not, it might be
> > helpful to amend the help file.
> 
> Why do you think it reasonable?  You've take a function from
> 
>      Evaluate an R expression in a specified environment.
> 
> and evaluated it somewhere where missing() is not defined.  If you had
> used eval() explicitly, would you think it reasonable?  I doubt it.

By "reasonable" in this context I mean that the operation would appear
to be well-defined and useful.  I can access x within the local()
environment, ie it is found in the enclosing environment, and I do not
think that y should be treated any differently.  If I modify my function
to read

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    print(x)
    print(y)
    if (missing(y)) print("No \"y\" today")
  })
  x
}

then I get the error message

> fred(1:10)
 [1]  1  2  3  4  5  6  7  8  9 10
Error in print(y) : Argument "y" is missing, with no default

This error message suggests to me that "missing(y)" would evaluate
correctly.

> 
> Which help file did you have in mind?
> 

The help file for "missing".  This points out that "missing" is not
always reliable, eg after "x <- match.arg(x)".  Perhaps this could be
another example of "unreliability".

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis2.stat.umn.edu  Fri Jan  4 15:17:12 2002
From: luke@nokomis2.stat.umn.edu (Luke Tierney)
Date: Fri, 4 Jan 2002 09:17:12 -0600
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
In-Reply-To: <200201041448.PAA09053@pubhealth.ku.dk>; from J.C.Rougier@durham.ac.uk on Fri, Jan 04, 2002 at 03:48:07PM +0100
References: <200201041448.PAA09053@pubhealth.ku.dk>
Message-ID: <20020104091712.A19103@nokomis2.stat.umn.edu>

I think Jonathan has a point.  Here is another variation that does not
involve explicit eval or local:

	f<-function(x){
	    g<-function() missing(x)
	    g()
	}

	> f()
	Error in g() : "missing" illegal use of missing

This sort of thing does not arise in S, but with lexical scope in R it
seems natural to me at least that missing should work on lexically
visible variables.  The error produced by

	f<-function(x){
	    g<-function() x
	    g()
	}

	> f()
	Error in g() : Argument "x" is missing, with no default

also suggests that it would be nice to be able to use missing to guard
against this error.

For the short term we should add a note to the help file for missing
(I will do this), but longer term I think we should revise the missing
inplementation to handle these cases more naturally (unless anyone
sees anything seriously wrong with that).

By the way, the help for missing says:

     `missing(x)' is only reliable if `x' has not been altered since
     entering the function: in particular it will always be true after
     `x <- match.arg(x)'. 

I believe that should be "... it will always be false after ..."?

luke

On Fri, Jan 04, 2002 at 03:48:07PM +0100, J.C.Rougier@durham.ac.uk wrote:
> Hi Brian,
> 
> Prof Brian Ripley wrote:
> > 
> > On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:
> > 
> > > Hi everyone,
> > >
> > > I encountered unexpected behaviour when calling "missing" within a
> > > "local" environment, namely
> > >
> > > fred <- function(x, y)
> > > {
> > >   x <- as.vector(x)
> > >   local({
> > >     dontwantme <- 1:100
> > >     if (missing(y)) print("No \"y\" today")
> > >   })
> > >   x
> > > }
> > >
> > > whereupon I get
> > >
> > > > fred(1:10)
> > > Error in eval(expr, envir, enclos) : "missing" illegal use of missing
> > >
> > > I think it is reasonable to expect missing to work in this context (I
> > > suspect the problem relates to lazy evaluation): if not, it might be
> > > helpful to amend the help file.
> > 
> > Why do you think it reasonable?  You've take a function from
> > 
> >      Evaluate an R expression in a specified environment.
> > 
> > and evaluated it somewhere where missing() is not defined.  If you had
> > used eval() explicitly, would you think it reasonable?  I doubt it.
> 
> By "reasonable" in this context I mean that the operation would appear
> to be well-defined and useful.  I can access x within the local()
> environment, ie it is found in the enclosing environment, and I do not
> think that y should be treated any differently.  If I modify my function
> to read
> 
> fred <- function(x, y)
> {
>   x <- as.vector(x)
>   local({
>     print(x)
>     print(y)
>     if (missing(y)) print("No \"y\" today")
>   })
>   x
> }
> 
> then I get the error message
> 
> > fred(1:10)
>  [1]  1  2  3  4  5  6  7  8  9 10
> Error in print(y) : Argument "y" is missing, with no default
> 
> This error message suggests to me that "missing(y)" would evaluate
> correctly.
> 
> > 
> > Which help file did you have in mind?
> > 
> 
> The help file for "missing".  This points out that "missing" is not
> always reliable, eg after "x <- match.arg(x)".  Perhaps this could be
> another example of "unreliability".
> 
> Cheers, Jonathan.
> 
> -- 
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sway@tanox.com  Fri Jan  4 15:20:35 2002
From: sway@tanox.com (Shawn Way)
Date: Fri, 4 Jan 2002 09:20:35 -0600
Subject: [Rd] Testing a Port...
Message-ID: <0565F48FC373D411BE4D00B0D049602628E69B@nt40hou1.tanox.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C19533.5BC03B40
Content-Type: text/plain

I've been porting a library from the STATLIB site from S+ to R.
Unfortunately, I don't have the capability to test the port against the
original application.  Is there anyone out there who has S+ inhouse that can
help in this manner?

Also, this is a first time port for a relative newbie, so there are some
things that need to be worked out yet...



--------------------------
"Don't rush me, you rush a miracle, you get a rotten miracle." 
-Miracle Max, The Princess Bride
--------------------------

Shawn Way

------_=_NextPart_001_01C19533.5BC03B40
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>Testing a Port...</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I've been porting a library from the STATLIB site =
from S+ to R. Unfortunately, I don't have the capability to test the =
port against the original application.&nbsp; Is there anyone out there =
who has S+ inhouse that can help in this manner?</FONT></P>

<P><FONT SIZE=3D2>Also, this is a first time port for a relative =
newbie, so there are some things that need to be worked out =
yet...</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>--------------------------</FONT>
<BR><FONT SIZE=3D2>&quot;Don't rush me, you rush a miracle, you get a =
rotten miracle.&quot; </FONT>
<BR><FONT SIZE=3D2>-Miracle Max, The Princess Bride</FONT>
<BR><FONT SIZE=3D2>--------------------------</FONT>
</P>

<P><FONT SIZE=3D2>Shawn Way</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C19533.5BC03B40--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Jan  4 19:44:49 2002
From: andy_liaw@merck.com (andy_liaw@merck.com)
Date: Fri, 4 Jan 2002 20:44:49 +0100 (MET)
Subject: [Rd] copy metafile from window() device fails when lattice/grid is (PR#1242)
Message-ID: <200201041944.UAA11607@pubhealth.ku.dk>

Dear all,

I'm running into a rather strange problem that hasn't happened before
R-1.4.0.  If I make a plot on a window() device, and use the menu to either
save to a metafile or copy to clipboard as a metafile, I get an error
message in the R console:

Error: A metafile can store only one figure.

This only happens when the lattice (and grid) package is attached,
regardless of whether the plot is Trellis or non-Trellis.  If I detach both
lattice and grid, and make the plot on a fresh window() device, I have no
problem getting the metafile.  If I try trellis.device(win.metafile,
"try.emf", bg="white"), I get 

Error in if (color) { : argument is not interpretable as logical

but the device is openned.  If I try to make a trellis plot, I get

Error in grid.newpage() : A metafile can store only one figure.

Any idea how to get around this problem?  TIA!!

Cheers,
Andy
--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:lattice, package:grid, package:ctest, Autoloads,
package:base

Andy I. Liaw, PhD
Biometrics Research          Phone: (732) 594-0820
Merck & Co., Inc.              Fax: (732) 594-1565
P.O. Box 2000, RY70-38            Rahway, NJ 07065
mailto:andy_liaw@merck.com




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan  4 19:51:22 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 4 Jan 2002 20:51:22 +0100 (MET)
Subject: (PR#1242)[Rd] copy metafile from window() device fails when
Message-ID: <200201041951.UAA11666@pubhealth.ku.dk>

The problem is known and is in grid/lattice. That starts up a blank page
before the first plot. It is not related to 1.3.1/1.4.0, but to grid
updates.  Paul Murrell has been informed!


On Fri, 4 Jan 2002 andy_liaw@merck.com wrote:

> Dear all,
>
> I'm running into a rather strange problem that hasn't happened before
> R-1.4.0.  If I make a plot on a window() device, and use the menu to either
> save to a metafile or copy to clipboard as a metafile, I get an error
> message in the R console:
>
> Error: A metafile can store only one figure.
>
> This only happens when the lattice (and grid) package is attached,
> regardless of whether the plot is Trellis or non-Trellis.  If I detach both
> lattice and grid, and make the plot on a fresh window() device, I have no
> problem getting the metafile.  If I try trellis.device(win.metafile,
> "try.emf", bg="white"), I get
>
> Error in if (color) { : argument is not interpretable as logical
>
> but the device is openned.  If I try to make a trellis plot, I get
>
> Error in grid.newpage() : A metafile can store only one figure.
>
> Any idea how to get around this problem?  TIA!!

Copy from an on-screen window.

>
> Cheers,
> Andy
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
>
> Windows NT 4.0 (build 1381) Service Pack 6
>
> Search Path:
>  .GlobalEnv, package:lattice, package:grid, package:ctest, Autoloads,
> package:base
>
> Andy I. Liaw, PhD
> Biometrics Research          Phone: (732) 594-0820
> Merck & Co., Inc.              Fax: (732) 594-1565
> P.O. Box 2000, RY70-38            Rahway, NJ 07065
> mailto:andy_liaw@merck.com
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Jan  4 19:51:40 2002
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 4 Jan 2002 20:51:40 +0100
Subject: [Rd] R CMD check (PR#1240)
In-Reply-To: <200201041234.NAA06142@pubhealth.ku.dk>
References: <200201041234.NAA06142@pubhealth.ku.dk>
Message-ID: <15414.1996.510707.189484@mithrandir.hornik.net>

>>>>> christian hoffmann writes:

> Göran,
> After  chmod 644 * I got some success:

> hoffmann@fluke:~/R/Sources >R CMD check chlib
> * checking for working latex ... OK
> * using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'

> Installing *binary* package `chlib' ...
>  DONE (chlib)

Why does it say *binary* package?
R CMD check is meant for sources ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Sat Jan  5 00:11:48 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Sat, 5 Jan 2002 01:11:48 +0100 (MET)
Subject: [Rd] abline and log plots (PR#1243)
Message-ID: <200201050011.BAA12574@pubhealth.ku.dk>

Full_Name: Stephen Eglen
Version: 1.4
OS: Redhat Linux 7.1
Submission from: (NULL) (128.252.204.36)


abline() produces a spurious line in addition to the correct line, at least with

the X11 driver.  The postscript file generated also has nan values in it, which
causes an error under ghostscript.

xs <- c(0, 150, 300)
ys <- c(75, 40, 23)
par(mfrow=c(1,2))
plot(xs,ys, log="")
abline(70, -0.25, -.1, untf=F)
plot(xs,ys, log="y")
abline(70, -0.3, -.1, untf=T)
dev.copy2eps(file="abline.ps")


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jan  5 00:31:13 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2002 01:31:13 +0100
Subject: [Rd] abline and log plots (PR#1243)
In-Reply-To: <200201050011.BAA12574@pubhealth.ku.dk>
References: <200201050011.BAA12574@pubhealth.ku.dk>
Message-ID: <x2bsg9d4fi.fsf@blueberry.kubism.ku.dk>

stephen@cogsci.ed.ac.uk writes:

> Full_Name: Stephen Eglen
> Version: 1.4
> OS: Redhat Linux 7.1
> Submission from: (NULL) (128.252.204.36)
> 
> 
> abline() produces a spurious line in addition to the correct line, at least with
> 
> the X11 driver.  The postscript file generated also has nan values in it, which
> causes an error under ghostscript.
> 
> xs <- c(0, 150, 300)
> ys <- c(75, 40, 23)
> par(mfrow=c(1,2))
> plot(xs,ys, log="")
> abline(70, -0.25, -.1, untf=F)
> plot(xs,ys, log="y")
> abline(70, -0.3, -.1, untf=T)
> dev.copy2eps(file="abline.ps")

Still in the development version too. Notice that it is log="y" +
untf=T that is causing the trouble. Looks like the clipping algorithm
is getting confused.

A fairly straightforward workaround is 

plot(xs,ys, log="y")
curve(70-0.3*x,add=T)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From armin@approximity.com  Sat Jan  5 00:48:25 2002
From: armin@approximity.com (armin@approximity.com)
Date: Sat, 5 Jan 2002 01:48:25 +0100 (MET)
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
Message-ID: <200201050048.BAA12656@pubhealth.ku.dk>

Full_Name: Armin Roehrl
Version: 1.4.0(2001-12-19)
OS: Linux; Suse 7.3
Submission from: (NULL) (217.84.18.204)


Hello,

On a given matrix det returns different results whether
I use the method "qr" or "eivenvalues".

The matrix:
> m2
             [,1]         [,2]        [,3]
[1,] 9.822616e+09 3.841723e+09    79790.09
[2,] 3.841723e+09 1.502536e+09    31251.82
[3,] 7.979009e+04 3.125182e+04 64156419.36

> det(m2, method="eigenvalues")
[1] -9.331893e+19


> det(m2, method="qr")
[1] 9.331893e+19

I think the result based on the eigenvalues is correct.

Good night.
	Armin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jan  5 02:10:15 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2002 03:10:15 +0100
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
In-Reply-To: <200201050048.BAA12656@pubhealth.ku.dk>
References: <200201050048.BAA12656@pubhealth.ku.dk>
Message-ID: <x2itahtuns.fsf@blueberry.kubism.ku.dk>

armin@approximity.com writes:

> Full_Name: Armin Roehrl
> Version: 1.4.0(2001-12-19)
> OS: Linux; Suse 7.3
> Submission from: (NULL) (217.84.18.204)
> 
> 
> Hello,
> 
> On a given matrix det returns different results whether
> I use the method "qr" or "eivenvalues".
> 
> The matrix:
> > m2
>              [,1]         [,2]        [,3]
> [1,] 9.822616e+09 3.841723e+09    79790.09
> [2,] 3.841723e+09 1.502536e+09    31251.82
> [3,] 7.979009e+04 3.125182e+04 64156419.36

That format is a bit awkward to key back in. Could you do a dput(m2)
so that it becomes easier for us to reproduce the effect?

> > det(m2, method="eigenvalues")
> [1] -9.331893e+19
> 
> 
> > det(m2, method="qr")
> [1] 9.331893e+19
> 
> I think the result based on the eigenvalues is correct.
> 
> Good night.
> 	Armin
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From armin@approximity.com  Sat Jan  5 09:50:25 2002
From: armin@approximity.com (Armin Roehrl)
Date: Sat, 5 Jan 2002 10:50:25 +0100
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
In-Reply-To: <x2itahtuns.fsf@blueberry.kubism.ku.dk>
References: <200201050048.BAA12656@pubhealth.ku.dk> <x2itahtuns.fsf@blueberry.kubism.ku.dk>
Message-ID: <200201051046.g05AkWW29240@approximity.com>

Good morning,

>dput(m2)
structure(c(9822616000, 3841723000, 79790.09, 3841723000, 1502536000, 
31251.82, 79790.09, 31251.82, 64156419.36), .Dim = c(3, 3))

> det(m2, method="eigenvalues")
[1] -9.331893e+19
> det(m2, method="qr")
[1] 9.331893e+19

I hope it's not just some numerical accuracy thing and therefore
wasting your time.

Thx,
	Armin

On Saturday 05 January 2002 03:10, Peter Dalgaard BSA wrote:
> 64156419.36

-- 
Armin.

-----------------------------------------------
Armin Roehrl, http://www.approximity.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jan  5 11:45:55 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2002 12:45:55 +0100
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
In-Reply-To: <200201051046.g05AkWW29240@approximity.com>
References: <200201050048.BAA12656@pubhealth.ku.dk>
 <x2itahtuns.fsf@blueberry.kubism.ku.dk>
 <200201051046.g05AkWW29240@approximity.com>
Message-ID: <x2heq110ng.fsf@blueberry.kubism.ku.dk>

Armin Roehrl <armin@approximity.com> writes:

> Good morning,
> 
> >dput(m2)
> structure(c(9822616000, 3841723000, 79790.09, 3841723000, 1502536000, 
> 31251.82, 79790.09, 31251.82, 64156419.36), .Dim = c(3, 3))
> 
> > det(m2, method="eigenvalues")
> [1] -9.331893e+19
> > det(m2, method="qr")
> [1] 9.331893e+19
> 
> I hope it's not just some numerical accuracy thing and therefore
> wasting your time.

It's a numerical accuracy thing, but not a waste of time. The issue
is that qr() thinks that the matrix is singular:

> prod(diag(qr(m,tol=1e-9)$qr))
[1] -9.331893e+19
> prod(diag(qr(m)$qr))
[1] 9.331893e+19

Two issues here: 
(a) if qr() thinks a matrix is singular, I think det() should take the
consequences and return zero.
(b) Perhaps there ought to be a way to pass the tol= argument to det. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@free.fr  Sat Jan  5 20:19:52 2002
From: haibi@free.fr (haibi@free.fr)
Date: Sat, 5 Jan 2002 21:19:52 +0100 (MET)
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier (PR#1245)
Message-ID: <200201052019.VAA15219@pubhealth.ku.dk>


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@free.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@free.fr  Sat Jan  5 20:20:52 2002
From: haibi@free.fr (Habib HAIBI)
Date: Sat, 5 Jan 2002 21:20:52 +0100
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
Message-ID: <3c375fff3d0e4a91@villosa.wanadoo.fr> (added by villosa.wanadoo.fr)


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@free.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@wanadoo.fr  Sat Jan  5 21:50:26 2002
From: haibi@wanadoo.fr (Habib HAIBI)
Date: Sat, 5 Jan 2002 22:50:26 +0100
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
Message-ID: <3c3774fc3cc1f496@mahonia.wanadoo.fr> (added by mahonia.wanadoo.fr)


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@wanadoo.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@wanadoo.fr  Sat Jan  5 21:50:41 2002
From: haibi@wanadoo.fr (haibi@wanadoo.fr)
Date: Sat, 5 Jan 2002 22:50:41 +0100 (MET)
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier (PR#1246)
Message-ID: <200201052150.WAA15408@pubhealth.ku.dk>


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@wanadoo.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Sun Jan  6 04:08:58 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Sat, 5 Jan 2002 23:08:58 -0500
Subject: [Rd] speeding up [.data.frame
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF13F@groexmbcr02.pfizer.com>


(I'm up too late so this might come through garbled...)

I've just been doing some bootstrapping on data frames and I discovered that
S-plus 6.0r1 was a *lot* faster than R 1.3.1 at the task.  Splus was
completing 100 bootstrap iterations in about 4 seconds while R was taking
about 15 seconds. However, doing bootstrapping on equivalent *matrices* R
was slightly faster, 1.5 seconds verses 1.86.

Now, since I'm doing glm's inside the bootstrap, I really need to use data
frames...

It turns out that one of the reasons S-plus is faster on data frames is that
S-Plus's allows you to turn of checking for/resolution of duplicate row
names in "[.data.frame" by setting an attribute 'dup.row.names' to any
non-NULL value.  Adding an additional argument to R's "[.data.frame"  (patch
below) to permit the same optimization and using the argument in my
bootstrap function reduced the elapsed time for R to 8.6 seconds.   

Still, I'm wondering if there are other 'reasonable' changes to
"[.data.frame" that could narrow the gap further...

-Greg

################ PATCH STARTS HERE #################3
diff -c /Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R.orig
/Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R
*** /Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R.orig	Sat
Jan  5 22:58:10 2002
--- /Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R	Sat Jan  5
22:58:10 2002
***************
*** 323,329 ****
  ###  These are a little less general than S
  
  "[.data.frame" <-
!     function(x, i, j, drop = if(missing(i)) TRUE else length(cols) == 1)
  {
      if(nargs() < 3) {
  	if(missing(i))
--- 323,330 ----
  ###  These are a little less general than S
  
  "[.data.frame" <-
!     function(x, i, j, drop = if(missing(i)) TRUE else length(cols) == 1,
!              dup.row.names=F)
  {
      if(nargs() < 3) {
  	if(missing(i))
***************
*** 390,396 ****
      }
      if(!drop) {
  	names(x) <- cols
! 	if(any(duplicated(rows)))
  	    rows <- make.names(rows, unique = TRUE)
  	attr(x, "row.names") <- rows
  	class(x) <- cl
--- 391,397 ----
      }
      if(!drop) {
  	names(x) <- cols
!         if (any(duplicated(rows)) && !dup.row.names) 
  	    rows <- make.names(rows, unique = TRUE)
  	attr(x, "row.names") <- rows
  	class(x) <- cl




LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Jan  6 07:52:09 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 Jan 2002 07:52:09 +0000 (GMT)
Subject: [Rd] speeding up [.data.frame
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF13F@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0201060735290.23866-100000@gannet.stats>

On Sat, 5 Jan 2002, Warnes, Gregory R wrote:

>
> (I'm up too late so this might come through garbled...)
>
> I've just been doing some bootstrapping on data frames and I discovered that
> S-plus 6.0r1 was a *lot* faster than R 1.3.1 at the task.  Splus was
> completing 100 bootstrap iterations in about 4 seconds while R was taking
> about 15 seconds. However, doing bootstrapping on equivalent *matrices* R
> was slightly faster, 1.5 seconds verses 1.86.
>
> Now, since I'm doing glm's inside the bootstrap, I really need to use data
> frames...

Why?  Surely you should be working at the design matrix level and calling
glm.fit directly?   Otherwise you are repeating a lot of work for every
bootstrap fit.

BTW, is 11 seconds worth saving?: it sound trivial to me.  But if it is,
moving to glm.fit looks to me to be the best optimization.

> It turns out that one of the reasons S-plus is faster on data frames is that
> S-Plus's allows you to turn of checking for/resolution of duplicate row
> names in "[.data.frame" by setting an attribute 'dup.row.names' to any
> non-NULL value.  Adding an additional argument to R's "[.data.frame"  (patch
> below) to permit the same optimization and using the argument in my
> bootstrap function reduced the elapsed time for R to 8.6 seconds.
>
> Still, I'm wondering if there are other 'reasonable' changes to
> "[.data.frame" that could narrow the gap further...

That one is not reasonable in my opinion.  It should not be in S-PLUS (and
the advisory board has discussed its removal, as I recall).  Having unique
row names is a fundamental property of data frames.  What you and they
seem to want is another class which is like data frames but does not
require row names, from which data.frame could inherit.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Mon Jan  7 06:15:03 2002
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Mon, 7 Jan 2002 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200201070615.g076F3h27776@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1218 *
Subject:  behavior of r* and d* functions at boundaries 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 17 Dec 2001 11:04:27 -0500
--points 1 and 2 were fixed for 1.4.0
* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
--This isn't really a bug: the line in question is a plain-text equation, not a
--piece of R code.

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)

Directory:  In-Out

none

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--
* PR# 1211 *
Subject: crash bug in get("function.name")()
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 11 Dec 2001 17:34:07 -0500 (EST)

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1233 *
Subject: Help for installation
From: "Dr. N.T.S. Wijesekera" <sohanw@ait.ac.th>
Date: Wed, 2 Jan 2002 14:24:35 +0700
* PR# 1234 *
Subject: R1.4.0 under Windows NT, package grid/lattice
From: H.Rinner@tirol.gv.at
Date: Wed, 2 Jan 2002 16:09:58 +0100 (MET)
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
* PR# 1236 *
Subject: type.convert()
From: dxsun@bell-labs.com
Date: Thu, 3 Jan 2002 17:00:18 +0100 (MET)
* PR# 1237 *
Subject: trellis plot and postscript file
From: dxsun@bell-labs.com
Date: Thu, 3 Jan 2002 18:25:46 +0100 (MET)
* PR# 1238 *
Subject:  identify.default() fails when x is a structure/matrix 
From: David James <dj@localhost.localdomain>
Date: Thu, 3 Jan 2002 17:17:12 -0500
* PR# 1239 *
Subject: R CMD check, file permissions
From: Christian Hoffmann <christian.hoffmann@wsl.ch>
Date: Fri, 04 Jan 2002 12:38:54 +0100
* PR# 1240 *
Subject:  R CMD check 
From: hoffmann@wsl.ch
Date: Fri, 4 Jan 2002 12:51:15 +0100 (MET)
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
* PR# 1242 *
Subject: copy metafile from window() device fails when lattice/grid is
From: "Liaw, Andy" <andy_liaw@merck.com>
Date: Fri, 04 Jan 2002 14:43:08 -0500
* PR# 1243 *
Subject: abline and log plots
From: stephen@cogsci.ed.ac.uk
Date: Sat, 5 Jan 2002 01:11:47 +0100 (MET)
* PR# 1244 *
Subject: possible bug in det using method="qr"
From: armin@approximity.com
Date: Sat, 5 Jan 2002 01:48:13 +0100 (MET)
* PR# 1245 *
Subject: Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
From: Habib HAIBI<haibi@free.fr>
Date: Sat, 5 Jan 2002 21:19:49 +0100
* PR# 1246 *
Subject: Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
From: Habib HAIBI<haibi@wanadoo.fr>
Date: Sat, 5 Jan 2002 22:50:23 +0100
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From terra@diku.dk  Mon Jan  7 15:19:10 2002
From: terra@diku.dk (Morten Welinder)
Date: 7 Jan 2002 15:19:10 -0000
Subject: [Rd] qbeta function (FYI, compiler bug)
Message-ID: <20020107151910.14705.qmail@tyr.diku.dk>


Hi there,

this is just to let you know that the qbeta function, which was
copied from R into Gnumeric, has been confirmed to be miscompiled
by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

This shows by qbeta(0.025,4,0.5) ending up taking the wrong
branch of "if (alpha <= 0.5)".

We compile things in a different context, so this may or may not
affect you.  The qbeta function was taken from R 0.64.

Morten

http://www.gnome.org/gnumeric/
http://bugzilla.gnome.org/show_bug.cgi?id=68057
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Jan  7 15:47:32 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jan 2002 16:47:32 +0100
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <20020107151910.14705.qmail@tyr.diku.dk>
References: <20020107151910.14705.qmail@tyr.diku.dk>
Message-ID: <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>

Morten Welinder <terra@diku.dk> writes:

> Hi there,
> 
> this is just to let you know that the qbeta function, which was
> copied from R into Gnumeric, has been confirmed to be miscompiled
> by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

Which version? The ones in RH 7.1 and later has seemed to be quite
solid, whereas the one shipping with 7.0 was worthless (and so was the
first 50 or so fixup revisions of the compiler that should never have
been released...).

> This shows by qbeta(0.025,4,0.5) ending up taking the wrong
> branch of "if (alpha <= 0.5)".

> We compile things in a different context, so this may or may not
> affect you.  The qbeta function was taken from R 0.64.
> 
> Morten

0.64 is 2.5 years old! Several things have been fixed since then,
including at least one really bad bug in qbeta(). You might want to
track the development of R a bit closer (&maybe note that R's math
library can now be compiled a a standalone dynlib).

The "if (alpha <= 0.5)" line has disappeared in recent versions, but I
don't see any trouble in the current version, compiled with
gcc-2.96-81:

> pbeta(qbeta(0.025,4,0.5),4,.5)
[1] 0.025


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Mon Jan  7 15:52:57 2002
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Mon, 7 Jan 2002 16:52:57 +0100 (MET)
Subject: [Rd] Mishandling missing "..." (PR#1247)
Message-ID: <200201071552.QAA00375@pubhealth.ku.dk>

R> myfun <- function(x, ...) {x[...] <- 0; x}
R> myfun(3)
   Error in myfun(3) : SubAssignArgs: invalid number of arguments

It fails because no ... was passed.  The workaround (and desired behavior) is:
R> myfun <- function(x, ...) {if (missing(...)) x[] <- 0 else x[...] <- 0; x}
R> myfun(3)
   [1] 0

Deja vu?  This is the one piece of my PR#1110 (Oct 3, 2001) that I think may be
a genuine bug (though even that is debatable), and I would like to override
PR#1110 with this report.  This behavior still occurs in 1.4.0.

-- 
                              -- David Brahm (brahm@alum.mit.edu)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From terra@diku.dk  Mon Jan  7 16:07:16 2002
From: terra@diku.dk (Morten Welinder)
Date: 7 Jan 2002 16:07:16 -0000
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 07 Jan 2002 16:47:32 +0100)
References: <20020107151910.14705.qmail@tyr.diku.dk> <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020107160716.17625.qmail@tyr.diku.dk>


   > this is just to let you know that the qbeta function, which was
   > copied from R into Gnumeric, has been confirmed to be miscompiled
   > by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

   Which version? The ones in RH 7.1 and later has seemed to be quite
   solid [...]

The problem is seen with "gcc version 2.96 20000731 (Red Hat Linux 7.1
2.96-98)".  That would appear to be newer than yours.

   0.64 is 2.5 years old!  Several things have been fixed since then,
   [...]

Ahem, :-)  I did look at some point and nothing much had changed.
I've put it on my todo list to have a look.  (We might switch to
GSL since that has more code that we would like to offload from
our backs.  Also, the packing seems to be nicer.  On the other hand,
I have no idea of how reliable it is.)

Thanks,

Morten
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stefano.iacus@unimi.it  Mon Jan  7 16:10:17 2002
From: stefano.iacus@unimi.it (Stefano Iacus)
Date: Mon, 7 Jan 2002 17:10:17 +0100
Subject: [Rd] quadprog
Message-ID: <0A6D4C0A-0389-11D6-8E49-003065CC4CB8@unimi.it>

Hy,
I have to solve the following minimization problem on x

Q(x) = 1/2 x' A x + x'b

where Q is a quadratic form and x is in the simplex (x_i>=0, sum_i x_i = 
1, i=1,...,n), A pos. def. and b a negative vector.

I have tried with quadprog routines but it gives me solutions of the form
x* = (...,1,..)
where the dots "." are zeroes "0".

the toolbox optim/quadprog in Matlab lead to the same results as 
R+quaprog package (they use the "same" qld algorithm).

Are there any more efficient methods based on lagrange multipliers + 
standard simplex minimization ? I think that the qld algorithm is rather 
general and then not efficient for my specific case.

Any idea or reference ?

Stefano








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Jan  7 16:59:24 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jan 2002 17:59:24 +0100
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <20020107160716.17625.qmail@tyr.diku.dk>
References: <20020107151910.14705.qmail@tyr.diku.dk>
 <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
 <20020107160716.17625.qmail@tyr.diku.dk>
Message-ID: <x2itaef66r.fsf@blueberry.kubism.ku.dk>

Morten Welinder <terra@diku.dk> writes:

>    > this is just to let you know that the qbeta function, which was
>    > copied from R into Gnumeric, has been confirmed to be miscompiled
>    > by gcc 2.96 on Linux.  (That's Red Hat's compiler.)
> 
>    Which version? The ones in RH 7.1 and later has seemed to be quite
>    solid [...]
> 
> The problem is seen with "gcc version 2.96 20000731 (Red Hat Linux 7.1
> 2.96-98)".  That would appear to be newer than yours.
> 
>    0.64 is 2.5 years old!  Several things have been fixed since then,
>    [...]
> 
> Ahem, :-)  I did look at some point and nothing much had changed.
> I've put it on my todo list to have a look.  (We might switch to
> GSL since that has more code that we would like to offload from
> our backs.  Also, the packing seems to be nicer.  On the other hand,
> I have no idea of how reliable it is.)

GSL doesn't seem to have the distribution functions. Lots of random
variable generation, but no pbeta/qbeta and friends. In general, the
support for statistical analysis is quite weak and strongly slanted
towards physics applications.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Jan  7 17:01:40 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 7 Jan 2002 18:01:40 +0100
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <20020107160716.17625.qmail@tyr.diku.dk>
References: <20020107151910.14705.qmail@tyr.diku.dk>
 <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
 <20020107160716.17625.qmail@tyr.diku.dk>
Message-ID: <15417.54388.87441.372262@gargle.gargle.HOWL>

>>>>> "Morten" == Morten Welinder <terra@diku.dk> writes:

    >> this is just to let you know that the qbeta function,
    >> which was copied from R into Gnumeric, has been confirmed
    >> to be miscompiled by gcc 2.96 on Linux.  (That's Red
    >> Hat's compiler.)

    Morten>    Which version? The ones in RH 7.1 and later has
    Morten> seemed to be quite solid [...]

    Morten> The problem is seen with "gcc version 2.96 20000731
    Morten> (Red Hat Linux 7.1 2.96-98)".  That would appear to
    Morten> be newer than yours.

    Morten>    0.64 is 2.5 years old!  Several things have been
    Morten> fixed since then, [...]

    Morten> Ahem, :-) I did look at some point and nothing much

if you measure "much" in percentage of changed source code. 
Sometimes a bug is fixed by replacing "<" with "<=" etc... which
is not ``much'' .. :-)
Really, please don't use anything <= R 1.0; and indeed, since
you should upgrade anyway, please use the current 1.4.0.

    Morten> had changed.  I've put it on my todo list to have a
    Morten> look.  (We might switch to GSL since that has more
    Morten> code that we would like to offload from our backs.
    Morten> Also, the packing seems to be nicer.  On the other
    Morten> hand, I have no idea of how reliable it is.)

Well, without wanting to brag, it still must be said:
The things we do with distributions, we do **much** better than
the GSL (which has quite a wider scope of numerical analysis
than we do), at least for the few cases I looked at.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Jan  7 17:54:40 2002
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Mon, 7 Jan 2002 18:54:40 +0100 (MET)
Subject: [Rd] piechart default colour (PR#1248)
Message-ID: <200201071754.SAA01839@pubhealth.ku.dk>

As of 1.4.0, the default colour of pieslices is black. Try
piechart(1:3) for instance. The workaround is to use an explicit
col="white" argument.

(Of course, everything in example(piechart) uses fancy colour schemes,
so nobody noticed that the default got changed.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Mon Jan  7 18:42:44 2002
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Mon, 7 Jan 2002 19:42:44 +0100 (MET)
Subject: [Rd] cluster - clusplot.default (PR#1249)
Message-ID: <200201071842.TAA02067@pubhealth.ku.dk>



    


The following code in clusplot.default (package cluster) is in error:

x1 <- cmdscale(x, k = 2, eig = TRUE)
        var.dec <- sum(x1$eig)/sum(diag(x1$x))
        if (var.dec < 0) 
            var.dec <- 0
        if (var.dec > 1) 
            var.dec <- 1
        x1 <- x1$points

x1 has components with names "points" and "eig", not "x", so 
sum(diag(x1$x)) returns 0, the division gives Inf which is later replaced 
by 1. 
So in the plot it is reported (always) that "These two components explain 
100% 
of the variability". 

Besides, is it reasonable that sum(NULL) returns 0 without at least a 
warning?

Another small point about the cluster package: it loads automatically
mva, but that is not mentioned in the Depends field in the description file.

Kjetil Halvorsen



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From apjaworski@mmm.com  Mon Jan  7 18:47:12 2002
From: apjaworski@mmm.com (apjaworski@mmm.com)
Date: Mon, 7 Jan 2002 12:47:12 -0600
Subject: [Rd] qbeta function (FYI, compiler bug)
Message-ID: <OFFE9E74CF.84A8CAF7-ON86256B3A.0066C491@mmm.com>


I am not sure if this is still true.

Hre is a quick check:

(1) R-1.4.0 (Prof. Ripley build), Win2000

     > qbeta(0.025,4,0.5)
     [1] 0.5137795

(2) R-1.4.0 (compiled from source), RH-7.2 (gcc 2.96-98)

     > qbeta(0.025,4,0.5)
     [1] 0.5137795

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski@mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    Morten Welinder                                                                                                            
                    <terra@diku.dk>      To:     r-devel@hypatia.math.ethz.ch                                                                  
                                         cc:     (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                 
                    01/07/2002           Subject:     [Rd] qbeta function (FYI, compiler bug)                                                  
                    09:19 AM                                                                                                                   
                                                                                                                                               
                                                                                                                                               






Hi there,

this is just to let you know that the qbeta function, which was
copied from R into Gnumeric, has been confirmed to be miscompiled
by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

This shows by qbeta(0.025,4,0.5) ending up taking the wrong
branch of "if (alpha <= 0.5)".

We compile things in a different context, so this may or may not
affect you.  The qbeta function was taken from R 0.64.

Morten

http://www.gnome.org/gnumeric/
http://bugzilla.gnome.org/show_bug.cgi?id=68057
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Jan  7 19:14:33 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 7 Jan 2002 11:14:33 -0800 (PST)
Subject: [Rd] Mishandling missing "..." (PR#1247)
In-Reply-To: <200201071552.QAA00375@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.43.0201071110230.157118-100000@homer04.u.washington.edu>

On Mon, 7 Jan 2002 brahm@alum.mit.edu wrote:

> R> myfun <- function(x, ...) {x[...] <- 0; x}
> R> myfun(3)
>    Error in myfun(3) : SubAssignArgs: invalid number of arguments
>
> It fails because no ... was passed.  The workaround (and desired behavior) is:
> R> myfun <- function(x, ...) {if (missing(...)) x[] <- 0 else x[...] <- 0; x}
> R> myfun(3)
>    [1] 0
>

This is interesting.  Another workaround is

> myfun
function(x, ...) {x[...] <- 0; x}
> myfun(3,)
[1] 0

and the problem goes down to eval.c:evalListKeepMissing, which says
	/* If we have a ... symbol, we look to see what it is bound to.
	 * If its binding is Null (i.e. zero length)
	 *	we just ignore it and return the cdr with all its
               expressions evaluated;

The difference between  myfun(3) and myfun(3,) is that in the former case
there are no ... arguments, in the latter there is a ... argument but it's
missing.

In one way this would be fairly easy to fix by writing yet another variant
of evalList that replaced an empty ... with R_MissingArg, but I'm scared.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Jan  7 19:38:59 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Jan 2002 19:38:59 +0000 (GMT)
Subject: [Rd] cluster - clusplot.default (PR#1249)
In-Reply-To: <200201071842.TAA02067@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201071934140.32313-100000@gannet.stats>

On Mon, 7 Jan 2002 kjetilh@umsanet.edu.bo wrote:

>
>
>
>
>
> The following code in clusplot.default (package cluster) is in error:
>
> x1 <- cmdscale(x, k = 2, eig = TRUE)
>         var.dec <- sum(x1$eig)/sum(diag(x1$x))
>         if (var.dec < 0)
>             var.dec <- 0
>         if (var.dec > 1)
>             var.dec <- 1
>         x1 <- x1$points
>
> x1 has components with names "points" and "eig", not "x", so
> sum(diag(x1$x)) returns 0, the division gives Inf which is later replaced
> by 1.
> So in the plot it is reported (always) that "These two components explain
> 100%
> of the variability".
>
> Besides, is it reasonable that sum(NULL) returns 0 without at least a
> warning?

Yes: an empty sum is zero in mathematics.  S code relies on such things.

> Another small point about the cluster package: it loads automatically
> mva, but that is not mentioned in the Depends field in the description file.

It depends on base too, but that's not mentioned.  The convention is to
only include packages that are not in the standard tar bundle.
We can (and do) move things around between those, and indeed have talked
about some major reorganization of them (back as far DSC99, in fact).

You'll find most packages follow that convention: MASS uses almost all the
standard packages somewhere.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From terra@diku.dk  Mon Jan  7 20:25:47 2002
From: terra@diku.dk (Morten Welinder)
Date: 7 Jan 2002 20:25:47 -0000
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 07 Jan 2002 16:47:32 +0100)
References: <20020107151910.14705.qmail@tyr.diku.dk> <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020107202547.25588.qmail@tyr.diku.dk>


Thanks all.

I checked 1.4 and a clever head here noticed that one problem still
seems to be there.  In the !IEEE_754 case, either qbeta should zero
errno or else pbeta_raw should.

A similar problem seems to be in qgamma.

Morten
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Mon Jan  7 22:01:00 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 7 Jan 2002 17:01:00 -0500
Subject: [Rd] speeding up [.data.frame
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF14A@groexmbcr02.pfizer.com>


 >  -----Original Message-----
 >  From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
 >  Subject: Re: [Rd] speeding up [.data.frame
 >  
 >  
 >  On Sat, 5 Jan 2002, Warnes, Gregory R wrote:
 >  
 >  >
 >  > (I'm up too late so this might come through garbled...)
 >  >
 >  > I've just been doing some bootstrapping on data frames 
 >  > and I discovered that S-plus 6.0r1 was a *lot* faster 
 >  > than R 1.3.1 at the task. Splus was completing 100 bootstrap 
 >  > iterations in about 4 seconds while R was taking
 >  > about 15 seconds. However, doing bootstrapping on 
 >  > equivalent *matrices* R was slightly faster, 1.5 seconds verses 1.86.
 >  >
 >  > Now, since I'm doing glm's inside the bootstrap, I really 
 >  > need to use data frames...
 >  
 >  Why?  Surely you should be working at the design matrix 
 >  level and calling glm.fit directly?   Otherwise you are repeating a lot
of 
 >  work for every bootstrap fit.

Ahh, well, I usually start doing things the easy way and then work towards
harder (and potentially more efficient) ones.  I was  just suprised about
the overhead of bootstrapping a data frame when the operation inside the
bootstrap was essentially a NOOP.  

Is there example code of calling glm fit somewhere?

 >  
 >  BTW, is 11 seconds worth saving?: it sound trivial to me.  
 >  But if it is,
 >  moving to glm.fit looks to me to be the best optimization.

No, 11 seconds is not worth much work.  However, when I do 1000 bootstrap
samples it just might be 110 seconds and if we throw this insite another
loop to search over one of the parameters (which it looks like we may have
to do) this gets multiplied again..

 >  
 >  > It turns out that one of the reasons S-plus is faster on 
 >  > data frames is that S-Plus's allows you to turn of checking 
 >  > for/resolution of duplicate row names in "[.data.frame" by 
 >  > setting an attribute 'dup.row.names' to any non-NULL value.  
 >  > Adding an additional argument to R's "[.data.frame"  (patch
 >  > below) to permit the same optimization and using the argument in my
 >  > bootstrap function reduced the elapsed time for R to 8.6 seconds.
 >  >
 >  > Still, I'm wondering if there are other 'reasonable' changes to
 >  > "[.data.frame" that could narrow the gap further...
 >  
 >  That one is not reasonable in my opinion.  It should not be in S-PLUS
(and
 >  the advisory board has discussed its removal, as I recall). Having
unique
 >  row names is a fundamental property of data frames.  What you and they
 >  seem to want is another class which is like data frames but does not
 >  require row names, from which data.frame could inherit.

If there was another class that acted like a data frame but was 'lighter
weight' that would do for my purpose.  

BTW, are the 'fundimental properties' of various S language objects defined
anywhere?  Surely, some properties are implementation accidents, others are
implementation choices, and others are 'fundimental' to the behavior of the
object.

 >  
 >  -- 
 >  Brian D. Ripley,                  ripley@stats.ox.ac.uk
 >  Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 >  University of Oxford,             Tel:  +44 1865 272861 (self)
 >  1 South Parks Road,                     +44 1865 272860 (secr)
 >  Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Jan  7 22:22:40 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 7 Jan 2002 14:22:40 -0800 (PST)
Subject: [Rd] speeding up [.data.frame
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF14A@groexmbcr02.pfizer.com>
Message-ID: <Pine.A41.4.43.0201071421270.157118-100000@homer04.u.washington.edu>

On Mon, 7 Jan 2002, Warnes, Gregory R wrote:

>
> Is there example code of calling glm fit somewhere?
>

The main example is in glm().

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Jan  7 23:06:21 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Jan 2002 23:06:21 +0000 (GMT)
Subject: [Rd] speeding up [.data.frame
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF14A@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0201072255390.15523-100000@gannet.stats>

On Mon, 7 Jan 2002, Warnes, Gregory R wrote:

>
>  >  -----Original Message-----
>  >  From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
>  >  Subject: Re: [Rd] speeding up [.data.frame
>  >
>  >
>  >  On Sat, 5 Jan 2002, Warnes, Gregory R wrote:
>  >
>  >  >
>  >  > (I'm up too late so this might come through garbled...)
>  >  >
>  >  > I've just been doing some bootstrapping on data frames
>  >  > and I discovered that S-plus 6.0r1 was a *lot* faster
>  >  > than R 1.3.1 at the task. Splus was completing 100 bootstrap
>  >  > iterations in about 4 seconds while R was taking
>  >  > about 15 seconds. However, doing bootstrapping on
>  >  > equivalent *matrices* R was slightly faster, 1.5 seconds verses 1.86.
>  >  >
>  >  > Now, since I'm doing glm's inside the bootstrap, I really
>  >  > need to use data frames...
>  >
>  >  Why?  Surely you should be working at the design matrix
>  >  level and calling glm.fit directly?   Otherwise you are repeating a lot
> of
>  >  work for every bootstrap fit.
>
> Ahh, well, I usually start doing things the easy way and then work towards
> harder (and potentially more efficient) ones.  I was  just suprised about
> the overhead of bootstrapping a data frame when the operation inside the
> bootstrap was essentially a NOOP.
>
> Is there example code of calling glm fit somewhere?

glm!   Take a look a package sm too, which has bootstrapping code for
glms.

People often don't realise how much work gets done creating model matrices
etc: profiling is often a very sobering exercise.

>  >  BTW, is 11 seconds worth saving?: it sound trivial to me.
>  >  But if it is,
>  >  moving to glm.fit looks to me to be the best optimization.
>
> No, 11 seconds is not worth much work.  However, when I do 1000 bootstrap
> samples it just might be 110 seconds and if we throw this insite another
> loop to search over one of the parameters (which it looks like we may have
> to do) this gets multiplied again..
>
>  >
>  >  > It turns out that one of the reasons S-plus is faster on
>  >  > data frames is that S-Plus's allows you to turn of checking
>  >  > for/resolution of duplicate row names in "[.data.frame" by
>  >  > setting an attribute 'dup.row.names' to any non-NULL value.
>  >  > Adding an additional argument to R's "[.data.frame"  (patch
>  >  > below) to permit the same optimization and using the argument in my
>  >  > bootstrap function reduced the elapsed time for R to 8.6 seconds.
>  >  >
>  >  > Still, I'm wondering if there are other 'reasonable' changes to
>  >  > "[.data.frame" that could narrow the gap further...
>  >
>  >  That one is not reasonable in my opinion.  It should not be in S-PLUS
> (and
>  >  the advisory board has discussed its removal, as I recall). Having
> unique
>  >  row names is a fundamental property of data frames.  What you and they
>  >  seem to want is another class which is like data frames but does not
>  >  require row names, from which data.frame could inherit.
>
> If there was another class that acted like a data frame but was 'lighter
> weight' that would do for my purpose.
>
> BTW, are the 'fundimental properties' of various S language objects defined
> anywhere?  Surely, some properties are implementation accidents, others are
> implementation choices, and others are 'fundimental' to the behavior of the
> object.

No, although the blue and white books are the closest we have to a
definition.  In this case, the first line of page 57 of the white book
says row names must be unique.  It's exactly like relations (tables) in an
RDBMS: data frames correspond to relations with a primary key, and
database theory explains why that is a key (sorry) property.  So I am sure
this was no accident.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Mon Jan  7 23:06:00 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Mon, 07 Jan 2002 18:06:00 -0500
Subject: [Rd] Mishandling missing "..." (PR#1247)
References: <Pine.A41.4.43.0201071110230.157118-100000@homer04.u.washington.edu>
Message-ID: <3C3A29D8.FB0A80C8@research.bell-labs.com>

Thomas Lumley wrote:
> 
> On Mon, 7 Jan 2002 brahm@alum.mit.edu wrote:
> 
> > R> myfun <- function(x, ...) {x[...] <- 0; x}
> > R> myfun(3)
> >    Error in myfun(3) : SubAssignArgs: invalid number of arguments
> >
> > It fails because no ... was passed.  The workaround (and desired behavior) is:
> > R> myfun <- function(x, ...) {if (missing(...)) x[] <- 0 else x[...] <- 0; x}
> > R> myfun(3)
> >    [1] 0
> >
> 
> This is interesting.  Another workaround is
> 
> > myfun
> function(x, ...) {x[...] <- 0; x}
> > myfun(3,)
> [1] 0
> 
> and the problem goes down to eval.c:evalListKeepMissing, which says
>         /* If we have a ... symbol, we look to see what it is bound to.
>          * If its binding is Null (i.e. zero length)
>          *      we just ignore it and return the cdr with all its
>                expressions evaluated;
> 
> The difference between  myfun(3) and myfun(3,) is that in the former case
> there are no ... arguments, in the latter there is a ... argument but it's
> missing.
> 
> In one way this would be fairly easy to fix by writing yet another variant
> of evalList that replaced an empty ... with R_MissingArg, but I'm scared.
> 
>         -thomas


My feeling is that it's the ordinary behavior of x[] <- 0 that is
puzzling.  Even though the example with myFun generates an error, it
looks more consistent with a general semantics than does the "raw"
expression.

Shouldn't the expression x[] <- 0 be  equivalent to "[<-(x, 0), just as

  x[i]<-0; x[i,j] <- 0

are equivalent to

  "[<-"(x,i,0); "[<-"(x,i,j,0)
??

But in fact the functional form of the operator generates the same
error:

> x <- 1:10
> "[<-"(x, 0)
Error: SubAssignArgs: invalid number of arguments

OTOH,

> "[<-"(x, , 0)
 [1] 0 0 0 0 0 0 0 0 0 0

The internal problem seems to be that SubAssignArgs is supposed to
return a subscript list of length 1 containing one element which is
"missing", rather than a list of length 0 for the x[] <-... case.  If it
could return the latter, and if the switch statement in
do_subassign_dflt didn't ignore the case of 0 subscripts, but had
instead
	case 0:
	   x = VectorAssign(call, x, R_MissingArg, y);
	   break;

then the anomalies seem to go away.  Making this change in the r-devel
code, and returning something from SubAssignArgs for the case nsub==0
gives:

> myfun <- function(x, ...) {x[...] <- 0; x}
> x <- 1:10
> myfun(x)
 [1] 0 0 0 0 0 0 0 0 0 0
> x
 [1]  1  2  3  4  5  6  7  8  9 10
> x[] <- 0
> x
 [1] 0 0 0 0 0 0 0 0 0 0


Not to beat longer on the question than it perhaps deserves, but the
"workaround"  using missing(...) seems wrong in principle.  Requires a
digression on the history of "..."; sorry about that.

The essential meaning of "..."  is that, if it's a formal argument to a
function, f, and in the body of f there is a call, say, g(...), then the
effect is equivalent to calling g with all the arguments that match
"..." (with arguments evaluated in the right environment of course).

This has always been a rather dicey bit of the language, since it is
much less object-based than any other concept in the basic semantics. 
In trying to elaborate the model somewhat, we came up with the notion
that "..." was roughly like having objects ..1, ..2, etc. in the local
frame, up to n where n == length(list(...)).   The evaluator then
roughly turns g(...) into g(<name1>=..1, ....) with the appropriate
names taken from the call to f.

As a semantic model, this is not great, but the mechanism is pretty
clearly useful in practice.  (And I have to say that none of the
versions I know of the same mechanism in other languages, developed in
parallel with our floundering around, impress me as better in terms of
combined usefulness and clarity.)

But it leads to some tricky situations if one interprets "..." as an
ordinary variable.

For example, missing(...) doesn't work if interpreted according to the
semantics for "...".  For example:

  f <- function(x, ...) { if(missing(...)) x else ## something or
other..}

f(1)

should be equivalent to { if(missing())... 

f(1,2, 3)

should be equivalent to { if(missing(..1, ..2))....

neither of which should be legal.  

So, missing(...) seems a questionable expression in any context.

John


-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From loki@cs.usyd.edu.au  Tue Jan  8 23:55:48 2002
From: loki@cs.usyd.edu.au (Lachlan Patrick)
Date: Wed, 09 Jan 2002 10:55:48 +1100
Subject: [Rd] GraphApp version 3
Message-ID: <200201090001.BAA24268@stat.math.ethz.ch>

Hi, I'm the developer of GraphApp, which is a graphics and
user interface toolkit which I believe has been used
by your "R" package.

I don't know whether GraphApp is still used in "R", but
I thought you should know there is a new version of
GraphApp available (version 3) which is built around
a solid, portable core of graphics operations and is
independent of Motif, Athena, and other such toolkits.
There are a number of new features. You might want to
investigate converting "R" over to the new interface
if you are still using the older GraphApp version 2.
Programs will need to be slightly rewritten, but there
are a number of example programs to help with that
process, and many examples are based on older examples
from version 2, so there is a source of comparison to
see what has changed.

The new GraphApp has a new home page, which can be
reached by visiting the old page and clicking on the
link. The old page is:
http://www.cs.usyd.edu.au/~loki/graphapp/
And the new one is:
http://enchantia.com/software/graphapp/

Loki
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ccsshb@bath.ac.uk  Wed Jan  9 13:24:56 2002
From: ccsshb@bath.ac.uk (ccsshb@bath.ac.uk)
Date: Wed, 9 Jan 2002 14:24:56 +0100 (MET)
Subject: [Rd] Not striclty a bug but a problem (PR#1250)
Message-ID: <200201091324.OAA24056@pubhealth.ku.dk>

Version: 1040
OS: Windows 98 SE

Problem: 
I have installed R with all help files to a network read-only drive. help.start() requires rw on two files
../R/rw1040/doc/html/packages.html
../R/rw1040/doc/html/search/index.txt

This is a minor issue as running R 1.4.0 help from the start menu works fine.

Perhaps the next version may address this?

Simon Bowman
Systems Adminstrator
University of Bath
UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jan  9 13:34:47 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 9 Jan 2002 14:34:47 +0100 (MET)
Subject: [Rd] Not striclty a bug but a problem (PR#1250)
Message-ID: <200201091334.OAA24436@pubhealth.ku.dk>

On Wed, 9 Jan 2002 ccsshb@bath.ac.uk wrote:

> Version: 1040
> OS: Windows 98 SE
>
> Problem:
> I have installed R with all help files to a network read-only drive. help.start() requires rw on two files
> ../R/rw1040/doc/html/packages.html
> ../R/rw1040/doc/html/search/index.txt

What exactly is reported?

> This is a minor issue as running R 1.4.0 help from the start menu works fine.

But it won't work fine if the set of installed packages is changed, if
that is an issue.

> Perhaps the next version may address this?

Could you suggest a patch?   Does adding try() as in

try(make.packages.html(.libPaths()))
try(make.search.html(.Library))

help?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Jan  9 14:18:49 2002
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 09 Jan 2002 15:18:49 +0100
Subject: [Rd] Not striclty a bug but a problem (PR#1250)
References: <200201091334.OAA24436@pubhealth.ku.dk>
Message-ID: <3C3C5149.389812A9@statistik.uni-dortmund.de>

ripley@stats.ox.ac.uk wrote:
> 
> On Wed, 9 Jan 2002 ccsshb@bath.ac.uk wrote:
> 
> > Version: 1040
> > OS: Windows 98 SE
> >
> > Problem:
> > I have installed R with all help files to a network read-only drive. help.start() requires rw on two files
> > ../R/rw1040/doc/html/packages.html
> > ../R/rw1040/doc/html/search/index.txt
> 
> What exactly is reported?
> 
> > This is a minor issue as running R 1.4.0 help from the start menu works fine.
> 
> But it won't work fine if the set of installed packages is changed, if
> that is an issue.
> 
> > Perhaps the next version may address this?
> 
> Could you suggest a patch?   Does adding try() as in
> 
> try(make.packages.html(.libPaths()))
> try(make.search.html(.Library))
> 
> help?

That's a very good idea!
Of course, in these cases the administrator has to call these functions
(or link.html.help()) manually again (don't know if this is still
documented or deleted from docs since the updates are done
automatically).

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Wed Jan  9 18:31:09 2002
From: a296180@mica.fmr.com (a296180@mica.fmr.com)
Date: Wed, 9 Jan 2002 19:31:09 +0100 (MET)
Subject: [Rd] typo in R Install/Admin manual version 1.4.0 (PR#1251)
Message-ID: <200201091831.TAA28657@pubhealth.ku.dk>

On page 15, I think that "Some case is needed" should be "Some care is needed".

Regards,

Dave Kane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jan 10 08:25:21 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 10 Jan 2002 09:25:21 +0100 (MET)
Subject: [Rd] cluster - clusplot.default (PR#1249)
Message-ID: <200201100825.JAA02105@pubhealth.ku.dk>

>>>>> "kjetil" == kjetil halvorsen <kjetilh@umsanet.edu.bo> writes:

    kjetil> The following code in clusplot.default (package cluster) is in error:

    kjetil>    x1 <- cmdscale(x, k = 2, eig = TRUE)
    kjetil>    var.dec <- sum(x1$eig)/sum(diag(x1$x))
    kjetil>    if (var.dec < 0)  var.dec <- 0
    kjetil>    if (var.dec > 1)  var.dec <- 1
    kjetil>    x1 <- x1$points

    kjetil> x1 has components with names "points" and "eig", not
    kjetil> "x", so sum(diag(x1$x)) returns 0, the division
    kjetil> gives Inf which is later replaced by 1.  So in the
    kjetil> plot it is reported (always) that "These two
    kjetil> components explain 100% of the variability".

Thank you Kjetil.
Yes, there's definitely a problem there.
However the solution is not as easy: Doing the replacement you
suggest is not enough, since var.dec still is not scaled to [0,1].

Before the lines you cite above, there is

        ##x1 <- cmd(x, k = 2, eig = T, add = T)
        ##if(x1$ac < 0)
        ##	x1 <- cmd(x, k = 2, eig = T)

which was Rousseeuw et al's original code -- instead of the
  x1 <- cmdscale(...) line above.
And cmd() was an internal function calling directly into
undocumented S-plus internal Fortran code...
The original porter of the cluster package had replaced the
cmd() by cmdscale()  which seemed but was not ok.

I'll have a look.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jan 10 08:30:28 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 10 Jan 2002 09:30:28 +0100 (MET)
Subject: [Rd] typo in R Install/Admin manual version 1.4.0 (PR#1251)
Message-ID: <200201100830.JAA02217@pubhealth.ku.dk>

>>>>> "DavK" == David Kane <a296180@mica.fmr.com> writes:

    DavK> On page 15, I think that "Some case is needed" should
    DavK> be "Some care is needed".  

Indeed! thank you  {fixed for R-patched aka 1.4.1 to be}
Martin Maechler

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From o.christensen@lancaster.ac.uk  Thu Jan 10 19:35:44 2002
From: o.christensen@lancaster.ac.uk (o.christensen@lancaster.ac.uk)
Date: Thu, 10 Jan 2002 20:35:44 +0100 (MET)
Subject: [Rd] round(10000000000) (PR#1254)
Message-ID: <200201101935.UAA14520@pubhealth.ku.dk>

Full_Name: Ole Christensen
Version: 1.4.0
OS: Linux
Submission from: (NULL) (194.80.32.10)


Dear R-people

I found the following feature for the round function (using R-1.4.0)

> round(10000000000)
[1] -2147483648

Is this a bug ?

The round(10000000000) worked fine using R-1.3.1

Thank you in advance

Ole


> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Jan 10 19:36:09 2002
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Thu, 10 Jan 2002 20:36:09 +0100 (MET)
Subject: [Rd] Size of type double in object type dist (PR#1255)
Message-ID: <200201101936.UAA14534@pubhealth.ku.dk>


The following problem occurs in R 1.4.0 and 1.3.1 for Windows95,
but not in R 1.2.0 for Windows95.

The problem does not occur in R 1.4.0 for Linux PC, Linux Alpha
and HP-UX.

Sometimes, the type of 'Size' of an object of type 'dist'
changes from integer into double. Running cmdscale on such a
'dist' object gives invalid results.

I don't know what should be considered a bug, the type of 'Size'
changing into 'double', or cmdscale not able to process a 'dist'
object with a 'Size' of type 'double'. Perhaps both.

I have not been able to locate a single cause of this problem.
The following example is when it goes wrong:

    # PA is an object of class 'dist' with 'Size' 67
    > data(PA)
    > attr(PA, "Size")
    [1] 67
    >
    > MDS <- function (dif, dim)
    + {
    +     a <- cmdscale(dif, k = dim, eig = FALSE)
    +     row.names(a) <- names(dif)
    +     a
    + }
    >
    > vec <- MDS(PA, 2)
    > attr(PA, "Size")
    [1] 67
    > plot(vec, type="n", xlab="", ylab="")
    > attr(PA, "Size")
    [1] 67
    > text(vec, rownames(vec), cex=0.5)
    > attr(PA, "Size")
    [1] 67
    >
    > vec8 <- MDS(PA, 8)
    > attr(PA, "Size")
    [1] 67
    > d2 <- dist(vec)
    > attr(PA, "Size"); attr(d2, "Size")
    [1] 67
    [1] 67
    > d8 <- dist(vec8)
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    > cor(PA, d2)
    [1] 0.9370243
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    > cor(PA, d8)
    [1] 0.9773668
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    >
    > plot(c(min(PA), max(PA)), c(min(d2, d8), max(d2, d8)),
    +      type="n", xlab="PA", ylab="dist( cmdscale( PA ) )")
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    > points(PA, d2, pch=20, cex=0.5, col="black")
# here is when it changes
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67.00000
    [1] 67
    [1] 67
    > points(PA, d8, pch=20, cex=0.5, col="blue")
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67.00000
    [1] 67
    [1] 67
    > legend(min(PA),max(c(d2,d8)),c("dim = 2", "dim = 8"), fill=c("black", "blue"))
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67.00000
    [1] 67
    [1] 67

It gets weirder...

    > rm(PA)
    > data(PA)
    > attr(PA, "Size")
    [1] 67.00000

If I do the following, the 'Size' attributes becomes an integer,
and seems to stay an integer:

    > PA <- as.dist(PA)

...however, running cmdscale on it produces nonsense

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Windows 95 4.0 (build 1111)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 10 19:54:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 10 Jan 2002 20:54:34 +0100 (MET)
Subject: [Rd] round(10000000000) (PR#1254)
Message-ID: <200201101954.UAA14591@pubhealth.ku.dk>

Yes, it's a newly introduced bug, fixed now.

On Thu, 10 Jan 2002 o.christensen@lancaster.ac.uk wrote:

> Full_Name: Ole Christensen
> Version: 1.4.0
> OS: Linux
> Submission from: (NULL) (194.80.32.10)
>
>
> Dear R-people
>
> I found the following feature for the round function (using R-1.4.0)
>
> > round(10000000000)
> [1] -2147483648
>
> Is this a bug ?
>
> The round(10000000000) worked fine using R-1.3.1
>
> Thank you in advance
>
> Ole
>
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Jan 10 23:51:28 2002
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Fri, 11 Jan 2002 00:51:28 +0100 (CET)
Subject: [Rd] Size of type double in object type dist (PR#1255)
In-Reply-To: <200201101936.UAA14534@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.33.0201110031300.476-100000@kleigh.nl>

kleiweg@let.rug.nl scribeva...

> Sometimes, the type of 'Size' of an object of type 'dist'
> changes from integer into double. Running cmdscale on such a
> 'dist' object gives invalid results.

I have done some further testing. It seems the storage mode of
'Size' was double from the start. Setting the storage mode to
integer does not fix the problem. (However, the problems occur
once attr(PA, "Size") no longer prints 67, but 67.00000)

There seems to be something wrong with the interaction of
the 'plot' function with objects of class 'dist' and
the 'cmdscale' function. I traced cmdscale:

function (d, k = 2, eig = FALSE)
{
[snip]

    storage.mode(x) <- "double"
    Tmat <- -0.5 * .C("dblcen", x, as.integer(n), PACKAGE = "mva")[[1]]

Up to this point, all goes well. The results in Tmat seem OK.
When things go wrong, the following command take a long time to
run:

    e <- La.eigen(Tmat, symmetric = TRUE)

[snip]

}

My best guess is that there is some memory problem (overflow,
null pointer assignment, whatever) when plot is applied to an
object of class 'dist', which causes another call to cmdscale on
the same object to go wrong.

If someone wants to try this, the problem occured running the
examples of the functions 'MDS', 'ISOMDS', and 'SAMMON' in the
'iLeven' package. That package can be downloaded from:

    http://www.let.rug.nl/~kleiweg/levenshtein/R/

Just running one example (any example) once works fine. Running
that example again, or running any of the other examples fails.

R versions 1.3.1 and 1.4.0 / Windows95

-- 
Peter Kleiweg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From patrick.lindsey@luc.ac.be  Fri Jan 11 15:21:15 2002
From: patrick.lindsey@luc.ac.be (Patrick Lindsey)
Date: Fri, 11 Jan 2002 16:21:15 +0100 (MET)
Subject: [Rd] Wrong header file in ttest.c (windlgs package).
Message-ID: <200201111521.QAA04235@luc.ac.be>

Hi everyone,
  I've just installed "rw1040" and all the components necessary to compile
packages for windows. I always try out my new installation on the provided
package "windlgs" in order to ensure that everything is working.
  This time I ran into a small problem. Indeed, the second line of "ttest.c"
includes a header file ("ga.h") which does not exits. I believe that it
should be changed back to what it was under "rw1031" which was "graphapp.h".
  Apologies if this has already been reported.
Patrick.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 11 15:30:38 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 15:30:38 +0000 (GMT)
Subject: [Rd] Wrong header file in ttest.c (windlgs package).
In-Reply-To: <200201111521.QAA04235@luc.ac.be>
Message-ID: <Pine.LNX.4.31.0201111523320.18667-100000@gannet.stats>

On Fri, 11 Jan 2002, Patrick Lindsey wrote:

> Hi everyone,
>   I've just installed "rw1040" and all the components necessary to compile
> packages for windows. I always try out my new installation on the provided
> package "windlgs" in order to ensure that everything is working.
>   This time I ran into a small problem. Indeed, the second line of "ttest.c"
> includes a header file ("ga.h") which does not exits. I believe that it
> should be changed back to what it was under "rw1031" which was "graphapp.h".
>   Apologies if this has already been reported.

Sorry, it does need to be ga.h.  We'll arrange to ship it.  The line

    setbackground(win, myGetSysColor(COLOR_MENU));

and CVS entry

revision 1.5
date: 2001/11/19 09:23:47;  author: ripley;  state: Exp;  lines: +14 -12
correct background colours under Win2k

explain why.  Could you just get it from the sources and put it in
src/include.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jutans@utans.u-net.com  Fri Jan 11 15:46:25 2002
From: jutans@utans.u-net.com (jutans@utans.u-net.com)
Date: Fri, 11 Jan 2002 16:46:25 +0100 (MET)
Subject: [Rd] seq.POSIXt: & DST (PR#1256)
Message-ID: <200201111546.QAA26755@pubhealth.ku.dk>

Full_Name: Joachim Utans
Version: 1.4.0
OS: NT4 sp4
Submission from: (NULL) (195.42.238.80)


seq.POSIXt(..., by="day") apparently has problems steping over
a change in daylight savings time; 2001-10-28 appears twice,
the last day, 2001-10-30, is missing


> seq(as.POSIXct("2001-10-26"),as.POSIXct("2001-10-30"),by="day")
[1] "2001-10-26 00:00:00 GMT Daylight Time" "2001-10-27 00:00:00 GMT Daylight
Time" "2001-10-28 00:00:00 GMT Daylight Time"
[4] "2001-10-28 23:00:00 GMT Standard Time" "2001-10-29 23:00:00 GMT Standard
Time"



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 11 15:54:56 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 15:54:56 +0000 (GMT)
Subject: [Rd] seq.POSIXt: & DST (PR#1256)
In-Reply-To: <200201111546.QAA26755@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201111551370.18667-100000@gannet.stats>

On Fri, 11 Jan 2002 jutans@utans.u-net.com wrote:

> Full_Name: Joachim Utans
> Version: 1.4.0
> OS: NT4 sp4
> Submission from: (NULL) (195.42.238.80)
>
>
> seq.POSIXt(..., by="day") apparently has problems steping over
> a change in daylight savings time; 2001-10-28 appears twice,
> the last day, 2001-10-30, is missing

Take a closer look.  It is stepping by days, but that means by 24-hour
days.  Look at it in GMT (there is no such time zone as GMT Daylight Time,
Bill Gates!)

z <- seq(as.POSIXct("2001-10-26"),as.POSIXct("2001-10-30"),by="day")
> format(z, tz="GMT")
[1] "2001-10-25 23:00:00" "2001-10-26 23:00:00" "2001-10-27 23:00:00"
[4] "2001-10-28 23:00:00" "2001-10-29 23:00:00"

which is correct.

> > seq(as.POSIXct("2001-10-26"),as.POSIXct("2001-10-30"),by="day")
> [1] "2001-10-26 00:00:00 GMT Daylight Time" "2001-10-27 00:00:00 GMT Daylight
> Time" "2001-10-28 00:00:00 GMT Daylight Time"
> [4] "2001-10-28 23:00:00 GMT Standard Time" "2001-10-29 23:00:00 GMT Standard
> Time"


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sway@tanox.com  Fri Jan 11 20:59:30 2002
From: sway@tanox.com (Shawn Way)
Date: Fri, 11 Jan 2002 14:59:30 -0600
Subject: [Rd] RODBC
Message-ID: <0565F48FC373D411BE4D00B0D049602628E6BC@nt40hou1.tanox.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C19AE2.DCDAFCB0
Content-Type: text/plain


I'm trying to make some modifications to the RODBC package under windows,
and I know that it has been compile for the current version of R.  I've
looked at the contrib source code and the current structure in the library
and they just don't match.  Does someone out there have the source code and
setup for the current version?  Or any clues as to what to do after the
configuration.

Thanks...


Shawn Way

------_=_NextPart_001_01C19AE2.DCDAFCB0
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>RODBC</TITLE>
</HEAD>
<BODY>
<BR>

<P><FONT SIZE=3D2>I'm trying to make some modifications to the RODBC =
package under windows, and I know that it has been compile for the =
current version of R.&nbsp; I've looked at the contrib source code and =
the current structure in the library and they just don't match.&nbsp; =
Does someone out there have the source code and setup for the current =
version?&nbsp; Or any clues as to what to do after the =
configuration.</FONT></P>

<P><FONT SIZE=3D2>Thanks...</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Shawn Way</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C19AE2.DCDAFCB0--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From zeileis@ci.tuwien.ac.at  Fri Jan 11 21:29:52 2002
From: zeileis@ci.tuwien.ac.at (zeileis@ci.tuwien.ac.at)
Date: Fri, 11 Jan 2002 22:29:52 +0100 (MET)
Subject: [Rd] documentation of `las' on `par' help page (PR#1257)
Message-ID: <200201112129.WAA28243@pubhealth.ku.dk>

Just a small documentation bug:
something went wrong for the description of the graphical parameter
`las' on the HTML version of the `par' help page: `las' is missing and
instead a line from the description is used.
Z


platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 11 21:31:35 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 21:31:35 +0000 (GMT)
Subject: [Rd] RODBC
In-Reply-To: <0565F48FC373D411BE4D00B0D049602628E6BC@nt40hou1.tanox.com>
Message-ID: <Pine.LNX.4.31.0201112125210.27497-100000@gannet.stats>

On Fri, 11 Jan 2002, Shawn Way wrote:

>
> I'm trying to make some modifications to the RODBC package under windows,
> and I know that it has been compile for the current version of R.  I've
> looked at the contrib source code and the current structure in the library
> and they just don't match.  Does someone out there have the source code and
> setup for the current version?  Or any clues as to what to do after the
> configuration.

It was compiled from the sources by Rcmd INSTALL, but not recently.
Indeed, the DESCRIPTION file ends
Built: R 1.3.0;  Win32;  2001-06-25 17:13:49

But I've just re-run this under 1.4.0 and it still works. No configuration
is needed: there is a src/Makevars.win file.  So try the standard
procdure (as documented in `Writing R extensions').

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Sat Jan 12 01:08:05 2002
From: murdoch@stats.uwo.ca (murdoch@stats.uwo.ca)
Date: Sat, 12 Jan 2002 02:08:05 +0100 (MET)
Subject: [Rd] Bug in predict(newdata=x) with poly() (PR#1258)
Message-ID: <200201120108.CAA28888@pubhealth.ku.dk>

Bug in predict.lm & poly

The predict function doesn't work when used with poly and newdata.

For example, I'd expect the following code to work, and plot a fitted
cubic to the nearly straight line:

 x <- 1:10
 y <- x + rnorm(10)/100
 plot(x,y)
 fit <- lm(y ~ poly(x,3))
 newx <- seq(1,10,len=100)
 lines(newx,predict(fit,newdata=data.frame(x=newx)))

However, the plotted line is way off the data.  The problem is that
poly(x,3) doesn't agree with poly(newx,3) at equal values of x, so
predict applies the fitted coefficients to the wrong values.

To fix this we need a predict.poly procedure analogous to the
predict.ns() and predict.bs() procedures. This doesn't look easy to
write.

Duncan Murdoch

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Windows 98 4.10 (build 1998)  

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jan 12 07:49:39 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 12 Jan 2002 08:49:39 +0100 (MET)
Subject: [Rd] Bug in predict(newdata=x) with poly() (PR#1258)
Message-ID: <200201120749.IAA29489@pubhealth.ku.dk>

This is long-term known in S: there have been examples in V&R for years.
The S solution is predict.gam.

predict.poly is easy. The problem (as for bs and ns) is getting it used by
predict.lm.  Thomas Yee (I think) has made a solution available, but the
consensus was that it could be done more elegantly at a lower level.  We
already preserve information on contrasts and sets of levels: we need to
preserve similar information for poly() and spline terms.

I noticed this was still open last week, and put it on my (private) TODO
list.

On Sat, 12 Jan 2002 murdoch@stats.uwo.ca wrote:

> Bug in predict.lm & poly
>
> The predict function doesn't work when used with poly and newdata.
>
> For example, I'd expect the following code to work, and plot a fitted
> cubic to the nearly straight line:
>
>  x <- 1:10
>  y <- x + rnorm(10)/100
>  plot(x,y)
>  fit <- lm(y ~ poly(x,3))
>  newx <- seq(1,10,len=100)
>  lines(newx,predict(fit,newdata=data.frame(x=newx)))
>
> However, the plotted line is way off the data.  The problem is that
> poly(x,3) doesn't agree with poly(newx,3) at equal values of x, so
> predict applies the fitted coefficients to the wrong values.
>
> To fix this we need a predict.poly procedure analogous to the
> predict.ns() and predict.bs() procedures. This doesn't look easy to
> write.
>
> Duncan Murdoch
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
>
> Windows 98 4.10 (build 1998)
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Jan 12 15:25:35 2002
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Sat, 12 Jan 2002 16:25:35 +0100 (MET)
Subject: [Rd] Bug in predict(newdata=x) with poly() (PR#1258)
Message-ID: <200201121525.QAA00525@pubhealth.ku.dk>

On Sat, 12 Jan 2002 07:49:01 +0000 (GMT), you wrote:

>predict.poly is easy. The problem (as for bs and ns) is getting it used by
>predict.lm.  Thomas Yee (I think) has made a solution available, but the
>consensus was that it could be done more elegantly at a lower level.  We
>already preserve information on contrasts and sets of levels: we need to
>preserve similar information for poly() and spline terms.

Yes, I didn't notice that predict.bs wasn't being called by
predict.lm.

>I noticed this was still open last week, and put it on my (private) TODO
>list.

A short-term workaround would be to put code like this into
predict.lm, at the point where tt contains the terms of the fit, and
it has been determined that newdata is not missing:

  if (any(c('poly','bs','ns') %in% flatten(tt)))          
     warning("newdata not supported with 'poly', 'ns', or 'bs'")

I don't know if there's already a function like flatten in R; here's a
simple one:

flatten <- function (expr) 
{
  if (is.expression(expr) | is.call(expr) | is.list(expr)) {
    unlist(lapply(as.list(expr), flatten))
  } else {
    as.character(expr)
  }
}

There may be other functions besides poly, bs and ns that return
bases; I don't know.

Duncan Murdoch
 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From BudgetLife3@eudoramail.com  Sun Jan 13 18:55:37 2002
From: BudgetLife3@eudoramail.com (BudgetLife3@eudoramail.com)
Date: Sun, 13 Jan 2002 00:55:37 -1800
Subject: [Rd] Are You Paying too Much for Life Insurance?                KT
Message-ID: <000011c1060f$00001325$0000293a@mx1.eudoramail.com>

<html><body><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:center>M=
ost likely, <b>YES <span style=3Dfont-size:14.0pt;mso-bidi-font-size:12.0p=
t>!<o:p></o:p></span></b><o:p></o:p></p><p class=3DMsoNormal align=3Dcente=
r style=3Dtext-align:center>Here's why.<span style=3D"mso-spacerun: yes">&=
nbsp; </span><b><span style=3Dcolor:#FF3300>F</span><span style=3Dcolor:#F=
F9900>i</span><span style=3Dcolor:#FF3300>e</span><span style=3Dcolor:#FF9=
900>r</span><span style=3Dcolor:#FF3300>c</span><span style=3Dcolor:#FF990=
0>e</span></b> ... take no prisoner ... insurance industry <b><span style=3D=
color:red>PRICE WARS</span></b> have driven premiums <b><span style=3Dfont=
-size:14.0pt;mso-bidi-font-size:12.0pt;color:#003300>DOWN</span></b>, and =
<b>down</b>, and <b><span style=3Dfont-size:10.0pt;mso-bidi-font-size:12.0=
pt>down</span></b> --30 -- 40 -- 50 -- even <b><span style=3D"font-size:14=
.0pt;mso-bidi-font-size:
12.0pt">70%</span></b> from where they were just a short time ago!<o:p></o=
:p></p><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:center><b><s=
pan style=3Dcolor:#9900CC>YOUR INSURANCE COMPANY </span><span style=3Dcolo=
r:#FF3300>DOESN'T </span><span style=3Dcolor:#9900CC>WANT YOU TO READ THIS=
</span><span style=3Dfont-size:18.0pt;mso-bidi-font-size:12.0pt>...</span>=
<o:p></o:p></b><o:p></o:p></p><p class=3DMsoNormal align=3Dcenter style=3D=
text-align:center>They will <b><span style=3Dcolor:#009900>continue </span=
></b>to <b><span style=3Dcolor:#009900>take your money</span></b>, while o=
ffering lower rates (up to 50%, even 70% lower) to <b><span style=3Dcolor:=
black>new</span></b> buyers.<o:p></o:p></p><p class=3DMsoNormal align=3Dce=
nter style=3Dtext-align:center><b><span style=3Dfont-size:14.0pt;mso-bidi-=
font-size:12.0pt;color:black>B</span></b>UT DON'T TAKE OUR WORD FOR IT<b><=
span style=3D"font-size:16.0pt;mso-bidi-font-size:
12.0pt">...</span></b> <b><span style=3D"font-size:14.0pt;mso-bidi-font-si=
ze:
12.0pt">Visit<o:p></o:p></span></b><o:p></o:p></p><p class=3DMsoNormal ali=
gn=3Dcenter style=3Dtext-align:center><b><span style=3Dfont-size:14.0pt;ms=
o-bidi-font-size:12.0pt;color:blue><p><center><a href=3Dhttp://www.lifeins=
urance.net.cn/email>http://www.lifeinsurance.net.cn/email/</a></p><o:p></o=
:p></span></b><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:cente=
r>and request an online quote today.<span style=3D"mso-spacerun: yes">&nbs=
p; </span>Be prepared to be surprised by how <b><span style=3Dcolor:#00990=
0>cheaply</span></b> you can buy <b><span style=3Dcolor:#009900>large</spa=
n></b> amounts of term life insurance!</p><p class=3DMsoNormal align=3Dcen=
ter style=3Dtext-align:center>&nbsp;</p><p class=3DMsoNormal align=3Dcente=
r style=3Dtext-align:center>If you think, that you will not benefit from t=
his correspondence, please reply with =FFFFFF93remove key=FFFFFF94 as the =
subject matter.</p><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:=
center>&nbsp;<o:p></o:p></p></body></html>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jan 15 13:20:59 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 15 Jan 2002 14:20:59 +0100 (MET)
Subject: [Rd] La.eigen() segfaults (asymmetric , only.values = TRUE) (PR#1262)
Message-ID: <200201151320.OAA29746@pubhealth.ku.dk>

The following produces a segmentation fault in R 1.4.0

    La.eigen(matrix(1:4, 2), only.values = TRUE)

It won't anymore in 1.4.1
since I'm about to commit a patch to modules/Lapack.c

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Tue Jan 15 13:39:02 2002
From: a296180@mica.fmr.com (David Kane  <David Kane)
Date: Tue, 15 Jan 2002 08:39:02 -0500
Subject: [Rd] 1.4.1 release date
Message-ID: <15428.12534.267549.539827@gargle.gargle.HOWL>

Has the likely release date for R 1.4.1 been set? Apologies if there is some
obvious place on the web site that I could have looked this up at. We are eager
to upgrade to 1.4, but some of the bugs matter to us. We have played around
with the patched code, but have mainly succeeded in demonstrating that we need
to learn more about UNIX code development . . .

Thanks to all for a most excellent program. 

Regards,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 15 14:07:14 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jan 2002 15:07:14 +0100
Subject: [Rd] 1.4.1 release date
In-Reply-To: <15428.12534.267549.539827@gargle.gargle.HOWL>
References: <15428.12534.267549.539827@gargle.gargle.HOWL>
Message-ID: <x2ita3wvvx.fsf@blueberry.kubism.ku.dk>

"David Kane  <David Kane" <a296180@mica.fmr.com> writes:

> Has the likely release date for R 1.4.1 been set? Apologies if there is some
> obvious place on the web site that I could have looked this up at.

It's generally announced on developer.r-project.org, but currently
that only says that a date hasn't been set.

It's "under consideration"... The release manager (i.e. me) has a book
deadline on Feb. 1, so wants to keep his nose down, but on the other
hand he also wants to be able to refer to a bugfixed version, so a
release towards the end of January is definitely possible. I should
have a better estimate around the weekend.

At any rate, now is a good time for people to try out their old code
and see if they can scare up some new bugs. Or maybe even debug and
file patches for things already reported. 

> We are eager
> to upgrade to 1.4, but some of the bugs matter to us. We have played around
> with the patched code, but have mainly succeeded in demonstrating that we need
> to learn more about UNIX code development . . .
> 
> Thanks to all for a most excellent program. 

(Which bugs were bothering you and have they been fixed?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Tue Jan 15 14:19:12 2002
From: a296180@mica.fmr.com (David Kane  <David Kane)
Date: Tue, 15 Jan 2002 09:19:12 -0500
Subject: [Rd] 1.4.1 release date
In-Reply-To: <x2ita3wvvx.fsf@blueberry.kubism.ku.dk>
References: <15428.12534.267549.539827@gargle.gargle.HOWL>
 <x2ita3wvvx.fsf@blueberry.kubism.ku.dk>
Message-ID: <15428.14944.90321.404661@gargle.gargle.HOWL>

Peter Dalgaard BSA writes:
 > At any rate, now is a good time for people to try out their old code
 > and see if they can scare up some new bugs. Or maybe even debug and
 > file patches for things already reported. 

We have run a large amount of our code through 1.4.0 and noticed nothing amiss
(except the two items below).

 > (Which bugs were bothering you and have they been fixed?)

The rounding issue and the as.is=TRUE. Both have been fixed (as we can see by
for ourselves in R-patched). 

Regards,

Dave Kane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Tue Jan 15 16:12:42 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Tue, 15 Jan 2002 17:12:42 +0100 (MET)
Subject: [Rd] labels returned by cut() when include.lowest=T (PR#1263)
Message-ID: <200201151612.RAA04275@pubhealth.ku.dk>

Full_Name: Stephen Eglen
Version: 1.4
OS: Redhat Linux 7.1
Submission from: (NULL) (128.252.204.36)


I think the brackets in the levels of cut() are slightly incorrect when
include.lowest is TRUE.

For example:

> table(cut( c(1,4), include.lowest=T, right=F, breaks=c(1,2,3,4)))

[1,2) [2,3) [3,4) 
    1     0     1 

I think the last range in this case should be [3,4].  A similar
problem exists for the first range when right=T.

Here is a possible patch against 1.4.0, which on the above example gives:
[1,2) [2,3) [3,4] 
    1     0     1 

Stephen

*** /tmp/cut.R.orig716Cri	Mon Jan 14 22:58:12 2002
--- /tmp/cut.R716P1o	Mon Jan 14 22:58:12 2002
***************
*** 25,30 ****
--- 25,35 ----
  			 ch.br[-nb], ",", ch.br[-1],
  			 if(right)"]" else ")", sep='')
  	    else paste("Range", 1:(nb - 1),sep="_")
+         if (ok && include.lowest)
+           if (right)
+             labels[1] <- sub("\\(", "\\[", labels[1])
+           else
+             labels[nb-1] <- sub(")", "]", labels[nb-1])
      } else if (is.logical(labels) && !labels)
          codes.only <- TRUE
      else if (length(labels) != nb-1)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jan 15 17:07:56 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 15 Jan 2002 18:07:56 +0100 (MET)
Subject: [Rd] labels returned by cut() when include.lowest=T (PR#1263)
Message-ID: <200201151707.SAA04859@pubhealth.ku.dk>

>>>>> "StEgl" == Stephen Eglen <stephen@cogsci.ed.ac.uk> writes:

    StEgl> Full_Name: Stephen Eglen
    StEgl> Version: 1.4
    StEgl> OS: Redhat Linux 7.1
    StEgl> Submission from: (NULL) (128.252.204.36)


    StEgl> I think the brackets in the levels of cut() are
    StEgl> slightly incorrect when include.lowest is TRUE.

    StEgl> For example:

    >> table(cut( c(1,4), include.lowest=T, right=F, breaks=c(1,2,3,4)))

    StEgl> [1,2) [2,3) [3,4) 
    StEgl> 1     0     1 

    StEgl> I think the last range in this case should be [3,4].  A similar
    StEgl> problem exists for the first range when right=T.

    StEgl> Here is a possible patch against 1.4.0, which on the
    StEgl> above example gives:

    StEgl> [1,2) [2,3) [3,4] 
    StEgl> 1     0     1 

    StEgl> Stephen

  *** /tmp/cut.R.orig716Cri	Mon Jan 14 22:58:12 2002
  --- /tmp/cut.R716P1o	Mon Jan 14 22:58:12 2002
  ***************
  *** 25,30 ****
  --- 25,35 ----
			   ch.br[-nb], ",", ch.br[-1],
			   if(right)"]" else ")", sep='')
	      else paste("Range", 1:(nb - 1),sep="_")
  +         if (ok && include.lowest)
  +           if (right)
  +             labels[1] <- sub("\\(", "\\[", labels[1])
  +           else
  +             labels[nb-1] <- sub(")", "]", labels[nb-1])
	} else if (is.logical(labels) && !labels)
	    codes.only <- TRUE
	else if (length(labels) != nb-1)

------

Thank you.
{I've fixed it using  ``substring() <- '' instead of sub()}.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Tue Jan 15 19:54:55 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Tue, 15 Jan 2002 20:54:55 +0100 (MET)
Subject: [Rd] typos in hist.Rd (PR#1264)
Message-ID: <200201151954.UAA05683@pubhealth.ku.dk>

Full_Name: Stephen Eglen
Version: 1.5 (development version)
OS: Redhat Linux 7.1
Submission from: (NULL) (128.252.204.36)


Hi, here are a few typos in hist.Rd, from the version in R-devel:

(line 24)      \item an function to compute

(line 49)    is to use the standard foregound color.
Should be FOREGROUND.


I also noted use of both "color" and "colour".  If both are okay, then fine.
Otherwise, it seems that color is more popular in the docs:

R/src/library/base/man 43 grep 'color' *.Rd| wc
    216    1784   14632
R/src/library/base/man 44 grep 'colour' *.Rd| wc
     13     136     936

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kohnicho@comp.nus.edu.sg  Wed Jan 16 06:16:02 2002
From: kohnicho@comp.nus.edu.sg (kohnicho@comp.nus.edu.sg)
Date: Wed, 16 Jan 2002 07:16:02 +0100 (MET)
Subject: [Rd] bug in survival package basehaz function (PR#1266)
Message-ID: <200201160616.HAA07145@pubhealth.ku.dk>

Hi,
In the survival analysis package the function basehaz has 2 errors in the
last line
   return(data.frame(hazard=H,time=surv$time,strata=strata))

1) no object surv is created or passed to the function, it should be sfit
2) If there are no strata data.frame barfs bucause strata is NULL

the following is a work around, there may be a better way.
   if(!is.null(strata))
   return(data.frame(hazard=H,time=sfit$time,strata=strata))
   else
   return(data.frame(hazard=H,time=sfit$time))

below is all the version info.

Nicholas

Title: Survival analysis, including penalised likelihood.
Maintainer: Thomas Lumley <tlumley@u.washington.edu>
Priority: recommended
Package: survival
Version: 2.8-2
Requires: R (>= 1.4.0)
Author: S original by Terry Therneau, ported by Thomas Lumley
Description: survival analysis: descriptive statistics, two-sample
  tests, parametric accelerated failure models, Cox model. Delayed entry
  (truncation) allowed for all models; interval censoring for parametric
  models.
License: GPL2



platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R                



                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin@iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho@comp.nus.edu.sg


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Wed Jan 16 23:09:32 2002
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Thu, 17 Jan 2002 00:09:32 +0100 (MET)
Subject: [Rd] round() doesn't (PR#1139)
Message-ID: <200201162309.AAA20378@pubhealth.ku.dk>

Hi, all,

In PR#1138 and PR#1139, I pointed out that round() with digits<0 would not
actually round to an integer.  Brian D. Ripley (hereafter BDR) fixed it in
R-1.4.0, but the fix introduced a new error, PR#1254 (caught by Ole
Christensen).  BDR (I'm guessing) fixed the fix; here's the relevant line from
fround.c:

  if(dig <= 0 && fabs(res) < 1e9) res = (int)floor(res + 0.5);

This solution casts the result as int if it's under a billion, but it
re-introduces the original problem for large numbers:

  R-patched 01/13/2002> round(1e15, -2) - 1e15
                        [1] -0.25

So I'd ask to re-open PR#1139, and suggest another look at the "fround" C
function that I posted (in a followup) on 10/24/2001 (copied below).  I
substituted it into src/nmath/fround.c, successfully re-built R, and it works.
It handles the 3 cases dig=0, dig>0, and dig<0 separately, avoids the roundoff
errors that were occurring for dig<0, and avoids a call to R_pow_di altogether
when dig=0.  It gets the correct answer "0" in the above example.

Here are a few explicit test cases; the last one fails in R-patched 01/13/2002,
but all work with my "fround".
  all.equal(round(1234.5678,  2),         1234.57)
  all.equal(round(1234.5678,  0),         1235)
  all.equal(round(1234.5678, -2),         1200)
  all.equal(round(100000/3,  -2) - 33300, 0)
  all.equal(round(1e15,      -2) - 1e15,  0)  # Fails in R-patched

Thanks to all for a great program, and congratulations on the release of 1.4.0!

---- begin C code for fround.c: ----

double fround(double x, double digits) {
#define MAX_DIGITS DBL_MAX_10_EXP
    /* = 308 (IEEE); was till R 0.99: (DBL_DIG - 1) */
    /* Note that large digits make sense for very small numbers */
    double pow10, sgn, intx;
    int dig;

#ifdef IEEE_754
    if (ISNAN(x) || ISNAN(digits))
	return x + digits;
    if(!R_FINITE(x)) return x;
#endif

    if (digits > MAX_DIGITS)
	digits = MAX_DIGITS;
    dig = (int)floor(digits + 0.5);
    if(x < 0.) {
	sgn = -1.;
	x = -x;
    } else
	sgn = 1.;
    if (dig == 0) {
      return sgn * R_rint(x);
    } else if (dig > 0) {
        pow10 = R_pow_di(10., dig);
	intx = floor(x);
	return sgn * (intx + R_rint((x-intx) * pow10) / pow10);
    } else {
        pow10 = R_pow_di(10., -dig);
        return sgn * R_rint(x/pow10) * pow10;
    }
}
---- end C code ----
                              -- David Brahm (brahm@alum.mit.edu)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Jan 17 00:30:08 2002
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Thu, 17 Jan 2002 01:30:08 +0100 (MET)
Subject: [Rd] hashing NaN (PR#1267)
Message-ID: <200201170030.BAA20702@pubhealth.ku.dk>


Different NaNs can hash to different values and so be treated differently
by duplicated(), unique(), match(). Any IEEE double value with exponent
bits all 1 is NaN (except the one that is NA).

AFAICT all arithmetic and mathematical operations in R produce the same
NaN, but this is not guaranteed by any standard. read.spss() will produce
different NaNs when reading missing values in at least some circumstances.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gm81640@development.nssmb.com  Thu Jan 17 05:28:37 2002
From: gm81640@development.nssmb.com (gm81640@development.nssmb.com)
Date: Thu, 17 Jan 2002 06:28:37 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
Message-ID: <200201170528.GAA21628@pubhealth.ku.dk>

Full_Name: Geordon Marchak
Version: R-1.3.1
OS: Solaris 2.6
Submission from: (NULL) (199.67.239.91)


Got the following error when compiling on Solaris 2.6 with the standard GNU
gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
too :-)

# make
`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
".subsection"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
".previous"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
*** Error code 1
make: Fatal error: Command failed for target `lbfgsb.o'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gm81640@development.nssmb.com  Thu Jan 17 05:28:50 2002
From: gm81640@development.nssmb.com (gm81640@development.nssmb.com)
Date: Thu, 17 Jan 2002 06:28:50 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1269)
Message-ID: <200201170528.GAA21642@pubhealth.ku.dk>

Full_Name: Geordon Marchak
Version: R-1.3.1
OS: Solaris 2.6
Submission from: (NULL) (199.67.239.91)


Got the following error when compiling on Solaris 2.6 with the standard GNU
gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
too :-)

# make
`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
".subsection"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
".previous"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
*** Error code 1
make: Fatal error: Command failed for target `lbfgsb.o'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From angelus@truthmail.com  Thu Jan 17 06:35:21 2002
From: angelus@truthmail.com (angelus@truthmail.com)
Date: Thu, 17 Jan 2002 07:35:21 +0100 (MET)
Subject: [Rd] Notification:  You are hereby..... (PR#1270)
Message-ID: <200201170635.HAA21846@pubhealth.ku.dk>

Notification:

You are hereby challenged to see What the Media doen't want you to know.

The Truth about Abortion with your own eyes.

at http://www.getabortion.info

What you will never see on TV.

Its not a blob of tissue.  Every scientist , even those for abortion, will 
tell you that life begins at conception.  Once the egg and sperm join there 
is human life.

Why won't the media show you this?

They show open heart surgery, liver transplants and other operations on tv 
and cable.

Why not an abortion?

You can watch real videos online from former abortion doctors who have 
performed up to 75000 abortions, hear what they have to say about abortion.

Did you know that abortion is perfectly legal through all nine months of 
pregnancy, including the day of birth?

Did you know that in most states a child under the age of 16 can get an 
abortion without their parents knowing?

Anyone can plainly see that we are killing our own.

On September 11th 5000 people were killed.  Abortion in the US alone kills 
over 4000 children per day that's an average of one innocent unborn human 
murdered every 22 seconds!

An entire genertion has been slaughtered.

Overpopulation is a myth, back room abortions are a falsehood propagated by 
the money mongers of the industry.

See it for yourself.

http://getabortion.info
























































































































-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 17 08:37:53 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 17 Jan 2002 09:37:53 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
Message-ID: <200201170837.JAA23228@pubhealth.ku.dk>

On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:

> Full_Name: Geordon Marchak
> Version: R-1.3.1
> OS: Solaris 2.6
> Submission from: (NULL) (199.67.239.91)
>
>
> Got the following error when compiling on Solaris 2.6 with the standard GNU
> gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> too :-)

You sent this twice, for some reason.

It's hard to tell what `the standard GNU gcc package (from the Sun site)'
actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
between your compiler and your assembler.  I don't think that qualifies as
a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
seem to be valid C that is accepted by a wide range of compilers on
Solaris and elsewhere.


> # make
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> ".subsection"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> ".previous"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> *** Error code 1
> make: Fatal error: Command failed for target `lbfgsb.o'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.heffernan@orcina.com  Thu Jan 17 08:54:15 2002
From: david.heffernan@orcina.com (david.heffernan@orcina.com)
Date: Thu, 17 Jan 2002 09:54:15 +0100 (MET)
Subject: [Rd] detach(package:base) kills R (PR#1271)
Message-ID: <200201170854.JAA23580@pubhealth.ku.dk>

Full_Name: David Heffernan
Version: 1.3.1
OS: Windows & Linux
Submission from: (NULL) (158.152.160.7)


The command detach(package:base) kills R with segmentation fault on Linux and an
access violation on Windows.  I guess the same will happen on any platform. 
Obviously this is a not a sensible command to execute but you could easily do it
by accident particularly if using the pos parameter to detach and getting it
wrong.

It seems to me that an obvious fix is to report an error in do_detach in envir.c
if the base package is the one which the caller is attempting to detach.

As a related issue it seems bad that when R crashes it doesn't give you a chance
to save your workspace.  In fact, why does an access violation have to cause
termination?  At the least the user should get a chance to save their workspace
before termination.  At best R would report the error an carry running.

By the way, it's a great piece of software!!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 17 10:45:33 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jan 2002 11:45:33 +0100
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
In-Reply-To: <200201170837.JAA23228@pubhealth.ku.dk>
References: <200201170837.JAA23228@pubhealth.ku.dk>
Message-ID: <x2g055cl2q.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.

Assuming that the "Sun site" means www.sunfreeware.com, I seem to
recall that you get in trouble if you use gcc3 without GNU binutils.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 17 10:53:37 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jan 2002 11:53:37 +0100
Subject: [Rd] detach(package:base) kills R (PR#1271)
In-Reply-To: <200201170854.JAA23580@pubhealth.ku.dk>
References: <200201170854.JAA23580@pubhealth.ku.dk>
Message-ID: <x2bsftckpa.fsf@blueberry.kubism.ku.dk>

david.heffernan@orcina.com writes:

> The command detach(package:base) kills R with segmentation fault on Linux and an
> access violation on Windows.  I guess the same will happen on any platform. 
> Obviously this is a not a sensible command to execute but you could easily do it
> by accident particularly if using the pos parameter to detach and getting it
> wrong.
> 
> It seems to me that an obvious fix is to report an error in do_detach in envir.c
> if the base package is the one which the caller is attempting to detach.

Yes, it still does this in 1.4.0. And the fixup would be something
like that.

> As a related issue it seems bad that when R crashes it doesn't give you a chance
> to save your workspace.  In fact, why does an access violation have to cause
> termination?  At the least the user should get a chance to save their workspace
> before termination.  At best R would report the error an carry running.
> 
> By the way, it's a great piece of software!!

These types of error are handled by the OS. It is difficult, if not
impossible, to get the program back in control. Even if you do,
there's a rather large risk that the workspace has been corrupted.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 17 19:02:30 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Jan 2002 19:02:30 +0000 (GMT)
Subject: [Rd] RE: MKL seems to beat ATLAS, but some problems... (was RE: [R] li
 nkin g R against MKL)
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC84BE@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0201171852140.23495-100000@gannet.stats>

On Thu, 17 Jan 2002, Liaw, Andy wrote:

> Prof. Ripley,
>
> > From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
>
> [snipped...]
>
> > R cannot currently make use of anyone else's LAPACK routines (because
> > we've found too many problems with them).
> >
> > If you are getting no useful diagnostics, try
> > dyn.load("RHOME/modules/lapack.so").  That ought to tell you
> > why you can't
> > load it.  My guess would be to do with libraries, so do an ldd on
> > lapack.so and check that all the dependencies are resolved as
> > you expect.
>
> I wonder if the problem is the clash between the Lapack routines in MKL and
> those packaged with R.


> Sorry, but seems like I need a bit more spoon-feeding:
> I did the dyn.load, and got:
>         unable to load shared library
> "/home/andy/R-patched-mkl/modules/lapack.so":
>   /home/andy/R-patched-mkl/modules/lapack.so: undefined symbol: lsame_

Right, that's it.  LSAME is a BLAS routine, and your BLAS doesn't have
it.  There is a version in src/appl/blas.f, but you don't seem to
have a complete BLAS to link against.

If you really have a complete LAPACK3 (which I would not bet on)
you can try building in src/modules/lapack omitting double.f and
complex.f: you will need to rename a few entry points in Lapack.h
as they have already been changed to avoid conflicts with sunperf
(I think).  See also the comments in the README there.

[....]

> Looks like all the libraries it needs are there, but why can't it find those
> undefined symbols?

They are in R.bin itself.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Thu Jan 17 20:17:44 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Thu, 17 Jan 2002 15:17:44 -0500
Subject: [Rd] solved(?) (was RE: MKL seems to beat ATLAS, but some
 problems...)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC84C1@usrymx10.merck.com>

Prof. Ripley,
 
> > Sorry, but seems like I need a bit more spoon-feeding:
> > I did the dyn.load, and got:
> >         unable to load shared library
> > "/home/andy/R-patched-mkl/modules/lapack.so":
> >   /home/andy/R-patched-mkl/modules/lapack.so: undefined 
> symbol: lsame_
> 
> Right, that's it.  LSAME is a BLAS routine, and your BLAS doesn't have
> it.  There is a version in src/appl/blas.f, but you don't seem to
> have a complete BLAS to link against.

Strangely, I found lsame in libmkl_lapack.a (which I guess is the Lapack
part of MKL).  I did a real ugly hack: I inserted the link flags to this
library in RHOME/src/modules/lapack/Makefile, where lapack.so is built.
That seems to have solved the problem.  The resulting build passes make
check w/o any error.

> If you really have a complete LAPACK3 (which I would not bet on)
> you can try building in src/modules/lapack omitting double.f and
> complex.f: you will need to rename a few entry points in Lapack.h
> as they have already been changed to avoid conflicts with sunperf
> (I think).  See also the comments in the README there.

I think I'll just follow the advise in that README file, at least for now...

Thanks very much for your help!

Regards,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Jan 17 20:26:13 2002
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Thu, 17 Jan 2002 21:26:13 +0100 (MET)
Subject: [Rd] eigen segfault with GCC 3 on Solaris (PR#1272)
Message-ID: <200201172026.VAA03052@pubhealth.ku.dk>

A message this morning reminded me of a previous problem I had which should be
noted in R bugs, but is really a problem with gcc 3 I believe. It may be only a
problem on Solaris, but AFAIK has not been checked on other platforms. I
resolved it by going back to a gcc 2.9x.x (which a few people suggested). Below
is the relevant part of my original post, an example which provokes the
segfault, and some gdb information from Peter Dalgaard.

PG>I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example
I
PG>previously posted (repeated below) still gives a segmentation fault, as it
does
PG>with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to
be
PG> repeated several times before the segmentation fault occurs. La.eigen does
not
PG> cause a problem. (The problem occurred with R-devel too, but I have not
tested
PG> that with GCC 3.0.2.)

PD>I don't know if it helps, but I see it too... 3.0.1 on Solaris 2.7.
PD>
PD>gdb says that it is happening at l.2144 of eigen.f:
PD>
PD>2142    C
PD>2143                DO 760 J = M, EN
PD>2144                   RA = RA + H(I,J) * H(J,NA)
PD>2145                   SA = SA + H(I,J) * H(J,EN)
PD>2146      760       CONTINUE
PD>2147    C
PD>
PD>J prints as 7289784 for me, which looks a bit weird since M and EN are
PD>17 and 18 respectively. However, optimizers sometimes cause this sort
PD>of thing.

----- example -----


zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
Segmentation Fault - core dumped

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Jan 18 13:21:52 2002
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 18 Jan 2002 08:21:52 -0500
Subject: [Rd] Should dots be used in generic functions?
Message-ID: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>

When writing generic functions, should "..." arguments be routinely
used?  

The Writing R Extensions manual says that if it is used, all
descendant methods must use it too.  In most cases in the R library
source, the generic has the dots, often documented as parameters for
the descendants (e.g. profile does this).  In the case of profile, the
descendants declare the dots, but don't make use of them. 

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 14:07:39 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 14:07:39 +0000 (GMT)
Subject: [Rd] Should dots be used in generic functions?
In-Reply-To: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>
Message-ID: <Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>

On Fri, 18 Jan 2002, Duncan Murdoch wrote:

> When writing generic functions, should "..." arguments be routinely
> used?
>
> The Writing R Extensions manual says that if it is used, all
> descendant methods must use it too.  In most cases in the R library
> source, the generic has the dots, often documented as parameters for
> the descendants (e.g. profile does this).  In the case of profile, the
> descendants declare the dots, but don't make use of them.

You mean the `methods' (they are not really descendants of anything)?  If
so, you can't tell, as anyone can write a method.  In this case there are
methods profile.nls and profile.glm, and they each have arguments that the
generic and the other method does not have, so they do make use of the ...
in the generic.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From vinod.rajakumar@vectorpartners.com  Fri Jan 18 14:17:10 2002
From: vinod.rajakumar@vectorpartners.com (vinod.rajakumar@vectorpartners.com)
Date: Fri, 18 Jan 2002 15:17:10 +0100 (MET)
Subject: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)
Message-ID: <200201181417.PAA13605@pubhealth.ku.dk>

Full_Name: vinod rajakumar
Version: R-1.4.0
OS: Solaris 5.8
Submission from: (NULL) (66.9.157.2)



my machine looks like:
SunOS 5.8 Generic_108528-07 sun4u sparc SUNW,Sun-Blade-1000 (64-bit)

I downloaded the zipped R-1.4.0 files into $HOME/dwnlds, unzipped, un-tar-ed, 
and ran the following:

export MAKE=gmake
export CC = gcc
./configure --prefix=$HOME/sfw/R
gmake

and here's where it failed:

gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:672: #error code requires that int have 32 bits

I did a double-check and sizeof(int) is 32 bits, any advice?

thank you,
vinod

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 14:31:08 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 18 Jan 2002 15:31:08 +0100 (MET)
Subject: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)
Message-ID: <200201181431.PAA13779@pubhealth.ku.dk>

On Fri, 18 Jan 2002 vinod.rajakumar@vectorpartners.com wrote:

> Full_Name: vinod rajakumar
> Version: R-1.4.0
> OS: Solaris 5.8
> Submission from: (NULL) (66.9.157.2)
>
>
>
> my machine looks like:
> SunOS 5.8 Generic_108528-07 sun4u sparc SUNW,Sun-Blade-1000 (64-bit)
>
> I downloaded the zipped R-1.4.0 files into $HOME/dwnlds, unzipped, un-tar-ed,
> and ran the following:
>
> export MAKE=gmake
> export CC = gcc
> ./configure --prefix=$HOME/sfw/R
> gmake
>
> and here's where it failed:
>
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> arithmetic.c:672: #error code requires that int have 32 bits
>
> I did a double-check and sizeof(int) is 32 bits, any advice?

INT_32_BITS is tested during configure, so you need to look to see what it
did: possibly config.log will help.

I have seen this when the LD_LIBRARY_PATH was not set to allow the
libraries to be found.  You don't tell us which version of gcc, but
gcc 3.0.x needs libgcc.so.

R does build with gcc 3.0.2 on Solaris 7, for example, so there is almost
certainly no problem other than local to you.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Jan 18 14:50:23 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 18 Jan 2002 09:50:23 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>
Message-ID: <3C48362F.2856D89@research.bell-labs.com>

Duncan Murdoch wrote:
> 
> When writing generic functions, should "..." arguments be routinely
> used?
> 
> The Writing R Extensions manual says that if it is used, all
> descendant methods must use it too.  In most cases in the R library
> source, the generic has the dots, often documented as parameters for
> the descendants (e.g. profile does this).  In the case of profile, the
> descendants declare the dots, but don't make use of them.
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

A comment on this for the formal ("S4") methods, where a similar
discussion came up.

The concept we're developing is that the formal arguments of the generic
function and each of its methods must "conform".  This means that they
should have identical arguments, with two exceptions:

1- the method can omit formal arguments from the generic, which is
interpreted as identical to having the omitted arguments in the method
signature with class "missing";

2- the method can have arguments not in the generic if the generic has
..., with the interpretation that the actual arguments matching ... may
correspond to the extra arguments.

There are some additional constraints, such as consistent order of
common arguments, to attempt to ensure sanity.

The r-devel version of the methods package has both these extensions,
the 1.4 version has the first (with a bug in handling ... that's fixed
in r-patched).

This somewhat extends the green book (and the current S-Plus
implementation), but it seems to correspond to useful techniques for
applications.  I'm hopeful that we can iron out a good API, and then
have both R and S-Plus implement it.

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Jan 18 15:48:46 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 18 Jan 2002 10:48:46 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <3C48362F.2856D89@research.bell-labs.com>
Message-ID: <3C4843DE.58B734DD@bank-banque-canada.ca>

John Chambers wrote:

> 2- the method can have arguments not in the generic if the generic has
> ..., with the interpretation that the actual arguments matching ... may
> correspond to the extra arguments.

In this case, would the method have ... as well, or not?

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Jan 18 15:59:01 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 18 Jan 2002 10:59:01 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <3C48362F.2856D89@research.bell-labs.com> <3C4843DE.58B734DD@bank-banque-canada.ca>
Message-ID: <3C484645.C75F29FB@research.bell-labs.com>

Paul Gilbert wrote:
> 
> John Chambers wrote:
> 
> > 2- the method can have arguments not in the generic if the generic has
> > ..., with the interpretation that the actual arguments matching ... may
> > correspond to the extra arguments.
> 
> In this case, would the method have ... as well, or not?

Subject to discussion .... Either seems plausible.  What currently
happens is that setMethod constructs a method that contains the
programmer's supplied definition as a local function and calls it
(needed so that argument re-matching can take place).

An advantage of the method not having ... is that errors in naming
arguments are more likely to be caught.

John

> 
> Paul Gilbert
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Jan 18 16:11:34 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 18 Jan 2002 11:11:34 -0500
Subject: [Rd] Should dots be used in generic functions?
In-Reply-To: <Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>
Message-ID: <sshg4ucl0pdjkuv9dclqnfbmicb0s615jk@4ax.com>

On Fri, 18 Jan 2002 14:07:39 +0000 (GMT), you wrote in message
<Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>:

>On Fri, 18 Jan 2002, Duncan Murdoch wrote:
>
>> When writing generic functions, should "..." arguments be routinely
>> used?
>>
>> The Writing R Extensions manual says that if it is used, all
>> descendant methods must use it too.  In most cases in the R library
>> source, the generic has the dots, often documented as parameters for
>> the descendants (e.g. profile does this).  In the case of profile, the
>> descendants declare the dots, but don't make use of them.
>
>You mean the `methods' (they are not really descendants of anything)?  If
>so, you can't tell, as anyone can write a method.  In this case there are
>methods profile.nls and profile.glm, and they each have arguments that the
>generic and the other method does not have, so they do make use of the ...
>in the generic.

I was stupid, I didn't realize that if you don't have ... in the
generic, then you can't use the generic to call methods with new
parameters.

This is way too late to be changed in the old objects, but I'd suggest
a change in the new system, so that there is a way to detect errors in
the parameters used when calling a method.  Right now, if the
Extensions manual advice is followed, the only way to do that is to
add an explicit test at the start of the method:

if(length(list(...))) stop('args not matched')

Duncan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 16:16:58 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 18 Jan 2002 17:16:58 +0100 (MET)
Subject: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)
Message-ID: <200201181616.RAA15135@pubhealth.ku.dk>

Filing this for the record.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

---------- Forwarded message ----------
Date: Fri, 18 Jan 2002 10:49:52 -0500
From: Vinod Rajakumar <vinod.rajakumar@vectorpartners.com>
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Subject: Re: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)


Thanks so much. I am not very familiar with Unix and your suggestions helped
tremendously

this is the gcc I have:
gcc version 2.95.2 19991024

gcc is installed on /opt/sfw, and you were correct regarding LD_LIBRARY_PATH, I
have compiled and successfully installed R. here's what I did:

gmake distclean

export
LD_LIBRARY_PATH=/opt/sfw/lib:/opt/sfw/lib/gcc-lib/sparc-sun-solaris2.8/2.95.2/
./configure --prefix=$HOME/sfw/R
gmake
gmake check
gmake install

Best regards,
Vinod Rajakumar


Prof Brian Ripley wrote:

> On Fri, 18 Jan 2002 vinod.rajakumar@vectorpartners.com wrote:
>
> > Full_Name: vinod rajakumar
> > Version: R-1.4.0
> > OS: Solaris 5.8
> > Submission from: (NULL) (66.9.157.2)
> >
> >
> >
> > my machine looks like:
> > SunOS 5.8 Generic_108528-07 sun4u sparc SUNW,Sun-Blade-1000 (64-bit)
> >
> > I downloaded the zipped R-1.4.0 files into $HOME/dwnlds, unzipped, un-tar-ed,
> > and ran the following:
> >
> > export MAKE=gmake
> > export CC = gcc
> > ./configure --prefix=$HOME/sfw/R
> > gmake
> >
> > and here's where it failed:
> >
> > gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> > -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> > arithmetic.c:672: #error code requires that int have 32 bits
> >
> > I did a double-check and sizeof(int) is 32 bits, any advice?
>
> INT_32_BITS is tested during configure, so you need to look to see what it
> did: possibly config.log will help.
>
> I have seen this when the LD_LIBRARY_PATH was not set to allow the
> libraries to be found.  You don't tell us which version of gcc, but
> gcc 3.0.x needs libgcc.so.
>
> R does build with gcc 3.0.2 on Solaris 7, for example, so there is almost
> certainly no problem other than local to you.
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Jan 18 16:16:49 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 18 Jan 2002 11:16:49 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <3C48362F.2856D89@research.bell-labs.com> <3C4843DE.58B734DD@bank-banque-canada.ca> <3C484645.C75F29FB@research.bell-labs.com>
Message-ID: <3C484A71.8928AE3E@bank-banque-canada.ca>

John Chambers wrote:
> 
> Paul Gilbert wrote:
> >
> > John Chambers wrote:
> >
> > > 2- the method can have arguments not in the generic if the generic has
> > > ..., with the interpretation that the actual arguments matching ... may
> > > correspond to the extra arguments.
> >
> > In this case, would the method have ... as well, or not?
> 
> Subject to discussion .... Either seems plausible.  What currently
> happens is that setMethod constructs a method that contains the
> programmer's supplied definition as a local function and calls it
> (needed so that argument re-matching can take place).
> 
> An advantage of the method not having ... is that errors in naming
> arguments are more likely to be caught.
> 
This seems to bring things back much closer to the way my code is currently
written. I guess I will wait for the final outcome before I add ... to all my
methods. (It is much harder to take out then it is to add, and I do like the
error catching feature.)

Thanks,
Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Jan 18 17:06:57 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 18 Jan 2002 12:06:57 -0500
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
Message-ID: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>

I'm writing functions that need to behave differently for
GLMs like binomial and Poisson with fixed deviance, and those like
normal or gamma or quasi where the deviance is estimated from the
data.  Given a glm object, is there a simple way to tell this
directly, or do I have to look at the name of the family?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Jan 18 17:13:07 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 18 Jan 2002 18:13:07 +0100
Subject: [Rd] Should dots be used in generic functions?
In-Reply-To: <3C484645.C75F29FB@research.bell-labs.com>
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>
 <3C48362F.2856D89@research.bell-labs.com>
 <3C4843DE.58B734DD@bank-banque-canada.ca>
 <3C484645.C75F29FB@research.bell-labs.com>
Message-ID: <15432.22435.773412.10170@gargle.gargle.HOWL>

>>>>> "John" == John Chambers <jmc@research.bell-labs.com> writes:

    John> Paul Gilbert wrote:
    >> 
    >> John Chambers wrote:
    >> 
    >> > 2- the method can have arguments not in the generic if the generic has
    >> > ..., with the interpretation that the actual arguments matching ... may
    >> > correspond to the extra arguments.
    >> 
    >> In this case, would the method have ... as well, or not?

    John> Subject to discussion .... Either seems plausible.  What currently
    John> happens is that setMethod constructs a method that contains the
    John> programmer's supplied definition as a local function and calls it
    John> (needed so that argument re-matching can take place).

    John> An advantage of the method not having ... is that errors in naming
    John> arguments are more likely to be caught.

Indee.  Leading to much better / understandable error messages in
	  many cases; (etc... you know my stories on this subject)
I'd vote quite emphatically for not requiring these in the method
-- as Paul and Duncan did in the mean time.

 (Finally a really compelling reason to switch to the new method system :-) ;-)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Fri Jan 18 17:14:54 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Fri, 18 Jan 2002 09:14:54 -0800 (PST)
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>
Message-ID: <Pine.A41.4.44.0201180913240.16914-100000@homer26.u.washington.edu>

On Fri, 18 Jan 2002, Duncan Murdoch wrote:

> I'm writing functions that need to behave differently for
> GLMs like binomial and Poisson with fixed deviance, and those like
> normal or gamma or quasi where the deviance is estimated from the
> data.  Given a glm object, is there a simple way to tell this
> directly, or do I have to look at the name of the family?
>

I assume you  mean dispersion rather than deviance.

You have to look.  This information can be specificied by the user to
summary.glm(), but not to glm() itself. Presumably the reason is that the
fit doesn't depend on the dispersion.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 17:26:01 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 17:26:01 +0000 (GMT)
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>
Message-ID: <Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>

On Fri, 18 Jan 2002, Duncan Murdoch wrote:

> I'm writing functions that need to behave differently for
> GLMs like binomial and Poisson with fixed deviance, and those like
> normal or gamma or quasi where the deviance is estimated from the
> data.  Given a glm object, is there a simple way to tell this
> directly, or do I have to look at the name of the family?

Did you mean dispersion fixed?

S/R do not take the dispersion into account: it is not in the fit.
It is used by the summary, predict and anova methods (and that's all as I
recall).  And they do look at the family name.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Jan 18 17:51:58 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 18 Jan 2002 12:51:58 -0500
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>
References: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com> <Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>
Message-ID: <g4og4ucbg9h2jj67ggkuorlnbficrp4vc9@4ax.com>

On Fri, 18 Jan 2002 17:26:01 +0000 (GMT), you wrote in message
<Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>:

>On Fri, 18 Jan 2002, Duncan Murdoch wrote:
>
>> I'm writing functions that need to behave differently for
>> GLMs like binomial and Poisson with fixed deviance, and those like
>> normal or gamma or quasi where the deviance is estimated from the
>> data.  Given a glm object, is there a simple way to tell this
>> directly, or do I have to look at the name of the family?
>
>Did you mean dispersion fixed?

Yes, that's what I meant.  Thanks to everyone for the quick responses!

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From smyth@wehi.edu.au  Sat Jan 19 06:52:57 2002
From: smyth@wehi.edu.au (Gordon Smyth)
Date: Sat, 19 Jan 2002 17:52:57 +1100
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <Pine.A41.4.44.0201180913240.16914-100000@homer26.u.washing
 ton.edu>
References: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>
Message-ID: <5.1.0.14.1.20020119171507.00ad5840@wehiz.wehi.edu.au>

I think that it could improve the glm family function to include an 
argument or attribute that tells explicitly that the dispersion is fixed, 
equivalent to the $scale declaration in GLIM. This would be set T by 
default for the binomial and Poisson families and F by default for most 
other families. This could be done I think in a way which would add extra 
features but would not contradict the S-Plus "Blue Book". In effect, I 
would like the dispersion to be considered part of the "fit" of a glm 
because it is needed for standard errors and hypothesis testing.

The advantage of an explicit fixed-dispersion-attribute would come when
(i) the dispersion happens to be known even though the dispersion is not 
always known for the response family being used. Eg the family is Gamma but 
you know that the responses are multiples of chi-square random variables on 
1 df.
(ii) someone defines a new glm family, other than the binomial or Poisson, 
with fixed dispersion
(iii) one want to use a binomial or Poisson family with variable 
dispersion, without switching to the quasi family.

In case (i), you can work around by calling summary with dispersion=2 (for 
chisquare_1 responses), but not all functions which take glm.objects as 
arguments have a dispersion argument. And in the spirit of object 
orientated programming, shouldn't the glm.object contain all the 
information necessary to construct a standard error or anova from it?

I am enjoying becoming a regular R user. Thanks to all for your work in 
providing a terrific piece of free software.
Gordon Smyth

At 09:14 AM 18/01/2002 -0800, Thomas Lumly wrote:
>On Fri, 18 Jan 2002, Duncan Murdoch wrote:
>
> > I'm writing functions that need to behave differently for
> > GLMs like binomial and Poisson with fixed deviance, and those like
> > normal or gamma or quasi where the deviance is estimated from the
> > data.  Given a glm object, is there a simple way to tell this
> > directly, or do I have to look at the name of the family?
> >
>
>I assume you  mean dispersion rather than deviance.
>
>You have to look.  This information can be specificied by the user to
>summary.glm(), but not to glm() itself. Presumably the reason is that the
>fit doesn't depend on the dispersion.
>
>
>         -thomas

---------------------------------------------------------------------------------------
Dr Gordon K Smyth, Bioinformatics,
Walter and Eliza Hall Institute of Medical Research,
Post Office, Royal Melbourne Hospital, Vic 3050
Tel: (03) 9345 2326, Fax (03) 9347 0852,
Email: smyth@wehi.edu.au, www: http://www.statsci.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jan 19 07:31:37 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Jan 2002 07:31:37 +0000 (GMT)
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <5.1.0.14.1.20020119171507.00ad5840@wehiz.wehi.edu.au>
Message-ID: <Pine.LNX.4.31.0201190716040.2728-100000@gannet.stats>

On Sat, 19 Jan 2002, Gordon Smyth wrote:

> I think that it could improve the glm family function to include an
> argument or attribute that tells explicitly that the dispersion is fixed,
> equivalent to the $scale declaration in GLIM. This would be set T by
> default for the binomial and Poisson families and F by default for most
> other families. This could be done I think in a way which would add extra
> features but would not contradict the S-Plus "Blue Book". In effect, I
> would like the dispersion to be considered part of the "fit" of a glm
> because it is needed for standard errors and hypothesis testing.

You would need to say what the fixed value is ....  So the obvious thing
would be to add a dispersion argument as used in summary.glm, predict.glm
and anova.glm, with the same semantics.

The argument against is S-compatibility. Many R users also use S-PLUS, and
R owes S-PLUS users for the majority of its software.  Some porting from R
to S-PLUS is now happening and I'd like to make that easy and to encourage
it.  (Hence some of the advice on generics/methods is stricter than it
needs to be for current R, but it is essential for current S.)

There is also a transitional issue, as stored glm objects would not have
the dispersion parameter set.  That makes this (quite a lot) harder to
implement, and I am rather against altering the definition of a class.

> The advantage of an explicit fixed-dispersion-attribute would come when
> (i) the dispersion happens to be known even though the dispersion is not
> always known for the response family being used. Eg the family is Gamma but
> you know that the responses are multiples of chi-square random variables on
> 1 df.
> (ii) someone defines a new glm family, other than the binomial or Poisson,
> with fixed dispersion
> (iii) one want to use a binomial or Poisson family with variable
> dispersion, without switching to the quasi family.

Take a closer look over (iii): there are quasibinomial and quasipoisson
families in R.

> In case (i), you can work around by calling summary with dispersion=2 (for
> chisquare_1 responses), but not all functions which take glm.objects as
> arguments have a dispersion argument. And in the spirit of object
> orientated programming, shouldn't the glm.object contain all the
> information necessary to construct a standard error or anova from it?

I believe all functions which need to know the dispersion do have a
dispersion argument (although that was not true a while back).  Can you
please list the exceptions?

I am not arguing against a change, but I am arguing for fully informed
discussion.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From smyth@wehi.edu.au  Sat Jan 19 09:41:41 2002
From: smyth@wehi.edu.au (Gordon Smyth)
Date: Sat, 19 Jan 2002 20:41:41 +1100
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <Pine.LNX.4.31.0201190716040.2728-100000@gannet.stats>
References: <5.1.0.14.1.20020119171507.00ad5840@wehiz.wehi.edu.au>
Message-ID: <5.1.0.14.1.20020119192356.00ad4008@wehiz.wehi.edu.au>

Thanks for your reply. My experience is mainly with S-Plus, so I must admit 
that I am coming from an uninformed viewpoint as far as glm functions in R 
is concerned. My apologies for this.

At 07:31 AM 19/01/2002 +0000, you wrote:
>On Sat, 19 Jan 2002, Gordon Smyth wrote:
>
> > I think that it could improve the glm family function to include an
> > argument or attribute that tells explicitly that the dispersion is fixed,
> > equivalent to the $scale declaration in GLIM. This would be set T by
> > default for the binomial and Poisson families and F by default for most
> > other families. This could be done I think in a way which would add extra
> > features but would not contradict the S-Plus "Blue Book". In effect, I
> > would like the dispersion to be considered part of the "fit" of a glm
> > because it is needed for standard errors and hypothesis testing.
>
>You would need to say what the fixed value is ....  So the obvious thing
>would be to add a dispersion argument as used in summary.glm, predict.glm
>and anova.glm, with the same semantics.
>
>The argument against is S-compatibility. Many R users also use S-PLUS, and
>R owes S-PLUS users for the majority of its software.  Some porting from R
>to S-PLUS is now happening and I'd like to make that easy and to encourage
>it.  (Hence some of the advice on generics/methods is stricter than it
>needs to be for current R, but it is essential for current S.)
>
>There is also a transitional issue, as stored glm objects would not have
>the dispersion parameter set.  That makes this (quite a lot) harder to
>implement, and I am rather against altering the definition of a class.

All good points.

I had in mind that glm would have an optional argument, prior.dispersion 
say, and that that argument would be passed to the glm.object as an 
optional component, just as prior.weights is an optional component in the 
glm.object in S-Plus. That would allow glm.objects without the 
prior.dispersion component to be treated just as at present. I notice now 
though that prior.weights is *always* present in R glm.objects even when 
weights was not present in the glm call, unlike S, so R may be working with 
a stricter class definition that is S.

The are already a number of components (aic, converged, boundary and 
xlevels) which are present in R glm.objects which are not present in S 
objects (at least not in S-Plus 2000 which is the most recent version that 
I have access to). So a prior.dispersion component would at least not be a 
precedent in that regard.

> > The advantage of an explicit fixed-dispersion-attribute would come when
> > (i) the dispersion happens to be known even though the dispersion is not
> > always known for the response family being used. Eg the family is Gamma but
> > you know that the responses are multiples of chi-square random variables on
> > 1 df.
> > (ii) someone defines a new glm family, other than the binomial or Poisson,
> > with fixed dispersion
> > (iii) one want to use a binomial or Poisson family with variable
> > dispersion, without switching to the quasi family.
>
>Take a closer look over (iii): there are quasibinomial and quasipoisson
>families in R.

Thanks for the pointers to quasibinomial and quaipoisson. They're not in 
S-Plus and I wasn't aware of them.

> > In case (i), you can work around by calling summary with dispersion=2 (for
> > chisquare_1 responses), but not all functions which take glm.objects as
> > arguments have a dispersion argument. And in the spirit of object
> > orientated programming, shouldn't the glm.object contain all the
> > information necessary to construct a standard error or anova from it?
>
>I believe all functions which need to know the dispersion do have a
>dispersion argument (although that was not true a while back).  Can you
>please list the exceptions?

R seems to be have been very careful in this regard, and your own 
contributions to the R project have no doubt gone a good way to making this 
true.

I had in mind the pointwise function. predict.glm accepts a dispersion 
argument, but when pointwise takes the output object from predict.glm, it 
"forgets" that the dispersion was known rather than estimated and uses a 
t-distribution instead of normal for the confidence intervals. (I notice 
now though that pointwise is not in the R base package, so this might not 
be a fair example.)

print.glm outputs AIC for the fitted model but doesn't accept a dispersion 
argument. The glm documentation says that AIC is computed "assuming that 
the dispersion is known", but a dispersion estimate of some sort must be 
needed for the AIC value. Looking at Gamma()$aic it appears that the 
dispersion is always estimated from the mean residual deviance whether the 
dispersion is actually known or not.


My main point is that it would be nice for glm.objects to "know" how they 
should be treated, so that functions down the track don't need to keep 
including dispersion= options. I won't push any further on the topic though 
at least until I have more experience with the R glm functions.

Best wishes
Gordon




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Mon Jan 21 06:15:03 2002
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Mon, 21 Jan 2002 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200201210615.g0L6F3X30294@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1218 *
Subject:  behavior of r* and d* functions at boundaries 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 17 Dec 2001 11:04:27 -0500
--points 1 and 2 were fixed for 1.4.0
* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100
* PR# 1244 *
Subject: possible bug in det using method="qr"
From: armin@approximity.com
Date: Sat, 5 Jan 2002 01:48:13 +0100 (MET)

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)
* PR# 1242 *
Subject: copy metafile from window() device fails when lattice/grid is
From: "Liaw, Andy" <andy_liaw@merck.com>
Date: Fri, 04 Jan 2002 14:43:08 -0500
--grid/lattice has spurious initial blank page on current versions
* PR# 1249 *
Subject: cluster - clusplot.default
From: Kjetilh Halvorsen <kjetilh@umsanet.edu.bo>
Date: Mon, 7 Jan 2002 14:55:27 -0400 (BOT)
* PR# 1266 *
Subject: bug in survival package basehaz function
From: Nicholas Lewin-Koh <kohnicho@comp.nus.edu.sg>
Date: Wed, 16 Jan 2002 14:15:21 +0800 (GMT-8)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
--This isn't really a bug: the line in question is a plain-text equation, not a
--piece of R code.
* PR# 1257 *
Subject: documentation of `las' on `par' help page
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Fri, 11 Jan 2002 12:30:20 +0100

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
* PR# 1243 *
Subject: abline and log plots
From: stephen@cogsci.ed.ac.uk
Date: Sat, 5 Jan 2002 01:11:47 +0100 (MET)
* PR# 1248 *
Subject: piechart default colour
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 07 Jan 2002 18:54:02 +0100

Directory:  In-Out

none

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--
* PR# 1211 *
Subject: crash bug in get("function.name")()
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 11 Dec 2001 17:34:07 -0500 (EST)
* PR# 1247 *
Subject: Mishandling missing "..."
From: David Brahm  <brahm@alum.mit.edu>
Date: Mon, 7 Jan 2002 10:52:09 -0500
* PR# 1267 *
Subject: hashing NaN
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Wed, 16 Jan 2002 16:29:35 -0800 (PST)
--Patch put in R-devel for further testing.

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas
* PR# 1261 *
Subject: R_140 AND RHL_72 AND Packages
From: Patrick Gonin <gonin@genethon.fr>
Date: Wed, 15 Jan 2003 13:25:17 +0100
--Seems to relate to RH7.2 rpms
* PR# 1268 *
Subject: Solaris 2.6 Compile
From: gm81640@development.nssmb.com
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
--Most likely a compiler installation problem
* PR# 1272 *
Subject: eigen segfault with GCC 3 on Solaris
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
--Seems to be a problem with g77 in gcc 3.0.2 on Solaris only.
--Probably a compiler bug

Directory:  TooMuchAtOnce

none

Directory:  Windows

none

Directory:  incoming

* PR# 1240 *
Subject:  R CMD check 
From: hoffmann@wsl.ch
Date: Fri, 4 Jan 2002 12:51:15 +0100 (MET)
* PR# 1271 *
Subject: detach(package:base) kills R
From: david.heffernan@orcina.com
Date: Thu, 17 Jan 2002 09:54:14 +0100 (MET)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From geordon.marchak@nssmb.com  Mon Jan 21 08:28:04 2002
From: geordon.marchak@nssmb.com (geordon.marchak@nssmb.com)
Date: Mon, 21 Jan 2002 09:28:04 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
Message-ID: <200201210828.JAA26357@pubhealth.ku.dk>


As you mentioned below, R 1.3.1 does compile on Solaris with gcc 2.95.  I've tried 
both Solaris 2.5.1 and Solaris 2.6 with this, and they are fine.  Moving to gcc 
3.03 however causes the problem.  

Thanks for you help earlier.

-Joe.



> Date: Thu, 17 Jan 2002 08:37:15 +0000 (GMT)
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> To: geordon.marchak@nssmb.com
> Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
> 
> On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:
> 
> > Full_Name: Geordon Marchak
> > Version: R-1.3.1
> > OS: Solaris 2.6
> > Submission from: (NULL) (199.67.239.91)
> >
> >
> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.
> 
> 
> > # make
> > `Makedeps' is up to date.
> > gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> > -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> > ".subsection"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> > ".previous"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> > *** Error code 1
> > make: Fatal error: Command failed for target `lbfgsb.o'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Jan 22 09:25:13 2002
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Tue, 22 Jan 2002 10:25:13 +0100 (MET)
Subject: [Rd] data(): Error in FUN(X[[2]], ...) : subscript out of bounds (PR#1274)
Message-ID: <200201220925.KAA11305@pubhealth.ku.dk>


When I do:

    > data()

... I get:

    Data sets in package `base':

    Formaldehyde            Determination of Formaldehyde concentration

[cut]

    women                   Heights and Weights of Women


    Use `data(package = .packages(all.available = TRUE))'
    to list the data sets in all *available* packages.



When I do as suggested:

    > data(package = .packages(all.available = TRUE))

... I get:

    Error in FUN(X[[2]], ...) : subscript out of bounds
    In addition: Warning message:
    packages `class', `ctest', `eda', `foreign', `lqs',
    	`methods', `mgcv', `nnet', `splines', `stepfun', `tcltk',
    	`tools' contain no datasets in: data(package =
    	.packages(all.available = TRUE))


Packages that cause trouble:

    > data(package = "boot")
    Error in FUN(X[[2]], ...) : subscript out of bounds

    > data(package = "rpart")
    Error in FUN(X[[2]], ...) : subscript out of bounds

    > data(package = "spatial")
    Error in FUN(X[[2]], ...) : subscript out of bounds


Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jan 22 10:25:49 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 22 Jan 2002 11:25:49 +0100 (MET)
Subject: (PR#1274) [Rd] data(): Error in FUN(X[[2]], ...) : subscript
Message-ID: <200201221025.LAA13301@pubhealth.ku.dk>

data() is making assumptions about the structure of the 00Index files
that are not warranted.  All `Writing R Extensions' says is

  The @file{data} subdirectory should also contain
  a @file{00Index} file that describes the datasets available.  Ideally
  this should have a one-line description of each dataset, with full
  documentation in the @file{man} directory.

whereas data() is assuming it is in a two-column format as generated by
Rdindex.  Those packages contain other information in the file, which they
are allowed to do.  More precisely, read.00Index is documented as

     Read item/description information from 00Index-style files.  Such
     files are description lists rendered in tabular form, and
     currently used for the object, data and demo indices and `TITLE'

and that's not required.


On Tue, 22 Jan 2002 kleiweg@let.rug.nl wrote:

>
> When I do:
>
>     > data()
>
> ... I get:
>
>     Data sets in package `base':
>
>     Formaldehyde            Determination of Formaldehyde concentration
>
> [cut]
>
>     women                   Heights and Weights of Women
>
>
>     Use `data(package = .packages(all.available = TRUE))'
>     to list the data sets in all *available* packages.
>
>
>
> When I do as suggested:
>
>     > data(package = .packages(all.available = TRUE))
>
> ... I get:
>
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>     In addition: Warning message:
>     packages `class', `ctest', `eda', `foreign', `lqs',
>     	`methods', `mgcv', `nnet', `splines', `stepfun', `tcltk',
>     	`tools' contain no datasets in: data(package =
>     	.packages(all.available = TRUE))
>
>
> Packages that cause trouble:
>
>     > data(package = "boot")
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>
>     > data(package = "rpart")
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>
>     > data(package = "spatial")
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>
>
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status =
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wtautz@math.uwaterloo.ca  Tue Jan 22 15:05:54 2002
From: wtautz@math.uwaterloo.ca (wtautz@math.uwaterloo.ca)
Date: Tue, 22 Jan 2002 16:05:54 +0100 (MET)
Subject: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
Message-ID: <200201221505.QAA20274@pubhealth.ku.dk>

I have included the full configure/make output:
(the particular error regarding bessel_i.c is at
the END of the report). 


-walter tautz 




	cd build/R-1.4.0 \
	    && unset noclobber \
	&& CPPFLAGS=" " \
	    LDFLAGS="" \
	       ./configure --prefix=/software/r-1 \
	           --datadir=/software/r-1/data \
	           --libdir=/software/r-1/lib \
	           --includedir=/software/r-1/include \
		   --with-x \
			   \
			 \
	           | tee configure.XHIER.log 2>&1 \
	&& touch XHIER_CONFIGURED
creating cache ./config.cache
checking for a BSD compatible install... tools/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... yes
checking for working aclocal... found
checking for working autoconf... found
checking for working automake... found
checking for working autoheader... found
checking for working makeinfo... found
checking host system type... mips-sgi-irix6.5
loading site script ./config.site
loading build specific script ./config.site
checking for pwd... /sbin/pwd
checking whether builddir is srcdir... yes
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking whether gcc needs -traditional... no
checking whether gcc accepts -M for generating dependencies... yes
checking whether gcc supports -c -o FILE.lo... yes
checking for mawk... no
checking for gawk... no
checking for nawk... nawk
checking whether ln -s works... yes
checking for ranlib... :
checking for bison... bison -y
checking for ar... ar
checking whether echo can suppress newlines... yes
configure: warning: redefining INSTALL to be /scratch/usr/source/r-1/build/R-1.4.0/tools/install-sh -c
checking for javac... no
checking for less... /.software/local/.admin/bins/bin/less
checking for perl... /.software/local/.admin/bins/bin/perl
checking whether perl version is at least 5.004... yes
checking for dvips... no
checking for tex... configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals
no
checking for latex... no
checking for makeindex... no
checking for pdftex... no
checking for pdflatex... no
checking for makeinfo... /.software/local/.admin/bins/bin/makeinfo
checking for unzip... no
checking for zip... no
checking for Cygwin environment... no
checking for mingw32 environment... no
checking build system type... mips-sgi-irix6.5
checking for ld used by GCC... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... no
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking how to recognise dependant libraries... pass_all
checking for object suffix... o
checking for executable suffix... no
checking command to parse /usr/bin/nm -B output... ok
checking for dlfcn.h... yes
checking for ranlib... (cached) :
checking for strip... strip
checking for objdir... .libs
checking for gcc option to produce PIC... none
checking if gcc static flag -static works... no
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.lo... 
checking if gcc supports -fno-rtti -fno-exceptions... yes
checking whether the linker (/usr/bin/ld -64) supports shared libraries... yes
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... no
checking dynamic linker characteristics... irix6.5 ld.so
checking if libtool supports shared libraries... yes
checking whether -lc should be explicitly linked in... yes
creating libtool
checking whether makeinfo version is at least 4... yes
checking for main in -lm... yes
defining F77 to be g77
checking whether the Fortran 77 compiler (g77  ) works... yes
checking whether the Fortran 77 compiler (g77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... yes
checking whether g77 accepts -g... yes
checking for Fortran 77 libraries...  -lg2c -lm -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3 -L/usr/bin -L/.software/arch/gcc-2.95.3/dis

tribution/lib/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib -lm -L/usr/lib64/mips3 -L/usr/lib64
checking whether g77 appends underscores... yes
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking for c++... g++
checking whether the C++ compiler (g++  ) works... yes
checking whether the C++ compiler (g++  ) is a cross-compiler... no
checking whether we are using GNU C++... yes
checking whether g++ accepts -g... yes
checking how to run the C++ preprocessor... g++ -E
checking whether g++ accepts -M for generating dependencies... yes
checking whether g++ supports -c -o FILE.lo... yes
checking for sin in -lm... yes
checking for sin in -lmoto... no
checking for main in -lncurses... no
checking for main in -ltermcap... yes
checking for dlopen in -ldl... no
checking for ATL_xerbla in -latlas... no
checking for zherk in -lblas... no
checking for dgemm_ in -lblas... yes
checking for rl_callback_read_char in -lreadline... no
checking for working alloca.h... yes
checking for alloca... yes
checking for ANSI C header files... yes
checking for pid_t... yes
checking for vfork.h... no
checking for working vfork... no
checking for vprintf... yes
checking for access... yes
checking for acosh... yes
checking for asinh... yes
checking for atanh... yes
checking for bcopy... yes
checking for bzero... yes
checking for finite... yes
checking for ftruncate... yes
checking for getcwd... yes
checking for getgrgid... yes
checking for getpwuid... yes
checking for getuid... yes
checking for hypot... yes
checking for isascii... yes
checking for isnan... yes
checking for matherr... no
checking for memcpy... yes
checking for memmove... yes
checking for mempcpy... no
checking for mkfifo... yes
checking for popen... yes
checking for putenv... yes
checking for rint... yes
checking for setenv... no
checking for snprintf... yes
checking for strcoll... yes
checking for stat... yes
checking for strptime... yes
checking for system... yes
checking for times... yes
checking for unsetenv... no
checking for vsnprintf... yes
checking for strdup... yes
checking for library containing connect... none required
checking for library containing gethostbyname... none required
checking for library containing xdr_string... none required
checking for __setfpucw... no
checking for working calloc... yes
checking for working finite... yes
checking for working log... yes
checking for working strptime... no
checking for ANSI C header files... (cached) yes
checking whether time.h and sys/time.h may both be included... yes
checking for dirent.h that defines DIR... yes
checking for opendir in -ldir... no
checking for sys/wait.h that is POSIX.1 compatible... yes
checking for arpa/inet.h... yes
checking for dl.h... no
checking for dlfcn.h... (cached) yes
checking for elf.h... yes
checking for errno.h... yes
checking for fcntl.h... yes
checking for floatingpoint.h... no
checking for fpu_control.h... no
checking for grp.h... yes
checking for ieee754.h... no
checking for ieeefp.h... yes
checking for locale.h... yes
checking for netdb.h... yes
checking for netinet/in.h... yes
checking for pwd.h... yes
checking for readline/history.h... yes
checking for readline/readline.h... yes
checking for rpc/xdr.h... yes
checking for string.h... yes
checking for strings.h... yes
checking for sys/param.h... yes
checking for sys/select.h... yes
checking for sys/socket.h... yes
checking for sys/stat.h... yes
checking for sys/time.h... yes
checking for sys/times.h... yes
checking for sys/utsname.h... yes
checking for unistd.h... yes
checking whether setjmp.h is POSIX.1 compatible... yes
checking for GNU C library with version >= 2... no
checking whether math.h defines isfinite... no
checking whether math.h defines isnan... no
checking return type of signal handlers... void
checking for pid_t... (cached) yes
checking for size_t... yes
checking for blkcnt_t... yes
checking for sys/socket.h... (cached) yes
checking for type of socket length... size_t *
checking whether byte ordering is bigendian... yes
checking for working const... yes
checking size of int... 4
checking size of long... 8
checking size of long long... 8
checking size of long double... 8
checking whether C compiler needs -OPT:IEEE_NaN_inf=ON... no
checking for xmkmf... /usr/bin/X11/xmkmf
checking for X... libraries , headers 
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... no
checking for gethostbyname... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for tclConfig.sh... no
checking for tkConfig.sh... no
checking for tcl.h... no
checking for finite... (cached) yes
checking for isnan... (cached) yes
checking whether you have IEEE 754 floating-point arithmetic... yes
checking for BSD networking... yes
checking for jpeglib.h... yes
checking if jpeglib version >= 6b... no
checking for main in -lz... yes
checking for png.h... yes
checking if libpng version >= 1.0.5... no
checking for XDR support... yes
checking for gzopen in -lz... yes
checking for zlib.h... yes
checking if zlib version >= 1.1.3... no
checking whether leap seconds are treated according to POSIX... yes
checking for setitimer... yes
checking for lpr... lpr
checking for paperconf... false
updating cache ./config.cache
creating ./config.status
creating Makeconf
creating Makefile
creating afm/Makefile
creating doc/Makefile
creating doc/html/Makefile
creating doc/html/search/Makefile
creating doc/manual/Makefile
creating etc/Makefile
creating etc/Makeconf
creating etc/Renviron
creating m4/Makefile
creating share/Makefile
creating src/Makefile
creating src/appl/Makefile
creating src/include/Makefile
creating src/include/R_ext/Makefile
creating src/library/Makefile
creating src/library/base/DESCRIPTION
creating src/library/base/Makefile
creating src/library/profile/Makefile
creating src/library/ctest/DESCRIPTION
creating src/library/ctest/Makefile
creating src/library/ctest/src/Makefile
creating src/library/eda/DESCRIPTION
creating src/library/eda/Makefile
creating src/library/eda/src/Makefile
creating src/library/lqs/DESCRIPTION
creating src/library/lqs/Makefile
creating src/library/lqs/src/Makefile
creating src/library/methods/DESCRIPTION
creating src/library/methods/Makefile
creating src/library/methods/src/Makefile
creating src/library/modreg/DESCRIPTION
creating src/library/modreg/Makefile
creating src/library/modreg/src/Makefile
creating src/library/mva/DESCRIPTION
creating src/library/mva/Makefile
creating src/library/mva/src/Makefile
creating src/library/nls/DESCRIPTION
creating src/library/nls/Makefile
creating src/library/nls/src/Makefile
creating src/library/stepfun/DESCRIPTION
creating src/library/stepfun/Makefile
creating src/library/splines/DESCRIPTION
creating src/library/splines/Makefile
creating src/library/splines/src/Makefile
creating src/library/tcltk/DESCRIPTION
creating src/library/tcltk/Makefile
creating src/library/tcltk/src/Makefile
creating src/library/tools/DESCRIPTION
creating src/library/tools/Makefile
creating src/library/ts/DESCRIPTION
creating src/library/ts/Makefile
creating src/library/ts/src/Makefile
creating src/main/Makefile
creating src/modules/Makefile
creating src/modules/X11/Makefile
creating src/modules/gnome/Makefile
creating src/modules/internet/Makefile
creating src/modules/lapack/Makefile
creating src/modules/vfonts/Makefile
creating src/nmath/Makefile
creating src/nmath/standalone/Makefile
creating src/scripts/Makefile
creating src/scripts/COMPILE
creating src/scripts/INSTALL
creating src/scripts/REMOVE
creating src/scripts/R.sh
creating src/scripts/Rdconv
creating src/scripts/Rdindex
creating src/scripts/Rprof
creating src/scripts/SHLIB
creating src/scripts/Sd2Rd
creating src/scripts/build
creating src/scripts/check
creating src/unix/Makefile
creating tests/Makefile
creating tests/Embedding/Makefile
creating tests/Examples/Makefile
creating tools/Makefile
creating src/include/config.h
configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals


R is now configured for mips-sgi-irix6.5

  Source directory:          .
  Installation directory:    /software/r-1
  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

	cd build/R-1.4.0 \
	&&  make  all \
	&& touch XHIER_BUILT
creating src/scripts/R.fe
mkdir ../../bin
mkdir ../../include
mkdir ../../../include/R_ext
making approx.d from approx.c
making bakslv.d from bakslv.c
making bandwidths.d from bandwidths.c
making binning.d from binning.c
making chull.d from chull.c
making cpoly.d from cpoly.c
making cumsum.d from cumsum.c
making fft.d from fft.c
making fmin.d from fmin.c
making integrate.d from integrate.c
making lbfgsb.d from lbfgsb.c
making loglin.d from loglin.c
making lowess.d from lowess.c
making machar.d from machar.c
making maxcol.d from maxcol.c
making massdist.d from massdist.c
making pretty.d from pretty.c
making rowsum.d from rowsum.c
making splines.d from splines.c
making stem.d from stem.c
making strsignif.d from strsignif.c
making tabulate.d from tabulate.c
making uncmin.d from uncmin.c
making zeroin.d from zeroin.c
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c approx.c -o approx.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bakslv.c -o bakslv.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bandwidths.c -o bandwidths.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c binning.c -o binning.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c chull.c -o chull.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cpoly.c -o cpoly.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cumsum.c -o cumsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fft.c -o fft.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmin.c -o fmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c integrate.c -o integrate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c loglin.c -o loglin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lowess.c -o lowess.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c machar.c -o machar.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c maxcol.c -o maxcol.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c massdist.c -o massdist.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c pretty.c -o pretty.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c rowsum.c -o rowsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c splines.c -o splines.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c stem.c -o stem.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c strsignif.c -o strsignif.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c tabulate.c -o tabulate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c uncmin.c -o uncmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c zeroin.c -o zeroin.o
	g77   -g -O2 -c ch2inv.f -o ch2inv.o
	g77   -g -O2 -c chol.f -o chol.o
	g77   -g -O2 -c dpbfa.f -o dpbfa.o
	g77   -g -O2 -c dpbsl.f -o dpbsl.o
	g77   -g -O2 -c dpoco.f -o dpoco.o
	g77   -g -O2 -c dpodi.f -o dpodi.o
	g77   -g -O2 -c dpofa.f -o dpofa.o
	g77   -g -O2 -c dposl.f -o dposl.o
	g77   -g -O2 -c dqrdc.f -o dqrdc.o
	g77   -g -O2 -c dqrdc2.f -o dqrdc2.o
	g77   -g -O2 -c dqrls.f -o dqrls.o
	g77   -g -O2 -c dqrsl.f -o dqrsl.o
	g77   -g -O2 -c dqrutl.f -o dqrutl.o
	g77   -g -O2 -c dsvdc.f -o dsvdc.o
	g77   -g -O2 -c dtrco.f -o dtrco.o
	g77   -g -O2 -c dtrsl.f -o dtrsl.o
	g77   -g -O2 -c eigen.f -o eigen.o
	g77   -g -O2 -c lminfl.f -o lminfl.o
	ar cr libappl.a approx.o  bakslv.o bandwidths.o binning.o  chull.o cpoly.o cumsum.o  fft.o fmin.o integrate.o lbfgsb.o loglin.o lowess.o  machar.o maxcol.o massdist.o  pretty.o  rowsum.o  splines.o stem.o strsignif.o  tabulate.o  uncmin.o  zeroin.o ch2in

v.o chol.o  dpbfa.o dpbsl.o dpoco.o dpodi.o dpofa.o dposl.o dqrdc.o  dqrdc2.o dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o dtrsl.o  eigen.o  lminfl.o 
	: libappl.a
making mlutils.d from mlutils.c
making d1mach.d from d1mach.c
making i1mach.d from i1mach.c
making fmax2.d from fmax2.c
making fmin2.d from fmin2.c
making fprec.d from fprec.c
making fround.d from fround.c
making ftrunc.d from ftrunc.c
making sign.d from sign.c
making fsign.d from fsign.c
making imax2.d from imax2.c
making imin2.d from imin2.c
making chebyshev.d from chebyshev.c
making log1p.d from log1p.c
making lgammacor.d from lgammacor.c
making gammalims.d from gammalims.c
making stirlerr.d from stirlerr.c
making bd0.d from bd0.c
making gamma.d from gamma.c
making lgamma.d from lgamma.c
making gamma_cody.d from gamma_cody.c
making beta.d from beta.c
making lbeta.d from lbeta.c
making polygamma.d from polygamma.c
making bessel_i.d from bessel_i.c
making bessel_j.d from bessel_j.c
making bessel_k.d from bessel_k.c
making bessel_y.d from bessel_y.c
making choose.d from choose.c
making snorm.d from snorm.c
making sexp.d from sexp.c
making dgamma.d from dgamma.c
making pgamma.d from pgamma.c
making qgamma.d from qgamma.c
making rgamma.d from rgamma.c
making dbeta.d from dbeta.c
making pbeta.d from pbeta.c
making qbeta.d from qbeta.c
making rbeta.d from rbeta.c
making dunif.d from dunif.c
making punif.d from punif.c
making qunif.d from qunif.c
making runif.d from runif.c
making dnorm.d from dnorm.c
making pnorm.d from pnorm.c
making qnorm.d from qnorm.c
making rnorm.d from rnorm.c
making dlnorm.d from dlnorm.c
making plnorm.d from plnorm.c
making qlnorm.d from qlnorm.c
making rlnorm.d from rlnorm.c
making df.d from df.c
making pf.d from pf.c
making qf.d from qf.c
making rf.d from rf.c
making dt.d from dt.c
making pt.d from pt.c
making qt.d from qt.c
making rt.d from rt.c
making dchisq.d from dchisq.c
making pchisq.d from pchisq.c
making qchisq.d from qchisq.c
making rchisq.d from rchisq.c
making dbinom.d from dbinom.c
making pbinom.d from pbinom.c
making qbinom.d from qbinom.c
making rbinom.d from rbinom.c
making dcauchy.d from dcauchy.c
making pcauchy.d from pcauchy.c
making qcauchy.d from qcauchy.c
making rcauchy.d from rcauchy.c
making dexp.d from dexp.c
making pexp.d from pexp.c
making qexp.d from qexp.c
making rexp.d from rexp.c
making dgeom.d from dgeom.c
making pgeom.d from pgeom.c
making qgeom.d from qgeom.c
making rgeom.d from rgeom.c
making dhyper.d from dhyper.c
making phyper.d from phyper.c
making qhyper.d from qhyper.c
making rhyper.d from rhyper.c
making dnbinom.d from dnbinom.c
making pnbinom.d from pnbinom.c
making qnbinom.d from qnbinom.c
making rnbinom.d from rnbinom.c
making dpois.d from dpois.c
making ppois.d from ppois.c
making qpois.d from qpois.c
making rpois.d from rpois.c
making dweibull.d from dweibull.c
making pweibull.d from pweibull.c
making qweibull.d from qweibull.c
making rweibull.d from rweibull.c
making dlogis.d from dlogis.c
making plogis.d from plogis.c
making qlogis.d from qlogis.c
making rlogis.d from rlogis.c
making dnchisq.d from dnchisq.c
making pnchisq.d from pnchisq.c
making qnchisq.d from qnchisq.c
making dnbeta.d from dnbeta.c
making pnbeta.d from pnbeta.c
making pnf.d from pnf.c
making pnt.d from pnt.c
making ptukey.d from ptukey.c
making qtukey.d from qtukey.c
making wilcox.d from wilcox.c
making signrank.d from signrank.c
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c mlutils.c -o mlutils.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c d1mach.c -o d1mach.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c i1mach.c -o i1mach.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmax2.c -o fmax2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmin2.c -o fmin2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fprec.c -o fprec.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fround.c -o fround.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c ftrunc.c -o ftrunc.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c sign.c -o sign.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fsign.c -o fsign.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c imax2.c -o imax2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c imin2.c -o imin2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c chebyshev.c -o chebyshev.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c log1p.c -o log1p.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lgammacor.c -o lgammacor.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c gammalims.c -o gammalims.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c stirlerr.c -o stirlerr.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bd0.c -o bd0.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c gamma.c -o gamma.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lgamma.c -o lgamma.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c gamma_cody.c -o gamma_cody.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c beta.c -o beta.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lbeta.c -o lbeta.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c polygamma.c -o polygamma.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bessel_i.c -o bessel_i.o
bessel_i.c: In function `I_bessel':
bessel_i.c:468: internal error--unrecognizable insn:
(insn 1418 1417 673 (set:DF (reg/v:DF 101)
        (if_then_else:DF (ne (reg:DI 416)
                (const_int 0 [0x0]))
            (reg/v:DF 101)
            (reg:DF 415))) -1 (insn_list 1417 (nil))
    (expr_list:REG_DEAD (reg:DI 416)
        (nil)))
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 22 15:27:45 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jan 2002 16:27:45 +0100
Subject: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
In-Reply-To: <200201221505.QAA20274@pubhealth.ku.dk>
References: <200201221505.QAA20274@pubhealth.ku.dk>
Message-ID: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>

wtautz@math.uwaterloo.ca writes:

> I have included the full configure/make output:
> (the particular error regarding bessel_i.c is at
> the END of the report). 
...
> bessel_i.c: In function `I_bessel':
> bessel_i.c:468: internal error--unrecognizable insn:
> (insn 1418 1417 673 (set:DF (reg/v:DF 101)
>         (if_then_else:DF (ne (reg:DI 416)
>                 (const_int 0 [0x0]))
>             (reg/v:DF 101)
>             (reg:DF 415))) -1 (insn_list 1417 (nil))
>     (expr_list:REG_DEAD (reg:DI 416)
>         (nil)))
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)

That looks like a problem in the gcc compiler suite. You might try
upgrading the compiler. Sometimes changing compiler flags (you would
only need to do it for the offending module) does the trick. 

Another possibility is that gcc is generating code that the system
assembler doesn't understand (this is happening with gcc 3 on
Solaris). If so, then you might install GNU binutils.

If none of this helps, I'm afraid that you need to take it up with the
GCC authors since it is not an R problem.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Walter Tautz <wtautz@math.uwaterloo.ca>  Tue Jan 22 15:48:18 2002
From: Walter Tautz <wtautz@math.uwaterloo.ca> (Walter Tautz)
Date: Tue, 22 Jan 2002 10:48:18 -0500 (EST)
Subject: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
In-Reply-To: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.3.96.1020122103116.3015L-100000@mfcf.math.uwaterloo.ca>



On 22 Jan 2002, Peter Dalgaard BSA wrote:

> wtautz@math.uwaterloo.ca writes:
> 
> > I have included the full configure/make output:
> > (the particular error regarding bessel_i.c is at
> > the END of the report). 
> ...
> > bessel_i.c: In function `I_bessel':
> > bessel_i.c:468: internal error--unrecognizable insn:
> > (insn 1418 1417 673 (set:DF (reg/v:DF 101)
> >         (if_then_else:DF (ne (reg:DI 416)
> >                 (const_int 0 [0x0]))
> >             (reg/v:DF 101)
> >             (reg:DF 415))) -1 (insn_list 1417 (nil))
> >     (expr_list:REG_DEAD (reg:DI 416)
> >         (nil)))
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> 
> That looks like a problem in the gcc compiler suite. You might try
> upgrading the compiler. Sometimes changing compiler flags (you would
> only need to do it for the offending module) does the trick. 
> 
> Another possibility is that gcc is generating code that the system
> assembler doesn't understand (this is happening with gcc 3 on
> Solaris). If so, then you might install GNU binutils.
> 

I neglected to mention that 
gcc -v gives:

gcc version 2.95.3 20010315 (release)



Here is a more verbose output if that helps:




Reading specs from /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/specs
gcc version 2.95.3 20010315 (release)
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cpp0 -lang-c -v -I. -I../../src/include -I../../src/include -D__GNUC__=2 -D__GNUC_MINOR__=95 -Dunix -Dmips -Dsgi -Dhost_mips -DMIPSEB -D_MIPSEB -DSYSTYPE_SVR4 -D_LONGLONG -D_SVR4
_SOURCE -D_MODERN_C -D__DSO__ -D__unix__ -D__mips__ -D__sgi__ -D__host_mips__ -D__MIPSEB__ -D_MIPSEB -D__SYSTYPE_SVR4__ -D_LONGLONG -D_SVR4_SOURCE -D_MODERN_C -D__DSO__ -D__unix -D__mips -D__sgi -D__host_mips -D__MIPSEB -D__SYSTYPE_SVR4 -Asystem(unix) -As
ystem(svr4) -Acpu(mips) -Amachine(sgi) -D__CHAR_UNSIGNED__ -D__OPTIMIZE__ -g -D__LANGUAGE_C -D_LANGUAGE_C -DLANGUAGE_C -D__SIZE_TYPE__=long unsigned int -D__PTRDIFF_TYPE__=long int -D__LONG_MAX__=9223372036854775807L -D__EXTENSIONS__ -D_SGI_SOURCE -D_MIPS
_FPSET=32 -D_MIPS_ISA=_MIPS_ISA_MIPS3 -D_ABI64=3 -D_MIPS_SIM=_ABI64 -D_MIPS_SZINT=32 -D_MIPS_SZLONG=64 -D_MIPS_SZPTR=64 -D_COMPILER_VERSION=601 -U__mips -D__mips=3 -D__mips64 -DHAVE_CONFIG_H bessel_i.c /var/tmp/ccyhjiCa.i
GNU CPP version 2.95.3 20010315 (release) [AL 1.1, MM 40] SGI running IRIX 6.x
#include "..." search starts here:
#include <...> search starts here:
 .
 ../../src/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../mips-sgi-irix6.5/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/include
 /usr/include
End of search list.
The following default directories have been omitted from the search path:
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../include/g++-3
 /usr/local/include
End of omitted list.
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cc1 /var/tmp/ccyhjiCa.i -quiet -dumpbase bessel_i.c -mabi=64 -g -O2 -version -o /var/tmp/ccKOSzid.s
GNU C version 2.95.3 20010315 (release) (mips-sgi-irix6.5) compiled by GNU C version 2.95.3 20010315 (release).
bessel_i.c: In function `I_bessel':
bessel_i.c:468: internal error--unrecognizable insn:
(insn 1418 1417 673 (set:DF (reg/v:DF 101)
        (if_then_else:DF (ne (reg:DI 416)
                (const_int 0 [0x0]))
            (reg/v:DF 101)
            (reg:DF 415))) -1 (insn_list 1417 (nil))
    (expr_list:REG_DEAD (reg:DI 416)
        (nil)))

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Thu Jan 24 03:48:43 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Thu, 24 Jan 2002 04:48:43 +0100 (MET)
Subject: [Rd] typos in R-intro.texi (PR#1279)
Message-ID: <200201240348.EAA07987@pubhealth.ku.dk>

Full_Name: stephen eglen
Version: 1.4
OS: Redhat 7.1
Submission from: (NULL) (128.252.204.36)


I found a few typos whilst reading R-intro.  Line numbers are
against R-intro.texi in the r-devel tree.

line 3060:  but a shorter right tail THAT one would
should be "than"

line 6126: [MaxOS 8/9]
should be "MacOS"

line 6596,6804: "invokation" written.  Should be "invocation".


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Thu Jan 24 10:12:20 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Thu, 24 Jan 2002 10:12:20 +0000
Subject: [Rd] Documentation for transpose function
Message-ID: <3C4FDE04.C062424@durham.ac.uk>

Hi Everyone,

A colleague of mine has suggested that it would be helpful to include a
link to aperm on the ?t help page, for example

\seealso{\code{\link{aperm}} for permuting the extents of arrays.}

Cheers, Jonathan.
-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 24 10:22:35 2002
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Thu, 24 Jan 2002 11:22:35 +0100 (MET)
Subject: [Rd] Documentation for transpose function (PR#1280)
Message-ID: <200201241022.LAA11852@pubhealth.ku.dk>

Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

> Hi Everyone,
> 
> A colleague of mine has suggested that it would be helpful to include a
> link to aperm on the ?t help page, for example
> 
> \seealso{\code{\link{aperm}} for permuting the extents of arrays.}

Sounds like a good idea. CC'ing r-bugs to remember it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 10:46:55 2002
From: theis@statistik.uni-dortmund.de (theis@statistik.uni-dortmund.de)
Date: Thu, 24 Jan 2002 11:46:55 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241046.LAA12336@pubhealth.ku.dk>

Full_Name: Winfried Theis
Version: 1.4.0
OS: Linux
Submission from: (NULL) (129.217.207.135)


Hello!

During an error search I stumbled across the following:
If I do 
> options(digits=22)
and then type in e.g. 0.1 I get:
> 0.1
[1] 0.1000000000000000055511

I hope there is some other way to correct this, than rounding to 12 digits 
or something similar. I tested it on a Sun and under Windows as well and it 
is the same on all systems.

Regards,

Winfried Theis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 11:20:41 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 24 Jan 2002 12:20:41 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241120.MAA12874@pubhealth.ku.dk>

On Thu, 24 Jan 2002 theis@statistik.uni-dortmund.de wrote:

> Full_Name: Winfried Theis
> Version: 1.4.0
> OS: Linux
> Submission from: (NULL) (129.217.207.135)
>
>
> Hello!
>
> During an error search I stumbled across the following:
> If I do
> > options(digits=22)
> and then type in e.g. 0.1 I get:
> > 0.1
> [1] 0.1000000000000000055511
>
> I hope there is some other way to correct this, than rounding to 12 digits
> or something similar. I tested it on a Sun and under Windows as well and it
> is the same on all systems.

0.1 cannot be represented exactly in binary arithmetic. You asked for the
representation to 22 digits, and at most 17 are used in IEEE arithmetic.

This is not a bug in R, which does not claim to have arbitrary precision.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From claudio@unive.it  Thu Jan 24 11:48:57 2002
From: claudio@unive.it (Claudio Agostinelli)
Date: Thu, 24 Jan 2002 12:48:57 +0100 (CET)
Subject: [Rd] round function
In-Reply-To: <200201241046.LAA12336@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.33L2.0201241235180.7180-100000@linaria.dst.unive.it>

Hy everybody,

if I use round function with numbers bigger than 2147483648 (at least
in my PC running linux) I got
> round(2147483648)
[1] -2147483648
>

trunc, floor and ceiling work fine
> trunc(2147483648)
[1] 2147483648
> ceiling(2147483648)
[1] 2147483648
> floor(2147483648)
[1] 2147483648
>

Is this a bug? If not, I suggest that round give back NA or NaN in these
cases.

best,
Claudio Agostinelli



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 12:01:22 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 12:01:22 +0000 (GMT)
Subject: [Rd] round function
In-Reply-To: <Pine.LNX.4.33L2.0201241235180.7180-100000@linaria.dst.unive.it>
Message-ID: <Pine.LNX.4.31.0201241200390.3406-100000@gannet.stats>

On Thu, 24 Jan 2002, Claudio Agostinelli wrote:

> Hy everybody,
>
> if I use round function with numbers bigger than 2147483648 (at least
> in my PC running linux) I got
> > round(2147483648)
> [1] -2147483648
> >
>
> trunc, floor and ceiling work fine
> > trunc(2147483648)
> [1] 2147483648
> > ceiling(2147483648)
> [1] 2147483648
> > floor(2147483648)
> [1] 2147483648
> >
>
> Is this a bug? If not, I suggest that round give back NA or NaN in these
> cases.

It's a bug in 1.4.0 only, already corrected in the patched version.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 24 12:32:31 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2002 13:32:31 +0100
Subject: [Rd] R-1.4.1 scheduled for Jan 30
Message-ID: <x2it9s9bfk.fsf@blueberry.kubism.ku.dk>


We plan to put out R-1.4.1 on Wednesday. This is mainly to get the
fixes that we have already made into an official version, and to clean
up the problem with the Windows build. 

Several on the core team are under fairly heavy load at this time, so
we'll probably be reluctant to fix further bugs unless they are
clearly serious and/or trivial to fix.

Those of you that have unusual platforms could be doing us a favour if
you try building snapshot versions and report back if there are
problems.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 13:06:07 2002
From: theis@statistik.uni-dortmund.de (theis@statistik.uni-dortmund.de)
Date: Thu, 24 Jan 2002 14:06:07 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241306.OAA14998@pubhealth.ku.dk>

Dear Prof. Ripley,

On 24-Jan-02 Prof Brian Ripley wrote:
> 
> 0.1 cannot be represented exactly in binary arithmetic. You asked for the
> representation to 22 digits, and at most 17 are used in IEEE arithmetic.
> 
> This is not a bug in R, which does not claim to have arbitrary precision.
> 
Okay, I do not expect arbitrary precision, but maybe a warning in some way
would be in order, to tell non-experts, what can be expected...

As I said I came across this,
when I searched for an error and this might be the reason for it. When comparing
distances in one dimension within the sequence seq(0,1,by=0.1), I found that R
does not take the distances between (0.3, 0.5) and (0.5,0.7) to be equal.

> abs(0.5-0.3)==abs(0.5-0.7)
[1] FALSE

Checking this now a bit closer with your information I found:
> round(abs(0.5-0.3),digits=17)==round(abs(0.5-0.7),digits=17)
[1] FALSE
> round(abs(0.5-0.3),digits=16)==round(abs(0.5-0.7),digits=16)
[1] TRUE

Would it be possible to restrict "==" as well to the maximum number of digits
used in the arithmetics? It would be very convenient to get the expected result
from such a comparison.

Thank you -- and of course the whole core-team -- for your efforts to make this
great software!

Regards,

Winfried Theis
----------------------------------
E-Mail: Winfried Theis <theis@statistik.uni-dortmund.de>
Date: 24-Jan-02
Time: 12:50:35
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 13:27:42 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 24 Jan 2002 14:27:42 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241327.OAA15418@pubhealth.ku.dk>

On Thu, 24 Jan 2002, Winfried Theis wrote:

> Dear Prof. Ripley,
>
> On 24-Jan-02 Prof Brian Ripley wrote:
> >
> > 0.1 cannot be represented exactly in binary arithmetic. You asked for the
> > representation to 22 digits, and at most 17 are used in IEEE arithmetic.
> >
> > This is not a bug in R, which does not claim to have arbitrary precision.
> >
> Okay, I do not expect arbitrary precision, but maybe a warning in some way
> would be in order, to tell non-experts, what can be expected...
>
> As I said I came across this,
> when I searched for an error and this might be the reason for it. When comparing
> distances in one dimension within the sequence seq(0,1,by=0.1), I found that R
> does not take the distances between (0.3, 0.5) and (0.5,0.7) to be equal.
>
> > abs(0.5-0.3)==abs(0.5-0.7)
> [1] FALSE
>
> Checking this now a bit closer with your information I found:
> > round(abs(0.5-0.3),digits=17)==round(abs(0.5-0.7),digits=17)
> [1] FALSE
> > round(abs(0.5-0.3),digits=16)==round(abs(0.5-0.7),digits=16)
> [1] TRUE
>
> Would it be possible to restrict "==" as well to the maximum number of digits
> used in the arithmetics? It would be very convenient to get the expected result
> from such a comparison.

There is a function all.equal provided for this purpose: it is a misuse of
==.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 13:44:30 2002
From: theis@statistik.uni-dortmund.de (theis@statistik.uni-dortmund.de)
Date: Thu, 24 Jan 2002 14:44:30 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241344.OAA15893@pubhealth.ku.dk>


On 24-Jan-02 Prof Brian Ripley wrote:
> 
> There is a function all.equal provided for this purpose: it is a misuse of
> ==.

But there is no hint or note on the "Comparisons" help page concerning this
problem. If it is a misuse one should be warned against it.

Winfried Theis

----------------------------------
E-Mail: Winfried Theis <theis@statistik.uni-dortmund.de>
Date: 24-Jan-02
Time: 13:54:53
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gb@stat.umu.se  Thu Jan 24 14:15:43 2002
From: gb@stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 24 Jan 2002 15:15:43 +0100 (CET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
In-Reply-To: <200201241344.OAA15893@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.33.0201241512580.5000-100000@tal.stat.umu.se>

On Thu, 24 Jan 2002 theis@statistik.uni-dortmund.de wrote:

> 
> On 24-Jan-02 Prof Brian Ripley wrote:
> > 
> > There is a function all.equal provided for this purpose: it is a misuse of
> > ==.
> 
> But there is no hint or note on the "Comparisons" help page concerning this
> problem. If it is a misuse one should be warned against it.

But there is a warning there:

Don't use == and != for tests, such as in if expressions, where you must 
get a single TRUE or FALSE. Unless you are absolutely sure that nothing 
unusual can happen, you should use the identical function instead.

And 'identical' suggests:

> identical(all.equal(x, y), TRUE)

Clever indeed!
-- 
 Göran Broström                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Umeå University
 SE-90187 Umeå, Sweden             e-mail: gb@stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Thu Jan 24 14:48:29 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Thu, 24 Jan 2002 08:48:29 -0600
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <x2it9s9bfk.fsf@blueberry.kubism.ku.dk>
References: <x2it9s9bfk.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020124144829.GA3676@sonny.eddelbuettel.com>

On Thu, Jan 24, 2002 at 01:32:31PM +0100, Peter Dalgaard BSA wrote:
> Those of you that have unusual platforms could be doing us a favour if
> you try building snapshot versions and report back if there are
> problems.

I could make a snapshot Debian release which would then be thrown at the
twelve distinct architectures Debian supports. On the other hand, 1.4.0
already builds on 9 of these as shown on

   http://buildd.debian.org/build.php?pkg=r-base
   
As I presume no fixes were made to correct the mips and mipsel failures,
would such a snapshot release really provide incremental information?

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 15:15:58 2002
From: theis@statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 24 Jan 2002 15:15:58 -0000 (GMT)
Subject: [Rd] Representation of floating point numbers (PR#1281)
In-Reply-To: <Pine.LNX.4.33.0201241512580.5000-100000@tal.stat.umu.se>
Message-ID: <XFMail.020124151558.theis@statistik.uni-dortmund.de>

Hello!
On 24-Jan-02 Göran Broström wrote:
> On Thu, 24 Jan 2002 theis@statistik.uni-dortmund.de wrote:
> 
>> 
>> On 24-Jan-02 Prof Brian Ripley wrote:
>> > 
>> > There is a function all.equal provided for this purpose: it is a misuse of
>> > ==.
>> 
>> But there is no hint or note on the "Comparisons" help page concerning this
>> problem. If it is a misuse one should be warned against it.
> 
> But there is a warning there:
> 
> Don't use == and != for tests, such as in if expressions, where you must 
> get a single TRUE or FALSE. Unless you are absolutely sure that nothing 
> unusual can happen, you should use the identical function instead.
> 
> And 'identical' suggests:
> 
>> identical(all.equal(x, y), TRUE)
> 
> Clever indeed!
Sorry for being imprecise here: I missed the hint on all.equal on that page.

My main problem is that I need to find the places of a numerical vector x where
it equals its maximum, so usually I would do

> x[x==max(x)]

and this led to this whole discussion. I may be a bit dumb today but I don't
see an easy way to solve this with identical or all.equal. -- But please don't
bother, for the time being I will just round in the appropriate places. 

Sorry to have bothered you all with this.

Regards,
Winfried Theis
----------------------------------
E-Mail: Winfried Theis <theis@statistik.uni-dortmund.de>
Date: 24-Jan-02
Time: 15:04:41
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 15:35:39 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 24 Jan 2002 15:35:39 +0000 (GMT)
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <20020124144829.GA3676@sonny.eddelbuettel.com>
Message-ID: <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>

On Thu, 24 Jan 2002, Dirk Eddelbuettel wrote:

> On Thu, Jan 24, 2002 at 01:32:31PM +0100, Peter Dalgaard BSA wrote:
> > Those of you that have unusual platforms could be doing us a favour if
> > you try building snapshot versions and report back if there are
> > problems.
>
> I could make a snapshot Debian release which would then be thrown at the
> twelve distinct architectures Debian supports. On the other hand, 1.4.0
> already builds on 9 of these as shown on
>
>    http://buildd.debian.org/build.php?pkg=r-base
>
> As I presume no fixes were made to correct the mips and mipsel failures,
> would such a snapshot release really provide incremental information?

Some, yes.  Sometimes fixes for one platform break another.  As a real
example, Rinternals.h was causing two C++-based compilers to object.
I changed a couple of declarations to a form that Metrowerks was known to
accept, and it passed on four others.  Then Luke found HP-UX's C compiler
objected, and had to change it again.

I really don't know how much independent evidence Debian's different
architectures provides, but my guess is that no else will be able to check
a 64-bit Linux.

Does that inform a cost-benefit analysis for you?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Thu Jan 24 15:43:15 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Thu, 24 Jan 2002 09:43:15 -0600
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
References: <20020124144829.GA3676@sonny.eddelbuettel.com> <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
Message-ID: <20020124154315.GA3906@sonny.eddelbuettel.com>

On Thu, Jan 24, 2002 at 03:35:39PM +0000, Prof Brian D Ripley wrote:
> On Thu, 24 Jan 2002, Dirk Eddelbuettel wrote:
> > As I presume no fixes were made to correct the mips and mipsel failures,
> > would such a snapshot release really provide incremental information?
> 
> Some, yes.  Sometimes fixes for one platform break another.  As a real
[...]

Good point. On the other hand, all this will show is gcc et al on different
Linux arches.

> Does that inform a cost-benefit analysis for you?

Sure. But one other problem I forgot earlier is that the timeframe might
simply be too tight -- it could be Sunday before most of the systems catch
up, and that would leave little time for R-core to try to mend things.

I could try to do it this eve if there is a view at your end that it is
useful. I guess it wouldn't hurt, overall. 

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Thu Jan 24 15:59:21 2002
From: brahm@alum.mit.edu (David Brahm)
Date: Thu, 24 Jan 2002 10:59:21 -0500
Subject: [Rd] Representation of floating point numbers (PR#1281)
In-Reply-To: <XFMail.020124151558.theis@statistik.uni-dortmund.de>
References: <Pine.LNX.4.33.0201241512580.5000-100000@tal.stat.umu.se>
 <XFMail.020124151558.theis@statistik.uni-dortmund.de>
Message-ID: <15440.12121.742575.747387@gargle.gargle.HOWL>

Winfried Theis writes:
> My main problem is that I need to find the places of a numerical vector x
> where it equals its maximum, so usually I would do
> x[x==max(x)]

Then you want which.max(x)  [a great function found in R but not S-Plus].
-- 
                              -- David Brahm (brahm@alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Jan 24 17:22:13 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 24 Jan 2002 12:22:13 -0500
Subject: [Rd] config.log
Message-ID: <3C5042C5.B87129FB@bank-banque-canada.ca>

(subject changed and move from r-help)

On Thu, 24 Jan 2002, Agustin Lobo wrote:

> (config.log was not that useful as the following 3 lines
> configure:8610: checking for rl_callback_read_char in -lreadline
> configure:10229: checking for readline/history.h
> configure:10229: checking for readline/readline.h
>
> state the checking but not the actual result.

There are times I have wished all the output from configure was recorded
somewhere. (Perhaps it is and I just don't know where.) I have even re-run
configure on occassion, just to try and figure out a problem. But re-running
does not help if your system has changed and you are trying to figure out why
something worked before and doesn't anymore.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Ralph.MacNally@sci.monash.edu.au  Fri Jan 25 04:22:20 2002
From: Ralph.MacNally@sci.monash.edu.au (Ralph.MacNally@sci.monash.edu.au)
Date: Fri, 25 Jan 2002 05:22:20 +0100 (MET)
Subject: [Rd] na.action=na.omit doesn't omit in glm() (PR#1282)
Message-ID: <200201250422.FAA22830@pubhealth.ku.dk>

Full_Name: Ralph Mac Nally
Version: 1.40
OS: MacOS9x/Windows98
Submission from: (NULL) (130.194.13.180)


I'm using a simple glm in which the dependent variable may have missing data
(coded 'NA') as usual. Both the default na.action (na.omit) and explicit
'na.action=na.omit' do not seem to ignore the missing data as I expect,
generating an error to that effect (NA passed to routine). I encounter the same
problem in classic Mac and Windows98 versions, but S works alright.

What is the source/solution to this problem?

Thanks Ralph

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 25 07:46:38 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Jan 2002 07:46:38 +0000 (GMT)
Subject: [Rd] na.action=na.omit doesn't omit in glm() (PR#1282)
In-Reply-To: <200201250422.FAA22830@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0201250740070.15891-100000@auk.stats>

On Fri, 25 Jan 2002 Ralph.MacNally@sci.monash.edu.au wrote:

> Full_Name: Ralph Mac Nally
> Version: 1.40
> OS: MacOS9x/Windows98
> Submission from: (NULL) (130.194.13.180)
>
>
> I'm using a simple glm in which the dependent variable may have missing data
> (coded 'NA') as usual. Both the default na.action (na.omit) and explicit
> 'na.action=na.omit' do not seem to ignore the missing data as I expect,
> generating an error to that effect (NA passed to routine). I encounter the same
> problem in classic Mac and Windows98 versions, but S works alright.
>
> What is the source/solution to this problem?

Could we have a reproducible example, please?

Based on example(glm)

counts <- c(18, 17, 15, 20, 10, 20, 25, 13, 12)
outcome <- gl(3, 1, 9)
treatment <- gl(3, 3)
d.AD <- data.frame(treatment, outcome, counts)

glm(counts ~ outcome + treatment, family = poisson, data=d.AD)
Degrees of Freedom: 8 Total (i.e. Null);  4 Residual
Null Deviance:      10.58
Residual Deviance: 5.129        AIC: 56.76

d.AD[1, 1] <- NA
glm(counts ~ outcome + treatment, family = poisson, data=d.AD)
Degrees of Freedom: 7 Total (i.e. Null);  3 Residual
Null Deviance:      10.46
Residual Deviance: 4.011        AIC: 50.91

d.AD[9,3] <- NA
glm(counts ~ outcome + treatment, family = poisson, data=d.AD)
Degrees of Freedom: 6 Total (i.e. Null);  2 Residual
Null Deviance:      8.934
Residual Deviance: 2.725        AIC: 45.28

appears to work exactly as advertised.

Or try not using a data frame:

counts[9] <- NA
glm(counts ~ outcome + treatment, family = poisson)
Degrees of Freedom: 7 Total (i.e. Null);  3 Residual
Null Deviance:      8.971
Residual Deviance: 3.204        AIC: 50.5


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Fri Jan 25 15:03:13 2002
From: bolker@zoo.ufl.edu (Ben Bolker)
Date: Fri, 25 Jan 2002 10:03:13 -0500 (EST)
Subject: [Rd] Re: [R] How to add error bars to plot(x,y)in R?
In-Reply-To: <Pine.OSF.3.96.1020125102720.8203B-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.30.0201250954360.14931-100000@bolker.zoo.ufl.edu>

On Fri, 25 Jan 2002, Agustin Lobo wrote:

>
> The real solution would be adding this feature as an option
> to plot.

  This is really a philosophical question.  There are several possible
solutions:

 1. tell people (on the list, in a FAQ, or somewhere in the documentation)
that the easiest way to add error bars is to use arrows(...,angle=90)

 2. add a plotCI (or error.bar, or whatever) function that uses arrows(),
possibly with some bells and whistles, to a utility package that users can
get;

 3. ditto, but to the base R package instead;

 4. make error bars an option to plot(), as you suggest.

 The basic problem is "featuritis", and the fact that there are many
different possible ways you might want to add error bars.  Purists would
say that you need only provide simple tools that people can use to do what
they need; some compromise between nothing and everything is usually
better.  I personally prefer solution #3 above, since plotting confidence
intervals seems to be a pretty basic operation, and one that users should
be encouraged to do.  I wonder if there's an object-oriented solution to
this?  An "error" class and a plot.error method?

  Ben

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Jan 25 19:38:28 2002
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Fri, 25 Jan 2002 20:38:28 +0100 (MET)
Subject: [Rd] max/min of NULL gives MININT/MAXINT instead of -INF/+INF (PR#1283)
Message-ID: <200201251938.UAA05657@pubhealth.ku.dk>

R Version 1.4.0 Patched (2002-01-23)
Solaris 5.8

I just noticed that max(NULL) gives a strange result:

	> max(NULL)
	[1] -2147483647
	Warning message: 
	no finite arguments to min/max; returning extreme. in: max(...,
na.rm = na.rm) 

I discovered this when I did something like

	max(object$element)

for an incorrect element name.  The warning  message was helpful, but I was
still surprised to get a negative integer from this operation.  

In playing around, I see that using numeric summary operations on NULL or
numeric(0) gives inconsistent results:

For NULL:

	> max(NULL)
	[1] -2147483647
	Warning message: 
	no finite arguments to min/max; returning extreme. in: max(...,
na.rm = na.rm) 

	> min(NULL)
	[1] 2147483647
	Warning message: 
	no finite arguments to min/max; returning extreme. in: min(...,
na.rm = na.rm) 

	> mean(NULL)
	[1] NA
	Warning message: 
	argument is not numeric or logical: returning NA in:
mean.default(NULL) 

	> sum(NULL)
	[1] 0

	> range(NULL)
	[1] NA NA
 

For numeric(0):

	> max(numeric(0))
	[1] -Inf
	Warning message: 
	no finite arguments to min/max; returning extreme. in: max(...,
na.rm = na.rm) 

	> min(numeric(0))
	[1] Inf
	Warning message: 
	no finite arguments to min/max; returning extreme. in: min(...,
na.rm = na.rm) 

	> mean(numeric(0))
	[1] NaN

	> sum(numeric(0))
	[1] 0
	
	> range(numeric(0))
	[1] NA NA


I'm not sure that it really makes sense return the extremes when min/max are
called with numeric(0) or NULL arguments.  It seems that returning NA in all
of these cases (including sum) would be best, since such operations usually
indicate an error of some sort.

Still, if one insists that min/max should return the extremes, when they
operate on NULL they should at least return the floating point +INF / -INF
so that things don't get really strange when they get compared with floating
point numbers.

-Greg






LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Jan 25 20:10:43 2002
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Fri, 25 Jan 2002 21:10:43 +0100 (MET)
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <200201252010.VAA05814@pubhealth.ku.dk>

	
When the R_HOME environment variable is set, R issues a warning messages
when it starts up.  When doing 'make check' this causes the check for
eval-etc.R to fail:
	
	[...]
	make[3]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	running strict specific tests
	make[3]: Entering directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	running code in `eval-etc.R' ... OK
	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
	< WARNING: ignoring environment value of R_HOME
	make[3]: *** [eval-etc.Rout] Error 1
	make[3]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	make[2]: *** [test-Specific] Error 2
	make[2]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	make[1]: *** [test-all-basics] Error 1
	make[1]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	make: *** [check] Error 2

This is, of course easily worked around by unsetting R_HOME and removing it
from the shell startup scripts, but this is incovienient when R_HOME needs
to be set for other reasons (e.g. to allow the Python interface to R
'RSPython' to find the R code it needs).

It already appears that the version strings are filtered out when testing
for difference between the versions.  Is it possible to filter out the
environment variable warning message as well? 

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Jan 25 21:15:45 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Fri, 25 Jan 2002 16:15:45 -0500
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC850B@usrymx10.merck.com>

I also fell into that trap a couple of times, but it doesn't really bother
me, since it's, IMHO, a real minor inconvenience.

(In bash, under Linux:)  Would the following work?  Haven't tried...

  R_HOME="" make check

Andy

> -----Original Message-----
> From: gregory_r_warnes@groton.pfizer.com
> [mailto:gregory_r_warnes@groton.pfizer.com]
> Sent: Friday, January 25, 2002 3:11 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
> 
> 
> 	
> When the R_HOME environment variable is set, R issues a 
> warning messages
> when it starts up.  When doing 'make check' this causes the check for
> eval-etc.R to fail:
> 	
> 	[...]
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running strict specific tests
> 	make[3]: Entering directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running code in `eval-etc.R' ... OK
> 	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
> 	< WARNING: ignoring environment value of R_HOME
> 	make[3]: *** [eval-etc.Rout] Error 1
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[2]: *** [test-Specific] Error 2
> 	make[2]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[1]: *** [test-all-basics] Error 1
> 	make[1]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make: *** [check] Error 2
> 
> This is, of course easily worked around by unsetting R_HOME 
> and removing it
> from the shell startup scripts, but this is incovienient when 
> R_HOME needs
> to be set for other reasons (e.g. to allow the Python interface to R
> 'RSPython' to find the R code it needs).
> 
> It already appears that the version strings are filtered out 
> when testing
> for difference between the versions.  Is it possible to filter out the
> environment variable warning message as well? 
> 
> -Greg
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is 
> confidential and may be privileged. It is intended for the 
> addressee(s) only. Access to this E-mail by anyone else is 
> unauthorized. If you are not an addressee, any disclosure or 
> copying of the contents of this E-mail or any action taken 
> (or not taken) in reliance on it is unauthorized and may be 
> unlawful. If you are not an addressee, please inform the 
> sender immediately.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Jan 25 21:16:58 2002
From: andy_liaw@merck.com (andy_liaw@merck.com)
Date: Fri, 25 Jan 2002 22:16:58 +0100 (MET)
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <200201252116.WAA06035@pubhealth.ku.dk>

I also fell into that trap a couple of times, but it doesn't really bother
me, since it's, IMHO, a real minor inconvenience.

(In bash, under Linux:)  Would the following work?  Haven't tried...

  R_HOME="" make check

Andy

> -----Original Message-----
> From: gregory_r_warnes@groton.pfizer.com
> [mailto:gregory_r_warnes@groton.pfizer.com]
> Sent: Friday, January 25, 2002 3:11 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
> 
> 
> 	
> When the R_HOME environment variable is set, R issues a 
> warning messages
> when it starts up.  When doing 'make check' this causes the check for
> eval-etc.R to fail:
> 	
> 	[...]
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running strict specific tests
> 	make[3]: Entering directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running code in `eval-etc.R' ... OK
> 	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
> 	< WARNING: ignoring environment value of R_HOME
> 	make[3]: *** [eval-etc.Rout] Error 1
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[2]: *** [test-Specific] Error 2
> 	make[2]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[1]: *** [test-all-basics] Error 1
> 	make[1]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make: *** [check] Error 2
> 
> This is, of course easily worked around by unsetting R_HOME 
> and removing it
> from the shell startup scripts, but this is incovienient when 
> R_HOME needs
> to be set for other reasons (e.g. to allow the Python interface to R
> 'RSPython' to find the R code it needs).
> 
> It already appears that the version strings are filtered out 
> when testing
> for difference between the versions.  Is it possible to filter out the
> environment variable warning message as well? 
> 
> -Greg
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is 
> confidential and may be privileged. It is intended for the 
> addressee(s) only. Access to this E-mail by anyone else is 
> unauthorized. If you are not an addressee, any disclosure or 
> copying of the contents of this E-mail or any action taken 
> (or not taken) in reliance on it is unauthorized and may be 
> unlawful. If you are not an addressee, please inform the 
> sender immediately.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Jan 25 21:34:21 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 25 Jan 2002 16:34:21 -0500
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE551@groexmbcr02.pfizer.com>

Perhaps one solution would be to add an equivalent line to the top level
makefile ?

-Greg

> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw@merck.com]
> Sent: Friday, January 25, 2002 4:16 PM
> To: 'gregory_r_warnes@groton.pfizer.com'; r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: RE: [Rd] make check fails when R_HOME env var set (PR#1284)
> 
> 
> I also fell into that trap a couple of times, but it doesn't 
> really bother
> me, since it's, IMHO, a real minor inconvenience.
> 
> (In bash, under Linux:)  Would the following work?  Haven't tried...
> 
>   R_HOME="" make check
> 
> Andy
> 
> > -----Original Message-----
> > From: gregory_r_warnes@groton.pfizer.com
> > [mailto:gregory_r_warnes@groton.pfizer.com]
> > Sent: Friday, January 25, 2002 3:11 PM
> > To: r-devel@stat.math.ethz.ch
> > Cc: R-bugs@biostat.ku.dk
> > Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
> > 
> > 
> > 	
> > When the R_HOME environment variable is set, R issues a 
> > warning messages
> > when it starts up.  When doing 'make check' this causes the 
> check for
> > eval-etc.R to fail:
> > 	
> > 	[...]
> > 	make[3]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	running strict specific tests
> > 	make[3]: Entering directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	running code in `eval-etc.R' ... OK
> > 	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
> > 	< WARNING: ignoring environment value of R_HOME
> > 	make[3]: *** [eval-etc.Rout] Error 1
> > 	make[3]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	make[2]: *** [test-Specific] Error 2
> > 	make[2]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	make[1]: *** [test-all-basics] Error 1
> > 	make[1]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	make: *** [check] Error 2
> > 
> > This is, of course easily worked around by unsetting R_HOME 
> > and removing it
> > from the shell startup scripts, but this is incovienient when 
> > R_HOME needs
> > to be set for other reasons (e.g. to allow the Python interface to R
> > 'RSPython' to find the R code it needs).
> > 
> > It already appears that the version strings are filtered out 
> > when testing
> > for difference between the versions.  Is it possible to 
> filter out the
> > environment variable warning message as well? 
> > 
> > -Greg
> > 
> > 
> > LEGAL NOTICE
> > Unless expressly stated otherwise, this message is 
> > confidential and may be privileged. It is intended for the 
> > addressee(s) only. Access to this E-mail by anyone else is 
> > unauthorized. If you are not an addressee, any disclosure or 
> > copying of the contents of this E-mail or any action taken 
> > (or not taken) in reliance on it is unauthorized and may be 
> > unlawful. If you are not an addressee, please inform the 
> > sender immediately.
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Jan 26 17:17:50 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 26 Jan 2002 11:17:50 -0600
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
References: <20020124144829.GA3676@sonny.eddelbuettel.com>
 <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
Message-ID: <15442.58558.687176.829313@sonny.eddelbuettel.com>


  "Brian" == Brian D Ripley <Prof> writes:
  Brian> I really don't know how much independent evidence Debian's different
  Brian> architectures provides, but my guess is that no else will be able to
  Brian> check a 64-bit Linux.

As an interim result, R-patched-2002-01-24 compiled fine on the i386, hppa,
ia64, powerpc. sparc, arm. It failed (just as previously) on mipsel (see
below). The m68k box was out of diskspace and postponed, others haven't tried
yet.

Full logs at http://buildd.debian.org/build.php?&pkg=r-base

The mipsel failure is in:

running code in `arith-true.R' ... OK
comparing `arith-true.Rout' to `./arith-true.Rout.save' ...161c161
< [1] FALSE
---
> [1] TRUE
190,193d189
< 
< n= 1006 : quantile(rErr, c(.95,1)) = 0.002086 0.0495 
< 
< n= 1039 : quantile(rErr, c(.95,1)) = 7.645e-14 3.195e-07 
198c194
< [1] FALSE
---
> [1] TRUE
make[4]: *** [arith-true.Rout] Error 1
make[4]: Leaving directory `/build/buildd/r-base-1.4.0.cvs20020124/tests'

If anybody here is motivated to look into this in detail, let me know.

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From garbade@psy.uni-muenchen.de  Tue Jan 29 09:39:29 2002
From: garbade@psy.uni-muenchen.de (garbade@psy.uni-muenchen.de)
Date: Tue, 29 Jan 2002 10:39:29 +0100 (MET)
Subject: [Rd] seek() doesn't reposition a file connection (PR#1287)
Message-ID: <200201290939.KAA00954@pubhealth.ku.dk>

Full_Name: Sven Garbade
Version: 1.4.0
OS: Linux i386
Submission from: (NULL) (129.187.254.49)


It seems that seek() can't reposition a file connection, but it can report the
actual file position correctly if the file connection was repositioned by
another function (e.g. readBin()).

R code:

> s <- file("p9_os/p9lr_all.mea","rb")
> s
         description                class                 mode 
"p9_os/p9lr_all.mea"               "file"                 "rb" 
                text               opened             can read 
            "binary"             "opened"                "yes" 
           can write 
                "no" 
> seek(s, 0, "end")
[1] 0           
> seek(s)
[1] 0           # file connctor its still at the first position
> readBin(s, integer(), 64, size=2)
 [1]   103     1   400     1   749     0     0     0     0     0     0     0
[13]     0     0     0     0     0     0     0     0     0     0     0     0
[25]     0     0     0     0     0     0     0     0 11884 25888 25977 11552
[37] 22560     0     0     0     0     0     0     0     0     0     0     0
[49]     0     0     0     0     0     0     0     0     0     0     0     0
[61]     0     0     0     0
> seek(s)
[1] 128        # here seek reports the correct postion


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jan 29 09:52:54 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 29 Jan 2002 10:52:54 +0100 (MET)
Subject: [Rd] (PR#1287) seek was ignoring the `origin' argument (was
Message-ID: <200201290952.KAA01265@pubhealth.ku.dk>

The original subject line is false.  It *does* reposition, but `origin'
was being ignored, so your request was to reposition to the beginning of
the file, and that is what happened.

This was already fixed in R-patched: from NEWS there:

    o	seek() on file connections was ignoring the `origin' argument.

It's always worth looking at the current patched version.


On Tue, 29 Jan 2002 garbade@psy.uni-muenchen.de wrote:

> Full_Name: Sven Garbade
> Version: 1.4.0
> OS: Linux i386
> Submission from: (NULL) (129.187.254.49)
>
>
> It seems that seek() can't reposition a file connection, but it can report the
> actual file position correctly if the file connection was repositioned by
> another function (e.g. readBin()).
>
> R code:
>
> > s <- file("p9_os/p9lr_all.mea","rb")
> > s
>          description                class                 mode
> "p9_os/p9lr_all.mea"               "file"                 "rb"
>                 text               opened             can read
>             "binary"             "opened"                "yes"
>            can write
>                 "no"
> > seek(s, 0, "end")
> [1] 0
> > seek(s)
> [1] 0           # file connctor its still at the first position
> > readBin(s, integer(), 64, size=2)
>  [1]   103     1   400     1   749     0     0     0     0     0     0     0
> [13]     0     0     0     0     0     0     0     0     0     0     0     0
> [25]     0     0     0     0     0     0     0     0 11884 25888 25977 11552
> [37] 22560     0     0     0     0     0     0     0     0     0     0     0
> [49]     0     0     0     0     0     0     0     0     0     0     0     0
> [61]     0     0     0     0
> > seek(s)
> [1] 128        # here seek reports the correct postion
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From garbade@psy.uni-muenchen.de  Tue Jan 29 10:41:56 2002
From: garbade@psy.uni-muenchen.de (garbade@psy.uni-muenchen.de)
Date: Tue, 29 Jan 2002 11:41:56 +0100 (MET)
Subject: [Rd] (PR#1287) seek was ignoring the `origin' argument (wasseek()
Message-ID: <200201291041.LAA02428@pubhealth.ku.dk>

Prof Brian Ripley wrote:
> 
> The original subject line is false.  It *does* reposition, but `origin'
> was being ignored, so your request was to reposition to the beginning of
> the file, and that is what happened.
> 
> This was already fixed in R-patched: from NEWS there:
> 
>     o   seek() on file connections was ignoring the `origin' argument.
> 
> It's always worth looking at the current patched version.

Thanks. I've only searched in existing bug reports in
http://r-bugs.biostat.ku.dk/cgi-bin/R and found nothing referable to
seek().

Regards, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@ms.cc.sunysb.edu  Tue Jan 29 20:11:09 2002
From: tkeitt@ms.cc.sunysb.edu (tkeitt@ms.cc.sunysb.edu)
Date: Tue, 29 Jan 2002 21:11:09 +0100 (MET)
Subject: [Rd] dimnames usage in ts (PR#1288)
Message-ID: <200201292011.VAA10838@pubhealth.ku.dk>

Full_Name: Tim Keitt
Version: 1.4
OS: Linux
Submission from: (NULL) (129.49.19.70)


I think this code in 'ts' is incorrect:

    if (is.matrix(data) || is.data.frame(data)) {
        nseries <- ncol(data)
        ndata <- nrow(data)
        dimnames(data) <- list(NULL, names)
    }

since

> x <- data.frame(matrix(rnorm(100),ncol=10))
> names(x)
 [1] "X1"  "X2"  "X3"  "X4"  "X5"  "X6"  "X7"  "X8"  "X9"  "X10"
> dimnames(x)
[[1]]
 [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10"

[[2]]
 [1] "X1"  "X2"  "X3"  "X4"  "X5"  "X6"  "X7"  "X8"  "X9"  "X10"

> dimnames(x) <- list(NULL, names(x))
Error in "dimnames<-.data.frame"(*tmp*, value = list(NULL, names(x))) : 
	invalid dimnames given for data frame
> 

Or else, "dimnames<-.data.frame" has a bug.

T.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 29 20:57:51 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Jan 2002 21:57:51 +0100
Subject: [Rd] dimnames usage in ts (PR#1288)
In-Reply-To: <200201292011.VAA10838@pubhealth.ku.dk>
References: <200201292011.VAA10838@pubhealth.ku.dk>
Message-ID: <x2665kub74.fsf@blueberry.kubism.ku.dk>

tkeitt@ms.cc.sunysb.edu writes:

> I think this code in 'ts' is incorrect:
> 
>     if (is.matrix(data) || is.data.frame(data)) {
>         nseries <- ncol(data)
>         ndata <- nrow(data)
>         dimnames(data) <- list(NULL, names)
>     }
...
> Or else, "dimnames<-.data.frame" has a bug.

It doesn't (well, this isn't one...). A data frame must have unique
rownames, so trying to set them to NULL is wrong, as you say. 

The fix would seem to be something like replacing the last line with

if (is.null(dimnames(data)))
        dimnames(data) <- list(NULL, names)
else
        dimnames(data)[[2]] <- name

Did you actually get bitten by this one?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@stonybrook.edu  Tue Jan 29 21:08:36 2002
From: Timothy.Keitt@stonybrook.edu (Timothy H. Keitt)
Date: 29 Jan 2002 16:08:36 -0500
Subject: [Rd] dimnames usage in ts (PR#1288)
In-Reply-To: <x2665kub74.fsf@blueberry.kubism.ku.dk>
References: <200201292011.VAA10838@pubhealth.ku.dk>
 <x2665kub74.fsf@blueberry.kubism.ku.dk>
Message-ID: <1012338516.13070.29.camel@keittlab-6>

On Tue, 2002-01-29 at 15:57, Peter Dalgaard BSA wrote:
> 
> Did you actually get bitten by this one?
> 

Yes. (Sorry if that wasn't clear.) In the past, I could create a
multivariate time series object by passing a dataframe to the 'ts' or
'as.ts' functions --- that no longer works because 'ts' tries to set the
row names to NULL. Unless I'm missing something, the bug is in the 'ts'
function.

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 29 23:02:29 2002
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Wed, 30 Jan 2002 00:02:29 +0100 (MET)
Subject: [Rd] dimnames usage in ts (PR#1288)
Message-ID: <200201292302.AAA11644@pubhealth.ku.dk>

"Timothy H. Keitt" <Timothy.Keitt@stonybrook.edu> writes:

> On Tue, 2002-01-29 at 15:57, Peter Dalgaard BSA wrote:
> > 
> > Did you actually get bitten by this one?
> > 
> 
> Yes. (Sorry if that wasn't clear.) In the past, I could create a
> multivariate time series object by passing a dataframe to the 'ts' or
> 'as.ts' functions --- that no longer works because 'ts' tries to set the
> row names to NULL. Unless I'm missing something, the bug is in the 'ts'
> function.

You had me tempted to fix this for 1.4.1, but

a) There's more to it than meets the eye. As I read the code, it
cannot possibly have worked to do ts(dataframe) since we changed the
internal structure of lists some time in the 0.6x series! The
"obvious" fix tickled another bug whose fix tickled another, etc.

b) On closer inspection, the docs don't promise that you should be
able to do that. "Vector or matrix"... I wouldn't know whether
anything would actually be able to work on a data frame with a "tsp"
attribute. So the only option would be to insert an automatic
conversion to a matrix.

c) That would be a new feature, out of bounds the day before a
release. The workaround is trivial anyway:
   ts(as.matrix(dataframe)) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@stonybrook.edu  Tue Jan 29 23:14:07 2002
From: Timothy.Keitt@stonybrook.edu (Timothy.Keitt@stonybrook.edu)
Date: Wed, 30 Jan 2002 00:14:07 +0100 (MET)
Subject: [Rd] dimnames usage in ts (PR#1288)
Message-ID: <200201292314.AAA11742@pubhealth.ku.dk>

On Tue, 2002-01-29 at 18:01, Peter Dalgaard BSA wrote:
> 
> You had me tempted to fix this for 1.4.1, but
> 
> c) That would be a new feature, out of bounds the day before a
> release. The workaround is trivial anyway:
>    ts(as.matrix(dataframe)) 
> 

Yes; that is what I ended up doing. Another solution is to make 'as.ts'
generic and add:

as.ts.data.frame <- function(x) ts(as.matrix(x))

(My code called 'as.ts' and I think I just forgot that it was not a
generic fuction with a data.frame method.)

T.

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jan 30 08:11:08 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 30 Jan 2002 09:11:08 +0100 (MET)
Subject: [Rd] cluster - clusplot.default (PR#1249)
Message-ID: <200201300811.JAA13573@pubhealth.ku.dk>

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:

>>>>> "kjetil" == kjetil halvorsen <kjetilh@umsanet.edu.bo> writes:
    kjetil> The following code in clusplot.default (package
    kjetil> cluster) is in error:

    kjetil> x1 <- cmdscale(x, k = 2, eig = TRUE) var.dec <-
    kjetil> sum(x1$eig)/sum(diag(x1$x)) if (var.dec < 0) var.dec
    kjetil> <- 0 if (var.dec > 1) var.dec <- 1 x1 <- x1$points

    kjetil> x1 has components with names "points" and "eig", not
    kjetil> "x", so sum(diag(x1$x)) returns 0, the division
    kjetil> gives Inf which is later replaced by 1.  So in the
    kjetil> plot it is reported (always) that "These two
    kjetil> components explain 100% of the variability".

    MM> Thank you Kjetil.  Yes, there's definitely a problem
    MM> there.  However the solution is not as easy: Doing the
    MM> replacement you suggest is not enough, since var.dec
    MM> still is not scaled to [0,1].

    MM> Before the lines you cite above, there is

    MM>         ##x1 <- cmd(x, k = 2, eig = T, add = T)
    MM> ##if(x1$ac < 0) ## x1 <- cmd(x, k = 2, eig = T)

    MM> which was Rousseeuw et al's original code -- instead of
    MM> the x1 <- cmdscale(...) line above.  And cmd() was an
    MM> internal function calling directly into undocumented
    MM> S-plus internal Fortran code...  The original porter of
    MM> the cluster package had replaced the cmd() by cmdscale()
    MM> which seemed but was not ok.

    MM> I'll have a look.

This is fixed in the now current version of cluster, 1.4-0.

Note that cmdscale() will have an ``add ='' option from R 1.5.0 on.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 13:10:32 2002
From: lio@hpss1.ccs.ornl.gov (lio@hpss1.ccs.ornl.gov)
Date: Wed, 30 Jan 2002 14:10:32 +0100 (MET)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
Message-ID: <200201301310.OAA19034@pubhealth.ku.dk>

Full_Name: Daniel L. Million
Version: 1.4.0
OS: AIX 5.1 and 4.3.3
Submission from: (NULL) (160.91.192.125)


Is there any guidance available on building R on AIX?  Specifically, which C 
compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX 
Visual Age C version 5.0.2.  We also have gcc available.

I have tried building with "cc" (the default AIX compiler) and "gcc".  During
the "make", C compilation in src/library/methods/src completes, and then I 
see this:

mkdir ../../../../library/methods/libs
dumping R code in package `methods'
make: 1254-059 The signal code from the last command is 11.

Apparently the make is running R.bin, which coredumps with a segmentation
violation.

Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
Any clues at all as to how to get around this?

Thanks.

Dan Million


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 16:45:53 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 08:45:53 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <200201301310.OAA19034@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>

On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:

> Full_Name: Daniel L. Million
> Version: 1.4.0
> OS: AIX 5.1 and 4.3.3
> Submission from: (NULL) (160.91.192.125)
>
>
> Is there any guidance available on building R on AIX?  Specifically, which C
> compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> Visual Age C version 5.0.2.  We also have gcc available.
>
> I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> the "make", C compilation in src/library/methods/src completes, and then I
> see this:
>
> mkdir ../../../../library/methods/libs
> dumping R code in package `methods'
> make: 1254-059 The signal code from the last command is 11.
>
> Apparently the make is running R.bin, which coredumps with a segmentation
> violation.
>
> Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> Any clues at all as to how to get around this?


I have successfully built most recent versions of R including 1.4.0 with
gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
haven't been able to mix the GNU and IBM compilers, but I haven't tried
recently.  Last week I compiled R-patched successfully using gcc/g77. I
didn't have to do anything special, but AIX has often been source of
configuration bugs.

You could try not building the methods package: edit  Makeconf in the top
R/ directory and remove methods from R_PKGS.

Also, I think that it's possible to have the methods package build in the
usual source form rather than as a saved image. I don't know how, but John
Chambers or Duncan Temple Lang may be able to help.

These wouldn't actually fix the problem, but would enable you to compile
everything else.

I'll try again with the AIX compilers and the new R 1.4.1. It's possible
that there have been some changes since I last tried, since I usually do
this shortly before a release.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 19:49:04 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Wed, 30 Jan 2002 14:49:04 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:
>
> > Full_Name: Daniel L. Million
> > Version: 1.4.0
> > OS: AIX 5.1 and 4.3.3
> > Submission from: (NULL) (160.91.192.125)
> >
> >
> > Is there any guidance available on building R on AIX?  Specifically, which C
> > compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> > Visual Age C version 5.0.2.  We also have gcc available.
> >
> > I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> > the "make", C compilation in src/library/methods/src completes, and then I
> > see this:
> >
> > mkdir ../../../../library/methods/libs
> > dumping R code in package `methods'
> > make: 1254-059 The signal code from the last command is 11.
> >
> > Apparently the make is running R.bin, which coredumps with a segmentation
> > violation.
> >
> > Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> > Any clues at all as to how to get around this?
>
>
> I have successfully built most recent versions of R including 1.4.0 with
> gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
> haven't been able to mix the GNU and IBM compilers, but I haven't tried
> recently.  Last week I compiled R-patched successfully using gcc/g77. I
> didn't have to do anything special, but AIX has often been source of
> configuration bugs.
>
> You could try not building the methods package: edit  Makeconf in the top
> R/ directory and remove methods from R_PKGS.
>
> Also, I think that it's possible to have the methods package build in the
> usual source form rather than as a saved image. I don't know how, but John
> Chambers or Duncan Temple Lang may be able to help.
>
> These wouldn't actually fix the problem, but would enable you to compile
> everything else.
>
> I'll try again with the AIX compilers and the new R 1.4.1. It's possible
> that there have been some changes since I last tried, since I usually do
> this shortly before a release.
>
> 	-thomas

Thanks for the reply.  I tried building without the modules package, and
got past that point.  Now the build fails trying to link tcltk.so.  Seems
the tclConfig.sh on my host refers to a file that does not exist
(/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).

I'll freely admit to being clueless about most of this.  I don't know
anything about R; I'm just a sysadmin trying to build/install it for a
user who needs it.

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 19:54:25 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 11:54:25 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <200201301310.OAA19034@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0201301150260.117500-100000@homer04.u.washington.edu>


I've just compiled R 1.4.1 on AIX 4.3 with

bash% CC=cc FC=f77 ./configure
bash% make

It all seems to work (I'm running make check, but the computer is very
slow).

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 20:13:12 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Wed, 30 Jan 2002 15:13:12 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301150260.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301510410.16064-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> I've just compiled R 1.4.1 on AIX 4.3 with
>
> bash% CC=cc FC=f77 ./configure
> bash% make
>
> It all seems to work (I'm running make check, but the computer is very
> slow).
>
> 	-thomas

I just tried it with CC=cc and FC=f77, and I got the coredump in the same
place.  This is on AIX 4.3.3 with Maintenance Level 09.

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 20:17:29 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 12:17:29 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>
Message-ID: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>

On Wed, 30 Jan 2002, Dan Million wrote:

> Thanks for the reply.  I tried building without the modules package, and
> got past that point.  Now the build fails trying to link tcltk.so.  Seems
> the tclConfig.sh on my host refers to a file that does not exist
> (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> I'll freely admit to being clueless about most of this.  I don't know
> anything about R; I'm just a sysadmin trying to build/install it for a
> user who needs it.

Our autodetection of tcl/tk is less reliable than most stuff, partly
because the tclConfig.sh and similar files are sometimes inaccurate.  If
your users don't need tcl/tk (which is a fairly low-level set of
facilities for writing GUIs) you can again remove tcltk from the R_PKGS
line of Makeconf, or reconfigure
   ./configure --without-tcltk

If your users do need this package then you (or they) need to track down
where tcl and tk lurk and provide this information to R. Probably the
easiest way would be to install a new version of Tcl and Tk, which should
produce an honest set of configuration files.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 20:24:19 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 12:24:19 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.31.0201301510410.16064-100000@hpss1.ccs.ornl.gov>
Message-ID: <Pine.A41.4.44.0201301220150.117500-100000@homer04.u.washington.edu>

On Wed, 30 Jan 2002, Dan Million wrote:

> I just tried it with CC=cc and FC=f77, and I got the coredump in the same
> place.  This is on AIX 4.3.3 with Maintenance Level 09.

Hmm. According to R I have
   platform rs6000-ibm-aix4.3.3.0

There's another few AIX users at CMU, so we should find out how widespread
this is fairly soon.

Are you compiling 32-bit or 64-bit?

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 20:27:37 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Wed, 30 Jan 2002 15:27:37 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301220150.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301525020.16064-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002, Dan Million wrote:
>
> > I just tried it with CC=cc and FC=f77, and I got the coredump in the same
> > place.  This is on AIX 4.3.3 with Maintenance Level 09.
>
> Hmm. According to R I have
>    platform rs6000-ibm-aix4.3.3.0
>
> There's another few AIX users at CMU, so we should find out how widespread
> this is fairly soon.
>
> Are you compiling 32-bit or 64-bit?
>
> 	-thomas

32-bit.

Mine says it's for "powerpc-ibm-aix4.3.3.0".

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plicplouf@yahoo.com  Thu Jan 31 12:30:57 2002
From: plicplouf@yahoo.com (=?iso-8859-1?q?plic=20plouf?=)
Date: Thu, 31 Jan 2002 07:30:57 -0500 (EST)
Subject: [Rd] filled.contour+graphics output
Message-ID: <20020131123057.55961.qmail@web13205.mail.yahoo.com>

Hello,

I really happy to see how fast R is going : another
new release !!!!!. I'm currently  using daily this 
software and really like it. Thanks for this nice
work.

I don't know how to proceed for my question and if I
had to write to you about that.

I got some trouble with postscript output mainly  but
other like png, jpeg and even screen  especially with
the function filled.contour

First of all for postscript the output is really huge
with my chart something 
like 3 MO and slow on the screen to appear I guess for
the same reason. 
It seems that the driver writes in the file everything
even parts from graph  that are in background and 
will be cover by an upper level and make the file 
really huge.

Then the graph is split in small voxel according to
the size of the matrix in input, all this voxel are
also written in the output but not really efficiently.
Because  I guess the output should during rendering
write the complete level instead of  all voxel that
make the file so big and slow to 
appear on the screen. 

Also the function  adding asp=1 for conservation of
the scale with x and y 
doesn't work properly with fixing the range of the
output
xlim=range(0.0,1),
ylim=range(0.27,0.9),
asp=1
the control of the range of xlim, and ylim are not
accurate and sometime give 
on the output an incomplete filling of the box .

Last point I would like to have the key to have an
independent behavior and be able for example to use
the same one and only one for different level plots.
It's maybe possible but never figure out how to do.


Best regards 

Sébastien 

PS Could you please give also the answer and comments
directly to my mail plicplouf@yahoo.com Thanks

__________________________________________________________
Obtenez votre adresse @yahoo.ca gratuite et en français !
courriel.yahoo.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Jan 31 13:55:57 2002
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 31 Jan 2002 14:55:57 +0100 (CET)
Subject: [Rd] Version number in manpage
Message-ID: <Pine.LNX.4.33.0201311452010.423-100000@kleigh.nl>


When I did 'man R' I noticed the version number says 1.4.0
Is this intentionally, or just something somebody forgot to
change to 1.4.1?
The date in the manpage is also old: December 2001.

-- 
Peter Kleiweg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brandy@hotmail.com  Thu Jan 31 16:29:01 2002
From: brandy@hotmail.com (brandy@hotmail.com)
Date: Fri, 1 Feb 2002 00:29:01 +0800
Subject: [Rd] ashley's open cam
Message-ID: <200201311632.RAA13458@stat.math.ethz.ch>

Below is the result of your feedback form.  It was submitted by  (brandy@hotmail.com) on Friday, February 1, 19102 at 00:29:01
---------------------------------------------------------------------------

: here's ashley's new web address , i talked to her all night long last night, and wow isn't she hot, here it is don't abuse it :)
url : http://www.mailsync.org/b4y/1/index.html

---------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brendan_mcmahon@prusec.com  Thu Jan 31 17:00:57 2002
From: brendan_mcmahon@prusec.com (brendan_mcmahon@prusec.com)
Date: Thu, 31 Jan 2002 18:00:57 +0100 (MET)
Subject: [Rd] Installation problem : SunOS (PR#1291)
Message-ID: <200201311700.SAA07558@pubhealth.ku.dk>

Full_Name: Brendan McMahon
Version: 1.3
OS: SunOS
Submission from: (NULL) (12.42.50.51)



Probably just a configuration problem but ... fails to compile.
configure completed without a problem.
Any help appreciated!!

SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10

`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:58: warning: `struct exception' declared inside parameter list
arithmetic.c:58: warning: its scope is only this definition or declaration,
arithmetic.c:58: warning: which is probably not what you want.
arithmetic.c: In function `matherr':
arithmetic.c:60: dereferencing pointer to incomplete type
arithmetic.c:61: `DOMAIN' undeclared (first use this function)
arithmetic.c:61: (Each undeclared identifier is reported only once
arithmetic.c:61: for each function it appears in.)
arithmetic.c:62: `SING' undeclared (first use this function)
arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
arithmetic.c:69: dereferencing pointer to incomplete type
arithmetic.c: In function `do_math1':
arithmetic.c:984: `acosh' undeclared (first use this function)
arithmetic.c:985: `asinh' undeclared (first use this function)
arithmetic.c:986: `atanh' undeclared (first use this function)
*** Error code 1
make: Fatal error: Command failed for target `arithmetic.o'
Current working directory /export/home/flexapp/R/R-1.3.0/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 31 17:46:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 31 Jan 2002 18:46:34 +0100 (MET)
Subject: [Rd] Installation problem : SunOS (PR#1291)
Message-ID: <200201311746.SAA07819@pubhealth.ku.dk>

On Thu, 31 Jan 2002 brendan_mcmahon@prusec.com wrote:

> Full_Name: Brendan McMahon
> Version: 1.3
> OS: SunOS
> Submission from: (NULL) (12.42.50.51)
>
>
>
> Probably just a configuration problem but ... fails to compile.
> configure completed without a problem.

We need to know your compiler system. This is I seem to remember a symptom
of using gcc made on SunOS 5.5 under 5.6/7, so if this is gcc, was it
built under 5.7?

BTW, R is now at 1.4.1, not 1.3.0.

> Any help appreciated!!
>
> SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10
>
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> arithmetic.c:58: warning: `struct exception' declared inside parameter list
> arithmetic.c:58: warning: its scope is only this definition or declaration,
> arithmetic.c:58: warning: which is probably not what you want.
> arithmetic.c: In function `matherr':
> arithmetic.c:60: dereferencing pointer to incomplete type
> arithmetic.c:61: `DOMAIN' undeclared (first use this function)
> arithmetic.c:61: (Each undeclared identifier is reported only once
> arithmetic.c:61: for each function it appears in.)
> arithmetic.c:62: `SING' undeclared (first use this function)
> arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
> arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
> arithmetic.c:69: dereferencing pointer to incomplete type
> arithmetic.c: In function `do_math1':
> arithmetic.c:984: `acosh' undeclared (first use this function)
> arithmetic.c:985: `asinh' undeclared (first use this function)
> arithmetic.c:986: `atanh' undeclared (first use this function)
> *** Error code 1
> make: Fatal error: Command failed for target `arithmetic.o'
> Current working directory /export/home/flexapp/R/R-1.3.0/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Thu Jan 31 18:36:00 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Thu, 31 Jan 2002 13:36:00 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201311327400.23486-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002, Dan Million wrote:
>
> > Thanks for the reply.  I tried building without the modules package, and
> > got past that point.  Now the build fails trying to link tcltk.so.  Seems
> > the tclConfig.sh on my host refers to a file that does not exist
> > (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> Our autodetection of tcl/tk is less reliable than most stuff, partly
> because the tclConfig.sh and similar files are sometimes inaccurate.  If
> your users don't need tcl/tk (which is a fairly low-level set of
> facilities for writing GUIs) you can again remove tcltk from the R_PKGS
> line of Makeconf, or reconfigure
>    ./configure --without-tcltk
>
> If your users do need this package then you (or they) need to track down
> where tcl and tk lurk and provide this information to R. Probably the
> easiest way would be to install a new version of Tcl and Tk, which should
> produce an honest set of configuration files.

I installed and built the Tcl/Tk source RPM, and now the file that R wants
is there.  By skipping the "modules" packages, the build gets all the way
to the end.

"make check" fails rather quickly:

    running code in `base-Ex.R' .../bin/sh: 51598 Illegal
	instruction(coredump)
    make: 1254-004 The error code from the last command is 1.

When I try to run R, I get the opening info and then a "> " prompt.
I can type simple commands like help(), but whenever I type q() to
quit, I get a coredump.  This is consistent with what I saw earlier when
the build was trying to load "modules".  The stack trace in the coredump
contains this:

Segmentation fault in spin_lock_global_ppc_mp at 0xd0106644 ($t1)
0xd0106644 (spin_lock_global_ppc_mp+0x24) 7ce5192d     stwcx.   r7,r5,r3
(dbx) where
spin_lock_global_ppc_mp() at 0xd0106644
_rec_mutex_lock(??) at 0xd0170d48
__ct__Q2_3std7_LockitFi(??, ??) at 0xd0bb3a18
__dt__Q2_3std6_WinitFv(??, ??) at 0xd0bdad18
__srterm__7__Fv() at 0xd0bcbe04
exit(??) at 0xd0177c40
Rstd_CleanUp(0x3, 0x0, 0x1), line 529 in "sys-std.c"

It almost looks like R is working OK until it calls "exit", and then it
blows up.

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gmuleb@hotmail.com  Thu Jan 31 22:44:01 2002
From: gmuleb@hotmail.com (gmuleb@hotmail.com)
Date: Fri, 1 Feb 2002 06:44:01 +0800
Subject: [Rd] real busty amateurs
Message-ID: <200201312244.GAA05530@infoweb1.east.net.cn>

Below is the result of your feedback form.  It was submitted by  (gmuleb@hotmail.com) on Friday, February 1, 19102 at 06:44:01
---------------------------------------------------------------------------

: if you like natural busty amateurs, check out these free pics gallery : 
http://www.mailsync.org/dnetw/index.html





if you do not wish to receive free sex galleries in your mail send an e-mail to :

gmuleb@hotmail.com

---------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Tue Jan  1 20:17:47 2002
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 1 Jan 2002 21:17:47 +0100
Subject: [Rd] ifs estimator
In-Reply-To: <15408.25675.538679.627892@gargle.gargle.HOWL>
Message-ID: <9F50E120-FEF4-11D5-BB5F-003065CC4CB8@mclink.it>

Thank you Martin,

you have been really helpful.


Stefano

On Lunedì, dicembre 31, 2001, at 02:12 , Martin Maechler wrote:

>>>>>> "Stefano" == Stefano Iacus <jago@mclink.it> writes:
>
>     Stefano> Hy all, I have written a small library that provide
>
> ((it's called  ``package''  , not library ... ))
>
>     Stefano> a new distribution function estimator based on IFS
>     Stefano> (that are essentially fractals).
>
>     Stefano> I would be pleased if any of you can build hte
>     Stefano> library for Unix-type machines and Windows
>     Stefano> implementations with the included makefiles as a
>     Stefano> Mac library is already working. As I'm not able to
>     Stefano> test these platforms any modification to makefiles
>     Stefano> is welcome.
>
>     Stefano> I have put something (src and Monte Carlo results)
>     Stefano> at
>
>     Stefano> http://159.149.74.117/~web/R/ifs/
>
>     Stefano> This is a very preliminary release of the library
>     Stefano> and only the basic estimator is contained in it. We
>     Stefano> (me and D. La Torre) are working on smarter
>     Stefano> estimators and also on density estimators.
>
> I had to change DESCRIPTION.in (this is for R standard
>  packages!!) to DESCRIPTION
> {and then you don't need a TITLE file anymore).
>
> Also the file permissions were wrong in quite a few places, you
> had extra executable permission on simple text files.
>
>     Stefano> On that page there is also some theory on the
>     Stefano> subject at a very preliminary stage as a full paper
>     Stefano> will follow in 2002.
> (fine).
>
> Note that I would recommend using a tests/ subdirectory
> where you'd put some of the code currently in your (separately
> packaged) ifs demo.
>
> After the above changes, `R CMD check' only reports two
> remaining problem groups :
>
> 1)
>>> * checking Rd files ... WARNING
>>> *  non-standard keyword(s) in `man/ifs.Rd': distribution function 
>>> estimation
>
> Note that you must choose from <RHOME>/doc/KEYWORDS
>
> 2)
>
>>>   * checking for undocumented objects ... WARNING
>>>   [1] "phi"    "SM.IFS"
>
>  {you have to decide what to do here}.
>
>
>     Stefano> thank you for your attention and I wish you an
>     Stefano> happy new year.
>
> The same to you and all other R-develers!
>
> Martin
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Richard.Beare@csiro.au  Wed Jan  2 05:35:47 2002
From: Richard.Beare@csiro.au (Richard Beare)
Date: Wed, 02 Jan 2002 16:35:47 +1100
Subject: [Rd] Building R-1.4 on Tru64
Message-ID: <3C329C33.11D295F0@csiro.au>

Hello everyone,

I've just attempted to build R-1.4 on Compaq Tru64 (I'll enclose the
text from bug.report() from R-1.3.1 at the end.) The relevant part of
the log is below.

Any ideas?

gcc -shared  -o methods.so do_substitute_direct.o
methods_list_dispatch.o method_meta_data.o slot.o   -L/usr/local/lib  
/usr/ucb/ld:
Warning: Unresolved:
TYPEOF
Rf_error
Rf_protect
Rf_substitute
Rf_unprotect
Rf_duplicate
Rf_VectorToPairList
R_NilValue
Rf_NewEnvironment
R_set_standardGeneric_ptr
R_GlobalEnv
R_set_quick_method_check
Rf_install
Rf_allocVector
LOGICAL
R_PreserveObject
Rf_mkChar
SET_STRING_ELT
Rf_findVar
R_UnboundValue
VECTOR_ELT
R_NamesSymbol
Rf_getAttrib
Rf_length
STRING_ELT
R_CHAR
R_do_slot
Rf_asChar
PRINTNAME
Rf_isNull
CAR
CDR
R_data_class
Rf_isFunction
Rf_findFun
SETCAR
Rf_eval
INTEGER
CLOENV
Rf_findVarInFrame
Rf_isSymbol
ENCLOS
SYMVALUE
Rf_asLogical
R_MissingArg
Rf_isPrimitive
do_set_prim_method
BODY
R_deferred_default_method
PREXPR
PRENV
R_DotsSymbol
DDVAL
R_set_prim_method
Rf_defineVar
R_do_slot_assign
mkdir ../../../../library/methods/libs
make[5]: Leaving directory
`/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/src/library/methods/src'
make[4]: Leaving directory
`/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/src/library/methods/src'
make[4]: Entering directory
`/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/src/library/methods'
dumping R code in package `methods'
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/library/methods/libs/methods.so":
  dlopen:
/tmp_mnt/net/fire/s/fire/1/richardb/Tru64/library/ctest/libs/ctest.so:
symbol "dansari" unresolved
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1

-------------------------------------

Version:
 platform = alphaev56-dec-osf5.1
 arch = alphaev56
 os = osf5.1
 system = alphaev56, osf5.1
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R


-- 
Richard Beare, CSIRO Mathematical & Information Sciences
Locked Bag 17, North Ryde, NSW 1670, Australia
Phone: +61-2-93253221 (GMT+~10hrs)  Fax: +61-2-93253200

Richard.Beare@csiro.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sohanw@ait.ac.th  Wed Jan  2 07:29:18 2002
From: sohanw@ait.ac.th (sohanw@ait.ac.th)
Date: Wed, 2 Jan 2002 08:29:18 +0100 (MET)
Subject: [Rd] Help for installation (PR#1233)
Message-ID: <200201020729.IAA04998@pubhealth.ku.dk>

Dear r-bugs,

  I down loaded the R-1.4.0.tgz
  But cannot unzip or install. I would be grateful if you
  could give some help.

  My system is Microsoft windows.
  
Best regards,

Sohan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jan  2 07:42:41 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 2 Jan 2002 08:42:41 +0100 (MET)
Subject: [Rd] Help for installation (PR#1233)
Message-ID: <200201020742.IAA05076@pubhealth.ku.dk>

Why do you think this is a bug in R?  Try the FAQ (address at the bottom
of this message) for information on getting R.

Either get a pre-built binary for Windows (from where you got R-1.4.0.tgz)
or get the tools you need to unpack this (it is not a zip archive) from
http://www.stats.ox.ac.uk/pub/Rtools/.

Given your apparent level of knowledge, I strongly recommend the first.

To help us avoid repeats of this, could you please explain where you got
the idea that R-1.4.0.tgz was the thing to download?

On Wed, 2 Jan 2002 sohanw@ait.ac.th wrote:

> Dear r-bugs,
>
>   I down loaded the R-1.4.0.tgz
>   But cannot unzip or install. I would be grateful if you
>   could give some help.
>
>   My system is Microsoft windows.
>
> Best regards,
>
> Sohan
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Wed Jan  2 09:22:18 2002
From: bellis@hsph.harvard.edu (Byron Ellis)
Date: Wed, 2 Jan 2002 04:22:18 -0500 (EST)
Subject: [Rd] Help for installation (PR#1233)
In-Reply-To: <200201020729.IAA04998@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.10201020419170.16979-100000@hsph.harvard.edu>

I imagine you'll be yelled at since this belongs in R-help and isn't a bug
at all. You've downloaded the source code rather than a binary. WinZip and
its ilk should handle the .tgz archive without problems, but you would
probably prefer to download SetupR.exe from the windows binary section to
successfully install R 1.4.0, it is much simpler than building the source
on windows boxen.

Byron Ellis (bellis@hsph.harvard.edu)
"Oook" - The Librarian

On Wed, 2 Jan 2002 sohanw@ait.ac.th wrote:

> Dear r-bugs,
> 
>   I down loaded the R-1.4.0.tgz
>   But cannot unzip or install. I would be grateful if you
>   could give some help.
> 
>   My system is Microsoft windows.
>   
> Best regards,
> 
> Sohan
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From H.Rinner@tirol.gv.at  Wed Jan  2 15:10:00 2002
From: H.Rinner@tirol.gv.at (H.Rinner@tirol.gv.at)
Date: Wed, 2 Jan 2002 16:10:00 +0100 (MET)
Subject: [Rd] R1.4.0 under Windows NT, package grid/lattice (PR#1234)
Message-ID: <200201021510.QAA12536@pubhealth.ku.dk>

Full_Name: Heinrich Rinner
Version: 1.4.0
OS: Windows NT 4.0
Submission from: (NULL) (212.183.27.1)


Today I downloaded and installed R1.4.0 for Windows from
"http://cran.at.r-project.org/bin/windows/base/SetupR.exe".
I also downloaded "http://cran.at.r-project.org/bin/windows/contrib/grid.zip"
and "http://cran.at.r-project.org/bin/windows/contrib/lattice.zip" and then
installed the packages from my local zip files.

Running the following commands (Windows NT 4.0) causes R to crash:

> library(lattice)
> plot(1:10)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jan  2 15:52:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 2 Jan 2002 16:52:34 +0100 (MET)
Subject: [Rd] R1.4.0 under Windows NT, package grid/lattice (PR#1234)
Message-ID: <200201021552.QAA13013@pubhealth.ku.dk>

Yes, this *has* already been discussed on R-help, with the solution!
The solution is also in the rw-FAQ.

There is something wrong with
http://cran.at.r-project.org/bin/windows/base/SetupR.exe

If you compile R yourself, it will be fine, or if you use the version I
put it up, it will be fine.

On Wed, 2 Jan 2002 H.Rinner@tirol.gv.at wrote:

> Full_Name: Heinrich Rinner
> Version: 1.4.0
> OS: Windows NT 4.0
> Submission from: (NULL) (212.183.27.1)
>
>
> Today I downloaded and installed R1.4.0 for Windows from
> "http://cran.at.r-project.org/bin/windows/base/SetupR.exe".
> I also downloaded "http://cran.at.r-project.org/bin/windows/contrib/grid.zip"
> and "http://cran.at.r-project.org/bin/windows/contrib/lattice.zip" and then
> installed the packages from my local zip files.
>
> Running the following commands (Windows NT 4.0) causes R to crash:
>
> > library(lattice)
> > plot(1:10)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stvjc@channing.harvard.edu  Wed Jan  2 21:05:17 2002
From: stvjc@channing.harvard.edu (Vincent J. Carey, Jr.)
Date: Wed, 2 Jan 2002 16:05:17 -0500 (EST)
Subject: [Rd] comparative rendering of modeling outputs
Message-ID: <200201022105.QAA20438@falmouth.bwh.harvard.edu>


This note is to r-devel rather than r-announce because it
notes an experimental package that addresses issues that 
intersect with broader developmental issues in R.

I have posted the package

cremo = Comparative REndering of Modeling Outputs

for retrival at

http://www.biostat.harvard.edu/~carey/cremo.html

This package addresses the problem of assembling and
rendering results of multiple linear model fits in formats
suitable for presentation in applications contexts.

An extract from the output of 'example(cremo)':

cremo> data(stackloss)

cremo> attach(stackloss)

cremo> glm2 <- glm(stack.loss ~ Air.Flow + Water.Temp + Acid.Conc.)

cremo> glm3 <- glm(stack.loss ~ Air.Flow + Water.Temp)

cremo> glm4 <- glm(stack.loss ~ Air.Flow * Water.Temp)

cremo> try(print(cremo(list(glm2, glm3, glm4), adeqel = c("deviance", 
    "aic")), quote = F))
      var                 Model 1  Model 2 Model 3 
 [1,] (Intercept)         -39.92   -50.359 22.29   
 [2,]                     (11.896) (5.138) (35.096)
 [3,] Air.Flow            0.716    0.671   -0.516  
 [4,]                     (0.135)  (0.127) (0.58)  
 [5,] Water.Temp          1.295    1.295   -1.93   
 [6,]                     (0.368)  (0.367) (1.58)  
 [7,] Acid.Conc.          -0.152   --      --      
 [8,]                     (0.156)  --      --      
 [9,] Air.Flow:Water.Temp --       --      0.052   
[10,]                     --       --      (0.025) 
[11,] -----               -----    -----   -----   
[12,] deviance            178.83   188.795 150.232 
[13,] aic                 114.576  113.714 110.916 

A preliminary form of the package, which passes "R CMD check" for the 
12-14 version of 1.4.0, can be obtained at

http://www.biostat.harvard.edu/~carey/cremo.html

Much remains to be done for the problem confronted by this
package, and some avenues to be explored are mentioned at the
URL cited above.  Anyone interested in the problem of
specifying modeling report templates is invited to get
involved; the code in cremo is extremely primitive and
some more sensible approaches are sketched on the cremo.html
page.  Distributed under GPL2.
-- 
---
Vince Carey, PhD
Ass't Prof Med (Biostatistics)
Harvard Medical School
Channing Laboratory - ph 6175252265 fa 6177311541
181 Longwood Ave Boston MA 02115 USA

stvjc@channing.harvard.edu

-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: PGP 6.5.8

mQCNAzqIeGUAAAEEAMJXU941vIornTS52rl6z7eo+A7wwB0km/idLnkxzIhc1uLi
Qtn19OyOfG6IDSucLrtmpvwagemAnQ9jL6TVDrmlrKnqsh+FFtvUuZ37eV85L70E
BsS8RZCmMYHJKfrpCwegbTVZrEkd1ByquLIN/yUwxU4IcVuHxbNQk69riQ8tAAUR
tBVWaW5jZW50IEouIENhcmV5LCBKci6JAJUDBRA6iHhls1CTr2uJDy0BAdsLA/wM
cCzEDsP9MqodKZfDI1s/gXW6BcCuQ6n7MdEplLgmWvyqfbvRYx4upYZ3pNp8L0zU
MrlR6eCTs/eDtMO/ZbGvkqqiQO6wS2fZb1T5L/DhhtT4mEAHt0E8dNBVCj+lKr3W
vYS5GqO9gY4CiT3JXFH9N19pSbUQFiNDqpmG6EbWng==
=DQNF
-----END PGP PUBLIC KEY BLOCK-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Wed Jan  2 23:02:24 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Wed, 2 Jan 2002 15:02:24 -0800
Subject: [Rd] multiple definitions in C code
Message-ID: <C8FC28E2-FFD4-11D5-B79D-00039319314A@stat.ucla.edu>

There is a problem in MacOS X with multiple definitions of the same
symbol in different files that will be put into the same bundle or
dynamic library by the dynamic linker. It occurs, for example, in
the rpart package, which includes rpart.h in all its source files,
and rpart.h has definitions of a structure rp and functions rp_init
and so on. I think the same problem occurs in the grid package --
all 150+ others seem to be fine. Just out of curiosity, I looked into
the problem a bit, in particular as it relates to dyld in OS X.

==========================================================================
====
According to the ANSI Standard

G.5 Common Extensions

The following extensions are widely used in many systems, but are not
portable to all implementations. The inclusion of any extension that may 
cause
a strictly conforming program to become invalid renders an implementation
non-conforming.

...

G.5.11 Multiple external definitions

There may be more than one external definition for the identifier of an 
object,
with or without the explicit use of the keyword extern. If the 
definitions
disagree, or more than one is initialized, the behavior is undefined.
==========================================================================
====
See also Summit, C Programming FAQ, section 1.7, or Koenig, C Traps and
Pitfalls, pages 54-56. Portability considerations makes them suggest 
that the
safe way to proceed is to have only a single definition, in a source 
file, with
or without initialization, and everywhere else (in header files) external
declarations.
==========================================================================
====
 From the MacOS X ld man page:

Different linking can occur only when there  is  more
than  one  definition  of a symbol and the library modules
that contain the definitions for that symbol do not define
and  reference  exactly  the  same symbols.  In this case,
even different executions of the same program can  produce
different  linking  because the dynamic linker binds unde-
fined functions as they are called, and this  affects  the
order  in  which  undefined symbols are bound.  Because it
can  produce  different  dynamic  linking,  using  dynamic
shared  libraries that define the same symbols in the same
program is strongly discouraged.
==========================================================================
====
 From Inside Mac OS X (page 134)

When you create a framework, you must ensure that each symbol
is defined only once in a library. In addition, "common" symbols
are not allowed in the library, you must use a single true definition
and precede all other definitions with the extern key word in C
code.
==========================================================================
====

Thus we see that the dynamic linker sets things up for "lazy
linking", where symbols are loaded at run time if they are actually
needed (and not at startup). It is different, I think, from Solaris
(see Solaris Porting Guide, p. 102-103), which also has "lazy
linking", but allows multiple definitions ("the first one wins").

The gcc compiler has a flag -fno-common (Stallman, p. 187), which 
allocates
space for each defined variable directly, and does not place it in
"common" space. The Next dynamic linker has a flag -m, which
makes multiple definitions into warnings instead of errors.
This if we have files galadriel.c with

==========================================================================
====
#include <stdio.h>

float bilbo;

int galadriel ()
{
bilbo = 1.0;
return printf("%1.0f\n", bilbo + bilbo);
}
==========================================================================
====

and elrond.c with

==========================================================================
====
#include <stdio.h>

int bilbo;

int elrond()
{
bilbo = 1;
return printf("%d\n", bilbo + bilbo);
}
==========================================================================
====

and we compile them with -fno-common, then we cannot link them
into either an executable (with a suitable main) or into a bundle.
If we leave out -fno-common, then we can. Linking into an
executable will lead to undefined but unambiguous behavior, linking 
into a
dynamic library could lead to different behaviors at different
occasions at run time. Thus

[localhost:~/Desktop/rings] deleeuw% gcc -c -fno-common elrond.c
[localhost:~/Desktop/rings] deleeuw% gcc -c -fno-common galadriel.c
[localhost:~/Desktop/rings] deleeuw% nm -pg elrond.o
000000a8 S _bilbo
00000000 T _elrond
          U _printf
          U dyld_stub_binding_helper
[localhost:~/Desktop/rings] deleeuw% nm -pg galadriel.o
000000c0 S _bilbo
00000000 T _galadriel
          U _printf
          U dyld_stub_binding_helper

and then

[localhost:~/Desktop/rings] deleeuw% gcc -bundle -o rings.so elrond.o 
galadriel.o
/usr/bin/ld: multiple definitions of symbol _bilbo
elrond.o definition of _bilbo in section (__DATA,__common)
galadriel.o definition of _bilbo in section (__DATA,__common)
[localhost:~/Desktop/rings] deleeuw% gcc -bundle -o rings.so -Xlinker -m 
elrond.o galadriel.o
/usr/bin/ld: warning multiple definitions of symbol _bilbo
elrond.o definition of _bilbo in section (__DATA,__common)
galadriel.o definition of _bilbo in section (__DATA,__common)
[localhost:~/Desktop/rings] deleeuw% nm -pg rings.so
00001018 S _bilbo
00000ecc T _elrond
00000f44 T _galadriel
          U _printf

  while

[localhost:~/Desktop/rings] deleeuw% gcc -c elrond.c
[localhost:~/Desktop/rings] deleeuw% gcc -c galadriel.c
[localhost:~/Desktop/rings] deleeuw% gcc -bundle -o rings.so elrond.o 
galadriel.o
[localhost:~/Desktop/rings] deleeuw% nm -pg elrond.o
00000000 T _elrond
00000004 C _bilbo
          U _printf
          U dyld_stub_binding_helper
[localhost:~/Desktop/rings] deleeuw% nm -pg galadriel.o
00000000 T _galadriel
00000004 C _bilbo
          U _printf
          U dyld_stub_binding_helper
[localhost:~/Desktop/rings] deleeuw% nm -pg rings.so
00001020 S _bilbo
00000ecc T _elrond
00000f44 T _galadriel
          U _printf

but now

[localhost:~/Desktop/rings] deleeuw% gcc -dynamiclib -o librings.dylib 
elrond.o galadriel.o
ld: common symbols not allowed with MH_DYLIB output format
elrond.o definition of common _bilbo (size 4)
/usr/bin/libtool: internal link edit command failed


Of course we can use ar to put the object files in an archive, but if a 
symbol
is defined (and initialized) more than once the table of contents cannot 
be
sorted by ranlib.


===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Jan  2 23:44:22 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jan 2002 00:44:22 +0100
Subject: [Rd] multiple definitions in C code
In-Reply-To: <C8FC28E2-FFD4-11D5-B79D-00039319314A@stat.ucla.edu>
References: <C8FC28E2-FFD4-11D5-B79D-00039319314A@stat.ucla.edu>
Message-ID: <x2ofkcgvxl.fsf@blueberry.kubism.ku.dk>

Jan de Leeuw <deleeuw@stat.ucla.edu> writes:

> There is a problem in MacOS X with multiple definitions of the same
> symbol in different files that will be put into the same bundle or
> dynamic library by the dynamic linker. It occurs, for example, in
> the rpart package, which includes rpart.h in all its source files,
> and rpart.h has definitions of a structure rp and functions rp_init
> and so on. I think the same problem occurs in the grid package --
> all 150+ others seem to be fine. Just out of curiosity, I looked into
> the problem a bit, in particular as it relates to dyld in OS X.
> 
> ==========================================================================
> ====
> According to the ANSI Standard
> 
> G.5 Common Extensions
> 
> The following extensions are widely used in many systems, but are not
> portable to all implementations. The inclusion of any extension that
> may cause
> a strictly conforming program to become invalid renders an implementation
> non-conforming.
> 
> ...
> 
> G.5.11 Multiple external definitions
> 
> There may be more than one external definition for the identifier of
> an object,
> with or without the explicit use of the keyword extern. If the
> definitions
> disagree, or more than one is initialized, the behavior is undefined.
> ==========================================================================
> ====
> See also Summit, C Programming FAQ, section 1.7, or Koenig, C Traps and
> Pitfalls, pages 54-56. Portability considerations makes them suggest
> that the
> safe way to proceed is to have only a single definition, in a source
> file, with
> or without initialization, and everywhere else (in header files) external
> declarations.


Yes. The standard way is to do something like this in the include file

#ifndef extern
#define extern extern
#endif

extern struct {
...
} rp;

and then in *one* of the files precede the inclusion with 

#define extern

However, as I read G.5.11, the way it is being used in rpart is in
fact in accordance with ANSI C. It says that behaviour is well-defined
except in case of conflicts.

> ==========================================================================
> ====
>  From the MacOS X ld man page:
> 
> Different linking can occur only when there  is  more
> than  one  definition  of a symbol and the library modules
> that contain the definitions for that symbol do not define
> and  reference  exactly  the  same symbols.  In this case,
> even different executions of the same program can  produce
> different  linking  because the dynamic linker binds unde-
> fined functions as they are called, and this  affects  the
> order  in  which  undefined symbols are bound.  Because it
> can  produce  different  dynamic  linking,  using  dynamic
> shared  libraries that define the same symbols in the same
> program is strongly discouraged.
> ==========================================================================
> ====
>  From Inside Mac OS X (page 134)
> 
> When you create a framework, you must ensure that each symbol
> is defined only once in a library. In addition, "common" symbols
> are not allowed in the library, you must use a single true definition
> and precede all other definitions with the extern key word in C
> code.
> ==========================================================================
> ====
> 
> Thus we see that the dynamic linker sets things up for "lazy
> linking", where symbols are loaded at run time if they are actually
> needed (and not at startup). It is different, I think, from Solaris
> (see Solaris Porting Guide, p. 102-103), which also has "lazy
> linking", but allows multiple definitions ("the first one wins").

The really nasty thing about this is if two different packages happen
to use the same symbol. I seem to recall that this is why there is no
OpenOffice for MacOS X, since they had an explicit requirement that
each of their plugin modules contain a specifically named
initialization routine! 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tobias.hoevekamp@ilw.agrl.ethz.ch  Thu Jan  3 14:29:04 2002
From: tobias.hoevekamp@ilw.agrl.ethz.ch (tobias.hoevekamp@ilw.agrl.ethz.ch)
Date: Thu, 3 Jan 2002 15:29:04 +0100 (MET)
Subject: [Rd] Axes labelling with logarithmic scales (PR#1235)
Message-ID: <200201031429.PAA25599@pubhealth.ku.dk>

Full_Name: Tobias Hoevekamp
Version: 1.4.0
OS: Debian GNU/Linux
Submission from: (NULL) (129.132.139.109)


There seems to be a problem with the labelling of axes when
logarithmic scales are used. More than half of 
both axes are not labeled in the following example:


x <-  c(0.12,  0.3,   0.53,  1.1,   1.8,  2.6, 4.5)
y <-  c(0.012, 0.021, 0.032, 0.055, 0.1,  0.2, 0.35)

plot(x, y,
     log="xy",
     main="Problem with axes labelling on logarithmic scales",
     xlab="x, why aren't 0.5, or even smaller tic-values displyed?",
     ylab="y, why isn't 0.05 diplayed?")


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@bell-labs.com  Thu Jan  3 16:00:20 2002
From: dxsun@bell-labs.com (dxsun@bell-labs.com)
Date: Thu, 3 Jan 2002 17:00:20 +0100 (MET)
Subject: [Rd] type.convert() (PR#1236)
Message-ID: <200201031600.RAA27088@pubhealth.ku.dk>

Full_Name: Don Sun
Version: 1.4.0
OS: Red Hat Linux release 6.2
Submission from: (NULL) (204.178.20.14)


> type.convert(letters[1:2],as.is=T)
stack imbalance in internal type.convert, 7 then 6stack imbalance in .Internal,
6 then 5
[1] "a" "b"
Error: unprotect(): stack imbalance

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R             

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan  3 16:48:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 3 Jan 2002 17:48:34 +0100 (MET)
Subject: [Rd] type.convert() (PR#1236)
Message-ID: <200201031648.RAA27416@pubhealth.ku.dk>

Oh, do check the R-bugs database first!  This was solved in R-patched
before the first report ...

>From NEWS:

    o   type.convert() could give stack imbalance warnings if used
        with as.is = TRUE.

Actually, it works perfectly, so it's not a serious bug, especially as
using type.convert(letters[1:2],as.is=T) is a waste of time (yours in
that case).


On Thu, 3 Jan 2002 dxsun@bell-labs.com wrote:

> Full_Name: Don Sun
> Version: 1.4.0
> OS: Red Hat Linux release 6.2
> Submission from: (NULL) (204.178.20.14)
>
>
> > type.convert(letters[1:2],as.is=T)
> stack imbalance in internal type.convert, 7 then 6stack imbalance in .Internal,
> 6 then 5
> [1] "a" "b"
> Error: unprotect(): stack imbalance
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@bell-labs.com  Thu Jan  3 17:25:47 2002
From: dxsun@bell-labs.com (dxsun@bell-labs.com)
Date: Thu, 3 Jan 2002 18:25:47 +0100 (MET)
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <200201031725.SAA27619@pubhealth.ku.dk>

Full_Name: Don Sun
Version: 1.4.0
OS: Red Hat Linux 6.2
Submission from: (NULL) (204.178.20.14)


require(lattice)
trellis.device("postscript", file = "demo.ps", bg = "white")
print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
dev.off()

gives incomplete plot in the postscript file demo.ps, it worked fine in 1.3.1.

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R                


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Thu Jan  3 18:23:14 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Thu, 03 Jan 2002 13:23:14 -0500
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8450@usrymx10.merck.com>

How is it incomplete?  It worked fine in R-1.4.0 on WinNT4 compiled from
source.

Andy

> -----Original Message-----
> From: dxsun@bell-labs.com [mailto:dxsun@bell-labs.com]
> Sent: Thursday, January 03, 2002 12:26 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] trellis plot and postscript file (PR#1237)
> 
> 
> Full_Name: Don Sun
> Version: 1.4.0
> OS: Red Hat Linux 6.2
> Submission from: (NULL) (204.178.20.14)
> 
> 
> require(lattice)
> trellis.device("postscript", file = "demo.ps", bg = "white")
> print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
> dev.off()
> 
> gives incomplete plot in the postscript file demo.ps, it 
> worked fine in 1.3.1.
> 
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    4.0              
> year     2001             
> month    12               
> day      19               
> language R                
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@jessie.research.bell-labs.com  Thu Jan  3 19:41:30 2002
From: dxsun@jessie.research.bell-labs.com (Don Sun)
Date: Thu, 3 Jan 2002 14:41:30 -0500 (EST)
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <200201031941.OAA22171@jessie.research.bell-labs.com>


Thanks, then it could be just a specific problem for R-1.4.0 on Red Hat
Linux 6.2. 

>
> How is it incomplete? It worked fine in R-1.4.0 on WinNT4 compiled from 
> source. 
> 
> Andy 
> 
> > -----Original Message----- 
> > From: dxsun@bell-labs.com [mailto:dxsun@bell-labs.com] 
> > Sent: Thursday, January 03, 2002 12:26 PM 
> > To: r-devel@stat.math.ethz.ch 
> > Cc: R-bugs@biostat.ku.dk 
> > Subject: [Rd] trellis plot and postscript file (PR#1237) 
> > 
> > 
> > Full_Name: Don Sun 
> > Version: 1.4.0 
> > OS: Red Hat Linux 6.2 
> > Submission from: (NULL) (204.178.20.14) 
> > 
> > 
> > require(lattice) 
> > trellis.device("postscript", file = "demo.ps", bg = "white") 
> > print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) ) 
> > dev.off() 
> > 
> > gives incomplete plot in the postscript file demo.ps, it 
> > worked fine in 1.3.1. 
> > 
> > platform i686-pc-linux-gnu 
> > arch i686 
> > os linux-gnu 
> > system i686, linux-gnu 
> > status 
> > major 1 
> > minor 4.0 
> > year 2001 
> > month 12 
> > day 19 
> > language R 
> > 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deepayansarkar@yahoo.com  Thu Jan  3 19:42:29 2002
From: deepayansarkar@yahoo.com (Deepayan Sarkar)
Date: Thu, 3 Jan 2002 11:42:29 -0800 (PST)
Subject: [Rd] trellis plot and postscript file (PR#1237)
In-Reply-To: <200201031725.SAA27619@pubhealth.ku.dk>
Message-ID: <20020103194229.43063.qmail@web13907.mail.yahoo.com>



Could you be more specific in how it is incomplete ? I don't see any
problems with R 1.4.0, grid 0.5 and lattice 0.3-1 (my output is at
http://www.stat.wisc.edu/~deepayan/R/demo.ps )


--- dxsun@bell-labs.com wrote:
> Full_Name: Don Sun
> Version: 1.4.0
> OS: Red Hat Linux 6.2
> Submission from: (NULL) (204.178.20.14)
> 
> 
> require(lattice)
> trellis.device("postscript", file = "demo.ps", bg = "white")
> print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
> dev.off()
> 
> gives incomplete plot in the postscript file demo.ps, it worked fine in
> 1.3.1.
> 
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    4.0              
> year     2001             
> month    12               
> day      19               
> language R                
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dxsun@jessie.research.bell-labs.com  Thu Jan  3 21:29:27 2002
From: dxsun@jessie.research.bell-labs.com (Don Sun)
Date: Thu, 3 Jan 2002 16:29:27 -0500 (EST)
Subject: [Rd] trellis plot and postscript file (PR#1237)
Message-ID: <200201032129.QAA18012@jessie.research.bell-labs.com>


Thanks for reminding me the version numbers of both grid and lattice.
I had installed R 1.4.0 on top of the old 
grid 0.1 and lattice 0.2-3. That was the cause of the problem. 

>
> Date: Thu, 3 Jan 2002 11:42:29 -0800 (PST)
> From: Deepayan Sarkar <deepayansarkar@yahoo.com>
> Cc: R-bugs@biostat.ku.dk
> 
> Could you be more specific in how it is incomplete ? I don't see any
> problems with R 1.4.0, grid 0.5 and lattice 0.3-1 (my output is at
> http://www.stat.wisc.edu/~deepayan/R/demo.ps )
> 
> --- dxsun@bell-labs.com wrote:
> > Full_Name: Don Sun
> > Version: 1.4.0
> > OS: Red Hat Linux 6.2
> > Submission from: (NULL) (204.178.20.14)
> > 
> > 
> > require(lattice)
> > trellis.device("postscript", file = "demo.ps", bg = "white")
> > print( xyplot(seq(20) ~ seq(20)|rep(c("A","B"),10)) )
> > dev.off()
> > 
> > gives incomplete plot in the postscript file demo.ps, it worked fine in
> > 1.3.1.
> > 
> > platform i686-pc-linux-gnu
> > arch     i686             
> > os       linux-gnu        
> > system   i686, linux-gnu  
> > status                    
> > major    1                
> > minor    4.0              
> > year     2001             
> > month    12               
> > day      19               
> > language R                
> > 
> > 
> >
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From christian.hoffmann@wsl.ch  Fri Jan  4 11:39:49 2002
From: christian.hoffmann@wsl.ch (christian.hoffmann@wsl.ch)
Date: Fri, 4 Jan 2002 12:39:49 +0100 (MET)
Subject: [Rd] R CMD check, file permissions (PR#1239)
Message-ID: <200201041139.MAA04899@pubhealth.ku.dk>

SunOS fluke 5.8 Generic_108528-07 sun4u sparc SUNW,Ultra-Enterprise

R-1.4.0

Running from the command line 

R CMD check chlib

results in the log file 00check.log:

* using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'
* checking for file `chlib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... WARNING
*   Found the following text files with incorrect permissions:
*     ./R/cbind.dimnames.r
*     ./R/clean.na.r
*     ./R/invgauss.r
*     ./R/my.table.r
*     ./R/negbingof.r
*     ./R/numberof.r
*     ./R/poisgam.r
*     ./R/progress.meter.r
*     ./R/qnorm.appr.r
*     ./R/qres.r
*     ./R/rowSums.r
*     ./R/S.princomp.r
*     ./R/select.range.r
*     ./R/shapiro.wilk.test.r
*     ./R/smoothed.df.r
*     ./R/tri.r
*     ./R/tweedie.r
*     ./R/tweedief.r
*     ./R/weighted.mean1.r
*     ./R/zzz.R
*     ./R/weighted.median.r
*     ./R/plotCI.Rd
*     ./man/cbind.dimnames.Rd
*     ./man/chlib-internal.Rd
*     ./man/clean.na.Rd
*     ./man/eql.Rd
*     ./man/invgauss.Rd
*     ./man/my.table.Rd
*     ./man/negbingof.Rd
*     ./man/numberof.Rd
*     ./man/poisgam.Rd
*     ./man/progress.meter.Rd
*     ./man/qnorm.appr.Rd
*     ./man/qres.Rd
*     ./man/remove.dup.rows.Rd
*     ./man/rowSums.Rd
*     ./man/S.princomp.Rd
*     ./man/select.range.Rd
*     ./man/shapiro.wilk.test.Rd
*     ./man/smoothed.df.Rd
*     ./man/tri.Rd
*     ./man/tweedie.Rd
*     ./man/tweedief.Rd
*     ./man/weighted.mean1.Rd
*     ./man/weighted.median.Rd
*   Please fix permissions.
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ... OK
* checking R files for library.dynam ...

I ran chmod 666 * on all the mentioned files, to no avail.



--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib,
package:mva, package:strlib, package:chlib, Autoloads, package:base

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hoffmann@wsl.ch  Fri Jan  4 11:51:48 2002
From: hoffmann@wsl.ch (hoffmann@wsl.ch)
Date: Fri, 4 Jan 2002 12:51:48 +0100 (MET)
Subject: [Rd] R CMD check (PR#1240)
Message-ID: <200201041151.MAA05237@pubhealth.ku.dk>

SunOS fluke 5.8 Generic_108528-07 sun4u sparc SUNW,Ultra-Enterprise

R-1.4.0

Running from the command line 

R CMD check chlib

results in the log file 00check.log:

* using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'
* checking for file `chlib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... WARNING
*   Found the following text files with incorrect permissions:
*     ./R/cbind.dimnames.r
*     ./R/clean.na.r
*     ./R/invgauss.r
*     ./R/my.table.r
*     ./R/negbingof.r
*     ./R/numberof.r
*     ./R/poisgam.r
*     ./R/progress.meter.r
*     ./R/qnorm.appr.r
*     ./R/qres.r
*     ./R/rowSums.r
*     ./R/S.princomp.r
*     ./R/select.range.r
*     ./R/shapiro.wilk.test.r
*     ./R/smoothed.df.r
*     ./R/tri.r
*     ./R/tweedie.r
*     ./R/tweedief.r
*     ./R/weighted.mean1.r
*     ./R/zzz.R
*     ./R/weighted.median.r
*     ./R/plotCI.Rd
*     ./man/cbind.dimnames.Rd
*     ./man/chlib-internal.Rd
*     ./man/clean.na.Rd
*     ./man/eql.Rd
*     ./man/invgauss.Rd
*     ./man/my.table.Rd
*     ./man/negbingof.Rd
*     ./man/numberof.Rd
*     ./man/poisgam.Rd
*     ./man/progress.meter.Rd
*     ./man/qnorm.appr.Rd
*     ./man/qres.Rd
*     ./man/remove.dup.rows.Rd
*     ./man/rowSums.Rd
*     ./man/S.princomp.Rd
*     ./man/select.range.Rd
*     ./man/shapiro.wilk.test.Rd
*     ./man/smoothed.df.Rd
*     ./man/tri.Rd
*     ./man/tweedie.Rd
*     ./man/tweedief.Rd
*     ./man/weighted.mean1.Rd
*     ./man/weighted.median.Rd
*   Please fix permissions.
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ... OK
* checking R files for library.dynam ...

I ran chmod 666 * on all the mentioned files, to no avail.



--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib, package:mva, package:strlib, package:chlib, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From christian.hoffmann@wsl.ch  Fri Jan  4 12:34:38 2002
From: christian.hoffmann@wsl.ch (christian.hoffmann@wsl.ch)
Date: Fri, 4 Jan 2002 13:34:38 +0100 (MET)
Subject: [Rd] R CMD check (PR#1240)
Message-ID: <200201041234.NAA06142@pubhealth.ku.dk>

Göran,

After  chmod 644 * I got some success:

hoffmann@fluke:~/R/Sources >R CMD check chlib
* checking for working latex ... OK
* using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'

Installing *binary* package `chlib' ...
 DONE (chlib)

DONE (INSTALL)

* checking for file `chlib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... OK
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ... OK
* checking R files for library.dynam ...Error: cannot open file
`/home/woodstock/hoffmann/R/Sources/chlib.Rcheck/chlib/R/chlib' for reading
at /usr/local/lib/R/bin/check line 522.

What can this be?

Thanks for help

--christian

At 13:10 04.01.2002 +0100, Göran Broström wrote:
>I asked the same question some days ago. I have:
>
>-rw-r--r--    1 gb       gb           4070 Dec 30 10:13 statistics.c
>
>which works. Maybe 644? Check archives, I have lost the answer I got.
>
>Göran
>



Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib,
package:mva, package:strlib, package:chlib, Autoloads, package:base

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gb@stat.umu.se  Fri Jan  4 13:20:58 2002
From: gb@stat.umu.se (gb@stat.umu.se)
Date: Fri, 4 Jan 2002 14:20:58 +0100 (MET)
Subject: [Rd] R CMD check (PR#1240)
Message-ID: <200201041320.OAA07222@pubhealth.ku.dk>

Christian,

The answer I got from Thomas was 644 for files and 755 for directories.
It worked for me.

Göran

On Fri, 4 Jan 2002, Christian Hoffmann wrote:

> Göran,
> 
> After  chmod 644 * I got some success:
> 
> hoffmann@fluke:~/R/Sources >R CMD check chlib
> * checking for working latex ... OK
> * using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'
> 
> Installing *binary* package `chlib' ...
>  DONE (chlib)
> 
> DONE (INSTALL)
> 
> * checking for file `chlib/DESCRIPTION' ... OK
> * checking package directory ... OK
> * checking for sufficient/correct file permissions ... OK
> * checking DESCRIPTION Package field ... OK
> * checking DESCRIPTION Version field ... OK
> * checking DESCRIPTION License field ... OK
> * checking DESCRIPTION Description field ... OK
> * checking DESCRIPTION Title field ... OK
> * checking DESCRIPTION Author field ... OK
> * checking DESCRIPTION Maintainer field ... OK
> * checking DESCRIPTION Depends field ... OK
> * checking R files for syntax errors ... OK
> * checking R files for library.dynam ...Error: cannot open file
> `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck/chlib/R/chlib' for reading
> at /usr/local/lib/R/bin/check line 522.
> 
> What can this be?
> 
> Thanks for help
> 
> --christian
> 
> At 13:10 04.01.2002 +0100, Göran Broström wrote:
> >I asked the same question some days ago. I have:
> >
> >-rw-r--r--    1 gb       gb           4070 Dec 30 10:13 statistics.c
> >
> >which works. Maybe 644? Check archives, I have lost the answer I got.
> >
> >Göran
> >
> 
> 
> 
> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status = 
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:MASS, package:prlib, package:pllib, package:mathlib,
> package:mva, package:strlib, package:chlib, Autoloads, package:base
> 
> Dr.sc.math.Christian W. Hoffmann
> Mathematics and Statistical Computing
> Landscape Modeling and Web Applications
> Swiss Federal Research Institute WSL 
> Zuercherstrasse 111
> CH-8903 Birmensdorf, Switzerland
> phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
> e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
> www: http://www.wsl.ch/staff/christian.hoffmann/
> 

-- 
 Göran Broström                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Umeå University
 SE-90187 Umeå, Sweden             e-mail: gb@stat.umu.se


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Fri Jan  4 13:41:57 2002
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Fri, 4 Jan 2002 14:41:57 +0100 (MET)
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
Message-ID: <200201041341.OAA07672@pubhealth.ku.dk>

Hi everyone,

I encountered unexpected behaviour when calling "missing" within a
"local" environment, namely

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    dontwantme <- 1:100
    if (missing(y)) print("No \"y\" today")
  })
  x
}

whereupon I get

> fred(1:10)
Error in eval(expr, envir, enclos) : "missing" illegal use of missing

I think it is reasonable to expect missing to work in this context (I
suspect the problem relates to lazy evaluation): if not, it might be
helpful to amend the help file.

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan  4 13:51:29 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 4 Jan 2002 14:51:29 +0100 (MET)
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
Message-ID: <200201041351.OAA07843@pubhealth.ku.dk>

On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:

> Hi everyone,
>
> I encountered unexpected behaviour when calling "missing" within a
> "local" environment, namely
>
> fred <- function(x, y)
> {
>   x <- as.vector(x)
>   local({
>     dontwantme <- 1:100
>     if (missing(y)) print("No \"y\" today")
>   })
>   x
> }
>
> whereupon I get
>
> > fred(1:10)
> Error in eval(expr, envir, enclos) : "missing" illegal use of missing
>
> I think it is reasonable to expect missing to work in this context (I
> suspect the problem relates to lazy evaluation): if not, it might be
> helpful to amend the help file.

Why do you think it reasonable?  You've take a function from

     Evaluate an R expression in a specified environment.

and evaluated it somewhere where missing() is not defined.  If you had
used eval() explicitly, would you think it reasonable?  I doubt it.

Which help file did you have in mind?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Fri Jan  4 14:48:07 2002
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Fri, 4 Jan 2002 15:48:07 +0100 (MET)
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
Message-ID: <200201041448.PAA09053@pubhealth.ku.dk>

Hi Brian,

Prof Brian Ripley wrote:
> 
> On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:
> 
> > Hi everyone,
> >
> > I encountered unexpected behaviour when calling "missing" within a
> > "local" environment, namely
> >
> > fred <- function(x, y)
> > {
> >   x <- as.vector(x)
> >   local({
> >     dontwantme <- 1:100
> >     if (missing(y)) print("No \"y\" today")
> >   })
> >   x
> > }
> >
> > whereupon I get
> >
> > > fred(1:10)
> > Error in eval(expr, envir, enclos) : "missing" illegal use of missing
> >
> > I think it is reasonable to expect missing to work in this context (I
> > suspect the problem relates to lazy evaluation): if not, it might be
> > helpful to amend the help file.
> 
> Why do you think it reasonable?  You've take a function from
> 
>      Evaluate an R expression in a specified environment.
> 
> and evaluated it somewhere where missing() is not defined.  If you had
> used eval() explicitly, would you think it reasonable?  I doubt it.

By "reasonable" in this context I mean that the operation would appear
to be well-defined and useful.  I can access x within the local()
environment, ie it is found in the enclosing environment, and I do not
think that y should be treated any differently.  If I modify my function
to read

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    print(x)
    print(y)
    if (missing(y)) print("No \"y\" today")
  })
  x
}

then I get the error message

> fred(1:10)
 [1]  1  2  3  4  5  6  7  8  9 10
Error in print(y) : Argument "y" is missing, with no default

This error message suggests to me that "missing(y)" would evaluate
correctly.

> 
> Which help file did you have in mind?
> 

The help file for "missing".  This points out that "missing" is not
always reliable, eg after "x <- match.arg(x)".  Perhaps this could be
another example of "unreliability".

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis2.stat.umn.edu  Fri Jan  4 15:17:12 2002
From: luke@nokomis2.stat.umn.edu (Luke Tierney)
Date: Fri, 4 Jan 2002 09:17:12 -0600
Subject: [Rd] Problem with "missing" in "local" (PR#1241)
In-Reply-To: <200201041448.PAA09053@pubhealth.ku.dk>; from J.C.Rougier@durham.ac.uk on Fri, Jan 04, 2002 at 03:48:07PM +0100
References: <200201041448.PAA09053@pubhealth.ku.dk>
Message-ID: <20020104091712.A19103@nokomis2.stat.umn.edu>

I think Jonathan has a point.  Here is another variation that does not
involve explicit eval or local:

	f<-function(x){
	    g<-function() missing(x)
	    g()
	}

	> f()
	Error in g() : "missing" illegal use of missing

This sort of thing does not arise in S, but with lexical scope in R it
seems natural to me at least that missing should work on lexically
visible variables.  The error produced by

	f<-function(x){
	    g<-function() x
	    g()
	}

	> f()
	Error in g() : Argument "x" is missing, with no default

also suggests that it would be nice to be able to use missing to guard
against this error.

For the short term we should add a note to the help file for missing
(I will do this), but longer term I think we should revise the missing
inplementation to handle these cases more naturally (unless anyone
sees anything seriously wrong with that).

By the way, the help for missing says:

     `missing(x)' is only reliable if `x' has not been altered since
     entering the function: in particular it will always be true after
     `x <- match.arg(x)'. 

I believe that should be "... it will always be false after ..."?

luke

On Fri, Jan 04, 2002 at 03:48:07PM +0100, J.C.Rougier@durham.ac.uk wrote:
> Hi Brian,
> 
> Prof Brian Ripley wrote:
> > 
> > On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:
> > 
> > > Hi everyone,
> > >
> > > I encountered unexpected behaviour when calling "missing" within a
> > > "local" environment, namely
> > >
> > > fred <- function(x, y)
> > > {
> > >   x <- as.vector(x)
> > >   local({
> > >     dontwantme <- 1:100
> > >     if (missing(y)) print("No \"y\" today")
> > >   })
> > >   x
> > > }
> > >
> > > whereupon I get
> > >
> > > > fred(1:10)
> > > Error in eval(expr, envir, enclos) : "missing" illegal use of missing
> > >
> > > I think it is reasonable to expect missing to work in this context (I
> > > suspect the problem relates to lazy evaluation): if not, it might be
> > > helpful to amend the help file.
> > 
> > Why do you think it reasonable?  You've take a function from
> > 
> >      Evaluate an R expression in a specified environment.
> > 
> > and evaluated it somewhere where missing() is not defined.  If you had
> > used eval() explicitly, would you think it reasonable?  I doubt it.
> 
> By "reasonable" in this context I mean that the operation would appear
> to be well-defined and useful.  I can access x within the local()
> environment, ie it is found in the enclosing environment, and I do not
> think that y should be treated any differently.  If I modify my function
> to read
> 
> fred <- function(x, y)
> {
>   x <- as.vector(x)
>   local({
>     print(x)
>     print(y)
>     if (missing(y)) print("No \"y\" today")
>   })
>   x
> }
> 
> then I get the error message
> 
> > fred(1:10)
>  [1]  1  2  3  4  5  6  7  8  9 10
> Error in print(y) : Argument "y" is missing, with no default
> 
> This error message suggests to me that "missing(y)" would evaluate
> correctly.
> 
> > 
> > Which help file did you have in mind?
> > 
> 
> The help file for "missing".  This points out that "missing" is not
> always reliable, eg after "x <- match.arg(x)".  Perhaps this could be
> another example of "unreliability".
> 
> Cheers, Jonathan.
> 
> -- 
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sway@tanox.com  Fri Jan  4 15:20:35 2002
From: sway@tanox.com (Shawn Way)
Date: Fri, 4 Jan 2002 09:20:35 -0600
Subject: [Rd] Testing a Port...
Message-ID: <0565F48FC373D411BE4D00B0D049602628E69B@nt40hou1.tanox.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C19533.5BC03B40
Content-Type: text/plain

I've been porting a library from the STATLIB site from S+ to R.
Unfortunately, I don't have the capability to test the port against the
original application.  Is there anyone out there who has S+ inhouse that can
help in this manner?

Also, this is a first time port for a relative newbie, so there are some
things that need to be worked out yet...



--------------------------
"Don't rush me, you rush a miracle, you get a rotten miracle." 
-Miracle Max, The Princess Bride
--------------------------

Shawn Way

------_=_NextPart_001_01C19533.5BC03B40
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>Testing a Port...</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I've been porting a library from the STATLIB site =
from S+ to R. Unfortunately, I don't have the capability to test the =
port against the original application.&nbsp; Is there anyone out there =
who has S+ inhouse that can help in this manner?</FONT></P>

<P><FONT SIZE=3D2>Also, this is a first time port for a relative =
newbie, so there are some things that need to be worked out =
yet...</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>--------------------------</FONT>
<BR><FONT SIZE=3D2>&quot;Don't rush me, you rush a miracle, you get a =
rotten miracle.&quot; </FONT>
<BR><FONT SIZE=3D2>-Miracle Max, The Princess Bride</FONT>
<BR><FONT SIZE=3D2>--------------------------</FONT>
</P>

<P><FONT SIZE=3D2>Shawn Way</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C19533.5BC03B40--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Jan  4 19:44:49 2002
From: andy_liaw@merck.com (andy_liaw@merck.com)
Date: Fri, 4 Jan 2002 20:44:49 +0100 (MET)
Subject: [Rd] copy metafile from window() device fails when lattice/grid is (PR#1242)
Message-ID: <200201041944.UAA11607@pubhealth.ku.dk>

Dear all,

I'm running into a rather strange problem that hasn't happened before
R-1.4.0.  If I make a plot on a window() device, and use the menu to either
save to a metafile or copy to clipboard as a metafile, I get an error
message in the R console:

Error: A metafile can store only one figure.

This only happens when the lattice (and grid) package is attached,
regardless of whether the plot is Trellis or non-Trellis.  If I detach both
lattice and grid, and make the plot on a fresh window() device, I have no
problem getting the metafile.  If I try trellis.device(win.metafile,
"try.emf", bg="white"), I get 

Error in if (color) { : argument is not interpretable as logical

but the device is openned.  If I try to make a trellis plot, I get

Error in grid.newpage() : A metafile can store only one figure.

Any idea how to get around this problem?  TIA!!

Cheers,
Andy
--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:lattice, package:grid, package:ctest, Autoloads,
package:base

Andy I. Liaw, PhD
Biometrics Research          Phone: (732) 594-0820
Merck & Co., Inc.              Fax: (732) 594-1565
P.O. Box 2000, RY70-38            Rahway, NJ 07065
mailto:andy_liaw@merck.com




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan  4 19:51:22 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 4 Jan 2002 20:51:22 +0100 (MET)
Subject: (PR#1242)[Rd] copy metafile from window() device fails when
Message-ID: <200201041951.UAA11666@pubhealth.ku.dk>

The problem is known and is in grid/lattice. That starts up a blank page
before the first plot. It is not related to 1.3.1/1.4.0, but to grid
updates.  Paul Murrell has been informed!


On Fri, 4 Jan 2002 andy_liaw@merck.com wrote:

> Dear all,
>
> I'm running into a rather strange problem that hasn't happened before
> R-1.4.0.  If I make a plot on a window() device, and use the menu to either
> save to a metafile or copy to clipboard as a metafile, I get an error
> message in the R console:
>
> Error: A metafile can store only one figure.
>
> This only happens when the lattice (and grid) package is attached,
> regardless of whether the plot is Trellis or non-Trellis.  If I detach both
> lattice and grid, and make the plot on a fresh window() device, I have no
> problem getting the metafile.  If I try trellis.device(win.metafile,
> "try.emf", bg="white"), I get
>
> Error in if (color) { : argument is not interpretable as logical
>
> but the device is openned.  If I try to make a trellis plot, I get
>
> Error in grid.newpage() : A metafile can store only one figure.
>
> Any idea how to get around this problem?  TIA!!

Copy from an on-screen window.

>
> Cheers,
> Andy
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
>
> Windows NT 4.0 (build 1381) Service Pack 6
>
> Search Path:
>  .GlobalEnv, package:lattice, package:grid, package:ctest, Autoloads,
> package:base
>
> Andy I. Liaw, PhD
> Biometrics Research          Phone: (732) 594-0820
> Merck & Co., Inc.              Fax: (732) 594-1565
> P.O. Box 2000, RY70-38            Rahway, NJ 07065
> mailto:andy_liaw@merck.com
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Jan  4 19:51:40 2002
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 4 Jan 2002 20:51:40 +0100
Subject: [Rd] R CMD check (PR#1240)
In-Reply-To: <200201041234.NAA06142@pubhealth.ku.dk>
References: <200201041234.NAA06142@pubhealth.ku.dk>
Message-ID: <15414.1996.510707.189484@mithrandir.hornik.net>

>>>>> christian hoffmann writes:

> Göran,
> After  chmod 644 * I got some success:

> hoffmann@fluke:~/R/Sources >R CMD check chlib
> * checking for working latex ... OK
> * using log directory `/home/woodstock/hoffmann/R/Sources/chlib.Rcheck'

> Installing *binary* package `chlib' ...
>  DONE (chlib)

Why does it say *binary* package?
R CMD check is meant for sources ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Sat Jan  5 00:11:48 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Sat, 5 Jan 2002 01:11:48 +0100 (MET)
Subject: [Rd] abline and log plots (PR#1243)
Message-ID: <200201050011.BAA12574@pubhealth.ku.dk>

Full_Name: Stephen Eglen
Version: 1.4
OS: Redhat Linux 7.1
Submission from: (NULL) (128.252.204.36)


abline() produces a spurious line in addition to the correct line, at least with

the X11 driver.  The postscript file generated also has nan values in it, which
causes an error under ghostscript.

xs <- c(0, 150, 300)
ys <- c(75, 40, 23)
par(mfrow=c(1,2))
plot(xs,ys, log="")
abline(70, -0.25, -.1, untf=F)
plot(xs,ys, log="y")
abline(70, -0.3, -.1, untf=T)
dev.copy2eps(file="abline.ps")


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jan  5 00:31:13 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2002 01:31:13 +0100
Subject: [Rd] abline and log plots (PR#1243)
In-Reply-To: <200201050011.BAA12574@pubhealth.ku.dk>
References: <200201050011.BAA12574@pubhealth.ku.dk>
Message-ID: <x2bsg9d4fi.fsf@blueberry.kubism.ku.dk>

stephen@cogsci.ed.ac.uk writes:

> Full_Name: Stephen Eglen
> Version: 1.4
> OS: Redhat Linux 7.1
> Submission from: (NULL) (128.252.204.36)
> 
> 
> abline() produces a spurious line in addition to the correct line, at least with
> 
> the X11 driver.  The postscript file generated also has nan values in it, which
> causes an error under ghostscript.
> 
> xs <- c(0, 150, 300)
> ys <- c(75, 40, 23)
> par(mfrow=c(1,2))
> plot(xs,ys, log="")
> abline(70, -0.25, -.1, untf=F)
> plot(xs,ys, log="y")
> abline(70, -0.3, -.1, untf=T)
> dev.copy2eps(file="abline.ps")

Still in the development version too. Notice that it is log="y" +
untf=T that is causing the trouble. Looks like the clipping algorithm
is getting confused.

A fairly straightforward workaround is 

plot(xs,ys, log="y")
curve(70-0.3*x,add=T)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From armin@approximity.com  Sat Jan  5 00:48:25 2002
From: armin@approximity.com (armin@approximity.com)
Date: Sat, 5 Jan 2002 01:48:25 +0100 (MET)
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
Message-ID: <200201050048.BAA12656@pubhealth.ku.dk>

Full_Name: Armin Roehrl
Version: 1.4.0(2001-12-19)
OS: Linux; Suse 7.3
Submission from: (NULL) (217.84.18.204)


Hello,

On a given matrix det returns different results whether
I use the method "qr" or "eivenvalues".

The matrix:
> m2
             [,1]         [,2]        [,3]
[1,] 9.822616e+09 3.841723e+09    79790.09
[2,] 3.841723e+09 1.502536e+09    31251.82
[3,] 7.979009e+04 3.125182e+04 64156419.36

> det(m2, method="eigenvalues")
[1] -9.331893e+19


> det(m2, method="qr")
[1] 9.331893e+19

I think the result based on the eigenvalues is correct.

Good night.
	Armin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jan  5 02:10:15 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2002 03:10:15 +0100
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
In-Reply-To: <200201050048.BAA12656@pubhealth.ku.dk>
References: <200201050048.BAA12656@pubhealth.ku.dk>
Message-ID: <x2itahtuns.fsf@blueberry.kubism.ku.dk>

armin@approximity.com writes:

> Full_Name: Armin Roehrl
> Version: 1.4.0(2001-12-19)
> OS: Linux; Suse 7.3
> Submission from: (NULL) (217.84.18.204)
> 
> 
> Hello,
> 
> On a given matrix det returns different results whether
> I use the method "qr" or "eivenvalues".
> 
> The matrix:
> > m2
>              [,1]         [,2]        [,3]
> [1,] 9.822616e+09 3.841723e+09    79790.09
> [2,] 3.841723e+09 1.502536e+09    31251.82
> [3,] 7.979009e+04 3.125182e+04 64156419.36

That format is a bit awkward to key back in. Could you do a dput(m2)
so that it becomes easier for us to reproduce the effect?

> > det(m2, method="eigenvalues")
> [1] -9.331893e+19
> 
> 
> > det(m2, method="qr")
> [1] 9.331893e+19
> 
> I think the result based on the eigenvalues is correct.
> 
> Good night.
> 	Armin
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From armin@approximity.com  Sat Jan  5 09:50:25 2002
From: armin@approximity.com (Armin Roehrl)
Date: Sat, 5 Jan 2002 10:50:25 +0100
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
In-Reply-To: <x2itahtuns.fsf@blueberry.kubism.ku.dk>
References: <200201050048.BAA12656@pubhealth.ku.dk> <x2itahtuns.fsf@blueberry.kubism.ku.dk>
Message-ID: <200201051046.g05AkWW29240@approximity.com>

Good morning,

>dput(m2)
structure(c(9822616000, 3841723000, 79790.09, 3841723000, 1502536000, 
31251.82, 79790.09, 31251.82, 64156419.36), .Dim = c(3, 3))

> det(m2, method="eigenvalues")
[1] -9.331893e+19
> det(m2, method="qr")
[1] 9.331893e+19

I hope it's not just some numerical accuracy thing and therefore
wasting your time.

Thx,
	Armin

On Saturday 05 January 2002 03:10, Peter Dalgaard BSA wrote:
> 64156419.36

-- 
Armin.

-----------------------------------------------
Armin Roehrl, http://www.approximity.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jan  5 11:45:55 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2002 12:45:55 +0100
Subject: [Rd] possible bug in det using method="qr" (PR#1244)
In-Reply-To: <200201051046.g05AkWW29240@approximity.com>
References: <200201050048.BAA12656@pubhealth.ku.dk>
 <x2itahtuns.fsf@blueberry.kubism.ku.dk>
 <200201051046.g05AkWW29240@approximity.com>
Message-ID: <x2heq110ng.fsf@blueberry.kubism.ku.dk>

Armin Roehrl <armin@approximity.com> writes:

> Good morning,
> 
> >dput(m2)
> structure(c(9822616000, 3841723000, 79790.09, 3841723000, 1502536000, 
> 31251.82, 79790.09, 31251.82, 64156419.36), .Dim = c(3, 3))
> 
> > det(m2, method="eigenvalues")
> [1] -9.331893e+19
> > det(m2, method="qr")
> [1] 9.331893e+19
> 
> I hope it's not just some numerical accuracy thing and therefore
> wasting your time.

It's a numerical accuracy thing, but not a waste of time. The issue
is that qr() thinks that the matrix is singular:

> prod(diag(qr(m,tol=1e-9)$qr))
[1] -9.331893e+19
> prod(diag(qr(m)$qr))
[1] 9.331893e+19

Two issues here: 
(a) if qr() thinks a matrix is singular, I think det() should take the
consequences and return zero.
(b) Perhaps there ought to be a way to pass the tol= argument to det. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@free.fr  Sat Jan  5 20:19:52 2002
From: haibi@free.fr (haibi@free.fr)
Date: Sat, 5 Jan 2002 21:19:52 +0100 (MET)
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier (PR#1245)
Message-ID: <200201052019.VAA15219@pubhealth.ku.dk>


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@free.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@free.fr  Sat Jan  5 20:20:52 2002
From: haibi@free.fr (Habib HAIBI)
Date: Sat, 5 Jan 2002 21:20:52 +0100
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
Message-ID: <3c375fff3d0e4a91@villosa.wanadoo.fr> (added by villosa.wanadoo.fr)


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@free.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@wanadoo.fr  Sat Jan  5 21:50:26 2002
From: haibi@wanadoo.fr (Habib HAIBI)
Date: Sat, 5 Jan 2002 22:50:26 +0100
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
Message-ID: <3c3774fc3cc1f496@mahonia.wanadoo.fr> (added by mahonia.wanadoo.fr)


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@wanadoo.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From haibi@wanadoo.fr  Sat Jan  5 21:50:41 2002
From: haibi@wanadoo.fr (haibi@wanadoo.fr)
Date: Sat, 5 Jan 2002 22:50:41 +0100 (MET)
Subject: [Rd] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier (PR#1246)
Message-ID: <200201052150.WAA15408@pubhealth.ku.dk>


Meilleurs Voeux pour 2002 : année de mémoire, de mobilisation, 
d'action, de justice et de sérénité - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tél. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi@wanadoo.fr
http://haibi.free.fr


Je suis qualifié pour exprimer mes voeux pour le Nouvel An à 
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple américain, ses dirigeants, ses institutions, 
son président et tous les combattants de la liberté, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, démocratiques et qualifiés pour défendre la liberté et la 
démocratie avec humanisme et sérénité.

L'ennemi du progrès du genre humain peut encore frapper. La 
liberté et la démocratie peuvent être encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arrivé en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arrivé le 26 février 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et préméditée, ont eu recours à 
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette dérive obscurantiste a dépassé tout entendement

C'est arrivé un jour pacifique pour moi et pour les institutions de la 
République en France.

Le réquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste à l'intégrité de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la société civilisée et une infamie assénée à la 
République et ses Institutions:
- à tous les martyrs de la liberté qui ont payé de leur vie la 
défense des personnes et des biens et des valeurs 
fondamentales et universelles de la République.

- à tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hésitation, pour la 
défense de ces mêmes valeurs

- à tous les hommes ou femmes de bonne volonté, citoyens 
anonymes, élevés sur la foi en une société pacifiée par 
l'avènement de la République, la crainte des lois et l'indéfectibilité 
de l'Etat, de la Justice et des Institutions en Démocratie.

J'étais, longtemps avant le WTC l'autre "point zéro" de la planète 
qui a subit les premières vagues d'attaque contre les institutions 
de la République, la liberté et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la même détermination, 
diabolique et suicidaire, de stopper l'action publique 
régulièrement mise en mouvement !

J'ai fait face à l'adversité en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colère, 
nominativement impliqués, des deux juridictions de Lyon tout rôle 
et rang confondus pour abus d'autorité aggravé et trafic 
d'influence aggravé. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la liberté et la justice en démocratie en 
France et assimilé la grandeur de la querelle qui m'anime  
Votre réaction sera vivement souhaitée et sollicitée !

Je recevrai vos contributions morales et financières comme une 
juste consolation pour le grand préjudice moral que je subis dans 
l'attente de la réparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le règne absolu et 
égalitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans liberté, sans justice et sans démocratie

Imaginez tous les sacrifices de tous les combattants de la liberté, 
depuis deux siècles et plus, laissés pour compte et discrédités en 
une seule journée d'attaques perpétrées par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donné naissance au reigne de la loi, l'avènement de la 
République et les droits de l'homme.

Une nouvelle ère a commencé où le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la réaction pour perpétuer la liberté et la justice en 
démocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au président des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa sérénité.
Merci à tous d'avoir lu et compris ce message. 
Merci pour vos réactions et vos contributions.
==========================
Ces contributions sont souhaitées à la hauteur de 500 $ ou euros 
et plus pour tous les représentants élus des peuples, sénateurs et 
députés, quelque soit leur pays et quelque soit le moyen utilisé 
pour les alerter des attaques contre la démocratie et de la colère 
de l'action Publique en mouvement : "ma tristesse s'est muée en 
colère et la colère en résolution "!
(ma conviction est que si de tels actes ont pu se produire c'est à 
cause d'un climat de permissivité qui a pu s'installer par l'absence 
du contrôle de l'exécutif par le pouvoir législatif).
=======
vous pouvez verser directement vos contributions financières sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash à mon nom et à mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible à l'idée de vivre dans une société pacifiée 
par la crainte des lois et la crédibilité des institutions 
démocratiques.
============

Mon objectif est de réunir 10 000 réactions à 100 $ ou euros 
chacune : vous pouvez m'aider à atteindre ce but.
Je serai, à coup sûr, un homme riche! 
Mais je ne recouvrerai la paix intérieure avant que justice soit 
faite! 
'J'ai un rêve"! La justice sera faite !

============
Le site où est publié l'ensemble du dossier est en français, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est composée de 30 000 
emails :
des représentants élus, les représentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, président ou membre d'association, profession 
libérale ou tout autre simple citoyen intéressé par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publié sur le net en 
vous abonnant au groupe créé pour cet objet "Il n'y a pas 
d'alternative à la justice en république en france"
Coordonnées du groupe :
Email du groupe : lecitoyen.laloi.larepublique@smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner@smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe@smartgroups.com 
Pour ne plus être membre : 
lecitoyen.laloi.larepublique-unsubscribe@smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concerné, vous pouvez demander à 
ce que votre email soit effacer en exprimant votre volonté à 
l'adresse email : haibi@free.fr

Merci encore de participer à l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Sun Jan  6 04:08:58 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Sat, 5 Jan 2002 23:08:58 -0500
Subject: [Rd] speeding up [.data.frame
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF13F@groexmbcr02.pfizer.com>


(I'm up too late so this might come through garbled...)

I've just been doing some bootstrapping on data frames and I discovered that
S-plus 6.0r1 was a *lot* faster than R 1.3.1 at the task.  Splus was
completing 100 bootstrap iterations in about 4 seconds while R was taking
about 15 seconds. However, doing bootstrapping on equivalent *matrices* R
was slightly faster, 1.5 seconds verses 1.86.

Now, since I'm doing glm's inside the bootstrap, I really need to use data
frames...

It turns out that one of the reasons S-plus is faster on data frames is that
S-Plus's allows you to turn of checking for/resolution of duplicate row
names in "[.data.frame" by setting an attribute 'dup.row.names' to any
non-NULL value.  Adding an additional argument to R's "[.data.frame"  (patch
below) to permit the same optimization and using the argument in my
bootstrap function reduced the elapsed time for R to 8.6 seconds.   

Still, I'm wondering if there are other 'reasonable' changes to
"[.data.frame" that could narrow the gap further...

-Greg

################ PATCH STARTS HERE #################3
diff -c /Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R.orig
/Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R
*** /Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R.orig	Sat
Jan  5 22:58:10 2002
--- /Volumes/app/R/src/R-1.4.0/src/library/base/R/dataframe.R	Sat Jan  5
22:58:10 2002
***************
*** 323,329 ****
  ###  These are a little less general than S
  
  "[.data.frame" <-
!     function(x, i, j, drop = if(missing(i)) TRUE else length(cols) == 1)
  {
      if(nargs() < 3) {
  	if(missing(i))
--- 323,330 ----
  ###  These are a little less general than S
  
  "[.data.frame" <-
!     function(x, i, j, drop = if(missing(i)) TRUE else length(cols) == 1,
!              dup.row.names=F)
  {
      if(nargs() < 3) {
  	if(missing(i))
***************
*** 390,396 ****
      }
      if(!drop) {
  	names(x) <- cols
! 	if(any(duplicated(rows)))
  	    rows <- make.names(rows, unique = TRUE)
  	attr(x, "row.names") <- rows
  	class(x) <- cl
--- 391,397 ----
      }
      if(!drop) {
  	names(x) <- cols
!         if (any(duplicated(rows)) && !dup.row.names) 
  	    rows <- make.names(rows, unique = TRUE)
  	attr(x, "row.names") <- rows
  	class(x) <- cl




LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Jan  6 07:52:09 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 Jan 2002 07:52:09 +0000 (GMT)
Subject: [Rd] speeding up [.data.frame
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF13F@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0201060735290.23866-100000@gannet.stats>

On Sat, 5 Jan 2002, Warnes, Gregory R wrote:

>
> (I'm up too late so this might come through garbled...)
>
> I've just been doing some bootstrapping on data frames and I discovered that
> S-plus 6.0r1 was a *lot* faster than R 1.3.1 at the task.  Splus was
> completing 100 bootstrap iterations in about 4 seconds while R was taking
> about 15 seconds. However, doing bootstrapping on equivalent *matrices* R
> was slightly faster, 1.5 seconds verses 1.86.
>
> Now, since I'm doing glm's inside the bootstrap, I really need to use data
> frames...

Why?  Surely you should be working at the design matrix level and calling
glm.fit directly?   Otherwise you are repeating a lot of work for every
bootstrap fit.

BTW, is 11 seconds worth saving?: it sound trivial to me.  But if it is,
moving to glm.fit looks to me to be the best optimization.

> It turns out that one of the reasons S-plus is faster on data frames is that
> S-Plus's allows you to turn of checking for/resolution of duplicate row
> names in "[.data.frame" by setting an attribute 'dup.row.names' to any
> non-NULL value.  Adding an additional argument to R's "[.data.frame"  (patch
> below) to permit the same optimization and using the argument in my
> bootstrap function reduced the elapsed time for R to 8.6 seconds.
>
> Still, I'm wondering if there are other 'reasonable' changes to
> "[.data.frame" that could narrow the gap further...

That one is not reasonable in my opinion.  It should not be in S-PLUS (and
the advisory board has discussed its removal, as I recall).  Having unique
row names is a fundamental property of data frames.  What you and they
seem to want is another class which is like data frames but does not
require row names, from which data.frame could inherit.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Mon Jan  7 06:15:03 2002
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Mon, 7 Jan 2002 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200201070615.g076F3h27776@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1218 *
Subject:  behavior of r* and d* functions at boundaries 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 17 Dec 2001 11:04:27 -0500
--points 1 and 2 were fixed for 1.4.0
* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
--This isn't really a bug: the line in question is a plain-text equation, not a
--piece of R code.

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)

Directory:  In-Out

none

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--
* PR# 1211 *
Subject: crash bug in get("function.name")()
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 11 Dec 2001 17:34:07 -0500 (EST)

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1233 *
Subject: Help for installation
From: "Dr. N.T.S. Wijesekera" <sohanw@ait.ac.th>
Date: Wed, 2 Jan 2002 14:24:35 +0700
* PR# 1234 *
Subject: R1.4.0 under Windows NT, package grid/lattice
From: H.Rinner@tirol.gv.at
Date: Wed, 2 Jan 2002 16:09:58 +0100 (MET)
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
* PR# 1236 *
Subject: type.convert()
From: dxsun@bell-labs.com
Date: Thu, 3 Jan 2002 17:00:18 +0100 (MET)
* PR# 1237 *
Subject: trellis plot and postscript file
From: dxsun@bell-labs.com
Date: Thu, 3 Jan 2002 18:25:46 +0100 (MET)
* PR# 1238 *
Subject:  identify.default() fails when x is a structure/matrix 
From: David James <dj@localhost.localdomain>
Date: Thu, 3 Jan 2002 17:17:12 -0500
* PR# 1239 *
Subject: R CMD check, file permissions
From: Christian Hoffmann <christian.hoffmann@wsl.ch>
Date: Fri, 04 Jan 2002 12:38:54 +0100
* PR# 1240 *
Subject:  R CMD check 
From: hoffmann@wsl.ch
Date: Fri, 4 Jan 2002 12:51:15 +0100 (MET)
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
* PR# 1242 *
Subject: copy metafile from window() device fails when lattice/grid is
From: "Liaw, Andy" <andy_liaw@merck.com>
Date: Fri, 04 Jan 2002 14:43:08 -0500
* PR# 1243 *
Subject: abline and log plots
From: stephen@cogsci.ed.ac.uk
Date: Sat, 5 Jan 2002 01:11:47 +0100 (MET)
* PR# 1244 *
Subject: possible bug in det using method="qr"
From: armin@approximity.com
Date: Sat, 5 Jan 2002 01:48:13 +0100 (MET)
* PR# 1245 *
Subject: Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
From: Habib HAIBI<haibi@free.fr>
Date: Sat, 5 Jan 2002 21:19:49 +0100
* PR# 1246 *
Subject: Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
From: Habib HAIBI<haibi@wanadoo.fr>
Date: Sat, 5 Jan 2002 22:50:23 +0100
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From terra@diku.dk  Mon Jan  7 15:19:10 2002
From: terra@diku.dk (Morten Welinder)
Date: 7 Jan 2002 15:19:10 -0000
Subject: [Rd] qbeta function (FYI, compiler bug)
Message-ID: <20020107151910.14705.qmail@tyr.diku.dk>


Hi there,

this is just to let you know that the qbeta function, which was
copied from R into Gnumeric, has been confirmed to be miscompiled
by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

This shows by qbeta(0.025,4,0.5) ending up taking the wrong
branch of "if (alpha <= 0.5)".

We compile things in a different context, so this may or may not
affect you.  The qbeta function was taken from R 0.64.

Morten

http://www.gnome.org/gnumeric/
http://bugzilla.gnome.org/show_bug.cgi?id=68057
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Jan  7 15:47:32 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jan 2002 16:47:32 +0100
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <20020107151910.14705.qmail@tyr.diku.dk>
References: <20020107151910.14705.qmail@tyr.diku.dk>
Message-ID: <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>

Morten Welinder <terra@diku.dk> writes:

> Hi there,
> 
> this is just to let you know that the qbeta function, which was
> copied from R into Gnumeric, has been confirmed to be miscompiled
> by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

Which version? The ones in RH 7.1 and later has seemed to be quite
solid, whereas the one shipping with 7.0 was worthless (and so was the
first 50 or so fixup revisions of the compiler that should never have
been released...).

> This shows by qbeta(0.025,4,0.5) ending up taking the wrong
> branch of "if (alpha <= 0.5)".

> We compile things in a different context, so this may or may not
> affect you.  The qbeta function was taken from R 0.64.
> 
> Morten

0.64 is 2.5 years old! Several things have been fixed since then,
including at least one really bad bug in qbeta(). You might want to
track the development of R a bit closer (&maybe note that R's math
library can now be compiled a a standalone dynlib).

The "if (alpha <= 0.5)" line has disappeared in recent versions, but I
don't see any trouble in the current version, compiled with
gcc-2.96-81:

> pbeta(qbeta(0.025,4,0.5),4,.5)
[1] 0.025


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Mon Jan  7 15:52:57 2002
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Mon, 7 Jan 2002 16:52:57 +0100 (MET)
Subject: [Rd] Mishandling missing "..." (PR#1247)
Message-ID: <200201071552.QAA00375@pubhealth.ku.dk>

R> myfun <- function(x, ...) {x[...] <- 0; x}
R> myfun(3)
   Error in myfun(3) : SubAssignArgs: invalid number of arguments

It fails because no ... was passed.  The workaround (and desired behavior) is:
R> myfun <- function(x, ...) {if (missing(...)) x[] <- 0 else x[...] <- 0; x}
R> myfun(3)
   [1] 0

Deja vu?  This is the one piece of my PR#1110 (Oct 3, 2001) that I think may be
a genuine bug (though even that is debatable), and I would like to override
PR#1110 with this report.  This behavior still occurs in 1.4.0.

-- 
                              -- David Brahm (brahm@alum.mit.edu)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From terra@diku.dk  Mon Jan  7 16:07:16 2002
From: terra@diku.dk (Morten Welinder)
Date: 7 Jan 2002 16:07:16 -0000
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 07 Jan 2002 16:47:32 +0100)
References: <20020107151910.14705.qmail@tyr.diku.dk> <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020107160716.17625.qmail@tyr.diku.dk>


   > this is just to let you know that the qbeta function, which was
   > copied from R into Gnumeric, has been confirmed to be miscompiled
   > by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

   Which version? The ones in RH 7.1 and later has seemed to be quite
   solid [...]

The problem is seen with "gcc version 2.96 20000731 (Red Hat Linux 7.1
2.96-98)".  That would appear to be newer than yours.

   0.64 is 2.5 years old!  Several things have been fixed since then,
   [...]

Ahem, :-)  I did look at some point and nothing much had changed.
I've put it on my todo list to have a look.  (We might switch to
GSL since that has more code that we would like to offload from
our backs.  Also, the packing seems to be nicer.  On the other hand,
I have no idea of how reliable it is.)

Thanks,

Morten
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stefano.iacus@unimi.it  Mon Jan  7 16:10:17 2002
From: stefano.iacus@unimi.it (Stefano Iacus)
Date: Mon, 7 Jan 2002 17:10:17 +0100
Subject: [Rd] quadprog
Message-ID: <0A6D4C0A-0389-11D6-8E49-003065CC4CB8@unimi.it>

Hy,
I have to solve the following minimization problem on x

Q(x) = 1/2 x' A x + x'b

where Q is a quadratic form and x is in the simplex (x_i>=0, sum_i x_i = 
1, i=1,...,n), A pos. def. and b a negative vector.

I have tried with quadprog routines but it gives me solutions of the form
x* = (...,1,..)
where the dots "." are zeroes "0".

the toolbox optim/quadprog in Matlab lead to the same results as 
R+quaprog package (they use the "same" qld algorithm).

Are there any more efficient methods based on lagrange multipliers + 
standard simplex minimization ? I think that the qld algorithm is rather 
general and then not efficient for my specific case.

Any idea or reference ?

Stefano








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Jan  7 16:59:24 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jan 2002 17:59:24 +0100
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <20020107160716.17625.qmail@tyr.diku.dk>
References: <20020107151910.14705.qmail@tyr.diku.dk>
 <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
 <20020107160716.17625.qmail@tyr.diku.dk>
Message-ID: <x2itaef66r.fsf@blueberry.kubism.ku.dk>

Morten Welinder <terra@diku.dk> writes:

>    > this is just to let you know that the qbeta function, which was
>    > copied from R into Gnumeric, has been confirmed to be miscompiled
>    > by gcc 2.96 on Linux.  (That's Red Hat's compiler.)
> 
>    Which version? The ones in RH 7.1 and later has seemed to be quite
>    solid [...]
> 
> The problem is seen with "gcc version 2.96 20000731 (Red Hat Linux 7.1
> 2.96-98)".  That would appear to be newer than yours.
> 
>    0.64 is 2.5 years old!  Several things have been fixed since then,
>    [...]
> 
> Ahem, :-)  I did look at some point and nothing much had changed.
> I've put it on my todo list to have a look.  (We might switch to
> GSL since that has more code that we would like to offload from
> our backs.  Also, the packing seems to be nicer.  On the other hand,
> I have no idea of how reliable it is.)

GSL doesn't seem to have the distribution functions. Lots of random
variable generation, but no pbeta/qbeta and friends. In general, the
support for statistical analysis is quite weak and strongly slanted
towards physics applications.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Jan  7 17:01:40 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 7 Jan 2002 18:01:40 +0100
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <20020107160716.17625.qmail@tyr.diku.dk>
References: <20020107151910.14705.qmail@tyr.diku.dk>
 <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
 <20020107160716.17625.qmail@tyr.diku.dk>
Message-ID: <15417.54388.87441.372262@gargle.gargle.HOWL>

>>>>> "Morten" == Morten Welinder <terra@diku.dk> writes:

    >> this is just to let you know that the qbeta function,
    >> which was copied from R into Gnumeric, has been confirmed
    >> to be miscompiled by gcc 2.96 on Linux.  (That's Red
    >> Hat's compiler.)

    Morten>    Which version? The ones in RH 7.1 and later has
    Morten> seemed to be quite solid [...]

    Morten> The problem is seen with "gcc version 2.96 20000731
    Morten> (Red Hat Linux 7.1 2.96-98)".  That would appear to
    Morten> be newer than yours.

    Morten>    0.64 is 2.5 years old!  Several things have been
    Morten> fixed since then, [...]

    Morten> Ahem, :-) I did look at some point and nothing much

if you measure "much" in percentage of changed source code. 
Sometimes a bug is fixed by replacing "<" with "<=" etc... which
is not ``much'' .. :-)
Really, please don't use anything <= R 1.0; and indeed, since
you should upgrade anyway, please use the current 1.4.0.

    Morten> had changed.  I've put it on my todo list to have a
    Morten> look.  (We might switch to GSL since that has more
    Morten> code that we would like to offload from our backs.
    Morten> Also, the packing seems to be nicer.  On the other
    Morten> hand, I have no idea of how reliable it is.)

Well, without wanting to brag, it still must be said:
The things we do with distributions, we do **much** better than
the GSL (which has quite a wider scope of numerical analysis
than we do), at least for the few cases I looked at.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Jan  7 17:54:40 2002
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Mon, 7 Jan 2002 18:54:40 +0100 (MET)
Subject: [Rd] piechart default colour (PR#1248)
Message-ID: <200201071754.SAA01839@pubhealth.ku.dk>

As of 1.4.0, the default colour of pieslices is black. Try
piechart(1:3) for instance. The workaround is to use an explicit
col="white" argument.

(Of course, everything in example(piechart) uses fancy colour schemes,
so nobody noticed that the default got changed.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Mon Jan  7 18:42:44 2002
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Mon, 7 Jan 2002 19:42:44 +0100 (MET)
Subject: [Rd] cluster - clusplot.default (PR#1249)
Message-ID: <200201071842.TAA02067@pubhealth.ku.dk>



    


The following code in clusplot.default (package cluster) is in error:

x1 <- cmdscale(x, k = 2, eig = TRUE)
        var.dec <- sum(x1$eig)/sum(diag(x1$x))
        if (var.dec < 0) 
            var.dec <- 0
        if (var.dec > 1) 
            var.dec <- 1
        x1 <- x1$points

x1 has components with names "points" and "eig", not "x", so 
sum(diag(x1$x)) returns 0, the division gives Inf which is later replaced 
by 1. 
So in the plot it is reported (always) that "These two components explain 
100% 
of the variability". 

Besides, is it reasonable that sum(NULL) returns 0 without at least a 
warning?

Another small point about the cluster package: it loads automatically
mva, but that is not mentioned in the Depends field in the description file.

Kjetil Halvorsen



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From apjaworski@mmm.com  Mon Jan  7 18:47:12 2002
From: apjaworski@mmm.com (apjaworski@mmm.com)
Date: Mon, 7 Jan 2002 12:47:12 -0600
Subject: [Rd] qbeta function (FYI, compiler bug)
Message-ID: <OFFE9E74CF.84A8CAF7-ON86256B3A.0066C491@mmm.com>


I am not sure if this is still true.

Hre is a quick check:

(1) R-1.4.0 (Prof. Ripley build), Win2000

     > qbeta(0.025,4,0.5)
     [1] 0.5137795

(2) R-1.4.0 (compiled from source), RH-7.2 (gcc 2.96-98)

     > qbeta(0.025,4,0.5)
     [1] 0.5137795

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski@mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    Morten Welinder                                                                                                            
                    <terra@diku.dk>      To:     r-devel@hypatia.math.ethz.ch                                                                  
                                         cc:     (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                 
                    01/07/2002           Subject:     [Rd] qbeta function (FYI, compiler bug)                                                  
                    09:19 AM                                                                                                                   
                                                                                                                                               
                                                                                                                                               






Hi there,

this is just to let you know that the qbeta function, which was
copied from R into Gnumeric, has been confirmed to be miscompiled
by gcc 2.96 on Linux.  (That's Red Hat's compiler.)

This shows by qbeta(0.025,4,0.5) ending up taking the wrong
branch of "if (alpha <= 0.5)".

We compile things in a different context, so this may or may not
affect you.  The qbeta function was taken from R 0.64.

Morten

http://www.gnome.org/gnumeric/
http://bugzilla.gnome.org/show_bug.cgi?id=68057
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Jan  7 19:14:33 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 7 Jan 2002 11:14:33 -0800 (PST)
Subject: [Rd] Mishandling missing "..." (PR#1247)
In-Reply-To: <200201071552.QAA00375@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.43.0201071110230.157118-100000@homer04.u.washington.edu>

On Mon, 7 Jan 2002 brahm@alum.mit.edu wrote:

> R> myfun <- function(x, ...) {x[...] <- 0; x}
> R> myfun(3)
>    Error in myfun(3) : SubAssignArgs: invalid number of arguments
>
> It fails because no ... was passed.  The workaround (and desired behavior) is:
> R> myfun <- function(x, ...) {if (missing(...)) x[] <- 0 else x[...] <- 0; x}
> R> myfun(3)
>    [1] 0
>

This is interesting.  Another workaround is

> myfun
function(x, ...) {x[...] <- 0; x}
> myfun(3,)
[1] 0

and the problem goes down to eval.c:evalListKeepMissing, which says
	/* If we have a ... symbol, we look to see what it is bound to.
	 * If its binding is Null (i.e. zero length)
	 *	we just ignore it and return the cdr with all its
               expressions evaluated;

The difference between  myfun(3) and myfun(3,) is that in the former case
there are no ... arguments, in the latter there is a ... argument but it's
missing.

In one way this would be fairly easy to fix by writing yet another variant
of evalList that replaced an empty ... with R_MissingArg, but I'm scared.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Jan  7 19:38:59 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Jan 2002 19:38:59 +0000 (GMT)
Subject: [Rd] cluster - clusplot.default (PR#1249)
In-Reply-To: <200201071842.TAA02067@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201071934140.32313-100000@gannet.stats>

On Mon, 7 Jan 2002 kjetilh@umsanet.edu.bo wrote:

>
>
>
>
>
> The following code in clusplot.default (package cluster) is in error:
>
> x1 <- cmdscale(x, k = 2, eig = TRUE)
>         var.dec <- sum(x1$eig)/sum(diag(x1$x))
>         if (var.dec < 0)
>             var.dec <- 0
>         if (var.dec > 1)
>             var.dec <- 1
>         x1 <- x1$points
>
> x1 has components with names "points" and "eig", not "x", so
> sum(diag(x1$x)) returns 0, the division gives Inf which is later replaced
> by 1.
> So in the plot it is reported (always) that "These two components explain
> 100%
> of the variability".
>
> Besides, is it reasonable that sum(NULL) returns 0 without at least a
> warning?

Yes: an empty sum is zero in mathematics.  S code relies on such things.

> Another small point about the cluster package: it loads automatically
> mva, but that is not mentioned in the Depends field in the description file.

It depends on base too, but that's not mentioned.  The convention is to
only include packages that are not in the standard tar bundle.
We can (and do) move things around between those, and indeed have talked
about some major reorganization of them (back as far DSC99, in fact).

You'll find most packages follow that convention: MASS uses almost all the
standard packages somewhere.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From terra@diku.dk  Mon Jan  7 20:25:47 2002
From: terra@diku.dk (Morten Welinder)
Date: 7 Jan 2002 20:25:47 -0000
Subject: [Rd] qbeta function (FYI, compiler bug)
In-Reply-To: <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 07 Jan 2002 16:47:32 +0100)
References: <20020107151910.14705.qmail@tyr.diku.dk> <x2n0zqf9ij.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020107202547.25588.qmail@tyr.diku.dk>


Thanks all.

I checked 1.4 and a clever head here noticed that one problem still
seems to be there.  In the !IEEE_754 case, either qbeta should zero
errno or else pbeta_raw should.

A similar problem seems to be in qgamma.

Morten
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Mon Jan  7 22:01:00 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 7 Jan 2002 17:01:00 -0500
Subject: [Rd] speeding up [.data.frame
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF14A@groexmbcr02.pfizer.com>


 >  -----Original Message-----
 >  From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
 >  Subject: Re: [Rd] speeding up [.data.frame
 >  
 >  
 >  On Sat, 5 Jan 2002, Warnes, Gregory R wrote:
 >  
 >  >
 >  > (I'm up too late so this might come through garbled...)
 >  >
 >  > I've just been doing some bootstrapping on data frames 
 >  > and I discovered that S-plus 6.0r1 was a *lot* faster 
 >  > than R 1.3.1 at the task. Splus was completing 100 bootstrap 
 >  > iterations in about 4 seconds while R was taking
 >  > about 15 seconds. However, doing bootstrapping on 
 >  > equivalent *matrices* R was slightly faster, 1.5 seconds verses 1.86.
 >  >
 >  > Now, since I'm doing glm's inside the bootstrap, I really 
 >  > need to use data frames...
 >  
 >  Why?  Surely you should be working at the design matrix 
 >  level and calling glm.fit directly?   Otherwise you are repeating a lot
of 
 >  work for every bootstrap fit.

Ahh, well, I usually start doing things the easy way and then work towards
harder (and potentially more efficient) ones.  I was  just suprised about
the overhead of bootstrapping a data frame when the operation inside the
bootstrap was essentially a NOOP.  

Is there example code of calling glm fit somewhere?

 >  
 >  BTW, is 11 seconds worth saving?: it sound trivial to me.  
 >  But if it is,
 >  moving to glm.fit looks to me to be the best optimization.

No, 11 seconds is not worth much work.  However, when I do 1000 bootstrap
samples it just might be 110 seconds and if we throw this insite another
loop to search over one of the parameters (which it looks like we may have
to do) this gets multiplied again..

 >  
 >  > It turns out that one of the reasons S-plus is faster on 
 >  > data frames is that S-Plus's allows you to turn of checking 
 >  > for/resolution of duplicate row names in "[.data.frame" by 
 >  > setting an attribute 'dup.row.names' to any non-NULL value.  
 >  > Adding an additional argument to R's "[.data.frame"  (patch
 >  > below) to permit the same optimization and using the argument in my
 >  > bootstrap function reduced the elapsed time for R to 8.6 seconds.
 >  >
 >  > Still, I'm wondering if there are other 'reasonable' changes to
 >  > "[.data.frame" that could narrow the gap further...
 >  
 >  That one is not reasonable in my opinion.  It should not be in S-PLUS
(and
 >  the advisory board has discussed its removal, as I recall). Having
unique
 >  row names is a fundamental property of data frames.  What you and they
 >  seem to want is another class which is like data frames but does not
 >  require row names, from which data.frame could inherit.

If there was another class that acted like a data frame but was 'lighter
weight' that would do for my purpose.  

BTW, are the 'fundimental properties' of various S language objects defined
anywhere?  Surely, some properties are implementation accidents, others are
implementation choices, and others are 'fundimental' to the behavior of the
object.

 >  
 >  -- 
 >  Brian D. Ripley,                  ripley@stats.ox.ac.uk
 >  Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 >  University of Oxford,             Tel:  +44 1865 272861 (self)
 >  1 South Parks Road,                     +44 1865 272860 (secr)
 >  Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Jan  7 22:22:40 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 7 Jan 2002 14:22:40 -0800 (PST)
Subject: [Rd] speeding up [.data.frame
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF14A@groexmbcr02.pfizer.com>
Message-ID: <Pine.A41.4.43.0201071421270.157118-100000@homer04.u.washington.edu>

On Mon, 7 Jan 2002, Warnes, Gregory R wrote:

>
> Is there example code of calling glm fit somewhere?
>

The main example is in glm().

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Jan  7 23:06:21 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Jan 2002 23:06:21 +0000 (GMT)
Subject: [Rd] speeding up [.data.frame
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF14A@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0201072255390.15523-100000@gannet.stats>

On Mon, 7 Jan 2002, Warnes, Gregory R wrote:

>
>  >  -----Original Message-----
>  >  From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
>  >  Subject: Re: [Rd] speeding up [.data.frame
>  >
>  >
>  >  On Sat, 5 Jan 2002, Warnes, Gregory R wrote:
>  >
>  >  >
>  >  > (I'm up too late so this might come through garbled...)
>  >  >
>  >  > I've just been doing some bootstrapping on data frames
>  >  > and I discovered that S-plus 6.0r1 was a *lot* faster
>  >  > than R 1.3.1 at the task. Splus was completing 100 bootstrap
>  >  > iterations in about 4 seconds while R was taking
>  >  > about 15 seconds. However, doing bootstrapping on
>  >  > equivalent *matrices* R was slightly faster, 1.5 seconds verses 1.86.
>  >  >
>  >  > Now, since I'm doing glm's inside the bootstrap, I really
>  >  > need to use data frames...
>  >
>  >  Why?  Surely you should be working at the design matrix
>  >  level and calling glm.fit directly?   Otherwise you are repeating a lot
> of
>  >  work for every bootstrap fit.
>
> Ahh, well, I usually start doing things the easy way and then work towards
> harder (and potentially more efficient) ones.  I was  just suprised about
> the overhead of bootstrapping a data frame when the operation inside the
> bootstrap was essentially a NOOP.
>
> Is there example code of calling glm fit somewhere?

glm!   Take a look a package sm too, which has bootstrapping code for
glms.

People often don't realise how much work gets done creating model matrices
etc: profiling is often a very sobering exercise.

>  >  BTW, is 11 seconds worth saving?: it sound trivial to me.
>  >  But if it is,
>  >  moving to glm.fit looks to me to be the best optimization.
>
> No, 11 seconds is not worth much work.  However, when I do 1000 bootstrap
> samples it just might be 110 seconds and if we throw this insite another
> loop to search over one of the parameters (which it looks like we may have
> to do) this gets multiplied again..
>
>  >
>  >  > It turns out that one of the reasons S-plus is faster on
>  >  > data frames is that S-Plus's allows you to turn of checking
>  >  > for/resolution of duplicate row names in "[.data.frame" by
>  >  > setting an attribute 'dup.row.names' to any non-NULL value.
>  >  > Adding an additional argument to R's "[.data.frame"  (patch
>  >  > below) to permit the same optimization and using the argument in my
>  >  > bootstrap function reduced the elapsed time for R to 8.6 seconds.
>  >  >
>  >  > Still, I'm wondering if there are other 'reasonable' changes to
>  >  > "[.data.frame" that could narrow the gap further...
>  >
>  >  That one is not reasonable in my opinion.  It should not be in S-PLUS
> (and
>  >  the advisory board has discussed its removal, as I recall). Having
> unique
>  >  row names is a fundamental property of data frames.  What you and they
>  >  seem to want is another class which is like data frames but does not
>  >  require row names, from which data.frame could inherit.
>
> If there was another class that acted like a data frame but was 'lighter
> weight' that would do for my purpose.
>
> BTW, are the 'fundimental properties' of various S language objects defined
> anywhere?  Surely, some properties are implementation accidents, others are
> implementation choices, and others are 'fundimental' to the behavior of the
> object.

No, although the blue and white books are the closest we have to a
definition.  In this case, the first line of page 57 of the white book
says row names must be unique.  It's exactly like relations (tables) in an
RDBMS: data frames correspond to relations with a primary key, and
database theory explains why that is a key (sorry) property.  So I am sure
this was no accident.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Mon Jan  7 23:06:00 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Mon, 07 Jan 2002 18:06:00 -0500
Subject: [Rd] Mishandling missing "..." (PR#1247)
References: <Pine.A41.4.43.0201071110230.157118-100000@homer04.u.washington.edu>
Message-ID: <3C3A29D8.FB0A80C8@research.bell-labs.com>

Thomas Lumley wrote:
> 
> On Mon, 7 Jan 2002 brahm@alum.mit.edu wrote:
> 
> > R> myfun <- function(x, ...) {x[...] <- 0; x}
> > R> myfun(3)
> >    Error in myfun(3) : SubAssignArgs: invalid number of arguments
> >
> > It fails because no ... was passed.  The workaround (and desired behavior) is:
> > R> myfun <- function(x, ...) {if (missing(...)) x[] <- 0 else x[...] <- 0; x}
> > R> myfun(3)
> >    [1] 0
> >
> 
> This is interesting.  Another workaround is
> 
> > myfun
> function(x, ...) {x[...] <- 0; x}
> > myfun(3,)
> [1] 0
> 
> and the problem goes down to eval.c:evalListKeepMissing, which says
>         /* If we have a ... symbol, we look to see what it is bound to.
>          * If its binding is Null (i.e. zero length)
>          *      we just ignore it and return the cdr with all its
>                expressions evaluated;
> 
> The difference between  myfun(3) and myfun(3,) is that in the former case
> there are no ... arguments, in the latter there is a ... argument but it's
> missing.
> 
> In one way this would be fairly easy to fix by writing yet another variant
> of evalList that replaced an empty ... with R_MissingArg, but I'm scared.
> 
>         -thomas


My feeling is that it's the ordinary behavior of x[] <- 0 that is
puzzling.  Even though the example with myFun generates an error, it
looks more consistent with a general semantics than does the "raw"
expression.

Shouldn't the expression x[] <- 0 be  equivalent to "[<-(x, 0), just as

  x[i]<-0; x[i,j] <- 0

are equivalent to

  "[<-"(x,i,0); "[<-"(x,i,j,0)
??

But in fact the functional form of the operator generates the same
error:

> x <- 1:10
> "[<-"(x, 0)
Error: SubAssignArgs: invalid number of arguments

OTOH,

> "[<-"(x, , 0)
 [1] 0 0 0 0 0 0 0 0 0 0

The internal problem seems to be that SubAssignArgs is supposed to
return a subscript list of length 1 containing one element which is
"missing", rather than a list of length 0 for the x[] <-... case.  If it
could return the latter, and if the switch statement in
do_subassign_dflt didn't ignore the case of 0 subscripts, but had
instead
	case 0:
	   x = VectorAssign(call, x, R_MissingArg, y);
	   break;

then the anomalies seem to go away.  Making this change in the r-devel
code, and returning something from SubAssignArgs for the case nsub==0
gives:

> myfun <- function(x, ...) {x[...] <- 0; x}
> x <- 1:10
> myfun(x)
 [1] 0 0 0 0 0 0 0 0 0 0
> x
 [1]  1  2  3  4  5  6  7  8  9 10
> x[] <- 0
> x
 [1] 0 0 0 0 0 0 0 0 0 0


Not to beat longer on the question than it perhaps deserves, but the
"workaround"  using missing(...) seems wrong in principle.  Requires a
digression on the history of "..."; sorry about that.

The essential meaning of "..."  is that, if it's a formal argument to a
function, f, and in the body of f there is a call, say, g(...), then the
effect is equivalent to calling g with all the arguments that match
"..." (with arguments evaluated in the right environment of course).

This has always been a rather dicey bit of the language, since it is
much less object-based than any other concept in the basic semantics. 
In trying to elaborate the model somewhat, we came up with the notion
that "..." was roughly like having objects ..1, ..2, etc. in the local
frame, up to n where n == length(list(...)).   The evaluator then
roughly turns g(...) into g(<name1>=..1, ....) with the appropriate
names taken from the call to f.

As a semantic model, this is not great, but the mechanism is pretty
clearly useful in practice.  (And I have to say that none of the
versions I know of the same mechanism in other languages, developed in
parallel with our floundering around, impress me as better in terms of
combined usefulness and clarity.)

But it leads to some tricky situations if one interprets "..." as an
ordinary variable.

For example, missing(...) doesn't work if interpreted according to the
semantics for "...".  For example:

  f <- function(x, ...) { if(missing(...)) x else ## something or
other..}

f(1)

should be equivalent to { if(missing())... 

f(1,2, 3)

should be equivalent to { if(missing(..1, ..2))....

neither of which should be legal.  

So, missing(...) seems a questionable expression in any context.

John


-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From loki@cs.usyd.edu.au  Tue Jan  8 23:55:48 2002
From: loki@cs.usyd.edu.au (Lachlan Patrick)
Date: Wed, 09 Jan 2002 10:55:48 +1100
Subject: [Rd] GraphApp version 3
Message-ID: <200201090001.BAA24268@stat.math.ethz.ch>

Hi, I'm the developer of GraphApp, which is a graphics and
user interface toolkit which I believe has been used
by your "R" package.

I don't know whether GraphApp is still used in "R", but
I thought you should know there is a new version of
GraphApp available (version 3) which is built around
a solid, portable core of graphics operations and is
independent of Motif, Athena, and other such toolkits.
There are a number of new features. You might want to
investigate converting "R" over to the new interface
if you are still using the older GraphApp version 2.
Programs will need to be slightly rewritten, but there
are a number of example programs to help with that
process, and many examples are based on older examples
from version 2, so there is a source of comparison to
see what has changed.

The new GraphApp has a new home page, which can be
reached by visiting the old page and clicking on the
link. The old page is:
http://www.cs.usyd.edu.au/~loki/graphapp/
And the new one is:
http://enchantia.com/software/graphapp/

Loki
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ccsshb@bath.ac.uk  Wed Jan  9 13:24:56 2002
From: ccsshb@bath.ac.uk (ccsshb@bath.ac.uk)
Date: Wed, 9 Jan 2002 14:24:56 +0100 (MET)
Subject: [Rd] Not striclty a bug but a problem (PR#1250)
Message-ID: <200201091324.OAA24056@pubhealth.ku.dk>

Version: 1040
OS: Windows 98 SE

Problem: 
I have installed R with all help files to a network read-only drive. help.start() requires rw on two files
../R/rw1040/doc/html/packages.html
../R/rw1040/doc/html/search/index.txt

This is a minor issue as running R 1.4.0 help from the start menu works fine.

Perhaps the next version may address this?

Simon Bowman
Systems Adminstrator
University of Bath
UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jan  9 13:34:47 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 9 Jan 2002 14:34:47 +0100 (MET)
Subject: [Rd] Not striclty a bug but a problem (PR#1250)
Message-ID: <200201091334.OAA24436@pubhealth.ku.dk>

On Wed, 9 Jan 2002 ccsshb@bath.ac.uk wrote:

> Version: 1040
> OS: Windows 98 SE
>
> Problem:
> I have installed R with all help files to a network read-only drive. help.start() requires rw on two files
> ../R/rw1040/doc/html/packages.html
> ../R/rw1040/doc/html/search/index.txt

What exactly is reported?

> This is a minor issue as running R 1.4.0 help from the start menu works fine.

But it won't work fine if the set of installed packages is changed, if
that is an issue.

> Perhaps the next version may address this?

Could you suggest a patch?   Does adding try() as in

try(make.packages.html(.libPaths()))
try(make.search.html(.Library))

help?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Jan  9 14:18:49 2002
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 09 Jan 2002 15:18:49 +0100
Subject: [Rd] Not striclty a bug but a problem (PR#1250)
References: <200201091334.OAA24436@pubhealth.ku.dk>
Message-ID: <3C3C5149.389812A9@statistik.uni-dortmund.de>

ripley@stats.ox.ac.uk wrote:
> 
> On Wed, 9 Jan 2002 ccsshb@bath.ac.uk wrote:
> 
> > Version: 1040
> > OS: Windows 98 SE
> >
> > Problem:
> > I have installed R with all help files to a network read-only drive. help.start() requires rw on two files
> > ../R/rw1040/doc/html/packages.html
> > ../R/rw1040/doc/html/search/index.txt
> 
> What exactly is reported?
> 
> > This is a minor issue as running R 1.4.0 help from the start menu works fine.
> 
> But it won't work fine if the set of installed packages is changed, if
> that is an issue.
> 
> > Perhaps the next version may address this?
> 
> Could you suggest a patch?   Does adding try() as in
> 
> try(make.packages.html(.libPaths()))
> try(make.search.html(.Library))
> 
> help?

That's a very good idea!
Of course, in these cases the administrator has to call these functions
(or link.html.help()) manually again (don't know if this is still
documented or deleted from docs since the updates are done
automatically).

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Wed Jan  9 18:31:09 2002
From: a296180@mica.fmr.com (a296180@mica.fmr.com)
Date: Wed, 9 Jan 2002 19:31:09 +0100 (MET)
Subject: [Rd] typo in R Install/Admin manual version 1.4.0 (PR#1251)
Message-ID: <200201091831.TAA28657@pubhealth.ku.dk>

On page 15, I think that "Some case is needed" should be "Some care is needed".

Regards,

Dave Kane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jan 10 08:25:21 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 10 Jan 2002 09:25:21 +0100 (MET)
Subject: [Rd] cluster - clusplot.default (PR#1249)
Message-ID: <200201100825.JAA02105@pubhealth.ku.dk>

>>>>> "kjetil" == kjetil halvorsen <kjetilh@umsanet.edu.bo> writes:

    kjetil> The following code in clusplot.default (package cluster) is in error:

    kjetil>    x1 <- cmdscale(x, k = 2, eig = TRUE)
    kjetil>    var.dec <- sum(x1$eig)/sum(diag(x1$x))
    kjetil>    if (var.dec < 0)  var.dec <- 0
    kjetil>    if (var.dec > 1)  var.dec <- 1
    kjetil>    x1 <- x1$points

    kjetil> x1 has components with names "points" and "eig", not
    kjetil> "x", so sum(diag(x1$x)) returns 0, the division
    kjetil> gives Inf which is later replaced by 1.  So in the
    kjetil> plot it is reported (always) that "These two
    kjetil> components explain 100% of the variability".

Thank you Kjetil.
Yes, there's definitely a problem there.
However the solution is not as easy: Doing the replacement you
suggest is not enough, since var.dec still is not scaled to [0,1].

Before the lines you cite above, there is

        ##x1 <- cmd(x, k = 2, eig = T, add = T)
        ##if(x1$ac < 0)
        ##	x1 <- cmd(x, k = 2, eig = T)

which was Rousseeuw et al's original code -- instead of the
  x1 <- cmdscale(...) line above.
And cmd() was an internal function calling directly into
undocumented S-plus internal Fortran code...
The original porter of the cluster package had replaced the
cmd() by cmdscale()  which seemed but was not ok.

I'll have a look.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jan 10 08:30:28 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 10 Jan 2002 09:30:28 +0100 (MET)
Subject: [Rd] typo in R Install/Admin manual version 1.4.0 (PR#1251)
Message-ID: <200201100830.JAA02217@pubhealth.ku.dk>

>>>>> "DavK" == David Kane <a296180@mica.fmr.com> writes:

    DavK> On page 15, I think that "Some case is needed" should
    DavK> be "Some care is needed".  

Indeed! thank you  {fixed for R-patched aka 1.4.1 to be}
Martin Maechler

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From o.christensen@lancaster.ac.uk  Thu Jan 10 19:35:44 2002
From: o.christensen@lancaster.ac.uk (o.christensen@lancaster.ac.uk)
Date: Thu, 10 Jan 2002 20:35:44 +0100 (MET)
Subject: [Rd] round(10000000000) (PR#1254)
Message-ID: <200201101935.UAA14520@pubhealth.ku.dk>

Full_Name: Ole Christensen
Version: 1.4.0
OS: Linux
Submission from: (NULL) (194.80.32.10)


Dear R-people

I found the following feature for the round function (using R-1.4.0)

> round(10000000000)
[1] -2147483648

Is this a bug ?

The round(10000000000) worked fine using R-1.3.1

Thank you in advance

Ole


> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Jan 10 19:36:09 2002
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Thu, 10 Jan 2002 20:36:09 +0100 (MET)
Subject: [Rd] Size of type double in object type dist (PR#1255)
Message-ID: <200201101936.UAA14534@pubhealth.ku.dk>


The following problem occurs in R 1.4.0 and 1.3.1 for Windows95,
but not in R 1.2.0 for Windows95.

The problem does not occur in R 1.4.0 for Linux PC, Linux Alpha
and HP-UX.

Sometimes, the type of 'Size' of an object of type 'dist'
changes from integer into double. Running cmdscale on such a
'dist' object gives invalid results.

I don't know what should be considered a bug, the type of 'Size'
changing into 'double', or cmdscale not able to process a 'dist'
object with a 'Size' of type 'double'. Perhaps both.

I have not been able to locate a single cause of this problem.
The following example is when it goes wrong:

    # PA is an object of class 'dist' with 'Size' 67
    > data(PA)
    > attr(PA, "Size")
    [1] 67
    >
    > MDS <- function (dif, dim)
    + {
    +     a <- cmdscale(dif, k = dim, eig = FALSE)
    +     row.names(a) <- names(dif)
    +     a
    + }
    >
    > vec <- MDS(PA, 2)
    > attr(PA, "Size")
    [1] 67
    > plot(vec, type="n", xlab="", ylab="")
    > attr(PA, "Size")
    [1] 67
    > text(vec, rownames(vec), cex=0.5)
    > attr(PA, "Size")
    [1] 67
    >
    > vec8 <- MDS(PA, 8)
    > attr(PA, "Size")
    [1] 67
    > d2 <- dist(vec)
    > attr(PA, "Size"); attr(d2, "Size")
    [1] 67
    [1] 67
    > d8 <- dist(vec8)
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    > cor(PA, d2)
    [1] 0.9370243
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    > cor(PA, d8)
    [1] 0.9773668
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    >
    > plot(c(min(PA), max(PA)), c(min(d2, d8), max(d2, d8)),
    +      type="n", xlab="PA", ylab="dist( cmdscale( PA ) )")
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67
    [1] 67
    [1] 67
    > points(PA, d2, pch=20, cex=0.5, col="black")
# here is when it changes
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67.00000
    [1] 67
    [1] 67
    > points(PA, d8, pch=20, cex=0.5, col="blue")
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67.00000
    [1] 67
    [1] 67
    > legend(min(PA),max(c(d2,d8)),c("dim = 2", "dim = 8"), fill=c("black", "blue"))
    > attr(PA, "Size"); attr(d2, "Size"); attr(d8, "Size")
    [1] 67.00000
    [1] 67
    [1] 67

It gets weirder...

    > rm(PA)
    > data(PA)
    > attr(PA, "Size")
    [1] 67.00000

If I do the following, the 'Size' attributes becomes an integer,
and seems to stay an integer:

    > PA <- as.dist(PA)

...however, running cmdscale on it produces nonsense

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Windows 95 4.0 (build 1111)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 10 19:54:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 10 Jan 2002 20:54:34 +0100 (MET)
Subject: [Rd] round(10000000000) (PR#1254)
Message-ID: <200201101954.UAA14591@pubhealth.ku.dk>

Yes, it's a newly introduced bug, fixed now.

On Thu, 10 Jan 2002 o.christensen@lancaster.ac.uk wrote:

> Full_Name: Ole Christensen
> Version: 1.4.0
> OS: Linux
> Submission from: (NULL) (194.80.32.10)
>
>
> Dear R-people
>
> I found the following feature for the round function (using R-1.4.0)
>
> > round(10000000000)
> [1] -2147483648
>
> Is this a bug ?
>
> The round(10000000000) worked fine using R-1.3.1
>
> Thank you in advance
>
> Ole
>
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Jan 10 23:51:28 2002
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Fri, 11 Jan 2002 00:51:28 +0100 (CET)
Subject: [Rd] Size of type double in object type dist (PR#1255)
In-Reply-To: <200201101936.UAA14534@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.33.0201110031300.476-100000@kleigh.nl>

kleiweg@let.rug.nl scribeva...

> Sometimes, the type of 'Size' of an object of type 'dist'
> changes from integer into double. Running cmdscale on such a
> 'dist' object gives invalid results.

I have done some further testing. It seems the storage mode of
'Size' was double from the start. Setting the storage mode to
integer does not fix the problem. (However, the problems occur
once attr(PA, "Size") no longer prints 67, but 67.00000)

There seems to be something wrong with the interaction of
the 'plot' function with objects of class 'dist' and
the 'cmdscale' function. I traced cmdscale:

function (d, k = 2, eig = FALSE)
{
[snip]

    storage.mode(x) <- "double"
    Tmat <- -0.5 * .C("dblcen", x, as.integer(n), PACKAGE = "mva")[[1]]

Up to this point, all goes well. The results in Tmat seem OK.
When things go wrong, the following command take a long time to
run:

    e <- La.eigen(Tmat, symmetric = TRUE)

[snip]

}

My best guess is that there is some memory problem (overflow,
null pointer assignment, whatever) when plot is applied to an
object of class 'dist', which causes another call to cmdscale on
the same object to go wrong.

If someone wants to try this, the problem occured running the
examples of the functions 'MDS', 'ISOMDS', and 'SAMMON' in the
'iLeven' package. That package can be downloaded from:

    http://www.let.rug.nl/~kleiweg/levenshtein/R/

Just running one example (any example) once works fine. Running
that example again, or running any of the other examples fails.

R versions 1.3.1 and 1.4.0 / Windows95

-- 
Peter Kleiweg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From patrick.lindsey@luc.ac.be  Fri Jan 11 15:21:15 2002
From: patrick.lindsey@luc.ac.be (Patrick Lindsey)
Date: Fri, 11 Jan 2002 16:21:15 +0100 (MET)
Subject: [Rd] Wrong header file in ttest.c (windlgs package).
Message-ID: <200201111521.QAA04235@luc.ac.be>

Hi everyone,
  I've just installed "rw1040" and all the components necessary to compile
packages for windows. I always try out my new installation on the provided
package "windlgs" in order to ensure that everything is working.
  This time I ran into a small problem. Indeed, the second line of "ttest.c"
includes a header file ("ga.h") which does not exits. I believe that it
should be changed back to what it was under "rw1031" which was "graphapp.h".
  Apologies if this has already been reported.
Patrick.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 11 15:30:38 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 15:30:38 +0000 (GMT)
Subject: [Rd] Wrong header file in ttest.c (windlgs package).
In-Reply-To: <200201111521.QAA04235@luc.ac.be>
Message-ID: <Pine.LNX.4.31.0201111523320.18667-100000@gannet.stats>

On Fri, 11 Jan 2002, Patrick Lindsey wrote:

> Hi everyone,
>   I've just installed "rw1040" and all the components necessary to compile
> packages for windows. I always try out my new installation on the provided
> package "windlgs" in order to ensure that everything is working.
>   This time I ran into a small problem. Indeed, the second line of "ttest.c"
> includes a header file ("ga.h") which does not exits. I believe that it
> should be changed back to what it was under "rw1031" which was "graphapp.h".
>   Apologies if this has already been reported.

Sorry, it does need to be ga.h.  We'll arrange to ship it.  The line

    setbackground(win, myGetSysColor(COLOR_MENU));

and CVS entry

revision 1.5
date: 2001/11/19 09:23:47;  author: ripley;  state: Exp;  lines: +14 -12
correct background colours under Win2k

explain why.  Could you just get it from the sources and put it in
src/include.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jutans@utans.u-net.com  Fri Jan 11 15:46:25 2002
From: jutans@utans.u-net.com (jutans@utans.u-net.com)
Date: Fri, 11 Jan 2002 16:46:25 +0100 (MET)
Subject: [Rd] seq.POSIXt: & DST (PR#1256)
Message-ID: <200201111546.QAA26755@pubhealth.ku.dk>

Full_Name: Joachim Utans
Version: 1.4.0
OS: NT4 sp4
Submission from: (NULL) (195.42.238.80)


seq.POSIXt(..., by="day") apparently has problems steping over
a change in daylight savings time; 2001-10-28 appears twice,
the last day, 2001-10-30, is missing


> seq(as.POSIXct("2001-10-26"),as.POSIXct("2001-10-30"),by="day")
[1] "2001-10-26 00:00:00 GMT Daylight Time" "2001-10-27 00:00:00 GMT Daylight
Time" "2001-10-28 00:00:00 GMT Daylight Time"
[4] "2001-10-28 23:00:00 GMT Standard Time" "2001-10-29 23:00:00 GMT Standard
Time"



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 11 15:54:56 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 15:54:56 +0000 (GMT)
Subject: [Rd] seq.POSIXt: & DST (PR#1256)
In-Reply-To: <200201111546.QAA26755@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201111551370.18667-100000@gannet.stats>

On Fri, 11 Jan 2002 jutans@utans.u-net.com wrote:

> Full_Name: Joachim Utans
> Version: 1.4.0
> OS: NT4 sp4
> Submission from: (NULL) (195.42.238.80)
>
>
> seq.POSIXt(..., by="day") apparently has problems steping over
> a change in daylight savings time; 2001-10-28 appears twice,
> the last day, 2001-10-30, is missing

Take a closer look.  It is stepping by days, but that means by 24-hour
days.  Look at it in GMT (there is no such time zone as GMT Daylight Time,
Bill Gates!)

z <- seq(as.POSIXct("2001-10-26"),as.POSIXct("2001-10-30"),by="day")
> format(z, tz="GMT")
[1] "2001-10-25 23:00:00" "2001-10-26 23:00:00" "2001-10-27 23:00:00"
[4] "2001-10-28 23:00:00" "2001-10-29 23:00:00"

which is correct.

> > seq(as.POSIXct("2001-10-26"),as.POSIXct("2001-10-30"),by="day")
> [1] "2001-10-26 00:00:00 GMT Daylight Time" "2001-10-27 00:00:00 GMT Daylight
> Time" "2001-10-28 00:00:00 GMT Daylight Time"
> [4] "2001-10-28 23:00:00 GMT Standard Time" "2001-10-29 23:00:00 GMT Standard
> Time"


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sway@tanox.com  Fri Jan 11 20:59:30 2002
From: sway@tanox.com (Shawn Way)
Date: Fri, 11 Jan 2002 14:59:30 -0600
Subject: [Rd] RODBC
Message-ID: <0565F48FC373D411BE4D00B0D049602628E6BC@nt40hou1.tanox.com>

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C19AE2.DCDAFCB0
Content-Type: text/plain


I'm trying to make some modifications to the RODBC package under windows,
and I know that it has been compile for the current version of R.  I've
looked at the contrib source code and the current structure in the library
and they just don't match.  Does someone out there have the source code and
setup for the current version?  Or any clues as to what to do after the
configuration.

Thanks...


Shawn Way

------_=_NextPart_001_01C19AE2.DCDAFCB0
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2653.12">
<TITLE>RODBC</TITLE>
</HEAD>
<BODY>
<BR>

<P><FONT SIZE=3D2>I'm trying to make some modifications to the RODBC =
package under windows, and I know that it has been compile for the =
current version of R.&nbsp; I've looked at the contrib source code and =
the current structure in the library and they just don't match.&nbsp; =
Does someone out there have the source code and setup for the current =
version?&nbsp; Or any clues as to what to do after the =
configuration.</FONT></P>

<P><FONT SIZE=3D2>Thanks...</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Shawn Way</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C19AE2.DCDAFCB0--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From zeileis@ci.tuwien.ac.at  Fri Jan 11 21:29:52 2002
From: zeileis@ci.tuwien.ac.at (zeileis@ci.tuwien.ac.at)
Date: Fri, 11 Jan 2002 22:29:52 +0100 (MET)
Subject: [Rd] documentation of `las' on `par' help page (PR#1257)
Message-ID: <200201112129.WAA28243@pubhealth.ku.dk>

Just a small documentation bug:
something went wrong for the description of the graphical parameter
`las' on the HTML version of the `par' help page: `las' is missing and
instead a line from the description is used.
Z


platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 11 21:31:35 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 21:31:35 +0000 (GMT)
Subject: [Rd] RODBC
In-Reply-To: <0565F48FC373D411BE4D00B0D049602628E6BC@nt40hou1.tanox.com>
Message-ID: <Pine.LNX.4.31.0201112125210.27497-100000@gannet.stats>

On Fri, 11 Jan 2002, Shawn Way wrote:

>
> I'm trying to make some modifications to the RODBC package under windows,
> and I know that it has been compile for the current version of R.  I've
> looked at the contrib source code and the current structure in the library
> and they just don't match.  Does someone out there have the source code and
> setup for the current version?  Or any clues as to what to do after the
> configuration.

It was compiled from the sources by Rcmd INSTALL, but not recently.
Indeed, the DESCRIPTION file ends
Built: R 1.3.0;  Win32;  2001-06-25 17:13:49

But I've just re-run this under 1.4.0 and it still works. No configuration
is needed: there is a src/Makevars.win file.  So try the standard
procdure (as documented in `Writing R extensions').

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Sat Jan 12 01:08:05 2002
From: murdoch@stats.uwo.ca (murdoch@stats.uwo.ca)
Date: Sat, 12 Jan 2002 02:08:05 +0100 (MET)
Subject: [Rd] Bug in predict(newdata=x) with poly() (PR#1258)
Message-ID: <200201120108.CAA28888@pubhealth.ku.dk>

Bug in predict.lm & poly

The predict function doesn't work when used with poly and newdata.

For example, I'd expect the following code to work, and plot a fitted
cubic to the nearly straight line:

 x <- 1:10
 y <- x + rnorm(10)/100
 plot(x,y)
 fit <- lm(y ~ poly(x,3))
 newx <- seq(1,10,len=100)
 lines(newx,predict(fit,newdata=data.frame(x=newx)))

However, the plotted line is way off the data.  The problem is that
poly(x,3) doesn't agree with poly(newx,3) at equal values of x, so
predict applies the fitted coefficients to the wrong values.

To fix this we need a predict.poly procedure analogous to the
predict.ns() and predict.bs() procedures. This doesn't look easy to
write.

Duncan Murdoch

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Windows 98 4.10 (build 1998)  

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jan 12 07:49:39 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 12 Jan 2002 08:49:39 +0100 (MET)
Subject: [Rd] Bug in predict(newdata=x) with poly() (PR#1258)
Message-ID: <200201120749.IAA29489@pubhealth.ku.dk>

This is long-term known in S: there have been examples in V&R for years.
The S solution is predict.gam.

predict.poly is easy. The problem (as for bs and ns) is getting it used by
predict.lm.  Thomas Yee (I think) has made a solution available, but the
consensus was that it could be done more elegantly at a lower level.  We
already preserve information on contrasts and sets of levels: we need to
preserve similar information for poly() and spline terms.

I noticed this was still open last week, and put it on my (private) TODO
list.

On Sat, 12 Jan 2002 murdoch@stats.uwo.ca wrote:

> Bug in predict.lm & poly
>
> The predict function doesn't work when used with poly and newdata.
>
> For example, I'd expect the following code to work, and plot a fitted
> cubic to the nearly straight line:
>
>  x <- 1:10
>  y <- x + rnorm(10)/100
>  plot(x,y)
>  fit <- lm(y ~ poly(x,3))
>  newx <- seq(1,10,len=100)
>  lines(newx,predict(fit,newdata=data.frame(x=newx)))
>
> However, the plotted line is way off the data.  The problem is that
> poly(x,3) doesn't agree with poly(newx,3) at equal values of x, so
> predict applies the fitted coefficients to the wrong values.
>
> To fix this we need a predict.poly procedure analogous to the
> predict.ns() and predict.bs() procedures. This doesn't look easy to
> write.
>
> Duncan Murdoch
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
>
> Windows 98 4.10 (build 1998)
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Jan 12 15:25:35 2002
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Sat, 12 Jan 2002 16:25:35 +0100 (MET)
Subject: [Rd] Bug in predict(newdata=x) with poly() (PR#1258)
Message-ID: <200201121525.QAA00525@pubhealth.ku.dk>

On Sat, 12 Jan 2002 07:49:01 +0000 (GMT), you wrote:

>predict.poly is easy. The problem (as for bs and ns) is getting it used by
>predict.lm.  Thomas Yee (I think) has made a solution available, but the
>consensus was that it could be done more elegantly at a lower level.  We
>already preserve information on contrasts and sets of levels: we need to
>preserve similar information for poly() and spline terms.

Yes, I didn't notice that predict.bs wasn't being called by
predict.lm.

>I noticed this was still open last week, and put it on my (private) TODO
>list.

A short-term workaround would be to put code like this into
predict.lm, at the point where tt contains the terms of the fit, and
it has been determined that newdata is not missing:

  if (any(c('poly','bs','ns') %in% flatten(tt)))          
     warning("newdata not supported with 'poly', 'ns', or 'bs'")

I don't know if there's already a function like flatten in R; here's a
simple one:

flatten <- function (expr) 
{
  if (is.expression(expr) | is.call(expr) | is.list(expr)) {
    unlist(lapply(as.list(expr), flatten))
  } else {
    as.character(expr)
  }
}

There may be other functions besides poly, bs and ns that return
bases; I don't know.

Duncan Murdoch
 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From BudgetLife3@eudoramail.com  Sun Jan 13 18:55:37 2002
From: BudgetLife3@eudoramail.com (BudgetLife3@eudoramail.com)
Date: Sun, 13 Jan 2002 00:55:37 -1800
Subject: [Rd] Are You Paying too Much for Life Insurance?                KT
Message-ID: <000011c1060f$00001325$0000293a@mx1.eudoramail.com>

<html><body><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:center>M=
ost likely, <b>YES <span style=3Dfont-size:14.0pt;mso-bidi-font-size:12.0p=
t>!<o:p></o:p></span></b><o:p></o:p></p><p class=3DMsoNormal align=3Dcente=
r style=3Dtext-align:center>Here's why.<span style=3D"mso-spacerun: yes">&=
nbsp; </span><b><span style=3Dcolor:#FF3300>F</span><span style=3Dcolor:#F=
F9900>i</span><span style=3Dcolor:#FF3300>e</span><span style=3Dcolor:#FF9=
900>r</span><span style=3Dcolor:#FF3300>c</span><span style=3Dcolor:#FF990=
0>e</span></b> ... take no prisoner ... insurance industry <b><span style=3D=
color:red>PRICE WARS</span></b> have driven premiums <b><span style=3Dfont=
-size:14.0pt;mso-bidi-font-size:12.0pt;color:#003300>DOWN</span></b>, and =
<b>down</b>, and <b><span style=3Dfont-size:10.0pt;mso-bidi-font-size:12.0=
pt>down</span></b> --30 -- 40 -- 50 -- even <b><span style=3D"font-size:14=
.0pt;mso-bidi-font-size:
12.0pt">70%</span></b> from where they were just a short time ago!<o:p></o=
:p></p><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:center><b><s=
pan style=3Dcolor:#9900CC>YOUR INSURANCE COMPANY </span><span style=3Dcolo=
r:#FF3300>DOESN'T </span><span style=3Dcolor:#9900CC>WANT YOU TO READ THIS=
</span><span style=3Dfont-size:18.0pt;mso-bidi-font-size:12.0pt>...</span>=
<o:p></o:p></b><o:p></o:p></p><p class=3DMsoNormal align=3Dcenter style=3D=
text-align:center>They will <b><span style=3Dcolor:#009900>continue </span=
></b>to <b><span style=3Dcolor:#009900>take your money</span></b>, while o=
ffering lower rates (up to 50%, even 70% lower) to <b><span style=3Dcolor:=
black>new</span></b> buyers.<o:p></o:p></p><p class=3DMsoNormal align=3Dce=
nter style=3Dtext-align:center><b><span style=3Dfont-size:14.0pt;mso-bidi-=
font-size:12.0pt;color:black>B</span></b>UT DON'T TAKE OUR WORD FOR IT<b><=
span style=3D"font-size:16.0pt;mso-bidi-font-size:
12.0pt">...</span></b> <b><span style=3D"font-size:14.0pt;mso-bidi-font-si=
ze:
12.0pt">Visit<o:p></o:p></span></b><o:p></o:p></p><p class=3DMsoNormal ali=
gn=3Dcenter style=3Dtext-align:center><b><span style=3Dfont-size:14.0pt;ms=
o-bidi-font-size:12.0pt;color:blue><p><center><a href=3Dhttp://www.lifeins=
urance.net.cn/email>http://www.lifeinsurance.net.cn/email/</a></p><o:p></o=
:p></span></b><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:cente=
r>and request an online quote today.<span style=3D"mso-spacerun: yes">&nbs=
p; </span>Be prepared to be surprised by how <b><span style=3Dcolor:#00990=
0>cheaply</span></b> you can buy <b><span style=3Dcolor:#009900>large</spa=
n></b> amounts of term life insurance!</p><p class=3DMsoNormal align=3Dcen=
ter style=3Dtext-align:center>&nbsp;</p><p class=3DMsoNormal align=3Dcente=
r style=3Dtext-align:center>If you think, that you will not benefit from t=
his correspondence, please reply with =FFFFFF93remove key=FFFFFF94 as the =
subject matter.</p><p class=3DMsoNormal align=3Dcenter style=3Dtext-align:=
center>&nbsp;<o:p></o:p></p></body></html>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jan 15 13:20:59 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 15 Jan 2002 14:20:59 +0100 (MET)
Subject: [Rd] La.eigen() segfaults (asymmetric , only.values = TRUE) (PR#1262)
Message-ID: <200201151320.OAA29746@pubhealth.ku.dk>

The following produces a segmentation fault in R 1.4.0

    La.eigen(matrix(1:4, 2), only.values = TRUE)

It won't anymore in 1.4.1
since I'm about to commit a patch to modules/Lapack.c

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Tue Jan 15 13:39:02 2002
From: a296180@mica.fmr.com (David Kane  <David Kane)
Date: Tue, 15 Jan 2002 08:39:02 -0500
Subject: [Rd] 1.4.1 release date
Message-ID: <15428.12534.267549.539827@gargle.gargle.HOWL>

Has the likely release date for R 1.4.1 been set? Apologies if there is some
obvious place on the web site that I could have looked this up at. We are eager
to upgrade to 1.4, but some of the bugs matter to us. We have played around
with the patched code, but have mainly succeeded in demonstrating that we need
to learn more about UNIX code development . . .

Thanks to all for a most excellent program. 

Regards,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 15 14:07:14 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jan 2002 15:07:14 +0100
Subject: [Rd] 1.4.1 release date
In-Reply-To: <15428.12534.267549.539827@gargle.gargle.HOWL>
References: <15428.12534.267549.539827@gargle.gargle.HOWL>
Message-ID: <x2ita3wvvx.fsf@blueberry.kubism.ku.dk>

"David Kane  <David Kane" <a296180@mica.fmr.com> writes:

> Has the likely release date for R 1.4.1 been set? Apologies if there is some
> obvious place on the web site that I could have looked this up at.

It's generally announced on developer.r-project.org, but currently
that only says that a date hasn't been set.

It's "under consideration"... The release manager (i.e. me) has a book
deadline on Feb. 1, so wants to keep his nose down, but on the other
hand he also wants to be able to refer to a bugfixed version, so a
release towards the end of January is definitely possible. I should
have a better estimate around the weekend.

At any rate, now is a good time for people to try out their old code
and see if they can scare up some new bugs. Or maybe even debug and
file patches for things already reported. 

> We are eager
> to upgrade to 1.4, but some of the bugs matter to us. We have played around
> with the patched code, but have mainly succeeded in demonstrating that we need
> to learn more about UNIX code development . . .
> 
> Thanks to all for a most excellent program. 

(Which bugs were bothering you and have they been fixed?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Tue Jan 15 14:19:12 2002
From: a296180@mica.fmr.com (David Kane  <David Kane)
Date: Tue, 15 Jan 2002 09:19:12 -0500
Subject: [Rd] 1.4.1 release date
In-Reply-To: <x2ita3wvvx.fsf@blueberry.kubism.ku.dk>
References: <15428.12534.267549.539827@gargle.gargle.HOWL>
 <x2ita3wvvx.fsf@blueberry.kubism.ku.dk>
Message-ID: <15428.14944.90321.404661@gargle.gargle.HOWL>

Peter Dalgaard BSA writes:
 > At any rate, now is a good time for people to try out their old code
 > and see if they can scare up some new bugs. Or maybe even debug and
 > file patches for things already reported. 

We have run a large amount of our code through 1.4.0 and noticed nothing amiss
(except the two items below).

 > (Which bugs were bothering you and have they been fixed?)

The rounding issue and the as.is=TRUE. Both have been fixed (as we can see by
for ourselves in R-patched). 

Regards,

Dave Kane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Tue Jan 15 16:12:42 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Tue, 15 Jan 2002 17:12:42 +0100 (MET)
Subject: [Rd] labels returned by cut() when include.lowest=T (PR#1263)
Message-ID: <200201151612.RAA04275@pubhealth.ku.dk>

Full_Name: Stephen Eglen
Version: 1.4
OS: Redhat Linux 7.1
Submission from: (NULL) (128.252.204.36)


I think the brackets in the levels of cut() are slightly incorrect when
include.lowest is TRUE.

For example:

> table(cut( c(1,4), include.lowest=T, right=F, breaks=c(1,2,3,4)))

[1,2) [2,3) [3,4) 
    1     0     1 

I think the last range in this case should be [3,4].  A similar
problem exists for the first range when right=T.

Here is a possible patch against 1.4.0, which on the above example gives:
[1,2) [2,3) [3,4] 
    1     0     1 

Stephen

*** /tmp/cut.R.orig716Cri	Mon Jan 14 22:58:12 2002
--- /tmp/cut.R716P1o	Mon Jan 14 22:58:12 2002
***************
*** 25,30 ****
--- 25,35 ----
  			 ch.br[-nb], ",", ch.br[-1],
  			 if(right)"]" else ")", sep='')
  	    else paste("Range", 1:(nb - 1),sep="_")
+         if (ok && include.lowest)
+           if (right)
+             labels[1] <- sub("\\(", "\\[", labels[1])
+           else
+             labels[nb-1] <- sub(")", "]", labels[nb-1])
      } else if (is.logical(labels) && !labels)
          codes.only <- TRUE
      else if (length(labels) != nb-1)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jan 15 17:07:56 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 15 Jan 2002 18:07:56 +0100 (MET)
Subject: [Rd] labels returned by cut() when include.lowest=T (PR#1263)
Message-ID: <200201151707.SAA04859@pubhealth.ku.dk>

>>>>> "StEgl" == Stephen Eglen <stephen@cogsci.ed.ac.uk> writes:

    StEgl> Full_Name: Stephen Eglen
    StEgl> Version: 1.4
    StEgl> OS: Redhat Linux 7.1
    StEgl> Submission from: (NULL) (128.252.204.36)


    StEgl> I think the brackets in the levels of cut() are
    StEgl> slightly incorrect when include.lowest is TRUE.

    StEgl> For example:

    >> table(cut( c(1,4), include.lowest=T, right=F, breaks=c(1,2,3,4)))

    StEgl> [1,2) [2,3) [3,4) 
    StEgl> 1     0     1 

    StEgl> I think the last range in this case should be [3,4].  A similar
    StEgl> problem exists for the first range when right=T.

    StEgl> Here is a possible patch against 1.4.0, which on the
    StEgl> above example gives:

    StEgl> [1,2) [2,3) [3,4] 
    StEgl> 1     0     1 

    StEgl> Stephen

  *** /tmp/cut.R.orig716Cri	Mon Jan 14 22:58:12 2002
  --- /tmp/cut.R716P1o	Mon Jan 14 22:58:12 2002
  ***************
  *** 25,30 ****
  --- 25,35 ----
			   ch.br[-nb], ",", ch.br[-1],
			   if(right)"]" else ")", sep='')
	      else paste("Range", 1:(nb - 1),sep="_")
  +         if (ok && include.lowest)
  +           if (right)
  +             labels[1] <- sub("\\(", "\\[", labels[1])
  +           else
  +             labels[nb-1] <- sub(")", "]", labels[nb-1])
	} else if (is.logical(labels) && !labels)
	    codes.only <- TRUE
	else if (length(labels) != nb-1)

------

Thank you.
{I've fixed it using  ``substring() <- '' instead of sub()}.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Tue Jan 15 19:54:55 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Tue, 15 Jan 2002 20:54:55 +0100 (MET)
Subject: [Rd] typos in hist.Rd (PR#1264)
Message-ID: <200201151954.UAA05683@pubhealth.ku.dk>

Full_Name: Stephen Eglen
Version: 1.5 (development version)
OS: Redhat Linux 7.1
Submission from: (NULL) (128.252.204.36)


Hi, here are a few typos in hist.Rd, from the version in R-devel:

(line 24)      \item an function to compute

(line 49)    is to use the standard foregound color.
Should be FOREGROUND.


I also noted use of both "color" and "colour".  If both are okay, then fine.
Otherwise, it seems that color is more popular in the docs:

R/src/library/base/man 43 grep 'color' *.Rd| wc
    216    1784   14632
R/src/library/base/man 44 grep 'colour' *.Rd| wc
     13     136     936

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kohnicho@comp.nus.edu.sg  Wed Jan 16 06:16:02 2002
From: kohnicho@comp.nus.edu.sg (kohnicho@comp.nus.edu.sg)
Date: Wed, 16 Jan 2002 07:16:02 +0100 (MET)
Subject: [Rd] bug in survival package basehaz function (PR#1266)
Message-ID: <200201160616.HAA07145@pubhealth.ku.dk>

Hi,
In the survival analysis package the function basehaz has 2 errors in the
last line
   return(data.frame(hazard=H,time=surv$time,strata=strata))

1) no object surv is created or passed to the function, it should be sfit
2) If there are no strata data.frame barfs bucause strata is NULL

the following is a work around, there may be a better way.
   if(!is.null(strata))
   return(data.frame(hazard=H,time=sfit$time,strata=strata))
   else
   return(data.frame(hazard=H,time=sfit$time))

below is all the version info.

Nicholas

Title: Survival analysis, including penalised likelihood.
Maintainer: Thomas Lumley <tlumley@u.washington.edu>
Priority: recommended
Package: survival
Version: 2.8-2
Requires: R (>= 1.4.0)
Author: S original by Terry Therneau, ported by Thomas Lumley
Description: survival analysis: descriptive statistics, two-sample
  tests, parametric accelerated failure models, Cox model. Delayed entry
  (truncation) allowed for all models; interval censoring for parametric
  models.
License: GPL2



platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.0              
year     2001             
month    12               
day      19               
language R                



                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin@iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho@comp.nus.edu.sg


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Wed Jan 16 23:09:32 2002
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Thu, 17 Jan 2002 00:09:32 +0100 (MET)
Subject: [Rd] round() doesn't (PR#1139)
Message-ID: <200201162309.AAA20378@pubhealth.ku.dk>

Hi, all,

In PR#1138 and PR#1139, I pointed out that round() with digits<0 would not
actually round to an integer.  Brian D. Ripley (hereafter BDR) fixed it in
R-1.4.0, but the fix introduced a new error, PR#1254 (caught by Ole
Christensen).  BDR (I'm guessing) fixed the fix; here's the relevant line from
fround.c:

  if(dig <= 0 && fabs(res) < 1e9) res = (int)floor(res + 0.5);

This solution casts the result as int if it's under a billion, but it
re-introduces the original problem for large numbers:

  R-patched 01/13/2002> round(1e15, -2) - 1e15
                        [1] -0.25

So I'd ask to re-open PR#1139, and suggest another look at the "fround" C
function that I posted (in a followup) on 10/24/2001 (copied below).  I
substituted it into src/nmath/fround.c, successfully re-built R, and it works.
It handles the 3 cases dig=0, dig>0, and dig<0 separately, avoids the roundoff
errors that were occurring for dig<0, and avoids a call to R_pow_di altogether
when dig=0.  It gets the correct answer "0" in the above example.

Here are a few explicit test cases; the last one fails in R-patched 01/13/2002,
but all work with my "fround".
  all.equal(round(1234.5678,  2),         1234.57)
  all.equal(round(1234.5678,  0),         1235)
  all.equal(round(1234.5678, -2),         1200)
  all.equal(round(100000/3,  -2) - 33300, 0)
  all.equal(round(1e15,      -2) - 1e15,  0)  # Fails in R-patched

Thanks to all for a great program, and congratulations on the release of 1.4.0!

---- begin C code for fround.c: ----

double fround(double x, double digits) {
#define MAX_DIGITS DBL_MAX_10_EXP
    /* = 308 (IEEE); was till R 0.99: (DBL_DIG - 1) */
    /* Note that large digits make sense for very small numbers */
    double pow10, sgn, intx;
    int dig;

#ifdef IEEE_754
    if (ISNAN(x) || ISNAN(digits))
	return x + digits;
    if(!R_FINITE(x)) return x;
#endif

    if (digits > MAX_DIGITS)
	digits = MAX_DIGITS;
    dig = (int)floor(digits + 0.5);
    if(x < 0.) {
	sgn = -1.;
	x = -x;
    } else
	sgn = 1.;
    if (dig == 0) {
      return sgn * R_rint(x);
    } else if (dig > 0) {
        pow10 = R_pow_di(10., dig);
	intx = floor(x);
	return sgn * (intx + R_rint((x-intx) * pow10) / pow10);
    } else {
        pow10 = R_pow_di(10., -dig);
        return sgn * R_rint(x/pow10) * pow10;
    }
}
---- end C code ----
                              -- David Brahm (brahm@alum.mit.edu)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Jan 17 00:30:08 2002
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Thu, 17 Jan 2002 01:30:08 +0100 (MET)
Subject: [Rd] hashing NaN (PR#1267)
Message-ID: <200201170030.BAA20702@pubhealth.ku.dk>


Different NaNs can hash to different values and so be treated differently
by duplicated(), unique(), match(). Any IEEE double value with exponent
bits all 1 is NaN (except the one that is NA).

AFAICT all arithmetic and mathematical operations in R produce the same
NaN, but this is not guaranteed by any standard. read.spss() will produce
different NaNs when reading missing values in at least some circumstances.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gm81640@development.nssmb.com  Thu Jan 17 05:28:37 2002
From: gm81640@development.nssmb.com (gm81640@development.nssmb.com)
Date: Thu, 17 Jan 2002 06:28:37 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
Message-ID: <200201170528.GAA21628@pubhealth.ku.dk>

Full_Name: Geordon Marchak
Version: R-1.3.1
OS: Solaris 2.6
Submission from: (NULL) (199.67.239.91)


Got the following error when compiling on Solaris 2.6 with the standard GNU
gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
too :-)

# make
`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
".subsection"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
".previous"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
*** Error code 1
make: Fatal error: Command failed for target `lbfgsb.o'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gm81640@development.nssmb.com  Thu Jan 17 05:28:50 2002
From: gm81640@development.nssmb.com (gm81640@development.nssmb.com)
Date: Thu, 17 Jan 2002 06:28:50 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1269)
Message-ID: <200201170528.GAA21642@pubhealth.ku.dk>

Full_Name: Geordon Marchak
Version: R-1.3.1
OS: Solaris 2.6
Submission from: (NULL) (199.67.239.91)


Got the following error when compiling on Solaris 2.6 with the standard GNU
gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
too :-)

# make
`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
".subsection"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
".previous"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
*** Error code 1
make: Fatal error: Command failed for target `lbfgsb.o'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From angelus@truthmail.com  Thu Jan 17 06:35:21 2002
From: angelus@truthmail.com (angelus@truthmail.com)
Date: Thu, 17 Jan 2002 07:35:21 +0100 (MET)
Subject: [Rd] Notification:  You are hereby..... (PR#1270)
Message-ID: <200201170635.HAA21846@pubhealth.ku.dk>

Notification:

You are hereby challenged to see What the Media doen't want you to know.

The Truth about Abortion with your own eyes.

at http://www.getabortion.info

What you will never see on TV.

Its not a blob of tissue.  Every scientist , even those for abortion, will 
tell you that life begins at conception.  Once the egg and sperm join there 
is human life.

Why won't the media show you this?

They show open heart surgery, liver transplants and other operations on tv 
and cable.

Why not an abortion?

You can watch real videos online from former abortion doctors who have 
performed up to 75000 abortions, hear what they have to say about abortion.

Did you know that abortion is perfectly legal through all nine months of 
pregnancy, including the day of birth?

Did you know that in most states a child under the age of 16 can get an 
abortion without their parents knowing?

Anyone can plainly see that we are killing our own.

On September 11th 5000 people were killed.  Abortion in the US alone kills 
over 4000 children per day that's an average of one innocent unborn human 
murdered every 22 seconds!

An entire genertion has been slaughtered.

Overpopulation is a myth, back room abortions are a falsehood propagated by 
the money mongers of the industry.

See it for yourself.

http://getabortion.info
























































































































-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 17 08:37:53 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 17 Jan 2002 09:37:53 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
Message-ID: <200201170837.JAA23228@pubhealth.ku.dk>

On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:

> Full_Name: Geordon Marchak
> Version: R-1.3.1
> OS: Solaris 2.6
> Submission from: (NULL) (199.67.239.91)
>
>
> Got the following error when compiling on Solaris 2.6 with the standard GNU
> gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> too :-)

You sent this twice, for some reason.

It's hard to tell what `the standard GNU gcc package (from the Sun site)'
actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
between your compiler and your assembler.  I don't think that qualifies as
a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
seem to be valid C that is accepted by a wide range of compilers on
Solaris and elsewhere.


> # make
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> ".subsection"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> ".previous"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> *** Error code 1
> make: Fatal error: Command failed for target `lbfgsb.o'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.heffernan@orcina.com  Thu Jan 17 08:54:15 2002
From: david.heffernan@orcina.com (david.heffernan@orcina.com)
Date: Thu, 17 Jan 2002 09:54:15 +0100 (MET)
Subject: [Rd] detach(package:base) kills R (PR#1271)
Message-ID: <200201170854.JAA23580@pubhealth.ku.dk>

Full_Name: David Heffernan
Version: 1.3.1
OS: Windows & Linux
Submission from: (NULL) (158.152.160.7)


The command detach(package:base) kills R with segmentation fault on Linux and an
access violation on Windows.  I guess the same will happen on any platform. 
Obviously this is a not a sensible command to execute but you could easily do it
by accident particularly if using the pos parameter to detach and getting it
wrong.

It seems to me that an obvious fix is to report an error in do_detach in envir.c
if the base package is the one which the caller is attempting to detach.

As a related issue it seems bad that when R crashes it doesn't give you a chance
to save your workspace.  In fact, why does an access violation have to cause
termination?  At the least the user should get a chance to save their workspace
before termination.  At best R would report the error an carry running.

By the way, it's a great piece of software!!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 17 10:45:33 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jan 2002 11:45:33 +0100
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
In-Reply-To: <200201170837.JAA23228@pubhealth.ku.dk>
References: <200201170837.JAA23228@pubhealth.ku.dk>
Message-ID: <x2g055cl2q.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.

Assuming that the "Sun site" means www.sunfreeware.com, I seem to
recall that you get in trouble if you use gcc3 without GNU binutils.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 17 10:53:37 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jan 2002 11:53:37 +0100
Subject: [Rd] detach(package:base) kills R (PR#1271)
In-Reply-To: <200201170854.JAA23580@pubhealth.ku.dk>
References: <200201170854.JAA23580@pubhealth.ku.dk>
Message-ID: <x2bsftckpa.fsf@blueberry.kubism.ku.dk>

david.heffernan@orcina.com writes:

> The command detach(package:base) kills R with segmentation fault on Linux and an
> access violation on Windows.  I guess the same will happen on any platform. 
> Obviously this is a not a sensible command to execute but you could easily do it
> by accident particularly if using the pos parameter to detach and getting it
> wrong.
> 
> It seems to me that an obvious fix is to report an error in do_detach in envir.c
> if the base package is the one which the caller is attempting to detach.

Yes, it still does this in 1.4.0. And the fixup would be something
like that.

> As a related issue it seems bad that when R crashes it doesn't give you a chance
> to save your workspace.  In fact, why does an access violation have to cause
> termination?  At the least the user should get a chance to save their workspace
> before termination.  At best R would report the error an carry running.
> 
> By the way, it's a great piece of software!!

These types of error are handled by the OS. It is difficult, if not
impossible, to get the program back in control. Even if you do,
there's a rather large risk that the workspace has been corrupted.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 17 19:02:30 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Jan 2002 19:02:30 +0000 (GMT)
Subject: [Rd] RE: MKL seems to beat ATLAS, but some problems... (was RE: [R] li
 nkin g R against MKL)
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC84BE@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0201171852140.23495-100000@gannet.stats>

On Thu, 17 Jan 2002, Liaw, Andy wrote:

> Prof. Ripley,
>
> > From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
>
> [snipped...]
>
> > R cannot currently make use of anyone else's LAPACK routines (because
> > we've found too many problems with them).
> >
> > If you are getting no useful diagnostics, try
> > dyn.load("RHOME/modules/lapack.so").  That ought to tell you
> > why you can't
> > load it.  My guess would be to do with libraries, so do an ldd on
> > lapack.so and check that all the dependencies are resolved as
> > you expect.
>
> I wonder if the problem is the clash between the Lapack routines in MKL and
> those packaged with R.


> Sorry, but seems like I need a bit more spoon-feeding:
> I did the dyn.load, and got:
>         unable to load shared library
> "/home/andy/R-patched-mkl/modules/lapack.so":
>   /home/andy/R-patched-mkl/modules/lapack.so: undefined symbol: lsame_

Right, that's it.  LSAME is a BLAS routine, and your BLAS doesn't have
it.  There is a version in src/appl/blas.f, but you don't seem to
have a complete BLAS to link against.

If you really have a complete LAPACK3 (which I would not bet on)
you can try building in src/modules/lapack omitting double.f and
complex.f: you will need to rename a few entry points in Lapack.h
as they have already been changed to avoid conflicts with sunperf
(I think).  See also the comments in the README there.

[....]

> Looks like all the libraries it needs are there, but why can't it find those
> undefined symbols?

They are in R.bin itself.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Thu Jan 17 20:17:44 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Thu, 17 Jan 2002 15:17:44 -0500
Subject: [Rd] solved(?) (was RE: MKL seems to beat ATLAS, but some
 problems...)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC84C1@usrymx10.merck.com>

Prof. Ripley,
 
> > Sorry, but seems like I need a bit more spoon-feeding:
> > I did the dyn.load, and got:
> >         unable to load shared library
> > "/home/andy/R-patched-mkl/modules/lapack.so":
> >   /home/andy/R-patched-mkl/modules/lapack.so: undefined 
> symbol: lsame_
> 
> Right, that's it.  LSAME is a BLAS routine, and your BLAS doesn't have
> it.  There is a version in src/appl/blas.f, but you don't seem to
> have a complete BLAS to link against.

Strangely, I found lsame in libmkl_lapack.a (which I guess is the Lapack
part of MKL).  I did a real ugly hack: I inserted the link flags to this
library in RHOME/src/modules/lapack/Makefile, where lapack.so is built.
That seems to have solved the problem.  The resulting build passes make
check w/o any error.

> If you really have a complete LAPACK3 (which I would not bet on)
> you can try building in src/modules/lapack omitting double.f and
> complex.f: you will need to rename a few entry points in Lapack.h
> as they have already been changed to avoid conflicts with sunperf
> (I think).  See also the comments in the README there.

I think I'll just follow the advise in that README file, at least for now...

Thanks very much for your help!

Regards,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Jan 17 20:26:13 2002
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Thu, 17 Jan 2002 21:26:13 +0100 (MET)
Subject: [Rd] eigen segfault with GCC 3 on Solaris (PR#1272)
Message-ID: <200201172026.VAA03052@pubhealth.ku.dk>

A message this morning reminded me of a previous problem I had which should be
noted in R bugs, but is really a problem with gcc 3 I believe. It may be only a
problem on Solaris, but AFAIK has not been checked on other platforms. I
resolved it by going back to a gcc 2.9x.x (which a few people suggested). Below
is the relevant part of my original post, an example which provokes the
segfault, and some gdb information from Peter Dalgaard.

PG>I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example
I
PG>previously posted (repeated below) still gives a segmentation fault, as it
does
PG>with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to
be
PG> repeated several times before the segmentation fault occurs. La.eigen does
not
PG> cause a problem. (The problem occurred with R-devel too, but I have not
tested
PG> that with GCC 3.0.2.)

PD>I don't know if it helps, but I see it too... 3.0.1 on Solaris 2.7.
PD>
PD>gdb says that it is happening at l.2144 of eigen.f:
PD>
PD>2142    C
PD>2143                DO 760 J = M, EN
PD>2144                   RA = RA + H(I,J) * H(J,NA)
PD>2145                   SA = SA + H(I,J) * H(J,EN)
PD>2146      760       CONTINUE
PD>2147    C
PD>
PD>J prints as 7289784 for me, which looks a bit weird since M and EN are
PD>17 and 18 respectively. However, optimizers sometimes cause this sort
PD>of thing.

----- example -----


zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
Segmentation Fault - core dumped

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Jan 18 13:21:52 2002
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 18 Jan 2002 08:21:52 -0500
Subject: [Rd] Should dots be used in generic functions?
Message-ID: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>

When writing generic functions, should "..." arguments be routinely
used?  

The Writing R Extensions manual says that if it is used, all
descendant methods must use it too.  In most cases in the R library
source, the generic has the dots, often documented as parameters for
the descendants (e.g. profile does this).  In the case of profile, the
descendants declare the dots, but don't make use of them. 

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 14:07:39 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 14:07:39 +0000 (GMT)
Subject: [Rd] Should dots be used in generic functions?
In-Reply-To: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>
Message-ID: <Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>

On Fri, 18 Jan 2002, Duncan Murdoch wrote:

> When writing generic functions, should "..." arguments be routinely
> used?
>
> The Writing R Extensions manual says that if it is used, all
> descendant methods must use it too.  In most cases in the R library
> source, the generic has the dots, often documented as parameters for
> the descendants (e.g. profile does this).  In the case of profile, the
> descendants declare the dots, but don't make use of them.

You mean the `methods' (they are not really descendants of anything)?  If
so, you can't tell, as anyone can write a method.  In this case there are
methods profile.nls and profile.glm, and they each have arguments that the
generic and the other method does not have, so they do make use of the ...
in the generic.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From vinod.rajakumar@vectorpartners.com  Fri Jan 18 14:17:10 2002
From: vinod.rajakumar@vectorpartners.com (vinod.rajakumar@vectorpartners.com)
Date: Fri, 18 Jan 2002 15:17:10 +0100 (MET)
Subject: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)
Message-ID: <200201181417.PAA13605@pubhealth.ku.dk>

Full_Name: vinod rajakumar
Version: R-1.4.0
OS: Solaris 5.8
Submission from: (NULL) (66.9.157.2)



my machine looks like:
SunOS 5.8 Generic_108528-07 sun4u sparc SUNW,Sun-Blade-1000 (64-bit)

I downloaded the zipped R-1.4.0 files into $HOME/dwnlds, unzipped, un-tar-ed, 
and ran the following:

export MAKE=gmake
export CC = gcc
./configure --prefix=$HOME/sfw/R
gmake

and here's where it failed:

gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:672: #error code requires that int have 32 bits

I did a double-check and sizeof(int) is 32 bits, any advice?

thank you,
vinod

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 14:31:08 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 18 Jan 2002 15:31:08 +0100 (MET)
Subject: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)
Message-ID: <200201181431.PAA13779@pubhealth.ku.dk>

On Fri, 18 Jan 2002 vinod.rajakumar@vectorpartners.com wrote:

> Full_Name: vinod rajakumar
> Version: R-1.4.0
> OS: Solaris 5.8
> Submission from: (NULL) (66.9.157.2)
>
>
>
> my machine looks like:
> SunOS 5.8 Generic_108528-07 sun4u sparc SUNW,Sun-Blade-1000 (64-bit)
>
> I downloaded the zipped R-1.4.0 files into $HOME/dwnlds, unzipped, un-tar-ed,
> and ran the following:
>
> export MAKE=gmake
> export CC = gcc
> ./configure --prefix=$HOME/sfw/R
> gmake
>
> and here's where it failed:
>
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> arithmetic.c:672: #error code requires that int have 32 bits
>
> I did a double-check and sizeof(int) is 32 bits, any advice?

INT_32_BITS is tested during configure, so you need to look to see what it
did: possibly config.log will help.

I have seen this when the LD_LIBRARY_PATH was not set to allow the
libraries to be found.  You don't tell us which version of gcc, but
gcc 3.0.x needs libgcc.so.

R does build with gcc 3.0.2 on Solaris 7, for example, so there is almost
certainly no problem other than local to you.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Jan 18 14:50:23 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 18 Jan 2002 09:50:23 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>
Message-ID: <3C48362F.2856D89@research.bell-labs.com>

Duncan Murdoch wrote:
> 
> When writing generic functions, should "..." arguments be routinely
> used?
> 
> The Writing R Extensions manual says that if it is used, all
> descendant methods must use it too.  In most cases in the R library
> source, the generic has the dots, often documented as parameters for
> the descendants (e.g. profile does this).  In the case of profile, the
> descendants declare the dots, but don't make use of them.
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

A comment on this for the formal ("S4") methods, where a similar
discussion came up.

The concept we're developing is that the formal arguments of the generic
function and each of its methods must "conform".  This means that they
should have identical arguments, with two exceptions:

1- the method can omit formal arguments from the generic, which is
interpreted as identical to having the omitted arguments in the method
signature with class "missing";

2- the method can have arguments not in the generic if the generic has
..., with the interpretation that the actual arguments matching ... may
correspond to the extra arguments.

There are some additional constraints, such as consistent order of
common arguments, to attempt to ensure sanity.

The r-devel version of the methods package has both these extensions,
the 1.4 version has the first (with a bug in handling ... that's fixed
in r-patched).

This somewhat extends the green book (and the current S-Plus
implementation), but it seems to correspond to useful techniques for
applications.  I'm hopeful that we can iron out a good API, and then
have both R and S-Plus implement it.

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Jan 18 15:48:46 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 18 Jan 2002 10:48:46 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <3C48362F.2856D89@research.bell-labs.com>
Message-ID: <3C4843DE.58B734DD@bank-banque-canada.ca>

John Chambers wrote:

> 2- the method can have arguments not in the generic if the generic has
> ..., with the interpretation that the actual arguments matching ... may
> correspond to the extra arguments.

In this case, would the method have ... as well, or not?

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Jan 18 15:59:01 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 18 Jan 2002 10:59:01 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <3C48362F.2856D89@research.bell-labs.com> <3C4843DE.58B734DD@bank-banque-canada.ca>
Message-ID: <3C484645.C75F29FB@research.bell-labs.com>

Paul Gilbert wrote:
> 
> John Chambers wrote:
> 
> > 2- the method can have arguments not in the generic if the generic has
> > ..., with the interpretation that the actual arguments matching ... may
> > correspond to the extra arguments.
> 
> In this case, would the method have ... as well, or not?

Subject to discussion .... Either seems plausible.  What currently
happens is that setMethod constructs a method that contains the
programmer's supplied definition as a local function and calls it
(needed so that argument re-matching can take place).

An advantage of the method not having ... is that errors in naming
arguments are more likely to be caught.

John

> 
> Paul Gilbert
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Jan 18 16:11:34 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 18 Jan 2002 11:11:34 -0500
Subject: [Rd] Should dots be used in generic functions?
In-Reply-To: <Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>
Message-ID: <sshg4ucl0pdjkuv9dclqnfbmicb0s615jk@4ax.com>

On Fri, 18 Jan 2002 14:07:39 +0000 (GMT), you wrote in message
<Pine.LNX.4.31.0201181402540.25216-100000@gannet.stats>:

>On Fri, 18 Jan 2002, Duncan Murdoch wrote:
>
>> When writing generic functions, should "..." arguments be routinely
>> used?
>>
>> The Writing R Extensions manual says that if it is used, all
>> descendant methods must use it too.  In most cases in the R library
>> source, the generic has the dots, often documented as parameters for
>> the descendants (e.g. profile does this).  In the case of profile, the
>> descendants declare the dots, but don't make use of them.
>
>You mean the `methods' (they are not really descendants of anything)?  If
>so, you can't tell, as anyone can write a method.  In this case there are
>methods profile.nls and profile.glm, and they each have arguments that the
>generic and the other method does not have, so they do make use of the ...
>in the generic.

I was stupid, I didn't realize that if you don't have ... in the
generic, then you can't use the generic to call methods with new
parameters.

This is way too late to be changed in the old objects, but I'd suggest
a change in the new system, so that there is a way to detect errors in
the parameters used when calling a method.  Right now, if the
Extensions manual advice is followed, the only way to do that is to
add an explicit test at the start of the method:

if(length(list(...))) stop('args not matched')

Duncan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 16:16:58 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 18 Jan 2002 17:16:58 +0100 (MET)
Subject: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)
Message-ID: <200201181616.RAA15135@pubhealth.ku.dk>

Filing this for the record.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

---------- Forwarded message ----------
Date: Fri, 18 Jan 2002 10:49:52 -0500
From: Vinod Rajakumar <vinod.rajakumar@vectorpartners.com>
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Subject: Re: [Rd] 32 bit error compiling R on sparc-sun-solaris (PR#1273)


Thanks so much. I am not very familiar with Unix and your suggestions helped
tremendously

this is the gcc I have:
gcc version 2.95.2 19991024

gcc is installed on /opt/sfw, and you were correct regarding LD_LIBRARY_PATH, I
have compiled and successfully installed R. here's what I did:

gmake distclean

export
LD_LIBRARY_PATH=/opt/sfw/lib:/opt/sfw/lib/gcc-lib/sparc-sun-solaris2.8/2.95.2/
./configure --prefix=$HOME/sfw/R
gmake
gmake check
gmake install

Best regards,
Vinod Rajakumar


Prof Brian Ripley wrote:

> On Fri, 18 Jan 2002 vinod.rajakumar@vectorpartners.com wrote:
>
> > Full_Name: vinod rajakumar
> > Version: R-1.4.0
> > OS: Solaris 5.8
> > Submission from: (NULL) (66.9.157.2)
> >
> >
> >
> > my machine looks like:
> > SunOS 5.8 Generic_108528-07 sun4u sparc SUNW,Sun-Blade-1000 (64-bit)
> >
> > I downloaded the zipped R-1.4.0 files into $HOME/dwnlds, unzipped, un-tar-ed,
> > and ran the following:
> >
> > export MAKE=gmake
> > export CC = gcc
> > ./configure --prefix=$HOME/sfw/R
> > gmake
> >
> > and here's where it failed:
> >
> > gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> > -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> > arithmetic.c:672: #error code requires that int have 32 bits
> >
> > I did a double-check and sizeof(int) is 32 bits, any advice?
>
> INT_32_BITS is tested during configure, so you need to look to see what it
> did: possibly config.log will help.
>
> I have seen this when the LD_LIBRARY_PATH was not set to allow the
> libraries to be found.  You don't tell us which version of gcc, but
> gcc 3.0.x needs libgcc.so.
>
> R does build with gcc 3.0.2 on Solaris 7, for example, so there is almost
> certainly no problem other than local to you.
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Jan 18 16:16:49 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 18 Jan 2002 11:16:49 -0500
Subject: [Rd] Should dots be used in generic functions?
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com> <3C48362F.2856D89@research.bell-labs.com> <3C4843DE.58B734DD@bank-banque-canada.ca> <3C484645.C75F29FB@research.bell-labs.com>
Message-ID: <3C484A71.8928AE3E@bank-banque-canada.ca>

John Chambers wrote:
> 
> Paul Gilbert wrote:
> >
> > John Chambers wrote:
> >
> > > 2- the method can have arguments not in the generic if the generic has
> > > ..., with the interpretation that the actual arguments matching ... may
> > > correspond to the extra arguments.
> >
> > In this case, would the method have ... as well, or not?
> 
> Subject to discussion .... Either seems plausible.  What currently
> happens is that setMethod constructs a method that contains the
> programmer's supplied definition as a local function and calls it
> (needed so that argument re-matching can take place).
> 
> An advantage of the method not having ... is that errors in naming
> arguments are more likely to be caught.
> 
This seems to bring things back much closer to the way my code is currently
written. I guess I will wait for the final outcome before I add ... to all my
methods. (It is much harder to take out then it is to add, and I do like the
error catching feature.)

Thanks,
Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Jan 18 17:06:57 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 18 Jan 2002 12:06:57 -0500
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
Message-ID: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>

I'm writing functions that need to behave differently for
GLMs like binomial and Poisson with fixed deviance, and those like
normal or gamma or quasi where the deviance is estimated from the
data.  Given a glm object, is there a simple way to tell this
directly, or do I have to look at the name of the family?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Jan 18 17:13:07 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 18 Jan 2002 18:13:07 +0100
Subject: [Rd] Should dots be used in generic functions?
In-Reply-To: <3C484645.C75F29FB@research.bell-labs.com>
References: <5q7g4ukk1e73c3tabs3cethicncefap72k@4ax.com>
 <3C48362F.2856D89@research.bell-labs.com>
 <3C4843DE.58B734DD@bank-banque-canada.ca>
 <3C484645.C75F29FB@research.bell-labs.com>
Message-ID: <15432.22435.773412.10170@gargle.gargle.HOWL>

>>>>> "John" == John Chambers <jmc@research.bell-labs.com> writes:

    John> Paul Gilbert wrote:
    >> 
    >> John Chambers wrote:
    >> 
    >> > 2- the method can have arguments not in the generic if the generic has
    >> > ..., with the interpretation that the actual arguments matching ... may
    >> > correspond to the extra arguments.
    >> 
    >> In this case, would the method have ... as well, or not?

    John> Subject to discussion .... Either seems plausible.  What currently
    John> happens is that setMethod constructs a method that contains the
    John> programmer's supplied definition as a local function and calls it
    John> (needed so that argument re-matching can take place).

    John> An advantage of the method not having ... is that errors in naming
    John> arguments are more likely to be caught.

Indee.  Leading to much better / understandable error messages in
	  many cases; (etc... you know my stories on this subject)
I'd vote quite emphatically for not requiring these in the method
-- as Paul and Duncan did in the mean time.

 (Finally a really compelling reason to switch to the new method system :-) ;-)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Fri Jan 18 17:14:54 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Fri, 18 Jan 2002 09:14:54 -0800 (PST)
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>
Message-ID: <Pine.A41.4.44.0201180913240.16914-100000@homer26.u.washington.edu>

On Fri, 18 Jan 2002, Duncan Murdoch wrote:

> I'm writing functions that need to behave differently for
> GLMs like binomial and Poisson with fixed deviance, and those like
> normal or gamma or quasi where the deviance is estimated from the
> data.  Given a glm object, is there a simple way to tell this
> directly, or do I have to look at the name of the family?
>

I assume you  mean dispersion rather than deviance.

You have to look.  This information can be specificied by the user to
summary.glm(), but not to glm() itself. Presumably the reason is that the
fit doesn't depend on the dispersion.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 18 17:26:01 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 17:26:01 +0000 (GMT)
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>
Message-ID: <Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>

On Fri, 18 Jan 2002, Duncan Murdoch wrote:

> I'm writing functions that need to behave differently for
> GLMs like binomial and Poisson with fixed deviance, and those like
> normal or gamma or quasi where the deviance is estimated from the
> data.  Given a glm object, is there a simple way to tell this
> directly, or do I have to look at the name of the family?

Did you mean dispersion fixed?

S/R do not take the dispersion into account: it is not in the fit.
It is used by the summary, predict and anova methods (and that's all as I
recall).  And they do look at the family name.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Jan 18 17:51:58 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 18 Jan 2002 12:51:58 -0500
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>
References: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com> <Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>
Message-ID: <g4og4ucbg9h2jj67ggkuorlnbficrp4vc9@4ax.com>

On Fri, 18 Jan 2002 17:26:01 +0000 (GMT), you wrote in message
<Pine.LNX.4.31.0201181723560.25655-100000@gannet.stats>:

>On Fri, 18 Jan 2002, Duncan Murdoch wrote:
>
>> I'm writing functions that need to behave differently for
>> GLMs like binomial and Poisson with fixed deviance, and those like
>> normal or gamma or quasi where the deviance is estimated from the
>> data.  Given a glm object, is there a simple way to tell this
>> directly, or do I have to look at the name of the family?
>
>Did you mean dispersion fixed?

Yes, that's what I meant.  Thanks to everyone for the quick responses!

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From smyth@wehi.edu.au  Sat Jan 19 06:52:57 2002
From: smyth@wehi.edu.au (Gordon Smyth)
Date: Sat, 19 Jan 2002 17:52:57 +1100
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <Pine.A41.4.44.0201180913240.16914-100000@homer26.u.washing
 ton.edu>
References: <ldlg4u4kjhdff9g4j1ii2e3ri418t9pgsq@4ax.com>
Message-ID: <5.1.0.14.1.20020119171507.00ad5840@wehiz.wehi.edu.au>

I think that it could improve the glm family function to include an 
argument or attribute that tells explicitly that the dispersion is fixed, 
equivalent to the $scale declaration in GLIM. This would be set T by 
default for the binomial and Poisson families and F by default for most 
other families. This could be done I think in a way which would add extra 
features but would not contradict the S-Plus "Blue Book". In effect, I 
would like the dispersion to be considered part of the "fit" of a glm 
because it is needed for standard errors and hypothesis testing.

The advantage of an explicit fixed-dispersion-attribute would come when
(i) the dispersion happens to be known even though the dispersion is not 
always known for the response family being used. Eg the family is Gamma but 
you know that the responses are multiples of chi-square random variables on 
1 df.
(ii) someone defines a new glm family, other than the binomial or Poisson, 
with fixed dispersion
(iii) one want to use a binomial or Poisson family with variable 
dispersion, without switching to the quasi family.

In case (i), you can work around by calling summary with dispersion=2 (for 
chisquare_1 responses), but not all functions which take glm.objects as 
arguments have a dispersion argument. And in the spirit of object 
orientated programming, shouldn't the glm.object contain all the 
information necessary to construct a standard error or anova from it?

I am enjoying becoming a regular R user. Thanks to all for your work in 
providing a terrific piece of free software.
Gordon Smyth

At 09:14 AM 18/01/2002 -0800, Thomas Lumly wrote:
>On Fri, 18 Jan 2002, Duncan Murdoch wrote:
>
> > I'm writing functions that need to behave differently for
> > GLMs like binomial and Poisson with fixed deviance, and those like
> > normal or gamma or quasi where the deviance is estimated from the
> > data.  Given a glm object, is there a simple way to tell this
> > directly, or do I have to look at the name of the family?
> >
>
>I assume you  mean dispersion rather than deviance.
>
>You have to look.  This information can be specificied by the user to
>summary.glm(), but not to glm() itself. Presumably the reason is that the
>fit doesn't depend on the dispersion.
>
>
>         -thomas

---------------------------------------------------------------------------------------
Dr Gordon K Smyth, Bioinformatics,
Walter and Eliza Hall Institute of Medical Research,
Post Office, Royal Melbourne Hospital, Vic 3050
Tel: (03) 9345 2326, Fax (03) 9347 0852,
Email: smyth@wehi.edu.au, www: http://www.statsci.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jan 19 07:31:37 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Jan 2002 07:31:37 +0000 (GMT)
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <5.1.0.14.1.20020119171507.00ad5840@wehiz.wehi.edu.au>
Message-ID: <Pine.LNX.4.31.0201190716040.2728-100000@gannet.stats>

On Sat, 19 Jan 2002, Gordon Smyth wrote:

> I think that it could improve the glm family function to include an
> argument or attribute that tells explicitly that the dispersion is fixed,
> equivalent to the $scale declaration in GLIM. This would be set T by
> default for the binomial and Poisson families and F by default for most
> other families. This could be done I think in a way which would add extra
> features but would not contradict the S-Plus "Blue Book". In effect, I
> would like the dispersion to be considered part of the "fit" of a glm
> because it is needed for standard errors and hypothesis testing.

You would need to say what the fixed value is ....  So the obvious thing
would be to add a dispersion argument as used in summary.glm, predict.glm
and anova.glm, with the same semantics.

The argument against is S-compatibility. Many R users also use S-PLUS, and
R owes S-PLUS users for the majority of its software.  Some porting from R
to S-PLUS is now happening and I'd like to make that easy and to encourage
it.  (Hence some of the advice on generics/methods is stricter than it
needs to be for current R, but it is essential for current S.)

There is also a transitional issue, as stored glm objects would not have
the dispersion parameter set.  That makes this (quite a lot) harder to
implement, and I am rather against altering the definition of a class.

> The advantage of an explicit fixed-dispersion-attribute would come when
> (i) the dispersion happens to be known even though the dispersion is not
> always known for the response family being used. Eg the family is Gamma but
> you know that the responses are multiples of chi-square random variables on
> 1 df.
> (ii) someone defines a new glm family, other than the binomial or Poisson,
> with fixed dispersion
> (iii) one want to use a binomial or Poisson family with variable
> dispersion, without switching to the quasi family.

Take a closer look over (iii): there are quasibinomial and quasipoisson
families in R.

> In case (i), you can work around by calling summary with dispersion=2 (for
> chisquare_1 responses), but not all functions which take glm.objects as
> arguments have a dispersion argument. And in the spirit of object
> orientated programming, shouldn't the glm.object contain all the
> information necessary to construct a standard error or anova from it?

I believe all functions which need to know the dispersion do have a
dispersion argument (although that was not true a while back).  Can you
please list the exceptions?

I am not arguing against a change, but I am arguing for fully informed
discussion.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From smyth@wehi.edu.au  Sat Jan 19 09:41:41 2002
From: smyth@wehi.edu.au (Gordon Smyth)
Date: Sat, 19 Jan 2002 20:41:41 +1100
Subject: [Rd] How do I know if the deviance of a glm fit was fixed?
In-Reply-To: <Pine.LNX.4.31.0201190716040.2728-100000@gannet.stats>
References: <5.1.0.14.1.20020119171507.00ad5840@wehiz.wehi.edu.au>
Message-ID: <5.1.0.14.1.20020119192356.00ad4008@wehiz.wehi.edu.au>

Thanks for your reply. My experience is mainly with S-Plus, so I must admit 
that I am coming from an uninformed viewpoint as far as glm functions in R 
is concerned. My apologies for this.

At 07:31 AM 19/01/2002 +0000, you wrote:
>On Sat, 19 Jan 2002, Gordon Smyth wrote:
>
> > I think that it could improve the glm family function to include an
> > argument or attribute that tells explicitly that the dispersion is fixed,
> > equivalent to the $scale declaration in GLIM. This would be set T by
> > default for the binomial and Poisson families and F by default for most
> > other families. This could be done I think in a way which would add extra
> > features but would not contradict the S-Plus "Blue Book". In effect, I
> > would like the dispersion to be considered part of the "fit" of a glm
> > because it is needed for standard errors and hypothesis testing.
>
>You would need to say what the fixed value is ....  So the obvious thing
>would be to add a dispersion argument as used in summary.glm, predict.glm
>and anova.glm, with the same semantics.
>
>The argument against is S-compatibility. Many R users also use S-PLUS, and
>R owes S-PLUS users for the majority of its software.  Some porting from R
>to S-PLUS is now happening and I'd like to make that easy and to encourage
>it.  (Hence some of the advice on generics/methods is stricter than it
>needs to be for current R, but it is essential for current S.)
>
>There is also a transitional issue, as stored glm objects would not have
>the dispersion parameter set.  That makes this (quite a lot) harder to
>implement, and I am rather against altering the definition of a class.

All good points.

I had in mind that glm would have an optional argument, prior.dispersion 
say, and that that argument would be passed to the glm.object as an 
optional component, just as prior.weights is an optional component in the 
glm.object in S-Plus. That would allow glm.objects without the 
prior.dispersion component to be treated just as at present. I notice now 
though that prior.weights is *always* present in R glm.objects even when 
weights was not present in the glm call, unlike S, so R may be working with 
a stricter class definition that is S.

The are already a number of components (aic, converged, boundary and 
xlevels) which are present in R glm.objects which are not present in S 
objects (at least not in S-Plus 2000 which is the most recent version that 
I have access to). So a prior.dispersion component would at least not be a 
precedent in that regard.

> > The advantage of an explicit fixed-dispersion-attribute would come when
> > (i) the dispersion happens to be known even though the dispersion is not
> > always known for the response family being used. Eg the family is Gamma but
> > you know that the responses are multiples of chi-square random variables on
> > 1 df.
> > (ii) someone defines a new glm family, other than the binomial or Poisson,
> > with fixed dispersion
> > (iii) one want to use a binomial or Poisson family with variable
> > dispersion, without switching to the quasi family.
>
>Take a closer look over (iii): there are quasibinomial and quasipoisson
>families in R.

Thanks for the pointers to quasibinomial and quaipoisson. They're not in 
S-Plus and I wasn't aware of them.

> > In case (i), you can work around by calling summary with dispersion=2 (for
> > chisquare_1 responses), but not all functions which take glm.objects as
> > arguments have a dispersion argument. And in the spirit of object
> > orientated programming, shouldn't the glm.object contain all the
> > information necessary to construct a standard error or anova from it?
>
>I believe all functions which need to know the dispersion do have a
>dispersion argument (although that was not true a while back).  Can you
>please list the exceptions?

R seems to be have been very careful in this regard, and your own 
contributions to the R project have no doubt gone a good way to making this 
true.

I had in mind the pointwise function. predict.glm accepts a dispersion 
argument, but when pointwise takes the output object from predict.glm, it 
"forgets" that the dispersion was known rather than estimated and uses a 
t-distribution instead of normal for the confidence intervals. (I notice 
now though that pointwise is not in the R base package, so this might not 
be a fair example.)

print.glm outputs AIC for the fitted model but doesn't accept a dispersion 
argument. The glm documentation says that AIC is computed "assuming that 
the dispersion is known", but a dispersion estimate of some sort must be 
needed for the AIC value. Looking at Gamma()$aic it appears that the 
dispersion is always estimated from the mean residual deviance whether the 
dispersion is actually known or not.


My main point is that it would be nice for glm.objects to "know" how they 
should be treated, so that functions down the track don't need to keep 
including dispersion= options. I won't push any further on the topic though 
at least until I have more experience with the R glm functions.

Best wishes
Gordon




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Mon Jan 21 06:15:03 2002
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Mon, 21 Jan 2002 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200201210615.g0L6F3X30294@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1218 *
Subject:  behavior of r* and d* functions at boundaries 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 17 Dec 2001 11:04:27 -0500
--points 1 and 2 were fixed for 1.4.0
* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100
* PR# 1244 *
Subject: possible bug in det using method="qr"
From: armin@approximity.com
Date: Sat, 5 Jan 2002 01:48:13 +0100 (MET)

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)
* PR# 1242 *
Subject: copy metafile from window() device fails when lattice/grid is
From: "Liaw, Andy" <andy_liaw@merck.com>
Date: Fri, 04 Jan 2002 14:43:08 -0500
--grid/lattice has spurious initial blank page on current versions
* PR# 1249 *
Subject: cluster - clusplot.default
From: Kjetilh Halvorsen <kjetilh@umsanet.edu.bo>
Date: Mon, 7 Jan 2002 14:55:27 -0400 (BOT)
* PR# 1266 *
Subject: bug in survival package basehaz function
From: Nicholas Lewin-Koh <kohnicho@comp.nus.edu.sg>
Date: Wed, 16 Jan 2002 14:15:21 +0800 (GMT-8)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
--This isn't really a bug: the line in question is a plain-text equation, not a
--piece of R code.
* PR# 1257 *
Subject: documentation of `las' on `par' help page
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Fri, 11 Jan 2002 12:30:20 +0100

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
* PR# 1243 *
Subject: abline and log plots
From: stephen@cogsci.ed.ac.uk
Date: Sat, 5 Jan 2002 01:11:47 +0100 (MET)
* PR# 1248 *
Subject: piechart default colour
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 07 Jan 2002 18:54:02 +0100

Directory:  In-Out

none

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--
* PR# 1211 *
Subject: crash bug in get("function.name")()
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 11 Dec 2001 17:34:07 -0500 (EST)
* PR# 1247 *
Subject: Mishandling missing "..."
From: David Brahm  <brahm@alum.mit.edu>
Date: Mon, 7 Jan 2002 10:52:09 -0500
* PR# 1267 *
Subject: hashing NaN
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Wed, 16 Jan 2002 16:29:35 -0800 (PST)
--Patch put in R-devel for further testing.

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas
* PR# 1261 *
Subject: R_140 AND RHL_72 AND Packages
From: Patrick Gonin <gonin@genethon.fr>
Date: Wed, 15 Jan 2003 13:25:17 +0100
--Seems to relate to RH7.2 rpms
* PR# 1268 *
Subject: Solaris 2.6 Compile
From: gm81640@development.nssmb.com
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
--Most likely a compiler installation problem
* PR# 1272 *
Subject: eigen segfault with GCC 3 on Solaris
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
--Seems to be a problem with g77 in gcc 3.0.2 on Solaris only.
--Probably a compiler bug

Directory:  TooMuchAtOnce

none

Directory:  Windows

none

Directory:  incoming

* PR# 1240 *
Subject:  R CMD check 
From: hoffmann@wsl.ch
Date: Fri, 4 Jan 2002 12:51:15 +0100 (MET)
* PR# 1271 *
Subject: detach(package:base) kills R
From: david.heffernan@orcina.com
Date: Thu, 17 Jan 2002 09:54:14 +0100 (MET)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From geordon.marchak@nssmb.com  Mon Jan 21 08:28:04 2002
From: geordon.marchak@nssmb.com (geordon.marchak@nssmb.com)
Date: Mon, 21 Jan 2002 09:28:04 +0100 (MET)
Subject: [Rd] Solaris 2.6 Compile (PR#1268)
Message-ID: <200201210828.JAA26357@pubhealth.ku.dk>


As you mentioned below, R 1.3.1 does compile on Solaris with gcc 2.95.  I've tried 
both Solaris 2.5.1 and Solaris 2.6 with this, and they are fine.  Moving to gcc 
3.03 however causes the problem.  

Thanks for you help earlier.

-Joe.



> Date: Thu, 17 Jan 2002 08:37:15 +0000 (GMT)
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> To: geordon.marchak@nssmb.com
> Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
> 
> On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:
> 
> > Full_Name: Geordon Marchak
> > Version: R-1.3.1
> > OS: Solaris 2.6
> > Submission from: (NULL) (199.67.239.91)
> >
> >
> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.
> 
> 
> > # make
> > `Makedeps' is up to date.
> > gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> > -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> > ".subsection"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> > ".previous"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> > *** Error code 1
> > make: Fatal error: Command failed for target `lbfgsb.o'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Jan 22 09:25:13 2002
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Tue, 22 Jan 2002 10:25:13 +0100 (MET)
Subject: [Rd] data(): Error in FUN(X[[2]], ...) : subscript out of bounds (PR#1274)
Message-ID: <200201220925.KAA11305@pubhealth.ku.dk>


When I do:

    > data()

... I get:

    Data sets in package `base':

    Formaldehyde            Determination of Formaldehyde concentration

[cut]

    women                   Heights and Weights of Women


    Use `data(package = .packages(all.available = TRUE))'
    to list the data sets in all *available* packages.



When I do as suggested:

    > data(package = .packages(all.available = TRUE))

... I get:

    Error in FUN(X[[2]], ...) : subscript out of bounds
    In addition: Warning message:
    packages `class', `ctest', `eda', `foreign', `lqs',
    	`methods', `mgcv', `nnet', `splines', `stepfun', `tcltk',
    	`tools' contain no datasets in: data(package =
    	.packages(all.available = TRUE))


Packages that cause trouble:

    > data(package = "boot")
    Error in FUN(X[[2]], ...) : subscript out of bounds

    > data(package = "rpart")
    Error in FUN(X[[2]], ...) : subscript out of bounds

    > data(package = "spatial")
    Error in FUN(X[[2]], ...) : subscript out of bounds


Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jan 22 10:25:49 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 22 Jan 2002 11:25:49 +0100 (MET)
Subject: (PR#1274) [Rd] data(): Error in FUN(X[[2]], ...) : subscript
Message-ID: <200201221025.LAA13301@pubhealth.ku.dk>

data() is making assumptions about the structure of the 00Index files
that are not warranted.  All `Writing R Extensions' says is

  The @file{data} subdirectory should also contain
  a @file{00Index} file that describes the datasets available.  Ideally
  this should have a one-line description of each dataset, with full
  documentation in the @file{man} directory.

whereas data() is assuming it is in a two-column format as generated by
Rdindex.  Those packages contain other information in the file, which they
are allowed to do.  More precisely, read.00Index is documented as

     Read item/description information from 00Index-style files.  Such
     files are description lists rendered in tabular form, and
     currently used for the object, data and demo indices and `TITLE'

and that's not required.


On Tue, 22 Jan 2002 kleiweg@let.rug.nl wrote:

>
> When I do:
>
>     > data()
>
> ... I get:
>
>     Data sets in package `base':
>
>     Formaldehyde            Determination of Formaldehyde concentration
>
> [cut]
>
>     women                   Heights and Weights of Women
>
>
>     Use `data(package = .packages(all.available = TRUE))'
>     to list the data sets in all *available* packages.
>
>
>
> When I do as suggested:
>
>     > data(package = .packages(all.available = TRUE))
>
> ... I get:
>
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>     In addition: Warning message:
>     packages `class', `ctest', `eda', `foreign', `lqs',
>     	`methods', `mgcv', `nnet', `splines', `stepfun', `tcltk',
>     	`tools' contain no datasets in: data(package =
>     	.packages(all.available = TRUE))
>
>
> Packages that cause trouble:
>
>     > data(package = "boot")
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>
>     > data(package = "rpart")
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>
>     > data(package = "spatial")
>     Error in FUN(X[[2]], ...) : subscript out of bounds
>
>
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status =
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 19
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wtautz@math.uwaterloo.ca  Tue Jan 22 15:05:54 2002
From: wtautz@math.uwaterloo.ca (wtautz@math.uwaterloo.ca)
Date: Tue, 22 Jan 2002 16:05:54 +0100 (MET)
Subject: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
Message-ID: <200201221505.QAA20274@pubhealth.ku.dk>

I have included the full configure/make output:
(the particular error regarding bessel_i.c is at
the END of the report). 


-walter tautz 




	cd build/R-1.4.0 \
	    && unset noclobber \
	&& CPPFLAGS=" " \
	    LDFLAGS="" \
	       ./configure --prefix=/software/r-1 \
	           --datadir=/software/r-1/data \
	           --libdir=/software/r-1/lib \
	           --includedir=/software/r-1/include \
		   --with-x \
			   \
			 \
	           | tee configure.XHIER.log 2>&1 \
	&& touch XHIER_CONFIGURED
creating cache ./config.cache
checking for a BSD compatible install... tools/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... yes
checking for working aclocal... found
checking for working autoconf... found
checking for working automake... found
checking for working autoheader... found
checking for working makeinfo... found
checking host system type... mips-sgi-irix6.5
loading site script ./config.site
loading build specific script ./config.site
checking for pwd... /sbin/pwd
checking whether builddir is srcdir... yes
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking whether gcc needs -traditional... no
checking whether gcc accepts -M for generating dependencies... yes
checking whether gcc supports -c -o FILE.lo... yes
checking for mawk... no
checking for gawk... no
checking for nawk... nawk
checking whether ln -s works... yes
checking for ranlib... :
checking for bison... bison -y
checking for ar... ar
checking whether echo can suppress newlines... yes
configure: warning: redefining INSTALL to be /scratch/usr/source/r-1/build/R-1.4.0/tools/install-sh -c
checking for javac... no
checking for less... /.software/local/.admin/bins/bin/less
checking for perl... /.software/local/.admin/bins/bin/perl
checking whether perl version is at least 5.004... yes
checking for dvips... no
checking for tex... configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals
no
checking for latex... no
checking for makeindex... no
checking for pdftex... no
checking for pdflatex... no
checking for makeinfo... /.software/local/.admin/bins/bin/makeinfo
checking for unzip... no
checking for zip... no
checking for Cygwin environment... no
checking for mingw32 environment... no
checking build system type... mips-sgi-irix6.5
checking for ld used by GCC... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... no
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking how to recognise dependant libraries... pass_all
checking for object suffix... o
checking for executable suffix... no
checking command to parse /usr/bin/nm -B output... ok
checking for dlfcn.h... yes
checking for ranlib... (cached) :
checking for strip... strip
checking for objdir... .libs
checking for gcc option to produce PIC... none
checking if gcc static flag -static works... no
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.lo... 
checking if gcc supports -fno-rtti -fno-exceptions... yes
checking whether the linker (/usr/bin/ld -64) supports shared libraries... yes
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... no
checking dynamic linker characteristics... irix6.5 ld.so
checking if libtool supports shared libraries... yes
checking whether -lc should be explicitly linked in... yes
creating libtool
checking whether makeinfo version is at least 4... yes
checking for main in -lm... yes
defining F77 to be g77
checking whether the Fortran 77 compiler (g77  ) works... yes
checking whether the Fortran 77 compiler (g77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... yes
checking whether g77 accepts -g... yes
checking for Fortran 77 libraries...  -lg2c -lm -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3 -L/usr/bin -L/.software/arch/gcc-2.95.3/dis

tribution/lib/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib -lm -L/usr/lib64/mips3 -L/usr/lib64
checking whether g77 appends underscores... yes
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking for c++... g++
checking whether the C++ compiler (g++  ) works... yes
checking whether the C++ compiler (g++  ) is a cross-compiler... no
checking whether we are using GNU C++... yes
checking whether g++ accepts -g... yes
checking how to run the C++ preprocessor... g++ -E
checking whether g++ accepts -M for generating dependencies... yes
checking whether g++ supports -c -o FILE.lo... yes
checking for sin in -lm... yes
checking for sin in -lmoto... no
checking for main in -lncurses... no
checking for main in -ltermcap... yes
checking for dlopen in -ldl... no
checking for ATL_xerbla in -latlas... no
checking for zherk in -lblas... no
checking for dgemm_ in -lblas... yes
checking for rl_callback_read_char in -lreadline... no
checking for working alloca.h... yes
checking for alloca... yes
checking for ANSI C header files... yes
checking for pid_t... yes
checking for vfork.h... no
checking for working vfork... no
checking for vprintf... yes
checking for access... yes
checking for acosh... yes
checking for asinh... yes
checking for atanh... yes
checking for bcopy... yes
checking for bzero... yes
checking for finite... yes
checking for ftruncate... yes
checking for getcwd... yes
checking for getgrgid... yes
checking for getpwuid... yes
checking for getuid... yes
checking for hypot... yes
checking for isascii... yes
checking for isnan... yes
checking for matherr... no
checking for memcpy... yes
checking for memmove... yes
checking for mempcpy... no
checking for mkfifo... yes
checking for popen... yes
checking for putenv... yes
checking for rint... yes
checking for setenv... no
checking for snprintf... yes
checking for strcoll... yes
checking for stat... yes
checking for strptime... yes
checking for system... yes
checking for times... yes
checking for unsetenv... no
checking for vsnprintf... yes
checking for strdup... yes
checking for library containing connect... none required
checking for library containing gethostbyname... none required
checking for library containing xdr_string... none required
checking for __setfpucw... no
checking for working calloc... yes
checking for working finite... yes
checking for working log... yes
checking for working strptime... no
checking for ANSI C header files... (cached) yes
checking whether time.h and sys/time.h may both be included... yes
checking for dirent.h that defines DIR... yes
checking for opendir in -ldir... no
checking for sys/wait.h that is POSIX.1 compatible... yes
checking for arpa/inet.h... yes
checking for dl.h... no
checking for dlfcn.h... (cached) yes
checking for elf.h... yes
checking for errno.h... yes
checking for fcntl.h... yes
checking for floatingpoint.h... no
checking for fpu_control.h... no
checking for grp.h... yes
checking for ieee754.h... no
checking for ieeefp.h... yes
checking for locale.h... yes
checking for netdb.h... yes
checking for netinet/in.h... yes
checking for pwd.h... yes
checking for readline/history.h... yes
checking for readline/readline.h... yes
checking for rpc/xdr.h... yes
checking for string.h... yes
checking for strings.h... yes
checking for sys/param.h... yes
checking for sys/select.h... yes
checking for sys/socket.h... yes
checking for sys/stat.h... yes
checking for sys/time.h... yes
checking for sys/times.h... yes
checking for sys/utsname.h... yes
checking for unistd.h... yes
checking whether setjmp.h is POSIX.1 compatible... yes
checking for GNU C library with version >= 2... no
checking whether math.h defines isfinite... no
checking whether math.h defines isnan... no
checking return type of signal handlers... void
checking for pid_t... (cached) yes
checking for size_t... yes
checking for blkcnt_t... yes
checking for sys/socket.h... (cached) yes
checking for type of socket length... size_t *
checking whether byte ordering is bigendian... yes
checking for working const... yes
checking size of int... 4
checking size of long... 8
checking size of long long... 8
checking size of long double... 8
checking whether C compiler needs -OPT:IEEE_NaN_inf=ON... no
checking for xmkmf... /usr/bin/X11/xmkmf
checking for X... libraries , headers 
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... no
checking for gethostbyname... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for tclConfig.sh... no
checking for tkConfig.sh... no
checking for tcl.h... no
checking for finite... (cached) yes
checking for isnan... (cached) yes
checking whether you have IEEE 754 floating-point arithmetic... yes
checking for BSD networking... yes
checking for jpeglib.h... yes
checking if jpeglib version >= 6b... no
checking for main in -lz... yes
checking for png.h... yes
checking if libpng version >= 1.0.5... no
checking for XDR support... yes
checking for gzopen in -lz... yes
checking for zlib.h... yes
checking if zlib version >= 1.1.3... no
checking whether leap seconds are treated according to POSIX... yes
checking for setitimer... yes
checking for lpr... lpr
checking for paperconf... false
updating cache ./config.cache
creating ./config.status
creating Makeconf
creating Makefile
creating afm/Makefile
creating doc/Makefile
creating doc/html/Makefile
creating doc/html/search/Makefile
creating doc/manual/Makefile
creating etc/Makefile
creating etc/Makeconf
creating etc/Renviron
creating m4/Makefile
creating share/Makefile
creating src/Makefile
creating src/appl/Makefile
creating src/include/Makefile
creating src/include/R_ext/Makefile
creating src/library/Makefile
creating src/library/base/DESCRIPTION
creating src/library/base/Makefile
creating src/library/profile/Makefile
creating src/library/ctest/DESCRIPTION
creating src/library/ctest/Makefile
creating src/library/ctest/src/Makefile
creating src/library/eda/DESCRIPTION
creating src/library/eda/Makefile
creating src/library/eda/src/Makefile
creating src/library/lqs/DESCRIPTION
creating src/library/lqs/Makefile
creating src/library/lqs/src/Makefile
creating src/library/methods/DESCRIPTION
creating src/library/methods/Makefile
creating src/library/methods/src/Makefile
creating src/library/modreg/DESCRIPTION
creating src/library/modreg/Makefile
creating src/library/modreg/src/Makefile
creating src/library/mva/DESCRIPTION
creating src/library/mva/Makefile
creating src/library/mva/src/Makefile
creating src/library/nls/DESCRIPTION
creating src/library/nls/Makefile
creating src/library/nls/src/Makefile
creating src/library/stepfun/DESCRIPTION
creating src/library/stepfun/Makefile
creating src/library/splines/DESCRIPTION
creating src/library/splines/Makefile
creating src/library/splines/src/Makefile
creating src/library/tcltk/DESCRIPTION
creating src/library/tcltk/Makefile
creating src/library/tcltk/src/Makefile
creating src/library/tools/DESCRIPTION
creating src/library/tools/Makefile
creating src/library/ts/DESCRIPTION
creating src/library/ts/Makefile
creating src/library/ts/src/Makefile
creating src/main/Makefile
creating src/modules/Makefile
creating src/modules/X11/Makefile
creating src/modules/gnome/Makefile
creating src/modules/internet/Makefile
creating src/modules/lapack/Makefile
creating src/modules/vfonts/Makefile
creating src/nmath/Makefile
creating src/nmath/standalone/Makefile
creating src/scripts/Makefile
creating src/scripts/COMPILE
creating src/scripts/INSTALL
creating src/scripts/REMOVE
creating src/scripts/R.sh
creating src/scripts/Rdconv
creating src/scripts/Rdindex
creating src/scripts/Rprof
creating src/scripts/SHLIB
creating src/scripts/Sd2Rd
creating src/scripts/build
creating src/scripts/check
creating src/unix/Makefile
creating tests/Makefile
creating tests/Embedding/Makefile
creating tests/Examples/Makefile
creating tools/Makefile
creating src/include/config.h
configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals


R is now configured for mips-sgi-irix6.5

  Source directory:          .
  Installation directory:    /software/r-1
  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

	cd build/R-1.4.0 \
	&&  make  all \
	&& touch XHIER_BUILT
creating src/scripts/R.fe
mkdir ../../bin
mkdir ../../include
mkdir ../../../include/R_ext
making approx.d from approx.c
making bakslv.d from bakslv.c
making bandwidths.d from bandwidths.c
making binning.d from binning.c
making chull.d from chull.c
making cpoly.d from cpoly.c
making cumsum.d from cumsum.c
making fft.d from fft.c
making fmin.d from fmin.c
making integrate.d from integrate.c
making lbfgsb.d from lbfgsb.c
making loglin.d from loglin.c
making lowess.d from lowess.c
making machar.d from machar.c
making maxcol.d from maxcol.c
making massdist.d from massdist.c
making pretty.d from pretty.c
making rowsum.d from rowsum.c
making splines.d from splines.c
making stem.d from stem.c
making strsignif.d from strsignif.c
making tabulate.d from tabulate.c
making uncmin.d from uncmin.c
making zeroin.d from zeroin.c
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c approx.c -o approx.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bakslv.c -o bakslv.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bandwidths.c -o bandwidths.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c binning.c -o binning.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c chull.c -o chull.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cpoly.c -o cpoly.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cumsum.c -o cumsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fft.c -o fft.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmin.c -o fmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c integrate.c -o integrate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c loglin.c -o loglin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lowess.c -o lowess.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c machar.c -o machar.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c maxcol.c -o maxcol.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c massdist.c -o massdist.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c pretty.c -o pretty.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c rowsum.c -o rowsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c splines.c -o splines.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c stem.c -o stem.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c strsignif.c -o strsignif.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c tabulate.c -o tabulate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c uncmin.c -o uncmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c zeroin.c -o zeroin.o
	g77   -g -O2 -c ch2inv.f -o ch2inv.o
	g77   -g -O2 -c chol.f -o chol.o
	g77   -g -O2 -c dpbfa.f -o dpbfa.o
	g77   -g -O2 -c dpbsl.f -o dpbsl.o
	g77   -g -O2 -c dpoco.f -o dpoco.o
	g77   -g -O2 -c dpodi.f -o dpodi.o
	g77   -g -O2 -c dpofa.f -o dpofa.o
	g77   -g -O2 -c dposl.f -o dposl.o
	g77   -g -O2 -c dqrdc.f -o dqrdc.o
	g77   -g -O2 -c dqrdc2.f -o dqrdc2.o
	g77   -g -O2 -c dqrls.f -o dqrls.o
	g77   -g -O2 -c dqrsl.f -o dqrsl.o
	g77   -g -O2 -c dqrutl.f -o dqrutl.o
	g77   -g -O2 -c dsvdc.f -o dsvdc.o
	g77   -g -O2 -c dtrco.f -o dtrco.o
	g77   -g -O2 -c dtrsl.f -o dtrsl.o
	g77   -g -O2 -c eigen.f -o eigen.o
	g77   -g -O2 -c lminfl.f -o lminfl.o
	ar cr libappl.a approx.o  bakslv.o bandwidths.o binning.o  chull.o cpoly.o cumsum.o  fft.o fmin.o integrate.o lbfgsb.o loglin.o lowess.o  machar.o maxcol.o massdist.o  pretty.o  rowsum.o  splines.o stem.o strsignif.o  tabulate.o  uncmin.o  zeroin.o ch2in

v.o chol.o  dpbfa.o dpbsl.o dpoco.o dpodi.o dpofa.o dposl.o dqrdc.o  dqrdc2.o dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o dtrsl.o  eigen.o  lminfl.o 
	: libappl.a
making mlutils.d from mlutils.c
making d1mach.d from d1mach.c
making i1mach.d from i1mach.c
making fmax2.d from fmax2.c
making fmin2.d from fmin2.c
making fprec.d from fprec.c
making fround.d from fround.c
making ftrunc.d from ftrunc.c
making sign.d from sign.c
making fsign.d from fsign.c
making imax2.d from imax2.c
making imin2.d from imin2.c
making chebyshev.d from chebyshev.c
making log1p.d from log1p.c
making lgammacor.d from lgammacor.c
making gammalims.d from gammalims.c
making stirlerr.d from stirlerr.c
making bd0.d from bd0.c
making gamma.d from gamma.c
making lgamma.d from lgamma.c
making gamma_cody.d from gamma_cody.c
making beta.d from beta.c
making lbeta.d from lbeta.c
making polygamma.d from polygamma.c
making bessel_i.d from bessel_i.c
making bessel_j.d from bessel_j.c
making bessel_k.d from bessel_k.c
making bessel_y.d from bessel_y.c
making choose.d from choose.c
making snorm.d from snorm.c
making sexp.d from sexp.c
making dgamma.d from dgamma.c
making pgamma.d from pgamma.c
making qgamma.d from qgamma.c
making rgamma.d from rgamma.c
making dbeta.d from dbeta.c
making pbeta.d from pbeta.c
making qbeta.d from qbeta.c
making rbeta.d from rbeta.c
making dunif.d from dunif.c
making punif.d from punif.c
making qunif.d from qunif.c
making runif.d from runif.c
making dnorm.d from dnorm.c
making pnorm.d from pnorm.c
making qnorm.d from qnorm.c
making rnorm.d from rnorm.c
making dlnorm.d from dlnorm.c
making plnorm.d from plnorm.c
making qlnorm.d from qlnorm.c
making rlnorm.d from rlnorm.c
making df.d from df.c
making pf.d from pf.c
making qf.d from qf.c
making rf.d from rf.c
making dt.d from dt.c
making pt.d from pt.c
making qt.d from qt.c
making rt.d from rt.c
making dchisq.d from dchisq.c
making pchisq.d from pchisq.c
making qchisq.d from qchisq.c
making rchisq.d from rchisq.c
making dbinom.d from dbinom.c
making pbinom.d from pbinom.c
making qbinom.d from qbinom.c
making rbinom.d from rbinom.c
making dcauchy.d from dcauchy.c
making pcauchy.d from pcauchy.c
making qcauchy.d from qcauchy.c
making rcauchy.d from rcauchy.c
making dexp.d from dexp.c
making pexp.d from pexp.c
making qexp.d from qexp.c
making rexp.d from rexp.c
making dgeom.d from dgeom.c
making pgeom.d from pgeom.c
making qgeom.d from qgeom.c
making rgeom.d from rgeom.c
making dhyper.d from dhyper.c
making phyper.d from phyper.c
making qhyper.d from qhyper.c
making rhyper.d from rhyper.c
making dnbinom.d from dnbinom.c
making pnbinom.d from pnbinom.c
making qnbinom.d from qnbinom.c
making rnbinom.d from rnbinom.c
making dpois.d from dpois.c
making ppois.d from ppois.c
making qpois.d from qpois.c
making rpois.d from rpois.c
making dweibull.d from dweibull.c
making pweibull.d from pweibull.c
making qweibull.d from qweibull.c
making rweibull.d from rweibull.c
making dlogis.d from dlogis.c
making plogis.d from plogis.c
making qlogis.d from qlogis.c
making rlogis.d from rlogis.c
making dnchisq.d from dnchisq.c
making pnchisq.d from pnchisq.c
making qnchisq.d from qnchisq.c
making dnbeta.d from dnbeta.c
making pnbeta.d from pnbeta.c
making pnf.d from pnf.c
making pnt.d from pnt.c
making ptukey.d from ptukey.c
making qtukey.d from qtukey.c
making wilcox.d from wilcox.c
making signrank.d from signrank.c
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c mlutils.c -o mlutils.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c d1mach.c -o d1mach.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c i1mach.c -o i1mach.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmax2.c -o fmax2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmin2.c -o fmin2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fprec.c -o fprec.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fround.c -o fround.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c ftrunc.c -o ftrunc.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c sign.c -o sign.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fsign.c -o fsign.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c imax2.c -o imax2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c imin2.c -o imin2.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c chebyshev.c -o chebyshev.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c log1p.c -o log1p.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lgammacor.c -o lgammacor.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c gammalims.c -o gammalims.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c stirlerr.c -o stirlerr.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bd0.c -o bd0.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c gamma.c -o gamma.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lgamma.c -o lgamma.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c gamma_cody.c -o gamma_cody.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c beta.c -o beta.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lbeta.c -o lbeta.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c polygamma.c -o polygamma.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bessel_i.c -o bessel_i.o
bessel_i.c: In function `I_bessel':
bessel_i.c:468: internal error--unrecognizable insn:
(insn 1418 1417 673 (set:DF (reg/v:DF 101)
        (if_then_else:DF (ne (reg:DI 416)
                (const_int 0 [0x0]))
            (reg/v:DF 101)
            (reg:DF 415))) -1 (insn_list 1417 (nil))
    (expr_list:REG_DEAD (reg:DI 416)
        (nil)))
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 22 15:27:45 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jan 2002 16:27:45 +0100
Subject: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
In-Reply-To: <200201221505.QAA20274@pubhealth.ku.dk>
References: <200201221505.QAA20274@pubhealth.ku.dk>
Message-ID: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>

wtautz@math.uwaterloo.ca writes:

> I have included the full configure/make output:
> (the particular error regarding bessel_i.c is at
> the END of the report). 
...
> bessel_i.c: In function `I_bessel':
> bessel_i.c:468: internal error--unrecognizable insn:
> (insn 1418 1417 673 (set:DF (reg/v:DF 101)
>         (if_then_else:DF (ne (reg:DI 416)
>                 (const_int 0 [0x0]))
>             (reg/v:DF 101)
>             (reg:DF 415))) -1 (insn_list 1417 (nil))
>     (expr_list:REG_DEAD (reg:DI 416)
>         (nil)))
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)

That looks like a problem in the gcc compiler suite. You might try
upgrading the compiler. Sometimes changing compiler flags (you would
only need to do it for the offending module) does the trick. 

Another possibility is that gcc is generating code that the system
assembler doesn't understand (this is happening with gcc 3 on
Solaris). If so, then you might install GNU binutils.

If none of this helps, I'm afraid that you need to take it up with the
GCC authors since it is not an R problem.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Walter Tautz <wtautz@math.uwaterloo.ca>  Tue Jan 22 15:48:18 2002
From: Walter Tautz <wtautz@math.uwaterloo.ca> (Walter Tautz)
Date: Tue, 22 Jan 2002 10:48:18 -0500 (EST)
Subject: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
In-Reply-To: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.3.96.1020122103116.3015L-100000@mfcf.math.uwaterloo.ca>



On 22 Jan 2002, Peter Dalgaard BSA wrote:

> wtautz@math.uwaterloo.ca writes:
> 
> > I have included the full configure/make output:
> > (the particular error regarding bessel_i.c is at
> > the END of the report). 
> ...
> > bessel_i.c: In function `I_bessel':
> > bessel_i.c:468: internal error--unrecognizable insn:
> > (insn 1418 1417 673 (set:DF (reg/v:DF 101)
> >         (if_then_else:DF (ne (reg:DI 416)
> >                 (const_int 0 [0x0]))
> >             (reg/v:DF 101)
> >             (reg:DF 415))) -1 (insn_list 1417 (nil))
> >     (expr_list:REG_DEAD (reg:DI 416)
> >         (nil)))
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> 
> That looks like a problem in the gcc compiler suite. You might try
> upgrading the compiler. Sometimes changing compiler flags (you would
> only need to do it for the offending module) does the trick. 
> 
> Another possibility is that gcc is generating code that the system
> assembler doesn't understand (this is happening with gcc 3 on
> Solaris). If so, then you might install GNU binutils.
> 

I neglected to mention that 
gcc -v gives:

gcc version 2.95.3 20010315 (release)



Here is a more verbose output if that helps:




Reading specs from /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/specs
gcc version 2.95.3 20010315 (release)
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cpp0 -lang-c -v -I. -I../../src/include -I../../src/include -D__GNUC__=2 -D__GNUC_MINOR__=95 -Dunix -Dmips -Dsgi -Dhost_mips -DMIPSEB -D_MIPSEB -DSYSTYPE_SVR4 -D_LONGLONG -D_SVR4
_SOURCE -D_MODERN_C -D__DSO__ -D__unix__ -D__mips__ -D__sgi__ -D__host_mips__ -D__MIPSEB__ -D_MIPSEB -D__SYSTYPE_SVR4__ -D_LONGLONG -D_SVR4_SOURCE -D_MODERN_C -D__DSO__ -D__unix -D__mips -D__sgi -D__host_mips -D__MIPSEB -D__SYSTYPE_SVR4 -Asystem(unix) -As
ystem(svr4) -Acpu(mips) -Amachine(sgi) -D__CHAR_UNSIGNED__ -D__OPTIMIZE__ -g -D__LANGUAGE_C -D_LANGUAGE_C -DLANGUAGE_C -D__SIZE_TYPE__=long unsigned int -D__PTRDIFF_TYPE__=long int -D__LONG_MAX__=9223372036854775807L -D__EXTENSIONS__ -D_SGI_SOURCE -D_MIPS
_FPSET=32 -D_MIPS_ISA=_MIPS_ISA_MIPS3 -D_ABI64=3 -D_MIPS_SIM=_ABI64 -D_MIPS_SZINT=32 -D_MIPS_SZLONG=64 -D_MIPS_SZPTR=64 -D_COMPILER_VERSION=601 -U__mips -D__mips=3 -D__mips64 -DHAVE_CONFIG_H bessel_i.c /var/tmp/ccyhjiCa.i
GNU CPP version 2.95.3 20010315 (release) [AL 1.1, MM 40] SGI running IRIX 6.x
#include "..." search starts here:
#include <...> search starts here:
 .
 ../../src/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../mips-sgi-irix6.5/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/include
 /usr/include
End of search list.
The following default directories have been omitted from the search path:
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../include/g++-3
 /usr/local/include
End of omitted list.
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cc1 /var/tmp/ccyhjiCa.i -quiet -dumpbase bessel_i.c -mabi=64 -g -O2 -version -o /var/tmp/ccKOSzid.s
GNU C version 2.95.3 20010315 (release) (mips-sgi-irix6.5) compiled by GNU C version 2.95.3 20010315 (release).
bessel_i.c: In function `I_bessel':
bessel_i.c:468: internal error--unrecognizable insn:
(insn 1418 1417 673 (set:DF (reg/v:DF 101)
        (if_then_else:DF (ne (reg:DI 416)
                (const_int 0 [0x0]))
            (reg/v:DF 101)
            (reg:DF 415))) -1 (insn_list 1417 (nil))
    (expr_list:REG_DEAD (reg:DI 416)
        (nil)))

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stephen@cogsci.ed.ac.uk  Thu Jan 24 03:48:43 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Thu, 24 Jan 2002 04:48:43 +0100 (MET)
Subject: [Rd] typos in R-intro.texi (PR#1279)
Message-ID: <200201240348.EAA07987@pubhealth.ku.dk>

Full_Name: stephen eglen
Version: 1.4
OS: Redhat 7.1
Submission from: (NULL) (128.252.204.36)


I found a few typos whilst reading R-intro.  Line numbers are
against R-intro.texi in the r-devel tree.

line 3060:  but a shorter right tail THAT one would
should be "than"

line 6126: [MaxOS 8/9]
should be "MacOS"

line 6596,6804: "invokation" written.  Should be "invocation".


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Thu Jan 24 10:12:20 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Thu, 24 Jan 2002 10:12:20 +0000
Subject: [Rd] Documentation for transpose function
Message-ID: <3C4FDE04.C062424@durham.ac.uk>

Hi Everyone,

A colleague of mine has suggested that it would be helpful to include a
link to aperm on the ?t help page, for example

\seealso{\code{\link{aperm}} for permuting the extents of arrays.}

Cheers, Jonathan.
-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 24 10:22:35 2002
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Thu, 24 Jan 2002 11:22:35 +0100 (MET)
Subject: [Rd] Documentation for transpose function (PR#1280)
Message-ID: <200201241022.LAA11852@pubhealth.ku.dk>

Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

> Hi Everyone,
> 
> A colleague of mine has suggested that it would be helpful to include a
> link to aperm on the ?t help page, for example
> 
> \seealso{\code{\link{aperm}} for permuting the extents of arrays.}

Sounds like a good idea. CC'ing r-bugs to remember it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 10:46:55 2002
From: theis@statistik.uni-dortmund.de (theis@statistik.uni-dortmund.de)
Date: Thu, 24 Jan 2002 11:46:55 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241046.LAA12336@pubhealth.ku.dk>

Full_Name: Winfried Theis
Version: 1.4.0
OS: Linux
Submission from: (NULL) (129.217.207.135)


Hello!

During an error search I stumbled across the following:
If I do 
> options(digits=22)
and then type in e.g. 0.1 I get:
> 0.1
[1] 0.1000000000000000055511

I hope there is some other way to correct this, than rounding to 12 digits 
or something similar. I tested it on a Sun and under Windows as well and it 
is the same on all systems.

Regards,

Winfried Theis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 11:20:41 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 24 Jan 2002 12:20:41 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241120.MAA12874@pubhealth.ku.dk>

On Thu, 24 Jan 2002 theis@statistik.uni-dortmund.de wrote:

> Full_Name: Winfried Theis
> Version: 1.4.0
> OS: Linux
> Submission from: (NULL) (129.217.207.135)
>
>
> Hello!
>
> During an error search I stumbled across the following:
> If I do
> > options(digits=22)
> and then type in e.g. 0.1 I get:
> > 0.1
> [1] 0.1000000000000000055511
>
> I hope there is some other way to correct this, than rounding to 12 digits
> or something similar. I tested it on a Sun and under Windows as well and it
> is the same on all systems.

0.1 cannot be represented exactly in binary arithmetic. You asked for the
representation to 22 digits, and at most 17 are used in IEEE arithmetic.

This is not a bug in R, which does not claim to have arbitrary precision.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From claudio@unive.it  Thu Jan 24 11:48:57 2002
From: claudio@unive.it (Claudio Agostinelli)
Date: Thu, 24 Jan 2002 12:48:57 +0100 (CET)
Subject: [Rd] round function
In-Reply-To: <200201241046.LAA12336@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.33L2.0201241235180.7180-100000@linaria.dst.unive.it>

Hy everybody,

if I use round function with numbers bigger than 2147483648 (at least
in my PC running linux) I got
> round(2147483648)
[1] -2147483648
>

trunc, floor and ceiling work fine
> trunc(2147483648)
[1] 2147483648
> ceiling(2147483648)
[1] 2147483648
> floor(2147483648)
[1] 2147483648
>

Is this a bug? If not, I suggest that round give back NA or NaN in these
cases.

best,
Claudio Agostinelli



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 12:01:22 2002
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 12:01:22 +0000 (GMT)
Subject: [Rd] round function
In-Reply-To: <Pine.LNX.4.33L2.0201241235180.7180-100000@linaria.dst.unive.it>
Message-ID: <Pine.LNX.4.31.0201241200390.3406-100000@gannet.stats>

On Thu, 24 Jan 2002, Claudio Agostinelli wrote:

> Hy everybody,
>
> if I use round function with numbers bigger than 2147483648 (at least
> in my PC running linux) I got
> > round(2147483648)
> [1] -2147483648
> >
>
> trunc, floor and ceiling work fine
> > trunc(2147483648)
> [1] 2147483648
> > ceiling(2147483648)
> [1] 2147483648
> > floor(2147483648)
> [1] 2147483648
> >
>
> Is this a bug? If not, I suggest that round give back NA or NaN in these
> cases.

It's a bug in 1.4.0 only, already corrected in the patched version.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Jan 24 12:32:31 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2002 13:32:31 +0100
Subject: [Rd] R-1.4.1 scheduled for Jan 30
Message-ID: <x2it9s9bfk.fsf@blueberry.kubism.ku.dk>


We plan to put out R-1.4.1 on Wednesday. This is mainly to get the
fixes that we have already made into an official version, and to clean
up the problem with the Windows build. 

Several on the core team are under fairly heavy load at this time, so
we'll probably be reluctant to fix further bugs unless they are
clearly serious and/or trivial to fix.

Those of you that have unusual platforms could be doing us a favour if
you try building snapshot versions and report back if there are
problems.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 13:06:07 2002
From: theis@statistik.uni-dortmund.de (theis@statistik.uni-dortmund.de)
Date: Thu, 24 Jan 2002 14:06:07 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241306.OAA14998@pubhealth.ku.dk>

Dear Prof. Ripley,

On 24-Jan-02 Prof Brian Ripley wrote:
> 
> 0.1 cannot be represented exactly in binary arithmetic. You asked for the
> representation to 22 digits, and at most 17 are used in IEEE arithmetic.
> 
> This is not a bug in R, which does not claim to have arbitrary precision.
> 
Okay, I do not expect arbitrary precision, but maybe a warning in some way
would be in order, to tell non-experts, what can be expected...

As I said I came across this,
when I searched for an error and this might be the reason for it. When comparing
distances in one dimension within the sequence seq(0,1,by=0.1), I found that R
does not take the distances between (0.3, 0.5) and (0.5,0.7) to be equal.

> abs(0.5-0.3)==abs(0.5-0.7)
[1] FALSE

Checking this now a bit closer with your information I found:
> round(abs(0.5-0.3),digits=17)==round(abs(0.5-0.7),digits=17)
[1] FALSE
> round(abs(0.5-0.3),digits=16)==round(abs(0.5-0.7),digits=16)
[1] TRUE

Would it be possible to restrict "==" as well to the maximum number of digits
used in the arithmetics? It would be very convenient to get the expected result
from such a comparison.

Thank you -- and of course the whole core-team -- for your efforts to make this
great software!

Regards,

Winfried Theis
----------------------------------
E-Mail: Winfried Theis <theis@statistik.uni-dortmund.de>
Date: 24-Jan-02
Time: 12:50:35
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 13:27:42 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 24 Jan 2002 14:27:42 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241327.OAA15418@pubhealth.ku.dk>

On Thu, 24 Jan 2002, Winfried Theis wrote:

> Dear Prof. Ripley,
>
> On 24-Jan-02 Prof Brian Ripley wrote:
> >
> > 0.1 cannot be represented exactly in binary arithmetic. You asked for the
> > representation to 22 digits, and at most 17 are used in IEEE arithmetic.
> >
> > This is not a bug in R, which does not claim to have arbitrary precision.
> >
> Okay, I do not expect arbitrary precision, but maybe a warning in some way
> would be in order, to tell non-experts, what can be expected...
>
> As I said I came across this,
> when I searched for an error and this might be the reason for it. When comparing
> distances in one dimension within the sequence seq(0,1,by=0.1), I found that R
> does not take the distances between (0.3, 0.5) and (0.5,0.7) to be equal.
>
> > abs(0.5-0.3)==abs(0.5-0.7)
> [1] FALSE
>
> Checking this now a bit closer with your information I found:
> > round(abs(0.5-0.3),digits=17)==round(abs(0.5-0.7),digits=17)
> [1] FALSE
> > round(abs(0.5-0.3),digits=16)==round(abs(0.5-0.7),digits=16)
> [1] TRUE
>
> Would it be possible to restrict "==" as well to the maximum number of digits
> used in the arithmetics? It would be very convenient to get the expected result
> from such a comparison.

There is a function all.equal provided for this purpose: it is a misuse of
==.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 13:44:30 2002
From: theis@statistik.uni-dortmund.de (theis@statistik.uni-dortmund.de)
Date: Thu, 24 Jan 2002 14:44:30 +0100 (MET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
Message-ID: <200201241344.OAA15893@pubhealth.ku.dk>


On 24-Jan-02 Prof Brian Ripley wrote:
> 
> There is a function all.equal provided for this purpose: it is a misuse of
> ==.

But there is no hint or note on the "Comparisons" help page concerning this
problem. If it is a misuse one should be warned against it.

Winfried Theis

----------------------------------
E-Mail: Winfried Theis <theis@statistik.uni-dortmund.de>
Date: 24-Jan-02
Time: 13:54:53
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gb@stat.umu.se  Thu Jan 24 14:15:43 2002
From: gb@stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 24 Jan 2002 15:15:43 +0100 (CET)
Subject: [Rd] Representation of floating point numbers (PR#1281)
In-Reply-To: <200201241344.OAA15893@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.33.0201241512580.5000-100000@tal.stat.umu.se>

On Thu, 24 Jan 2002 theis@statistik.uni-dortmund.de wrote:

> 
> On 24-Jan-02 Prof Brian Ripley wrote:
> > 
> > There is a function all.equal provided for this purpose: it is a misuse of
> > ==.
> 
> But there is no hint or note on the "Comparisons" help page concerning this
> problem. If it is a misuse one should be warned against it.

But there is a warning there:

Don't use == and != for tests, such as in if expressions, where you must 
get a single TRUE or FALSE. Unless you are absolutely sure that nothing 
unusual can happen, you should use the identical function instead.

And 'identical' suggests:

> identical(all.equal(x, y), TRUE)

Clever indeed!
-- 
 Göran Broström                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Umeå University
 SE-90187 Umeå, Sweden             e-mail: gb@stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Thu Jan 24 14:48:29 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Thu, 24 Jan 2002 08:48:29 -0600
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <x2it9s9bfk.fsf@blueberry.kubism.ku.dk>
References: <x2it9s9bfk.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020124144829.GA3676@sonny.eddelbuettel.com>

On Thu, Jan 24, 2002 at 01:32:31PM +0100, Peter Dalgaard BSA wrote:
> Those of you that have unusual platforms could be doing us a favour if
> you try building snapshot versions and report back if there are
> problems.

I could make a snapshot Debian release which would then be thrown at the
twelve distinct architectures Debian supports. On the other hand, 1.4.0
already builds on 9 of these as shown on

   http://buildd.debian.org/build.php?pkg=r-base
   
As I presume no fixes were made to correct the mips and mipsel failures,
would such a snapshot release really provide incremental information?

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From theis@statistik.uni-dortmund.de  Thu Jan 24 15:15:58 2002
From: theis@statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 24 Jan 2002 15:15:58 -0000 (GMT)
Subject: [Rd] Representation of floating point numbers (PR#1281)
In-Reply-To: <Pine.LNX.4.33.0201241512580.5000-100000@tal.stat.umu.se>
Message-ID: <XFMail.020124151558.theis@statistik.uni-dortmund.de>

Hello!
On 24-Jan-02 Göran Broström wrote:
> On Thu, 24 Jan 2002 theis@statistik.uni-dortmund.de wrote:
> 
>> 
>> On 24-Jan-02 Prof Brian Ripley wrote:
>> > 
>> > There is a function all.equal provided for this purpose: it is a misuse of
>> > ==.
>> 
>> But there is no hint or note on the "Comparisons" help page concerning this
>> problem. If it is a misuse one should be warned against it.
> 
> But there is a warning there:
> 
> Don't use == and != for tests, such as in if expressions, where you must 
> get a single TRUE or FALSE. Unless you are absolutely sure that nothing 
> unusual can happen, you should use the identical function instead.
> 
> And 'identical' suggests:
> 
>> identical(all.equal(x, y), TRUE)
> 
> Clever indeed!
Sorry for being imprecise here: I missed the hint on all.equal on that page.

My main problem is that I need to find the places of a numerical vector x where
it equals its maximum, so usually I would do

> x[x==max(x)]

and this led to this whole discussion. I may be a bit dumb today but I don't
see an easy way to solve this with identical or all.equal. -- But please don't
bother, for the time being I will just round in the appropriate places. 

Sorry to have bothered you all with this.

Regards,
Winfried Theis
----------------------------------
E-Mail: Winfried Theis <theis@statistik.uni-dortmund.de>
Date: 24-Jan-02
Time: 15:04:41
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 24 15:35:39 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 24 Jan 2002 15:35:39 +0000 (GMT)
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <20020124144829.GA3676@sonny.eddelbuettel.com>
Message-ID: <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>

On Thu, 24 Jan 2002, Dirk Eddelbuettel wrote:

> On Thu, Jan 24, 2002 at 01:32:31PM +0100, Peter Dalgaard BSA wrote:
> > Those of you that have unusual platforms could be doing us a favour if
> > you try building snapshot versions and report back if there are
> > problems.
>
> I could make a snapshot Debian release which would then be thrown at the
> twelve distinct architectures Debian supports. On the other hand, 1.4.0
> already builds on 9 of these as shown on
>
>    http://buildd.debian.org/build.php?pkg=r-base
>
> As I presume no fixes were made to correct the mips and mipsel failures,
> would such a snapshot release really provide incremental information?

Some, yes.  Sometimes fixes for one platform break another.  As a real
example, Rinternals.h was causing two C++-based compilers to object.
I changed a couple of declarations to a form that Metrowerks was known to
accept, and it passed on four others.  Then Luke found HP-UX's C compiler
objected, and had to change it again.

I really don't know how much independent evidence Debian's different
architectures provides, but my guess is that no else will be able to check
a 64-bit Linux.

Does that inform a cost-benefit analysis for you?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Thu Jan 24 15:43:15 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Thu, 24 Jan 2002 09:43:15 -0600
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
References: <20020124144829.GA3676@sonny.eddelbuettel.com> <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
Message-ID: <20020124154315.GA3906@sonny.eddelbuettel.com>

On Thu, Jan 24, 2002 at 03:35:39PM +0000, Prof Brian D Ripley wrote:
> On Thu, 24 Jan 2002, Dirk Eddelbuettel wrote:
> > As I presume no fixes were made to correct the mips and mipsel failures,
> > would such a snapshot release really provide incremental information?
> 
> Some, yes.  Sometimes fixes for one platform break another.  As a real
[...]

Good point. On the other hand, all this will show is gcc et al on different
Linux arches.

> Does that inform a cost-benefit analysis for you?

Sure. But one other problem I forgot earlier is that the timeframe might
simply be too tight -- it could be Sunday before most of the systems catch
up, and that would leave little time for R-core to try to mend things.

I could try to do it this eve if there is a view at your end that it is
useful. I guess it wouldn't hurt, overall. 

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Thu Jan 24 15:59:21 2002
From: brahm@alum.mit.edu (David Brahm)
Date: Thu, 24 Jan 2002 10:59:21 -0500
Subject: [Rd] Representation of floating point numbers (PR#1281)
In-Reply-To: <XFMail.020124151558.theis@statistik.uni-dortmund.de>
References: <Pine.LNX.4.33.0201241512580.5000-100000@tal.stat.umu.se>
 <XFMail.020124151558.theis@statistik.uni-dortmund.de>
Message-ID: <15440.12121.742575.747387@gargle.gargle.HOWL>

Winfried Theis writes:
> My main problem is that I need to find the places of a numerical vector x
> where it equals its maximum, so usually I would do
> x[x==max(x)]

Then you want which.max(x)  [a great function found in R but not S-Plus].
-- 
                              -- David Brahm (brahm@alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Jan 24 17:22:13 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 24 Jan 2002 12:22:13 -0500
Subject: [Rd] config.log
Message-ID: <3C5042C5.B87129FB@bank-banque-canada.ca>

(subject changed and move from r-help)

On Thu, 24 Jan 2002, Agustin Lobo wrote:

> (config.log was not that useful as the following 3 lines
> configure:8610: checking for rl_callback_read_char in -lreadline
> configure:10229: checking for readline/history.h
> configure:10229: checking for readline/readline.h
>
> state the checking but not the actual result.

There are times I have wished all the output from configure was recorded
somewhere. (Perhaps it is and I just don't know where.) I have even re-run
configure on occassion, just to try and figure out a problem. But re-running
does not help if your system has changed and you are trying to figure out why
something worked before and doesn't anymore.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Ralph.MacNally@sci.monash.edu.au  Fri Jan 25 04:22:20 2002
From: Ralph.MacNally@sci.monash.edu.au (Ralph.MacNally@sci.monash.edu.au)
Date: Fri, 25 Jan 2002 05:22:20 +0100 (MET)
Subject: [Rd] na.action=na.omit doesn't omit in glm() (PR#1282)
Message-ID: <200201250422.FAA22830@pubhealth.ku.dk>

Full_Name: Ralph Mac Nally
Version: 1.40
OS: MacOS9x/Windows98
Submission from: (NULL) (130.194.13.180)


I'm using a simple glm in which the dependent variable may have missing data
(coded 'NA') as usual. Both the default na.action (na.omit) and explicit
'na.action=na.omit' do not seem to ignore the missing data as I expect,
generating an error to that effect (NA passed to routine). I encounter the same
problem in classic Mac and Windows98 versions, but S works alright.

What is the source/solution to this problem?

Thanks Ralph

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jan 25 07:46:38 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Jan 2002 07:46:38 +0000 (GMT)
Subject: [Rd] na.action=na.omit doesn't omit in glm() (PR#1282)
In-Reply-To: <200201250422.FAA22830@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0201250740070.15891-100000@auk.stats>

On Fri, 25 Jan 2002 Ralph.MacNally@sci.monash.edu.au wrote:

> Full_Name: Ralph Mac Nally
> Version: 1.40
> OS: MacOS9x/Windows98
> Submission from: (NULL) (130.194.13.180)
>
>
> I'm using a simple glm in which the dependent variable may have missing data
> (coded 'NA') as usual. Both the default na.action (na.omit) and explicit
> 'na.action=na.omit' do not seem to ignore the missing data as I expect,
> generating an error to that effect (NA passed to routine). I encounter the same
> problem in classic Mac and Windows98 versions, but S works alright.
>
> What is the source/solution to this problem?

Could we have a reproducible example, please?

Based on example(glm)

counts <- c(18, 17, 15, 20, 10, 20, 25, 13, 12)
outcome <- gl(3, 1, 9)
treatment <- gl(3, 3)
d.AD <- data.frame(treatment, outcome, counts)

glm(counts ~ outcome + treatment, family = poisson, data=d.AD)
Degrees of Freedom: 8 Total (i.e. Null);  4 Residual
Null Deviance:      10.58
Residual Deviance: 5.129        AIC: 56.76

d.AD[1, 1] <- NA
glm(counts ~ outcome + treatment, family = poisson, data=d.AD)
Degrees of Freedom: 7 Total (i.e. Null);  3 Residual
Null Deviance:      10.46
Residual Deviance: 4.011        AIC: 50.91

d.AD[9,3] <- NA
glm(counts ~ outcome + treatment, family = poisson, data=d.AD)
Degrees of Freedom: 6 Total (i.e. Null);  2 Residual
Null Deviance:      8.934
Residual Deviance: 2.725        AIC: 45.28

appears to work exactly as advertised.

Or try not using a data frame:

counts[9] <- NA
glm(counts ~ outcome + treatment, family = poisson)
Degrees of Freedom: 7 Total (i.e. Null);  3 Residual
Null Deviance:      8.971
Residual Deviance: 3.204        AIC: 50.5


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Fri Jan 25 15:03:13 2002
From: bolker@zoo.ufl.edu (Ben Bolker)
Date: Fri, 25 Jan 2002 10:03:13 -0500 (EST)
Subject: [Rd] Re: [R] How to add error bars to plot(x,y)in R?
In-Reply-To: <Pine.OSF.3.96.1020125102720.8203B-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.30.0201250954360.14931-100000@bolker.zoo.ufl.edu>

On Fri, 25 Jan 2002, Agustin Lobo wrote:

>
> The real solution would be adding this feature as an option
> to plot.

  This is really a philosophical question.  There are several possible
solutions:

 1. tell people (on the list, in a FAQ, or somewhere in the documentation)
that the easiest way to add error bars is to use arrows(...,angle=90)

 2. add a plotCI (or error.bar, or whatever) function that uses arrows(),
possibly with some bells and whistles, to a utility package that users can
get;

 3. ditto, but to the base R package instead;

 4. make error bars an option to plot(), as you suggest.

 The basic problem is "featuritis", and the fact that there are many
different possible ways you might want to add error bars.  Purists would
say that you need only provide simple tools that people can use to do what
they need; some compromise between nothing and everything is usually
better.  I personally prefer solution #3 above, since plotting confidence
intervals seems to be a pretty basic operation, and one that users should
be encouraged to do.  I wonder if there's an object-oriented solution to
this?  An "error" class and a plot.error method?

  Ben

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Jan 25 19:38:28 2002
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Fri, 25 Jan 2002 20:38:28 +0100 (MET)
Subject: [Rd] max/min of NULL gives MININT/MAXINT instead of -INF/+INF (PR#1283)
Message-ID: <200201251938.UAA05657@pubhealth.ku.dk>

R Version 1.4.0 Patched (2002-01-23)
Solaris 5.8

I just noticed that max(NULL) gives a strange result:

	> max(NULL)
	[1] -2147483647
	Warning message: 
	no finite arguments to min/max; returning extreme. in: max(...,
na.rm = na.rm) 

I discovered this when I did something like

	max(object$element)

for an incorrect element name.  The warning  message was helpful, but I was
still surprised to get a negative integer from this operation.  

In playing around, I see that using numeric summary operations on NULL or
numeric(0) gives inconsistent results:

For NULL:

	> max(NULL)
	[1] -2147483647
	Warning message: 
	no finite arguments to min/max; returning extreme. in: max(...,
na.rm = na.rm) 

	> min(NULL)
	[1] 2147483647
	Warning message: 
	no finite arguments to min/max; returning extreme. in: min(...,
na.rm = na.rm) 

	> mean(NULL)
	[1] NA
	Warning message: 
	argument is not numeric or logical: returning NA in:
mean.default(NULL) 

	> sum(NULL)
	[1] 0

	> range(NULL)
	[1] NA NA
 

For numeric(0):

	> max(numeric(0))
	[1] -Inf
	Warning message: 
	no finite arguments to min/max; returning extreme. in: max(...,
na.rm = na.rm) 

	> min(numeric(0))
	[1] Inf
	Warning message: 
	no finite arguments to min/max; returning extreme. in: min(...,
na.rm = na.rm) 

	> mean(numeric(0))
	[1] NaN

	> sum(numeric(0))
	[1] 0
	
	> range(numeric(0))
	[1] NA NA


I'm not sure that it really makes sense return the extremes when min/max are
called with numeric(0) or NULL arguments.  It seems that returning NA in all
of these cases (including sum) would be best, since such operations usually
indicate an error of some sort.

Still, if one insists that min/max should return the extremes, when they
operate on NULL they should at least return the floating point +INF / -INF
so that things don't get really strange when they get compared with floating
point numbers.

-Greg






LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Jan 25 20:10:43 2002
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Fri, 25 Jan 2002 21:10:43 +0100 (MET)
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <200201252010.VAA05814@pubhealth.ku.dk>

	
When the R_HOME environment variable is set, R issues a warning messages
when it starts up.  When doing 'make check' this causes the check for
eval-etc.R to fail:
	
	[...]
	make[3]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	running strict specific tests
	make[3]: Entering directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	running code in `eval-etc.R' ... OK
	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
	< WARNING: ignoring environment value of R_HOME
	make[3]: *** [eval-etc.Rout] Error 1
	make[3]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	make[2]: *** [test-Specific] Error 2
	make[2]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	make[1]: *** [test-all-basics] Error 1
	make[1]: Leaving directory
`/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
	make: *** [check] Error 2

This is, of course easily worked around by unsetting R_HOME and removing it
from the shell startup scripts, but this is incovienient when R_HOME needs
to be set for other reasons (e.g. to allow the Python interface to R
'RSPython' to find the R code it needs).

It already appears that the version strings are filtered out when testing
for difference between the versions.  Is it possible to filter out the
environment variable warning message as well? 

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Jan 25 21:15:45 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Fri, 25 Jan 2002 16:15:45 -0500
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC850B@usrymx10.merck.com>

I also fell into that trap a couple of times, but it doesn't really bother
me, since it's, IMHO, a real minor inconvenience.

(In bash, under Linux:)  Would the following work?  Haven't tried...

  R_HOME="" make check

Andy

> -----Original Message-----
> From: gregory_r_warnes@groton.pfizer.com
> [mailto:gregory_r_warnes@groton.pfizer.com]
> Sent: Friday, January 25, 2002 3:11 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
> 
> 
> 	
> When the R_HOME environment variable is set, R issues a 
> warning messages
> when it starts up.  When doing 'make check' this causes the check for
> eval-etc.R to fail:
> 	
> 	[...]
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running strict specific tests
> 	make[3]: Entering directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running code in `eval-etc.R' ... OK
> 	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
> 	< WARNING: ignoring environment value of R_HOME
> 	make[3]: *** [eval-etc.Rout] Error 1
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[2]: *** [test-Specific] Error 2
> 	make[2]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[1]: *** [test-all-basics] Error 1
> 	make[1]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make: *** [check] Error 2
> 
> This is, of course easily worked around by unsetting R_HOME 
> and removing it
> from the shell startup scripts, but this is incovienient when 
> R_HOME needs
> to be set for other reasons (e.g. to allow the Python interface to R
> 'RSPython' to find the R code it needs).
> 
> It already appears that the version strings are filtered out 
> when testing
> for difference between the versions.  Is it possible to filter out the
> environment variable warning message as well? 
> 
> -Greg
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is 
> confidential and may be privileged. It is intended for the 
> addressee(s) only. Access to this E-mail by anyone else is 
> unauthorized. If you are not an addressee, any disclosure or 
> copying of the contents of this E-mail or any action taken 
> (or not taken) in reliance on it is unauthorized and may be 
> unlawful. If you are not an addressee, please inform the 
> sender immediately.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Jan 25 21:16:58 2002
From: andy_liaw@merck.com (andy_liaw@merck.com)
Date: Fri, 25 Jan 2002 22:16:58 +0100 (MET)
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <200201252116.WAA06035@pubhealth.ku.dk>

I also fell into that trap a couple of times, but it doesn't really bother
me, since it's, IMHO, a real minor inconvenience.

(In bash, under Linux:)  Would the following work?  Haven't tried...

  R_HOME="" make check

Andy

> -----Original Message-----
> From: gregory_r_warnes@groton.pfizer.com
> [mailto:gregory_r_warnes@groton.pfizer.com]
> Sent: Friday, January 25, 2002 3:11 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
> 
> 
> 	
> When the R_HOME environment variable is set, R issues a 
> warning messages
> when it starts up.  When doing 'make check' this causes the check for
> eval-etc.R to fail:
> 	
> 	[...]
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running strict specific tests
> 	make[3]: Entering directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	running code in `eval-etc.R' ... OK
> 	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
> 	< WARNING: ignoring environment value of R_HOME
> 	make[3]: *** [eval-etc.Rout] Error 1
> 	make[3]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[2]: *** [test-Specific] Error 2
> 	make[2]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make[1]: *** [test-all-basics] Error 1
> 	make[1]: Leaving directory
> `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> 	make: *** [check] Error 2
> 
> This is, of course easily worked around by unsetting R_HOME 
> and removing it
> from the shell startup scripts, but this is incovienient when 
> R_HOME needs
> to be set for other reasons (e.g. to allow the Python interface to R
> 'RSPython' to find the R code it needs).
> 
> It already appears that the version strings are filtered out 
> when testing
> for difference between the versions.  Is it possible to filter out the
> environment variable warning message as well? 
> 
> -Greg
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is 
> confidential and may be privileged. It is intended for the 
> addressee(s) only. Access to this E-mail by anyone else is 
> unauthorized. If you are not an addressee, any disclosure or 
> copying of the contents of this E-mail or any action taken 
> (or not taken) in reliance on it is unauthorized and may be 
> unlawful. If you are not an addressee, please inform the 
> sender immediately.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Jan 25 21:34:21 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 25 Jan 2002 16:34:21 -0500
Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE551@groexmbcr02.pfizer.com>

Perhaps one solution would be to add an equivalent line to the top level
makefile ?

-Greg

> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw@merck.com]
> Sent: Friday, January 25, 2002 4:16 PM
> To: 'gregory_r_warnes@groton.pfizer.com'; r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: RE: [Rd] make check fails when R_HOME env var set (PR#1284)
> 
> 
> I also fell into that trap a couple of times, but it doesn't 
> really bother
> me, since it's, IMHO, a real minor inconvenience.
> 
> (In bash, under Linux:)  Would the following work?  Haven't tried...
> 
>   R_HOME="" make check
> 
> Andy
> 
> > -----Original Message-----
> > From: gregory_r_warnes@groton.pfizer.com
> > [mailto:gregory_r_warnes@groton.pfizer.com]
> > Sent: Friday, January 25, 2002 3:11 PM
> > To: r-devel@stat.math.ethz.ch
> > Cc: R-bugs@biostat.ku.dk
> > Subject: [Rd] make check fails when R_HOME env var set (PR#1284)
> > 
> > 
> > 	
> > When the R_HOME environment variable is set, R issues a 
> > warning messages
> > when it starts up.  When doing 'make check' this causes the 
> check for
> > eval-etc.R to fail:
> > 	
> > 	[...]
> > 	make[3]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	running strict specific tests
> > 	make[3]: Entering directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	running code in `eval-etc.R' ... OK
> > 	comparing `eval-etc.Rout' to `./eval-etc.Rout.save' ...1d0
> > 	< WARNING: ignoring environment value of R_HOME
> > 	make[3]: *** [eval-etc.Rout] Error 1
> > 	make[3]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	make[2]: *** [test-Specific] Error 2
> > 	make[2]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	make[1]: *** [test-all-basics] Error 1
> > 	make[1]: Leaving directory
> > `/Volumes/app/R/src/R-1.4.0_patched_2002-01-24/tests'
> > 	make: *** [check] Error 2
> > 
> > This is, of course easily worked around by unsetting R_HOME 
> > and removing it
> > from the shell startup scripts, but this is incovienient when 
> > R_HOME needs
> > to be set for other reasons (e.g. to allow the Python interface to R
> > 'RSPython' to find the R code it needs).
> > 
> > It already appears that the version strings are filtered out 
> > when testing
> > for difference between the versions.  Is it possible to 
> filter out the
> > environment variable warning message as well? 
> > 
> > -Greg
> > 
> > 
> > LEGAL NOTICE
> > Unless expressly stated otherwise, this message is 
> > confidential and may be privileged. It is intended for the 
> > addressee(s) only. Access to this E-mail by anyone else is 
> > unauthorized. If you are not an addressee, any disclosure or 
> > copying of the contents of this E-mail or any action taken 
> > (or not taken) in reliance on it is unauthorized and may be 
> > unlawful. If you are not an addressee, please inform the 
> > sender immediately.
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Jan 26 17:17:50 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 26 Jan 2002 11:17:50 -0600
Subject: [Rd] R-1.4.1 scheduled for Jan 30
In-Reply-To: <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
References: <20020124144829.GA3676@sonny.eddelbuettel.com>
 <Pine.GSO.4.31.0201241529450.5827-100000@auk.stats>
Message-ID: <15442.58558.687176.829313@sonny.eddelbuettel.com>


  "Brian" == Brian D Ripley <Prof> writes:
  Brian> I really don't know how much independent evidence Debian's different
  Brian> architectures provides, but my guess is that no else will be able to
  Brian> check a 64-bit Linux.

As an interim result, R-patched-2002-01-24 compiled fine on the i386, hppa,
ia64, powerpc. sparc, arm. It failed (just as previously) on mipsel (see
below). The m68k box was out of diskspace and postponed, others haven't tried
yet.

Full logs at http://buildd.debian.org/build.php?&pkg=r-base

The mipsel failure is in:

running code in `arith-true.R' ... OK
comparing `arith-true.Rout' to `./arith-true.Rout.save' ...161c161
< [1] FALSE
---
> [1] TRUE
190,193d189
< 
< n= 1006 : quantile(rErr, c(.95,1)) = 0.002086 0.0495 
< 
< n= 1039 : quantile(rErr, c(.95,1)) = 7.645e-14 3.195e-07 
198c194
< [1] FALSE
---
> [1] TRUE
make[4]: *** [arith-true.Rout] Error 1
make[4]: Leaving directory `/build/buildd/r-base-1.4.0.cvs20020124/tests'

If anybody here is motivated to look into this in detail, let me know.

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From garbade@psy.uni-muenchen.de  Tue Jan 29 09:39:29 2002
From: garbade@psy.uni-muenchen.de (garbade@psy.uni-muenchen.de)
Date: Tue, 29 Jan 2002 10:39:29 +0100 (MET)
Subject: [Rd] seek() doesn't reposition a file connection (PR#1287)
Message-ID: <200201290939.KAA00954@pubhealth.ku.dk>

Full_Name: Sven Garbade
Version: 1.4.0
OS: Linux i386
Submission from: (NULL) (129.187.254.49)


It seems that seek() can't reposition a file connection, but it can report the
actual file position correctly if the file connection was repositioned by
another function (e.g. readBin()).

R code:

> s <- file("p9_os/p9lr_all.mea","rb")
> s
         description                class                 mode 
"p9_os/p9lr_all.mea"               "file"                 "rb" 
                text               opened             can read 
            "binary"             "opened"                "yes" 
           can write 
                "no" 
> seek(s, 0, "end")
[1] 0           
> seek(s)
[1] 0           # file connctor its still at the first position
> readBin(s, integer(), 64, size=2)
 [1]   103     1   400     1   749     0     0     0     0     0     0     0
[13]     0     0     0     0     0     0     0     0     0     0     0     0
[25]     0     0     0     0     0     0     0     0 11884 25888 25977 11552
[37] 22560     0     0     0     0     0     0     0     0     0     0     0
[49]     0     0     0     0     0     0     0     0     0     0     0     0
[61]     0     0     0     0
> seek(s)
[1] 128        # here seek reports the correct postion


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jan 29 09:52:54 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 29 Jan 2002 10:52:54 +0100 (MET)
Subject: [Rd] (PR#1287) seek was ignoring the `origin' argument (was
Message-ID: <200201290952.KAA01265@pubhealth.ku.dk>

The original subject line is false.  It *does* reposition, but `origin'
was being ignored, so your request was to reposition to the beginning of
the file, and that is what happened.

This was already fixed in R-patched: from NEWS there:

    o	seek() on file connections was ignoring the `origin' argument.

It's always worth looking at the current patched version.


On Tue, 29 Jan 2002 garbade@psy.uni-muenchen.de wrote:

> Full_Name: Sven Garbade
> Version: 1.4.0
> OS: Linux i386
> Submission from: (NULL) (129.187.254.49)
>
>
> It seems that seek() can't reposition a file connection, but it can report the
> actual file position correctly if the file connection was repositioned by
> another function (e.g. readBin()).
>
> R code:
>
> > s <- file("p9_os/p9lr_all.mea","rb")
> > s
>          description                class                 mode
> "p9_os/p9lr_all.mea"               "file"                 "rb"
>                 text               opened             can read
>             "binary"             "opened"                "yes"
>            can write
>                 "no"
> > seek(s, 0, "end")
> [1] 0
> > seek(s)
> [1] 0           # file connctor its still at the first position
> > readBin(s, integer(), 64, size=2)
>  [1]   103     1   400     1   749     0     0     0     0     0     0     0
> [13]     0     0     0     0     0     0     0     0     0     0     0     0
> [25]     0     0     0     0     0     0     0     0 11884 25888 25977 11552
> [37] 22560     0     0     0     0     0     0     0     0     0     0     0
> [49]     0     0     0     0     0     0     0     0     0     0     0     0
> [61]     0     0     0     0
> > seek(s)
> [1] 128        # here seek reports the correct postion
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From garbade@psy.uni-muenchen.de  Tue Jan 29 10:41:56 2002
From: garbade@psy.uni-muenchen.de (garbade@psy.uni-muenchen.de)
Date: Tue, 29 Jan 2002 11:41:56 +0100 (MET)
Subject: [Rd] (PR#1287) seek was ignoring the `origin' argument (wasseek()
Message-ID: <200201291041.LAA02428@pubhealth.ku.dk>

Prof Brian Ripley wrote:
> 
> The original subject line is false.  It *does* reposition, but `origin'
> was being ignored, so your request was to reposition to the beginning of
> the file, and that is what happened.
> 
> This was already fixed in R-patched: from NEWS there:
> 
>     o   seek() on file connections was ignoring the `origin' argument.
> 
> It's always worth looking at the current patched version.

Thanks. I've only searched in existing bug reports in
http://r-bugs.biostat.ku.dk/cgi-bin/R and found nothing referable to
seek().

Regards, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@ms.cc.sunysb.edu  Tue Jan 29 20:11:09 2002
From: tkeitt@ms.cc.sunysb.edu (tkeitt@ms.cc.sunysb.edu)
Date: Tue, 29 Jan 2002 21:11:09 +0100 (MET)
Subject: [Rd] dimnames usage in ts (PR#1288)
Message-ID: <200201292011.VAA10838@pubhealth.ku.dk>

Full_Name: Tim Keitt
Version: 1.4
OS: Linux
Submission from: (NULL) (129.49.19.70)


I think this code in 'ts' is incorrect:

    if (is.matrix(data) || is.data.frame(data)) {
        nseries <- ncol(data)
        ndata <- nrow(data)
        dimnames(data) <- list(NULL, names)
    }

since

> x <- data.frame(matrix(rnorm(100),ncol=10))
> names(x)
 [1] "X1"  "X2"  "X3"  "X4"  "X5"  "X6"  "X7"  "X8"  "X9"  "X10"
> dimnames(x)
[[1]]
 [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10"

[[2]]
 [1] "X1"  "X2"  "X3"  "X4"  "X5"  "X6"  "X7"  "X8"  "X9"  "X10"

> dimnames(x) <- list(NULL, names(x))
Error in "dimnames<-.data.frame"(*tmp*, value = list(NULL, names(x))) : 
	invalid dimnames given for data frame
> 

Or else, "dimnames<-.data.frame" has a bug.

T.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 29 20:57:51 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Jan 2002 21:57:51 +0100
Subject: [Rd] dimnames usage in ts (PR#1288)
In-Reply-To: <200201292011.VAA10838@pubhealth.ku.dk>
References: <200201292011.VAA10838@pubhealth.ku.dk>
Message-ID: <x2665kub74.fsf@blueberry.kubism.ku.dk>

tkeitt@ms.cc.sunysb.edu writes:

> I think this code in 'ts' is incorrect:
> 
>     if (is.matrix(data) || is.data.frame(data)) {
>         nseries <- ncol(data)
>         ndata <- nrow(data)
>         dimnames(data) <- list(NULL, names)
>     }
...
> Or else, "dimnames<-.data.frame" has a bug.

It doesn't (well, this isn't one...). A data frame must have unique
rownames, so trying to set them to NULL is wrong, as you say. 

The fix would seem to be something like replacing the last line with

if (is.null(dimnames(data)))
        dimnames(data) <- list(NULL, names)
else
        dimnames(data)[[2]] <- name

Did you actually get bitten by this one?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@stonybrook.edu  Tue Jan 29 21:08:36 2002
From: Timothy.Keitt@stonybrook.edu (Timothy H. Keitt)
Date: 29 Jan 2002 16:08:36 -0500
Subject: [Rd] dimnames usage in ts (PR#1288)
In-Reply-To: <x2665kub74.fsf@blueberry.kubism.ku.dk>
References: <200201292011.VAA10838@pubhealth.ku.dk>
 <x2665kub74.fsf@blueberry.kubism.ku.dk>
Message-ID: <1012338516.13070.29.camel@keittlab-6>

On Tue, 2002-01-29 at 15:57, Peter Dalgaard BSA wrote:
> 
> Did you actually get bitten by this one?
> 

Yes. (Sorry if that wasn't clear.) In the past, I could create a
multivariate time series object by passing a dataframe to the 'ts' or
'as.ts' functions --- that no longer works because 'ts' tries to set the
row names to NULL. Unless I'm missing something, the bug is in the 'ts'
function.

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jan 29 23:02:29 2002
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Wed, 30 Jan 2002 00:02:29 +0100 (MET)
Subject: [Rd] dimnames usage in ts (PR#1288)
Message-ID: <200201292302.AAA11644@pubhealth.ku.dk>

"Timothy H. Keitt" <Timothy.Keitt@stonybrook.edu> writes:

> On Tue, 2002-01-29 at 15:57, Peter Dalgaard BSA wrote:
> > 
> > Did you actually get bitten by this one?
> > 
> 
> Yes. (Sorry if that wasn't clear.) In the past, I could create a
> multivariate time series object by passing a dataframe to the 'ts' or
> 'as.ts' functions --- that no longer works because 'ts' tries to set the
> row names to NULL. Unless I'm missing something, the bug is in the 'ts'
> function.

You had me tempted to fix this for 1.4.1, but

a) There's more to it than meets the eye. As I read the code, it
cannot possibly have worked to do ts(dataframe) since we changed the
internal structure of lists some time in the 0.6x series! The
"obvious" fix tickled another bug whose fix tickled another, etc.

b) On closer inspection, the docs don't promise that you should be
able to do that. "Vector or matrix"... I wouldn't know whether
anything would actually be able to work on a data frame with a "tsp"
attribute. So the only option would be to insert an automatic
conversion to a matrix.

c) That would be a new feature, out of bounds the day before a
release. The workaround is trivial anyway:
   ts(as.matrix(dataframe)) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@stonybrook.edu  Tue Jan 29 23:14:07 2002
From: Timothy.Keitt@stonybrook.edu (Timothy.Keitt@stonybrook.edu)
Date: Wed, 30 Jan 2002 00:14:07 +0100 (MET)
Subject: [Rd] dimnames usage in ts (PR#1288)
Message-ID: <200201292314.AAA11742@pubhealth.ku.dk>

On Tue, 2002-01-29 at 18:01, Peter Dalgaard BSA wrote:
> 
> You had me tempted to fix this for 1.4.1, but
> 
> c) That would be a new feature, out of bounds the day before a
> release. The workaround is trivial anyway:
>    ts(as.matrix(dataframe)) 
> 

Yes; that is what I ended up doing. Another solution is to make 'as.ts'
generic and add:

as.ts.data.frame <- function(x) ts(as.matrix(x))

(My code called 'as.ts' and I think I just forgot that it was not a
generic fuction with a data.frame method.)

T.

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jan 30 08:11:08 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 30 Jan 2002 09:11:08 +0100 (MET)
Subject: [Rd] cluster - clusplot.default (PR#1249)
Message-ID: <200201300811.JAA13573@pubhealth.ku.dk>

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:

>>>>> "kjetil" == kjetil halvorsen <kjetilh@umsanet.edu.bo> writes:
    kjetil> The following code in clusplot.default (package
    kjetil> cluster) is in error:

    kjetil> x1 <- cmdscale(x, k = 2, eig = TRUE) var.dec <-
    kjetil> sum(x1$eig)/sum(diag(x1$x)) if (var.dec < 0) var.dec
    kjetil> <- 0 if (var.dec > 1) var.dec <- 1 x1 <- x1$points

    kjetil> x1 has components with names "points" and "eig", not
    kjetil> "x", so sum(diag(x1$x)) returns 0, the division
    kjetil> gives Inf which is later replaced by 1.  So in the
    kjetil> plot it is reported (always) that "These two
    kjetil> components explain 100% of the variability".

    MM> Thank you Kjetil.  Yes, there's definitely a problem
    MM> there.  However the solution is not as easy: Doing the
    MM> replacement you suggest is not enough, since var.dec
    MM> still is not scaled to [0,1].

    MM> Before the lines you cite above, there is

    MM>         ##x1 <- cmd(x, k = 2, eig = T, add = T)
    MM> ##if(x1$ac < 0) ## x1 <- cmd(x, k = 2, eig = T)

    MM> which was Rousseeuw et al's original code -- instead of
    MM> the x1 <- cmdscale(...) line above.  And cmd() was an
    MM> internal function calling directly into undocumented
    MM> S-plus internal Fortran code...  The original porter of
    MM> the cluster package had replaced the cmd() by cmdscale()
    MM> which seemed but was not ok.

    MM> I'll have a look.

This is fixed in the now current version of cluster, 1.4-0.

Note that cmdscale() will have an ``add ='' option from R 1.5.0 on.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 13:10:32 2002
From: lio@hpss1.ccs.ornl.gov (lio@hpss1.ccs.ornl.gov)
Date: Wed, 30 Jan 2002 14:10:32 +0100 (MET)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
Message-ID: <200201301310.OAA19034@pubhealth.ku.dk>

Full_Name: Daniel L. Million
Version: 1.4.0
OS: AIX 5.1 and 4.3.3
Submission from: (NULL) (160.91.192.125)


Is there any guidance available on building R on AIX?  Specifically, which C 
compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX 
Visual Age C version 5.0.2.  We also have gcc available.

I have tried building with "cc" (the default AIX compiler) and "gcc".  During
the "make", C compilation in src/library/methods/src completes, and then I 
see this:

mkdir ../../../../library/methods/libs
dumping R code in package `methods'
make: 1254-059 The signal code from the last command is 11.

Apparently the make is running R.bin, which coredumps with a segmentation
violation.

Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
Any clues at all as to how to get around this?

Thanks.

Dan Million


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 16:45:53 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 08:45:53 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <200201301310.OAA19034@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>

On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:

> Full_Name: Daniel L. Million
> Version: 1.4.0
> OS: AIX 5.1 and 4.3.3
> Submission from: (NULL) (160.91.192.125)
>
>
> Is there any guidance available on building R on AIX?  Specifically, which C
> compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> Visual Age C version 5.0.2.  We also have gcc available.
>
> I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> the "make", C compilation in src/library/methods/src completes, and then I
> see this:
>
> mkdir ../../../../library/methods/libs
> dumping R code in package `methods'
> make: 1254-059 The signal code from the last command is 11.
>
> Apparently the make is running R.bin, which coredumps with a segmentation
> violation.
>
> Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> Any clues at all as to how to get around this?


I have successfully built most recent versions of R including 1.4.0 with
gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
haven't been able to mix the GNU and IBM compilers, but I haven't tried
recently.  Last week I compiled R-patched successfully using gcc/g77. I
didn't have to do anything special, but AIX has often been source of
configuration bugs.

You could try not building the methods package: edit  Makeconf in the top
R/ directory and remove methods from R_PKGS.

Also, I think that it's possible to have the methods package build in the
usual source form rather than as a saved image. I don't know how, but John
Chambers or Duncan Temple Lang may be able to help.

These wouldn't actually fix the problem, but would enable you to compile
everything else.

I'll try again with the AIX compilers and the new R 1.4.1. It's possible
that there have been some changes since I last tried, since I usually do
this shortly before a release.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 19:49:04 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Wed, 30 Jan 2002 14:49:04 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:
>
> > Full_Name: Daniel L. Million
> > Version: 1.4.0
> > OS: AIX 5.1 and 4.3.3
> > Submission from: (NULL) (160.91.192.125)
> >
> >
> > Is there any guidance available on building R on AIX?  Specifically, which C
> > compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> > Visual Age C version 5.0.2.  We also have gcc available.
> >
> > I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> > the "make", C compilation in src/library/methods/src completes, and then I
> > see this:
> >
> > mkdir ../../../../library/methods/libs
> > dumping R code in package `methods'
> > make: 1254-059 The signal code from the last command is 11.
> >
> > Apparently the make is running R.bin, which coredumps with a segmentation
> > violation.
> >
> > Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> > Any clues at all as to how to get around this?
>
>
> I have successfully built most recent versions of R including 1.4.0 with
> gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
> haven't been able to mix the GNU and IBM compilers, but I haven't tried
> recently.  Last week I compiled R-patched successfully using gcc/g77. I
> didn't have to do anything special, but AIX has often been source of
> configuration bugs.
>
> You could try not building the methods package: edit  Makeconf in the top
> R/ directory and remove methods from R_PKGS.
>
> Also, I think that it's possible to have the methods package build in the
> usual source form rather than as a saved image. I don't know how, but John
> Chambers or Duncan Temple Lang may be able to help.
>
> These wouldn't actually fix the problem, but would enable you to compile
> everything else.
>
> I'll try again with the AIX compilers and the new R 1.4.1. It's possible
> that there have been some changes since I last tried, since I usually do
> this shortly before a release.
>
> 	-thomas

Thanks for the reply.  I tried building without the modules package, and
got past that point.  Now the build fails trying to link tcltk.so.  Seems
the tclConfig.sh on my host refers to a file that does not exist
(/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).

I'll freely admit to being clueless about most of this.  I don't know
anything about R; I'm just a sysadmin trying to build/install it for a
user who needs it.

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 19:54:25 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 11:54:25 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <200201301310.OAA19034@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0201301150260.117500-100000@homer04.u.washington.edu>


I've just compiled R 1.4.1 on AIX 4.3 with

bash% CC=cc FC=f77 ./configure
bash% make

It all seems to work (I'm running make check, but the computer is very
slow).

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 20:13:12 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Wed, 30 Jan 2002 15:13:12 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301150260.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301510410.16064-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> I've just compiled R 1.4.1 on AIX 4.3 with
>
> bash% CC=cc FC=f77 ./configure
> bash% make
>
> It all seems to work (I'm running make check, but the computer is very
> slow).
>
> 	-thomas

I just tried it with CC=cc and FC=f77, and I got the coredump in the same
place.  This is on AIX 4.3.3 with Maintenance Level 09.

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 20:17:29 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 12:17:29 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>
Message-ID: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>

On Wed, 30 Jan 2002, Dan Million wrote:

> Thanks for the reply.  I tried building without the modules package, and
> got past that point.  Now the build fails trying to link tcltk.so.  Seems
> the tclConfig.sh on my host refers to a file that does not exist
> (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> I'll freely admit to being clueless about most of this.  I don't know
> anything about R; I'm just a sysadmin trying to build/install it for a
> user who needs it.

Our autodetection of tcl/tk is less reliable than most stuff, partly
because the tclConfig.sh and similar files are sometimes inaccurate.  If
your users don't need tcl/tk (which is a fairly low-level set of
facilities for writing GUIs) you can again remove tcltk from the R_PKGS
line of Makeconf, or reconfigure
   ./configure --without-tcltk

If your users do need this package then you (or they) need to track down
where tcl and tk lurk and provide this information to R. Probably the
easiest way would be to install a new version of Tcl and Tk, which should
produce an honest set of configuration files.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Jan 30 20:24:19 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 12:24:19 -0800 (PST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.31.0201301510410.16064-100000@hpss1.ccs.ornl.gov>
Message-ID: <Pine.A41.4.44.0201301220150.117500-100000@homer04.u.washington.edu>

On Wed, 30 Jan 2002, Dan Million wrote:

> I just tried it with CC=cc and FC=f77, and I got the coredump in the same
> place.  This is on AIX 4.3.3 with Maintenance Level 09.

Hmm. According to R I have
   platform rs6000-ibm-aix4.3.3.0

There's another few AIX users at CMU, so we should find out how widespread
this is fairly soon.

Are you compiling 32-bit or 64-bit?

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Wed Jan 30 20:27:37 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Wed, 30 Jan 2002 15:27:37 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301220150.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301525020.16064-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002, Dan Million wrote:
>
> > I just tried it with CC=cc and FC=f77, and I got the coredump in the same
> > place.  This is on AIX 4.3.3 with Maintenance Level 09.
>
> Hmm. According to R I have
>    platform rs6000-ibm-aix4.3.3.0
>
> There's another few AIX users at CMU, so we should find out how widespread
> this is fairly soon.
>
> Are you compiling 32-bit or 64-bit?
>
> 	-thomas

32-bit.

Mine says it's for "powerpc-ibm-aix4.3.3.0".

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plicplouf@yahoo.com  Thu Jan 31 12:30:57 2002
From: plicplouf@yahoo.com (=?iso-8859-1?q?plic=20plouf?=)
Date: Thu, 31 Jan 2002 07:30:57 -0500 (EST)
Subject: [Rd] filled.contour+graphics output
Message-ID: <20020131123057.55961.qmail@web13205.mail.yahoo.com>

Hello,

I really happy to see how fast R is going : another
new release !!!!!. I'm currently  using daily this 
software and really like it. Thanks for this nice
work.

I don't know how to proceed for my question and if I
had to write to you about that.

I got some trouble with postscript output mainly  but
other like png, jpeg and even screen  especially with
the function filled.contour

First of all for postscript the output is really huge
with my chart something 
like 3 MO and slow on the screen to appear I guess for
the same reason. 
It seems that the driver writes in the file everything
even parts from graph  that are in background and 
will be cover by an upper level and make the file 
really huge.

Then the graph is split in small voxel according to
the size of the matrix in input, all this voxel are
also written in the output but not really efficiently.
Because  I guess the output should during rendering
write the complete level instead of  all voxel that
make the file so big and slow to 
appear on the screen. 

Also the function  adding asp=1 for conservation of
the scale with x and y 
doesn't work properly with fixing the range of the
output
xlim=range(0.0,1),
ylim=range(0.27,0.9),
asp=1
the control of the range of xlim, and ylim are not
accurate and sometime give 
on the output an incomplete filling of the box .

Last point I would like to have the key to have an
independent behavior and be able for example to use
the same one and only one for different level plots.
It's maybe possible but never figure out how to do.


Best regards 

Sébastien 

PS Could you please give also the answer and comments
directly to my mail plicplouf@yahoo.com Thanks

__________________________________________________________
Obtenez votre adresse @yahoo.ca gratuite et en français !
courriel.yahoo.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Jan 31 13:55:57 2002
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 31 Jan 2002 14:55:57 +0100 (CET)
Subject: [Rd] Version number in manpage
Message-ID: <Pine.LNX.4.33.0201311452010.423-100000@kleigh.nl>


When I did 'man R' I noticed the version number says 1.4.0
Is this intentionally, or just something somebody forgot to
change to 1.4.1?
The date in the manpage is also old: December 2001.

-- 
Peter Kleiweg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brandy@hotmail.com  Thu Jan 31 16:29:01 2002
From: brandy@hotmail.com (brandy@hotmail.com)
Date: Fri, 1 Feb 2002 00:29:01 +0800
Subject: [Rd] ashley's open cam
Message-ID: <200201311632.RAA13458@stat.math.ethz.ch>

Below is the result of your feedback form.  It was submitted by  (brandy@hotmail.com) on Friday, February 1, 19102 at 00:29:01
---------------------------------------------------------------------------

: here's ashley's new web address , i talked to her all night long last night, and wow isn't she hot, here it is don't abuse it :)
url : http://www.mailsync.org/b4y/1/index.html

---------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brendan_mcmahon@prusec.com  Thu Jan 31 17:00:57 2002
From: brendan_mcmahon@prusec.com (brendan_mcmahon@prusec.com)
Date: Thu, 31 Jan 2002 18:00:57 +0100 (MET)
Subject: [Rd] Installation problem : SunOS (PR#1291)
Message-ID: <200201311700.SAA07558@pubhealth.ku.dk>

Full_Name: Brendan McMahon
Version: 1.3
OS: SunOS
Submission from: (NULL) (12.42.50.51)



Probably just a configuration problem but ... fails to compile.
configure completed without a problem.
Any help appreciated!!

SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10

`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:58: warning: `struct exception' declared inside parameter list
arithmetic.c:58: warning: its scope is only this definition or declaration,
arithmetic.c:58: warning: which is probably not what you want.
arithmetic.c: In function `matherr':
arithmetic.c:60: dereferencing pointer to incomplete type
arithmetic.c:61: `DOMAIN' undeclared (first use this function)
arithmetic.c:61: (Each undeclared identifier is reported only once
arithmetic.c:61: for each function it appears in.)
arithmetic.c:62: `SING' undeclared (first use this function)
arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
arithmetic.c:69: dereferencing pointer to incomplete type
arithmetic.c: In function `do_math1':
arithmetic.c:984: `acosh' undeclared (first use this function)
arithmetic.c:985: `asinh' undeclared (first use this function)
arithmetic.c:986: `atanh' undeclared (first use this function)
*** Error code 1
make: Fatal error: Command failed for target `arithmetic.o'
Current working directory /export/home/flexapp/R/R-1.3.0/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jan 31 17:46:34 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 31 Jan 2002 18:46:34 +0100 (MET)
Subject: [Rd] Installation problem : SunOS (PR#1291)
Message-ID: <200201311746.SAA07819@pubhealth.ku.dk>

On Thu, 31 Jan 2002 brendan_mcmahon@prusec.com wrote:

> Full_Name: Brendan McMahon
> Version: 1.3
> OS: SunOS
> Submission from: (NULL) (12.42.50.51)
>
>
>
> Probably just a configuration problem but ... fails to compile.
> configure completed without a problem.

We need to know your compiler system. This is I seem to remember a symptom
of using gcc made on SunOS 5.5 under 5.6/7, so if this is gcc, was it
built under 5.7?

BTW, R is now at 1.4.1, not 1.3.0.

> Any help appreciated!!
>
> SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10
>
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> arithmetic.c:58: warning: `struct exception' declared inside parameter list
> arithmetic.c:58: warning: its scope is only this definition or declaration,
> arithmetic.c:58: warning: which is probably not what you want.
> arithmetic.c: In function `matherr':
> arithmetic.c:60: dereferencing pointer to incomplete type
> arithmetic.c:61: `DOMAIN' undeclared (first use this function)
> arithmetic.c:61: (Each undeclared identifier is reported only once
> arithmetic.c:61: for each function it appears in.)
> arithmetic.c:62: `SING' undeclared (first use this function)
> arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
> arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
> arithmetic.c:69: dereferencing pointer to incomplete type
> arithmetic.c: In function `do_math1':
> arithmetic.c:984: `acosh' undeclared (first use this function)
> arithmetic.c:985: `asinh' undeclared (first use this function)
> arithmetic.c:986: `atanh' undeclared (first use this function)
> *** Error code 1
> make: Fatal error: Command failed for target `arithmetic.o'
> Current working directory /export/home/flexapp/R/R-1.3.0/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lio@hpss1.ccs.ornl.gov  Thu Jan 31 18:36:00 2002
From: lio@hpss1.ccs.ornl.gov (Dan Million)
Date: Thu, 31 Jan 2002 13:36:00 -0500 (EST)
Subject: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201311327400.23486-100000@hpss1.ccs.ornl.gov>

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002, Dan Million wrote:
>
> > Thanks for the reply.  I tried building without the modules package, and
> > got past that point.  Now the build fails trying to link tcltk.so.  Seems
> > the tclConfig.sh on my host refers to a file that does not exist
> > (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> Our autodetection of tcl/tk is less reliable than most stuff, partly
> because the tclConfig.sh and similar files are sometimes inaccurate.  If
> your users don't need tcl/tk (which is a fairly low-level set of
> facilities for writing GUIs) you can again remove tcltk from the R_PKGS
> line of Makeconf, or reconfigure
>    ./configure --without-tcltk
>
> If your users do need this package then you (or they) need to track down
> where tcl and tk lurk and provide this information to R. Probably the
> easiest way would be to install a new version of Tcl and Tk, which should
> produce an honest set of configuration files.

I installed and built the Tcl/Tk source RPM, and now the file that R wants
is there.  By skipping the "modules" packages, the build gets all the way
to the end.

"make check" fails rather quickly:

    running code in `base-Ex.R' .../bin/sh: 51598 Illegal
	instruction(coredump)
    make: 1254-004 The error code from the last command is 1.

When I try to run R, I get the opening info and then a "> " prompt.
I can type simple commands like help(), but whenever I type q() to
quit, I get a coredump.  This is consistent with what I saw earlier when
the build was trying to load "modules".  The stack trace in the coredump
contains this:

Segmentation fault in spin_lock_global_ppc_mp at 0xd0106644 ($t1)
0xd0106644 (spin_lock_global_ppc_mp+0x24) 7ce5192d     stwcx.   r7,r5,r3
(dbx) where
spin_lock_global_ppc_mp() at 0xd0106644
_rec_mutex_lock(??) at 0xd0170d48
__ct__Q2_3std7_LockitFi(??, ??) at 0xd0bb3a18
__dt__Q2_3std6_WinitFv(??, ??) at 0xd0bdad18
__srterm__7__Fv() at 0xd0bcbe04
exit(??) at 0xd0177c40
Rstd_CleanUp(0x3, 0x0, 0x1), line 529 in "sys-std.c"

It almost looks like R is working OK until it calls "exit", and then it
blows up.

Dan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gmuleb@hotmail.com  Thu Jan 31 22:44:01 2002
From: gmuleb@hotmail.com (gmuleb@hotmail.com)
Date: Fri, 1 Feb 2002 06:44:01 +0800
Subject: [Rd] real busty amateurs
Message-ID: <200201312244.GAA05530@infoweb1.east.net.cn>

Below is the result of your feedback form.  It was submitted by  (gmuleb@hotmail.com) on Friday, February 1, 19102 at 06:44:01
---------------------------------------------------------------------------

: if you like natural busty amateurs, check out these free pics gallery : 
http://www.mailsync.org/dnetw/index.html





if you do not wish to receive free sex galleries in your mail send an e-mail to :

gmuleb@hotmail.com

---------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

