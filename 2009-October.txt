From zong-pei.han at imm.ox.ac.uk  Thu Oct  1 12:21:05 2009
From: zong-pei.han at imm.ox.ac.uk (zong-pei.han at imm.ox.ac.uk)
Date: Thu, 1 Oct 2009 11:21:05 +0100 (BST)
Subject: [Rd] Installation problem from R 2.8.x
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D70001E5F4AF@NA-PA-VBE03.na.tibco.com>
References: <Pine.LNX.4.64.0909301726210.17114@raven.linux.ox.ac.uk>
	<4AC38BDF.6010308@statistik.tu-dortmund.de>
	<77EB52C6DD32BA4D87471DCD70C8D70001E5F4AF@NA-PA-VBE03.na.tibco.com>
Message-ID: <Pine.LNX.4.64.0910011049050.15444@raven.linux.ox.ac.uk>

True, /tmp is noexec and this is generally a good practice 
for system security. Okay, I'll define TMPDIR=$HOME/tmp 
for the R package admin on our systems.

I think it'd be good if R developers could consider to add
something like:

If $TMPDIR is not executable, then EITHER 
  "error message"
OR 
  "mkdir $HOME/tmp; chmod u+x $HOME/tmp; 
  TMPDIR=$HOME/tmp; export TMPDIR"

in src/library/tools/R/install.R or wherever you seem to
fit.

Regards,

Zong-Pei


On Wed, 30 Sep 2009, William Dunlap wrote:
Date: Wed, 30 Sep 2009 10:30:32 -0700
From: William Dunlap <wdunlap at tibco.com>
To: Uwe Ligges <ligges at statistik.tu-dortmund.de>, zong-pei.han at imm.ox.ac.uk
Cc: r-devel at r-project.org
Subject: RE: [Rd] Installation problem from R 2.8.x

In September 2009 Matias Silva reported a execution permission
problem during a package installation (look in the r-devel archives
for ' [Rd] Installing rJava RJDBC bad interpreter: Permission denied').
It was due to the fstab file marking /tmp as noexec, hence nothing
in /tmp was executable, regardless of its file mode.  Since the package
was copied to /tmp before compilation he ran into the problem.
I think he worked around it by setting TMPDIR=/var/tmp, where /var/tmp
did not have this restriction, before doing the install.  His error
message was different but you might be having a similar problem.

Bill Dunlap
TIBCO Software Inc - Spotfire Division
wdunlap tibco.com  

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Uwe Ligges
> Sent: Wednesday, September 30, 2009 9:49 AM
> To: zong-pei.han at imm.ox.ac.uk
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] Installation problem from R 2.8.x
> 
> What you call a bug in R has never been reported since R-2.8.0 was 
> recent. Hence I guess it is a permission issue on your system.
> Or do you think nobody else tried to install a package during 
> the last 
> 12 months?
> 
> Uwe Ligges
> 
> 
> zong-pei.han at imm.ox.ac.uk wrote:
> > Dear Developers,
> > 
> > Since 2.8, R installation has got a bug in it such
> > that if a package has a "configure" file then it
> > cannot be installed without modification.
> > 
> > For example:
> > 
> > * Installing *source* package 'foreign' ...
> > ERROR: 'configure' exists but is not executable --
> > see the 'R Installation and Adminstration Manual'
> > * Removing '/usr/local/source_code/Linux/R/R-2.9.2/library/foreign'
> > make[2]: *** [foreign.ts] Error 1
> > 
> > In fact, 'configure' is executable!!! So I have to manually
> > run 'configure', remove 'configure', and then repackage
> > foreign_0.8-37.tar.gz so it can be installed.
> > 
> > This bug makes it very time consuming to add any package
> > which has a 'configure' in it. And the bug seems to be
> > in  src/library/tools/R/install.R
> > 
> > Regards,
> > 
> > Dr Zong-Pei Han
> > UNIX Systems Administrator
> > Computational Biology Research Group
> > University of Oxford
> > http://www.cbrg.ox.ac.uk/
> > 
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From zong-pei.han at imm.ox.ac.uk  Thu Oct  1 12:32:09 2009
From: zong-pei.han at imm.ox.ac.uk (zong-pei.han at imm.ox.ac.uk)
Date: Thu, 1 Oct 2009 11:32:09 +0100 (BST)
Subject: [Rd] Dependency 'sma' is not available
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D70001E5F4AF@NA-PA-VBE03.na.tibco.com>
References: <Pine.LNX.4.64.0909301726210.17114@raven.linux.ox.ac.uk>
	<4AC38BDF.6010308@statistik.tu-dortmund.de>
	<77EB52C6DD32BA4D87471DCD70C8D70001E5F4AF@NA-PA-VBE03.na.tibco.com>
Message-ID: <Pine.LNX.4.64.0910011128090.15444@raven.linux.ox.ac.uk>

So packages like beadarray and arrayQualityMetrics
cannot be installed.


From mtmorgan at fhcrc.org  Thu Oct  1 13:54:51 2009
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Thu, 01 Oct 2009 04:54:51 -0700
Subject: [Rd] Dependency 'sma' is not available
In-Reply-To: <Pine.LNX.4.64.0910011128090.15444@raven.linux.ox.ac.uk>
References: <Pine.LNX.4.64.0909301726210.17114@raven.linux.ox.ac.uk>	<4AC38BDF.6010308@statistik.tu-dortmund.de>	<77EB52C6DD32BA4D87471DCD70C8D70001E5F4AF@NA-PA-VBE03.na.tibco.com>
	<Pine.LNX.4.64.0910011128090.15444@raven.linux.ox.ac.uk>
Message-ID: <4AC4988B.9030302@fhcrc.org>

zong-pei.han at imm.ox.ac.uk wrote:
> So packages like beadarray and arrayQualityMetrics
> cannot be installed.

The sma author no longer wishes to maintain this package. The packges
beadarray and arrayQualityMetrics are Bioconductor packages that depend
on sma indirectly through other packages. The other packages are being
revised to no longer depend on sma, but this has not yet been completed.
The workaround is to manually install sma from its archive: download

  http://cran.fhcrc.org/src/contrib/Archive/sma/sma_0.5.15.tar.gz

and install.packages("sma_0.5.15.tar.gz", repos=NULL).

beadarray and arrayQualityMetrics are Bioconductor packages, so please
follow up on the Bioconductor mailing list

  http://bioconductor.org/docs/mailList.html

Martin



> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M1 B861
Phone: (206) 667-2793


From martin.becker at mx.uni-saarland.de  Thu Oct  1 17:33:45 2009
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Thu, 01 Oct 2009 17:33:45 +0200
Subject: [Rd] creating environments in package's C code
Message-ID: <4AC4CBD9.7010309@mx.uni-saarland.de>

Dear developers,

is it possible to create environments in C code of packages?
Simply using
  SEXP env;
  PROTECT (env  = allocSExp(ENVSXP));
and assigning the enclosing environment with SET_ENCLOS seems to be 
insufficient.

Best wishes,

  Martin

-- 
Dr. Martin Becker
Statistics and Econometrics
Saarland University
Campus C3 1, Room 206
66123 Saarbruecken
Germany


From jeff.horner at vanderbilt.edu  Thu Oct  1 18:07:33 2009
From: jeff.horner at vanderbilt.edu (Jeff Horner)
Date: Thu, 01 Oct 2009 11:07:33 -0500
Subject: [Rd] creating environments in package's C code
In-Reply-To: <4AC4CBD9.7010309@mx.uni-saarland.de>
References: <4AC4CBD9.7010309@mx.uni-saarland.de>
Message-ID: <4AC4D3C5.7090609@vanderbilt.edu>

Martin Becker wrote:
> Dear developers,
> 
> is it possible to create environments in C code of packages?
> Simply using
>  SEXP env;
>  PROTECT (env  = allocSExp(ENVSXP));
> and assigning the enclosing environment with SET_ENCLOS seems to be 
> insufficient.
> 
> Best wishes,

Here's a function I use in rapache to create one:

static SEXP NewEnv(SEXP enclos){
     SEXP env;
     PROTECT(env = allocSExp(ENVSXP));

     SET_FRAME(env, R_NilValue);
     SET_ENCLOS(env, (enclos)? enclos: R_GlobalEnv);
     SET_HASHTAB(env, R_NilValue);
     SET_ATTRIB(env, R_NilValue);

     UNPROTECT(1);

     return env;
}


and an example that creates a new environment and then assigns a 
variable named OK an integer vector length 1 with value 0:

SEXP env = NewEnv(R_GlobalEnv);
defineVar(install("OK"),NewInteger(0),env);

Best

Jeff


From simon.urbanek at r-project.org  Thu Oct  1 18:11:36 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 1 Oct 2009 12:11:36 -0400
Subject: [Rd] creating environments in package's C code
In-Reply-To: <4AC4CBD9.7010309@mx.uni-saarland.de>
References: <4AC4CBD9.7010309@mx.uni-saarland.de>
Message-ID: <05B9BFD2-92DF-4D64-854F-ECBBAF7A0B34@r-project.org>


On Oct 1, 2009, at 11:33 , Martin Becker wrote:

> Dear developers,
>
> is it possible to create environments in C code of packages?
> Simply using
> SEXP env;
> PROTECT (env  = allocSExp(ENVSXP));
> and assigning the enclosing environment with SET_ENCLOS seems to be  
> insufficient.
>

Rf_NewEnvironment is the function that does it, e.g.,
Rf_NewEnvironment(R_NilValue, R_NilValue, parent)
it's not part of the official API (headers) but it is visible.
For hashed environments it's R_NewHashedEnv().

Cheers,
Simon


From jeff.horner at vanderbilt.edu  Thu Oct  1 18:37:28 2009
From: jeff.horner at vanderbilt.edu (Jeff Horner)
Date: Thu, 01 Oct 2009 11:37:28 -0500
Subject: [Rd] creating environments in package's C code
In-Reply-To: <4AC4D3C5.7090609@vanderbilt.edu>
References: <4AC4CBD9.7010309@mx.uni-saarland.de>
	<4AC4D3C5.7090609@vanderbilt.edu>
Message-ID: <4AC4DAC8.6010107@vanderbilt.edu>

Jeff Horner wrote:
> Martin Becker wrote:
>> Dear developers,
>>
>> is it possible to create environments in C code of packages?
>> Simply using
>>  SEXP env;
>>  PROTECT (env  = allocSExp(ENVSXP));
>> and assigning the enclosing environment with SET_ENCLOS seems to be 
>> insufficient.
>>
>> Best wishes,
> 
> Here's a function I use in rapache to create one:
> 
> static SEXP NewEnv(SEXP enclos){
>     SEXP env;
>     PROTECT(env = allocSExp(ENVSXP));
> 
>     SET_FRAME(env, R_NilValue);
>     SET_ENCLOS(env, (enclos)? enclos: R_GlobalEnv);
>     SET_HASHTAB(env, R_NilValue);
>     SET_ATTRIB(env, R_NilValue);
> 
>     UNPROTECT(1);
> 
>     return env;
> }

Oops! I forgot the definition of my simple function NewInteger:

static SEXP NewInteger(int i){
     SEXP val;
     PROTECT(val = NEW_INTEGER(1));
     INTEGER_DATA(val)[0] = i;
     UNPROTECT(1);
     return val;
}

> 
> 
> and an example that creates a new environment and then assigns a 
> variable named OK an integer vector length 1 with value 0:
> 
> SEXP env = NewEnv(R_GlobalEnv);
> defineVar(install("OK"),NewInteger(0),env);
> 
> Best
> 
> Jeff
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Thu Oct  1 18:50:22 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 01 Oct 2009 12:50:22 -0400
Subject: [Rd] Rd.sty question: LaTeX expert needed
Message-ID: <4AC4DDCE.2000203@stats.uwo.ca>

The Rd.sty LaTeX package is used when building the R manuals, and by the 
  LaTeX pages produced from the man pages.

I have tracked down some problems G?bor Cs?rdi was having recently (see 
"Re: [R] preformatted and '#' in manual pages" in R-help) to a LaTeX 
problem, and am trying to work out how to fix it.

Specifically, the .Rd file he was using had a structure like

\dQuote{
   ...
   \preformatted{
     line 1
     line 2
   }
}

which tools::Rd2latex in R translates to the similar LaTeX code

\dQuote{
   ...
   \begin{alltt}
     line 1
     line 2
   \end{alltt}
}

The problem is that the alltt environment (which is a sort of verbatim 
environment, except macros are allowed) doesn't work when embedded like 
this in the \dQuote{} macro. G?bor was getting errors when his line 1 
contained a # symbol, and when I dealt with that, I found the formatting 
was getting messed up, and the section ended up being rendered as

line 1 line 2

  The \dQuote macro has a simple definition in Rd.sty as

\newcommand{\dQuote}[1]{``#1''}

so I expect the same error will happen with many other macros in Rd.sty.

So, my questions:  Is there a known workaround for this in alltt?

If not, I could skip the macro expansion of \dQuote by generating the 
quotes directly in Rd2latex, and most other macros could be handled 
similarly.  However, then nobody who uses Rd.sty would be able to 
redefine the look of those macros and have things display properly.

A third possibility is that we could make it illegal to nest 
\preformatted within other macros, but that seems to be an unfortunate 
limitation.

Any help would be appreciated.

Duncan Murdoch


From simon.urbanek at r-project.org  Thu Oct  1 18:51:19 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 1 Oct 2009 12:51:19 -0400
Subject: [Rd] creating environments in package's C code
In-Reply-To: <4AC4DAC8.6010107@vanderbilt.edu>
References: <4AC4CBD9.7010309@mx.uni-saarland.de>
	<4AC4D3C5.7090609@vanderbilt.edu> <4AC4DAC8.6010107@vanderbilt.edu>
Message-ID: <E04283F5-2542-4FE5-B7EE-A9D1F691C0B4@r-project.org>

Jeff,

On Oct 1, 2009, at 12:37 , Jeff Horner wrote:

> Jeff Horner wrote:
>> Martin Becker wrote:
>>> Dear developers,
>>>
>>> is it possible to create environments in C code of packages?
>>> Simply using
>>> SEXP env;
>>> PROTECT (env  = allocSExp(ENVSXP));
>>> and assigning the enclosing environment with SET_ENCLOS seems to  
>>> be insufficient.
>>>
>>> Best wishes,
>> Here's a function I use in rapache to create one:
>> static SEXP NewEnv(SEXP enclos){
>>    SEXP env;
>>    PROTECT(env = allocSExp(ENVSXP));
>>    SET_FRAME(env, R_NilValue);
>>    SET_ENCLOS(env, (enclos)? enclos: R_GlobalEnv);
>>    SET_HASHTAB(env, R_NilValue);
>>    SET_ATTRIB(env, R_NilValue);
>>    UNPROTECT(1);
>>    return env;
>> }
>

eek ... that some dangerous bit of code ;). I think Rf_NewEnviroment  
is safer even if it's not the headers :P.


> Oops! I forgot the definition of my simple function NewInteger:
>
> static SEXP NewInteger(int i){
>    SEXP val;
>    PROTECT(val = NEW_INTEGER(1));
>    INTEGER_DATA(val)[0] = i;
>    UNPROTECT(1);
>    return val;
> }

I suspect you like reinventing the wheel ;). Your NewInteger is part  
of the R API and is called ScalarInteger(). When you need something,  
chances are that R has it already, so it's worth greping through the  
headers (and sometimes even through the main sources).

Cheers,
Simon



>
>> and an example that creates a new environment and then assigns a  
>> variable named OK an integer vector length 1 with value 0:
>> SEXP env = NewEnv(R_GlobalEnv);
>> defineVar(install("OK"),NewInteger(0),env);
>> Best
>> Jeff
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From murdoch at stats.uwo.ca  Thu Oct  1 18:53:22 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 01 Oct 2009 12:53:22 -0400
Subject: [Rd] creating environments in package's C code
In-Reply-To: <4AC4DAC8.6010107@vanderbilt.edu>
References: <4AC4CBD9.7010309@mx.uni-saarland.de>	<4AC4D3C5.7090609@vanderbilt.edu>
	<4AC4DAC8.6010107@vanderbilt.edu>
Message-ID: <4AC4DE82.1060908@stats.uwo.ca>

On 10/1/2009 12:37 PM, Jeff Horner wrote:
> Jeff Horner wrote:
>> Martin Becker wrote:
>>> Dear developers,
>>>
>>> is it possible to create environments in C code of packages?
>>> Simply using
>>>  SEXP env;
>>>  PROTECT (env  = allocSExp(ENVSXP));
>>> and assigning the enclosing environment with SET_ENCLOS seems to be 
>>> insufficient.
>>>
>>> Best wishes,
>> 
>> Here's a function I use in rapache to create one:
>> 
>> static SEXP NewEnv(SEXP enclos){
>>     SEXP env;
>>     PROTECT(env = allocSExp(ENVSXP));
>> 
>>     SET_FRAME(env, R_NilValue);
>>     SET_ENCLOS(env, (enclos)? enclos: R_GlobalEnv);
>>     SET_HASHTAB(env, R_NilValue);
>>     SET_ATTRIB(env, R_NilValue);
>> 
>>     UNPROTECT(1);
>> 
>>     return env;
>> }
> 
> Oops! I forgot the definition of my simple function NewInteger:
> 
> static SEXP NewInteger(int i){
>      SEXP val;
>      PROTECT(val = NEW_INTEGER(1));
>      INTEGER_DATA(val)[0] = i;
>      UNPROTECT(1);
>      return val;
> }
> 
>> 
>> 
>> and an example that creates a new environment and then assigns a 
>> variable named OK an integer vector length 1 with value 0:
>> 
>> SEXP env = NewEnv(R_GlobalEnv);
>> defineVar(install("OK"),NewInteger(0),env);


One comment:  I would protect the env, because install() and 
NewInteger() could each trigger a garbage collection.  That is, use

SEXP env;
PROTECT(env = NewEnv(R_GlobalEnv));
defineVar(install("OK"),NewInteger(0),env);
UNPROTECT(1);

Duncan Murdoch


From saptarshi.guha at gmail.com  Thu Oct  1 20:26:50 2009
From: saptarshi.guha at gmail.com (Saptarshi Guha)
Date: Thu, 1 Oct 2009 14:26:50 -0400
Subject: [Rd] Value of SET_STRING_ELT() must be a 'CHARSXP' not a
	'character' & 'getEncChar' must be called on a CHARSXP
Message-ID: <A1976D4B-18D1-462B-B11C-AC957201EC73@gmail.com>

Hello,
I have list of 600K lists, each sublist a list of two elements, the  
first a character, the second a list of six named elements, some  
characters some numrics.
LISTA (600K) (:= h)
   |__ List of two elements
         |__ Character
         |__ Named List of 6 elements (characters and numerics)

This works,
sip <- lapply(h,function(r) r[[2]][['sip']])

but  I wish to unlist this

sip <- unlist(lapply(h,function(r) r[[2]][['sip']]))

and get the following error:
Value of SET_STRING_ELT() must be a 'CHARSXP' not a 'list'
Debugging to find which:

i<-1
sip <- unlist(lapply(h,function(r) {
   	i<<-i+1 #debug messages
	cat(i,"------------------>","\n"); print( r[[2]] ) #debug message
	r[[2]][['sip']]
}))

[1]Error in print.default(r[[2]]) : 'getEncChar' must be called on a  
CHARSXP


Which occurs on the 122,204'th item. All entries r[[2]] are similar so  
I don't know why this happening?
The strangest thing is that this error never happened a few days ago  
and the same  code causes this to occur today.


Any ideas would be helpful.
Regards
Saptarshi


From romain.francois at dbmail.com  Thu Oct  1 20:36:19 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Thu, 01 Oct 2009 20:36:19 +0200
Subject: [Rd] Rd.sty question: LaTeX expert needed
In-Reply-To: <4AC4DDCE.2000203@stats.uwo.ca>
References: <4AC4DDCE.2000203@stats.uwo.ca>
Message-ID: <4AC4F6A3.1050302@dbmail.com>

Hi,

I would not claim I'm a latex expert ...

In the highlight package, I also use alltt environments the latex 
renderer of syntax highlighted code, and I ended up masquarading a set 
of character (#, \, ...) into latex boxes and then use \usebox for these 
characters.

In this file :
http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/pkg/highlight/R/renderer.R?rev=168&root=highlight&view=markup

The functions boxes_latex and translator_latex might interest you. The 
list of boxed characters might not be complete.

Hope this helps,

Romain

On 10/01/2009 06:50 PM, Duncan Murdoch wrote:
> The Rd.sty LaTeX package is used when building the R manuals, and by the
> LaTeX pages produced from the man pages.
>
> I have tracked down some problems G?bor Cs?rdi was having recently (see
> "Re: [R] preformatted and '#' in manual pages" in R-help) to a LaTeX
> problem, and am trying to work out how to fix it.
>
> Specifically, the .Rd file he was using had a structure like
>
> \dQuote{
> ...
> \preformatted{
> line 1
> line 2
> }
> }
>
> which tools::Rd2latex in R translates to the similar LaTeX code
>
> \dQuote{
> ...
> \begin{alltt}
> line 1
> line 2
> \end{alltt}
> }
>
> The problem is that the alltt environment (which is a sort of verbatim
> environment, except macros are allowed) doesn't work when embedded like
> this in the \dQuote{} macro. G?bor was getting errors when his line 1
> contained a # symbol, and when I dealt with that, I found the formatting
> was getting messed up, and the section ended up being rendered as
>
> line 1 line 2
>
> The \dQuote macro has a simple definition in Rd.sty as
>
> \newcommand{\dQuote}[1]{``#1''}
>
> so I expect the same error will happen with many other macros in Rd.sty.
>
> So, my questions: Is there a known workaround for this in alltt?
>
> If not, I could skip the macro expansion of \dQuote by generating the
> quotes directly in Rd2latex, and most other macros could be handled
> similarly. However, then nobody who uses Rd.sty would be able to
> redefine the look of those macros and have things display properly.
>
> A third possibility is that we could make it illegal to nest
> \preformatted within other macros, but that seems to be an unfortunate
> limitation.
>
> Any help would be appreciated.
>
> Duncan Murdoch


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
|- http://tr.im/yw8E : New R package : sos
`- http://tr.im/y8y0 : search the graph gallery from R


From csardi at rmki.kfki.hu  Thu Oct  1 20:57:03 2009
From: csardi at rmki.kfki.hu (=?ISO-8859-1?B?R+Fib3IgQ3PhcmRp?=)
Date: Thu, 1 Oct 2009 20:57:03 +0200
Subject: [Rd] Rd.sty question: LaTeX expert needed
In-Reply-To: <4AC4DDCE.2000203@stats.uwo.ca>
References: <4AC4DDCE.2000203@stats.uwo.ca>
Message-ID: <d70c15d40910011157q5aa9c0bdtd65749f2efd10ed7@mail.gmail.com>

On Thu, Oct 1, 2009 at 6:50 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
[...]
> \dQuote{
> ?...
> ?\preformatted{
> ? ?line 1
> ? ?line 2
> ?}
> }
>
[...]

Oh, there was a dQuote as well, I must be an idiot for not noticing
it. :( Anyway, for me, I will just remove the dQuote and everything
will be fine. Sorry, this is not a solution for the more general
problem....

Thanks for your help,
Gabor

-- 
Gabor Csardi <Gabor.Csardi at unil.ch>     UNIL DGM


From jeff.horner at vanderbilt.edu  Thu Oct  1 21:19:33 2009
From: jeff.horner at vanderbilt.edu (Jeff Horner)
Date: Thu, 01 Oct 2009 14:19:33 -0500
Subject: [Rd] creating environments in package's C code
In-Reply-To: <E04283F5-2542-4FE5-B7EE-A9D1F691C0B4@r-project.org>
References: <4AC4CBD9.7010309@mx.uni-saarland.de>
	<4AC4D3C5.7090609@vanderbilt.edu> <4AC4DAC8.6010107@vanderbilt.edu>
	<E04283F5-2542-4FE5-B7EE-A9D1F691C0B4@r-project.org>
Message-ID: <4AC500C5.8060308@vanderbilt.edu>

Simon Urbanek wrote:
> Jeff,
> 
> On Oct 1, 2009, at 12:37 , Jeff Horner wrote:
> 
>> Jeff Horner wrote:
>>> Martin Becker wrote:
>>>> Dear developers,
>>>>
>>>> is it possible to create environments in C code of packages?
>>>> Simply using
>>>> SEXP env;
>>>> PROTECT (env  = allocSExp(ENVSXP));
>>>> and assigning the enclosing environment with SET_ENCLOS seems to be 
>>>> insufficient.
>>>>
>>>> Best wishes,
>>> Here's a function I use in rapache to create one:
>>> static SEXP NewEnv(SEXP enclos){
>>>    SEXP env;
>>>    PROTECT(env = allocSExp(ENVSXP));
>>>    SET_FRAME(env, R_NilValue);
>>>    SET_ENCLOS(env, (enclos)? enclos: R_GlobalEnv);
>>>    SET_HASHTAB(env, R_NilValue);
>>>    SET_ATTRIB(env, R_NilValue);
>>>    UNPROTECT(1);
>>>    return env;
>>> }
>>
> 
> eek ... that some dangerous bit of code ;). I think Rf_NewEnviroment is 
> safer even if it's not the headers :P.

Interesting. I know that I patterned that function after some grepping 
for ENVSXP, probably src/main/serialize.c's ReadItem() as it's similar. 
Plus I only used what was available from the public headers.

So, if Rf_NewEnviroment is the right way to do it then make it public ;P.

> 
> 
>> Oops! I forgot the definition of my simple function NewInteger:
>>
>> static SEXP NewInteger(int i){
>>    SEXP val;
>>    PROTECT(val = NEW_INTEGER(1));
>>    INTEGER_DATA(val)[0] = i;
>>    UNPROTECT(1);
>>    return val;
>> }
> 
> I suspect you like reinventing the wheel ;). Your NewInteger is part of 
> the R API and is called ScalarInteger(). When you need something, 
> chances are that R has it already, so it's worth greping through the 
> headers (and sometimes even through the main sources).

Yes, that I created NewInteger is a grave oversight on my part. It's 
been around since R's first release (if my svn log research was 
correct). Thanks. I'm putting it on rapache's TODO list to take it out.

Jeff

> 
> Cheers,
> Simon
> 
> 
> 
>>
>>> and an example that creates a new environment and then assigns a 
>>> variable named OK an integer vector length 1 with value 0:
>>> SEXP env = NewEnv(R_GlobalEnv);
>>> defineVar(install("OK"),NewInteger(0),env);
>>> Best
>>> Jeff
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>


From kwanous at cs.earlham.edu  Thu Oct  1 22:33:54 2009
From: kwanous at cs.earlham.edu (Kay Wanous)
Date: Thu, 01 Oct 2009 16:33:54 -0400
Subject: [Rd] X11 Problems
Message-ID: <4AC51232.9030808@cs.earlham.edu>

Hi all,

I'm having trouble getting x11 to work with R.  (This is on Debian 
testing.)  I installed r-base and r-base-dev, and then 
r-cran-cairodevice.  I also tried installing the Cairo package within R, 
which appears to work fine.

This what I'm seeing:

 > capabilities()
     jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets
     TRUE     TRUE     TRUE     TRUE    FALSE    FALSE     TRUE     TRUE
   libxml     fifo   cledit    iconv      NLS  profmem    cairo
     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE

 > x11()
Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma, 
d$colortype,  :
   unable to start device X11cairo
In addition: Warning message:
In x11() : unable to open connection to X11 display ''

Any help would be appreciated!

Thanks,
Kay


From simon.urbanek at r-project.org  Thu Oct  1 23:36:07 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 1 Oct 2009 17:36:07 -0400
Subject: [Rd] Value of SET_STRING_ELT() must be a 'CHARSXP' not a
	'character' & 'getEncChar' must be called on a CHARSXP
In-Reply-To: <A1976D4B-18D1-462B-B11C-AC957201EC73@gmail.com>
References: <A1976D4B-18D1-462B-B11C-AC957201EC73@gmail.com>
Message-ID: <D50DD870-D7D8-4040-896A-806C4BE7F8A9@r-project.org>

Saptarshi,

how did you create those lists? Can you send us the code? If not, can  
you put up the .RData file? Without a reproducible example this is  
hard to debug ...

Thanks,
Simon


On Oct 1, 2009, at 14:26 , Saptarshi Guha wrote:

> Hello,
> I have list of 600K lists, each sublist a list of two elements, the  
> first a character, the second a list of six named elements, some  
> characters some numrics.
> LISTA (600K) (:= h)
>  |__ List of two elements
>        |__ Character
>        |__ Named List of 6 elements (characters and numerics)
>
> This works,
> sip <- lapply(h,function(r) r[[2]][['sip']])
>
> but  I wish to unlist this
>
> sip <- unlist(lapply(h,function(r) r[[2]][['sip']]))
>
> and get the following error:
> Value of SET_STRING_ELT() must be a 'CHARSXP' not a 'list'
> Debugging to find which:
>
> i<-1
> sip <- unlist(lapply(h,function(r) {
>  	i<<-i+1 #debug messages
> 	cat(i,"------------------>","\n"); print( r[[2]] ) #debug message
> 	r[[2]][['sip']]
> }))
>
> [1]Error in print.default(r[[2]]) : 'getEncChar' must be called on a  
> CHARSXP
>
>
> Which occurs on the 122,204'th item. All entries r[[2]] are similar  
> so I don't know why this happening?
> The strangest thing is that this error never happened a few days ago  
> and the same  code causes this to occur today.
>
>
> Any ideas would be helpful.
> Regards
> Saptarshi
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From saptarshi.guha at gmail.com  Fri Oct  2 00:26:56 2009
From: saptarshi.guha at gmail.com (Saptarshi Guha)
Date: Thu, 1 Oct 2009 18:26:56 -0400
Subject: [Rd] Value of SET_STRING_ELT() must be a 'CHARSXP' not a
	'character' & 'getEncChar' must be called on a CHARSXP
In-Reply-To: <D50DD870-D7D8-4040-896A-806C4BE7F8A9@r-project.org>
References: <A1976D4B-18D1-462B-B11C-AC957201EC73@gmail.com> 
	<D50DD870-D7D8-4040-896A-806C4BE7F8A9@r-project.org>
Message-ID: <1e7471d50910011526m6820c63ic89227948fb3def0@mail.gmail.com>

Hello
I could send a .Rdata file but it doesn't load throwing a similar error.
I can go through the code (below)

Now if instead of A0-A3 and B0-B3, i simply create a RAWSEXP and copy the the
raw bytes (in kvhold) return this list of two-element lists containing raw bytes
and then call
lapply(h, function(r) list(rhuz(r[[1]],r[[2]]))) #where h is what is
returned from the code below
where rhuz is a wrapper around the functions called in A0-A3, it works

So i'm quite confused here.
Thank you for your time
(R-2.9.1)
Regards
Saptarshi
//using NewList and GrowList from R sources
SEXP rv;
PROTECT( rv = NewList());
while(true){
// read an integer kvlength
// then read kvlength bytes into kvhold
// (from a file)

  // The KEY
  PROTECT(l = Rf_allocVector(VECSXP,2));
  REXP *rexp1 = new REXP(); //A0
  rexp1->ParseFromArray( kvhold, kvlength ); //A1
  PROTECT(k = message2rexp(*rexp1)); //A2
  delete(rexp1); //A3
  SET_VECTOR_ELT( l, 0, k);


// read an integer kvlength
// then read kvlength bytes into kvhold
// (from a file)

  // The VALUE
  REXP *rexp2 = new REXP(); //B0
  rexp2->ParseFromArray( kvhold, kvlength );//B1
  PROTECT(k = message2rexp(*rexp2));//B2
  delete(rexp2); //B3
  SET_VECTOR_ELT( l, 1, k);
	
  //Rf_PrintValue successfully prints both k for all k
  UNPROTECT(3); // the two k's and l
  rv = GrowList(rv, l);
  //We break when kvlength==-1
 }

//now return a list containing the objects
//similar to code in R src/main
rv = CDR(rv);
SEXP rval;
PROTECT(rval = Rf_allocVector(VECSXP, Rf_length(rv)));
for (int n = 0 ; n < LENGTH(rval) ; n++, rv = CDR(rv)){
  SET_VECTOR_ELT(rval, n, CAR(rv));
 }
UNPROTECT(2); //rval and rv
return(rval)

On Thu, Oct 1, 2009 at 5:36 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Saptarshi,
>
> how did you create those lists? Can you send us the code? If not, can you
> put up the .RData file? Without a reproducible example this is hard to debug
> ...
>
> Thanks,
> Simon
>
>
> On Oct 1, 2009, at 14:26 , Saptarshi Guha wrote:
>
>> Hello,
>> I have list of 600K lists, each sublist a list of two elements, the first
>> a character, the second a list of six named elements, some characters some
>> numrics.
>> LISTA (600K) (:= h)
>> ?|__ List of two elements
>> ? ? ? |__ Character
>> ? ? ? |__ Named List of 6 elements (characters and numerics)
>>
>> This works,
>> sip <- lapply(h,function(r) r[[2]][['sip']])
>>
>> but ?I wish to unlist this
>>
>> sip <- unlist(lapply(h,function(r) r[[2]][['sip']]))
>>
>> and get the following error:
>> Value of SET_STRING_ELT() must be a 'CHARSXP' not a 'list'
>> Debugging to find which:
>>
>> i<-1
>> sip <- unlist(lapply(h,function(r) {
>> ? ? ? ?i<<-i+1 #debug messages
>> ? ? ? ?cat(i,"------------------>","\n"); print( r[[2]] ) #debug message
>> ? ? ? ?r[[2]][['sip']]
>> }))
>>
>> [1]Error in print.default(r[[2]]) : 'getEncChar' must be called on a
>> CHARSXP
>>
>>
>> Which occurs on the 122,204'th item. All entries r[[2]] are similar so I
>> don't know why this happening?
>> The strangest thing is that this error never happened a few days ago and
>> the same ?code causes this to occur today.
>>
>>
>> Any ideas would be helpful.
>> Regards
>> Saptarshi
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>
>


From simon.urbanek at r-project.org  Fri Oct  2 02:15:19 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 1 Oct 2009 20:15:19 -0400
Subject: [Rd] Value of SET_STRING_ELT() must be a 'CHARSXP' not a
	'character' & 'getEncChar' must be called on a CHARSXP
In-Reply-To: <1e7471d50910011526m6820c63ic89227948fb3def0@mail.gmail.com>
References: <A1976D4B-18D1-462B-B11C-AC957201EC73@gmail.com>
	<D50DD870-D7D8-4040-896A-806C4BE7F8A9@r-project.org>
	<1e7471d50910011526m6820c63ic89227948fb3def0@mail.gmail.com>
Message-ID: <0E32F484-DBFC-426F-BC3A-BC11910C3EEF@r-project.org>


On Oct 1, 2009, at 6:26 PM, Saptarshi Guha wrote:

> Hello
> I could send a .Rdata file but it doesn't load throwing a similar  
> error.

That is a strong indicator that you're creating some invalid R objects  
in your C code, so the problem is likely there, not in R ... The code  
below is way incomplete, you can have the bug pretty much anywhere out  
of sight so there is not much we can help you with...

Cheers,
Simon


> I can go through the code (below)
>
> Now if instead of A0-A3 and B0-B3, i simply create a RAWSEXP and  
> copy the the
> raw bytes (in kvhold) return this list of two-element lists  
> containing raw bytes
> and then call
> lapply(h, function(r) list(rhuz(r[[1]],r[[2]]))) #where h is what is
> returned from the code below
> where rhuz is a wrapper around the functions called in A0-A3, it works
>
> So i'm quite confused here.
> Thank you for your time
> (R-2.9.1)
> Regards
> Saptarshi
> //using NewList and GrowList from R sources
> SEXP rv;
> PROTECT( rv = NewList());
> while(true){
> // read an integer kvlength
> // then read kvlength bytes into kvhold
> // (from a file)
>
>  // The KEY
>  PROTECT(l = Rf_allocVector(VECSXP,2));
>  REXP *rexp1 = new REXP(); //A0
>  rexp1->ParseFromArray( kvhold, kvlength ); //A1
>  PROTECT(k = message2rexp(*rexp1)); //A2
>  delete(rexp1); //A3
>  SET_VECTOR_ELT( l, 0, k);
>
>
> // read an integer kvlength
> // then read kvlength bytes into kvhold
> // (from a file)
>
>  // The VALUE
>  REXP *rexp2 = new REXP(); //B0
>  rexp2->ParseFromArray( kvhold, kvlength );//B1
>  PROTECT(k = message2rexp(*rexp2));//B2
>  delete(rexp2); //B3
>  SET_VECTOR_ELT( l, 1, k);
> 	
>  //Rf_PrintValue successfully prints both k for all k
>  UNPROTECT(3); // the two k's and l
>  rv = GrowList(rv, l);
>  //We break when kvlength==-1
> }
>
> //now return a list containing the objects
> //similar to code in R src/main
> rv = CDR(rv);
> SEXP rval;
> PROTECT(rval = Rf_allocVector(VECSXP, Rf_length(rv)));
> for (int n = 0 ; n < LENGTH(rval) ; n++, rv = CDR(rv)){
>  SET_VECTOR_ELT(rval, n, CAR(rv));
> }
> UNPROTECT(2); //rval and rv
> return(rval)
>
> On Thu, Oct 1, 2009 at 5:36 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Saptarshi,
>>
>> how did you create those lists? Can you send us the code? If not,  
>> can you
>> put up the .RData file? Without a reproducible example this is hard  
>> to debug
>> ...
>>
>> Thanks,
>> Simon
>>
>>
>> On Oct 1, 2009, at 14:26 , Saptarshi Guha wrote:
>>
>>> Hello,
>>> I have list of 600K lists, each sublist a list of two elements,  
>>> the first
>>> a character, the second a list of six named elements, some  
>>> characters some
>>> numrics.
>>> LISTA (600K) (:= h)
>>>  |__ List of two elements
>>>       |__ Character
>>>       |__ Named List of 6 elements (characters and numerics)
>>>
>>> This works,
>>> sip <- lapply(h,function(r) r[[2]][['sip']])
>>>
>>> but  I wish to unlist this
>>>
>>> sip <- unlist(lapply(h,function(r) r[[2]][['sip']]))
>>>
>>> and get the following error:
>>> Value of SET_STRING_ELT() must be a 'CHARSXP' not a 'list'
>>> Debugging to find which:
>>>
>>> i<-1
>>> sip <- unlist(lapply(h,function(r) {
>>>        i<<-i+1 #debug messages
>>>        cat(i,"------------------>","\n"); print( r[[2]] ) #debug  
>>> message
>>>        r[[2]][['sip']]
>>> }))
>>>
>>> [1]Error in print.default(r[[2]]) : 'getEncChar' must be called on a
>>> CHARSXP
>>>
>>>
>>> Which occurs on the 122,204'th item. All entries r[[2]] are  
>>> similar so I
>>> don't know why this happening?
>>> The strangest thing is that this error never happened a few days  
>>> ago and
>>> the same  code causes this to occur today.
>>>
>>>
>>> Any ideas would be helpful.
>>> Regards
>>> Saptarshi
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>
>>
>>
>
>


From keith at wehi.EDU.AU  Fri Oct  2 08:32:02 2009
From: keith at wehi.EDU.AU (Keith Satterley)
Date: Fri, 02 Oct 2009 16:32:02 +1000
Subject: [Rd] Windows Laptop specification query
In-Reply-To: <alpine.LFD.2.00.0909281100040.31119@toucan.stats.ox.ac.uk>
References: <4AC03013.1030402@wehi.edu.au>
	<8ed68eed0909272330k744b89f4m1add09313c5728fb@mail.gmail.com>
	<alpine.LFD.2.00.0909280903260.22690@gannet.stats.ox.ac.uk>
	<200909281044.06278.ct529@york.ac.uk>
	<alpine.LFD.2.00.0909281100040.31119@toucan.stats.ox.ac.uk>
Message-ID: <4AC59E62.7030808@wehi.edu.au>

Thanks everyone for advice on this matter.
I've been asked to report our conclusion.

We have decide to order a duo processor(3.06GHz) Dell Precision 4400 
laptop with 8GB memory and 500GB disk.
It will be running Vista 64 bit to begin with, moving over to Windows 7 
once a little experience is gained with it elsewhere.

We will leave the multi CPU use of R to our larger unix servers.

cheers,

Keith

Prof Brian Ripley wrote:
> The answer to (1) is in the rw-FAQ, so see
>
> library(fortunes)
> fortune('WTFM')
>
> On Mon, 28 Sep 2009, Corrado wrote:
>
>> 1) Would a package compiled for Windows 32bit run on Windows 64 bit 
>> and use
>> the extended memory or not?
>>
>> 2) As for buying a performant laptop for R, I bought a Dell M6300 mobile
>> workstation which is actually portable, and installed Kubuntu 904 64 bit
>> alongside the standard windows installation. When I run R I only use 
>> it in
>> Linux and access the data in Windows through the file system. If I 
>> need to run
>> Office because some one else is sending me document to correct, I 
>> have installed
>> Windows XP Pro SP3 in a virtual machine using Virtual Box, which runs 
>> very
>> fairly on the M6300, and can switch it on and off whenever I need 
>> (booting on
>> the virtual machine is matter of few seconds). This setup allows for 
>> running
>> 64 bit R on Linux (eventually compiled with -O3 -march=native by the 
>> way, if
>> you feel like experimenting) which is more performant and used the 
>> memory more
>> efficiently, without loosing the interacting with your windows based 
>> colleagues.
>> The virtual machine can go full screen at the click of a mouse :D and 
>> it looks
>> as if you were using a native Windows machine. You can install all 
>> software
>> and network clients on the virtual machine. I have not booted Windows 
>> for ages
>> .... I have been using this machine fort he last 18 months. The dual 
>> core
>> works great (I chose the top processor to run simulations when I am 
>> not in the
>> office), and in Linux you can control the CPU frequency. The new one 
>> which
>> substitutes the M6300 is the M6400 and I would go for that possibly 
>> (Linux
>> supported):
>>
>> http://www1.euro.dell.com/uk/en/business/Laptops/workstation-precision-m6400- 
>>
>> cov/pd.aspx?refid=workstation-precision-m6400-cov&s=bsd&cs=ukbsdt1
>>
>>
>> PS: I apologise for the question on memory management but I have 
>> never used R
>> on Windows but some free spirit decided to release a package only for 
>> Windows
>> and only pre compiled (no sources) and I need to use it to compare 
>> .... (Sorry
>> for the harsh comment and the rant , but I am not sure it is really 
>> fair to
>> use an open source packages and programming languages for you daily 
>> work and
>> make money out of it, and the first time you release something you 
>> release it
>> crappy and closed source .... even if it is legal and allowed of 
>> course .... :
>> ( ....)
>>
>> On Monday 28 September 2009 09:16:23 Prof Brian Ripley wrote:
>>> On Mon, 28 Sep 2009, Sean O'Riordain wrote:
>>>> Good morning Keith,
>>>>
>>>> Have a look at
>>>> http://cran.r-project.org/bin/windows/base/rw-FAQ.html#There-seems-to-be- 
>>>>
>>>> a-limit-on-the-memory-it-uses_0021
>>>>
>>>> The short answer is that "it depends"...
>>>> a) memory is limited under windows
>>>
>>> Yes, but 64-bit builds can be used on Windows -- that needs commercial
>>> compilers and there are commercial vendors of such builds.
>>>
>>> Even with the CRAN binary, a 64-bit version of Windows offers double
>>> the memory over a (vanilla) 32-bit version.
>>>
>>>> b) R is essentially a serial program - HOWEVER it depends what you're
>>>> actually doing - if you're working with large matrices then there are
>>>> parallel versions of BLAS that can be used...  On a multi-core windows
>>>> machine with lots of memory you can of course run up multiple 
>>>> copies of R
>>>> and run each independently
>>>
>>> There are several packages that parallelize their computations with
>>> MPI etc, and others that help with parallelization (papply, foreach,
>>> gputools, ....).  And apart from Rmpi/rpvm/snow there is also
>>> 'multicore', but not on Windows.  See the R-sig-hpc list for follow up
>>> on such issues.
>>>
>>> As for Vista vs Windows 7, this is not the right list but Windows 7
>>> behaves just like a version of Vista as far as we have explored it
>>> (and the current rw-FAQ includes it and Server 2008 in the Vista
>>> section).
>>>
>>> Many of us have bought dual quad-core servers in the last year or so:
>>> that includes Uwe Ligges' winbuilder machine.  I suspect most of the
>>> usage is separate R jobs running simultaneously: certainly that is the
>>> case in my dept (where there are at least 6 8-core servers running R
>>> jobs).
>>>
>>>> Kind regards,
>>>> Sean
>>>>
>>>> On Mon, Sep 28, 2009 at 4:40 AM, Keith Satterley <keith at wehi.edu.au>
>> wrote:
>>>>> I've read some postings back in 2002/2006 about running R on multiple
>>>>> core CPUs. The answer was basically separate processes work fine, but
>>>>> parallelization needs to be implemented using snow/rmpi. Are the 
>>>>> answers
>>>>> still the same?
>>>>>
>>>>> I ask because we are about to order a laptop running Windows for a 
>>>>> new
>>>>> staff member. Some advice on the following would be helpful.
>>>>> It will be ordered with Vista, with a free upgrade to Windows 7. 
>>>>> It will
>>>>> have 8GB of memory
>>>>>
>>>>> A quad core CPU costs about AUD$1100 more than the fastest (Intel
>>>>> T9900-6M Cache, 3.06 GHz) dual core CPU.
>>>>> I'm wondering if there is value in ordering the quad core. We are
>>>>> looking at a time frame of 3-4 years.
>>>>>
>>>>> Is anyone aware of near future plans to implement some form or
>>>>> parallelization that would more or less be hidden from the normal 
>>>>> user?
>>>>>
>>>>> It is anticipated that analysis of Next Gen sequence data will be
>>>>> important.
>>>>>
>>>>> I've read the Windows FAQ about running R under Vista. We will 
>>>>> probably
>>>>> start with Vista. I've read some posts in R-devel indicating 
>>>>> people are
>>>>> running R under Windows 7. Is it safe to assume that R will run under
>>>>> Windows 7 after it is released?
>>>>>
>>>>> We are hoping to make use the 8GB of memory. Am I right in 
>>>>> assuming that
>>>>> when the 64 bit version of Windows 7 is available, it will allow R 
>>>>> users
>>>>> to make good use of the 8GB of memory. Does this happen under the
>>>>> current higher end versions of 64 bit Vista?
>>>>>
>>>>> cheers,
>>>>>
>>>>> Keith
>>>>>
>>>>> ========================
>>>>> Keith Satterley
>>>>> Bioinformatics Division
>>>>> The Walter and Eliza Hall Institute of Medical Research
>>>>> Parkville, Melbourne,
>>>>> Victoria, Australia
>>>>>
>>>>> ______________________________________________
>>>>> R-devel at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>>>     [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>>
>> -- 
>> Corrado Topi
>>
>> Global Climate Change & Biodiversity Indicators
>> Area 18,Department of Biology
>> University of York, York, YO10 5YW, UK
>> Phone: + 44 (0) 1904 328645, E-mail: ct529 at york.ac.uk
>>
>


From zong-pei.han at imm.ox.ac.uk  Fri Oct  2 12:35:36 2009
From: zong-pei.han at imm.ox.ac.uk (zong-pei.han at imm.ox.ac.uk)
Date: Fri, 2 Oct 2009 11:35:36 +0100 (BST)
Subject: [Rd] X11 Problems
In-Reply-To: <4AC51232.9030808@cs.earlham.edu>
References: <4AC51232.9030808@cs.earlham.edu>
Message-ID: <Pine.LNX.4.64.0910021129390.13312@raven.linux.ox.ac.uk>

The message "unable to open connection to X11 display ''" means
your own machine cannot open a xterm from the machine running R.
You have to have an X server running on your own machine, and
allow X display from the machine running R.

Hope this helps.

Dr Zong-Pei Han
UNIX Systems Administrator
Computational Biology Research Group
University of Oxford
http://www.cbrg.ox.ac.uk/
-------------------------------------


On Thu, 1 Oct 2009, Kay Wanous wrote:
Date: Thu, 01 Oct 2009 16:33:54 -0400
From: Kay Wanous <kwanous at cs.earlham.edu>
To: r-devel at r-project.org
Subject: [Rd] X11 Problems

Hi all,

I'm having trouble getting x11 to work with R.  (This is on Debian testing.)  I
installed r-base and r-base-dev, and then r-cran-cairodevice.  I also tried
installing the Cairo package within R, which appears to work fine.

This what I'm seeing:

> capabilities()
    jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets
    TRUE     TRUE     TRUE     TRUE    FALSE    FALSE     TRUE     TRUE
  libxml     fifo   cledit    iconv      NLS  profmem    cairo
    TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE

> x11()
Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma, d$colortype,  :
  unable to start device X11cairo
In addition: Warning message:
In x11() : unable to open connection to X11 display ''

Any help would be appreciated!

Thanks,
Kay

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Fri Oct  2 12:52:49 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 02 Oct 2009 06:52:49 -0400
Subject: [Rd] Dependency 'sma' is not available
In-Reply-To: <4AC4988B.9030302@fhcrc.org>
References: <Pine.LNX.4.64.0909301726210.17114@raven.linux.ox.ac.uk>	<4AC38BDF.6010308@statistik.tu-dortmund.de>	<77EB52C6DD32BA4D87471DCD70C8D70001E5F4AF@NA-PA-VBE03.na.tibco.com>	<Pine.LNX.4.64.0910011128090.15444@raven.linux.ox.ac.uk>
	<4AC4988B.9030302@fhcrc.org>
Message-ID: <4AC5DB81.8000704@stats.uwo.ca>

Martin Morgan wrote:
> zong-pei.han at imm.ox.ac.uk wrote:
>   
>> So packages like beadarray and arrayQualityMetrics
>> cannot be installed.
>>     
>
> The sma author no longer wishes to maintain this package. The packges
> beadarray and arrayQualityMetrics are Bioconductor packages that depend
> on sma indirectly through other packages. The other packages are being
> revised to no longer depend on sma, but this has not yet been completed.
> The workaround is to manually install sma from its archive: download
>
>   http://cran.fhcrc.org/src/contrib/Archive/sma/sma_0.5.15.tar.gz
>
> and install.packages("sma_0.5.15.tar.gz", repos=NULL).
>
> beadarray and arrayQualityMetrics are Bioconductor packages, so please
> follow up on the Bioconductor mailing list
>
>   http://bioconductor.org/docs/mailList.html
>
>   

This message is mainly for Zong-pei:

I don't know the circumstances or license for sma, but one of the 
advantages of open source is that someone else could take over 
maintenance of sma if it is open source and the original author is no 
longer interested.  You should think about doing it, or recruiting 
someone with the necessary skills if you don't have them.

Duncan Murdoch

> Martin
>
>
>
>   
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>     
>
>
>


From romain.francois at dbmail.com  Fri Oct  2 14:40:51 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Fri, 02 Oct 2009 14:40:51 +0200
Subject: [Rd] environment( seq.int ) is NULL
Message-ID: <4AC5F4D3.3030102@dbmail.com>

... and also all objects that actually live in the .GenericArgsEnv 
environment.

 > all( sapply( ls( .GenericArgsEnv ), function(.) 
is.null(environment(.)) ) )
[1] TRUE

This has the consequence preventing argsAnywhere to get the args of 
seq.int.

 > argsAnywhere( seq.int )
Error in exists(".packageName", envir = envir, inherits = FALSE) :
   use of NULL environment is defunct

and consequently completion does not work

 > seq.int( <TAB>Error in exists(".packageName", envir = envir, inherits 
= FALSE) :
   use of NULL environment is defunct

I've tried a few things, but I don't understand the order in which 
things are loaded in the zzz.R of base ...

Romain

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
|- http://tr.im/yw8E : New R package : sos
`- http://tr.im/y8y0 : search the graph gallery from R


From murdoch at stats.uwo.ca  Fri Oct  2 16:50:26 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 02 Oct 2009 10:50:26 -0400
Subject: [Rd] environment( seq.int ) is NULL
In-Reply-To: <4AC5F4D3.3030102@dbmail.com>
References: <4AC5F4D3.3030102@dbmail.com>
Message-ID: <4AC61332.7050907@stats.uwo.ca>

On 10/2/2009 8:40 AM, Romain Francois wrote:
> ... and also all objects that actually live in the .GenericArgsEnv 
> environment.
> 
>  > all( sapply( ls( .GenericArgsEnv ), function(.) 
> is.null(environment(.)) ) )
> [1] TRUE
> 
> This has the consequence preventing argsAnywhere to get the args of 
> seq.int.
> 
>  > argsAnywhere( seq.int )
> Error in exists(".packageName", envir = envir, inherits = FALSE) :
>    use of NULL environment is defunct
> 
> and consequently completion does not work
> 
>  > seq.int( <TAB>Error in exists(".packageName", envir = envir, inherits 
> = FALSE) :
>    use of NULL environment is defunct
> 
> I've tried a few things, but I don't understand the order in which 
> things are loaded in the zzz.R of base ...

seq.int isn't a closure, so it doesn't have an environment, any more 
than a numeric vector does.  So the problem here is with getAnywhere 
(which is called by argsAnywhere).  I'll see if I can fix it.

Duncan Murdoch


From kwanous at cs.earlham.edu  Fri Oct  2 17:01:28 2009
From: kwanous at cs.earlham.edu (Kay Wanous)
Date: Fri, 02 Oct 2009 11:01:28 -0400
Subject: [Rd] X11 Problems
In-Reply-To: <Pine.LNX.4.64.0910021129390.13312@raven.linux.ox.ac.uk>
References: <4AC51232.9030808@cs.earlham.edu>
	<Pine.LNX.4.64.0910021129390.13312@raven.linux.ox.ac.uk>
Message-ID: <4AC615C8.9070801@cs.earlham.edu>

Well, I feel silly - I just hadn't started the x11 server on the machine!

Thanks for the help.

   -- Kay

zong-pei.han at imm.ox.ac.uk wrote:
> The message "unable to open connection to X11 display ''" means
> your own machine cannot open a xterm from the machine running R.
> You have to have an X server running on your own machine, and
> allow X display from the machine running R.
> 
> Hope this helps.
> 
> Dr Zong-Pei Han
> UNIX Systems Administrator
> Computational Biology Research Group
> University of Oxford
> http://www.cbrg.ox.ac.uk/
> -------------------------------------
> 
> 
> On Thu, 1 Oct 2009, Kay Wanous wrote:
> Date: Thu, 01 Oct 2009 16:33:54 -0400
> From: Kay Wanous <kwanous at cs.earlham.edu>
> To: r-devel at r-project.org
> Subject: [Rd] X11 Problems
> 
> Hi all,
> 
> I'm having trouble getting x11 to work with R.  (This is on Debian testing.)  I
> installed r-base and r-base-dev, and then r-cran-cairodevice.  I also tried
> installing the Cairo package within R, which appears to work fine.
> 
> This what I'm seeing:
> 
>> capabilities()
>     jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets
>     TRUE     TRUE     TRUE     TRUE    FALSE    FALSE     TRUE     TRUE
>   libxml     fifo   cledit    iconv      NLS  profmem    cairo
>     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE
> 
>> x11()
> Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma, d$colortype,  :
>   unable to start device X11cairo
> In addition: Warning message:
> In x11() : unable to open connection to X11 display ''
> 
> Any help would be appreciated!
> 
> Thanks,
> Kay
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
-----------------------------
Kay Wanous         Dennis 221
CS Department    765 983-1784


From edd at debian.org  Fri Oct  2 17:13:21 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 2 Oct 2009 10:13:21 -0500
Subject: [Rd] X11 Problems
In-Reply-To: <4AC615C8.9070801@cs.earlham.edu>
References: <4AC51232.9030808@cs.earlham.edu>
	<Pine.LNX.4.64.0910021129390.13312@raven.linux.ox.ac.uk>
	<4AC615C8.9070801@cs.earlham.edu>
Message-ID: <19142.6289.635026.525494@ron.nulle.part>


On 2 October 2009 at 11:01, Kay Wanous wrote:
| Well, I feel silly - I just hadn't started the x11 server on the machine!

That would do it.  

For completeness, you _can_ get cairo(), x11(), ... to work in batch mode (or
from a webserver etc pp) if you use the xvfb server which (on Debian at
least) has the handy front-end script xvfb-run in conjunction with graphics
devices like pdf(), png(), ...

Dirk

-- 
Three out of two people have difficulties with fractions.


From timhesterberg at gmail.com  Fri Oct  2 17:22:34 2009
From: timhesterberg at gmail.com (Tim Hesterberg)
Date: Fri, 2 Oct 2009 08:22:34 -0700
Subject: [Rd] suggest enhancement to segments and arrows to facilitate
	horizontal and vertical segments
Message-ID: <e21d304c0910020822r761cbaaeq2bee03abc21b5f6f@mail.gmail.com>

I suggest a simple enhancement to segments() and arrows() to
facilitate drawing horizontal and vertical segments --
set default values for the second x and y arguments equal to the first set.
This is handy, especially when the expressions for coordinates are long.

Compare:

Segments:
< function (x0, y0, x1 = x0, y1 = y0, col = par("fg"), lty = par("lty"),
---
> function (x0, y0, x1, y1, col = par("fg"), lty = par("lty"),

Arrows:
< function (x0, y0, x1 = x0, y1 = y0, length = 0.25, angle = 30, code = 2,
---
> function (x0, y0, x1, y1, length = 0.25, angle = 30, code = 2,

Tim Hesterberg


From jeff.hamann at forestinformatics.com  Fri Oct  2 18:06:13 2009
From: jeff.hamann at forestinformatics.com (Jeff Hamann)
Date: Fri, 2 Oct 2009 09:06:13 -0700
Subject: [Rd] unable to load shared library (Symbol not found:
	_PQbackendPID)
In-Reply-To: <F7DA7F85-8FCB-430F-8E86-83DEA90DB150@neiltiffin.com>
References: <44FD7002-2943-4449-B98C-130724DA6AB8@forestinformatics.com>
	<19138.45749.671652.380175@ron.nulle.part>
	<F7DA7F85-8FCB-430F-8E86-83DEA90DB150@neiltiffin.com>
Message-ID: <74D5AA71-E604-47C4-8219-6343434380A3@forestinformatics.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091002/37f33112/attachment.pl>

From fabio.ufla at yahoo.com.br  Fri Oct  2 20:35:36 2009
From: fabio.ufla at yahoo.com.br (=?iso-8859-1?Q?Fabio_Mathias_Corr=EAa?=)
Date: Fri, 2 Oct 2009 11:35:36 -0700 (PDT)
Subject: [Rd] Compiling with High Performance Fortran
Message-ID: <464668.93840.qm@web59702.mail.ac4.yahoo.com>

Dear,

I looked in the list something on as to compile a code with access the High Performance FORTRAN using R CMD SHLIB, but I did not find. Would like to know if the accepted R this type of language?

Thanks!


? ???????????? F?bio Mathias Corr?a
Estat?stica e Experimenta??o Agropecu?ria/UFLA



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com


From ehlers at ucalgary.ca  Fri Oct  2 21:36:33 2009
From: ehlers at ucalgary.ca (Peter Ehlers)
Date: Fri, 02 Oct 2009 13:36:33 -0600
Subject: [Rd] lattice's mai/mar analog
In-Reply-To: <fa05c18161156.4ac0b589@bgu.ac.il>
References: <mailman.18.1254132007.21828.r-devel@r-project.org>
	<fa05c18161156.4ac0b589@bgu.ac.il>
Message-ID: <4AC65641.2060107@ucalgary.ca>



Michael Ramati wrote:
> hello,
> is there a way to control figure margins using package lattice, similarly to parameters mai/mar (which presumbly works only for figures of package graphics)?
> thanks!?
> 

Try it this way:

  library(lattice)
  trellis.device()
  trellis.par.set(list(
     layout.widths  = list(left.padding = 8, right.padding = 9),
     layout.heights = list(top.padding = 10, bottom.padding = 11)))

  xyplot(Sepal.Length ~ Petal.Length | Species, data = iris)

Use

  trellis.par.get()

and check the layout.heights/widths sections. You can adjust
the spacing between the labels and the axis, etc. The paddings
are ordered from extreme left to extreme right. Ditto for top
to bottom.

See

  ?trellis.par.set for how to set up the options.

  -Peter Ehlers


> 	[[alternative HTML version deleted]]
> 
> 
> 
> ------------------------------------------------------------------------
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From inpost at gmail.com  Fri Oct  2 13:25:14 2009
From: inpost at gmail.com (inpost at gmail.com)
Date: Fri,  2 Oct 2009 13:25:14 +0200 (CEST)
Subject: [Rd] plotmath documentation (PR#13978)
Message-ID: <20091002112514.3EA232832003@mail.pubhealth.ku.dk>

Full_Name: r
Version: 251
OS: linux
Submission from: (NULL) (138.250.104.18)


Plotmath manual does not state that an expression cannot be written with
asterisk (*) at the start. See mailing list post 'plot &#7506; C in graph axis
label', 02-10-09


From jeroen.ooms at stat.ucla.edu  Fri Oct  2 22:07:35 2009
From: jeroen.ooms at stat.ucla.edu (Jeroen Ooms)
Date: Fri, 2 Oct 2009 13:07:35 -0700 (PDT)
Subject: [Rd]  Multicore bootstrap
Message-ID: <25721774.post@talk.nabble.com>


Bootstrapping can easily be sped up on multicore machines using parallel
processing of the seperate bootstraps. As a proof of concept I slightly
modified the boot.sem function to use multiple cores, using mclapply from
the multicore package. Example code can be found on my website:

http://www.jeroenooms.com/files/boot.sem.mc.R
http://www.jeroenooms.com/files/semTest.R 

Bootstrapping using boot.sem.mc is exactly twice as fast as when using
boot.sem on my machine (dual core). It might be nice to implement an option
in bootstrapping functions to use multiple cores when available. 


-----
Jeroen Ooms * Dept. of Methodology and Statistics * Utrecht University 

Visit  http://www.jeroenooms.com www.jeroenooms.com  to explore some of my
current projects.





 
-- 
View this message in context: http://www.nabble.com/Multicore-bootstrap-tp25721774p25721774.html
Sent from the R devel mailing list archive at Nabble.com.


From jeff.horner at vanderbilt.edu  Fri Oct  2 23:42:52 2009
From: jeff.horner at vanderbilt.edu (Jeffrey Horner)
Date: Fri, 02 Oct 2009 16:42:52 -0500
Subject: [Rd] Because it's Friday. was creating environments in package's C
	code
In-Reply-To: <E04283F5-2542-4FE5-B7EE-A9D1F691C0B4@r-project.org>
References: <4AC4CBD9.7010309@mx.uni-saarland.de>
	<4AC4D3C5.7090609@vanderbilt.edu> <4AC4DAC8.6010107@vanderbilt.edu>
	<E04283F5-2542-4FE5-B7EE-A9D1F691C0B4@r-project.org>
Message-ID: <4AC673DC.3060503@vanderbilt.edu>

Simon Urbanek wrote on 10/01/2009 11:51 AM:
[...]
> I suspect you like reinventing the wheel ;). Your NewInteger is part of 
> the R API and is called ScalarInteger(). When you need something, 
> chances are that R has it already, so it's worth greping through the 
> headers (and sometimes even through the main sources).

I am reminded of what Robert Gentleman said at DSC 2005 during the R/S 
round-chair discussion: "Brian Ripley is the only one I know who keeps R 
in his frontal lobe."

I can only aspire to such greatness, Simon.

Jeff


From simon.urbanek at r-project.org  Fri Oct  2 23:49:39 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 2 Oct 2009 17:49:39 -0400
Subject: [Rd] Compiling with High Performance Fortran
In-Reply-To: <464668.93840.qm@web59702.mail.ac4.yahoo.com>
References: <464668.93840.qm@web59702.mail.ac4.yahoo.com>
Message-ID: <82FEF9D6-6718-4037-B7A9-17602A7B880C@r-project.org>


On Oct 2, 2009, at 2:35 PM, Fabio Mathias Corr?a wrote:

> Dear,
>
> I looked in the list something on as to compile a code with access  
> the High Performance FORTRAN using R CMD SHLIB, but I did not find.  
> Would like to know if the accepted R this type of language?
>

R supports systems with FORTRAN 77 and 90/95 compilers including any  
extensions such as HPF. R itself doesn't care (it accepts .f90, .f95  
etc.) - it's up to you to use a compiler that suits you. Depending on  
the exact HPF extensions you're using it may work with a F95 compiler.  
The most commonly used compiler is GNU Fortran so you may test your  
code with that (it also supported OpenMP which effectively supersedes  
HPF).

Cheers,
Simon


From spencer.graves at prodsyse.com  Sat Oct  3 00:45:11 2009
From: spencer.graves at prodsyse.com (spencerg)
Date: Fri, 02 Oct 2009 15:45:11 -0700
Subject: [Rd] Because it's Friday. was creating environments in
 package's C	code
In-Reply-To: <4AC673DC.3060503@vanderbilt.edu>
References: <4AC4CBD9.7010309@mx.uni-saarland.de>	<4AC4D3C5.7090609@vanderbilt.edu>
	<4AC4DAC8.6010107@vanderbilt.edu>	<E04283F5-2542-4FE5-B7EE-A9D1F691C0B4@r-project.org>
	<4AC673DC.3060503@vanderbilt.edu>
Message-ID: <4AC68277.9040104@prodsyse.com>

      I hope you will forgive a serious comment on this thread, but the 
new "sos" package makes "greping through the headers" shockingly easy.  
It returns the 'RSiteSearch( ___ , "function")' information in a 
data.frame of class "findFn" sorted to put the package with the most 
matches first.  Duncan Murdoch wrote a "???" alias for this "findFn" 
function.  Union and intersection operators are defined for 
"findFn"objects.  The "findFn2xls" function writes an Excel file with 
three sheets giving an extended package summary, the matches (including 
the URLs), and the call.  An article on this is scheduled to appear in 
the next issue of "R Journal" and is available now via vignette('sos'). 


      This "sos" package is not as good as greping Ripley's frontal 
lobe, but it makes it quite easy to do a literature search of all 
contributed R packages. 


      Spencer


Jeffrey Horner wrote:
> Simon Urbanek wrote on 10/01/2009 11:51 AM:
> [...]
>> I suspect you like reinventing the wheel ;). Your NewInteger is part 
>> of the R API and is called ScalarInteger(). When you need something, 
>> chances are that R has it already, so it's worth greping through the 
>> headers (and sometimes even through the main sources).
>
> I am reminded of what Robert Gentleman said at DSC 2005 during the R/S 
> round-chair discussion: "Brian Ripley is the only one I know who keeps 
> R in his frontal lobe."
>
> I can only aspire to such greatness, Simon.
>
> Jeff
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


-- 
Spencer Graves, PE, PhD
President and Chief Operating Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567


From murdoch at stats.uwo.ca  Sat Oct  3 01:54:08 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 02 Oct 2009 19:54:08 -0400
Subject: [Rd] plotmath documentation (PR#13978)
In-Reply-To: <20091002112514.3EA232832003@mail.pubhealth.ku.dk>
References: <20091002112514.3EA232832003@mail.pubhealth.ku.dk>
Message-ID: <4AC692A0.20205@stats.uwo.ca>

On 02/10/2009 7:25 AM, inpost at gmail.com wrote:
> Full_Name: r
> Version: 251
> OS: linux
> Submission from: (NULL) (138.250.104.18)
> 
> 
> Plotmath manual does not state that an expression cannot be written with
> asterisk (*) at the start. See mailing list post 'plot &#7506; C in graph axis
> label', 02-10-09

This is not a bug, because it does, in the very first sentence of the 
Details section:

"A mathematical expression must obey the normal rules of syntax for any 
R expression..."

Duncan Murdoch


From hb at stat.berkeley.edu  Sat Oct  3 08:17:44 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Fri, 2 Oct 2009 23:17:44 -0700
Subject: [Rd] Named backreference in gsub()?
Message-ID: <59d7961d0910022317w17051012u3c4bf5c22a6de8e5@mail.gmail.com>

Hi,

I'm running out of the *numbered* backreferences \\1, \\2, ..., \\9
for gsub().  Does R support *named* backreferences, and if so, what is
the syntax?

Thanks

Henrik


From ggrothendieck at gmail.com  Sat Oct  3 16:03:01 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sat, 3 Oct 2009 10:03:01 -0400
Subject: [Rd] Named backreference in gsub()?
In-Reply-To: <59d7961d0910022317w17051012u3c4bf5c22a6de8e5@mail.gmail.com>
References: <59d7961d0910022317w17051012u3c4bf5c22a6de8e5@mail.gmail.com>
Message-ID: <971536df0910030703i66ab6b5fj847ff0a12dc9e17b@mail.gmail.com>

strapply in the gsubfn package matches a regular expression and passes
each back reference as a separate argument to the indicated function,
in this case paste.  Any number of back references may be used.  Here
is an example where there are more than 9:

> # pass each back reference in regular expression to function
> # returning function's output
> library(gsubfn)
> strapply("abcdefghijklmnop", "(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)", paste)
[[1]]
[1] "a b c d e f g h i j"

See home page at: http://gsubfn.googlecode.com

On Sat, Oct 3, 2009 at 2:17 AM, Henrik Bengtsson <hb at stat.berkeley.edu> wrote:
> Hi,
>
> I'm running out of the *numbered* backreferences \\1, \\2, ..., \\9
> for gsub(). ?Does R support *named* backreferences, and if so, what is
> the syntax?
>
> Thanks
>
> Henrik
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From hb at stat.berkeley.edu  Sun Oct  4 23:46:15 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Sun, 4 Oct 2009 14:46:15 -0700
Subject: [Rd] Named backreference in gsub()?
In-Reply-To: <971536df0910030703i66ab6b5fj847ff0a12dc9e17b@mail.gmail.com>
References: <59d7961d0910022317w17051012u3c4bf5c22a6de8e5@mail.gmail.com> 
	<971536df0910030703i66ab6b5fj847ff0a12dc9e17b@mail.gmail.com>
Message-ID: <59d7961d0910041446j756a2bffh37a23192670ce2cf@mail.gmail.com>

Thanks, it works like a charm.

/Henrik

On Sat, Oct 3, 2009 at 7:03 AM, Gabor Grothendieck
<ggrothendieck at gmail.com> wrote:
> strapply in the gsubfn package matches a regular expression and passes
> each back reference as a separate argument to the indicated function,
> in this case paste. ?Any number of back references may be used. ?Here
> is an example where there are more than 9:
>
>> # pass each back reference in regular expression to function
>> # returning function's output
>> library(gsubfn)
>> strapply("abcdefghijklmnop", "(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)", paste)
> [[1]]
> [1] "a b c d e f g h i j"
>
> See home page at: http://gsubfn.googlecode.com
>
> On Sat, Oct 3, 2009 at 2:17 AM, Henrik Bengtsson <hb at stat.berkeley.edu> wrote:
>> Hi,
>>
>> I'm running out of the *numbered* backreferences \\1, \\2, ..., \\9
>> for gsub(). ?Does R support *named* backreferences, and if so, what is
>> the syntax?
>>
>> Thanks
>>
>> Henrik
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>


From hb at stat.berkeley.edu  Mon Oct  5 08:03:00 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Sun, 4 Oct 2009 23:03:00 -0700
Subject: [Rd] Milestone: 2000 packages on CRAN
Message-ID: <59d7961d0910042303u444aca81uaa1781007f181bd8@mail.gmail.com>

Today, 2009-10-04, from http://cran.r-project.org/web/packages/

"Currently, the CRAN package repository features 1997 objects
including 1993 packages and 4 bundles containing 15 packages, for a
total of 2008 available packages."

It was 1.5 years ago (2007-04-12) we were at 1000 packages, cf.

  https://stat.ethz.ch/pipermail/r-devel/2007-April/045359.html

>From my previous in-house statistics there were ~500 packages in Oct
2004, and ~250 in April 2003.

So, roughly, the number of packages doubles every 18 months.

My daily procrastination

/Henrik


From mzukisi.gwata at gmail.com  Sun Oct  4 22:40:14 2009
From: mzukisi.gwata at gmail.com (mzukisi.gwata at gmail.com)
Date: Sun,  4 Oct 2009 22:40:14 +0200 (CEST)
Subject: [Rd] exTremes and ismev (PR#13981)
Message-ID: <20091004204014.E9CC0282EF42@mail.pubhealth.ku.dk>

Greetings

I am attempting to load exTremes and this is what I get...

*> utils:::menuInstallPkgs()
--- Please select a CRAN mirror for use in this session ---
trying URL '
http://cran.uk.r-project.org/bin/windows/contrib/2.9/extRemes_1.60.zip'
Content type 'application/zip' length 676182 bytes (660 Kb)
opened URL
downloaded 660 Kb

package 'extRemes' successfully unpacked and MD5 sums checked

The downloaded packages are in
        C:\Users\Mzukisi\AppData\Local\Temp\RtmpDk0EBq\downloaded_packages
updating HTML package descriptions
Warning message:
In file.create(f.tg) :
  cannot create file 'C:\PROGRA~1\R\R-29~1.2/doc/html/packages.html', reason
'Permission denied'
>

*What could be the cause of this?

Mzukisi Gwata
Pretoria
South Africa

	[[alternative HTML version deleted]]


From ligges at statistik.tu-dortmund.de  Mon Oct  5 13:22:53 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Mon, 05 Oct 2009 13:22:53 +0200
Subject: [Rd] exTremes and ismev (PR#13981)
In-Reply-To: <20091004204014.E9CC0282EF42@mail.pubhealth.ku.dk>
References: <20091004204014.E9CC0282EF42@mail.pubhealth.ku.dk>
Message-ID: <4AC9D70D.4070804@statistik.tu-dortmund.de>



mzukisi.gwata at gmail.com wrote:
> Greetings
> 
> I am attempting to load exTremes and this is what I get...
> 
> *> utils:::menuInstallPkgs()
> --- Please select a CRAN mirror for use in this session ---
> trying URL '
> http://cran.uk.r-project.org/bin/windows/contrib/2.9/extRemes_1.60.zip'
> Content type 'application/zip' length 676182 bytes (660 Kb)
> opened URL
> downloaded 660 Kb
> 
> package 'extRemes' successfully unpacked and MD5 sums checked
> 
> The downloaded packages are in
>         C:\Users\Mzukisi\AppData\Local\Temp\RtmpDk0EBq\downloaded_packages
> updating HTML package descriptions
> Warning message:
> In file.create(f.tg) :
>   cannot create file 'C:\PROGRA~1\R\R-29~1.2/doc/html/packages.html', reason
> 'Permission denied'
> 
> *What could be the cause of this?


This is not bug in R!!!
Please read what a bug is in the FAQs.

For questionsabout R, please ask on the R-help mailing list.

In this case, there is not even an error anywhere, just a warning, that 
the given file that contains the list of installed packages could not be 
updated after the package's installatio, probably because auf limited 
permissions.

Uwe Ligges



> Mzukisi Gwata
> Pretoria
> South Africa
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Mon Oct  5 14:44:07 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Oct 2009 13:44:07 +0100 (BST)
Subject: [Rd] suggest enhancement to segments and arrows to facilitate
 horizontal and vertical segments
In-Reply-To: <e21d304c0910020822r761cbaaeq2bee03abc21b5f6f@mail.gmail.com>
References: <e21d304c0910020822r761cbaaeq2bee03abc21b5f6f@mail.gmail.com>
Message-ID: <alpine.LFD.2.00.0910051334520.8274@gannet.stats.ox.ac.uk>

This isn't a one-way street, as it means that some erroneous calls 
will not be detected, and code written to take advantage of this will 
only work under R >= 2.10.0.

I think we should probably insist that one of x1 and y1 is supplied: 
if both are omitted arrows() would give a warning, but segments() 
would not.

On Fri, 2 Oct 2009, Tim Hesterberg wrote:

> I suggest a simple enhancement to segments() and arrows() to
> facilitate drawing horizontal and vertical segments --
> set default values for the second x and y arguments equal to the first set.
> This is handy, especially when the expressions for coordinates are long.
>
> Compare:
>
> Segments:
> < function (x0, y0, x1 = x0, y1 = y0, col = par("fg"), lty = par("lty"),
> ---
>> function (x0, y0, x1, y1, col = par("fg"), lty = par("lty"),
>
> Arrows:
> < function (x0, y0, x1 = x0, y1 = y0, length = 0.25, angle = 30, code = 2,
> ---
>> function (x0, y0, x1, y1, length = 0.25, angle = 30, code = 2,
>
> Tim Hesterberg

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Mon Oct  5 16:16:09 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Oct 2009 15:16:09 +0100 (BST)
Subject: [Rd] R 2.9.2 crashes when sorting latin1-encoded strings
In-Reply-To: <C935923C-760E-4830-B483-324DA608E66A@uos.de>
References: <C935923C-760E-4830-B483-324DA608E66A@uos.de>
Message-ID: <alpine.LFD.2.00.0910051458420.31988@gannet.stats.ox.ac.uk>

This was a missing PROTECT() in do_order.

But I'll echo what Simon Urbanek said: don't do that but rather use 
the documented ways to re-encode the file as you read it.  (Latin-1 
used to be needed for collation on Mac OS X as C-level collation in 
UTF-8 was completely broken -- but we have worked around that.)

We provided fileEncoding= in read.table for those who failed to RTFM 
and thought encoding= was to set the file encoding, but it seems that 
encodings are simply too hard a concept for some R users.

On Wed, 30 Sep 2009, Stefan Evert wrote:

> Hi everyone!
>
> I think I stumbled over a bug in the latest R 2.9.2 patched for OS X:
>
>> R version 2.9.2 Patched (2009-09-24 r49861)
>> i386-apple-darwin9.8.0
>
>
> When I try to sort latin1-encoded character vectors, R sometimes crashes with 
> a segmentation fault.  I'm running OS X 10.5.8 and have observed this
> behaviour both with the i386 and x86_64 builds, in the R.app GUI as well as 
> on the command line.
>
> Here's a minimal example that reliably triggers the crash on my machine:
>
> =====
> print(sessionInfo())
>
> words <- c("aa", "ab", "a\xfc", "a\xe4", "b\xe4", "b\xfc", "\xe4\xfc")
> str(words)
>
> print(table(Encoding(words)))
> Encoding(words) <- "latin1"  # this is the correct encoding!
> print(table(Encoding(words)))
>
> N <- 1000
> words <- rep(words, length.out=N)
>
> print(N)
> for (i in 1:N) {
> x <- words[1:i]
> # the following line will crash for some i, depending on the particular
> # strings in <words> and the subset selected for <x> above
> order(x)
> }
> =====
>
> The output I get from this code is appended at the end of the mail. Note that 
> R incorrectly declares the latin1 strings in <word> to have UTF-8 encoding 
> (this seems wrong to me because the \x escapes insert raw bytes into the 
> string). The crash only occurs if the correct "latin1" encoding (or 
> "unknown") is explicitly specified. Otherwise the string handling code 
> appears to ignore everything after the first invalid multibyte character.
>
> I haven't been able to trigger the bug without some kind of loop.  The crash 
> always occurs at the same iteration, but this changes depending on the 
> contents of <words> and the specific subset selected in each loop iteration. 
> Also note that the 64-bit version of R gives a different error message.  If I 
> omit the unrelated statement "print(N)", the 64-bit version segfaults and the 
> 32-bit version just hangs with high CPU load. All this suggests to me that 
> there must be some insidious memory corruption or stack/range overflow in the 
> internal ordering code.
>
> Can other people reproduce this problem on different platforms and possibly 
> with different versions of R?
>
>
> BTW, I ran into the crash when trying to read.delim() a file in latin1 
> encoding, using either encoding="latin1" or fileEncoding="latin1", and then 
> converting it back and forth between a character vector and a factor.  I 
> still don't understand what's going on there.  The behaviour of read.delim() 
> seems to depend very much on my locale settings when running R, which is 
> rather unpleasant.  Is there a way to find out how strings are stored 
> internally (i.e. getting the exact byte representation) and whether R 
> believes them to be in UTF-8 or latin1 encoding?
>
>
> Best regards,
> Stefan Evert
>
> [ stefan.evert at uos.de | http://purl.org/stefan.evert ]
>
>
>
>
>
> Output of sample code on my machine:
>
>>> print(sessionInfo())
>> R version 2.9.2 Patched (2009-09-24 r49861)
>> i386-apple-darwin9.8.0
>> 
>> locale:
>> en_GB/en_GB/C/C/en_GB/en_GB
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> words <- c("aa", "ab", "a\xfc", "a\xe4", "b\xe4", "b\xfc", "\xe4\xfc")
>>> str(words)
>> chr [1:7] "aa" "ab" "a\xfc" "a\xe4" "b\xe4" "b\xfc" ...
>>> print(table(Encoding(words)))
>> 
>> unknown   UTF-8
>>    2       5
>>> 
>>> Encoding(words) <- "latin1"  # this is the correct encoding!
>>> print(table(Encoding(words)))
>> 
>> latin1 unknown
>>    5       2
>>> 
>>> N <- 1000
>>> words <- rep(words, length.out=N)
>>> 
>>> print(N)
>> [1] 1000
>>> for (i in 1:N) {
>> +   x <- words[1:i]
>> +   # the following line will crash for some i, depending on the particular
>> +   # strings in <words> and the subset selected for <x> above
>> +   order(x)
>> + }
>> 
>> *** caught bus error ***
>> address 0x86, cause 'non-existent physical address'
>> 
>> Traceback:
>> 1: order(x)
>> aborting ...
>> Bus error
>
> 64-bit version:
>
>>> print(sessionInfo())
>> R version 2.9.2 Patched (2009-09-24 r49861)
>> x86_64-apple-darwin9.8.0
>> 
>> locale:
>> en_GB/en_GB/C/C/en_GB/en_GB
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> words <- c("aa", "ab", "a\xfc", "a\xe4", "b\xe4", "b\xfc", "\xe4\xfc")
>>> str(words)
>> chr [1:7] "aa" "ab" "a\xfc" "a\xe4" "b\xe4" "b\xfc" ...
>>> print(table(Encoding(words)))
>> 
>> unknown   UTF-8
>>    2       5
>>> 
>>> Encoding(words) <- "latin1"  # this is the correct encoding!
>>> print(table(Encoding(words)))
>> 
>> latin1 unknown
>>    5       2
>>> 
>>> N <- 1000
>>> words <- rep(words, length.out=N)
>>> 
>>> print(N)
>> [1] 1000
>>> for (i in 1:N) {
>> +   x <- words[1:i]
>> +   # the following line will crash for some i, depending on the particular
>> +   # strings in <words> and the subset selected for <x> above
>> +   order(x)
>> + }
>> Error in order(x) : 'translateCharUTF8' must be called on a CHARSXP
>> Execution halted
>> 
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From charlie at stat.umn.edu  Mon Oct  5 19:50:41 2009
From: charlie at stat.umn.edu (Charles Geyer)
Date: Mon, 5 Oct 2009 12:50:41 -0500
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <mailman.17.1254736805.9993.r-devel@r-project.org>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>
Message-ID: <20091005175041.GB31394@stat.umn.edu>

The functions metrop and temper in the mcmc package have a debug = FALSE
argument that when TRUE adds a lot of debugging information to the returned
list.  This is absolutely necessary to test the functions, because one
generally knows nothing about the simulated distribution except what what
one learns from MCMC samples.  Hence you must expose all details of the
simulation to have any hope of checking that it is doing what it is supposed
to do.  However, this information is of interested mostly (perhaps solely)
to developers.  So I didn't document it in the Rd files for these functions.

But it has ocurred to me that people might be interested in how these functions
are validated, and I would like to document the debug output somewhere, but I
don't want to clutter up the documentation that ordinary users see.  That
suggests a separate help page for debugging.  Looking at "Writing R Extensions"
it doesn't seem like there is a type of Rd file for this purpose.  I suppose
it could be added in (fairly long) sections titled "Debug Output" in metrop.Rd
and temper.Rd or it could be put in a package help page (although that's not
what that kind of page is really for).  Any other possibilities to consider?
-- 
Charles Geyer
Professor, School of Statistics
University of Minnesota
charlie at stat.umn.edu


From murdoch at stats.uwo.ca  Mon Oct  5 20:03:51 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 05 Oct 2009 14:03:51 -0400
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <20091005175041.GB31394@stat.umn.edu>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>
	<20091005175041.GB31394@stat.umn.edu>
Message-ID: <4ACA3507.3000004@stats.uwo.ca>

On 10/5/2009 1:50 PM, Charles Geyer wrote:
> The functions metrop and temper in the mcmc package have a debug = FALSE
> argument that when TRUE adds a lot of debugging information to the returned
> list.  This is absolutely necessary to test the functions, because one
> generally knows nothing about the simulated distribution except what what
> one learns from MCMC samples.  Hence you must expose all details of the
> simulation to have any hope of checking that it is doing what it is supposed
> to do.  However, this information is of interested mostly (perhaps solely)
> to developers.  So I didn't document it in the Rd files for these functions.
> 
> But it has ocurred to me that people might be interested in how these functions
> are validated, and I would like to document the debug output somewhere, but I
> don't want to clutter up the documentation that ordinary users see.  That
> suggests a separate help page for debugging.  Looking at "Writing R Extensions"
> it doesn't seem like there is a type of Rd file for this purpose.  I suppose
> it could be added in (fairly long) sections titled "Debug Output" in metrop.Rd
> and temper.Rd or it could be put in a package help page (although that's not
> what that kind of page is really for).  Any other possibilities to consider?

I think writing it up in a vignette would probably be most appropriate. 
  You can link directly to a vignette from a man page (though not, 
unfortunately, vice versa).  For example, if you look at
package?grid, you'll see a list that was generated by this code:

Further information is available in the following
\link{vignettes}:
\tabular{ll}{
\code{grid} \tab Introduction to \code{grid} (\url{../doc/grid.pdf})\cr
\code{displaylist} \tab Display Lists in \code{grid} 
(\url{../doc/displaylist.pdf})\cr

...

Duncan Murdoch


From wdunlap at tibco.com  Mon Oct  5 20:32:17 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Mon, 5 Oct 2009 11:32:17 -0700
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <20091005175041.GB31394@stat.umn.edu>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>
	<20091005175041.GB31394@stat.umn.edu>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>

There are several help files in the R sources that
describe concepts and not particular R objects.
E.g., help(Methods), help(Syntax), and help(regex).
They don't have a docType  entry and their alias
entries do not refer to functions.  Perhaps your
debugging documentation could go into a similar
*.Rd file.

Does check balk at such help files in a package? Should it?
Should there be a special docType for such help files?

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com  

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Charles Geyer
> Sent: Monday, October 05, 2009 10:51 AM
> To: r-devel at r-project.org
> Subject: [Rd] how to document stuff most users don't want to see
> 
> The functions metrop and temper in the mcmc package have a 
> debug = FALSE
> argument that when TRUE adds a lot of debugging information 
> to the returned
> list.  This is absolutely necessary to test the functions, because one
> generally knows nothing about the simulated distribution 
> except what what
> one learns from MCMC samples.  Hence you must expose all 
> details of the
> simulation to have any hope of checking that it is doing what 
> it is supposed
> to do.  However, this information is of interested mostly 
> (perhaps solely)
> to developers.  So I didn't document it in the Rd files for 
> these functions.
> 
> But it has ocurred to me that people might be interested in 
> how these functions
> are validated, and I would like to document the debug output 
> somewhere, but I
> don't want to clutter up the documentation that ordinary 
> users see.  That
> suggests a separate help page for debugging.  Looking at 
> "Writing R Extensions"
> it doesn't seem like there is a type of Rd file for this 
> purpose.  I suppose
> it could be added in (fairly long) sections titled "Debug 
> Output" in metrop.Rd
> and temper.Rd or it could be put in a package help page 
> (although that's not
> what that kind of page is really for).  Any other 
> possibilities to consider?
> -- 
> Charles Geyer
> Professor, School of Statistics
> University of Minnesota
> charlie at stat.umn.edu
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From blair.christian at gmail.com  Mon Oct  5 21:01:00 2009
From: blair.christian at gmail.com (Blair Christian)
Date: Mon, 5 Oct 2009 15:01:00 -0400
Subject: [Rd] unit testing for R packages?
Message-ID: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>

Hi All,

I'm interested in putting some unit tests into an R package I'm
building.  I have seen assorted things such as Runit library, svUnit
library, packages
with 'tests' directories, etc

I grep'd "unit test" through the writing R extensions manual but didn't find
anything.  Are there any suggestions out there?  Currently I have
several (a lot?) classes/methods that I keep tinkering with, and I'd
like to run a script frequently to check that I don't cause any
unforeseen problems.

Right now I'm writing the classes/methods, but will be packaging it up soon.

Thx,
Blair


From spencer.graves at prodsyse.com  Mon Oct  5 21:01:32 2009
From: spencer.graves at prodsyse.com (spencerg)
Date: Mon, 05 Oct 2009 12:01:32 -0700
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>	<20091005175041.GB31394@stat.umn.edu>
	<77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>
Message-ID: <4ACA428C.80102@prodsyse.com>

There are many arguments in many functions that are rarely used.  I 
prefer to see it all documented in the help pages.  If they are not 
documented in the help pages (and sometimes even if they are), a user 
who wants them can invent other ways to get similar information with 
much greater effort, and do so for years only to eventually find a much 
easier way buried in the documentation.  Example:  I was frustrated for 
years that "nls" would refuse to produce output if it did not converge.  
I often used "optim" instead of "nls" for that reason.  However, the 
list returned by "optim" does not have the nice methods that one can use 
with an "nls" object.  Eventually, I found the "warnOnly" option 
documented under "nls.control", which has made "nls" easier for me to use. 

Spencer Graves


William Dunlap wrote:
> There are several help files in the R sources that
> describe concepts and not particular R objects.
> E.g., help(Methods), help(Syntax), and help(regex).
> They don't have a docType  entry and their alias
> entries do not refer to functions.  Perhaps your
> debugging documentation could go into a similar
> *.Rd file.
>
> Does check balk at such help files in a package? Should it?
> Should there be a special docType for such help files?
>
> Bill Dunlap
> Spotfire, TIBCO Software
> wdunlap tibco.com  
>
>   
>> -----Original Message-----
>> From: r-devel-bounces at r-project.org 
>> [mailto:r-devel-bounces at r-project.org] On Behalf Of Charles Geyer
>> Sent: Monday, October 05, 2009 10:51 AM
>> To: r-devel at r-project.org
>> Subject: [Rd] how to document stuff most users don't want to see
>>
>> The functions metrop and temper in the mcmc package have a 
>> debug = FALSE
>> argument that when TRUE adds a lot of debugging information 
>> to the returned
>> list.  This is absolutely necessary to test the functions, because one
>> generally knows nothing about the simulated distribution 
>> except what what
>> one learns from MCMC samples.  Hence you must expose all 
>> details of the
>> simulation to have any hope of checking that it is doing what 
>> it is supposed
>> to do.  However, this information is of interested mostly 
>> (perhaps solely)
>> to developers.  So I didn't document it in the Rd files for 
>> these functions.
>>
>> But it has ocurred to me that people might be interested in 
>> how these functions
>> are validated, and I would like to document the debug output 
>> somewhere, but I
>> don't want to clutter up the documentation that ordinary 
>> users see.  That
>> suggests a separate help page for debugging.  Looking at 
>> "Writing R Extensions"
>> it doesn't seem like there is a type of Rd file for this 
>> purpose.  I suppose
>> it could be added in (fairly long) sections titled "Debug 
>> Output" in metrop.Rd
>> and temper.Rd or it could be put in a package help page 
>> (although that's not
>> what that kind of page is really for).  Any other 
>> possibilities to consider?
>> -- 
>> Charles Geyer
>> Professor, School of Statistics
>> University of Minnesota
>> charlie at stat.umn.edu
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>     
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>   


-- 
Spencer Graves, PE, PhD
President and Chief Operating Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567


From murdoch at stats.uwo.ca  Mon Oct  5 21:18:42 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 05 Oct 2009 15:18:42 -0400
Subject: [Rd] unit testing for R packages?
In-Reply-To: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
Message-ID: <4ACA4692.5080407@stats.uwo.ca>

On 10/5/2009 3:01 PM, Blair Christian wrote:
> Hi All,
> 
> I'm interested in putting some unit tests into an R package I'm
> building.  I have seen assorted things such as Runit library, svUnit
> library, packages
> with 'tests' directories, etc
> 
> I grep'd "unit test" through the writing R extensions manual but didn't find
> anything.  Are there any suggestions out there?  


Nothing very specific, but what there is is described in that manual in 
the discussion of the "tests" subdirectory.

Duncan Murdoch

Currently I have
> several (a lot?) classes/methods that I keep tinkering with, and I'd
> like to run a script frequently to check that I don't cause any
> unforeseen problems.
> 
> Right now I'm writing the classes/methods, but will be packaging it up soon.
> 
> Thx,
> Blair
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From seth at userprimary.net  Mon Oct  5 21:48:11 2009
From: seth at userprimary.net (Seth Falcon)
Date: Mon, 5 Oct 2009 12:48:11 -0700
Subject: [Rd] unit testing for R packages?
In-Reply-To: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
Message-ID: <486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>

Hi,

On Mon, Oct 5, 2009 at 12:01 PM, Blair Christian
<blair.christian at gmail.com> wrote:
> I'm interested in putting some unit tests into an R package I'm
> building. ?I have seen assorted things such as Runit library, svUnit
> library, packages
> with 'tests' directories, etc
>
> I grep'd "unit test" through the writing R extensions manual but didn't find
> anything. ?Are there any suggestions out there? ?Currently I have
> several (a lot?) classes/methods that I keep tinkering with, and I'd
> like to run a script frequently to check that I don't cause any
> unforeseen problems.

I've had good experiences using RUnit.  To date, I've mostly used
RUnit by putting tests in inst/unitTests and creating a Makefile there
to run the tests.  You should also be able to use RUnit in a more
interactive fashion inside an interactive R session in which you are
doing development.

The vignette in svUnit has an interesting approach for integrating
unit testing into R CMD check via examples in an Rd file within the
package.

+ seth

-- 
Seth Falcon | @sfalcon | http://userprimary.net/user


From pgilbert at bank-banque-canada.ca  Mon Oct  5 22:37:23 2009
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 5 Oct 2009 16:37:23 -0400
Subject: [Rd] unit testing for R packages?
In-Reply-To: <486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
Message-ID: <D611103AA7EE3B4DAE7F7D49C72B291A01D6BE84@EXMAIL2.bocad.bank-banque-canada.ca>

Seth

I should look at RUnit more carefully sometime, but having had my own system in place from much earlier, I've never made the move. Basically I just use files in the tests/ directory which are run by a makefile in the package directory above. Roughly, this just means that I can run the tests quickly before building and checking the package. Is there a (very short) explanation of the main things that RUnit gives beyond this?

Thanks,
Paul

> -----Original Message-----
> From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-
> project.org] On Behalf Of Seth Falcon
> Sent: October 5, 2009 3:48 PM
> To: Blair Christian
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] unit testing for R packages?
> 
> Hi,
> 
> On Mon, Oct 5, 2009 at 12:01 PM, Blair Christian
> <blair.christian at gmail.com> wrote:
> > I'm interested in putting some unit tests into an R package I'm
> > building. ?I have seen assorted things such as Runit library, svUnit
> > library, packages
> > with 'tests' directories, etc
> >
> > I grep'd "unit test" through the writing R extensions manual but
> didn't find
> > anything. ?Are there any suggestions out there? ?Currently I have
> > several (a lot?) classes/methods that I keep tinkering with, and I'd
> > like to run a script frequently to check that I don't cause any
> > unforeseen problems.
> 
> I've had good experiences using RUnit.  To date, I've mostly used
> RUnit by putting tests in inst/unitTests and creating a Makefile there
> to run the tests.  You should also be able to use RUnit in a more
> interactive fashion inside an interactive R session in which you are
> doing development.
> 
> The vignette in svUnit has an interesting approach for integrating
> unit testing into R CMD check via examples in an Rd file within the
> package.
> 
> + seth
> 
> --
> Seth Falcon | @sfalcon | http://userprimary.net/user
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
====================================================================================

La version fran?aise suit le texte anglais.

------------------------------------------------------------------------------------

This email may contain privileged and/or confidential information, and the Bank of
Canada does not waive any related rights. Any distribution, use, or copying of this
email or the information it contains by other than the intended recipient is
unauthorized. If you received this email in error please delete it immediately from
your system and notify the sender promptly by email that you have done so. 

------------------------------------------------------------------------------------

Le pr?sent courriel peut contenir de l'information privil?gi?e ou confidentielle.
La Banque du Canada ne renonce pas aux droits qui s'y rapportent. Toute diffusion,
utilisation ou copie de ce courriel ou des renseignements qu'il contient par une
personne autre que le ou les destinataires d?sign?s est interdite. Si vous recevez
ce courriel par erreur, veuillez le supprimer imm?diatement et envoyer sans d?lai ?
l'exp?diteur un message ?lectronique pour l'aviser que vous avez ?limin? de votre
ordinateur toute copie du courriel re?u.

From spencer.graves at prodsyse.com  Mon Oct  5 22:39:34 2009
From: spencer.graves at prodsyse.com (spencerg)
Date: Mon, 05 Oct 2009 13:39:34 -0700
Subject: [Rd] unit testing for R packages?
In-Reply-To: <486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
Message-ID: <4ACA5986.5010606@prodsyse.com>

I put unit test in the examples, using "\dontshow" to hide "stopifnot".  
Many help pages I've written contain code like the following: 


A <- functionDocumentedHere()
B <- manuallyComputedAnswer

\dontshow{stopifnot(}
all.equal(A, B)
\dontshow{)}


      I think it helps the documentation to include an example comparing 
a special case computed using a function with a manual computation.  
However, "stopifnot" contributes nothing to user understanding, so I 
hide it.  One could also use "\dontshow" to hide entire examples that 
check trivial details you think would not interest users. 


      Spencer


Seth Falcon wrote:
> Hi,
>
> On Mon, Oct 5, 2009 at 12:01 PM, Blair Christian
> <blair.christian at gmail.com> wrote:
>   
>> I'm interested in putting some unit tests into an R package I'm
>> building.  I have seen assorted things such as Runit library, svUnit
>> library, packages
>> with 'tests' directories, etc
>>
>> I grep'd "unit test" through the writing R extensions manual but didn't find
>> anything.  Are there any suggestions out there?  Currently I have
>> several (a lot?) classes/methods that I keep tinkering with, and I'd
>> like to run a script frequently to check that I don't cause any
>> unforeseen problems.
>>     
>
> I've had good experiences using RUnit.  To date, I've mostly used
> RUnit by putting tests in inst/unitTests and creating a Makefile there
> to run the tests.  You should also be able to use RUnit in a more
> interactive fashion inside an interactive R session in which you are
> doing development.
>
> The vignette in svUnit has an interesting approach for integrating
> unit testing into R CMD check via examples in an Rd file within the
> package.
>
> + seth
>
>   


-- 
Spencer Graves, PE, PhD
President and Chief Operating Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567


From lobry at biomserv.univ-lyon1.fr  Mon Oct  5 23:05:17 2009
From: lobry at biomserv.univ-lyon1.fr (lobry at biomserv.univ-lyon1.fr)
Date: Mon,  5 Oct 2009 23:05:17 +0200 (CEST)
Subject: [Rd] Wish for stripchart to handle pch %in% 21:25 with bg (PR#13984)
Message-ID: <20091005210517.79B94282EFC9@mail.pubhealth.ku.dk>

Full_Name: Jean Lobry
Version: 2.9.0
OS: i386-apple-darwin8.11.1
Submission from: (NULL) (83.197.82.45)


Dear R-core,

I have posted <a href="http://finzi.psych.upenn.edu/Rhelp08/2009-September/212688.html">this</a>
on R-help, and then <a
href="http://finzi.psych.upenn.edu/R/R-devel/2009-September/054929.html">that</a>
on R-Dev.

Looks for me as a documentation bug for the naive user: the documentation for
function stripchart() should state more explicitly that it does not handle
colorized points (i.e. pch in 21:25). I agree that the documentation is
perfectly correct for advanced users, but this is not cristal clear, under
2.9.0, try:

###
x <- round(rnorm(50))
stripchart(x,  pch = 21, col = "black", bg = "pink", method = "jitter")
points(0.5, 1, pch = 21, col = "black", bg = "pink", cex = 2)
###

My wish is either for stripchart() to handle this case or for the documentation
of stripchart() to say more explicitly that it does not handle this case.

Not very important, but this is a real end-user casework. Hope you enjoy how
I was reluctant to submit a "documentation bug" report in this case.

HTH,

Best,

Z.


From atp at piskorski.com  Mon Oct  5 23:22:02 2009
From: atp at piskorski.com (Andrew Piskorski)
Date: Mon, 5 Oct 2009 17:22:02 -0400
Subject: [Rd] R's --enable-threads does nothing?; gdb needs -lpthread
Message-ID: <20091005212202.GA49270@piskorski.com>

In the R-2-9-branch (svn revision 49914, 2009-09-24), R's configure
script has an "--enable-threads" option.  But, does it do anything
useful?  When I use "--enable-threads=posix", some of the configure
output changes slightly, but it seems to have no effect on the actual
link commands used when building R.  Is that a bug, or am I
misunderstanding what it's supposed to do?

Btw, ldd said that exactly these 4 objects are linked against
libpthread.so.0, regardless of whether I use --enable-threads or not:
 
  ./lib/R/modules/x86_64/R_X11.so
  ./lib/R/library/tcltk/libs/x86_64/tcltk.so
  ./lib/R/site-library/bigmemory/libs/x86_64/bigmemory.so
  ./lib/R/site-library/Rmpi/libs/x86_64/Rmpi.so

Next I tried setting the "LIBS=-lpthread" environment variable when
calling configure - that works.  (Perhaps I should have also set
FLIBS, I'm not sure.)  The generated Makeconf file now has this:

  LIBS =  -ldl -lm -lpthread 

and building with that links my libR.so against libpthread.so.0, which
fixes the gdb problem described below.  Is there any reason you know
of NOT to link R with -lpthread on Linux, any potential downside?

Now, why do I care about this -lpthread stuff in the first place?
It's to work around a gdb limitation.

I have a custom library of C code which I use from R, and my library
needs to be linked with -lpthread.  I know that R isn't thread-safe,
and my code is not itself using threads, but it in turn statically
links in some lower level libraries which insist on having the
-lpthread.

That has worked fine for me for a long time, no problems, except that
gdb won't work!  When I run R under the debugger with "R -d gdb", gdb
only works if my own linked-with-pthread package is NOT loaded.  As
soon as I load it, gdb stops with this error:

   [Thread debugging using libthread_db enabled] 
   Error while reading shared library symbols: 
   Cannot find new threads: generic error 

Googling says that happens because the R binary starts out without
thread support, and gdb doesn't know what to do when my *.so suddenly
brings in the thread stuff.  Since I can't stop using -lpthread in my
library, the obvious fix is for me to build R itself with -lpthread,
so gdb doesn't get confused.

-- 
Andrew Piskorski <atp at piskorski.com>
http://www.piskorski.com/


From murdoch at stats.uwo.ca  Mon Oct  5 23:52:53 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 05 Oct 2009 17:52:53 -0400
Subject: [Rd] unit testing for R packages?
In-Reply-To: <4ACA5986.5010606@prodsyse.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
	<4ACA5986.5010606@prodsyse.com>
Message-ID: <4ACA6AB5.6090806@stats.uwo.ca>

On 05/10/2009 4:39 PM, spencerg wrote:
> I put unit test in the examples, using "\dontshow" to hide "stopifnot".  
> Many help pages I've written contain code like the following: 
> 
> 
> A <- functionDocumentedHere()
> B <- manuallyComputedAnswer
> 
> \dontshow{stopifnot(}
> all.equal(A, B)
> \dontshow{)}

This will fail in a future release of R, because those aren't valid 
expressions within \dontshow{}, which expects R code.  You can achieve 
the same effect using the clearer

all.equal(A,B)
\dontshow{ stopifnot(isTrue(.Last.value)) }

Duncan Murdoch

> 
> 
>       I think it helps the documentation to include an example comparing 
> a special case computed using a function with a manual computation.  
> However, "stopifnot" contributes nothing to user understanding, so I 
> hide it.  One could also use "\dontshow" to hide entire examples that 
> check trivial details you think would not interest users. 
> 
> 
>       Spencer
> 
> 
> Seth Falcon wrote:
>> Hi,
>>
>> On Mon, Oct 5, 2009 at 12:01 PM, Blair Christian
>> <blair.christian at gmail.com> wrote:
>>   
>>> I'm interested in putting some unit tests into an R package I'm
>>> building.  I have seen assorted things such as Runit library, svUnit
>>> library, packages
>>> with 'tests' directories, etc
>>>
>>> I grep'd "unit test" through the writing R extensions manual but didn't find
>>> anything.  Are there any suggestions out there?  Currently I have
>>> several (a lot?) classes/methods that I keep tinkering with, and I'd
>>> like to run a script frequently to check that I don't cause any
>>> unforeseen problems.
>>>     
>> I've had good experiences using RUnit.  To date, I've mostly used
>> RUnit by putting tests in inst/unitTests and creating a Makefile there
>> to run the tests.  You should also be able to use RUnit in a more
>> interactive fashion inside an interactive R session in which you are
>> doing development.
>>
>> The vignette in svUnit has an interesting approach for integrating
>> unit testing into R CMD check via examples in an Rd file within the
>> package.
>>
>> + seth
>>
>>   
> 
>


From spencer.graves at prodsyse.com  Tue Oct  6 00:06:05 2009
From: spencer.graves at prodsyse.com (spencerg)
Date: Mon, 05 Oct 2009 15:06:05 -0700
Subject: [Rd] unit testing for R packages?
In-Reply-To: <4ACA6AB5.6090806@stats.uwo.ca>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
	<4ACA5986.5010606@prodsyse.com> <4ACA6AB5.6090806@stats.uwo.ca>
Message-ID: <4ACA6DCD.2000609@prodsyse.com>

Hi, Duncan: 


      Thanks for the warning.  Can you give me a hint of which release 
might require this?  In particular, will it be R 2.10.0, coming quite 
soon? 


      Thanks,
      Spencer


Duncan Murdoch wrote:
> On 05/10/2009 4:39 PM, spencerg wrote:
>> I put unit test in the examples, using "\dontshow" to hide 
>> "stopifnot".  Many help pages I've written contain code like the 
>> following:
>>
>> A <- functionDocumentedHere()
>> B <- manuallyComputedAnswer
>>
>> \dontshow{stopifnot(}
>> all.equal(A, B)
>> \dontshow{)}
>
> This will fail in a future release of R, because those aren't valid 
> expressions within \dontshow{}, which expects R code.  You can achieve 
> the same effect using the clearer
>
> all.equal(A,B)
> \dontshow{ stopifnot(isTrue(.Last.value)) }
>
> Duncan Murdoch
>
>>
>>
>>       I think it helps the documentation to include an example 
>> comparing a special case computed using a function with a manual 
>> computation.  However, "stopifnot" contributes nothing to user 
>> understanding, so I hide it.  One could also use "\dontshow" to hide 
>> entire examples that check trivial details you think would not 
>> interest users.
>>
>>       Spencer
>>
>>
>> Seth Falcon wrote:
>>> Hi,
>>>
>>> On Mon, Oct 5, 2009 at 12:01 PM, Blair Christian
>>> <blair.christian at gmail.com> wrote:
>>>  
>>>> I'm interested in putting some unit tests into an R package I'm
>>>> building.  I have seen assorted things such as Runit library, svUnit
>>>> library, packages
>>>> with 'tests' directories, etc
>>>>
>>>> I grep'd "unit test" through the writing R extensions manual but 
>>>> didn't find
>>>> anything.  Are there any suggestions out there?  Currently I have
>>>> several (a lot?) classes/methods that I keep tinkering with, and I'd
>>>> like to run a script frequently to check that I don't cause any
>>>> unforeseen problems.
>>>>     
>>> I've had good experiences using RUnit.  To date, I've mostly used
>>> RUnit by putting tests in inst/unitTests and creating a Makefile there
>>> to run the tests.  You should also be able to use RUnit in a more
>>> interactive fashion inside an interactive R session in which you are
>>> doing development.
>>>
>>> The vignette in svUnit has an interesting approach for integrating
>>> unit testing into R CMD check via examples in an Rd file within the
>>> package.
>>>
>>> + seth
>>>
>>>   
>>
>>
>
>


-- 
Spencer Graves, PE, PhD
President and Chief Operating Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567


From murdoch at stats.uwo.ca  Tue Oct  6 00:39:21 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 05 Oct 2009 18:39:21 -0400
Subject: [Rd] unit testing for R packages?
In-Reply-To: <4ACA6DCD.2000609@prodsyse.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
	<4ACA5986.5010606@prodsyse.com> <4ACA6AB5.6090806@stats.uwo.ca>
	<4ACA6DCD.2000609@prodsyse.com>
Message-ID: <4ACA7599.5080800@stats.uwo.ca>

On 05/10/2009 6:06 PM, spencerg wrote:
> Hi, Duncan: 
> 
> 
>       Thanks for the warning.  Can you give me a hint of which release 
> might require this?  In particular, will it be R 2.10.0, coming quite 
> soon? 

The alpha version of 2.10.0 lets this pass, and I can't see changing 
that now.  But 2.11.0 (due next spring) may well enforce the rules that 
have been documented but unenforced since before the release of 2.9.0.

Duncan Murdoch

> 
>       Thanks,
>       Spencer
> 
> 
> Duncan Murdoch wrote:
>> On 05/10/2009 4:39 PM, spencerg wrote:
>>> I put unit test in the examples, using "\dontshow" to hide 
>>> "stopifnot".  Many help pages I've written contain code like the 
>>> following:
>>>
>>> A <- functionDocumentedHere()
>>> B <- manuallyComputedAnswer
>>>
>>> \dontshow{stopifnot(}
>>> all.equal(A, B)
>>> \dontshow{)}
>> This will fail in a future release of R, because those aren't valid 
>> expressions within \dontshow{}, which expects R code.  You can achieve 
>> the same effect using the clearer
>>
>> all.equal(A,B)
>> \dontshow{ stopifnot(isTrue(.Last.value)) }
>>
>> Duncan Murdoch
>>
>>>
>>>       I think it helps the documentation to include an example 
>>> comparing a special case computed using a function with a manual 
>>> computation.  However, "stopifnot" contributes nothing to user 
>>> understanding, so I hide it.  One could also use "\dontshow" to hide 
>>> entire examples that check trivial details you think would not 
>>> interest users.
>>>
>>>       Spencer
>>>
>>>
>>> Seth Falcon wrote:
>>>> Hi,
>>>>
>>>> On Mon, Oct 5, 2009 at 12:01 PM, Blair Christian
>>>> <blair.christian at gmail.com> wrote:
>>>>  
>>>>> I'm interested in putting some unit tests into an R package I'm
>>>>> building.  I have seen assorted things such as Runit library, svUnit
>>>>> library, packages
>>>>> with 'tests' directories, etc
>>>>>
>>>>> I grep'd "unit test" through the writing R extensions manual but 
>>>>> didn't find
>>>>> anything.  Are there any suggestions out there?  Currently I have
>>>>> several (a lot?) classes/methods that I keep tinkering with, and I'd
>>>>> like to run a script frequently to check that I don't cause any
>>>>> unforeseen problems.
>>>>>     
>>>> I've had good experiences using RUnit.  To date, I've mostly used
>>>> RUnit by putting tests in inst/unitTests and creating a Makefile there
>>>> to run the tests.  You should also be able to use RUnit in a more
>>>> interactive fashion inside an interactive R session in which you are
>>>> doing development.
>>>>
>>>> The vignette in svUnit has an interesting approach for integrating
>>>> unit testing into R CMD check via examples in an Rd file within the
>>>> package.
>>>>
>>>> + seth
>>>>
>>>>   
>>>
>>
> 
>


From richcalaway at revolution-computing.com  Tue Oct  6 01:00:10 2009
From: richcalaway at revolution-computing.com (richcalaway at revolution-computing.com)
Date: Tue,  6 Oct 2009 01:00:10 +0200 (CEST)
Subject: [Rd] str() gives odd looking output on complex vectors that are not
	purely imaginary (PR#13985)
Message-ID: <20091005230010.972B4282EFC9@mail.pubhealth.ku.dk>

Full_Name: Rich Calaway
Version: R 2.9.2
OS: Windows Vista
Submission from: (NULL) (65.47.30.18)


Try this:

x <- rnorm(25)
y <- rnorm(25)*1i
z <- x+y
str(z)
str(y)

When I try this, I see the following:

> str(z)
 cplx [1:25] 0.0102+ 0.9463-1 -1.1111+ ...
> str(y)
 cplx [1:25] 0+0.0975i 0-1.5060i 0+0.4071i ...

I see this in 2.9.2 and in the alpha build of 2.10.0:
> sessionInfo()
R version 2.9.2 (2009-08-24) 
i386-pc-intel32 
locale:
LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
States.1252;LC_MONETARY=English_United
States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252
attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
other attached packages:
[1] Revobase_0.2-1
loaded via a namespace (and not attached):
[1] pkgXMLBuilder_1.0 XML_2.6-0

> sessionInfo()
R version 2.10.0 alpha (2009-10-04 r49926) 
i386-pc-mingw32 

locale:
[1] LC_COLLATE=English_United States.1252 
[2] LC_CTYPE=English_United States.1252   
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


From h.wickham at gmail.com  Tue Oct  6 01:33:23 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Mon, 5 Oct 2009 18:33:23 -0500
Subject: [Rd] Characters vs. factors
Message-ID: <f8e6ff050910051633v55fc01b6i5ab9ab2ff201eff9@mail.gmail.com>

It seems like a recent trend in R has been to make character vectors
and factors almost equivalent (apart from the way that factors always
remember their original range).  There are a few exceptions:

 * summary.character != summary.factor
 * table(x, exclude = NULL) != table(factor(x), exclude=NULL) when x
includes missing values

 * strsplit on a factor

> strsplit(factor(c("a", "a b")), " ")
Error in strsplit(factor(c("a", "a b")), " ") : non-character argument

 * nchar on a factor:

> nchar(factor(c("abc", "d", "defgh")))
[1] 1 1 1

 * : with two character strings

> "a":"b"
Error in "a":"b" : NA/NaN argument
In addition: Warning messages:
1: NAs introduced by coercion
2: NAs introduced by coercion
> factor("a"):factor("b")
[1] a:b
Levels: a:b

Regards,

Hadley

-- 
http://had.co.nz/


From phgrosjean at sciviews.org  Tue Oct  6 01:43:42 2009
From: phgrosjean at sciviews.org (Philippe Grosjean)
Date: Tue, 06 Oct 2009 01:43:42 +0200
Subject: [Rd] unit testing for R packages?
In-Reply-To: <486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
Message-ID: <4ACA84AE.5050708@sciviews.org>

Hi,

I am the writer of svUnit. My initial goal was to build functions on top
of RUnit which is older, and certainly deserves all the credit for core
test unit functions. Unfortunately, the way RUnit is working internally
did not allowed me to build the extensions I needed.

Now, as Seth already told, there are several functions in svUnit that
ease interactive use of the tests in an R session. What he did not told
is that RUnit has some nice code coverage functions that svUnit does not
have.

Thus, not easy to decide... The good news is that both RUnit and svUnit
are almost completely compatible with test unit code, that is, the same
code put in inst/unitTests should run with both packages. So, you could
write your test units, try both approaches in practice, and finally
decide after a little bit of experiment which one you prefer (at least,
read the vignette of each packages).

In case you use Komodo Edit as R code editor, there is a nice GUI
interactive panel to svUnit available (see
http://www.sciviews.org/SciViews-K).

Best,

Philippe Grosjean

Seth Falcon wrote:
> Hi,
> 
> On Mon, Oct 5, 2009 at 12:01 PM, Blair Christian
> <blair.christian at gmail.com> wrote:
>> I'm interested in putting some unit tests into an R package I'm
>> building.  I have seen assorted things such as Runit library, svUnit
>> library, packages
>> with 'tests' directories, etc
>>
>> I grep'd "unit test" through the writing R extensions manual but didn't find
>> anything.  Are there any suggestions out there?  Currently I have
>> several (a lot?) classes/methods that I keep tinkering with, and I'd
>> like to run a script frequently to check that I don't cause any
>> unforeseen problems.
> 
> I've had good experiences using RUnit.  To date, I've mostly used
> RUnit by putting tests in inst/unitTests and creating a Makefile there
> to run the tests.  You should also be able to use RUnit in a more
> interactive fashion inside an interactive R session in which you are
> doing development.
> 
> The vignette in svUnit has an interesting approach for integrating
> unit testing into R CMD check via examples in an Rd file within the
> package.
> 
> + seth
>


From h.wickham at gmail.com  Tue Oct  6 02:44:56 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Mon, 5 Oct 2009 19:44:56 -0500
Subject: [Rd] unit testing for R packages?
In-Reply-To: <4ACA84AE.5050708@sciviews.org>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com> 
	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com> 
	<4ACA84AE.5050708@sciviews.org>
Message-ID: <f8e6ff050910051744s2569f535nf56c34e04c9b2c3e@mail.gmail.com>

> Now, as Seth already told, there are several functions in svUnit that
> ease interactive use of the tests in an R session. What he did not told
> is that RUnit has some nice code coverage functions that svUnit does not
> have.

What are those? I've skimmed through the documentation and couldn't
see anything?

Hadley

-- 
http://had.co.nz/


From cowan.pd at gmail.com  Tue Oct  6 03:48:42 2009
From: cowan.pd at gmail.com (Peter Cowan)
Date: Mon, 5 Oct 2009 18:48:42 -0700
Subject: [Rd] unit testing for R packages?
In-Reply-To: <f8e6ff050910051744s2569f535nf56c34e04c9b2c3e@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
	<4ACA84AE.5050708@sciviews.org>
	<f8e6ff050910051744s2569f535nf56c34e04c9b2c3e@mail.gmail.com>
Message-ID: <e1fc21b0910051848m40885052s8cef5959a14a659d@mail.gmail.com>

On Mon, Oct 5, 2009 at 5:44 PM, hadley wickham <h.wickham at gmail.com> wrote:
>> Now, as Seth already told, there are several functions in svUnit that
>> ease interactive use of the tests in an R session. What he did not told
>> is that RUnit has some nice code coverage functions that svUnit does not
>> have.
>
> What are those? I've skimmed through the documentation and couldn't
> see anything?

The R wiki has information about both RUnit and svUnit.  I'm not sure
that it details all of the differences.  I have successfully used the
methodology of the gdata package described there.

<http://wiki.r-project.org/rwiki/doku.php?id=developers:runit>

Peter



> Hadley
>
> --
> http://had.co.nz/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From h.wickham at gmail.com  Tue Oct  6 04:00:42 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Mon, 5 Oct 2009 21:00:42 -0500
Subject: [Rd] unit testing for R packages?
In-Reply-To: <e1fc21b0910051848m40885052s8cef5959a14a659d@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com> 
	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com> 
	<4ACA84AE.5050708@sciviews.org>
	<f8e6ff050910051744s2569f535nf56c34e04c9b2c3e@mail.gmail.com> 
	<e1fc21b0910051848m40885052s8cef5959a14a659d@mail.gmail.com>
Message-ID: <f8e6ff050910051900w778505e9i1decdafdcebe7d13@mail.gmail.com>

On Mon, Oct 5, 2009 at 8:48 PM, Peter Cowan <cowan.pd at gmail.com> wrote:
> On Mon, Oct 5, 2009 at 5:44 PM, hadley wickham <h.wickham at gmail.com> wrote:
>>> Now, as Seth already told, there are several functions in svUnit that
>>> ease interactive use of the tests in an R session. What he did not told
>>> is that RUnit has some nice code coverage functions that svUnit does not
>>> have.
>>
>> What are those? I've skimmed through the documentation and couldn't
>> see anything?
>
> The R wiki has information about both RUnit and svUnit. ?I'm not sure
> that it details all of the differences. ?I have successfully used the
> methodology of the gdata package described there.

Sorry, I should have been more explicit.  I was interested
particularly in the code coverage functions.

Hadley


-- 
http://had.co.nz/


From cowan.pd at gmail.com  Tue Oct  6 04:06:00 2009
From: cowan.pd at gmail.com (Peter Cowan)
Date: Mon, 5 Oct 2009 19:06:00 -0700
Subject: [Rd] unit testing for R packages?
In-Reply-To: <f8e6ff050910051900w778505e9i1decdafdcebe7d13@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
	<486f230c0910051248xd9d9ab9ie3ac6358184e2989@mail.gmail.com>
	<4ACA84AE.5050708@sciviews.org>
	<f8e6ff050910051744s2569f535nf56c34e04c9b2c3e@mail.gmail.com>
	<e1fc21b0910051848m40885052s8cef5959a14a659d@mail.gmail.com>
	<f8e6ff050910051900w778505e9i1decdafdcebe7d13@mail.gmail.com>
Message-ID: <e1fc21b0910051906q50600d92pf84766fce1281ce7@mail.gmail.com>

On Mon, Oct 5, 2009 at 7:00 PM, hadley wickham <h.wickham at gmail.com> wrote:
> On Mon, Oct 5, 2009 at 8:48 PM, Peter Cowan <cowan.pd at gmail.com> wrote:
>> On Mon, Oct 5, 2009 at 5:44 PM, hadley wickham <h.wickham at gmail.com> wrote:
>>>> Now, as Seth already told, there are several functions in svUnit that
>>>> ease interactive use of the tests in an R session. What he did not told
>>>> is that RUnit has some nice code coverage functions that svUnit does not
>>>> have.
>>>
>>> What are those? I've skimmed through the documentation and couldn't
>>> see anything?
>>
>> The R wiki has information about both RUnit and svUnit. ?I'm not sure
>> that it details all of the differences. ?I have successfully used the
>> methodology of the gdata package described there.
>
> Sorry, I should have been more explicit. ?I was interested
> particularly in the code coverage functions.

Those are the inspect and tracker functions of the RUnit package.
I've only played with these functions, how do other developers use
them?

> Hadley

> http://had.co.nz/
>


From david at revolution-computing.com  Tue Oct  6 04:46:43 2009
From: david at revolution-computing.com (David M Smith)
Date: Mon, 5 Oct 2009 19:46:43 -0700
Subject: [Rd] Characters vs. factors
In-Reply-To: <f8e6ff050910051633v55fc01b6i5ab9ab2ff201eff9@mail.gmail.com>
References: <f8e6ff050910051633v55fc01b6i5ab9ab2ff201eff9@mail.gmail.com>
Message-ID: <475a3c8f0910051946o1f8be428m7c46a5cbb9666b96@mail.gmail.com>

On Mon, Oct 5, 2009 at 4:33 PM, hadley wickham <h.wickham at gmail.com> wrote:
> It seems like a recent trend in R has been to make character vectors
> and factors almost equivalent (apart from the way that factors always
> remember their original range).  There are a few exceptions:

A related issue is that modeling functions throw a warning when
character objects are used in place of factors:

> shopping <- read.csv("http://spreadsheets.google.com/pub?key=tE9pXlYLwTAeiDWxL8h_viA&single=true&gid=0&range=A1%3AE37&output=csv", as.is=TRUE)
> shopping$seconds <- as.numeric(as.difftime(shopping$Total.Time))
> fit <- lm(seconds ~ Number.of.Items + Payment - 1, shopping,subset=-8)
Warning message:
In model.matrix.default(mt, mf, contrasts) :
  variable 'Payment' converted to a factor

The warning doesn't affect R's behaviour, of course, but it does make
it difficult to sanction the otherwise sensible advice to R beginners
to read in data files with as.it=TRUE. (The warning leads to
difficult-to-answer questions.) For similar reasons  I deleted the
warning from this post:
http://blog.revolution-computing.com/2009/09/is-the-express-line-really-faster-1.html

In general the trend towards equivalence of factors and character
vectors is welcome, though.

# David

On Mon, Oct 5, 2009 at 4:33 PM, hadley wickham <h.wickham at gmail.com> wrote:
>
> It seems like a recent trend in R has been to make character vectors
> and factors almost equivalent (apart from the way that factors always
> remember their original range). ?There are a few exceptions:
>
> ?* summary.character != summary.factor
> ?* table(x, exclude = NULL) != table(factor(x), exclude=NULL) when x
> includes missing values
>
> ?* strsplit on a factor
>
> > strsplit(factor(c("a", "a b")), " ")
> Error in strsplit(factor(c("a", "a b")), " ") : non-character argument
>
> ?* nchar on a factor:
>
> > nchar(factor(c("abc", "d", "defgh")))
> [1] 1 1 1
>
> ?* : with two character strings
>
> > "a":"b"
> Error in "a":"b" : NA/NaN argument
> In addition: Warning messages:
> 1: NAs introduced by coercion
> 2: NAs introduced by coercion
> > factor("a"):factor("b")
> [1] a:b
> Levels: a:b
>
> Regards,
>
> Hadley
>
> --
> http://had.co.nz/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel



--
David M Smith <david at revolution-computing.com>
Director of Community, REvolution Computing www.revolution-computing.com
Tel: +1 (206) 577-4778 x3203 (San Francisco, USA)

Check out our upcoming events schedule at www.revolution-computing.com/events


From ripley at stats.ox.ac.uk  Tue Oct  6 08:07:55 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 6 Oct 2009 07:07:55 +0100 (BST)
Subject: [Rd] R's --enable-threads does nothing?; gdb needs -lpthread
In-Reply-To: <20091005212202.GA49270@piskorski.com>
References: <20091005212202.GA49270@piskorski.com>
Message-ID: <alpine.LFD.2.00.0910060655500.1349@gannet.stats.ox.ac.uk>

On Mon, 5 Oct 2009, Andrew Piskorski wrote:

> In the R-2-9-branch (svn revision 49914, 2009-09-24), R's configure
> script has an "--enable-threads" option.  But, does it do anything
> useful?  When I use "--enable-threads=posix", some of the configure
> output changes slightly, but it seems to have no effect on the actual
> link commands used when building R.  Is that a bug, or am I
> misunderstanding what it's supposed to do?

The latter.  It's part of the libintl (aka gettext-runtime) 
configuration code included in R, and is not present in the currently 
active branches.  It affects how libintl works when src/extra/intl in 
the R sources is built -- whether it is by default depends on the OS.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From shane.conway at gmail.com  Mon Oct  5 21:13:45 2009
From: shane.conway at gmail.com (Shane Conway)
Date: Mon, 5 Oct 2009 15:13:45 -0400
Subject: [Rd] unit testing for R packages?
In-Reply-To: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com>
Message-ID: <dd3243090910051213u3c619c37obda0d09b33cd558e@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091005/187c8909/attachment.ksh>

From pburns at pburns.seanet.com  Tue Oct  6 09:53:25 2009
From: pburns at pburns.seanet.com (Patrick Burns)
Date: Tue, 06 Oct 2009 08:53:25 +0100
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <4ACA428C.80102@prodsyse.com>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>	<20091005175041.GB31394@stat.umn.edu>	<77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>
	<4ACA428C.80102@prodsyse.com>
Message-ID: <4ACAF775.8030708@pburns.seanet.com>

I think the problem is more subtle
than Spencer implies.  It is good
to have as much documentation as
possible.  However, if a help file
is long and complex, then people
get intimidated and don't read it
at all.

It would be nice to have a feature
so that help files can be displayed
with different levels of detail.  A
sophisticated version of this scheme
might even assume different levels of
knowledge of the user so that the least
detailed level might be longer (but
easier) than a more detailed level.



Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of "The R Inferno" and "A Guide for the Unwilling S User")


spencerg wrote:
> There are many arguments in many functions that are rarely used.  I 
> prefer to see it all documented in the help pages.  If they are not 
> documented in the help pages (and sometimes even if they are), a user 
> who wants them can invent other ways to get similar information with 
> much greater effort, and do so for years only to eventually find a much 
> easier way buried in the documentation.  Example:  I was frustrated for 
> years that "nls" would refuse to produce output if it did not converge.  
> I often used "optim" instead of "nls" for that reason.  However, the 
> list returned by "optim" does not have the nice methods that one can use 
> with an "nls" object.  Eventually, I found the "warnOnly" option 
> documented under "nls.control", which has made "nls" easier for me to use.
> Spencer Graves
> 
> 
> William Dunlap wrote:
>> There are several help files in the R sources that
>> describe concepts and not particular R objects.
>> E.g., help(Methods), help(Syntax), and help(regex).
>> They don't have a docType  entry and their alias
>> entries do not refer to functions.  Perhaps your
>> debugging documentation could go into a similar
>> *.Rd file.
>>
>> Does check balk at such help files in a package? Should it?
>> Should there be a special docType for such help files?
>>
>> Bill Dunlap
>> Spotfire, TIBCO Software
>> wdunlap tibco.com 
>>  
>>> -----Original Message-----
>>> From: r-devel-bounces at r-project.org 
>>> [mailto:r-devel-bounces at r-project.org] On Behalf Of Charles Geyer
>>> Sent: Monday, October 05, 2009 10:51 AM
>>> To: r-devel at r-project.org
>>> Subject: [Rd] how to document stuff most users don't want to see
>>>
>>> The functions metrop and temper in the mcmc package have a debug = FALSE
>>> argument that when TRUE adds a lot of debugging information to the 
>>> returned
>>> list.  This is absolutely necessary to test the functions, because one
>>> generally knows nothing about the simulated distribution except what 
>>> what
>>> one learns from MCMC samples.  Hence you must expose all details of the
>>> simulation to have any hope of checking that it is doing what it is 
>>> supposed
>>> to do.  However, this information is of interested mostly (perhaps 
>>> solely)
>>> to developers.  So I didn't document it in the Rd files for these 
>>> functions.
>>>
>>> But it has ocurred to me that people might be interested in how these 
>>> functions
>>> are validated, and I would like to document the debug output 
>>> somewhere, but I
>>> don't want to clutter up the documentation that ordinary users see.  
>>> That
>>> suggests a separate help page for debugging.  Looking at "Writing R 
>>> Extensions"
>>> it doesn't seem like there is a type of Rd file for this purpose.  I 
>>> suppose
>>> it could be added in (fairly long) sections titled "Debug Output" in 
>>> metrop.Rd
>>> and temper.Rd or it could be put in a package help page (although 
>>> that's not
>>> what that kind of page is really for).  Any other possibilities to 
>>> consider?
>>> -- 
>>> Charles Geyer
>>> Professor, School of Statistics
>>> University of Minnesota
>>> charlie at stat.umn.edu
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>     
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>   
> 
>


From maechler at stat.math.ethz.ch  Tue Oct  6 10:10:25 2009
From: maechler at stat.math.ethz.ch (maechler at stat.math.ethz.ch)
Date: Tue,  6 Oct 2009 10:10:25 +0200 (CEST)
Subject: [Rd] str() gives odd looking output on complex vectors that are
	not purely imaginary (PR#13985)
Message-ID: <20091006081025.C65A52830317@mail.pubhealth.ku.dk>

>>>>> "RC" == Rich Calaway <richcalaway at revolution-computing.com>
>>>>>     on Tue,  6 Oct 2009 01:00:10 +0200 (CEST) writes:

    RC> Full_Name: Rich Calaway
    RC> Version: R 2.9.2
    RC> OS: Windows Vista
    RC> Submission from: (NULL) (65.47.30.18)


    RC> Try this:

    RC> x <- rnorm(25)
    RC> y <- rnorm(25)*1i
    RC> z <- x+y
    RC> str(z)
    RC> str(y)

    RC> When I try this, I see the following:

    >> str(z)
    RC> cplx [1:25] 0.0102+ 0.9463-1 -1.1111+ ...
    >> str(y)
    RC> cplx [1:25] 0+0.0975i 0-1.5060i 0+0.4071i ...

    RC> I see this in 2.9.2 and in the alpha build of 2.10.0:

Thank you, Rich.

That is indeed a bug in  prettyNum(*, drop0trailing=TRUE)
which I will fix  ASAP.

Martin


From ronggui.huang at gmail.com  Tue Oct  6 11:12:07 2009
From: ronggui.huang at gmail.com (Ronggui Huang)
Date: Tue, 6 Oct 2009 17:12:07 +0800
Subject: [Rd] Help file doesn't display correctly
Message-ID: <38b9f0350910060212j437f82cuc45c333a5ce55b23@mail.gmail.com>

Dear R Developer,

It seems to be a problem with help file. Not sure if it is related to
the new format of Rd parser. Multiple lines are joined together
without proper line break.


> ?mean
There were 14 warnings (use warnings() to see them)
## All lines are joined together and not easy to read.

> warnings()
Warning messages:
1: In grepl("^[[:blank:]]*$", buffer[length(buffer)]) :
  input string 1 is invalid in this locale
2: In grep("^[[:space:]]*$", buffer) : input string 5 is invalid in this locale
3: In grep("^[[:space:]]*$", buffer) : input string 2 is invalid in this locale
4: In grep("^[[:space:]]*$", buffer) : input string 1 is invalid in this locale
5: In grep("^[[:space:]]*$", buffer) : input string 4 is invalid in this locale
6: In grep("^[[:space:]]*$", buffer) : input string 5 is invalid in this locale
7: In grep("^[[:space:]]*$", buffer) : input string 6 is invalid in this locale
8: In grep("^[[:space:]]*$", buffer) : input string 7 is invalid in this locale
9: In grep("^[[:space:]]*$", buffer) : input string 9 is invalid in this locale
10: In grep("^[[:space:]]*$", buffer) : input string 10 is invalid in
this locale
11: In grepl("^[[:space:]]*$", txt[1L]) :
  input string 1 is invalid in this locale
12: In grepl("^[[:blank:]]*$", buffer[length(buffer)]) :
  input string 1 is invalid in this locale
13: In grep("^[[:space:]]*$", buffer) : input string 1 is invalid in this locale
14: In grep("^[[:space:]]*$", buffer) : input string 2 is invalid in this locale
> sessionInfo()
R version 2.10.0 alpha (2009-10-04 r49936)
i386-pc-mingw32

locale:
[1] LC_COLLATE=Chinese_People's Republic of China.936
LC_CTYPE=Chinese_People's Republic of China.936
[3] LC_MONETARY=Chinese_People's Republic of China.936 LC_NUMERIC=C
[5] LC_TIME=Chinese_People's Republic of China.936

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.10.0


-- 
HUANG Ronggui, Wincent
Doctoral Candidate
Dept of Public and Social Administration
City University of Hong Kong
Home page: http://asrr.r-forge.r-project.org/rghuang.html


From murdoch at stats.uwo.ca  Tue Oct  6 14:10:29 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 06 Oct 2009 08:10:29 -0400
Subject: [Rd] Help file doesn't display correctly
In-Reply-To: <38b9f0350910060212j437f82cuc45c333a5ce55b23@mail.gmail.com>
References: <38b9f0350910060212j437f82cuc45c333a5ce55b23@mail.gmail.com>
Message-ID: <4ACB33B5.3070806@stats.uwo.ca>

On 10/6/2009 5:12 AM, Ronggui Huang wrote:
> Dear R Developer,
> 
> It seems to be a problem with help file. Not sure if it is related to
> the new format of Rd parser. Multiple lines are joined together
> without proper line break.

Thanks, we're looking into it.  Please try again in a day or two and let 
us know if this is not fixed.

Duncan Murdoch

> 
> 
>> ?mean
> There were 14 warnings (use warnings() to see them)
> ## All lines are joined together and not easy to read.
> 
>> warnings()
> Warning messages:
> 1: In grepl("^[[:blank:]]*$", buffer[length(buffer)]) :
>   input string 1 is invalid in this locale
> 2: In grep("^[[:space:]]*$", buffer) : input string 5 is invalid in this locale
> 3: In grep("^[[:space:]]*$", buffer) : input string 2 is invalid in this locale
> 4: In grep("^[[:space:]]*$", buffer) : input string 1 is invalid in this locale
> 5: In grep("^[[:space:]]*$", buffer) : input string 4 is invalid in this locale
> 6: In grep("^[[:space:]]*$", buffer) : input string 5 is invalid in this locale
> 7: In grep("^[[:space:]]*$", buffer) : input string 6 is invalid in this locale
> 8: In grep("^[[:space:]]*$", buffer) : input string 7 is invalid in this locale
> 9: In grep("^[[:space:]]*$", buffer) : input string 9 is invalid in this locale
> 10: In grep("^[[:space:]]*$", buffer) : input string 10 is invalid in
> this locale
> 11: In grepl("^[[:space:]]*$", txt[1L]) :
>   input string 1 is invalid in this locale
> 12: In grepl("^[[:blank:]]*$", buffer[length(buffer)]) :
>   input string 1 is invalid in this locale
> 13: In grep("^[[:space:]]*$", buffer) : input string 1 is invalid in this locale
> 14: In grep("^[[:space:]]*$", buffer) : input string 2 is invalid in this locale
>> sessionInfo()
> R version 2.10.0 alpha (2009-10-04 r49936)
> i386-pc-mingw32
> 
> locale:
> [1] LC_COLLATE=Chinese_People's Republic of China.936
> LC_CTYPE=Chinese_People's Republic of China.936
> [3] LC_MONETARY=Chinese_People's Republic of China.936 LC_NUMERIC=C
> [5] LC_TIME=Chinese_People's Republic of China.936
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
> 
>


From ripley at stats.ox.ac.uk  Tue Oct  6 16:12:23 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 6 Oct 2009 15:12:23 +0100 (BST)
Subject: [Rd] Help file doesn't display correctly
In-Reply-To: <38b9f0350910060212j437f82cuc45c333a5ce55b23@mail.gmail.com>
References: <38b9f0350910060212j437f82cuc45c333a5ce55b23@mail.gmail.com>
Message-ID: <alpine.LFD.2.00.0910061506090.19136@gannet.stats.ox.ac.uk>

On Tue, 6 Oct 2009, Ronggui Huang wrote:

> Dear R Developer,
>
> It seems to be a problem with help file. Not sure if it is related to
> the new format of Rd parser. Multiple lines are joined together
> without proper line break.

It was a problem with the handling of fancy quotes in a DBCS encoding 
(as used for CJK languages).  We don't attempt to use them for 
sQuote(), and will no longer attempt to use them for help.  This will 
take effect in r49952 and later, and seems to work for me in CP936.

It is not easy for us to test in Chinese Windows (most non-Chinese 
editions do not support it, or need add-ons installed), so please keep 
on reporting issues, particularly those with help (text, HTML, PDF?) 
rendering.

>
>
>> ?mean
> There were 14 warnings (use warnings() to see them)
> ## All lines are joined together and not easy to read.
>
>> warnings()
> Warning messages:
> 1: In grepl("^[[:blank:]]*$", buffer[length(buffer)]) :
>  input string 1 is invalid in this locale
> 2: In grep("^[[:space:]]*$", buffer) : input string 5 is invalid in this locale
> 3: In grep("^[[:space:]]*$", buffer) : input string 2 is invalid in this locale
> 4: In grep("^[[:space:]]*$", buffer) : input string 1 is invalid in this locale
> 5: In grep("^[[:space:]]*$", buffer) : input string 4 is invalid in this locale
> 6: In grep("^[[:space:]]*$", buffer) : input string 5 is invalid in this locale
> 7: In grep("^[[:space:]]*$", buffer) : input string 6 is invalid in this locale
> 8: In grep("^[[:space:]]*$", buffer) : input string 7 is invalid in this locale
> 9: In grep("^[[:space:]]*$", buffer) : input string 9 is invalid in this locale
> 10: In grep("^[[:space:]]*$", buffer) : input string 10 is invalid in
> this locale
> 11: In grepl("^[[:space:]]*$", txt[1L]) :
>  input string 1 is invalid in this locale
> 12: In grepl("^[[:blank:]]*$", buffer[length(buffer)]) :
>  input string 1 is invalid in this locale
> 13: In grep("^[[:space:]]*$", buffer) : input string 1 is invalid in this locale
> 14: In grep("^[[:space:]]*$", buffer) : input string 2 is invalid in this locale
>> sessionInfo()
> R version 2.10.0 alpha (2009-10-04 r49936)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=Chinese_People's Republic of China.936
> LC_CTYPE=Chinese_People's Republic of China.936
> [3] LC_MONETARY=Chinese_People's Republic of China.936 LC_NUMERIC=C
> [5] LC_TIME=Chinese_People's Republic of China.936
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
>
>
> -- 
> HUANG Ronggui, Wincent
> Doctoral Candidate
> Dept of Public and Social Administration
> City University of Hong Kong
> Home page: http://asrr.r-forge.r-project.org/rghuang.html
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From h.wickham at gmail.com  Tue Oct  6 16:33:05 2009
From: h.wickham at gmail.com (hadley wickham)
Date: Tue, 6 Oct 2009 09:33:05 -0500
Subject: [Rd] unit testing for R packages?
In-Reply-To: <dd3243090910051213u3c619c37obda0d09b33cd558e@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com> 
	<dd3243090910051213u3c619c37obda0d09b33cd558e@mail.gmail.com>
Message-ID: <f8e6ff050910060733r1e0c11dbi23a02a404a85baf1@mail.gmail.com>

> If you haven't done so already, you might want to read the RUnit Vignette:
> http://cran.r-project.org/web/packages/RUnit/vignettes/RUnit.pdf.
> On a somewhat related note: is anyone doing "continuous integration" with
> their R packages? ?I'm thinking about trying to use something like
> CruiseControl (which I used before for Java development), and was wondering
> if anyone had experience with how much work will be involved...

It's not quite continuous integration, but I've been working on some
code for autotesting - i.e. any time your code or tests change, rerun
the appropriate part of the test suite (as much as I can guess at
that)

Hadley


-- 
http://had.co.nz/


From shane.conway at gmail.com  Tue Oct  6 16:37:55 2009
From: shane.conway at gmail.com (Shane Conway)
Date: Tue, 6 Oct 2009 10:37:55 -0400
Subject: [Rd] unit testing for R packages?
In-Reply-To: <f8e6ff050910060733r1e0c11dbi23a02a404a85baf1@mail.gmail.com>
References: <6c35a4fc0910051201h23e61e39o55bf1de9809bfe29@mail.gmail.com> 
	<dd3243090910051213u3c619c37obda0d09b33cd558e@mail.gmail.com> 
	<f8e6ff050910060733r1e0c11dbi23a02a404a85baf1@mail.gmail.com>
Message-ID: <dd3243090910060737p6d40246aw3d3b16fe8e5df08@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091006/998ea8af/attachment.pl>

From ronggui.huang at gmail.com  Tue Oct  6 16:40:08 2009
From: ronggui.huang at gmail.com (Ronggui Huang)
Date: Tue, 6 Oct 2009 22:40:08 +0800
Subject: [Rd] Help file doesn't display correctly
In-Reply-To: <alpine.LFD.2.00.0910061506090.19136@gannet.stats.ox.ac.uk>
References: <38b9f0350910060212j437f82cuc45c333a5ce55b23@mail.gmail.com> 
	<alpine.LFD.2.00.0910061506090.19136@gannet.stats.ox.ac.uk>
Message-ID: <38b9f0350910060740x52acc44as61c19d94fda1a280@mail.gmail.com>

2009/10/6 Prof Brian Ripley <ripley at stats.ox.ac.uk>:
> On Tue, 6 Oct 2009, Ronggui Huang wrote:
>
>> Dear R Developer,
>>
>> It seems to be a problem with help file. Not sure if it is related to
>> the new format of Rd parser. Multiple lines are joined together
>> without proper line break.
>
> It was a problem with the handling of fancy quotes in a DBCS encoding (as
> used for CJK languages). ?We don't attempt to use them for sQuote(), and
> will no longer attempt to use them for help. ?This will take effect in
> r49952 and later, and seems to work for me in CP936.
>
> It is not easy for us to test in Chinese Windows (most non-Chinese editions
> do not support it, or need add-ons installed), so please keep on reporting
> issues, particularly those with help (text, HTML, PDF?) rendering.

As for the HTML help, it works if I launch it by help.start(), but the
link becomes broken if I launch it by click  menu "help- html help".

-- 
HUANG Ronggui, Wincent
Doctoral Candidate
Dept of Public and Social Administration
City University of Hong Kong
Home page: http://asrr.r-forge.r-project.org/rghuang.html


From ripley at stats.ox.ac.uk  Tue Oct  6 18:01:45 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 6 Oct 2009 17:01:45 +0100 (BST)
Subject: [Rd] Help file doesn't display correctly
In-Reply-To: <38b9f0350910060740x52acc44as61c19d94fda1a280@mail.gmail.com>
References: <38b9f0350910060212j437f82cuc45c333a5ce55b23@mail.gmail.com>
	<alpine.LFD.2.00.0910061506090.19136@gannet.stats.ox.ac.uk>
	<38b9f0350910060740x52acc44as61c19d94fda1a280@mail.gmail.com>
Message-ID: <alpine.LFD.2.00.0910061658250.3187@gannet.stats.ox.ac.uk>

On Tue, 6 Oct 2009, Ronggui Huang wrote:

> 2009/10/6 Prof Brian Ripley <ripley at stats.ox.ac.uk>:
>> On Tue, 6 Oct 2009, Ronggui Huang wrote:
>>
>>> Dear R Developer,
>>>
>>> It seems to be a problem with help file. Not sure if it is related to
>>> the new format of Rd parser. Multiple lines are joined together
>>> without proper line break.
>>
>> It was a problem with the handling of fancy quotes in a DBCS encoding (as
>> used for CJK languages). ?We don't attempt to use them for sQuote(), and
>> will no longer attempt to use them for help. ?This will take effect in
>> r49952 and later, and seems to work for me in CP936.
>>
>> It is not easy for us to test in Chinese Windows (most non-Chinese editions
>> do not support it, or need add-ons installed), so please keep on reporting
>> issues, particularly those with help (text, HTML, PDF?) rendering.
>
> As for the HTML help, it works if I launch it by help.start(), but the
> link becomes broken if I launch it by click  menu "help- html help".

That is the expected behaviour, since it uses static HTML help and no 
prebuilt package HTML pages are being shipped.  I don't know if Duncan 
wants to change it to call an R function, but that would have the 
disadvantage of being unavailable when R is running (you will note 
that that menu item is not greyed out when Rgui is running 
computations, unlike most others).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From sean.oriordain at gmail.com  Tue Oct  6 21:09:21 2009
From: sean.oriordain at gmail.com (Sean O'Riordain)
Date: Tue, 6 Oct 2009 20:09:21 +0100
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <4ACAF775.8030708@pburns.seanet.com>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>
	<20091005175041.GB31394@stat.umn.edu>
	<77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>
	<4ACA428C.80102@prodsyse.com> <4ACAF775.8030708@pburns.seanet.com>
Message-ID: <8ed68eed0910061209u62013017uafd13e4db15d6c3a@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091006/d1a4b8a7/attachment.pl>

From murdoch at stats.uwo.ca  Tue Oct  6 22:23:40 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 06 Oct 2009 16:23:40 -0400
Subject: [Rd] Help file doesn't display correctly
In-Reply-To: <alpine.LFD.2.00.0910061658250.3187@gannet.stats.ox.ac.uk>
References: <38b9f0350910060212j437f82cuc45c333a5ce55b23@mail.gmail.com>	<alpine.LFD.2.00.0910061506090.19136@gannet.stats.ox.ac.uk>	<38b9f0350910060740x52acc44as61c19d94fda1a280@mail.gmail.com>
	<alpine.LFD.2.00.0910061658250.3187@gannet.stats.ox.ac.uk>
Message-ID: <4ACBA74C.1060308@stats.uwo.ca>

On 10/6/2009 12:01 PM, Prof Brian Ripley wrote:
> On Tue, 6 Oct 2009, Ronggui Huang wrote:
> 
>> 2009/10/6 Prof Brian Ripley <ripley at stats.ox.ac.uk>:
>>> On Tue, 6 Oct 2009, Ronggui Huang wrote:
>>>
>>>> Dear R Developer,
>>>>
>>>> It seems to be a problem with help file. Not sure if it is related to
>>>> the new format of Rd parser. Multiple lines are joined together
>>>> without proper line break.
>>>
>>> It was a problem with the handling of fancy quotes in a DBCS encoding (as
>>> used for CJK languages).  We don't attempt to use them for sQuote(), and
>>> will no longer attempt to use them for help.  This will take effect in
>>> r49952 and later, and seems to work for me in CP936.
>>>
>>> It is not easy for us to test in Chinese Windows (most non-Chinese editions
>>> do not support it, or need add-ons installed), so please keep on reporting
>>> issues, particularly those with help (text, HTML, PDF?) rendering.
>>
>> As for the HTML help, it works if I launch it by help.start(), but the
>> link becomes broken if I launch it by click  menu "help- html help".
> 
> That is the expected behaviour, since it uses static HTML help and no 
> prebuilt package HTML pages are being shipped.  I don't know if Duncan 
> wants to change it to call an R function, but that would have the 
> disadvantage of being unavailable when R is running (you will note 
> that that menu item is not greyed out when Rgui is running 
> computations, unlike most others).

I think it is better to make the change, so that the help pages are 
available.  You can jump between pages once the browser is open 
(hopefully the server is handling this safely; it hasn't crashed for me 
yet).

I'll commit this...

Duncan Murdoch


From michael at olschimke.eu  Tue Oct  6 17:45:08 2009
From: michael at olschimke.eu (michael at olschimke.eu)
Date: Tue,  6 Oct 2009 17:45:08 +0200 (CEST)
Subject: [Rd] openNLP Segmentation Fault (PR#13986)
Message-ID: <20091006154508.BE2CD282EFC6@mail.pubhealth.ku.dk>

Full_Name: Michael Olschimke
Version: 2.9
OS: Ubuntu 8.04 TLS
Submission from: (NULL) (188.96.220.32)


When using openNLP (0.0-7) with rJava (0.7-0) with java-6-sun-1.6.0.07 on Ubuntu
8.04 TLS 32 bit I get the following error message (see below) when calling
tagPOS. I have installed the packages as super user, and using it as super user.
Sometimes the message does not appear but the desired behavior occurs (once or
twice). 

tagPOS("dies ist ein test", language="de")
[itchy:08338] *** Process received signal ***
[itchy:08338] Signal: Segmentation fault (11)
[itchy:08338] Signal code: Invalid permissions (2)
[itchy:08338] Failing at address: 0xb7535100
[itchy:08338] [ 0] [0xb7eef440]
[itchy:08338] [ 1] [0xb4b2dc9f]
[itchy:08338] [ 2] [0xb4b36707]
[itchy:08338] [ 3] [0xb4b3658a]
[itchy:08338] [ 4] [0xb4b37496]
[itchy:08338] [ 5] [0xb4a9ed6a]
[itchy:08338] [ 6] [0xb4a9c249]
[itchy:08338] [ 7] /usr/lib/jvm/java-6-sun-1.6.0.07/jre/lib/i386/client/libjvm.so
[0x621c63d]
[itchy:08338] [ 8] /usr/lib/jvm/java-6-sun-1.6.0.07/jre/lib/i386/client/libjvm.so
[0x63107b8]
[itchy:08338] [ 9] /usr/lib/jvm/java-6-sun-1.6.0.07/jre/lib/i386/client/libjvm.so
[0x621c4d0]
[itchy:08338] [10] /usr/lib/jvm/java-6-sun-1.6.0.07/jre/lib/i386/client/libjvm.so
[0x6245d67]
[itchy:08338] [11] /usr/lib/jvm/java-6-sun-1.6.0.07/jre/lib/i386/client/libjvm.so
[0x622a1ca]
[itchy:08338] [12] /usr/local/lib/R/site-library/rJava/libs/rJava.so(RcallMethod+0x6e1)
[0xb758c951]
[itchy:08338] [13] /usr/lib/R/lib/libR.so [0xb7c811a9]
[itchy:08338] [14] /usr/lib/R/lib/libR.so(Rf_eval+0x714) [0xb7ca9d04]
[itchy:08338] [15] /usr/lib/R/lib/libR.so [0xb7cad00e]
[itchy:08338] [16] /usr/lib/R/lib/libR.so(Rf_eval+0x451) [0xb7ca9a41]
[itchy:08338] [17] /usr/lib/R/lib/libR.so [0xb7cac28c]
[itchy:08338] [18] /usr/lib/R/lib/libR.so(Rf_eval+0x451) [0xb7ca9a41]
[itchy:08338] [19] /usr/lib/R/lib/libR.so [0xb7cab280]
[itchy:08338] [20] /usr/lib/R/lib/libR.so(Rf_eval+0x451) [0xb7ca9a41]
[itchy:08338] [21] /usr/lib/R/lib/libR.so(Rf_applyClosure+0x2ac) [0xb7cad97c]
[itchy:08338] [22] /usr/lib/R/lib/libR.so(Rf_eval+0x349) [0xb7ca9939]
[itchy:08338] [23] /usr/lib/R/lib/libR.so [0xb7cab280]
[itchy:08338] [24] /usr/lib/R/lib/libR.so(Rf_eval+0x451) [0xb7ca9a41]
[itchy:08338] [25] /usr/lib/R/lib/libR.so(Rf_applyClosure+0x2ac) [0xb7cad97c]
[itchy:08338] [26] /usr/lib/R/lib/libR.so(Rf_eval+0x349) [0xb7ca9939]
[itchy:08338] [27] /usr/lib/R/lib/libR.so [0xb7caee4f]
[itchy:08338] [28] /usr/lib/R/lib/libR.so(Rf_eval+0x1d8) [0xb7ca97c8]
[itchy:08338] [29] /usr/lib/R/lib/libR.so(Rf_eval+0x622) [0xb7ca9c12]
[itchy:08338] *** End of error message ***
Segmentation fault


From seth at userprimary.net  Wed Oct  7 05:40:01 2009
From: seth at userprimary.net (Seth Falcon)
Date: Tue, 6 Oct 2009 20:40:01 -0700
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <8ed68eed0910061209u62013017uafd13e4db15d6c3a@mail.gmail.com>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>
	<20091005175041.GB31394@stat.umn.edu>
	<77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>
	<4ACA428C.80102@prodsyse.com> <4ACAF775.8030708@pburns.seanet.com>
	<8ed68eed0910061209u62013017uafd13e4db15d6c3a@mail.gmail.com>
Message-ID: <20091007034001.GF47890@orange.local>

Writing good documentation is hard.  I can appreciate the desire to
find technological solutions that improve documentation.  However, the
benefit of a help system that allows for varying degrees of verbosity
is very likely to be overshadowed by the additional complexity imposed
on the help system.

Users would need to learn how to tune the help system.  Developers
would need to learn and follow the system of variable verbosity.  This
time would be better spent by developers simply improving the
documentation and by users by simply reading the improved
documentation.

My $0.02.

+ seth

-- 
Seth Falcon | @sfalcon | http://userprimary.net/user


From spencer.graves at prodsyse.com  Wed Oct  7 06:15:27 2009
From: spencer.graves at prodsyse.com (spencerg)
Date: Tue, 06 Oct 2009 21:15:27 -0700
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <20091007034001.GF47890@orange.local>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>	<20091005175041.GB31394@stat.umn.edu>	<77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>	<4ACA428C.80102@prodsyse.com>
	<4ACAF775.8030708@pburns.seanet.com>	<8ed68eed0910061209u62013017uafd13e4db15d6c3a@mail.gmail.com>
	<20091007034001.GF47890@orange.local>
Message-ID: <4ACC15DF.8090704@prodsyse.com>

I write *.Rd files primarily because it helps me think through what I 
want the software to do AND because the "\examples" provide any degree 
of unit testing I feel I need to create "trustworth software" (to quote 
Chambers).  The fact that I can then share the resulting package with 
others is a marvelous byproduct of this approach to software 
development, but not the primary reason I do it.  Earlier today, I read 
where Hadley had had problems with my code and had to read the help file 
carefully to understand how to fix the problem.  I immediately wrote to 
Hadley inviting more input (and to my collaborator to suggest that the 
package be placed on R-Forge to make it easier for people to improve 
documentation, etc.). 


Adding my $0.02 to Seth's. 


Spencer


Seth Falcon wrote:
> Writing good documentation is hard.  I can appreciate the desire to
> find technological solutions that improve documentation.  However, the
> benefit of a help system that allows for varying degrees of verbosity
> is very likely to be overshadowed by the additional complexity imposed
> on the help system.
>
> Users would need to learn how to tune the help system.  Developers
> would need to learn and follow the system of variable verbosity.  This
> time would be better spent by developers simply improving the
> documentation and by users by simply reading the improved
> documentation.
>
> My $0.02.
>
> + seth
>
>   


-- 
Spencer Graves, PE, PhD
President and Chief Operating Officer
Structure Inspection and Monitoring, Inc.
751 Emerson Ct.
San Jos?, CA 95126
ph:  408-655-4567


From Bockmeyer at gmail.com  Wed Oct  7 08:50:13 2009
From: Bockmeyer at gmail.com (Bockmeyer at gmail.com)
Date: Wed,  7 Oct 2009 08:50:13 +0200 (CEST)
Subject: [Rd] Bug (PR#13987)
Message-ID: <20091007065013.A815C282EF4D@mail.pubhealth.ku.dk>

Full_Name: Clemens Bockmeyer
Version: 2.9.0
OS: 
Submission from: (NULL) (193.174.111.250)


Dear helpdesk,
the following bug occurs when working with BRB Array tools trying to generate a
heat map:

Error in rgb (bitAnd(Max color 255), bit and Max color %/%256, 255 bit And Max
color...
could not find function "bitAnd".

Error occured while executing the following R command:

myplot.image.array (TRUE).

Error may be memory related or due to size of graphic file. Try again with fewer
genes or...


My question is: What to do, that R works?
I am sure that I do NOT have to much genes!
Thank you in advance.


From pburns at pburns.seanet.com  Wed Oct  7 09:22:21 2009
From: pburns at pburns.seanet.com (Patrick Burns)
Date: Wed, 07 Oct 2009 08:22:21 +0100
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <20091007034001.GF47890@orange.local>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>	<20091005175041.GB31394@stat.umn.edu>	<77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>	<4ACA428C.80102@prodsyse.com>
	<4ACAF775.8030708@pburns.seanet.com>	<8ed68eed0910061209u62013017uafd13e4db15d6c3a@mail.gmail.com>
	<20091007034001.GF47890@orange.local>
Message-ID: <4ACC41AD.7050103@pburns.seanet.com>

Under the system of development we
now have, I agreee with Seth's
assertion.  But if there were
people dedicated to documentation,
then I think something like what I
described could be workable.

Pat


Seth Falcon wrote:
> Writing good documentation is hard.  I can appreciate the desire to
> find technological solutions that improve documentation.  However, the
> benefit of a help system that allows for varying degrees of verbosity
> is very likely to be overshadowed by the additional complexity imposed
> on the help system.
> 
> Users would need to learn how to tune the help system.  Developers
> would need to learn and follow the system of variable verbosity.  This
> time would be better spent by developers simply improving the
> documentation and by users by simply reading the improved
> documentation.
> 
> My $0.02.
> 
> + seth
>


From ripley at stats.ox.ac.uk  Wed Oct  7 10:23:15 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 7 Oct 2009 09:23:15 +0100 (BST)
Subject: [Rd] Bug (PR#13987)
In-Reply-To: <20091007065013.A815C282EF4D@mail.pubhealth.ku.dk>
References: <20091007065013.A815C282EF4D@mail.pubhealth.ku.dk>
Message-ID: <alpine.LFD.2.00.0910070911180.18483@gannet.stats.ox.ac.uk>

Please do read the FAQ and R posting guide.

(i) You were asked not to report on obselete versions of R (2.9.2 and 
2.10.0 alpha are current).

(ii) There is no reproducible code here, but the error is almost 
certainly not in R but in a contributed package or in 'BRB Array 
tools' (whatever that is, and if you mean 'BRB-Array Tools', that is 
not freely distributable).

   'Finally, check carefully whether the bug is with R, or a
   contributed package.  Bug reports on contributed packages should be
   sent first to the package maintainer, and only submitted to the
   R-bugs repository by package maintainers, mentioning the package in
   the subject line.'

(iii) R-bugs is explicitly not a place to ask questions.

On Wed, 7 Oct 2009, Bockmeyer at gmail.com wrote:

> Full_Name: Clemens Bockmeyer
> Version: 2.9.0
> OS:

Hmm,

   'Always include the version of R, machine, and operating system that
   you are using; type `version' in R to print this.'


> Submission from: (NULL) (193.174.111.250)
>
>
> Dear helpdesk,
> the following bug occurs when working with BRB Array tools trying to generate a
> heat map:
>
> Error in rgb (bitAnd(Max color 255), bit and Max color %/%256, 255 bit And Max
> color...
> could not find function "bitAnd".
>
> Error occured while executing the following R command:
>
> myplot.image.array (TRUE).
>
> Error may be memory related or due to size of graphic file. Try again with fewer
> genes or...
>
>
> My question is: What to do, that R works?
> I am sure that I do NOT have to much genes!
> Thank you in advance.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch at stats.uwo.ca  Wed Oct  7 12:25:30 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 07 Oct 2009 06:25:30 -0400
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <4ACAF775.8030708@pburns.seanet.com>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>	<20091005175041.GB31394@stat.umn.edu>	<77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>	<4ACA428C.80102@prodsyse.com>
	<4ACAF775.8030708@pburns.seanet.com>
Message-ID: <4ACC6C9A.6080401@stats.uwo.ca>

Patrick Burns wrote:
> I think the problem is more subtle
> than Spencer implies.  It is good
> to have as much documentation as
> possible.  However, if a help file
> is long and complex, then people
> get intimidated and don't read it
> at all.
>
> It would be nice to have a feature
> so that help files can be displayed
> with different levels of detail.  A
> sophisticated version of this scheme
> might even assume different levels of
> knowledge of the user so that the least
> detailed level might be longer (but
> easier) than a more detailed level.
>   

We do have that.  Vignettes can be linked to help, and they can be 
arbitrarily complex, including examples with graphs, etc.

Duncan Murdoch
>
>
> Patrick Burns
> patrick at burns-stat.com
> +44 (0)20 8525 0696
> http://www.burns-stat.com
> (home of "The R Inferno" and "A Guide for the Unwilling S User")
>
>
> spencerg wrote:
>   
>> There are many arguments in many functions that are rarely used.  I 
>> prefer to see it all documented in the help pages.  If they are not 
>> documented in the help pages (and sometimes even if they are), a user 
>> who wants them can invent other ways to get similar information with 
>> much greater effort, and do so for years only to eventually find a much 
>> easier way buried in the documentation.  Example:  I was frustrated for 
>> years that "nls" would refuse to produce output if it did not converge.  
>> I often used "optim" instead of "nls" for that reason.  However, the 
>> list returned by "optim" does not have the nice methods that one can use 
>> with an "nls" object.  Eventually, I found the "warnOnly" option 
>> documented under "nls.control", which has made "nls" easier for me to use.
>> Spencer Graves
>>
>>
>> William Dunlap wrote:
>>     
>>> There are several help files in the R sources that
>>> describe concepts and not particular R objects.
>>> E.g., help(Methods), help(Syntax), and help(regex).
>>> They don't have a docType  entry and their alias
>>> entries do not refer to functions.  Perhaps your
>>> debugging documentation could go into a similar
>>> *.Rd file.
>>>
>>> Does check balk at such help files in a package? Should it?
>>> Should there be a special docType for such help files?
>>>
>>> Bill Dunlap
>>> Spotfire, TIBCO Software
>>> wdunlap tibco.com 
>>>  
>>>       
>>>> -----Original Message-----
>>>> From: r-devel-bounces at r-project.org 
>>>> [mailto:r-devel-bounces at r-project.org] On Behalf Of Charles Geyer
>>>> Sent: Monday, October 05, 2009 10:51 AM
>>>> To: r-devel at r-project.org
>>>> Subject: [Rd] how to document stuff most users don't want to see
>>>>
>>>> The functions metrop and temper in the mcmc package have a debug = FALSE
>>>> argument that when TRUE adds a lot of debugging information to the 
>>>> returned
>>>> list.  This is absolutely necessary to test the functions, because one
>>>> generally knows nothing about the simulated distribution except what 
>>>> what
>>>> one learns from MCMC samples.  Hence you must expose all details of the
>>>> simulation to have any hope of checking that it is doing what it is 
>>>> supposed
>>>> to do.  However, this information is of interested mostly (perhaps 
>>>> solely)
>>>> to developers.  So I didn't document it in the Rd files for these 
>>>> functions.
>>>>
>>>> But it has ocurred to me that people might be interested in how these 
>>>> functions
>>>> are validated, and I would like to document the debug output 
>>>> somewhere, but I
>>>> don't want to clutter up the documentation that ordinary users see.  
>>>> That
>>>> suggests a separate help page for debugging.  Looking at "Writing R 
>>>> Extensions"
>>>> it doesn't seem like there is a type of Rd file for this purpose.  I 
>>>> suppose
>>>> it could be added in (fairly long) sections titled "Debug Output" in 
>>>> metrop.Rd
>>>> and temper.Rd or it could be put in a package help page (although 
>>>> that's not
>>>> what that kind of page is really for).  Any other possibilities to 
>>>> consider?
>>>> -- 
>>>> Charles Geyer
>>>> Professor, School of Statistics
>>>> University of Minnesota
>>>> charlie at stat.umn.edu
>>>>
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>>>     
>>>>         
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>   
>>>       
>>     
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From vijgh at phil.uu.nl  Wed Oct  7 12:15:10 2009
From: vijgh at phil.uu.nl (vijgh at phil.uu.nl)
Date: Wed,  7 Oct 2009 12:15:10 +0200 (CEST)
Subject: [Rd] inconsistency in return value of peaks() {splus2R} (PR#13988)
Message-ID: <20091007101510.53ED4282BEA9@mail.pubhealth.ku.dk>

Full_Name: Benny van der Vijgh
Version: 2.7.2
OS: Windows Vista
Submission from: (NULL) (194.171.252.108)


The return value of peaks() in package splus2R is not consistent. 
This is because of the call to max.col() without additional parameters which
peaks() makes.
max.col() has a parameter 'ties.method' which specifies how ties are handled,
with "random" by default. 
This means that when peaks() is called on a vector with two (or more)
neighbouring elements in a tie for the local maximum, these end up in the same
row in the embedded matrix after which max.col() at random chooses which will be
considered the maximum, thereby yielding inconsistent results, for example:

> a <- c(3,5,5,3)
> peaks(a)
[1] FALSE FALSE FALSE FALSE
> peaks(a)
[1] FALSE  TRUE FALSE FALSE

this can be easily fixed by setting the parameter 'ties.method' for max.col() to
"first" or "last", which is a matter of application and taste I think, perhaps
it can even be considered to make this parameter also a parameter of peaks() and
pass it to max.col() in the execution.


From murdoch at stats.uwo.ca  Wed Oct  7 13:03:55 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 07 Oct 2009 07:03:55 -0400
Subject: [Rd] inconsistency in return value of peaks() {splus2R}
	(PR#13988)
In-Reply-To: <20091007101510.53ED4282BEA9@mail.pubhealth.ku.dk>
References: <20091007101510.53ED4282BEA9@mail.pubhealth.ku.dk>
Message-ID: <4ACC759B.8080700@stats.uwo.ca>

vijgh at phil.uu.nl wrote:
> Full_Name: Benny van der Vijgh
> Version: 2.7.2
> OS: Windows Vista
> Submission from: (NULL) (194.171.252.108)
>
>
> The return value of peaks() in package splus2R is not consistent. 
>   

This is not an R bug.  Please contact the author of that package.

Duncan Murdoch
> This is because of the call to max.col() without additional parameters which
> peaks() makes.
> max.col() has a parameter 'ties.method' which specifies how ties are handled,
> with "random" by default. 
> This means that when peaks() is called on a vector with two (or more)
> neighbouring elements in a tie for the local maximum, these end up in the same
> row in the embedded matrix after which max.col() at random chooses which will be
> considered the maximum, thereby yielding inconsistent results, for example:
>
>   
>> a <- c(3,5,5,3)
>> peaks(a)
>>     
> [1] FALSE FALSE FALSE FALSE
>   
>> peaks(a)
>>     
> [1] FALSE  TRUE FALSE FALSE
>
> this can be easily fixed by setting the parameter 'ties.method' for max.col() to
> "first" or "last", which is a matter of application and taste I think, perhaps
> it can even be considered to make this parameter also a parameter of peaks() and
> pass it to max.col() in the execution.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From leydold at statmath.wu.ac.at  Wed Oct  7 14:48:26 2009
From: leydold at statmath.wu.ac.at (Josef Leydold)
Date: Wed, 7 Oct 2009 14:48:26 +0200
Subject: [Rd] Buglet in qbeta?
In-Reply-To: <mailman.19.1254823208.9644.r-devel@r-project.org>
References: <mailman.19.1254823208.9644.r-devel@r-project.org>
Message-ID: <20091007124826.GA1600@essek.stat-math.wu-wien.ac.at>

Hi,

I sometimes play around with extreme parameters for distributions and
found that qbeta is not always monotone as the following example shows.
I don't know whether this is serious enough to submit a bug report (as
this example is near to the limitations of floating point arithmetic).

Josef

> x <- qbeta((0:100)/100,0.01,5)
> x
  [1]  0.000000e+00 1.253990e-201 1.589622e-171 6.462785e-154 2.015085e-141
  [6] 9.892240e-132 8.192553e-124 4.056003e-117 2.554424e-111 3.330774e-106
 [11] 1.253990e-101  1.728076e-97  1.038529e-93  3.109063e-90 5.141594e-87
 [16]  5.098238e-84  3.238117e-81  1.390549e-78  4.222258e-76 9.411402e-74
 [21]  1.589622e-71  2.090373e-69  2.190596e-67  1.866714e-65 1.316493e-63
 [26]  7.803602e-62  3.941205e-60  1.716606e-58  6.517745e-57 2.178181e-55
 [31]  6.462785e-54  1.715788e-52  4.104801e-51  8.906113e-50 1.762731e-48
 [36]  3.199622e-47  5.352348e-46  8.288322e-45  1.193037e-43 1.602341e-42
 [41]  2.015085e-41  2.380564e-40  2.649862e-39  2.787018e-38 2.776910e-37
 [46]  2.627517e-36  2.366341e-35  2.032732e-34  1.668853e-33 1.311905e-32
 [51]  9.892240e-32  2.220446e-15  2.331468e-15  2.553513e-15 1.110223e-16
 [56]  3.330669e-16  9.992007e-16  8.881784e-16  4.440892e-16 7.771561e-16
 [61]  1.554312e-15  8.881784e-16  9.992007e-16  2.109424e-15 2.331468e-15
 [66]  2.553513e-15  2.553513e-15  1.110223e-16  6.661338e-16 1.221245e-15
 [71]  1.443290e-15  2.220446e-16  6.661338e-16  2.664535e-15 1.054712e-14
 [76]  4.019007e-14  1.512124e-13  5.589973e-13  2.031153e-12 7.261081e-12
 [81]  2.554423e-11  8.847001e-11  3.017724e-10  1.014153e-09 3.359099e-09
 [86]  1.096950e-08  3.532966e-08  1.122586e-07  3.520157e-07 1.089674e-06
 [91]  3.330818e-06  1.005659e-05  3.000050e-05  8.845884e-05 2.579427e-04
 [96]  7.446202e-04  2.133444e-03  6.108393e-03  1.783085e-02 5.699554e-02
[101]  1.000000e+00
> order(x)
  [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18
 [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
 [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  55  68  72
 [55]  56  59  69  73  60  58  62  57  63  70  71  61  64  52  53  65  54  66
 [73]  67  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
 [91]  91  92  93  94  95  96  97  98  99 100 101
> pbeta(x,0.01,5)
  [1] 0.0000000 0.0100000 0.0200000 0.0300000 0.0400000 0.0500000 0.0600000
  [8] 0.0700000 0.0800000 0.0900000 0.1000000 0.1100000 0.1200000 0.1300000
 [15] 0.1400000 0.1500000 0.1600000 0.1700000 0.1800000 0.1900000 0.2000000
 [22] 0.2100000 0.2200000 0.2300000 0.2400000 0.2500000 0.2600000 0.2700000
 [29] 0.2800000 0.2900000 0.3000000 0.3100000 0.3200000 0.3300000 0.3400000
 [36] 0.3500000 0.3600000 0.3700000 0.3800000 0.3900000 0.4000000 0.4100000
 [43] 0.4200000 0.4300000 0.4400000 0.4500000 0.4600000 0.4700000 0.4800000
 [50] 0.4900000 0.5000000 0.7285871 0.7289426 0.7296061 0.7070842 0.7148952
 [57] 0.7227924 0.7219416 0.7169548 0.7209782 0.7259930 0.7219416 0.7227924
 [64] 0.7282134 0.7289426 0.7296061 0.7296061 0.7070842 0.7198677 0.7242443
 [71] 0.7254552 0.7120024 0.7198677 0.7299167 0.7400284 0.7499948 0.7599988
 [78] 0.7700008 0.7799998 0.7900000 0.8000000 0.8100000 0.8200000 0.8300000
 [85] 0.8400000 0.8500000 0.8600000 0.8700000 0.8800000 0.8900000 0.9000000
 [92] 0.9100000 0.9200000 0.9300000 0.9400000 0.9500000 0.9600000 0.9700000
 [99] 0.9800000 0.9900000 1.0000000
> version
               _                                                                
platform       x86_64-unknown-linux-gnu                                         
arch           x86_64                                                           
os             linux-gnu                                                        
system         x86_64, linux-gnu                                                
status         Under development (unstable)                                     
major          2                                                                
minor          11.0                                                             
year           2009                                                             
month          10                                                               
day            07                                                               
svn rev        49963                                                            
language       R                                                                
version.string R version 2.11.0 Under development (unstable) (2009-10-07
r49963)

p.s. there are similar results for R-2.9.2 in Windows (with
different round-off errors).


-- 


-----------------------------------------------------------------------------
Josef Leydold   |  WU (Vienna University of Economics and Business)
                |  Department of Statistics and Mathematics
-----------------------------------------------------------------------------
Augasse 2-6     |  Tel.   +43 1 31336 4695
A-1090 Vienna   |  FAX    +43 1 31336 774
European Union  |  email  josef.leydold at wu.ac.at
-----------------------------------------------------------------------------
Alles Unglueck kam daher, dass die Denkenden nicht mehr handeln konnten,
und die Handelnden keine Zeit mehr fanden zu denken.       (Marlen Haushofer)


From maechler at stat.math.ethz.ch  Wed Oct  7 16:04:47 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 7 Oct 2009 16:04:47 +0200
Subject: [Rd] Buglet in qbeta?
In-Reply-To: <20091007124826.GA1600@essek.stat-math.wu-wien.ac.at>
References: <mailman.19.1254823208.9644.r-devel@r-project.org>
	<20091007124826.GA1600@essek.stat-math.wu-wien.ac.at>
Message-ID: <19148.40959.23458.620232@lynne.math.ethz.ch>

>>>>> "JL" == Josef Leydold <leydold at statmath.wu.ac.at>
>>>>>     on Wed, 7 Oct 2009 14:48:26 +0200 writes:

    JL> Hi,
    JL> I sometimes play around with extreme parameters for distributions and
    JL> found that qbeta is not always monotone as the following example shows.
    JL> I don't know whether this is serious enough to submit a bug report (as
    JL> this example is near to the limitations of floating point arithmetic).

well, it's not near enough the limits to *not* warrant a bug
report!

I "know" (I have saved a collection of ..) about several
accuracy problems of pbeta() / qbeta(), most cases indeed
"borderline" (at the limits of FP arithmetic) but this one may
well be a new one.

A bit more succint than the dump of your numbers is a simple
graphic

  p <- (1:100)/100; qp <- qbeta(p, 0.01,5)
  plot(p,qp, type="o", log = "y")

  ## or, already suggesting a fix to the bug:

  plot(p,qp, type="o", log = "xy")

which is definitely a bug...  though not a terrible one.

@ R-core: please leave me a bit of time before touching qbeta.c,
  	  as I already have a modified local version of that.

Thanks for the report, Josef!
--
Martin Maechler, ETH Zurich

    >> x <- qbeta((0:100)/100,0.01,5)
    >> x
    JL> [1]  0.000000e+00 1.253990e-201 1.589622e-171 6.462785e-154 2.015085e-141
    JL> [6] 9.892240e-132 8.192553e-124 4.056003e-117 2.554424e-111 3.330774e-106
    JL> [11] 1.253990e-101  1.728076e-97  1.038529e-93  3.109063e-90 5.141594e-87
    JL> [16]  5.098238e-84  3.238117e-81  1.390549e-78  4.222258e-76 9.411402e-74
    JL> [21]  1.589622e-71  2.090373e-69  2.190596e-67  1.866714e-65 1.316493e-63
    JL> [26]  7.803602e-62  3.941205e-60  1.716606e-58  6.517745e-57 2.178181e-55
    JL> [31]  6.462785e-54  1.715788e-52  4.104801e-51  8.906113e-50 1.762731e-48
    JL> [36]  3.199622e-47  5.352348e-46  8.288322e-45  1.193037e-43 1.602341e-42
    JL> [41]  2.015085e-41  2.380564e-40  2.649862e-39  2.787018e-38 2.776910e-37
    JL> [46]  2.627517e-36  2.366341e-35  2.032732e-34  1.668853e-33 1.311905e-32
    JL> [51]  9.892240e-32  2.220446e-15  2.331468e-15  2.553513e-15 1.110223e-16
    JL> [56]  3.330669e-16  9.992007e-16  8.881784e-16  4.440892e-16 7.771561e-16
    JL> [61]  1.554312e-15  8.881784e-16  9.992007e-16  2.109424e-15 2.331468e-15
    JL> [66]  2.553513e-15  2.553513e-15  1.110223e-16  6.661338e-16 1.221245e-15
    JL> [71]  1.443290e-15  2.220446e-16  6.661338e-16  2.664535e-15 1.054712e-14
    JL> [76]  4.019007e-14  1.512124e-13  5.589973e-13  2.031153e-12 7.261081e-12
    JL> [81]  2.554423e-11  8.847001e-11  3.017724e-10  1.014153e-09 3.359099e-09
    JL> [86]  1.096950e-08  3.532966e-08  1.122586e-07  3.520157e-07 1.089674e-06
    JL> [91]  3.330818e-06  1.005659e-05  3.000050e-05  8.845884e-05 2.579427e-04
    JL> [96]  7.446202e-04  2.133444e-03  6.108393e-03  1.783085e-02 5.699554e-02
    JL> [101]  1.000000e+00
    >> order(x)
    JL> [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18
    JL> [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
    JL> [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  55  68  72
    JL> [55]  56  59  69  73  60  58  62  57  63  70  71  61  64  52  53  65  54  66
    JL> [73]  67  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
    JL> [91]  91  92  93  94  95  96  97  98  99 100 101
    >> pbeta(x,0.01,5)
    JL> [1] 0.0000000 0.0100000 0.0200000 0.0300000 0.0400000 0.0500000 0.0600000
    JL> [8] 0.0700000 0.0800000 0.0900000 0.1000000 0.1100000 0.1200000 0.1300000
    JL> [15] 0.1400000 0.1500000 0.1600000 0.1700000 0.1800000 0.1900000 0.2000000
    JL> [22] 0.2100000 0.2200000 0.2300000 0.2400000 0.2500000 0.2600000 0.2700000
    JL> [29] 0.2800000 0.2900000 0.3000000 0.3100000 0.3200000 0.3300000 0.3400000
    JL> [36] 0.3500000 0.3600000 0.3700000 0.3800000 0.3900000 0.4000000 0.4100000
    JL> [43] 0.4200000 0.4300000 0.4400000 0.4500000 0.4600000 0.4700000 0.4800000
    JL> [50] 0.4900000 0.5000000 0.7285871 0.7289426 0.7296061 0.7070842 0.7148952
    JL> [57] 0.7227924 0.7219416 0.7169548 0.7209782 0.7259930 0.7219416 0.7227924
    JL> [64] 0.7282134 0.7289426 0.7296061 0.7296061 0.7070842 0.7198677 0.7242443
    JL> [71] 0.7254552 0.7120024 0.7198677 0.7299167 0.7400284 0.7499948 0.7599988
    JL> [78] 0.7700008 0.7799998 0.7900000 0.8000000 0.8100000 0.8200000 0.8300000
    JL> [85] 0.8400000 0.8500000 0.8600000 0.8700000 0.8800000 0.8900000 0.9000000
    JL> [92] 0.9100000 0.9200000 0.9300000 0.9400000 0.9500000 0.9600000 0.9700000
    JL> [99] 0.9800000 0.9900000 1.0000000
    >> version
    JL> _                                                                
    JL> platform       x86_64-unknown-linux-gnu                                         
    JL> arch           x86_64                                                           
    JL> os             linux-gnu                                                        
    JL> system         x86_64, linux-gnu                                                
    JL> status         Under development (unstable)                                     
    JL> major          2                                                                
    JL> minor          11.0                                                             
    JL> year           2009                                                             
    JL> month          10                                                               
    JL> day            07                                                               
    JL> svn rev        49963                                                            
    JL> language       R                                                                
    JL> version.string R version 2.11.0 Under development (unstable) (2009-10-07
    JL> r49963)

    JL> p.s. there are similar results for R-2.9.2 in Windows (with
    JL> different round-off errors).


From wdunlap at tibco.com  Wed Oct  7 18:31:33 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 7 Oct 2009 09:31:33 -0700
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <4ACAF775.8030708@pburns.seanet.com>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>	<20091005175041.GB31394@stat.umn.edu>	<77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>
	<4ACA428C.80102@prodsyse.com> <4ACAF775.8030708@pburns.seanet.com>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D70001E601C1@NA-PA-VBE03.na.tibco.com>

> -----Original Message-----
> From: Patrick Burns [mailto:pburns at pburns.seanet.com] 
> Sent: Tuesday, October 06, 2009 12:53 AM
> To: spencerg
> Cc: William Dunlap; charlie at stat.umn.edu; r-devel at r-project.org
> Subject: Re: [Rd] how to document stuff most users don't want to see
> 
> I think the problem is more subtle
> than Spencer implies.  It is good
> to have as much documentation as
> possible.  However, if a help file
> is long and complex, then people
> get intimidated and don't read it
> at all.
> 
> It would be nice to have a feature
> so that help files can be displayed
> with different levels of detail.

Using a link to another help file is an established
way of doing this.  Help file writers know how to put
in links and readers know how use them. Charlie's
question was how to describe the debugging output
that few people would want to know about.  I don't
think he wanted to write a narrative vignette that
told how to use the debug output to solve problems
but he wanted to make the format of the output
available.  Why not have help(myFunction) say
   debug: a logical scalar saying whether to enable [debugging
      output] or not
just as help(grep) says
   pattern: character string containing a [regular expression]
       (or character string for fixed = TRUE) to be matched
or help(title) says
    quite a bit of mathematical notation is available such as
    sub- and superscripts, greek letters, fractions, etc:
    see [plotmath]   
?  (The [] indicates a link to another Rd file that gives more
detail about the matter.)

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com  

> A
> sophisticated version of this scheme
> might even assume different levels of
> knowledge of the user so that the least
> detailed level might be longer (but
> easier) than a more detailed level.
> 
> 
> 
> Patrick Burns
> patrick at burns-stat.com
> +44 (0)20 8525 0696
> http://www.burns-stat.com
> (home of "The R Inferno" and "A Guide for the Unwilling S User")
> 
> 
> spencerg wrote:
> > There are many arguments in many functions that are rarely used.  I 
> > prefer to see it all documented in the help pages.  If they are not 
> > documented in the help pages (and sometimes even if they 
> are), a user 
> > who wants them can invent other ways to get similar 
> information with 
> > much greater effort, and do so for years only to eventually 
> find a much 
> > easier way buried in the documentation.  Example:  I was 
> frustrated for 
> > years that "nls" would refuse to produce output if it did 
> not converge.  
> > I often used "optim" instead of "nls" for that reason.  
> However, the 
> > list returned by "optim" does not have the nice methods 
> that one can use 
> > with an "nls" object.  Eventually, I found the "warnOnly" option 
> > documented under "nls.control", which has made "nls" easier 
> for me to use.
> > Spencer Graves
> > 
> > 
> > William Dunlap wrote:
> >> There are several help files in the R sources that
> >> describe concepts and not particular R objects.
> >> E.g., help(Methods), help(Syntax), and help(regex).
> >> They don't have a docType  entry and their alias
> >> entries do not refer to functions.  Perhaps your
> >> debugging documentation could go into a similar
> >> *.Rd file.
> >>
> >> Does check balk at such help files in a package? Should it?
> >> Should there be a special docType for such help files?
> >>
> >> Bill Dunlap
> >> Spotfire, TIBCO Software
> >> wdunlap tibco.com 
> >>  
> >>> -----Original Message-----
> >>> From: r-devel-bounces at r-project.org 
> >>> [mailto:r-devel-bounces at r-project.org] On Behalf Of Charles Geyer
> >>> Sent: Monday, October 05, 2009 10:51 AM
> >>> To: r-devel at r-project.org
> >>> Subject: [Rd] how to document stuff most users don't want to see
> >>>
> >>> The functions metrop and temper in the mcmc package have 
> a debug = FALSE
> >>> argument that when TRUE adds a lot of debugging 
> information to the 
> >>> returned
> >>> list.  This is absolutely necessary to test the 
> functions, because one
> >>> generally knows nothing about the simulated distribution 
> except what 
> >>> what
> >>> one learns from MCMC samples.  Hence you must expose all 
> details of the
> >>> simulation to have any hope of checking that it is doing 
> what it is 
> >>> supposed
> >>> to do.  However, this information is of interested mostly 
> (perhaps 
> >>> solely)
> >>> to developers.  So I didn't document it in the Rd files for these 
> >>> functions.
> >>>
> >>> But it has ocurred to me that people might be interested 
> in how these 
> >>> functions
> >>> are validated, and I would like to document the debug output 
> >>> somewhere, but I
> >>> don't want to clutter up the documentation that ordinary 
> users see.  
> >>> That
> >>> suggests a separate help page for debugging.  Looking at 
> "Writing R 
> >>> Extensions"
> >>> it doesn't seem like there is a type of Rd file for this 
> purpose.  I 
> >>> suppose
> >>> it could be added in (fairly long) sections titled "Debug 
> Output" in 
> >>> metrop.Rd
> >>> and temper.Rd or it could be put in a package help page (although 
> >>> that's not
> >>> what that kind of page is really for).  Any other 
> possibilities to 
> >>> consider?
> >>> -- 
> >>> Charles Geyer
> >>> Professor, School of Statistics
> >>> University of Minnesota
> >>> charlie at stat.umn.edu
> >>>
> >>> ______________________________________________
> >>> R-devel at r-project.org mailing list
> >>> https://stat.ethz.ch/mailman/listinfo/r-devel
> >>>
> >>>     
> >>
> >> ______________________________________________
> >> R-devel at r-project.org mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-devel
> >>
> >>   
> > 
> > 
> 


From baptiste.auguie at googlemail.com  Wed Oct  7 19:12:54 2009
From: baptiste.auguie at googlemail.com (baptiste auguie)
Date: Wed, 7 Oct 2009 19:12:54 +0200
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D70001E601C1@NA-PA-VBE03.na.tibco.com>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>
	<20091005175041.GB31394@stat.umn.edu>
	<77EB52C6DD32BA4D87471DCD70C8D70001E5FD32@NA-PA-VBE03.na.tibco.com>
	<4ACA428C.80102@prodsyse.com> <4ACAF775.8030708@pburns.seanet.com>
	<77EB52C6DD32BA4D87471DCD70C8D70001E601C1@NA-PA-VBE03.na.tibco.com>
Message-ID: <de4e29f50910071012s1db71a8bj81fb0c66da59cd0a@mail.gmail.com>

If help was only displayed in the form of html pages, one could
perhaps mimic the javascript trick sometimes found in wikipedia, e.g.
"http://en.wikipedia.org/wiki/Mathematical_induction#Example" (see the
"show/hide" toggle at the bottom).

I don't see how this could work with plain text or pdf output.

Regards,

baptiste


From lee.s.kelvin at gmail.com  Wed Oct  7 14:56:15 2009
From: lee.s.kelvin at gmail.com (Lee Kelvin)
Date: Wed, 7 Oct 2009 13:56:15 +0100
Subject: [Rd] Improved Function Information with <TAB> Key
Message-ID: <ad203a770910070556p86710ddy18dc2f5be6926127@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091007/aae96dca/attachment.pl>

From jeff.hamann at forestinformatics.com  Thu Oct  8 00:48:22 2009
From: jeff.hamann at forestinformatics.com (Jeff Hamann)
Date: Wed, 7 Oct 2009 15:48:22 -0700
Subject: [Rd] compiling packages without Framework and CoreFoundation
	options on OSX
Message-ID: <F0AC00F6-8FB7-468A-B308-0A79135FEFC6@forestinformatics.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091007/e8ffbb52/attachment.pl>

From deepayan.sarkar at gmail.com  Thu Oct  8 11:37:40 2009
From: deepayan.sarkar at gmail.com (Deepayan Sarkar)
Date: Thu, 8 Oct 2009 02:37:40 -0700
Subject: [Rd] Improved Function Information with <TAB> Key
In-Reply-To: <ad203a770910070556p86710ddy18dc2f5be6926127@mail.gmail.com>
References: <ad203a770910070556p86710ddy18dc2f5be6926127@mail.gmail.com>
Message-ID: <eb555e660910080237k23c6421bq465eef05bcd91e07@mail.gmail.com>

On Wed, Oct 7, 2009 at 5:56 AM, Lee Kelvin <lee.s.kelvin at gmail.com> wrote:
> Hello,
>
> Pressing the <TAB> key when typing a function into an R terminal does not
> produce the expected output. ?Currently, R will order all of the available
> function inputs into alphabetical order and present them as options, whereas
> it should display the inputs in the order they appear in the function.
>
> For example:
>
>> test = function(b,a,c){
> print(b)
> a*c
> }
>
>> test( ? <TAB><TAB>
> a= ?b= ?c=
>
> where <TAB> indicates pressing the Tab key.
>
> It's easy to see that if the function were designed to accept 'b' as a
> string, and 'a' and 'c' as numerics that this function would fail if the
> user made the assumption that the <TAB> output is in the correct order, and
> input 'a' as a string.
>
> This is a simple example, however I have several functions that I use often
> and each has many possible inputs. ?It would be useful to not have to
> remember the order the inputs are in for each function, or have to use
> args(function) beforehand. ?It is also on occasion useful not to have to
> explicitly name each input in your function.
>
> Im using Ubuntu Linux 9.04 and a standard install of R 2.9.2 (unfortunately
> not the polished R.app available on Macs - which coincidentally do display
> function inputs in the correct order).
>
> I welcome any thoughts, disagreements or tips any of you may have,

The sorting is a feature of the readline library that is used as the
backend (there is no sorting on the Windows GUI). Apparently readline
6 allows you to inhibit sorting, so that might turn out to be useful.

-Deepayan


From ripley at stats.ox.ac.uk  Thu Oct  8 12:26:31 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 8 Oct 2009 11:26:31 +0100 (BST)
Subject: [Rd] (PR#13957) Reading clipboard with read.delim("clipboard")
 crash
In-Reply-To: <20090918091015.C9EA3282EF2D@mail.pubhealth.ku.dk>
References: <20090918091015.C9EA3282EF2D@mail.pubhealth.ku.dk>
Message-ID: <alpine.LFD.2.00.0910081110320.23973@auk.stats.ox.ac.uk>

I am having some trouble reproducing this (an example of 3000 rows and 
7 columns worked for me, and one of 18000 rows stresses the window 
manager so it works slowly if at all).

But AFAICS you are trying to give your window manager too much data, 
and the XGetWindowProperty call to determine the size is failing.  R 
had no code to catch that possibility, and now I've added some I can 
no longer provoke a crash: but as expected you get the result

> dat <- read.delim('clipboard')
Error in file(file, "r") : cannot open the connection
In addition: Warning message:
In file(file, "r") : clipboard cannot be opened or contains no text

(sometimes after a wait of more than a minute).

So even if it were somehow possible to pass 1Mb of data via an X11 
clipboard, it looks as if it would be too slow to be useful.

On Fri, 18 Sep 2009, liam.gretton at leicester.ac.uk wrote:

> Full_Name: Liam Gretton
> Version: 2.9.2
> OS: openSUSE 11.1 (x86_64)
> Submission from: (NULL) (143.210.13.77)
>
>
> Reading a large number of rows of delimited data via the clipboard results in a
> segfault or double free error. I've tested copying from various applications,
> but gedit will do.
>
> This problem exists in the openSUSE-supplied 2.8.1, I've just built 2.9.2 to see
> if it's still there, and it is.
>
> I can provide an example delimited file which demonstrates the problem; it
> contains about 18000 rows and 7 columns of data. read.delim("clipboard") tends
> to fail when only reading ~1500 rows, though I haven't been able to reproduce
> the point at which it fails.
>
> Reading exactly the same data from a file using read.csv("file.csv") is
> successful.
>
> Problem reproduced as so:
>
> Data copied to the clipboard in Gnome.
>
>> R
> R version 2.9.2 (2009-08-24)
> [snip]
>
>> data <- read.delim("clipboard")
>
> *** caught segfault ***
> address 0x18, cause 'memory not mapped'
>
> Traceback:
> 1: file(file, "r")
> 2: read.table(file = file, header = header, sep = sep, quote = quote,     dec =
> dec, fill = fill, comment.char = comment.char, ...)
> 3: read.delim("clipboard")
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>
> On a different (but similar) openSUSE 11.1 system, the command still fails but
> reports:
>
> *** glibc detected *** /usr/local/R-2.9.2/lib64/R/bin/exec/R: double free of
> corruption (!prev): 0x000000000097cb70 ***
>
> Details of R build:
>
> ./configure --prefix=/usr/local/R-2.9.2 --enable-R-shlib --enable-mbcs
> --enable-threads=posix  --with-blas  --with-lapack --with-system-zlib
> --with-system-bzlib --with-system-pcre --with-gnu-ld
>
> No additional packages installed. 'make check' passed.
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Thu Oct  8 15:04:14 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 8 Oct 2009 09:04:14 -0400
Subject: [Rd] compiling packages without Framework and CoreFoundation
	options on OSX
In-Reply-To: <F0AC00F6-8FB7-468A-B308-0A79135FEFC6@forestinformatics.com>
References: <F0AC00F6-8FB7-468A-B308-0A79135FEFC6@forestinformatics.com>
Message-ID: <8CC7E9F5-7BEC-429E-9BBB-D53C228C61F8@r-project.org>

Jeff,

On Oct 7, 2009, at 18:48 , Jeff Hamann wrote:

> I've been trying to get R+PostgreSQL+PL/R to work together on a OSX
> machine without the Framework and CoreFoundation options and have
> noticed some suspicious switches when compiling packages.
>
> I've installed R (on OSX) with the following ./configure:
>
> ./configure \
>  CC="gcc -arch i386" \
>  CXX="g++ -arch i386" \
>  OBJC="gcc -arch i386" \
>  F77="gfortran -arch i386" \
>  FC="gfortran -arch i386" \
>  --enable-R-framework=no \
>  --enable-R-shlib \
>  --without-blas \
>  --x-includes=/usr/X11/include \
>  --x-libraries=/usr/X11/lib
>
> Notice the
>
>  --enable-R-framework=no \
>  --enable-R-shlib \
>
> No flames please.I'm sure I'm breaking lot's of R purist-isms.  
> There's a bigger picture here than trying to get R and packages to  
> build by themselves.
>
> When I build packages, using sudo R, for example:
>
>> install.packages(c("rconifers"),
> +  lib="/usr/local/lib/R/library",
> +  repos="http://cran.r-project.org",
> +  dependencies=TRUE )
>
> the package seems to get built with the "-Wl,-framework - 
> Wl,CoreFoundation" switches, even when R isn't built with the  
> framework (and CoreFoundation) options.

You're confusing entirely different things here - "-Wl,-framework - 
Wl,CoreFoundation" is simply a safe form of "-framework  
CoreFoundation" which means that R uses the CoreFoundation framework  
which is part of OS X. It has nothing to do with the --enable-R- 
framework option which is about creating *R* as a framework.


> For example:
>
> gcc -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names
> -undefined dynamic_lookup -single_module -multiply_defined suppress - 
> L/
> usr/local/lib -o rconifers.so coeffs.o file_io.o grow.o mortality.o
> plot.o rconifers.o sample.o smc_coeffs.o smc_model.o stats.o
> swo_coeffs.o swo_model.o thin.o -L/usr/local/lib/R/lib -lR -Wl,-
> framework -Wl,CoreFoundation
>

Note the "-lR" which is caused by --enable-R-framework=no, in the  
normal R on OS X you'd have seen "-framework R" instead.


> I would like to build packages without the "-Wl,-framework -
> Wl,CoreFoundation" options because I'm going to install it on other OS
> (FreeBSD, Linux, whatever)
>

If you install it on other OS, you'll get entirely different switches,  
of course. CF is needed on OS X for certain OS-specific functionality  
such as locales support, Quartz graphics etc.

Clearly, a binary is specific for given OS, so you have to build a  
binary of your package for each single OS you want to support in  
binary form (with different switches each time).


> Does this cause a problem? Will this cause a problem? I'm guessing  
> the CoreFoundations are an artifact of the XCode compiler.

"XCode compiler" is gcc, so, no.


> What's with the   -Wl,-framework stuff?

It's roughly the same as -l but it's more powerful as it covers  
umbrellas, resources etc. You may want to read more about frameworks:
http://developer.apple.com/mac/library/documentation/MacOSX/Conceptual/BPFrameworks/Frameworks.html


> Can I make it stop?

Not really without hacking R.


> Will I be okay?
>

I have the suspicion that you're heading in a very wrong direction  
(but you didn't tell us what you're really up to so that's just a  
speculation). It should be entirely irrelevant for you what switches  
are used, because packages get all necessary switches from R, so they  
never need to worry about them. If you do, then it's highly likely  
that you're doing something wrong.

Cheers,
Simon


From peter.ruckdeschel at web.de  Thu Oct  8 15:25:32 2009
From: peter.ruckdeschel at web.de (Peter Ruckdeschel)
Date: Thu, 08 Oct 2009 15:25:32 +0200
Subject: [Rd] [not extremely urgent:] modifiying messages on overriding
 implicit S4 generics + intended maskings
Message-ID: <hakp8c$s88$1@ger.gmane.org>

Hi r-devels,

I am coming with an RFE which is probably not extremely
urgent, dealing with (optionally) modifiying messages
on overriding implicit S4 generics + intended maskings
according to some (optional) pkg-individual files.

Details are shown below.

Any comments welcome,

Best, Peter

=============================
An aside right away:

For functions with many arguments, would it
be a bad idea to propose to make the implicit
S4 generic dispatch on less arguments (say the
first 2-3)?
=============================

DETAILS:

%------------------------------------------------
Overriding default S4 generic
%------------------------------------------------

In our distr-family of packages, we are about
to write S4 methods for qqplot for several
(mostly distribution-type) signatures.

In order to avoid to have to dispatch on too many
arguments, we would like to use the following generic

  setGeneric("qqplot", function(x, y, ...) standardGeneric("qqplot"))

while we would register the original qqplot function from
package stats as

  setMethod("qqplot", signature(x="ANY",y="ANY"), function(x, y,
    plot.it = TRUE, xlab = deparse(substitute(x)),
    ylab = deparse(substitute(y)), ...){

      mc <- match.call(call = sys.call(sys.parent(1)))
      if(missing(xlab)) mc$xlab <- xlab
      if(missing(ylab)) mc$ylab <- ylab
      mcl <- as.list(mc)[-1]
      return(invisible(
        do.call(stats::qqplot, args=mcl)))
    })

which should behave exactly the same as the original
stats function when called as usual.

Now doing so, on installing and building our package,
the following message is displayed:

  Creating a generic for "qqplot" in package  "distr"
     (the supplied definition differs from and overrides
      the implicit  generic in package "stats": Formal
      arguments differ: (x, y, ...), (x, y, plot.it,
      xlab, ylab, ...))

I would not bother too much about this message
(which /is/ a useful information for the package
developer anyway!), but it might irritate some users
to see this.

%------------------------------------------------
intended maskings
%------------------------------------------------

For similar reasons, in our packages we intentionally
mask some (few!) functions from packages stats and base.

In each case, we try to retain their original behaviour
when called as usual (and, AFAICS, they do so), and
also document this masking in corresponding files
MASKING in the inst/ folders.

Again, this masking gets automatically noticed as
a message on attaching the packages
(which again /is/ a useful information, anyway!).

%------------------------------------------------
proposed solution
%------------------------------------------------

So, for avoiding/modifying these automatic messages
on building/installing/attaching a package, could we
have optional parsable ASCII files, say

    INT_MASKING,   INT_OVERR_IMPL_GENERICS

(INT for /int/entional)
or, equally well, something shorter:-) in the inst
folder of a package, which are looked up and then
a correspondingly marked section would be
displayed instead of the original message?

A suggestion for the format of these files could
be:

Two blocks, each braced by some lines beginning
with "###":

+ the first one with a list of intentionally
  masked objects / overridden implicit generics,

+ the second one with a corresponding optional
  message to be displayed on build/install/attach
  instead of the original one (this second block
  could be left empty).

The format for the list in the first block could
be: one object a line, in form <pkgname>::<objname>.

In addition lines beginning with ";" would be
ignored (used as comment lines).

Example:

### begin object list
stats::qqplot
stats::df
### end object list
### begin displayed message
We intentionally mask stats functions qqplot and df,
because we have particular methods for them for
distribution-type arguments
### end displayed message

Now, each object mentioned in the first block, would no
longer be displayed within the default message on
build/install/attach (while masked objects / overridden implicit
generics remaining unmatched still do get displayed this
way).
In addition, unless the section in the corresponding
second block is empty, this section would be displayed
after the (again possibly empty) default message,
perhaps prepended by a title like "Intentional Masking"
respectively "Intentionally overridden implicit
generics".


From rmh at temple.edu  Thu Oct  8 04:40:12 2009
From: rmh at temple.edu (rmh at temple.edu)
Date: Thu,  8 Oct 2009 04:40:12 +0200 (CEST)
Subject: [Rd] bug inside plot.lm (PR#13989)
Message-ID: <20091008024012.89AF9282EFFB@mail.pubhealth.ku.dk>

The function
     getCaption <- function(k) as.graphicsAnnot(unlist(caption[k]))
inside plot.lm in R-2.9.2 and R-2.10.0alpha loses the expression
for caption 6.  From a recover() inside the function

Browse[1]> caption[6]
[[1]]
expression("Cook's dist vs Leverage  " * h[ii]/(1 - h[ii]))

Browse[1]> caption[[6]]
expression("Cook's dist vs Leverage  " * h[ii]/(1 - h[ii]))
Browse[1]> getCaption(6)
[[1]]
"Cook's dist vs Leverage  " * h[ii]/(1 - h[ii])

Browse[1]> as.graphicsAnnot(caption[[6]])
expression("Cook's dist vs Leverage  " * h[ii]/(1 - h[ii]))


The repair seems to be to redefine getCaption as follows

Browse[1]> getCaption <- function(k) as.graphicsAnnot(caption[[k]])
Browse[1]> getCaption(6)
expression("Cook's dist vs Leverage  " * h[ii]/(1 - h[ii]))
Browse[1]>

Rich


From lee.s.kelvin at gmail.com  Thu Oct  8 14:33:18 2009
From: lee.s.kelvin at gmail.com (Lee Kelvin)
Date: Thu, 8 Oct 2009 13:33:18 +0100
Subject: [Rd] Improved Function Information with <TAB> Key
In-Reply-To: <eb555e660910080237k23c6421bq465eef05bcd91e07@mail.gmail.com>
References: <ad203a770910070556p86710ddy18dc2f5be6926127@mail.gmail.com>
	<eb555e660910080237k23c6421bq465eef05bcd91e07@mail.gmail.com>
Message-ID: <ad203a770910080533l70d1e246hb16d714e80aae968@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091008/ff2a5c84/attachment.pl>

From sjaffe at riskspan.com  Thu Oct  8 18:09:10 2009
From: sjaffe at riskspan.com (Steve Jaffe)
Date: Thu, 8 Oct 2009 09:09:10 -0700 (PDT)
Subject: [Rd]  R_CallMethodDef: 'type' and 'style' fields?
Message-ID: <25803271.post@talk.nabble.com>


According to Writing R Extensions, the R_CallMethodDef struct has two
optional fields for specifying the 'type' and 'style' (where 'style' is said
to distinguish in/out/inout). But it gives no details of the possible values
of 'style'. And looking in the header file Rdynload.h the definition of
R_CallMethodDef does not include these two extra fields at all. (This is the
2.9.2 source)

Were these extra fields removed at some point? 




-- 
View this message in context: http://www.nabble.com/R_CallMethodDef%3A-%27type%27-and-%27style%27-fields--tp25803271p25803271.html
Sent from the R devel mailing list archive at Nabble.com.


From sjaffe at riskspan.com  Thu Oct  8 19:21:52 2009
From: sjaffe at riskspan.com (Steve Jaffe)
Date: Thu, 8 Oct 2009 10:21:52 -0700 (PDT)
Subject: [Rd]  R_CallMethodDef: 'type' and 'style' fields?
Message-ID: <25803313.post@talk.nabble.com>


In Writing R Extensions it is said that R_CallMethodDef has two optional
fields, 'type' and 'style' (where 'style' is said to distinguish
in/out/inout arguments). But it doesn't give the possible values for
'style'. Looking at the header Rdynload.h (version 2.9.2) it appears that
R_CallMethodDef  does not have these extra two fields. 

Were they removed at some point? If so, what is the best way to call a C
function without the overhead of copying the inputs?

Thanks
-- 
View this message in context: http://www.nabble.com/R_CallMethodDef%3A-%27type%27-and-%27style%27-fields--tp25803313p25803313.html
Sent from the R devel mailing list archive at Nabble.com.


From deepayan.sarkar at gmail.com  Thu Oct  8 20:38:16 2009
From: deepayan.sarkar at gmail.com (Deepayan Sarkar)
Date: Thu, 8 Oct 2009 11:38:16 -0700
Subject: [Rd] Improved Function Information with <TAB> Key
In-Reply-To: <ad203a770910080533l70d1e246hb16d714e80aae968@mail.gmail.com>
References: <ad203a770910070556p86710ddy18dc2f5be6926127@mail.gmail.com>
	<eb555e660910080237k23c6421bq465eef05bcd91e07@mail.gmail.com>
	<ad203a770910080533l70d1e246hb16d714e80aae968@mail.gmail.com>
Message-ID: <eb555e660910081138x3c584fdex8c5c06a639d68d90@mail.gmail.com>

On Thu, Oct 8, 2009 at 5:33 AM, Lee Kelvin <lee.s.kelvin at gmail.com> wrote:
> Thanks for the responses,
>
> Im not familiar with the development of readline 6, is it possible to test
> this functionality now, or will this be included in a future standard
> release of R?

I don't think it's possible to test it now (but I can't say for sure
as I don't have readline 6 installed and haven't read the
documentation carefully). In theory, some future release should
include a check for readline>=6 and disable sorting, but I'm not sure
when or if that will happen in practice.

> Also, it was suggested that Emacs and the ESS package may be of use.? Im not
> overly familiar with emacs, but I will give it a go.

As far as I can tell, Emacs' completion system also sorts, and I don't
see a way to inhibit that. ESS does show you the results of args()
when you type an open paren after a function name, which should be
useful for you.

-Deepayan

>
> Thanks,
> ??? Lee Kelvin
>
>
> 2009/10/8 Deepayan Sarkar <deepayan.sarkar at gmail.com>
>>
>> On Wed, Oct 7, 2009 at 5:56 AM, Lee Kelvin <lee.s.kelvin at gmail.com> wrote:
>> > Hello,
>> >
>> > Pressing the <TAB> key when typing a function into an R terminal does
>> > not
>> > produce the expected output. ?Currently, R will order all of the
>> > available
>> > function inputs into alphabetical order and present them as options,
>> > whereas
>> > it should display the inputs in the order they appear in the function.
>> >
>> > For example:
>> >
>> >> test = function(b,a,c){
>> > print(b)
>> > a*c
>> > }
>> >
>> >> test( ? <TAB><TAB>
>> > a= ?b= ?c=
>> >
>> > where <TAB> indicates pressing the Tab key.
>> >
>> > It's easy to see that if the function were designed to accept 'b' as a
>> > string, and 'a' and 'c' as numerics that this function would fail if the
>> > user made the assumption that the <TAB> output is in the correct order,
>> > and
>> > input 'a' as a string.
>> >
>> > This is a simple example, however I have several functions that I use
>> > often
>> > and each has many possible inputs. ?It would be useful to not have to
>> > remember the order the inputs are in for each function, or have to use
>> > args(function) beforehand. ?It is also on occasion useful not to have to
>> > explicitly name each input in your function.
>> >
>> > Im using Ubuntu Linux 9.04 and a standard install of R 2.9.2
>> > (unfortunately
>> > not the polished R.app available on Macs - which coincidentally do
>> > display
>> > function inputs in the correct order).
>> >
>> > I welcome any thoughts, disagreements or tips any of you may have,
>>
>> The sorting is a feature of the readline library that is used as the
>> backend (there is no sorting on the Windows GUI). Apparently readline
>> 6 allows you to inhibit sorting, so that might turn out to be useful.
>>
>> -Deepayan
>
>
>
> --
> Lee Kelvin
>
> lee.s.kelvin at gmail.com
> 07765431721
>


From apjaworski at mmm.com  Thu Oct  8 20:40:01 2009
From: apjaworski at mmm.com (apjaworski at mmm.com)
Date: Thu, 8 Oct 2009 13:40:01 -0500
Subject: [Rd] R-10 alpha windows() bug?
Message-ID: <OF6A181B61.2FC570D1-ON86257649.00642FFA-86257649.0066D6A9@mmm.com>

I have been compiling patched and development versions of R regularly.  I 
started compiling R-10.0 alpha a couple of days ago and I think I 
discovered a bug in the "windows()" command.

Here is what is happening:.

1.  Just compiled the latest tarball.  Before doing this I updated the 
R-tools to version 2.10 (includes jpeg-7).
2.  Compilation went fine and I successfully built and ran the Windows 
installer.
3.  I also successfully ran "make check-all".
4.  I start R GUI and do "plot(1:10)".  Here is what I get:

5. When I go to File>Save As>Png... and go through the dialog box 
(choosing a file name) I get the following GUI error:

6.  When, before saving, I resize the graphics window with my mouse even 
by a very small amount, the plot changes to its normal look (without 
missing axes of plot.png) and I can save it with no problem.
7.  When I do the same thing in just compiled 2.9.2 everything works fine 
and the plot (plot.png above) looks fine.
8.  I suppose, all this is related to the following result of the 
"windows()" command:

Again, resizing this window even slightly, fixes the problem.

I am on the Windows XP SP2 machine.  Here is the output of R.version:

> R.version
               _ 
platform       i386-pc-mingw32 
arch           i386 
os             mingw32 
system         i386, mingw32 
status         alpha 
major          2 
minor          10.0 
year           2009 
month          10 
day            07 
svn rev        49971 
language       R 
version.string R version 2.10.0 alpha (2009-10-07 r49971)


Regards,

Andy

__________________________________
Andy Jaworski
518-1-01
Process Laboratory
3M Corporate Research Laboratory
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

From charlie at stat.umn.edu  Thu Oct  8 22:20:43 2009
From: charlie at stat.umn.edu (Charles Geyer)
Date: Thu, 8 Oct 2009 15:20:43 -0500
Subject: [Rd] how to document stuff most users don't want to see
In-Reply-To: <4ACA3507.3000004@stats.uwo.ca>
References: <mailman.17.1254736805.9993.r-devel@r-project.org>
	<20091005175041.GB31394@stat.umn.edu>
	<4ACA3507.3000004@stats.uwo.ca>
Message-ID: <20091008202043.GA5929@stat.umn.edu>

On Mon, Oct 05, 2009 at 02:03:51PM -0400, Duncan Murdoch wrote:
> On 10/5/2009 1:50 PM, Charles Geyer wrote:
> >The functions metrop and temper in the mcmc package have a debug = FALSE
> >argument that when TRUE adds a lot of debugging information to the returned
> >list.  This is absolutely necessary to test the functions, because one
> >generally knows nothing about the simulated distribution except what what
> >one learns from MCMC samples.  Hence you must expose all details of the
> >simulation to have any hope of checking that it is doing what it is 
> >supposed
> >to do.  However, this information is of interested mostly (perhaps solely)
> >to developers.  So I didn't document it in the Rd files for these 
> >functions.
> >
> >But it has ocurred to me that people might be interested in how these 
> >functions
> >are validated, and I would like to document the debug output somewhere, 
> >but I
> >don't want to clutter up the documentation that ordinary users see.  That
> >suggests a separate help page for debugging.  Looking at "Writing R 
> >Extensions"
> >it doesn't seem like there is a type of Rd file for this purpose.  I 
> >suppose
> >it could be added in (fairly long) sections titled "Debug Output" in 
> >metrop.Rd
> >and temper.Rd or it could be put in a package help page (although that's 
> >not
> >what that kind of page is really for).  Any other possibilities to 
> >consider?
> 
> I think writing it up in a vignette would probably be most appropriate. 
>  You can link directly to a vignette from a man page (though not, 
> unfortunately, vice versa).  For example, if you look at
> package?grid, you'll see a list that was generated by this code:
> 
> Further information is available in the following
> \link{vignettes}:
> \tabular{ll}{
> \code{grid} \tab Introduction to \code{grid} (\url{../doc/grid.pdf})\cr
> \code{displaylist} \tab Display Lists in \code{grid} 
> (\url{../doc/displaylist.pdf})\cr

So I decided to follow your advice mcmc_0.7-3.tar.gz just uploaded to CRAN
has such a vignette and such links in the appropriate Rd files.

Thanks

-- 
Charles Geyer
Professor, School of Statistics
University of Minnesota
charlie at stat.umn.edu


From apjaworski at mmm.com  Fri Oct  9 00:21:23 2009
From: apjaworski at mmm.com (apjaworski at mmm.com)
Date: Thu, 8 Oct 2009 17:21:23 -0500
Subject: [Rd] R-10 alpha windows() bug?
Message-ID: <OFB0AF80D4.88F92719-ON86257649.0079A12A-86257649.007B1AE1@mmm.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091008/0f1bef1c/attachment.pl>

From daniel.reidpath at med.monash.edu.my  Fri Oct  9 02:48:06 2009
From: daniel.reidpath at med.monash.edu.my (Daniel Reidpath)
Date: Fri, 9 Oct 2009 08:48:06 +0800
Subject: [Rd] Make error, fails to install  base packages (e.g., 'method')
Message-ID: <352E4427DC78864F945D53CFD6029C113151BE4B57@MAILDB.admin.monash.edu.my>

I am trying to build R-2.9.2 from source on a Slax Linux distribution.

The only warnings from configure related to the production of the html. However, a series of errors occurs at the end of 'make':


-----------
make[2]: Entering directory `/root/Desktop/Rbin/src/library'
mkdir -p -- ../../library
make[3]: Entering directory `/root/Desktop/Rbin/src/library/profile'
building system startup profile
mkdir -p -- ../../../library/base/R
make[3]: Leaving directory `/root/Desktop/Rbin/src/library/profile'
make[3]: Entering directory `/root/Desktop/Rbin/src/library/base'
building package 'base'
make[4]: Entering directory `/root/Desktop/Rbin/src/library/base'
mkdir -p -- ../../../library/base/demo
mkdir -p -- ../../../library/base/po
make[4]: *** [mkpo] Error 1
make[4]: Leaving directory `/root/Desktop/Rbin/src/library/base'
make[3]: *** [all] Error 2
make[3]: Leaving directory `/root/Desktop/Rbin/src/library/base'
make[2]: *** [R] Error 1
make[2]: Leaving directory `/root/Desktop/Rbin/src/library'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/root/Desktop/Rbin/src'
make: *** [R] Error 1
----------

I couldn't find other examples of the errors on a search.  Running R produces:

-----------
root at slax:~/Desktop/Rbin/bin# ./R
Error in library(package, lib.loc = lib.loc, character.only = TRUE, logical.return = TRUE,  :
  'methods' is not a valid installed package

R version 2.11.0 Under development (unstable) (2009-10-06 r49948)
Copyright (C) 2009 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

Error in library(package, lib.loc = lib.loc, character.only = TRUE, logical.return = TRUE,  :
  'datasets' is not a valid installed package
-----------

I am a neophyte, but if someone could point me in the right direction, I would be grateful.

Daniel


From duncan at wald.ucdavis.edu  Fri Oct  9 05:29:55 2009
From: duncan at wald.ucdavis.edu (Duncan Temple Lang)
Date: Thu, 08 Oct 2009 20:29:55 -0700
Subject: [Rd] R_CallMethodDef: 'type' and 'style' fields?
In-Reply-To: <25803313.post@talk.nabble.com>
References: <25803313.post@talk.nabble.com>
Message-ID: <4ACEAE33.8020903@wald.ucdavis.edu>



Steve Jaffe wrote:
> In Writing R Extensions it is said that R_CallMethodDef has two optional
> fields, 'type' and 'style' (where 'style' is said to distinguish
> in/out/inout arguments).

Can you point us to the particular section and line that says
this. I think it is for the R_CMethodDef structure, not the
R_CallMethodDef.


Indeed, in Rdynload.h

typedef enum {R_ARG_IN, R_ARG_OUT, R_ARG_IN_OUT, R_IRRELEVANT} R_NativeArgStyle;

/*

 These are very similar to those in  unix/dynload.c

 but we maintain them separately to give us more freedom to do

 some computations on the internal versions that are derived from

 these definitions.

*/
typedef struct {
    const char *name;
    DL_FUNC     fun;
    int         numArgs;

    R_NativePrimitiveArgType *types;
    R_NativeArgStyle         *styles;

} R_CMethodDef;

> But it doesn't give the possible values for
> 'style'.

The enum above does.
The types is described in the help file for .C or .Call, i.e.
?.C

> Looking at the header Rdynload.h (version 2.9.2) it appears that
> R_CallMethodDef  does not have these extra two fields. 

See above.

> 
> Were they removed at some point? If so, what is the best way to call a C
> function without the overhead of copying the inputs?

The .Call() interface does not copy the R objects that it passes to the
C routine which accepts SEXP type objects (and returns a SEXP object also).

 D.

> 
> Thanks


From shanmukh_pes at yahoo.co.in  Fri Oct  9 15:27:58 2009
From: shanmukh_pes at yahoo.co.in (shanmukha patel)
Date: Fri, 9 Oct 2009 18:57:58 +0530 (IST)
Subject: [Rd] Any reference to tukeyline algorithm?
Message-ID: <707761.20033.qm@web94408.mail.in2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091009/10babf51/attachment.pl>

From sjaffe at riskspan.com  Fri Oct  9 15:34:59 2009
From: sjaffe at riskspan.com (Steve Jaffe)
Date: Fri, 9 Oct 2009 06:34:59 -0700 (PDT)
Subject: [Rd] R_CallMethodDef: 'type' and 'style' fields?
In-Reply-To: <4ACEAE33.8020903@wald.ucdavis.edu>
References: <25803313.post@talk.nabble.com> <4ACEAE33.8020903@wald.ucdavis.edu>
Message-ID: <25821291.post@talk.nabble.com>


Thanks. I did misread the documentation, which says on p 68:

Routines for use with the .C and .Fortran interfaces are described with
similar data structures [referring to R_CallMethodDef],
but which have two additional fields for describing the type and ?style? of
each argument

So it is R_CMethodDef which has the 'type' and 'style' fields. Just to
confirm, if I specify a 'style' of R_ARG_IN does this suppress the copying
when using .C()? 

Actually, having now re-thought what I'm trying to do, it seems simpler just
to use DUP=False in the .C call. In which case it would seem to be a good
idea for me to make the signature of my  C function declare the non-output
arguments to be const (eg  const int* rather than int*). 

Thanks for your help.


Duncan Temple Lang wrote:
> 
> 
> 
> Steve Jaffe wrote:
>> In Writing R Extensions it is said that R_CallMethodDef has two optional
>> fields, 'type' and 'style' (where 'style' is said to distinguish
>> in/out/inout arguments).
> 
> Can you point us to the particular section and line that says
> this. I think it is for the R_CMethodDef structure, not the
> R_CallMethodDef.
> 
> Indeed, in Rdynload.h
> 
> typedef enum {R_ARG_IN, R_ARG_OUT, R_ARG_IN_OUT, R_IRRELEVANT}
> R_NativeArgStyle;
> 

-- 
View this message in context: http://www.nabble.com/R_CallMethodDef%3A-%27type%27-and-%27style%27-fields--tp25803313p25821291.html
Sent from the R devel mailing list archive at Nabble.com.


From Stephen.Bond at cibc.com  Fri Oct  9 16:40:11 2009
From: Stephen.Bond at cibc.com (Stephen.Bond at cibc.com)
Date: Fri,  9 Oct 2009 16:40:11 +0200 (CEST)
Subject: [Rd] weigths in nls (PR#13991)
Message-ID: <20091009144011.786A62831FFC@mail.pubhealth.ku.dk>

Potential bug:

I mistyped weights in the call ('weigths') and it did not produce any error=
 message. The coefs were exactly the same like without weights, so I was su=
spicious and when weights(nls1) gave NULL, I saw my typo.

Usually the function will say "Unused arguments", which shows you the error=
, but not nls.

Regards
Stephen

	[[alternative HTML version deleted]]


From duncan at wald.ucdavis.edu  Fri Oct  9 17:55:52 2009
From: duncan at wald.ucdavis.edu (Duncan Temple Lang)
Date: Fri, 9 Oct 2009 08:55:52 -0700
Subject: [Rd] R_CallMethodDef: 'type' and 'style' fields?
In-Reply-To: <25821291.post@talk.nabble.com>
References: <25803313.post@talk.nabble.com> <4ACEAE33.8020903@wald.ucdavis.edu>
	<25821291.post@talk.nabble.com>
Message-ID: <20091009155552.GA12220@wald.ucdavis.edu>

Steve Jaffe wrote:
> 
> Thanks. I did misread the documentation, which says on p 68:
> 
> Routines for use with the .C and .Fortran interfaces are described with
> similar data structures [referring to R_CallMethodDef],
> but which have two additional fields for describing the type and ???style??? of
> each argument
> 
> So it is R_CMethodDef which has the 'type' and 'style' fields. Just to
> confirm, if I specify a 'style' of R_ARG_IN does this suppress the copying
> when using .C()? 

Good, glad that the manual is not erroneous. Thanks for confirming that.

At present, a style of R_ARG_IN does not avoid duplicating the object.
That could easily be activated and that was the intent, coupled with
parameters being declared const. It is highly desirable to have that
explicitly checked by the compiler rather than just stated in the declarations.
And the idea is that all this meta information can be determined programmatically
by examining the C code (e.g. with the RGCCTranslationUnit package).

 
> Actually, having now re-thought what I'm trying to do, it seems simpler just
> to use DUP=False in the .C call. In which case it would seem to be a good
> idea for me to make the signature of my  C function declare the non-output
> arguments to be const (eg  const int* rather than int*). 

Yep. They are good things to declare when true.
Do be careful with DUP = FALSE, as the help page says.
Presumably there will be some parameters of your C function
that are not const so that you can modify them and return
results. (Unless of course the C routine is only of interest
for its side effects such as writing to a file.)

 D.

> 
> Thanks for your help.
> 
> 
> Duncan Temple Lang wrote:
> > 
> > 
> > 
> > Steve Jaffe wrote:
> >> In Writing R Extensions it is said that R_CallMethodDef has two optional
> >> fields, 'type' and 'style' (where 'style' is said to distinguish
> >> in/out/inout arguments).
> > 
> > Can you point us to the particular section and line that says
> > this. I think it is for the R_CMethodDef structure, not the
> > R_CallMethodDef.
> > 
> > Indeed, in Rdynload.h
> > 
> > typedef enum {R_ARG_IN, R_ARG_OUT, R_ARG_IN_OUT, R_IRRELEVANT}
> > R_NativeArgStyle;
> > 
> 
> -- 
> View this message in context: http://www.nabble.com/R_CallMethodDef%3A-%27type%27-and-%27style%27-fields--tp25803313p25821291.html
> Sent from the R devel mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
"There are men who can think no deeper than a fact" - Voltaire


Duncan Temple Lang                duncan at wald.ucdavis.edu
Department of Statistics          work:  (530) 752-4782
4210 Mathematical Sciences Bldg.  fax:   (530) 752-7099
One Shields Ave.
University of California at Davis
Davis, CA 95616, USA



-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091009/60507654/attachment.bin>

From sjaffe at riskspan.com  Fri Oct  9 18:25:35 2009
From: sjaffe at riskspan.com (Steve Jaffe)
Date: Fri, 9 Oct 2009 09:25:35 -0700 (PDT)
Subject: [Rd] R_CallMethodDef: 'type' and 'style' fields?
In-Reply-To: <20091009155552.GA12220@wald.ucdavis.edu>
References: <25803313.post@talk.nabble.com> <4ACEAE33.8020903@wald.ucdavis.edu>
	<25821291.post@talk.nabble.com>
	<20091009155552.GA12220@wald.ucdavis.edu>
Message-ID: <25824090.post@talk.nabble.com>


Hmm, I should have read the .C documentation more carefully still. I can't
use DUP=FALSE when passing character vectors. In that case, since specifying
the style doesn't suppress copying I guess my only option is to use the more
complicated .Call API, which I naturally was hoping to avoid.


Duncan Temple Lang wrote:
> 
> At present, a style of R_ARG_IN does not avoid duplicating the object.
> That could easily be activated and that was the intent, coupled with
> parameters being declared const. It is highly desirable to have that
> explicitly checked by the compiler rather than just stated in the
> declarations.
> And the idea is that all this meta information can be determined
> programmatically
> by examining the C code (e.g. with the RGCCTranslationUnit package).
> 

-- 
View this message in context: http://www.nabble.com/R_CallMethodDef%3A-%27type%27-and-%27style%27-fields--tp25803313p25824090.html
Sent from the R devel mailing list archive at Nabble.com.


From tplate at acm.org  Fri Oct  9 18:35:51 2009
From: tplate at acm.org (Tony Plate)
Date: Fri, 09 Oct 2009 10:35:51 -0600
Subject: [Rd] weigths in nls (PR#13991)
In-Reply-To: <20091009144011.786A62831FFC@mail.pubhealth.ku.dk>
References: <20091009144011.786A62831FFC@mail.pubhealth.ku.dk>
Message-ID: <4ACF6667.4060801@acm.org>

This is expected behavior from the way nls() is written.  The nls() 
function has a "..." argument, which means that additional arguments are 
allowed.

Under "Arguments" the docs say:
|...| 	Additional optional arguments. None are used at present.


As far as I can see in the code, nothing at all is done with the 
additional arguments (consistent with the docs).   I guess the "..." 
argument is there to allow for future development (though I'm not sure 
what is gained by including "..." as a formal argument now, and not just 
adding it in the future if and when it is needed.)

In general, the use of ... arguments does add flexibility, but it takes 
away some error-checking.

-- Tony Plate

Stephen.Bond at cibc.com wrote:
> Potential bug:
>
> I mistyped weights in the call ('weigths') and it did not produce any error=
>  message. The coefs were exactly the same like without weights, so I was su=
> spicious and when weights(nls1) gave NULL, I saw my typo.
>
> Usually the function will say "Unused arguments", which shows you the error=
> , but not nls.
>
> Regards
> Stephen
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From murdoch at stats.uwo.ca  Fri Oct  9 21:10:12 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 09 Oct 2009 15:10:12 -0400
Subject: [Rd] R-10 alpha windows() bug?
In-Reply-To: <OFB0AF80D4.88F92719-ON86257649.0079A12A-86257649.007B1AE1@mmm.com>
References: <OFB0AF80D4.88F92719-ON86257649.0079A12A-86257649.007B1AE1@mmm.com>
Message-ID: <4ACF8A94.1020706@stats.uwo.ca>

On 10/8/2009 6:21 PM, apjaworski at mmm.com wrote:
> This is my third attempt to send this message.  Hopefully this one will go 
> through.  If anybody got my previous attempts (one with 3 attached PNG 
> files and one with graph embedded in the message) I apologize for multiple 
> postings.
> 
> I tried to illustrate this possible bug by including screenshots but it 
> seems that these posts get blocked by something (r-devel-bounce?).  Below 
> I try to describe what happens in words.
> 
> I have been compiling patched and development versions of R regularly.  I 
> started compiling R-10.0 alpha a couple of days ago and I think I 
> discovered a bug in the "windows()" command.
> 
> Here is what is happening:.
> 
> 1.  Just compiled the latest tarball.  Before doing this I updated the 
> R-tools to version 2.10 (includes jpeg-7).
> 2.  Compilation went fine and I successfully built and ran the Windows 
> installer.
> 3.  I also successfully ran "make check-all".
> 4.  I start R GUI and do "plot(1:10)".  Here is what I get:
> 
> The plot is missing bottom and right-hand side (both the axis and part of 
> the box).
> The bottom is missing up to the third dot on the plot, i.e., the x-axis is 
> missing
> together with the first three points.

I can't reproduce this, and it seems unrelated to recent changes:  up to 
this point you're using old code in the windows() device, none of the 
new stuff in the jpeg-7 library.  So we need to investigate why your 
system thinks the window is a different size than it really is.


> 
> 5. When I go to File>Save As>Png... and go through the dialog box 
> (choosing a file name) I get the following GUI error:
> 
> A window pops up saying: "R for Windows GUI has encountered a problem and 
> needs to close.
> We are sorry for the inconvenience".  Closing this window causes R to 
> crash.

This could be related to the previous bug:  if the driver is sometimes 
miscalculating the size of a window, basically anything could go wrong 
when you start doing bulk copies of bits.  It may be creating a target 
buffer that's too small, etc.

> 6.  When, before saving, I resize the graphics window with my mouse even 
> by a very small amount, the plot changes to its normal look (without 
> missing axes of plot.png) and I can save it with no problem.

Resizing will send a message to the window giving the new size.  So it 
looks as though the problem is in the window initialization.

> 7.  When I do the same thing in just compiled 2.9.2 everything works fine 
> and the plot (plot.png above) looks fine.
> 8.  I suppose, all this is related to the following result of the 
> "windows()" command:
> 
> I get a window with the upper left chunk of it being dark gray and the 
> remaining part, i.e.,
> the bottom and the right-hand side being white.  The white portions 
> correspond to the missing
> parts of the plot described in 4.  Again, resizing this window even 
> slightly, fixes the
> problem -  the whole window becomes dark gray. 

Yes, this seems like a size calculation problem again.  One other 
question:  are you running in SDI or MDI mode? (MDI is the one where R 
makes its windows within one big frame, SDI keeps them separate.)

How big does the plot window end up?  (Measured by you in pixels and in 
inches.)  What resolution of display (in dots per inch) does Windows 
report?  (That's available in an "advanced" page of the control panel 
applet for the display.)  By default, R tries to create a window that is 
7 inches by 7 inches.  Does it look as though it's getting the pixel 
count for that correct?  Does specifying the xpinch and ypinch values in 
windows.options() help?

Duncan Murdoch

> 
> I am on the Windows XP SP2 machine.  Here is the output of R.version:
> 
>> R.version
>                _ 
> platform       i386-pc-mingw32 
> arch           i386 
> os             mingw32 
> system         i386, mingw32 
> status         alpha 
> major          2 
> minor          10.0 
> year           2009 
> month          10 
> day            07 
> svn rev        49971 
> language       R 
> version.string R version 2.10.0 alpha (2009-10-07 r49971)
> 
> 
> Regards,
> 
> Andy
> 
> 
> __________________________________
> Andy Jaworski
> 518-1-01
> Process Laboratory
> 3M Corporate Research Laboratory
> -----
> E-mail: apjaworski at mmm.com
> Tel:  (651) 733-6092
> Fax:  (651) 736-3122
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From romain.francois at dbmail.com  Sat Oct 10 13:53:24 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Sat, 10 Oct 2009 13:53:24 +0200
Subject: [Rd] as.matrix.data.frame( Date ) -> character
Message-ID: <4AD075B4.3000308@dbmail.com>

Hello,

Is this intended:

 > m <- data.frame( date = seq.Date( as.Date("2000-01-01"), 
as.Date("2000-01-05"), by = "day" ) )
 > sapply( m, typeof )
     date
"double"
 > as.matrix( m )
      date
[1,] "2000-01-01"
[2,] "2000-01-02"
[3,] "2000-01-03"
[4,] "2000-01-04"
[5,] "2000-01-05"
 > typeof( as.matrix( m ) )
[1] "character"

In particular :

 > m <- data.frame( date = seq.Date( as.Date("2000-01-01"), by = "day", 
length.out = 50 ), x = rnorm(50) )
 > loess( x ~ date, data= m)
Error: NA/NaN/Inf in foreign function call (arg 2)
In addition: Warning message:
NAs introduced by coercion
 > loess( x ~ as.double(date), data= m)
Call:
loess(formula = x ~ as.double(date), data = m)

Number of Observations: 50
Equivalent Number of Parameters: 4.42
Residual Standard Error: 0.9712


Replacing this line in loess :

x <- as.matrix(x)

by this :

x <- tryCatch( do.call( cbind, lapply( x, as.double ) ), error = 
function(e){
	stop( "predictors must all be numeric" )
} )

does the trick for me.

Romain

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From mathieu.ribatet at epfl.ch  Sat Oct 10 14:07:42 2009
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Sat, 10 Oct 2009 14:07:42 +0200
Subject: [Rd] Possible bug in the Rd parser?
Message-ID: <1255176462.9627.43.camel@ubuntu>

Dear list,

I got an automatic email complaining than some of my packages didn't
pass 'R CMD check' for R-2.10.0 alpha anymore. Both of them make use of
the "cases" LaTeX environment.

Inspecting the log outputs I got:

        LaTeX errors when creating PDF version.
        This typically indicates Rd problems.
        LaTeX errors found:
        ! Misplaced alignment tab character &.

I noticed that the Rd parser changed quite recently and that '#', '_'
and '&' must not be escaped according to "Writing R extensions".
However, the problematic .Rd portion seems (to me) OK

        \deqn{\theta(h) =
            \begin{cases}
            u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
        \right),&\xi \neq 0\\
            \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
            \end{cases}
          }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
            exp(nu(h)/sigma), otherwise}

Removing the alignment tab character '&' solves the issue but doesn't
produce the expected LaTeX output. Do I miss something with the new Rd
parser requirements?

I'm not 100% sure but it also seems like that "\\' symbol isn't
interpreted as a break line - in the "cases" environment at least. This
might be one reason why the alignment tab '&' is misplaced.

Best,
Mathieu


-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From lmramba at gmail.com  Sat Oct 10 04:15:13 2009
From: lmramba at gmail.com (lmramba at gmail.com)
Date: Sat, 10 Oct 2009 04:15:13 +0200 (CEST)
Subject: [Rd] Errors in installing package "rJava" on Ubuntu (PR#13992)
Message-ID: <20091010021513.59B50282EF2D@mail.pubhealth.ku.dk>

*Hello,
I have had this serious problem while trying to install package rJava. It is
a requirement by the package JGR and it cannot be downloaded due to the
error indicated below.

I have googled and looked at the FAQ but no solution yet.

Please advise.
Kind regards,
Lazarus

> install.packages("rJava")*
Warning in install.packages("rJava") :
  argument 'lib' is missing: using
'/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
*Error in read.dcf(file = tmpf) : Line starting '<html> ...' is malformed!*
>
*> install.packages("JGR")*
Warning in install.packages("JGR") :
  argument 'lib' is missing: using
'/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
*Error in read.dcf(file = tmpf) : Line starting '<html> ...' is malformed!
*
*> sessionInfo()*
R version 2.9.2 (2009-08-24)
i486-pc-linux-gnu

locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=en_GB.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tcltk_2.9.2 tools_2.9.2
>

	[[alternative HTML version deleted]]


From lmramba at gmail.com  Sat Oct 10 05:25:10 2009
From: lmramba at gmail.com (lmramba at gmail.com)
Date: Sat, 10 Oct 2009 05:25:10 +0200 (CEST)
Subject: [Rd] installing any package fails using 'install.packages()'
	(PR#13993)
Message-ID: <20091010032510.EBA84282EF2D@mail.pubhealth.ku.dk>

Dear all,
I  installed my R-2.9.2 on my ubuntu version 9.04 successfully  using the
command

   sudo apt-get install r-base-dev

The problem is that I cannot install any package.

See my details below:



> install.packages("epicalc")
Warning in install.packages("epicalc") :
  argument 'lib' is missing: using
'/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
--- Please select a CRAN mirror for use in this session ---
Loading Tcl/Tk interface ... done
Error in read.dcf(file = tmpf) : Line starting '<html> ...' is malformed!
>
> install.packages("lattice")
Warning in install.packages("lattice") :
  argument 'lib' is missing: using
'/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
Error in read.dcf(file = tmpf) : Line starting '<html> ...' is malformed!
>
> sessionInfo()
R version 2.9.2 (2009-08-24)
i486-pc-linux-gnu

locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=en_GB.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tcltk_2.9.2 tools_2.9.2
>

	[[alternative HTML version deleted]]


From lmramba at gmail.com  Sat Oct 10 05:40:10 2009
From: lmramba at gmail.com (lmramba at gmail.com)
Date: Sat, 10 Oct 2009 05:40:10 +0200 (CEST)
Subject: [Rd] rJava downloads but cannot load,
	when I run R as root (PR#13994)
Message-ID: <20091010034010.9AACC282EF2D@mail.pubhealth.ku.dk>

> library(rJava)
Error in library(rJava) : there is no package called 'rJava'
> install.packages("rJava")
Warning in install.packages("rJava") :
  argument 'lib' is missing: using '/usr/local/lib/R/site-library'
--- Please select a CRAN mirror for use in this session ---
Loading Tcl/Tk interface ... done
trying URL 'http://cran.uk.r-project.org/src/contrib/rJava_0.7-0.tar.gz'
Content type 'application/x-gzip' length 249486 bytes (243 Kb)
opened URL
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
downloaded 243 Kb

* Installing *source* package =91rJava=92 ...
checking for gcc... gcc -std=3Dgnu99
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc -std=3Dgnu99 accepts -g... yes
checking for gcc -std=3Dgnu99 option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc -std=3Dgnu99 -E
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for sys/wait.h that is POSIX.1 compatible... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking for string.h... (cached) yes
checking sys/time.h usability... yes
checking sys/time.h presence... yes
checking for sys/time.h... yes
checking for unistd.h... (cached) yes
checking for an ANSI C-conforming const... yes
checking whether time.h and sys/time.h may both be included... yes
configure: checking whether gcc -std=3Dgnu99 supports static inline...
yes
checking Java support in R... present:
interpreter : '/usr/bin/java'
archiver    : '/usr/bin/jar'
compiler    : '/usr/bin/javac'
header prep.: '/usr/bin/javah'
cpp flags   : ''
java libs   : '-L/usr/lib/jvm/java-6-openjdk/jre/lib/i386/server
-L/usr/lib/jvm/java-6-openjdk/jre/lib/i386
-L/usr/lib/jvm/java-6-openjdk/jre/../lib/i386 -L
-L/usr/java/packages/lib/i386 -L/lib -L/usr/lib -ljvm'
configure: error: One or more Java configuration variables are not set.
Make sure R is configured with full Java support (including JDK). Run
R CMD javareconf
as root to add Java support to R.

If you don't have root privileges, run
R CMD javareconf -e
to set all Java-related variables and then install rJava.

ERROR: configuration failed for package =91rJava=92
* Removing =91/usr/local/lib/R/site-library/rJava=92

The downloaded packages are in
    =91/tmp/RtmpOjM9hY/downloaded_packages=92
Warning message:
In install.packages("rJava") :
  installation of package 'rJava' had non-zero exit status
>


I went ahead and did this:

root at lmramba-laptop:/home/lmramba# R CMD javareconf
Java interpreter : /usr/bin/java
Java version     : 1.6.0_0
Java home path   : /usr/lib/jvm/java-6-openjdk/jre
Java compiler    : /usr/bin/javac
Java headers gen.: /usr/bin/javah
Java archive tool: /usr/bin/jar
Java library path:
$(JAVA_HOME)/lib/i386/server:$(JAVA_HOME)/lib/i386:$(JAVA_HOME)/../lib/i386=
::/usr/java/packages/lib/i386:/lib:/usr/lib
JNI linker flags : -L$(JAVA_HOME)/lib/i386/server -L$(JAVA_HOME)/lib/i386
-L$(JAVA_HOME)/../lib/i386 -L -L/usr/java/packages/lib/i386 -L/lib
-L/usr/lib -ljvm
JNI cpp flags    :

Updating Java configuration in /etc/R
Done.


But still installing rJava fails


Plz help

Regards,
Lazarus

	[[alternative HTML version deleted]]


From lmramba at gmail.com  Sat Oct 10 05:55:10 2009
From: lmramba at gmail.com (lmramba at gmail.com)
Date: Sat, 10 Oct 2009 05:55:10 +0200 (CEST)
Subject: [Rd] Setting a mirror "permanently" on R on ubuntu (PR#13995)
Message-ID: <20091010035510.10E09282EF2D@mail.pubhealth.ku.dk>

Dear all,

I seem to have many problems as I run R on my ubuntu system.
want to set a mirror so that anytime I use the command "install.packages",
it does not ask me for which mirror to use but go direct.
This is because of the error I keep on getting below and I dont know how to
solve it.

Please help.

Kind regards,
Lazarus


> library(epicalc)
Loading required package: foreign
Loading required package: survival
Loading required package: splines
> install.packages("lattice")
Warning in install.packages("lattice") :
  argument 'lib' is missing: using
'/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
Error in contrib.url(repos, type) :
  trying to use CRAN without setting a mirror
Calls: install.packages -> grep -> contrib.url
Execution halted

Exited: 256

	[[alternative HTML version deleted]]


From edd at debian.org  Sat Oct 10 15:46:13 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 10 Oct 2009 08:46:13 -0500
Subject: [Rd] Errors in installing package "rJava" on Ubuntu (PR#13992)
In-Reply-To: <20091010021513.59B50282EF2D@mail.pubhealth.ku.dk>
References: <20091010021513.59B50282EF2D@mail.pubhealth.ku.dk>
Message-ID: <19152.36901.318708.278673@ron.nulle.part>



On 10 October 2009 at 04:15, lmramba at gmail.com wrote:
| *Hello,
| I have had this serious problem while trying to install package rJava. It is
| a requirement by the package JGR and it cannot be downloaded due to the
| error indicated below.

a) Problems with packages should go to the maintainer, not the lists.  So
   this one is for Simon.

b) That said, also wrong list. 

   Debian and Ubuntu questions go to the r-sig-debian list.

| I have googled and looked at the FAQ but no solution yet.
| 
| Please advise.
| Kind regards,
| Lazarus
| 
| > install.packages("rJava")*

c) "Wrong" (in the 'you are making your life to complicated' sense) as

   $ sudo apt-get install r-cran-rjava 

   works:

   edd at joe:~$ sudo apt-get install r-cran-rjava
   Reading package lists... Done
   Building dependency tree
   Reading state information... Done
   The following NEW packages will be installed:
     r-cran-rjava
   0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
   Need to get 225kB of archives.
   After this operation, 836kB of additional disk space will be used.
   Get:1 http://archive.ubuntu.com jaunty/universe r-cran-rjava 0.6-2-1 [225kB]
   Fetched 225kB in 1s (146kB/s)
   Selecting previously deselected package r-cran-rjava.
   (Reading database ... 397686 files and directories currently installed.)
   Unpacking r-cran-rjava (from .../r-cran-rjava_0.6-2-1_i386.deb) ...
   Setting up r-cran-rjava (0.6-2-1) ...
   edd at joe:~$

   Having this installed should provide the base for installed RWeka, JGR,
   ... and other users of rJava.

So in sum: not a bug in R and you just created extra work for R Core to
maintain the bug database.

Dirk

| Warning in install.packages("rJava") :
|   argument 'lib' is missing: using
| '/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
| *Error in read.dcf(file = tmpf) : Line starting '<html> ...' is malformed!*
| >
| *> install.packages("JGR")*
| Warning in install.packages("JGR") :
|   argument 'lib' is missing: using
| '/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
| *Error in read.dcf(file = tmpf) : Line starting '<html> ...' is malformed!
| *
| *> sessionInfo()*
| R version 2.9.2 (2009-08-24)
| i486-pc-linux-gnu
| 
| locale:
| LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=en_GB.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
| 
| attached base packages:
| [1] stats     graphics  grDevices utils     datasets  methods   base
| 
| loaded via a namespace (and not attached):
| [1] tcltk_2.9.2 tools_2.9.2
| >
| 
| 	[[alternative HTML version deleted]]
| 
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Three out of two people have difficulties with fractions.


From edd at debian.org  Sat Oct 10 15:46:46 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 10 Oct 2009 08:46:46 -0500
Subject: [Rd] installing any package fails using
	'install.packages()'	(PR#13993)
In-Reply-To: <20091010032510.EBA84282EF2D@mail.pubhealth.ku.dk>
References: <20091010032510.EBA84282EF2D@mail.pubhealth.ku.dk>
Message-ID: <19152.36934.405635.724179@ron.nulle.part>


On 10 October 2009 at 05:25, lmramba at gmail.com wrote:
| Dear all,
| I  installed my R-2.9.2 on my ubuntu version 9.04 successfully  using the
| command
| 
|    sudo apt-get install r-base-dev
| 
| The problem is that I cannot install any package.

Huh?  This has _nothing_ to do with the error below.
 
| See my details below:
| 
| 
| 
| > install.packages("epicalc")
| Warning in install.packages("epicalc") :
|   argument 'lib' is missing: using
| '/home/lmramba/R/i486-pc-linux-gnu-library/2.9'

This is suspicuous. 

If you used the Ubuntu package, it would use /usr/local/lib/R/site-library by
default.  So if you have a locally built version *you* need to figure out
what you broke there.

| --- Please select a CRAN mirror for use in this session ---
| Loading Tcl/Tk interface ... done
| Error in read.dcf(file = tmpf) : Line starting '<html> ...' is malformed!
| >
| > install.packages("lattice")
| Warning in install.packages("lattice") :
|   argument 'lib' is missing: using
| '/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
| Error in read.dcf(file = tmpf) : Line starting '<html> ...' is malformed!

No idea but you busted there. But it looks suspiciously like a local error on
your end.

Set an explicit argument for the repos, e.g. via ~/.Rprofile

    options("repos"="http://cran.us.r-project.org")    ## US mirror

(as I am in the US, adapt accordingly for a close mirror for you) to avoid
the tcl/tk query.  

That, again, works like a charm here on Ubuntu 9.10:

R> install.packages("epicalc")
Warning in install.packages("epicalc") :
  argument 'lib' is missing: using '/usr/local/lib/R/site-library'
trying URL 'http://cran.us.r-project.org/src/contrib/epicalc_2.9.2.5.tar.gz'
Content type 'application/x-gzip' length 201849 bytes (197 Kb)              
opened URL                                                                  
==================================================                          
downloaded 197 Kb                                                           

* Installing *source* package ?epicalc? ...
** R                                       
** data                                    
** demo                                    
** preparing package for lazy loading      
Loading required package: splines          
** help                                    
*** installing help indices                
 >>> Building/Updating help pages for package 'epicalc'
     Formats: text html latex example                  
  ANCdata                           text    html    latex
[...]
  use                               text    html    latex   example
  zap                               text    html    latex   example
** building package indices ...
* DONE (epicalc)

The downloaded packages are in
        ?/tmp/RtmpydkfiZ/downloaded_packages?
R>

If you install into /usr/local/lib/R/site-library, I recommend making that
directory's group mode one of the ones you have and set it to group-write.  I
typically make myself member of group 'staff' (or 'admin').

Again, in sum: not a bug in R and you just created extra work for R Core to
maintain the bug database.

Dirk


| > sessionInfo()
| R version 2.9.2 (2009-08-24)
| i486-pc-linux-gnu
| 
| locale:
| LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=en_GB.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C
| 
| attached base packages:
| [1] stats     graphics  grDevices utils     datasets  methods   base
| 
| loaded via a namespace (and not attached):
| [1] tcltk_2.9.2 tools_2.9.2
| >
| 
| 	[[alternative HTML version deleted]]
| 
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Three out of two people have difficulties with fractions.


From edd at debian.org  Sat Oct 10 15:49:06 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 10 Oct 2009 08:49:06 -0500
Subject: [Rd] rJava downloads but cannot load,
	when I run R as root (PR#13994)
In-Reply-To: <20091010034010.9AACC282EF2D@mail.pubhealth.ku.dk>
References: <20091010034010.9AACC282EF2D@mail.pubhealth.ku.dk>
Message-ID: <19152.37074.776398.779@ron.nulle.part>


On 10 October 2009 at 05:40, lmramba at gmail.com wrote:
| > library(rJava)
| Error in library(rJava) : there is no package called 'rJava'
| > install.packages("rJava")
| Warning in install.packages("rJava") :
|   argument 'lib' is missing: using '/usr/local/lib/R/site-library'
| --- Please select a CRAN mirror for use in this session ---
| Loading Tcl/Tk interface ... done
| trying URL 'http://cran.uk.r-project.org/src/contrib/rJava_0.7-0.tar.gz'
| Content type 'application/x-gzip' length 249486 bytes (243 Kb)
| opened URL
| =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
| =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
| downloaded 243 Kb
| 
| * Installing *source* package =91rJava=92 ...
| checking for gcc... gcc -std=3Dgnu99
| checking for C compiler default output file name... a.out
[...]
| configure: checking whether gcc -std=3Dgnu99 supports static inline...
| yes
| checking Java support in R... present:
| interpreter : '/usr/bin/java'
| archiver    : '/usr/bin/jar'
| compiler    : '/usr/bin/javac'
| header prep.: '/usr/bin/javah'
| cpp flags   : ''
| java libs   : '-L/usr/lib/jvm/java-6-openjdk/jre/lib/i386/server
| -L/usr/lib/jvm/java-6-openjdk/jre/lib/i386
| -L/usr/lib/jvm/java-6-openjdk/jre/../lib/i386 -L
| -L/usr/java/packages/lib/i386 -L/lib -L/usr/lib -ljvm'
| configure: error: One or more Java configuration variables are not set.
| Make sure R is configured with full Java support (including JDK). Run
| R CMD javareconf
| as root to add Java support to R.

R tells you your Java setup is not right. This *is* difficult, which is why I
have offered to maintain and provide the rJava in Debian / Ubuntu as r-cran-rjava.

As demonstrated to you two emails ago, it also works.  I would use that.
Otherwise, fix your Java setup first as R told you to here.


| 
| If you don't have root privileges, run
| R CMD javareconf -e
| to set all Java-related variables and then install rJava.
| 
| ERROR: configuration failed for package =91rJava=92
| * Removing =91/usr/local/lib/R/site-library/rJava=92
| 
| The downloaded packages are in
|     =91/tmp/RtmpOjM9hY/downloaded_packages=92
| Warning message:
| In install.packages("rJava") :
|   installation of package 'rJava' had non-zero exit status
| >
| 
| 
| I went ahead and did this:
| 
| root at lmramba-laptop:/home/lmramba# R CMD javareconf
| Java interpreter : /usr/bin/java
| Java version     : 1.6.0_0
| Java home path   : /usr/lib/jvm/java-6-openjdk/jre
| Java compiler    : /usr/bin/javac
| Java headers gen.: /usr/bin/javah
| Java archive tool: /usr/bin/jar
| Java library path:
| $(JAVA_HOME)/lib/i386/server:$(JAVA_HOME)/lib/i386:$(JAVA_HOME)/../lib/i386=
| ::/usr/java/packages/lib/i386:/lib:/usr/lib
| JNI linker flags : -L$(JAVA_HOME)/lib/i386/server -L$(JAVA_HOME)/lib/i386
| -L$(JAVA_HOME)/../lib/i386 -L -L/usr/java/packages/lib/i386 -L/lib
| -L/usr/lib -ljvm
| JNI cpp flags    :
| Updating Java configuration in /etc/R
| Done.
| 
| 
| But still installing rJava fails

As before: not a bug in R and you just created extra work for R Core to
maintain the bug database.

Dirk


| Plz help
| 
| Regards,
| Lazarus
| 
| 	[[alternative HTML version deleted]]
| 
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Three out of two people have difficulties with fractions.


From edd at debian.org  Sat Oct 10 15:50:29 2009
From: edd at debian.org (edd at debian.org)
Date: Sat, 10 Oct 2009 15:50:29 +0200 (CEST)
Subject: [Rd] installing any package fails using 'install.packages()'
	(PR#13996)
Message-ID: <20091010135029.A41AF282EF42@mail.pubhealth.ku.dk>


On 10 October 2009 at 05:25, lmramba at gmail.com wrote:
| Dear all,
| I  installed my R-2.9.2 on my ubuntu version 9.04 successfully  using=
 the
| command
|=20
|    sudo apt-get install r-base-dev
|=20
| The problem is that I cannot install any package.

Huh?  This has _nothing_ to do with the error below.
=20
| See my details below:
|=20
|=20
|=20
| > install.packages("epicalc")
| Warning in install.packages("epicalc") :
|   argument 'lib' is missing: using
| '/home/lmramba/R/i486-pc-linux-gnu-library/2.9'

This is suspicuous.=20

If you used the Ubuntu package, it would use /usr/local/lib/R/site-libr=
ary by
default.  So if you have a locally built version *you* need to figure o=
ut
what you broke there.

| --- Please select a CRAN mirror for use in this session ---
| Loading Tcl/Tk interface ... done
| Error in read.dcf(file =3D tmpf) : Line starting '<html> ...' is malf=
ormed!
| >
| > install.packages("lattice")
| Warning in install.packages("lattice") :
|   argument 'lib' is missing: using
| '/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
| Error in read.dcf(file =3D tmpf) : Line starting '<html> ...' is malf=
ormed!

No idea but you busted there. But it looks suspiciously like a local er=
ror on
your end.

Set an explicit argument for the repos, e.g. via ~/.Rprofile

    options("repos"=3D"http://cran.us.r-project.org")    ## US mirror

(as I am in the US, adapt accordingly for a close mirror for you) to av=
oid
the tcl/tk query. =20

That, again, works like a charm here on Ubuntu 9.10:

R> install.packages("epicalc")
Warning in install.packages("epicalc") :
  argument 'lib' is missing: using '/usr/local/lib/R/site-library'
trying URL 'http://cran.us.r-project.org/src/contrib/epicalc_2.9.2.5.ta=
r.gz'
Content type 'application/x-gzip' length 201849 bytes (197 Kb)         =
    =20
opened URL                                                             =
    =20
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D                         =20
downloaded 197 Kb                                                      =
    =20

* Installing *source* package =E2=80=98epicalc=E2=80=99 ...
** R                                      =20
** data                                   =20
** demo                                   =20
** preparing package for lazy loading     =20
Loading required package: splines         =20
** help                                   =20
*** installing help indices               =20
 >>> Building/Updating help pages for package 'epicalc'
     Formats: text html latex example                 =20
  ANCdata                           text    html    latex
[...]
  use                               text    html    latex   example
  zap                               text    html    latex   example
** building package indices ...
* DONE (epicalc)

The downloaded packages are in
        =E2=80=98/tmp/RtmpydkfiZ/downloaded_packages=E2=80=99
R>

If you install into /usr/local/lib/R/site-library, I recommend making t=
hat
directory's group mode one of the ones you have and set it to group-wri=
te.  I
typically make myself member of group 'staff' (or 'admin').

Again, in sum: not a bug in R and you just created extra work for R Cor=
e to
maintain the bug database.

Dirk


| > sessionInfo()
| R version 2.9.2 (2009-08-24)
| i486-pc-linux-gnu
|=20
| locale:
| LC_CTYPE=3Den_GB.UTF-8;LC_NUMERIC=3DC;LC_TIME=3Den_GB.UTF-8;LC_COLLAT=
E=3Den_GB.UTF-8;LC_MONETARY=3DC;LC_MESSAGES=3Den_GB.UTF-8;LC_PAPER=3Den=
_GB.UTF-8;LC_NAME=3DC;LC_ADDRESS=3DC;LC_TELEPHONE=3DC;LC_MEASUREMENT=3D=
en_GB.UTF-8;LC_IDENTIFICATION=3DC
|=20
| attached base packages:
| [1] stats     graphics  grDevices utils     datasets  methods   base
|=20
| loaded via a namespace (and not attached):
| [1] tcltk_2.9.2 tools_2.9.2
| >
|=20
| =09[[alternative HTML version deleted]]
|=20
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

--=20
Three out of two people have difficulties with fractions.


From edd at debian.org  Sat Oct 10 15:50:33 2009
From: edd at debian.org (edd at debian.org)
Date: Sat, 10 Oct 2009 15:50:33 +0200 (CEST)
Subject: [Rd] rJava downloads but cannot load, (PR#13997)
Message-ID: <20091010135033.8FF36282EF50@mail.pubhealth.ku.dk>


On 10 October 2009 at 05:40, lmramba at gmail.com wrote:
| > library(rJava)
| Error in library(rJava) : there is no package called 'rJava'
| > install.packages("rJava")
| Warning in install.packages("rJava") :
|   argument 'lib' is missing: using '/usr/local/lib/R/site-library'
| --- Please select a CRAN mirror for use in this session ---
| Loading Tcl/Tk interface ... done
| trying URL 'http://cran.uk.r-project.org/src/contrib/rJava_0.7-0.tar.gz'
| Content type 'application/x-gzip' length 249486 bytes (243 Kb)
| opened URL
| =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
| =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
| downloaded 243 Kb
| 
| * Installing *source* package =91rJava=92 ...
| checking for gcc... gcc -std=3Dgnu99
| checking for C compiler default output file name... a.out
[...]
| configure: checking whether gcc -std=3Dgnu99 supports static inline...
| yes
| checking Java support in R... present:
| interpreter : '/usr/bin/java'
| archiver    : '/usr/bin/jar'
| compiler    : '/usr/bin/javac'
| header prep.: '/usr/bin/javah'
| cpp flags   : ''
| java libs   : '-L/usr/lib/jvm/java-6-openjdk/jre/lib/i386/server
| -L/usr/lib/jvm/java-6-openjdk/jre/lib/i386
| -L/usr/lib/jvm/java-6-openjdk/jre/../lib/i386 -L
| -L/usr/java/packages/lib/i386 -L/lib -L/usr/lib -ljvm'
| configure: error: One or more Java configuration variables are not set.
| Make sure R is configured with full Java support (including JDK). Run
| R CMD javareconf
| as root to add Java support to R.

R tells you your Java setup is not right. This *is* difficult, which is why I
have offered to maintain and provide the rJava in Debian / Ubuntu as r-cran-rjava.

As demonstrated to you two emails ago, it also works.  I would use that.
Otherwise, fix your Java setup first as R told you to here.


| 
| If you don't have root privileges, run
| R CMD javareconf -e
| to set all Java-related variables and then install rJava.
| 
| ERROR: configuration failed for package =91rJava=92
| * Removing =91/usr/local/lib/R/site-library/rJava=92
| 
| The downloaded packages are in
|     =91/tmp/RtmpOjM9hY/downloaded_packages=92
| Warning message:
| In install.packages("rJava") :
|   installation of package 'rJava' had non-zero exit status
| >
| 
| 
| I went ahead and did this:
| 
| root at lmramba-laptop:/home/lmramba# R CMD javareconf
| Java interpreter : /usr/bin/java
| Java version     : 1.6.0_0
| Java home path   : /usr/lib/jvm/java-6-openjdk/jre
| Java compiler    : /usr/bin/javac
| Java headers gen.: /usr/bin/javah
| Java archive tool: /usr/bin/jar
| Java library path:
| $(JAVA_HOME)/lib/i386/server:$(JAVA_HOME)/lib/i386:$(JAVA_HOME)/../lib/i386=
| ::/usr/java/packages/lib/i386:/lib:/usr/lib
| JNI linker flags : -L$(JAVA_HOME)/lib/i386/server -L$(JAVA_HOME)/lib/i386
| -L$(JAVA_HOME)/../lib/i386 -L -L/usr/java/packages/lib/i386 -L/lib
| -L/usr/lib -ljvm
| JNI cpp flags    :
| Updating Java configuration in /etc/R
| Done.
| 
| 
| But still installing rJava fails

As before: not a bug in R and you just created extra work for R Core to
maintain the bug database.

Dirk


| Plz help
| 
| Regards,
| Lazarus
| 
| 	[[alternative HTML version deleted]]
| 
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Three out of two people have difficulties with fractions.


From edd at debian.org  Sat Oct 10 15:53:28 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 10 Oct 2009 08:53:28 -0500
Subject: [Rd] Setting a mirror "permanently" on R on ubuntu (PR#13995)
In-Reply-To: <20091010035510.10E09282EF2D@mail.pubhealth.ku.dk>
References: <20091010035510.10E09282EF2D@mail.pubhealth.ku.dk>
Message-ID: <19152.37336.655131.404281@ron.nulle.part>


On 10 October 2009 at 05:55, lmramba at gmail.com wrote:
| Dear all,
| 
| I seem to have many problems as I run R on my ubuntu system.
| want to set a mirror so that anytime I use the command "install.packages",
| it does not ask me for which mirror to use but go direct.
| This is because of the error I keep on getting below and I dont know how to
| solve it.

Can you _please stop abusing the bug tracking system_ by asking these
beginner questions?

This is answered, inter alia, in

     help(install.packages)   # telling you about option("repos")
     help(options)	      # telling you about the repos option
     help(Startup)	      # telling you about R's inits

as well as the different manuals.

Also, see one of the emails I just sent you for the concrete example:

     edd at joe:~$ cat .Rprofile
     options("width"=160)
     #options("pdfviewer"="kpdf")
     # as in AER by Zeileis and Kleiber
     options(prompt="R> ", digits=4, show.signif.stars=FALSE)
     options("repos"="http://cran.us.r-project.org")    ## US mirror

Lastly, *please* switch to r-sig-debian for help with your Debian / Ubuntu
system and stop abusing the r-devel list and the bug tracker.

Dirk


| Please help.
| 
| Kind regards,
| Lazarus
| 
| 
| > library(epicalc)
| Loading required package: foreign
| Loading required package: survival
| Loading required package: splines
| > install.packages("lattice")
| Warning in install.packages("lattice") :
|   argument 'lib' is missing: using
| '/home/lmramba/R/i486-pc-linux-gnu-library/2.9'
| Error in contrib.url(repos, type) :
|   trying to use CRAN without setting a mirror
| Calls: install.packages -> grep -> contrib.url
| Execution halted
| 
| Exited: 256
| 
| 	[[alternative HTML version deleted]]
| 
| ______________________________________________
| R-devel at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Three out of two people have difficulties with fractions.


From dutangc at gmail.com  Sat Oct 10 18:04:48 2009
From: dutangc at gmail.com (Christophe Dutang)
Date: Sat, 10 Oct 2009 18:04:48 +0200
Subject: [Rd] [R-SIG-Mac] rnorm.halton
In-Reply-To: <69a765940909150925q6c4c6d65l3e352c2e967650b0@mail.gmail.com>
References: <354999DC2B7CF74ABE02F69BF9FC2C3A01E17F49@EX01.staff.smu.edu.sg>
	<69a765940909141728v56bacb5dse60e85aad7c23a12@mail.gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F54@EX01.staff.smu.edu.sg>
	<69a765940909141855q5b7d4071w1312c0dae8ba92b1@mail.gmail.com>
	<4715E755-4F2E-46D6-BDE3-3D5D6EC0992B@gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F68@EX01.staff.smu.edu.sg>
	<69a765940909150810m71a0417bod82540aa371b3771@mail.gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F6C@EX01.staff.smu.edu.sg>
	<69a765940909150925q6c4c6d65l3e352c2e967650b0@mail.gmail.com>
Message-ID: <14ADBB3D-229F-43CC-B616-D58F2A34AE9E@gmail.com>

Hi all,

I need to transform classic 32bit Fortran code to 64bit Fortran code,  
see the discussion [R-SIG-Mac] rnorm.halton. But I'm clearly a  
beginner in Fortran...

Does someone already do this for his package?

 From here, http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=linux&db=bks&fname=/SGI_Developer/Porting_Guide/ch03.html 
  , I identify the following changes (Fortran types) to the Fortran  
code:

   - INTEGER to INTEGER*8
   - REAL*8 to REAL*16

The code I would like to change is available on R forge here : http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/pkg/randtoolbox/src/LowDiscrepancy.f?rev=4229&root=rmetrics&view=markup

Another question I have is how do I tell the R code to use the 64bit  
version of my code on 64bit machine?

In the current implementation, the file quasiRNG.R calls directly the  
Fortran code with .Fortran.
How could I use the 64bit version directly in the R code?

I suspect I need to have a quasiRNG.c file where I will use  
preprocessor statement that will select the good version of the  
function to call. Is that correct?

Thanks in advance

Christophe


Le 15 sept. 2009 ? 18:25, Anirban Mukherjee a ?crit :

> Sorry, what I should have said was Halton numbers are quasi-random,
> and not pseudo-random. Quasi-random is the technically appropriate
> terminology.
>
> Halton sequences are low discrepancy: the subsequence looks/smells
> random. Hence, they are often used in quasi monte carlo simulations.
> To be precise, there is only 1 Halton sequence for a particular prime.
> Repeated calls to Halton should return the same numbers. The first
> column is the Halton sequence for 2. the second for 3, the third for 5
> and so on using the first M primes (for M columns). (You can also
> scramble the sequence to avoid this.)
>
> I am using them to integrate over a multivariate normal space. If you
> take 1000 random draws, then sum f() over the draws is the expectation
> of f(). If f() is very non-linear (and/or multi-variate) then even
> with large N, its often hard to get a good integral. With quasi-random
> draws, the integration is better for the same N. (One uses the inverse
> distribution function.) For an example, you can look at Train's paper
> (page 4 and 5 have a good explanation) at:
>
> http://elsa.berkeley.edu/wp/train0899.pdf
>
> In the context of simulated maximum likelihood estimation, such
> integrals are very common. Of course true randomness has its own
> place/importance: its just that quasi-random numbers can be very
> useful in certain contexts.
>
> Regards,
> Anirban
>
> PS: qnorm(halton()) gets around the problem of the random deviates  
> not working.
>
> On Tue, Sep 15, 2009 at 11:37 AM, David Winsemius
> <dwinsemius at comcast.net> wrote:
>>
>> On Sep 15, 2009, at 11:10 AM, Anirban Mukherjee wrote:
>>
>>> Thanks everyone for your replies. Particularly David.
>>>
>>> The numbers are pseudo-random. Repeated calls should/would give the
>>> same output.
>>
>> As I said, this package is not one with which I have experience. It
>> has _not_ however the case that repeated calls to (typical?) random
>> number functions give the same output when called repeatedly:
>>
>>  > rnorm(10)
>>   [1] -0.8740195  2.1827411 -0.1473012 -1.4406262  0.1820631
>> -1.3151244 -0.4813703  0.8177692
>>   [9]  0.2076117  1.8697418
>>  > rnorm(10)
>>   [1] -0.7725731  0.8696742 -0.4907099  0.1561859  0.5913528
>> -0.8441891  0.2285653 -0.1231755
>>   [9]  0.5190459 -0.7803617
>>  > rnorm(10)
>>   [1] -0.9585881 -0.0458582  1.1967342  0.6421980 -0.5290280
>> -1.0735112  0.6346301  0.2685760
>>   [9]  1.5767800  1.0864515
>>  > rnorm(10)
>>   [1] -0.60400852 -0.06611533  1.00787048  1.48289305  0.54658888
>> -0.67630052  0.52664127 -0.36449997
>>   [9]  0.88039397  0.56929333
>>
>> I cannot imagine a situation where one would _want_ the output to be
>> the same on repeated calls unless one reset a seed. Unless perhaps I
>> am not understanding the meaning of "random" in the financial domain?
>>
>> --
>> David
>>
>>>   Currently, Halton works fine when used to just get the
>>> Halton sequence, but the random deviates call is not working in 64  
>>> bit
>>> R. For now, I will generate the numbers in 32 bit R, save them and
>>> then load them back in when using 64 bit R. The package maintainers
>>> can look at it if/when they get a chance and/or access to 64 bit R.
>>>
>>> Thanks!
>>>
>>> Best,
>>> Anirban
>>>
>>> On Tue, Sep 15, 2009 at 9:01 AM, David Winsemius <dwinsemius at comcast.net
>>>> wrote:
>>>> I get very different output from the two versions of Mac OSX R as
>>>> well. The 32 bit version puts out a histogram that has an expected,
>>>> almost symmetric unimodal distribution. The 64 bit version  
>>>> created a
>>>> bimodal distribution with one large mode near 0 and another smaller
>>>> mode near 10E+37. Postcript output attached.
>>>>
>>>
>>>
>>>
>>> --
>>> Anirban Mukherjee | Assistant Professor, Marketing | LKCSB, SMU
>>> 5062 School of Business, 50 Stamford Road, Singapore 178899 |
>>> +65-6828-1932
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> David Winsemius, MD
>> Heritage Laboratories
>> West Hartford, CT
>>
>>
>
>
>
> -- 
> Anirban Mukherjee | Assistant Professor, Marketing | LKCSB, SMU
> 5062 School of Business, 50 Stamford Road, Singapore 178899 |  
> +65-6828-1932
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

--
Christophe Dutang
Ph.D. student at ISFA, Lyon, France
website: http://dutangc.free.fr


From simon.urbanek at r-project.org  Sat Oct 10 19:56:16 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 10 Oct 2009 13:56:16 -0400
Subject: [Rd] [R-SIG-Mac] rnorm.halton
In-Reply-To: <14ADBB3D-229F-43CC-B616-D58F2A34AE9E@gmail.com>
References: <354999DC2B7CF74ABE02F69BF9FC2C3A01E17F49@EX01.staff.smu.edu.sg>
	<69a765940909141728v56bacb5dse60e85aad7c23a12@mail.gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F54@EX01.staff.smu.edu.sg>
	<69a765940909141855q5b7d4071w1312c0dae8ba92b1@mail.gmail.com>
	<4715E755-4F2E-46D6-BDE3-3D5D6EC0992B@gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F68@EX01.staff.smu.edu.sg>
	<69a765940909150810m71a0417bod82540aa371b3771@mail.gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F6C@EX01.staff.smu.edu.sg>
	<69a765940909150925q6c4c6d65l3e352c2e967650b0@mail.gmail.com>
	<14ADBB3D-229F-43CC-B616-D58F2A34AE9E@gmail.com>
Message-ID: <E2402206-ABA6-4E4A-AC50-A4D41874F1EC@r-project.org>

Christophe,

you're looking at the wrong docs -- normally there is nothing you need  
to change FORTRAN code when switching between 32-bit and 64-bit. There  
is no separate "64-bit code" or "32-bit code". None of the scalar  
types used by R in interfaces changes (int, double and INTEGER, REAL*8  
are both the same). You only need to change your code if you make  
assumptions about the size of pointers which increases from 4 bytes to  
8 bytes (and normally you should not be making those assumptions). I  
don't think you should touch any Fortran code.

For the C code, the only thing that changes (beside pointer size) is  
"long" data types. If you use those in your code, you must be aware  
that the corresponding size change. I suspect that if you have a  
discrepancy in your 32/64-bit binaries then you either have a bug  
somewhere (Fortran or C) or your C code is not 64-bit clean (i.e.  
makes some 32-bit assumptions that are not true in 64-bit environment  
- check the use of "long" data types and pointers). Again, the  
solution is to fix the code to be clean, it will still be the same for  
both 32-bit and 64-bit.

Cheers,
Simon



On Oct 10, 2009, at 12:04 PM, Christophe Dutang wrote:

> Hi all,
>
> I need to transform classic 32bit Fortran code to 64bit Fortran  
> code, see the discussion [R-SIG-Mac] rnorm.halton. But I'm clearly a  
> beginner in Fortran...
>
> Does someone already do this for his package?
>
> From here, http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=linux&db=bks&fname=/SGI_Developer/Porting_Guide/ch03.html 
>  , I identify the following changes (Fortran types) to the Fortran  
> code:
>
>  - INTEGER to INTEGER*8
>  - REAL*8 to REAL*16
>
> The code I would like to change is available on R forge here : http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/pkg/randtoolbox/src/LowDiscrepancy.f?rev=4229&root=rmetrics&view=markup
>
> Another question I have is how do I tell the R code to use the 64bit  
> version of my code on 64bit machine?
>
> In the current implementation, the file quasiRNG.R calls directly  
> the Fortran code with .Fortran.
> How could I use the 64bit version directly in the R code?
>
> I suspect I need to have a quasiRNG.c file where I will use  
> preprocessor statement that will select the good version of the  
> function to call. Is that correct?
>
> Thanks in advance
>
> Christophe
>
>
> Le 15 sept. 2009 ? 18:25, Anirban Mukherjee a ?crit :
>
>> Sorry, what I should have said was Halton numbers are quasi-random,
>> and not pseudo-random. Quasi-random is the technically appropriate
>> terminology.
>>
>> Halton sequences are low discrepancy: the subsequence looks/smells
>> random. Hence, they are often used in quasi monte carlo simulations.
>> To be precise, there is only 1 Halton sequence for a particular  
>> prime.
>> Repeated calls to Halton should return the same numbers. The first
>> column is the Halton sequence for 2. the second for 3, the third  
>> for 5
>> and so on using the first M primes (for M columns). (You can also
>> scramble the sequence to avoid this.)
>>
>> I am using them to integrate over a multivariate normal space. If you
>> take 1000 random draws, then sum f() over the draws is the  
>> expectation
>> of f(). If f() is very non-linear (and/or multi-variate) then even
>> with large N, its often hard to get a good integral. With quasi- 
>> random
>> draws, the integration is better for the same N. (One uses the  
>> inverse
>> distribution function.) For an example, you can look at Train's paper
>> (page 4 and 5 have a good explanation) at:
>>
>> http://elsa.berkeley.edu/wp/train0899.pdf
>>
>> In the context of simulated maximum likelihood estimation, such
>> integrals are very common. Of course true randomness has its own
>> place/importance: its just that quasi-random numbers can be very
>> useful in certain contexts.
>>
>> Regards,
>> Anirban
>>
>> PS: qnorm(halton()) gets around the problem of the random deviates  
>> not working.
>>
>> On Tue, Sep 15, 2009 at 11:37 AM, David Winsemius
>> <dwinsemius at comcast.net> wrote:
>>>
>>> On Sep 15, 2009, at 11:10 AM, Anirban Mukherjee wrote:
>>>
>>>> Thanks everyone for your replies. Particularly David.
>>>>
>>>> The numbers are pseudo-random. Repeated calls should/would give the
>>>> same output.
>>>
>>> As I said, this package is not one with which I have experience. It
>>> has _not_ however the case that repeated calls to (typical?) random
>>> number functions give the same output when called repeatedly:
>>>
>>> > rnorm(10)
>>>  [1] -0.8740195  2.1827411 -0.1473012 -1.4406262  0.1820631
>>> -1.3151244 -0.4813703  0.8177692
>>>  [9]  0.2076117  1.8697418
>>> > rnorm(10)
>>>  [1] -0.7725731  0.8696742 -0.4907099  0.1561859  0.5913528
>>> -0.8441891  0.2285653 -0.1231755
>>>  [9]  0.5190459 -0.7803617
>>> > rnorm(10)
>>>  [1] -0.9585881 -0.0458582  1.1967342  0.6421980 -0.5290280
>>> -1.0735112  0.6346301  0.2685760
>>>  [9]  1.5767800  1.0864515
>>> > rnorm(10)
>>>  [1] -0.60400852 -0.06611533  1.00787048  1.48289305  0.54658888
>>> -0.67630052  0.52664127 -0.36449997
>>>  [9]  0.88039397  0.56929333
>>>
>>> I cannot imagine a situation where one would _want_ the output to be
>>> the same on repeated calls unless one reset a seed. Unless perhaps I
>>> am not understanding the meaning of "random" in the financial  
>>> domain?
>>>
>>> --
>>> David
>>>
>>>>  Currently, Halton works fine when used to just get the
>>>> Halton sequence, but the random deviates call is not working in  
>>>> 64 bit
>>>> R. For now, I will generate the numbers in 32 bit R, save them and
>>>> then load them back in when using 64 bit R. The package maintainers
>>>> can look at it if/when they get a chance and/or access to 64 bit R.
>>>>
>>>> Thanks!
>>>>
>>>> Best,
>>>> Anirban
>>>>
>>>> On Tue, Sep 15, 2009 at 9:01 AM, David Winsemius <dwinsemius at comcast.net
>>>>> wrote:
>>>>> I get very different output from the two versions of Mac OSX R as
>>>>> well. The 32 bit version puts out a histogram that has an  
>>>>> expected,
>>>>> almost symmetric unimodal distribution. The 64 bit version  
>>>>> created a
>>>>> bimodal distribution with one large mode near 0 and another  
>>>>> smaller
>>>>> mode near 10E+37. Postcript output attached.
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Anirban Mukherjee | Assistant Professor, Marketing | LKCSB, SMU
>>>> 5062 School of Business, 50 Stamford Road, Singapore 178899 |
>>>> +65-6828-1932
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> David Winsemius, MD
>>> Heritage Laboratories
>>> West Hartford, CT
>>>
>>>
>>
>>
>>
>> -- 
>> Anirban Mukherjee | Assistant Professor, Marketing | LKCSB, SMU
>> 5062 School of Business, 50 Stamford Road, Singapore 178899 |  
>> +65-6828-1932
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> --
> Christophe Dutang
> Ph.D. student at ISFA, Lyon, France
> website: http://dutangc.free.fr
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From murdoch at stats.uwo.ca  Sat Oct 10 20:00:40 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 10 Oct 2009 14:00:40 -0400
Subject: [Rd] Possible bug in the Rd parser?
In-Reply-To: <1255176462.9627.43.camel@ubuntu>
References: <1255176462.9627.43.camel@ubuntu>
Message-ID: <4AD0CBC8.6070206@stats.uwo.ca>

On 10/10/2009 8:07 AM, Mathieu Ribatet wrote:
> Dear list,
> 
> I got an automatic email complaining than some of my packages didn't
> pass 'R CMD check' for R-2.10.0 alpha anymore. Both of them make use of
> the "cases" LaTeX environment.
> 
> Inspecting the log outputs I got:
> 
>         LaTeX errors when creating PDF version.
>         This typically indicates Rd problems.
>         LaTeX errors found:
>         ! Misplaced alignment tab character &.
> 
> I noticed that the Rd parser changed quite recently and that '#', '_'
> and '&' must not be escaped according to "Writing R extensions".
> However, the problematic .Rd portion seems (to me) OK
> 
>         \deqn{\theta(h) =
>             \begin{cases}
>             u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
>         \right),&\xi \neq 0\\
>             \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
>             \end{cases}
>           }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
>             exp(nu(h)/sigma), otherwise}
> 
> Removing the alignment tab character '&' solves the issue but doesn't
> produce the expected LaTeX output. Do I miss something with the new Rd
> parser requirements?

I think the new parser is working properly, but there is something wrong 
with your LaTeX.  When I paste that block into a test file and run it 
through the 2.9 parser, the \\ gets converted to \bsl{}, and garbage 
results.  The new parser faithfully reproduces what you wrote, but for 
some reason it's not legal LaTeX.

I suspect the problem is that the text is generated within a \deqn{} 
macro, which is defined in Rd.sty.  Something you're doing is not 
allowed in that context.

It's helpful to run

Rcmd Rd2dvi --no-clean test.Rd

to be able to examine the LaTeX produced by R (which will be saved in a 
temporary directory; the --no-clean tells R not to delete it at the end).

I don't know LaTeX well enough to tell you the best workaround for this, 
but one option is to used the recently added \if or \ifelse and \out 
macros instead of \deqn.  Of course, that will make your Rd file 
unusable in earlier versions, so it's not necessarily the best idea.

Duncan Murdoch


From simon.urbanek at r-project.org  Sat Oct 10 20:02:24 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 10 Oct 2009 14:02:24 -0400
Subject: [Rd] [R-SIG-Mac] rnorm.halton
In-Reply-To: <14ADBB3D-229F-43CC-B616-D58F2A34AE9E@gmail.com>
References: <354999DC2B7CF74ABE02F69BF9FC2C3A01E17F49@EX01.staff.smu.edu.sg>
	<69a765940909141728v56bacb5dse60e85aad7c23a12@mail.gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F54@EX01.staff.smu.edu.sg>
	<69a765940909141855q5b7d4071w1312c0dae8ba92b1@mail.gmail.com>
	<4715E755-4F2E-46D6-BDE3-3D5D6EC0992B@gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F68@EX01.staff.smu.edu.sg>
	<69a765940909150810m71a0417bod82540aa371b3771@mail.gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F6C@EX01.staff.smu.edu.sg>
	<69a765940909150925q6c4c6d65l3e352c2e967650b0@mail.gmail.com>
	<14ADBB3D-229F-43CC-B616-D58F2A34AE9E@gmail.com>
Message-ID: <55F774DD-5791-4CFB-A7F4-646C8161A1AF@r-project.org>

Christophe,

I forgot to answer the second part of your e-mail -- see below.

On Oct 10, 2009, at 12:04 PM, Christophe Dutang wrote:

> Hi all,
>
> I need to transform classic 32bit Fortran code to 64bit Fortran  
> code, see the discussion [R-SIG-Mac] rnorm.halton. But I'm clearly a  
> beginner in Fortran...
>
> Does someone already do this for his package?
>
> From here, http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=linux&db=bks&fname=/SGI_Developer/Porting_Guide/ch03.html 
>  , I identify the following changes (Fortran types) to the Fortran  
> code:
>
>  - INTEGER to INTEGER*8
>  - REAL*8 to REAL*16
>
> The code I would like to change is available on R forge here : http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/pkg/randtoolbox/src/LowDiscrepancy.f?rev=4229&root=rmetrics&view=markup
>
> Another question I have is how do I tell the R code to use the 64bit  
> version of my code on 64bit machine?
>
> In the current implementation, the file quasiRNG.R calls directly  
> the Fortran code with .Fortran.
> How could I use the 64bit version directly in the R code?
>

You don't have a choice -- whether 32 or 64 bits are used is defined  
by R, because you cannot mix 32-bit and 64-bit code. So in 64-bit R  
your package will be compiled into 64-bit. In 32-bit R your package  
will be compiled in 32-bit. You can see which R you are using with

8 * .Machine$sizeof.pointer

(Note: The Mac binaries we provide are multi-arch so they [the Leopard  
build] do in fact include both 32-bit and 64-bit -- which one gets  
started depends on the --arch flag, see R docs for details on multi- 
arch installations).

Cheers,
Simon


> I suspect I need to have a quasiRNG.c file where I will use  
> preprocessor statement that will select the good version of the  
> function to call. Is that correct?
>

No (see previous e-mail).


> Thanks in advance
>
> Christophe
>
>
> Le 15 sept. 2009 ? 18:25, Anirban Mukherjee a ?crit :
>
>> Sorry, what I should have said was Halton numbers are quasi-random,
>> and not pseudo-random. Quasi-random is the technically appropriate
>> terminology.
>>
>> Halton sequences are low discrepancy: the subsequence looks/smells
>> random. Hence, they are often used in quasi monte carlo simulations.
>> To be precise, there is only 1 Halton sequence for a particular  
>> prime.
>> Repeated calls to Halton should return the same numbers. The first
>> column is the Halton sequence for 2. the second for 3, the third  
>> for 5
>> and so on using the first M primes (for M columns). (You can also
>> scramble the sequence to avoid this.)
>>
>> I am using them to integrate over a multivariate normal space. If you
>> take 1000 random draws, then sum f() over the draws is the  
>> expectation
>> of f(). If f() is very non-linear (and/or multi-variate) then even
>> with large N, its often hard to get a good integral. With quasi- 
>> random
>> draws, the integration is better for the same N. (One uses the  
>> inverse
>> distribution function.) For an example, you can look at Train's paper
>> (page 4 and 5 have a good explanation) at:
>>
>> http://elsa.berkeley.edu/wp/train0899.pdf
>>
>> In the context of simulated maximum likelihood estimation, such
>> integrals are very common. Of course true randomness has its own
>> place/importance: its just that quasi-random numbers can be very
>> useful in certain contexts.
>>
>> Regards,
>> Anirban
>>
>> PS: qnorm(halton()) gets around the problem of the random deviates  
>> not working.
>>
>> On Tue, Sep 15, 2009 at 11:37 AM, David Winsemius
>> <dwinsemius at comcast.net> wrote:
>>>
>>> On Sep 15, 2009, at 11:10 AM, Anirban Mukherjee wrote:
>>>
>>>> Thanks everyone for your replies. Particularly David.
>>>>
>>>> The numbers are pseudo-random. Repeated calls should/would give the
>>>> same output.
>>>
>>> As I said, this package is not one with which I have experience. It
>>> has _not_ however the case that repeated calls to (typical?) random
>>> number functions give the same output when called repeatedly:
>>>
>>> > rnorm(10)
>>>  [1] -0.8740195  2.1827411 -0.1473012 -1.4406262  0.1820631
>>> -1.3151244 -0.4813703  0.8177692
>>>  [9]  0.2076117  1.8697418
>>> > rnorm(10)
>>>  [1] -0.7725731  0.8696742 -0.4907099  0.1561859  0.5913528
>>> -0.8441891  0.2285653 -0.1231755
>>>  [9]  0.5190459 -0.7803617
>>> > rnorm(10)
>>>  [1] -0.9585881 -0.0458582  1.1967342  0.6421980 -0.5290280
>>> -1.0735112  0.6346301  0.2685760
>>>  [9]  1.5767800  1.0864515
>>> > rnorm(10)
>>>  [1] -0.60400852 -0.06611533  1.00787048  1.48289305  0.54658888
>>> -0.67630052  0.52664127 -0.36449997
>>>  [9]  0.88039397  0.56929333
>>>
>>> I cannot imagine a situation where one would _want_ the output to be
>>> the same on repeated calls unless one reset a seed. Unless perhaps I
>>> am not understanding the meaning of "random" in the financial  
>>> domain?
>>>
>>> --
>>> David
>>>
>>>>  Currently, Halton works fine when used to just get the
>>>> Halton sequence, but the random deviates call is not working in  
>>>> 64 bit
>>>> R. For now, I will generate the numbers in 32 bit R, save them and
>>>> then load them back in when using 64 bit R. The package maintainers
>>>> can look at it if/when they get a chance and/or access to 64 bit R.
>>>>
>>>> Thanks!
>>>>
>>>> Best,
>>>> Anirban
>>>>
>>>> On Tue, Sep 15, 2009 at 9:01 AM, David Winsemius <dwinsemius at comcast.net
>>>>> wrote:
>>>>> I get very different output from the two versions of Mac OSX R as
>>>>> well. The 32 bit version puts out a histogram that has an  
>>>>> expected,
>>>>> almost symmetric unimodal distribution. The 64 bit version  
>>>>> created a
>>>>> bimodal distribution with one large mode near 0 and another  
>>>>> smaller
>>>>> mode near 10E+37. Postcript output attached.
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Anirban Mukherjee | Assistant Professor, Marketing | LKCSB, SMU
>>>> 5062 School of Business, 50 Stamford Road, Singapore 178899 |
>>>> +65-6828-1932
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> David Winsemius, MD
>>> Heritage Laboratories
>>> West Hartford, CT
>>>
>>>
>>
>>
>>
>> -- 
>> Anirban Mukherjee | Assistant Professor, Marketing | LKCSB, SMU
>> 5062 School of Business, 50 Stamford Road, Singapore 178899 |  
>> +65-6828-1932
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> --
> Christophe Dutang
> Ph.D. student at ISFA, Lyon, France
> website: http://dutangc.free.fr
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From murdoch at stats.uwo.ca  Sat Oct 10 20:25:33 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 10 Oct 2009 14:25:33 -0400
Subject: [Rd] Possible bug in the Rd parser?
In-Reply-To: <1255176462.9627.43.camel@ubuntu>
References: <1255176462.9627.43.camel@ubuntu>
Message-ID: <4AD0D19D.8020607@stats.uwo.ca>

On 10/10/2009 8:07 AM, Mathieu Ribatet wrote:
> Dear list,
> 
> I got an automatic email complaining than some of my packages didn't
> pass 'R CMD check' for R-2.10.0 alpha anymore. Both of them make use of
> the "cases" LaTeX environment.
> 
> Inspecting the log outputs I got:
> 
>         LaTeX errors when creating PDF version.
>         This typically indicates Rd problems.
>         LaTeX errors found:
>         ! Misplaced alignment tab character &.
> 
> I noticed that the Rd parser changed quite recently and that '#', '_'
> and '&' must not be escaped according to "Writing R extensions".
> However, the problematic .Rd portion seems (to me) OK
> 
>         \deqn{\theta(h) =
>             \begin{cases}
>             u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
>         \right),&\xi \neq 0\\
>             \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
>             \end{cases}
>           }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
>             exp(nu(h)/sigma), otherwise}
> 

One more followup:  the problem appears to be in the "cases" 
environment.  If I rewrite that block using "array" instead, things are 
fine:

         \deqn{\theta(h) =
             \left\{\begin{array}{ll}
             u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
         \right),&\xi \neq 0\\
             \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
             \end{array}\right.
           }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
             exp(nu(h)/sigma), otherwise}

This makes me think it's a bug in the LaTeX package that provides 
"cases", or a conflict with our Rd.sty file, but I don't know which.

Duncan Murdoch


From murdoch at stats.uwo.ca  Sat Oct 10 20:40:57 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 10 Oct 2009 14:40:57 -0400
Subject: [Rd] Possible bug in the Rd parser?
In-Reply-To: <4AD0D19D.8020607@stats.uwo.ca>
References: <1255176462.9627.43.camel@ubuntu> <4AD0D19D.8020607@stats.uwo.ca>
Message-ID: <4AD0D539.3000506@stats.uwo.ca>

On 10/10/2009 2:25 PM, Duncan Murdoch wrote:
> On 10/10/2009 8:07 AM, Mathieu Ribatet wrote:
>> Dear list,
>>
>> I got an automatic email complaining than some of my packages didn't
>> pass 'R CMD check' for R-2.10.0 alpha anymore. Both of them make use of
>> the "cases" LaTeX environment.
>>
>> Inspecting the log outputs I got:
>>
>>         LaTeX errors when creating PDF version.
>>         This typically indicates Rd problems.
>>         LaTeX errors found:
>>         ! Misplaced alignment tab character &.
>>
>> I noticed that the Rd parser changed quite recently and that '#', '_'
>> and '&' must not be escaped according to "Writing R extensions".
>> However, the problematic .Rd portion seems (to me) OK
>>
>>         \deqn{\theta(h) =
>>             \begin{cases}
>>             u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
>>         \right),&\xi \neq 0\\
>>             \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
>>             \end{cases}
>>           }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
>>             exp(nu(h)/sigma), otherwise}
>>
> 
> One more followup:  the problem appears to be in the "cases" 
> environment.  If I rewrite that block using "array" instead, things are 
> fine:
> 
>          \deqn{\theta(h) =
>              \left\{\begin{array}{ll}
>              u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
>          \right),&\xi \neq 0\\
>              \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
>              \end{array}\right.
>            }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
>              exp(nu(h)/sigma), otherwise}
> 
> This makes me think it's a bug in the LaTeX package that provides 
> "cases", or a conflict with our Rd.sty file, but I don't know which.

And the final answer:  the "cases" environment is in the amsmath 
package, which is not used by R.  You need to use regular LaTeX, not 
fancy stuff like that.  (There's a \cases macro in LaTex, which doesn't 
know what to do with alignment tabs:  that's why you got the error you did.)

Duncan Murdoch


From guillaume.yziquel at citycable.ch  Sat Oct 10 21:53:13 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sat, 10 Oct 2009 21:53:13 +0200
Subject: [Rd]  Help with OCaml bindings for R interpreter.
Message-ID: <4AD0E629.9060603@citycable.ch>

Hello.

I've made out a Debian package out of Maxence Guesdon's OCaml/R bindings:

	http://yziquel.homelinux.org/topos/debian-ocamlr.html
	http://yziquel.homelinux.org/debian/pool/main/o/ocaml-r/

The upstream software itself is on the following page:

	http://home.gna.org/ocaml-r/

This binding is dynamically linked to the /usr/lib/R/lib/libR.so and to
the /usr/lib/libRmath.so libraries. Its purpose is to access R
functionalities from OCaml programs.

However, as it now stands, the binding is not fully functional: When an
OCaml program is compiled with this binding, to generate, say,
myprog.byte, it is necessary to run

	R CMD ./myprog.byte

in order for the program to work as expected. I would therefore like to
know how to *completely* embed the R interpreter inside my binding.
Could anyone provide generic information on this topic, or point me to
the right documentation?

All the best,

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From simon.urbanek at r-project.org  Sat Oct 10 22:58:35 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 10 Oct 2009 16:58:35 -0400
Subject: [Rd] Help with OCaml bindings for R interpreter.
In-Reply-To: <4AD0E629.9060603@citycable.ch>
References: <4AD0E629.9060603@citycable.ch>
Message-ID: <B51426EB-E81F-4118-AB25-C25DEF2F43E4@r-project.org>


On Oct 10, 2009, at 3:53 PM, Guillaume Yziquel wrote:

> Hello.
>
> I've made out a Debian package out of Maxence Guesdon's OCaml/R  
> bindings:
>
> 	http://yziquel.homelinux.org/topos/debian-ocamlr.html
> 	http://yziquel.homelinux.org/debian/pool/main/o/ocaml-r/
>
> The upstream software itself is on the following page:
>
> 	http://home.gna.org/ocaml-r/
>
> This binding is dynamically linked to the /usr/lib/R/lib/libR.so and  
> to
> the /usr/lib/libRmath.so libraries. Its purpose is to access R
> functionalities from OCaml programs.
>
> However, as it now stands, the binding is not fully functional: When  
> an
> OCaml program is compiled with this binding, to generate, say,
> myprog.byte, it is necessary to run
>
> 	R CMD ./myprog.byte
>
> in order for the program to work as expected. I would therefore like  
> to
> know how to *completely* embed the R interpreter inside my binding.

It *is* completely embedded. R CMD simply sets up the correct  
environment for the current R. For a given, specific R installation  
you could re-create the environment in the executable (see R CMD sh -c  
set), but by definition it is specific for that installation so you'd  
have to compile that binary at install time.

Cheers,
Simon


> Could anyone provide generic information on this topic, or point me to
> the right documentation?
>
> All the best,
>
> -- 
>     Guillaume Yziquel
> http://yziquel.homelinux.org/
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From guillaume.yziquel at citycable.ch  Sat Oct 10 23:13:26 2009
From: guillaume.yziquel at citycable.ch (Guillaume Yziquel)
Date: Sat, 10 Oct 2009 23:13:26 +0200
Subject: [Rd] Help with OCaml bindings for R interpreter.
In-Reply-To: <B51426EB-E81F-4118-AB25-C25DEF2F43E4@r-project.org>
References: <4AD0E629.9060603@citycable.ch>
	<B51426EB-E81F-4118-AB25-C25DEF2F43E4@r-project.org>
Message-ID: <4AD0F8F6.8020306@citycable.ch>

Simon Urbanek a ?crit :
> 
> On Oct 10, 2009, at 3:53 PM, Guillaume Yziquel wrote:
> 
>> However, as it now stands, the binding is not fully functional: When an
>> OCaml program is compiled with this binding, to generate, say,
>> myprog.byte, it is necessary to run
>>
>>     R CMD ./myprog.byte
>>
>> in order for the program to work as expected. I would therefore like to
>> know how to *completely* embed the R interpreter inside my binding.
> 
> It *is* completely embedded. R CMD simply sets up the correct 
> environment for the current R.

OK. I just stumbled a minute or two ago on:

http://cran.r-project.org/doc/manuals/R-exts.html#Embedding-R-under-Unix_002dalikes

I now get it.

> For a given, specific R installation you 
> could re-create the environment in the executable (see R CMD sh -c set), 
> but by definition it is specific for that installation so you'd have to 
> compile that binary at install time.

OK. So it seems that there will be some more work needed in order to 
hide that completely to the OCaml end-user.

> Cheers,
> Simon

Thanks a lot.

-- 
      Guillaume Yziquel
http://yziquel.homelinux.org/


From romain.francois at dbmail.com  Sun Oct 11 01:00:24 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Sun, 11 Oct 2009 01:00:24 +0200
Subject: [Rd] isFALSE
Message-ID: <4AD11208.3010307@dbmail.com>

Hello,

Just wondering why there is "isTRUE" and not "isFALSE".

Romain

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: isfalse.txt
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091011/e9257c37/attachment.txt>

From r at mikl.dk  Sun Oct 11 12:38:23 2009
From: r at mikl.dk (Mikkel Meyer Andersen)
Date: Sun, 11 Oct 2009 12:38:23 +0200
Subject: [Rd] R on Google Android
Message-ID: <3796c6d50910110338u2850b2e6o60fbc2563a8656d6@mail.gmail.com>

Hi.

As a follow-up on [1], I'd like to raise the question of whether it's
practically possible to compile R to the Google Android mobile
platform?

The best way would probably be to use the Native Developer Kit [2],
NDK, and in that way get a library. This could then be interfaced to
by a Java-program.

I know that several questions have been raised against the idea, e.g.
with the input methods and all that, but I wouldn't be that hard to
make an alternative input method or even a new language that could be
compiled to R.

The reason I'm raising this question again, is that I would really
want a (basic) statistical package on my mobile phone, and I think it
would be kind of stupid to start writing one from scratch when R is
already out there.

Unfortunately I don't know that much about build systems and are not
capable of assesing whether it indeed would be possible to port R to
Android through NDK. I know a bit of both R, Java, and C and would be
able to help trying some different approaches, if anybody wants to
help me.

The alternative is to start writing a new mobile statistical package
from the beginning. And although it should only maybe support 5% of
the functionality of R, it would take a lot of time to do that. And
I'd love to avoid that when good people has already done an amazing
job :-).

Cheers, Mikkel Meyer Andersen.

[1]: http://finzi.psych.upenn.edu/Rhelp08/2009-February/187425.html
[2]: http://developer.android.com/sdk/ndk/1.5_r1/index.html


From mathieu.ribatet at epfl.ch  Sun Oct 11 12:57:18 2009
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Sun, 11 Oct 2009 12:57:18 +0200
Subject: [Rd] Possible bug in the Rd parser?
In-Reply-To: <4AD0D539.3000506@stats.uwo.ca>
References: <1255176462.9627.43.camel@ubuntu>
	<4AD0D19D.8020607@stats.uwo.ca>  <4AD0D539.3000506@stats.uwo.ca>
Message-ID: <1255258638.4257.10.camel@ubuntu>

Thanks Duncan for all these answers. Indeed I should have checked that
the "cases" environment was provided by Rd.sty. Mea culpa.

The good point is that before 2.10.0 alpha "R CMD check" finished
without any error but the output was wrong - because of the cases
environment as you said. Now it fails and this is a good point as I,
maybe others??, usually don't have a look at "mypkg-manual.pdf" but only
at the html version of it.

Cheers,
Mathieu  

Le samedi 10 octobre 2009 ? 20:40 +0200, Duncan Murdoch a ?crit :
> On 10/10/2009 2:25 PM, Duncan Murdoch wrote:
> > On 10/10/2009 8:07 AM, Mathieu Ribatet wrote:
> >> Dear list,
> >>
> >> I got an automatic email complaining than some of my packages didn't
> >> pass 'R CMD check' for R-2.10.0 alpha anymore. Both of them make use of
> >> the "cases" LaTeX environment.
> >>
> >> Inspecting the log outputs I got:
> >>
> >>         LaTeX errors when creating PDF version.
> >>         This typically indicates Rd problems.
> >>         LaTeX errors found:
> >>         ! Misplaced alignment tab character &.
> >>
> >> I noticed that the Rd parser changed quite recently and that '#', '_'
> >> and '&' must not be escaped according to "Writing R extensions".
> >> However, the problematic .Rd portion seems (to me) OK
> >>
> >>         \deqn{\theta(h) =
> >>             \begin{cases}
> >>             u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
> >>         \right),&\xi \neq 0\\
> >>             \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
> >>             \end{cases}
> >>           }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
> >>             exp(nu(h)/sigma), otherwise}
> >>
> > 
> > One more followup:  the problem appears to be in the "cases" 
> > environment.  If I rewrite that block using "array" instead, things are 
> > fine:
> > 
> >          \deqn{\theta(h) =
> >              \left\{\begin{array}{ll}
> >              u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
> >          \right),&\xi \neq 0\\
> >              \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
> >              \end{array}\right.
> >            }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
> >              exp(nu(h)/sigma), otherwise}
> > 
> > This makes me think it's a bug in the LaTeX package that provides 
> > "cases", or a conflict with our Rd.sty file, but I don't know which.
> 
> And the final answer:  the "cases" environment is in the amsmath 
> package, which is not used by R.  You need to use regular LaTeX, not 
> fancy stuff like that.  (There's a \cases macro in LaTex, which doesn't 
> know what to do with alignment tabs:  that's why you got the error you did.)
> 
> Duncan Murdoch
-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From murdoch at stats.uwo.ca  Sun Oct 11 13:52:31 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 11 Oct 2009 07:52:31 -0400
Subject: [Rd] Possible bug in the Rd parser?
In-Reply-To: <1255258638.4257.10.camel@ubuntu>
References: <1255176462.9627.43.camel@ubuntu>	<4AD0D19D.8020607@stats.uwo.ca>
	<4AD0D539.3000506@stats.uwo.ca> <1255258638.4257.10.camel@ubuntu>
Message-ID: <4AD1C6FF.9080005@stats.uwo.ca>

Mathieu Ribatet wrote:
> Thanks Duncan for all these answers. Indeed I should have checked that
> the "cases" environment was provided by Rd.sty. Mea culpa.
>
> The good point is that before 2.10.0 alpha "R CMD check" finished
> without any error but the output was wrong - because of the cases
> environment as you said. Now it fails and this is a good point as I,
> maybe others??, usually don't have a look at "mypkg-manual.pdf" but only
> at the html version of it.
>   

Yes, the new system is much better at detecting errors than the old 
one.  It does require some changes to things that worked before, but 
mainly it detects things that weren't working before, but were 
undetected as errors.

Duncan Murdoch
> Cheers,
> Mathieu  
>
> Le samedi 10 octobre 2009 ? 20:40 +0200, Duncan Murdoch a ?crit :
>   
>> On 10/10/2009 2:25 PM, Duncan Murdoch wrote:
>>     
>>> On 10/10/2009 8:07 AM, Mathieu Ribatet wrote:
>>>       
>>>> Dear list,
>>>>
>>>> I got an automatic email complaining than some of my packages didn't
>>>> pass 'R CMD check' for R-2.10.0 alpha anymore. Both of them make use of
>>>> the "cases" LaTeX environment.
>>>>
>>>> Inspecting the log outputs I got:
>>>>
>>>>         LaTeX errors when creating PDF version.
>>>>         This typically indicates Rd problems.
>>>>         LaTeX errors found:
>>>>         ! Misplaced alignment tab character &.
>>>>
>>>> I noticed that the Rd parser changed quite recently and that '#', '_'
>>>> and '&' must not be escaped according to "Writing R extensions".
>>>> However, the problematic .Rd portion seems (to me) OK
>>>>
>>>>         \deqn{\theta(h) =
>>>>             \begin{cases}
>>>>             u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
>>>>         \right),&\xi \neq 0\\
>>>>             \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
>>>>             \end{cases}
>>>>           }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
>>>>             exp(nu(h)/sigma), otherwise}
>>>>
>>>>         
>>> One more followup:  the problem appears to be in the "cases" 
>>> environment.  If I rewrite that block using "array" instead, things are 
>>> fine:
>>>
>>>          \deqn{\theta(h) =
>>>              \left\{\begin{array}{ll}
>>>              u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
>>>          \right),&\xi \neq 0\\
>>>              \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
>>>              \end{array}\right.
>>>            }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
>>>              exp(nu(h)/sigma), otherwise}
>>>
>>> This makes me think it's a bug in the LaTeX package that provides 
>>> "cases", or a conflict with our Rd.sty file, but I don't know which.
>>>       
>> And the final answer:  the "cases" environment is in the amsmath 
>> package, which is not used by R.  You need to use regular LaTeX, not 
>> fancy stuff like that.  (There's a \cases macro in LaTex, which doesn't 
>> know what to do with alignment tabs:  that's why you got the error you did.)
>>
>> Duncan Murdoch
>>


From romain.francois at dbmail.com  Sun Oct 11 14:44:06 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Sun, 11 Oct 2009 14:44:06 +0200
Subject: [Rd] help( ., package = variable ) -> error
Message-ID: <4AD1D316.9090605@dbmail.com>

Hello,

 > pack <- "utils"
 > help( write.table, package = pack )
Error in .find.package(package, lib.loc, verbose = verbose) :
   there is no package called 'pack'

Replacing this :

if(!missing(package))
         if(is.name(y <- substitute(package)))
             package <- as.character(y)


by this :

if( !missing(package) ){
		ischar <- tryCatch(is.character(package) && length(package) == 1L,
     	                   error = identity)
     	if(inherits(ischar, "error")) ischar <- FALSE
     	
     	## if this was not a length-one character vector, try for the name.
     	if(!ischar) {
     		spackage <- deparse(substitute(package))
     	    if(!is.name(substitute(package)) )
     	        stop("'package' should be a name or a length-one character 
vector")
     	    package <- spackage
     	}
     }


makes these three calls work:

 > help( write.table, package = "utils" )
 > help( write.table, package = utils )
 > help( write.table, package = pack )

... unless utils is a variable

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From ripley at stats.ox.ac.uk  Sun Oct 11 14:45:05 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 11 Oct 2009 13:45:05 +0100 (BST)
Subject: [Rd] Possible bug in the Rd parser?
In-Reply-To: <1255258638.4257.10.camel@ubuntu>
References: <1255176462.9627.43.camel@ubuntu> <4AD0D19D.8020607@stats.uwo.ca>
	<4AD0D539.3000506@stats.uwo.ca> <1255258638.4257.10.camel@ubuntu>
Message-ID: <alpine.LFD.2.00.0910111334170.21398@gannet.stats.ox.ac.uk>

On Sun, 11 Oct 2009, Mathieu Ribatet wrote:

> Thanks Duncan for all these answers. Indeed I should have checked that
> the "cases" environment was provided by Rd.sty. Mea culpa.
>
> The good point is that before 2.10.0 alpha "R CMD check" finished
> without any error but the output was wrong - because of the cases
> environment as you said. Now it fails and this is a good point as I,
> maybe others??, usually don't have a look at "mypkg-manual.pdf" but only
> at the html version of it.

Well, the recommended procedure has long been to look at the package 
PDF manual (which R CMD check leaves around for that purpose), and 
indeed this was (and still is) in the checklist in section 1.5 for 
'Writing R Extensions'.

However, please do look at *all* of text, HTML and PDF versions of the 
help, as this will help us to refine the rendering.   For example, one 
thing we have found recently is that tabs in the .Rd files are not 
being expanded as before and so alignment (especially in \usage and 
\examples sections) was off.  (We may be able to change that one 
before release, but it is an example of something that was in none of 
the main R help files and so took several weeks to spot.)

>
> Cheers,
> Mathieu
>
> Le samedi 10 octobre 2009 ? 20:40 +0200, Duncan Murdoch a ?crit :
>> On 10/10/2009 2:25 PM, Duncan Murdoch wrote:
>>> On 10/10/2009 8:07 AM, Mathieu Ribatet wrote:
>>>> Dear list,
>>>>
>>>> I got an automatic email complaining than some of my packages didn't
>>>> pass 'R CMD check' for R-2.10.0 alpha anymore. Both of them make use of
>>>> the "cases" LaTeX environment.
>>>>
>>>> Inspecting the log outputs I got:
>>>>
>>>>         LaTeX errors when creating PDF version.
>>>>         This typically indicates Rd problems.
>>>>         LaTeX errors found:
>>>>         ! Misplaced alignment tab character &.
>>>>
>>>> I noticed that the Rd parser changed quite recently and that '#', '_'
>>>> and '&' must not be escaped according to "Writing R extensions".
>>>> However, the problematic .Rd portion seems (to me) OK
>>>>
>>>>         \deqn{\theta(h) =
>>>>             \begin{cases}
>>>>             u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
>>>>         \right),&\xi \neq 0\\
>>>>             \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
>>>>             \end{cases}
>>>>           }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
>>>>             exp(nu(h)/sigma), otherwise}
>>>>
>>>
>>> One more followup:  the problem appears to be in the "cases"
>>> environment.  If I rewrite that block using "array" instead, things are
>>> fine:
>>>
>>>          \deqn{\theta(h) =
>>>              \left\{\begin{array}{ll}
>>>              u_\beta \left(\mu +  \frac{\nu(h)}{\Gamma(1 - \xi)}
>>>          \right),&\xi \neq 0\\
>>>              \exp\left(\frac{\nu(h)}{\sigma}\right),&\xi = 0
>>>              \end{array}\right.
>>>            }{u_beta (mu + nu(h) / Gamma(1 - \xi)), if \xi < 1,
>>>              exp(nu(h)/sigma), otherwise}
>>>
>>> This makes me think it's a bug in the LaTeX package that provides
>>> "cases", or a conflict with our Rd.sty file, but I don't know which.
>>
>> And the final answer:  the "cases" environment is in the amsmath
>> package, which is not used by R.  You need to use regular LaTeX, not
>> fancy stuff like that.  (There's a \cases macro in LaTex, which doesn't
>> know what to do with alignment tabs:  that's why you got the error you did.)
>>
>> Duncan Murdoch
> -- 
> Institute of Mathematics
> Ecole Polytechnique F?d?rale de Lausanne
> STAT-IMA-FSB-EPFL, Station 8
> CH-1015 Lausanne   Switzerland
> http://stat.epfl.ch/
> Tel: + 41 (0)21 693 7907
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From witkovsky at savba.sk  Sun Oct 11 13:45:10 2009
From: witkovsky at savba.sk (witkovsky at savba.sk)
Date: Sun, 11 Oct 2009 13:45:10 +0200 (CEST)
Subject: [Rd] Accuracy (PR#13999)
Message-ID: <20091011114510.165AF282EF29@mail.pubhealth.ku.dk>

Full_Name: Viktor Witkovsky
Version: 2.9.2
OS: Windows XP
Submission from: (NULL) (78.98.89.227)


Hello,

I have found strange behavior of the function qchisq (the non-central qchisq is
based on inversion of pchisq, which is further based on pgamma). The function
gives wrong results without any warning. For example:

qchisq(1e-12,1,8.94^2,lower.tail=FALSE) gives 255.1840972465858 (notice that
here the correct value should be 255.1841334848075),
but
qchisq(1e-12,1,8.95^2,lower.tail=FALSE) gives 1249.681320136836
Here, the correct value should be 255.5037231613135.

So, it seems that qchisq is inaccurate for small probability values and larger
non/centrality parameter.


I am using the precompiled binary version of R, under Windows XP.

               _                           
platform       i386-pc-mingw32             
arch           i386                        
os             mingw32                     
system         i386, mingw32               
status                                     
major          2                           
minor          9.2                         
year           2009                        
month          08                          
day            24                          
svn rev        49384                       
language       R                           
version.string R version 2.9.2 (2009-08-24)


From simon.urbanek at r-project.org  Sun Oct 11 16:21:44 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 11 Oct 2009 10:21:44 -0400
Subject: [Rd] R on Google Android
In-Reply-To: <3796c6d50910110338u2850b2e6o60fbc2563a8656d6@mail.gmail.com>
References: <3796c6d50910110338u2850b2e6o60fbc2563a8656d6@mail.gmail.com>
Message-ID: <31368253-0C31-4C02-B9B4-6570261D3437@r-project.org>

Mikkel,

On Oct 11, 2009, at 6:38 AM, Mikkel Meyer Andersen wrote:

> As a follow-up on [1], I'd like to raise the question of whether it's
> practically possible to compile R to the Google Android mobile
> platform?
>
> The best way would probably be to use the Native Developer Kit [2],
> NDK, and in that way get a library. This could then be interfaced to
> by a Java-program.
>
> I know that several questions have been raised against the idea, e.g.
> with the input methods and all that, but I wouldn't be that hard to
> make an alternative input method or even a new language that could be
> compiled to R.
>
> The reason I'm raising this question again, is that I would really
> want a (basic) statistical package on my mobile phone, and I think it
> would be kind of stupid to start writing one from scratch when R is
> already out there.
>

Get an iPhone ;), you can compile R for iPhone OS almost out of the box.

But seriously, the NDK seems to be ARM as well (like the iPhone) so  
chances are that is may work in a similar fashion. According to the  
NDK docs it includes JNI so you should be able to use rJava/JRI to  
embed R (see the JGR project for an example of a GUI using the  
"normal" Java). [I didn't actually try it so your mileage may vary].


> Unfortunately I don't know that much about build systems and are not
> capable of assesing whether it indeed would be possible to port R to
> Android through NDK. I know a bit of both R, Java, and C and would be
> able to help trying some different approaches, if anybody wants to
> help me.
>
> The alternative is to start writing a new mobile statistical package
> from the beginning. And although it should only maybe support 5% of
> the functionality of R, it would take a lot of time to do that. And
> I'd love to avoid that when good people has already done an amazing
> job :-).
>

People have proposed that and tried that long time ago, but I don't  
think anyone succeeded.

Cheers,
Simon


> Cheers, Mikkel Meyer Andersen.
>
> [1]: http://finzi.psych.upenn.edu/Rhelp08/2009-February/187425.html
> [2]: http://developer.android.com/sdk/ndk/1.5_r1/index.html
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From bolker at ufl.edu  Sun Oct 11 19:47:44 2009
From: bolker at ufl.edu (Ben Bolker)
Date: Sun, 11 Oct 2009 10:47:44 -0700 (PDT)
Subject: [Rd] Accuracy (PR#13999)
In-Reply-To: <20091011114510.165AF282EF29@mail.pubhealth.ku.dk>
References: <20091011114510.165AF282EF29@mail.pubhealth.ku.dk>
Message-ID: <25845807.post@talk.nabble.com>





witkovsky wrote:
> 
> Full_Name: Viktor Witkovsky
> Version: 2.9.2
> OS: Windows XP
> Submission from: (NULL) (78.98.89.227)
> 
> 
> Hello,
> 
> I have found strange behavior of the function qchisq (the non-central
> qchisq is
> based on inversion of pchisq, which is further based on pgamma). The
> function
> gives wrong results without any warning. For example:
> 
> qchisq(1e-12,1,8.94^2,lower.tail=FALSE) gives 255.1840972465858 (notice
> that
> here the correct value should be 255.1841334848075),
> but
> qchisq(1e-12,1,8.95^2,lower.tail=FALSE) gives 1249.681320136836
> Here, the correct value should be 255.5037231613135.
> 
> So, it seems that qchisq is inaccurate for small probability values and
> larger
> non/centrality parameter.
> 
> 
> I am using the precompiled binary version of R, under Windows XP.
> 
>                _                           
> platform       i386-pc-mingw32             
> arch           i386                        
> os             mingw32                     
> system         i386, mingw32               
> status                                     
> major          2                           
> minor          9.2                         
> year           2009                        
> month          08                          
> day            24                          
> svn rev        49384                       
> language       R                           
> version.string R version 2.9.2 (2009-08-24)
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 

More entertainingly (and perhaps enlighteningly?)

> curve(qchisq(1e-12,1,x^2,lower.tail=FALSE),from=0.1,to=50)

 Of course, I haven't taken the time to dig through and see
what's happening :-(

> sessionInfo()
R version 2.9.2 (2009-08-24) 
i486-pc-linux-gnu 

locale:
LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  grid      methods  
[8] base     

other attached packages:
[1] reshape_0.8.3 plyr_0.1.9    proto_0.3-8  

loaded via a namespace (and not attached):
[1] ggplot2_0.8.4

-- 
View this message in context: http://www.nabble.com/Accuracy-%28PR-13999%29-tp25843737p25845807.html
Sent from the R devel mailing list archive at Nabble.com.


From dutangc at gmail.com  Sun Oct 11 23:26:53 2009
From: dutangc at gmail.com (Christophe Dutang)
Date: Sun, 11 Oct 2009 23:26:53 +0200
Subject: [Rd] [R-SIG-Mac] rnorm.halton
In-Reply-To: <55F774DD-5791-4CFB-A7F4-646C8161A1AF@r-project.org>
References: <354999DC2B7CF74ABE02F69BF9FC2C3A01E17F49@EX01.staff.smu.edu.sg>
	<69a765940909141728v56bacb5dse60e85aad7c23a12@mail.gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F54@EX01.staff.smu.edu.sg>
	<69a765940909141855q5b7d4071w1312c0dae8ba92b1@mail.gmail.com>
	<4715E755-4F2E-46D6-BDE3-3D5D6EC0992B@gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F68@EX01.staff.smu.edu.sg>
	<69a765940909150810m71a0417bod82540aa371b3771@mail.gmail.com>
	<354999DC2B7CF74ABE02F69BF9FC2C3A01E17F6C@EX01.staff.smu.edu.sg>
	<69a765940909150925q6c4c6d65l3e352c2e967650b0@mail.gmail.com>
	<14ADBB3D-229F-43CC-B616-D58F2A34AE9E@gmail.com>
	<55F774DD-5791-4CFB-A7F4-646C8161A1AF@r-project.org>
Message-ID: <D376B10F-AEF7-41FF-8AAC-015EBB4284DB@gmail.com>

Thanks Simon for your answers,

I understand only pointer size change between 32bit and 64bit in  
Fortran, however my problem is with this function:

C  
------------------------------------------------------------------------------
       REAL*8 FUNCTION HQNORM(P)

C     USED TO CALCULATE HALTON NORMAL DEVIATES:
       REAL*8 P,R,T,A,B, EPS
       DATA P0,P1,P2,P3,P4, Q0,Q1,Q2,Q3,Q4
      &   /-0.322232431088E+0, -1.000000000000E+0, -0.342242088547E+0,
      &    -0.204231210245E-1, -0.453642210148E-4, +0.993484626060E-1,
      &    +0.588581570495E+0, +0.531103462366E+0, +0.103537752850E+0,
      &    +0.385607006340E-2  /

C     NOTE, IF P BECOMES 1, THE PROGRAM FAILS TO CALCULATE THE
C     NORMAL RDV. IN THIS CASE WE REPLACE THE LOW DISCREPANCY
C     POINT WITH A POINT FAR IN THE TAILS.
       EPS = 1.0D-6
       IF (P.GE.(1.0D0-EPS)) P = 1.0d0 - EPS
       IF (P.LE.EPS) P = EPS
       IF (P.NE.0.5D0) GOTO 150
       HQNORM = 0.0D0
       RETURN
150   R = P
       IF (P.GT.0.5D0) R = 1.0 - R
       T = DSQRT(-2.0*DLOG(R))
       A = ((((T*P4 + P3)*T+P2)*T + P1)*T + P0)
       B = ((((T*Q4 + Q3)*T+Q2)*T + Q1)*T + Q0)
       HQNORM = T + (A/B)
       IF (P.LT.0.5D0) HQNORM = -HQNORM

       RETURN
       END
C  
------------------------------------------------------------------------------

Despite this approximation of the normal quantile function is very  
basic, I think there is no pointer used? Can someone tell me if I'm  
wrong? So I do not understand why rnorm.halton does not work on 64bit  
machine... runif.halton works! (so the rest of the code is ok!)

I'm little bit curious why it does not work... but I think I will just  
remove the use of this subroutine and use directly the R function qnorm.

Christophe

Le 10 oct. 2009 ? 20:02, Simon Urbanek a ?crit :

> Christophe,
>
> I forgot to answer the second part of your e-mail -- see below.
>
> On Oct 10, 2009, at 12:04 PM, Christophe Dutang wrote:
>
>> Hi all,
>>
>> I need to transform classic 32bit Fortran code to 64bit Fortran  
>> code, see the discussion [R-SIG-Mac] rnorm.halton. But I'm clearly  
>> a beginner in Fortran...
>>
>> Does someone already do this for his package?
>>
>> From here, http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=linux&db=bks&fname=/SGI_Developer/Porting_Guide/ch03.html 
>>  , I identify the following changes (Fortran types) to the Fortran  
>> code:
>>
>> - INTEGER to INTEGER*8
>> - REAL*8 to REAL*16
>>
>> The code I would like to change is available on R forge here : http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/pkg/randtoolbox/src/LowDiscrepancy.f?rev=4229&root=rmetrics&view=markup
>>
>> Another question I have is how do I tell the R code to use the  
>> 64bit version of my code on 64bit machine?
>>
>> In the current implementation, the file quasiRNG.R calls directly  
>> the Fortran code with .Fortran.
>> How could I use the 64bit version directly in the R code?
>>
>
> You don't have a choice -- whether 32 or 64 bits are used is defined  
> by R, because you cannot mix 32-bit and 64-bit code. So in 64-bit R  
> your package will be compiled into 64-bit. In 32-bit R your package  
> will be compiled in 32-bit. You can see which R you are using with
>
> 8 * .Machine$sizeof.pointer
>
> (Note: The Mac binaries we provide are multi-arch so they [the  
> Leopard build] do in fact include both 32-bit and 64-bit -- which  
> one gets started depends on the --arch flag, see R docs for details  
> on multi-arch installations).
>
> Cheers,
> Simon
>
>
>> I suspect I need to have a quasiRNG.c file where I will use  
>> preprocessor statement that will select the good version of the  
>> function to call. Is that correct?
>>
>
> No (see previous e-mail).
>
>
>> Thanks in advance
>>
>> Christophe
>>
>>
>> Le 15 sept. 2009 ? 18:25, Anirban Mukherjee a ?crit :
>>
>>> Sorry, what I should have said was Halton numbers are quasi-random,
>>> and not pseudo-random. Quasi-random is the technically appropriate
>>> terminology.
>>>
>>> Halton sequences are low discrepancy: the subsequence looks/smells
>>> random. Hence, they are often used in quasi monte carlo simulations.
>>> To be precise, there is only 1 Halton sequence for a particular  
>>> prime.
>>> Repeated calls to Halton should return the same numbers. The first
>>> column is the Halton sequence for 2. the second for 3, the third  
>>> for 5
>>> and so on using the first M primes (for M columns). (You can also
>>> scramble the sequence to avoid this.)
>>>
>>> I am using them to integrate over a multivariate normal space. If  
>>> you
>>> take 1000 random draws, then sum f() over the draws is the  
>>> expectation
>>> of f(). If f() is very non-linear (and/or multi-variate) then even
>>> with large N, its often hard to get a good integral. With quasi- 
>>> random
>>> draws, the integration is better for the same N. (One uses the  
>>> inverse
>>> distribution function.) For an example, you can look at Train's  
>>> paper
>>> (page 4 and 5 have a good explanation) at:
>>>
>>> http://elsa.berkeley.edu/wp/train0899.pdf
>>>
>>> In the context of simulated maximum likelihood estimation, such
>>> integrals are very common. Of course true randomness has its own
>>> place/importance: its just that quasi-random numbers can be very
>>> useful in certain contexts.
>>>
>>> Regards,
>>> Anirban
>>>
>>> PS: qnorm(halton()) gets around the problem of the random deviates  
>>> not working.
>>>
>>> On Tue, Sep 15, 2009 at 11:37 AM, David Winsemius
>>> <dwinsemius at comcast.net> wrote:
>>>>
>>>> On Sep 15, 2009, at 11:10 AM, Anirban Mukherjee wrote:
>>>>
>>>>> Thanks everyone for your replies. Particularly David.
>>>>>
>>>>> The numbers are pseudo-random. Repeated calls should/would give  
>>>>> the
>>>>> same output.
>>>>
>>>> As I said, this package is not one with which I have experience. It
>>>> has _not_ however the case that repeated calls to (typical?) random
>>>> number functions give the same output when called repeatedly:
>>>>
>>>> > rnorm(10)
>>>> [1] -0.8740195  2.1827411 -0.1473012 -1.4406262  0.1820631
>>>> -1.3151244 -0.4813703  0.8177692
>>>> [9]  0.2076117  1.8697418
>>>> > rnorm(10)
>>>> [1] -0.7725731  0.8696742 -0.4907099  0.1561859  0.5913528
>>>> -0.8441891  0.2285653 -0.1231755
>>>> [9]  0.5190459 -0.7803617
>>>> > rnorm(10)
>>>> [1] -0.9585881 -0.0458582  1.1967342  0.6421980 -0.5290280
>>>> -1.0735112  0.6346301  0.2685760
>>>> [9]  1.5767800  1.0864515
>>>> > rnorm(10)
>>>> [1] -0.60400852 -0.06611533  1.00787048  1.48289305  0.54658888
>>>> -0.67630052  0.52664127 -0.36449997
>>>> [9]  0.88039397  0.56929333
>>>>
>>>> I cannot imagine a situation where one would _want_ the output to  
>>>> be
>>>> the same on repeated calls unless one reset a seed. Unless  
>>>> perhaps I
>>>> am not understanding the meaning of "random" in the financial  
>>>> domain?
>>>>
>>>> --
>>>> David
>>>>
>>>>> Currently, Halton works fine when used to just get the
>>>>> Halton sequence, but the random deviates call is not working in  
>>>>> 64 bit
>>>>> R. For now, I will generate the numbers in 32 bit R, save them and
>>>>> then load them back in when using 64 bit R. The package  
>>>>> maintainers
>>>>> can look at it if/when they get a chance and/or access to 64 bit  
>>>>> R.
>>>>>
>>>>> Thanks!
>>>>>
>>>>> Best,
>>>>> Anirban
>>>>>
>>>>> On Tue, Sep 15, 2009 at 9:01 AM, David Winsemius <dwinsemius at comcast.net
>>>>>> wrote:
>>>>>> I get very different output from the two versions of Mac OSX R as
>>>>>> well. The 32 bit version puts out a histogram that has an  
>>>>>> expected,
>>>>>> almost symmetric unimodal distribution. The 64 bit version  
>>>>>> created a
>>>>>> bimodal distribution with one large mode near 0 and another  
>>>>>> smaller
>>>>>> mode near 10E+37. Postcript output attached.
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Anirban Mukherjee | Assistant Professor, Marketing | LKCSB, SMU
>>>>> 5062 School of Business, 50 Stamford Road, Singapore 178899 |
>>>>> +65-6828-1932
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>> David Winsemius, MD
>>>> Heritage Laboratories
>>>> West Hartford, CT
>>>>
>>>>
>>>
>>>
>>>
>>> -- 
>>> Anirban Mukherjee | Assistant Professor, Marketing | LKCSB, SMU
>>> 5062 School of Business, 50 Stamford Road, Singapore 178899 |  
>>> +65-6828-1932
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> --
>> Christophe Dutang
>> Ph.D. student at ISFA, Lyon, France
>> website: http://dutangc.free.fr
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>

--
Christophe Dutang
Ph.D. student at ISFA, Lyon, France
website: http://dutangc.free.fr


From r at mikl.dk  Mon Oct 12 03:17:14 2009
From: r at mikl.dk (Mikkel Meyer Andersen)
Date: Mon, 12 Oct 2009 12:17:14 +1100
Subject: [Rd] R on Google Android
In-Reply-To: <31368253-0C31-4C02-B9B4-6570261D3437@r-project.org>
References: <3796c6d50910110338u2850b2e6o60fbc2563a8656d6@mail.gmail.com>
	<31368253-0C31-4C02-B9B4-6570261D3437@r-project.org>
Message-ID: <3796c6d50910111817t1764eeban765256359cd4a2bc@mail.gmail.com>

Simon,

Thanks for your answer.

Do you have a link describing the procedure on compiling for iPhone or
is it really just ready out of the box? A description would help me
trying to do it with Android. I've done some searching, but the only
relevant hit I've found is
http://ephphatharesearch.com/Eph_Blog_Post.aspx/Show/41.

Cheers, Mikkel.

2009/10/12 Simon Urbanek <simon.urbanek at r-project.org>:
> Mikkel,
>
> On Oct 11, 2009, at 6:38 AM, Mikkel Meyer Andersen wrote:
>
>> As a follow-up on [1], I'd like to raise the question of whether it's
>> practically possible to compile R to the Google Android mobile
>> platform?
>>
>> The best way would probably be to use the Native Developer Kit [2],
>> NDK, and in that way get a library. This could then be interfaced to
>> by a Java-program.
>>
>> I know that several questions have been raised against the idea, e.g.
>> with the input methods and all that, but I wouldn't be that hard to
>> make an alternative input method or even a new language that could be
>> compiled to R.
>>
>> The reason I'm raising this question again, is that I would really
>> want a (basic) statistical package on my mobile phone, and I think it
>> would be kind of stupid to start writing one from scratch when R is
>> already out there.
>>
>
> Get an iPhone ;), you can compile R for iPhone OS almost out of the box.
>
> But seriously, the NDK seems to be ARM as well (like the iPhone) so chances
> are that is may work in a similar fashion. According to the NDK docs it
> includes JNI so you should be able to use rJava/JRI to embed R (see the JGR
> project for an example of a GUI using the "normal" Java). [I didn't actually
> try it so your mileage may vary].
>
>
>> Unfortunately I don't know that much about build systems and are not
>> capable of assesing whether it indeed would be possible to port R to
>> Android through NDK. I know a bit of both R, Java, and C and would be
>> able to help trying some different approaches, if anybody wants to
>> help me.
>>
>> The alternative is to start writing a new mobile statistical package
>> from the beginning. And although it should only maybe support 5% of
>> the functionality of R, it would take a lot of time to do that. And
>> I'd love to avoid that when good people has already done an amazing
>> job :-).
>>
>
> People have proposed that and tried that long time ago, but I don't think
> anyone succeeded.
>
> Cheers,
> Simon
>
>
>> Cheers, Mikkel Meyer Andersen.
>>
>> [1]: http://finzi.psych.upenn.edu/Rhelp08/2009-February/187425.html
>> [2]: http://developer.android.com/sdk/ndk/1.5_r1/index.html
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>
>


From simon.urbanek at r-project.org  Mon Oct 12 04:38:28 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 11 Oct 2009 22:38:28 -0400
Subject: [Rd] R on Google Android
In-Reply-To: <3796c6d50910111817t1764eeban765256359cd4a2bc@mail.gmail.com>
References: <3796c6d50910110338u2850b2e6o60fbc2563a8656d6@mail.gmail.com>
	<31368253-0C31-4C02-B9B4-6570261D3437@r-project.org>
	<3796c6d50910111817t1764eeban765256359cd4a2bc@mail.gmail.com>
Message-ID: <7B9034F9-2495-43ED-93B3-A9DC09BEB96E@r-project.org>


On Oct 11, 2009, at 9:17 PM, Mikkel Meyer Andersen wrote:

> Simon,
>
> Thanks for your answer.
>
> Do you have a link describing the procedure on compiling for iPhone  
> or is it really just ready out of the box?

You can compile R itself (libR) out of the box just using regular  
cross-compilation. The only issue are packages with native libraries -  
the easiest way is to create a multi-arch R so that the non-libs parts  
are actually built on the native architecture. For anything  
troublesome your can then also use R --arch=arm CMD SHLIB. This is  
really more a proof of concept since you're still missing a command  
line as there is no shell or ssh or normal iPhones but you could hook  
it into any GUI ..

Of course as my old post on R-SIG-Mac on the topic says we don't have  
plans to use UIKit, but that's probably not that relevant for you  
anyway.

Cheers,
Simon


> A description would help me
> trying to do it with Android. I've done some searching, but the only
> relevant hit I've found is
> http://ephphatharesearch.com/Eph_Blog_Post.aspx/Show/41.
>
> Cheers, Mikkel.
>
> 2009/10/12 Simon Urbanek <simon.urbanek at r-project.org>:
>> Mikkel,
>>
>> On Oct 11, 2009, at 6:38 AM, Mikkel Meyer Andersen wrote:
>>
>>> As a follow-up on [1], I'd like to raise the question of whether  
>>> it's
>>> practically possible to compile R to the Google Android mobile
>>> platform?
>>>
>>> The best way would probably be to use the Native Developer Kit [2],
>>> NDK, and in that way get a library. This could then be interfaced to
>>> by a Java-program.
>>>
>>> I know that several questions have been raised against the idea,  
>>> e.g.
>>> with the input methods and all that, but I wouldn't be that hard to
>>> make an alternative input method or even a new language that could  
>>> be
>>> compiled to R.
>>>
>>> The reason I'm raising this question again, is that I would really
>>> want a (basic) statistical package on my mobile phone, and I think  
>>> it
>>> would be kind of stupid to start writing one from scratch when R is
>>> already out there.
>>>
>>
>> Get an iPhone ;), you can compile R for iPhone OS almost out of the  
>> box.
>>
>> But seriously, the NDK seems to be ARM as well (like the iPhone) so  
>> chances
>> are that is may work in a similar fashion. According to the NDK  
>> docs it
>> includes JNI so you should be able to use rJava/JRI to embed R (see  
>> the JGR
>> project for an example of a GUI using the "normal" Java). [I didn't  
>> actually
>> try it so your mileage may vary].
>>
>>
>>> Unfortunately I don't know that much about build systems and are not
>>> capable of assesing whether it indeed would be possible to port R to
>>> Android through NDK. I know a bit of both R, Java, and C and would  
>>> be
>>> able to help trying some different approaches, if anybody wants to
>>> help me.
>>>
>>> The alternative is to start writing a new mobile statistical package
>>> from the beginning. And although it should only maybe support 5% of
>>> the functionality of R, it would take a lot of time to do that. And
>>> I'd love to avoid that when good people has already done an amazing
>>> job :-).
>>>
>>
>> People have proposed that and tried that long time ago, but I don't  
>> think
>> anyone succeeded.
>>
>> Cheers,
>> Simon
>>
>>
>>> Cheers, Mikkel Meyer Andersen.
>>>
>>> [1]: http://finzi.psych.upenn.edu/Rhelp08/2009-February/187425.html
>>> [2]: http://developer.android.com/sdk/ndk/1.5_r1/index.html
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>>
>>
>>
>
>


From r at mikl.dk  Mon Oct 12 04:47:20 2009
From: r at mikl.dk (Mikkel Meyer Andersen)
Date: Mon, 12 Oct 2009 13:47:20 +1100
Subject: [Rd] R on Google Android
In-Reply-To: <7B9034F9-2495-43ED-93B3-A9DC09BEB96E@r-project.org>
References: <3796c6d50910110338u2850b2e6o60fbc2563a8656d6@mail.gmail.com>
	<31368253-0C31-4C02-B9B4-6570261D3437@r-project.org>
	<3796c6d50910111817t1764eeban765256359cd4a2bc@mail.gmail.com>
	<7B9034F9-2495-43ED-93B3-A9DC09BEB96E@r-project.org>
Message-ID: <3796c6d50910111947q1157322scc49eaba8bb6fef2@mail.gmail.com>

Simon,

2009/10/12 Simon Urbanek <simon.urbanek at r-project.org>:
>
> On Oct 11, 2009, at 9:17 PM, Mikkel Meyer Andersen wrote:
>
>> Simon,
>>
>> Thanks for your answer.
>>
>> Do you have a link describing the procedure on compiling for iPhone or is
>> it really just ready out of the box?
>
> You can compile R itself (libR) out of the box just using regular
> cross-compilation. The only issue are packages with native libraries - the
> easiest way is to create a multi-arch R so that the non-libs parts are
> actually built on the native architecture. For anything troublesome your can
> then also use R --arch=arm CMD SHLIB. This is really more a proof of concept
> since you're still missing a command line as there is no shell or ssh or
> normal iPhones but you could hook it into any GUI ..
Thanks. That is the main goal to have the base. I don't' want a mobile
version to be a substitute for normal desktop usage, but merely just
for quick tasks as finding quantiles, eigenvalues, multiplying
matrices or whatever when no desktop computer is nearby.

I've found a few other links that seem interesting, so I'll give it a
try and inform you if I succeed.

Cheers, Mikkel.
>
> Of course as my old post on R-SIG-Mac on the topic says we don't have plans
> to use UIKit, but that's probably not that relevant for you anyway.
>
> Cheers,
> Simon
>
>
>> A description would help me
>> trying to do it with Android. I've done some searching, but the only
>> relevant hit I've found is
>> http://ephphatharesearch.com/Eph_Blog_Post.aspx/Show/41.
>>
>> Cheers, Mikkel.
>>
>> 2009/10/12 Simon Urbanek <simon.urbanek at r-project.org>:
>>>
>>> Mikkel,
>>>
>>> On Oct 11, 2009, at 6:38 AM, Mikkel Meyer Andersen wrote:
>>>
>>>> As a follow-up on [1], I'd like to raise the question of whether it's
>>>> practically possible to compile R to the Google Android mobile
>>>> platform?
>>>>
>>>> The best way would probably be to use the Native Developer Kit [2],
>>>> NDK, and in that way get a library. This could then be interfaced to
>>>> by a Java-program.
>>>>
>>>> I know that several questions have been raised against the idea, e.g.
>>>> with the input methods and all that, but I wouldn't be that hard to
>>>> make an alternative input method or even a new language that could be
>>>> compiled to R.
>>>>
>>>> The reason I'm raising this question again, is that I would really
>>>> want a (basic) statistical package on my mobile phone, and I think it
>>>> would be kind of stupid to start writing one from scratch when R is
>>>> already out there.
>>>>
>>>
>>> Get an iPhone ;), you can compile R for iPhone OS almost out of the box.
>>>
>>> But seriously, the NDK seems to be ARM as well (like the iPhone) so
>>> chances
>>> are that is may work in a similar fashion. According to the NDK docs it
>>> includes JNI so you should be able to use rJava/JRI to embed R (see the
>>> JGR
>>> project for an example of a GUI using the "normal" Java). [I didn't
>>> actually
>>> try it so your mileage may vary].
>>>
>>>
>>>> Unfortunately I don't know that much about build systems and are not
>>>> capable of assesing whether it indeed would be possible to port R to
>>>> Android through NDK. I know a bit of both R, Java, and C and would be
>>>> able to help trying some different approaches, if anybody wants to
>>>> help me.
>>>>
>>>> The alternative is to start writing a new mobile statistical package
>>>> from the beginning. And although it should only maybe support 5% of
>>>> the functionality of R, it would take a lot of time to do that. And
>>>> I'd love to avoid that when good people has already done an amazing
>>>> job :-).
>>>>
>>>
>>> People have proposed that and tried that long time ago, but I don't think
>>> anyone succeeded.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>> Cheers, Mikkel Meyer Andersen.
>>>>
>>>> [1]: http://finzi.psych.upenn.edu/Rhelp08/2009-February/187425.html
>>>> [2]: http://developer.android.com/sdk/ndk/1.5_r1/index.html
>>>>
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>
>>>>
>>>
>>>
>>
>>
>
>


From mike at stat.ubc.ca  Mon Oct 12 02:05:11 2009
From: mike at stat.ubc.ca (mike at stat.ubc.ca)
Date: Mon, 12 Oct 2009 02:05:11 +0200 (CEST)
Subject: [Rd] unexpected behaviour of isSymmetric() (PR#14000)
Message-ID: <20091012000511.C97B2282EF50@mail.pubhealth.ku.dk>

Full_Name: Mike Danilov
Version: 2.9.0
OS: Fedora Core 9
Submission from: (NULL) (142.103.121.198)


When checking for the symmetry of a matrix, function isSymmetric.matrix() gets
confused by the discrepancy of colnames/rownames if its argument. See the code
snippet below. Perhaps it's a problem of the matrix product which copies
colnames of the first argument but not the rownames of the second to its value.
Not sure which one should be fixed but the way it is now it seems illogical that
X'X is deemed to be non-symmetric.

x <- c(1,2,3)
names(x) <- c("v1","v2","v3")
isSymmetric(x%*%t(x)) ## returns FALSE instead of TRUE


From Robert.King at newcastle.edu.au  Mon Oct 12 08:07:47 2009
From: Robert.King at newcastle.edu.au (Robert King)
Date: Mon, 12 Oct 2009 17:07:47 +1100
Subject: [Rd] package manual without index? check breaks with - LaTeX errors
 when creating PDF version.
Message-ID: <200910121707.47955.robert.king@newcastle.edu.au>

Hello,

What am I doing wrong about creating an index for my package documentation?

Using 2.9.2, I am checking the gld package.  It reports the following (all 
earlier lines OK):

* checking PDF version of manual ... WARNING
LaTeX errors when creating PDF version.
This typically indicates Rd problems.
* checking PDF version of manual without index ... ERROR

When I look in the gld.Rcheck directory there is no log file there.

Running pdflatex gld-manual.tex works, though it produces a pdf file without 
an index.  The only warnings from pdflatex are about references to functions 
in other packages, such as
pdfTeX warning (dest): name{Rfn.optim} has been referenced but does not exist,
and two about loading stuff that R has already loaded earlier
Package hyperref Warning: Option `hyperindex' has already been used,
Package hyperref Warning: Option `pagebackref' has already been used,

Re-running pdflatex generates the index in the pdf file correctly.

Thanks in advance,
Robert King
-- 
Robert King, Statistics, School of Mathematical & Physical Sciences,
University of Newcastle, Australia (CRICOS Provider Number: 00109J)
Room V133  ph +61 2 4921 5548
Robert.King at newcastle.edu.au   http://tolstoy.newcastle.edu.au/~rking/

 "It might be in the basement,         
 I'll go upstairs and check .." Escher


From romain.francois at dbmail.com  Mon Oct 12 13:41:19 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Mon, 12 Oct 2009 13:41:19 +0200
Subject: [Rd] unexpected behaviour of isSymmetric() (PR#14000)
In-Reply-To: <20091012000511.C97B2282EF50@mail.pubhealth.ku.dk>
References: <20091012000511.C97B2282EF50@mail.pubhealth.ku.dk>
Message-ID: <4AD315DF.9050702@dbmail.com>

On 10/12/2009 02:05 AM, mike at stat.ubc.ca wrote:
>
> Full_Name: Mike Danilov
> Version: 2.9.0
> OS: Fedora Core 9
> Submission from: (NULL) (142.103.121.198)
>
>
> When checking for the symmetry of a matrix, function isSymmetric.matrix() gets
> confused by the discrepancy of colnames/rownames if its argument. See the code
> snippet below. Perhaps it's a problem of the matrix product which copies
> colnames of the first argument but not the rownames of the second to its value.
> Not sure which one should be fixed but the way it is now it seems illogical that
> X'X is deemed to be non-symmetric.
>
> x<- c(1,2,3)
> names(x)<- c("v1","v2","v3")
> isSymmetric(x%*%t(x)) ## returns FALSE instead of TRUE

It seems to be concerned with the names

 > y <- x %*% t(x)
 > y
      v1 v2 v3
[1,]  1  2  3
[2,]  2  4  6
[3,]  3  6  9

 > isSymmetric( y )
[1] FALSE

# dropping the dimnames
 > isSymmetric( structure( y, dimnames = NULL ) )
[1] TRUE

# pass the ... along this path : isSymmetric > all.equal > all.equal.numeric
 > isSymmetric( y, check.attributes = F )
[1] TRUE

# set the dimnames equal
 > dimnames( y ) <- rep( list( names(x) ), 2 )
 > isSymmetric( y )
[1] TRUE

Not sure this is expected behaviour

Romain

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From bates at stat.wisc.edu  Mon Oct 12 14:42:33 2009
From: bates at stat.wisc.edu (Douglas Bates)
Date: Mon, 12 Oct 2009 07:42:33 -0500
Subject: [Rd] unexpected behaviour of isSymmetric() (PR#14000)
In-Reply-To: <4AD315DF.9050702@dbmail.com>
References: <20091012000511.C97B2282EF50@mail.pubhealth.ku.dk>
	<4AD315DF.9050702@dbmail.com>
Message-ID: <40e66e0b0910120542j41bd8a4ahb86fee7f623ae8b2@mail.gmail.com>

On Mon, Oct 12, 2009 at 6:41 AM, Romain Francois
<romain.francois at dbmail.com> wrote:
> On 10/12/2009 02:05 AM, mike at stat.ubc.ca wrote:
>>
>> Full_Name: Mike Danilov
>> Version: 2.9.0
>> OS: Fedora Core 9
>> Submission from: (NULL) (142.103.121.198)
>>
>>
>> When checking for the symmetry of a matrix, function isSymmetric.matrix()
>> gets
>> confused by the discrepancy of colnames/rownames if its argument. See the
>> code
>> snippet below. Perhaps it's a problem of the matrix product which copies
>> colnames of the first argument but not the rownames of the second to its
>> value.
>> Not sure which one should be fixed but the way it is now it seems
>> illogical that
>> X'X is deemed to be non-symmetric.
>>
>> x<- c(1,2,3)
>> names(x)<- c("v1","v2","v3")
>> isSymmetric(x%*%t(x)) ## returns FALSE instead of TRUE
>
> It seems to be concerned with the names
>
>> y <- x %*% t(x)
>> y
> ? ? v1 v2 v3
> [1,] ?1 ?2 ?3
> [2,] ?2 ?4 ?6
> [3,] ?3 ?6 ?9
>
>> isSymmetric( y )
> [1] FALSE
>
> # dropping the dimnames
>> isSymmetric( structure( y, dimnames = NULL ) )
> [1] TRUE
>
> # pass the ... along this path : isSymmetric > all.equal > all.equal.numeric
>> isSymmetric( y, check.attributes = F )
> [1] TRUE
>
> # set the dimnames equal
>> dimnames( y ) <- rep( list( names(x) ), 2 )
>> isSymmetric( y )
> [1] TRUE
>
> Not sure this is expected behaviour
>
> Romain

I think the problem is more with the propagation of the column names
in the construction x %*% t(x).  If you use the tcrossprod function to
create x %*% t(x) more carefully then the results are sensible


> x<- c(1,2,3); names(x)<- c("v1","v2","v3")
> isSymmetric(tcrossprod(x))
[1] TRUE
> tcrossprod(x)
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    2    4    6
[3,]    3    6    9


From kjetilbrinchmannhalvorsen at gmail.com  Tue Oct 13 01:49:41 2009
From: kjetilbrinchmannhalvorsen at gmail.com (Kjetil Halvorsen)
Date: Mon, 12 Oct 2009 20:49:41 -0300
Subject: [Rd] weigths in nls (PR#13991)
In-Reply-To: <4ACF6667.4060801@acm.org>
References: <20091009144011.786A62831FFC@mail.pubhealth.ku.dk>
	<4ACF6667.4060801@acm.org>
Message-ID: <556e90a80910121649q2ac9c4c8p10e32a2672beb470@mail.gmail.com>

see below.

On Fri, Oct 9, 2009 at 1:35 PM, Tony Plate <tplate at acm.org> wrote:
> This is expected behavior from the way nls() is written. ?The nls() function
> has a "..." argument, which means that additional arguments are allowed.
>
> Under "Arguments" the docs say:
> |...| ? Additional optional arguments. None are used at present.
>
>
> As far as I can see in the code, nothing at all is done with the additional
> arguments (consistent with the docs). ? I guess the "..." argument is there
> to allow for future development (though I'm not sure what is gained by
> including "..." as a formal argument now, and not just adding it in the
> future if and when it is needed.)

?Maybe it allows for other people to write methods?

Kjetil


>
> In general, the use of ... arguments does add flexibility, but it takes away
> some error-checking.
>
> -- Tony Plate
>
> Stephen.Bond at cibc.com wrote:
>>
>> Potential bug:
>>
>> I mistyped weights in the call ('weigths') and it did not produce any
>> error=
>> ?message. The coefs were exactly the same like without weights, so I was
>> su=
>> spicious and when weights(nls1) gave NULL, I saw my typo.
>>
>> Usually the function will say "Unused arguments", which shows you the
>> error=
>> , but not nls.
>>
>> Regards
>> Stephen
>>
>> ? ? ? ?[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From ifellows at ucsd.edu  Tue Oct 13 06:40:46 2009
From: ifellows at ucsd.edu (Fellows, Ian)
Date: Mon, 12 Oct 2009 21:40:46 -0700
Subject: [Rd] unexpected error steming from print.data.frame
Message-ID: <C8F304C52E72EF4EBD6CBEF0A2DE1BAA08D9B38FE7@MBX2.AD.UCSD.EDU>

Hello All,

At the suggestion of commenters on a discussion at stack overflow ( http://stackoverflow.com/questions/1535021/whats-the-biggest-r-gotcha-youve-run-across/1535433#1535433 ), I'm forwarding the following behavior report to this list. 

R Session:
> a<-data.frame(c(1,2,3,4),c(4,3,2,1))
> a<-a[-3,]
> a
  c.1..2..3..4. c.4..3..2..1.
1             1             4
2             2             3
4             4             1
> a[4,1]<-1
> a
Error in data.frame(c.1..2..3..4. = c("1", "2", "4", "1"), c.4..3..2..1. = c(" 4",  : 
  duplicate row.names: 4

What's going on:
    1. A four row data.frame is created, so the rownames are c(1,2,3,4) 
    2. The third row is deleted, so the rownames are c(1,2,4) 
    3. A fourth row is added, and R automatically sets the row name equal to the index i.e. 4, so the row names are c(1,2,4,4).
    4. print.data.frame throws an error because it requires unique row names

It seems to me that either R should automatically generate a unique row names, or print.data.frame should accept duplicates. Looking at the manual 2.3.2, it is unclear whether row names are required to be unique, but the help page for data.frame states: "A data frame is a list of variables of the same number of rows with unique row names,..." This implies that a[4,1]<-1 creates an invalid data.frame object.



Cheers,
Ian Fellows


From romain.francois at dbmail.com  Tue Oct 13 11:09:53 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Tue, 13 Oct 2009 11:09:53 +0200
Subject: [Rd] for loop over S4
Message-ID: <4AD443E1.9080402@dbmail.com>

Hello,

Consider this :

> setClass("track", representation(x="numeric", y="numeric"))
[1] "track"
> o <- new( "track", x = 1, y = 2 )
> for( i in o ){
+ cat( "hello\n")
+ }
Error: invalid type/length (S4/1) in vector allocation



This happens at those lines of do_for:

	n = LENGTH(val);
	PROTECT_WITH_INDEX(v = allocVector(TYPEOF(val), 1), &vpi);

because allocVector( S4SXP, 1) does not make sense.



What about detecting S4SXP and attempt to call as.list, similarly to 
what lapply does ?

> as.list.track <-  function(x, ...){ list( x = x at x, y = x at y ) }
> lapply( o, identity )
$x
[1] 1

$y
[1] 2


That would make for loops more generic, and make it possible to 
implement custom "iterators". I'm attaching a patch to eval.c that does 
just that. For example :

 > setClass("iterator", representation(to="integer"))
[1] "iterator"
 > o <- new( "iterator", to = 4L )
 > setGeneric( "as.list" )
[1] "as.list"
 > setMethod( "as.list", "iterator", function(x, ...) {
+         seq_len( x at to )
+ })
[1] "as.list"
 >
 > for( i in o ){
+         cat( i, "\n" )
+ }
1
2
3
4

Obviously that is the cheap way of doing it, something better would be 
to abstract a bit more what is an "iterator".



For example in java iterators implement just two methods : hasNext() 
that indicates if there is a next object and next() that returns the 
next object.


For the long story, one motivation for this is actually to deal with 
java iterators (with the devel version of rJava, and this patch), you 
might do something like this:

 > v <- new( J("java/util/Vector") )
 > v$add( new( J("java/awt/Point"), 10L, 10L ) )
[1] TRUE
 > v$add( new( J("java/lang/Double"), 10 ) )
[1] TRUE
 > for( item in v ){
+   print( item$getClass()$getName() )
+ }
[1] "java.awt.Point"
[1] "java.lang.Double"

Where the as.list method for java object references returns a list that 
is filled by iterating over the object if it implements the Iterable 
interface.

The drawback here is that one has to first fully retrieve the list, by 
iterating in java, and then process it in R, by iterating again in R.

Romain


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: loop.txt
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091013/e592ddd1/attachment.txt>

From veraf at clemson.edu  Mon Oct 12 20:30:16 2009
From: veraf at clemson.edu (veraf at clemson.edu)
Date: Mon, 12 Oct 2009 20:30:16 +0200 (CEST)
Subject: [Rd] names drop for columns from data.frame (PR#14002)
Message-ID: <20091012183016.2AB77282EF3D@mail.pubhealth.ku.dk>

Full_Name: Francisco Vera
Version: 2.9.2
OS: Windows
Submission from: (NULL) (74.248.242.164)


Run the following commands:

a<-data.frame(x=1:2,y=3:4,row.names=c("i","j"))
names(a$x)
names(a[,1])

For names(a$x) I get NULL instead of c("i","j"). Same thing happens with
names(a[,1]). It works fine for rows, i.e., names(a[1,]) gives what is supposed
to.

It also works fine for matrices. If you issue the commands
b<-matrix(1:4,ncol=2,dimnames=list(c("x","y"),c("i","j")))
names(b[,1])
names(b[1,])

Thanks


From elliott.forney at gmail.com  Tue Oct 13 07:50:09 2009
From: elliott.forney at gmail.com (elliott.forney at gmail.com)
Date: Tue, 13 Oct 2009 07:50:09 +0200 (CEST)
Subject: [Rd] unexpected behavior in list of lexical closures (PR#14004)
Message-ID: <20091013055009.8B36B282EFEA@mail.pubhealth.ku.dk>

Full_Name: Elliott Forney
Version: 2.9.2
OS: Linux, Fedora 10
Submission from: (NULL) (129.82.47.235)


The following code creates a list of functions that are lexically closed over a
single argument.  If a print statement is included then each function in the
list evaluates to a different value.  If the print statement is not included
then each function evaluates to something different, as expected.  I am
convinced that this behavior is not correct as one would not expect the presence
of a lone print statement to alter the behavior of a program.

Please let me know if you have any questions and thank you for your time.  The
sample code follows:

## returns a function that sums input with 5
funk <- function(input)
{
  ## expected behavior if either of
  ## the following lines is uncommented
  # print(input)
  # input <- input

  ## function to sum input with 5
  ## lexical closure over input
  function()
  {
    input + 5
  }
}

## create a list different funk's
funk.list <- list()
for (i in 1:5)
{
  ## just some values to sum over
  test.vector <- 1:i

  ## add funk that sums test.vector with 5
  funk.list[[i]] <- funk(sum(test.vector))
}

## print result of evaluating each funk
## They are all the same unless print or
## reflexive assignment is uncommented!!
for (i in 1:5)
  print(funk.list[[i]]())


From martin.becker at mx.uni-saarland.de  Tue Oct 13 13:46:55 2009
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Tue, 13 Oct 2009 13:46:55 +0200
Subject: [Rd] Sweave output encoding in R-2.10.0beta on Windows (Rgui <->
	Rterm)
Message-ID: <4AD468AF.9030100@mx.uni-saarland.de>

Dear developers,

I have come across a (somewhat strange) change in the encoding of Sweave 
output from R-2.9.2pat to R-2.10.0beta (apparently specific to Rgui) on 
Windows installations. Of course, the NEWS file contains quite a few 
changes concerning encoding, but I was not able to locate an entry which 
explains the observed behaviour. I am not very familiar with 
encodings/locales/codepages, but I will try to explain my observations 
as best I can.

In R-2.9.2pat, when invoking R via Rgui --vanilla (output of 
seesionInfo() below), the output of Sweave for .rnw files containing 
german umlaute (latin1-encoded) is again latin1-encoded (the resulting 
.tex-file compiles with \usepackage[latin1]{inputenc} and 
\usepackage[german]{babel}).
In R-2.10.0beta, however, when invoking R via Rgui --vanilla (output of 
seesionInfo() below), some of Sweave's output (more precisely, Soutput 
environments containing german umlaute, Sinput environments with german 
umlaute are still latin1) is utf-8 encoded (with some extra characters 
at the start and the end, which could be BOMs). Surprisingly, when R is 
invoked from (Windows) command line (R --vanilla or Rterm --vanilla), 
the encoding is completely latin1 again (as in R-2.9.2pat). So, the 
change to utf-8 encoding for parts of Sweave's output seems to be 
specific to Rgui.

Of course, I can work around this problem by using Rterm instead of Rgui 
when Sweav'ing, but I am not sure if the current behaviour of R via Rgui 
is as intended.
I will try to attach the .rnw - file as well as the resulting .tex - 
files (and hope, that the attachements pass through).

Best wishes,

   Martin



sessionInfo() for R-2.9.2pat (same for Rgui, R, Rterm):
R version 2.9.2 Patched (2009-09-24 r50041)
i386-pc-mingw32

locale:
LC_COLLATE=German_Germany.1252;LC_CTYPE=German_Germany.1252;LC_MONETARY=German_Germany.1252;LC_NUMERIC=C;LC_TIME=German_Germany.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base 


sessionInfo() for R-2.10.0beta (same for Rgui, R, Rterm):
R version 2.10.0 beta (2009-10-11 r50037)
i386-pc-mingw32

locale:
[1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252  
[3] LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                  
[5] LC_TIME=German_Germany.1252   

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base  


-- 
Dr. Martin Becker
Statistics and Econometrics
Saarland University
Campus C3 1, Room 206
66123 Saarbruecken
Germany

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: sweavetest.rnw
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091013/8d0f0bae/attachment.pl>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: sweavetest-R-2.10.0beta-Rterm.tex
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091013/8d0f0bae/attachment-0001.pl>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: sweavetest-R-2.9.2pat-Rterm.tex
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091013/8d0f0bae/attachment-0002.pl>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: sweavetest-R-2.9.2pat-Rgui.tex
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091013/8d0f0bae/attachment-0003.pl>

From martin.becker at mx.uni-saarland.de  Tue Oct 13 13:57:46 2009
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Tue, 13 Oct 2009 13:57:46 +0200
Subject: [Rd] Sweave output encoding in R-2.10.0beta on Windows (Rgui
 <->	Rterm)
In-Reply-To: <4AD468AF.9030100@mx.uni-saarland.de>
References: <4AD468AF.9030100@mx.uni-saarland.de>
Message-ID: <4AD46B3A.8070707@mx.uni-saarland.de>

Ok,

apparently the most interesting attachement did not pass the filters 
(probably because of the utf-8 encoding...).
Maybe it is still helpful to copy&paste the Sweave output (with uft-8 
part) for R-2.10.0beta invoked via Rgui --vanilla:

\documentclass{article}
\usepackage{c:/Programme/R/R-2.10.0beta/share/texmf/Sweave}
\usepackage[latin1]{inputenc}
%\usepackage[utf8x]{inputenc}
\usepackage[german]{babel}

\begin{document}
\begin{Schunk}
\begin{Sinput}
 > Umlaute <- c("?", "?", "?", "?")
 > Umlaute
\end{Sinput}
\begin{Soutput}
??[1] "??" "??" "??" "??"??
\end{Soutput}
\end{Schunk}
\end{document}

Best wishes,

Martin



Martin Becker wrote:
> Dear developers,
>
> I have come across a (somewhat strange) change in the encoding of 
> Sweave output from R-2.9.2pat to R-2.10.0beta (apparently specific to 
> Rgui) on Windows installations. Of course, the NEWS file contains 
> quite a few changes concerning encoding, but I was not able to locate 
> an entry which explains the observed behaviour. I am not very familiar 
> with encodings/locales/codepages, but I will try to explain my 
> observations as best I can.
>
> In R-2.9.2pat, when invoking R via Rgui --vanilla (output of 
> seesionInfo() below), the output of Sweave for .rnw files containing 
> german umlaute (latin1-encoded) is again latin1-encoded (the resulting 
> .tex-file compiles with \usepackage[latin1]{inputenc} and 
> \usepackage[german]{babel}).
> In R-2.10.0beta, however, when invoking R via Rgui --vanilla (output 
> of seesionInfo() below), some of Sweave's output (more precisely, 
> Soutput environments containing german umlaute, Sinput environments 
> with german umlaute are still latin1) is utf-8 encoded (with some 
> extra characters at the start and the end, which could be BOMs). 
> Surprisingly, when R is invoked from (Windows) command line (R 
> --vanilla or Rterm --vanilla), the encoding is completely latin1 again 
> (as in R-2.9.2pat). So, the change to utf-8 encoding for parts of 
> Sweave's output seems to be specific to Rgui.
>
> Of course, I can work around this problem by using Rterm instead of 
> Rgui when Sweav'ing, but I am not sure if the current behaviour of R 
> via Rgui is as intended.
> I will try to attach the .rnw - file as well as the resulting .tex - 
> files (and hope, that the attachements pass through).
>
> Best wishes,
>
> Martin
>
>
>
> sessionInfo() for R-2.9.2pat (same for Rgui, R, Rterm):
> R version 2.9.2 Patched (2009-09-24 r50041)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=German_Germany.1252;LC_CTYPE=German_Germany.1252;LC_MONETARY=German_Germany.1252;LC_NUMERIC=C;LC_TIME=German_Germany.1252 
>
>
> attached base packages:
> [1] stats graphics grDevices utils datasets methods base
>
> sessionInfo() for R-2.10.0beta (same for Rgui, R, Rterm):
> R version 2.10.0 beta (2009-10-11 r50037)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=German_Germany.1252 LC_CTYPE=German_Germany.1252 [3] 
> LC_MONETARY=German_Germany.1252 LC_NUMERIC=C [5] 
> LC_TIME=German_Germany.1252
> attached base packages:
> [1] stats graphics grDevices utils datasets methods base
>
> ------------------------------------------------------------------------
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


-- 
Dr. Martin Becker
Statistics and Econometrics
Saarland University
Campus C3 1, Room 206
66123 Saarbruecken
Germany


From murdoch at stats.uwo.ca  Tue Oct 13 13:59:34 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 13 Oct 2009 07:59:34 -0400
Subject: [Rd] unexpected behavior in list of lexical closures (PR#14004)
In-Reply-To: <20091013055009.8B36B282EFEA@mail.pubhealth.ku.dk>
References: <20091013055009.8B36B282EFEA@mail.pubhealth.ku.dk>
Message-ID: <4AD46BA6.4030102@stats.uwo.ca>

On 13/10/2009 1:50 AM, elliott.forney at gmail.com wrote:
> Full_Name: Elliott Forney
> Version: 2.9.2
> OS: Linux, Fedora 10
> Submission from: (NULL) (129.82.47.235)

This is not a bug, just a consequence of lazy evaluation.  Arguments are 
not evaluated when passed, but when first used.  Since the "input" 
argument is never evaluated in the commented version of "funk" below, it 
isn't evaluated until one of the output functions is evaluated.

It's a good practice to force the evaluation of arguments to function 
builders like this, for exactly the reason you saw.  (The force() 
function is one way to do it, but any expression evaluating the argument 
will work.

Duncan Murdoch


> 
> 
> The following code creates a list of functions that are lexically closed over a
> single argument.  If a print statement is included then each function in the
> list evaluates to a different value.  If the print statement is not included
> then each function evaluates to something different, as expected.  I am
> convinced that this behavior is not correct as one would not expect the presence
> of a lone print statement to alter the behavior of a program.
> 
> Please let me know if you have any questions and thank you for your time.  The
> sample code follows:
> 
> ## returns a function that sums input with 5
> funk <- function(input)
> {
>   ## expected behavior if either of
>   ## the following lines is uncommented
>   # print(input)
>   # input <- input
> 
>   ## function to sum input with 5
>   ## lexical closure over input
>   function()
>   {
>     input + 5
>   }
> }
> 
> ## create a list different funk's
> funk.list <- list()
> for (i in 1:5)
> {
>   ## just some values to sum over
>   test.vector <- 1:i
> 
>   ## add funk that sums test.vector with 5
>   funk.list[[i]] <- funk(sum(test.vector))
> }
> 
> ## print result of evaluating each funk
> ## They are all the same unless print or
> ## reflexive assignment is uncommented!!
> for (i in 1:5)
>   print(funk.list[[i]]())
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From romain.francois at dbmail.com  Tue Oct 13 15:42:21 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Tue, 13 Oct 2009 15:42:21 +0200
Subject: [Rd] for loop over S4
In-Reply-To: <4AD443E1.9080402@dbmail.com>
References: <4AD443E1.9080402@dbmail.com>
Message-ID: <4AD483BD.8090804@dbmail.com>

Hello,

Here is a more complete patch implementing an iterating scheme inspired 
from the java Iterable/Iterator design.

Nothing is changed for non S4 objects.


The patch contains 4 generic functions :

is.iterable : indicates if an object is iterable. The default method 
returns FALSE

iterator: returns the iterator associated with an iterable object. the 
idea is that this function is only called if the object is iterable.

hasNext: indicates if an iterator has more elements. The default method 
returns FALSE

getNext: returns the next element of the iterator



Here is an example:


require( methods )

setClass( "SimpleIterable", representation( to="integer" ) )
setClass("SimpleIterator", representation(to="integer", env = 
"environment") )

setMethod("is.iterable", "SimpleIterable", function(x) TRUE )
setMethod("iterator", "SimpleIterable", function(x){
	env <- new.env()
	assign( "i" , 0L, envir = env )
	new( "SimpleIterator", to = x at to, env = env )
} )
setMethod( "hasNext", "SimpleIterator", function(x){
	res <- x at env[["i"]] < x at to
	res
} )
setMethod( "getNext", "SimpleIterator", function(x){
	new.i <- x at env[["i"]] + 1L
	assign( "i", new.i, envir = x at env )
	new.i
} )


 > o <- new( "SimpleIterable", to = 10L )
 > for( i in o ){
+ if( i == 3L ) next
+ if( i == 5L ) break
+  cat( i, "\n" )
+ }
1
2
4




Here is an example iterating over a java Iterable object (the methods 
would need a bit more error trapping) without fetching all the elements 
in advance:

require( rJava )
.jinit()

setMethod( "is.iterable", "jobjRef", function(x){
	.jinherits( x, "java/lang/Iterable" )
} )
setMethod( "iterator", "jobjRef", function(x){
	.jcall( x, "Ljava/util/Iterator;", "iterator" )
} )
setMethod( "hasNext", "jobjRef", function(x){
	.jcall( x, "Z", "hasNext" )
} )
setMethod( "getNext", "jobjRef", function(x){
	.jcall( x, "Ljava/lang/Object;", "next" )
} )

 > v <- new( J("java/util/Vector" ) )
 > v$add( new( J("java/lang/Double" ), 10.2 ) )
[1] TRUE
 > v$add( new( J("java/awt/Point"), 10L, 10L ) )
[1] TRUE
 > for( i in v){
+ print( i$getClass()$getName() )
+ }
[1] "java.lang.Double"
[1] "java.awt.Point"


While I'm on this, in the usual for loop :

- why is the switch inside the for. The code would be slighly more 
efficient if it was the other way ?
- why so many calls to TYPEOF, is it not always going to return the same 
type ?
- why recreating v each time ?

(I probably miss something here)

Romain

On 10/13/2009 11:09 AM, Romain Francois wrote:
> Hello,
>
> Consider this :
>
>> setClass("track", representation(x="numeric", y="numeric"))
> [1] "track"
>> o <- new( "track", x = 1, y = 2 )
>> for( i in o ){
> + cat( "hello\n")
> + }
> Error: invalid type/length (S4/1) in vector allocation
>
>
>
> This happens at those lines of do_for:
>
> n = LENGTH(val);
> PROTECT_WITH_INDEX(v = allocVector(TYPEOF(val), 1), &vpi);
>
> because allocVector( S4SXP, 1) does not make sense.
>
>
>
> What about detecting S4SXP and attempt to call as.list, similarly to
> what lapply does ?
>
>> as.list.track <- function(x, ...){ list( x = x at x, y = x at y ) }
>> lapply( o, identity )
> $x
> [1] 1
>
> $y
> [1] 2
>
>
> That would make for loops more generic, and make it possible to
> implement custom "iterators". I'm attaching a patch to eval.c that does
> just that. For example :
>
>  > setClass("iterator", representation(to="integer"))
> [1] "iterator"
>  > o <- new( "iterator", to = 4L )
>  > setGeneric( "as.list" )
> [1] "as.list"
>  > setMethod( "as.list", "iterator", function(x, ...) {
> + seq_len( x at to )
> + })
> [1] "as.list"
>  >
>  > for( i in o ){
> + cat( i, "\n" )
> + }
> 1
> 2
> 3
> 4
>
> Obviously that is the cheap way of doing it, something better would be
> to abstract a bit more what is an "iterator".
>
>
>
> For example in java iterators implement just two methods : hasNext()
> that indicates if there is a next object and next() that returns the
> next object.
>
>
> For the long story, one motivation for this is actually to deal with
> java iterators (with the devel version of rJava, and this patch), you
> might do something like this:
>
>  > v <- new( J("java/util/Vector") )
>  > v$add( new( J("java/awt/Point"), 10L, 10L ) )
> [1] TRUE
>  > v$add( new( J("java/lang/Double"), 10 ) )
> [1] TRUE
>  > for( item in v ){
> + print( item$getClass()$getName() )
> + }
> [1] "java.awt.Point"
> [1] "java.lang.Double"
>
> Where the as.list method for java object references returns a list that
> is filled by iterating over the object if it implements the Iterable
> interface.
>
> The drawback here is that one has to first fully retrieve the list, by
> iterating in java, and then process it in R, by iterating again in R.
>
> Romain


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: iterator.txt
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091013/c75214f5/attachment.txt>

From romain.francois at dbmail.com  Tue Oct 13 15:53:27 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Tue, 13 Oct 2009 15:53:27 +0200
Subject: [Rd] for loop over S4
In-Reply-To: <4AD483BD.8090804@dbmail.com>
References: <4AD443E1.9080402@dbmail.com> <4AD483BD.8090804@dbmail.com>
Message-ID: <4AD48657.1090008@dbmail.com>


Oops, forgot to add the R code.

On 10/13/2009 03:42 PM, Romain Francois wrote:
> Hello,
>
> Here is a more complete patch implementing an iterating scheme inspired
> from the java Iterable/Iterator design.
>
> Nothing is changed for non S4 objects.
>
>
> The patch contains 4 generic functions :
>
> is.iterable : indicates if an object is iterable. The default method
> returns FALSE
>
> iterator: returns the iterator associated with an iterable object. the
> idea is that this function is only called if the object is iterable.
>
> hasNext: indicates if an iterator has more elements. The default method
> returns FALSE
>
> getNext: returns the next element of the iterator
>
>
>
> Here is an example:
>
>
> require( methods )
>
> setClass( "SimpleIterable", representation( to="integer" ) )
> setClass("SimpleIterator", representation(to="integer", env =
> "environment") )
>
> setMethod("is.iterable", "SimpleIterable", function(x) TRUE )
> setMethod("iterator", "SimpleIterable", function(x){
> env <- new.env()
> assign( "i" , 0L, envir = env )
> new( "SimpleIterator", to = x at to, env = env )
> } )
> setMethod( "hasNext", "SimpleIterator", function(x){
> res <- x at env[["i"]] < x at to
> res
> } )
> setMethod( "getNext", "SimpleIterator", function(x){
> new.i <- x at env[["i"]] + 1L
> assign( "i", new.i, envir = x at env )
> new.i
> } )
>
>
>  > o <- new( "SimpleIterable", to = 10L )
>  > for( i in o ){
> + if( i == 3L ) next
> + if( i == 5L ) break
> + cat( i, "\n" )
> + }
> 1
> 2
> 4
>
>
>
>
> Here is an example iterating over a java Iterable object (the methods
> would need a bit more error trapping) without fetching all the elements
> in advance:
>
> require( rJava )
> .jinit()
>
> setMethod( "is.iterable", "jobjRef", function(x){
> .jinherits( x, "java/lang/Iterable" )
> } )
> setMethod( "iterator", "jobjRef", function(x){
> .jcall( x, "Ljava/util/Iterator;", "iterator" )
> } )
> setMethod( "hasNext", "jobjRef", function(x){
> .jcall( x, "Z", "hasNext" )
> } )
> setMethod( "getNext", "jobjRef", function(x){
> .jcall( x, "Ljava/lang/Object;", "next" )
> } )
>
>  > v <- new( J("java/util/Vector" ) )
>  > v$add( new( J("java/lang/Double" ), 10.2 ) )
> [1] TRUE
>  > v$add( new( J("java/awt/Point"), 10L, 10L ) )
> [1] TRUE
>  > for( i in v){
> + print( i$getClass()$getName() )
> + }
> [1] "java.lang.Double"
> [1] "java.awt.Point"
>
>
> While I'm on this, in the usual for loop :
>
> - why is the switch inside the for. The code would be slighly more
> efficient if it was the other way ?
> - why so many calls to TYPEOF, is it not always going to return the same
> type ?
> - why recreating v each time ?
>
> (I probably miss something here)
>
> Romain
>
> On 10/13/2009 11:09 AM, Romain Francois wrote:
>> Hello,
>>
>> Consider this :
>>
>>> setClass("track", representation(x="numeric", y="numeric"))
>> [1] "track"
>>> o <- new( "track", x = 1, y = 2 )
>>> for( i in o ){
>> + cat( "hello\n")
>> + }
>> Error: invalid type/length (S4/1) in vector allocation
>>
>>
>>
>> This happens at those lines of do_for:
>>
>> n = LENGTH(val);
>> PROTECT_WITH_INDEX(v = allocVector(TYPEOF(val), 1), &vpi);
>>
>> because allocVector( S4SXP, 1) does not make sense.
>>
>>
>>
>> What about detecting S4SXP and attempt to call as.list, similarly to
>> what lapply does ?
>>
>>> as.list.track <- function(x, ...){ list( x = x at x, y = x at y ) }
>>> lapply( o, identity )
>> $x
>> [1] 1
>>
>> $y
>> [1] 2
>>
>>
>> That would make for loops more generic, and make it possible to
>> implement custom "iterators". I'm attaching a patch to eval.c that does
>> just that. For example :
>>
>> > setClass("iterator", representation(to="integer"))
>> [1] "iterator"
>> > o <- new( "iterator", to = 4L )
>> > setGeneric( "as.list" )
>> [1] "as.list"
>> > setMethod( "as.list", "iterator", function(x, ...) {
>> + seq_len( x at to )
>> + })
>> [1] "as.list"
>> >
>> > for( i in o ){
>> + cat( i, "\n" )
>> + }
>> 1
>> 2
>> 3
>> 4
>>
>> Obviously that is the cheap way of doing it, something better would be
>> to abstract a bit more what is an "iterator".
>>
>>
>>
>> For example in java iterators implement just two methods : hasNext()
>> that indicates if there is a next object and next() that returns the
>> next object.
>>
>>
>> For the long story, one motivation for this is actually to deal with
>> java iterators (with the devel version of rJava, and this patch), you
>> might do something like this:
>>
>> > v <- new( J("java/util/Vector") )
>> > v$add( new( J("java/awt/Point"), 10L, 10L ) )
>> [1] TRUE
>> > v$add( new( J("java/lang/Double"), 10 ) )
>> [1] TRUE
>> > for( item in v ){
>> + print( item$getClass()$getName() )
>> + }
>> [1] "java.awt.Point"
>> [1] "java.lang.Double"
>>
>> Where the as.list method for java object references returns a list that
>> is filled by iterating over the object if it implements the Iterable
>> interface.
>>
>> The drawback here is that one has to first fully retrieve the list, by
>> iterating in java, and then process it in R, by iterating again in R.
>>
>> Romain


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: iterator.txt
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091013/7d97d7cd/attachment.txt>

From pgilbert at bank-banque-canada.ca  Tue Oct 13 16:19:16 2009
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 13 Oct 2009 10:19:16 -0400
Subject: [Rd] beta build problem
Message-ID: <D611103AA7EE3B4DAE7F7D49C72B291A01DE3557@EXMAIL2.bocad.bank-banque-canada.ca>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091013/cca71f5a/attachment.pl>

From j.van_den_hoff at fzd.de  Tue Oct 13 16:38:02 2009
From: j.van_den_hoff at fzd.de (Joerg van den Hoff)
Date: Tue, 13 Oct 2009 16:38:02 +0200
Subject: [Rd]  weigths in nls (PR#13991)
In-Reply-To: <mailman.15.1255168805.31318.r-devel@r-project.org>
References: <mailman.15.1255168805.31318.r-devel@r-project.org>
Message-ID: <20091013143802.GF13311@marco.fz-rossendorf.de>

> Message: 6
> Date: Fri, 09 Oct 2009 10:35:51 -0600
> From: Tony Plate <tplate at acm.org>
> Subject: Re: [Rd] weigths in nls (PR#13991)
> To: Stephen.Bond at cibc.com
> Cc: R-bugs at r-project.org, r-devel at stat.math.ethz.ch
> Message-ID: <4ACF6667.4060801 at acm.org>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
> 
> This is expected behavior from the way nls() is written.  The nls() 
> function has a "..." argument, which means that additional arguments are 
> allowed.
> 
> Under "Arguments" the docs say:
> |...| 	Additional optional arguments. None are used at present.
> 
> 
> As far as I can see in the code, nothing at all is done with the 
> additional arguments (consistent with the docs).   I guess the "..." 
> argument is there to allow for future development (though I'm not sure 
> what is gained by including "..." as a formal argument now, and not just 
> adding it in the future if and when it is needed.)
> 
> In general, the use of ... arguments does add flexibility, but it takes 
> away some error-checking.

you are completely right: if `...' is not used at the moment (and that's
the situation for quite some years now) and if it does cause pitfalls
for the user like this one (the mistyping of 'weights' is especially
easy), why  not remove it? or, for now, add a test to nls right in the
beginning whether `...' is empty or not and, in case it's not empty to
abort, since a non-empty `...' list at the moment is proof of an invalid
(or at least unintended) call of `nls'?

> 
> -- Tony Plate
> 
> Stephen.Bond at cibc.com wrote:
> > Potential bug:
> >
> > I mistyped weights in the call ('weigths') and it did not produce any error=
> >  message. The coefs were exactly the same like without weights, so I was su=
> > spicious and when weights(nls1) gave NULL, I saw my typo.
> >
> > Usually the function will say "Unused arguments", which shows you the error=
> > , but not nls.
> >
> > Regards
> > Stephen
> >
> > 	[[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> >
> >


From ripley at stats.ox.ac.uk  Tue Oct 13 17:20:28 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Oct 2009 16:20:28 +0100 (BST)
Subject: [Rd] beta build problem
In-Reply-To: <D611103AA7EE3B4DAE7F7D49C72B291A01DE3557@EXMAIL2.bocad.bank-banque-canada.ca>
References: <D611103AA7EE3B4DAE7F7D49C72B291A01DE3557@EXMAIL2.bocad.bank-banque-canada.ca>
Message-ID: <alpine.LFD.2.00.0910131608320.7983@gannet.stats.ox.ac.uk>

Whatever '/home/paul/Mybin/gtar' is, it is not a tar unpacker so you 
will need to specify the TAR environment variable when you configure 
R.

'gtar' is very commonly GNU tar (it is on Fedora Linux for example and 
on most third-party toolsets for e.g. Solaris and AIX).  It is an 
unwise choice of name for a personal script.


On Tue, 13 Oct 2009, Paul Gilbert wrote:

> I am having the following problem building
> R-beta_2009-10-12_r50045.tar.gz
>
> on
>
> Ubuntu 9.04 - the Jaunty Jackalope
>
> 
>
> Paul
>
> ________
>
> ...
>
> make[2]: Entering directory
>
> `/home/paul/toolchain/R/R-beta/src/library/Recommended'
>
> begin installing recommended package boot
>
> gzip: invalid option -- 'x'
>
> Try `gzip --help' for more information.
>
> tar: This does not look like a tar archive
>
> tar: Error exit delayed from previous errors Warning in
> utils::untar(pkg, exdir = tmpdir) :
>
>  '/bin/gzip -dc boot.tgz | /home/paul/Mybin/gtar -xf '-' -C
> '/tmp/RtmpIEcemZ/R.INSTALL327b23c6'' returned error code 512
>
> ERROR: error unpacking tarball
>
> make[2]: *** [boot.ts] Error 1
>
> make[2]: Leaving directory
>
> `/home/paul/toolchain/R/R-beta/src/library/Recommended'
>
> make[1]: *** [recommended-packages] Error 2
>
> make[1]: Leaving directory
>
> `/home/paul/toolchain/R/R-beta/src/library/Recommended'
>
> make: *** [stamp-recommended] Error 2
>
> paul at dell-laptop:~/toolchain/R/R-beta$ 
>
> 
>
> 
>
> 
>
> ====================================================================================
>
> La version fran??aise suit le texte anglais.
>
> ------------------------------------------------------------------------------------
>
> This email may contain privileged and/or confidential information, and the Bank of
> Canada does not waive any related rights. Any distribution, use, or copying of this
> email or the information it contains by other than the intended recipient is
> unauthorized. If you received this email in error please delete it immediately from
> your system and notify the sender promptly by email that you have done so. 
>
> ------------------------------------------------------------------------------------
>
> Le pr??sent courriel peut contenir de l'information privil??gi??e ou confidentielle.
> La Banque du Canada ne renonce pas aux droits qui s'y rapportent. Toute diffusion,
> utilisation ou copie de ce courriel ou des renseignements qu'il contient par une
> personne autre que le ou les destinataires d??sign??s est interdite. Si vous recevez
> ce courriel par erreur, veuillez le supprimer imm??diatement et envoyer sans d??lai ??
> l'exp??diteur un message ??lectronique pour l'aviser que vous avez ??limin?? de votre
> ordinateur toute copie du courriel re??u.
>
> 	[[alternative HTML version deleted]]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From james at howison.name  Tue Oct 13 16:45:13 2009
From: james at howison.name (james at howison.name)
Date: Tue, 13 Oct 2009 16:45:13 +0200 (CEST)
Subject: [Rd] Mac R spinning wheel with Package Manager (PR#14005)
Message-ID: <20091013144513.D8019282EFFB@mail.pubhealth.ku.dk>

Full_Name: James Howison
Version: 2.9.2
OS: Mac OS X 10.5.8
Submission from: (NULL) (128.2.222.163)


For quite a while now I have been unable to use Package Manager to install
programs.  I get the spinning wheel and long lock ups.  This happens when I hit,
"get list", but that eventually returns, seemingly successfully.  However it
also happens when I try to install a package, the whole application locks up.  I
don't see anything in a log file; I took a sample using Activity Manager and the
report after a force quit (which I didn't "send to apple")

I'm able to build packages fine using install.packages and CMD INSTALL

This behavior continued with a fresh R install (Oct 13, 2009)

Sample and Force quit report follow:

Sampling process 39206 for 3 seconds with 1 millisecond of run time between
samples
Sampling completed, processing symbols...
Analysis of sampling R (pid 39206) every 1 millisecond
Call graph:
    1635 Thread_2507
      1635 start
        1635 _start
          1635 main
            1635 -[REngine runREPL]
              1635 run_REngineRmainloop
                1635 Re_ReadConsole
                  1635 -[RController handleReadConsole:]
                    1635 -[RController doProcessEvents:]
                      1635 -[NSApplication sendEvent:]
                        1635 -[NSWindow sendEvent:]
                          1635 -[NSControl mouseDown:]
                            1635 -[NSButtonCell
trackMouse:inRect:ofView:untilMouseUp:]
                              1635 -[NSCell
trackMouse:inRect:ofView:untilMouseUp:]
                                1635 -[NSCell _sendActionFrom:]
                                  1635 -[NSControl sendAction:to:]
                                    1635 -[NSApplication sendAction:to:from:]
                                      1635 -[PackageInstaller installSelected:]
                                        1635 -[REngine executeString:]
                                          1635 -[REngine evaluateExpressions:]
                                            1635 R_tryEval
                                              1635 R_ToplevelExec
                                                1635 protectedEval
                                                  1635 Rf_eval
                                                    1635 Rf_applyClosure
                                                      1635 Rf_eval
                                                        1635 do_begin
                                                          1635 Rf_eval
                                                            1635 do_set
                                                              1635 Rf_eval
                                                                1635
Rf_applyClosure
                                                                  1635 Rf_eval
                                                                    1635
do_begin
                                                                      1635
Rf_eval
                                                                        1635
do_for
                                                                          1635
Rf_eval
                                                                            1635
do_begin
                                                                             
1635 Rf_eval
                                                                               
1635 Rf_eval
                                                                                
 1635 do_begin
                                                                                
   1635 Rf_eval
                                                                                
     1635 Rf_eval
                                                                                
       1635 do_begin
                                                                                
         1635 Rf_eval
                                                                                
           1635 do_set
                                                                                
             1635 Rf_eval
                                                                                
               1635 Rf_applyClosure
                                                                                
                 1635 Rf_eval
                                                                                
                   1635 do_begin
                                                                                
                     1635 Rf_eval
                                                                                
                       1635 Rf_applyClosure
                                                                                
                         1635 Rf_eval
                                                                                
                           1635 do_begin
                                                                                
                             1635 Rf_eval
                                                                                
                               1635 Rf_applyClosure
                                                                                
                                 1635 Rf_eval
                                                                                
                                   1635 do_begin
                                                                                
                                     1635 Rf_eval
                                                                                
                                       1635 Rf_eval
                                                                                
                                         1635 Rf_eval
                                                                                
                                           1635 Rf_applyClosure
                                                                                
                                             1635 Rf_eval
                                                                                
                                               1635 do_begin
                                                                                
                                                 1635 Rf_eval
                                                                                
                                                   1635 do_set
                                                                                
                                                     1635 Rf_eval
                                                                                
                                                       1635 Rf_applyClosure
                                                                                
                                                         1635 Rf_eval
                                                                                
                                                           1635 do_begin
                                                                                
                                                             1635 Rf_eval
                                                                                
                                                               1635 Rf_eval
                                                                                
                                                                 1635
forcePromise
                                                                                
                                                                   1635 Rf_eval
                                                                                
                                                                     1635
do_return
                                                                                
                                                                       1635
Rf_evalListKeepMissing
                                                                                
                                                                         1635
Rf_eval
                                                                                
                                                                           1635
Rf_eval
                                                                                
                                                                            
1635 forcePromise
                                                                                
                                                                              
1635 Rf_eval
                                                                                
                                                                                
1635 Rf_eval
                                                                                
                                                                                
  1635 forcePromise
                                                                                
                                                                                
    1635 Rf_eval
                                                                                
                                                                                
      1635 Rf_eval
                                                                                
                                                                                
        1635 forcePromise
                                                                                
                                                                                
          1635 Rf_eval
                                                                                
                                                                                
            1635 Rf_eval
                                                                                
                                                                                
              1635 forcePromise
                                                                                
                                                                                
                1635 Rf_eval
                                                                                
                                                                                
                  1635 Rf_applyClosure
                                                                                
                                                                                
                    1635 Rf_eval
                                                                                
                                                                                
                      1635 do_begin
                                                                                
                                                                                
                        1635 Rf_eval
                                                                                
                                                                                
                          1635 Rf_eval
                                                                                
                                                                                
                            1635 do_set
                                                                                
                                                                                
                              1635 Rf_eval
                                                                                
                                                                                
                                1635 do_internal
                                                                                
                                                                                
                                  1635 in_do_download
                                                                                
                                                                                
                                    1635 RxmlNanoHTTPRead
                                                                                
                                                                                
                                      1635 RxmlNanoHTTPRecv
                                                                                
                                                                                
                                        1635 R_SelectEx
                                                                                
                                                                                
                                          1635 select$DARWIN_EXTSN$NOCANCEL
                                                                                
                                                                                
                                            1635 select$DARWIN_EXTSN$NOCANCEL
    1635 Thread_2603
      1635 thread_start
        1635 _pthread_start
          1635 CFURLCacheWorkerThread(void*)
            1635 CFRunLoopRunInMode
              1635 CFRunLoopRunSpecific
                1635 mach_msg
                  1635 mach_msg_trap
                    1635 mach_msg_trap
    1635 Thread_2703
      1635 thread_start
        1635 _pthread_start
          1635 __NSThread__main__
            1635 -[NSThread main]
              1635 -[RController readThread:]
                1635 select$DARWIN_EXTSN$NOCANCEL
                  1635 select$DARWIN_EXTSN$NOCANCEL
    1635 Thread_2803
      1635 thread_start
        1635 _pthread_start
          1635 __NSThread__main__
            1635 -[NSThread main]
              1633 -[NSUIHeartBeat _heartBeatThread:]
                1523 usleep$UNIX2003
                  1523 __semwait_signal
                    1523 __semwait_signal
                86 -[NSSurface flush]
                  84 CGSFlushSurface
                    84 CGSFlushSurfaceWithOptions
                      59 _CGSGetSurfaceBinding
                        58 mach_msg
                          58 mach_msg_trap
                            58 mach_msg_trap
                        1 _CGSGetSurfaceBinding
                      25 _CGSFlushSurfaceInline
                        25 mach_msg
                          25 mach_msg_trap
                            25 mach_msg_trap
                  2 CGContextFlush
                    2 ripc_Operation
                      2 CGSDeviceSynchronize
                        2 _CGSFlushRegionInline
                          1 _CGSFlushRegionInline
                          1 mach_msg
                            1 mach_msg_trap
                              1 mach_msg_trap
                11 -[NSProgressIndicator heartBeat:]
                  9 __NSRenderSpinningIndeterminateIndicator
                    9 CUIRenderer::Draw(CGRect, CGContext*, __CFDictionary
const*, __CFDictionary const**)
                      5 CUIRenderer::DrawAnimation(CUIContext const*)
                        5 CUIRenderer::DrawImage(CGRect, long, CUIContext
const*)
                          3 CUIPenCG::DrawImage(void*, CGRect, void*)
                            3 CGContextDrawImage
                              3 ripc_DrawImage
                                3 ripc_RenderImage
                                  3 ripl_BltImage
                                    2 ripd_Mark
                                      2 argb32_image
                                        1 argb32_image_mark
                                          1 argb32_sample_ARGB32
                                            1 argb32_sample_ARGB32
                                        1 argb32_image_mark_RGB32
                                          1 argb32_image_mark_RGB32
                                    1 ripd_Lock
                                      1 CGSDeviceLock
                                        1 _CGSLockWindow
                                          1 CGSShmemGuardLock
                                            1 CGSShmemGuardLock
                          1 CUIRenderer::CreateImage(long, CUIContext const*,
CGRect*, float*, long*, unsigned char*)
                            1 __CFString::Create(__CFDictionary const*,
__CFString const*, ...)
                              1 CFStringCreateWithFormatAndArguments
                                1 _CFStringCreateWithFormatAndArgumentsAux
                                  1 _CFStringAppendFormatAndArgumentsAux
                                    1 _CFStringAppendFormatAndArgumentsAux
                          1 CUIRenderer::DrawImage(CGRect, long, CUIContext
const*)
                      3 CUIRenderer::DecodeToCUIInfo(CGRect, CGContext*,
__CFDictionary const*, CUIInfo*)
                        2 CFDictionaryGetValue
                          2 __CFDictionaryFindBuckets1a
                            2 __CFDictionaryFindBuckets1a
                        1 CUIConstantToMapID(__CFString const*)
                          1 CFDictionaryGetValue
                            1 __CFDictionaryFindBuckets1b
                              1 __CFStringHash
                                1 __CFStringHash
                      1 CUIPenCG::ConcatCTM(void*, CGAffineTransform)
                        1 CUIPenCG::ConcatCTM(void*, CGAffineTransform)
                  2 -[NSSurface lockFocusIfCanDraw]
                    1 +[NSGraphicsContext setCurrentContext:]
                      1 -[NSObject retain]
                        1 __CFDoExternRefOperation
                          1 CFBagAddValue
                            1 __CFBagFindBuckets2
                              1 __CFBagFindBuckets2
                    1 CGContextSaveGState
                      1 CGGStackSave
                        1 CGGStateCreateCopy
                          1 CGGStateClipCopy
                            1 CGClipStackRetain
                              1 CGClipStackRetain
                8 CGSReenableUpdate
                  8 CGSReenableUpdateForConnections
                    8 _CGSReenableUpdateForConnections
                      8 mach_msg
                        8 mach_msg_trap
                          8 mach_msg_trap
                1 -[NSSet makeObjectsPerformSelector:]
                  1 -[NSWindow flushWindow]
                    1 -[NSViewHierarchyLock
lockForReadingWithExceptionHandler:]
                      1 -[NSViewHierarchyLock
lockForReadingWithExceptionHandler:]
                1 -[NSUIHeartBeat _heartBeatThread:]
                1 -[NSWindow _copyAcquiredViewHierarchyLock]
                  1 -[NSViewHierarchyLock lockForReadingWithExceptionHandler:]
                    1 -[NSViewHierarchyLock
lockForReadingWithExceptionHandler:]
                1 CGSDisableUpdate
                  1 CGSDisableUpdateForConnections
                    1 _CGSDisableUpdateForConnections
                      1 mach_msg
                        1 mach_msg_trap
                          1 mach_msg_trap
                1 objc_msgSend
                  1 objc_msgSend
              2 objc_msgSend
                2 objc_msgSend
    1635 Thread_2903
      1635 thread_start
        1635 _pthread_start
          1635 fe_fragment_thread
            1635 pthread_cond_wait$UNIX2003
              1635 __semwait_signal
                1635 __semwait_signal

Total number in stack (recursive counted multiple, when >=5):
        41       Rf_eval
        11       do_begin
        8       Rf_applyClosure
        6       mach_msg
        6       mach_msg_trap
        5       forcePromise

Sort by top of stack, same collapsed (when >= 5):
        select$DARWIN_EXTSN$NOCANCEL        3270
        __semwait_signal        3158
        mach_msg_trap        1728
Sample analysis of process 39206 written to file /dev/stdout


Date/Time:      2009-10-13 10:28:45 -0400
OS Version:     10.5.8 (Build 9L31a)
Architecture:   i386
Report Version: 4

Command:        R
Path:           /Applications/R.app/Contents/MacOS/R
Version:        R 2.9.2 GUI 1.29 Tiger build 32-bit (5464)
Parent:         launchd [197]

PID:            39206
Event:          hang
Time:           61.09s
Steps:          449


Process:        R [39206]
Path:           /Applications/R.app/Contents/MacOS/R

  ADDRESS         BINARY
  00001000        /Applications/R.app/Contents/MacOS/R
  00191000        /System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
  0019a000        /Library/Frameworks/R.framework/Versions/2.9/Resources/lib/libRblas.dylib
  001a0000        /Library/Frameworks/R.framework/Versions/2.9/Resources/lib/libreadline.5.2.dylib
  00317000        /Library/Frameworks/R.framework/Versions/2.9/Resources/lib/libR.dylib
  0062e000        /Library/Frameworks/R.framework/Versions/2.9/Resources/lib/libgfortran.2.dylib
  18342000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  1a370000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  1a376000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  1a410000        /Library/Frameworks/R.framework/Resources/library/methods/libs/i386/methods.so
  1a575000        /Library/Frameworks/R.framework/Resources/library/stats/libs/i386/stats.so
  1a5e8000        /Library/Frameworks/R.framework/Resources/library/grDevices/libs/i386/grDevices.so
  1a6d8000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  1b088000        /Library/Frameworks/R.framework/Resources/library/tools/libs/i386/tools.so
  1b0cd000        /Library/Frameworks/R.framework/Resources/modules/i386/internet.so

  Thread id:      e53cd60
  User stack:
    449 start + 41 (in R) [0x24b1]
      449 __start + 216 (in R) [0x258a]
        449 _main + 884 (in R) [0x291a]
          449 -[REngine runREPL] + 260 (in R) [0x10fc7]
            449 _run_REngineRmainloop + 867 (in R) [0x18aef]
              449 _Re_ReadConsole + 494 (in R) [0x10b46]
                449 -[RController handleReadConsole:] + 126 (in R) [0x5e2f]
                  449 -[RController doProcessEvents:] + 530 (in R) [0x8a28]
                    449 -[NSApplication sendEvent:] + 2939 (in AppKit)
[0x966566a5]
                      449 -[NSWindow sendEvent:] + 5381 (in AppKit)
[0x96689af7]
                        449 -[NSControl mouseDown:] + 888 (in AppKit)
[0x9668b3b8]
                          449 -[NSButtonCell
trackMouse:inRect:ofView:untilMouseUp:] + 541 (in AppKit) [0x9668bafe]
                            449 -[NSCell trackMouse:inRect:ofView:untilMouseUp:]
+ 1827 (in AppKit) [0x9668c2ab]
                              449 -[NSCell _sendActionFrom:] + 169 (in AppKit)
[0x9668cc52]
                                449 -[NSControl sendAction:to:] + 108 (in
AppKit) [0x9668cdcc]
                                  449 -[NSApplication sendAction:to:from:] + 112
(in AppKit) [0x9668ce8f]
                                    449 -[PackageInstaller installSelected:] +
2972 (in R) [0x15a01]
                                      449 -[REngine executeString:] + 204 (in R)
[0x1177f]
                                        449 -[REngine evaluateExpressions:] +
296 (in R) [0x11411]
                                          449 _R_tryEval + 57 (in libR.dylib)
[0x375a69]
                                            449 _R_ToplevelExec + 175 (in
libR.dylib) [0x3759ef]
                                              449 _protectedEval + 49 (in
libR.dylib) [0x375341]
                                                449 _Rf_eval + 952 (in
libR.dylib) [0x3bb3b8]
                                                  449 _Rf_applyClosure + 695 (in
libR.dylib) [0x3be137]
                                                    449 _Rf_eval + 1208 (in
libR.dylib) [0x3bb4b8]
                                                      449 _do_begin + 63 (in
libR.dylib) [0x3bc4ef]
                                                        449 _Rf_eval + 1208 (in
libR.dylib) [0x3bb4b8]
                                                          449 _do_set + 678 (in
libR.dylib) [0x3bd786]
                                                            449 _Rf_eval + 952
(in libR.dylib) [0x3bb3b8]
                                                              449
_Rf_applyClosure + 695 (in libR.dylib) [0x3be137]
                                                                449 _Rf_eval +
1208 (in libR.dylib) [0x3bb4b8]
                                                                  449 _do_begin
+ 63 (in libR.dylib) [0x3bc4ef]
                                                                    449 _Rf_eval
+ 1208 (in libR.dylib) [0x3bb4b8]
                                                                      449
_do_for + 648 (in libR.dylib) [0x3bfc88]
                                                                        449
_Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                          449
_do_begin + 63 (in libR.dylib) [0x3bc4ef]
                                                                            449
_Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                             
449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                               
449 _do_begin + 63 (in libR.dylib) [0x3bc4ef]
                                                                                
 449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
   449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
     449 _do_begin + 63 (in libR.dylib) [0x3bc4ef]
                                                                                
       449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
         449 _do_set + 678 (in libR.dylib) [0x3bd786]
                                                                                
           449 _Rf_eval + 952 (in libR.dylib) [0x3bb3b8]
                                                                                
             449 _Rf_applyClosure + 695 (in libR.dylib) [0x3be137]
                                                                                
               449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
                 449 _do_begin + 63 (in libR.dylib) [0x3bc4ef]
                                                                                
                   449 _Rf_eval + 952 (in libR.dylib) [0x3bb3b8]
                                                                                
                     449 _Rf_applyClosure + 695 (in libR.dylib) [0x3be137]
                                                                                
                       449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
                         449 _do_begin + 63 (in libR.dylib) [0x3bc4ef]
                                                                                
                           449 _Rf_eval + 952 (in libR.dylib) [0x3bb3b8]
                                                                                
                             449 _Rf_applyClosure + 695 (in libR.dylib)
[0x3be137]
                                                                                
                               449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
                                 449 _do_begin + 63 (in libR.dylib) [0x3bc4ef]
                                                                                
                                   449 _Rf_eval + 1208 (in libR.dylib)
[0x3bb4b8]
                                                                                
                                     449 _Rf_eval + 1208 (in libR.dylib)
[0x3bb4b8]
                                                                                
                                       449 _Rf_eval + 952 (in libR.dylib)
[0x3bb3b8]
                                                                                
                                         449 _Rf_applyClosure + 695 (in
libR.dylib) [0x3be137]
                                                                                
                                           449 _Rf_eval + 1208 (in libR.dylib)
[0x3bb4b8]
                                                                                
                                             449 _do_begin + 63 (in libR.dylib)
[0x3bc4ef]
                                                                                
                                               449 _Rf_eval + 1208 (in
libR.dylib) [0x3bb4b8]
                                                                                
                                                 449 _do_set + 678 (in
libR.dylib) [0x3bd786]
                                                                                
                                                   449 _Rf_eval + 952 (in
libR.dylib) [0x3bb3b8]
                                                                                
                                                     449 _Rf_applyClosure + 695
(in libR.dylib) [0x3be137]
                                                                                
                                                       449 _Rf_eval + 1208 (in
libR.dylib) [0x3bb4b8]
                                                                                
                                                         449 _do_begin + 63 (in
libR.dylib) [0x3bc4ef]
                                                                                
                                                           449 _Rf_eval + 1606
(in libR.dylib) [0x3bb646]
                                                                                
                                                             449 _Rf_eval + 589
(in libR.dylib) [0x3bb24d]
                                                                                
                                                               449 _forcePromise
+ 164 (in libR.dylib) [0x3bf734]
                                                                                
                                                                 449 _Rf_eval +
1208 (in libR.dylib) [0x3bb4b8]
                                                                                
                                                                   449
_do_return + 33 (in libR.dylib) [0x3bbaf1]
                                                                                
                                                                     449
_Rf_evalListKeepMissing + 125 (in libR.dylib) [0x3bb93d]
                                                                                
                                                                       449
_Rf_eval + 1606 (in libR.dylib) [0x3bb646]
                                                                                
                                                                         449
_Rf_eval + 589 (in libR.dylib) [0x3bb24d]
                                                                                
                                                                           449
_forcePromise + 164 (in libR.dylib) [0x3bf734]
                                                                                
                                                                             449
_Rf_eval + 1606 (in libR.dylib) [0x3bb646]
                                                                                
                                                                              
449 _Rf_eval + 589 (in libR.dylib) [0x3bb24d]
                                                                                
                                                                                
449 _forcePromise + 164 (in libR.dylib) [0x3bf734]
                                                                                
                                                                                
  449 _Rf_eval + 1606 (in libR.dylib) [0x3bb646]
                                                                                
                                                                                
    449 _Rf_eval + 589 (in libR.dylib) [0x3bb24d]
                                                                                
                                                                                
      449 _forcePromise + 164 (in libR.dylib) [0x3bf734]
                                                                                
                                                                                
        449 _Rf_eval + 1606 (in libR.dylib) [0x3bb646]
                                                                                
                                                                                
          449 _Rf_eval + 589 (in libR.dylib) [0x3bb24d]
                                                                                
                                                                                
            449 _forcePromise + 164 (in libR.dylib) [0x3bf734]
                                                                                
                                                                                
              449 _Rf_eval + 952 (in libR.dylib) [0x3bb3b8]
                                                                                
                                                                                
                449 _Rf_applyClosure + 695 (in libR.dylib) [0x3be137]
                                                                                
                                                                                
                  449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
                                                                                
                    449 _do_begin + 63 (in libR.dylib) [0x3bc4ef]
                                                                                
                                                                                
                      449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
                                                                                
                        449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
                                                                                
                          449 _do_set + 678 (in libR.dylib) [0x3bd786]
                                                                                
                                                                                
                            449 _Rf_eval + 1208 (in libR.dylib) [0x3bb4b8]
                                                                                
                                                                                
                              449 _do_internal + 335 (in libR.dylib) [0x3f681f]
                                                                                
                                                                                
                                449 _in_do_download + 1786 (in internet.so)
[0x1b0d098a]
                                                                                
                                                                                
                                  449 _RxmlNanoHTTPRead + 83 (in internet.so)
[0x1b0d3b43]
                                                                                
                                                                                
                                    449 _RxmlNanoHTTPRecv + 314 (in internet.so)
[0x1b0d383a]
                                                                                
                                                                                
                                      449 _select$DARWIN_EXTSN$NOCANCEL + 10 (in
libSystem.B.dylib) [0x945fc3ca]

  Thread id:      107fd790
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __Z22CFURLCacheWorkerThreadPv + 388 (in CFNetwork) [0x951db264]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      108328b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 _select$DARWIN_EXTSN$NOCANCEL + 10 (in libSystem.B.dylib)
[0x945fc3ca]
  Kernel stack:
    4 _unix_syscall + 572 [0x3e3a7f]
      4 _select_nocancel + 1450 [0x393aea]
        4 _selprocess + 1654 [0x3932b7]
          4 _uiomove + 1018 [0x3861a4]
            4 _thread_block + 33 [0x136f20]
              4 _thread_block_reason + 135 [0x136e7c]
                4 _thread_setrun + 3597 [0x136217]
                  4 _machine_idle + 271 [0x1ac3ec]

  Thread id:      104ff7d8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            446 -[NSUIHeartBeat _heartBeatThread:] + 2042 (in AppKit)
[0x96621bf1]
              446 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
            2 -[NSUIHeartBeat _heartBeatThread:] + 1658 (in AppKit)
[0x96621a71]
              2 -[NSSurface flush] + 161 (in AppKit) [0x96604fb0]
                2 _CGSFlushSurface + 46 (in CoreGraphics) [0x9117948f]
                  2 _CGSFlushSurfaceWithOptions + 340 (in CoreGraphics)
[0x911795e8]
                    2 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
            1 -[NSUIHeartBeat _heartBeatThread:] + 1893 (in AppKit)
[0x96621b5c]
              1 _CGSReenableUpdate + 32 (in CoreGraphics) [0x91180918]
                1 _CGSReenableUpdateForConnections + 390 (in CoreGraphics)
[0x91180aa0]
                  1 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    3 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      3 _mach_msg_overwrite_trap + 3808 [0x1270ea]
        3 _ipc_mqueue_receive + 750 [0x121292]
          3 _thread_block + 33 [0x136f20]
            3 _thread_continue + 1180 [0x136cb3]
    1 _unix_syscall + 572 [0x3e3a7f]
      1 ___semwait_signal_nocancel + 104 [0x381fff]
        1 _semaphore_timedwait_trap_internal + 89 [0x139eea]
          1 _semaphore_wait_internal + 565 [0x139c87]
            1 _thread_block + 33 [0x136f20]
              1 _thread_block_reason + 135 [0x136e7c]
                1 _thread_setrun + 3597 [0x136217]
                  1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      e53b2e8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _fe_fragment_thread + 54 (in QuartzCore) [0x948c7a09]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]


Process:        ATSServer [3656]
Path:           /System/Library/Frameworks/ApplicationServices.framework/Frameworks/ATS.framework/Support/ATSServer

  ADDRESS         BINARY
  00001000        /System/Library/Frameworks/ApplicationServices.framework/Frameworks/ATS.framework/Support/ATSServer

  Thread id:      a2635d0
  User stack:
    449 ??? [0x4ef6]
      449 ??? [0xddaef]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      106d2410
  User stack:
    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        ATSServer [212]
Path:           /System/Library/Frameworks/ApplicationServices.framework/Frameworks/ATS.framework/Support/ATSServer

  ADDRESS         BINARY
  00001000        /System/Library/Frameworks/ApplicationServices.framework/Frameworks/ATS.framework/Support/ATSServer

  Thread id:      677f7d8
  User stack:
    449 ??? [0x4ef6]
      449 ??? [0xddaef]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      54a3128
  User stack:
    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        ATSServer [38864]
Path:           /System/Library/Frameworks/ApplicationServices.framework/Frameworks/ATS.framework/Support/ATSServer

  ADDRESS         BINARY
  00001000        /System/Library/Frameworks/ApplicationServices.framework/Frameworks/ATS.framework/Support/ATSServer

  Thread id:      10041048
  User stack:
    449 ??? [0x4ef6]
      449 ??? [0xddaef]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      e6a8208
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        Activity Monitor [39174]
Path:           /Applications/Utilities/Activity
Monitor.app/Contents/MacOS/Activity Monitor

  ADDRESS         BINARY
  00001000        /Applications/Utilities/Activity
Monitor.app/Contents/MacOS/Activity Monitor
  00047000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  0004d000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  17346000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  175e3000        /System/Library/Frameworks/OpenGL.framework/Versions/A/Resources/GLRendererFloat.bundle/GLRendererFloat
  17dd5000        /System/Library/Frameworks/OpenGL.framework/Resources/GLEngine.bundle/GLEngine
  17f88000        /System/Library/Extensions/AppleIntelGMAX3100GLDriver.bundle/Contents/MacOS/AppleIntelGMAX3100GLDriver
  1a380000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  4d57d000        /System/Library/PrivateFrameworks/GraphKit.framework/Versions/A/GraphKit
  ba900000        /System/Library/CoreServices/Encodings/libJapaneseConverter.dylib

  Thread id:      ee97e40
  User stack:
    449 ??? [0x1efa]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        433 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          433 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            433 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              433 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                429 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  429 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    429 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      372 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
                      50 _CFRunLoopRunSpecific + 4469 (in CoreFoundation)
[0x942408f5]
                        50 ___NSFireTimer + 147 (in Foundation) [0x91e38483]
                          49 ??? [0xd034]
                            49 __CF_forwarding_prep_0 + 50 (in CoreFoundation)
[0x942bf8b2]
                              49 ____forwarding___ + 986 (in CoreFoundation)
[0x942bf84a]
                                49 -[NSDistantObject forwardInvocation:] + 329
(in Foundation) [0x91e39e29]
                                  45 -[NSConnection sendInvocation:internal:] +
3005 (in Foundation) [0x91e3acad]
                                    45 _CFRunLoopRunInMode + 88 (in
CoreFoundation) [0x94240aa8]
                                      45 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                  4 -[NSConnection sendInvocation:internal:] +
3562 (in Foundation) [0x91e3aeda]
                                    4 -[NSConcretePortCoder decodeReturnValue:]
+ 360 (in Foundation) [0x91e43948]
                                      4 __NSWalkData2 + 1724 (in Foundation)
[0x91e3bdac]
                                        4 -[NSConcretePortCoder
decodeRetainedObject] + 282 (in Foundation) [0x91e3f64a]
                                          4 -[NSDictionary(NSDictionary)
initWithCoder:] + 886 (in Foundation) [0x91e31156]
                                            4 __NSWalkData2 + 1724 (in
Foundation) [0x91e3bdac]
                                              4 -[NSConcretePortCoder
decodeRetainedObject] + 282 (in Foundation) [0x91e3f64a]
                                                4 -[NSArray(NSArray)
initWithCoder:] + 612 (in Foundation) [0x91e10b64]
                                                  4 __NSWalkData2 + 1724 (in
Foundation) [0x91e3bdac]
                                                    4 -[NSConcretePortCoder
decodeRetainedObject] + 282 (in Foundation) [0x91e3f64a]
                                                      2
-[NSDictionary(NSDictionary) initWithCoder:] + 324 (in Foundation) [0x91e30f24]
                                                        2
-[__NSPlaceholderDictionary initWithObjects:forKeys:count:] + 489 (in
CoreFoundation) [0x942b3fb9]
                                                          1
_OSAtomicCompareAndSwapLong + 18 (in libSystem.B.dylib) [0x945cf76e]
                                                          1
_CFDictionarySetValue + 348 (in CoreFoundation) [0x9421117c]
                                                            1
___CFDictionaryFindBuckets2 + 293 (in CoreFoundation) [0x9420f585]
                                                              1 ___CFStringEqual
+ 43 (in CoreFoundation) [0x942606fb]
                                                      2
-[NSDictionary(NSDictionary) initWithCoder:] + 851 (in Foundation) [0x91e31133]
                                                        2 __NSWalkData2 + 1724
(in Foundation) [0x91e3bdac]
                                                          1 +[NSString
allocWithZone:] + 25 (in Foundation) [0x91e02f09]
                                                          1
-[NSConcretePortCoder decodeRetainedObject] + 282 (in Foundation) [0x91e3f64a]
                                                            1 -[NSString
initWithCoder:] + 68 (in Foundation) [0x91e0f4c4]
                                                              1 -[NSConnection
versionForClassNamed:] + 59 (in Foundation) [0x91e467ab]
                                                                1 ???
[0xffff026d]
                          1 ??? [0xcfe2]
                            1 __CFRelease + 216 (in CoreFoundation)
[0x94242538]
                              1 ___CFDictionaryDeallocate + 281 (in
CoreFoundation) [0x9420f709]
                                1 __CFRelease + 216 (in CoreFoundation)
[0x94242538]
                                  1 ___CFArrayReleaseValues + 221 (in
CoreFoundation) [0x941d13cd]
                                    1 __CFRelease + 216 (in CoreFoundation)
[0x94242538]
                                      1 ___CFDictionaryDeallocate + 281 (in
CoreFoundation) [0x9420f709]
                                        1 _szone_free + 972 (in
libSystem.B.dylib) [0x945cb7e6]
                      3 _CFRunLoopRunSpecific + 3141 (in CoreFoundation)
[0x942403c5]
                        3 __performFileHandleSource + 241 (in Foundation)
[0x91e7f901]
                          3 -[NSNotificationCenter
postNotificationName:object:userInfo:] + 128 (in Foundation) [0x91e00680]
                            3 __CFXNotificationPostNotification + 179 (in
CoreFoundation) [0x94221753]
                              3 ___CFXNotificationPost + 362 (in CoreFoundation)
[0x9422147a]
                                2 __nsnote_callback + 106 (in Foundation)
[0x91e0342a]
                                  2 ??? [0x1ae1a]
                                    2 -[NSApplication endSheet:] + 49 (in
AppKit) [0x968bc409]
                                      2 -[NSApplication endSheet:returnCode:] +
288 (in AppKit) [0x966ceb9b]
                                        2 -[NSWindow orderOut:] + 50 (in AppKit)
[0x9668d809]
                                          2 -[NSWindow orderWindow:relativeTo:]
+ 105 (in AppKit) [0x9667905c]
                                            2 -[NSWindow
_reallyDoOrderWindow:relativeTo:findKey:forCounter:force:isModal:] + 2081 (in
AppKit) [0x966798da]
                                              2 -[NSWindow(NSSheets)
_orderOutRelativeToWindow:] + 123 (in AppKit) [0x96820fcc]
                                                2 -[NSMoveHelper(NSSheets)
_closeSheet:andMoveParent:] + 457 (in AppKit) [0x96821209]
                                                  2 -[NSMoveHelper _doAnimation]
+ 980 (in AppKit) [0x9681f0ce]
                                                    2 _CFRunLoopRunInMode + 88
(in CoreFoundation) [0x94240aa8]
                                                      1 _CFRunLoopRunSpecific +
4469 (in CoreFoundation) [0x942408f5]
                                                        1
__NSMoveHelperTimerCallBack + 611 (in AppKit) [0x966c22f8]
                                                          1 _MetalSheetProgress
+ 9247 (in CoreGraphics) [0x911db43c]
                                                            1 _CGSOrderWindow +
46 (in CoreGraphics) [0x911b68a7]
                                                              1 _mach_msg_trap +
10 (in libSystem.B.dylib) [0x945c5286]
                                                      1 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                1 _objc_msgSend + 102 (in libobjc.A.dylib)
[0x902936d6]
                                  1 __class_getMethodNoSuper + 224 (in
libobjc.A.dylib) [0x9028d26c]
                      2 _CFRunLoopRunSpecific + 3896 (in CoreFoundation)
[0x942406b8]
                        2 ___CFMachPortPerform + 117 (in CoreFoundation)
[0x9421bff5]
                          1 __Z38PullEventsFromWindowServerOnConnectionjh + 88
(in HIToolbox) [0x90a10650]
                            1 _CGEventCreateNextEvent + 44 (in CoreGraphics)
[0x910e15d5]
                              1 _CGSGetNextEventRecordInternal + 159 (in
CoreGraphics) [0x9170364c]
                                1 _snarfEvents + 298 (in CoreGraphics)
[0x910e1796]
                                  1 _CGSDispatchDatagramsFromStream + 655 (in
CoreGraphics) [0x910e1e59]
                                    1 _CGEventCreateFromDataAndSource + 685 (in
CoreGraphics) [0x910e231d]
                          1 __Z38PullEventsFromWindowServerOnConnectionjh + 35
(in HIToolbox) [0x90a1061b]
                            1 _GetMainEventQueue + 25 (in HIToolbox)
[0x90a1092a]
                              1 _pthread_once + 41 (in libSystem.B.dylib)
[0x945e7875]
                      1 _CFRunLoopRunSpecific + 844 (in CoreFoundation)
[0x9423facc]
                        1 ___CFRunLoopDoObservers + 466 (in CoreFoundation)
[0x9423e772]
                          1 __handleWindowNeedsDisplay + 436 (in AppKit)
[0x965bd84c]
                            1 -[NSWindow displayIfNeeded] + 189 (in AppKit)
[0x965bda29]
                              1 -[NSView displayIfNeeded] + 933 (in AppKit)
[0x965bde7b]
                                1 -[NSView
_displayRectIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:] + 3090 (in
AppKit) [0x9667d4ab]
                                  1 -[NSThemeFrame
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 306 (in AppKit) [0x96680987]
                                    1 -[NSView
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 1819 (in AppKit) [0x96681469]
                                      1 -[NSView _drawRect:clip:] + 3853 (in
AppKit) [0x96683bf8]
                                        1 -[NSThemeFrame drawRect:] + 111 (in
AppKit) [0x96684891]
                                          1 -[NSFrameView drawRect:] + 893 (in
AppKit) [0x96685397]
                                            1 -[NSFrameView
drawThemeContentFill:inView:] + 1927 (in AppKit) [0x965eee2f]
                                              1 -[NSThemeFrame
drawWindowBackgroundRect:] + 172 (in AppKit) [0x9664ef6d]
                                                1 -[NSFrameView
drawWindowBackgroundRect:] + 38 (in AppKit) [0x9664f15c]
                                                  1 _NSDrawWindowBackground +
292 (in AppKit) [0x9664f282]
                                                    1 _NSRectFillUsingOperation
+ 260 (in AppKit) [0x965f13b8]
                                                      1 _CGContextFillRect + 32
(in CoreGraphics) [0x911472ae]
                                                        1 _CGContextFillRects +
162 (in CoreGraphics) [0x910f257e]
                                                          1 _ripc_DrawRects +
689 (in libRIP.A.dylib) [0x90d1d6bd]
                                                            1 _ripc_Render + 386
(in libRIP.A.dylib) [0x90d14213]
                                                              1 _ripl_BltShape +
438 (in libRIP.A.dylib) [0x90d2feee]
                                                                1 _ripd_Lock +
61 (in libRIP.A.dylib) [0x90d30d60]
                                                                  1
_CGSDeviceLock + 450 (in CoreGraphics) [0x910f55bb]
                                                                    1
__CGSLockWindow + 4752 (in CoreGraphics) [0x910e8b03]
                                                                      1
_mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
                      1 _CFRunLoopRunSpecific + 2803 (in CoreFoundation)
[0x94240273]
                        1 _bsd_qsort + 500 (in CoreFoundation) [0x9424e464]
                4 _ReceiveNextEventCommon + 175 (in HIToolbox) [0x90a36ffe]
                  4 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    4 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                      2 _CFRunLoopRunSpecific + 844 (in CoreFoundation)
[0x9423facc]
                        2 ___CFRunLoopDoObservers + 466 (in CoreFoundation)
[0x9423e772]
                          1 __handleWindowsNeedUpdateNote + 67 (in AppKit)
[0x965bca83]
                            1 -[NSApplication updateWindows] + 117 (in AppKit)
[0x965bcb59]
                              1 +[NSInputContext updateInputContexts] + 52 (in
AppKit) [0x965bd0c9]
                                1 _objc_msgSend + 102 (in libobjc.A.dylib)
[0x902936d6]
                                  1 __class_lookupMethodAndLoadCache + 81 (in
libobjc.A.dylib) [0x90283239]
                                    1 __class_initialize + 367 (in
libobjc.A.dylib) [0x902848b8]
                                      1 +[NSKeyBindingManager
sharedKeyBindingManager] + 127 (in AppKit) [0x967131ea]
                                        1 +[NSDictionary(NSDictionary)
dictionaryWithContentsOfFile:] + 72 (in Foundation) [0x91e21278]
                                          1 -[__NSPlaceholderDictionary
initWithContentsOfFile:] + 63 (in CoreFoundation) [0x942b44bf]
                                            1 +[NSDictionary(NSDictionary)
newWithContentsOf:immutable:] + 144 (in Foundation) [0x91e21320]
                                              1 -[NSData(NSData)
initWithContentsOfFile:] + 83 (in Foundation) [0x91e21413]
                                                1 _close$UNIX2003 + 10 (in
libSystem.B.dylib) [0x945d0852]
                          1 __handleWindowNeedsDisplay + 436 (in AppKit)
[0x965bd84c]
                            1 -[NSWindow displayIfNeeded] + 189 (in AppKit)
[0x965bda29]
                              1 -[NSView displayIfNeeded] + 933 (in AppKit)
[0x965bde7b]
                                1 -[NSView
_displayRectIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:] + 3090 (in
AppKit) [0x9667d4ab]
                                  1 -[NSThemeFrame
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 306 (in AppKit) [0x96680987]
                                    1 -[NSView
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 1819 (in AppKit) [0x96681469]
                                      1 -[NSView _drawRect:clip:] + 3853 (in
AppKit) [0x96683bf8]
                                        1 -[NSThemeFrame drawRect:] + 111 (in
AppKit) [0x96684891]
                                          1 -[NSFrameView drawRect:] + 893 (in
AppKit) [0x96685397]
                                            1 -[NSFrameView
drawThemeContentFill:inView:] + 1569 (in AppKit) [0x965eecc9]
                                              1 -[NSThemeFrame
drawWindowBackgroundRegion:] + 151 (in AppKit) [0x965ef347]
                                                1 __NSDrawWindowBackgroundRegion
+ 281 (in AppKit) [0x965ef64a]
                                                  1 _CGContextFillPath + 25 (in
CoreGraphics) [0x91144484]
                                                    1 _CGContextDrawPath + 176
(in CoreGraphics) [0x91144537]
                                                      1 _ripc_DrawPath + 632 (in
libRIP.A.dylib) [0x90d1d244]
                                                        1 _ripc_Render + 386 (in
libRIP.A.dylib) [0x90d14213]
                                                          1 _ripl_BltShape + 438
(in libRIP.A.dylib) [0x90d2feee]
                                                            1 _ripd_Lock + 61
(in libRIP.A.dylib) [0x90d30d60]
                                                              1 _CGSDeviceLock +
450 (in CoreGraphics) [0x910f55bb]
                                                                1
__CGSLockWindow + 4752 (in CoreGraphics) [0x910e8b03]
                                                                  1
_mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
                      2 _CFRunLoopRunSpecific + 4469 (in CoreFoundation)
[0x942408f5]
                        2 ___NSFireTimer + 147 (in Foundation) [0x91e38483]
                          2 ??? [0xd034]
                            2 __CF_forwarding_prep_0 + 50 (in CoreFoundation)
[0x942bf8b2]
                              2 ____forwarding___ + 986 (in CoreFoundation)
[0x942bf84a]
                                2 -[NSDistantObject forwardInvocation:] + 329
(in Foundation) [0x91e39e29]
                                  1 -[NSConnection sendInvocation:internal:] +
3005 (in Foundation) [0x91e3acad]
                                    1 _CFRunLoopRunInMode + 88 (in
CoreFoundation) [0x94240aa8]
                                      1 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                  1 -[NSConnection sendInvocation:internal:] +
3562 (in Foundation) [0x91e3aeda]
                                    1 -[NSConcretePortCoder decodeReturnValue:]
+ 360 (in Foundation) [0x91e43948]
                                      1 __NSWalkData2 + 1724 (in Foundation)
[0x91e3bdac]
                                        1 -[NSConcretePortCoder
decodeRetainedObject] + 282 (in Foundation) [0x91e3f64a]
                                          1 -[NSDictionary(NSDictionary)
initWithCoder:] + 886 (in Foundation) [0x91e31156]
                                            1 __NSWalkData2 + 1724 (in
Foundation) [0x91e3bdac]
                                              1 -[NSConcretePortCoder
decodeRetainedObject] + 282 (in Foundation) [0x91e3f64a]
                                                1 -[NSArray(NSArray)
initWithCoder:] + 612 (in Foundation) [0x91e10b64]
                                                  1 __NSWalkData2 + 1724 (in
Foundation) [0x91e3bdac]
                                                    1 -[NSConcretePortCoder
decodeRetainedObject] + 282 (in Foundation) [0x91e3f64a]
                                                      1
-[NSDictionary(NSDictionary) initWithCoder:] + 851 (in Foundation) [0x91e31133]
                                                        1 ??? [0xa0a25d38]
        15 -[NSApplication run] + 867 (in AppKit) [0x965b3fe7]
          14 -[NSApplication sendEvent:] + 2939 (in AppKit) [0x966566a5]
            12 -[NSWindow sendEvent:] + 5381 (in AppKit) [0x96689af7]
              6 -[NSControl mouseDown:] + 888 (in AppKit) [0x9668b3b8]
                6 -[NSButtonCell trackMouse:inRect:ofView:untilMouseUp:] + 541
(in AppKit) [0x9668bafe]
                  6 -[NSCell trackMouse:inRect:ofView:untilMouseUp:] + 1827 (in
AppKit) [0x9668c2ab]
                    6 -[NSCell _sendActionFrom:] + 169 (in AppKit) [0x9668cc52]
                      6 -[NSControl sendAction:to:] + 108 (in AppKit)
[0x9668cdcc]
                        6 -[NSApplication sendAction:to:from:] + 112 (in AppKit)
[0x9668ce8f]
                          3 -[NSSavePanel(NSSavePanelRuntime) ok:] + 287 (in
AppKit) [0x96819039]
                            3 -[NSSavePanel(NSSavePanelRuntime) dismissWindow:]
+ 118 (in AppKit) [0x9681917d]
                              3 -[NSApplication endSheet:returnCode:] + 288 (in
AppKit) [0x966ceb9b]
                                3 -[NSSavePanel(NSSavePanelRuntime)
_didEndSheet:returnCode:contextInfo:] + 410 (in AppKit) [0x968c70fb]
                                  3 -[NSSavePanel orderOut:] + 99 (in AppKit)
[0x9681924d]
                                    3 -[NSWindow orderOut:] + 50 (in AppKit)
[0x9668d809]
                                      3 -[NSWindow orderWindow:relativeTo:] +
105 (in AppKit) [0x9667905c]
                                        3 -[NSWindow
_reallyDoOrderWindow:relativeTo:findKey:forCounter:force:isModal:] + 2081 (in
AppKit) [0x966798da]
                                          3 -[NSWindow(NSSheets)
_orderOutRelativeToWindow:] + 123 (in AppKit) [0x96820fcc]
                                            3 -[NSMoveHelper(NSSheets)
_closeSheet:andMoveParent:] + 457 (in AppKit) [0x96821209]
                                              2 -[NSMoveHelper _doAnimation] +
72 (in AppKit) [0x9681ed42]
                                                2 -[NSUIHeartBeat
disableHeartBeating] + 134 (in AppKit) [0x9681f240]
                                                  2 ___semwait_signal + 10 (in
libSystem.B.dylib) [0x945cc46e]
                                              1 -[NSMoveHelper _doAnimation] +
980 (in AppKit) [0x9681f0ce]
                                                1 _CFRunLoopRunInMode + 88 (in
CoreFoundation) [0x94240aa8]
                                                  1 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                          2 ??? [0x21284]
                            2 -[NSSavePanel(NSSavePanelRuntime)
beginSheetForDirectory:file:modalForWindow:modalDelegate:didEndSelector:contextInfo:]
+ 84 (in AppKit) [0x968bbcdc]
                              2 -[NSSavePanel(NSSavePanelRuntime)
beginSheetForDirectory:file:types:modalForWindow:modalDelegate:didEndSelector:contextInfo:]
+ 465 (in AppKit) [0x968bbeb3]
                                2 -[NSApplication
_commonBeginModalSessionForWindow:relativeToWindow:modalDelegate:didEndSelector:contextInfo:]
+ 1033 (in AppKit) [0x966bafd1]
                                  2 -[NSApplication
_orderFrontModalWindow:relativeToWindow:] + 785 (in AppKit) [0x966bb567]
                                    2 -[NSWindow
_reallyDoOrderWindow:relativeTo:findKey:forCounter:force:isModal:] + 1566 (in
AppKit) [0x966796d7]
                                      2 -[NSWindow(NSSheets)
_orderFrontRelativeToWindow:] + 206 (in AppKit) [0x9681d47c]
                                        2 -[NSMoveHelper(NSSheets)
_moveParent:andOpenSheet:] + 1764 (in AppKit) [0x9681db8d]
                                          2 -[NSMoveHelper _doAnimation] + 980
(in AppKit) [0x9681f0ce]
                                            2 _CFRunLoopRunInMode + 88 (in
CoreFoundation) [0x94240aa8]
                                              2 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                          1 ??? [0x211f6]
                            1 +[NSSavePanel _crunchyRawUnbonedPanel] + 215 (in
AppKit) [0x967d0083]
                              1 -[NSSavePanel
initWithContentRect:styleMask:backing:defer:] + 411 (in AppKit) [0x967d0252]
                                1 -[NSSavePanel(NSSavePanelLayout)
_initContentView] + 1642 (in AppKit) [0x967d0b71]
                                  1 +[NSNavView navView] + 158 (in AppKit)
[0x967d1715]
                                    1 -[NSNib
instantiateNibWithOwner:topLevelObjects:] + 277 (in AppKit) [0x966a0272]
                                      1 -[NSNib
instantiateNibWithExternalNameTable:] + 750 (in AppKit) [0x966a0597]
                                        1 __decodeObject + 229 (in Foundation)
[0x91e0e515]
                                          1 __decodeObjectBinary + 1520 (in
Foundation) [0x91e0eba0]
                                            1 -[NSIBObjectData initWithCoder:] +
2420 (in AppKit) [0x965829e6]
                                              1 __decodeObject + 67 (in
Foundation) [0x91e0e473]
                                                1 _NSPopAutoreleasePool + 431
(in Foundation) [0x91dff44f]
                                                  1 __CFRelease + 216 (in
CoreFoundation) [0x94242538]
                                                    1 ___CFArrayReleaseValues +
435 (in CoreFoundation) [0x941d14a3]
                                                      1 _CFRelease + 90 (in
CoreFoundation) [0x9424238a]
                                                        1
___CFDoExternRefOperation + 89 (in CoreFoundation) [0x942c16d9]
              4 -[NSToolbarItemViewer mouseDown:] + 5076 (in AppKit)
[0x967cf496]
                4 -[NSToolbarButton sendAction] + 88 (in AppKit) [0x967cff15]
                  4 -[NSToolbarButton sendAction:to:] + 100 (in AppKit)
[0x967cff84]
                    4 ??? [0x199e5]
                      4 +[NSBundle(NSNibLoading) loadNibNamed:owner:] + 391 (in
AppKit) [0x9658149d]
                        4 +[NSBundle(NSNibLoading)
loadNibFile:externalNameTable:withZone:] + 171 (in AppKit) [0x9658155f]
                          4 +[NSBundle(NSNibLoading)
_loadNibFile:nameTable:withZone:ownerBundle:] + 946 (in AppKit) [0x9658191c]
                            4 _loadNib + 264 (in AppKit) [0x96581fba]
                              3 -[NSIBObjectData
nibInstantiateWithOwner:topLevelObjects:] + 1613 (in AppKit) [0x9658bdde]
                                3 ??? [0x19d7e]
                                  3 ??? [0x1a299]
                                    3 -[NSApplication
_commonBeginModalSessionForWindow:relativeToWindow:modalDelegate:didEndSelector:contextInfo:]
+ 1033 (in AppKit) [0x966bafd1]
                                      3 -[NSApplication
_orderFrontModalWindow:relativeToWindow:] + 785 (in AppKit) [0x966bb567]
                                        3 -[NSWindow
_reallyDoOrderWindow:relativeTo:findKey:forCounter:force:isModal:] + 1566 (in
AppKit) [0x966796d7]
                                          3 -[NSWindow(NSSheets)
_orderFrontRelativeToWindow:] + 206 (in AppKit) [0x9681d47c]
                                            3 -[NSMoveHelper(NSSheets)
_moveParent:andOpenSheet:] + 1764 (in AppKit) [0x9681db8d]
                                              2 -[NSMoveHelper _doAnimation] +
980 (in AppKit) [0x9681f0ce]
                                                2 _CFRunLoopRunInMode + 88 (in
CoreFoundation) [0x94240aa8]
                                                  2 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                              1 -[NSMoveHelper _doAnimation] +
72 (in AppKit) [0x9681ed42]
                                                1 -[NSUIHeartBeat
disableHeartBeating] + 134 (in AppKit) [0x9681f240]
                                                  1 ___semwait_signal + 10 (in
libSystem.B.dylib) [0x945cc46e]
                              1 -[NSIBObjectData
nibInstantiateWithOwner:topLevelObjects:] + 982 (in AppKit) [0x9658bb67]
                                1 -[NSScrollView setDocumentView:] + 45 (in
AppKit) [0x965d2aab]
                                  1 -[NSClipView setDocumentView:] + 368 (in
AppKit) [0x965d2c6f]
                                    1 -[NSOutlineView removeFromSuperview] + 72
(in AppKit) [0x965d2e21]
                                      1 _objc_msgSend + 102 (in libobjc.A.dylib)
[0x902936d6]
                                        1 __class_getMethodNoSuper + 193 (in
libobjc.A.dylib) [0x9028d24d]
              1 -[NSToolbarItemViewer mouseDown:] + 4656 (in AppKit)
[0x967cf2f2]
                1 -[NSCell trackMouse:inRect:ofView:untilMouseUp:] + 1179 (in
AppKit) [0x9668c023]
                  1 -[NSWindow nextEventMatchingMask:] + 102 (in AppKit)
[0x9668c837]
                    1 -[NSApplication
nextEventMatchingMask:untilDate:inMode:dequeue:] + 128 (in AppKit) [0x965baf88]
                      1 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
                        1 _BlockUntilNextEventMatchingListInMode + 106 (in
HIToolbox) [0x90a36f39]
                          1 _ReceiveNextEventCommon + 374 (in HIToolbox)
[0x90a370c5]
                            1 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                              1 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                                1 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
              1 -[NSTextView mouseDown:] + 8300 (in AppKit) [0x9682ebf6]
                1 -[NSWindow nextEventMatchingMask:] + 102 (in AppKit)
[0x9668c837]
                  1 -[NSApplication
nextEventMatchingMask:untilDate:inMode:dequeue:] + 128 (in AppKit) [0x965baf88]
                    1 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
                      1 _BlockUntilNextEventMatchingListInMode + 106 (in
HIToolbox) [0x90a36f39]
                        1 _ReceiveNextEventCommon + 374 (in HIToolbox)
[0x90a370c5]
                          1 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                            1 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                              1 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
            2 -[NSWindow sendEvent:] + 8511 (in AppKit) [0x9668a731]
              2 -[NSView scrollWheel:] + 271 (in AppKit) [0x968356c2]
                2 _forwardMethod + 113 (in AppKit) [0x9671625f]
                  2 -[NSView scrollWheel:] + 271 (in AppKit) [0x968356c2]
                    2 _forwardMethod + 113 (in AppKit) [0x9671625f]
                      1 -[NSScrollView scrollWheel:] + 424 (in AppKit)
[0x96835883]
                        1 -[NSScrollView _doScroller:hitPart:multiplier:] + 989
(in AppKit) [0x967a04c2]
                          1 -[NSClipView _scrollTo:animate:] + 1095 (in AppKit)
[0x966a34de]
                            1 -[NSScrollView scrollClipView:toPoint:] + 364 (in
AppKit) [0x967760af]
                              1 -[NSClipView scrollToPoint:] + 248 (in AppKit)
[0x96708efe]
                                1 -[NSClipView _immediateScrollToPoint:] + 3985
(in AppKit) [0x96709f25]
                                  1 -[NSView displayIfNeeded] + 933 (in AppKit)
[0x965bde7b]
                                    1 -[NSView
_displayRectIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:] + 3090 (in
AppKit) [0x9667d4ab]
                                      1 -[NSView
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 4433 (in AppKit) [0x96681e9f]
                                        1 -[NSView
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 1819 (in AppKit) [0x96681469]
                                          1 -[NSTextView _drawRect:clip:] + 2579
(in AppKit) [0x966e88b7]
                                            1 -[NSTextView drawRect:] + 1435 (in
AppKit) [0x966e8faf]
                                              1
-[NSLayoutManager(NSTextViewSupport) drawGlyphsForGlyphRange:atPoint:] + 70 (in
AppKit) [0x966ec9bf]
                                                1 -[NSLayoutManager(NSPrivate)
_drawGlyphsForGlyphRange:atPoint:parameters:] + 9206 (in AppKit) [0x966eedbb]
                                                  1
-[NSLayoutManager(NSTextViewSupport)
showPackedGlyphs:length:glyphRange:atPoint:font:color:printingAdjustment:] + 518
(in AppKit) [0x966f0380]
                                                    1
_CGContextShowGlyphsWithAdvances + 660 (in CoreGraphics) [0x91111efb]
                                                      1 _draw_glyphs + 732 (in
CoreGraphics) [0x9138c6f5]
                                                        1 _ripc_DrawGlyphs +
2549 (in libRIP.A.dylib) [0x90d1c931]
                                                          1 _ripl_BltGlyph +
5880 (in libRIP.A.dylib) [0x90d2d026]
                                                            1 _OGL_pixel + 1080
(in libRIP.A.dylib) [0x90d44810]
                                                              1
_OGL_texture_mask + 382 (in libRIP.A.dylib) [0x90d400bd]
                                                                1
_OGL_vertex_end + 67 (in libRIP.A.dylib) [0x90d3764f]
                                                                  1
_gleDrawArraysOrElements_IMM_Exec + 1080 (in GLEngine) [0x17e866f8]
                                                                    1
_gleDrawArraysOrElements_ExecCore + 291 (in GLEngine) [0x17e857b3]
                                                                      1
_gleRenderPrimitiveTCLFunc + 134 (in GLEngine) [0x17efc9f6]
                                                                        1
__Z26GHALSendPrimitiveConvertedP13GLDContextRecj + 169 (in
AppleIntelGMAX3100GLDriver) [0x17fa11c9]
                                                                          1
_glrAppleSyncState + 136 (in AppleIntelGMAX3100GLDriver) [0x17fb1458]
                                                                            1
__ZN6GHAL3D26CGen4PrivateStateProcessor12BindPipelineEv + 9204 (in
AppleIntelGMAX3100GLDriver) [0x182134b4]
                                                                              1
__ZN6GHAL3D24CGen4StateProcessorCache24GetPipelineStatePointersEv + 1697 (in
AppleIntelGMAX3100GLDriver) [0x1828b5f1]
                                                                               
1 __ZN6GHAL3D24CGen4StateProcessorCache23GetClipperKernelProgramERj + 2919 (in
AppleIntelGMAX3100GLDriver) [0x18261337]
                      1 -[NSWindow enableCursorRects] + 166 (in AppKit)
[0x967a06a6]
                        1 _changeCursorRects + 383 (in AppKit) [0x9668e49b]
                          1 -[NSWindow(NSCarbonExtensions)
_setCursorRect:index:] + 86 (in AppKit) [0x96649b65]
                            1 __NXSetCursorRect + 200 (in AppKit) [0x96649c3e]
                              1 _CGSAddTrackingRect + 189 (in CoreGraphics)
[0x9118d637]
                                1 _CGSAddTrackingArea + 365 (in CoreGraphics)
[0x9118d7be]
                                  1 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
          1 -[NSApplication sendEvent:] + 5195 (in AppKit) [0x96656f75]
            1 -[NSWindow sendEvent:] + 8511 (in AppKit) [0x9668a731]
              1 -[NSWindow(NSWindow_Scale) _updateMouseMovedState] + 98 (in
AppKit) [0x966c36bf]
                1 __NSEnableMouseMovedEventsForWindow + 108 (in AppKit)
[0x966d0ec9]
                  1 __NSSetMouseFocusWindow + 54 (in AppKit) [0x966d0f0b]
                    1 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
        1 -[NSApplication run] + 930 (in AppKit) [0x965b4026]
          1 _NSPopAutoreleasePool + 431 (in Foundation) [0x91dff44f]
            1 -[NSControl dealloc] + 160 (in AppKit) [0x9668f909]
              1 -[NSView dealloc] + 79 (in AppKit) [0x965b1809]
                1 -[NSResponder dealloc] + 97 (in AppKit) [0x965b2e49]
                  1 -[NSClassicMapTable objectForKey:] + 1 (in Foundation)
[0x91e12dc1]
  Kernel stack:
    11 _PE_incoming_interrupt + 131 [0x44e416]
      11 _lapic_interrupt + 121 [0x1b16c0]
        11 _sync_iss_to_iks + 114 [0x1aa3ae]
    7 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      5 _mach_msg_overwrite_trap + 4820 [0x1274de]
        5 _ipc_mqueue_receive + 738 [0x121286]
          5 _thread_block + 33 [0x136f20]
            5 _thread_block_reason + 135 [0x136e7c]
              5 _thread_setrun + 3597 [0x136217]
                5 _machine_idle + 271 [0x1ac3ec]
      2 _mach_msg_overwrite_trap + 3808 [0x1270ea]
        2 _ipc_mqueue_receive + 750 [0x121292]
          2 _thread_block + 33 [0x136f20]
            2 _thread_continue + 1180 [0x136cb3]
    1 _lo_alltraps + 282 [0x1a162a]
    1 _user_trap + 659 [0x1ab39c]
      1 _vm_fault + 1707 [0x163170]
        1 _pmap_enter + 82 [0x197ae0]
    1 _unix_syscall + 572 [0x3e3a7f]
      1 _close_nocancel + 115 [0x36d1d5]
        1 _fdrelse + 336 [0x36d119]
          1 _closef_locked + 347 [0x36cd1e]
            1 _vn_lock + 174 [0x1ee72b]
              1 _vnode_put + 31 [0x1dda2a]
                1 _vnode_put_locked + 106 [0x1dd9ba]
                  1 _VNOP_INACTIVE + 98 [0x1f7f59]
                    1 _CompareExtendedCatalogKeys + 26332 [0x32401c]
                      1 _GetLogicalBlockSize + 23821 [0x343b61]
                        1 _MacToVFSError + 673 [0x33d979]
                          1 _CompareExtendedCatalogKeys + 21869 [0x322ead]
                            1 _lck_rw_lock_exclusive + 509 [0x1a0ecf]
                              1 _thread_block + 33 [0x136f20]
                                1 _thread_continue + 1180 [0x136cb3]
    1 _i386_astintr + 47 [0x1aa272]
      1 _ast_taken + 185 [0x129434]
        1 _thread_continue + 1180 [0x136cb3]

  Thread id:      107bec80
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      cb69a78
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      103dd6b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _glvmDoWork + 162 (in libGLProgrammability.dylib) [0x95c51b32]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      e53d8b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _fe_fragment_thread + 54 (in QuartzCore) [0x948c7a09]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      e6a9c80
  User stack:
    440 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      440 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        440 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          440 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            396 -[NSUIHeartBeat _heartBeatThread:] + 753 (in AppKit)
[0x966216e8]
              396 -[NSConditionLock lockWhenCondition:] + 69 (in Foundation)
[0x91e49b35]
                396 -[NSConditionLock lockWhenCondition:beforeDate:] + 144 (in
Foundation) [0x91e49bd0]
                  396 -[NSCondition waitUntilDate:] + 236 (in Foundation)
[0x91e49dbc]
                    396 _semaphore_timedwait_signal_trap + 10 (in
libSystem.B.dylib) [0x945c52e6]
            36 -[NSUIHeartBeat _heartBeatThread:] + 2042 (in AppKit)
[0x96621bf1]
              36 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
            6 -[NSUIHeartBeat _heartBeatThread:] + 1011 (in AppKit)
[0x966217ea]
              6 -[NSWindow(NSWindow_Theme) heartBeat:] + 293 (in AppKit)
[0x9676eca8]
                4 -[NSButtonCell(NSDefaultButtonIndicatorPrivate) heartBeat:] +
2179 (in AppKit) [0x9676f57c]
                  3 -[NSView _lightWeightRecursiveDisplayInRect:] + 577 (in
AppKit) [0x9676fa25]
                    3 -[NSView _drawRect:clip:] + 3853 (in AppKit) [0x96683bf8]
                      3 -[NSThemeFrame drawRect:] + 111 (in AppKit)
[0x96684891]
                        3 -[NSFrameView drawRect:] + 893 (in AppKit)
[0x96685397]
                          3 -[NSFrameView drawThemeContentFill:inView:] + 1927
(in AppKit) [0x965eee2f]
                            3 -[NSThemeFrame drawWindowBackgroundRect:] + 172
(in AppKit) [0x9664ef6d]
                              3 -[NSFrameView drawWindowBackgroundRect:] + 38
(in AppKit) [0x9664f15c]
                                3 _NSDrawWindowBackground + 292 (in AppKit)
[0x9664f282]
                                  3 _NSRectFillUsingOperation + 260 (in AppKit)
[0x965f13b8]
                                    3 _CGContextFillRect + 32 (in CoreGraphics)
[0x911472ae]
                                      3 _CGContextFillRects + 162 (in
CoreGraphics) [0x910f257e]
                                        3 _ripc_DrawRects + 689 (in
libRIP.A.dylib) [0x90d1d6bd]
                                          3 _ripc_Render + 386 (in
libRIP.A.dylib) [0x90d14213]
                                            3 _ripl_BltShape + 438 (in
libRIP.A.dylib) [0x90d2feee]
                                              3 _ripd_Lock + 61 (in
libRIP.A.dylib) [0x90d30d60]
                                                3 _CGSDeviceLock + 988 (in
CoreGraphics) [0x910f57d5]
                                                  3 __CGSLockWindowAccelerator +
831 (in CoreGraphics) [0x911d33d3]
                                                    3 _cglsMutexSynchronize +
107 (in CoreGraphics) [0x911d38f3]
                                                      2 _OGL_context_callback +
330 (in libRIP.A.dylib) [0x90d3ea51]
                                                        2 _OGL_texture_purge +
212 (in libRIP.A.dylib) [0x90d3e8a1]
                                                          2
_glDeleteTextures_Exec + 406 (in GLEngine) [0x17df8556]
                                                            2
_gleDeleteHashNamesAndObjects + 275 (in GLEngine) [0x17df8853]
                                                              2
_gleFreeTextureObject + 38 (in GLEngine) [0x17df7f96]
                                                                2
_gleDeletePluginTexture + 81 (in GLEngine) [0x17df8101]
                                                                  2
_gldDeleteTexture + 30 (in AppleIntelGMAX3100GLDriver) [0x17f90fbe]
                                                                    2
_gldReclaimTexture + 485 (in AppleIntelGMAX3100GLDriver) [0x17f90f95]
                                                                      2
_IOConnectCallMethod + 300 (in IOKit) [0x958133c6]
                                                                        2
_mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
                                                      1 _OGL_context_callback +
268 (in libRIP.A.dylib) [0x90d3ea13]
                                                        1 _gldFlush + 52 (in
AppleIntelGMAX3100GLDriver) [0x17fa3a34]
                                                          1
_i965SubmitPacketsToken + 73 (in AppleIntelGMAX3100GLDriver) [0x17fe8489]
                                                            1
__ZN6GHAL3D24CPrivateCommandTransport18FlushCommandBufferENS_10FLUSH_TYPEE + 307
(in AppleIntelGMAX3100GLDriver) [0x17fec5e3]
                                                              1
__ZN13GhalInterface16getCommandBufferEPPhS1_PjS2_ + 114 (in
AppleIntelGMAX3100GLDriver) [0x17f9ef12]
                                                                1 _mach_msg_trap
+ 10 (in libSystem.B.dylib) [0x945c5286]
                  1 -[NSView _lightWeightRecursiveDisplayInRect:] + 644 (in
AppKit) [0x9676fa68]
                    1 _CFArrayApplyFunction + 198 (in CoreFoundation)
[0x941cf676]
                      1 __lightWeightRecursiveDisplayInRect2 + 335 (in AppKit)
[0x9676fbec]
                        1 -[NSView _lightWeightRecursiveDisplayInRect:] + 644
(in AppKit) [0x9676fa68]
                          1 _CFArrayApplyFunction + 198 (in CoreFoundation)
[0x941cf676]
                            1 __lightWeightRecursiveDisplayInRect2 + 335 (in
AppKit) [0x9676fbec]
                              1 -[NSView _lightWeightRecursiveDisplayInRect:] +
644 (in AppKit) [0x9676fa68]
                                1 _CFArrayApplyFunction + 198 (in
CoreFoundation) [0x941cf676]
                                  1 __lightWeightRecursiveDisplayInRect2 + 335
(in AppKit) [0x9676fbec]
                                    1 -[NSView
_lightWeightRecursiveDisplayInRect:] + 577 (in AppKit) [0x9676fa25]
                                      1 -[NSView _drawRect:clip:] + 3853 (in
AppKit) [0x96683bf8]
                                        1 -[NSControl drawRect:] + 378 (in
AppKit) [0x965efe6f]
                                          1 -[NSButtonCell
drawInteriorWithFrame:inView:] + 440 (in AppKit) [0x966069bf]
                                            1 _CGContextConvertRectToDeviceSpace
+ 155 (in CoreGraphics) [0x9118a03c]
                                              1 _CGWindowContextGetTransform +
16 (in CoreGraphics) [0x9118a35a]
                2 -[NSButtonCell(NSDefaultButtonIndicatorPrivate) heartBeat:] +
2231 (in AppKit) [0x9676f5b0]
                  2 -[NSUIHeartBeat unlockFocusInRect:] + 443 (in AppKit)
[0x96744ce3]
                    2 __NSRenderImageFromWindow + 1798 (in AppKit) [0x96776c1b]
                      2 _CGContextCopyWindowContentsToRect + 107 (in
CoreGraphics) [0x911bf4f2]
                        2 _contextCopyWindowContentsToRect + 182 (in
CoreGraphics) [0x911bf5aa]
                          2 _ripc_DrawWindowContents + 5467 (in libRIP.A.dylib)
[0x90d22249]
                            2 _ripc_RenderImage + 273 (in libRIP.A.dylib)
[0x90d14549]
                              1 _ripl_BltImage + 1307 (in libRIP.A.dylib)
[0x90d2a977]
                                1 _ripd_Mark + 326 (in libRIP.A.dylib)
[0x90d306f9]
                                  1 _OGL_image + 2712 (in libRIP.A.dylib)
[0x90d43790]
                                    1 _OGL_texture_image + 1581 (in
libRIP.A.dylib) [0x90d417f8]
                                      1 _img_device_access + 152 (in
CoreGraphics) [0x911bfd4f]
                                        1 __CGSAccessWindow + 446 (in
CoreGraphics) [0x9117e9b7]
                                          1 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                              1 _ripl_BltImage + 329 (in libRIP.A.dylib)
[0x90d2a5a5]
                                1 _ripd_Lock + 61 (in libRIP.A.dylib)
[0x90d30d60]
                                  1 _CGSDeviceLock + 988 (in CoreGraphics)
[0x910f57d5]
                                    1 __CGSLockWindowAccelerator + 831 (in
CoreGraphics) [0x911d33d3]
                                      1 _cglsMutexSynchronize + 107 (in
CoreGraphics) [0x911d38f3]
                                        1 _OGL_context_callback + 268 (in
libRIP.A.dylib) [0x90d3ea13]
                                          1 _gldFlush + 52 (in
AppleIntelGMAX3100GLDriver) [0x17fa3a34]
                                            1 _i965SubmitPacketsToken + 73 (in
AppleIntelGMAX3100GLDriver) [0x17fe8489]
                                              1
__ZN6GHAL3D24CPrivateCommandTransport18FlushCommandBufferENS_10FLUSH_TYPEE + 307
(in AppleIntelGMAX3100GLDriver) [0x17fec5e3]
                                                1
__ZN13GhalInterface16getCommandBufferEPPhS1_PjS2_ + 114 (in
AppleIntelGMAX3100GLDriver) [0x17f9ef12]
                                                  1 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
            2 -[NSUIHeartBeat _heartBeatThread:] + 1876 (in AppKit)
[0x96621b4b]
              2 -[NSSet makeObjectsPerformSelector:] + 181 (in CoreFoundation)
[0x942c87f5]
                2 -[NSWindow flushWindow] + 302 (in AppKit) [0x9661c115]
                  2 _CGContextFlush + 115 (in CoreGraphics) [0x91179457]
                    2 _ripc_Operation + 754 (in libRIP.A.dylib) [0x90d14d2a]
                      2 _CGSDeviceSynchronize + 657 (in CoreGraphics)
[0x91122a76]
                        2 __CGSFlushWindowAccelerator + 41 (in CoreGraphics)
[0x911d3dcc]
                          2 _cglsMutexFlush + 107 (in CoreGraphics)
[0x911d3e3b]
                            2 _OGL_context_callback + 130 (in libRIP.A.dylib)
[0x90d3e989]
                              2 _gldFlush + 52 (in AppleIntelGMAX3100GLDriver)
[0x17fa3a34]
                                2 _i965SubmitPacketsToken + 73 (in
AppleIntelGMAX3100GLDriver) [0x17fe8489]
                                  2
__ZN6GHAL3D24CPrivateCommandTransport18FlushCommandBufferENS_10FLUSH_TYPEE + 307
(in AppleIntelGMAX3100GLDriver) [0x17fec5e3]
                                    2
__ZN13GhalInterface16getCommandBufferEPPhS1_PjS2_ + 114 (in
AppleIntelGMAX3100GLDriver) [0x17f9ef12]
                                      2 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    6 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      6 _mach_msg_overwrite_trap + 752 [0x1264fa]
        6 _ipc_kobject_server + 247 [0x12d4d6]
          4 _iokit_server_routine + 3800 [0x18ac09]
            4 _is_io_connect_map_memory + 84 [0x44445c]
              4 _is_io_connect_map_memory_into_task + 87 [0x444345]
                3 __ZN12IOUserClient17mapClientMemory64EmP4taskmy + 72
[0x43faec]
                  3 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 39369
[0x68f9c9]
                    3 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 163694
[0x6adf6e]
                      3 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 182348
[0x6b284c]
                        3 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 180574
[0x6b215e]
                          3 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 168973
[0x6af40d]
                            3 com.apple.driver.AppleIntelGMAX3100 (5.4.8) +
166778 [0x6aeb7a]
                              3 com.apple.driver.AppleIntelGMAX3100 (5.4.8) +
166392 [0x6ae9f8]
                                3 com.apple.driver.AppleIntelGMAX3100 (5.4.8) +
34743 [0x68e7b7]
                                  3 com.apple.driver.AppleIntelGMAX3100 (5.4.8)
+ 106285 [0x69ff2d]
                                    3 com.apple.driver.AppleIntelGMAX3100
(5.4.8) + 127560 [0x6a5248]
                                      3 com.apple.driver.AppleIntelGMAX3100
(5.4.8) + 126341 [0x6a4d85]
                                        3 _thread_block + 33 [0x136f20]
                                          2 _thread_continue + 1180 [0x136cb3]
                                          1 _thread_block_reason + 135
[0x136e7c]
                                            1 _thread_setrun + 3597 [0x136217]
                                              1 _machine_idle + 271 [0x1ac3ec]
                1 __ZN12IOUserClient17mapClientMemory64EmP4taskmy + 175
[0x43fb53]
                  1 __ZN18IOMemoryDescriptor11makeMappingEPS_P4taskjmmm + 396
[0x433e92]
                    1
__ZN20OSCollectionIterator14withCollectionEPK12OSCollection + 19 [0x3f3135]
                      1 __ZN8OSObjectnwEm + 53 [0x3f1689]
                        1 _kalloc + 25 [0x12fde1]
                          1 _kalloc_canblock + 178 [0x12fdc2]
                            1 _lck_mtx_lock + 72 [0x19d7e8]
          2 _iokit_server_routine + 20111 [0x18ebc0]
            2 _is_io_connect_method + 468 [0x4416d4]
              2 __ZN12IOUserClient14externalMethodEjP25IOExternalMethodArgumentsP24IOExternalMethodDispatchP8OSObjectPv
+ 747 [0x443ad1]
                2 _shim_io_connect_method_scalarI_scalarO + 477 [0x441c6b]
                  2 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 47932
[0x691b3c]
                    2 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 100952
[0x69ea58]
                      2 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 106386
[0x69ff92]
                        2 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 126840
[0x6a4f78]
                          1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 126341
[0x6a4d85]
                            1 _thread_block + 33 [0x136f20]
                              1 _thread_continue + 1180 [0x136cb3]
                          1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 126329
[0x6a4d79]
                            1 _ml_set_interrupts_enabled + 47 [0x1a4389]
    1 _PE_incoming_interrupt + 131 [0x44e416]
      1 _lapic_interrupt + 121 [0x1b16c0]
        1 _sync_iss_to_iks + 114 [0x1aa3ae]

  Thread id:      10051410
  User stack:
    49 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      49 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      ee998b8
  User stack:
    37 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      37 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        37 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    37 _unix_syscall + 572 [0x3e3a7f]
      37 _read_nocancel + 150 [0x39188d]
        37 _nosys + 593 [0x39164d]
          37 _fill_pipeinfo + 870 [0x395dbc]
            37 _msleep + 157 [0x3863e8]
              37 _uiomove + 653 [0x386037]
                37 _lck_mtx_sleep + 87 [0x130d90]
                  37 _thread_block + 33 [0x136f20]
                    37 _thread_continue + 1180 [0x136cb3]

  Thread id:      10c6d7d8
  User stack:
    93 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      93 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        93 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          93 __ZN23TSystemNotificationTask26SystemNotificationTaskProcEPv + 123
(in DesktopServicesPriv) [0x917a3e17]
            93 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
              88 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
              4 _CFRunLoopRunSpecific + 4469 (in CoreFoundation) [0x942408f5]
                3 __ZN16ConnectedBrowser11createNodesEh + 83 (in OSServices)
[0x93621fc1]
                  3 __ZN16ConnectedBrowser13copyConnectedEv + 365 (in
OSServices) [0x93621aa9]
                    3 _FSCopyURLForVolume + 101 (in CarbonCore) [0x954ec3ed]
                      2 ??? [0x178ca59f]
                        2 ??? [0x178c9dc1]
                          2 ??? [0x178c9d0a]
                            2 ??? [0x178c97ac]
                              2 _CFPlugInCreate + 39 (in CoreFoundation)
[0x94232077]
                                1 __CFBundleCreate + 287 (in CoreFoundation)
[0x941e61df]
                                  1 __CFBundleURLLooksLikeBundleVersion + 57 (in
CoreFoundation) [0x941f5989]
                                    1 __CFBundleCopyDirectoryContentsAtPath +
1264 (in CoreFoundation) [0x941f1010]
                                      1 _getdirentries + 10 (in
libSystem.B.dylib) [0x945e8e5a]
                                1 __CFBundleCreate + 637 (in CoreFoundation)
[0x941e633d]
                                  1 _CFBundleGetInfoDictionary + 85 (in
CoreFoundation) [0x941e1ec5]
                                    1
__CFBundleCopyInfoDictionaryInDirectoryWithVersion + 1271 (in CoreFoundation)
[0x941f1cc7]
                                      1 ___read + 10 (in libSystem.B.dylib)
[0x945e8f9a]
                      1 _GetCompleteMountURL + 93 (in CarbonCore) [0x954ec4cb]
                        1 _GetDYLDEntryPointWithImage + 35 (in CarbonCore)
[0x954b4147]
                          1 _dlopen + 66 (in libSystem.B.dylib) [0x945ce2c2]
                            1 ??? [0x8fe0baff]
                              1 ??? [0x8fe06bd2]
                                1 ??? [0x8fe06a73]
                                  1 ??? [0x8fe069ac]
                                    1 ??? [0x8fe06445]
                                      1 ??? [0x8fe1b8ce]
                1 __ZN11NodeBrowser11timerActionEv + 115 (in OSServices)
[0x9359415b]
                  1 __ZN11NodeBrowser11loadBonjourEv + 409 (in OSServices)
[0x93594395]
                    1 __ZN13ServerBrowser19startBrowsingDomainEPK10__CFStringh +
368 (in OSServices) [0x935946a8]
                      1 __ZN14BonjourBrowser5startEv + 472 (in OSServices)
[0x93594984]
                        1 __ZN14BonjourBrowser9getDomainEv + 36 (in OSServices)
[0x93595560]
                          1 __CSBackToMyMacIsEnabled + 64 (in OSServices)
[0x936241da]
                            1 _sharedSecretExistsForDomain + 90 (in OSServices)
[0x9362348e]
                              1 __SCSecKeychainPasswordItemExists + 71 (in
SystemConfiguration) [0x96e79197]
                                1 _findKeychainItem + 94 (in
SystemConfiguration) [0x96e79041]
                                  1 _SecKeychainSearchCopyNext + 116 (in
Security) [0x959358d8]
                                    1
__ZN8Security12KeychainCore12KCCursorImpl4nextERNS0_4ItemE + 329 (in Security)
[0x95913853]
                                      1
__ZN8Security10CssmClient14SSDbCursorImpl4nextEPNS0_12DbAttributesEPNS_17CssmDataContainerERNS0_14DbUniqueRecordE
+ 46 (in Security) [0x959eaaca]
                                        1
__ZN8Security10CssmClient14SSDbCursorImpl4nextEPNS0_12DbAttributesEPNS_17CssmDataContainerERNS0_14DbUniqueRecordEPK23cssm_access_credentials
+ 51 (in Security) [0x959ea817]
                                          1
__ZN8Security10CssmClient14DbDbCursorImpl4nextEPNS0_12DbAttributesEPNS_17CssmDataContainerERNS0_14DbUniqueRecordE
+ 194 (in Security) [0x959e7160]
                                            1
__ZN8Security10CssmClient6DbImpl4openEv + 189 (in Security) [0x959e658b]
                                              1 _CSSM_DL_DbOpen + 86 (in
Security) [0x95963ec0]
                                                1
__Z11cssm_DbOpenlPKcPK16cssm_net_addressjPK23cssm_access_credentialsPKvPl + 90
(in Security) [0x959e0778]
                                                  1
__ZN11SSDLSession6DbOpenEPKcPK16cssm_net_addressjPKN8Security17AccessCredentialsEPKvRl
+ 202 (in Security) [0x95990482]
                                                    1
__ZN14SSDatabaseImpl4openERKN8Security14DLDbIdentifierE + 42 (in Security)
[0x9598e066]
                                                      1
__ZN8Security10CssmClient6DbImpl4openEv + 189 (in Security) [0x959e658b]
                                                        1 _CSSM_DL_DbOpen + 86
(in Security) [0x95963ec0]
                                                          1
__Z11cssm_DbOpenlPKcPK16cssm_net_addressjPK23cssm_access_credentialsPKvPl + 90
(in Security) [0x959e0778]
                                                            1
__ZN8Security15DatabaseSession6DbOpenEPKcPK16cssm_net_addressjPKNS_17AccessCredentialsEPKvRl
+ 96 (in Security) [0x959d8ea4]
                                                              1
__ZN8Security15DatabaseManager6dbOpenERNS_15DatabaseSessionERKNS_6DbNameEjPKNS_17AccessCredentialsEPKv
+ 64 (in Security) [0x959d72ba]
                                                                1
__ZN8Security8Database7_dbOpenERNS_15DatabaseSessionEjPKNS_17AccessCredentialsEPKv
+ 206 (in Security) [0x959d7a8e]
                                                                  1
__ZN8Security10DbModifier12openDatabaseEv + 40 (in Security) [0x959c5146]
                                                                    1
__ZN8Security10DbModifier12getDbVersionEb + 429 (in Security) [0x959c3ff9]
                                                                      1
__ZN8Security9DbVersionC2ERKNS_13AppleDatabaseERKNS_10RefPointerINS_18AtomicBufferedFileEEE
+ 167 (in Security) [0x959c1fdf]
                                                                        1
__ZN8Security9DbVersion4openEv + 1701 (in Security) [0x959c1c41]
                                                                          1
__ZNK8Security10MetaRecord12unpackRecordERKNS_11ReadSectionERNS_9AllocatorEP29cssm_db_record_attribute_dataPNS_8CssmDataEj
+ 231 (in Security) [0x959cfe8b]
                                                                            1
__ZNK8Security10MetaRecord15unpackAttributeERKNS_11ReadSectionERNS_9AllocatorER22cssm_db_attribute_data
+ 67 (in Security) [0x959d1c0d]
                                                                              1
__ZNK8Security13MetaAttribute15unpackAttributeERKNS_11ReadSectionERNS_9AllocatorERjRP9cssm_data
+ 71 (in Security) [0x959cd911]
                                                                               
1 __ZN8Security17TrackingAllocator6mallocEm + 28 (in Security) [0x95a0cdd8]
                                                                                
 1 __ZN8Security17TrackingAllocator6mallocEm + 49 (in Security) [0x95a0cded]
                                                                                
   1 __ZNSt8_Rb_treeIPvS0_St9_IdentityIS0_ESt4lessIS0_ESaIS0_EE13insert_uniqueERKS0_
+ 132 (in Security) [0x958dba74]
              1 _CFRunLoopRunSpecific + 3215 (in CoreFoundation) [0x9424040f]
                1 __ZN10TNodeEvent19HandleInternalEventEP16OpaqueEventQueue + 39
(in DesktopServicesPriv) [0x917bc4cb]
                  1 _semaphore_wait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52ce]
  Kernel stack:
    3 _unix_syscall + 572 [0x3e3a7f]
      1 _stat + 72 [0x1e65cb]
        1 _munge_stat + 1388 [0x1e6532]
          1 _munge_stat + 325 [0x1e610b]
            1 _namei + 1237 [0x1d745e]
              1 _lookup + 661 [0x1d66c7]
                1 _VNOP_LOOKUP + 110 [0x1f4da4]
                  1 _hfs_swap_BTNode + 25071 [0x32b714]
                    1 _CompareExtendedCatalogKeys + 16689 [0x321a71]
                      1 _CompareExtendedCatalogKeys + 9556 [0x31fe94]
                        1 _BTSearchRecord + 151 [0x34e375]
                          1 _GetNode + 66 [0x34fcc6]
                            1 _ufs_readdir + 7309 [0x31b1c1]
                              1 _buf_biowait + 90 [0x1c96e3]
                                1 _msleep + 157 [0x3863e8]
                                  1 _uiomove + 653 [0x386037]
                                    1 _lck_mtx_sleep + 87 [0x130d90]
                                      1 _thread_block + 33 [0x136f20]
                                        1 _thread_continue + 1180 [0x136cb3]
      1 _getdirentries + 78 [0x1e9d73]
        1 _rmdir + 2169 [0x1e9be1]
          1 _VNOP_READDIR + 122 [0x1f5eb9]
            1 _GetLogicalBlockSize + 21689 [0x34330d]
              1 _CompareExtendedCatalogKeys + 7699 [0x31f753]
                1 _BTSearchRecord + 296 [0x34e406]
                  1 _SearchTree + 128 [0x350b27]
                    1 _GetNode + 66 [0x34fcc6]
                      1 _ufs_readdir + 7309 [0x31b1c1]
                        1 _buf_biowait + 90 [0x1c96e3]
                          1 _msleep + 157 [0x3863e8]
                            1 _uiomove + 653 [0x386037]
                              1 _lck_mtx_sleep + 87 [0x130d90]
                                1 _thread_block + 33 [0x136f20]
                                  1 _thread_continue + 1180 [0x136cb3]
      1 _read_nocancel + 150 [0x39188d]
        1 _nosys + 593 [0x39164d]
          1 _vn_rdwr + 353 [0x1ede33]
            1 _VNOP_READ + 168 [0x1f8492]
              1 _hfs_vnop_read + 308 [0x32cad0]
                1 _cluster_read + 61 [0x1d3648]
                  1 _cluster_read_ext + 266 [0x1d2920]
                    1 _cluster_pageout + 2945 [0x1d1527]
                      1 _msleep + 157 [0x3863e8]
                        1 _uiomove + 653 [0x386037]
                          1 _lck_mtx_sleep + 87 [0x130d90]
                            1 _thread_block + 33 [0x136f20]
                              1 _thread_continue + 1180 [0x136cb3]
    1 _PE_incoming_interrupt + 131 [0x44e416]
      1 _lapic_interrupt + 121 [0x1b16c0]
        1 _sync_iss_to_iks + 114 [0x1aa3ae]

  Thread id:      10c69b58
  User stack:
    93 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      93 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        93 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          93 __ZN25TFSEventsNotificationTask28FSEventsNotificationTaskProcEPv +
216 (in DesktopServicesPriv) [0x917a3f90]
            93 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
              93 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      e6a9128
  User stack:
    93 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      93 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        93 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          78 __ZN13TNodeSyncTask12SyncTaskProcEPv + 84 (in DesktopServicesPriv)
[0x917aef72]
            78 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              78 _TSWaitOnConditionTimedRelative + 202 (in CarbonCore)
[0x954bfd6a]
                78 _TSWaitOnCondition + 126 (in CarbonCore) [0x954e0e83]
                  78 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
          15 __ZN13TNodeSyncTask12SyncTaskProcEPv + 160 (in DesktopServicesPriv)
[0x917aefbe]
            10 __ZN13TNodeSyncTask19HandleInternalEventERK11TCountedPtrI10TNodeEventE
+ 287 (in DesktopServicesPriv) [0x917af66b]
              10 __ZN13TNodeSyncTask18HandleInternalSyncERK11TCountedPtrI10TNodeEventERK8TNodePtr
+ 218 (in DesktopServicesPriv) [0x917c400e]
                10 __ZN5TNode10HandleSyncEbbbb + 482 (in DesktopServicesPriv)
[0x917bd394]
                  10 __ZN5TNode17ReconcileChildrenEbb + 99 (in
DesktopServicesPriv) [0x917c07bb]
                    10 __ZN5TNode19SynchronizeChildrenEb + 80 (in
DesktopServicesPriv) [0x917c10fe]
                      10 __ZN20THFSPlusSynchronizerC2ERK11THFSPlusRef + 190 (in
DesktopServicesPriv) [0x9180b3b2]
                        10 __ZN16THFSPlusIterator4NextER11THFSPlusRef + 54 (in
DesktopServicesPriv) [0x917c13d0]
                          10 __ZN16THFSPlusIterator10NextSingleER11THFSPlusRef +
180 (in DesktopServicesPriv) [0x9181033e]
                            10
__ZN11THFSPlusRef3SetERK5FSRefPK12HFSUniStr255smbmP13FSCatalogInfo + 1542 (in
DesktopServicesPriv) [0x917a57ee]
                              10
__ZN11THFSPlusRef14SetDisplayNameEmR13FSCatalogInfo + 61 (in
DesktopServicesPriv) [0x917a62e7]
                                10
__ZNK11THFSPlusRef22GetDistinctDisplayNameEmP13FSCatalogInfoR12HFSUniStr255 +
177 (in DesktopServicesPriv) [0x917a63e1]
                                  10
__Z33LockLSCopyItemAttributeForRefInfoPK19LSExtendedFSRefInfomPK10__CFStringPPKv
+ 69 (in DesktopServicesPriv) [0x917a64cd]
                                    10 __LSCopyItemAttributeForRefInfo + 46 (in
LaunchServices) [0x9374b182]
                                      10
__LSCopyItemAttributeForRefInfoWithOptions + 283 (in LaunchServices)
[0x93749b57]
                                        10 __LSCopyNodeAttribute + 123 (in
LaunchServices) [0x93749bfd]
                                          10
__Z53_LSCopyNodeAttribute_DisplayNameIfDifferentFromFSNameP25LSNodeAttributeStateCache
+ 84 (in LaunchServices) [0x9374aa0c]
                                            8 __LSBundleCopyLocalizedName + 196
(in LaunchServices) [0x9374cf84]
                                              5
__LSCopyBundleStringsForPreferredLocale + 114 (in LaunchServices) [0x9374be35]
                                                3 __LSCopyBundleStringsForLocale
+ 115 (in LaunchServices) [0x9374bebb]
                                                  3 ___read + 10 (in
libSystem.B.dylib) [0x945e8f9a]
                                                2 __LSCopyBundleStringsForLocale
+ 54 (in LaunchServices) [0x9374be7e]
                                                  2
_CFBundleCopyResourceURLForLocalization + 201 (in CoreFoundation) [0x941f33a9]
                                                    2 __CFFindBundleResources +
660 (in CoreFoundation) [0x941f2fb4]
                                                      2
__CFFindBundleResourcesInResourcesDir + 677 (in CoreFoundation) [0x941f2bb5]
                                                        2
__CFFindBundleResourcesInRawDir + 1088 (in CoreFoundation) [0x941f2740]
                                                          2
__CFSearchBundleDirectory + 95 (in CoreFoundation) [0x941f1e9f]
                                                            2
__CFBundleCopyDirectoryContentsAtPath + 1264 (in CoreFoundation) [0x941f1010]
                                                              2 _getdirentries +
10 (in libSystem.B.dylib) [0x945e8e5a]
                                              3
__LSCopyBundleStringsForPreferredLocale + 19 (in LaunchServices) [0x9374bdd6]
                                                3
_CFBundleCopyBundleLocalizations + 182 (in CoreFoundation) [0x941f1316]
                                                  3
__CFBundleCopyDirectoryContentsAtPath + 1264 (in CoreFoundation) [0x941f1010]
                                                    3 _getdirentries + 10 (in
libSystem.B.dylib) [0x945e8e5a]
                                            2 __LSBundleCopyLocalizedName + 167
(in LaunchServices) [0x9374cf67]
                                              2 _FSNodeCopyBundle + 68 (in
LaunchServices) [0x9374ce96]
                                                2 __CFBundleCreate + 637 (in
CoreFoundation) [0x941e633d]
                                                  2 _CFBundleGetInfoDictionary +
85 (in CoreFoundation) [0x941e1ec5]
                                                    2
__CFBundleCopyInfoDictionaryInDirectoryWithVersion + 1271 (in CoreFoundation)
[0x941f1cc7]
                                                      2 ___read + 10 (in
libSystem.B.dylib) [0x945e8f9a]
            4 __ZN13TNodeSyncTask19HandleInternalEventERK11TCountedPtrI10TNodeEventE
+ 503 (in DesktopServicesPriv) [0x917af743]
              4 __ZN15TMountPointList22SynchronizeMountPointsEv + 421 (in
DesktopServicesPriv) [0x917ba58d]
                3 __ZN15TMountPointList9AddVolumeEsb + 674 (in
DesktopServicesPriv) [0x918064b8]
                  3 __ZNK21THFSPlusPropertyStore13GetPropertiesEb + 55 (in
DesktopServicesPriv) [0x917a8b5b]
                    3 __ZNK21THFSPlusPropertyStore4OpenEbb + 255 (in
DesktopServicesPriv) [0x917a8c7b]
                      3
__ZN13TPropertyInfo18CreatePropertyListEPK5FSRefR11UTCDateTimebbP17TPropertyInfoList
+ 330 (in DesktopServicesPriv) [0x917a8f7c]
                        3 _FSOpenFork + 41 (in CarbonCore) [0x954a837b]
                          3 _PBOpenForkSync + 597 (in CarbonCore) [0x954a85dd]
                            3
__ZN10POSIXMount8openforkEmmPKcS1_mhhP14FSOpenForkInfotP8_filesecmPsPm + 162 (in
CarbonCore) [0x954d5f74]
                              3
__ZN7FSMount8openforkEmmPKcS1_mhhP14FSOpenForkInfotP8_filesecmPsPm + 951 (in
CarbonCore) [0x954fe0e5]
                                3 ___open + 10 (in libSystem.B.dylib)
[0x945d0836]
                1 __ZN15TMountPointList9AddVolumeEsb + 185 (in
DesktopServicesPriv) [0x918062cf]
                  1 __ZN11THFSPlusRef10InitializeERK5FSRef + 72 (in
DesktopServicesPriv) [0x917a511a]
                    1
__Z18LockGetCatalogInfoRK5FSRefmP13FSCatalogInfoP12HFSUniStr255P6FSSpecPS_ + 83
(in DesktopServicesPriv) [0x917a51cb]
                      1 _FSGetCatalogInfo + 53 (in CarbonCore) [0x9549ec19]
                        1 _PBGetCatalogInfoSync + 280 (in CarbonCore)
[0x9549ed34]
                          1
__Z18GetFSRefAttributesP7FSMountPK12FSRefPrivatemP15FSAttributeInfomPc + 173 (in
CarbonCore) [0x9549f10f]
                            1 __ZN7FSMount8getattrsEmPKcmmP15FSAttributeInfomPh
+ 224 (in CarbonCore) [0x9549f1fa]
                              1 ___getattrlist + 10 (in libSystem.B.dylib)
[0x945f0426]
            1 __ZN13TNodeSyncTask19HandleInternalEventERK11TCountedPtrI10TNodeEventE
+ 320 (in DesktopServicesPriv) [0x917af68c]
              1 __ZN13TNodeSyncTask42HandleInternalEventVirtualChildListChangedERK11TCountedPtrI10TNodeEventERK8TNodePtr
+ 110 (in DesktopServicesPriv) [0x917af802]
                1 __ZN5TNode31PopulateVirtualContainerFromSFLEP12OpaqueSFLRefb +
1007 (in DesktopServicesPriv) [0x917b2237]
                  1 __ZN5TNode18UpdateVirtualProxyEP16OpaqueSFLItemRefR8TNodePtrmbb
+ 642 (in DesktopServicesPriv) [0x917bcdf2]
                    1 _semaphore_wait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52ce]
  Kernel stack:
    14 _unix_syscall + 572 [0x3e3a7f]
      5 _getdirentries + 78 [0x1e9d73]
        5 _rmdir + 2169 [0x1e9be1]
          5 _VNOP_READDIR + 122 [0x1f5eb9]
            5 _GetLogicalBlockSize + 21689 [0x34330d]
              3 _CompareExtendedCatalogKeys + 7699 [0x31f753]
                3 _BTSearchRecord + 296 [0x34e406]
                  3 _SearchTree + 128 [0x350b27]
                    3 _GetNode + 66 [0x34fcc6]
                      3 _ufs_readdir + 7309 [0x31b1c1]
                        3 _buf_biowait + 90 [0x1c96e3]
                          3 _msleep + 157 [0x3863e8]
                            3 _uiomove + 653 [0x386037]
                              3 _lck_mtx_sleep + 87 [0x130d90]
                                3 _thread_block + 33 [0x136f20]
                                  3 _thread_continue + 1180 [0x136cb3]
              2 _CompareExtendedCatalogKeys + 8195 [0x31f943]
                2 _BTIterateRecords + 1349 [0x34d7e9]
                  2 _GetNode + 66 [0x34fcc6]
                    2 _ufs_readdir + 7309 [0x31b1c1]
                      2 _buf_biowait + 90 [0x1c96e3]
                        2 _msleep + 157 [0x3863e8]
                          2 _uiomove + 653 [0x386037]
                            2 _lck_mtx_sleep + 87 [0x130d90]
                              2 _thread_block + 33 [0x136f20]
                                2 _thread_continue + 1180 [0x136cb3]
      5 _read_nocancel + 150 [0x39188d]
        5 _nosys + 593 [0x39164d]
          5 _vn_rdwr + 353 [0x1ede33]
            5 _VNOP_READ + 168 [0x1f8492]
              5 _hfs_vnop_read + 308 [0x32cad0]
                5 _cluster_read + 61 [0x1d3648]
                  5 _cluster_read_ext + 266 [0x1d2920]
                    5 _cluster_pageout + 2945 [0x1d1527]
                      5 _msleep + 157 [0x3863e8]
                        5 _uiomove + 653 [0x386037]
                          5 _lck_mtx_sleep + 87 [0x130d90]
                            5 _thread_block + 33 [0x136f20]
                              5 _thread_continue + 1180 [0x136cb3]
      3 _open_nocancel + 242 [0x1e4253]
        3 _chroot + 650 [0x1e3bd4]
          3 _vn_open_auth + 1129 [0x1ed792]
            3 _VNOP_OPEN + 162 [0x1f870b]
              3 com.apple.filesystems.webdav (1.8) + 15161 [0x4879eb39]
                3 com.apple.filesystems.webdav (1.8) + 10276 [0x4879d824]
                  3 _sock_listen + 496 [0x3bf1cc]
                    3 _soreceive + 1142 [0x3ac8df]
                      3 _sbwait + 159 [0x3add29]
                        3 _msleep + 157 [0x3863e8]
                          3 _uiomove + 608 [0x38600a]
                            3 _lck_mtx_sleep_deadline + 104 [0x130e26]
                              3 _thread_block + 33 [0x136f20]
                                3 _thread_continue + 1180 [0x136cb3]
      1 _getattrlist + 9435 [0x1c79d5]
        1 _default_getxattr + 95 [0x1f22f5]
          1 _vnode_relenamedstream + 2612 [0x1efb81]
            1 _namei + 1237 [0x1d745e]
              1 _lookup + 661 [0x1d66c7]
                1 _VNOP_LOOKUP + 110 [0x1f4da4]
                  1 com.apple.filesystems.webdav (1.8) + 14033 [0x4879e6d1]
                    1 com.apple.filesystems.webdav (1.8) + 10276 [0x4879d824]
                      1 _sock_listen + 496 [0x3bf1cc]
                        1 _soreceive + 1142 [0x3ac8df]
                          1 _sbwait + 159 [0x3add29]
                            1 _msleep + 157 [0x3863e8]
                              1 _uiomove + 608 [0x38600a]
                                1 _lck_mtx_sleep_deadline + 104 [0x130e26]
                                  1 _thread_block + 33 [0x136f20]
                                    1 _thread_continue + 1180 [0x136cb3]

  Thread id:      e6aa048
  User stack:
    76 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      76 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        76 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          76 __ZN13TPropertyTask16PropertyTaskProcEPv + 105 (in
DesktopServicesPriv) [0x917b6899]
            76 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              76 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
                76 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      e6aa410
  User stack:
    93 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      93 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      cb6c048
  User stack:
    93 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      93 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        93 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          93 __ZN15TFolderSizeTask18FolderSizeTaskProcEPv + 104 (in
DesktopServicesPriv) [0x917b0ebc]
            93 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              93 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
                93 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      106ceb58
  User stack:
    92 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      92 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      ffef5d0
  User stack:
    76 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      76 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        76 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          76 __ZN15TFolderSizeTask18FolderSizeTaskProcEPv + 104 (in
DesktopServicesPriv) [0x917b0ebc]
            76 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              76 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
                76 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]


Process:        AirPort Base Station Agent [3646]
Path:           /System/Library/CoreServices/AirPort Base Station
Agent.app/Contents/MacOS/AirPort Base Station Agent

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/AirPort Base Station
Agent.app/Contents/MacOS/AirPort Base Station Agent
  000b6000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  000bc000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler

  Thread id:      106cf6b0
  User stack:
    449 ??? [0x28d9]
      449 ??? [0x29ac]
        449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
          449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
            449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]
+ 128 (in AppKit) [0x965baf88]
              449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
                449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                  449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                    449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                      449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                        449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      10407e40
  User stack:
    449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        AirPort Base Station Agent [203]
Path:           /System/Library/CoreServices/AirPort Base Station
Agent.app/Contents/MacOS/AirPort Base Station Agent

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/AirPort Base Station
Agent.app/Contents/MacOS/AirPort Base Station Agent
  000be000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  000c4000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler

  Thread id:      634b2e8
  User stack:
    449 ??? [0x28d9]
      449 ??? [0x29ac]
        449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
          449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
            449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]
+ 128 (in AppKit) [0x965baf88]
              449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
                449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                  449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                    449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                      449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                        449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      677ce40
  User stack:
    449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        AppleMobileDeviceHelper [3991]
Path:           /System/Library/PrivateFrameworks/MobileDevice.framework/Versions/Current/AppleMobileDeviceHelper.app/Contents/MacOS/AppleMobileDeviceHelper

  ADDRESS         BINARY
  00001000        /System/Library/PrivateFrameworks/MobileDevice.framework/Versions/Current/AppleMobileDeviceHelper.app/Contents/MacOS/AppleMobileDeviceHelper
  0001c000        /System/Library/PrivateFrameworks/DeviceLink.framework/Versions/A/DeviceLink
  00063000        /System/Library/PrivateFrameworks/MobileDevice.framework/Versions/A/MobileDevice

  Thread id:      10406b58
  User stack:
    449 ??? [0x275d]
      449 ??? [0x2830]
        449 ??? [0x97a1]
          449 ??? [0xc8a2]
            449 _select$DARWIN_EXTSN$NOCANCEL + 10 (in libSystem.B.dylib)
[0x945fc3ca]

  Thread id:      107fd3c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        AppleSpell [437]
Path:           /System/Library/Services/AppleSpell.service/Contents/MacOS/AppleSpell

  ADDRESS         BINARY
  00001000        /System/Library/Services/AppleSpell.service/Contents/MacOS/AppleSpell
  000f9000        /usr/lib/liblangid.dylib

  Thread id:      78422e8
  User stack:
    449 ??? [0x1f22]
      449 ??? [0x2229]
        449 -[NSSpellServer run] + 198 (in Foundation) [0x91e7b596]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        Calculator [1250]
Path:           /Applications/Calculator.app/Contents/MacOS/Calculator

  ADDRESS         BINARY
  00001000        /Applications/Calculator.app/Contents/MacOS/Calculator
  00033000        /System/Library/PrivateFrameworks/SpeechDictionary.framework/Versions/A/SpeechDictionary
  00066000        /System/Library/PrivateFrameworks/SpeechObjects.framework/Versions/A/SpeechObjects
  00082000        /System/Library/PrivateFrameworks/Calculate.framework/Versions/A/Calculate
  000f5000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  00776000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  13bcd000        /Applications/Calculator.app/Contents/PlugIns/BasicAndSci.calcview/Contents/MacOS/BasicAndSci
  13be5000        /Applications/Calculator.app/Contents/PlugIns/Hexadecimal.calcview/Contents/MacOS/Hexadecimal
  1571c000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  1611e000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib

  Thread id:      7064208
  User stack:
    449 ??? [0xab26]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      104742e8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __Z22CFURLCacheWorkerThreadPv + 388 (in CFNetwork) [0x951db264]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      6c79410
  User stack:
    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      a261f20
  User stack:
    449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      7ab2000
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]


Process:        Console [4257]
Path:           /Applications/Utilities/Console.app/Contents/MacOS/Console

  ADDRESS         BINARY
  00001000        /Applications/Utilities/Console.app/Contents/MacOS/Console
  0003d000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  00043000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  0079e000        /System/Library/Frameworks/OpenGL.framework/Versions/A/Resources/GLRendererFloat.bundle/GLRendererFloat
  18ea9000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  19306000        /System/Library/Frameworks/OpenGL.framework/Resources/GLEngine.bundle/GLEngine
  194b9000        /System/Library/Extensions/AppleIntelGMAX3100GLDriver.bundle/Contents/MacOS/AppleIntelGMAX3100GLDriver
  1b860000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib

  Thread id:      58aa2e8
  User stack:
    449 ??? [0x2b42]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      445 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
                      2 _CFRunLoopRunSpecific + 3141 (in CoreFoundation)
[0x942403c5]
                        2 __performFileHandleSource + 241 (in Foundation)
[0x91e7f901]
                          2 -[NSNotificationCenter
postNotificationName:object:userInfo:] + 128 (in Foundation) [0x91e00680]
                            2 __CFXNotificationPostNotification + 179 (in
CoreFoundation) [0x94221753]
                              2 ___CFXNotificationPost + 362 (in CoreFoundation)
[0x9422147a]
                                2 __nsnote_callback + 106 (in Foundation)
[0x91e0342a]
                                  2 ??? [0x196c0]
                                    2 ??? [0x19875]
                                      2 ??? [0xcba2]
                                        2 ??? [0xc2a1]
                                          2 _asl_store_match + 74 (in
libSystem.B.dylib) [0x946b20e8]
                                            2 _asl_store_match_timeout + 215 (in
libSystem.B.dylib) [0x946b2038]
                                              2 ___getdirentries64 + 10 (in
libSystem.B.dylib) [0x9463371e]
                      1 _CFRunLoopRunSpecific + 3896 (in CoreFoundation)
[0x942406b8]
                        1 ___CFMachPortPerform + 117 (in CoreFoundation)
[0x9421bff5]
                          1 _FSEventsClientProcessMessageCallback + 30 (in
CarbonCore) [0x954e0fd1]
                            1 _FSEventsD2F_server + 109 (in CarbonCore)
[0x954e1040]
                              1 __Xcallback_rpc + 344 (in CarbonCore)
[0x954e11a3]
                                1 _implementation_callback_rpc + 1607 (in
CarbonCore) [0x954e18a3]
                                  1 _CFDictionaryGetValue + 129 (in
CoreFoundation) [0x94212bb1]
                      1 _CFRunLoopRunSpecific + 844 (in CoreFoundation)
[0x9423facc]
                        1 ___CFRunLoopDoObservers + 466 (in CoreFoundation)
[0x9423e772]
                          1 __handleWindowNeedsDisplay + 436 (in AppKit)
[0x965bd84c]
                            1 -[NSWindow displayIfNeeded] + 189 (in AppKit)
[0x965bda29]
                              1 -[NSView displayIfNeeded] + 933 (in AppKit)
[0x965bde7b]
                                1 -[NSView
_displayRectIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:] + 3090 (in
AppKit) [0x9667d4ab]
                                  1 -[NSThemeFrame
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 306 (in AppKit) [0x96680987]
                                    1 -[NSView
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 4433 (in AppKit) [0x96681e9f]
                                      1 -[NSView
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 4433 (in AppKit) [0x96681e9f]
                                        1 -[NSView
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 4433 (in AppKit) [0x96681e9f]
                                          1 -[NSView
_recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]
+ 3371 (in AppKit) [0x96681a79]
                                            1 -[NSObject copy] + 42 (in
CoreFoundation) [0x942c0f9a]
                                              1 -[NSCFArray copyWithZone:] + 73
(in Foundation) [0x91dfe929]
                                                1 _CFArrayCreateCopy + 140 (in
CoreFoundation) [0x941d020c]
                                                  1 ___CFArrayInit + 184 (in
CoreFoundation) [0x941cff68]
                                                    1 __CFRuntimeCreateInstance
+ 159 (in CoreFoundation) [0x9424220f]
                                                      1 _szone_size + 159 (in
libSystem.B.dylib) [0x945ced7f]
  Kernel stack:
    2 _unix_syscall + 572 [0x3e3a7f]
      2 _getdirentries64 + 88 [0x1e9e0a]
        2 _rmdir + 2169 [0x1e9be1]
          2 _VNOP_READDIR + 122 [0x1f5eb9]
            2 _GetLogicalBlockSize + 20436 [0x342e28]
              2 _CompareExtendedCatalogKeys + 21869 [0x322ead]
                2 _lck_rw_lock_exclusive + 253 [0x1a0dcf]
                  2 _thread_block + 33 [0x136f20]
                    2 _thread_continue + 1180 [0x136cb3]
    2 _PE_incoming_interrupt + 131 [0x44e416]
      2 _lapic_interrupt + 121 [0x1b16c0]
        2 _sync_iss_to_iks + 114 [0x1aa3ae]

  Thread id:      10833410
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      603d5d0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _glvmDoWork + 162 (in libGLProgrammability.dylib) [0x95c51b32]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      107bd208
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _fe_fragment_thread + 54 (in QuartzCore) [0x948c7a09]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      104fbf20
  User stack:
    446 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      446 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        446 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    446 _unix_syscall + 572 [0x3e3a7f]
      446 _read_nocancel + 150 [0x39188d]
        446 _nosys + 593 [0x39164d]
          446 _vn_rdwr + 353 [0x1ede33]
            446 _VNOP_READ + 168 [0x1f8492]
              446 _fifo_read + 196 [0x2043dd]
                446 _soreceive + 1142 [0x3ac8df]
                  446 _sbwait + 159 [0x3add29]
                    446 _msleep + 157 [0x3863e8]
                      446 _uiomove + 653 [0x386037]
                        446 _lck_mtx_sleep + 87 [0x130d90]
                          446 _thread_block + 33 [0x136f20]
                            446 _thread_continue + 1180 [0x136cb3]


Process:        DashboardClient [1263]
Path:           /System/Library/CoreServices/Dock.app/Contents/Resources/DashboardClient.app/Contents/MacOS/DashboardClient

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/Dock.app/Contents/Resources/DashboardClient.app/Contents/MacOS/DashboardClient
  0002d000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  0003d000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  000c0000        /Library/Widgets/Unit
Converter.wdgt/ConverterPlugin.widgetplugin/Contents/MacOS/ConverterPlugin
  14e6f000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  15c43000        /System/Library/PrivateFrameworks/Calculate.framework/Calculate

  Thread id:      78413c8
  User stack:
    449 ??? [0x2b7a]
      449 ??? [0xa545]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      10476128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __Z22CFURLCacheWorkerThreadPv + 388 (in CFNetwork) [0x951db264]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      103dd2e8
  User stack:
    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      10473790
  User stack:
    449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        DashboardClient [1264]
Path:           /System/Library/CoreServices/Dock.app/Contents/Resources/DashboardClient.app/Contents/MacOS/DashboardClient

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/Dock.app/Contents/Resources/DashboardClient.app/Contents/MacOS/DashboardClient
  0002d000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  0003d000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  000aa000        /Library/Widgets/World
Clock.wdgt/WorldClock.widgetplugin/Contents/MacOS/WorldClock
  000b1000        /Library/Widgets/iCal.wdgt/Calendar.widgetplugin/Contents/MacOS/Calendar
  12eef000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      103df128
  User stack:
    449 ??? [0x2b7a]
      449 ??? [0xa545]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      103de208
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __Z22CFURLCacheWorkerThreadPv + 388 (in CFNetwork) [0x951db264]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    1 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      1 _mach_msg_overwrite_trap + 4820 [0x1274de]
        1 _ipc_mqueue_receive + 738 [0x121286]
          1 _thread_block + 33 [0x136f20]
            1 _thread_block_reason + 135 [0x136e7c]
              1 _thread_setrun + 3597 [0x136217]
                1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      603fba0
  User stack:
    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      7841000
  User stack:
    449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        DirectoryService [34]
Path:           /usr/sbin/DirectoryService

  ADDRESS         BINARY
  00001000        /usr/sbin/DirectoryService
  00160000        /System/Library/PrivateFrameworks/DirectoryServiceCore.framework/Versions/A/DirectoryServiceCore
  00199000        /usr/lib/sasl2/apop.so
  001c2000        /usr/lib/sasl2/dhx.so
  001e9000        /usr/lib/sasl2/digestmd5WebDAV.so
  001f5000        /usr/lib/sasl2/libanonymous.2.so
  00300000        /usr/lib/sasl2/libcrammd5.2.so
  00306000        /usr/lib/sasl2/libdigestmd5.2.so
  00313000        /usr/lib/sasl2/libgssapiv2.2.so
  0031d000        /usr/lib/sasl2/login.so
  00323000        /usr/lib/sasl2/libotp.2.so
  00334000        /usr/lib/sasl2/libplain.2.so
  0033a000        /usr/lib/sasl2/libpps.so
  00345000        /usr/lib/sasl2/mschapv2.so
  0034c000        /usr/lib/sasl2/shadow_auxprop.so
  00354000        /usr/lib/sasl2/smb_lm.so
  0035a000        /usr/lib/sasl2/smb_nt.so
  00360000        /usr/lib/sasl2/smb_ntlmv2.so

  Thread id:      54a25d0
  User stack:
    449 start + 54 (in DirectoryService) [0x164e2]
      449 _main + 2767 (in DirectoryService) [0x16fcf]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      52915d0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          449 __ZN9DSCThread3RunEv + 39 (in DirectoryServiceCore) [0x167f5b]
            449 __ZN20CPluginRunLoopThread10ThreadMainEv + 222 (in
DirectoryService) [0x2318c]
              449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
                449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5cb6ba0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          449 __ZN9DSCThread3RunEv + 39 (in DirectoryServiceCore) [0x167f5b]
            449 __ZN17CMigHandlerThread10ThreadMainEv + 303 (in
DirectoryService) [0x233c5]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    448 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      448 _mach_msg_overwrite_trap + 3808 [0x1270ea]
        448 _ipc_mqueue_receive + 750 [0x121292]
          448 _thread_block + 33 [0x136f20]
            448 _thread_continue + 1180 [0x136cb3]

  Thread id:      5cb5128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      634d8b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      10c69b58
  User stack:
    12 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      12 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        12 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          12 ___syscall + 5 (in libSystem.B.dylib) [0x946073a5]

  Thread id:      107bf048
  User stack:
    52 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      52 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        52 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          52 __ZN9DSCThread3RunEv + 39 (in DirectoryServiceCore) [0x167f5b]
            37 __ZN17CMigHandlerThread10ThreadMainEv + 162 (in DirectoryService)
[0x23338]
              37 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
            15 __ZN14CHandlerThread10ThreadMainEv + 87 (in DirectoryService)
[0x6e4d]
              15 __ZN9CMsgQueue13WaitOnMessageEm + 157 (in DirectoryService)
[0x2758b]
                15 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      677e128
  User stack:
    125 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      125 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        125 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          125 ___syscall + 5 (in libSystem.B.dylib) [0x946073a5]

  Thread id:      10c6d7d8
  User stack:
    188 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      188 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        188 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          188 ___syscall + 5 (in libSystem.B.dylib) [0x946073a5]

  Thread id:      e6a9128
  User stack:
    31 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      31 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        31 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          31 ___syscall + 5 (in libSystem.B.dylib) [0x946073a5]

  Thread id:      ee998b8
  User stack:
    4 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      4 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        4 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          4 ___syscall + 5 (in libSystem.B.dylib) [0x946073a5]

  Thread id:      e6a85d0
  User stack:
    90 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      90 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        90 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          89 ___syscall + 5 (in libSystem.B.dylib) [0x946073a5]
          1 __ZN9DSCThread3RunEv + 39 (in DirectoryServiceCore) [0x167f5b]
            1 __ZN17CMigHandlerThread10ThreadMainEv + 162 (in DirectoryService)
[0x23338]
              1 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      e53b6b0
  User stack:
    9 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      9 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        9 __ZN9DSLThread11_RunWrapperEPv + 84 (in DirectoryServiceCore)
[0x168166]
          9 __ZN9DSCThread3RunEv + 39 (in DirectoryServiceCore) [0x167f5b]
            9 __ZN17CMigHandlerThread10ThreadMainEv + 162 (in DirectoryService)
[0x23338]
              9 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        DiskImages UI Agent [39120]
Path:           /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/Resources/DiskImages
UI Agent.app/Contents/MacOS/DiskImages UI Agent

  ADDRESS         BINARY
  00001000        /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/Resources/DiskImages
UI Agent.app/Contents/MacOS/DiskImages UI Agent
  00026000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  00047000        /System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit
  0008e000        /usr/lib/libcurl.4.dylib
  000e6000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  0015f000        /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/DiskImages
  002be000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
  18afe000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      10c69f20
  User stack:
    449 ??? [0x1c42]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      ffe6f20
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[NSUIHeartBeat _heartBeatThread:] + 2042 (in AppKit)
[0x96621bf1]
              449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
  Kernel stack:
    2 _unix_syscall + 572 [0x3e3a7f]
      2 ___semwait_signal_nocancel + 104 [0x381fff]
        2 _semaphore_timedwait_trap_internal + 89 [0x139eea]
          2 _semaphore_wait_internal + 565 [0x139c87]
            2 _thread_block + 33 [0x136f20]
              2 _thread_block_reason + 135 [0x136e7c]
                2 _thread_setrun + 3597 [0x136217]
                  2 _machine_idle + 271 [0x1ac3ec]


Process:        DiskManagementTool [39032]
Path:           /System/Library/PrivateFrameworks/DiskManagement.framework/Resources/DiskManagementTool

  ADDRESS         BINARY
  00001000        /System/Library/PrivateFrameworks/DiskManagement.framework/Resources/DiskManagementTool
  00069000        /System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit
  000be000        /System/Library/Extensions/SMARTLib.plugin/Contents/MacOS/SMARTLib
  00134000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording

  Thread id:      e53c5d0
  User stack:
    449 ??? [0x239a]
      449 ??? [0xf9ba]
        449 -[NSRunLoop(NSRunLoop) run] + 84 (in Foundation) [0x91e444f4]
          449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in Foundation)
[0x91e383d5]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        Dock [215]
Path:           /System/Library/CoreServices/Dock.app/Contents/MacOS/Dock

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/Dock.app/Contents/MacOS/Dock
  00400000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      54a2208
  User stack:
    449 ??? [0x537a]
      449 ??? [0x97e97]
        449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in Foundation)
[0x91e383d5]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            441 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
            8 _CFRunLoopRunSpecific + 3896 (in CoreFoundation) [0x942406b8]
              8 _mshPerform + 32 (in HIServices) [0x94cf500f]
                8 ??? [0x2a8cf]
                  8 ??? [0x2a345]
                    7 ??? [0x11ecf]
                      7 ??? [0x245e2]
                        7 __HandlePopUpMenuSelection2 + 111 (in HIToolbox)
[0x90ba22eb]
                          7 __HandlePopUpMenuSelection5 + 120 (in HIToolbox)
[0x90b68790]
                            7 __HandlePopUpMenuSelection7 + 627 (in HIToolbox)
[0x90ad53fb]
                              7
__Z19PopUpMenuSelectCoreP8MenuData5PointdS1_tjPK4RecttmS4_S4_PK10__CFStringPP13OpaqueMenuRefPt
+ 1845 (in HIToolbox) [0x90ad5b83]
                                5 __Z15TrackMenuCommonR14MenuSelectDataPh + 3860
(in HIToolbox) [0x90a6707c]
                                  5 __Z19IsUserStillTrackingP14MenuSelectDataPh
+ 493 (in HIToolbox) [0x90a7de0f]
                                    5 _ReceiveNextEventCommon + 374 (in
HIToolbox) [0x90a370c5]
                                      5 _RunCurrentEventLoopInMode + 283 (in
HIToolbox) [0x90a372ac]
                                        5 _CFRunLoopRunInMode + 88 (in
CoreFoundation) [0x94240aa8]
                                          4 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                          1 _CFRunLoopRunSpecific + 3896 (in
CoreFoundation) [0x942406b8]
                                            1 ___CFMachPortPerform + 117 (in
CoreFoundation) [0x9421bff5]
                                              1
__Z38PullEventsFromWindowServerOnConnectionjh + 88 (in HIToolbox) [0x90a10650]
                                                1 _CGEventCreateNextEvent + 44
(in CoreGraphics) [0x910e15d5]
                                                  1
_CGSGetNextEventRecordInternal + 159 (in CoreGraphics) [0x9170364c]
                                                    1 _snarfEvents + 213 (in
CoreGraphics) [0x910e1741]
                                                      1 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                1 __Z15TrackMenuCommonR14MenuSelectDataPh + 4596
(in HIToolbox) [0x90a6735c]
                                  1 __Z13FlashFeedbackP14MenuSelectData + 154
(in HIToolbox) [0x90a83d1e]
                                    1 __ZN6HIView13SimulateClickEsmPs + 225 (in
HIToolbox) [0x90a83edb]
                                      1 _SendEventToEventTargetWithOptions + 58
(in HIToolbox) [0x90a0e3e0]
                                        1
__Z30SendEventToEventTargetInternalP14OpaqueEventRefP20OpaqueEventTargetRefP14HandlerCallRec
+ 405 (in HIToolbox) [0x90a0e57b]
                                          1
__Z23DispatchEventToHandlersP14EventTargetRecP14OpaqueEventRefP14HandlerCallRec
+ 1181 (in HIToolbox) [0x90a0f13d]
                                            1
__ZN6HIView12EventHandlerEP25OpaqueEventHandlerCallRefP14OpaqueEventRefPv + 1954
(in HIToolbox) [0x90a1d5bc]
                                              1
__ZN6HIView17SimulateClickSelfEsmPs + 41 (in HIToolbox) [0x90a83fcf]
                                                1
__Z22SendControlSimulateHitP6HIViewsmPs + 199 (in HIToolbox) [0x90a84133]
                                                  1
_SendEventToEventTargetWithOptions + 58 (in HIToolbox) [0x90a0e3e0]
                                                    1
__Z30SendEventToEventTargetInternalP14OpaqueEventRefP20OpaqueEventTargetRefP14HandlerCallRec
+ 405 (in HIToolbox) [0x90a0e57b]
                                                      1
__Z23DispatchEventToHandlersP14EventTargetRecP14OpaqueEventRefP14HandlerCallRec
+ 1181 (in HIToolbox) [0x90a0f13d]
                                                        1
__ZN6HIView12EventHandlerEP25OpaqueEventHandlerCallRefP14OpaqueEventRefPv + 2185
(in HIToolbox) [0x90a1d6a3]
                                                          1
__ZN18HIStandardMenuView15SimulateHitSelfEsmPs + 181 (in HIToolbox)
[0x90a84247]
                                                            1
__ZN10HIMenuView15SimulateHitSelfEsmPs + 123 (in HIToolbox) [0x90a84305]
                                                              1
_RunCurrentEventLoopInMode + 283 (in HIToolbox) [0x90a372ac]
                                                                1
_CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                                                                  1
_mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
                                1 __Z15TrackMenuCommonR14MenuSelectDataPh + 5022
(in HIToolbox) [0x90a67506]
                                  1 _RunCurrentEventLoopInMode + 283 (in
HIToolbox) [0x90a372ac]
                                    1 _CFRunLoopRunInMode + 88 (in
CoreFoundation) [0x94240aa8]
                                      1 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                    1 ??? [0x11d2b]
                      1 ??? [0x168ca]
                        1 ??? [0x25113]
                          1 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    2 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      1 _mach_msg_overwrite_trap + 4820 [0x1274de]
        1 _ipc_mqueue_receive + 738 [0x121286]
          1 _thread_block + 33 [0x136f20]
            1 _thread_block_reason + 135 [0x136e7c]
              1 _thread_setrun + 3597 [0x136217]
                1 _machine_idle + 271 [0x1ac3ec]
      1 _mach_msg_overwrite_trap + 3808 [0x1270ea]
        1 _ipc_mqueue_receive + 750 [0x121292]
          1 _thread_block + 33 [0x136f20]
            1 _thread_continue + 1180 [0x136cb3]
    1 _unix_syscall + 572 [0x3e3a7f]
      1 _read_nocancel + 150 [0x39188d]
        1 _nosys + 593 [0x39164d]
          1 _vn_rdwr + 353 [0x1ede33]
            1 _VNOP_READ + 168 [0x1f8492]
              1 _hfs_vnop_read + 308 [0x32cad0]
                1 _cluster_read + 61 [0x1d3648]
                  1 _cluster_read_ext + 266 [0x1d2920]
                    1 _cluster_pageout + 2945 [0x1d1527]
                      1 _msleep + 157 [0x3863e8]
                        1 _uiomove + 653 [0x386037]
                          1 _lck_mtx_sleep + 87 [0x130d90]
                            1 _thread_block + 33 [0x136f20]
                              1 _thread_continue + 1180 [0x136cb3]

  Thread id:      58aae40
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      448 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        443 ??? [0x1340d]
          443 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
        5 ??? [0x13531]
          5 _CGSReenableUpdate + 32 (in CoreGraphics) [0x91180918]
            5 _CGSReenableUpdateForConnections + 390 (in CoreGraphics)
[0x91180aa0]
              5 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
      1 _clock_sleep_trap + 10 (in libSystem.B.dylib) [0x945c538e]
  Kernel stack:
    6 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      5 _mach_msg_overwrite_trap + 3808 [0x1270ea]
        5 _ipc_mqueue_receive + 750 [0x121292]
          5 _thread_block + 33 [0x136f20]
            5 _thread_continue + 1180 [0x136cb3]
      1 _clock_sleep_trap + 426 [0x12a9a8]
        1 _thread_block + 33 [0x136f20]
          1 _thread_block_reason + 135 [0x136e7c]
            1 _thread_setrun + 3597 [0x136217]
              1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      677c6b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]


Process:        Dock [3663]
Path:           /System/Library/CoreServices/Dock.app/Contents/MacOS/Dock

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/Dock.app/Contents/MacOS/Dock
  12f80000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      104fd998
  User stack:
    449 ??? [0x537a]
      449 ??? [0x97e97]
        449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in Foundation)
[0x91e383d5]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      103dcb58
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x1340d]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      106cf2e8
  User stack:
    449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]


Process:        Finder [3665]
Path:           /System/Library/CoreServices/Finder.app/Contents/MacOS/Finder

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/Finder.app/Contents/MacOS/Finder
  004e5000        /System/Library/Frameworks/Collaboration.framework/Versions/A/Collaboration
  004fe000        /System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/MultitouchSupport
  00527000        /System/Library/TextEncodings/Unicode
Encodings.bundle/Contents/MacOS/Unicode Encodings
  005a3000        /System/Library/PrivateFrameworks/URLMount.framework/URLMount
  005b5000        /System/Library/Filesystems/URLMount/http.URLMounter/Contents/MacOS/http

  Thread id:      6c784f0
  User stack:
    449 ??? [0x92d6]
      449 ??? [0xf31d5]
        449 ??? [0x23319]
          449 _RunApplicationEventLoop + 207 (in HIToolbox) [0x90a942b3]
            449 __AcquireNextEvent + 58 (in HIToolbox) [0x90a95b56]
              449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      7845410
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          449 __ZN23TSystemNotificationTask26SystemNotificationTaskProcEPv + 123
(in DesktopServicesPriv) [0x917a3e17]
            449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    2 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      2 _mach_msg_overwrite_trap + 4820 [0x1274de]
        2 _ipc_mqueue_receive + 738 [0x121286]
          2 _thread_block + 33 [0x136f20]
            2 _thread_block_reason + 135 [0x136e7c]
              2 _thread_setrun + 3597 [0x136217]
                2 _machine_idle + 271 [0x1ac3ec]

  Thread id:      7ab5128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          449 __ZN25TFSEventsNotificationTask28FSEventsNotificationTaskProcEPv +
216 (in DesktopServicesPriv) [0x917a3f90]
            449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      10409128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          449 __ZN13TNodeSyncTask12SyncTaskProcEPv + 84 (in DesktopServicesPriv)
[0x917aef72]
            449 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              449 _TSWaitOnConditionTimedRelative + 202 (in CarbonCore)
[0x954bfd6a]
                449 _TSWaitOnCondition + 126 (in CarbonCore) [0x954e0e83]
                  449 ___semwait_signal + 10 (in libSystem.B.dylib)
[0x945cc46e]

  Thread id:      106d2ba0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      104fb790
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      e53e410
  User stack:
    338 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      338 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        338 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          338 __ZN15TFolderSizeTask18FolderSizeTaskProcEPv + 104 (in
DesktopServicesPriv) [0x917b0ebc]
            338 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              338 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
                338 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      107ff5d0
  User stack:
    103 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      103 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        103 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          103 __ZN15TFolderSizeTask18FolderSizeTaskProcEPv + 104 (in
DesktopServicesPriv) [0x917b0ebc]
            103 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              103 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
                103 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      e53dc80
  User stack:
    76 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      76 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        76 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          76 __ZN15TFolderSizeTask18FolderSizeTaskProcEPv + 104 (in
DesktopServicesPriv) [0x917b0ebc]
            76 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              76 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
                76 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]


Process:        Finder [217]
Path:           /System/Library/CoreServices/Finder.app/Contents/MacOS/Finder

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/Finder.app/Contents/MacOS/Finder
  004e5000        /System/Library/Frameworks/Collaboration.framework/Versions/A/Collaboration
  004fe000        /System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/MultitouchSupport
  00527000        /System/Library/TextEncodings/Unicode
Encodings.bundle/Contents/MacOS/Unicode Encodings
  01ac6000        /System/Library/PrivateFrameworks/QuickLookUI.framework/Versions/A/Resources/DisplayBundles/Movie.qldisplay/Contents/MacOS/Movie
  01b21000        /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn
  01b73000        /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn
  01bcc000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  01c43000        /System/Library/PrivateFrameworks/QuickLookUI.framework/Versions/A/Resources/DisplayBundles/Generic.qldisplay/Contents/MacOS/Generic
  01c9a000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  01e9d000        /System/Library/Frameworks/OpenGL.framework/Versions/A/Resources/GLRendererFloat.bundle/GLRendererFloat
  02331000        /System/Library/Frameworks/OpenGL.framework/Resources/GLEngine.bundle/GLEngine
  027e8000        /System/Library/Components/AudioCodecs.component/Contents/MacOS/AudioCodecs
  032a6000        /System/Library/Extensions/AppleIntelGMAX3100GLDriver.bundle/Contents/MacOS/AppleIntelGMAX3100GLDriver
  12db5000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  12e73000        /System/Library/Filesystems/URLMount/http.URLMounter/Contents/MacOS/http
  15737000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  15b2b000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  15b68000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  15e56000        /System/Library/PrivateFrameworks/URLMount.framework/URLMount
  70000000        /System/Library/Components/CoreAudio.component/Contents/MacOS/CoreAudio

  Thread id:      5cb32e8
  User stack:
    449 ??? [0x92d6]
      449 ??? [0xf31d5]
        449 ??? [0x23319]
          449 _RunApplicationEventLoop + 207 (in HIToolbox) [0x90a942b3]
            449 __AcquireNextEvent + 58 (in HIToolbox) [0x90a95b56]
              449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    1 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      1 _mach_msg_overwrite_trap + 4820 [0x1274de]
        1 _ipc_mqueue_receive + 738 [0x121286]
          1 _thread_block + 33 [0x136f20]
            1 _thread_block_reason + 135 [0x136e7c]
              1 _thread_setrun + 3597 [0x136217]
                1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      634c5d0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          449 __ZN23TSystemNotificationTask26SystemNotificationTaskProcEPv + 123
(in DesktopServicesPriv) [0x917a3e17]
            449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    1 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      1 _mach_msg_overwrite_trap + 4820 [0x1274de]
        1 _ipc_mqueue_receive + 738 [0x121286]
          1 _thread_block + 33 [0x136f20]
            1 _thread_block_reason + 135 [0x136e7c]
              1 _thread_setrun + 3597 [0x136217]
                1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      677e8b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          449 __ZN25TFSEventsNotificationTask28FSEventsNotificationTaskProcEPv +
216 (in DesktopServicesPriv) [0x917a3f90]
            449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      677dd60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          449 __ZN13TNodeSyncTask12SyncTaskProcEPv + 84 (in DesktopServicesPriv)
[0x917aef72]
            449 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              449 _TSWaitOnConditionTimedRelative + 202 (in CarbonCore)
[0x954bfd6a]
                449 _TSWaitOnCondition + 126 (in CarbonCore) [0x954e0e83]
                  449 ___semwait_signal + 10 (in libSystem.B.dylib)
[0x945cc46e]

  Thread id:      58aa6b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      677c2e8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      104733c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _glvmDoWork + 162 (in libGLProgrammability.dylib) [0x95c51b32]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      106cfe40
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _ReadSchedulerThreadEntryPoint + 4724 (in QuickTimeComponents)
[0x928ce65e]
          449 _TSWaitOnSemaphoreCommon + 422 (in CarbonCore) [0x954bfb76]
            449 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
              449 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      a2648b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9CAPThread5EntryEPS_ + 96 (in CoreAudio) [0x908f1480]
          449 __ZN10HALRunLoop9OwnThreadEPv + 160 (in CoreAudio) [0x908f15f8]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      108004f0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[NSUIHeartBeat _heartBeatThread:] + 753 (in AppKit)
[0x966216e8]
              449 -[NSConditionLock lockWhenCondition:] + 69 (in Foundation)
[0x91e49b35]
                449 -[NSConditionLock lockWhenCondition:beforeDate:] + 144 (in
Foundation) [0x91e49bd0]
                  449 -[NSCondition waitUntilDate:] + 236 (in Foundation)
[0x91e49dbc]
                    449 _semaphore_timedwait_signal_trap + 10 (in
libSystem.B.dylib) [0x945c52e6]

  Thread id:      107ff5d0
  User stack:
    338 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      338 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        338 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          338 __ZN15TFolderSizeTask18FolderSizeTaskProcEPv + 104 (in
DesktopServicesPriv) [0x917b0ebc]
            338 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              338 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
                338 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      106d0998
  User stack:
    103 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      103 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        103 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          103 __ZN15TFolderSizeTask18FolderSizeTaskProcEPv + 104 (in
DesktopServicesPriv) [0x917b0ebc]
            103 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              103 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
                103 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      ee998b8
  User stack:
    76 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      76 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        76 _PrivateMPEntryPoint + 56 (in CarbonCore) [0x954df057]
          76 __ZN15TFolderSizeTask18FolderSizeTaskProcEPv + 104 (in
DesktopServicesPriv) [0x917b0ebc]
            76 _MPWaitOnQueue + 208 (in CarbonCore) [0x954e0b00]
              76 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
                76 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      107bf048
  User stack:
    72 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      72 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        72 ??? [0x9b12]
          72 ??? [0x48a0c]
            72 ??? [0x49bcd]
              72 ??? [0x49c65]
                72 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]


Process:        Image Capture Extension [3981]
Path:           /System/Library/Image Capture/Support/Image Capture
Extension.app/Contents/MacOS/Image Capture Extension

  ADDRESS         BINARY
  00001000        /System/Library/Image Capture/Support/Image Capture
Extension.app/Contents/MacOS/Image Capture Extension
  00069000        /System/Library/PrivateFrameworks/iPod.framework/Versions/A/iPod
  000c4000        /System/Library/Frameworks/IOBluetooth.framework/Versions/A/IOBluetooth
  00188000        /System/Library/PrivateFrameworks/BezelServices.framework/Versions/A/BezelServices
  001ed000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  00300000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler

  Thread id:      603d998
  User stack:
    449 start + 54 (in Image Capture Extension) [0x1f2a]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      107bb790
  User stack:
    449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        KernelEventAgent [25]
Path:           /usr/sbin/KernelEventAgent

  ADDRESS         BINARY
  00001000        /usr/sbin/KernelEventAgent

  Thread id:      538d4f0
  User stack:
    449 start + 54 (in KernelEventAgent) [0x1bfe]
      449 _main + 1126 (in KernelEventAgent) [0x3b7f]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      58ab998
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        Mail [38889]
Path:           /Applications/Mail.app/Contents/MacOS/Mail

  ADDRESS         BINARY
  00001000        /Applications/Mail.app/Contents/MacOS/Mail
  002e1000        /System/Library/Frameworks/Message.framework/Versions/B/Message
  00691000        /System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
  0069a000        /System/Library/Frameworks/LatentSemanticMapping.framework/Versions/A/LatentSemanticMapping
  12b04000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  12b0a000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  12d26000        /usr/lib/sasl2/apop.so
  12d2c000        /usr/lib/sasl2/digestmd5WebDAV.so
  12d38000        /usr/lib/sasl2/libanonymous.2.so
  12d63000        /usr/lib/sasl2/libcrammd5.2.so
  12d69000        /usr/lib/sasl2/login.so
  12d7a000        /usr/lib/sasl2/libplain.2.so
  18d4f000        /usr/lib/sasl2/libdigestmd5.2.so
  18d5c000        /usr/lib/sasl2/libgssapiv2.2.so
  190e3000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  19390000        /usr/lib/sasl2/libotp.2.so
  193a1000        /usr/lib/sasl2/libpps.so
  193dc000        /usr/lib/sasl2/dhx.so
  19403000        /usr/lib/sasl2/mschapv2.so
  1940a000        /usr/lib/sasl2/shadow_auxprop.so
  19412000        /usr/lib/sasl2/smb_lm.so
  19418000        /usr/lib/sasl2/smb_nt.so
  1941e000        /usr/lib/sasl2/smb_ntlmv2.so
  1a400000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  1be1d000        /usr/lib/liblangid.dylib
  1be22000        /System/Library/TextEncodings/Unicode
Encodings.bundle/Contents/MacOS/Unicode Encodings
  1c7a2000        /System/Library/Frameworks/JavaVM.framework/Versions/A/Resources/JavaPluginCocoa.bundle/Contents/MacOS/JavaPluginCocoa
  1c7a8000        /System/Library/Frameworks/JavaVM.framework/Versions/A/JavaVM
  1ccad000        /Applications/Mail.app/Contents/PlugIns/MailWebPlugIn.bundle/Contents/MacOS/MailWebPlugIn
  1cf53000        /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn
  1cf5c000        /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn
  1cfc3000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  1d0ad000        /System/Library/Frameworks/Message.framework/Versions/B/Resources/Syncer.syncschema/Contents/MacOS/Syncer
  1d200000        /System/Library/PrivateFrameworks/SyncServicesUI.framework/Versions/A/SyncServicesUI
  1d222000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  70000000        /System/Library/Components/CoreAudio.component/Contents/MacOS/CoreAudio
  bab00000        /System/Library/CoreServices/Encodings/libKoreanConverter.dylib

  Thread id:      ee972e8
  User stack:
    449 ??? [0xfc0b2]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      e53ab58
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[RSSInterchange _runManager] + 2140 (in Message) [0x3d8dc5]
              449 -[NSRunLoop(NSRunLoop) run] + 84 (in Foundation) [0x91e444f4]
                449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in
Foundation) [0x91e383d5]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      104fbb58
  User stack:
    449 ___workq_ops + 10 (in libSystem.B.dylib) [0x9462e292]

  Thread id:      e53af20
  User stack:
    449 ??? [0x0]

  Thread id:      e6a98b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _fe_fragment_thread + 54 (in QuartzCore) [0x948c7a09]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      10474a78
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 +[_NSSocket _runIOThread] + 98 (in Message) [0x2fc9fd]
              449 -[NSRunLoop(NSRunLoop) run] + 84 (in Foundation) [0x91e444f4]
                449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in
Foundation) [0x91e383d5]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      107bb3c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      10c6b5d0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __Z22CFURLCacheWorkerThreadPv + 388 (in CFNetwork) [0x951db264]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      cb6a998
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[NSUIHeartBeat _heartBeatThread:] + 2042 (in AppKit)
[0x96621bf1]
              449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
  Kernel stack:
    1 _unix_syscall + 572 [0x3e3a7f]
      1 ___semwait_signal_nocancel + 104 [0x381fff]
        1 _semaphore_timedwait_trap_internal + 89 [0x139eea]
          1 _semaphore_wait_internal + 565 [0x139c87]
            1 _thread_block + 33 [0x136f20]
              1 _thread_block_reason + 135 [0x136e7c]
                1 _thread_setrun + 3597 [0x136217]
                  1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      10800128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9CAPThread5EntryEPS_ + 96 (in CoreAudio) [0x908f1480]
          449 __ZN10HALRunLoop9OwnThreadEPv + 160 (in CoreAudio) [0x908f15f8]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      e53a3c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 +[NSURLConnection(NSURLConnectionReallyInternal)
_resourceLoadLoop:] + 320 (in Foundation) [0x91e67520]
              449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        PTPCamera [38935]
Path:           /System/Library/Image
Capture/Devices/PTPCamera.app/Contents/MacOS/PTPCamera

  ADDRESS         BINARY
  00001000        /System/Library/Image
Capture/Devices/PTPCamera.app/Contents/MacOS/PTPCamera
  00018000        /System/Library/PrivateFrameworks/BezelServices.framework/Versions/A/BezelServices
  0003d000        /System/Library/Frameworks/ICADevices.framework/Versions/A/ICADevices
  000c4000        /System/Library/Frameworks/IOBluetooth.framework/Versions/A/IOBluetooth
  0018e000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  00194000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  001b0000        /System/Library/Extensions/IOUSBFamily.kext/Contents/PlugIns/IOUSBLib.bundle/Contents/MacOS/IOUSBLib
  00300000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      6312c80
  User stack:
    449 start + 54 (in PTPCamera) [0x1d62]
      449 _ICAApplicationMain + 451 (in ICADevices) [0x499ea]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      a265048
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        PrinterProxy [1936]
Path:           /Users/james/Library/Printers/Brother HL-5170DN
series.app/Contents/MacOS/PrinterProxy

  ADDRESS         BINARY
  00001000        /Users/james/Library/Printers/Brother HL-5170DN
series.app/Contents/MacOS/PrinterProxy
  0002a000        /System/Library/Frameworks/Carbon.framework/Frameworks/Print.framework/Versions/Current/Plugins/PMProxy.bundle/Contents/MacOS/PMProxy
  00061000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  0072d000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/Current/Plugins/PrintCocoaUI.bundle/Contents/MacOS/PrintCocoaUI
  007a2000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  13b46000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      603d208
  User stack:
    449 ??? [0x1c06]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      10406790
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        Safari [4897]
Path:           /Applications/Safari.app/Contents/MacOS/Safari

  ADDRESS         BINARY
  00001000        /Applications/Safari.app/Contents/MacOS/Safari
  002d8000        /System/Library/PrivateFrameworks/SyndicationUI.framework/Versions/A/SyndicationUI
  0041b000        /System/Library/Contextual Menu
Items/FolderActionsMenu.plugin/Contents/MacOS/FolderActionsMenu
  0054a000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  00556000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  01aee000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  01aff000        /System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
  13422000        /Applications/1Password.app/Contents/Extensions/WebKitExtension.bundle/Contents/MacOS/WebKitExtension
  19ac2000        /System/Library/Contextual Menu
Items/AutomatorCMM.plugin/Contents/MacOS/AutomatorCMM
  19e85000        /System/Library/Contextual Menu
Items/BluetoothContextualMenu.plugin/Contents/MacOS/BluetoothContextualMenu
  19ea9000        /System/Library/PrivateFrameworks/BezelServices.framework/Versions/A/BezelServices
  1a4aa000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  1a510000        /System/Library/Frameworks/OpenGL.framework/Resources/GLEngine.bundle/GLEngine
  1a6c3000        /System/Library/Extensions/AppleIntelGMAX3100GLDriver.bundle/Contents/MacOS/AppleIntelGMAX3100GLDriver
  1ac0f000        /System/Library/Frameworks/OpenGL.framework/Versions/A/Resources/GLRendererFloat.bundle/GLRendererFloat
  1bfb3000        /System/Library/Frameworks/JavaVM.framework/Versions/A/Resources/JavaPluginCocoa.bundle/Contents/MacOS/JavaPluginCocoa
  1bfe9000        /System/Library/Frameworks/JavaVM.framework/Versions/A/JavaVM
  1c1d5000        /System/Library/Frameworks/CoreAudioKit.framework/Versions/A/CoreAudioKit
  1c27c000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  1c2b9000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  1c700000        /Library/Internet Plug-Ins/Flash
Player.plugin/Contents/MacOS/Flash Player
  1ce79000        /System/Library/Frameworks/IOBluetooth.framework/Versions/A/IOBluetooth

  Thread id:      10c6d410
  User stack:
    448 ??? [0x2c92]
      448 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        448 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          448 ??? [0xc303]
            448 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]
+ 128 (in AppKit) [0x965baf88]
              448 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
                448 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                  448 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                    448 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                      448 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                        443 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
                        2 _CFRunLoopRunSpecific + 2644 (in CoreFoundation)
[0x942401d4]
                          2 ___CFRunLoopDoObservers + 466 (in CoreFoundation)
[0x9423e772]
                            1 __Z15FlushAllBuffersP19__CFRunLoopObservermPv +
549 (in HIToolbox) [0x90a388fb]
                              1 _mk_timer_arm + 10 (in libSystem.B.dylib)
[0x945c53ca]
                            1 __Z15FlushAllBuffersP19__CFRunLoopObservermPv + 23
(in HIToolbox) [0x90a386ed]
                              1 _GetTaskStorageKeyForSafeToCall + 20 (in
HIToolbox) [0x90a3893d]
                        1 _mk_timer_arm + 10 (in libSystem.B.dylib)
[0x945c53ca]
                        1 ___CFRunLoopDoObservers + 212 (in CoreFoundation)
[0x9423e674]
                        1 ??? [0xffff0691]
    1 ??? [0x19af820f]
      1 __ZN7WebCore38jsDOMWindowPrototypeFunctionSetTimeoutEPN3JSC9ExecStateEPNS0_8JSObjectENS0_7JSValueERKNS0_7ArgListE
+ 201 (in WebCore) [0x93b0bf99]
        1 __ZN3WTF10fastMallocILb1EEEPvm + 27 (in JavaScriptCore) [0x937afc4b]
  Kernel stack:
    7 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      5 _mach_msg_overwrite_trap + 4820 [0x1274de]
        5 _ipc_mqueue_receive + 738 [0x121286]
          5 _thread_block + 33 [0x136f20]
            5 _thread_block_reason + 135 [0x136e7c]
              5 _thread_setrun + 3597 [0x136217]
                5 _machine_idle + 271 [0x1ac3ec]
      2 _mk_timer_arm_trap + 149 [0x132788]
        2 _ml_set_interrupts_enabled + 47 [0x1a4389]
    3 _PE_incoming_interrupt + 131 [0x44e416]
      3 _lapic_interrupt + 121 [0x1b16c0]
        3 _sync_iss_to_iks + 114 [0x1aa3ae]
    1 _user_trap + 659 [0x1ab39c]
      1 _vm_fault + 725 [0x162d9a]
        1 _hw_lock_to + 11 [0x19cd5b]

  Thread id:      10832128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN7WebCore12IconDatabase22iconDatabaseSyncThreadEv + 185 (in
WebCore) [0x93942bb9]
          449 __ZN7WebCore12IconDatabase18syncThreadMainLoopEv + 260 (in
WebCore) [0x93946d84]
            449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      7ab23c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __Z22CFURLCacheWorkerThreadPv + 388 (in CFNetwork) [0x951db264]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      106d14f0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      7844128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x2589f]
          449 ??? [0x25914]
            449 ??? [0x25beb]
              449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      107ffd60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x40c3d]
          449 ??? [0x40cbd]
            449 ??? [0x115f5d]
              449 __ZN3WTF15ThreadCondition9timedWaitERNS_5MutexEd + 81 (in
JavaScriptCore) [0x937b75d1]
                449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      107fdb58
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _glvmDoWork + 162 (in libGLProgrammability.dylib) [0x95c51b32]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      10474e40
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __Z11CMMConvTaskPv + 54 (in ColorSync) [0x96dc0d8e]
          449 __Z20pthreadSemaphoreWaitP18t_pthreadSemaphore + 42 (in ColorSync)
[0x96dae450]
            449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      107bfba0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 +[NSURLConnection(NSURLConnectionReallyInternal)
_resourceLoadLoop:] + 320 (in Foundation) [0x91e67520]
              449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      10475208
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      7ab58b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[NSUIHeartBeat _heartBeatThread:] + 753 (in AppKit)
[0x966216e8]
              449 -[NSConditionLock lockWhenCondition:] + 69 (in Foundation)
[0x91e49b35]
                449 -[NSConditionLock lockWhenCondition:beforeDate:] + 144 (in
Foundation) [0x91e49bd0]
                  449 -[NSCondition waitUntilDate:] + 236 (in Foundation)
[0x91e49dbc]
                    449 _semaphore_timedwait_signal_trap + 10 (in
libSystem.B.dylib) [0x945c52e6]

  Thread id:      107fd000
  User stack:
    449 ___workq_ops + 10 (in libSystem.B.dylib) [0x9462e292]

  Thread id:      10c6d048
  User stack:
    449 ??? [0x0]

  Thread id:      10c6a2e8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN13CVDisplayLink11runIOThreadEv + 1087 (in CoreVideo)
[0x952ad329]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]


Process:        Software Update [39031]
Path:           /System/Library/CoreServices/Software
Update.app/Contents/MacOS/Software Update

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/Software
Update.app/Contents/MacOS/Software Update
  00041000        /System/Library/PrivateFrameworks/SoftwareUpdate.framework/Versions/A/SoftwareUpdate
  00082000        /System/Library/PrivateFrameworks/JavaScriptGlue.framework/Versions/A/JavaScriptGlue
  00092000        /usr/lib/libxar.1.dylib
  000a5000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  0012c000        /System/Library/PrivateFrameworks/Install.framework/Versions/A/Install
  00258000        /System/Library/PrivateFrameworks/DiskManagement.framework/Versions/A/DiskManagement
  002ab000        /System/Library/PrivateFrameworks/SystemMigration.framework/Versions/A/SystemMigration
  00424000        /System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit
  0046b000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
  0059f000        /System/Library/PrivateFrameworks/NetInfo.framework/Versions/A/NetInfo
  005bf000        /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/DiskImages
  0071e000        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211
  00759000        /usr/lib/libcurl.4.dylib
  007a1000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  19ae9000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      107fe6b0
  User stack:
    449 ??? [0x2052]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      6c77998
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      e53d4f0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 +[IFDTargetController(WorkerThread) _handleTargetRequests] +
1090 (in Install) [0x137553]
              449 -[NSConditionLock lockWhenCondition:] + 69 (in Foundation)
[0x91e49b35]
                449 -[NSConditionLock lockWhenCondition:beforeDate:] + 144 (in
Foundation) [0x91e49bd0]
                  449 -[NSCondition waitUntilDate:] + 236 (in Foundation)
[0x91e49dbc]
                    449 _semaphore_timedwait_signal_trap + 10 (in
libSystem.B.dylib) [0x945c52e6]

  Thread id:      a265ba0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[NSUIHeartBeat _heartBeatThread:] + 753 (in AppKit)
[0x966216e8]
              449 -[NSConditionLock lockWhenCondition:] + 69 (in Foundation)
[0x91e49b35]
                449 -[NSConditionLock lockWhenCondition:beforeDate:] + 144 (in
Foundation) [0x91e49bd0]
                  449 -[NSCondition waitUntilDate:] + 236 (in Foundation)
[0x91e49dbc]
                    449 _semaphore_timedwait_signal_trap + 10 (in
libSystem.B.dylib) [0x945c52e6]

  Thread id:      10c6cc80
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __Z22CFURLCacheWorkerThreadPv + 388 (in CFNetwork) [0x951db264]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        Spotlight [207]
Path:           /System/Library/CoreServices/Spotlight.app/Contents/MacOS/Spotlight

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/Spotlight.app/Contents/MacOS/Spotlight
  00057000        /System/Library/PrivateFrameworks/Calculate.framework/Versions/A/Calculate
  00068000        /System/Library/PrivateFrameworks/URLMount.framework/Versions/A/URLMount
  00097000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  0009d000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  000e8000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  00324000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      634a3c8
  User stack:
    449 ??? [0x26ea]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      677b000
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]


Process:        Spotlight [3650]
Path:           /System/Library/CoreServices/Spotlight.app/Contents/MacOS/Spotlight

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/Spotlight.app/Contents/MacOS/Spotlight
  00057000        /System/Library/PrivateFrameworks/Calculate.framework/Versions/A/Calculate
  00068000        /System/Library/PrivateFrameworks/URLMount.framework/Versions/A/URLMount
  00097000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  0009d000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  000e9000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  00327000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      677bf20
  User stack:
    449 ??? [0x26ea]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      104ff048
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]


Process:        SyncServer [39230]
Path:           /System/Library/Frameworks/SyncServices.framework/Versions/Current/Resources/SyncServer.app/Contents/MacOS/SyncServer

  ADDRESS         BINARY
  00001000        /System/Library/Frameworks/SyncServices.framework/Versions/Current/Resources/SyncServer.app/Contents/MacOS/SyncServer

  Thread id:      1082f3c8
  User stack:
    449 ??? [0x28fa]
      449 ??? [0x43c3]
        449 -[NSRunLoop(NSRunLoop) run] + 84 (in Foundation) [0x91e444f4]
          449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in Foundation)
[0x91e383d5]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      e53d128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        SystemStarter [16]
Path:           /sbin/SystemStarter

  ADDRESS         BINARY
  00001000        /sbin/SystemStarter

  Thread id:      54a47d8
  User stack:
    449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]


Process:        SystemUIServer [299]
Path:           /System/Library/CoreServices/SystemUIServer.app/Contents/MacOS/SystemUIServer

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/SystemUIServer.app/Contents/MacOS/SystemUIServer
  0006a000        /System/Library/PrivateFrameworks/SystemUIPlugin.framework/Versions/A/SystemUIPlugin
  00078000        /System/Library/PrivateFrameworks/NetworkConfig.framework/Versions/A/NetworkConfig
  000cc000        /System/Library/PrivateFrameworks/ICANotifications.framework/Versions/A/ICANotifications
  000f6000        /System/Library/PrivateFrameworks/iPod.framework/Versions/A/iPod
  00101000        /System/Library/PrivateFrameworks/BezelServices.framework/Versions/A/BezelServices
  0010a000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
  0023e000        /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/DiskImages
  0039d000        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211
  003d8000        /System/Library/Frameworks/AppleTalk.framework/Versions/A/AppleTalk
  003e9000        /System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit
  00430000        /usr/lib/libcurl.4.dylib
  0047b000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  00481000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  004bd000        /System/Library/CoreServices/Menu
Extras/User.menu/Contents/MacOS/User
  00733000        /System/Library/CoreServices/Menu
Extras/TextInput.menu/Contents/MacOS/TextInput
  00761000        /System/Library/CoreServices/Menu
Extras/AirPort.menu/Contents/MacOS/AirPort
  00786000        /System/Library/CoreServices/Menu
Extras/Displays.menu/Contents/MacOS/Displays
  00795000        /System/Library/CoreServices/Menu
Extras/TimeMachine.menu/Contents/MacOS/TimeMachine
  007af000        /Library/Bundles/SoundSource.menu/Contents/MacOS/SoundSource
  007bd000        /System/Library/CoreServices/Menu
Extras/VPN.menu/Contents/MacOS/VPN
  007f4000        /System/Library/CoreServices/Menu
Extras/Sync.menu/Contents/MacOS/Sync
  01ba5000        /System/Library/Extensions/IOUSBFamily.kext/Contents/PlugIns/IOUSBLib.bundle/Contents/MacOS/IOUSBLib
  020c0000        /System/Library/PrivateFrameworks/SpeechDictionary.framework/Versions/A/SpeechDictionary
  0246f000        /System/Library/Speech/Synthesizers/MacinTalk.SpeechSynthesizer/Contents/MacOS/MacinTalk
  079f6000        /System/Library/Components/AudioCodecs.component/Contents/MacOS/AudioCodecs
  1314e000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  1550d000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  157c3000        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Resources/ClientController.bundle/Contents/MacOS/ClientController
  157e4000        /System/Library/PrivateFrameworks/EAP8021X.framework/Versions/A/EAP8021X
  15814000        /Applications/iCal.app/Contents/Resources/iCalDockExtra.bundle/Contents/MacOS/iCalDockExtra
  15a4f000        /System/Library/PrivateFrameworks/InternetConnect.framework/Versions/A/InternetConnect
  15f22000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  15f5f000        /System/Library/CoreServices/Menu
Extras/Sync.menu/Contents/Resources/SyncMenuExtraBundle.bundle/Contents/MacOS/SyncMenuExtraBundle
  15f71000        /System/Library/PrivateFrameworks/SyncServicesUI.framework/Versions/A/SyncServicesUI
  15f9d000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1

  Thread id:      634eba0
  User stack:
    449 ??? [0x5646]
      449 ??? [0x5b44]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      6c797d8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __StaticProcessIOObjectsArray + 95 (in ICANotifications) [0xd4e9e]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      6c79048
  User stack:
    449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      7843208
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _fe_fragment_thread + 54 (in QuartzCore) [0x948c7a09]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      7842e40
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x2682c]
              449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      7842a78
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      677f410
  User stack:
    449 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _read_nocancel + 150 [0x39188d]
        449 _nosys + 593 [0x39164d]
          449 _vn_rdwr + 353 [0x1ede33]
            449 _VNOP_READ + 168 [0x1f8492]
              449 _fifo_read + 196 [0x2043dd]
                449 _soreceive + 1142 [0x3ac8df]
                  449 _sbwait + 159 [0x3add29]
                    449 _msleep + 157 [0x3863e8]
                      449 _uiomove + 653 [0x386037]
                        449 _lck_mtx_sleep + 87 [0x130d90]
                          449 _thread_block + 33 [0x136f20]
                            449 _thread_continue + 1180 [0x136cb3]

  Thread id:      5f3e790
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[ISyncPlanWatcher(InternalMethods) _runQueue] + 701 (in
SyncServicesUI) [0x15f78338]
              449 -[NSConditionLock lockWhenCondition:] + 69 (in Foundation)
[0x91e49b35]
                449 -[NSConditionLock lockWhenCondition:beforeDate:] + 144 (in
Foundation) [0x91e49bd0]
                  449 -[NSCondition waitUntilDate:] + 236 (in Foundation)
[0x91e49dbc]
                    449 _semaphore_timedwait_signal_trap + 10 (in
libSystem.B.dylib) [0x945c52e6]

  Thread id:      7ab4d60
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      10473000
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      103df8b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _PollChannelStatus + 39 (in SpeechSynthesis) [0x972b16f7]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
  Kernel stack:
    3 _unix_syscall + 572 [0x3e3a7f]
      3 ___semwait_signal_nocancel + 104 [0x381fff]
        3 _semaphore_timedwait_trap_internal + 89 [0x139eea]
          3 _semaphore_wait_internal + 565 [0x139c87]
            3 _thread_block + 33 [0x136f20]
              3 _thread_block_reason + 135 [0x136e7c]
                3 _thread_setrun + 3597 [0x136217]
                  3 _machine_idle + 271 [0x1ac3ec]


Process:        SystemUIServer [3664]
Path:           /System/Library/CoreServices/SystemUIServer.app/Contents/MacOS/SystemUIServer

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/SystemUIServer.app/Contents/MacOS/SystemUIServer
  0006a000        /System/Library/PrivateFrameworks/SystemUIPlugin.framework/Versions/A/SystemUIPlugin
  00078000        /System/Library/PrivateFrameworks/NetworkConfig.framework/Versions/A/NetworkConfig
  000cc000        /System/Library/PrivateFrameworks/ICANotifications.framework/Versions/A/ICANotifications
  000f6000        /System/Library/PrivateFrameworks/iPod.framework/Versions/A/iPod
  00101000        /System/Library/PrivateFrameworks/BezelServices.framework/Versions/A/BezelServices
  0010a000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
  0023e000        /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/DiskImages
  0039d000        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211
  003d8000        /System/Library/Frameworks/AppleTalk.framework/Versions/A/AppleTalk
  003e9000        /System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit
  00430000        /usr/lib/libcurl.4.dylib
  0047b000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  00481000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  0049f000        /Applications/iCal.app/Contents/Resources/iCalDockExtra.bundle/Contents/MacOS/iCalDockExtra
  00700000        /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn
  00709000        /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn
  00790000        /System/Library/CoreServices/Menu
Extras/Bluetooth.menu/Contents/MacOS/Bluetooth
  007c5000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  12fef000        /System/Library/CoreServices/Menu
Extras/User.menu/Contents/MacOS/User
  1300c000        /System/Library/CoreServices/Menu
Extras/AirPort.menu/Contents/MacOS/AirPort
  13028000        /System/Library/Frameworks/IOBluetoothUI.framework/Versions/A/IOBluetoothUI
  1306d000        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Resources/ClientController.bundle/Contents/MacOS/ClientController
  1308e000        /System/Library/PrivateFrameworks/EAP8021X.framework/Versions/A/EAP8021X
  130af000        /System/Library/PrivateFrameworks/InternetConnect.framework/Versions/A/InternetConnect
  131db000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  156f3000        /System/Library/Frameworks/IOBluetooth.framework/Versions/A/IOBluetooth
  157b7000        /System/Library/CoreServices/Menu
Extras/TimeMachine.menu/Contents/MacOS/TimeMachine

  Thread id:      5cb2790
  User stack:
    449 ??? [0x5646]
      449 ??? [0x5b44]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      7ab2f20
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __StaticProcessIOObjectsArray + 95 (in ICANotifications) [0xd4e9e]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      a262e40
  User stack:
    449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      603c2e8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x2682c]
              449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      7ab4998
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9CAPThread5EntryEPS_ + 96 (in CoreAudio) [0x908f1480]
          449 __ZN10HALRunLoop9OwnThreadEPv + 160 (in CoreAudio) [0x908f15f8]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      107bd5d0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _fe_fragment_thread + 54 (in QuartzCore) [0x948c7a09]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      106ce3c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        Terminal [835]
Path:           /Applications/Utilities/Terminal.app/Contents/MacOS/Terminal

  ADDRESS         BINARY
  00001000        /Applications/Utilities/Terminal.app/Contents/MacOS/Terminal
  000f2000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  0076a000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  151a0000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera

  Thread id:      10406f20
  User stack:
    449 ??? [0x42022]
      449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      448 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
                      1 _CFRunLoopRunSpecific + 2014 (in CoreFoundation)
[0x9423ff5e]
                        1 _CFSetApplyFunction + 140 (in CoreFoundation)
[0x94244f8c]
  Kernel stack:
    2 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      2 _mach_msg_overwrite_trap + 4820 [0x1274de]
        2 _ipc_mqueue_receive + 738 [0x121286]
          2 _thread_block + 33 [0x136f20]
            2 _thread_block_reason + 135 [0x136e7c]
              2 _thread_setrun + 3597 [0x136217]
                2 _machine_idle + 271 [0x1ac3ec]
    1 _i386_astintr + 47 [0x1aa272]
      1 _ast_taken + 185 [0x129434]
        1 _thread_continue + 1180 [0x136cb3]

  Thread id:      a2626b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _read_nocancel + 150 [0x39188d]
        449 _nosys + 593 [0x39164d]
          449 _fill_pipeinfo + 870 [0x395dbc]
            449 _msleep + 157 [0x3863e8]
              449 _uiomove + 653 [0x386037]
                449 _lck_mtx_sleep + 87 [0x130d90]
                  449 _thread_block + 33 [0x136f20]
                    449 _thread_continue + 1180 [0x136cb3]

  Thread id:      103e0048
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        UserEventAgent [3651]
Path:           /usr/sbin/UserEventAgent

  ADDRESS         BINARY
  00001000        /usr/sbin/UserEventAgent
  00014000        /System/Library/UserEventPlugins/ACRRDaemon.plugin/Contents/MacOS/ACRRDaemon
  00028000        /System/Library/UserEventPlugins/AirPortUserAgent.plugin/Contents/MacOS/AirPortUserAgent
  00031000        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211
  0006c000        /System/Library/UserEventPlugins/alfUIplugin.plugin/Contents/MacOS/alfUIplugin
  00071000        /System/Library/UserEventPlugins/AppleHIDMouseAgent.plugin/Contents/MacOS/AppleHIDMouseAgent
  00077000        /System/Library/UserEventPlugins/BluetoothUserAgent-Plugin.plugin/Contents/MacOS/BluetoothUserAgent-Plugin
  0007f000        /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn
  00088000        /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn
  00094000        /System/Library/UserEventPlugins/BTMMPortInUseAgent.plugin/Contents/MacOS/BTMMPortInUseAgent
  0009b000        /System/Library/UserEventPlugins/iCalAlarmAgent.plugin/Contents/MacOS/iCalAlarmAgent
  000a6000        /System/Library/UserEventPlugins/InstrumentsHotKeyAgent.plugin/Contents/MacOS/InstrumentsHotKeyAgent
  000bf000        /System/Library/UserEventPlugins/ParentalControlsUEAPlugin.plugin/Contents/MacOS/ParentalControlsUEAPlugin
  000c9000        /System/Library/UserEventPlugins/SCMonitor.plugin/Contents/MacOS/SCMonitor

  Thread id:      78426b0
  User stack:
    449 ??? [0x1afa]
      449 ??? [0x29d7]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5cb4d60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 _appusage_server_routine + 8737 (in ACRRDaemon) [0x1735c]
              449 -[NSRunLoop(NSRunLoop) run] + 84 (in Foundation) [0x91e444f4]
                449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in
Foundation) [0x91e383d5]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      104fb000
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9CAPThread5EntryEPS_ + 96 (in CoreAudio) [0x908f1480]
          449 __ZN10HALRunLoop9OwnThreadEPv + 160 (in CoreAudio) [0x908f15f8]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        UserEventAgent [208]
Path:           /usr/sbin/UserEventAgent

  ADDRESS         BINARY
  00001000        /usr/sbin/UserEventAgent
  00014000        /System/Library/UserEventPlugins/ACRRDaemon.plugin/Contents/MacOS/ACRRDaemon
  00028000        /System/Library/UserEventPlugins/AirPortUserAgent.plugin/Contents/MacOS/AirPortUserAgent
  00031000        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211
  0006c000        /System/Library/UserEventPlugins/alfUIplugin.plugin/Contents/MacOS/alfUIplugin
  00071000        /System/Library/UserEventPlugins/AppleHIDMouseAgent.plugin/Contents/MacOS/AppleHIDMouseAgent
  00077000        /System/Library/UserEventPlugins/BluetoothUserAgent-Plugin.plugin/Contents/MacOS/BluetoothUserAgent-Plugin
  0007f000        /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn
  00088000        /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn
  00094000        /System/Library/UserEventPlugins/BTMMPortInUseAgent.plugin/Contents/MacOS/BTMMPortInUseAgent
  0009b000        /System/Library/UserEventPlugins/iCalAlarmAgent.plugin/Contents/MacOS/iCalAlarmAgent
  000a6000        /System/Library/UserEventPlugins/InstrumentsHotKeyAgent.plugin/Contents/MacOS/InstrumentsHotKeyAgent
  000c5000        /System/Library/UserEventPlugins/ParentalControlsUEAPlugin.plugin/Contents/MacOS/ParentalControlsUEAPlugin
  000cf000        /System/Library/UserEventPlugins/SCMonitor.plugin/Contents/MacOS/SCMonitor

  Thread id:      634a000
  User stack:
    449 ??? [0x1afa]
      449 ??? [0x29d7]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      634ab58
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 _appusage_server_routine + 8737 (in ACRRDaemon) [0x1735c]
              449 -[NSRunLoop(NSRunLoop) run] + 84 (in Foundation) [0x91e444f4]
                449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in
Foundation) [0x91e383d5]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5f3fe40
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9CAPThread5EntryEPS_ + 96 (in CoreAudio) [0x908f1480]
          449 __ZN10HALRunLoop9OwnThreadEPv + 160 (in CoreAudio) [0x908f15f8]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        WindowServer [81]
Path:           /System/Library/Frameworks/ApplicationServices.framework/Frameworks/CoreGraphics.framework/Resources/WindowServer

  ADDRESS         BINARY
  00001000        /System/Library/Frameworks/ApplicationServices.framework/Frameworks/CoreGraphics.framework/Resources/WindowServer
  00014000        /System/Library/Extensions/AppleIntelGMAX3100GA.plugin/Contents/MacOS/AppleIntelGMAX3100GA
  00400000        /System/Library/Frameworks/OpenGL.framework/Resources/GLEngine.bundle/GLEngine
  12000000        /System/Library/Extensions/AppleIntelGMAX3100GLDriver.bundle/Contents/MacOS/AppleIntelGMAX3100GLDriver
  13d7a000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib

  Thread id:      603e128
  User stack:
    449 start + 54 (in WindowServer) [0x1fbe]
      449 _main + 24 (in WindowServer) [0x1ff4]
        449 _CGXGetRootAdminCredentials + 0 (in CoreGraphics) [0x911e00b9]
          448 _CGXServerLoop + 161 (in CoreGraphics) [0x91251f3e]
            437 _CGXRunOneServicesPass + 377 (in CoreGraphics) [0x91246c4b]
              326 _mach_msg_overwrite_trap + 10 (in libSystem.B.dylib)
[0x945c5292]
              103 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
              8 _CGXRunOneServerPass + 556 (in CoreGraphics) [0x9124a640]
                7 _CGXPostPortData + 158 (in CoreGraphics) [0x9124a84a]
                  3 _eventNotificationHandler + 106 (in CoreGraphics)
[0x9124a8d1]
                    3 _CGXRunOneEventPass + 48 (in CoreGraphics) [0x912483a0]
                      2 _CGXGetNextEvent + 152 (in CoreGraphics) [0x91248473]
                        2 _CGXFilterEvent + 71 (in CoreGraphics) [0x91248749]
                          2 _sHIDContinuation + 537 (in CoreGraphics)
[0x912489b1]
                            2 _CGXProcessHIDEvent + 157 (in CoreGraphics)
[0x91248a58]
                              2 _CGXFilterEvent + 86 (in CoreGraphics)
[0x91248758]
                                2 _addEventsToTap + 981 (in CoreGraphics)
[0x9147a266]
                                  2 _addEventsToTap + 981 (in CoreGraphics)
[0x9147a266]
                                    2 _postAfterTapID + 266 (in CoreGraphics)
[0x91479cf4]
                                      1 _sPostContinuation + 3391 (in
CoreGraphics) [0x91249bb2]
                                        1 _CGXPostEventByConnection + 400 (in
CoreGraphics) [0x9124a328]
                                          1 _CGXFilterEvent + 86 (in
CoreGraphics) [0x91248758]
                                            1 _addEventsToTap + 981 (in
CoreGraphics) [0x9147a266]
                                              1 _postAfterTapID + 266 (in
CoreGraphics) [0x91479cf4]
                                                1 _doPostBackgroundEvent + 338
(in CoreGraphics) [0x913c393b]
                                                  1 _postEventByConnection + 108
(in CoreGraphics) [0x9124a0ac]
                                                    1
_CGXFilterEventToConnection + 155 (in CoreGraphics) [0x9126f3d6]
                                                      1 _CGSEncodeEventRecord +
97 (in CoreGraphics) [0x91716234]
                                                        1
_CGEventCreateDataWithOptions + 57 (in CoreGraphics) [0x91714e60]
                                                          1 _malloc + 55 (in
libSystem.B.dylib) [0x945c606c]
                                                            1
_malloc_zone_malloc + 81 (in libSystem.B.dylib) [0x945c60d8]
                                                              1 _szone_malloc +
463 (in libSystem.B.dylib) [0x945c62e8]
                                                                1 _mmap + 10 (in
libSystem.B.dylib) [0x945ceb02]
                                      1 _sPostContinuation + 450 (in
CoreGraphics) [0x91249035]
                                        1 _lockedWindowLookup + 32 (in
CoreGraphics) [0x9123992a]
                      1 _CGXGetNextEvent + 86 (in CoreGraphics) [0x91248431]
                        1 _CGXForegroundConnection + 25 (in CoreGraphics)
[0x9122fc79]
                          1 _CPXGetFrontProcessesConnectionID + 17 (in
CoreGraphics) [0x91278580]
                            1 _GetFrontProcessRec + 73 (in CoreGraphics)
[0x9122fd4d]
                              1
__ZN24LSClientSideSharedMemory25GetClientSideSharedMemoryE11LSSessionIDb + 96
(in LaunchServices) [0x9372ea4e]
                  2 _connectionHandler + 329 (in CoreGraphics) [0x9125d343]
                    2 _CGXServices_server + 119 (in CoreGraphics) [0x9125d621]
                      1 __XSetWindowWarp + 219 (in CoreGraphics) [0x912a5e54]
                        1 __CGXSetWindowWarp + 332 (in CoreGraphics)
[0x912a5fc9]
                          1 _CGXSetWindowWarp + 88 (in CoreGraphics)
[0x912a60a3]
                            1 _CGXUpdateDisplaySynchronizeUpdate + 296 (in
CoreGraphics) [0x9123b621]
                              1 _CGXUpdateDisplay + 5423 (in CoreGraphics)
[0x9123e402]
                                1 __CGXRedrawWindow + 504 (in CoreGraphics)
[0x912544fb]
                                  1 _CGSIntersectRegion + 187 (in CoreGraphics)
[0x910ef508]
                                    1 _shape_intersect + 157 (in CoreGraphics)
[0x910ef63d]
                                      1 _mem_heap_malloc + 44 (in CoreGraphics)
[0x910dafac]
                                        1 _malloc_zone_malloc + 81 (in
libSystem.B.dylib) [0x945c60d8]
                                          1 _tiny_malloc_from_free_list + 1172
(in libSystem.B.dylib) [0x945cd78e]
                      1 __XAccessWindowBackingStore + 182 (in CoreGraphics)
[0x912b087a]
                        1 __CGXAccessWindowBackingStore + 196 (in CoreGraphics)
[0x912b097a]
                          1 _CGXBackingStoreDataAccess + 374 (in CoreGraphics)
[0x912b0b4d]
                            1 _synchronizeBackingSurface + 309 (in CoreGraphics)
[0x912b2c96]
                              1 _IOAccelReadLockSurfaceWithOptions + 105 (in
IOKit) [0x9581e346]
                                1 _IOConnectCallMethod + 300 (in IOKit)
[0x958133c6]
                                  1 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
                  1 _rendezvousHandler + 155 (in CoreGraphics) [0x91259cdb]
                    1 _CGXWindowServer_server + 117 (in CoreGraphics)
[0x911cea67]
                      1 __XCopyCurrentSessionDictionary + 174 (in CoreGraphics)
[0x9126cf80]
                        1 __CGXCopyCurrentSessionDictionary + 32 (in
CoreGraphics) [0x9126cfb1]
                          1 _updateSessionDict + 108 (in CoreGraphics)
[0x9126d0fe]
                            1 _CFDictionaryCreateMutableCopy + 279 (in
CoreFoundation) [0x94211fb7]
                              1 _malloc_zone_malloc + 1 (in libSystem.B.dylib)
[0x945c6088]
                  1 _connectionHandler + 249 (in CoreGraphics) [0x9125d2f3]
                    1 _CGXUpdateDisplay + 6477 (in CoreGraphics) [0x9123e820]
                      1 _CGLayerComposite + 335 (in CoreGraphics) [0x91257f3c]
                        1 _CGXGLAccelComposite + 102 (in CoreGraphics)
[0x9138758e]
                          1 __CGXGLCompositeLayers + 1467 (in CoreGraphics)
[0x913874ca]
                            1 __CGXGLCompositeLayer_ + 108 (in CoreGraphics)
[0x91384e1d]
                              1 __CGXGLCompositeCoreAnimation + 1195 (in
CoreGraphics) [0x91381b37]
                                1 _CARenderOGLRender + 650 (in QuartzCore)
[0x9484b0d2]
                                  1 _ogl_render_layers + 25 (in QuartzCore)
[0x9484e2b5]
                                    1 _ogl_render_layer_ + 385 (in QuartzCore)
[0x9484e440]
                                      1 _ogl_render_layer_image_ + 136 (in
QuartzCore) [0x9484ebd3]
                                        1 _ogl_render_layer_ + 447 (in
QuartzCore) [0x9484e47e]
                                          1 _ogl_render_fade_transition + 423
(in QuartzCore) [0x949f771b]
                                            1 _ogl_render_layer_image_ + 136 (in
QuartzCore) [0x9484ebd3]
                                              1 _ogl_render_layer_ + 385 (in
QuartzCore) [0x9484e440]
                                                1 _ogl_render_layer_image_ + 119
(in QuartzCore) [0x9484ebc2]
                                                  1
_ogl_render_layer_contents_bg + 5578 (in QuartzCore) [0x948501ee]
                                                    1 _ogl_render_layer_bg + 572
(in QuartzCore) [0x949f6792]
                                                      1 _ogl_emit_round_rect +
450 (in QuartzCore) [0x949fb44d]
                                                        1
_ogl_emit_nine_part_rect + 542 (in QuartzCore) [0x948586e3]
                                                          1
_ogl_emit_quad_indices + 417 (in QuartzCore) [0x94858bf1]
                                                            1
_ogl_primitives_end_ + 57 (in QuartzCore) [0x9485406a]
                                                              1 _ogl_array_flush
+ 50 (in QuartzCore) [0x948540ca]
                                                                1
_gl_context_draw + 137 (in QuartzCore) [0x94854159]
                                                                  1
_gleDrawArraysOrElements_IMM_Exec + 1080 (in GLEngine) [0x4b16f8]
                                                                    1
_gleDrawArraysOrElements_ExecCore + 291 (in GLEngine) [0x4b07b3]
                                                                      1
_gleRenderPrimitiveTCLFunc + 134 (in GLEngine) [0x5279f6]
                                                                        1
__Z26GHALSendPrimitiveConvertedP13GLDContextRecj + 169 (in
AppleIntelGMAX3100GLDriver) [0x120191c9]
                                                                          1
_glrAppleSyncState + 136 (in AppleIntelGMAX3100GLDriver) [0x12029458]
                                                                            1
__ZN6GHAL3D26CGen4PrivateStateProcessor12BindPipelineEv + 9204 (in
AppleIntelGMAX3100GLDriver) [0x1228b4b4]
                                                                              1
__ZN6GHAL3D24CGen4StateProcessorCache24GetPipelineStatePointersEv + 1697 (in
AppleIntelGMAX3100GLDriver) [0x123035f1]
                                                                               
1 __ZN6GHAL3D24CGen4StateProcessorCache23GetClipperKernelProgramERj + 2985 (in
AppleIntelGMAX3100GLDriver) [0x122d9379]
                1 _sigaltstack + 7 (in libSystem.B.dylib) [0x946072f7]
            10 _CGXRunOneServicesPass + 139 (in CoreGraphics) [0x91246b5d]
              10 __CGXRunTimerPass + 407 (in CoreGraphics) [0x91234d84]
                7 _CGXUpdateDisplay + 6477 (in CoreGraphics) [0x9123e820]
                  7 _CGLayerComposite + 335 (in CoreGraphics) [0x91257f3c]
                    7 _CGXGLAccelComposite + 102 (in CoreGraphics) [0x9138758e]
                      3 __CGXGLCompositeLayers + 1467 (in CoreGraphics)
[0x913874ca]
                        2 __CGXGLCompositeLayer_ + 108 (in CoreGraphics)
[0x91384e1d]
                          2 __CGXGLCompositeCoreAnimation + 1195 (in
CoreGraphics) [0x91381b37]
                            2 _CARenderOGLRender + 650 (in QuartzCore)
[0x9484b0d2]
                              2 _ogl_render_layers + 25 (in QuartzCore)
[0x9484e2b5]
                                2 _ogl_render_layer_ + 385 (in QuartzCore)
[0x9484e440]
                                  2 _ogl_render_layer_image_ + 136 (in
QuartzCore) [0x9484ebd3]
                                    2 _ogl_render_layer_ + 385 (in QuartzCore)
[0x9484e440]
                                      2 _ogl_render_layer_image_ + 136 (in
QuartzCore) [0x9484ebd3]
                                        2 _ogl_render_layer_ + 385 (in
QuartzCore) [0x9484e440]
                                          2 _ogl_render_layer_image_ + 119 (in
QuartzCore) [0x9484ebc2]
                                            2 _ogl_render_layer_contents_bg +
6138 (in QuartzCore) [0x9485041e]
                                              1 _ogl_emit_rect_tex + 651 (in
QuartzCore) [0x948535b2]
                                                1 _ogl_emit_nine_part_rect + 542
(in QuartzCore) [0x948586e3]
                                                  1 _ogl_emit_quad_indices + 417
(in QuartzCore) [0x94858bf1]
                                                    1 _ogl_primitives_end_ + 57
(in QuartzCore) [0x9485406a]
                                                      1 _ogl_array_flush + 50
(in QuartzCore) [0x948540ca]
                                                        1 _gl_context_draw + 137
(in QuartzCore) [0x94854159]
                                                          1
_gleDrawArraysOrElements_IMM_Exec + 1184 (in GLEngine) [0x4b1760]
                                                            1
_gleUpdateVertexStateProgram + 944 (in GLEngine) [0x560230]
                                              1 _ogl_emit_rect_tex + 124 (in
QuartzCore) [0x948533a3]
                                                1 _ogl_emit_rect_ + 284 (in
QuartzCore) [0x948536f4]
                                                  1 _ogl_primitives_end_ + 57
(in QuartzCore) [0x9485406a]
                                                    1 _ogl_array_flush + 50 (in
QuartzCore) [0x948540ca]
                                                      1 _gl_context_draw + 137
(in QuartzCore) [0x94854159]
                                                        1
_gleDrawArraysOrElements_IMM_Exec + 1080 (in GLEngine) [0x4b16f8]
                                                          1
_gleDrawArraysOrElements_ExecCore + 291 (in GLEngine) [0x4b07b3]
                                                            1
_gleRenderPrimitiveTCLFunc + 134 (in GLEngine) [0x5279f6]
                                                              1
__Z26GHALSendPrimitiveConvertedP13GLDContextRecj + 169 (in
AppleIntelGMAX3100GLDriver) [0x120191c9]
                                                                1
_glrAppleSyncState + 136 (in AppleIntelGMAX3100GLDriver) [0x12029458]
                                                                  1
__ZN6GHAL3D26CGen4PrivateStateProcessor12BindPipelineEv + 9204 (in
AppleIntelGMAX3100GLDriver) [0x1228b4b4]
                                                                    1
__ZN6GHAL3D24CGen4StateProcessorCache24GetPipelineStatePointersEv + 1684 (in
AppleIntelGMAX3100GLDriver) [0x123035e4]
                                                                      1
__ZN6GHAL3D24CGen4StateProcessorCache29FreeLeastRecentlyUsedPipelineEv + 482 (in
AppleIntelGMAX3100GLDriver) [0x12301aa2]
                                                                        1
__ZN6GHAL3D11CStateCacheINS_39SGen4PipelineStatePointersStateCacheKeyENS_40CGen4PipelineStatePointersStateCacheDataEE8FreeDataEj
+ 523 (in AppleIntelGMAX3100GLDriver) [0x1231804b]
                                                                          1
__ZN6GHAL3D40CGen4PipelineStatePointersStateCacheData6DeleteERPS0_ + 56 (in
AppleIntelGMAX3100GLDriver) [0x122ba0c8]
                                                                            1
__ZN6GHAL3D40CGen4PipelineStatePointersStateCacheDataD0Ev + 1675 (in
AppleIntelGMAX3100GLDriver) [0x122bb1bb]
                                                                              1
__ZN6GHAL3D33CGen4StripsFansUnitStateCacheData6DeleteERPS0_ + 56 (in
AppleIntelGMAX3100GLDriver) [0x122a1928]
                                                                               
1 __ZN6GHAL3D33CGen4StripsFansUnitStateCacheDataD0Ev + 317 (in
AppleIntelGMAX3100GLDriver) [0x122a250d]
                                                                                
 1 __ZN6GHAL3D11CStateCacheINS_41SGen4StripsFansViewportArrayStateCacheKeyENS_42CGen4StripsFansViewportArrayStateCacheDataEE8FreeDataEj
+ 539 (in AppleIntelGMAX3100GLDriver) [0x122a4c3b]
                                                                                
   1 __ZN6GHAL3D42CGen4StripsFansViewportArrayStateCacheData6DeleteERPS0_ + 56
(in AppleIntelGMAX3100GLDriver) [0x122d4ae8]
                                                                                
     1 __ZN6GHAL3D42CGen4StripsFansViewportArrayStateCacheDataD0Ev + 867 (in
AppleIntelGMAX3100GLDriver) [0x122d6a73]
                                                                                
       1 __ZN6GHAL3D31CGen4IndirectStateMemoryManager10DeallocateERPNS_14CIndirectStateE
+ 39 (in AppleIntelGMAX3100GLDriver) [0x120c2c07]
                        1 __CGXGLCompositeLayer_ + 8114 (in CoreGraphics)
[0x91386d63]
                          1 _glEnd_Exec + 50 (in GLEngine) [0x420ed2]
                            1 _gleRenderPrimitiveTCLFunc + 134 (in GLEngine)
[0x5279f6]
                              1 __Z26GHALSendPrimitiveConvertedP13GLDContextRecj
+ 169 (in AppleIntelGMAX3100GLDriver) [0x120191c9]
                                1 _glrAppleSyncState + 136 (in
AppleIntelGMAX3100GLDriver) [0x12029458]
                                  1
__ZNK6GHAL3D26CGen4PrivateStateProcessor25GetStripsFansViewportDataEjj + 1 (in
AppleIntelGMAX3100GLDriver) [0x122732f1]
                      2 __CGXGLCompositeLayers + 1046 (in CoreGraphics)
[0x91387325]
                        2 _cgxcoreimage_create_image_with_callback + 353 (in
libCGXCoreImage.A.dylib) [0x13d7cd62]
                          2 -[CIOpenGLContextImpl
imageByRenderingInRect:format:callback:data:options:] + 173 (in QuartzCore)
[0x9490134c]
                            2 _fe_image_new_with_gl_callback + 203 (in
QuartzCore) [0x948a9a8d]
                              2 _image_rendered_new + 245 (in QuartzCore)
[0x948c9bd1]
                                2 _fe_tiled_buffer_foreach + 1341 (in
QuartzCore) [0x948d79c5]
                                  1 _image_rendered_render + 350 (in QuartzCore)
[0x948c9998]
                                    1 _fe_gl_begin + 67 (in QuartzCore)
[0x948325b7]
                                      1 _fe_gl_buffer_update + 142 (in
QuartzCore) [0x94832666]
                                        1 _fe_accel_buffer_attach + 112 (in
QuartzCore) [0x94832704]
                                          1 _fe_accel_buffer_attach_ + 1003 (in
QuartzCore) [0x94832dea]
                                            1 _fe_cgls_set_pbuffer + 289 (in
QuartzCore) [0x94894b2b]
                                              1 _cglsAttachPBuffer + 1028 (in
CoreGraphics) [0x912946e0]
                                                1 _gliAttachDrawableWithOptions
+ 196 (in GLEngine) [0x410c54]
                                                  1 _gldAttachDrawable + 333 (in
AppleIntelGMAX3100GLDriver) [0x1200657d]
                                                    1 _IOConnectCallMethod + 300
(in IOKit) [0x958133c6]
                                                      1 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                  1 _image_rendered_render + 534 (in QuartzCore)
[0x948c9a50]
                                    1 __CGXGLCompositeGroup + 563 (in
CoreGraphics) [0x91387bc8]
                                      1 __CGXGLCompositeLayer_ + 8114 (in
CoreGraphics) [0x91386d63]
                                        1 _glEnd_Exec + 50 (in GLEngine)
[0x420ed2]
                                          1 _gleRenderPrimitiveTCLFunc + 134 (in
GLEngine) [0x5279f6]
                                            1
__Z26GHALSendPrimitiveConvertedP13GLDContextRecj + 169 (in
AppleIntelGMAX3100GLDriver) [0x120191c9]
                                              1 _glrAppleSyncState + 136 (in
AppleIntelGMAX3100GLDriver) [0x12029458]
                                                1
__ZN6GHAL3D26CGen4PrivateStateProcessor12BindPipelineEv + 9204 (in
AppleIntelGMAX3100GLDriver) [0x1228b4b4]
                                                  1
__ZN6GHAL3D24CGen4StateProcessorCache24GetPipelineStatePointersEv + 1900 (in
AppleIntelGMAX3100GLDriver) [0x123036bc]
                                                    1
__ZN6GHAL3D24CGen4StateProcessorCache20GetSamplerArrayStateENS_11SHADER_TYPEERj
+ 614 (in AppleIntelGMAX3100GLDriver) [0x122e4556]
                      1 __CGXGLCompositeLayers + 1290 (in CoreGraphics)
[0x91387419]
                        1 _cgxcoreimage_render_image + 355 (in
libCGXCoreImage.A.dylib) [0x13d7d15d]
                          1 -[CIContextImpl render:] + 264 (in QuartzCore)
[0x94839c22]
                            1 -[CIOpenGLContextImpl
renderWithBounds:matrix:function:info:] + 209 (in QuartzCore) [0x94839cfb]
                              1 _renderImage + 109 (in QuartzCore) [0x948f0bf2]
                                1 _fe_image_render + 155 (in QuartzCore)
[0x9483b6a3]
                                  1 _fe_image_render_ + 213 (in QuartzCore)
[0x947e26ac]
                                    1 _fe_tree_render_image + 923 (in
QuartzCore) [0x947e2e2b]
                                      1 _fe_tree_render_tree + 196 (in
QuartzCore) [0x947f3f5b]
                                        1 _fe_tree_render_ + 1704 (in
QuartzCore) [0x947f4985]
                                          1 _fe_tree_render_apply + 827 (in
QuartzCore) [0x947f5285]
                                            1 _fe_tree_create_texture + 1191 (in
QuartzCore) [0x947f5b31]
                                              1 _fe_texture_new + 463 (in
QuartzCore) [0x947f6d34]
                                                1 _texture_retain + 674 (in
QuartzCore) [0x947f716d]
                                                  1 _fe_tree_render_texture + 60
(in QuartzCore) [0x94829143]
                                                    1 _fe_tree_render_ + 1704
(in QuartzCore) [0x947f4985]
                                                      1 _fe_tree_render_apply +
1535 (in QuartzCore) [0x947f5549]
                                                        1
_fe_tree_render_apply_1 + 2438 (in QuartzCore) [0x947fa60a]
                                                          1 _fe_context_end + 31
(in QuartzCore) [0x9480ecca]
                                                            1 _fe_gl_end + 69
(in QuartzCore) [0x94833205]
                                                              1 _glEnd_Exec + 50
(in GLEngine) [0x420ed2]
                                                                1
_gleRenderPrimitiveTCLFunc + 134 (in GLEngine) [0x5279f6]
                                                                  1
__Z26GHALSendPrimitiveConvertedP13GLDContextRecj + 169 (in
AppleIntelGMAX3100GLDriver) [0x120191c9]
                                                                    1
_glrAppleSyncState + 136 (in AppleIntelGMAX3100GLDriver) [0x12029458]
                                                                      1
__ZN6GHAL3D26CGen4PrivateStateProcessor12BindPipelineEv + 9204 (in
AppleIntelGMAX3100GLDriver) [0x1228b4b4]
                                                                        1
__ZN6GHAL3D24CGen4StateProcessorCache24GetPipelineStatePointersEv + 1684 (in
AppleIntelGMAX3100GLDriver) [0x123035e4]
                                                                          1
__ZN6GHAL3D24CGen4StateProcessorCache29FreeLeastRecentlyUsedPipelineEv + 482 (in
AppleIntelGMAX3100GLDriver) [0x12301aa2]
                                                                            1
__ZN6GHAL3D11CStateCacheINS_39SGen4PipelineStatePointersStateCacheKeyENS_40CGen4PipelineStatePointersStateCacheDataEE8FreeDataEj
+ 523 (in AppleIntelGMAX3100GLDriver) [0x1231804b]
                                                                              1
__ZN6GHAL3D40CGen4PipelineStatePointersStateCacheData6DeleteERPS0_ + 56 (in
AppleIntelGMAX3100GLDriver) [0x122ba0c8]
                                                                               
1 __ZN6GHAL3D40CGen4PipelineStatePointersStateCacheDataD0Ev + 1812 (in
AppleIntelGMAX3100GLDriver) [0x122bb244]
                                                                                
 1 __ZN6GHAL3D11CStateCacheINS_29SGen4ClipperUnitStateCacheKeyENS_30CGen4ClipperUnitStateCacheDataEE8FreeDataEj
+ 587 (in AppleIntelGMAX3100GLDriver) [0x122be04b]
                                                                                
   1 __ZN6GHAL3D30CGen4ClipperUnitStateCacheData6DeleteERPS0_ + 56 (in
AppleIntelGMAX3100GLDriver) [0x122986a8]
                                                                                
     1 __ZN6GHAL3D30CGen4ClipperUnitStateCacheDataD0Ev + 317 (in
AppleIntelGMAX3100GLDriver) [0x122992bd]
                                                                                
       1 __ZN6GHAL3D11CStateCacheINS_38SGen4ClipperViewportArrayStateCacheKeyENS_39CGen4ClipperViewportArrayStateCacheDataEE8FreeDataEj
+ 496 (in AppleIntelGMAX3100GLDriver) [0x1229b9c0]
                                                                                
         1 __ZN4iSTD10CHashTableIN6GHAL3D38SGen4ClipperViewportArrayStateCacheKeyEjNS1_10CAllocatorEE9CHashNodeD0Ev
+ 93 (in AppleIntelGMAX3100GLDriver) [0x1231868d]
                                                                                
           1 _szone_free + 1608 (in libSystem.B.dylib) [0x945cba62]
                      1 __CGXGLCompositeLayers + 934 (in CoreGraphics)
[0x913872b5]
                        1 _gldFlush + 52 (in AppleIntelGMAX3100GLDriver)
[0x1201ba34]
                          1 _i965SubmitPacketsToken + 73 (in
AppleIntelGMAX3100GLDriver) [0x12060489]
                            1
__ZN6GHAL3D24CPrivateCommandTransport18FlushCommandBufferENS_10FLUSH_TYPEE + 307
(in AppleIntelGMAX3100GLDriver) [0x120645e3]
                              1
__ZN13GhalInterface16getCommandBufferEPPhS1_PjS2_ + 114 (in
AppleIntelGMAX3100GLDriver) [0x12016f12]
                                1 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
                2 _CGXUpdateDisplay + 6609 (in CoreGraphics) [0x9123e8a4]
                  2 _CGXReleaseDisplayDeviceSurface + 247 (in CoreGraphics)
[0x91258885]
                    2 _CGXGLAccelFinish + 169 (in CoreGraphics) [0x91259951]
                      2 __Z13i965SwapFlushP13GLDContextRecm + 32 (in
AppleIntelGMAX3100GLDriver) [0x1201b900]
                        2 _i965SubmitPacketsToken + 73 (in
AppleIntelGMAX3100GLDriver) [0x12060489]
                          2
__ZN6GHAL3D24CPrivateCommandTransport18FlushCommandBufferENS_10FLUSH_TYPEE + 307
(in AppleIntelGMAX3100GLDriver) [0x120645e3]
                            2 __ZN13GhalInterface16getCommandBufferEPPhS1_PjS2_
+ 114 (in AppleIntelGMAX3100GLDriver) [0x12016f12]
                              2 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
                1 _CGXUpdateDisplay + 1173 (in CoreGraphics) [0x9123d368]
                  1 __CGXGetUpdateDisplayRegion + 782 (in CoreGraphics)
[0x912475cf]
                    1 _CGXCoreImageFilterGeometry + 161 (in CoreGraphics)
[0x91293c3d]
                      1 _cgxcoreimage_filter_geometry + 817 (in
libCGXCoreImage.A.dylib) [0x13d7c6c6]
                        1 _NSPopAutoreleasePool + 431 (in Foundation)
[0x91dff44f]
                          1 -[CIFilter dealloc] + 86 (in QuartzCore)
[0x947d73a0]
                            1 __CFRelease + 216 (in CoreFoundation)
[0x94242538]
                              1 __CFRelease + 168 (in CoreFoundation)
[0x94242508]
            1 _CGXRunOneServicesPass + 487 (in CoreGraphics) [0x91246cb9]
              1 _CGXFlushEventTaps + 44 (in CoreGraphics) [0x9124a905]
                1 _postEventTapData + 146 (in CoreGraphics) [0x91479976]
                  1 _CGEventCreateDataWithOptions + 109 (in CoreGraphics)
[0x91714e94]
          1 _CGXRunOneEventPass + 1 (in CoreGraphics) [0x91248371]
  Kernel stack:
    18 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      14 _mach_msg_overwrite_trap + 4820 [0x1274de]
        13 _ipc_mqueue_receive + 738 [0x121286]
          13 _thread_block + 33 [0x136f20]
            13 _thread_block_reason + 135 [0x136e7c]
              13 _thread_setrun + 3597 [0x136217]
                13 _machine_idle + 271 [0x1ac3ec]
        1 _ml_set_interrupts_enabled + 47 [0x1a4389]
      4 _mach_msg_overwrite_trap + 752 [0x1264fa]
        4 _ipc_kobject_server + 247 [0x12d4d6]
          3 _iokit_server_routine + 3800 [0x18ac09]
            3 _is_io_connect_map_memory + 84 [0x44445c]
              3 _is_io_connect_map_memory_into_task + 87 [0x444345]
                3 __ZN12IOUserClient17mapClientMemory64EmP4taskmy + 72
[0x43faec]
                  1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 39096
[0x68f8b8]
                    1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 277444
[0x6c9bc4]
                      1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 154948
[0x6abd44]
                  1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 39938
[0x68fc02]
                    1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 129809
[0x6a5b11]
                  1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 39369
[0x68f9c9]
                    1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 163694
[0x6adf6e]
                      1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 163367
[0x6ade27]
          1 _iokit_server_routine + 20111 [0x18ebc0]
            1 _is_io_connect_method + 468 [0x4416d4]
              1 __ZN12IOUserClient14externalMethodEjP25IOExternalMethodArgumentsP24IOExternalMethodDispatchP8OSObjectPv
+ 792 [0x443afe]
                1 _shim_io_connect_method_scalarI_structureO + 455 [0x4425e5]
                  1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 93182
[0x69cbfe]
                    1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 91544
[0x69c598]
                      1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 125803
[0x6a4b6b]
                        1 _thread_block + 33 [0x136f20]
                          1 _thread_block_reason + 135 [0x136e7c]
                            1 _thread_setrun + 3597 [0x136217]
                              1 _machine_idle + 271 [0x1ac3ec]
    11 _PE_incoming_interrupt + 131 [0x44e416]
      11 _lapic_interrupt + 121 [0x1b16c0]
        11 _sync_iss_to_iks + 114 [0x1aa3ae]
    3 _user_trap + 659 [0x1ab39c]
      2 _vm_fault + 3049 [0x1636ae]
        2 _vm_fault_page + 178 [0x160eb0]
          2 _lck_rw_sleep + 92 [0x13115c]
            2 _thread_block + 33 [0x136f20]
              2 _thread_continue + 1180 [0x136cb3]
      1 _vm_fault + 2675 [0x163538]
        1 _vm_page_grab + 47 [0x17ff17]
    1 _lo_unix_scall + 219 [0x1a1bfb]
    1 _unix_syscall + 572 [0x3e3a7f]
      1 _mmap + 1738 [0x37a5d9]
        1 _vm_map_enter_mem_object + 2035 [0x1727db]
          1 _vm_map_enter + 3014 [0x16f4f6]
            1 _vm_map_entry_insert + 88 [0x165e8e]
              1 _vm_map_create + 316 [0x165d37]
                1 _zalloc_canblock + 102 [0x1433c6]

  Thread id:      6313048
  User stack:
    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      63137d8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _eventThread + 499 (in CoreGraphics) [0x91233b79]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            448 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
            1 _CFRunLoopRunSpecific + 4469 (in CoreFoundation) [0x942408f5]
              1 _eventTimerCallback + 33 (in CoreGraphics) [0x91317307]
                1 __CGXRunTimerPass + 469 (in CoreGraphics) [0x91234dc2]
                  1 _performSetHWCursor + 119 (in CoreGraphics) [0x9131509c]
                    1 _IOFBSetNewCursor + 128 (in IOKit) [0x9581f455]
                      1 _IOConnectCallMethod + 300 (in IOKit) [0x958133c6]
                        1 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]
  Kernel stack:
    3 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      2 _mach_msg_overwrite_trap + 4820 [0x1274de]
        2 _ipc_mqueue_receive + 738 [0x121286]
          2 _thread_block + 33 [0x136f20]
            2 _thread_block_reason + 135 [0x136e7c]
              2 _thread_setrun + 3597 [0x136217]
                2 _machine_idle + 271 [0x1ac3ec]
      1 _mach_msg_overwrite_trap + 752 [0x1264fa]
        1 _ipc_kobject_server + 247 [0x12d4d6]
          1 _iokit_server_routine + 20111 [0x18ebc0]
            1 _is_io_connect_method + 468 [0x4416d4]
              1 __ZN12IOUserClient14externalMethodEjP25IOExternalMethodArgumentsP24IOExternalMethodDispatchP8OSObjectPv
+ 747 [0x443ad1]
                1 _shim_io_connect_method_scalarI_scalarO + 477 [0x441c6b]
                  1 com.apple.iokit.IOGraphicsFamily (1.7.3) + 58460 [0x5c045c]
                    1 com.apple.iokit.IOGraphicsFamily (1.7.3) + 53046
[0x5bef36]
                      1 _blkclr + 17 [0x199c01]

  Thread id:      5cb54f0
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      541dd60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _layer_blit_async_thread + 95 (in CoreGraphics) [0x9138b4f2]
          449 _layer_blit_thread + 229 (in CoreGraphics) [0x9138afcd]
            449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]


Process:        aosnotifyd [297]
Path:           /System/Library/PrivateFrameworks/AOSNotification.framework/Resources/aosnotifyd

  ADDRESS         BINARY
  00001000        /System/Library/PrivateFrameworks/AOSNotification.framework/Resources/aosnotifyd
  0001b000        /System/Library/PrivateFrameworks/XMPP.framework/XMPP

  Thread id:      7062000
  User stack:
    449 start + 54 (in aosnotifyd) [0x20ba]
      449 _main + 1082 (in aosnotifyd) [0x3679]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      7845048
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        aslmanager [39286]
Path:           /usr/sbin/aslmanager

  ADDRESS         BINARY
  00001000        /usr/sbin/aslmanager

  Thread id:      10c6d7d8
  User stack:
    3 ??? [0x20e2]
      3 ??? [0x2d82]
        2 _open$NOCANCEL$UNIX2003 + 10 (in libSystem.B.dylib) [0x945c5c72]
        1 ??? [0x23d1]
          1 _asl_file_match + 339 (in libSystem.B.dylib) [0x946b42f6]
            1 _asl_file_fetch_pos + 1003 (in libSystem.B.dylib) [0x946b4074]
              1 _asl_file_fetch_object + 176 (in libSystem.B.dylib)
[0x946b3b0a]
                1 _strdup + 34 (in libSystem.B.dylib) [0x945f0132]
                  1 _malloc + 55 (in libSystem.B.dylib) [0x945c606c]
                    1 _malloc_zone_malloc + 81 (in libSystem.B.dylib)
[0x945c60d8]
                      1 _tiny_malloc_from_free_list + 27 (in libSystem.B.dylib)
[0x945cd315]
  Kernel stack:
    2 _unix_syscall + 572 [0x3e3a7f]
      2 _open_nocancel + 242 [0x1e4253]
        2 _chroot + 650 [0x1e3bd4]
          2 _vn_open_auth + 434 [0x1ed4db]
            2 _vn_create + 353 [0x1ddb9f]
              2 _VNOP_CREATE + 116 [0x1f5d23]
                2 _GetLogicalBlockSize + 33759 [0x346233]
                  2 _GetLogicalBlockSize + 32057 [0x345b8d]
                    2 _GetLogicalBlockSize + 2128 [0x33e6a4]
                      2 _journal_start_transaction + 540 [0x1fdddc]
                        2 _lck_mtx_lock + 289 [0x19d8c1]
                          2 _lck_mtx_lock_wait + 361 [0x1318f1]
                            2 _thread_block + 33 [0x136f20]
                              2 _thread_continue + 1180 [0x136cb3]
    1 _PE_incoming_interrupt + 131 [0x44e416]
      1 _lapic_interrupt + 121 [0x1b16c0]
        1 _sync_iss_to_iks + 114 [0x1aa3ae]


Process:        autofsd [39]
Path:           /usr/libexec/autofsd

  ADDRESS         BINARY
  00001000        /usr/libexec/autofsd

  Thread id:      54a12e8
  User stack:
    449 ??? [0x1752]
      449 ??? [0x1d8b]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        bash [4964]
Path:           /bin/bash

  ADDRESS         BINARY
  00001000        /bin/bash

  Thread id:      10477ba0
  User stack:
    449 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _read_nocancel + 150 [0x39188d]
        449 _nosys + 593 [0x39164d]
          449 _vn_rdwr + 353 [0x1ede33]
            449 _VNOP_READ + 168 [0x1f8492]
              449 _spec_read + 102 [0x205684]
                449 _ptmx_init + 4848 [0x39d438]
                  449 _ttread + 988 [0x399940]
                    449 _tsleep + 105 [0x386498]
                      449 _uiomove + 1030 [0x3861b0]
                        449 _thread_block + 33 [0x136f20]
                          449 _thread_continue + 1180 [0x136cb3]


Process:        bash [837]
Path:           /bin/bash

  ADDRESS         BINARY
  00001000        /bin/bash

  Thread id:      1040a7d8
  User stack:
    449 ??? [0x1aca]
      449 ??? [0x3ac7]
        449 ??? [0x3e0d]
          449 ??? [0x3c92]
            449 ??? [0x3bbb]
              449 ??? [0x9760]
                449 ??? [0x6b4d]
                  449 ??? [0x5751]
                    449 ??? [0x408e]
                      449 ??? [0x4f62f]
                        449 ??? [0x4f518]
                          449 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _read_nocancel + 150 [0x39188d]
        449 _nosys + 593 [0x39164d]
          449 _vn_rdwr + 353 [0x1ede33]
            449 _VNOP_READ + 168 [0x1f8492]
              449 _spec_read + 102 [0x205684]
                449 _ptmx_init + 4848 [0x39d438]
                  449 _ttread + 988 [0x399940]
                    449 _tsleep + 105 [0x386498]
                      449 _uiomove + 1030 [0x3861b0]
                        449 _thread_block + 33 [0x136f20]
                          449 _thread_continue + 1180 [0x136cb3]


Process:        bash [37653]
Path:           /bin/bash

  ADDRESS         BINARY
  00001000        /bin/bash

  Thread id:      1003d3c8
  User stack:
    449 ??? [0x1aca]
      449 ??? [0x3ac7]
        449 ??? [0x3e0d]
          449 ??? [0x3c92]
            449 ??? [0x3bbb]
              449 ??? [0x9760]
                449 ??? [0x6b4d]
                  449 ??? [0x5751]
                    449 ??? [0x408e]
                      449 ??? [0x4f62f]
                        449 ??? [0x4f518]
                          449 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _read_nocancel + 150 [0x39188d]
        449 _nosys + 593 [0x39164d]
          449 _vn_rdwr + 353 [0x1ede33]
            449 _VNOP_READ + 168 [0x1f8492]
              449 _spec_read + 102 [0x205684]
                449 _ptmx_init + 4848 [0x39d438]
                  449 _ttread + 988 [0x399940]
                    449 _tsleep + 105 [0x386498]
                      449 _uiomove + 1030 [0x3861b0]
                        449 _thread_block + 33 [0x136f20]
                          449 _thread_continue + 1180 [0x136cb3]


Process:        bash [4614]
Path:           /bin/bash

  ADDRESS         BINARY
  00001000        /bin/bash

  Thread id:      5f3e000
  User stack:
    449 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _read_nocancel + 150 [0x39188d]
        449 _nosys + 593 [0x39164d]
          449 _vn_rdwr + 353 [0x1ede33]
            449 _VNOP_READ + 168 [0x1f8492]
              449 _spec_read + 102 [0x205684]
                449 _ptmx_init + 4848 [0x39d438]
                  449 _ttread + 988 [0x399940]
                    449 _tsleep + 105 [0x386498]
                      449 _uiomove + 1030 [0x3861b0]
                        449 _thread_block + 33 [0x136f20]
                          449 _thread_continue + 1180 [0x136cb3]


Process:        blued [52]
Path:           /usr/sbin/blued

  ADDRESS         BINARY
  00001000        /usr/sbin/blued
  0003e000        /System/Library/PrivateFrameworks/BezelServices.framework/Versions/A/BezelServices
  000c4000        /System/Library/Frameworks/IOBluetooth.framework/Versions/A/IOBluetooth
  00188000        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211

  Thread id:      538eba0
  User stack:
    449 ??? [0x1efa]
      449 ??? [0x22285]
        449 -[NSRunLoop(NSRunLoop) run] + 84 (in Foundation) [0x91e444f4]
          449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in Foundation)
[0x91e383d5]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5f42410
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        configd [36]
Path:           /usr/sbin/configd

  ADDRESS         BINARY
  00001000        /usr/sbin/configd
  0003e000        /System/Library/SystemConfiguration/PrinterNotifications.bundle/Contents/MacOS/PrinterNotifications
  00043000        /System/Library/SystemConfiguration/PowerManagement.bundle/Contents/MacOS/PowerManagement
  00055000        /System/Library/SystemConfiguration/DynamicPowerStep.bundle/Contents/MacOS/DynamicPowerStep
  0005a000        /System/Library/SystemConfiguration/Bluetooth.bundle/Contents/MacOS/Bluetooth
  00060000        /System/Library/SystemConfiguration/BatteryUpdater.bundle/Contents/MacOS/BatteryUpdater
  00065000        /System/Library/SystemConfiguration/Apple80211Monitor.bundle/Contents/MacOS/Apple80211Monitor
  0007d000        /System/Library/SystemConfiguration/EAPOLController.bundle/EAPOLController
  00086000        /System/Library/SystemConfiguration/IP6Configuration.bundle/Contents/MacOS/IP6Configuration
  00098000        /System/Library/SystemConfiguration/IPConfiguration.bundle/Contents/MacOS/IPConfiguration
  000c4000        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211
  00200000        /System/Library/SystemConfiguration/PPPController.bundle/Contents/MacOS/PPPController
  00219000        /System/Library/Extensions/IOUSBFamily.kext/Contents/PlugIns/IOUSBLib.bundle/Contents/MacOS/IOUSBLib

  Thread id:      54a1e40
  User stack:
    449 start + 54 (in configd) [0x220e]
      449 _main + 2394 (in configd) [0x2c3f]
        449 _server_loop + 70 (in configd) [0x39a6]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    1 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      1 _mach_msg_overwrite_trap + 4820 [0x1274de]
        1 _ipc_mqueue_receive + 182 [0x12105a]
          1 _thread_block + 33 [0x136f20]
            1 _thread_continue + 1180 [0x136cb3]

  Thread id:      58ab5d0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _plugin_exec + 1562 (in configd) [0x4c5b]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      58a9b58
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __io_pm_assertion_create + 2029 (in PowerManagement) [0x453cb]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      58a9000
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        coreaudiod [213]
Path:           /usr/sbin/coreaudiod

  ADDRESS         BINARY
  00001000        /usr/sbin/coreaudiod
  00031000        /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn
  0003a000        /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn
  00200000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  0023d000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  70000000        /System/Library/Components/CoreAudio.component/Contents/MacOS/CoreAudio

  Thread id:      634d4f0
  User stack:
    449 ??? [0x27c2]
      449 ??? [0x97b7]
        449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      634c998
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9CAPThread5EntryEPS_ + 96 (in CoreAudio) [0x908f1480]
          449 __ZN10HALRunLoop9OwnThreadEPv + 160 (in CoreAudio) [0x908f15f8]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        coreservicesd [53]
Path:           /System/Library/CoreServices/coreservicesd

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/coreservicesd
  000c0000        /System/Library/PrivateFrameworks/URLMount.framework/URLMount
  000d2000        /System/Library/Filesystems/URLMount/http.URLMounter/Contents/MacOS/http

  Thread id:      541e8b8
  User stack:
    449 ??? [0x1f6e]
      449 __CoreServicesServerMain + 795 (in CarbonCore) [0x954fa7cf]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          448 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
          1 _CFRunLoopRunSpecific + 3896 (in CoreFoundation) [0x942406b8]
            1 ___CFMachPortPerform + 117 (in CoreFoundation) [0x9421bff5]
              1 __Z15_serverCallbackP12__CFMachPortPvlS1_ + 361 (in CarbonCore)
[0x954fac2f]
                1 __ZN15SCServerSession13handleMessageEP17mach_msg_header_t +
472 (in CarbonCore) [0x954fbe04]
                  1 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      6311d60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      5cb67d8
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      58a9f20
  User stack:
    449 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _read_nocancel + 150 [0x39188d]
        449 _nosys + 593 [0x39164d]
          449 _release_pathbuff + 3077 [0x20172b]
            449 _tsleep + 105 [0x386498]
              449 _uiomove + 1030 [0x3861b0]
                449 _thread_block + 33 [0x136f20]
                  449 _thread_continue + 1180 [0x136cb3]


Process:        cupsd [39235]
Path:           /usr/sbin/cupsd

  ADDRESS         BINARY
  6d718000        /usr/sbin/cupsd
  6d77a000        /usr/lib/libpam.1.dylib

  Thread id:      10831208
  User stack:
    449 start + 54 (in cupsd) [0x6d718d7a]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      107fe2e8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _cupsdUpdateSystemMonitor + 2174 (in cupsd) [0x6d75cf9e]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        diskarbitrationd [33]
Path:           /usr/sbin/diskarbitrationd

  ADDRESS         BINARY
  00001000        /usr/sbin/diskarbitrationd

  Thread id:      54a2998
  User stack:
    449 ??? [0x1a5a]
      449 ??? [0x8a7a]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        diskimages-helper [39119]
Path:           /System/Library/PrivateFrameworks/DiskImages.framework/Resources/diskimages-helper

  ADDRESS         BINARY
  00001000        /System/Library/PrivateFrameworks/DiskImages.framework/Resources/diskimages-helper
  0005f000        /System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit
  0015f000        /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/DiskImages
  002be000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
  003f2000        /usr/lib/libcurl.4.dylib

  Thread id:      e53a790
  User stack:
    449 ??? [0x4fbe]
      449 ??? [0x1ed20]
        449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in Foundation)
[0x91e383d5]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      10406000
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      10c6c4f0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x32045]
              449 ??? [0xb2ce]
                449 _DI_kextDriveGetRequest + 61 (in DiskImages) [0x1a0a56]
                  449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    449 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      449 _mach_msg_overwrite_trap + 752 [0x1264fa]
        449 _ipc_kobject_server + 247 [0x12d4d6]
          449 _iokit_server_routine + 5945 [0x18b46a]
            449 _is_io_connect_method_structureI_structureO + 159 [0x442e15]
              449 _is_io_connect_method + 468 [0x4416d4]
                449 __ZN12IOUserClient14externalMethodEjP25IOExternalMethodArgumentsP24IOExternalMethodDispatchP8OSObjectPv
+ 837 [0x443b2b]
                  449 _shim_io_connect_method_structureI_structureO + 352
[0x442f78]
                    449 com.apple.driver.DiskImages (199) + 11970 [0x8efec2]
                      449 com.apple.driver.DiskImages (199) + 7029 [0x8eeb75]
                        449 _semaphore_wait + 50 [0x13a00d]
                          449 _semaphore_wait_internal + 565 [0x139c87]
                            449 _thread_block + 33 [0x136f20]
                              449 _thread_continue + 1180 [0x136cb3]

  Thread id:      10c6bd60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            448 ??? [0x321fd]
              448 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in
Foundation) [0x91e383d5]
                447 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                  447 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
                1 _mk_timer_arm + 10 (in libSystem.B.dylib) [0x945c53ca]
            1 __CFRunLoopFinished + 1 (in CoreFoundation) [0x9423c381]
  Kernel stack:
    6 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      5 _mach_msg_overwrite_trap + 4820 [0x1274de]
        5 _ipc_mqueue_receive + 738 [0x121286]
          5 _thread_block + 33 [0x136f20]
            5 _thread_block_reason + 135 [0x136e7c]
              5 _thread_setrun + 3597 [0x136217]
                5 _machine_idle + 271 [0x1ac3ec]
      1 _mk_timer_arm_trap + 149 [0x132788]
        1 _ml_set_interrupts_enabled + 47 [0x1a4389]
    1 _i386_astintr + 47 [0x1aa272]
      1 _ast_taken + 185 [0x129434]
        1 _thread_continue + 1180 [0x136cb3]


Process:        distnoted [47]
Path:           /usr/sbin/distnoted

  ADDRESS         BINARY
  00001000        /usr/sbin/distnoted

  Thread id:      58abd60
  User stack:
    449 ??? [0x1ef6]
      449 ??? [0x1f95]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        dynamic_pager [30]
Path:           /sbin/dynamic_pager

  ADDRESS         BINARY

  Thread id:      538e7d8
  User stack:
    449 ??? [0x178a]
      449 ??? [0x2a11]
        449 ??? [0x2224]
          449 ??? [0x1efd]
            449 ??? [0x945c5286]


Process:        fseventsd [28]
Path:           /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/Support/fseventsd

  ADDRESS         BINARY
  00001000        /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/Support/fseventsd

  Thread id:      5291208
  User stack:
    449 ??? [0x255e]
      449 ??? [0x2f88]
        356 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
        93 _mach_msg_overwrite_trap + 10 (in libSystem.B.dylib) [0x945c5292]
  Kernel stack:
    93 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      93 _mach_msg_overwrite_trap + 3808 [0x1270ea]
        93 _ipc_mqueue_receive + 750 [0x121292]
          93 _thread_block + 33 [0x136f20]
            93 _thread_continue + 1180 [0x136cb3]

  Thread id:      58ad7d8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0xbbd5]
          449 ??? [0xb929]
            449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      58ad410
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x4492]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      58ad048
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _read_nocancel + 150 [0x39188d]
        449 _nosys + 593 [0x39164d]
          449 _release_pathbuff + 3077 [0x20172b]
            449 _tsleep + 105 [0x386498]
              449 _uiomove + 1030 [0x3861b0]
                449 _thread_block + 33 [0x136f20]
                  449 _thread_continue + 1180 [0x136cb3]

  Thread id:      58acc80
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      603f410
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      634af20
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      634a790
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      677fba0
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      677e4f0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      5cb3a78
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      7062f20
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      104fce40
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      6c76e40
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      1040a048
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      104746b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      103e07d8
  User stack:
    449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      107fdf20
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      104fca78
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        448 ??? [0x9830]
          448 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
        1 ??? [0x9dcc]
          1 ??? [0x38f9]
            1 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      10c6c128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      1082f000
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      ffef998
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      10041410
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      100417d8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      ee976b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9830]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      10051410
  User stack:
    93 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      93 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        93 ??? [0x9830]
          93 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]


Process:        hdiejectd [39124]
Path:           /System/Library/PrivateFrameworks/DiskImages.framework/Resources/hdiejectd

  ADDRESS         BINARY
  00001000        /System/Library/PrivateFrameworks/DiskImages.framework/Resources/hdiejectd

  Thread id:      ee98998
  User stack:
    449 ??? [0x4c4a]
      449 ??? [0x630f]
        449 ??? [0x6150]
          449 ??? [0x286a]
            449 -[NSRunLoop(NSRunLoop) run] + 84 (in Foundation) [0x91e444f4]
              449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in
Foundation) [0x91e383d5]
                449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                  449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        hidd [27]
Path:           /usr/libexec/hidd

  ADDRESS         BINARY
  00001000        /usr/libexec/hidd

  Thread id:      538d128
  User stack:
    449 ??? [0x1f76]
      449 ??? [0x1fef]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      54a4048
  User stack:
    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        iCal [443]
Path:           /Applications/iCal.app/Contents/MacOS/iCal

  ADDRESS         BINARY
  00001000        /Applications/iCal.app/Contents/MacOS/iCal
  0024e000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  019c6000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  019e6000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  01c55000        /System/Library/Components/AppleScript.component/Contents/MacOS/AppleScript
  14142000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  147dd000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  1481a000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  148f5000        /System/Library/PrivateFrameworks/AppleScript.framework/Versions/A/AppleScript

  Thread id:      5f414f0
  User stack:
    449 ??? [0xaaa16]
      449 ??? [0x2fea]
        449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
          449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
            449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]
+ 128 (in AppKit) [0x965baf88]
              449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
                449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                  449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                    449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                      449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                        449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      7063e40
  User stack:
    449 ___workq_ops + 10 (in libSystem.B.dylib) [0x9462e292]

  Thread id:      a2644f0
  User stack:
    449 ___workq_ops + 10 (in libSystem.B.dylib) [0x9462e292]

  Thread id:      10409c80
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[NSUIHeartBeat _heartBeatThread:] + 753 (in AppKit)
[0x966216e8]
              449 -[NSConditionLock lockWhenCondition:] + 69 (in Foundation)
[0x91e49b35]
                449 -[NSConditionLock lockWhenCondition:beforeDate:] + 144 (in
Foundation) [0x91e49bd0]
                  449 -[NSCondition waitUntilDate:] + 236 (in Foundation)
[0x91e49dbc]
                    449 _semaphore_timedwait_signal_trap + 10 (in
libSystem.B.dylib) [0x945c52e6]


Process:        iPhoto [3980]
Path:           /Applications/iPhoto.app/Contents/MacOS/iPhoto

  ADDRESS         BINARY
  00001000        /Applications/iPhoto.app/Contents/MacOS/iPhoto
  0079e000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
  008d2000        /System/Library/Frameworks/DiscRecordingUI.framework/Versions/A/DiscRecordingUI
  0091b000        /System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
  00924000        /Applications/iPhoto.app/Contents/MacOS/../Frameworks/UpgradeChecker.framework/Versions/A/UpgradeChecker
  00936000        /Applications/iPhoto.app/Contents/MacOS/../Frameworks/DotMacKit.framework/Versions/A/DotMacKit
  00a43000        /System/Library/Frameworks/Message.framework/Versions/B/Message
  00df3000        /System/Library/PrivateFrameworks/AppleAppSupport.framework/Versions/A/AppleAppSupport
  00df7000        /System/Library/Frameworks/LatentSemanticMapping.framework/Versions/A/LatentSemanticMapping
  00e3a000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  00e69000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  00ef2000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/ATSHI.dylib
  132f0000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  176ae000        /Applications/iPhoto.app/Contents/NetServices/Bundles/BookService.NetService/Contents/MacOS/BookService
  176c3000        /Applications/iPhoto.app/Contents/MacOS/../NetServices/Frameworks/NetServices.framework/Versions/A/NetServices
  1779b000        /Applications/iPhoto.app/Contents/MacOS/../NetServices/Frameworks/BDControl.framework/Versions/A/BDControl
  177ac000        /Applications/iPhoto.app/Contents/MacOS/../NetServices/Frameworks/BDRuleEngine.framework/Versions/A/BDRuleEngine
  177b6000        /Applications/iPhoto.app/Contents/NetServices/Bundles/CalendarsService.NetService/Contents/MacOS/CalendarsService
  177ca000        /Applications/iPhoto.app/Contents/NetServices/Bundles/CardsService.NetService/Contents/MacOS/CardsService
  177de000        /Applications/iPhoto.app/Contents/NetServices/Bundles/NetSlidesService.NetService/Contents/MacOS/NetSlidesService
  177eb000        /Applications/iPhoto.app/Contents/NetServices/Bundles/PrintsService.NetService/Contents/MacOS/PrintsService
  1794a000        /usr/lib/libmx.A.dylib
  17a6a000        /Library/QuickTime/AppleIntermediateCodec.component/Contents/MacOS/AppleIntermediateCodec
  17a89000        /Library/QuickTime/AppleMPEG2Codec.component/Contents/MacOS/AppleMPEG2Codec
  17b25000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  17bf3000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  17c30000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  18e9f000        /System/Library/TextEncodings/Unicode
Encodings.bundle/Contents/MacOS/Unicode Encodings
  18ee1000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBAperturePlugin.ilmbplugin/Contents/MacOS/iLMBAperturePlugin
  18ef0000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBAppDefPlugin.ilmbplugin/Contents/MacOS/iLMBAppDefPlugin
  18ef7000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBFolderPlugin.ilmbplugin/Contents/MacOS/iLMBFolderPlugin
  19040000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBPhotoBoothPlugin.ilmbplugin/Contents/MacOS/iLMBPhotoBoothPlugin
  19049000        /System/Library/QuickTime/AppleProResDecoder.component/Contents/MacOS/AppleProResDecoder
  190d6000        /System/Library/QuickTime/ApplePixletVideo.component/Contents/MacOS/ApplePixletVideo
  19200000        /Library/QuickTime/Flip4Mac WMV
Import.component/Contents/MacOS/Flip4Mac WMV Import
  1947b000        /System/Library/QuickTime/AppleVAH264HW.component/Contents/MacOS/AppleVAH264HW
  1959b000        /System/Library/QuickTime/QuickTimeFireWireDV.component/Contents/MacOS/QuickTimeFireWireDV
  195e3000        /System/Library/PrivateFrameworks/AppleVA.framework/Versions/A/AppleVA
  19644000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBiPhotoPlugin.ilmbplugin/Contents/MacOS/iLMBiPhotoPlugin
  19654000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBMoviesFolderPlugin.ilmbplugin/Contents/MacOS/iLMBMoviesFolderPlugin
  19678000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBiPhoto8Plugin.ilmbplugin/Contents/MacOS/iLMBiPhoto8Plugin
  19693000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBiTunesPlugin.ilmbplugin/Contents/MacOS/iLMBiTunesPlugin
  196a3000        /System/Library/PrivateFrameworks/iTunesAccess.framework/iTunesAccess
  197ba000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBGarageBandPlugin.ilmbplugin/Contents/MacOS/iLMBGarageBandPlugin
  197c5000        /Library/Application
Support/iLifeMediaBrowser/Plug-Ins/iLMBiMoviePlugin.ilmbplugin/Contents/MacOS/iLMBiMoviePlugin
  1a421000        /Library/QuickTime/Perian.component/Contents/MacOS/Perian
  1aacd000        /Library/QuickTime/Flip4Mac WMV
Advanced.component/Contents/MacOS/Flip4Mac WMV Advanced
  ba900000        /System/Library/CoreServices/Encodings/libJapaneseConverter.dylib

  Thread id:      104fe8b8
  User stack:
    449 ??? [0x2c0d]
      449 ??? [0x2ce6]
        449 _NSApplicationMain + 574 (in AppKit) [0x965811d8]
          449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
            449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]
+ 128 (in AppKit) [0x965baf88]
              449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
                449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                  449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                    449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                      449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                        449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      107bc6b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[NSUIHeartBeat _heartBeatThread:] + 753 (in AppKit)
[0x966216e8]
              449 -[NSConditionLock lockWhenCondition:] + 69 (in Foundation)
[0x91e49b35]
                449 -[NSConditionLock lockWhenCondition:beforeDate:] + 144 (in
Foundation) [0x91e49bd0]
                  449 -[NSCondition waitUntilDate:] + 236 (in Foundation)
[0x91e49dbc]
                    449 _semaphore_timedwait_signal_trap + 10 (in
libSystem.B.dylib) [0x945c52e6]

  Thread id:      1040a410
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 -[ILMediaBrowserPathWatcher(FSEvents) iLMBPathWatcherRunLoop] +
849 (in iLifeMediaBrowser) [0x96f135cd]
              449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
                449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      a261790
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _fe_fragment_thread + 54 (in QuartzCore) [0x948c7a09]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      104fe128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _ReadSchedulerThreadEntryPoint + 4724 (in QuickTimeComponents)
[0x928ce65e]
          449 _TSWaitOnSemaphoreCommon + 422 (in CarbonCore) [0x954bfb76]
            449 _TSWaitOnConditionTimedRelative + 246 (in CarbonCore)
[0x954bfd96]
              449 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      7841f20
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _jpegdecompress_MPLoop + 79 (in QuickTimeComponents) [0x92a43b7f]
          449 _semaphore_wait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52ce]

  Thread id:      10c798b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      10c693c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]


Process:        iTunes [3979]
Path:           /Applications/iTunes.app/Contents/MacOS/iTunes

  ADDRESS         BINARY
  00001000        /Applications/iTunes.app/Contents/MacOS/iTunes
  00df9000        /System/Library/PrivateFrameworks/iPodSync.framework/Versions/A/iPodSync
  00e09000        /System/Library/PrivateFrameworks/iPod.framework/Versions/A/iPod
  00e14000        /Applications/iTunes.app/Contents/MacOS/../Frameworks/iPodUpdater.framework/Versions/A/iPodUpdater
  00ee7000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
  0101b000        /System/Library/PrivateFrameworks/vmutils.framework/Versions/A/vmutils
  0121c000        /Library/iTunes/iTunes Plug-ins/Quartz Composer
Visualizer.bundle/Contents/MacOS/Quartz Composer Visualizer
  013e9000        /usr/lib/libmx.A.dylib
  01424000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  01461000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  014f6000        /Library/InputManagers/1PasswdIM/1PasswdIM.bundle/Contents/MacOS/1PasswdIM
  01600000        /System/Library/PrivateFrameworks/MobileDevice.framework/MobileDevice
  01689000        /Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
  0169f000        /System/Library/TextEncodings/Unicode
Encodings.bundle/Contents/MacOS/Unicode Encodings
  016d4000        /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn
  016dd000        /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn
  129c6000        /System/Library/PrivateFrameworks/CoreFP.framework/CoreFP
  17220000        /System/Library/Components/AudioCodecs.component/Contents/MacOS/AudioCodecs
  1812b000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  1869b000        /Library/QuickTime/Perian.component/Contents/MacOS/Perian
  18d47000        /Library/QuickTime/Flip4Mac WMV
Import.component/Contents/MacOS/Flip4Mac WMV Import
  18fc2000        /Library/QuickTime/Flip4Mac WMV
Advanced.component/Contents/MacOS/Flip4Mac WMV Advanced
  191c9000        /System/Library/QuickTime/AppleProResDecoder.component/Contents/MacOS/AppleProResDecoder
  19256000        /System/Library/QuickTime/AppleVAH264HW.component/Contents/MacOS/AppleVAH264HW
  19376000        /System/Library/QuickTime/QuickTimeFireWireDV.component/Contents/MacOS/QuickTimeFireWireDV
  193be000        /Library/QuickTime/AppleIntermediateCodec.component/Contents/MacOS/AppleIntermediateCodec
  193dd000        /Library/QuickTime/AppleMPEG2Codec.component/Contents/MacOS/AppleMPEG2Codec
  193e8000        /System/Library/PrivateFrameworks/AppleVA.framework/Versions/A/AppleVA
  1943f000        /System/Library/QuickTime/ApplePixletVideo.component/Contents/MacOS/ApplePixletVideo
  195fc000        /System/Library/Frameworks/OpenGL.framework/Resources/GLEngine.bundle/GLEngine
  197af000        /System/Library/Extensions/AppleIntelGMAX3100GLDriver.bundle/Contents/MacOS/AppleIntelGMAX3100GLDriver
  19cfb000        /System/Library/Frameworks/OpenGL.framework/Versions/A/Resources/GLRendererFloat.bundle/GLRendererFloat
  1a6f4000        /System/Library/Components/PDFImporter.component/Contents/MacOS/PDFImporter
  70000000        /System/Library/Components/CoreAudio.component/Contents/MacOS/CoreAudio

  Thread id:      107bdd60
  User stack:
    449 ??? [0x2b29]
      449 ??? [0x2bfb]
        449 ??? [0x49a8]
          449 ??? [0xd2af]
            449 ??? [0x135c70]
              449 ??? [0x135d84]
                449 _RunApplicationEventLoop + 222 (in HIToolbox) [0x90a942c2]
                  449 _ToolboxEventDispatcher + 86 (in HIToolbox) [0x90a97a6c]
                    449 _SendEventToEventTarget + 52 (in HIToolbox)
[0x90a2aecc]
                      449
__Z30SendEventToEventTargetInternalP14OpaqueEventRefP20OpaqueEventTargetRefP14HandlerCallRec
+ 405 (in HIToolbox) [0x90a0e57b]
                        449
__Z23DispatchEventToHandlersP14EventTargetRecP14OpaqueEventRefP14HandlerCallRec
+ 2134 (in HIToolbox) [0x90a0f4f6]
                          449
__Z29ToolboxEventDispatcherHandlerP25OpaqueEventHandlerCallRefP14OpaqueEventRefPv
+ 356 (in HIToolbox) [0x90a3cd54]
                            449 _SendEventToEventTargetWithOptions + 58 (in
HIToolbox) [0x90a0e3e0]
                              449
__Z30SendEventToEventTargetInternalP14OpaqueEventRefP20OpaqueEventTargetRefP14HandlerCallRec
+ 405 (in HIToolbox) [0x90a0e57b]
                                449
__Z23DispatchEventToHandlersP14EventTargetRecP14OpaqueEventRefP14HandlerCallRec
+ 1181 (in HIToolbox) [0x90a0f13d]
                                  449 ??? [0x135fae]
                                    449 _ReceiveNextEvent + 58 (in HIToolbox)
[0x90b7a377]
                                      449 _ReceiveNextEventCommon + 374 (in
HIToolbox) [0x90a370c5]
                                        449 _RunCurrentEventLoopInMode + 283 (in
HIToolbox) [0x90a372ac]
                                          449 _CFRunLoopRunInMode + 88 (in
CoreFoundation) [0x94240aa8]
                                            448 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                            1 _CFRunLoopRunSpecific + 4469 (in
CoreFoundation) [0x942408f5]
                                              1 ??? [0x644221]
                                                1 ??? [0x6440e7]
                                                  1 _AMDeviceStopSession + 202
(in MobileDevice) [0x1601f32]
                                                    1 _AMDCopyErrorText + 3974
(in MobileDevice) [0x160da9d]
                                                      1 __ssl_strerror + 1665
(in MobileDevice) [0x160ebe9]
                                                        1 _ssl3_shutdown + 151
(in libssl.0.9.7.dylib) [0x96e8ade2]
                                                          1 _ssl3_read_bytes +
509 (in libssl.0.9.7.dylib) [0x96e8ce6d]
                                                            1 _ssl3_read_n + 338
(in libssl.0.9.7.dylib) [0x96e8c4d6]
                                                              1 ___read + 10 (in
libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    1 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      1 _mach_msg_overwrite_trap + 4820 [0x1274de]
        1 _ipc_mqueue_receive + 738 [0x121286]
          1 _thread_block + 33 [0x136f20]
            1 _thread_block_reason + 135 [0x136e7c]
              1 _thread_setrun + 3597 [0x136217]
                1 _machine_idle + 271 [0x1ac3ec]
    1 _unix_syscall + 572 [0x3e3a7f]
      1 _read_nocancel + 150 [0x39188d]
        1 _nosys + 593 [0x39164d]
          1 _fill_pipeinfo + 2449 [0x3963e7]
            1 _soreceive + 1142 [0x3ac8df]
              1 _sbwait + 159 [0x3add29]
                1 _msleep + 157 [0x3863e8]
                  1 _uiomove + 608 [0x38600a]
                    1 _lck_mtx_sleep_deadline + 104 [0x130e26]
                      1 _thread_block + 33 [0x136f20]
                        1 _thread_continue + 1180 [0x136cb3]

  Thread id:      104076b0
  User stack:
    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      103dc3c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9CAPThread5EntryEPS_ + 96 (in CoreAudio) [0x908f1480]
          449 __ZN10HALRunLoop9OwnThreadEPv + 160 (in CoreAudio) [0x908f15f8]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      7ab54f0
  User stack:
    449 _semaphore_wait_signal_trap + 10 (in libSystem.B.dylib) [0x945c52ce]

  Thread id:      106d2048
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      10408d60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        445 ??? [0x4c5bb]
          445 ??? [0x4c76a]
            445 ??? [0x4c7cb]
              445 ??? [0x4ca5b]
                445 _semaphore_wait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52ce]
        4 ??? [0x4c62c]
          4 ??? [0x646580]
            4 ??? [0x645d18]
              4 ??? [0x645cf0]
                3 ??? [0x645adf]
                  3 ??? [0x644358]
                    3 ??? [0x643499]
                      3 _AMDeviceStartSession + 221 (in MobileDevice)
[0x16035e0]
                        3 _AMDCopyErrorText + 4398 (in MobileDevice)
[0x160dc45]
                          3 __ssl_strerror + 1582 (in MobileDevice) [0x160eb96]
                            3 __ssl_strerror + 1177 (in MobileDevice)
[0x160ea01]
                              2 _ssl3_connect + 6252 (in libssl.0.9.7.dylib)
[0x96e89f11]
                                2 _ssl3_get_finished + 62 (in
libssl.0.9.7.dylib) [0x96e8e3c2]
                                  2 _ssl3_get_message + 261 (in
libssl.0.9.7.dylib) [0x96e8e10c]
                                    2 _ssl3_read_bytes + 509 (in
libssl.0.9.7.dylib) [0x96e8ce6d]
                                      2 _ssl3_read_n + 338 (in
libssl.0.9.7.dylib) [0x96e8c4d6]
                                        2 ___read + 10 (in libSystem.B.dylib)
[0x945e8f9a]
                              1 _ssl3_connect + 1670 (in libssl.0.9.7.dylib)
[0x96e88d2b]
                                1 _ssl3_get_message + 261 (in
libssl.0.9.7.dylib) [0x96e8e10c]
                                  1 _ssl3_read_bytes + 509 (in
libssl.0.9.7.dylib) [0x96e8ce6d]
                                    1 _ssl3_read_n + 338 (in libssl.0.9.7.dylib)
[0x96e8c4d6]
                                      1 ___read + 10 (in libSystem.B.dylib)
[0x945e8f9a]
                1 ??? [0x645af9]
                  1 _AMDeviceCopyValue + 308 (in MobileDevice) [0x1602819]
                    1 _AMDCopyErrorText + 6240 (in MobileDevice) [0x160e377]
                      1 _select$DARWIN_EXTSN$NOCANCEL + 10 (in
libSystem.B.dylib) [0x945fc3ca]
  Kernel stack:
    3 _unix_syscall + 572 [0x3e3a7f]
      3 _read_nocancel + 150 [0x39188d]
        3 _nosys + 593 [0x39164d]
          3 _fill_pipeinfo + 2449 [0x3963e7]
            3 _soreceive + 1142 [0x3ac8df]
              3 _sbwait + 159 [0x3add29]
                3 _msleep + 157 [0x3863e8]
                  3 _uiomove + 608 [0x38600a]
                    3 _lck_mtx_sleep_deadline + 104 [0x130e26]
                      3 _thread_block + 33 [0x136f20]
                        3 _thread_continue + 1180 [0x136cb3]

  Thread id:      108315d0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _glvmDoWork + 162 (in libGLProgrammability.dylib) [0x95c51b32]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      103df4f0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _jpegdecompress_MPLoop + 79 (in QuickTimeComponents) [0x92a43b7f]
          449 _semaphore_wait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52ce]

  Thread id:      107bf410
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x135cc5]
          449 ??? [0x135e09]
            449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      10801048
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      603f7d8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0xade8]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      7ab2b58
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0xade8]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      107ff998
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0xade8]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      107fea78
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0xade8]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      108324f0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0xade8]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        iTunesHelper [293]
Path:           /Applications/iTunes.app/Contents/Resources/iTunesHelper.app/Contents/MacOS/iTunesHelper

  ADDRESS         BINARY
  00001000        /Applications/iTunes.app/Contents/Resources/iTunesHelper.app/Contents/MacOS/iTunesHelper
  0003d000        /System/Library/Components/AppleScript.component/Contents/MacOS/AppleScript
  000b1000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  00300000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  00367000        /System/Library/PrivateFrameworks/AppleScript.framework/Versions/A/AppleScript
  00508000        /System/Library/PrivateFrameworks/MobileDevice.framework/MobileDevice

  Thread id:      70658b8
  User stack:
    449 ??? [0x1c51]
      449 ??? [0x1d24]
        449 ??? [0x29ea]
          449 _RunApplicationEventLoop + 207 (in HIToolbox) [0x90a942b3]
            449 __AcquireNextEvent + 58 (in HIToolbox) [0x90a95b56]
              449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      70645d0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        kextd [10]
Path:           /usr/libexec/kextd

  ADDRESS         BINARY
  00001000        /usr/libexec/kextd

  Thread id:      54a38b8
  User stack:
    449 ??? [0x1b4e]
      449 ??? [0x356b]
        449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      541e4f0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x3c11]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    449 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      449 _mach_msg_overwrite_trap + 752 [0x1264fa]
        449 _ipc_kobject_server + 247 [0x12d4d6]
          449 _host_priv_server_routine + 3711 [0x1486f9]
            449 _kmod_control + 243 [0x190f7f]
              449 _thread_sleep_mutex + 71 [0x137413]
                449 _thread_continue + 1180 [0x136cb3]


Process:        launchd [597]
Path:           /sbin/launchd

  ADDRESS         BINARY
  00001000        /sbin/launchd

  Thread id:      a2613c8
  User stack:
    449 ??? [0x1eae]
      449 ??? [0x6efc]
        449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    449 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      449 _mach_msg_overwrite_trap + 3808 [0x1270ea]
        449 _ipc_mqueue_receive + 750 [0x121292]
          449 _thread_block + 33 [0x136f20]
            449 _thread_continue + 1180 [0x136cb3]

  Thread id:      103dc000
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      70636b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        launchd [1]
Path:           /sbin/launchd

  ADDRESS         BINARY
  00001000        /sbin/launchd

  Thread id:      541c2e8
  User stack:
    449 ??? [0x1eae]
      449 ??? [0x6efc]
        449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    449 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      449 _mach_msg_overwrite_trap + 3808 [0x1270ea]
        449 _ipc_mqueue_receive + 750 [0x121292]
          449 _thread_block + 33 [0x136f20]
            449 _thread_continue + 1180 [0x136cb3]

  Thread id:      5291d60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      5290a78
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        launchd [197]
Path:           /sbin/launchd

  ADDRESS         BINARY
  00001000        /sbin/launchd

  Thread id:      634ba78
  User stack:
    449 ??? [0x1eae]
      449 ??? [0x6efc]
        449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    449 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      449 _mach_msg_overwrite_trap + 3808 [0x1270ea]
        449 _ipc_mqueue_receive + 750 [0x121292]
          449 _thread_block + 33 [0x136f20]
            449 _thread_continue + 1180 [0x136cb3]

  Thread id:      634be40
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      54a1a78
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        login [79486]
Path:           /usr/bin/login

  ADDRESS         BINARY
  00001000        /usr/bin/login
  0000f000        /usr/lib/libpam.1.dylib
  00021000        /usr/lib/pam/pam_nologin.so
  00025000        /usr/lib/pam/pam_securityserver.so
  0002f000        /usr/lib/pam/pam_unix.so
  00033000        /usr/lib/pam/pam_deny.so
  00036000        /usr/lib/pam/pam_permit.so
  0003a000        /usr/lib/pam/pam_launchd.so
  0003e000        /usr/lib/pam/pam_uwtmp.so

  Thread id:      1082f790
  User stack:
    449 ??? [0x1b4a]
      449 ___wait4 + 10 (in libSystem.B.dylib) [0x94609856]


Process:        login [37652]
Path:           /usr/bin/login

  ADDRESS         BINARY
  00001000        /usr/bin/login
  0000f000        /usr/lib/libpam.1.dylib
  00021000        /usr/lib/pam/pam_nologin.so
  00025000        /usr/lib/pam/pam_securityserver.so
  0002f000        /usr/lib/pam/pam_unix.so
  00033000        /usr/lib/pam/pam_deny.so
  00036000        /usr/lib/pam/pam_permit.so
  0003a000        /usr/lib/pam/pam_launchd.so
  0003e000        /usr/lib/pam/pam_uwtmp.so

  Thread id:      cb6c410
  User stack:
    449 ??? [0x1b4a]
      449 ___wait4 + 10 (in libSystem.B.dylib) [0x94609856]


Process:        login [4963]
Path:           /usr/bin/login

  ADDRESS         BINARY
  00001000        /usr/bin/login
  0000f000        /usr/lib/libpam.1.dylib
  00021000        /usr/lib/pam/pam_nologin.so
  00025000        /usr/lib/pam/pam_securityserver.so
  0002f000        /usr/lib/pam/pam_unix.so
  00033000        /usr/lib/pam/pam_deny.so
  00036000        /usr/lib/pam/pam_permit.so
  0003a000        /usr/lib/pam/pam_launchd.so
  0003e000        /usr/lib/pam/pam_uwtmp.so

  Thread id:      107bce40
  User stack:
    449 ??? [0x1b4a]
      449 ___wait4 + 10 (in libSystem.B.dylib) [0x94609856]


Process:        login [836]
Path:           /usr/bin/login

  ADDRESS         BINARY
  00001000        /usr/bin/login
  0000f000        /usr/lib/libpam.1.dylib
  00021000        /usr/lib/pam/pam_nologin.so
  00025000        /usr/lib/pam/pam_securityserver.so
  0002f000        /usr/lib/pam/pam_unix.so
  00033000        /usr/lib/pam/pam_deny.so
  00036000        /usr/lib/pam/pam_permit.so
  0003a000        /usr/lib/pam/pam_launchd.so
  0003e000        /usr/lib/pam/pam_uwtmp.so

  Thread id:      103de998
  User stack:
    449 ??? [0x1b4a]
      449 ___wait4 + 10 (in libSystem.B.dylib) [0x94609856]


Process:        login [4613]
Path:           /usr/bin/login

  ADDRESS         BINARY
  00001000        /usr/bin/login
  0000f000        /usr/lib/libpam.1.dylib
  00021000        /usr/lib/pam/pam_nologin.so
  00025000        /usr/lib/pam/pam_securityserver.so
  0002f000        /usr/lib/pam/pam_unix.so
  00033000        /usr/lib/pam/pam_deny.so
  00036000        /usr/lib/pam/pam_permit.so
  0003a000        /usr/lib/pam/pam_launchd.so
  0003e000        /usr/lib/pam/pam_uwtmp.so

  Thread id:      10833048
  User stack:
    449 ??? [0x1b4a]
      449 ___wait4 + 10 (in libSystem.B.dylib) [0x94609856]


Process:        loginwindow [24]
Path:           /System/Library/CoreServices/loginwindow.app/Contents/MacOS/loginwindow

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/loginwindow.app/Contents/MacOS/loginwindow
  00076000        /System/Library/PrivateFrameworks/Admin.framework/Versions/A/Admin
  000c0000        /System/Library/PrivateFrameworks/URLMount.framework/Versions/A/URLMount
  000ec000        /System/Library/LoginPlugins/FSDisconnect.loginPlugin/Contents/MacOS/FSDisconnect
  0015f000        /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/DiskImages
  002be000        /System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit
  00305000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
  00439000        /usr/lib/libcurl.4.dylib
  0046e000        /System/Library/LoginPlugins/DisplayServices.loginPlugin/Contents/MacOS/DisplayServices
  0048e000        /System/Library/LoginPlugins/BezelServices.loginPlugin/Contents/MacOS/BezelServices
  004be000        /System/Library/PrivateFrameworks/MachineSettings.framework/Versions/A/MachineSettings
  004cf000        /System/Library/Extensions/IOHIDFamily.kext/Contents/PlugIns/IOHIDLib.plugin/Contents/MacOS/IOHIDLib
  0070c000        /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn
  00715000        /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn
  01a49000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  01a86000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  15a88000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  70000000        /System/Library/Components/CoreAudio.component/Contents/MacOS/CoreAudio

  Thread id:      541ec80
  User stack:
    449 ??? [0x5b02]
      449 ??? [0x1b8e8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      634c208
  User stack:
    449 _mach_msg_overwrite_trap + 10 (in libSystem.B.dylib) [0x945c5292]

  Thread id:      54a16b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9CAPThread5EntryEPS_ + 96 (in CoreAudio) [0x908f1480]
          449 __ZN10HALRunLoop9OwnThreadEPv + 160 (in CoreAudio) [0x908f15f8]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        loginwindow [3623]
Path:           /System/Library/CoreServices/loginwindow.app/Contents/MacOS/loginwindow

  ADDRESS         BINARY
  00001000        /System/Library/CoreServices/loginwindow.app/Contents/MacOS/loginwindow
  00076000        /System/Library/PrivateFrameworks/Admin.framework/Versions/A/Admin
  000c0000        /System/Library/PrivateFrameworks/URLMount.framework/Versions/A/URLMount
  000ec000        /System/Library/LoginPlugins/FSDisconnect.loginPlugin/Contents/MacOS/FSDisconnect
  0015f000        /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/DiskImages
  002be000        /System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit
  00305000        /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
  00439000        /usr/lib/libcurl.4.dylib
  0046e000        /System/Library/LoginPlugins/DisplayServices.loginPlugin/Contents/MacOS/DisplayServices
  0048e000        /System/Library/LoginPlugins/BezelServices.loginPlugin/Contents/MacOS/BezelServices
  004be000        /System/Library/PrivateFrameworks/MachineSettings.framework/Versions/A/MachineSettings
  004cf000        /System/Library/Extensions/IOHIDFamily.kext/Contents/PlugIns/IOHIDLib.plugin/Contents/MacOS/IOHIDLib
  00751000        /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn
  0075a000        /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn
  119c6000        /Library/Components/Google Camera Adapter
0.component/Contents/MacOS/Google Camera Adapter 0
  11a03000        /Library/Components/Google Camera Adapter
1.component/Contents/MacOS/Google Camera Adapter 1
  70000000        /System/Library/Components/CoreAudio.component/Contents/MacOS/CoreAudio

  Thread id:      7ab4208
  User stack:
    449 ??? [0x5b02]
      449 ??? [0x1b8e8]
        449 -[NSApplication run] + 795 (in AppKit) [0x965b3f9f]
          449 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] +
128 (in AppKit) [0x965baf88]
            449 __DPSNextEvent + 657 (in AppKit) [0x965bb6d5]
              449 _BlockUntilNextEventMatchingListInMode + 106 (in HIToolbox)
[0x90a36f39]
                449 _ReceiveNextEventCommon + 374 (in HIToolbox) [0x90a370c5]
                  449 _RunCurrentEventLoopInMode + 283 (in HIToolbox)
[0x90a372ac]
                    449 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                      449 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      104ffba0
  User stack:
    449 _mach_msg_overwrite_trap + 10 (in libSystem.B.dylib) [0x945c5292]

  Thread id:      7ab5c80
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 __ZN9CAPThread5EntryEPS_ + 96 (in CoreAudio) [0x908f1480]
          449 __ZN10HALRunLoop9OwnThreadEPv + 160 (in CoreAudio) [0x908f15f8]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        mDNSResponder [23]
Path:           /usr/sbin/mDNSResponder

  ADDRESS         BINARY
  00001000        /usr/sbin/mDNSResponder

  Thread id:      541ce40
  User stack:
    449 start + 41 (in mDNSResponder) [0x2099]
      449 __start + 210 (in mDNSResponder) [0x216c]
        449 _main + 2606 (in mDNSResponder) [0x368bf]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      603b790
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]
  Kernel stack:
    1 _unix_syscall + 572 [0x3e3a7f]
      1 _kevent + 784 [0x37145b]
        1 _kevent_scan + 389 [0x371104]
          1 _thread_block_parameter + 32 [0x136efd]
            1 _thread_block_reason + 135 [0x136e7c]
              1 _thread_setrun + 3597 [0x136217]
                1 _machine_idle + 271 [0x1ac3ec]


Process:        mds [22]
Path:           /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Support/mds

  ADDRESS         BINARY
  00001000        /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Support/mds
  000d9000        /System/Library/PrivateFrameworks/MDSChannel.framework/Versions/A/MDSChannel
  0014d000        /System/Library/PrivateFrameworks/SpotlightIndex.framework/Versions/A/SpotlightIndex
  006e5000        /usr/lib/libgermantok.dylib
  0bde9000        /usr/lib/liblangid.dylib
  0d002000        /usr/lib/libmecab.1.0.0.dylib

  Thread id:      538d8b8
  User stack:
    449 ??? [0x5a96]
      449 ??? [0xe803]
        449 ??? [0x58ecb]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5f40998
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0xd75d]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5cb58b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0xd780]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5f40d60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0xd7a3]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
  Kernel stack:
    1 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      1 _mach_msg_overwrite_trap + 4820 [0x1274de]
        1 _ipc_mqueue_receive + 738 [0x121286]
          1 _thread_block + 33 [0x136f20]
            1 _thread_block_reason + 135 [0x136e7c]
              1 _thread_setrun + 3597 [0x136217]
                1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      5cb2b58
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0xd7c6]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5f42048
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0xd7e9]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5cb36b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      5290e40
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        393 ??? [0xa537]
          393 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
        50 ??? [0xa49a]
          50 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
        5 ??? [0xa5b8]
          5 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
        1 ??? [0xcb20]
          1 ??? [0x15efd]
            1 ??? [0x1598f]
              1 _objc_sync_enter + 27 (in libobjc.A.dylib) [0x90287893]
                1 _fetch_cache + 132 (in libobjc.A.dylib) [0x90287630]
  Kernel stack:
    1 _PE_incoming_interrupt + 131 [0x44e416]
      1 _lapic_interrupt + 121 [0x1b16c0]
        1 _sync_iss_to_iks + 114 [0x1aa3ae]

  Thread id:      603ec80
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___read + 10 (in libSystem.B.dylib) [0x945e8f9a]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _read_nocancel + 150 [0x39188d]
        449 _nosys + 593 [0x39164d]
          449 _release_pathbuff + 3077 [0x20172b]
            449 _tsleep + 105 [0x386498]
              449 _uiomove + 1030 [0x3861b0]
                449 _thread_block + 33 [0x136f20]
                  449 _thread_continue + 1180 [0x136cb3]

  Thread id:      5cb23c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0x87c10]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      538c998
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0x54b1e]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      603ca78
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0x54b1e]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      603c6b0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0x54b1e]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      603bf20
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      5cb2f20
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            449 ??? [0x58c99]
              449 ??? [0x4529e]
                449 ??? [0x58ecb]
                  449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
                    449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      cb6cba0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _setattr_runLoop + 68 (in SpotlightIndex) [0x17a844]
          449 _runLoop + 77 (in SpotlightIndex) [0x17a758]
            449 _si_scheduler_run_waiting_timeout + 163 (in SpotlightIndex)
[0x18ec00]
              449 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]

  Thread id:      677e128
  User stack:
    229 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      229 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        229 _flush_runLoop + 65 (in SpotlightIndex) [0x17a965]
          229 _runLoop + 77 (in SpotlightIndex) [0x17a758]
            229 _si_scheduler_run_waiting_timeout + 163 (in SpotlightIndex)
[0x18ec00]
              229 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]


Process:        mdworker [38614]
Path:           /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Versions/A/Support/mdworker

  ADDRESS         BINARY
  00001000        /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Versions/A/Support/mdworker
  00049000        /System/Library/Spotlight/RichText.mdimporter/Contents/MacOS/RichText
  00067000        /System/Library/Spotlight/Mail.mdimporter/Contents/MacOS/Mail
  0006e000        /System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
  00077000        /System/Library/Frameworks/LatentSemanticMapping.framework/Versions/A/LatentSemanticMapping
  000b0000        /System/Library/Spotlight/Application.mdimporter/Contents/MacOS/Application
  000c6000        /Developer/Applications/Xcode.app/Contents/Library/Spotlight/SourceCode.mdimporter/Contents/MacOS/SourceCode
  000d0000        /System/Library/Spotlight/Image.mdimporter/Contents/MacOS/Image
  000da000        /System/Library/Spotlight/PDF.mdimporter/Contents/MacOS/PDF
  000ea000        /System/Library/PrivateFrameworks/DebugSymbols.framework/Versions/A/DebugSymbols
  00300000        /System/Library/Frameworks/Message.framework/Versions/B/Message
  007f0000        /System/Library/Spotlight/iCal.mdimporter/Contents/MacOS/iCal
  01010000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libFontStreams.A.dylib
  01c95000        /Developer/Library/PrivateFrameworks/DevToolsCParsing.framework/Versions/A/../../..//DevToolsSupport.framework/Versions/A/DevToolsSupport
  01e00000        /Developer/Applications/Xcode.app/Contents/Library/Spotlight/SourceCode.mdimporter/Contents/MacOS/../../../../../../../../Library/PrivateFrameworks//DevToolsCParsing.framework/Versions/A/DevToolsCParsing
  01f01000        /Developer/Applications/Xcode.app/Contents/Library/Spotlight/SourceCode.mdimporter/Contents/MacOS/../../../../../../../../Library/PrivateFrameworks//DevToolsCore.framework/Versions/A/DevToolsCore
  0247a000        /Developer/Library/PrivateFrameworks/DevToolsSupport.framework/Versions/A/../../..//DevToolsFoundation.framework/Versions/A/DevToolsFoundation
  024bd000        /System/Library/PrivateFrameworks/Symbolication.framework/Versions/A/Symbolication
  02547000        /Developer/Library/PrivateFrameworks/DevToolsCore.framework/Versions/A/../../..//JavaKit.framework/Versions/A/JavaKit
  025a9000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  02846000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCMaps.A.dylib
  ba300000        /System/Library/CoreServices/Encodings/libCyrillicConverter.dylib
  bab00000        /System/Library/CoreServices/Encodings/libKoreanConverter.dylib
  bad00000        /System/Library/CoreServices/Encodings/libLatin2Converter.dylib

  Thread id:      107bc2e8
  User stack:
    449 ??? [0x2132]
      449 ??? [0x8680]
        449 ??? [0xb89d]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      ee98d60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0xa14c]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      e6aa7d8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      ee98208
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]


Process:        mdworker [37739]
Path:           /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Versions/A/Support/mdworker

  ADDRESS         BINARY
  00001000        /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Versions/A/Support/mdworker
  0004f000        /Developer/Applications/Xcode.app/Contents/Library/Spotlight/SourceCode.mdimporter/Contents/MacOS/SourceCode
  00059000        /Developer/Library/PrivateFrameworks/DevToolsSupport.framework/Versions/A/../../..//DevToolsFoundation.framework/Versions/A/DevToolsFoundation
  0009c000        /System/Library/PrivateFrameworks/DebugSymbols.framework/Versions/A/DebugSymbols
  000bd000        /Developer/Library/PrivateFrameworks/DevToolsCore.framework/Versions/A/../../..//JavaKit.framework/Versions/A/JavaKit
  000ec000        /System/Library/Spotlight/RichText.mdimporter/Contents/MacOS/RichText
  00400000        /Developer/Applications/Xcode.app/Contents/Library/Spotlight/SourceCode.mdimporter/Contents/MacOS/../../../../../../../../Library/PrivateFrameworks//DevToolsCParsing.framework/Versions/A/DevToolsCParsing
  00501000        /Developer/Library/PrivateFrameworks/DevToolsCParsing.framework/Versions/A/../../..//DevToolsSupport.framework/Versions/A/DevToolsSupport
  0055f000        /System/Library/PrivateFrameworks/Symbolication.framework/Versions/A/Symbolication
  00601000        /System/Library/Spotlight/Image.mdimporter/Contents/MacOS/Image
  0060b000        /System/Library/Spotlight/PDF.mdimporter/Contents/MacOS/PDF
  0061a000        /System/Library/Spotlight/PS.mdimporter/Contents/MacOS/PS
  006c8000        /System/Library/Spotlight/Archives.mdimporter/Contents/MacOS/Archives
  006f9000        /System/Library/Spotlight/Font.mdimporter/Contents/MacOS/Font
  0071f000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libFontStreams.A.dylib
  01000000        /Developer/Applications/Xcode.app/Contents/Library/Spotlight/SourceCode.mdimporter/Contents/MacOS/../../../../../../../../Library/PrivateFrameworks//DevToolsCore.framework/Versions/A/DevToolsCore
  0158c000        /Library/Spotlight/iWork.mdimporter/Contents/MacOS/iWork
  015df000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontValidation.dylib
  0172c000        /Library/Spotlight/Microsoft
Office.mdimporter/Contents/MacOS/../Frameworks/MetroFramework.framework/Versions/12/MetroFramework
  0254a000        /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
  04b61000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCMaps.A.dylib
  05af8000        /Library/Spotlight/Microsoft
Office.mdimporter/Contents/MacOS/Microsoft Office

  Thread id:      10041ba0
  User stack:
    449 ??? [0x2132]
      449 ??? [0x8680]
        449 ??? [0xb89d]
          449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      103dcf20
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0xa14c]
          449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      6c78128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]

  Thread id:      108337d8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]


Process:        nmbd [38805]
Path:           /usr/sbin/nmbd

  ADDRESS         BINARY
  00001000        /usr/sbin/nmbd
  000fd000        /System/Library/PrivateFrameworks/ByteRangeLocking.framework/Versions/A/ByteRangeLocking

  Thread id:      10801410
  User stack:
    449 start + 54 (in nmbd) [0x1a4e]
      449 _main + 2581 (in nmbd) [0x3532]
        449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]
  Kernel stack:
    1 _unix_syscall + 572 [0x3e3a7f]
      1 _select_nocancel + 1450 [0x393aea]
        1 _selprocess + 1654 [0x3932b7]
          1 _uiomove + 1018 [0x3861a4]
            1 _thread_block + 33 [0x136f20]
              1 _thread_block_reason + 135 [0x136e7c]
                1 _thread_setrun + 3597 [0x136217]
                  1 _machine_idle + 271 [0x1ac3ec]


Process:        nmblookup [39287]
Path:           /usr/bin/nmblookup

  ADDRESS         BINARY
  00001000        /usr/bin/nmblookup
  000a5000        /System/Library/PrivateFrameworks/ByteRangeLocking.framework/Versions/A/ByteRangeLocking

  Thread id:      107bb000
  User stack:
    9 start + 54 (in nmblookup) [0x2292]
      9 _main + 1971 (in nmblookup) [0x2e44]
        9 _name_query + 704 (in nmblookup) [0x13704]
          9 _receive_nmb_packet + 36 (in nmblookup) [0x125cb]
            9 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        nmblookup [39289]
Path:           /usr/bin/nmblookup

  ADDRESS         BINARY
  00001000        /usr/bin/nmblookup
  000a5000        /System/Library/PrivateFrameworks/ByteRangeLocking.framework/Versions/A/ByteRangeLocking

  Thread id:      107bb000
  User stack:
    3 start + 54 (in nmblookup) [0x2292]
      2 _main + 1971 (in nmblookup) [0x2e44]
        2 _name_query + 704 (in nmblookup) [0x13704]
          2 _receive_nmb_packet + 36 (in nmblookup) [0x125cb]
            2 ___select + 10 (in libSystem.B.dylib) [0x946146fa]
      1 _main + 1079 (in nmblookup) [0x2ac8]
        1 _lp_load + 3407 (in nmblookup) [0xd822]
          1 _pm_process + 475 (in nmblookup) [0xea06]
            1 _gfree_loadparm + 2732 (in nmblookup) [0xe804]
              1 _lp_do_parameter + 1702 (in nmblookup) [0x92c1]
                1 _lp_do_parameter + 1049 (in nmblookup) [0x9034]
                  1 _lp_file_list_changed + 690 (in nmblookup) [0x77cb]
                    1 _init_iconv + 668 (in nmblookup) [0x232e2]
                      1 _init_doschar_table + 109 (in nmblookup) [0x32d0a]
                        1 _smb_iconv + 61 (in nmblookup) [0x4365b]
  Kernel stack:
    1 _PE_incoming_interrupt + 131 [0x44e416]
      1 _lapic_interrupt + 121 [0x1b16c0]
        1 _sync_iss_to_iks + 114 [0x1aa3ae]


Process:        notifyd [11]
Path:           /usr/sbin/notifyd

  ADDRESS         BINARY

  Thread id:      538c5d0
  User stack:
    449 ??? [0x1b1a]
      449 ??? [0x945f59c6]

  Thread id:      54a4410
  User stack:
    449 ??? [0x945f6012]
      449 ??? [0x945f6155]
        449 ??? [0x945c5286]


Process:        ntpd [13]
Path:           /usr/sbin/ntpd

  ADDRESS         BINARY
  00001000        /usr/sbin/ntpd

  Thread id:      54a2d60
  User stack:
    449 ??? [0x2002]
      449 ___sigsuspend + 10 (in libSystem.B.dylib) [0x94620562]


Process:        pboard [210]
Path:           /usr/sbin/pboard

  ADDRESS         BINARY
  00001000        /usr/sbin/pboard

  Thread id:      634cd60
  User stack:
    449 ___sigsuspend + 10 (in libSystem.B.dylib) [0x94620562]


Process:        pboard [3654]
Path:           /usr/sbin/pboard

  ADDRESS         BINARY
  00001000        /usr/sbin/pboard

  Thread id:      6c753c8
  User stack:
    449 ??? [0x1f26]
      449 ___sigsuspend + 10 (in libSystem.B.dylib) [0x94620562]


Process:        pmTool [39175]
Path:           /Applications/Utilities/Activity
Monitor.app/Contents/Resources/pmTool

  ADDRESS         BINARY
  00001000        /Applications/Utilities/Activity
Monitor.app/Contents/Resources/pmTool

  Thread id:      e6aaba0
  User stack:
    449 ??? [0x1fda]
      449 ??? [0x3ba2]
        449 -[NSRunLoop(NSRunLoop) run] + 84 (in Foundation) [0x91e444f4]
          449 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 213 (in Foundation)
[0x91e383d5]
            449 _CFRunLoopRunInMode + 88 (in CoreFoundation) [0x94240aa8]
              403 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
              46 _CFRunLoopRunSpecific + 3896 (in CoreFoundation) [0x942406b8]
                46 ___CFMachPortPerform + 117 (in CoreFoundation) [0x9421bff5]
                  46 ___NSFireMachPort + 339 (in Foundation) [0x91e3de83]
                    46 -[NSConcretePortCoder dispatch] + 142 (in Foundation)
[0x91e3e71e]
                      46 -[NSConnection handlePortCoder:] + 1149 (in Foundation)
[0x91e3ebed]
                        44 -[NSConnection handleRequest:sequence:] + 1319 (in
Foundation) [0x91e3f3a7]
                          44 -[NSConnection dispatchInvocation:] + 132 (in
Foundation) [0x91e413f4]
                            44 -[NSInvocation invoke] + 136 (in CoreFoundation)
[0x942bf308]
                              44 ___invoking___ + 29 (in CoreFoundation)
[0x942bf91d]
                                44 __CF_forwarding_prep_0 + 50 (in
CoreFoundation) [0x942bf8b2]
                                  44 ____forwarding___ + 986 (in CoreFoundation)
[0x942bf84a]
                                    44 -[NSInvocation invokeWithTarget:] + 72
(in CoreFoundation) [0x942bf3d8]
                                      44 -[NSInvocation invoke] + 136 (in
CoreFoundation) [0x942bf308]
                                        44 ___invoking___ + 29 (in
CoreFoundation) [0x942bf91d]
                                          42 ??? [0x24fd]
                                            41 ??? [0x81f2]
                                              33 ??? [0x7477]
                                                32 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                                1 _mach_msg + 72 (in
libSystem.B.dylib) [0x945cca7c]
                                              2 ??? [0x7d97]
                                                2 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                              2 ??? [0x7b35]
                                                2 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                              1 ??? [0x7ce5]
                                                1 _mach_msg_trap + 10 (in
libSystem.B.dylib) [0x945c5286]
                                              1 _mach_vm_region + 406 (in
libSystem.B.dylib) [0x9466df30]
                                              1 _vm_deallocate + 135 (in
libSystem.B.dylib) [0x945e9ceb]
                                              1 ??? [0x763e]
                                                1 ??? [0x47c1]
                                            1 ??? [0x7428]
                                          2 ??? [0x33c1]
                                            2 -[NSCFDictionary
setObject:forKey:] + 126 (in Foundation) [0x91dff13e]
                                              1 _szone_free + 0 (in
libSystem.B.dylib) [0x945cb41a]
                                              1 _CFDictionarySetValue + 735 (in
CoreFoundation) [0x942112ff]
                                                1 _szone_free + 2182 (in
libSystem.B.dylib) [0x945cbca0]
                        2 -[NSConnection handleRequest:sequence:] + 1485 (in
Foundation) [0x91e3f44d]
                          2 -[NSConnection
returnResult:exception:sequence:imports:] + 1086 (in Foundation) [0x91e41dfe]
                            2 -[NSConcretePortCoder encodeReturnValue:] + 176
(in Foundation) [0x91e41f00]
                              2 __NSWalkData2 + 902 (in Foundation)
[0x91e3ba76]
                                2 -[NSConcretePortCoder
encodeObject:isBycopy:isByref:] + 977 (in Foundation) [0x91e3c611]
                                  2 -[NSDictionary(NSDictionary)
encodeWithCoder:] + 219 (in Foundation) [0x91e4539b]
                                    2 -[NSConcretePortCoder encodeBycopyObject:]
+ 57 (in Foundation) [0x91e45929]
                                      2 -[NSConcretePortCoder
encodeObject:isBycopy:isByref:] + 977 (in Foundation) [0x91e3c611]
                                        2 -[NSArray(NSArray) encodeWithCoder:] +
562 (in Foundation) [0x91e46572]
                                          2 -[NSConcretePortCoder
encodeBycopyObject:] + 57 (in Foundation) [0x91e45929]
                                            2 -[NSConcretePortCoder
encodeObject:isBycopy:isByref:] + 977 (in Foundation) [0x91e3c611]
                                              1 -[NSDictionary(NSDictionary)
encodeWithCoder:] + 194 (in Foundation) [0x91e45382]
                                                1 _CFEqual + 0 (in
CoreFoundation) [0x94242dc0]
                                              1 -[NSDictionary(NSDictionary)
encodeWithCoder:] + 219 (in Foundation) [0x91e4539b]
                                                1 -[NSConcretePortCoder
encodeBycopyObject:] + 57 (in Foundation) [0x91e45929]
                                                  1 -[NSConcretePortCoder
encodeObject:isBycopy:isByref:] + 912 (in Foundation) [0x91e3c5d0]
                                                    1 +[NSProxy
isAncestorOfObject:] + 21 (in Foundation) [0x91e3cd25]
                                                      1 _object_getClass + 8 (in
libobjc.A.dylib) [0x90282469]
  Kernel stack:
    27 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      16 _mach_msg_overwrite_trap + 752 [0x1264fa]
        14 _ipc_kobject_server + 247 [0x12d4d6]
          11 _mach_vm_server_routine + 6614 [0x15077c]
            8 _mach_vm_region + 116 [0x18443d]
              4 _vm_map_region + 926 [0x167ad9]
                3 _vm_map_region_top_walk + 83 [0x167226]
                  3 _lck_rw_lock_exclusive + 560 [0x1a0f02]
                    3 _ml_set_interrupts_enabled + 47 [0x1a4389]
                1 _vm_object_lock + 4 [0x173f35]
              1 _lck_rw_lock_exclusive + 1 [0x1a0cd3]
              1 _vm_map_lookup_entry + 5 [0x165d56]
              1 _vm_map_lookup_entry + 90 [0x165dab]
              1 _vm_map_region_top_walk + 95 [0x167232]
            1 _vm_map_region + 784 [0x167a4b]
            1 _vm_map_region + 962 [0x167afd]
            1 _vm_map_region + 945 [0x167aec]
          2 _mach_notify_dead_name + 419 [0x14cc1d]
            1 _mach_port_names + 591 [0x12782c]
              1 _mutex_lock + 9 [0x19d149]
            1 _mach_port_names + 863 [0x12793c]
              1 _vm_map_simplify + 2007 [0x16a379]
                1 __mutex_lock_spin + 61 [0x19d0bd]
          1 _mach_vm_server_routine + 6627 [0x150789]
            1 _mutex_lock + 68 [0x19d184]
        1 _ml_set_interrupts_enabled + 0 [0x1a435a]
        1 _ipc_kmsg_free + 141 [0x11de11]
      3 _mach_msg_overwrite_trap + 2899 [0x126d5d]
        2 __enable_preemption + 17 [0x19df51]
          1 _ml_set_interrupts_enabled + 4 [0x1a435e]
          1 _ml_set_interrupts_enabled + 47 [0x1a4389]
        1 _ipc_kmsg_put + 47 [0x11e274]
          1 _ml_set_interrupts_enabled + 8 [0x1a4362]
      2 _mach_msg_overwrite_trap + 2773 [0x126cdf]
        1 _ipc_kmsg_copyout_body + 1087 [0x11fce4]
          1 _ipc_object_copyout + 154 [0x121bbe]
        1 _ipc_kmsg_copyout_body + 1142 [0x11fd1b]
          1 _copyoutmap + 103 [0x165747]
            1 _copyout_kern + 20 [0x1a22d4]
              1 _lo_alltraps + 515 [0x1a1713]
                1 _kernel_trap + 859 [0x1aaeaf]
                  1 _vm_fault + 1707 [0x163170]
                    1 _vm_fault_enter + 733 [0x16087d]
                      1 _pmap_enter + 353 [0x197bef]
                        1 _pmap64_pde + 89 [0x1941d6]
      2 _mutex_unlock + 9 [0x19d509]
      2 _mach_msg_overwrite_trap + 197 [0x1262cf]
        1 _ipc_kmsg_alloc + 91 [0x11dd04]
        1 _inval_copy_windows + 357 [0x19f071]
      1 _mutex_unlock + 253 [0x19d5fd]
      1 _mutex_unlock + 209 [0x19d5d1]
    13 _PE_incoming_interrupt + 131 [0x44e416]
      13 _lapic_interrupt + 121 [0x1b16c0]
        13 _sync_iss_to_iks + 114 [0x1aa3ae]
    3 _lo_mach_scall + 219 [0x1a1ceb]
    1 _lo_alltraps + 282 [0x1a162a]
    1 _copyin + 1 [0x19f38f]
    1 _get_bsdthread_info + 1 [0x144116]


Process:        racoon [170]
Path:           /usr/sbin/racoon

  ADDRESS         BINARY
  00001000        /usr/sbin/racoon
  00077000        /usr/lib/libipsec.A.dylib
  00081000        /usr/lib/libpam.1.dylib

  Thread id:      63124f0
  User stack:
    449 ??? [0x2512]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        sample [39284]
Path:           /usr/bin/sample

  ADDRESS         BINARY
  00001000        /usr/bin/sample
  00009000        /System/Library/PrivateFrameworks/DebugSymbols.framework/Versions/A/DebugSymbols
  0008a000        /System/Library/PrivateFrameworks/Symbolication.framework/Versions/A/Symbolication

  Thread id:      e6a85d0
  User stack:
    36 ??? [0x2776]
      24 ??? [0x2e62]
        24 -[VMUSampler waitUntilDone] + 56 (in Symbolication) [0xb4aa2]
          24 -[NSConditionLock lockWhenCondition:] + 69 (in Foundation)
[0x91e49b35]
            24 -[NSConditionLock lockWhenCondition:beforeDate:] + 144 (in
Foundation) [0x91e49bd0]
              24 -[NSCondition waitUntilDate:] + 236 (in Foundation)
[0x91e49dbc]
                24 _semaphore_timedwait_signal_trap + 10 (in libSystem.B.dylib)
[0x945c52e6]
      12 ??? [0x2ec5]
        12 -[VMUSampler writeOutput:append:] + 97 (in Symbolication) [0xb4eff]
          12 -[VMUSampler stopSamplingAndReturnCallNode] + 159 (in
Symbolication) [0xb4e5d]
            11 +[VMUCallTreeNode rootForSamples:symbolicator:] + 262 (in
Symbolication) [0xae514]
              10 -[VMUCallTreeNode
addStackEntry:symbolicator:numBytes:threadTable:] + 275 (in Symbolication)
[0xae38a]
                9 -[VMUSymbolicator symbolForAddress:] + 253 (in Symbolication)
[0xa1fc2]
                  9 -[VMUSymbolicator faultLazySymbolOwnerAtIndex:] + 316 (in
Symbolication) [0xa0ed4]
                    8 +[VMUSymbolExtractor extractSymbolOwnerFromHeader:] + 80
(in Symbolication) [0x9fb6b]
                      8 +[VMUStabsExtractor stabsExtractorWithMachOHeader:] + 64
(in Symbolication) [0x9d7f1]
                        7 -[VMUStabsExtractor initWithMachOHeader:] + 1334 (in
Symbolication) [0x9ee32]
                          2 -[VMUMemoryView_Native nlist] + 255 (in
Symbolication) [0x9856b]
                          2 -[VMUMemoryView_Native stringWithEncoding:] + 54 (in
Symbolication) [0x97cb7]
                          1 _objc_msgSend + 31 (in libobjc.A.dylib)
[0x9029368f]
                          1 -[VMUStabsExtractor
readStabsFromMachOHeader:nsyms:nlist:stringTable:] + 3293 (in Symbolication)
[0x9e4f7]
                            1 +[VMUSymbol
symbolWithName:mangledName:addressRange:owner:flags:] + 63 (in Symbolication)
[0x9f18b]
                              1 +[NSObject alloc] + 42 (in CoreFoundation)
[0x942c0b4a]
                                1 +[NSObject allocWithZone:] + 156 (in
CoreFoundation) [0x942c0bec]
                                  1 __internal_class_createInstance + 32 (in
libobjc.A.dylib) [0x9028cb08]
                                    1 __internal_class_createInstanceFromZone +
150 (in libobjc.A.dylib) [0x90283618]
                                      1 _calloc + 62 (in libSystem.B.dylib)
[0x945cd842]
                                        1 _malloc_zone_calloc + 88 (in
libSystem.B.dylib) [0x945cd8b5]
                                          1 _tiny_malloc_from_free_list + 1172
(in libSystem.B.dylib) [0x945cd78e]
                          1 -[VMUStabsExtractor
readStabsFromMachOHeader:nsyms:nlist:stringTable:] + 3037 (in Symbolication)
[0x9e3f7]
                            1 -[VMUMemoryView_Native stringWithEncoding:] + 312
(in Symbolication) [0x97db9]
                              1 +[NSString stringWithCString:encoding:] + 115
(in Foundation) [0x91e81253]
                                1 -[NSPlaceholderString
initWithBytes:length:encoding:] + 61 (in Foundation) [0x91e1bd1d]
                                  1 ___CFStringCreateImmutableFunnel3 + 1517 (in
CoreFoundation) [0x9425a3fd]
                        1 -[VMUStabsExtractor initWithMachOHeader:] + 2081 (in
Symbolication) [0x9f11d]
                          1 -[VMUStabsExtractor
readIndirectSymbolsFromMachOHeader:section:nsyms:indirectSymbols:nlist:stringTable:]
+ 893 (in Symbolication) [0x9e8c0]
                            1 +[VMUSymbol
symbolWithName:mangledName:addressRange:owner:flags:] + 63 (in Symbolication)
[0x9f18b]
                              1 +[NSObject alloc] + 42 (in CoreFoundation)
[0x942c0b4a]
                                1 +[NSObject allocWithZone:] + 156 (in
CoreFoundation) [0x942c0bec]
                                  1 __internal_class_createInstance + 32 (in
libobjc.A.dylib) [0x9028cb08]
                                    1 __internal_class_createInstanceFromZone +
150 (in libobjc.A.dylib) [0x90283618]
                                      1 _calloc + 62 (in libSystem.B.dylib)
[0x945cd842]
                                        1 _malloc_zone_calloc + 88 (in
libSystem.B.dylib) [0x945cd8b5]
                                          1 ??? [0xffff0633]
                    1 +[VMUSymbolExtractor extractSymbolOwnerFromHeader:] + 113
(in Symbolication) [0x9fb8c]
                      1 +[VMUDsymExtractor dsymExtractorWithMachOHeader:] + 64
(in Symbolication) [0xbdbc0]
                        1 -[VMUDsymExtractor initWithMachOHeader:] + 210 (in
Symbolication) [0xbdcaa]
                          1 +[VMUDsymExtractor localDsymPathForHeaderPath:uuid:]
+ 252 (in Symbolication) [0xbd8d8]
                            1 ___lstat + 10 (in libSystem.B.dylib) [0x945f02c2]
                1 -[VMUSymbolicator symbolForAddress:] + 291 (in Symbolication)
[0xa1fe8]
                  1 _objc_sync_exit + 22 (in libobjc.A.dylib) [0x902878ec]
                    1 _id2data + 49 (in libobjc.A.dylib) [0x90287676]
                      1 __objc_fetch_pthread_data + 108 (in libobjc.A.dylib)
[0x9028501e]
              1 _objc_msgSend + 51 (in libobjc.A.dylib) [0x902936a3]
            1 +[VMUCallTreeNode rootForSamples:symbolicator:] + 346 (in
Symbolication) [0xae568]
              1 _NSPopAutoreleasePool + 431 (in Foundation) [0x91dff44f]
                1 -[NSObject release] + 37 (in CoreFoundation) [0x942c1915]
                  1 ___CFBagGrow + 374 (in CoreFoundation) [0x941d6396]
    1 +[VMUTask pidIsTranslated:] + 0 (in Symbolication) [0xa51fb]
  Kernel stack:
    6 _user_trap + 659 [0x1ab39c]
      5 _vm_fault + 3049 [0x1636ae]
        5 _vm_fault_page + 178 [0x160eb0]
          5 _lck_rw_sleep + 92 [0x13115c]
            5 _thread_block + 33 [0x136f20]
              3 _thread_continue + 1180 [0x136cb3]
              2 _thread_block_reason + 135 [0x136e7c]
                2 _thread_setrun + 3597 [0x136217]
                  2 _machine_idle + 271 [0x1ac3ec]
      1 _vm_fault + 524 [0x162cd1]
        1 _vm_map_lookup_entry + 90 [0x165dab]
    6 _PE_incoming_interrupt + 131 [0x44e416]
      6 _lapic_interrupt + 121 [0x1b16c0]
        6 _sync_iss_to_iks + 114 [0x1aa3ae]
    1 _unix_syscall + 572 [0x3e3a7f]
      1 _lstat + 72 [0x1e67d6]
        1 _stat64_extended + 294 [0x1e673d]
          1 _munge_stat + 325 [0x1e610b]
            1 _namei + 1237 [0x1d745e]
              1 _lookup + 661 [0x1d66c7]
                1 _VNOP_LOOKUP + 110 [0x1f4da4]
                  1 _hfs_swap_BTNode + 25071 [0x32b714]
                    1 _CompareExtendedCatalogKeys + 16689 [0x321a71]
                      1 _CompareExtendedCatalogKeys + 9556 [0x31fe94]
                        1 _BTSearchRecord + 151 [0x34e375]
                          1 _GetNode + 66 [0x34fcc6]
                            1 _ufs_readdir + 7309 [0x31b1c1]
                              1 _buf_biowait + 90 [0x1c96e3]
                                1 _msleep + 157 [0x3863e8]
                                  1 _uiomove + 653 [0x386037]
                                    1 _lck_mtx_sleep + 87 [0x130d90]
                                      1 _thread_block + 33 [0x136f20]
                                        1 _thread_continue + 1180 [0x136cb3]

  Thread id:      103dde40
  User stack:
    24 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      24 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        24 ___NSThread__main__ + 308 (in Foundation) [0x91e039a4]
          13 -[NSThread main] + 45 (in Foundation) [0x91e03dfd]
            12 -[VMUSampler _runSamplingThread] + 644 (in Symbolication)
[0xb457c]
              11 -[VMUSampler recordSampleTo:beginTime:endTime:] + 247 (in
Symbolication) [0xb3ef7]
                3 -[VMUBacktrace initWithTask:thread:is64Bit:withCallFrameInfo:]
+ 383 (in Symbolication) [0xac1a1]
                  3 -[VMUTaskMemoryCache flushMemoryCache] + 39 (in
Symbolication) [0xb6046]
                    2 -[VMUTaskMemoryCache freeMemoryRegions] + 87 (in
Symbolication) [0xb5ea1]
                      2 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
                    1 _vm_deallocate + 9 (in libSystem.B.dylib) [0x945e9c6d]
                3 -[VMUBacktrace initWithTask:thread:is64Bit:withCallFrameInfo:]
+ 1686 (in Symbolication) [0xac6b8]
                  2 -[VMUTaskMemoryCache readPointerAt:value:] + 101 (in
Symbolication) [0xb67ec]
                    2 -[VMUTaskMemoryCache peekAtAddress:size:returnsBuf:] + 827
(in Symbolication) [0xb66ef]
                      2 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
                  1 -[VMUTaskMemoryCache peekAtAddress:size:returnsBuf:] + 128
(in Symbolication) [0xb6434]
                2 -[VMUBacktrace initWithTask:thread:is64Bit:withCallFrameInfo:]
+ 2214 (in Symbolication) [0xac8c8]
                  2 -[VMUTaskMemoryCache stopPeeking] + 44 (in Symbolication)
[0xb6196]
                    2 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
                2 -[VMUBacktrace initWithTask:thread:is64Bit:withCallFrameInfo:]
+ 836 (in Symbolication) [0xac366]
                  2 -[VMUTaskMemoryCache peekAtAddress:size:returnsBuf:] + 827
(in Symbolication) [0xb66ef]
                    2 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
                1 -[VMUBacktrace initWithTask:thread:is64Bit:withCallFrameInfo:]
+ 1771 (in Symbolication) [0xac70d]
                  1 -[VMUTaskMemoryCache peekAtAddress:size:returnsBuf:] + 11
(in Symbolication) [0xb63bf]
              1 -[VMUSampler recordSampleTo:beginTime:endTime:] + 865 (in
Symbolication) [0xb4161]
                1 -[NSObject release] + 37 (in CoreFoundation) [0x942c1915]
                  1 ___CFDoExternRefOperation + 150 (in CoreFoundation)
[0x942c1716]
                    1 ___CFBagFindBuckets1a + 187 (in CoreFoundation)
[0x941d758b]
            1 -[VMUSampler _runSamplingThread] + 347 (in Symbolication)
[0xb4453]
              1 -[VMUSampler parseCFI:] + 221 (in Symbolication) [0xb5377]
                1 +[VMUTask taskWithMachTaskContainer:] + 64 (in Symbolication)
[0xa54be]
                  1 -[VMUTask initWithMachTaskContainer:] + 766 (in
Symbolication) [0xa57d4]
                    1 -[NSObject mutableCopy] + 42 (in CoreFoundation)
[0x942c0fea]
                      1 -[NSCFArray mutableCopyWithZone:] + 33 (in Foundation)
[0x91e43541]
                        1 __CFArraySetCapacity + 540 (in CoreFoundation)
[0x941ceabc]
          11 _mach_wait_until + 10 (in libSystem.B.dylib) [0x945c53a6]
  Kernel stack:
    7 _dtrace_get_cpu_int_stack_top + 543 [0x198fa3]
      3 _mach_msg_overwrite_trap + 752 [0x1264fa]
        3 _ipc_kobject_server + 247 [0x12d4d6]
          2 _vm_map_server_routine + 940 [0x159da7]
            2 _vm_deallocate + 96 [0x18372f]
              2 _vm_map_remove + 145 [0x16b18d]
                1 _vm_map_simplify + 5066 [0x16af6c]
                  1 _lck_rw_done_gen + 160 [0x1a02fd]
                    1 _ml_set_interrupts_enabled + 47 [0x1a4389]
                1 _vm_map_simplify + 4131 [0x16abc5]
                  1 _pmap_remove_range + 567 [0x194f0c]
          1 _mach_vm_server_routine + 594 [0x14eff8]
            1 _mach_vm_read + 97 [0x183b46]
              1 _vm_map_copyin_common + 3444 [0x16ccd3]
                1 _vm_map_simplify + 247 [0x169c99]
                  1 _zfree + 4 [0x142007]
      2 _mach_wait_until_trap + 61 [0x1299f5]
        2 _thread_block + 33 [0x136f20]
          2 _thread_block_reason + 135 [0x136e7c]
            2 _thread_setrun + 3597 [0x136217]
              2 _machine_idle + 271 [0x1ac3ec]
      1 _mutex_lock + 68 [0x19d184]
      1 _mutex_unlock + 252 [0x19d5fc]
    4 _PE_incoming_interrupt + 131 [0x44e416]
      4 _lapic_interrupt + 121 [0x1b16c0]
        4 _sync_iss_to_iks + 114 [0x1aa3ae]
    2 _lo_mach_scall + 219 [0x1a1ceb]
    1 _user_trap + 659 [0x1ab39c]
      1 _vm_fault + 2694 [0x16354b]
        1 _pmap_zero_page + 33 [0x1a9820]
    1 _inval_copy_windows + 986 [0x19f2e6]


Process:        securityd [20]
Path:           /usr/sbin/securityd

  ADDRESS         BINARY
  00001000        /usr/sbin/securityd
  000bc000        /System/Library/Frameworks/PCSC.framework/Versions/A/PCSC

  Thread id:      54a4ba0
  User stack:
    449 ??? [0x11ff2]
      449 ??? [0x2836]
        449 ??? [0x3e0a]
          449 _mach_msg_overwrite_trap + 10 (in libSystem.B.dylib) [0x945c5292]

  Thread id:      e6a9128
  User stack:
    317 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      317 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        317 ??? [0xa8a0]
          317 ??? [0xa8f2]
            317 _mach_msg_overwrite_trap + 10 (in libSystem.B.dylib)
[0x945c5292]

  Thread id:      10832c80
  User stack:
    93 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      93 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        93 ??? [0xa8a0]
          93 ??? [0xa8f2]
            93 _mach_msg_overwrite_trap + 10 (in libSystem.B.dylib)
[0x945c5292]

  Thread id:      cb6b128
  User stack:
    93 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      93 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        93 ??? [0xa8a0]
          93 ??? [0xa8f2]
            93 _mach_msg_overwrite_trap + 10 (in libSystem.B.dylib)
[0x945c5292]


Process:        sh [76]
Path:           /bin/sh

  ADDRESS         BINARY
  00001000        /bin/sh

  Thread id:      5f427d8
  User stack:
    449 ??? [0x19ce]
      449 ??? [0x39ce]
        449 ??? [0x3d9c]
          449 ??? [0x12a2e]
            449 ??? [0x10ed0]
              449 ??? [0x13811]
                449 ??? [0x12a2e]
                  449 ??? [0x10f84]
                    449 ??? [0x13ac0]
                      449 ??? [0x12a2e]
                        449 ??? [0x10f84]
                          449 ??? [0x13ac0]
                            449 ??? [0x12a2e]
                              449 ??? [0x10f84]
                                449 ??? [0x13ac0]
                                  449 ??? [0x12a2e]
                                    449 ??? [0x10f84]
                                      449 ??? [0x13b08]
                                        449 ??? [0x10eea]
                                          449 ??? [0x1391d]
                                            449 ??? [0x12a2e]
                                              449 ??? [0x10b68]
                                                449 ??? [0x12574]
                                                  449 ??? [0xf7ab]
                                                    449 ??? [0x3f84c]
                                                      449 ??? [0x404e9]
                                                        449 ??? [0x10bd3]
                                                          449 ??? [0x1e329]
                                                            449 ___wait4 + 10
(in libSystem.B.dylib) [0x94609856]


Process:        socketfilterfw [40]
Path:           /usr/libexec/ApplicationFirewall/socketfilterfw

  ADDRESS         BINARY
  00001000        /usr/libexec/ApplicationFirewall/socketfilterfw

  Thread id:      54a0f20
  User stack:
    449 ??? [0x21f6]
      449 ??? [0x8366]
        449 ??? [0x5a56]
          449 ??? [0x7359]
            449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
              448 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]
              1 _CFRunLoopRunSpecific + 3141 (in CoreFoundation) [0x942403c5]
                1 ___CFSocketPerformV0 + 133 (in CoreFoundation) [0x9424ad35]
                  1 ___CFSocketDoCallback + 640 (in CoreFoundation)
[0x942496f0]
                    1 ??? [0x6942]
                      1 ??? [0x68a4]
                        1 ??? [0x544f]
                          1 ??? [0x8e2b]
                            1 __CFBundleCreateWithExecutableURLIfLooksLikeBundle
+ 149 (in CoreFoundation) [0x941e6bc5]
                              1 __CFBundleCreateIfLooksLikeBundle + 61 (in
CoreFoundation) [0x941e6b2d]
                                1 __CFRelease + 216 (in CoreFoundation)
[0x94242538]
                                  1 ___CFBundleDeallocate + 330 (in
CoreFoundation) [0x941e5a7a]
                                    1 __CFBundleFlushCachesForURL + 86 (in
CoreFoundation) [0x941f02e6]
                                      1 __CFBundleFlushContentsCacheForPath +
253 (in CoreFoundation) [0x941ef6dd]
                                        1 _CFDictionaryRemoveValue + 731 (in
CoreFoundation) [0x9421277b]
                                          1 __CFRelease + 216 (in
CoreFoundation) [0x94242538]
                                            1 ___CFArrayReleaseValues + 221 (in
CoreFoundation) [0x941d13cd]
                                              1 __CFRelease + 342 (in
CoreFoundation) [0x942425b6]
                                                1 _tiny_free_list_add_ptr + 170
(in libSystem.B.dylib) [0x945cebd9]
  Kernel stack:
    1 _PE_incoming_interrupt + 131 [0x44e416]
      1 _lapic_interrupt + 121 [0x1b16c0]
        1 _sync_iss_to_iks + 114 [0x1aa3ae]

  Thread id:      5f3e3c8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      5f42ba0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]


Process:        spindump [39283]
Path:           /usr/sbin/spindump

  ADDRESS         BINARY

  Thread id:      a261000
  User stack:
    449 ??? [0x946073a5]
  Kernel stack:
    449 _unix_syscall + 572 [0x3e3a7f]
      449 _stack_snapshot2 + 133 [0x3583ef]

  Thread id:      10c6ae40
  User stack:
    449 ??? [0x945f6012]
      449 ??? [0x945f6155]
        449 ??? [0x945c5286]


Process:        ssh-agent [3973]
Path:           /usr/bin/ssh-agent

  ADDRESS         BINARY
  18461000        /usr/bin/ssh-agent

  Thread id:      10833ba0
  User stack:
    449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        synchronize-preferences [39282]
Path:           /usr/libexec/samba/synchronize-preferences

  ADDRESS         BINARY
  00001000        /usr/libexec/samba/synchronize-preferences

  Thread id:      10c6d7d8
  User stack:
    71 start + 54 (in synchronize-preferences) [0x1b72]
      71 _kevent + 10 (in libSystem.B.dylib) [0x945f59c6]


Process:        syslogd [18]
Path:           /usr/sbin/syslogd

  ADDRESS         BINARY
  00001000        /usr/sbin/syslogd

  Thread id:      538dc80
  User stack:
    448 ___select + 10 (in libSystem.B.dylib) [0x946146fa]
    1 ??? [0x17f2]
      1 ??? [0xf539]
        1 ??? [0x9640]
          1 ??? [0x87a1]
            1 ??? [0x86f1]
              1 ??? [0x7cba]
                1 _asl_parse_time + 1156 (in libSystem.B.dylib) [0x946282ad]
                  1 _timegm + 57 (in libSystem.B.dylib) [0x9462a8f1]
                    1 __st_time1 + 72 (in libSystem.B.dylib) [0x9462a93f]
                      1 _time2 + 45 (in libSystem.B.dylib) [0x9462ab3b]
                        1 _time2sub + 881 (in libSystem.B.dylib) [0x9462aed8]
                          1 _gmtsub + 64 (in libSystem.B.dylib) [0x94629d54]
                            1 _notify_check_tz + 85 (in libSystem.B.dylib)
[0x946037f2]
                              1 _notify_check + 46 (in libSystem.B.dylib)
[0x945ef5bc]
                                1 ??? [0xffff026d]
  Kernel stack:
    1 _PE_incoming_interrupt + 131 [0x44e416]
      1 _lapic_interrupt + 121 [0x1b16c0]
        1 _sync_iss_to_iks + 114 [0x1aa3ae]

  Thread id:      58ac8b8
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      58ac4f0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0xa53a]
          449 ??? [0xa29f]
            449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      58ac128
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x9580]
          449 __vprocmgr_log_drain + 75 (in libSystem.B.dylib) [0x946ed9ce]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]


Process:        taskgated [39285]
Path:           /usr/libexec/taskgated

  ADDRESS         BINARY
  00001000        /usr/libexec/taskgated

  Thread id:      10c69b58
  User stack:
    230 ??? [0x2066]
      230 ??? [0x2364]
        230 ??? [0x252b]
          230 _mach_msg_overwrite_trap + 10 (in libSystem.B.dylib) [0x945c5292]


Process:        update [15]
Path:           /usr/sbin/update

  ADDRESS         BINARY
  00001000        /usr/sbin/update

  Thread id:      54a34f0
  User stack:
    438 ??? [0x1f3a]
      438 ??? [0x1fd9]
        438 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
    11 ___sync + 10 (in libSystem.B.dylib) [0x9461dfba]
  Kernel stack:
    11 _unix_syscall + 572 [0x3e3a7f]
      11 _sync + 34 [0x1e22d7]
        11 _vfs_iterate + 204 [0x1dd026]
          11 _mount_dropcrossref + 240 [0x1e22a2]
            11 _VFS_SYNC + 111 [0x1f89fa]
              7 _hfs_mark_volume_inconsistent + 10221 [0x338a86]
                6 _vnode_iterate + 348 [0x1dff87]
                  5 _hfs_vnop_ioctl + 12378 [0x334bb7]
                    5 _GetLogicalBlockSize + 26178 [0x344496]
                      5 _GetLogicalBlockSize + 23898 [0x343bae]
                        5 _GetLogicalBlockSize + 2322 [0x33e766]
                          5 _journal_end_transaction + 1053 [0x1fd7af]
                            4 _journal_modify_block_start + 4417 [0x1fc296]
                              4 _journal_modify_block_start + 4118 [0x1fc16b]
                                3 _journal_uses_fua + 105 [0x1f992b]
                                  3 _VNOP_IOCTL + 209 [0x1f82a2]
                                    3 _spec_ioctl + 176 [0x204f8d]
                                      3 com.apple.iokit.IOStorageFamily (1.5.6)
+ 63020 [0x7ea62c]
                                        3 com.apple.iokit.IOAHCIBlockStorage
(1.2.2) + 25200 [0xe00270]
                                          3 com.apple.iokit.IOAHCIBlockStorage
(1.2.2) + 12848 [0xdfd230]
                                            3 _IORecursiveLockSleep + 67
[0x40adad]
                                              3 _lck_mtx_sleep + 87 [0x130d90]
                                                3 _thread_block + 33 [0x136f20]
                                                  3 _thread_continue + 1180
[0x136cb3]
                                1 _journal_uses_fua + 351 [0x1f9a21]
                                  1 _VNOP_IOCTL + 209 [0x1f82a2]
                                    1 _spec_ioctl + 176 [0x204f8d]
                                      1 com.apple.iokit.IOStorageFamily (1.5.6)
+ 63020 [0x7ea62c]
                                        1 com.apple.iokit.IOAHCIBlockStorage
(1.2.2) + 25200 [0xe00270]
                                          1 com.apple.iokit.IOAHCIBlockStorage
(1.2.2) + 12848 [0xdfd230]
                                            1 _IORecursiveLockSleep + 67
[0x40adad]
                                              1 _lck_mtx_sleep + 87 [0x130d90]
                                                1 _thread_block + 33 [0x136f20]
                                                  1 _thread_continue + 1180
[0x136cb3]
                            1 _journal_modify_block_start + 5977 [0x1fc8ae]
                              1 _VFS_ROOT + 913 [0x1f8fad]
                                1 _buf_biowait + 90 [0x1c96e3]
                                  1 _msleep + 157 [0x3863e8]
                                    1 _uiomove + 653 [0x386037]
                                      1 _lck_mtx_sleep + 87 [0x130d90]
                                        1 _thread_block + 33 [0x136f20]
                                          1 _thread_block_reason + 135
[0x136e7c]
                                            1 _thread_setrun + 3597 [0x136217]
                                              1 _machine_idle + 271 [0x1ac3ec]
                  1 _CompareExtendedCatalogKeys + 21609 [0x322da9]
                1 _vnode_iterate + 447 [0x1dffea]
                  1 _vnode_put + 41 [0x1dda34]
                    1 _lck_mtx_unlock + 96 [0x19dd70]
                      1 _lo_alltraps + 515 [0x1a1713]
                        1 _kernel_trap + 263 [0x1aac5b]
                          1 _ast_taken + 185 [0x129434]
                            1 _thread_continue + 1180 [0x136cb3]
              4 _hfs_mark_volume_inconsistent + 10587 [0x338bf4]
                4 _journal_flush + 608 [0x1fcdeb]
                  3 _journal_modify_block_start + 4417 [0x1fc296]
                    3 _journal_modify_block_start + 4118 [0x1fc16b]
                      2 _journal_uses_fua + 105 [0x1f992b]
                        2 _VNOP_IOCTL + 209 [0x1f82a2]
                          2 _spec_ioctl + 176 [0x204f8d]
                            2 com.apple.iokit.IOStorageFamily (1.5.6) + 63020
[0x7ea62c]
                              2 com.apple.iokit.IOAHCIBlockStorage (1.2.2) +
25200 [0xe00270]
                                2 com.apple.iokit.IOAHCIBlockStorage (1.2.2) +
12848 [0xdfd230]
                                  2 _IORecursiveLockSleep + 67 [0x40adad]
                                    2 _lck_mtx_sleep + 87 [0x130d90]
                                      2 _thread_block + 33 [0x136f20]
                                        2 _thread_continue + 1180 [0x136cb3]
                      1 _journal_uses_fua + 351 [0x1f9a21]
                        1 _VNOP_IOCTL + 209 [0x1f82a2]
                          1 _spec_ioctl + 176 [0x204f8d]
                            1 com.apple.iokit.IOStorageFamily (1.5.6) + 63020
[0x7ea62c]
                              1 com.apple.iokit.IOAHCIBlockStorage (1.2.2) +
25200 [0xe00270]
                                1 com.apple.iokit.IOAHCIBlockStorage (1.2.2) +
12848 [0xdfd230]
                                  1 _IORecursiveLockSleep + 67 [0x40adad]
                                    1 _lck_mtx_sleep + 87 [0x130d90]
                                      1 _thread_block + 33 [0x136f20]
                                        1 _thread_continue + 1180 [0x136cb3]
                  1 _journal_modify_block_start + 6562 [0x1fcaf7]
                    1 _buf_markdelayed + 133 [0x1c9b27]
                      1 _vnode_waitforwrites + 167 [0x1dd32e]
                        1 _msleep + 157 [0x3863e8]
                          1 _uiomove + 653 [0x386037]
                            1 _lck_mtx_sleep + 87 [0x130d90]
                              1 _thread_block + 33 [0x136f20]
                                1 _thread_continue + 1180 [0x136cb3]


Process:        usbmuxd [14]
Path:           /System/Library/PrivateFrameworks/MobileDevice.framework/Versions/A/Resources/usbmuxd

  ADDRESS         BINARY
  00001000        /System/Library/PrivateFrameworks/MobileDevice.framework/Versions/A/Resources/usbmuxd
  00063000        /System/Library/PrivateFrameworks/MobileDevice.framework/Versions/A/MobileDevice
  000ea000        /System/Library/Extensions/IOUSBFamily.kext/Contents/PlugIns/IOUSBLib.bundle/Contents/MacOS/IOUSBLib

  Thread id:      538e048
  User stack:
    449 ??? [0x1f89]
      449 ??? [0x205c]
        449 ??? [0x328e]
          449 _CFRunLoopRun + 84 (in CoreFoundation) [0x94240b04]
            449 _mach_msg_trap + 10 (in libSystem.B.dylib) [0x945c5286]

  Thread id:      603dd60
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]


Process:        webdavfs_agent [267]
Path:           /System/Library/Extensions/webdav_fs.kext/Contents/Resources/webdavfs_agent

  ADDRESS         BINARY
  00001000        /System/Library/Extensions/webdav_fs.kext/Contents/Resources/webdavfs_agent
  00025000        /usr/lib/libutil.dylib

  Thread id:      6c76a78
  User stack:
    449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      677f048
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        449 ??? [0x150ae]
          449 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]

  Thread id:      7066ba0
  User stack:
    449 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      449 ___select + 10 (in libSystem.B.dylib) [0x946146fa]

  Thread id:      103dde40
  User stack:
    73 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      73 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        72 ??? [0x15915]
          72 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
        1 ??? [0x154ac]
          1 ??? [0x8a82]
            1 ??? [0xd37c]
              1 ??? [0xd12f]
                1 ??? [0xcba3]
                  1 _CFReadStreamRead + 477 (in CoreFoundation) [0x9425500d]
                    1
__ZN14HTTPReadStream10streamReadEP14__CFReadStreamPhlP13CFStreamErrorS2_ + 77
(in CFNetwork) [0x952371ff]
                      1 _CFReadStreamRead + 477 (in CoreFoundation)
[0x9425500d]
                        1
__ZN17HTTPNetStreamInfo10streamReadEP14__CFReadStreamPhlP13CFStreamErrorS2_ +
300 (in CFNetwork) [0x9523098a]
                          1 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                            1 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]

  Thread id:      e6a8d60
  User stack:
    72 _thread_start + 34 (in libSystem.B.dylib) [0x945f6012]
      72 __pthread_start + 321 (in libSystem.B.dylib) [0x945f6155]
        69 ??? [0x15915]
          69 ___semwait_signal + 10 (in libSystem.B.dylib) [0x945cc46e]
        3 ??? [0x15510]
          3 ??? [0x86f5]
            3 ??? [0xe94d]
              3 _CFReadStreamRead + 477 (in CoreFoundation) [0x9425500d]
                3 __ZN14HTTPReadStream10streamReadEP14__CFReadStreamPhlP13CFStreamErrorS2_
+ 77 (in CFNetwork) [0x952371ff]
                  3 _CFReadStreamRead + 477 (in CoreFoundation) [0x9425500d]
                    3
__ZN17HTTPNetStreamInfo10streamReadEP14__CFReadStreamPhlP13CFStreamErrorS2_ +
300 (in CFNetwork) [0x9523098a]
                      3 _CFRunLoopRunInMode + 88 (in CoreFoundation)
[0x94240aa8]
                        3 _mach_msg_trap + 10 (in libSystem.B.dylib)
[0x945c5286]


Process:        kernel_task [0]
Path:           kernel_task

  ADDRESS         BINARY

  Thread id:      522740

  Thread id:      5293ba0

  Thread id:      52937d8
  Kernel stack:
    1 _sched_startup + 696 [0x137aaf]
      1 _thread_block_reason + 135 [0x136e7c]
        1 _thread_setrun + 3597 [0x136217]
          1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      5293410

  Thread id:      5293048

  Thread id:      5292c80

  Thread id:      52928b8

  Thread id:      5292128

  Thread id:      52906b0

  Thread id:      528ff20

  Thread id:      528f790
  Kernel stack:
    449 _buf_list_unlock + 95 [0x1c9d84]
      449 _msleep + 157 [0x3863e8]
        449 _uiomove + 653 [0x386037]
          449 _lck_mtx_sleep + 87 [0x130d90]
            449 _thread_block + 33 [0x136f20]
              449 _thread_continue + 1180 [0x136cb3]

  Thread id:      528f000
  Kernel stack:
    449 com.apple.driver.AppleIntelCPUPowerManagement (76.2.0) + 34736
[0xd917b0]
      449 _thread_block + 33 [0x136f20]
        449 _thread_continue + 1180 [0x136cb3]

  Thread id:      528f3c8

  Thread id:      52902e8

  Thread id:      538cd60
  Kernel stack:
    1 __ZN10IOWorkLoop10threadMainEv + 191 [0x425ae1]
      1 _thread_block_parameter + 32 [0x136efd]
        1 _thread_block_reason + 135 [0x136e7c]
          1 _thread_setrun + 3597 [0x136217]
            1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      538af20

  Thread id:      5291998

  Thread id:      538ab58

  Thread id:      538b2e8

  Thread id:      52924f0

  Thread id:      538a3c8
  Kernel stack:
    449 _ifnet_input + 2830 [0x217da7]
      449 _msleep + 157 [0x3863e8]
        449 _uiomove + 653 [0x386037]
          449 _lck_mtx_sleep + 87 [0x130d90]
            449 _thread_block + 33 [0x136f20]
              449 _thread_continue + 1180 [0x136cb3]

  Thread id:      538a000

  Thread id:      538e410

  Thread id:      541d5d0

  Thread id:      541d208

  Thread id:      538a790

  Thread id:      541ca78

  Thread id:      541bf20

  Thread id:      541bb58

  Thread id:      541b790

  Thread id:      541b3c8

  Thread id:      541b000

  Thread id:      538be40
  Kernel stack:
    5 __ZN10IOWorkLoop10threadMainEv + 191 [0x425ae1]
      5 _thread_block_parameter + 32 [0x136efd]
        5 _thread_block_reason + 135 [0x136e7c]
          5 _thread_setrun + 3597 [0x136217]
            5 _machine_idle + 271 [0x1ac3ec]

  Thread id:      538b6b0

  Thread id:      541fba0

  Thread id:      541c6b0
  Kernel stack:
    449 _macx_swapinfo + 574 [0x3c7972]
      449 _mach_msg_receive + 175 [0x1261c5]
        449 _ipc_mqueue_receive + 750 [0x121292]
          449 _thread_block + 33 [0x136f20]
            449 _thread_continue + 1180 [0x136cb3]

  Thread id:      541f048

  Thread id:      541e128

  Thread id:      541f7d8

  Thread id:      541d998
  Kernel stack:
    4 __ZN10IOWorkLoop10threadMainEv + 191 [0x425ae1]
      4 _thread_block_parameter + 32 [0x136efd]
        4 _thread_block_reason + 135 [0x136e7c]
          4 _thread_setrun + 3597 [0x136217]
            4 _machine_idle + 271 [0x1ac3ec]

  Thread id:      58a9790
  Kernel stack:
    449 _ifnet_input + 2830 [0x217da7]
      449 _msleep + 157 [0x3863e8]
        449 _uiomove + 653 [0x386037]
          449 _lck_mtx_sleep + 87 [0x130d90]
            449 _thread_block + 33 [0x136f20]
              444 _thread_continue + 1180 [0x136cb3]
              5 _thread_block_reason + 135 [0x136e7c]
                5 _thread_setrun + 3597 [0x136217]
                  5 _machine_idle + 271 [0x1ac3ec]

  Thread id:      58a93c8
  Kernel stack:
    449 _ifnet_input + 2830 [0x217da7]
      449 _msleep + 157 [0x3863e8]
        449 _uiomove + 653 [0x386037]
          449 _lck_mtx_sleep + 87 [0x130d90]
            449 _thread_block + 33 [0x136f20]
              447 _thread_continue + 1180 [0x136cb3]
              2 _thread_block_reason + 135 [0x136e7c]
                2 _thread_setrun + 3597 [0x136217]
                  2 _machine_idle + 271 [0x1ac3ec]

  Thread id:      5f405d0

  Thread id:      5f3f6b0
  Kernel stack:
    4 __ZN10IOWorkLoop10threadMainEv + 191 [0x425ae1]
      4 _thread_block_parameter + 32 [0x136efd]
        4 _thread_block_reason + 135 [0x136e7c]
          4 _thread_setrun + 3597 [0x136217]
            4 _machine_idle + 271 [0x1ac3ec]

  Thread id:      5cb4208
  Kernel stack:
    61 __ZN10IOWorkLoop10threadMainEv + 191 [0x425ae1]
      61 _thread_block_parameter + 32 [0x136efd]
        61 _thread_block_reason + 135 [0x136e7c]
          61 _thread_setrun + 3597 [0x136217]
            61 _machine_idle + 271 [0x1ac3ec]

  Thread id:      5cb2000

  Thread id:      5cb45d0
  Kernel stack:
    1 __ZN10IOWorkLoop10threadMainEv + 191 [0x425ae1]
      1 _thread_block_parameter + 32 [0x136efd]
        1 _thread_block_reason + 135 [0x136e7c]
          1 _thread_setrun + 3597 [0x136217]
            1 _machine_idle + 271 [0x1ac3ec]
    1 __ZN10IOWorkLoop10threadMainEv + 24 [0x425a3a]
      1 __ZN10IOWorkLoop15runEventSourcesEv + 90 [0x425d58]
        1 __ZN22IOInterruptEventSource12checkForWorkEv + 183 [0x426bfb]
          1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 30024 [0x68d548]
            1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 17543 [0x68a487]
              1 com.apple.driver.AppleIntelGMAX3100 (5.4.8) + 106386 [0x69ff92]
                1 __ZN25IOGeneralMemoryDescriptor8completeE11IODirection + 267
[0x43227f]
                  1 _upl_commit + 61 [0x17eb94]
                    1 _vm_page_lookup + 28 [0x17f354]

  Thread id:      5f418b8

  Thread id:      5f41c80

  Thread id:      5f3ef20

  Thread id:      5cb6048
  Kernel stack:
    449 com.apple.filesystems.autofs (2.0.2) + 25277 [0xcf52bd]
      449 _msleep + 157 [0x3863e8]
        449 _uiomove + 608 [0x38600a]
          449 _lck_mtx_sleep_deadline + 104 [0x130e26]
            449 _thread_block + 33 [0x136f20]
              449 _thread_continue + 1180 [0x136cb3]

  Thread id:      603ce40
  Kernel stack:
    449 com.vmware.kext.vmx86 (1.1.3) + 9451 [0x657ce4eb]
      449 _thread_block + 33 [0x136f20]
        449 _thread_continue + 1180 [0x136cb3]

  Thread id:      6313410

  Thread id:      528fb58
  Kernel stack:
    449 _ifnet_input + 2830 [0x217da7]
      449 _msleep + 157 [0x3863e8]
        449 _uiomove + 653 [0x386037]
          449 _lck_mtx_sleep + 87 [0x130d90]
            449 _thread_block + 33 [0x136f20]
              449 _thread_continue + 1180 [0x136cb3]

  Thread id:      630f790
  Kernel stack:
    449 _ifnet_input + 2830 [0x217da7]
      449 _msleep + 157 [0x3863e8]
        449 _uiomove + 653 [0x386037]
          449 _lck_mtx_sleep + 87 [0x130d90]
            449 _thread_block + 33 [0x136f20]
              449 _thread_continue + 1180 [0x136cb3]

  Thread id:      6312128

  Thread id:      a261b58

  Thread id:      10473f20

  Thread id:      104ff410

  Thread id:      7ab3e40

  Thread id:      104063c8

  Thread id:      10407a78

  Thread id:      a264c80

  Thread id:      104072e8

  Thread id:      104fdd60

  Thread id:      104fd208
  Kernel stack:
    17 _thread_call_enter1 + 736 [0x13ebde]
      17 __ZN18IOTimerEventSource17timeoutAndReleaseEPvS0_ + 144 [0x4293b4]
        16 com.apple.driver.AppleHDA (1.7.1a2) + 14249 [0xc777a9]
          16 __ZN13IOCommandGate9runActionEPFiP8OSObjectPvS2_S2_S2_ES2_S2_S2_S2_
+ 261 [0x427525]
            16 com.apple.driver.AppleHDA (1.7.1a2) + 14327 [0xc777f7]
              16 com.apple.driver.AppleHDA (1.7.1a2) + 14542 [0xc778ce]
                16 com.apple.driver.AppleHDA (1.7.1a2) + 136361 [0xc954a9]
                  16 _IOSleep + 25 [0x40a677]
                    16 _delay_for_interval + 49 [0x129b27]
                      16 _thread_block + 33 [0x136f20]
                        16 _thread_continue + 1180 [0x136cb3]
        1 com.apple.iokit.IOHIDFamily (1.5.5) + 128903 [0x77c787]
          1 com.apple.iokit.IOHIDFamily (1.5.5) + 120912 [0x77a850]
            1 com.apple.iokit.IOHIDFamily (1.5.5) + 105751 [0x776d17]
              1 com.apple.iokit.IOGraphicsFamily (1.7.3) + 71358 [0x5c36be]
                1 com.apple.iokit.IOGraphicsFamily (1.7.3) + 53046 [0x5bef36]
                  1 com.apple.driver.AppleIntelGMAX3100FB (5.4.8) + 70107
[0x5ea1db]
    8 _thread_call_enter1 + 913 [0x13ec8f]
      8 _thread_block_parameter + 32 [0x136efd]
        8 _thread_block_reason + 135 [0x136e7c]
          8 _thread_setrun + 3597 [0x136217]
            8 _machine_idle + 271 [0x1ac3ec]

  Thread id:      1003d000
  Kernel stack:
    16 _thread_call_enter1 + 736 [0x13ebde]
      15 __ZN18IOTimerEventSource17timeoutAndReleaseEPvS0_ + 144 [0x4293b4]
        15 com.apple.driver.AppleHDA (1.7.1a2) + 14249 [0xc777a9]
          15 __ZN13IOCommandGate9runActionEPFiP8OSObjectPvS2_S2_S2_ES2_S2_S2_S2_
+ 261 [0x427525]
            15 com.apple.driver.AppleHDA (1.7.1a2) + 14327 [0xc777f7]
              15 com.apple.driver.AppleHDA (1.7.1a2) + 14542 [0xc778ce]
                15 com.apple.driver.AppleHDA (1.7.1a2) + 136361 [0xc954a9]
                  15 _IOSleep + 25 [0x40a677]
                    15 _delay_for_interval + 49 [0x129b27]
                      15 _thread_block + 33 [0x136f20]
                        15 _thread_continue + 1180 [0x136cb3]
      1 _IOTrySpinLock + 10 [0x448f22]
    14 _thread_call_enter1 + 913 [0x13ec8f]
      14 _thread_block_parameter + 32 [0x136efd]
        14 _thread_block_reason + 135 [0x136e7c]
          14 _thread_setrun + 3597 [0x136217]
            14 _machine_idle + 271 [0x1ac3ec]

  Thread id:      107bf7d8
  Kernel stack:
    12 _thread_call_enter1 + 913 [0x13ec8f]
      12 _thread_block_parameter + 32 [0x136efd]
        12 _thread_block_reason + 135 [0x136e7c]
          12 _thread_setrun + 3597 [0x136217]
            12 _machine_idle + 271 [0x1ac3ec]
    12 _thread_call_enter1 + 736 [0x13ebde]
      12 __ZN18IOTimerEventSource17timeoutAndReleaseEPvS0_ + 144 [0x4293b4]
        12 com.apple.driver.AppleHDA (1.7.1a2) + 14249 [0xc777a9]
          12 __ZN13IOCommandGate9runActionEPFiP8OSObjectPvS2_S2_S2_ES2_S2_S2_S2_
+ 261 [0x427525]
            12 com.apple.driver.AppleHDA (1.7.1a2) + 14327 [0xc777f7]
              11 com.apple.driver.AppleHDA (1.7.1a2) + 14542 [0xc778ce]
                11 com.apple.driver.AppleHDA (1.7.1a2) + 136361 [0xc954a9]
                  11 _IOSleep + 25 [0x40a677]
                    11 _delay_for_interval + 49 [0x129b27]
                      11 _thread_block + 33 [0x136f20]
                        11 _thread_continue + 1180 [0x136cb3]
              1 com.apple.driver.AppleHDA (1.7.1a2) + 14488 [0xc77898]
                1 com.apple.driver.AppleHDA (1.7.1a2) + 128854 [0xc93756]
                  1 com.apple.driver.AppleHDA (1.7.1a2) + 126801 [0xc92f51]
                    1 com.apple.iokit.IOHDAFamily (1.7.1a2) + 4992 [0x9e1380]
                      1 com.apple.driver.AppleHDAController (1.7.1a2) + 9543
[0x9e9547]
                        1
__ZN10IOWorkLoop9runActionEPFiP8OSObjectPvS2_S2_S2_ES1_S2_S2_S2_S2_ + 59
[0x425c57]
                          1 com.apple.driver.AppleHDAController (1.7.1a2) +
19094 [0x9eba96]
                            1 _IORecursiveLockSleep + 67 [0x40adad]
                              1 _lck_mtx_sleep + 87 [0x130d90]
                                1 _thread_block + 33 [0x136f20]
                                  1 _thread_block_reason + 135 [0x136e7c]
                                    1 _thread_setrun + 3597 [0x136217]
                                      1 _machine_idle + 271 [0x1ac3ec]

  Thread id:      ffe6790
  Kernel stack:
    16 _thread_call_enter1 + 736 [0x13ebde]
      16 __ZN18IOTimerEventSource17timeoutAndReleaseEPvS0_ + 144 [0x4293b4]
        16 com.apple.driver.AppleHDA (1.7.1a2) + 14249 [0xc777a9]
          16 __ZN13IOCommandGate9runActionEPFiP8OSObjectPvS2_S2_S2_ES2_S2_S2_S2_
+ 261 [0x427525]
            16 com.apple.driver.AppleHDA (1.7.1a2) + 14327 [0xc777f7]
              16 com.apple.driver.AppleHDA (1.7.1a2) + 14542 [0xc778ce]
                16 com.apple.driver.AppleHDA (1.7.1a2) + 136361 [0xc954a9]
                  16 _IOSleep + 25 [0x40a677]
                    16 _delay_for_interval + 49 [0x129b27]
                      16 _thread_block + 33 [0x136f20]
                        16 _thread_continue + 1180 [0x136cb3]
    9 _thread_call_enter1 + 913 [0x13ec8f]
      9 _thread_block_parameter + 32 [0x136efd]
        9 _thread_block_reason + 135 [0x136e7c]
          9 _thread_setrun + 3597 [0x136217]
            9 _machine_idle + 271 [0x1ac3ec]

  Thread id:      ffe6b58


SHARED FRAMEWORK AREA
ADDRESS         BINARY
90003000        /System/Library/Frameworks/InstantMessage.framework/Versions/A/InstantMessage
90020000        /System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
90021000        /System/Library/Frameworks/CalendarStore.framework/Versions/A/CalendarStore
90185000        /System/Library/PrivateFrameworks/FamilyControls.framework/Versions/A/FamilyControls
901d7000        /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib
901d8000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreText.framework/Versions/A/CoreText
90233000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
9023b000        /System/Library/PrivateFrameworks/OpenDirectory.framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory
9024d000        /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
9024e000        /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
9027e000        /usr/lib/libobjc.A.dylib
9035f000        /System/Library/PrivateFrameworks/CoreAUC.framework/Versions/A/CoreAUC
904ef000        /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib
908ae000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting
908c7000        /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
908d4000        /System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
90952000        /System/Library/PrivateFrameworks/ISSupport.framework/Versions/A/ISSupport
909b9000        /System/Library/PrivateFrameworks/OpenDirectory.framework/Versions/A/OpenDirectory
909be000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture
909d4000        /System/Library/PrivateFrameworks/Shortcut.framework/Versions/A/Shortcut
909fd000        /System/Library/PrivateFrameworks/FileSync.framework/Versions/A/FileSync
90a07000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
90d10000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
90d52000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
90d72000        /System/Library/Frameworks/QuickTime.framework/Versions/A/QuickTime
91099000        /System/Library/PrivateFrameworks/MonitorPanel.framework/Versions/A/MonitorPanel
9109a000        /System/Library/PrivateFrameworks/HelpData.framework/Versions/A/HelpData
910a7000        /usr/lib/libncurses.5.4.dylib
910d7000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
91778000        /System/Library/PrivateFrameworks/AOSNotification.framework/Versions/A/AOSNotification
9177d000        /usr/lib/libxslt.1.dylib
917a2000        /System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
9182d000        /usr/lib/system/libmathCommon.A.dylib
91832000        /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
91c43000        /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage
91d0b000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
91d17000        /usr/lib/libxml2.2.dylib
91df9000        /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
92076000        /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
92077000        /System/Library/PrivateFrameworks/PasswordServer.framework/Versions/A/PasswordServer
920bc000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS
92150000        /System/Library/PrivateFrameworks/QuickLookUI.framework/Versions/A/QuickLookUI
921a0000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis
921b1000        /System/Library/Frameworks/AGL.framework/Versions/A/AGL
921b9000        /usr/lib/libstdc++.6.dylib
92217000        /usr/lib/libbsm.dylib
9221f000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help
92223000        /System/Library/PrivateFrameworks/DotMacLegacy.framework/Versions/A/DotMacLegacy
9222f000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
922aa000        /System/Library/QuickTime/QuickTimeComponents.component/Contents/MacOS/QuickTimeComponents
931fb000        /System/Library/Frameworks/PubSub.framework/Versions/A/PubSub
93302000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HTMLRendering.framework/Versions/A/HTMLRendering
93364000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels
9336a000        /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata
933b4000        /usr/lib/libsqlite3.0.dylib
9343c000        /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
9343d000        /System/Library/PrivateFrameworks/DataDetectorsCore.framework/Versions/A/DataDetectorsCore
9348c000        /System/Library/PrivateFrameworks/CoreMediaIOServicesPrivate.framework/Versions/A/CoreMediaIOServicesPrivate
934cd000        /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos
9357e000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
93581000        /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices
9363c000        /System/Library/Frameworks/QTKit.framework/Versions/A/QTKit
936f4000        /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib
93722000        /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices
937af000        /System/Library/Frameworks/JavaScriptCore.framework/Versions/A/JavaScriptCore
93940000        /System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/Versions/A/WebCore
941cd000        /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
94301000        /System/Library/QuickTime/QuickTimeH264.component/Contents/MacOS/QuickTimeH264
94304000        /System/Library/PrivateFrameworks/DotMacSyncManager.framework/Versions/A/DotMacSyncManager
94337000        /System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
9448a000        /usr/lib/libicucore.A.dylib
945c4000        /usr/lib/libSystem.B.dylib
9472c000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI
9472f000        /System/Library/QuickTime/QuickTimeImporters.component/Contents/MacOS/QuickTimeImporters
947d3000        /System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
94b71000        /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
94c5a000        /System/Library/Frameworks/SecurityFoundation.framework/Versions/A/SecurityFoundation
94c95000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
94cb2000        /usr/lib/libffi.dylib
94cb4000        /usr/lib/libtidy.A.dylib
94ceb000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices
94d3d000        /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
94d4b000        /System/Library/Frameworks/Quartz.framework/Versions/A/Frameworks/QuartzComposer.framework/Versions/A/QuartzComposer
94f08000        /System/Library/PrivateFrameworks/DAVKit.framework/Versions/A/DAVKit
94f45000        /System/Library/Frameworks/SecurityInterface.framework/Versions/A/SecurityInterface
94f90000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices
94f91000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
94f96000        /System/Library/Frameworks/LDAP.framework/Versions/A/LDAP
94fc9000        /usr/lib/libcrypto.0.9.7.dylib
9507c000        /usr/lib/libbz2.1.0.dylib
95089000        /System/Library/Frameworks/Quartz.framework/Versions/A/Frameworks/QuartzFilters.framework/Versions/A/QuartzFilters
950bb000        /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices
950d2000        /System/Library/Frameworks/DirectoryService.framework/Versions/A/DirectoryService
950f1000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CarbonSound.framework/Versions/A/CarbonSound
950fc000        /System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
951d8000        /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
95280000        /System/Library/PrivateFrameworks/DataDetectors.framework/Versions/A/DataDetectors
95298000        /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
952b1000        /System/Library/PrivateFrameworks/WhitePages.framework/Versions/A/WhitePages
9531f000        /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
95320000        /System/Library/PrivateFrameworks/InstallServer.framework/Versions/A/InstallServer
95321000        /System/Library/PrivateFrameworks/Backup.framework/Versions/A/Backup
95327000        /System/Library/Frameworks/SyncServices.framework/Versions/A/SyncServices
9540a000        /usr/lib/libz.1.dylib
95419000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
95423000        /System/Library/Frameworks/Quartz.framework/Versions/A/Frameworks/PDFKit.framework/Versions/A/PDFKit
95496000        /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
95771000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/NavigationServices.framework/Versions/A/NavigationServices
957b4000        /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib
9580e000        /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
9589c000        /System/Library/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI
958d7000        /System/Library/Frameworks/Security.framework/Versions/A/Security
95aa9000        /System/Library/Frameworks/AddressBook.framework/Versions/A/AddressBook
95c2a000        /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLProgrammability.dylib
960fc000        /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
9617c000        /usr/lib/libcups.2.dylib
961a6000        /usr/lib/libiconv.2.dylib
96504000        /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
9650d000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
9654d000        /System/Library/Frameworks/QuickLook.framework/Versions/A/QuickLook
9656b000        /usr/lib/libsasl2.2.dylib
9657b000        /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
96d7a000        /System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
96d7b000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync
96e47000        /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration
96e7f000        /usr/lib/libssl.0.9.7.dylib
96ea4000        /System/Library/PrivateFrameworks/Bom.framework/Versions/A/Bom
96ed9000        /System/Library/PrivateFrameworks/iLifeMediaBrowser.framework/Versions/A/iLifeMediaBrowser
96f4c000        /System/Library/PrivateFrameworks/DisplayServices.framework/Versions/A/DisplayServices
96f52000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink
96fe6000        /System/Library/PrivateFrameworks/CoreMediaPrivate.framework/Versions/A/CoreMediaPrivate
97010000        /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
9704f000        /usr/lib/libgcc_s.1.dylib
97057000        /System/Library/PrivateFrameworks/DSObjCWrappers.framework/Versions/A/DSObjCWrappers
97067000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/ImageIO
971b0000        /usr/lib/libauto.dylib
972a6000        /System/Library/PrivateFrameworks/KerberosHelper.framework/Versions/A/KerberosHelper
972ac000        /System/Library/PrivateFrameworks/CrashReporterSupport.framework/Versions/A/CrashReporterSupport
972af000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
972c0000        /System/Library/Frameworks/Quartz.framework/Versions/A/Quartz
972c1000        /System/Library/Frameworks/Quartz.framework/Versions/A/Frameworks/ImageKit.framework/Versions/A/ImageKit
973fa000        /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib
97478000        /usr/lib/libresolv.9.dylib
97497000        /System/Library/Frameworks/InstantMessage.framework/Frameworks/IMUtils.framework/Versions/A/IMUtils
974ab000        /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
97553000        /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print


From elliott.forney at gmail.com  Wed Oct 14 00:34:08 2009
From: elliott.forney at gmail.com (Elliott Forney)
Date: Tue, 13 Oct 2009 16:34:08 -0600
Subject: [Rd] unexpected behavior in list of lexical closures (PR#14004)
In-Reply-To: <4AD46BA6.4030102@stats.uwo.ca>
References: <20091013055009.8B36B282EFEA@mail.pubhealth.ku.dk>
	<4AD46BA6.4030102@stats.uwo.ca>
Message-ID: <df69822d0910131534x5ca25741m6c180910339aee3f@mail.gmail.com>

I see.  I will be careful of this in the future.  Thank you very much
for your feedback.

Elliott Forney

On Tue, Oct 13, 2009 at 5:59 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 13/10/2009 1:50 AM, elliott.forney at gmail.com wrote:
>>
>> Full_Name: Elliott Forney
>> Version: 2.9.2
>> OS: Linux, Fedora 10
>> Submission from: (NULL) (129.82.47.235)
>
> This is not a bug, just a consequence of lazy evaluation. ?Arguments are not
> evaluated when passed, but when first used. ?Since the "input" argument is
> never evaluated in the commented version of "funk" below, it isn't evaluated
> until one of the output functions is evaluated.
>
> It's a good practice to force the evaluation of arguments to function
> builders like this, for exactly the reason you saw. ?(The force() function
> is one way to do it, but any expression evaluating the argument will work.
>
> Duncan Murdoch
>
>
>>
>>
>> The following code creates a list of functions that are lexically closed
>> over a
>> single argument. ?If a print statement is included then each function in
>> the
>> list evaluates to a different value. ?If the print statement is not
>> included
>> then each function evaluates to something different, as expected. ?I am
>> convinced that this behavior is not correct as one would not expect the
>> presence
>> of a lone print statement to alter the behavior of a program.
>>
>> Please let me know if you have any questions and thank you for your time.
>> ?The
>> sample code follows:
>>
>> ## returns a function that sums input with 5
>> funk <- function(input)
>> {
>> ?## expected behavior if either of
>> ?## the following lines is uncommented
>> ?# print(input)
>> ?# input <- input
>>
>> ?## function to sum input with 5
>> ?## lexical closure over input
>> ?function()
>> ?{
>> ? ?input + 5
>> ?}
>> }
>>
>> ## create a list different funk's
>> funk.list <- list()
>> for (i in 1:5)
>> {
>> ?## just some values to sum over
>> ?test.vector <- 1:i
>>
>> ?## add funk that sums test.vector with 5
>> ?funk.list[[i]] <- funk(sum(test.vector))
>> }
>>
>> ## print result of evaluating each funk
>> ## They are all the same unless print or
>> ## reflexive assignment is uncommented!!
>> for (i in 1:5)
>> ?print(funk.list[[i]]())
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From simon.urbanek at r-project.org  Wed Oct 14 15:35:24 2009
From: simon.urbanek at r-project.org (simon.urbanek at r-project.org)
Date: Wed, 14 Oct 2009 15:35:24 +0200 (CEST)
Subject: [Rd] Mac R spinning wheel with Package Manager (PR#14005)
Message-ID: <20091014133524.BBB76283031E@mail.pubhealth.ku.dk>

(moving to the proper mailing list: R-SIG-Mac - this is not a bug so  
far!)

James,

this look like your internet access is stalling R -- it's not really R  
freezing but your internet. Try using a different mirror and/or check  
your internet connection.

Cheers,
Simon


On Oct 13, 2009, at 10:45 , james at howison.name wrote:

> Full_Name: James Howison
> Version: 2.9.2
> OS: Mac OS X 10.5.8
> Submission from: (NULL) (128.2.222.163)
>
>
> For quite a while now I have been unable to use Package Manager to  
> install
> programs.  I get the spinning wheel and long lock ups.  This happens  
> when I hit,
> "get list", but that eventually returns, seemingly successfully.   
> However it
> also happens when I try to install a package, the whole application  
> locks up.  I
> don't see anything in a log file; I took a sample using Activity  
> Manager and the
> report after a force quit (which I didn't "send to apple")
>
> I'm able to build packages fine using install.packages and CMD INSTALL
>
> This behavior continued with a fresh R install (Oct 13, 2009)


From edd at debian.org  Thu Oct 15 00:42:29 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 14 Oct 2009 17:42:29 -0500
Subject: [Rd] MASS (and class, nnet, spatial) for R 2.10.0 ?
Message-ID: <19158.21461.867019.783280@ron.nulle.part>


Maybe I missed an announcement somewhere but having started with the usual
practice of putting R pre-releases into Debian unstable leading up to the
release of the next R version, I now find myself unable to do my daily
package maintenance as I only see VR 7.2-49 with its

	Depends: 	R (? 2.5.0), R (? 2.9.2)

preventing use on R 2.10.0.   That stopped the update of the Debian package
r-cran-effects (which wants MASS) in its tracks.   

I see the somewhat hidden MASS 7.3-0 and 7.3-1 in

	http://cran.r-project.org/src/contrib/Archive/MASS/

so should I be using these?  Along with the other components of VR ?

Dirk

-- 
Three out of two people have difficulties with fractions.


From murdoch at stats.uwo.ca  Thu Oct 15 00:54:01 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 14 Oct 2009 18:54:01 -0400
Subject: [Rd] MASS (and class, nnet, spatial) for R 2.10.0 ?
In-Reply-To: <19158.21461.867019.783280@ron.nulle.part>
References: <19158.21461.867019.783280@ron.nulle.part>
Message-ID: <4AD65689.5020000@stats.uwo.ca>

On 14/10/2009 6:42 PM, Dirk Eddelbuettel wrote:
> Maybe I missed an announcement somewhere but having started with the usual
> practice of putting R pre-releases into Debian unstable leading up to the
> release of the next R version, I now find myself unable to do my daily
> package maintenance as I only see VR 7.2-49 with its
> 
> 	Depends: 	R (? 2.5.0), R (? 2.9.2)
> 
> preventing use on R 2.10.0.   That stopped the update of the Debian package
> r-cran-effects (which wants MASS) in its tracks.   
> 
> I see the somewhat hidden MASS 7.3-0 and 7.3-1 in
> 
> 	http://cran.r-project.org/src/contrib/Archive/MASS/
> 
> so should I be using these?  Along with the other components of VR ?

Yes, see this news item:

     o	Bundles of packages are deprecated.  See 'Writing R
	Extensions' for the steps needed to unbundle a bundle.

The VR bundle contained packages class, MASS, nnet, and spatial, which 
are now separate recommended packages, whose source is included in the R 
source tarball, or on CRAN in

http://cran.r-project.org/src/contrib/2.10.0/Recommended/

Duncan Murdoch


From edd at debian.org  Thu Oct 15 02:06:45 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 14 Oct 2009 19:06:45 -0500
Subject: [Rd] MASS (and class, nnet, spatial) for R 2.10.0 ?
In-Reply-To: <4AD65689.5020000@stats.uwo.ca>
References: <19158.21461.867019.783280@ron.nulle.part>
	<4AD65689.5020000@stats.uwo.ca>
Message-ID: <19158.26517.120600.412604@ron.nulle.part>


On 14 October 2009 at 18:54, Duncan Murdoch wrote:
| On 14/10/2009 6:42 PM, Dirk Eddelbuettel wrote:
| > Maybe I missed an announcement somewhere but having started with the usual
| > practice of putting R pre-releases into Debian unstable leading up to the
| > release of the next R version, I now find myself unable to do my daily
| > package maintenance as I only see VR 7.2-49 with its
| > 
| > 	Depends: 	R (? 2.5.0), R (? 2.9.2)
| > 
| > preventing use on R 2.10.0.   That stopped the update of the Debian package
| > r-cran-effects (which wants MASS) in its tracks.   
| > 
| > I see the somewhat hidden MASS 7.3-0 and 7.3-1 in
| > 
| > 	http://cran.r-project.org/src/contrib/Archive/MASS/
| > 
| > so should I be using these?  Along with the other components of VR ?
| 
| Yes, see this news item:
| 
|      o	Bundles of packages are deprecated.  See 'Writing R
| 	Extensions' for the steps needed to unbundle a bundle.

That of course I knew as a reader of both your NEWS feed [1] as well as my
own CRANberries [2] which carried e.g. Paul Gilbert's dse unbundling.

But that still does not answer my new MASS, nnet, spatial, class release are
not on CRAN in the usual location (eg $CRAN/src/contrib/) but socked away in
the Archive/ subdir.

| The VR bundle contained packages class, MASS, nnet, and spatial, which 
| are now separate recommended packages, whose source is included in the R 
| source tarball, or on CRAN in
| 
| http://cran.r-project.org/src/contrib/2.10.0/Recommended/

I guess the fact that VR is special and included in R itself explains part of
it.  I forget about that angle.

Dirk

[1] http://developer.r-project.org/blosxom.cgi/R-devel
[2] http://dirk.eddelbuettel.com/cranberries/
-- 
Three out of two people have difficulties with fractions.


From p.dalgaard at biostat.ku.dk  Thu Oct 15 08:57:41 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu, 15 Oct 2009 08:57:41 +0200
Subject: [Rd] MASS (and class, nnet, spatial) for R 2.10.0 ?
In-Reply-To: <19158.26517.120600.412604@ron.nulle.part>
References: <19158.21461.867019.783280@ron.nulle.part>	<4AD65689.5020000@stats.uwo.ca>
	<19158.26517.120600.412604@ron.nulle.part>
Message-ID: <4AD6C7E5.8020808@biostat.ku.dk>

Dirk Eddelbuettel wrote:
> On 14 October 2009 at 18:54, Duncan Murdoch wrote:
> | On 14/10/2009 6:42 PM, Dirk Eddelbuettel wrote:
> | > Maybe I missed an announcement somewhere but having started with the usual
> | > practice of putting R pre-releases into Debian unstable leading up to the
> | > release of the next R version, I now find myself unable to do my daily
> | > package maintenance as I only see VR 7.2-49 with its
> | > 
> | > 	Depends: 	R (? 2.5.0), R (? 2.9.2)
> | > 
> | > preventing use on R 2.10.0.   That stopped the update of the Debian package
> | > r-cran-effects (which wants MASS) in its tracks.   
> | > 
> | > I see the somewhat hidden MASS 7.3-0 and 7.3-1 in
> | > 
> | > 	http://cran.r-project.org/src/contrib/Archive/MASS/
> | > 
> | > so should I be using these?  Along with the other components of VR ?
> | 
> | Yes, see this news item:
> | 
> |      o	Bundles of packages are deprecated.  See 'Writing R
> | 	Extensions' for the steps needed to unbundle a bundle.
> 
> That of course I knew as a reader of both your NEWS feed [1] as well as my
> own CRANberries [2] which carried e.g. Paul Gilbert's dse unbundling.
> 
> But that still does not answer my new MASS, nnet, spatial, class release are
> not on CRAN in the usual location (eg $CRAN/src/contrib/) but socked away in
> the Archive/ subdir.
> 
> | The VR bundle contained packages class, MASS, nnet, and spatial, which 
> | are now separate recommended packages, whose source is included in the R 
> | source tarball, or on CRAN in
> | 
> | http://cran.r-project.org/src/contrib/2.10.0/Recommended/
> 
> I guess the fact that VR is special and included in R itself explains part of
> it.  I forget about that angle.

I don't think that's it. Rather, the point is that packages directly 
under src/contrib/ refers to the CURRENT version of R and gets updated 
only on release of the next version. The MASS in src/contrib/2.10.0 has

Depends: R (>= 2.10.0), grDevices, graphics, stats, utils

which means that trouble will occur if it gets put into src/contrib at 
this stage and someone tries to install it.

This does occasionally also affect non-recommended packages, currently: 
orientlib, which is in src/contrib/2.10.0/Other.

So, the point is that if you are building stuff for unreleased versions, 
the process should be taught to look in the appropriate part of CRAN.

As I'm never quite sure what you're up to, I can't tell whether the 
issue is on your side or ours. There does seem to be some potential 
issues, both with dependency searches and with the effects of 
unbundling. (Do we, e.g., want a virtual VR package which just depends 
on the packages that used to be inside, for the benefit of packages that 
depends on VR?)

-p

> Dirk
> 
> [1] http://developer.r-project.org/blosxom.cgi/R-devel
> [2] http://dirk.eddelbuettel.com/cranberries/


-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From ligges at statistik.tu-dortmund.de  Thu Oct 15 09:54:44 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Thu, 15 Oct 2009 09:54:44 +0200
Subject: [Rd] MASS (and class, nnet, spatial) for R 2.10.0 ?
In-Reply-To: <4AD6C7E5.8020808@biostat.ku.dk>
References: <19158.21461.867019.783280@ron.nulle.part>	<4AD65689.5020000@stats.uwo.ca>	<19158.26517.120600.412604@ron.nulle.part>
	<4AD6C7E5.8020808@biostat.ku.dk>
Message-ID: <4AD6D544.5040104@statistik.tu-dortmund.de>



Peter Dalgaard wrote:
> Dirk Eddelbuettel wrote:
>> On 14 October 2009 at 18:54, Duncan Murdoch wrote:
>> | On 14/10/2009 6:42 PM, Dirk Eddelbuettel wrote:
>> | > Maybe I missed an announcement somewhere but having started with 
>> the usual
>> | > practice of putting R pre-releases into Debian unstable leading up 
>> to the
>> | > release of the next R version, I now find myself unable to do my 
>> daily
>> | > package maintenance as I only see VR 7.2-49 with its
>> | > | >     Depends:     R (? 2.5.0), R (? 2.9.2)
>> | > | > preventing use on R 2.10.0.   That stopped the update of the 
>> Debian package
>> | > r-cran-effects (which wants MASS) in its tracks.   | > | > I see 
>> the somewhat hidden MASS 7.3-0 and 7.3-1 in
>> | > | >     http://cran.r-project.org/src/contrib/Archive/MASS/
>> | > | > so should I be using these?  Along with the other components 
>> of VR ?
>> | | Yes, see this news item:
>> | |      o    Bundles of packages are deprecated.  See 'Writing R
>> |     Extensions' for the steps needed to unbundle a bundle.
>>
>> That of course I knew as a reader of both your NEWS feed [1] as well 
>> as my
>> own CRANberries [2] which carried e.g. Paul Gilbert's dse unbundling.
>>
>> But that still does not answer my new MASS, nnet, spatial, class 
>> release are
>> not on CRAN in the usual location (eg $CRAN/src/contrib/) but socked 
>> away in
>> the Archive/ subdir.
>>
>> | The VR bundle contained packages class, MASS, nnet, and spatial, 
>> which | are now separate recommended packages, whose source is 
>> included in the R | source tarball, or on CRAN in
>> | | http://cran.r-project.org/src/contrib/2.10.0/Recommended/
>>
>> I guess the fact that VR is special and included in R itself explains 
>> part of
>> it.  I forget about that angle.
> 
> I don't think that's it. Rather, the point is that packages directly 
> under src/contrib/ refers to the CURRENT version of R and gets updated 
> only on release of the next version. The MASS in src/contrib/2.10.0 has
> 
> Depends: R (>= 2.10.0), grDevices, graphics, stats, utils
> 
> which means that trouble will occur if it gets put into src/contrib at 
> this stage and someone tries to install it.
> 
> This does occasionally also affect non-recommended packages, currently: 
> orientlib, which is in src/contrib/2.10.0/Other.
> 
> So, the point is that if you are building stuff for unreleased versions, 
> the process should be taught to look in the appropriate part of CRAN.
> 
> As I'm never quite sure what you're up to, I can't tell whether the 
> issue is on your side or ours. There does seem to be some potential 
> issues, both with dependency searches and with the effects of 
> unbundling. (Do we, e.g., want a virtual VR package which just depends 
> on the packages that used to be inside, for the benefit of packages that 
> depends on VR?)


Can packages depend on VR? Untested, but at least there is no such 
package on CRAN and dependency rules should mention the package, not the 
bundle.

The PACKAGES file in src/contrib also points to the packages in 
src/contrib/2.10.0. It is up to Dirk to use the information in PACKAGES 
correctly as it is done for the Windows and Mac binaries on CRAN.

Best,
Uwe







> -p
> 
>> Dirk
>>
>> [1] http://developer.r-project.org/blosxom.cgi/R-devel
>> [2] http://dirk.eddelbuettel.com/cranberries/
> 
>


From p.dalgaard at biostat.ku.dk  Thu Oct 15 11:34:44 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu, 15 Oct 2009 11:34:44 +0200
Subject: [Rd] MASS (and class, nnet, spatial) for R 2.10.0 ?
In-Reply-To: <4AD6D544.5040104@statistik.tu-dortmund.de>
References: <19158.21461.867019.783280@ron.nulle.part>	<4AD65689.5020000@stats.uwo.ca>	<19158.26517.120600.412604@ron.nulle.part>
	<4AD6C7E5.8020808@biostat.ku.dk>
	<4AD6D544.5040104@statistik.tu-dortmund.de>
Message-ID: <4AD6ECB4.7060206@biostat.ku.dk>

Uwe Ligges wrote:
>
>>
>> As I'm never quite sure what you're up to, I can't tell whether the 
>> issue is on your side or ours. There does seem to be some potential 
>> issues, both with dependency searches and with the effects of 
>> unbundling. (Do we, e.g., want a virtual VR package which just depends 
>> on the packages that used to be inside, for the benefit of packages 
>> that depends on VR?)
> 
> 
> Can packages depend on VR? Untested, but at least there is no such 
> package on CRAN and dependency rules should mention the package, not the 
> bundle.
> 
> The PACKAGES file in src/contrib also points to the packages in 
> src/contrib/2.10.0. It is up to Dirk to use the information in PACKAGES 
> correctly as it is done for the Windows and Mac binaries on CRAN.

OK, thanks for clearing that up, Uwe.


-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From chalabi at phys.ethz.ch  Thu Oct 15 12:48:13 2009
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Thu, 15 Oct 2009 12:48:13 +0200
Subject: [Rd] typo in nlminb ?
Message-ID: <20091015124813.015c89d7@mimi>

Dear dev,

it looks like there is a typo in nlminb.

regards,
Yohan


Index: src/library/stats/R/nlminb.R
===================================================================
--- src/library/stats/R/nlminb.R	(revision 50097)
+++ src/library/stats/R/nlminb.R	(working copy)
@@ -93,7 +93,7 @@
                "7" = "singular convergence (7)",
                "8" = "false convergence (8)",
                "9" = "function evaluation limit reached without convergence (9)",
-               "10" = "iteration limit reached without convergence (9)",
+               "10" = "iteration limit reached without convergence (10)",
                "14" = "storage has been allocated (?) (14)",
 
                "15" = "LIV too small (15)",

-- 
PhD candidate
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From james at howison.name  Wed Oct 14 17:30:22 2009
From: james at howison.name (james at howison.name)
Date: Wed, 14 Oct 2009 17:30:22 +0200 (CEST)
Subject: [Rd] Mac R spinning wheel with Package Manager (PR#14005)
Message-ID: <20091014153022.9FA89283031E@mail.pubhealth.ku.dk>

Thanks Simon,

I changed my mirror and the freeze on "Get List" reduced (although  
there was still a spinning pizza).  Attempting an install definitely  
locked things up, but I can tell from my network activity that it was  
downloading and it did go ahead and install.

Thanks, I suppose expected behavior would be something communicating  
the issue and perhaps a progress bar; certainly I think avoiding a  
spinning pizza would be a good think, since that is usually very bad  
news :)

Cheers,
James

On Oct 14, 2009, at 09:32, Simon Urbanek wrote:

> (moving to the proper mailing list: R-SIG-Mac - this is not a bug so  
> far!)
>
> James,
>
> this look like your internet access is stalling R -- it's not really  
> R freezing but your internet. Try using a different mirror and/or  
> check your internet connection.
>
> Cheers,
> Simon
>
>
> On Oct 13, 2009, at 10:45 , james at howison.name wrote:
>
>> Full_Name: James Howison
>> Version: 2.9.2
>> OS: Mac OS X 10.5.8
>> Submission from: (NULL) (128.2.222.163)
>>
>>
>> For quite a while now I have been unable to use Package Manager to  
>> install
>> programs.  I get the spinning wheel and long lock ups.  This  
>> happens when I hit,
>> "get list", but that eventually returns, seemingly successfully.   
>> However it
>> also happens when I try to install a package, the whole application  
>> locks up.  I
>> don't see anything in a log file; I took a sample using Activity  
>> Manager and the
>> report after a force quit (which I didn't "send to apple")
>>
>> I'm able to build packages fine using install.packages and CMD  
>> INSTALL
>>
>> This behavior continued with a fresh R install (Oct 13, 2009)
>


From grainne.kerr at gmail.com  Thu Oct 15 16:27:22 2009
From: grainne.kerr at gmail.com (Grainne Kerr)
Date: Thu, 15 Oct 2009 16:27:22 +0200
Subject: [Rd] Can't locate R/Rdconv.pm in @INC
Message-ID: <1454ac870910150727q79d2e812h7f8860664c104b5e@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091015/4c19335d/attachment.pl>

From pgilbert at bank-banque-canada.ca  Thu Oct 15 16:43:57 2009
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 15 Oct 2009 10:43:57 -0400
Subject: [Rd] news() format
Message-ID: <D611103AA7EE3B4DAE7F7D49C72B291A01DE3B16@EXMAIL2.bocad.bank-banque-canada.ca>

I am trying to reformat my NEWS file so it works with news()  (in R-beta
as of a few days ago). I have tried several variations around

Changes in version 2009.10-1
	o Standardized NEWS format for function news().
	o Fixed a few documentation problems found by R-2.10.0 (beta) 
	quality checks.


But news() only picks up the second entry.  Suggestions?

Paul
====================================================================================

La version fran?aise suit le texte anglais.

------------------------------------------------------------------------------------

This email may contain privileged and/or confidential information, and the Bank of
Canada does not waive any related rights. Any distribution, use, or copying of this
email or the information it contains by other than the intended recipient is
unauthorized. If you received this email in error please delete it immediately from
your system and notify the sender promptly by email that you have done so. 

------------------------------------------------------------------------------------

Le pr?sent courriel peut contenir de l'information privil?gi?e ou confidentielle.
La Banque du Canada ne renonce pas aux droits qui s'y rapportent. Toute diffusion,
utilisation ou copie de ce courriel ou des renseignements qu'il contient par une
personne autre que le ou les destinataires d?sign?s est interdite. Si vous recevez
ce courriel par erreur, veuillez le supprimer imm?diatement et envoyer sans d?lai ?
l'exp?diteur un message ?lectronique pour l'aviser que vous avez ?limin? de votre
ordinateur toute copie du courriel re?u.

From edd at debian.org  Thu Oct 15 17:22:56 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 15 Oct 2009 10:22:56 -0500
Subject: [Rd] MASS (and class, nnet, spatial) for R 2.10.0 ?
In-Reply-To: <4AD6D544.5040104@statistik.tu-dortmund.de>
References: <19158.21461.867019.783280@ron.nulle.part>
	<4AD65689.5020000@stats.uwo.ca>
	<19158.26517.120600.412604@ron.nulle.part>
	<4AD6C7E5.8020808@biostat.ku.dk>
	<4AD6D544.5040104@statistik.tu-dortmund.de>
Message-ID: <19159.15952.518048.917455@ron.nulle.part>


On 15 October 2009 at 09:54, Uwe Ligges wrote:
| The PACKAGES file in src/contrib also points to the packages in 
| src/contrib/2.10.0. It is up to Dirk to use the information in PACKAGES 
| correctly as it is done for the Windows and Mac binaries on CRAN.

I am -- which is why I took care of 'effects' where yesterday's release to
upgrade as MASS complained loud and clear thanks to its R (<= 2.9.2) and I am
now using R 2.10.0 beta.

The issue at hand are the 'conditional' source directories. We (eg Debian)
use so-called watch files to match current versions against http or
ftp-reachable sources, and that scheme simply does cooperate with the scheme
I could satirically describe as 'CRAN sources here when the moon is half full
but there otherwise'.  *Unconditionally* computable URLs are simply easier to
handle.  "We" (eg Debian) deal with some 15,000 source packages from a
presumably similarly large number of sources. Special-casing the PACKAGES
file is out of scope.

Then again, with my Debian developer hat on, I can certainly cope with that,
and I don't see a much cleaner way forward.  Part of the problem simply is
that I am 'early' with some packages, but that is in simply to help in
getting pre-releases out so that we catch a bug or two.  I was just trying to
point out potential sources of confusion, and you are quite right in pointing
me to the PACKAGES file.

OTOH, consider that eg Brian always reminds people to use pre-release, and if
one then does simple non-R-based searches such as the URL expansion

    http://cran.r-project.org/package=MASS

or the direct

    http://cran.r-project.org/web/packages/MASS/index.html

one arrives at entirely misleading information.  Just sayin' ... and as
above, this cannot be corrected as the Apache macro / cgi expander cannot
know that I have R 2.10.0 in mind.

I'll drop this now, and thank everybody for taking the time to follow-up.

Dirk

-- 
Three out of two people have difficulties with fractions.


From atp at piskorski.com  Thu Oct 15 19:55:15 2009
From: atp at piskorski.com (atp at piskorski.com)
Date: Thu, 15 Oct 2009 19:55:15 +0200 (CEST)
Subject: [Rd] R segfault in fgets from do_system under high memory use
	(PR#14008)
Message-ID: <20091015175515.9F1DF2831FE7@mail.pubhealth.ku.dk>

Full_Name: Andrew Piskorski
Version: R 2.9.2 (Patched), 2009-09-24, svn.rev 49930, x86_64-unknown-linux-gnu
OS: Linux, Ubuntu 8.04.3 LTS
Submission from: (NULL) (66.31.65.247)


I have a large memory test case which segaults R everytime in an fgets
call from R's do_system (see below).

This appears to be because R does not check the return value of the
system popen, and I have a simple patch to src/main/sysutils.c and
src/unix/sys-unix.c which fixes the problem.  I will attempt to attach
the patch after submitting this initial bug report.

This is on Linux, Ubuntu 8.04.3 LTS with:

R 2.9.2 (Patched), 2009-09-24, svn.rev 49930, x86_64-unknown-linux-gnu


Below is some further detail on the problem, from BEFORE applying my
patch:
------------------------------------------------------------

Valgrind doesn't seem to find anything unusual until an "Invalid read
of size 4" in fgets right before it segfaults.  Valgrind is also
reporting an "Address 0x0 is not stack'd" message there, which I think
means that do_system is passing a 0 address to fgets, which is then
causing the segfault.

Looking at the fgets all in src/unix/sys-unix.c, the buf argument is
statically allocated so I don't see how it could be 0.  fp, the 3rd
argument to fgets, is set by R_popen().  So, I think the system
popen() call is failing to fork or allocate memory or whatever it's
trying to do, and is returning a NULL.

gdb and Valgrind output from the failure follow:
------------------------------------------------------------

Program received signal SIGSEGV, Segmentation fault.
(gdb) bt
#0  0x00007f735647f4fd in fgets () from /lib/libc.so.6
#1  0x00007f7356b39fe3 in do_system (call=<value optimized out>,
    op=<value optimized out>, args=<value optimized out>,
    rho=<value optimized out>) at ../../../src/unix/sys-unix.c:273
#2  0x00007f7356aa1c09 in do_internal (call=<value optimized out>,
    op=<value optimized out>, args=0xace1d220, env=0xa90e3820)
    at ../../../src/main/names.c:1150
#3  0x00007f7356a6ec11 in Rf_eval (e=0x872638, rho=0xa90e3820)
    at ../../../src/main/eval.c:461
[...]
#90 0x00007f7356a92950 in run_Rmainloop () at ../../../src/main/main.c:966
#91 0x000000000040088b in main (ac=<value optimized out>,
    av=<value optimized out>) at ../../../src/main/Rmain.c:33
#92 0x00007f735643a1c4 in __libc_start_main () from /lib/libc.so.6
#93 0x00000000004007a9 in _start ()
(gdb) q


==27499== Invalid read of size 4
==27499==    at 0x55E84FD: fgets (in /lib/libc-2.7.so)
==27499==    by 0x4FB6FB2: do_system (sys-unix.c:273)
==27499==    by 0x4F1EBD8: do_internal (names.c:1150)
==27499==    by 0x4EEBBE0: Rf_eval (eval.c:461)
==27499==    by 0x4EEC9D1: do_begin (eval.c:1191)
==27499==    by 0x4EEBBE0: Rf_eval (eval.c:461)
==27499==    by 0x4EEE34E: Rf_applyClosure (eval.c:667)
==27499==    by 0x4EEBAFB: Rf_eval (eval.c:505)
==27499==    by 0x4EEC9D1: do_begin (eval.c:1191)
==27499==    by 0x4EEBBE0: Rf_eval (eval.c:461)
==27499==    by 0x4EEBBE0: Rf_eval (eval.c:461)
==27499==    by 0x4EEC9D1: do_begin (eval.c:1191)
==27499==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
/home/andy/t/vg-R.sh: line 34: 27499 Segmentation fault


From atp at piskorski.com  Thu Oct 15 20:15:15 2009
From: atp at piskorski.com (atp at piskorski.com)
Date: Thu, 15 Oct 2009 20:15:15 +0200 (CEST)
Subject: [Rd] bugs.r-project.org, Submit Changes does nothing (PR#14009)
Message-ID: <20091015181515.80CD52831FE7@mail.pubhealth.ku.dk>

Full_Name: Andrew Piskorski
Version: not applicable, web-based R bug tracker
OS: not applicable, web-based R bug tracker
Submission from: (NULL) (66.31.65.247)


Once I have submitted a bug via the bugs.r-project.org web interface,
I can find the bug and view it.  E.g.:

  http://bugs.r-project.org/cgi-bin/R/incoming?id=14008

That shows me an empty "Notes:" box and a button to "Submit Changes".

I entered some text (a patch for the above id=14008 segfault) and
clicked Submit, but my entry seems to be silently discarded.  There is
no error message, but the new data I attempted to enter never shows up
on the bug report.


From atp at piskorski.com  Thu Oct 15 20:20:22 2009
From: atp at piskorski.com (atp at piskorski.com)
Date: Thu, 15 Oct 2009 20:20:22 +0200 (CEST)
Subject: [Rd] PR#14008,
	R segfault in fgets from do_system under high memory use
Message-ID: <20091015182022.915112831FE7@mail.pubhealth.ku.dk>

On this issue:

  http://bugs.r-project.org/cgi-bin/R/incoming?id=14008

Here's a small patch which fixes the problem:


$ svn diff src/main/sysutils.c src/unix/sys-unix.c
Index: src/main/sysutils.c
===================================================================
--- src/main/sysutils.c	(revision 49961)
+++ src/main/sysutils.c	(working copy)
@@ -260,6 +260,9 @@
 #else
     fp = popen(command, type);
 #endif
+    if (NULL == fp) {
+       error(_("popen failed with errno %i: %s"), errno, strerror(errno));
+    }
     return fp;
 }
 #endif /* HAVE_POPEN */
Index: src/unix/sys-unix.c
===================================================================
--- src/unix/sys-unix.c	(revision 49961)
+++ src/unix/sys-unix.c	(working copy)
@@ -270,6 +270,11 @@
 
	PROTECT(tlist);
	fp = R_popen(translateChar(STRING_ELT(CAR(args), 0)), x);
+        if (NULL == fp) {
+            UNPROTECT(1);
+            errorcall(call, _("R_popen returned NULL."));
+            return R_NilValue;
+        }
	 for (i = 0; fgets(buf, INTERN_BUFSIZE, fp); i++) {
	     read = strlen(buf);
	         if(read >= INTERN_BUFSIZE - 1)

-- 
Andrew Piskorski <atp at piskorski.com>
http://www.piskorski.com/


From pgilbert at bank-banque-canada.ca  Thu Oct 15 20:46:08 2009
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 15 Oct 2009 14:46:08 -0400
Subject: [Rd] R  RSS feed
Message-ID: <D611103AA7EE3B4DAE7F7D49C72B291A01E48C9E@EXMAIL2.bocad.bank-banque-canada.ca>

I was trying to subscribe to an RSS feed from
<http://developer.r-project.org/RSSfeeds.html> but IE chokes on DTDs and
Firefox also has trouble with this feed. (I'm not sure if it has trouble
with DTDs in general.) 

I went to one of our web developers to see what I should use to read the
feed, and he pointed out that the mix of RSS 2.00 and rss-0.91 looks
like a mistake:

<!-- name="generator" content="blosxom/2.0" -->
<!DOCTYPE rss PUBLIC "-//Netscape Communications//DTD RSS 2.00//EN"
"http://www.rssboard.org/rss-0.91.dtd">

and that DTDs are a little bit unusual in RSS feeds (but said it is not
impossible). I'm a complete novice in this, just pointing it out in case
it is a bug.

Paul
====================================================================================

La version fran?aise suit le texte anglais.

------------------------------------------------------------------------------------

This email may contain privileged and/or confidential information, and the Bank of
Canada does not waive any related rights. Any distribution, use, or copying of this
email or the information it contains by other than the intended recipient is
unauthorized. If you received this email in error please delete it immediately from
your system and notify the sender promptly by email that you have done so. 

------------------------------------------------------------------------------------

Le pr?sent courriel peut contenir de l'information privil?gi?e ou confidentielle.
La Banque du Canada ne renonce pas aux droits qui s'y rapportent. Toute diffusion,
utilisation ou copie de ce courriel ou des renseignements qu'il contient par une
personne autre que le ou les destinataires d?sign?s est interdite. Si vous recevez
ce courriel par erreur, veuillez le supprimer imm?diatement et envoyer sans d?lai ?
l'exp?diteur un message ?lectronique pour l'aviser que vous avez ?limin? de votre
ordinateur toute copie du courriel re?u.

From murdoch at stats.uwo.ca  Thu Oct 15 21:15:42 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 15 Oct 2009 15:15:42 -0400
Subject: [Rd] R  RSS feed
In-Reply-To: <D611103AA7EE3B4DAE7F7D49C72B291A01E48C9E@EXMAIL2.bocad.bank-banque-canada.ca>
References: <D611103AA7EE3B4DAE7F7D49C72B291A01E48C9E@EXMAIL2.bocad.bank-banque-canada.ca>
Message-ID: <4AD774DE.4080506@stats.uwo.ca>

On 10/15/2009 2:46 PM, Paul Gilbert wrote:
> I was trying to subscribe to an RSS feed from
> <http://developer.r-project.org/RSSfeeds.html> but IE chokes on DTDs and
> Firefox also has trouble with this feed. (I'm not sure if it has trouble
> with DTDs in general.) 
> 
> I went to one of our web developers to see what I should use to read the
> feed, and he pointed out that the mix of RSS 2.00 and rss-0.91 looks
> like a mistake:
> 
> <!-- name="generator" content="blosxom/2.0" -->
> <!DOCTYPE rss PUBLIC "-//Netscape Communications//DTD RSS 2.00//EN"
> "http://www.rssboard.org/rss-0.91.dtd">
> 
> and that DTDs are a little bit unusual in RSS feeds (but said it is not
> impossible). I'm a complete novice in this, just pointing it out in case
> it is a bug.

I agree it's a bug, but I'm also a novice here (even though I set up the 
feed!)

If your web developer (or anyone else on this list) can suggest what the 
header should look like, I'll fix it.

Duncan Murdoch

> 
> Paul
> ====================================================================================
> 
> La version fran?aise suit le texte anglais.
> 
> ------------------------------------------------------------------------------------
> 
> This email may contain privileged and/or confidential information, and the Bank of
> Canada does not waive any related rights. Any distribution, use, or copying of this
> email or the information it contains by other than the intended recipient is
> unauthorized. If you received this email in error please delete it immediately from
> your system and notify the sender promptly by email that you have done so. 
> 
> ------------------------------------------------------------------------------------
> 
> Le pr?sent courriel peut contenir de l'information privil?gi?e ou confidentielle.
> La Banque du Canada ne renonce pas aux droits qui s'y rapportent. Toute diffusion,
> utilisation ou copie de ce courriel ou des renseignements qu'il contient par une
> personne autre que le ou les destinataires d?sign?s est interdite. Si vous recevez
> ce courriel par erreur, veuillez le supprimer imm?diatement et envoyer sans d?lai ?
> l'exp?diteur un message ?lectronique pour l'aviser que vous avez ?limin? de votre
> ordinateur toute copie du courriel re?u.
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From bolker at ufl.edu  Thu Oct 15 19:10:45 2009
From: bolker at ufl.edu (Ben Bolker)
Date: Thu, 15 Oct 2009 13:10:45 -0400
Subject: [Rd] forwarded: bug (?) in cut.POSIXt with "breaks"=integer
Message-ID: <4AD75795.9070308@ufl.edu>


From: Vitalie S. <vitosmail <at> rambler.ru>
Subject: Bug in cut.POSIXt
Newsgroups: gmane.comp.lang.r.general
Date: 2009-10-15 15:47:48 GMT (1 hour and 29 minutes ago)

Hello Everyone,

Before reporting decided to post here first:

tt <- structure(c(1254238817, 1254238859, 1254238969, 1254239080), class =
c("POSIXt",
                                                              "POSIXct"),
tzone = "")

cut.POSIXt(tt, 2)
#Error in `levels<-.factor`(`*tmp*`, value = character(0)) :
#  number of levels differs

cut.POSIXt(tt, 2, labels=c("a1", "a2"))
#[1] a1 a1 a2 a2
#Levels: a1 a2

cut(tt, "2 mins")
#[1] 2009-09-29 17:40:00 2009-09-29 17:40:00 2009-09-29 17:42:00
2009-09-29 17:44:00
#Levels: 2009-09-29 17:40:00 2009-09-29 17:42:00 2009-09-29 17:44:00

> sessionInfo()
R version 2.9.2 Patched (2009-09-24 r50069)
i386-pc-mingw32

locale:
LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
States.1252;LC_MONETARY=English_United
States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  utils     datasets  grDevices methods   base
>

Vitalie.


======================

  I would agree that this is a bug ... this patch gets rid of the error,
but leaves the labels very ugly -- given enough hours I might be able to
figure out how to make the labels nice, but someone else can probably do
it quicker (see comments in code below)


  It would probably also be worth adding something like

cut(Dates,2)

  around line 5067 of reg-tests-1.R


--- datetime.R	2009-10-15 13:01:15.000000000 -0400
***************
*** 764,770 ****
        }
      } else stop("invalid specification of 'breaks'")
      res <- cut(unclass(x), unclass(breaks), labels = labels, right =
right, ...)
!     if(is.null(labels)) levels(res) <-
as.character(breaks[-length(breaks)])
      res
  }

--- 764,782 ----
        }
      } else stop("invalid specification of 'breaks'")
      res <- cut(unclass(x), unclass(breaks), labels = labels, right =
right, ...)
!     if(is.null(labels)) {
!       if (is.numeric(breaks) && length(breaks) == 1L)
!         levels(res) <- as.character(breaks[-length(breaks)])
!       } else {
!         ## ?? what should happen here?
!         ## this version simply leaves the break values
!         ## as numeric (and very ugly)
!         ## I don't know how to safely convert the breakpoints
!         ## back to a character format (e.g.
!         ## levels(res) = [1970-01-01 00:00:00,1970-01-01 12:00:00)
!         ## instead of [18000,61200)
!       }
!     }
      res
  }


-- 
Ben Bolker
Associate professor, Biology Dep't, Univ. of Florida
bolker at ufl.edu / www.zoology.ufl.edu/bolker
GPG key: www.zoology.ufl.edu/bolker/benbolker-publickey.asc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091015/ebc04172/attachment.bin>

From pkensche at cmbi.ru.nl  Thu Oct 15 15:40:21 2009
From: pkensche at cmbi.ru.nl (pkensche at cmbi.ru.nl)
Date: Thu, 15 Oct 2009 15:40:21 +0200 (CEST)
Subject: [Rd] let R and Rscript infer paths from their own location
	(PR#14007)
Message-ID: <20091015134021.D234D282BE87@mail.pubhealth.ku.dk>

Full_Name: Philip R. Kensche
Version: 2.9.1
OS: Linux
Submission from: (NULL) (131.174.146.252)


Use case:
Run R scripts using bin/Rscript or "bin/R --no-restore --file=<script-file>
--args <args>" in a heterogeneous computing grid in which it is not possible to
predict the actual installation directory of the R binaries.

Problem:
The script bin/R and the wrapper bin/Rscript contain hardcoded paths. Thus,
currently, it is not possible to install R in a local directory tree, install
packages and finally run this installation on a heterogeneous computing grid.
The configure option --disable-rpath doesn't have any influence on whether
hardcoded paths are used in these programs.

Proposed solution:
Let bin/R and bin/Rscript infer their own positions using something like
$(dirname $(readlink -f "$0")) (for bin/R) and set the other paths (such as
R_HOME_DIR in bin/R) relative to these.

The start of bin/R could look something like this:

----
if test -z "${R_HOME_DIR}"; then
    R_HOME_DIR=$(dirname $(readlink -f "$0"))/../lib/R
fi

case "linux-gnu" in
    linux*)
    run_arch=`uname -m`
    case "$run_arch" in
        x86_64|mips64|ppc64|powerpc64|sparc64|s390x)
        libnn=lib64
        libnn_fallback=lib
        ;;
        *)
        libnn=lib
        libnn_fallback=lib64
        ;;
    esac
    if [ -x "${R_HOME_DIR}/../../${libnn}/R/bin/exec/R" ]; then
        R_HOME_DIR="${R_HOME_DIR}/../../${libnn}/R"
    elif [ -x "${R_HOME_DIR}/../../${libnn_fallback}/R/bin/exec/R" ]; then
        R_HOME_DIR="${R_HOME_DIR}/../../${libnn_fallback}/R"
    ## else -- leave alone (might be a sub-arch)
    fi
    ;;
esac


if test -n "${R_HOME}" && \
    test "${R_HOME}" != "${R_HOME_DIR}"; then
    echo "WARNING: ignoring environment value of R_HOME"
fi
R_HOME="${R_HOME_DIR}"
export R_HOME
R_SHARE_DIR="${R_HOME}/share"
export R_SHARE_DIR
R_INCLUDE_DIR="${R_HOME}/include"
export R_INCLUDE_DIR
R_DOC_DIR="${R_HOME}/doc"
export R_DOC_DIR

...
----

There are some things that I don't understand about the original script, though.
Why does it start with a test that always succeeds? Why does it ignore R_HOME? I
didn't change this stuff. In any case, the changes above did the job for me.

Greetings,

Philip


From kyler at smu.edu  Thu Oct 15 21:15:15 2009
From: kyler at smu.edu (kyler at smu.edu)
Date: Thu, 15 Oct 2009 21:15:15 +0200 (CEST)
Subject: [Rd] Eigenvalue Bug in "psych" "principal" (PR#14010)
Message-ID: <20091015191515.3270B2831FE7@mail.pubhealth.ku.dk>

Full_Name: Kyle Roberts
Version: 2.9.2
OS: Windows XP
Submission from: (NULL) (129.119.244.130)


In 2.9.2, the Eigenvalues from a principal components analysis using "principal"
in the "psych" package no longer works. It still works in 2.8 and 2.7, but no
longer in 2.9.2. For example:

> library(MBESS)
> data(HS.data)
> library(psych)

> #### Subset the dataset to include only 8 variables
> new.data<-subset(HS.data, select=c(deduct, numeric, problemr, arithmet, 
  paragrap, sentence, wordc, wordm))

> pc2<-principal(new.data, nfactors=2, rotate="varimax")
> pc2
Principal Components Analysis
Call: principal(r = new.data, nfactors = 2, rotate = "varimax")
         item  PC1  PC2   h2   u2
deduct      1      0.68 0.52 0.48
numeric     2      0.82 0.69 0.31
problemr    3 0.45 0.54 0.49 0.51
arithmet    4      0.67 0.54 0.46
paragrap    5 0.84      0.76 0.24
sentence    6 0.89      0.83 0.17
wordc       7 0.76      0.65 0.35
wordm       8 0.81 0.30 0.75 0.25

                PC1  PC2
SS loadings    3.09 2.13
Proportion Var 0.39 0.27
Cumulative Var 0.39 0.65

Test of the hypothesis that 2 factors are sufficient.

The degrees of freedom for the model is 13  and the objective function was  0.36

The number of observations was  301  with Chi Square =  104.87  with prob < 
1.9e-16 

Fit based upon off diagonal values = 0.97
Measures of factor score adequacy             
                                              PC1 PC2
Correlation of scores with factors              1   1
Multiple R square of scores with factors        1   1
Minimum correlation of factor score estimates   1   1
> 
>   ## Eigenvalues
>   pc2$values
NULL

####################
It still works in the principal axis factoring package in "psych", but no longer
with "principal".


From murdoch at stats.uwo.ca  Thu Oct 15 22:25:09 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 15 Oct 2009 16:25:09 -0400
Subject: [Rd] Eigenvalue Bug in "psych" "principal" (PR#14010)
In-Reply-To: <20091015191515.3270B2831FE7@mail.pubhealth.ku.dk>
References: <20091015191515.3270B2831FE7@mail.pubhealth.ku.dk>
Message-ID: <4AD78525.100@stats.uwo.ca>

On 10/15/2009 3:15 PM, kyler at smu.edu wrote:
> Full_Name: Kyle Roberts
> Version: 2.9.2
> OS: Windows XP
> Submission from: (NULL) (129.119.244.130)
> 
> 
> In 2.9.2, the Eigenvalues from a principal components analysis using "principal"
> in the "psych" package no longer works. It still works in 2.8 and 2.7, but no
> longer in 2.9.2. For example:

This is not a bug report about R.  You should contact the maintainers of 
the packages involved.

Duncan Murdoch

> 
>> library(MBESS)
>> data(HS.data)
>> library(psych)
> 
>> #### Subset the dataset to include only 8 variables
>> new.data<-subset(HS.data, select=c(deduct, numeric, problemr, arithmet, 
>   paragrap, sentence, wordc, wordm))
> 
>> pc2<-principal(new.data, nfactors=2, rotate="varimax")
>> pc2
> Principal Components Analysis
> Call: principal(r = new.data, nfactors = 2, rotate = "varimax")
>          item  PC1  PC2   h2   u2
> deduct      1      0.68 0.52 0.48
> numeric     2      0.82 0.69 0.31
> problemr    3 0.45 0.54 0.49 0.51
> arithmet    4      0.67 0.54 0.46
> paragrap    5 0.84      0.76 0.24
> sentence    6 0.89      0.83 0.17
> wordc       7 0.76      0.65 0.35
> wordm       8 0.81 0.30 0.75 0.25
> 
>                 PC1  PC2
> SS loadings    3.09 2.13
> Proportion Var 0.39 0.27
> Cumulative Var 0.39 0.65
> 
> Test of the hypothesis that 2 factors are sufficient.
> 
> The degrees of freedom for the model is 13  and the objective function was  0.36
> 
> The number of observations was  301  with Chi Square =  104.87  with prob < 
> 1.9e-16 
> 
> Fit based upon off diagonal values = 0.97
> Measures of factor score adequacy             
>                                               PC1 PC2
> Correlation of scores with factors              1   1
> Multiple R square of scores with factors        1   1
> Minimum correlation of factor score estimates   1   1
>> 
>>   ## Eigenvalues
>>   pc2$values
> NULL
> 
> ####################
> It still works in the principal axis factoring package in "psych", but no longer
> with "principal".
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From xieyihui at gmail.com  Thu Oct 15 22:31:48 2009
From: xieyihui at gmail.com (Yihui Xie)
Date: Thu, 15 Oct 2009 15:31:48 -0500
Subject: [Rd] R RSS feed
In-Reply-To: <4AD774DE.4080506@stats.uwo.ca>
References: <D611103AA7EE3B4DAE7F7D49C72B291A01E48C9E@EXMAIL2.bocad.bank-banque-canada.ca>
	<4AD774DE.4080506@stats.uwo.ca>
Message-ID: <89b6b8c90910151331m435bb49dsa7c12de46a131efb@mail.gmail.com>

I do not think the problem was caused by DTD. I checked the content of
the RSS feed and found there were several places containing characters
that were not converted to HTML entities (e.g. "&" should be "&amp;"),
or opening tags without corresponding closing tags (e.g. <LI> without
</LI>, a typical problem I found, at least in
http://developer.r-project.org/blosxom.cgi/R-devel/NEWS/index.rss).

These problems will make the browsers choke but I also find Google
Reader does not mind at all -- you can still read the RSS messages
normally there. I'm not sure how other RSS readers deal with those
non-standard HTML content.

Regards,
Yihui
--
Yihui Xie <xieyihui at gmail.com>
Phone: 515-294-6609 Web: http://yihui.name
Department of Statistics, Iowa State University
3211 Snedecor Hall, Ames, IA



On Thu, Oct 15, 2009 at 2:15 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 10/15/2009 2:46 PM, Paul Gilbert wrote:
>>
>> I was trying to subscribe to an RSS feed from
>> <http://developer.r-project.org/RSSfeeds.html> but IE chokes on DTDs and
>> Firefox also has trouble with this feed. (I'm not sure if it has trouble
>> with DTDs in general.)
>> I went to one of our web developers to see what I should use to read the
>> feed, and he pointed out that the mix of RSS 2.00 and rss-0.91 looks
>> like a mistake:
>>
>> <!-- name="generator" content="blosxom/2.0" -->
>> <!DOCTYPE rss PUBLIC "-//Netscape Communications//DTD RSS 2.00//EN"
>> "http://www.rssboard.org/rss-0.91.dtd">
>>
>> and that DTDs are a little bit unusual in RSS feeds (but said it is not
>> impossible). I'm a complete novice in this, just pointing it out in case
>> it is a bug.
>
> I agree it's a bug, but I'm also a novice here (even though I set up the
> feed!)
>
> If your web developer (or anyone else on this list) can suggest what the
> header should look like, I'll fix it.
>
> Duncan Murdoch
>
>>
>> Paul
>>
>>


From cstrato at aon.at  Thu Oct 15 23:01:12 2009
From: cstrato at aon.at (cstrato)
Date: Thu, 15 Oct 2009 23:01:12 +0200
Subject: [Rd] Question when compiling source code with VC++
Message-ID: <4AD78D98.80709@aon.at>

Dear Duncan,

In your document "readme.packages.txt" you have a very helpful chapter 
on "Using Visual C++".
Please allow me to ask you one question: Why do you propose the option 
"/MT" instead of option "/MD"?
(To my knowledge usually option "/MD" is used when compiling programs 
with VC++.)

Best regards
Christian
_._._._._._._._._._._._._._._._._._
C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
V.i.e.n.n.a           A.u.s.t.r.i.a
e.m.a.i.l:        cstrato at aon.at
_._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Thu Oct 15 23:41:53 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 15 Oct 2009 17:41:53 -0400
Subject: [Rd] R RSS feed
In-Reply-To: <89b6b8c90910151331m435bb49dsa7c12de46a131efb@mail.gmail.com>
References: <D611103AA7EE3B4DAE7F7D49C72B291A01E48C9E@EXMAIL2.bocad.bank-banque-canada.ca>	
	<4AD774DE.4080506@stats.uwo.ca>
	<89b6b8c90910151331m435bb49dsa7c12de46a131efb@mail.gmail.com>
Message-ID: <4AD79721.2060801@stats.uwo.ca>

On 15/10/2009 4:31 PM, Yihui Xie wrote:
> I do not think the problem was caused by DTD. I checked the content of
> the RSS feed and found there were several places containing characters
> that were not converted to HTML entities (e.g. "&" should be "&amp;"),
> or opening tags without corresponding closing tags (e.g. <LI> without
> </LI>, a typical problem I found, at least in
> http://developer.r-project.org/blosxom.cgi/R-devel/NEWS/index.rss).

Thanks, will fix those.

Duncan Murdoch

> 
> These problems will make the browsers choke but I also find Google
> Reader does not mind at all -- you can still read the RSS messages
> normally there. I'm not sure how other RSS readers deal with those
> non-standard HTML content.
> 
> Regards,
> Yihui
> --
> Yihui Xie <xieyihui at gmail.com>
> Phone: 515-294-6609 Web: http://yihui.name
> Department of Statistics, Iowa State University
> 3211 Snedecor Hall, Ames, IA
> 
> 
> 
> On Thu, Oct 15, 2009 at 2:15 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 10/15/2009 2:46 PM, Paul Gilbert wrote:
>>> I was trying to subscribe to an RSS feed from
>>> <http://developer.r-project.org/RSSfeeds.html> but IE chokes on DTDs and
>>> Firefox also has trouble with this feed. (I'm not sure if it has trouble
>>> with DTDs in general.)
>>> I went to one of our web developers to see what I should use to read the
>>> feed, and he pointed out that the mix of RSS 2.00 and rss-0.91 looks
>>> like a mistake:
>>>
>>> <!-- name="generator" content="blosxom/2.0" -->
>>> <!DOCTYPE rss PUBLIC "-//Netscape Communications//DTD RSS 2.00//EN"
>>> "http://www.rssboard.org/rss-0.91.dtd">
>>>
>>> and that DTDs are a little bit unusual in RSS feeds (but said it is not
>>> impossible). I'm a complete novice in this, just pointing it out in case
>>> it is a bug.
>> I agree it's a bug, but I'm also a novice here (even though I set up the
>> feed!)
>>
>> If your web developer (or anyone else on this list) can suggest what the
>> header should look like, I'll fix it.
>>
>> Duncan Murdoch
>>
>>> Paul
>>>
>>>


From murdoch at stats.uwo.ca  Fri Oct 16 00:40:40 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 15 Oct 2009 18:40:40 -0400
Subject: [Rd] Question when compiling source code with VC++
In-Reply-To: <4AD78D98.80709@aon.at>
References: <4AD78D98.80709@aon.at>
Message-ID: <4AD7A4E8.1010602@stats.uwo.ca>

On 15/10/2009 5:01 PM, cstrato wrote:
> Dear Duncan,
> 
> In your document "readme.packages.txt" you have a very helpful chapter 
> on "Using Visual C++".
> Please allow me to ask you one question: Why do you propose the option 
> "/MT" instead of option "/MD"?
> (To my knowledge usually option "/MD" is used when compiling programs 
> with VC++.)

I didn't write that: I've got no experience with VC++.  It was Brian 
Ripley who wrote it, and the log says he wrote it in 1999.  So I'd guess 
that it isn't bad advice (having lasted 10 years without a change), but 
I guess it's possible that it is no longer optimal.

Duncan Murdoch


From xieyihui at gmail.com  Fri Oct 16 04:12:29 2009
From: xieyihui at gmail.com (Yihui Xie)
Date: Thu, 15 Oct 2009 21:12:29 -0500
Subject: [Rd] R RSS feed
In-Reply-To: <4AD79721.2060801@stats.uwo.ca>
References: <D611103AA7EE3B4DAE7F7D49C72B291A01E48C9E@EXMAIL2.bocad.bank-banque-canada.ca>
	<4AD774DE.4080506@stats.uwo.ca>
	<89b6b8c90910151331m435bb49dsa7c12de46a131efb@mail.gmail.com>
	<4AD79721.2060801@stats.uwo.ca>
Message-ID: <89b6b8c90910151912n2268588el6bdfc93861c43f3e@mail.gmail.com>

I guess this package might be of help:
http://www.omegahat.org/RTidyHTML/ (by the other Duncan :-)

Regards,
Yihui
--
Yihui Xie <xieyihui at gmail.com>
Phone: 515-294-6609 Web: http://yihui.name
Department of Statistics, Iowa State University
3211 Snedecor Hall, Ames, IA



On Thu, Oct 15, 2009 at 4:41 PM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 15/10/2009 4:31 PM, Yihui Xie wrote:
>>
>> I do not think the problem was caused by DTD. I checked the content of
>> the RSS feed and found there were several places containing characters
>> that were not converted to HTML entities (e.g. "&" should be "&amp;"),
>> or opening tags without corresponding closing tags (e.g. <LI> without
>> </LI>, a typical problem I found, at least in
>> http://developer.r-project.org/blosxom.cgi/R-devel/NEWS/index.rss).
>
> Thanks, will fix those.
>
> Duncan Murdoch
>


From Mark.Bravington at csiro.au  Fri Oct 16 05:50:40 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Fri, 16 Oct 2009 14:50:40 +1100
Subject: [Rd] post-installation startup problem with 2.10.0
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F870550DC188F@exvic-mbx03.nexus.csiro.au>

I've just installed R2.10.0 v50082, and found the problem described below the first few times I launched it. Did not occur with v49613 (the previous most recent version I have). The problem has now gone away, and is therefore non-reproducible, but there seems to be something up with parameter processing or environment variable checking or loading of .RData files immediately after installation. Just thought you'd like to know.

I always start R in the same folder, where there's a ".RData" file that contains a '.First' function whose first lines are as follows:

function( skip.First=Sys.getenv( 'NOFIRST') != '') {
  if( skip.First) { # useful for command line startup when bugs in .First
    cat( 'Skipping .First\n')
return( invisible( NULL)) }
           ...
           
When I launched v50082 (simply by changing the path of R in the Windows "properties" box-- no other changes to what I normally do), it printed the "Skipping .First" message-- so '.First' was running, but deciding to abort. However, the NOFIRST environment variable was definitely not set. The other R versions that I have installed (latest v49613) didn't skip .First when launched in exactly the same way.

I modified the .First to first-of-all print 'skip.First', called 'save.image()', tried it in my other R versions, and relaunched v50082. This time, everything worked. I took out the print line, saved again, and relaunched v50082. Everything still worked! And has continued to since.

System info below-- the search path is of course what results _after_ '.First' has run, so it would have been different when I was having problems.

Mark

--
Mark Bravington
CSIRO Mathematical & Information Sciences
Marine Laboratory
Castray Esplanade
Hobart 7001
TAS

ph (+61) 3 6232 5118
fax (+61) 3 6232 5012
mob (+61) 438 315 623



--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = beta
 major = 2
 minor = 10.0
 year = 2009
 month = 10
 day = 14
 svn rev = 50082
 language = R
 version.string = R version 2.10.0 beta (2009-10-14 r50082)

Windows XP Professional x64 (build 3790) Service Pack 2

Locale:
LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252

Search Path:
 .GlobalEnv, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base


From bolker at ufl.edu  Fri Oct 16 16:12:40 2009
From: bolker at ufl.edu (Ben Bolker)
Date: Fri, 16 Oct 2009 07:12:40 -0700 (PDT)
Subject: [Rd] forwarded: bug (?) in cut.POSIXt with "breaks"=integer
In-Reply-To: <4AD75795.9070308@ufl.edu>
References: <4AD75795.9070308@ufl.edu>
Message-ID: <25926126.post@talk.nabble.com>


PS a parallel problem seems to occur in cut.Date  ... cut.POSIXt and cut.Date
both allow
breaks to be a single integer specifying the number of breaks, and both call

 if(is.null(labels)) levels(res) <- as.character(breaks[-length(breaks)])
  
near the end of the function, which breaks (so to speak) if
length(breaks)!=length(levels(res))-1

I could keep working on a patch if requested, but probably won't otherwise.

  Ben Bolker






-- 
View this message in context: http://www.nabble.com/forwarded%3A-bug-%28-%29-in-cut.POSIXt-with-%22breaks%22%3Dinteger-tp25914604p25926126.html
Sent from the R devel mailing list archive at Nabble.com.


From dieter.menne at menne-biomed.de  Fri Oct 16 16:39:56 2009
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Fri, 16 Oct 2009 07:39:56 -0700 (PDT)
Subject: [Rd]  Fixing html help port in 2.10
Message-ID: <25926528.post@talk.nabble.com>


I noted that the new html-help in 2.10 under Windows uses a random port on my
computer.
This cause a problem, because when I create a link such as:

http://127.0.0.1:28027/library/stats/html/addmargins.html

this is for one-time use only. Is it possible to fix the port?

Dieter Menne



-- 
View this message in context: http://www.nabble.com/Fixing-html-help-port-in-2.10-tp25926528p25926528.html
Sent from the R devel mailing list archive at Nabble.com.


From cstrato at aon.at  Fri Oct 16 16:47:53 2009
From: cstrato at aon.at (cstrato)
Date: Fri, 16 Oct 2009 16:47:53 +0200
Subject: [Rd] Question when compiling source code with VC++
In-Reply-To: <4AD7A4E8.1010602@stats.uwo.ca>
References: <4AD78D98.80709@aon.at> <4AD7A4E8.1010602@stats.uwo.ca>
Message-ID: <4AD88799.8070306@aon.at>

Thank you for this clarification, neither did I know that it was written 
by Brian Ripley (although now this seems to be obvious) nor that the 
advice is already 10 years old. Thus please allow me to re-phrase my 
question:

Dear Prof. Ripley:
1, Why did you propose the option "/MT" instead of option "/MD"?
2, Will the proposed settings to build the DLL still be valid for the 
upcoming Windows 7?

Best regards
Christian
_._._._._._._._._._._._._._._._._._
C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
V.i.e.n.n.a           A.u.s.t.r.i.a
e.m.a.i.l:        cstrato at aon.at
_._._._._._._._._._._._._._._._._._


Duncan Murdoch wrote:
> On 15/10/2009 5:01 PM, cstrato wrote:
>> Dear Duncan,
>>
>> In your document "readme.packages.txt" you have a very helpful 
>> chapter on "Using Visual C++".
>> Please allow me to ask you one question: Why do you propose the 
>> option "/MT" instead of option "/MD"?
>> (To my knowledge usually option "/MD" is used when compiling programs 
>> with VC++.)
>
> I didn't write that: I've got no experience with VC++.  It was Brian 
> Ripley who wrote it, and the log says he wrote it in 1999.  So I'd 
> guess that it isn't bad advice (having lasted 10 years without a 
> change), but I guess it's possible that it is no longer optimal.
>
> Duncan Murdoch
>


From murdoch at stats.uwo.ca  Fri Oct 16 16:54:34 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 16 Oct 2009 10:54:34 -0400
Subject: [Rd] Fixing html help port in 2.10
In-Reply-To: <25926528.post@talk.nabble.com>
References: <25926528.post@talk.nabble.com>
Message-ID: <4AD8892A.903@stats.uwo.ca>

On 10/16/2009 10:39 AM, Dieter Menne wrote:
> I noted that the new html-help in 2.10 under Windows uses a random port on my
> computer.
> This cause a problem, because when I create a link such as:
> 
> http://127.0.0.1:28027/library/stats/html/addmargins.html
> 
> this is for one-time use only. Is it possible to fix the port?

Not currently.  If you look in tools:::startDynamicHelp you can see how 
it is set up; you could duplicate that setup as a temporary workaround. 
  You might be better off to build R with static help instead.  What is 
the application where you want to be able to give out links?  Perhaps we 
could consult an environment variable or option() to choose the port 
instead of leaving it completely random.

The reason it is random is the worry that multiple R instances on the 
same machine might collide.  All processes on the machine see the same 
ports.

Duncan Murdoch


From simon.urbanek at r-project.org  Fri Oct 16 16:59:31 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 16 Oct 2009 10:59:31 -0400
Subject: [Rd] Question when compiling source code with VC++
In-Reply-To: <4AD78D98.80709@aon.at>
References: <4AD78D98.80709@aon.at>
Message-ID: <DB7B0AE0-0566-46DD-B5A4-D0D104C25E79@r-project.org>


On Oct 15, 2009, at 17:01 , cstrato wrote:

> Dear Duncan,
>
> In your document "readme.packages.txt" you have a very helpful  
> chapter on "Using Visual C++".
> Please allow me to ask you one question: Why do you propose the  
> option "/MT" instead of option "/MD"?
> (To my knowledge usually option "/MD" is used when compiling  
> programs with VC++.)
>

Have you read the MS docs? They have different purposes - /MD pulls in  
MSVCR which may not be what you want (depending on your code), /MT  
just says that you want thread-safe libs. The fact that something is  
"usually" used is not necessarily a very good indicator -- it's better  
if you know what you're doing ;).

Cheers,
Simon


From dieter.menne at menne-biomed.de  Fri Oct 16 17:01:12 2009
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Fri, 16 Oct 2009 08:01:12 -0700 (PDT)
Subject: [Rd] Fixing html help port in 2.10
In-Reply-To: <4AD8892A.903@stats.uwo.ca>
References: <25926528.post@talk.nabble.com> <4AD8892A.903@stats.uwo.ca>
Message-ID: <25926875.post@talk.nabble.com>




Duncan Murdoch-2 wrote:
> 
> On 10/16/2009 10:39 AM, Dieter Menne wrote:
>> I noted that the new html-help in 2.10 under Windows uses a random port
>> on my
>> computer.
>> This cause a problem, because when I create a link such as:
>> 
>> http://127.0.0.1:28027/library/stats/html/addmargins.html
>> 
>> this is for one-time use only. Is it possible to fix the port?
> 
> Not currently.  If you look in tools:::startDynamicHelp you can see how 
> ...
> 

Too bad. When I saw the port, I immediately changed all my static links to
use the ports, because it looked like a good idea to have addresses that do
not change when I install into a new directory.

Back to the drawing board. Maybe I should use R_HOME instead.

Dieter


-- 
View this message in context: http://www.nabble.com/Fixing-html-help-port-in-2.10-tp25926528p25926875.html
Sent from the R devel mailing list archive at Nabble.com.


From simon.urbanek at r-project.org  Fri Oct 16 17:19:45 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 16 Oct 2009 11:19:45 -0400
Subject: [Rd] Fixing html help port in 2.10
In-Reply-To: <25926875.post@talk.nabble.com>
References: <25926528.post@talk.nabble.com> <4AD8892A.903@stats.uwo.ca>
	<25926875.post@talk.nabble.com>
Message-ID: <B343B7C2-6A90-4219-A648-C6A30BB2AD22@r-project.org>

Dieter,

On Oct 16, 2009, at 11:01 , Dieter Menne wrote:

>
> Duncan Murdoch-2 wrote:
>>
>> On 10/16/2009 10:39 AM, Dieter Menne wrote:
>>> I noted that the new html-help in 2.10 under Windows uses a random  
>>> port
>>> on my
>>> computer.
>>> This cause a problem, because when I create a link such as:
>>>
>>> http://127.0.0.1:28027/library/stats/html/addmargins.html
>>>
>>> this is for one-time use only. Is it possible to fix the port?
>>
>> Not currently.  If you look in tools:::startDynamicHelp you can see  
>> how
>> ...
>>
>
> Too bad. When I saw the port, I immediately changed all my static  
> links to
> use the ports, because it looked like a good idea to have addresses  
> that do
> not change when I install into a new directory.
>
> Back to the drawing board. Maybe I should use R_HOME instead.
>

You still didn't answer the crucial question -- what are you trying to  
do? If whatever you're building has something to do with R then this  
is no issue since you get the port from R. And if you're working on  
something unrelated to R then nothing prevents you from using the same  
approach that old R versions used -- create a "static" file that  
points to the correct URL for the current session (like help links in  
2.9 and earlier). But again, unless we know what you're up to we can't  
help you with solutions...

Cheers,
Simon


From dieter.menne at menne-biomed.de  Fri Oct 16 17:34:41 2009
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Fri, 16 Oct 2009 08:34:41 -0700 (PDT)
Subject: [Rd] Fixing html help port in 2.10
In-Reply-To: <B343B7C2-6A90-4219-A648-C6A30BB2AD22@r-project.org>
References: <25926528.post@talk.nabble.com> <4AD8892A.903@stats.uwo.ca>
	<25926875.post@talk.nabble.com>
	<B343B7C2-6A90-4219-A648-C6A30BB2AD22@r-project.org>
Message-ID: <25927404.post@talk.nabble.com>





You still didn't answer the crucial question -- what are you trying to  
do? 


Creating some "frequently used links" in a browser. Static works, but it is
a nuisance that I have to change is every time I get a new version. I now
created a virtual link to it (works in Windows too).

Dieter

-- 
View this message in context: http://www.nabble.com/Fixing-html-help-port-in-2.10-tp25926528p25927404.html
Sent from the R devel mailing list archive at Nabble.com.


From cstrato at aon.at  Fri Oct 16 18:57:19 2009
From: cstrato at aon.at (cstrato)
Date: Fri, 16 Oct 2009 18:57:19 +0200
Subject: [Rd] Question when compiling source code with VC++
In-Reply-To: <DB7B0AE0-0566-46DD-B5A4-D0D104C25E79@r-project.org>
References: <4AD78D98.80709@aon.at>
	<DB7B0AE0-0566-46DD-B5A4-D0D104C25E79@r-project.org>
Message-ID: <4AD8A5EF.9040802@aon.at>

Dear Simon,

Of course I have read the MS docs, especially:
http://msdn.microsoft.com/en-us/library/2kzt1wy3.aspx
which says, that /MT uses the multithread, static version of the 
run-time library.
As far as I understand this is not what most people want since to my 
knowledge most programs seem to use the /MD option.

I also know that option /MT works pretty well for source code of 
R-packages compiled for Windows XP. My second question is if it will 
also work with Windows 7 which I do not have yet.

Furthermore, you may have realized that since some time I am trying to 
find out why in my case neither option works on Vista, see my more 
detailed question at:
https://stat.ethz.ch/pipermail/r-devel/2009-September/054843.html
If you have any idea in this case I would appreciate it very much.

Best regards
Christian


Simon Urbanek wrote:
>
> On Oct 15, 2009, at 17:01 , cstrato wrote:
>
>> Dear Duncan,
>>
>> In your document "readme.packages.txt" you have a very helpful 
>> chapter on "Using Visual C++".
>> Please allow me to ask you one question: Why do you propose the 
>> option "/MT" instead of option "/MD"?
>> (To my knowledge usually option "/MD" is used when compiling programs 
>> with VC++.)
>>
>
> Have you read the MS docs? They have different purposes - /MD pulls in 
> MSVCR which may not be what you want (depending on your code), /MT 
> just says that you want thread-safe libs. The fact that something is 
> "usually" used is not necessarily a very good indicator -- it's better 
> if you know what you're doing ;).
>
> Cheers,
> Simon
>
>


From hb at stat.berkeley.edu  Sat Oct 17 06:08:29 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Fri, 16 Oct 2009 21:08:29 -0700
Subject: [Rd] Specifying (set of random) port numbers for the help HTML
	server (Was: Re: Fixing html help port in 2.10)
Message-ID: <59d7961d0910162108i63cc422n95453f913785609@mail.gmail.com>

On Fri, Oct 16, 2009 at 7:54 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 10/16/2009 10:39 AM, Dieter Menne wrote:
>>
>> I noted that the new html-help in 2.10 under Windows uses a random port on
>> my
>> computer.
>> This cause a problem, because when I create a link such as:
>>
>> http://127.0.0.1:28027/library/stats/html/addmargins.html
>>
>> this is for one-time use only. Is it possible to fix the port?
>
> Not currently. ?If you look in tools:::startDynamicHelp you can see how it
> is set up; you could duplicate that setup as a temporary workaround. ?You
> might be better off to build R with static help instead. ?What is the
> application where you want to be able to give out links? ?Perhaps we could
> consult an environment variable or option() to choose the port instead of
> leaving it completely random.
>
> The reason it is random is the worry that multiple R instances on the same
> machine might collide. ?All processes on the machine see the same ports.

Related:
I'd like to suggest an option/environment variable that specifies the
set of port numbers sampled from, e.g. 6800:6850 or similar.

The reason is that in some places, the user don't have admin
privileges on the computer and most/all ports are blocked from running
servers, and there is a sysadm that needs to approve each port to be
unblocked.  With such a security polices it is possible to have the
smaller set of port number unblocked (but not the full 0-65535 range).
 This applies at least to "regular users" on Windows.

My $.02

/Henrik

>
> Duncan Murdoch
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From hb at stat.berkeley.edu  Sat Oct 17 08:08:47 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Fri, 16 Oct 2009 23:08:47 -0700
Subject: [Rd] R v2.11.0: HTML package index broken(?)
Message-ID: <59d7961d0910162308h12231c02na5c37a0003b0dd60@mail.gmail.com>

Hi,

in R v2.11.0 (2009-10-15 r50085) on Windows Vista the package index
and its links for the package installed in the user-specific library
path are all broken, e.g.

In http://127.0.0.1:28251/doc/html/packages.html I get:

Packages in C:\Users\hb\R\win-library\2.11
C:\Users\hb/R/win-library/2.11/abind/DESCRIPTION	-- Title is missing --
[...]
Packages in the standard library
base	The R Base Package
[...]

and the links are of format:

http://127.0.0.1:28251/library/C:%5CUsers%5Chb/R/win-library/2.11/abind/DESCRIPTION/html/00Index.html

It seems like they should be of format:

http://127.0.0.1:28251/library/abind/html/00Index.html

/Henrik

The above and below is when using Rterm --vanilla.

> .libPaths()
[1] "C:\\Users\\hb/R/win-library/2.11"  "C:/PROGRA~1/R/R-2.11.0dev/library"

> sessionInfo()
R version 2.11.0 Under development (unstable) (2009-10-15 r50085)
i386-pc-mingw32

locale:
[1] LC_COLLATE=English_United States.1252
[2] LC_CTYPE=English_United States.1252
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.11.0


From vitosmail at rambler.ru  Sat Oct 17 10:45:10 2009
From: vitosmail at rambler.ru (Vitalie S.)
Date: Sat, 17 Oct 2009 10:45:10 +0200
Subject: [Rd] forwarded: bug (?) in cut.POSIXt with "breaks"=integer
In-Reply-To: <25926126.post@talk.nabble.com>
References: <4AD75795.9070308@ufl.edu> <25926126.post@talk.nabble.com>
Message-ID: <op.u1xrxkpgdacko8@tir-070312.staff.few.eur.nl>

On Fri, 16 Oct 2009 16:12:40 +0200, Ben Bolker <bolker at ufl.edu> wrote:

>
> PS a parallel problem seems to occur in cut.Date  ... cut.POSIXt and  
> cut.Date
> both allow
> breaks to be a single integer specifying the number of breaks, and both  
> call
>
>  if(is.null(labels)) levels(res) <- as.character(breaks[-length(breaks)])
> near the end of the function, which breaks (so to speak) if
> length(breaks)!=length(levels(res))-1
>
> I could keep working on a patch if requested, but probably won't  
> otherwise.
>
I believe it's an important issue. In plotting long time series grouping  
is indispensable.
Thank you, Ben, for working on that.

May I take this opportunity and propose an additional argument "by" to  
"cut" function. This would make cut similar to seq and cut.POSIXt (in the  
latter, intervals as "30 s" are allowed in breaks specification).  
Conceptually it's often simpler to think in terms of the length of  
interval than the number of intervals in "breaks".

Thanks,
Vitalie.

>   Ben Bolker
>
>
>
>
>
>


From cooch17 at verizon.net  Sat Oct 17 14:07:30 2009
From: cooch17 at verizon.net (Evan Cooch)
Date: Sat, 17 Oct 2009 08:07:30 -0400
Subject: [Rd] Goto BLAS
Message-ID: <4AD9B382.10502@verizon.net>

I was on the Goto BLAS maillist yesterday, asking some question about 
relative speed/performance/tuning of Goto BLAS and (specifically) R.

I received a reply from Kazushige Goto (the developer and maintainer of 
Goto BLAS), who as part of his answer to some of my queries made the 
following comment concerning R, which I pass along to the R development 
team:

"By the way, please ask your R developer to rewrite memory allocation 
function including garbage collection. They give 4 byte offset memory 
region and never perform well (or it will cause segmentation fault. 4 
byte offset is fatal). Since R use complex double precision, memory 
alignment should be at least 16 bytes..."



Apparently, Goto has run into some issues with R before.  I'll assume 
that some out there will be able to interpret Goto's comment/suggestion.


From Thomas.Petzoldt at TU-Dresden.de  Sat Oct 17 14:39:58 2009
From: Thomas.Petzoldt at TU-Dresden.de (Thomas Petzoldt)
Date: Sat, 17 Oct 2009 14:39:58 +0200
Subject: [Rd] linking to package directories broken in R >= 2.10 beta
Message-ID: <4AD9BB1E.5010408@TU-Dresden.de>

Dear R developers,

some of our packages come with additional programming examples in a 
directory called "/examples" which is created from "/inst/examples".

This directory is linked from the docs (e.g. in inst/doc/index.html):

<dl>
<dt><a href="../examples/">examples</a>:
<dd>Source code of examples
</dl>

Given, that we have a package "foo" this is resolved to:

file:///C:/Programme/R/R-2.9.2/library/foo/examples/

with R <= 2.9.2. With R 2.10 beta (R-beta_2009-10-16_r50118.tar.gz) and 
R-devel (svn rev. 50118) we get:

http://127.0.0.1:26383/library/foo/examples/

This is fine, but in contrast to older versions (<= 2.9.2) no automatic 
index is created for the linked directory, so we now get:

"URL /library/foo/examples/ was not found"

bu linking to *individual files* (e.g. examples/example.R) works as 
expected. We can, of course, add manually maintained index files but I 
would much prefer if a default index would be created for the directory 
if no index.html is found.

I very much enjoy the new help system and would be even more happy if 
that issue could be fixed.

Thomas Petzoldt


PS: A minimal reproducible example (foo_1.0.tar.gz) can be provided by 
mail if required.

-- 
Thomas Petzoldt
Technische Universitaet Dresden
Institut fuer Hydrobiologie        thomas.petzoldt at tu-dresden.de
01062 Dresden                      http://tu-dresden.de/hydrobiologie/
GERMANY


From sje30 at damtp.cam.ac.uk  Fri Oct 16 15:00:10 2009
From: sje30 at damtp.cam.ac.uk (sje30 at damtp.cam.ac.uk)
Date: Fri, 16 Oct 2009 15:00:10 +0200 (CEST)
Subject: [Rd] (PR#14012)
Message-ID: <20091016130010.3717A282EFF1@mail.pubhealth.ku.dk>

I think Rscript has a problem running files that have mac encodings
for newline (^M rather than ^J on linux).  If I source the file within
R, it works okay:

> source('j.R')
[1] "MEA_data/sernagor_new/CRX_P7_1.txt"

But if I run the file using Rscript on a linux box I get a strange
error message: 

$ Rscript --vanilla j.R
"
Execution halted

The example script j.R is at http://www.damtp.cam.ac.uk/user/sje30/j.R
rather than attaching it here.  I don't think there is anything
specific about the script though apart from the line endings.

Stephen

--please do not edit the information below--

Version:
 platform = x86_64-pc-linux-gnu
 arch = x86_64
 os = linux-gnu
 system = x86_64, linux-gnu
 status = 
 major = 2
 minor = 9.2
 year = 2009
 month = 08
 day = 24
 svn rev = 49384
 language = R
 version.string = R version 2.9.2 (2009-08-24)

Locale:
LC_CTYPE=en_GB.UTF-8;LC_NUMERIC=C;LC_TIME=en_GB.UTF-8;LC_COLLATE=en_GB.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_GB.UTF-8;LC_PAPER=en_GB.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.UTF-8;LC_IDENTIFICATION=C

Search Path:
 .GlobalEnv, package:stats, package:graphics, package:grDevices, package:utils, package:datasets, package:methods, Autoloads, package:base


From ggrothendieck at gmail.com  Sat Oct 17 16:35:08 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sat, 17 Oct 2009 10:35:08 -0400
Subject: [Rd] forwarded: bug (?) in cut.POSIXt with "breaks"=integer
In-Reply-To: <4AD75795.9070308@ufl.edu>
References: <4AD75795.9070308@ufl.edu>
Message-ID: <971536df0910170735o47186d18p95678aaf2ba10b03@mail.gmail.com>

That is usually done with trunc rather than cut since in the case of a
time series we normally don't want a factor result (which is what cut
would give):

trunc(tt, "secs")
trunc(tt, "mins")
# etc

trunc.POSIXt does not support the "30 secs" syntax but trunc.times in
the chron package supports similar functionality:

library(chron)
trunc(as.chron(format(tt)), "00:00:30")

# or relative to GMT
trunc(as.chron(tt)), "00:00:30")

On Thu, Oct 15, 2009 at 1:10 PM, Ben Bolker <bolker at ufl.edu> wrote:
>
> From: Vitalie S. <vitosmail <at> rambler.ru>
> Subject: Bug in cut.POSIXt
> Newsgroups: gmane.comp.lang.r.general
> Date: 2009-10-15 15:47:48 GMT (1 hour and 29 minutes ago)
>
> Hello Everyone,
>
> Before reporting decided to post here first:
>
> tt <- structure(c(1254238817, 1254238859, 1254238969, 1254239080), class =
> c("POSIXt",
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?"POSIXct"),
> tzone = "")
>
> cut.POSIXt(tt, 2)
> #Error in `levels<-.factor`(`*tmp*`, value = character(0)) :
> # ?number of levels differs
>
> cut.POSIXt(tt, 2, labels=c("a1", "a2"))
> #[1] a1 a1 a2 a2
> #Levels: a1 a2
>
> cut(tt, "2 mins")
> #[1] 2009-09-29 17:40:00 2009-09-29 17:40:00 2009-09-29 17:42:00
> 2009-09-29 17:44:00
> #Levels: 2009-09-29 17:40:00 2009-09-29 17:42:00 2009-09-29 17:44:00
>
>> sessionInfo()
> R version 2.9.2 Patched (2009-09-24 r50069)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
> States.1252;LC_MONETARY=English_United
> States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats ? ? graphics ?utils ? ? datasets ?grDevices methods ? base
>>
>
> Vitalie.
>
>
> ======================
>
> ?I would agree that this is a bug ... this patch gets rid of the error,
> but leaves the labels very ugly -- given enough hours I might be able to
> figure out how to make the labels nice, but someone else can probably do
> it quicker (see comments in code below)
>
>
> ?It would probably also be worth adding something like
>
> cut(Dates,2)
>
> ?around line 5067 of reg-tests-1.R
>
>
> --- datetime.R ?2009-10-15 13:01:15.000000000 -0400
> ***************
> *** 764,770 ****
> ? ? ? ?}
> ? ? ?} else stop("invalid specification of 'breaks'")
> ? ? ?res <- cut(unclass(x), unclass(breaks), labels = labels, right =
> right, ...)
> ! ? ? if(is.null(labels)) levels(res) <-
> as.character(breaks[-length(breaks)])
> ? ? ?res
> ?}
>
> --- 764,782 ----
> ? ? ? ?}
> ? ? ?} else stop("invalid specification of 'breaks'")
> ? ? ?res <- cut(unclass(x), unclass(breaks), labels = labels, right =
> right, ...)
> ! ? ? if(is.null(labels)) {
> ! ? ? ? if (is.numeric(breaks) && length(breaks) == 1L)
> ! ? ? ? ? levels(res) <- as.character(breaks[-length(breaks)])
> ! ? ? ? } else {
> ! ? ? ? ? ## ?? what should happen here?
> ! ? ? ? ? ## this version simply leaves the break values
> ! ? ? ? ? ## as numeric (and very ugly)
> ! ? ? ? ? ## I don't know how to safely convert the breakpoints
> ! ? ? ? ? ## back to a character format (e.g.
> ! ? ? ? ? ## levels(res) = [1970-01-01 00:00:00,1970-01-01 12:00:00)
> ! ? ? ? ? ## instead of [18000,61200)
> ! ? ? ? }
> ! ? ? }
> ? ? ?res
> ?}
>
>
> --
> Ben Bolker
> Associate professor, Biology Dep't, Univ. of Florida
> bolker at ufl.edu / www.zoology.ufl.edu/bolker
> GPG key: www.zoology.ufl.edu/bolker/benbolker-publickey.asc
>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From murdoch at stats.uwo.ca  Sat Oct 17 19:10:30 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 17 Oct 2009 13:10:30 -0400
Subject: [Rd] linking to package directories broken in R >= 2.10 beta
In-Reply-To: <4AD9BB1E.5010408@TU-Dresden.de>
References: <4AD9BB1E.5010408@TU-Dresden.de>
Message-ID: <4AD9FA86.8050602@stats.uwo.ca>

Thomas Petzoldt wrote:
> Dear R developers,
>
> some of our packages come with additional programming examples in a 
> directory called "/examples" which is created from "/inst/examples".
>
> This directory is linked from the docs (e.g. in inst/doc/index.html):
>
> <dl>
> <dt><a href="../examples/">examples</a>:
> <dd>Source code of examples
> </dl>
>
> Given, that we have a package "foo" this is resolved to:
>
> file:///C:/Programme/R/R-2.9.2/library/foo/examples/
>
> with R <= 2.9.2. With R 2.10 beta (R-beta_2009-10-16_r50118.tar.gz) and 
> R-devel (svn rev. 50118) we get:
>
> http://127.0.0.1:26383/library/foo/examples/
>
> This is fine, but in contrast to older versions (<= 2.9.2) no automatic 
> index is created for the linked directory, so we now get:
>
> "URL /library/foo/examples/ was not found"
>
> bu linking to *individual files* (e.g. examples/example.R) works as 
> expected. We can, of course, add manually maintained index files but I 
> would much prefer if a default index would be created for the directory 
> if no index.html is found.
>   

By "index" in R <= 2.9.2, you mean the default directory listing 
produced by the web server, rather than something produced by R, right?  
The R server does that now if the directory is named "doc", but not for 
an arbitrary path.  We are concerned about security:  any user on your 
system who can guess your port number can access your help system, so we 
want to be sure that such users can't access private files.

Duncan Murdoch
> I very much enjoy the new help system and would be even more happy if 
> that issue could be fixed.
>
> Thomas Petzoldt
>
>
> PS: A minimal reproducible example (foo_1.0.tar.gz) can be provided by 
> mail if required.
>
>


From Thomas.Petzoldt at TU-Dresden.de  Sat Oct 17 19:57:32 2009
From: Thomas.Petzoldt at TU-Dresden.de (Thomas Petzoldt)
Date: Sat, 17 Oct 2009 19:57:32 +0200
Subject: [Rd] linking to package directories broken in R >= 2.10 beta
In-Reply-To: <4AD9FA86.8050602@stats.uwo.ca>
References: <4AD9BB1E.5010408@TU-Dresden.de> <4AD9FA86.8050602@stats.uwo.ca>
Message-ID: <4ADA058C.7070008@TU-Dresden.de>

Duncan Murdoch wrote:
> Thomas Petzoldt wrote:

[...]

>> This is fine, but in contrast to older versions (<= 2.9.2) no 
>> automatic index is created for the linked directory, so we now get:
>> 
>> 
>> "URL /library/foo/examples/ was not found"
>> 
>> but linking to *individual files* (e.g. examples/example.R) works as
>> expected. We can, of course, add manually maintained index files
>> but I would much prefer if a default index would be created for the
>> directory if no index.html is found.
>> 
> 
> By "index" in R <= 2.9.2, you mean the default directory listing 
> produced by the web server, rather than something produced by R, 
> right?

Yes, I mean the default directory listing produced by (most) web servers.

> The R server does that now if the directory is named "doc", but not 
> for an arbitrary path. We are concerned about security: any user on 
> your system who can guess your port number can access your help 
> system, so we want to be sure that such users can't access private 
> files.


Hmm, I see and have some tendency to understand that this may be an 
issue for certain multi-user systems. Looking into the svn log (and 
compiling R) it appears that the remaining possibilities where also 
regarded as security issue and are now locked down too.

Well, I'm not yet completely convinced that this was a good idea.

1) It does not completely solve security issues; what is so different
between the library/foo/doc and library/foo/examples ???

2) The change will introduce additional work for package authors
that used internal links within their packages. I can, of course,
reorganize everything below doc, e.g. /library/foo/doc/examples ... but
this means that these things are even more hidden.

3) However, according to the changed R-Exts, it was obviously decided
that this was necessary, so *I* will do the required reorganization.

I hope that other package authors accept this change of the rules too.

Nevertheless, thank you very much for the new help system.

Thomas P.


From ripley at stats.ox.ac.uk  Sat Oct 17 19:57:38 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 17 Oct 2009 18:57:38 +0100 (BST)
Subject: [Rd] linking to package directories is NOT broken in R >= 2.10
 beta
In-Reply-To: <4AD9BB1E.5010408@TU-Dresden.de>
References: <4AD9BB1E.5010408@TU-Dresden.de>
Message-ID: <alpine.LFD.2.00.0910171712200.16276@gannet.stats.ox.ac.uk>

When you linked to ../examples/ R was not involved, and what you are 
seeing is what your browser did with a file:// url.  Most browsers 
will support a wide range of file types, and list directories: but 
that is not something that was ever (AFAICS) documented to work.

The 'issue' is your expectations when creating your own 
inst/doc/index.html.  The only relative links that are supported by 
the help system are to R package help topics and files, to 
documentation under R.home("doc") and a limited set of files in a 
package's 'doc' directory to support its use for vignettes, including 
the ability to list 'doc' itself (if requested in a particular way).

If links to files under <pkg>/example worked, it was a bug. Because of 
security concerns over traffic snooping, what you can see through the 
dynamic help system is intentionally very limited.  In fact I suspect 
they worked for you only because

(i) you installed into .Library
(ii) you had a file for which text/plain worked (and that is because 
files that might be in a vignette directory have been checked)..
(iii) you fell into a code branch marked '# should not get here' in 
pre-2.10.0 (but absent in R-devel).

The good news is that if you refer to files under the installed 'doc' 
directory this should work -- subdirectory listings work now in 
R-devel and will probably be ported to 2.10.0 before release.


On Sat, 17 Oct 2009, Thomas Petzoldt wrote:

> Dear R developers,
>
> some of our packages come with additional programming examples in a directory 
> called "/examples" which is created from "/inst/examples".
>
> This directory is linked from the docs (e.g. in inst/doc/index.html):
>
> <dl>
> <dt><a href="../examples/">examples</a>:
> <dd>Source code of examples
> </dl>
>
> Given, that we have a package "foo" this is resolved to:
>
> file:///C:/Programme/R/R-2.9.2/library/foo/examples/
>
> with R <= 2.9.2. With R 2.10 beta (R-beta_2009-10-16_r50118.tar.gz) and 
> R-devel (svn rev. 50118) we get:
>
> http://127.0.0.1:26383/library/foo/examples/
>
> This is fine, but in contrast to older versions (<= 2.9.2) no automatic index 
> is created for the linked directory, so we now get:
>
> "URL /library/foo/examples/ was not found"
>
> bu linking to *individual files* (e.g. examples/example.R) works as expected. 
> We can, of course, add manually maintained index files but I would much 
> prefer if a default index would be created for the directory if no index.html 
> is found.
>
> I very much enjoy the new help system and would be even more happy if that 
> issue could be fixed.
>
> Thomas Petzoldt
>
>
> PS: A minimal reproducible example (foo_1.0.tar.gz) can be provided by mail 
> if required.
>
> -- 
> Thomas Petzoldt
> Technische Universitaet Dresden
> Institut fuer Hydrobiologie        thomas.petzoldt at tu-dresden.de
> 01062 Dresden                      http://tu-dresden.de/hydrobiologie/
> GERMANY
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From seth at userprimary.net  Sat Oct 17 23:03:02 2009
From: seth at userprimary.net (Seth Falcon)
Date: Sat, 17 Oct 2009 14:03:02 -0700
Subject: [Rd] (PR#14012)
In-Reply-To: <20091016130010.3717A282EFF1@mail.pubhealth.ku.dk>
References: <20091016130010.3717A282EFF1@mail.pubhealth.ku.dk>
Message-ID: <20091017210301.GC1411@orange.local>

* On 2009-10-16 at 15:00 +0200 sje30 at damtp.cam.ac.uk wrote:
> I think Rscript has a problem running files that have mac encodings
> for newline (^M rather than ^J on linux).  If I source the file within
> R, it works okay:

> > source('j.R')
> [1] "MEA_data/sernagor_new/CRX_P7_1.txt"
> 
> But if I run the file using Rscript on a linux box I get a strange
> error message: 
> 
> $ Rscript --vanilla j.R
> "
> Execution halted

I think you are right that Rscript is unhappy to handle files with CR
line terminators.  But IIUC, the purpose of Rscript is to enable R
script execution on unix-like systems like:

   #!/path/to/Rscript --vanilla
   print(1:10)

So then I'm not sure how useful it is for Rscript to handle such
files.  Why not convert to a more common and portable line termination
for your R script files?


+ seth

-- 
Seth Falcon | @sfalcon | http://userprimary.net/user


From ggrothendieck at gmail.com  Sat Oct 17 23:25:13 2009
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sat, 17 Oct 2009 17:25:13 -0400
Subject: [Rd] (PR#14012)
In-Reply-To: <20091017210301.GC1411@orange.local>
References: <20091016130010.3717A282EFF1@mail.pubhealth.ku.dk> 
	<20091017210301.GC1411@orange.local>
Message-ID: <971536df0910171425p6eb57a30t5d2abdc2acf78c66@mail.gmail.com>

Even though its not hard to convert files, I think it would be better
if R could directly handle different line endings since R tends to be
used in a cross platform way and its common to have files of different
line endings that originated from different systems.

On Sat, Oct 17, 2009 at 5:03 PM, Seth Falcon <seth at userprimary.net> wrote:
> * On 2009-10-16 at 15:00 +0200 sje30 at damtp.cam.ac.uk wrote:
>> I think Rscript has a problem running files that have mac encodings
>> for newline (^M rather than ^J on linux). ?If I source the file within
>> R, it works okay:
>
>> > source('j.R')
>> [1] "MEA_data/sernagor_new/CRX_P7_1.txt"
>>
>> But if I run the file using Rscript on a linux box I get a strange
>> error message:
>>
>> $ Rscript --vanilla j.R
>> "
>> Execution halted
>
> I think you are right that Rscript is unhappy to handle files with CR
> line terminators. ?But IIUC, the purpose of Rscript is to enable R
> script execution on unix-like systems like:
>
> ? #!/path/to/Rscript --vanilla
> ? print(1:10)
>
> So then I'm not sure how useful it is for Rscript to handle such
> files. ?Why not convert to a more common and portable line termination
> for your R script files?
>
>
> + seth
>
> --
> Seth Falcon | @sfalcon | http://userprimary.net/user
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From chuckwhite8 at charter.net  Sat Oct 17 23:37:10 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Sat, 17 Oct 2009 17:37:10 -0400
Subject: [Rd] R292 on AIX53 using gcc
Message-ID: <20091017173710.FE0PW.1918065.root@mp05>

I apologize for cross posting this message in the R-help group as well. Having posted it there a couple of hours ago, I felt this may be a more appropriate forum for a question of this type.


Hello -- I am unable to build R 2.9.2 on IBM PowerPC AIX5.3.  I would appreciate 
any help in this matter. 
 
===============details============================== 
Machine:  IBM PowerPC_POWER5 / 4 proc, 1499 MHz 64-bit / AIX 5.3.0.0 
 
Building R 2.9.2 using gcc/g++/gfortran 4.2.4 
 
Config.site changes are: 
  OBJECT_MODE=64 
  CONFIG_SHELL=/usr/bin/bash 
  LIBICONV=/opt/freeware/lib 
  AR="ar -X64" 
  CC="gcc -maix64" 
  F77="gfortran -maix64" 
  LDFLAGS="-L/opt/freeware/lib64 -L/opt/freeware/64/lib -L/opt/freeware/lib -L/usr/local/lib" 
  CXX="g++ -maix64" 
  FC="gfortran -maix64" 
  R_BROWSER=/opt/freeware/bin/firefox 
  MAKE=/opt/freeware/bin/make 
 
 
Command for configure:  ./configure --enable-R-shlib 
 
Looks like I have to set OBJECT_MODE explicitly on the command line. So, I 
enter: set OBJECT_MODE=64.  It does not seem to help that I have it in 
config.site. 
 
make stops with the following error: 
 
 gcc -maix64 -std=gnu99 -Wl,-brtl -Wl,-bexpall -Wl,-bpT:0x100000000 
-Wl,-bpD:0x110000000 -lc  -L/opt/freeware/lib64 -L/opt/freeware/64/lib 
-L/opt/freeware/lib -L/usr/local/lib -o R.bin Rmain.o -L../../lib -lR 
ld: 0711-224 WARNING: Duplicate symbol: .memcpy 
...duplicate symbol warning for: memcpy,bcopy,memset,fres 
ld: 0711-317 ERROR: Undefined symbol: R_running_as_main_program 
collect2: ld returned 8 exit status 
make: The error code from the last command is 1.


From p.dalgaard at biostat.ku.dk  Sun Oct 18 00:00:32 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sun, 18 Oct 2009 00:00:32 +0200
Subject: [Rd] (PR#14012)
In-Reply-To: <20091017210301.GC1411@orange.local>
References: <20091016130010.3717A282EFF1@mail.pubhealth.ku.dk>
	<20091017210301.GC1411@orange.local>
Message-ID: <4ADA3E80.6010109@biostat.ku.dk>

Seth Falcon wrote:
> * On 2009-10-16 at 15:00 +0200 sje30 at damtp.cam.ac.uk wrote:
>> I think Rscript has a problem running files that have mac encodings
>> for newline (^M rather than ^J on linux).  If I source the file within
>> R, it works okay:
> 
>>> source('j.R')
>> [1] "MEA_data/sernagor_new/CRX_P7_1.txt"
>>
>> But if I run the file using Rscript on a linux box I get a strange
>> error message: 
>>
>> $ Rscript --vanilla j.R
>> "
>> Execution halted
> 
> I think you are right that Rscript is unhappy to handle files with CR
> line terminators.  But IIUC, the purpose of Rscript is to enable R
> script execution on unix-like systems like:
> 
>    #!/path/to/Rscript --vanilla
>    print(1:10)
> 
> So then I'm not sure how useful it is for Rscript to handle such
> files.  Why not convert to a more common and portable line termination
> for your R script files?

Notice also that other script interpreters aren't happy about CR line 
endings:

$ cat > x.sh
#!/bin/bash
echo hello

Now change the LF to CR and get

$ ./x.sh
bash: ./x.sh: /bin/bash^M: bad interpreter: No such file or directory

or (if you add a space)

$ ./x.sh
  echo hello: No such file or directory

$ bash -v ./x.sh
  echo hello

(overprinting is involved in the last one).

-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From ripley at stats.ox.ac.uk  Sun Oct 18 00:03:23 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 17 Oct 2009 23:03:23 +0100 (BST)
Subject: [Rd] (PR#14012)
In-Reply-To: <20091017210301.GC1411@orange.local>
References: <20091016130010.3717A282EFF1@mail.pubhealth.ku.dk>
	<20091017210301.GC1411@orange.local>
Message-ID: <alpine.LFD.2.00.0910172225300.13083@gannet.stats.ox.ac.uk>

On Sat, 17 Oct 2009, Seth Falcon wrote:

> * On 2009-10-16 at 15:00 +0200 sje30 at damtp.cam.ac.uk wrote:
>> I think Rscript has a problem running files that have mac encodings
>> for newline (^M rather than ^J on linux).

I think those are Mac conventions for end-of-line, not for newline. 
Even in MacRoman encoding, Ctrl-M is carriage return and Ctrl-J is 
newline aka linefeed..

>> If I source the file within R, it works okay:
>
>>> source('j.R')
>> [1] "MEA_data/sernagor_new/CRX_P7_1.txt"
>>
>> But if I run the file using Rscript on a linux box I get a strange
>> error message:
>>
>> $ Rscript --vanilla j.R
>> "
>> Execution halted
>
> I think you are right that Rscript is unhappy to handle files with CR
> line terminators.

More accurately, R's parser is: this applies to R CMD BATCH and R 
itself with redirection.  The point is that the documentation says
that R commands have to be separated by newline or semicolon and CR is 
neither.  (See, e.g. R-intro section 1.8.)

It is also documented that text-mode connections (which source() uses) 
map CR and CRLF to newline, so source() can accept CR-delimited files.

And the error message looks strange because it has CRs but not NLs in 
it (since the input did) and presumably the terminal used replaces not 
superposes characters.

What actually is claimed to be the bug here?  There is no subject 
line, and no clear statement.  Is that Rscript gives an error, that 
source() works or that the error message comes out mangled on a 
particular terminal?


> But IIUC, the purpose of Rscript is to enable R script execution on 
> unix-like systems like:
>
>   #!/path/to/Rscript --vanilla
>   print(1:10)
>
> So then I'm not sure how useful it is for Rscript to handle such
> files.  Why not convert to a more common and portable line termination
> for your R script files?
>
>
> + seth
>
> -- 
> Seth Falcon | @sfalcon | http://userprimary.net/user
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From fabio.ufla at yahoo.com.br  Sun Oct 18 02:53:26 2009
From: fabio.ufla at yahoo.com.br (=?iso-8859-1?Q?Fabio_Mathias_Corr=EAa?=)
Date: Sat, 17 Oct 2009 17:53:26 -0700 (PDT)
Subject: [Rd] Fortran with OpenMP
Message-ID: <458586.83118.qm@web59715.mail.ac4.yahoo.com>

Dear,

I wrote a code in Fortran using OpenMP. When testing the code in Fortran it was working. However, changing the code for the R, it does not indicate the use of threads, it should indicate.
I know that the R accepts the directives of OpenMP, but I can not use them correctly in R.
Below is a small sample code that should work with the use of OpenMP, but does not work when I use the R. 

	SUBROUTINE A1(N, A, B)
	  INCLUDE "omp_lib.h"
	  INTEGER :: I, N
	  DOUBLE PRECISION, DIMENSION(N) :: B(N), A(N)
	  LOGICAL :: OMP_IN_PARALLEL

!$OMP PARALLEL DO 
	  WRITE(*,*) OMP_IN_PARALLEL()
!$OMP DO
	  DO I=2,N
	    B(I) = (A(I) + A(I-1)) / 2.0
	  ENDDO
!$OMP END DO
!$OMP END PARALLEL
	END SUBROUTINE A1

# Compiling

R CMD SHLIB teste.f95 -o teste.so -fopenmp


# Output of the R

a <- rnorm(10)
b <- rnorm(10)
N <- length(a)
dyn.load("teste.so")
.Fortran("A1", as.integer(n), as.double(a),as.double(b))

F    ######### Should return TRUE and not FALSE

[[1]]
[1] 5

[[2]]
 [1] -1.0885364  0.4170852 -0.4627566  0.5662825 -1.9792053  1.0347733
 [7]  1.1615486  1.1752779  1.4337560 -0.2803431

[[3]]
 [1] -0.52768479 -0.33572564 -0.02283571  0.05176294 -0.70646140 -0.15066979
 [7] -0.82335438  1.20606866 -1.65533309  1.04965146


Somebody to say would know me where is the error?

Thank you very much!

? ???????????? F?bio Mathias Corr?a
Estat?stica e Experimenta??o Agropecu?ria/UFLA



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com


From flores at ime.usp.br  Sun Oct 18 04:06:41 2009
From: flores at ime.usp.br (Rodrigo Flores)
Date: Sat, 17 Oct 2009 23:06:41 -0300
Subject: [Rd] Rscript not returning zero
Message-ID: <cad62a920910171906rfed2f81u5111443fc4468377@mail.gmail.com>

Hi

I'm trying to run a R script in a computer grid using the Rscript
interpreter, but the Rscript is not returning zero (even when the
scripts processes succesfully) on its exit which causes the scheduler
to detect an error and not records the output.

Is there any way to get the Rscript returning zero ?

-- 

"A critical section of code is like a bathroom. Only one person is
allowed inside at once.

Iker Gondra, Operating Systems
St. Francis Xavier University, Antigonish, NS"

===================
Rodrigo L. M. Flores
Computer Science Student - IME - USP
Homepage (en): http://www.rodrigoflores.org
Blog (pt-BR): http://blog.rodrigoflores.org
Linux User # : 351304
Jabber: im at rodrigoflores.org


From ripley at stats.ox.ac.uk  Sun Oct 18 07:22:09 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 18 Oct 2009 06:22:09 +0100 (BST)
Subject: [Rd] Rscript not returning zero
In-Reply-To: <cad62a920910171906rfed2f81u5111443fc4468377@mail.gmail.com>
References: <cad62a920910171906rfed2f81u5111443fc4468377@mail.gmail.com>
Message-ID: <alpine.LFD.2.00.0910180612130.28565@gannet.stats.ox.ac.uk>

On Sat, 17 Oct 2009, Rodrigo Flores wrote:

> Hi
>
> I'm trying to run a R script in a computer grid using the Rscript
> interpreter, but the Rscript is not returning zero (even when the
> scripts processes succesfully) on its exit which causes the scheduler
> to detect an error and not records the output.
>
> Is there any way to get the Rscript returning zero ?

Have a successful script ....

You have not told us the 'at a minimum' information asked for in the 
posting guide, whereas I get (under sh)

sh-3.2$ Rscript -e 'sessionInfo()'
R version 2.9.2 (2009-08-24)
x86_64-unknown-linux-gnu

locale:
LC_CTYPE=en_GB.utf8;LC_NUMERIC=C;LC_TIME=en_GB.utf8;LC_COLLATE=C;LC_MONETARY=C;LC_MESSAGES=en_GB.utf8;LC_PAPER=en_GB.utf8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.utf8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  base
sh-3.2$ echo $?
0

so please give a reproducible example of a successful script not 
returning zero.

> Rodrigo L. M. Flores
> Computer Science Student - IME - USP
> Homepage (en): http://www.rodrigoflores.org
> Blog (pt-BR): http://blog.rodrigoflores.org


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From tom.gottfried at wzw.tum.de  Sat Oct 17 20:15:15 2009
From: tom.gottfried at wzw.tum.de (tom.gottfried at wzw.tum.de)
Date: Sat, 17 Oct 2009 20:15:15 +0200 (CEST)
Subject: [Rd] Grid Graphics Documentation: color specification with gpar()
	(PR#14013)
Message-ID: <20091017181516.000D8282EF4D@mail.pubhealth.ku.dk>

Full_Name: Tom Gottfried
Version: 2.9.2
OS: Mac OS X 10.4.11
Submission from: (NULL) (93.104.160.207)


Dear R-Developers,

on the help page for gpar() is the following paragraph:

"Specifying the value NULL for a parameter is the same as not specifying any
value for that parameter, except for col and fill, where NULL indicates not to
draw a border or not to fill an area (respectively)."

The mentioned exception for col and fill does not hold. Actually what is said in
the section "Color Specification" on the help page for par() is true also for
gpar(): "transparent" and NA specify transparency respectively no drawing.

To verify this:
grid.newpage()
grid.rect(width=.5, height=.5)
grid.rect(width=.25, height=.25, gp=gpar(col=NULL)) # draws the box despite
col=NULL
grid.rect(width=.125, height=.125, gp=gpar(col=NA, fill=2)) # does not draw the
box

regards,
Tom


From edd at debian.org  Sun Oct 18 15:52:28 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 18 Oct 2009 08:52:28 -0500
Subject: [Rd] Rscript not returning zero
In-Reply-To: <alpine.LFD.2.00.0910180612130.28565@gannet.stats.ox.ac.uk>
References: <cad62a920910171906rfed2f81u5111443fc4468377@mail.gmail.com>
	<alpine.LFD.2.00.0910180612130.28565@gannet.stats.ox.ac.uk>
Message-ID: <19163.7580.961632.927403@ron.nulle.part>


On 18 October 2009 at 06:22, Prof Brian Ripley wrote:
| On Sat, 17 Oct 2009, Rodrigo Flores wrote:
| > Is there any way to get the Rscript returning zero ?
| 
| Have a successful script ....
| 
| You have not told us the 'at a minimum' information asked for in the 
| posting guide, whereas I get (under sh)
| 
| sh-3.2$ Rscript -e 'sessionInfo()'
| R version 2.9.2 (2009-08-24)
| x86_64-unknown-linux-gnu
| 
| locale:
| LC_CTYPE=en_GB.utf8;LC_NUMERIC=C;LC_TIME=en_GB.utf8;LC_COLLATE=C;LC_MONETARY=C;LC_MESSAGES=en_GB.utf8;LC_PAPER=en_GB.utf8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB.utf8;LC_IDENTIFICATION=C
| 
| attached base packages:
| [1] stats     graphics  grDevices utils     datasets  base
| sh-3.2$ echo $?
| 0
| 
| so please give a reproducible example of a successful script not 
| returning zero.

Moreover, Rscript and r (i.e. littler) both support custom return codes:

edd at ron:~$ Rscript -e 'q(42,save="no")'
edd at ron:~$ echo $?
42
edd at ron:~$ r -e 'q(42,save="no")'
edd at ron:~$ echo $?
42
edd at ron:~$

Dirk

-- 
Three out of two people have difficulties with fractions.


From murdoch at stats.uwo.ca  Sun Oct 18 16:57:17 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 18 Oct 2009 10:57:17 -0400
Subject: [Rd] Specifying (set of random) port numbers for the help HTML
 server (Was: Re: Fixing html help port in 2.10)
In-Reply-To: <59d7961d0910162108i63cc422n95453f913785609@mail.gmail.com>
References: <59d7961d0910162108i63cc422n95453f913785609@mail.gmail.com>
Message-ID: <4ADB2CCD.3030806@stats.uwo.ca>

On 17/10/2009 12:08 AM, Henrik Bengtsson wrote:
> On Fri, Oct 16, 2009 at 7:54 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> On 10/16/2009 10:39 AM, Dieter Menne wrote:
>>> I noted that the new html-help in 2.10 under Windows uses a random port on
>>> my
>>> computer.
>>> This cause a problem, because when I create a link such as:
>>>
>>> http://127.0.0.1:28027/library/stats/html/addmargins.html
>>>
>>> this is for one-time use only. Is it possible to fix the port?
>> Not currently.  If you look in tools:::startDynamicHelp you can see how it
>> is set up; you could duplicate that setup as a temporary workaround.  You
>> might be better off to build R with static help instead.  What is the
>> application where you want to be able to give out links?  Perhaps we could
>> consult an environment variable or option() to choose the port instead of
>> leaving it completely random.
>>
>> The reason it is random is the worry that multiple R instances on the same
>> machine might collide.  All processes on the machine see the same ports.
> 
> Related:
> I'd like to suggest an option/environment variable that specifies the
> set of port numbers sampled from, e.g. 6800:6850 or similar.

I've added an option "help.ports" to set this.  It will try your 
specified ports in order; if you want a random selection, permute them 
yourself, e.g.

options(help.ports = sample(6800:6850))

This will make it into 2.10.0.

Duncan Murdoch

> 
> The reason is that in some places, the user don't have admin
> privileges on the computer and most/all ports are blocked from running
> servers, and there is a sysadm that needs to approve each port to be
> unblocked.  With such a security polices it is possible to have the
> smaller set of port number unblocked (but not the full 0-65535 range).
>  This applies at least to "regular users" on Windows.
> 
> My $.02
> 
> /Henrik
> 
>> Duncan Murdoch
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From dieter.menne at menne-biomed.de  Sun Oct 18 17:14:00 2009
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Sun, 18 Oct 2009 08:14:00 -0700 (PDT)
Subject: [Rd] Specifying (set of random) port numbers for the help HTML
 server (Was: Re: Fixing html help port in 2.10)
In-Reply-To: <4ADB2CCD.3030806@stats.uwo.ca>
References: <59d7961d0910162108i63cc422n95453f913785609@mail.gmail.com>
	<4ADB2CCD.3030806@stats.uwo.ca>
Message-ID: <25947460.post@talk.nabble.com>




Duncan Murdoch-2 wrote:
> 
> 
> options(help.ports = sample(6800:6850))
> 

Nice. So just in case I want

options(help.ports = sample(6800:6800))

What would be the adverse effects (besides me having to check that that port
is reasonable)?

Dieter

-- 
View this message in context: http://www.nabble.com/Re%3A-Specifying-%28set-of-random%29-port-numbers-for-the-help-HTML-server-%28Was%3A-Re%3A-Fixing-html-help-port-in-2.10%29-tp25935271p25947460.html
Sent from the R devel mailing list archive at Nabble.com.


From murdoch at stats.uwo.ca  Sun Oct 18 17:35:08 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 18 Oct 2009 11:35:08 -0400
Subject: [Rd] Specifying (set of random) port numbers for the help HTML
 server (Was: Re: Fixing html help port in 2.10)
In-Reply-To: <25947460.post@talk.nabble.com>
References: <59d7961d0910162108i63cc422n95453f913785609@mail.gmail.com>	<4ADB2CCD.3030806@stats.uwo.ca>
	<25947460.post@talk.nabble.com>
Message-ID: <4ADB35AC.5000000@stats.uwo.ca>

On 18/10/2009 11:14 AM, Dieter Menne wrote:
> 
> 
> Duncan Murdoch-2 wrote:
>>
>> options(help.ports = sample(6800:6850))
>>
> 
> Nice. So just in case I want
> 
> options(help.ports = sample(6800:6800))
> 
> What would be the adverse effects (besides me having to check that that port
> is reasonable)?

That will choose a random port between 1 and 6800, then another, and so 
on, potentially trying all 6800.

This is because of the dumb behaviour of sample(6800), nothing to do 
with the help system.

If you specify options(help.ports=6800), then R will try to use port 
6800.  If it happens to be in use by some other process, then it will fail.

If you put this in your startup script, then only the first instance of 
R on your system would be able to use HTML help; the others would fail 
to start their servers.

If you are on a multi-user system, restricting the range is more likely 
to lead to collisions.

There's also the security issue:  restricting the range makes it easier 
for another user on your system to guess your port.  If you are 
developing a top secret package, they'll be able to read its help pages 
if they know your port number.  (They could always do a port scan to 
find it, but perhaps your security system would be more likely to detect 
that if they had to scan more ports.)

On a single user system I can't see much problem with restricting the 
range to a few dozen choices.  You're unlikely to have more than a few 
instances of R running.

Duncan Murdoch


From murdoch at stats.uwo.ca  Sun Oct 18 22:28:52 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 18 Oct 2009 16:28:52 -0400
Subject: [Rd] linking to package directories broken in R >= 2.10 beta
In-Reply-To: <4ADA058C.7070008@TU-Dresden.de>
References: <4AD9BB1E.5010408@TU-Dresden.de> <4AD9FA86.8050602@stats.uwo.ca>
	<4ADA058C.7070008@TU-Dresden.de>
Message-ID: <4ADB7A84.7020504@stats.uwo.ca>

On 17/10/2009 1:57 PM, Thomas Petzoldt wrote:
> Duncan Murdoch wrote:
>> Thomas Petzoldt wrote:
> 
> [...]
> 
>>> This is fine, but in contrast to older versions (<= 2.9.2) no 
>>> automatic index is created for the linked directory, so we now get:
>>>
>>>
>>> "URL /library/foo/examples/ was not found"
>>>
>>> but linking to *individual files* (e.g. examples/example.R) works as
>>> expected. We can, of course, add manually maintained index files
>>> but I would much prefer if a default index would be created for the
>>> directory if no index.html is found.
>>>
>> By "index" in R <= 2.9.2, you mean the default directory listing 
>> produced by the web server, rather than something produced by R, 
>> right?
> 
> Yes, I mean the default directory listing produced by (most) web servers.
> 
>> The R server does that now if the directory is named "doc", but not 
>> for an arbitrary path. We are concerned about security: any user on 
>> your system who can guess your port number can access your help 
>> system, so we want to be sure that such users can't access private 
>> files.
> 
> 
> Hmm, I see and have some tendency to understand that this may be an 
> issue for certain multi-user systems. Looking into the svn log (and 
> compiling R) it appears that the remaining possibilities where also 
> regarded as security issue and are now locked down too.
> 
> Well, I'm not yet completely convinced that this was a good idea.
> 
> 1) It does not completely solve security issues; what is so different
> between the library/foo/doc and library/foo/examples ???

The doc directory is known to be visible.  It might surprise someone if 
arbitrary directories were visible, and readable by any user.

> 2) The change will introduce additional work for package authors
> that used internal links within their packages. I can, of course,
> reorganize everything below doc, e.g. /library/foo/doc/examples ... but
> this means that these things are even more hidden.

Why would someone know to look in .../examples?  Just update whatever 
hint you gave them to look there, and tell them to look in 
.../doc/examples instead.  I don't think it's likely that most people 
would discover either directory without a hint somewhere.  If they were 
looking for examples, they'd look in the documented places, the Examples 
section of man pages, or in the vignettes.

> 3) However, according to the changed R-Exts, it was obviously decided
> that this was necessary, so *I* will do the required reorganization.

I think it was not so much a decision that this was necessary, as that 
it was prudent.

Duncan Murdoch

> 
> I hope that other package authors accept this change of the rules too.
> 
> Nevertheless, thank you very much for the new help system.
> 
> Thomas P.
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From thomas.petzoldt at tu-dresden.de  Sun Oct 18 22:45:13 2009
From: thomas.petzoldt at tu-dresden.de (Thomas Petzoldt)
Date: Sun, 18 Oct 2009 22:45:13 +0200
Subject: [Rd] linking to package directories broken in R >= 2.10 beta
In-Reply-To: <4ADB7A84.7020504@stats.uwo.ca>
References: <4AD9BB1E.5010408@TU-Dresden.de> <4AD9FA86.8050602@stats.uwo.ca>
	<4ADA058C.7070008@TU-Dresden.de> <4ADB7A84.7020504@stats.uwo.ca>
Message-ID: <4ADB7E59.1090708@tu-dresden.de>

Duncan Murdoch wrote:

[...]

> The doc directory is known to be visible.  It might surprise someone if 
> arbitrary directories were visible, and readable by any user.
> 
>> 2) The change will introduce additional work for package authors
>> that used internal links within their packages. I can, of course,
>> reorganize everything below doc, e.g. /library/foo/doc/examples ... but
>> this means that these things are even more hidden.
> 
> Why would someone know to look in .../examples?  Just update whatever 
> hint you gave them to look there, and tell them to look in 
> .../doc/examples instead.  I don't think it's likely that most people 
> would discover either directory without a hint somewhere.  If they were 
> looking for examples, they'd look in the documented places, the Examples 
> section of man pages, or in the vignettes.
> 
>> 3) However, according to the changed R-Exts, it was obviously decided
>> that this was necessary, so *I* will do the required reorganization.
> 
> I think it was not so much a decision that this was necessary, as that 
> it was prudent.
> 
> Duncan Murdoch

[...]

ok, I will agree, but let me add one final thought: What is with the 
/demo directory?

Thomas P.


From murdoch at stats.uwo.ca  Sun Oct 18 23:24:29 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 18 Oct 2009 17:24:29 -0400
Subject: [Rd] linking to package directories broken in R >= 2.10 beta
In-Reply-To: <4ADB7E59.1090708@tu-dresden.de>
References: <4AD9BB1E.5010408@TU-Dresden.de> <4AD9FA86.8050602@stats.uwo.ca>
	<4ADA058C.7070008@TU-Dresden.de> <4ADB7A84.7020504@stats.uwo.ca>
	<4ADB7E59.1090708@tu-dresden.de>
Message-ID: <4ADB878D.50200@stats.uwo.ca>

On 18/10/2009 4:45 PM, Thomas Petzoldt wrote:
> Duncan Murdoch wrote:
> 
> [...]
> 
>> The doc directory is known to be visible.  It might surprise someone if 
>> arbitrary directories were visible, and readable by any user.
>>
>>> 2) The change will introduce additional work for package authors
>>> that used internal links within their packages. I can, of course,
>>> reorganize everything below doc, e.g. /library/foo/doc/examples ... but
>>> this means that these things are even more hidden.
>> Why would someone know to look in .../examples?  Just update whatever 
>> hint you gave them to look there, and tell them to look in 
>> .../doc/examples instead.  I don't think it's likely that most people 
>> would discover either directory without a hint somewhere.  If they were 
>> looking for examples, they'd look in the documented places, the Examples 
>> section of man pages, or in the vignettes.
>>
>>> 3) However, according to the changed R-Exts, it was obviously decided
>>> that this was necessary, so *I* will do the required reorganization.
>> I think it was not so much a decision that this was necessary, as that 
>> it was prudent.
>>
>> Duncan Murdoch
> 
> [...]
> 
> ok, I will agree, but let me add one final thought: What is with the 
> /demo directory?

It's not displayed by the help system, it is displayed by the demo() 
function.  There wasn't a way to get to it through the help system in 
previous versions, was there?  (If you were running a browser you could 
browse files on the local file system, and you could construct a \url{} 
in a man page, but I don't think there were any links to the demo 
directory generated by R, were there?)

Duncan Murdoch


From Mark.Bravington at csiro.au  Mon Oct 19 00:20:59 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Mon, 19 Oct 2009 09:20:59 +1100
Subject: [Rd] Bug with .First  in R 2.10
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F870550DC1894@exvic-mbx03.nexus.csiro.au>

Under R2.10.0 beta (2009-10-14 r50082) my .First does not run reliably. I reported this last week, but not reproducibly, and it seemed to go away, so I thought it might be installation-related. But it has now recurred reproducibly, at least on my machine.

The website ftp://ftp.csiro.au/MarkBravington contains two .RData files each containing (only) a .First. One of them does what it should, and one of them doesn't. Confusingly, the OK one will actually trigger an error message for you, because it tries to do things that are specific to my machines. The not-OK one says "skipping .First", as below, and you'll see why it shouldn't be doing that. Obvioulsy, the files need renaming before you can test them.

I haven't been able to condense the .First to something more succinct that shows the same fault; saving a modified .First frequently makes the problem go away, seemingly regardless of what the change is.

The transcript from the not-OK version is given below

Mark

-- 
Mark Bravington
CSIRO Mathematical & Information Sciences
Marine Laboratory
Castray Esplanade
Hobart 7001
TAS

ph (+61) 3 6232 5118
fax (+61) 3 6232 5012
mob (+61) 438 315 623


R version 2.10.0 beta (2009-10-14 r50082)
Copyright (C) 2009 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[Previously saved workspace restored]

NOFIRST 
     "" 
Skipping .First
> head( .First) # what was it trying to do?
                                                      
1 function (skip.First = Sys.getenv("NOFIRST") != "") 
2 {                                                   
3     print(Sys.getenv("NOFIRST"))                    
4     if (skip.First) {                               
5         cat("Skipping .First\\n")                   
6         return(invisible(NULL))                     
>  


--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = beta
 major = 2
 minor = 10.0
 year = 2009
 month = 10
 day = 14
 svn rev = 50082
 language = R
 version.string = R version 2.10.0 beta (2009-10-14 r50082)

Windows XP Professional x64 (build 3790) Service Pack 2

Locale:
LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252

Search Path:
 .GlobalEnv, package:stats, package:graphics, package:grDevices, package:utils, package:datasets, package:methods, Autoloads, package:base


From murdoch at stats.uwo.ca  Mon Oct 19 00:49:30 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 18 Oct 2009 18:49:30 -0400
Subject: [Rd] Bug with .First  in R 2.10
In-Reply-To: <62C82B39B8A85E4B95A18F7F7B852F870550DC1894@exvic-mbx03.nexus.csiro.au>
References: <62C82B39B8A85E4B95A18F7F7B852F870550DC1894@exvic-mbx03.nexus.csiro.au>
Message-ID: <4ADB9B7A.1070607@stats.uwo.ca>

On 18/10/2009 6:20 PM, Mark.Bravington at csiro.au wrote:
> Under R2.10.0 beta (2009-10-14 r50082) my .First does not run reliably. I reported this last week, but not reproducibly, and it seemed to go away, so I thought it might be installation-related. But it has now recurred reproducibly, at least on my machine.
> 
> The website ftp://ftp.csiro.au/MarkBravington contains two .RData files each containing (only) a .First. One of them does what it should, and one of them doesn't. Confusingly, the OK one will actually trigger an error message for you, because it tries to do things that are specific to my machines. The not-OK one says "skipping .First", as below, and you'll see why it shouldn't be doing that. Obvioulsy, the files need renaming before you can test them.
> 
> I haven't been able to condense the .First to something more succinct that shows the same fault; saving a modified .First frequently makes the problem go away, seemingly regardless of what the change is.
> 
> The transcript from the not-OK version is given below

I can reproduce the problem running the .First in the notOK.RData file. 
  (I don't need to rename it; just loading that file and explicitly 
running .First() will do it.)

However, if I dump the function and source it, the problem goes away. 
So I suspect there is something wrong in the notOK.RData file.  How did 
you create it?

Duncan Murdoch


From Mark.Bravington at csiro.au  Mon Oct 19 00:58:47 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Mon, 19 Oct 2009 09:58:47 +1100
Subject: [Rd] Bug with .First  in R 2.10
In-Reply-To: <4ADB9B7A.1070607@stats.uwo.ca>
References: <62C82B39B8A85E4B95A18F7F7B852F870550DC1894@exvic-mbx03.nexus.csiro.au>
	<4ADB9B7A.1070607@stats.uwo.ca>
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F870550DC1896@exvic-mbx03.nexus.csiro.au>

I started the same version of R in my usual starting directory (where there's a larger .RData, whose .First is running OK right now) and then did

save( .First, file=<<whatever>>)

I'm not sure exactly where the .First came from before that; I use a couple of different machines and (in the runup to 2.10) a couple of R versions.

Mark

-- 
Mark Bravington
CSIRO Mathematical & Information Sciences
Marine Laboratory
Castray Esplanade
Hobart 7001
TAS

ph (+61) 3 6232 5118
fax (+61) 3 6232 5012
mob (+61) 438 315 623

Duncan Murdoch wrote:
> On 18/10/2009 6:20 PM, Mark.Bravington at csiro.au wrote:
>> Under R2.10.0 beta (2009-10-14 r50082) my .First does not run
>> reliably. I reported this last week, but not reproducibly, and it
>> seemed to go away, so I thought it might be installation-related.
>> But it has now recurred reproducibly, at least on my machine.   
>> 
>> The website ftp://ftp.csiro.au/MarkBravington contains two .RData
>> files each containing (only) a .First. One of them does what it
>> should, and one of them doesn't. Confusingly, the OK one will
>> actually trigger an error message for you, because it tries to do
>> things that are specific to my machines. The not-OK one says
>> "skipping .First", as below, and you'll see why it shouldn't be
>> doing that. Obvioulsy, the files need renaming before you can test
>> them.       
>> 
>> I haven't been able to condense the .First to something more
>> succinct that shows the same fault; saving a modified .First
>> frequently makes the problem go away, seemingly regardless of what
>> the change is.   
>> 
>> The transcript from the not-OK version is given below
> 
> I can reproduce the problem running the .First in the notOK.RData
>   file. (I don't need to rename it; just loading that file and
> explicitly running .First() will do it.) 
> 
> However, if I dump the function and source it, the problem goes away.
> So I suspect there is something wrong in the notOK.RData file.  How
> did you create it? 
> 
> Duncan Murdoch

From Mark.Bravington at csiro.au  Mon Oct 19 04:33:27 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Mon, 19 Oct 2009 13:33:27 +1100
Subject: [Rd] weird warning in [.data.frame with 2.10
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F870550DC189C@exvic-mbx03.nexus.csiro.au>

I'm getting the following warnings under 2.10 v50082 but not v49613

>> In addition: Warning messages: 1: In `[.data.frame`(df, -(1:nrow(df)), , drop = FALSE) : named arguments other than 'drop' are discouraged

5: In `[.data.frame`(object, !omit, , drop = FALSE) :
>>   named arguments other than 'drop' are discouraged

In neither case are there any named arguments, as the messages themselves point out.

The errors are popping up while running my 'debug' package. They are associated with another sporadic new warning nearby about "number of items... replacement length", which is more of a direct worry. This has never happened before in 'debug'; it makes me think that something more sinister may be going on in the bowels of R, but I haven't tracked it down clearly enough to report it.

Mark

-- 
Mark Bravington
CSIRO Mathematical & Information Sciences
Marine Laboratory
Castray Esplanade
Hobart 7001
TAS

ph (+61) 3 6232 5118
fax (+61) 3 6232 5012
mob (+61) 438 315 623

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = beta
 major = 2
 minor = 10.0
 year = 2009
 month = 10
 day = 14
 svn rev = 50082
 language = R
 version.string = R version 2.10.0 beta (2009-10-14 r50082)

Windows XP Professional x64 (build 3790) Service Pack 2

Locale:
LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252

Search Path:
 .GlobalEnv, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base

From hb at stat.berkeley.edu  Mon Oct 19 05:38:57 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Sun, 18 Oct 2009 20:38:57 -0700
Subject: [Rd] Specifying (set of random) port numbers for the help HTML
	server (Was: Re: Fixing html help port in 2.10)
In-Reply-To: <4ADB2CCD.3030806@stats.uwo.ca>
References: <59d7961d0910162108i63cc422n95453f913785609@mail.gmail.com> 
	<4ADB2CCD.3030806@stats.uwo.ca>
Message-ID: <59d7961d0910182038t5fe12aafo9ca4d567ddbebb7c@mail.gmail.com>

On Sun, Oct 18, 2009 at 7:57 AM, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> On 17/10/2009 12:08 AM, Henrik Bengtsson wrote:
>>
>> On Fri, Oct 16, 2009 at 7:54 AM, Duncan Murdoch <murdoch at stats.uwo.ca>
>> wrote:
>>>
>>> On 10/16/2009 10:39 AM, Dieter Menne wrote:
>>>>
>>>> I noted that the new html-help in 2.10 under Windows uses a random port
>>>> on
>>>> my
>>>> computer.
>>>> This cause a problem, because when I create a link such as:
>>>>
>>>> http://127.0.0.1:28027/library/stats/html/addmargins.html
>>>>
>>>> this is for one-time use only. Is it possible to fix the port?
>>>
>>> Not currently. ?If you look in tools:::startDynamicHelp you can see how
>>> it
>>> is set up; you could duplicate that setup as a temporary workaround. ?You
>>> might be better off to build R with static help instead. ?What is the
>>> application where you want to be able to give out links? ?Perhaps we
>>> could
>>> consult an environment variable or option() to choose the port instead of
>>> leaving it completely random.
>>>
>>> The reason it is random is the worry that multiple R instances on the
>>> same
>>> machine might collide. ?All processes on the machine see the same ports.
>>
>> Related:
>> I'd like to suggest an option/environment variable that specifies the
>> set of port numbers sampled from, e.g. 6800:6850 or similar.
>
> I've added an option "help.ports" to set this. ?It will try your specified
> ports in order; if you want a random selection, permute them yourself, e.g.
>
> options(help.ports = sample(6800:6850))
>
> This will make it into 2.10.0.

Thanks.

-Henrik

>
> Duncan Murdoch
>
>>
>> The reason is that in some places, the user don't have admin
>> privileges on the computer and most/all ports are blocked from running
>> servers, and there is a sysadm that needs to approve each port to be
>> unblocked. ?With such a security polices it is possible to have the
>> smaller set of port number unblocked (but not the full 0-65535 range).
>> ?This applies at least to "regular users" on Windows.
>>
>> My $.02
>>
>> /Henrik
>>
>>> Duncan Murdoch
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From chuckwhite8 at charter.net  Mon Oct 19 06:15:48 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Mon, 19 Oct 2009 0:15:48 -0400
Subject: [Rd] R292 on AIX53 using gcc
In-Reply-To: <20091017173710.FE0PW.1918065.root@mp05>
Message-ID: <20091019001548.3ERGG.7235172.root@mp13>

Hello -- after my previous post, I tried to compile R 2.9.2 using xlc.  The config.site changes are:
 
==================================
OBJECT_MODE=64
AR="ar -X64"
R_SHELL=/usr/bin/bash
CONFIG_SHELL=/usr/bin/bash
 
CC="xlc_r -q64"
CFLAGS="-O -qstrict"
CPPFLAGS="-I/usr/include -I/usr/local/include -I/opt/freeware/include -I/usr/X11R6/include"
CXX="xlC_r -q64"
CXXFLAGS="-O -qstrict"
LDFLAGS="-L/opt/freeware/lib64 -L/opt/freeware/64/lib -L/opt/freeware/lib -L/usr/local/lib -L/usr/lib"
 
F77="xlf_r -q64"
FFLAGS="-O -qstrict"
FC="xlf95 -q64"
FCFLAGS="-O -qstrict"
 
MAKE=/opt/freeware/bin/make
==================================
 
Error -->
 
mkdir ../../../../library/grDevices/libs
Warning in solve.default(rgb) :
  unable to load shared library '/usr/local/R-2.9.2/modules//lapack.so':
  rtld: 0712-001 Symbol idamax was referenced
      from module /usr/local/R-2.9.2/lib/libRlapack.so(), but a runtime definition
     of the symbol was not found.
rtld: 0712-001 Symbol dger was referenced
      from module /usr/local/R-2.9.2/lib/libRlapack.so(), but a runtime definition
     of the symbol was not found.
..................
Error in solve.default(rgb) : lapack routines cannot be loaded
Error: unable to load R code in package 'grDevices'
Execution halted
make: The error code from the last command is 1.
 
Thanks in advance. I would really appreciate any help.


From Thomas.Petzoldt at TU-Dresden.de  Mon Oct 19 09:57:47 2009
From: Thomas.Petzoldt at TU-Dresden.de (Thomas Petzoldt)
Date: Mon, 19 Oct 2009 09:57:47 +0200
Subject: [Rd] linking to package directories is NOT broken in R >= 2.10
 beta
In-Reply-To: <alpine.LFD.2.00.0910171712200.16276@gannet.stats.ox.ac.uk>
References: <4AD9BB1E.5010408@TU-Dresden.de>
	<alpine.LFD.2.00.0910171712200.16276@gannet.stats.ox.ac.uk>
Message-ID: <4ADC1BFB.6000103@TU-Dresden.de>

Prof Brian Ripley wrote:
> When you linked to ../examples/ R was not involved, and what you are 
> seeing is what your browser did with a file:// url.  Most browsers will 
> support a wide range of file types, and list directories: but that is 
> not something that was ever (AFAICS) documented to work.
> 
> The 'issue' is your expectations when creating your own 
> inst/doc/index.html.  The only relative links that are supported by the 
> help system are to R package help topics and files, to documentation 
> under R.home("doc") and a limited set of files in a package's 'doc' 
> directory to support its use for vignettes, including the ability to 
> list 'doc' itself (if requested in a particular way).
> 
> If links to files under <pkg>/example worked, it was a bug. Because of 
> security concerns over traffic snooping, what you can see through the 
> dynamic help system is intentionally very limited.  In fact I suspect 
> they worked for you only because
> 
> (i) you installed into .Library
> (ii) you had a file for which text/plain worked (and that is because 
> files that might be in a vignette directory have been checked)..
> (iii) you fell into a code branch marked '# should not get here' in 
> pre-2.10.0 (but absent in R-devel).
> 
> The good news is that if you refer to files under the installed 'doc' 
> directory this should work -- subdirectory listings work now in R-devel 
> and will probably be ported to 2.10.0 before release.
> 

Many thanks for clarification and the good news, i.e. for allowing html 
links to /doc (and also to DESCRIPTION).

Let me add one additional suggestion: Yes, I know that there are certain 
related functions available (with different semantics), but what about 
allowing html links to "/demo" and to some other special files like NEWS 
and LICENSE (as found in MASS) or THANKS (like in Hmisc)?


Thanks for consideration.

Thomas Petzoldt


From pragathichitra.s at tcs.com  Mon Oct 19 10:57:56 2009
From: pragathichitra.s at tcs.com (pragathichi)
Date: Mon, 19 Oct 2009 01:57:56 -0700 (PDT)
Subject: [Rd]  to connect R from ejb
Message-ID: <25955127.post@talk.nabble.com>


How to call R from ejb, can i use Rserve?
-- 
View this message in context: http://www.nabble.com/to-connect-R-from-ejb-tp25955127p25955127.html
Sent from the R devel mailing list archive at Nabble.com.


From michael_karsh at earthlink.net  Sun Oct 18 20:30:16 2009
From: michael_karsh at earthlink.net (michael_karsh at earthlink.net)
Date: Sun, 18 Oct 2009 20:30:16 +0200 (CEST)
Subject: [Rd] Use of lm on polynomial models (PR#14014)
Message-ID: <20091018183016.B7EDB282EF53@mail.pubhealth.ku.dk>

Full_Name: Michael Aaron Karsh
Version: 2.8.0.
OS: Windows XP
Submission from: (NULL) (75.61.102.255)


When I try lm(w ~ h^3 + h^2 + h) for example, it only gives coefficients for the
intercept and for h.  It does not give coefficients for h^2 or h^3.


From ripley at stats.ox.ac.uk  Mon Oct 19 11:40:44 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 19 Oct 2009 10:40:44 +0100 (BST)
Subject: [Rd] Use of lm on polynomial models (PR#14014)
In-Reply-To: <20091018183016.B7EDB282EF53@mail.pubhealth.ku.dk>
References: <20091018183016.B7EDB282EF53@mail.pubhealth.ku.dk>
Message-ID: <alpine.LFD.2.00.0910191035490.13539@gannet.stats.ox.ac.uk>

RTFM time: h^3 is not the cube of h in an R formula (for that you need 
I(h^3)).  See ?formula, for example.

Simpler would be lm(w ~ poly(h, 3, raw=TRUE))


On Sun, 18 Oct 2009, michael_karsh at earthlink.net wrote:

> Full_Name: Michael Aaron Karsh
> Version: 2.8.0.
> OS: Windows XP
> Submission from: (NULL) (75.61.102.255)
>
>
> When I try lm(w ~ h^3 + h^2 + h) for example, it only gives 
> coefficients for the intercept and for h.  It does not give 
> coefficients for h^2 or h^3.

So it is behaving correctly.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From erich.neuwirth at univie.ac.at  Mon Oct 19 11:56:18 2009
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Mon, 19 Oct 2009 11:56:18 +0200
Subject: [Rd] source and textConnection
Message-ID: <4ADC37C2.6010506@univie.ac.at>

Is this warning given on purpose?

> myconn<-textConnection("print(11*11)")
> source(myconn)
[1] 121
Warning message:
In source(myconn) : argument 'encoding = "native.enc"' will be ignored


Could it be omitted, since the docs state that encoding is only use if
the corresponding argument is a file name or url?





-- 
Erich Neuwirth, University of Vienna
Faculty of Computer Science
Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-39464 Fax: +43-1-4277-39459


From ripley at stats.ox.ac.uk  Mon Oct 19 12:02:02 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 19 Oct 2009 11:02:02 +0100 (BST)
Subject: [Rd] Use of lm on polynomial models (PR#14014)
In-Reply-To: <alpine.LFD.2.00.0910191035490.13539@gannet.stats.ox.ac.uk>
References: <20091018183016.B7EDB282EF53@mail.pubhealth.ku.dk>
	<alpine.LFD.2.00.0910191035490.13539@gannet.stats.ox.ac.uk>
Message-ID: <alpine.LFD.2.00.0910191058580.30653@gannet.stats.ox.ac.uk>

Others beware: this address does not accept replies, in defiance of 
the posting guide.

On Mon, 19 Oct 2009, Prof Brian Ripley wrote:

> RTFM time: h^3 is not the cube of h in an R formula (for that you need 
> I(h^3)).  See ?formula, for example.
>
> Simpler would be lm(w ~ poly(h, 3, raw=TRUE))
>
>
> On Sun, 18 Oct 2009, michael_karsh at earthlink.net wrote:
>
>> Full_Name: Michael Aaron Karsh
>> Version: 2.8.0.
>> OS: Windows XP
>> Submission from: (NULL) (75.61.102.255)
>> 
>> 
>> When I try lm(w ~ h^3 + h^2 + h) for example, it only gives coefficients 
>> for the intercept and for h.  It does not give coefficients for h^2 or h^3.
>
> So it is behaving correctly.
>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From martin.becker at mx.uni-saarland.de  Mon Oct 19 14:09:52 2009
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Mon, 19 Oct 2009 14:09:52 +0200
Subject: [Rd] Sweave output encoding in R-2.10.0beta on Windows (Rgui
 <->	Rterm)
In-Reply-To: <4AD468AF.9030100@mx.uni-saarland.de>
References: <4AD468AF.9030100@mx.uni-saarland.de>
Message-ID: <4ADC5710.6050505@mx.uni-saarland.de>

Dear developers,

I am not really sure what causes the difference in the encoding of 
Sweave Soutput environments between Rgui.exe and R.exe/Rterm.exe in 
R-2.10.0beta (now R-2.10.0rc), but I suppose that the different 
behaviour of R-2.9.2pat and R-2.10.0rc is caused by changes concerning 
regular expressions (RweaveLatexRuncode uses sub() in some places) as 
documented in NEWS.
AFAICS, sub() now (R-2.10.0rc) possibly converts its input to UTF-8, and 
a (conditional) back-conversion after the sub()-commands seems to 
resolve the encoding problems (as well as the different behaviour of 
Rgui and Rterm in R-2.10.0rc).

It would be great if someone more involved in Sweave could take a look 
at (and maybe commit) the attached (untested!) patch (to r50160). Many 
thanks in advance!
Best wishes,

  Martin


Martin Becker wrote:
> Dear developers,
>
> I have come across a (somewhat strange) change in the encoding of 
> Sweave output from R-2.9.2pat to R-2.10.0beta (apparently specific to 
> Rgui) on Windows installations. Of course, the NEWS file contains 
> quite a few changes concerning encoding, but I was not able to locate 
> an entry which explains the observed behaviour. I am not very familiar 
> with encodings/locales/codepages, but I will try to explain my 
> observations as best I can.
>
> In R-2.9.2pat, when invoking R via Rgui --vanilla (output of 
> seesionInfo() below), the output of Sweave for .rnw files containing 
> german umlaute (latin1-encoded) is again latin1-encoded (the resulting 
> .tex-file compiles with \usepackage[latin1]{inputenc} and 
> \usepackage[german]{babel}).
> In R-2.10.0beta, however, when invoking R via Rgui --vanilla (output 
> of seesionInfo() below), some of Sweave's output (more precisely, 
> Soutput environments containing german umlaute, Sinput environments 
> with german umlaute are still latin1) is utf-8 encoded (with some 
> extra characters at the start and the end, which could be BOMs). 
> Surprisingly, when R is invoked from (Windows) command line (R 
> --vanilla or Rterm --vanilla), the encoding is completely latin1 again 
> (as in R-2.9.2pat). So, the change to utf-8 encoding for parts of 
> Sweave's output seems to be specific to Rgui.
>
> Of course, I can work around this problem by using Rterm instead of 
> Rgui when Sweav'ing, but I am not sure if the current behaviour of R 
> via Rgui is as intended.
> I will try to attach the .rnw - file as well as the resulting .tex - 
> files (and hope, that the attachements pass through).
>
> Best wishes,
>
>   Martin
>
>
>
> sessionInfo() for R-2.9.2pat (same for Rgui, R, Rterm):
> R version 2.9.2 Patched (2009-09-24 r50041)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=German_Germany.1252;LC_CTYPE=German_Germany.1252;LC_MONETARY=German_Germany.1252;LC_NUMERIC=C;LC_TIME=German_Germany.1252 
>
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> sessionInfo() for R-2.10.0beta (same for Rgui, R, Rterm):
> R version 2.10.0 beta (2009-10-11 r50037)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252  [3] 
> LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                  [5] 
> LC_TIME=German_Germany.1252  
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base 
>
> ------------------------------------------------------------------------
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


-- 
Dr. Martin Becker
Statistics and Econometrics
Saarland University
Campus C3 1, Room 206
66123 Saarbruecken
Germany

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: sweave-patch.txt
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091019/6b93e60c/attachment.txt>

From romain.francois at dbmail.com  Mon Oct 19 16:33:10 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Mon, 19 Oct 2009 16:33:10 +0200
Subject: [Rd] to connect R from ejb
In-Reply-To: <25955127.post@talk.nabble.com>
References: <25955127.post@talk.nabble.com>
Message-ID: <4ADC78A6.7010200@dbmail.com>

On 10/19/2009 10:57 AM, pragathichi wrote:
> How to call R from ejb, can i use Rserve?

yes

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From murdoch at stats.uwo.ca  Mon Oct 19 17:56:04 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 19 Oct 2009 11:56:04 -0400
Subject: [Rd] Bug with .First  in R 2.10
In-Reply-To: <62C82B39B8A85E4B95A18F7F7B852F870550DC1896@exvic-mbx03.nexus.csiro.au>
References: <62C82B39B8A85E4B95A18F7F7B852F870550DC1894@exvic-mbx03.nexus.csiro.au>	<4ADB9B7A.1070607@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F870550DC1896@exvic-mbx03.nexus.csiro.au>
Message-ID: <4ADC8C14.8080104@stats.uwo.ca>

On 10/18/2009 6:58 PM, Mark.Bravington at csiro.au wrote:
> I started the same version of R in my usual starting directory (where there's a larger .RData, whose .First is running OK right now) and then did
> 
> save( .First, file=<<whatever>>)
> 
> I'm not sure exactly where the .First came from before that; I use a couple of different machines and (in the runup to 2.10) a couple of R versions.

I've tracked this down to a problem when the .First is loaded from the 
image file, likely due to a change on Sept 29.  Hopefully it will be 
fixed before release.

Duncan Murdoch


From fabio.ufla at yahoo.com.br  Tue Oct 20 04:22:15 2009
From: fabio.ufla at yahoo.com.br (=?iso-8859-1?Q?Fabio_Mathias_Corr=EAa?=)
Date: Mon, 19 Oct 2009 19:22:15 -0700 (PDT)
Subject: [Rd] Changing options in R CMD SHLIB
Message-ID: <284062.25948.qm@web59715.mail.ac4.yahoo.com>

Dear,

When trying to use directive OpenMP in my code, I observed that the directive ones were being considered as commentaries. 
Compiling with command R CMD SHLIB xxx.f95 - fopenmp and calling the function in the R verified that threads was not being considered. 
I was to observe the options of the compiler

R CMD SHLIB --help

Usage: R CMD SHLIB [options] files | linker options

Build a shared library for dynamic loading from the specified source or
object files (which are automagically made from their sources) or
linker options.? If not given via '--output', the name for the shared
library is determined from the first source or object file.

Options:
? -h, --help??? ??? print short help message and exit
? -v, --version??? ??? print version info and exit
? -o, --output=LIB??? use LIB as (full) name for the built library
? -c, --clean??? ??? remove files created during compilation
? --preclean??? ??? remove files created during a previous run
? -n, --dry-run??? ??? dry run, showing commands that would be used

Windows only:
? -d, --debug??? ??? build a debug DLL


How can I enable -fopenmp for use with R CMD SHLIB? 


? ???????????? F?bio Mathias Corr?a
Estat?stica e Experimenta??o Agropecu?ria/UFLA




      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com


From ripley at stats.ox.ac.uk  Tue Oct 20 07:08:23 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Oct 2009 06:08:23 +0100 (BST)
Subject: [Rd] Changing options in R CMD SHLIB
In-Reply-To: <284062.25948.qm@web59715.mail.ac4.yahoo.com>
References: <284062.25948.qm@web59715.mail.ac4.yahoo.com>
Message-ID: <alpine.LFD.2.00.0910200600080.6426@gannet.stats.ox.ac.uk>

Please see the manual -- 'Writing R Extensions'.  If you want to use 
custom compiler flags, you use a Makevars or personal .Makevars file.
Something like

PKG_FCFLAGS=-fopenmp

(you haven't told us your OS or version of R).

On Mon, 19 Oct 2009, Fabio Mathias Corr?a wrote:

> Dear,
>
> When trying to use directive OpenMP in my code, I observed that the directive ones were being considered as commentaries.
> Compiling with command R CMD SHLIB xxx.f95 - fopenmp and calling the function in the R verified that threads was not being considered.
> I was to observe the options of the compiler
>
> R CMD SHLIB --help
>
> Usage: R CMD SHLIB [options] files | linker options
>
> Build a shared library for dynamic loading from the specified source or
> object files (which are automagically made from their sources) or
> linker options.? If not given via '--output', the name for the shared
> library is determined from the first source or object file.
>
> Options:
> ? -h, --help??? ??? print short help message and exit
> ? -v, --version??? ??? print version info and exit
> ? -o, --output=LIB??? use LIB as (full) name for the built library
> ? -c, --clean??? ??? remove files created during compilation
> ? --preclean??? ??? remove files created during a previous run
> ? -n, --dry-run??? ??? dry run, showing commands that would be used
>
> Windows only:
> ? -d, --debug??? ??? build a debug DLL
>
>
> How can I enable -fopenmp for use with R CMD SHLIB?
>
>
> ? ???????????? F?bio Mathias Corr?a
> Estat?stica e Experimenta??o Agropecu?ria/UFLA

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From karl at huftis.org  Tue Oct 20 08:45:17 2009
From: karl at huftis.org (karl at huftis.org)
Date: Tue, 20 Oct 2009 08:45:17 +0200 (CEST)
Subject: [Rd] plot.POSIXct uses wrong x axis (PR#14016)
Message-ID: <20091020064517.334F1282EFC6@mail.pubhealth.ku.dk>

Full_Name: Karl Ove Hufthammer
Version: 2.10.0 beta
OS: Windows
Submission from: (NULL) (93.124.134.66)


When plotting a single POSIXct variable, 'plot' uses a nonsensical x axis. Here
is some example code:

set.seed(1)
x=seq(1,1e8,length=100)+round(runif(100)*1e8)
y=as.POSIXct(x,origin="2001-01-01")
plot(y)

The y axis correctly shows appropriate labels (years 2002 to 2006), but the x
axis show the single time '59:58' in the lower left corner.

Expected behaviour: The indices should be shown on the x axis, just like for
plot(x), where x is the x variable in the above example code.

Additional notes: While ?plot.POSIXct does not explicitly say that the second
variable ('y') is optional, the help for the generic, ?plot, does. And it seems
reasonable that it should be. Also plot(POSIXct.variable) does produce a
'correct' plot, except for the labels on the x axis.

Output of sessionInfo():

R version 2.10.0 beta (2009-10-17 r50136) 
i386-pc-mingw32 

locale:
[1] LC_COLLATE=Norwegian-Nynorsk_Norway.1252 
[2] LC_CTYPE=Norwegian-Nynorsk_Norway.1252   
[3] LC_MONETARY=Norwegian-Nynorsk_Norway.1252
[4] LC_NUMERIC=C                             
[5] LC_TIME=Norwegian-Nynorsk_Norway.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
[1] tools_2.10.0


From pragathichitra.s at tcs.com  Tue Oct 20 05:22:32 2009
From: pragathichitra.s at tcs.com (pragathichi)
Date: Mon, 19 Oct 2009 20:22:32 -0700 (PDT)
Subject: [Rd] to connect R from ejb
In-Reply-To: <4ADC78A6.7010200@dbmail.com>
References: <25955127.post@talk.nabble.com> <4ADC78A6.7010200@dbmail.com>
Message-ID: <25969189.post@talk.nabble.com>


how to add Reengine and Rserveengine jar files in ejb?
I am using eclipse, plz suggest.

Romain Francois-2 wrote:
> 
> On 10/19/2009 10:57 AM, pragathichi wrote:
>> How to call R from ejb, can i use Rserve?
> 
> yes
> 
> -- 
> Romain Francois
> Professional R Enthusiast
> +33(0) 6 28 91 30 30
> http://romainfrancois.blog.free.fr
> |- http://tr.im/BcPw : celebrating R commit #50000
> |- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
> `- http://tr.im/yw8E : New R package : sos
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
View this message in context: http://www.nabble.com/to-connect-R-from-ejb-tp25955127p25969189.html
Sent from the R devel mailing list archive at Nabble.com.


From fabio.ufla at yahoo.com.br  Tue Oct 20 13:37:38 2009
From: fabio.ufla at yahoo.com.br (=?iso-8859-1?Q?Fabio_Mathias_Corr=EAa?=)
Date: Tue, 20 Oct 2009 04:37:38 -0700 (PDT)
Subject: [Rd] Changing options in R CMD SHLIB
In-Reply-To: <alpine.LFD.2.00.0910200600080.6426@gannet.stats.ox.ac.uk>
Message-ID: <927407.91131.qm@web59707.mail.ac4.yahoo.com>

I use linux Mint and R.2.9.2

Thank you!

? ???????????? F?bio Mathias Corr?a
Estat?stica e Experimenta??o Agropecu?ria/UFLA



--- Em ter, 20/10/09, Prof Brian Ripley <ripley at stats.ox.ac.uk> escreveu:

> De: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> Assunto: Re: [Rd] Changing options in R CMD SHLIB
> Para: "Fabio Mathias Corr?a" <fabio.ufla at yahoo.com.br>
> Cc: r-devel at r-project.org
> Data: Ter?a-feira, 20 de Outubro de 2009, 5:08
> Please see the manual -- 'Writing R
> Extensions'.? If you want to use 
> custom compiler flags, you use a Makevars or personal
> .Makevars file.
> Something like
> 
> PKG_FCFLAGS=-fopenmp
> 
> (you haven't told us your OS or version of R).
> 
> On Mon, 19 Oct 2009, Fabio Mathias Corr?a wrote:
> 
> > Dear,
> >
> > When trying to use directive OpenMP in my code, I
> observed that the directive ones were being considered as
> commentaries.
> > Compiling with command R CMD SHLIB xxx.f95 - fopenmp
> and calling the function in the R verified that threads was
> not being considered.
> > I was to observe the options of the compiler
> >
> > R CMD SHLIB --help
> >
> > Usage: R CMD SHLIB [options] files | linker options
> >
> > Build a shared library for dynamic loading from the
> specified source or
> > object files (which are automagically made from their
> sources) or
> > linker options.? If not given via '--output', the
> name for the shared
> > library is determined from the first source or object
> file.
> >
> > Options:
> > ? -h, --help??? ??? print short help message
> and exit
> > ? -v, --version??? ??? print version info and
> exit
> > ? -o, --output=LIB??? use LIB as (full) name for
> the built library
> > ? -c, --clean??? ??? remove files created
> during compilation
> > ? --preclean??? ??? remove files created during
> a previous run
> > ? -n, --dry-run??? ??? dry run, showing
> commands that would be used
> >
> > Windows only:
> > ? -d, --debug??? ??? build a debug DLL
> >
> >
> > How can I enable -fopenmp for use with R CMD SHLIB?
> >
> >
> > ? ???????????? F?bio Mathias Corr?a
> > Estat?stica e Experimenta??o Agropecu?ria/UFLA
> 
> -- 
> Brian D. Ripley,? ? ? ? ? ?
> ? ? ? ripley at stats.ox.ac.uk
> Professor of Applied Statistics,? http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,? ? ? ? ?
> ???Tel:? +44 1865 272861 (self)
> 1 South Parks Road,? ? ? ? ?
> ? ? ? ? ???+44 1865
> 272866 (PA)
> Oxford OX1 3TG, UK? ? ? ? ? ?
> ? ? Fax:? +44 1865 272595


      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com


From romain.francois at dbmail.com  Tue Oct 20 13:49:34 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Tue, 20 Oct 2009 13:49:34 +0200
Subject: [Rd] to connect R from ejb
In-Reply-To: <25969189.post@talk.nabble.com>
References: <25955127.post@talk.nabble.com> <4ADC78A6.7010200@dbmail.com>
	<25969189.post@talk.nabble.com>
Message-ID: <4ADDA3CE.6030409@dbmail.com>

The same way you would add any other jar, please go to an ejb forum. 
Alternatively, use this more appropriate mailing list :

http://mailman.rz.uni-augsburg.de/mailman/listinfo/stats-rosuda-devel

One way or another, please take the time to formulate a proper question, 
showing what you tried, what did not work, and so on.

On 10/20/2009 05:22 AM, pragathichi wrote:
> how to add Reengine and Rserveengine jar files in ejb?
> I am using eclipse, plz suggest.
>
> Romain Francois-2 wrote:
>>
>> On 10/19/2009 10:57 AM, pragathichi wrote:
>>> How to call R from ejb, can i use Rserve?
>>
>> yes

-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From luke at stat.uiowa.edu  Tue Oct 20 15:00:04 2009
From: luke at stat.uiowa.edu (luke at stat.uiowa.edu)
Date: Tue, 20 Oct 2009 08:00:04 -0500 (CDT)
Subject: [Rd] Bug with .First  in R 2.10
In-Reply-To: <4ADC8C14.8080104@stats.uwo.ca>
References: <62C82B39B8A85E4B95A18F7F7B852F870550DC1894@exvic-mbx03.nexus.csiro.au>
	<4ADB9B7A.1070607@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F870550DC1896@exvic-mbx03.nexus.csiro.au>
	<4ADC8C14.8080104@stats.uwo.ca>
Message-ID: <alpine.LFD.2.00.0910200759000.17445@itasca2.wildberry.org>

On Mon, 19 Oct 2009, Duncan Murdoch wrote:

> On 10/18/2009 6:58 PM, Mark.Bravington at csiro.au wrote:
>> I started the same version of R in my usual starting directory (where 
>> there's a larger .RData, whose .First is running OK right now) and then did
>> 
>> save( .First, file=<<whatever>>)
>> 
>> I'm not sure exactly where the .First came from before that; I use a couple 
>> of different machines and (in the runup to 2.10) a couple of R versions.
>
> I've tracked this down to a problem when the .First is loaded from the image 
> file, likely due to a change on Sept 29.  Hopefully it will be fixed before 
> release.

Not actually due to that change but an older bug unmasked by that
change.  Should be fixed on the trunk and 2.10 branches now.

luke

>
> Duncan Murdoch
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From murdoch at stats.uwo.ca  Tue Oct 20 15:04:17 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 20 Oct 2009 09:04:17 -0400
Subject: [Rd] Bug with .First  in R 2.10
In-Reply-To: <62C82B39B8A85E4B95A18F7F7B852F870550DC1894@exvic-mbx03.nexus.csiro.au>
References: <62C82B39B8A85E4B95A18F7F7B852F870550DC1894@exvic-mbx03.nexus.csiro.au>
Message-ID: <4ADDB551.3080104@stats.uwo.ca>

On 10/18/2009 6:20 PM, Mark.Bravington at csiro.au wrote:
> Under R2.10.0 beta (2009-10-14 r50082) my .First does not run reliably. I reported this last week, but not reproducibly, and it seemed to go away, so I thought it might be installation-related. But it has now recurred reproducibly, at least on my machine.
> 
> The website ftp://ftp.csiro.au/MarkBravington contains two .RData files each containing (only) a .First. One of them does what it should, and one of them doesn't. Confusingly, the OK one will actually trigger an error message for you, because it tries to do things that are specific to my machines. The not-OK one says "skipping .First", as below, and you'll see why it shouldn't be doing that. Obvioulsy, the files need renaming before you can test them.
> 
> I haven't been able to condense the .First to something more succinct that shows the same fault; saving a modified .First frequently makes the problem go away, seemingly regardless of what the change is.
> 
> The transcript from the not-OK version is given below

Luke Tierney tracked this down and fixed it.  It's actually a fairly old 
bug, but was being masked by another; when he fixed the other one in 
September, this one started to manifest itself.

It should be okay in RC builds newer than r50178 (which should show up 
by tomorrow on most platforms).

Thanks for making this reproducible!

Duncan Murdoch


From maechler at stat.math.ethz.ch  Tue Oct 20 16:55:40 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 20 Oct 2009 16:55:40 +0200
Subject: [Rd] isFALSE
In-Reply-To: <4AD11208.3010307@dbmail.com>
References: <4AD11208.3010307@dbmail.com>
Message-ID: <19165.53100.487334.215056@lynne.math.ethz.ch>

>>>>> "RF" == Romain Francois <romain.francois at dbmail.com>
>>>>>     on Sun, 11 Oct 2009 01:00:24 +0200 writes:

    RF> Hello, Just wondering why there is "isTRUE" and not
    RF> "isFALSE".

Probably because it's slightly more natural to have

  if(isTRUE(....)) {
     ..
  }

rather than the corrsponding  isFALSE()

Further, e.g.  all.equal()  and  validObject()
return *either*  TRUE or a string,
and hence isTRUE(.) is usefully applied to their return values.

Are there other opinions on this?

Martin

    > -- 
    > Romain Francois
    > Professional R Enthusiast
    > +33(0) 6 28 91 30 30
    > http://romainfrancois.blog.free.fr
    > |- http://tr.im/BcPw : celebrating R commit #50000
    > |- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
    > `- http://tr.im/yw8E : New R package : sos

    > Index: src/library/base/R/identical.R
    > ===================================================================
    > --- src/library/base/R/identical.R	(revision 50027)
    > +++ src/library/base/R/identical.R	(working copy)
    > @@ -18,3 +18,5 @@
    > .Internal(identical(x,y, num.eq, single.NA, attrib.as.set))
 
    > isTRUE <- function(x) identical(TRUE, x)
    > +
    > +isFALSE <- function(x) identical(FALSE, x)
    > Index: src/library/base/man/Logic.Rd
    > ===================================================================
    > --- src/library/base/man/Logic.Rd	(revision 50027)
    > +++ src/library/base/man/Logic.Rd	(working copy)
    > @@ -14,6 +14,7 @@
    > xor(x, y)
 
    > isTRUE(x)
    > +isFALSE(x)
    > }
    > \alias{!}
    > \alias{&}
    > @@ -23,6 +24,7 @@
    > \alias{xor}
    > \alias{Logic}
    > \alias{isTRUE}
    > +\alias{isFALSE}
    > \description{
    > These operators act on logical and number-like vectors.
    > }
    > @@ -48,7 +50,11 @@
    > \code{isTRUE(x)} is an abbreviation of \code{identical(TRUE, x)}, and
    > so is true if and only if \code{x} is a length-one logical vector with
    > no attributes (not even names).
    > -
    > +  
    > +  \code{isFALSE(x)} is an abbreviation of \code{identical(FALSE, x)}, and
    > +  so is true if and only if \code{x} is a length-one logical vector with
    > +  no attributes (not even names).
    > +  
    > Numeric and complex vectors will be coerced to logical values, with
    > zero being false and all non-zero values being true.  Raw vectors are
    > handled without any coercion for \code{!}, \code{&}, \code{|} and
    > @@ -87,7 +93,7 @@
    > used.  For arrays (and an array result) the dimensions and dimnames
    > are taken from first argument if it is an array, otherwise the second.
 
    > -  For \code{||}, \code{&&} and \code{isTRUE}, a length-one logical vector.
    > +  For \code{||}, \code{&&}, \code{isFALSE} and \code{isTRUE}, a length-one logical vector.
    > }
    > \section{S4 methods}{
    > \code{!}, \code{&} and \code{|} are S4 generics, the latter two part
    > Index: src/library/base/man/identical.Rd
    > ===================================================================
    > --- src/library/base/man/identical.Rd	(revision 50027)
    > +++ src/library/base/man/identical.Rd	(working copy)
    > @@ -85,7 +85,8 @@
    > \seealso{
    > \code{\link{all.equal}} for descriptions of how two objects differ;
    > \link{Comparison} for operators that generate elementwise comparisons.
    > -  \code{\link{isTRUE}} is a simple wrapper based on \code{identical}.
    > +  \code{\link{isTRUE}} and \code{\link{isFALSE}} are simple 
    > +  wrappers based on \code{identical}.
    > }
    > \examples{
    > identical(1, NULL) ## FALSE -- don't try this with ==
    > ______________________________________________
    > R-devel at r-project.org mailing list
    > https://stat.ethz.ch/mailman/listinfo/r-devel


From wdunlap at tibco.com  Tue Oct 20 17:51:36 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Tue, 20 Oct 2009 08:51:36 -0700
Subject: [Rd] isFALSE
In-Reply-To: <19165.53100.487334.215056@lynne.math.ethz.ch>
References: <4AD11208.3010307@dbmail.com>
	<19165.53100.487334.215056@lynne.math.ethz.ch>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D70001FE370D@NA-PA-VBE03.na.tibco.com>


> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Martin Maechler
> Sent: Tuesday, October 20, 2009 7:56 AM
> To: Romain Francois
> Cc: R-devel at r-project.org
> Subject: Re: [Rd] isFALSE
> 
> >>>>> "RF" == Romain Francois <romain.francois at dbmail.com>
> >>>>>     on Sun, 11 Oct 2009 01:00:24 +0200 writes:
> 
>     RF> Hello, Just wondering why there is "isTRUE" and not
>     RF> "isFALSE".
> 
> Probably because it's slightly more natural to have
> 
>   if(isTRUE(....)) {
>      ..
>   }
> 
> rather than the corrsponding  isFALSE()
> 
> Further, e.g.  all.equal()  and  validObject()
> return *either*  TRUE or a string,
> and hence isTRUE(.) is usefully applied to their return values.
> 
> Are there other opinions on this?

I avoid isTRUE because it is too restrictive, insisting
that the TRUE be unadorned with names or other stray attributes.
E.g.,
   > x<-c(One=1,Two=2)
   > isTRUE(x[1]>0) # <=> isTRUE(c(One=TRUE))
   [1] FALSE
I would avoid a similar isFALSE.  It would be nice to have
a isScalarTRUE function and a isScalarFALSE, both of which
would return FALSE for NA, non-scalars, and non-logicals.
Then I would use them in the form
    if (isScalarTRUE(x))
          doSomething()
    else if (isScalarFALSE(x))
          doSomethingElse()
    else stop("expected scalar TRUE or FALSE, not ", class(x), "(",
length(x), ")")
One might want to separate out the length(x)==1,is.logical,
and !is.na(x) tests to avoid duplicating computations, but that would
make
the if-else logic more complicated.

By the way, I sometimes use locally defined is.true() and is.false
functions that are vectorized and return FALSE for NA's:
   is.true <- function(x) x & !is.na(x)
   is.false <- function(x) !x & !is.na(x)
   is.true(c(NA,T,F))
   # [1] FALSE  TRUE FALSE
   is.true(c(NA,1,0))
   # [1] FALSE  TRUE FALSE
The idiom is in functions like ifelse().  Is there/should there be
a standard function to do that?

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com  
> 
> Martin
> 
>     > -- 
>     > Romain Francois
>     > Professional R Enthusiast
>     > +33(0) 6 28 91 30 30
>     > http://romainfrancois.blog.free.fr
>     > |- http://tr.im/BcPw : celebrating R commit #50000
>     > |- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
>     > `- http://tr.im/yw8E : New R package : sos
> 
>     > Index: src/library/base/R/identical.R
>     > 
> ===================================================================
>     > --- src/library/base/R/identical.R	(revision 50027)
>     > +++ src/library/base/R/identical.R	(working copy)
>     > @@ -18,3 +18,5 @@
>     > .Internal(identical(x,y, num.eq, single.NA, attrib.as.set))
>  
>     > isTRUE <- function(x) identical(TRUE, x)
>     > +
>     > +isFALSE <- function(x) identical(FALSE, x)
>     > Index: src/library/base/man/Logic.Rd
>     > 
> ===================================================================
>     > --- src/library/base/man/Logic.Rd	(revision 50027)
>     > +++ src/library/base/man/Logic.Rd	(working copy)
>     > @@ -14,6 +14,7 @@
>     > xor(x, y)
>  
>     > isTRUE(x)
>     > +isFALSE(x)
>     > }
>     > \alias{!}
>     > \alias{&}
>     > @@ -23,6 +24,7 @@
>     > \alias{xor}
>     > \alias{Logic}
>     > \alias{isTRUE}
>     > +\alias{isFALSE}
>     > \description{
>     > These operators act on logical and number-like vectors.
>     > }
>     > @@ -48,7 +50,11 @@
>     > \code{isTRUE(x)} is an abbreviation of 
> \code{identical(TRUE, x)}, and
>     > so is true if and only if \code{x} is a length-one 
> logical vector with
>     > no attributes (not even names).
>     > -
>     > +  
>     > +  \code{isFALSE(x)} is an abbreviation of 
> \code{identical(FALSE, x)}, and
>     > +  so is true if and only if \code{x} is a length-one 
> logical vector with
>     > +  no attributes (not even names).
>     > +  
>     > Numeric and complex vectors will be coerced to logical 
> values, with
>     > zero being false and all non-zero values being true.  
> Raw vectors are
>     > handled without any coercion for \code{!}, \code{&}, 
> \code{|} and
>     > @@ -87,7 +93,7 @@
>     > used.  For arrays (and an array result) the dimensions 
> and dimnames
>     > are taken from first argument if it is an array, 
> otherwise the second.
>  
>     > -  For \code{||}, \code{&&} and \code{isTRUE}, a 
> length-one logical vector.
>     > +  For \code{||}, \code{&&}, \code{isFALSE} and 
> \code{isTRUE}, a length-one logical vector.
>     > }
>     > \section{S4 methods}{
>     > \code{!}, \code{&} and \code{|} are S4 generics, the 
> latter two part
>     > Index: src/library/base/man/identical.Rd
>     > 
> ===================================================================
>     > --- src/library/base/man/identical.Rd	(revision 50027)
>     > +++ src/library/base/man/identical.Rd	(working copy)
>     > @@ -85,7 +85,8 @@
>     > \seealso{
>     > \code{\link{all.equal}} for descriptions of how two 
> objects differ;
>     > \link{Comparison} for operators that generate 
> elementwise comparisons.
>     > -  \code{\link{isTRUE}} is a simple wrapper based on 
> \code{identical}.
>     > +  \code{\link{isTRUE}} and \code{\link{isFALSE}} are simple 
>     > +  wrappers based on \code{identical}.
>     > }
>     > \examples{
>     > identical(1, NULL) ## FALSE -- don't try this with ==
>     > ______________________________________________
>     > R-devel at r-project.org mailing list
>     > https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From hb at stat.berkeley.edu  Tue Oct 20 21:44:01 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Tue, 20 Oct 2009 12:44:01 -0700
Subject: [Rd] Suggestion for exception handling: More informative error
	message for "no applicable method..." (S3)
Message-ID: <59d7961d0910201244n6cf92c58p66f35ef68ce4680@mail.gmail.com>

I'd like to suggest that whenever there is no S3 method implementation
available for a particular class, that the error message would also
report the class structure of the object dispatched on.

Example:

foo <- function(...) UseMethod("foo")
foo.ClassA <- function(object, ...) { cat("foo() for ClassA called.\n") }

> foo(structure(1, class="ClassA"))
foo() for ClassA called.

Now:

> foo(NULL)
Error in UseMethod("foo") : no applicable method for "foo"

> foo(Sys.time())
Error in UseMethod("foo") : no applicable method for "foo"

Suggestion:

> foo(NULL)
Error in UseMethod("foo") : no applicable foo() method: list

> foo(Sys.time())
Error in UseMethod("foo") : no applicable foo() method: POSIXt, POSIXct

This would really help troubleshooting, especially when running in
batch mode where you don't have direct access to the object without
modifying the script and/or functions.

/Henrik

PS. I know that one as a workaround can create a "default" method that
reports this, but I believe it is much better that the builtin
exception handling should report this/carry this information.


From fabio.ufla at yahoo.com.br  Tue Oct 20 22:21:10 2009
From: fabio.ufla at yahoo.com.br (=?iso-8859-1?Q?Fabio_Mathias_Corr=EAa?=)
Date: Tue, 20 Oct 2009 13:21:10 -0700 (PDT)
Subject: [Rd] Changing options in R CMD SHLIB
In-Reply-To: <alpine.LFD.2.00.0910200600080.6426@gannet.stats.ox.ac.uk>
Message-ID: <835774.86394.qm@web59706.mail.ac4.yahoo.com>

Dear,

I managed to use directives OpenMP in R.
To compile I used the gfortran directly. For example:

gfortran-shared-O2 teste.f90-fopenmp-fPIC

By using the code in R, it works perfectly!

However, I need to use some specific libraries of R, for use in C functions in Fortran 95.

When compiling using the command:

gfortran-shared-O2-o teste.f90 myrandom.c func.out -fopenmp -fPIC

However, I need to indicate the path for the compiler to use the files of the type: Rmath.h, R.h and others.

I observed the project ROMP and the library Rcsdp. The developers of the library Rcsdp in the installation file present the following modification in the compiler for enable the OpenMP. 


CFLAGS=CFLAGS=-O3 -march=nocona -m64 -fprefetch-loop-arrays -ftree-vectorize -ftree-vectorizer-verbose=1 -fopenmp  -ansi -Wall -DNOSHORTS -DBIT64 -DUSEOPENMP -I../include


LIBS=LIBS=-static -L../lib -lsdp -llapack -lptf77blas -lptcblas -latlas -lgomp -lrt -lpthread -lgfortran -lm 



 I already tried

~/Fortran/parallel/tri $ export PKG_FCFLAGS= -fopenmp
bash: export: `-fopenmp': not a valid identifier


I could indicate the path of the files R.h, Rmath.h and other to the gfortran? How? 

Thank you!

? ???????????? F?bio Mathias Corr?a
Estat?stica e Experimenta??o Agropecu?ria/UFLA




      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com


From fabio.ufla at yahoo.com.br  Tue Oct 20 22:36:13 2009
From: fabio.ufla at yahoo.com.br (=?iso-8859-1?Q?Fabio_Mathias_Corr=EAa?=)
Date: Tue, 20 Oct 2009 13:36:13 -0700 (PDT)
Subject: [Rd] Changing options in R CMD SHLIB
In-Reply-To: <alpine.LFD.2.00.0910200600080.6426@gannet.stats.ox.ac.uk>
Message-ID: <531985.25170.qm@web59712.mail.ac4.yahoo.com>

Thank you very much!!!

Problem solved!!

I use

export PKG_FCFLAGS=-fopenmp

> dyn.load("teste.so")
> system.time(abc3 <- .Fortran("mxv", as.integer(m), as.integer(n), as.double(a), b, as.double(c)))
 In parallel region - Thread ID            1
 In parallel region - Thread ID            1
 In parallel region - Thread ID            1
 In parallel region - Thread ID            1
 In parallel region - Thread ID            1
 In parallel region - Thread ID            0
 In parallel region - Thread ID            0
 In parallel region - Thread ID            0
 In parallel region - Thread ID            0
 In parallel region - Thread ID            0
   user  system elapsed
      0       0       0 



? ???????????? F?bio Mathias Corr?a
Estat?stica e Experimenta??o Agropecu?ria/UFLA



--- Em ter, 20/10/09, Prof Brian Ripley <ripley at stats.ox.ac.uk> escreveu:

> De: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> Assunto: Re: [Rd] Changing options in R CMD SHLIB
> Para: "Fabio Mathias Corr?a" <fabio.ufla at yahoo.com.br>
> Cc: r-devel at r-project.org
> Data: Ter?a-feira, 20 de Outubro de 2009, 5:08
> Please see the manual -- 'Writing R
> Extensions'.? If you want to use 
> custom compiler flags, you use a Makevars or personal
> .Makevars file.
> Something like
> 
> PKG_FCFLAGS=-fopenmp
> 
> (you haven't told us your OS or version of R).
> 
> On Mon, 19 Oct 2009, Fabio Mathias Corr?a wrote:
> 
> > Dear,
> >
> > When trying to use directive OpenMP in my code, I
> observed that the directive ones were being considered as
> commentaries.
> > Compiling with command R CMD SHLIB xxx.f95 - fopenmp
> and calling the function in the R verified that threads was
> not being considered.
> > I was to observe the options of the compiler
> >
> > R CMD SHLIB --help
> >
> > Usage: R CMD SHLIB [options] files | linker options
> >
> > Build a shared library for dynamic loading from the
> specified source or
> > object files (which are automagically made from their
> sources) or
> > linker options.? If not given via '--output', the
> name for the shared
> > library is determined from the first source or object
> file.
> >
> > Options:
> > ? -h, --help??? ??? print short help message
> and exit
> > ? -v, --version??? ??? print version info and
> exit
> > ? -o, --output=LIB??? use LIB as (full) name for
> the built library
> > ? -c, --clean??? ??? remove files created
> during compilation
> > ? --preclean??? ??? remove files created during
> a previous run
> > ? -n, --dry-run??? ??? dry run, showing
> commands that would be used
> >
> > Windows only:
> > ? -d, --debug??? ??? build a debug DLL
> >
> >
> > How can I enable -fopenmp for use with R CMD SHLIB?
> >
> >
> > ? ???????????? F?bio Mathias Corr?a
> > Estat?stica e Experimenta??o Agropecu?ria/UFLA
> 
> -- 
> Brian D. Ripley,? ? ? ? ? ?
> ? ? ? ripley at stats.ox.ac.uk
> Professor of Applied Statistics,? http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,? ? ? ? ?
> ???Tel:? +44 1865 272861 (self)
> 1 South Parks Road,? ? ? ? ?
> ? ? ? ? ???+44 1865
> 272866 (PA)
> Oxford OX1 3TG, UK? ? ? ? ? ?
> ? ? Fax:? +44 1865 272595


      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com


From nashjc at uottawa.ca  Tue Oct 20 22:47:43 2009
From: nashjc at uottawa.ca (Prof. John C Nash)
Date: Tue, 20 Oct 2009 16:47:43 -0400
Subject: [Rd] Buglet in optim() SANN
Message-ID: <4ADE21EF.2010606@uottawa.ca>

I think SANN method in optim() is failing to report that it has not 
converged. Here is an example

genrose.f<- function(x, gs=NULL){ # objective function
## One generalization of the Rosenbrock banana valley function (n 
parameters)
	n <- length(x)
         if(is.null(gs)) { gs=100.0 }
	fval<-1.0 + sum (gs*(x[1:(n-1)]^2 - x[2:n])^2 + (x[2:n] - 1)^2)
         return(fval)
}

xx<-rep(pi,10)
test<-optim(xx,genrose.f,method="SANN",control=list(maxit=1000,trace=1))
print(test)


Output is:

 > source("tsann.R")
sann objective function values
initial       value 40781.805639
iter      999 value 29.969529
final         value 29.969529
sann stopped after 999 iterations
$par
  [1] 1.0135254 0.9886862 1.1348609 1.0798927 1.0327997 1.1087146 1.1642130
  [8] 1.3038754 1.8628391 3.7569285

$value
[1] 29.96953

$counts
function gradient
     1000       NA

$convergence
[1] 0  <------ THIS SHOULD BE 1 ACCORDING TO THE DOCS

$message
NULL

Note terribly important, but maybe fixable.

Cheers,

John Nash


From djsamperi at earthlink.net  Tue Oct 20 23:59:18 2009
From: djsamperi at earthlink.net (Dominick Samperi)
Date: Tue, 20 Oct 2009 17:59:18 -0400
Subject: [Rd] Problem/anomalous behavior with image() function (and
	ReadImages?)
Message-ID: <4ADE32B6.9040807@earthlink.net>

When an RGB photo is displayed using R's image() function with
the help of the pixmap (or rimage) package it is common to see
an anomalous white line running across the picture (either
horizontally or vertically). The line can
be removed by simply stretching the image frame a little in the
direction perpendicular to the anomalous line, or by maximizing the
image frame (tested under Fedora 10; Windows could not be
tested because ReadImages package does not load properly under
Windows/Vista, and rimage is not available for Windows).

It does not help to use x11(width=10,hight=10) before the call to
image() with the hope that the frame will already be
large enough: image() just draws a larger image with an
anomalous white line (which can be removed in the way just
described).

Here is code that produces an image with anomalous white lines
on under Fedora 10:

library(rimage)
x <- read.jpeg(system.file("data", "cat.jpg", package="rimage"))
plot(x) # calls plot.imagematix(), which in turn calls image()

Alternatively, you can copy cat.jpg from the rimage package to
the data directory of ReadImages and do this:
library(pixmap)
library(ReadImages)
x <- read.jpeg(system.file("data", "cat.jpg", package="ReadImages")
catpixmap <- pixmapRGB(x) # convert imagemap to pixmap
plot(catpixmap) # plot.pixmap is an S4 method that also calls image()

(This alternative method is provided because rimage has an
irrelevant dependency on an external library FFTW2 that
complicates the process of installing rimage. The use of
cat.jpg is not essential. The same problem appears with
most jpg photo images.)

Dominick


From djsamperi at earthlink.net  Wed Oct 21 00:15:13 2009
From: djsamperi at earthlink.net (Dominick Samperi)
Date: Tue, 20 Oct 2009 18:15:13 -0400
Subject: [Rd] Problem/anomalous behavior with image() function
	(and	ReadImages?)
In-Reply-To: <4ADE32B6.9040807@earthlink.net>
References: <4ADE32B6.9040807@earthlink.net>
Message-ID: <4ADE3671.9080403@earthlink.net>

Following up on my previous question: I managed test under Windows
and the anomalous behavior does NOT occur there, so this is apparently
a system-dependent issue.


From fabio.ufla at yahoo.com.br  Wed Oct 21 02:38:29 2009
From: fabio.ufla at yahoo.com.br (=?iso-8859-1?Q?Fabio_Mathias_Corr=EAa?=)
Date: Tue, 20 Oct 2009 17:38:29 -0700 (PDT)
Subject: [Rd] Error when compiling code in C
Message-ID: <360529.75928.qm@web59704.mail.ac4.yahoo.com>

Dear,


I used the command in the terminal to compile code FORTRAN with directive OpenMP

export PKG_FCFLAGS=-fopenmp

It functioned perfectly for pure code FORTRAN.

However, when I call a function in C in code FORTRAN, the function in C is not compiled.

The following error appears

~/Fortran/parallel $ R CMD SHLIB para.f95 myrandom.c -o func.so -fopenmp

gfortran -fopenmp -fpic -g -O -c  para.f95 -o para.o
gcc -std=gnu99 -I/usr/share/R/include      -fpic  -g -O2 -c myrandom.c -o myrandom.c@
gfortran -shared -o func.so para.o myrandom.o -fopenmp -L/usr/lib64/R/lib -lR
gfortran: myrandom.o: No such file or directory
make: *** [func.so] Error 1

When compile only the function in code FORTRAN. The archive is compiled!

If compile only the function in C, the error I appear!

What it is occurring is that instead of generating an archive myrandom.o the compiler is generating an archive myrandom.c@

What I must make?

Thank you very much!


? ???????????? F?bio Mathias Corr?a
Estat?stica e Experimenta??o Agropecu?ria/UFLA





      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com


From bolker at ufl.edu  Wed Oct 21 05:57:18 2009
From: bolker at ufl.edu (Bolker,Benjamin Michael)
Date: Tue, 20 Oct 2009 23:57:18 -0400
Subject: [Rd] odd evaluation within correlation argument of glmmPQL
Message-ID: <AC6F23A2BA13C347A59BDCBCFF41E27B5F538D4640@UFEXCH-MBXCL03.ad.ufl.edu>


  [I think I've seen this reported before but can't locate it any more.
I believe this oddity (glitch? feature?) is behind a query that
Jean-Baptiste Ferdy asked a year ago 
<http://finzi.psych.upenn.edu/Rhelp08/2008-October/176449.html>]

  It appears that glmmPQL looks in the global workspace, not
within the data frame specified by the "data" argument, for
the variables specified in the "form" argument of spatial
correlation structures provided to the "correlation" argument.
This is potentially confusing/dangerous, because you can easily
(1) get an error saying that the variable is not found (the least
dangerous and confusing), (2) get an error saying the variable
is of the wrong length, if there is a variable with a matching
name but the wrong length in the global environment,
(3) get completely misled if there is a *different* variable with
a matching name in the global environment with the right
length (in which case glmmPQL will ignore the element in the data
frame you specified and use the one from the global environment).

  The following patch (to MASS 7.3-3, retrieved from CRAN src/contrib
2.10.0 directory) appears to fix the problem.  A quick look suggests that
the same version of MASS is in 2.11.0 as well.

*** glmmPQL.R.orig	2009-10-20 23:48:38.000000000 -0400
--- glmmPQL.R	2009-10-20 23:51:33.000000000 -0400
***************
*** 39,44 ****
--- 39,47 ----
      off <- attr(Terms, "offset")
      if(length(off<- attr(Terms, "offset"))) allvars <-
          c(allvars, as.character(attr(Terms, "variables"))[off+1])
+     ## add variables in correlation formula, if any
+     if (!missing(correlation) && !is.null(attr(correlation,"formula")))
+       allvars <- c(allvars,all.vars(attr(correlation,"formula")))
      ## substitute back actual formula (rather than a variable name)
      Call$fixed <- eval(fixed); Call$random <- eval(random)
      m$formula <- as.formula(paste("~", paste(allvars, collapse="+")))

 code below shows the problem.

    Ben Bolker


## set up data
set.seed(1001)
d = data.frame(x = runif(100),
  y = runif(100),
  z = rpois(100,2),
  f = factor(rep(letters[1:20],each=5)))

library(MASS)
## without correlation structure: fine
glmmPQL(z~1,random=~1|f,data=d,family="poisson")

## with correlation structure,
##   but x and y not defined outside of 'd'
glmmPQL(z~1,random=~1|f,data=d,
        correlation=corExp(form=~x+y),
        family="poisson")
## Error in eval(expr, envir, enclos) : object 'x' not found

x = y = runif(10)
glmmPQL(z~1,random=~1|f,data=d,
        correlation=corExp(form=~x+y),
        family="poisson")
## Error in ...
##   variable lengths differ (found for 'f')

## this is what we probably wanted
x = d$x
y = d$y
glmmPQL(z~1,random=~1|f,data=d,
        correlation=corExp(form=~x+y),
        family="poisson")

## this is dangerous!
x = y = runif(100)
glmmPQL(z~1,random=~1|f,data=d,
        correlation=corExp(form=~x+y),
        family="poisson")

## proof that glmmPQL really is looking
## outside of the data frame for its
## correlation variables ...
x = y = rep(0,100)
glmmPQL(z~1,random=~1|f,data=d,
        correlation=corExp(form=~x+y),
        family="poisson")
## Error in getCovariate.corSpatial(object, data = data) : 
##   Cannot have zero distances in "corSpatial"



> sessionInfo()
R version 2.9.2 (2009-08-24) 
i486-pc-linux-gnu 

locale:
LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=C;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  grid      methods  
[8] base     

other attached packages:
[1] nlme_3.1-95   MASS_7.2-49   reshape_0.8.3 plyr_0.1.9    proto_0.3-8  

loaded via a namespace (and not attached):
[1] ggplot2_0.8.4   lattice_0.17-26

From pragathichitra.s at tcs.com  Tue Oct 20 13:56:52 2009
From: pragathichitra.s at tcs.com (pragathichi)
Date: Tue, 20 Oct 2009 04:56:52 -0700 (PDT)
Subject: [Rd] to connect R from ejb
In-Reply-To: <4ADDA3CE.6030409@dbmail.com>
References: <25955127.post@talk.nabble.com> <4ADC78A6.7010200@dbmail.com>
	<25969189.post@talk.nabble.com> <4ADDA3CE.6030409@dbmail.com>
Message-ID: <25973788.post@talk.nabble.com>


Sorry for not being clear. Than you . i successfully connected R to ejb by
adding the jar files in the server directly.

Romain Francois-2 wrote:
> 
> The same way you would add any other jar, please go to an ejb forum. 
> Alternatively, use this more appropriate mailing list :
> 
> http://mailman.rz.uni-augsburg.de/mailman/listinfo/stats-rosuda-devel
> 
> One way or another, please take the time to formulate a proper question, 
> showing what you tried, what did not work, and so on.
> 
> On 10/20/2009 05:22 AM, pragathichi wrote:
>> how to add Reengine and Rserveengine jar files in ejb?
>> I am using eclipse, plz suggest.
>>
>> Romain Francois-2 wrote:
>>>
>>> On 10/19/2009 10:57 AM, pragathichi wrote:
>>>> How to call R from ejb, can i use Rserve?
>>>
>>> yes
> 
> -- 
> Romain Francois
> Professional R Enthusiast
> +33(0) 6 28 91 30 30
> http://romainfrancois.blog.free.fr
> |- http://tr.im/BcPw : celebrating R commit #50000
> |- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
> `- http://tr.im/yw8E : New R package : sos
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
View this message in context: http://www.nabble.com/to-connect-R-from-ejb-tp25955127p25973788.html
Sent from the R devel mailing list archive at Nabble.com.


From alain.bernard at chu-dijon.fr  Wed Oct 21 14:30:30 2009
From: alain.bernard at chu-dijon.fr (alain.bernard at chu-dijon.fr)
Date: Wed, 21 Oct 2009 14:30:30 +0200 (CEST)
Subject: [Rd] design library (PR#14018)
Message-ID: <20091021123030.8270B282BE86@mail.pubhealth.ku.dk>

Sir,
It lacks the function "varcov" to use the command anova after lrm

Sincerely

Alain Bernard


	[[alternative HTML version deleted]]


From alexandre.maurel at gmail.com  Wed Oct 21 17:35:09 2009
From: alexandre.maurel at gmail.com (alexandre.maurel at gmail.com)
Date: Wed, 21 Oct 2009 17:35:09 +0200 (CEST)
Subject: [Rd] Division by zero on window resized (PR#14019)
Message-ID: <20091021153509.6F071282EFF1@mail.pubhealth.ku.dk>

Full_Name: Alexandre Maurel
Version: 2.9.2
OS: winXP 
Submission from: (NULL) (83.113.31.36)


I am running R.dll from Dolphin Smalltalk using
    
   Rf_initEmbeddedR(argc, argv);
...
...

when I run the following :
 
a = matrix(c(1,2,3,4),c(2,3,3,3))
heatmap(a)

everything seems to work correctly, but when I resize the window I get a
division by zero error.

Note that if I run :

a=c(1,2,3,4,5)
plot(a)

everything works correctly and the window can be resized without any problem.


From ohri2007 at gmail.com  Wed Oct 21 19:49:28 2009
From: ohri2007 at gmail.com (Ajay ohri)
Date: Wed, 21 Oct 2009 13:49:28 -0400
Subject: [Rd] R Updates or Changes in corporate version of R
Message-ID: <4bc14e460910211049g472c8370he7979aaa5020e7fa@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091021/7676465e/attachment.pl>

From tobias.verbeke at openanalytics.be  Wed Oct 21 21:20:03 2009
From: tobias.verbeke at openanalytics.be (Tobias Verbeke)
Date: Wed, 21 Oct 2009 21:20:03 +0200
Subject: [Rd] R Updates or Changes in corporate version of R
In-Reply-To: <4bc14e460910211049g472c8370he7979aaa5020e7fa@mail.gmail.com>
References: <4bc14e460910211049g472c8370he7979aaa5020e7fa@mail.gmail.com>
Message-ID: <4ADF5EE3.2060402@openanalytics.be>

Hi,

> What is the place to search for *corporate version of R *including
> 
> 1) GUI
> 
> 2) Documentation
> 
> 3) Cloud Computing or HPC

R is used *as such* in corporate environments all over the world
and

1) it comes with a GUI (on Windows and Mac),
2) comes with extensive documentation and
3) has facilities for HPC using add-on packages most
   of which are listed here:

http://cran.r-project.org/web/views/HighPerformanceComputing.html

That being said there is a diversity of companies
providing commercial services related to R and
innumerous initiatives focusing on particular aspects
which might be useful to "corporate" contexts as well.

Best,
Tobias

P.S. This is IMO not a subject to be discussed on R-devel.


From chuckwhite8 at charter.net  Thu Oct 22 03:56:09 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Wed, 21 Oct 2009 21:56:09 -0400
Subject: [Rd] R292 on AIX53 using gcc
In-Reply-To: <20091019001548.3ERGG.7235172.root@mp13>
Message-ID: <20091021215609.LH7WX.7374061.root@mp20>

Hello -- I haven't received any respones to my previous post on compiling R2.9.2 for AIX 5.3. Meanwhile, I have looked at the following post by Ei-ji Nakama [http://tolstoy.newcastle.edu.au/R/e4/devel/08/07/2171.html] and it appears that all the changes suggested in the patch are already in R2.9.2 Makefiles.

I have also looked at the documentation under R-Forge/AIX page [http://r-forge.r-project.org/projects/aix/]. That does not seem to help either.

Bottomline, I am trying to compile R2.9.2 on a AIX 5.3 Power5 box with gcc 4.3 and get the following error:

	gcc -maix64 -pthread -std=gnu99 -Wl,-brtl -Wl,-bexpall -Wl,-bpT:0x100000000 -Wl,-bpD:0x110000000 -lc  -L/usr/local/lib -o R.bin Rmain.o -L../../lib -lR -lRblas
ld: 0711-224 WARNING: Duplicate symbol: .memcpy, memcpy, .bcopy, bcopy, .memmove, .memset, memset, .fres, fres
ld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more information.
ld: 0711-317 ERROR: Undefined symbol: R_running_as_main_program

Command used: ./configure --enable-R-shlib --enable-BLAS-shlib --without-iconv ; make > make.log 2>&1

I would really appreciate any help. 

Thanks in advance.


From Jerry.Lewis at BiogenIdec.com  Thu Oct 22 04:20:13 2009
From: Jerry.Lewis at BiogenIdec.com (Jerry.Lewis at BiogenIdec.com)
Date: Thu, 22 Oct 2009 04:20:13 +0200 (CEST)
Subject: [Rd] trigamma for very large arguments (PR#14020)
Message-ID: <20091022022013.87460282EF4F@mail.pubhealth.ku.dk>

Full_Name: Jerry W. Lewis
Version: 2.9.2
OS: Windows XP Professional
Submission from: (NULL) (96.237.55.233)


trigamma(x) returns 0 for x>1e152, yet
  trigamma <- function(x) 1/x
gives machine accuracy for any x>1e16


From maechler at stat.math.ethz.ch  Thu Oct 22 10:42:21 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 22 Oct 2009 10:42:21 +0200
Subject: [Rd] R Updates or Changes in corporate version of R
In-Reply-To: <4ADF5EE3.2060402@openanalytics.be>
References: <4bc14e460910211049g472c8370he7979aaa5020e7fa@mail.gmail.com>
	<4ADF5EE3.2060402@openanalytics.be>
Message-ID: <19168.6893.189393.617667@lynne.math.ethz.ch>

>>>>> "TV" == Tobias Verbeke <tobias.verbeke at openanalytics.be>
>>>>>     on Wed, 21 Oct 2009 21:20:03 +0200 writes:

    TV> Hi,
    >> What is the place to search for *corporate version of R *including
    >> 
    >> 1) GUI
    >> 
    >> 2) Documentation
    >> 
    >> 3) Cloud Computing or HPC

    TV> R is used *as such* in corporate environments all over the world
    TV> and

    TV> 1) it comes with a GUI (on Windows and Mac),
    TV> 2) comes with extensive documentation and
    TV> 3) has facilities for HPC using add-on packages most
    TV> of which are listed here:

    TV> http://cran.r-project.org/web/views/HighPerformanceComputing.html

Indeed!

    TV> That being said there is a diversity of companies
    TV> providing commercial services related to R and
    TV> innumerous initiatives focusing on particular aspects
    TV> which might be useful to "corporate" contexts as well.

    TV> Best,
    TV> Tobias

    TV> P.S. This is IMO not a subject to be discussed on R-devel.

yes, indeed.
Ajay,  you seem to be *the* person on R-devel to regularly
breach R-devel policies.  
Please don't!

Martin Maechler,  ETH Zurich
with hat 'R-devel List Administrator'


From erich.neuwirth at univie.ac.at  Thu Oct 22 13:21:23 2009
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Thu, 22 Oct 2009 13:21:23 +0200
Subject: [Rd] source and textConnection
In-Reply-To: <4ADC37C2.6010506@univie.ac.at>
References: <4ADC37C2.6010506@univie.ac.at>
Message-ID: <4AE04033.7090202@univie.ac.at>

Using todays freshly downloaded compiled version of R-2.10.0 beta
let me pose this question once again:

>> myconn<-textConnection("print(11*11)")
>> source(myconn)
produces
> [1] 121
> Warning message:
> In source(myconn) : argument 'encoding = "native.enc"' will be ignored

So I get a warning about a default parameter value I did not use myself.
This is somewhat strange.
Up to 2.9.2 this warning did not show up,
and 2.9.2 also has the encoding parameter.

source(myconn,encoding="unknown")
does not produce a warning.

Will it remain like this?
I am asking because then I have to adapt a certain mechanism in RExcel.


-- 
Erich Neuwirth, University of Vienna
Faculty of Computer Science
Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-39464 Fax: +43-1-4277-39459


From murdoch at stats.uwo.ca  Thu Oct 22 14:22:31 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 22 Oct 2009 08:22:31 -0400
Subject: [Rd] source and textConnection
In-Reply-To: <4AE04033.7090202@univie.ac.at>
References: <4ADC37C2.6010506@univie.ac.at> <4AE04033.7090202@univie.ac.at>
Message-ID: <4AE04E87.6030908@stats.uwo.ca>

On 10/22/2009 7:21 AM, Erich Neuwirth wrote:
> Using todays freshly downloaded compiled version of R-2.10.0 beta
> let me pose this question once again:
> 
>>> myconn<-textConnection("print(11*11)")
>>> source(myconn)
> produces
>> [1] 121
>> Warning message:
>> In source(myconn) : argument 'encoding = "native.enc"' will be ignored
> 
> So I get a warning about a default parameter value I did not use myself.
> This is somewhat strange.
> Up to 2.9.2 this warning did not show up,
> and 2.9.2 also has the encoding parameter.
> 
> source(myconn,encoding="unknown")
> does not produce a warning.
> 
> Will it remain like this?
> I am asking because then I have to adapt a certain mechanism in RExcel.
> 
> 

I think this is a bug, but it may not be serious enough to fix during 
code freeze, so there's a good chance it will remain in 2.10.0, but 
hopefully not in later releases.

I'll take a look today.

Duncan Murdoch


From nashjc at uottawa.ca  Thu Oct 22 16:53:43 2009
From: nashjc at uottawa.ca (Prof. John C Nash)
Date: Thu, 22 Oct 2009 10:53:43 -0400
Subject: [Rd] Advice on how to arrange fix of buglet
In-Reply-To: <mailman.27.1256205606.4120.r-devel@r-project.org>
References: <mailman.27.1256205606.4120.r-devel@r-project.org>
Message-ID: <4AE071F7.4090108@uottawa.ca>


Recently I reported a small bug in optim's SANN method failing to report 
that it had exceeded the maximum function evaluation limit in the 
convergence code. This is a small enough matter that I was reluctant to 
create a full-blown bug report. Indeed in the optimx package Ravi 
Varadhan and I have been developing on r-forge (under the OptimizeR 
project) it was a minimal work around to fix the matter in our wrapper 
that incorporates optim() and a number of other tools. While I don't 
normally do C code, I could likely figure out a fix for optim too.

My query is about how to best get this done without causing a lot of 
work for others i.e., where to I send patches etc. I expect there are a 
number of similar issues for different areas of R and its documentation, 
and a clarification from someone in the core team could streamline 
things. Maybe the bug system is still the right place?

Cheers, JN


From gavin.koh at gmail.com  Thu Oct 22 15:10:11 2009
From: gavin.koh at gmail.com (gavin.koh at gmail.com)
Date: Thu, 22 Oct 2009 15:10:11 +0200 (CEST)
Subject: [Rd] R quits immediately upon start-up (PR#14021)
Message-ID: <20091022131011.B2FB22831FE4@mail.pubhealth.ku.dk>

Full_Name: Gavin Koh
Version: 2.9.2
OS: OS X Tiger 10.4.11
Submission from: (NULL) (145.117.52.255)


Roughly two weeks ago, it became impossible to start-up R.  The console window
would appear for a fraction of a second and then the programme would exit with
no error message.

The symptoms are not specific and do not specifically point to Mozy being the
culprit.  Users will notice that they are unable to sync their iPhones or
cameras.  They will be unable to print from any application and some programmes
will refuse to uninstall; file sharing cannot be started and you cannot burn
discs.  Stata will run but will not draw graphs or use any other function that
requires creating temporary files.

The problem started in the second week of October and is due to a faulty update
of the popular off-site back-up programme, Mozy. Version 1.5.0 is accidentally
overwriting an hidden symbolic link (./tmp -> private/tmp) which causes the
operating system to seize up.  Because Mozy updates itself silently, most users
will not have noticed the problem only started after the last software update.

This is the fix:
1. Open the Mozy Preferences menu.
2. Change the Temporary Files Location from "Default" to "Custom" and specify
something like "/Applications/Mozy Temp/"
3. Now go to "/Applications/Utilities/Disk Utility.app" and select the hard disk
your operating system is running from.  Tell it to "Repair Disk Permissions"
This will repair the symbolic link that Mozy broke, and should prevent the
problem from re-occurring.

Read these threads on the Apple message boards for more information:
http://discussions.apple.com/thread.jspa?threadID=2193927&start=30&tstart=0
http://discussions.apple.com/thread.jspa?messageID=10440090#10440090

If this solves your problem, please write to customer service at Mozy and give
them hell.  The e-mail address is macsupport at mozy.com


From wdunlap at tibco.com  Thu Oct 22 22:53:53 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Thu, 22 Oct 2009 13:53:53 -0700
Subject: [Rd] Error in link in Rd file stops package installation
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D70001FE3D90@NA-PA-VBE03.na.tibco.com>

With a pretty recent version of R 2.11.0 (devel,unstable,
svn 50178) on Linux I could not install version 1.5-8 of zoo (the
current on on CRAN):

   % R-devel CMD INSTALL -l Rlib3 zoo
   * installing *source* package 'zoo' ...
   ** R
   ** inst
   ** preparing package for lazy loading
   ** help
   *** installing help indices
     converting help for package 'zoo'
       finding HTML links ... done
       MATCH                                   html
       ORDER                                   html
       aggregate.zoo                           html
       as.Date.ts                              html
       as.zoo                                  html
       coredata                                html
       frequency                               html
       index                                   html
       is.regular                              html
       lag.zoo                                 html
   Error: argument is of length zero
   * removing
'/a/seafiler01.na.tibco.com/vol/vol2/users/bill/packages/Rlib3/zoo'

The tryCatch calls in the installer code obliterate
most traces of where this 'argument is of length zero'
comes from.  If I run the install from a directory containing
the .Rprofile file containing the line
   utils::assignInNamespace("tryCatch", function(expr, ...) expr,
ns="base")
then I get:
   ...
       is.regular                              html
       lag.zoo                                 html  Error in if
(nzchar(file)) { :      argument is of length zero
   * removing
'/a/seafiler01.na.tibco.com/vol/vol2/users/bill/packages/Rlib3/zoo'
   * restoring previous
'/a/seafiler01.na.tibco.com/vol/vol2/users/bill/packages/Rlib3/zoo'
and I can grep around for 'if (nzchar(file))'.  (Redefining q() in
.Rprofile to give a traceback can help in the search also.)

After the attached change to Rd2HTML I get
   ...
       index                                   html
       is.regular                              html
       lag.zoo                                 html
   Rd warning: ./man/lag.zoo.Rd:54: missing file link 'diff'
       make.par.list                           html
       merge.zoo                               html
   ...
Line 54 of that help file is
     \seealso{\code{\link{zoo}}, \code{\link[stats]{lag}},
\code{\link[stats]{diff}}}
and I think the [stats]{diff} should be [base]{diff}.

The change I made (which isn't quite right but avoids
mysteriously killing the installation for what turns out
to be a minor error) was

Index: src/library/tools/R/Rd2HTML.R
===================================================================
--- src/library/tools/R/Rd2HTML.R       (revision 50178)
+++ src/library/tools/R/Rd2HTML.R       (working copy)
@@ -305,7 +305,7 @@
                 if (!OK) {
                     ## so how about as a topic?
                     file <- utils:::index.search(parts$targetfile,
pkgpath)
-                    if (nzchar(file)) {
+                    if (length(file)>0 && nzchar(file)) {
                         warnRd(block, Rdfile,
                                "file link ", sQuote(parts$targetfile),
                                " in package ", sQuote(parts$pkg),

A longer range fix would be to print more contextual
information with the error messages from INSTALL.

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com 


From cooch17 at verizon.net  Fri Oct 23 02:12:46 2009
From: cooch17 at verizon.net (Evan Cooch)
Date: Thu, 22 Oct 2009 20:12:46 -0400
Subject: [Rd] Goto memory alignment query...
Message-ID: <4AE0F4FE.9010800@verizon.net>

Several days back, I posted a comment/question from  Kazushige Goto (the 
developer and maintainer of  Goto BLAS) -

"By the way, please ask your R developer to rewrite memory allocation 
function including garbage collection. They give 4 byte offset memory 
region and never perform well (or it will cause segmentation fault. 4 
byte offset is fatal). Since R use complex double precision, memory 
alignment should be at least 16 bytes..."


Goto obviously has thought an awful lot about such things, and 
(apparently) wrt to R (and he is extremely well-known in programming 
circles - you don't write a BLAS unless you know a thing or two).  Since 
a number of R users (like me) make use of Goto BLAS, I'd hope that on 
the devel group could comment/reply.  I'll forward to Goto.


From wdunlap at tibco.com  Fri Oct 23 05:03:02 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Thu, 22 Oct 2009 20:03:02 -0700
Subject: [Rd] Error in link in Rd file stops package installation
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D70001FE3D90@NA-PA-VBE03.na.tibco.com>
References: <77EB52C6DD32BA4D87471DCD70C8D70001FE3D90@NA-PA-VBE03.na.tibco.com>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D70001FE3E74@NA-PA-VBE03.na.tibco.com>

The following patch seems to get the warning message right

    lag.zoo                                 html
Rd warning: ./man/lag.zoo.Rd:54: file link 'diff' in package 'stats'
does not exist and so has been treated as a topic

Index: src/library/tools/R/Rd2HTML.R
===================================================================
--- src/library/tools/R/Rd2HTML.R       (revision 50178)
+++ src/library/tools/R/Rd2HTML.R       (working copy)
@@ -305,7 +305,7 @@
                 if (!OK) {
                     ## so how about as a topic?
                     file <- utils:::index.search(parts$targetfile,
pkgpath)
-                    if (nzchar(file)) {
+                    if (length(file)==0 || nzchar(file)) {
                         warnRd(block, Rdfile,
                                "file link ", sQuote(parts$targetfile),
                                " in package ", sQuote(parts$pkg),

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com  

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of William Dunlap
> Sent: Thursday, October 22, 2009 1:54 PM
> To: R-devel at r-project.org
> Subject: [Rd] Error in link in Rd file stops package installation
> 
> With a pretty recent version of R 2.11.0 (devel,unstable,
> svn 50178) on Linux I could not install version 1.5-8 of zoo (the
> current on on CRAN):
> 
>    % R-devel CMD INSTALL -l Rlib3 zoo
>    * installing *source* package 'zoo' ...
>    ** R
>    ** inst
>    ** preparing package for lazy loading
>    ** help
>    *** installing help indices
>      converting help for package 'zoo'
>        finding HTML links ... done
>        MATCH                                   html
>        ORDER                                   html
>        aggregate.zoo                           html
>        as.Date.ts                              html
>        as.zoo                                  html
>        coredata                                html
>        frequency                               html
>        index                                   html
>        is.regular                              html
>        lag.zoo                                 html
>    Error: argument is of length zero
>    * removing
> '/a/seafiler01.na.tibco.com/vol/vol2/users/bill/packages/Rlib3/zoo'
> 
> The tryCatch calls in the installer code obliterate
> most traces of where this 'argument is of length zero'
> comes from.  If I run the install from a directory containing
> the .Rprofile file containing the line
>    utils::assignInNamespace("tryCatch", function(expr, ...) expr,
> ns="base")
> then I get:
>    ...
>        is.regular                              html
>        lag.zoo                                 html  Error in if
> (nzchar(file)) { :      argument is of length zero
>    * removing
> '/a/seafiler01.na.tibco.com/vol/vol2/users/bill/packages/Rlib3/zoo'
>    * restoring previous
> '/a/seafiler01.na.tibco.com/vol/vol2/users/bill/packages/Rlib3/zoo'
> and I can grep around for 'if (nzchar(file))'.  (Redefining q() in
> .Rprofile to give a traceback can help in the search also.)
> 
> After the attached change to Rd2HTML I get
>    ...
>        index                                   html
>        is.regular                              html
>        lag.zoo                                 html
>    Rd warning: ./man/lag.zoo.Rd:54: missing file link 'diff'
>        make.par.list                           html
>        merge.zoo                               html
>    ...
> Line 54 of that help file is
>      \seealso{\code{\link{zoo}}, \code{\link[stats]{lag}},
> \code{\link[stats]{diff}}}
> and I think the [stats]{diff} should be [base]{diff}.
> 
> The change I made (which isn't quite right but avoids
> mysteriously killing the installation for what turns out
> to be a minor error) was
> 
> Index: src/library/tools/R/Rd2HTML.R
> ===================================================================
> --- src/library/tools/R/Rd2HTML.R       (revision 50178)
> +++ src/library/tools/R/Rd2HTML.R       (working copy)
> @@ -305,7 +305,7 @@
>                  if (!OK) {
>                      ## so how about as a topic?
>                      file <- utils:::index.search(parts$targetfile,
> pkgpath)
> -                    if (nzchar(file)) {
> +                    if (length(file)>0 && nzchar(file)) {
>                          warnRd(block, Rdfile,
>                                 "file link ", 
> sQuote(parts$targetfile),
>                                 " in package ", sQuote(parts$pkg),
> 
> A longer range fix would be to print more contextual
> information with the error messages from INSTALL.
> 
> Bill Dunlap
> Spotfire, TIBCO Software
> wdunlap tibco.com 
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From ross at biostat.ucsf.edu  Fri Oct 23 05:06:59 2009
From: ross at biostat.ucsf.edu (Ross Boylan)
Date: Thu, 22 Oct 2009 20:06:59 -0700
Subject: [Rd] mysteriously persistent generic definition
Message-ID: <1256267219.30505.148.camel@corn.betterworld.us>

Originally I made a function yearStop that took an argument "object".  I
made a generic, but later changed the argument to "x".  R keeps
resurrecting the old definition.  Could anyone explain what is going on,
or how to fix it?  Note particularly the end of the transcript below: I
remove the generic, verify that the symbol is undefined, make a new
function, and then make a generic.  But the generic does not use the
argument of the new function definition.

<quote>
> args(yearStop)
function (obj) 
NULL
> yearStop <- function(x) x at yearStop
> args(yearStop)
function (x) 
NULL
> setGeneric("yearStop")
[1] "yearStop"
> args(yearStop)
function (obj) 
NULL
> removeGeneric("yearStop")
[1] TRUE
> args(yearStop)
Error in args(yearStop) : object "yearStop" not found
> yearStop <- function(x) x at yearStop
> setGeneric("yearStop")
[1] "yearStop"
> args(yearStop)
function (obj) 
NULL
</quote>

R 2.7.1.  I originally read the definitions in from a file with ^c^l in
ESS; however, I typed the commands above by hand.

Thanks.
Ross Boylan


From mtmorgan at fhcrc.org  Fri Oct 23 07:38:55 2009
From: mtmorgan at fhcrc.org (Martin Morgan)
Date: Thu, 22 Oct 2009 22:38:55 -0700
Subject: [Rd] mysteriously persistent generic definition
In-Reply-To: <1256267219.30505.148.camel@corn.betterworld.us>
References: <1256267219.30505.148.camel@corn.betterworld.us>
Message-ID: <4AE1416F.5080806@fhcrc.org>

Ross Boylan wrote:
> Originally I made a function yearStop that took an argument "object".  I
> made a generic, but later changed the argument to "x".  R keeps
> resurrecting the old definition.  Could anyone explain what is going on,
> or how to fix it?  Note particularly the end of the transcript below: I
> remove the generic, verify that the symbol is undefined, make a new
> function, and then make a generic.  But the generic does not use the
> argument of the new function definition.
> 
> <quote>
>> args(yearStop)
> function (obj) 
> NULL
>> yearStop <- function(x) x at yearStop
>> args(yearStop)
> function (x) 
> NULL
>> setGeneric("yearStop")
> [1] "yearStop"
>> args(yearStop)
> function (obj) 
> NULL
>> removeGeneric("yearStop")
> [1] TRUE
>> args(yearStop)
> Error in args(yearStop) : object "yearStop" not found
>> yearStop <- function(x) x at yearStop
>> setGeneric("yearStop")
> [1] "yearStop"
>> args(yearStop)
> function (obj) 
> NULL
> </quote>
> 
> R 2.7.1.  I originally read the definitions in from a file with ^c^l in

I don't see this behavior in R-2.9.2, or in the release candidate.

Martin

> ESS; however, I typed the commands above by hand.
> 
> Thanks.
> Ross Boylan
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


-- 
Martin Morgan
Computational Biology / Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N.
PO Box 19024 Seattle, WA 98109

Location: Arnold Building M1 B861
Phone: (206) 667-2793


From hkawakat at gmail.com  Fri Oct 23 13:30:44 2009
From: hkawakat at gmail.com (Hiroyuki Kawakatsu)
Date: Fri, 23 Oct 2009 12:30:44 +0100
Subject: [Rd] reg-tests-1.R failure with unstable
Message-ID: <307b90470910230430o2724fd99j90a226315b7cfc25@mail.gmail.com>

Hi,

I am getting an error from one of the test files
tests/reg-tests-1.R using the unstable version (r50179).
(i've learned my lessons; this is a clean build.) The tail
of reg-tests-1.Rout.fail is

Loading required package: myTst
building package pkgA ...
installing package pkgA using file pkgA_1.0.tar.gz ...
Error in as.octmode(mode) : invalid digits
Error in install.packages(r, lib = "myLib", repos = NULL, type = "source") :
  (converted from warning) installation of package 'pkgA_1.0.tar.gz'
had non-zero exit status
Execution halted

The error from as.octmode() appears to be coming from R CMD
INSTALL. If I unpack pkgA_1.0.tar.gz, 'R CMD INSTALL pkgA'
from the source tree works fine. However, 'R CMD INSTALL
 pkgA_1.0.tar.gz' returns the error. I am wondering whether
this is specific to my OS (FreeBSD).  Any pointers for
debugging would be appreciated.

h.
-- 
+---
| Hiroyuki Kawakatsu
| Business School, Dublin City University
| Dublin 9, Ireland. Tel +353 (0)1 700 7496


From maechler at stat.math.ethz.ch  Fri Oct 23 14:15:24 2009
From: maechler at stat.math.ethz.ch (maechler at stat.math.ethz.ch)
Date: Fri, 23 Oct 2009 14:15:24 +0200 (CEST)
Subject: [Rd] trigamma for very large arguments (PR#14020)
Message-ID: <20091023121524.CAB732832010@mail.pubhealth.ku.dk>

>>>>> "JL" == Jerry Lewis <Jerry.Lewis at BiogenIdec.com>
>>>>>     on Thu, 22 Oct 2009 04:20:13 +0200 (CEST) writes:

    JL> Full_Name: Jerry W. Lewis
    JL> Version: 2.9.2
    JL> OS: Windows XP Professional
    JL> Submission from: (NULL) (96.237.55.233)


    JL> trigamma(x) returns 0 for x>1e152, yet
    JL> trigamma <- function(x) 1/x
    JL> gives machine accuracy for any x>1e16

Thank you, yes, and the problem is worse for digamma().
I will fix this, but not anymore for R 2.10.0 (we are in code freeze!)

Martin Maechler, ETH Zurich


From murdoch at stats.uwo.ca  Fri Oct 23 14:23:13 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 23 Oct 2009 08:23:13 -0400
Subject: [Rd] Error in link in Rd file stops package installation
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D70001FE3E74@NA-PA-VBE03.na.tibco.com>
References: <77EB52C6DD32BA4D87471DCD70C8D70001FE3D90@NA-PA-VBE03.na.tibco.com>
	<77EB52C6DD32BA4D87471DCD70C8D70001FE3E74@NA-PA-VBE03.na.tibco.com>
Message-ID: <4AE1A031.9020808@stats.uwo.ca>

On 10/22/2009 11:03 PM, William Dunlap wrote:
> The following patch seems to get the warning message right

Thanks, I'll put this in if nobody else gets there first.

Duncan Murdoch


>     lag.zoo                                 html
> Rd warning: ./man/lag.zoo.Rd:54: file link 'diff' in package 'stats'
> does not exist and so has been treated as a topic
> 
> Index: src/library/tools/R/Rd2HTML.R
> ===================================================================
> --- src/library/tools/R/Rd2HTML.R       (revision 50178)
> +++ src/library/tools/R/Rd2HTML.R       (working copy)
> @@ -305,7 +305,7 @@
>                  if (!OK) {
>                      ## so how about as a topic?
>                      file <- utils:::index.search(parts$targetfile,
> pkgpath)
> -                    if (nzchar(file)) {
> +                    if (length(file)==0 || nzchar(file)) {
>                          warnRd(block, Rdfile,
>                                 "file link ", sQuote(parts$targetfile),
>                                 " in package ", sQuote(parts$pkg),
> 
> Bill Dunlap
> Spotfire, TIBCO Software
> wdunlap tibco.com  
> 
>> -----Original Message-----
>> From: r-devel-bounces at r-project.org 
>> [mailto:r-devel-bounces at r-project.org] On Behalf Of William Dunlap
>> Sent: Thursday, October 22, 2009 1:54 PM
>> To: R-devel at r-project.org
>> Subject: [Rd] Error in link in Rd file stops package installation
>> 
>> With a pretty recent version of R 2.11.0 (devel,unstable,
>> svn 50178) on Linux I could not install version 1.5-8 of zoo (the
>> current on on CRAN):
>> 
>>    % R-devel CMD INSTALL -l Rlib3 zoo
>>    * installing *source* package 'zoo' ...
>>    ** R
>>    ** inst
>>    ** preparing package for lazy loading
>>    ** help
>>    *** installing help indices
>>      converting help for package 'zoo'
>>        finding HTML links ... done
>>        MATCH                                   html
>>        ORDER                                   html
>>        aggregate.zoo                           html
>>        as.Date.ts                              html
>>        as.zoo                                  html
>>        coredata                                html
>>        frequency                               html
>>        index                                   html
>>        is.regular                              html
>>        lag.zoo                                 html
>>    Error: argument is of length zero
>>    * removing
>> '/a/seafiler01.na.tibco.com/vol/vol2/users/bill/packages/Rlib3/zoo'
>> 
>> The tryCatch calls in the installer code obliterate
>> most traces of where this 'argument is of length zero'
>> comes from.  If I run the install from a directory containing
>> the .Rprofile file containing the line
>>    utils::assignInNamespace("tryCatch", function(expr, ...) expr,
>> ns="base")
>> then I get:
>>    ...
>>        is.regular                              html
>>        lag.zoo                                 html  Error in if
>> (nzchar(file)) { :      argument is of length zero
>>    * removing
>> '/a/seafiler01.na.tibco.com/vol/vol2/users/bill/packages/Rlib3/zoo'
>>    * restoring previous
>> '/a/seafiler01.na.tibco.com/vol/vol2/users/bill/packages/Rlib3/zoo'
>> and I can grep around for 'if (nzchar(file))'.  (Redefining q() in
>> .Rprofile to give a traceback can help in the search also.)
>> 
>> After the attached change to Rd2HTML I get
>>    ...
>>        index                                   html
>>        is.regular                              html
>>        lag.zoo                                 html
>>    Rd warning: ./man/lag.zoo.Rd:54: missing file link 'diff'
>>        make.par.list                           html
>>        merge.zoo                               html
>>    ...
>> Line 54 of that help file is
>>      \seealso{\code{\link{zoo}}, \code{\link[stats]{lag}},
>> \code{\link[stats]{diff}}}
>> and I think the [stats]{diff} should be [base]{diff}.
>> 
>> The change I made (which isn't quite right but avoids
>> mysteriously killing the installation for what turns out
>> to be a minor error) was
>> 
>> Index: src/library/tools/R/Rd2HTML.R
>> ===================================================================
>> --- src/library/tools/R/Rd2HTML.R       (revision 50178)
>> +++ src/library/tools/R/Rd2HTML.R       (working copy)
>> @@ -305,7 +305,7 @@
>>                  if (!OK) {
>>                      ## so how about as a topic?
>>                      file <- utils:::index.search(parts$targetfile,
>> pkgpath)
>> -                    if (nzchar(file)) {
>> +                    if (length(file)>0 && nzchar(file)) {
>>                          warnRd(block, Rdfile,
>>                                 "file link ", 
>> sQuote(parts$targetfile),
>>                                 " in package ", sQuote(parts$pkg),
>> 
>> A longer range fix would be to print more contextual
>> information with the error messages from INSTALL.
>> 
>> Bill Dunlap
>> Spotfire, TIBCO Software
>> wdunlap tibco.com 
>> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Fri Oct 23 14:27:06 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 23 Oct 2009 08:27:06 -0400
Subject: [Rd] source and textConnection
In-Reply-To: <4AE04033.7090202@univie.ac.at>
References: <4ADC37C2.6010506@univie.ac.at> <4AE04033.7090202@univie.ac.at>
Message-ID: <4AE1A11A.2040508@stats.uwo.ca>

On 10/22/2009 7:21 AM, Erich Neuwirth wrote:
> Using todays freshly downloaded compiled version of R-2.10.0 beta
> let me pose this question once again:
> 
>>> myconn<-textConnection("print(11*11)")
>>> source(myconn)
> produces
>> [1] 121
>> Warning message:
>> In source(myconn) : argument 'encoding = "native.enc"' will be ignored
> 
> So I get a warning about a default parameter value I did not use myself.
> This is somewhat strange.
> Up to 2.9.2 this warning did not show up,
> and 2.9.2 also has the encoding parameter.
> 
> source(myconn,encoding="unknown")
> does not produce a warning.
> 
> Will it remain like this?
> I am asking because then I have to adapt a certain mechanism in RExcel.
> 
> 

I spent a little time looking into this yesterday, and it appears to 
have shown up quite a while ago (it was there in July builds, for 
instance).  I will eventually track it down, but certainly not for 2.10.0.

Generally bugs are easier to find when they're fresh, which is why we 
ask people to try out the R-devel builds.  In this case, it's obvious 
how to fix the bug, but I'd rather not do that until I see what the 
change that caused it was intended to do:  I don't want to undo that.

Duncan Murdoch


From abhibera at gmail.com  Fri Oct 23 15:39:53 2009
From: abhibera at gmail.com (Abhijit Bera)
Date: Fri, 23 Oct 2009 18:39:53 +0500
Subject: [Rd] Confusion regarding allocating Matrices.
Message-ID: <fc212e850910230639r5038f080hd1aad609064cf5b2@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091023/5fa0e499/attachment.pl>

From bates at stat.wisc.edu  Fri Oct 23 16:23:06 2009
From: bates at stat.wisc.edu (Douglas Bates)
Date: Fri, 23 Oct 2009 09:23:06 -0500
Subject: [Rd] Confusion regarding allocating Matrices.
In-Reply-To: <fc212e850910230639r5038f080hd1aad609064cf5b2@mail.gmail.com>
References: <fc212e850910230639r5038f080hd1aad609064cf5b2@mail.gmail.com>
Message-ID: <40e66e0b0910230723n1cfca327kd8d9ba1127ae46f1@mail.gmail.com>

On Fri, Oct 23, 2009 at 8:39 AM, Abhijit Bera <abhibera at gmail.com> wrote:
> Hi
>
> I'm having slight confusion.

Indeed.

> I plan to grow/realloc a matrix depending on the data available in a C
> program.

> Here is what I'm tried to do:

> Data=allocMatrix(REALSXP,3,4);
> SEXP Data;

Those lines should be in the other order, shouldn't they?

Also, you need to PROTECT Data or bad things will happen.

> REAL(Data)[8]=0.001123;
> REAL(Data)[200000]=0.001125;
> printf("%f %f\n\n\n\n",REAL(Data)[8],REAL(Data)[200000]);

> Here is my confusion:

> Do I always require to allocate the exact number of data elements in a R
> Matrix?

Yes.

> In the above code segment I have clearly exceeded the number of
> elements that have been allocated but my program doesn't crash.

Remember that when programming in C you have a lot of rope with which
to hang yourself.   You have corrupted a memory location beyond that
allocated to the array but nothing bad has happened  - yet.

> I don't find any specific R functions for reallocation incase my data set
> grows. How do I reallocate?

You allocate a new matrix, copy the contents of the current matrix to
the new matrix, then release the old one.  It gets tricky in that you
should unprotect the old one and protect the new one but you need to
watch the order of those operations.

This approach is not a very good one.  If you really need to grow an
array it is better to allocate and reallocate the memory within your C
code using calloc and realloc then, at the end of the calculations,
allocate an R matrix and copy the results over.

Also, you haven't said whether you are growing the matrix by row or by
column or both.  If you are adding rows then you can't just reallocate
storage because R stores matrices in column-major order. The positions
of the elements in a matrix with n+1 rows are different from those in
a matrix with n rows.

> Is it necessary to reallocate or is R handling
> the memory management for the matrix that I have allocated?
>
> Regards
>
> Abhijit Bera
>
> ? ? ? ?[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From bates at stat.wisc.edu  Fri Oct 23 16:27:01 2009
From: bates at stat.wisc.edu (Douglas Bates)
Date: Fri, 23 Oct 2009 09:27:01 -0500
Subject: [Rd] Confusion regarding allocating Matrices.
In-Reply-To: <40e66e0b0910230723n1cfca327kd8d9ba1127ae46f1@mail.gmail.com>
References: <fc212e850910230639r5038f080hd1aad609064cf5b2@mail.gmail.com>
	<40e66e0b0910230723n1cfca327kd8d9ba1127ae46f1@mail.gmail.com>
Message-ID: <40e66e0b0910230727y4e1c5722p6989ec3e124af534@mail.gmail.com>

On Fri, Oct 23, 2009 at 9:23 AM, Douglas Bates <bates at stat.wisc.edu> wrote:
> On Fri, Oct 23, 2009 at 8:39 AM, Abhijit Bera <abhibera at gmail.com> wrote:
>> Hi
>>
>> I'm having slight confusion.
>
> Indeed.
>
>> I plan to grow/realloc a matrix depending on the data available in a C
>> program.
>
>> Here is what I'm tried to do:
>
>> Data=allocMatrix(REALSXP,3,4);
>> SEXP Data;
>
> Those lines should be in the other order, shouldn't they?
>
> Also, you need to PROTECT Data or bad things will happen.
>
>> REAL(Data)[8]=0.001123;
>> REAL(Data)[200000]=0.001125;
>> printf("%f %f\n\n\n\n",REAL(Data)[8],REAL(Data)[200000]);

And I forgot to mention, it is not a good idea to write REAL(Data)
many times like this.  REAL is a function, not a macro and you are
calling the same function over and over again unnecessarily.  It is
better to write

double *dat = REAL(Data);

and use the dat pointer instead of REAL(Data).

>> Here is my confusion:
>
>> Do I always require to allocate the exact number of data elements in a R
>> Matrix?
>
> Yes.
>
>> In the above code segment I have clearly exceeded the number of
>> elements that have been allocated but my program doesn't crash.
>
> Remember that when programming in C you have a lot of rope with which
> to hang yourself. ? You have corrupted a memory location beyond that
> allocated to the array but nothing bad has happened ?- yet.
>
>> I don't find any specific R functions for reallocation incase my data set
>> grows. How do I reallocate?
>
> You allocate a new matrix, copy the contents of the current matrix to
> the new matrix, then release the old one. ?It gets tricky in that you
> should unprotect the old one and protect the new one but you need to
> watch the order of those operations.
>
> This approach is not a very good one. ?If you really need to grow an
> array it is better to allocate and reallocate the memory within your C
> code using calloc and realloc then, at the end of the calculations,
> allocate an R matrix and copy the results over.
>
> Also, you haven't said whether you are growing the matrix by row or by
> column or both. ?If you are adding rows then you can't just reallocate
> storage because R stores matrices in column-major order. The positions
> of the elements in a matrix with n+1 rows are different from those in
> a matrix with n rows.
>
>> Is it necessary to reallocate or is R handling
>> the memory management for the matrix that I have allocated?
>>
>> Regards
>>
>> Abhijit Bera
>>
>> ? ? ? ?[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>


From jerry.lewis at biogenidec.com  Fri Oct 23 05:55:26 2009
From: jerry.lewis at biogenidec.com (jerry.lewis at biogenidec.com)
Date: Fri, 23 Oct 2009 05:55:26 +0200 (CEST)
Subject: [Rd] (PR#14020) trigamma for very large arguments
Message-ID: <20091023035526.D5C0D282EF3D@mail.pubhealth.ku.dk>

More generally, the accuracy and working range of psigamma(x,deriv) can be 
improved by having it return the leading term of the asymptotic expansion
  (-1)^(deriv-1)*factorial(deriv-1)/x^deriv
whenever deriv>=1 and x>=1e15
	[[alternative HTML version deleted]]


From murdoch at stats.uwo.ca  Fri Oct 23 20:57:03 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 23 Oct 2009 14:57:03 -0400
Subject: [Rd] source and textConnection
In-Reply-To: <4AE1A11A.2040508@stats.uwo.ca>
References: <4ADC37C2.6010506@univie.ac.at> <4AE04033.7090202@univie.ac.at>
	<4AE1A11A.2040508@stats.uwo.ca>
Message-ID: <4AE1FC7F.5010601@stats.uwo.ca>

On 10/23/2009 8:27 AM, Duncan Murdoch wrote:
> On 10/22/2009 7:21 AM, Erich Neuwirth wrote:
>> Using todays freshly downloaded compiled version of R-2.10.0 beta
>> let me pose this question once again:
>> 
>>>> myconn<-textConnection("print(11*11)")
>>>> source(myconn)
>> produces
>>> [1] 121
>>> Warning message:
>>> In source(myconn) : argument 'encoding = "native.enc"' will be ignored
>> 
>> So I get a warning about a default parameter value I did not use myself.
>> This is somewhat strange.
>> Up to 2.9.2 this warning did not show up,
>> and 2.9.2 also has the encoding parameter.
>> 
>> source(myconn,encoding="unknown")
>> does not produce a warning.
>> 
>> Will it remain like this?
>> I am asking because then I have to adapt a certain mechanism in RExcel.
>> 
>> 
> 
> I spent a little time looking into this yesterday, and it appears to 
> have shown up quite a while ago (it was there in July builds, for 
> instance).  I will eventually track it down, but certainly not for 2.10.0.

Nothing is certain.  I found that this warning came from something I 
introduced in May; it appears to me to be in the class of trivial bugs 
that the development guidelines allow to be fixed now.  So I've 
committed the change to the 2.10.0 branch.

Duncan Murdoch

> 
> Generally bugs are easier to find when they're fresh, which is why we 
> ask people to try out the R-devel builds.  In this case, it's obvious 
> how to fix the bug, but I'd rather not do that until I see what the 
> change that caused it was intended to do:  I don't want to undo that.
> 
> Duncan Murdoch
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From abhibera at gmail.com  Fri Oct 23 21:02:58 2009
From: abhibera at gmail.com (Abhijit Bera)
Date: Sat, 24 Oct 2009 00:02:58 +0500
Subject: [Rd] Confusion regarding allocating Matrices.
In-Reply-To: <40e66e0b0910230727y4e1c5722p6989ec3e124af534@mail.gmail.com>
References: <fc212e850910230639r5038f080hd1aad609064cf5b2@mail.gmail.com>
	<40e66e0b0910230723n1cfca327kd8d9ba1127ae46f1@mail.gmail.com>
	<40e66e0b0910230727y4e1c5722p6989ec3e124af534@mail.gmail.com>
Message-ID: <fc212e850910231202h36f9cb22u1baf2523f61ea274@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091024/43e7d6b3/attachment.pl>

From ligges at statistik.tu-dortmund.de  Sat Oct 24 18:49:05 2009
From: ligges at statistik.tu-dortmund.de (Uwe Ligges)
Date: Sat, 24 Oct 2009 18:49:05 +0200
Subject: [Rd] Advice on how to arrange fix of buglet
In-Reply-To: <4AE071F7.4090108@uottawa.ca>
References: <mailman.27.1256205606.4120.r-devel@r-project.org>
	<4AE071F7.4090108@uottawa.ca>
Message-ID: <4AE33001.30201@statistik.tu-dortmund.de>

John,

I guess it is time to file a bug report given it has not been done so 
far and noody found the time to look at ir so far.

Thanks,
Uwe


Prof. John C Nash wrote:
> 
> Recently I reported a small bug in optim's SANN method failing to report 
> that it had exceeded the maximum function evaluation limit in the 
> convergence code. This is a small enough matter that I was reluctant to 
> create a full-blown bug report. Indeed in the optimx package Ravi 
> Varadhan and I have been developing on r-forge (under the OptimizeR 
> project) it was a minimal work around to fix the matter in our wrapper 
> that incorporates optim() and a number of other tools. While I don't 
> normally do C code, I could likely figure out a fix for optim too.
> 
> My query is about how to best get this done without causing a lot of 
> work for others i.e., where to I send patches etc. I expect there are a 
> number of similar issues for different areas of R and its documentation, 
> and a clarification from someone in the core team could streamline 
> things. Maybe the bug system is still the right place?
> 
> Cheers, JN
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From bates at stat.wisc.edu  Sat Oct 24 19:06:14 2009
From: bates at stat.wisc.edu (Douglas Bates)
Date: Sat, 24 Oct 2009 12:06:14 -0500
Subject: [Rd] Confusion regarding allocating Matrices.
In-Reply-To: <fc212e850910231202h36f9cb22u1baf2523f61ea274@mail.gmail.com>
References: <fc212e850910230639r5038f080hd1aad609064cf5b2@mail.gmail.com>
	<40e66e0b0910230723n1cfca327kd8d9ba1127ae46f1@mail.gmail.com>
	<40e66e0b0910230727y4e1c5722p6989ec3e124af534@mail.gmail.com>
	<fc212e850910231202h36f9cb22u1baf2523f61ea274@mail.gmail.com>
Message-ID: <40e66e0b0910241006m2e52bd87m765cee190ac5e540@mail.gmail.com>

On Fri, Oct 23, 2009 at 2:02 PM, Abhijit Bera <abhibera at gmail.com> wrote:
> Sorry, I made a mistake while writing the code. The declaration of Data
> should have been first.

> I still have some doubts:

Because you are making some sweeping and incorrect assumptions about
the way that the internals of R operate.  R allows for arrays to be
dynamically resized but this is accomplished internally by allocating
new storage, copying the current contents to this new location and
installing the values of the new elements.  It is an expensive
operation, which is why it is discouraged.

Your design is deeply flawed.  Go back to the drawing board.

> When you say calloc and realloc are you talking about R's C interface Calloc
> and Realloc or the regular calloc and realloc?

Either one.

> I want to feed data directly into a R matrix and grow it as required. So at
> one time I might have 100 rows coming in from a data source. The next time I
> might have 200 rows coming in from a data source. I want to be able to
> expand the R-matrix instead of creating a regular C float matrix and then
> make an R-matrix based on the new size. I just want to have one R object and
> be able to expand it's size dynamically.

R stores floating-point numbers as the C data type double, not float.
It may seem pedantic to point out distinctions like that but not when
you are writing programs.  Compilers are the ultimate pedants - they
are real sticklers for getting the details right.

As I said, it just doesn't work the way that you think it does.  The
fact that there is an R object with a certain name before and after an
operation doesn't mean it is the same R object.

> I was reading the language specs. It says that one could declare an object
> in R like this:
>
> m=matrix(nrows=10,ncols=10)
>
> and then one could assign
>
> m[101]=1.00
>
> to expand the object.
>
> but this has one problem when I do a
>
> dim(m)
>
> I get
>
> NULL instead of 10 10
>
> So what is happening here?
>
>
> I am aware that R matrices are stored in column major order.
>
> Thanks for the tip on using float *dat= REAL(Data);
>
> Regards
>
> Abhijit Bera
>
>
>
> On Fri, Oct 23, 2009 at 7:27 PM, Douglas Bates <bates at stat.wisc.edu> wrote:
>>
>> On Fri, Oct 23, 2009 at 9:23 AM, Douglas Bates <bates at stat.wisc.edu>
>> wrote:
>> > On Fri, Oct 23, 2009 at 8:39 AM, Abhijit Bera <abhibera at gmail.com>
>> > wrote:
>> >> Hi
>> >>
>> >> I'm having slight confusion.
>> >
>> > Indeed.
>> >
>> >> I plan to grow/realloc a matrix depending on the data available in a C
>> >> program.
>> >
>> >> Here is what I'm tried to do:
>> >
>> >> Data=allocMatrix(REALSXP,3,4);
>> >> SEXP Data;
>> >
>> > Those lines should be in the other order, shouldn't they?
>> >
>> > Also, you need to PROTECT Data or bad things will happen.
>> >
>> >> REAL(Data)[8]=0.001123;
>> >> REAL(Data)[200000]=0.001125;
>> >> printf("%f %f\n\n\n\n",REAL(Data)[8],REAL(Data)[200000]);
>>
>> And I forgot to mention, it is not a good idea to write REAL(Data)
>> many times like this. ?REAL is a function, not a macro and you are
>> calling the same function over and over again unnecessarily. ?It is
>> better to write
>>
>> double *dat = REAL(Data);
>>
>> and use the dat pointer instead of REAL(Data).
>>
>> >> Here is my confusion:
>> >
>> >> Do I always require to allocate the exact number of data elements in a
>> >> R
>> >> Matrix?
>> >
>> > Yes.
>> >
>> >> In the above code segment I have clearly exceeded the number of
>> >> elements that have been allocated but my program doesn't crash.
>> >
>> > Remember that when programming in C you have a lot of rope with which
>> > to hang yourself. ? You have corrupted a memory location beyond that
>> > allocated to the array but nothing bad has happened ?- yet.
>> >
>> >> I don't find any specific R functions for reallocation incase my data
>> >> set
>> >> grows. How do I reallocate?
>> >
>> > You allocate a new matrix, copy the contents of the current matrix to
>> > the new matrix, then release the old one. ?It gets tricky in that you
>> > should unprotect the old one and protect the new one but you need to
>> > watch the order of those operations.
>> >
>> > This approach is not a very good one. ?If you really need to grow an
>> > array it is better to allocate and reallocate the memory within your C
>> > code using calloc and realloc then, at the end of the calculations,
>> > allocate an R matrix and copy the results over.
>> >
>> > Also, you haven't said whether you are growing the matrix by row or by
>> > column or both. ?If you are adding rows then you can't just reallocate
>> > storage because R stores matrices in column-major order. The positions
>> > of the elements in a matrix with n+1 rows are different from those in
>> > a matrix with n rows.
>> >
>> >> Is it necessary to reallocate or is R handling
>> >> the memory management for the matrix that I have allocated?
>> >>
>> >> Regards
>> >>
>> >> Abhijit Bera
>> >>
>> >> ? ? ? ?[[alternative HTML version deleted]]
>> >>
>> >> ______________________________________________
>> >> R-devel at r-project.org mailing list
>> >> https://stat.ethz.ch/mailman/listinfo/r-devel
>> >>
>> >
>
>


From abhibera at gmail.com  Sat Oct 24 20:58:43 2009
From: abhibera at gmail.com (Abhijit Bera)
Date: Sat, 24 Oct 2009 23:58:43 +0500
Subject: [Rd] Confusion regarding allocating Matrices.
In-Reply-To: <40e66e0b0910241006m2e52bd87m765cee190ac5e540@mail.gmail.com>
References: <fc212e850910230639r5038f080hd1aad609064cf5b2@mail.gmail.com>
	<40e66e0b0910230723n1cfca327kd8d9ba1127ae46f1@mail.gmail.com>
	<40e66e0b0910230727y4e1c5722p6989ec3e124af534@mail.gmail.com>
	<fc212e850910231202h36f9cb22u1baf2523f61ea274@mail.gmail.com>
	<40e66e0b0910241006m2e52bd87m765cee190ac5e540@mail.gmail.com>
Message-ID: <fc212e850910241158paee302csc5a75755d8efb56c@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091024/53fad222/attachment.pl>

From simon.urbanek at r-project.org  Sat Oct 24 23:25:46 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 24 Oct 2009 17:25:46 -0400
Subject: [Rd] Confusion regarding allocating Matrices.
In-Reply-To: <fc212e850910241158paee302csc5a75755d8efb56c@mail.gmail.com>
References: <fc212e850910230639r5038f080hd1aad609064cf5b2@mail.gmail.com>
	<40e66e0b0910230723n1cfca327kd8d9ba1127ae46f1@mail.gmail.com>
	<40e66e0b0910230727y4e1c5722p6989ec3e124af534@mail.gmail.com>
	<fc212e850910231202h36f9cb22u1baf2523f61ea274@mail.gmail.com>
	<40e66e0b0910241006m2e52bd87m765cee190ac5e540@mail.gmail.com>
	<fc212e850910241158paee302csc5a75755d8efb56c@mail.gmail.com>
Message-ID: <43D5C158-E52F-44AF-8C75-94610F193C8B@r-project.org>


On Oct 24, 2009, at 2:58 PM, Abhijit Bera wrote:

> Ok I get it. So everytime it does a alloc and copy.
>
> I haven't finished the design yet. I'm just thinking about how  
> randomly the data might arrive; its real time data. So I will  
> allocate a large chunk of memory and keep track of when it fills up,  
> once the data exceeds I will alloc and copy the data (provided the  
> size is  within system limits). In this manner I should be able to  
> reduce the number of expensive operations of allocing and copying.
>

Many smart people have thought about those things before you, it's  
worthwhile to read about it --- I would suggest reading a bit about  
data structures and programming in C. What you describe is usually  
tackled by a allocating additional (usually linked) buffers as you go  
since that means you don't have to copy anything (except for that last  
step where you create the R object). It's also very trivial to  
implement.

Cheers,
Simon


>
>
> Abhijit Bera
>
> On Sat, Oct 24, 2009 at 10:06 PM, Douglas Bates  
> <bates at stat.wisc.edu> wrote:
>
>> On Fri, Oct 23, 2009 at 2:02 PM, Abhijit Bera <abhibera at gmail.com>  
>> wrote:
>>> Sorry, I made a mistake while writing the code. The declaration of  
>>> Data
>>> should have been first.
>>
>>> I still have some doubts:
>>
>> Because you are making some sweeping and incorrect assumptions about
>> the way that the internals of R operate.  R allows for arrays to be
>> dynamically resized but this is accomplished internally by allocating
>> new storage, copying the current contents to this new location and
>> installing the values of the new elements.  It is an expensive
>> operation, which is why it is discouraged.
>>
>> Your design is deeply flawed.  Go back to the drawing board.
>>
>
>
>
>>> When you say calloc and realloc are you talking about R's C  
>>> interface
>> Calloc
>>> and Realloc or the regular calloc and realloc?
>>
>> Either one.
>>
>>> I want to feed data directly into a R matrix and grow it as  
>>> required. So
>> at
>>> one time I might have 100 rows coming in from a data source. The  
>>> next
>> time I
>>> might have 200 rows coming in from a data source. I want to be  
>>> able to
>>> expand the R-matrix instead of creating a regular C float matrix  
>>> and then
>>> make an R-matrix based on the new size. I just want to have one R  
>>> object
>> and
>>> be able to expand it's size dynamically.
>>
>> R stores floating-point numbers as the C data type double, not float.
>> It may seem pedantic to point out distinctions like that but not when
>> you are writing programs.  Compilers are the ultimate pedants - they
>> are real sticklers for getting the details right.
>>
>> As I said, it just doesn't work the way that you think it does.  The
>> fact that there is an R object with a certain name before and after  
>> an
>> operation doesn't mean it is the same R object.
>>
>>> I was reading the language specs. It says that one could declare an
>> object
>>> in R like this:
>>>
>>> m=matrix(nrows=10,ncols=10)
>>>
>>> and then one could assign
>>>
>>> m[101]=1.00
>>>
>>> to expand the object.
>>>
>>> but this has one problem when I do a
>>>
>>> dim(m)
>>>
>>> I get
>>>
>>> NULL instead of 10 10
>>>
>>> So what is happening here?
>>>
>>>
>>> I am aware that R matrices are stored in column major order.
>>>
>>> Thanks for the tip on using float *dat= REAL(Data);
>>>
>>> Regards
>>>
>>> Abhijit Bera
>>>
>>>
>>>
>>> On Fri, Oct 23, 2009 at 7:27 PM, Douglas Bates <bates at stat.wisc.edu>
>> wrote:
>>>>
>>>> On Fri, Oct 23, 2009 at 9:23 AM, Douglas Bates  
>>>> <bates at stat.wisc.edu>
>>>> wrote:
>>>>> On Fri, Oct 23, 2009 at 8:39 AM, Abhijit Bera <abhibera at gmail.com>
>>>>> wrote:
>>>>>> Hi
>>>>>>
>>>>>> I'm having slight confusion.
>>>>>
>>>>> Indeed.
>>>>>
>>>>>> I plan to grow/realloc a matrix depending on the data available  
>>>>>> in a
>> C
>>>>>> program.
>>>>>
>>>>>> Here is what I'm tried to do:
>>>>>
>>>>>> Data=allocMatrix(REALSXP,3,4);
>>>>>> SEXP Data;
>>>>>
>>>>> Those lines should be in the other order, shouldn't they?
>>>>>
>>>>> Also, you need to PROTECT Data or bad things will happen.
>>>>>
>>>>>> REAL(Data)[8]=0.001123;
>>>>>> REAL(Data)[200000]=0.001125;
>>>>>> printf("%f %f\n\n\n\n",REAL(Data)[8],REAL(Data)[200000]);
>>>>
>>>> And I forgot to mention, it is not a good idea to write REAL(Data)
>>>> many times like this.  REAL is a function, not a macro and you are
>>>> calling the same function over and over again unnecessarily.  It is
>>>> better to write
>>>>
>>>> double *dat = REAL(Data);
>>>>
>>>> and use the dat pointer instead of REAL(Data).
>>>>
>>>>>> Here is my confusion:
>>>>>
>>>>>> Do I always require to allocate the exact number of data  
>>>>>> elements in
>> a
>>>>>> R
>>>>>> Matrix?
>>>>>
>>>>> Yes.
>>>>>
>>>>>> In the above code segment I have clearly exceeded the number of
>>>>>> elements that have been allocated but my program doesn't crash.
>>>>>
>>>>> Remember that when programming in C you have a lot of rope with  
>>>>> which
>>>>> to hang yourself.   You have corrupted a memory location beyond  
>>>>> that
>>>>> allocated to the array but nothing bad has happened  - yet.
>>>>>
>>>>>> I don't find any specific R functions for reallocation incase  
>>>>>> my data
>>>>>> set
>>>>>> grows. How do I reallocate?
>>>>>
>>>>> You allocate a new matrix, copy the contents of the current  
>>>>> matrix to
>>>>> the new matrix, then release the old one.  It gets tricky in  
>>>>> that you
>>>>> should unprotect the old one and protect the new one but you  
>>>>> need to
>>>>> watch the order of those operations.
>>>>>
>>>>> This approach is not a very good one.  If you really need to  
>>>>> grow an
>>>>> array it is better to allocate and reallocate the memory within  
>>>>> your C
>>>>> code using calloc and realloc then, at the end of the  
>>>>> calculations,
>>>>> allocate an R matrix and copy the results over.
>>>>>
>>>>> Also, you haven't said whether you are growing the matrix by row  
>>>>> or by
>>>>> column or both.  If you are adding rows then you can't just  
>>>>> reallocate
>>>>> storage because R stores matrices in column-major order. The  
>>>>> positions
>>>>> of the elements in a matrix with n+1 rows are different from  
>>>>> those in
>>>>> a matrix with n rows.
>>>>>
>>>>>> Is it necessary to reallocate or is R handling
>>>>>> the memory management for the matrix that I have allocated?
>>>>>>
>>>>>> Regards
>>>>>>
>>>>>> Abhijit Bera
>>>>>>
>>>>>>       [[alternative HTML version deleted]]
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-devel at r-project.org mailing list
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>>>>>
>>>>>
>>>
>>>
>>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From ehlers at ucalgary.ca  Sat Oct 24 23:54:32 2009
From: ehlers at ucalgary.ca (Peter Ehlers)
Date: Sat, 24 Oct 2009 15:54:32 -0600
Subject: [Rd] names drop for columns from data.frame (PR#14002)
In-Reply-To: <20091012183016.2AB77282EF3D@mail.pubhealth.ku.dk>
References: <20091012183016.2AB77282EF3D@mail.pubhealth.ku.dk>
Message-ID: <4AE37798.8010308@ucalgary.ca>

Have you tried names(a[,1,drop=FALSE])?
Then have a look at help("[").

-Peter

veraf at clemson.edu wrote:
> Full_Name: Francisco Vera
> Version: 2.9.2
> OS: Windows
> Submission from: (NULL) (74.248.242.164)
> 
> 
> Run the following commands:
> 
> a<-data.frame(x=1:2,y=3:4,row.names=c("i","j"))
> names(a$x)
> names(a[,1])
> 
> For names(a$x) I get NULL instead of c("i","j"). Same thing happens with
> names(a[,1]). It works fine for rows, i.e., names(a[1,]) gives what is supposed
> to.
> 
> It also works fine for matrices. If you issue the commands
> b<-matrix(1:4,ncol=2,dimnames=list(c("x","y"),c("i","j")))
> names(b[,1])
> names(b[1,])
> 
> Thanks
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Peter Ehlers
University of Calgary


From hkawakat at gmail.com  Sun Oct 25 10:33:05 2009
From: hkawakat at gmail.com (Hiroyuki Kawakatsu)
Date: Sun, 25 Oct 2009 09:33:05 +0000
Subject: [Rd] reg-tests-1.R failure with unstable
In-Reply-To: <307b90470910230430o2724fd99j90a226315b7cfc25@mail.gmail.com>
References: <307b90470910230430o2724fd99j90a226315b7cfc25@mail.gmail.com>
Message-ID: <307b90470910250233o1ff0934bl8a4ba7b673420c86@mail.gmail.com>

On Fri, Oct 23, 2009, Hiroyuki Kawakatsu wrote:
> Hi,
>
> I am getting an error from one of the test files
> tests/reg-tests-1.R using the unstable version (r50179).
> (i've learned my lessons; this is a clean build.) The tail
> of reg-tests-1.Rout.fail is
>
> Loading required package: myTst
> building package pkgA ...
> installing package pkgA using file pkgA_1.0.tar.gz ...
> Error in as.octmode(mode) : invalid digits
> Error in install.packages(r, lib = "myLib", repos = NULL, type = "source") :
> ?(converted from warning) installation of package 'pkgA_1.0.tar.gz'
> had non-zero exit status
> Execution halted
[...]

I think I have tracked this down to the following line in utils:::untar2()
        mode <- rawToChar(block[101:107])
mode contains a trailing space as in "000755 " which causes the invalid
digits error in as.octmode(). If I change the line to
        mode <- rawToChar(block[101:106])
untar2("pkgA_1.0.tar.gz") unpacks the test package but I, of course,
do not know whether this is a general fix.

Am I the only one seeing this problem (FreeBSD 9.0-CURRENT)?

h.
-- 
+---
| Hiroyuki Kawakatsu
| Business School, Dublin City University
| Dublin 9, Ireland. Tel +353 (0)1 700 7496


From p.dalgaard at biostat.ku.dk  Sun Oct 25 11:32:53 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sun, 25 Oct 2009 11:32:53 +0100
Subject: [Rd] reg-tests-1.R failure with unstable
In-Reply-To: <307b90470910250233o1ff0934bl8a4ba7b673420c86@mail.gmail.com>
References: <307b90470910230430o2724fd99j90a226315b7cfc25@mail.gmail.com>
	<307b90470910250233o1ff0934bl8a4ba7b673420c86@mail.gmail.com>
Message-ID: <4AE42955.6060705@biostat.ku.dk>

Hiroyuki Kawakatsu wrote:
> On Fri, Oct 23, 2009, Hiroyuki Kawakatsu wrote:
>> Hi,
>>
>> I am getting an error from one of the test files
>> tests/reg-tests-1.R using the unstable version (r50179).
>> (i've learned my lessons; this is a clean build.) The tail
>> of reg-tests-1.Rout.fail is
>>
>> Loading required package: myTst
>> building package pkgA ...
>> installing package pkgA using file pkgA_1.0.tar.gz ...
>> Error in as.octmode(mode) : invalid digits
>> Error in install.packages(r, lib = "myLib", repos = NULL, type = "source") :
>>  (converted from warning) installation of package 'pkgA_1.0.tar.gz'
>> had non-zero exit status
>> Execution halted
> [...]
> 
> I think I have tracked this down to the following line in utils:::untar2()
>         mode <- rawToChar(block[101:107])
> mode contains a trailing space as in "000755 " which causes the invalid
> digits error in as.octmode(). If I change the line to
>         mode <- rawToChar(block[101:106])
> untar2("pkgA_1.0.tar.gz") unpacks the test package but I, of course,
> do not know whether this is a general fix.
> 
> Am I the only one seeing this problem (FreeBSD 9.0-CURRENT)?
> 
> h.

But where does the as.octmode come from?? Conversions inside untar2 
appear to be using getOct which explicitly handles spaces.

The current SVN does run reg-tests-1.R for me. (It breaks on 
reg-tests-3.R, but that's a different issue.)




-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From hiroyuki.kawakatsu at dcu.ie  Sun Oct 25 12:31:19 2009
From: hiroyuki.kawakatsu at dcu.ie (Hiroyuki Kawakatsu)
Date: Sun, 25 Oct 2009 11:31:19 +0000
Subject: [Rd] reg-tests-1.R failure with unstable
In-Reply-To: <4AE42955.6060705@biostat.ku.dk>
References: <307b90470910230430o2724fd99j90a226315b7cfc25@mail.gmail.com>
	<307b90470910250233o1ff0934bl8a4ba7b673420c86@mail.gmail.com>
	<4AE42955.6060705@biostat.ku.dk>
Message-ID: <307b90470910250431q66b40942x74570bed7f1ff4cf@mail.gmail.com>

On Sun, Oct 25, 2009 at 10:32 AM, Peter Dalgaard wrote:
[...]
>>
>> I think I have tracked this down to the following line in utils:::untar2()
>> ? ? ? ?mode <- rawToChar(block[101:107])
>> mode contains a trailing space as in "000755 " which causes the invalid
>> digits error in as.octmode(). If I change the line to
>> ? ? ? ?mode <- rawToChar(block[101:106])
>> untar2("pkgA_1.0.tar.gz") unpacks the test package but I, of course,
>> do not know whether this is a general fix.
>>
>> Am I the only one seeing this problem (FreeBSD 9.0-CURRENT)?
>>
>> h.
>
> But where does the as.octmode come from??

from Sys.chmod(name, mode) further down in untar2().

> Conversions inside untar2 appear
> to be using getOct which explicitly handles spaces.

but 'mode' is never touched between the assignment and the
call in Sys.chmod().

> The current SVN does run reg-tests-1.R for me. (It breaks on reg-tests-3.R,
> but that's a different issue.)

hmmm. I still don't understand what might be specific to my OS.

h.
-- 
+---
| Hiroyuki Kawakatsu
| Business School, Dublin City University
| Dublin 9, Ireland. Tel +353 (0)1 700 7496


From ripley at stats.ox.ac.uk  Sun Oct 25 12:48:52 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 25 Oct 2009 11:48:52 +0000 (GMT)
Subject: [Rd] reg-tests-1.R failure with unstable
In-Reply-To: <307b90470910250233o1ff0934bl8a4ba7b673420c86@mail.gmail.com>
References: <307b90470910230430o2724fd99j90a226315b7cfc25@mail.gmail.com>
	<307b90470910250233o1ff0934bl8a4ba7b673420c86@mail.gmail.com>
Message-ID: <alpine.LFD.2.00.0910251126140.18677@gannet.stats.ox.ac.uk>

On Sun, 25 Oct 2009, Hiroyuki Kawakatsu wrote:

> On Fri, Oct 23, 2009, Hiroyuki Kawakatsu wrote:
>> Hi,
>>
>> I am getting an error from one of the test files
>> tests/reg-tests-1.R using the unstable version (r50179).
>> (i've learned my lessons; this is a clean build.) The tail
>> of reg-tests-1.Rout.fail is
>>
>> Loading required package: myTst
>> building package pkgA ...
>> installing package pkgA using file pkgA_1.0.tar.gz ...
>> Error in as.octmode(mode) : invalid digits
>> Error in install.packages(r, lib = "myLib", repos = NULL, type = "source") :
>> ?(converted from warning) installation of package 'pkgA_1.0.tar.gz'
>> had non-zero exit status
>> Execution halted
> [...]
>
> I think I have tracked this down to the following line in utils:::untar2()
>        mode <- rawToChar(block[101:107])
> mode contains a trailing space as in "000755 " which causes the invalid
> digits error in as.octmode(). If I change the line to
>        mode <- rawToChar(block[101:106])
> untar2("pkgA_1.0.tar.gz") unpacks the test package but I, of course,
> do not know whether this is a general fix.
>
> Am I the only one seeing this problem (FreeBSD 9.0-CURRENT)?

Seems this is a bug in the tar program on your OS: this should be 
'0000755(nul)' in the 8 bytes 101:108. And that's in every account of 
the tar format I have found, including the former POSIX standard.

(Note to Peter D: we don't use getOct for this one, as it is not a 
field that is allowed to be space-padded.)

I guess we need to work around this ... to a large extent we have got 
away with using tar format in the past because everyone was using GNU 
tar, but others are coming into use.

[A quick check confirms that bsdtar from the libarchive project does 
this, as used by Snow Leopard and AFAIK FreeBSD >= 8.  So I can 
reproduce it.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Sun Oct 25 16:41:39 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 25 Oct 2009 15:41:39 +0000 (GMT)
Subject: [Rd] Buglet in optim() SANN
In-Reply-To: <4ADE21EF.2010606@uottawa.ca>
References: <4ADE21EF.2010606@uottawa.ca>
Message-ID: <alpine.LFD.2.00.0910251522050.18169@gannet.stats.ox.ac.uk>

As the posting guide says, please read the help carefully before 
posting.  It does say:

      ?maxit? The maximum number of iterations. Defaults to ?100? for
           the derivative-based methods, and ?500? for ?"Nelder-Mead"?.
           For ?"SANN"? ?maxit? gives the total number of function
           evaluations. There is no other stopping criterion.
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
           Defaults to ?10000?.

so this is indicating 'successful convergence' as documented.

On Tue, 20 Oct 2009, Prof. John C Nash wrote:

> I think SANN method in optim() is failing to report that it has not 
> converged. Here is an example
>
> genrose.f<- function(x, gs=NULL){ # objective function
> ## One generalization of the Rosenbrock banana valley function (n parameters)
> 	n <- length(x)
>        if(is.null(gs)) { gs=100.0 }
> 	fval<-1.0 + sum (gs*(x[1:(n-1)]^2 - x[2:n])^2 + (x[2:n] - 1)^2)
>        return(fval)
> }
>
> xx<-rep(pi,10)
> test<-optim(xx,genrose.f,method="SANN",control=list(maxit=1000,trace=1))
> print(test)
>
>
> Output is:
>
>> source("tsann.R")
> sann objective function values
> initial       value 40781.805639
> iter      999 value 29.969529
> final         value 29.969529
> sann stopped after 999 iterations
> $par
> [1] 1.0135254 0.9886862 1.1348609 1.0798927 1.0327997 1.1087146 1.1642130
> [8] 1.3038754 1.8628391 3.7569285
>
> $value
> [1] 29.96953
>
> $counts
> function gradient
>    1000       NA
>
> $convergence
> [1] 0  <------ THIS SHOULD BE 1 ACCORDING TO THE DOCS

It _should_ be 0 according to the help page.

>
> $message
> NULL
>
> Note terribly important, but maybe fixable.
>
> Cheers,
>
> John Nash
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From hkawakat at gmail.com  Sun Oct 25 17:13:08 2009
From: hkawakat at gmail.com (Hiroyuki Kawakatsu)
Date: Sun, 25 Oct 2009 16:13:08 +0000
Subject: [Rd] reg-tests-1.R failure with unstable
In-Reply-To: <307b90470910250906v1d792ca6x2859b9950e7be179@mail.gmail.com>
References: <307b90470910230430o2724fd99j90a226315b7cfc25@mail.gmail.com>
	<307b90470910250233o1ff0934bl8a4ba7b673420c86@mail.gmail.com>
	<alpine.LFD.2.00.0910251126140.18677@gannet.stats.ox.ac.uk>
	<307b90470910250906v1d792ca6x2859b9950e7be179@mail.gmail.com>
Message-ID: <307b90470910250913y524205efj848e25fd7a5811@mail.gmail.com>

On Sun, Oct 25, 2009, Prof Brian Ripley wrote:
[...]
> Seems this is a bug in the tar program on your OS: this should be
> '0000755(nul)' in the 8 bytes 101:108. And that's in every account of the
> tar format I have found, including the former POSIX standard.
>
> (Note to Peter D: we don't use getOct for this one, as it is not a field
> that is allowed to be space-padded.)
>
> I guess we need to work around this ... to a large extent we have got away
> with using tar format in the past because everyone was using GNU tar, but
> others are coming into use.
>
> [A quick check confirms that bsdtar from the libarchive project does this,
> as used by Snow Leopard and AFAIK FreeBSD >= 8. ?So I can reproduce it.]

Thanks for the confirmation. I installed gtar and, as indicated by config.site,
it is picked up by configure and I now pass -gmake check-.

h.
--
+---
| Hiroyuki Kawakatsu
| Business School, Dublin City University
| Dublin 9, Ireland. Tel +353 (0)1 700 7496


From ripley at stats.ox.ac.uk  Sun Oct 25 19:15:52 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 25 Oct 2009 18:15:52 +0000 (GMT)
Subject: [Rd] reg-tests-1.R failure with unstable
In-Reply-To: <alpine.LFD.2.00.0910251126140.18677@gannet.stats.ox.ac.uk>
References: <307b90470910230430o2724fd99j90a226315b7cfc25@mail.gmail.com>
	<307b90470910250233o1ff0934bl8a4ba7b673420c86@mail.gmail.com>
	<alpine.LFD.2.00.0910251126140.18677@gannet.stats.ox.ac.uk>
Message-ID: <alpine.LFD.2.00.0910251809540.23329@gannet.stats.ox.ac.uk>

I have committed a workaround that works with bsdtar under Snow 
Leopard (Mac OS 10.6) for me.

We have seen rather too many problems with incompatibility of tar 
formats recently (and it is documented to be ASCII only and has 
restrictions to 100 bytes for file paths), so have alternatives under 
consideration.

On Sun, 25 Oct 2009, Prof Brian Ripley wrote:

> On Sun, 25 Oct 2009, Hiroyuki Kawakatsu wrote:
>
>> On Fri, Oct 23, 2009, Hiroyuki Kawakatsu wrote:
>>> Hi,
>>> 
>>> I am getting an error from one of the test files
>>> tests/reg-tests-1.R using the unstable version (r50179).
>>> (i've learned my lessons; this is a clean build.) The tail
>>> of reg-tests-1.Rout.fail is
>>> 
>>> Loading required package: myTst
>>> building package pkgA ...
>>> installing package pkgA using file pkgA_1.0.tar.gz ...
>>> Error in as.octmode(mode) : invalid digits
>>> Error in install.packages(r, lib = "myLib", repos = NULL, type = "source") 
>>> :
>>> ?(converted from warning) installation of package 'pkgA_1.0.tar.gz'
>>> had non-zero exit status
>>> Execution halted
>> [...]
>> 
>> I think I have tracked this down to the following line in utils:::untar2()
>>        mode <- rawToChar(block[101:107])
>> mode contains a trailing space as in "000755 " which causes the invalid
>> digits error in as.octmode(). If I change the line to
>>        mode <- rawToChar(block[101:106])
>> untar2("pkgA_1.0.tar.gz") unpacks the test package but I, of course,
>> do not know whether this is a general fix.
>> 
>> Am I the only one seeing this problem (FreeBSD 9.0-CURRENT)?
>
> Seems this is a bug in the tar program on your OS: this should be 
> '0000755(nul)' in the 8 bytes 101:108. And that's in every account of the tar 
> format I have found, including the former POSIX standard.
>
> (Note to Peter D: we don't use getOct for this one, as it is not a field that 
> is allowed to be space-padded.)
>
> I guess we need to work around this ... to a large extent we have got away 
> with using tar format in the past because everyone was using GNU tar, but 
> others are coming into use.
>
> [A quick check confirms that bsdtar from the libarchive project does this, as 
> used by Snow Leopard and AFAIK FreeBSD >= 8.  So I can reproduce it.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From blair.christian at gmail.com  Sun Oct 25 20:42:36 2009
From: blair.christian at gmail.com (Blair Christian)
Date: Sun, 25 Oct 2009 15:42:36 -0400
Subject: [Rd] Segfault reporting: memory not mapped error
Message-ID: <6c35a4fc0910251242w6d340c35m83fe9340d5dd1ca4@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091025/a7e5d191/attachment.pl>

From nashjc at uottawa.ca  Sun Oct 25 23:33:32 2009
From: nashjc at uottawa.ca (Prof. John C Nash)
Date: Sun, 25 Oct 2009 18:33:32 -0400
Subject: [Rd] Buglet in optim() SANN
In-Reply-To: <alpine.LFD.2.00.0910251522050.18169@gannet.stats.ox.ac.uk>
References: <4ADE21EF.2010606@uottawa.ca>
	<alpine.LFD.2.00.0910251522050.18169@gannet.stats.ox.ac.uk>
Message-ID: <4AE4D23C.3020504@uottawa.ca>

Indeed Brian is correct about the functioning of SANN and the R
documentation. I'd misread the "maxit" warning. Things can stay as they
are for now.

The rest of this msg is for information and an invitation to off-list
discussion.

I realize my posting opens up the can of worms about what "convergence"
means. As someone who has occasionally published discussions on
convergence versus termination, I'd certainly prefer to set the
'convergence' flag to 1 for SANN, since we have only a termination at
the maximum number of function evaluations and not necessarily a result
that can be presumed to be "optim"al. Or perhaps put a note in the
description of the 'convergence' flag to indicate the potential
misinterpretation with SANN where results need the user to externally
check if they are likely to be usable as an optimum.

It may be better to call the non-zero results for "convergence" a
"termination indicator" rather than an "error code". Some related
packages like ucminf give more than one non-zero indicators for results
that are generally usable as optima. They are informational rather than
errors. Writing our optimx wrapper for a number of methods has forced us
to think about how such information is returned and reported through a
flag like "convergence". There are several choices and plenty of room
for confusion.

Right now a few of us are working on improvements for optimization, but
the first goal is to get things working OK for smooth, precisely defined
functions. However, we have been looking at methods like SANN for
multimodal and noisy (i.e., imprecisely defined) functions. For those
problems, knowing when you have an acceptable or usable result is never
easy.

Comments and exchanges welcome -- off-list of course.

Cheers, JN


Prof Brian Ripley wrote:
> As the posting guide says, please read the help carefully before
> posting.  It does say:
> 
>      ?maxit? The maximum number of iterations. Defaults to ?100? for
>           the derivative-based methods, and ?500? for ?"Nelder-Mead"?.
>           For ?"SANN"? ?maxit? gives the total number of function
>           evaluations. There is no other stopping criterion.
>                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>           Defaults to ?10000?.
> 
> so this is indicating 'successful convergence' as documented.
> 
> On Tue, 20 Oct 2009, Prof. John C Nash wrote:
> 
>> I think SANN method in optim() is failing to report that it has not
>> converged. Here is an example
>>
>> genrose.f<- function(x, gs=NULL){ # objective function
>> ## One generalization of the Rosenbrock banana valley function (n
>> parameters)
>>     n <- length(x)
>>        if(is.null(gs)) { gs=100.0 }
>>     fval<-1.0 + sum (gs*(x[1:(n-1)]^2 - x[2:n])^2 + (x[2:n] - 1)^2)
>>        return(fval)
>> }
>>
>> xx<-rep(pi,10)
>> test<-optim(xx,genrose.f,method="SANN",control=list(maxit=1000,trace=1))
>> print(test)
>>
>>
>> Output is:
>>
>>> source("tsann.R")
>> sann objective function values
>> initial       value 40781.805639
>> iter      999 value 29.969529
>> final         value 29.969529
>> sann stopped after 999 iterations
>> $par
>> [1] 1.0135254 0.9886862 1.1348609 1.0798927 1.0327997 1.1087146 1.1642130
>> [8] 1.3038754 1.8628391 3.7569285
>>
>> $value
>> [1] 29.96953
>>
>> $counts
>> function gradient
>>    1000       NA
>>
>> $convergence
>> [1] 0  <------ THIS SHOULD BE 1 ACCORDING TO THE DOCS
> 
> It _should_ be 0 according to the help page.
> 
>>
>> $message
>> NULL
>>
>> Note terribly important, but maybe fixable.
>>
>> Cheers,
>>
>> John Nash
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>


From etiennelaliberte at gmail.com  Mon Oct 26 03:58:27 2009
From: etiennelaliberte at gmail.com (=?ISO-8859-1?Q?Etienne_Lalibert=E9?=)
Date: Mon, 26 Oct 2009 15:58:27 +1300
Subject: [Rd] R CMD check: Error in .C
Message-ID: <554cd6450910251958o5925a818t313d7174754407ee@mail.gmail.com>

Function/file names are hypothetical. Say I have written myfunction.R,
which calls myfunction.c via .C("myfunction", ...).

I've compiled successfully myfunction.c via R CMD SHLIB myfunction.c
in the terminal. Then, in the R console:

dyn.load("myfunction.so")
source("myfunction.R")
test <- myfunction() # works fine

So everything is in order, myfunction works perfectly.

Now I want to include myfunction() into a package called mypackage.
Here's what I did:

1) I've added PACKAGE = "mypackage" in the .C() line in myfunction.R.
2) I put myfunction.R into the R folder of mypackage
3) I put myfunction.c into the src folder of mypackage
4) I created myfunction.Rd into the man folder

I then build the package via R CMD build mypackage. All good. However,
when I run R CMD check mypackage, I get the following error (note that
I translated from french, might be a bit different in english):

Error in .C("myfunction", ...): C symbol name "myfunction" cannot be
found in the DLL for package "mypackage"

I would appreciate some help here. Please do not refer my to "Writing
R extensions" - if the answer's in there, I don't understand it.

Many thanks.

--
Etienne Lalibert?
================================
Rural Ecology Research Group
School of Forestry
University of Canterbury
Private Bag 4800
Christchurch 8140, New Zealand
Phone: +64 3 366 7001 ext. 8365
Fax: +64 3 364 2124
www.elaliberte.info


From maechler at stat.math.ethz.ch  Mon Oct 26 08:50:27 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 26 Oct 2009 08:50:27 +0100
Subject: [Rd] Advice on how to arrange fix of buglet
In-Reply-To: <4AE071F7.4090108@uottawa.ca>
References: <mailman.27.1256205606.4120.r-devel@r-project.org>
	<4AE071F7.4090108@uottawa.ca>
Message-ID: <19173.21699.619137.794818@lynne.math.ethz.ch>

>>>>> "JN" == Prof John C Nash <nashjc at uottawa.ca>
>>>>>     on Thu, 22 Oct 2009 10:53:43 -0400 writes:

    JN> Recently I reported a small bug in optim's SANN method
    JN> failing to report that it had exceeded the maximum
    JN> function evaluation limit in the convergence code. This
    JN> is a small enough matter that I was reluctant to create
    JN> a full-blown bug report. Indeed in the optimx package
    JN> Ravi Varadhan and I have been developing on r-forge
    JN> (under the OptimizeR project) it was a minimal work
    JN> around to fix the matter in our wrapper that
    JN> incorporates optim() and a number of other tools. While
    JN> I don't normally do C code, I could likely figure out a
    JN> fix for optim too.

    JN> My query is about how to best get this done without
    JN> causing a lot of work for others i.e., where to I send
    JN> patches etc. I expect there are a number of similar
    JN> issues for different areas of R and its documentation,
    JN> and a clarification from someone in the core team could
    JN> streamline things. Maybe the bug system is still the
    JN> right place?

Yes, and in R the function bug.report() 

Martin


From murdoch at stats.uwo.ca  Mon Oct 26 11:28:13 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 26 Oct 2009 06:28:13 -0400
Subject: [Rd] R CMD check: Error in .C
In-Reply-To: <554cd6450910251958o5925a818t313d7174754407ee@mail.gmail.com>
References: <554cd6450910251958o5925a818t313d7174754407ee@mail.gmail.com>
Message-ID: <4AE579BD.7010107@stats.uwo.ca>

Etienne Lalibert? wrote:
> Function/file names are hypothetical. Say I have written myfunction.R,
> which calls myfunction.c via .C("myfunction", ...).
>
> I've compiled successfully myfunction.c via R CMD SHLIB myfunction.c
> in the terminal. Then, in the R console:
>
> dyn.load("myfunction.so")
> source("myfunction.R")
> test <- myfunction() # works fine
>
> So everything is in order, myfunction works perfectly.
>
> Now I want to include myfunction() into a package called mypackage.
> Here's what I did:
>
> 1) I've added PACKAGE = "mypackage" in the .C() line in myfunction.R.
> 2) I put myfunction.R into the R folder of mypackage
> 3) I put myfunction.c into the src folder of mypackage
> 4) I created myfunction.Rd into the man folder
>
> I then build the package via R CMD build mypackage. All good. However,
> when I run R CMD check mypackage, I get the following error (note that
> I translated from french, might be a bit different in english):
>
> Error in .C("myfunction", ...): C symbol name "myfunction" cannot be
> found in the DLL for package "mypackage"
>
> I would appreciate some help here. Please do not refer my to "Writing
> R extensions" - if the answer's in there, I don't understand it.
>   

What do you get from R CMD INSTALL mypackage? 

Duncan Murdoch
> Many thanks.
>
> --
> Etienne Lalibert?
> ================================
> Rural Ecology Research Group
> School of Forestry
> University of Canterbury
> Private Bag 4800
> Christchurch 8140, New Zealand
> Phone: +64 3 366 7001 ext. 8365
> Fax: +64 3 364 2124
> www.elaliberte.info
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From mathieu.ribatet at epfl.ch  Mon Oct 26 11:44:24 2009
From: mathieu.ribatet at epfl.ch (Mathieu Ribatet)
Date: Mon, 26 Oct 2009 11:44:24 +0100
Subject: [Rd] R CMD check: Error in .C
In-Reply-To: <554cd6450910251958o5925a818t313d7174754407ee@mail.gmail.com>
References: <554cd6450910251958o5925a818t313d7174754407ee@mail.gmail.com>
Message-ID: <1256553864.6689.16.camel@imapc13.epfl.ch>

Dear Etienne,

You probably want to create a zzz.R file in the /mypkg/R/ folder which
is just

        .First.lib <- function(lib, pkg){
          library.dynam("MyPkgName", package = pkg, lib.loc = lib)
          return(invisible(0))
        }

This would ensure that your shared library will be loaded.

Best,
Mathieu
        
Le lundi 26 octobre 2009 ? 03:58 +0100, Etienne Lalibert? a ?crit :
> Function/file names are hypothetical. Say I have written myfunction.R,
> which calls myfunction.c via .C("myfunction", ...).
> 
> I've compiled successfully myfunction.c via R CMD SHLIB myfunction.c
> in the terminal. Then, in the R console:
> 
> dyn.load("myfunction.so")
> source("myfunction.R")
> test <- myfunction() # works fine
> 
> So everything is in order, myfunction works perfectly.
> 
> Now I want to include myfunction() into a package called mypackage.
> Here's what I did:
> 
> 1) I've added PACKAGE = "mypackage" in the .C() line in myfunction.R.
> 2) I put myfunction.R into the R folder of mypackage
> 3) I put myfunction.c into the src folder of mypackage
> 4) I created myfunction.Rd into the man folder
> 
> I then build the package via R CMD build mypackage. All good. However,
> when I run R CMD check mypackage, I get the following error (note that
> I translated from french, might be a bit different in english):
> 
> Error in .C("myfunction", ...): C symbol name "myfunction" cannot be
> found in the DLL for package "mypackage"
> 
> I would appreciate some help here. Please do not refer my to "Writing
> R extensions" - if the answer's in there, I don't understand it.
> 
> Many thanks.
> 
> --
> Etienne Lalibert?
> ================================
> Rural Ecology Research Group
> School of Forestry
> University of Canterbury
> Private Bag 4800
> Christchurch 8140, New Zealand
> Phone: +64 3 366 7001 ext. 8365
> Fax: +64 3 364 2124
> www.elaliberte.info
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
-- 
Institute of Mathematics
Ecole Polytechnique F?d?rale de Lausanne
STAT-IMA-FSB-EPFL, Station 8
CH-1015 Lausanne   Switzerland
http://stat.epfl.ch/
Tel: + 41 (0)21 693 7907


From RVaradhan at jhmi.edu  Mon Oct 26 15:05:56 2009
From: RVaradhan at jhmi.edu (Ravi Varadhan)
Date: Mon, 26 Oct 2009 10:05:56 -0400
Subject: [Rd] Buglet in optim() SANN
In-Reply-To: <4AE4D23C.3020504@uottawa.ca>
References: <4ADE21EF.2010606@uottawa.ca>
	<alpine.LFD.2.00.0910251522050.18169@gannet.stats.ox.ac.uk>
	<4AE4D23C.3020504@uottawa.ca>
Message-ID: <002d01ca5645$7824f2e0$686ed8a0$@edu>

Dear John,

First let me apologize for not taking this off-list, since I feel that the
issues that you have raised are very important for optimizeRs to think
about.  

I completely agree with all you points.  Even though Brian Ripley is correct
in pointing out that for SANN `maxit' is the only stopping criterion, it is
still misleading when the convergence indicator says `0'.  By convention, a
zero indicator is taken to mean successful convergence to a local optimum,
i.e. to a point where the KKT conditions are satisfied.  If there is no
reasonable way to terminate SANN (or other stochastic search algorithms), it
might be more appropriate to indicate convergence as `NA', rather than `0'. 

Of course, for non-smooth and noisy functions we do not have the KKT
conditions to guide us in evaluating whether we have a good solution or not.
In these situations, the quality of the solution needs to be evaluated based
on problem-specific knowledge.  Hopefully, we can address this issue to some
extent in the future versions of "optimx". For example, if a user tries to
use SANN for a smooth objective function, then she should be forewarned.  

Best,
Ravi.

----------------------------------------------------------------------------
-------

Ravi Varadhan, Ph.D.

Assistant Professor, The Center on Aging and Health

Division of Geriatric Medicine and Gerontology 

Johns Hopkins University

Ph: (410) 502-2619

Fax: (410) 614-9625

Email: rvaradhan at jhmi.edu

Webpage:
http://www.jhsph.edu/agingandhealth/People/Faculty_personal_pages/Varadhan.h
tml

 

----------------------------------------------------------------------------
--------

-----Original Message-----
From: r-devel-bounces at r-project.org [mailto:r-devel-bounces at r-project.org]
On Behalf Of Prof. John C Nash
Sent: Sunday, October 25, 2009 6:34 PM
To: Prof Brian Ripley
Cc: r-devel at r-project.org
Subject: Re: [Rd] Buglet in optim() SANN

Indeed Brian is correct about the functioning of SANN and the R
documentation. I'd misread the "maxit" warning. Things can stay as they
are for now.

The rest of this msg is for information and an invitation to off-list
discussion.

I realize my posting opens up the can of worms about what "convergence"
means. As someone who has occasionally published discussions on
convergence versus termination, I'd certainly prefer to set the
'convergence' flag to 1 for SANN, since we have only a termination at
the maximum number of function evaluations and not necessarily a result
that can be presumed to be "optim"al. Or perhaps put a note in the
description of the 'convergence' flag to indicate the potential
misinterpretation with SANN where results need the user to externally
check if they are likely to be usable as an optimum.

It may be better to call the non-zero results for "convergence" a
"termination indicator" rather than an "error code". Some related
packages like ucminf give more than one non-zero indicators for results
that are generally usable as optima. They are informational rather than
errors. Writing our optimx wrapper for a number of methods has forced us
to think about how such information is returned and reported through a
flag like "convergence". There are several choices and plenty of room
for confusion.

Right now a few of us are working on improvements for optimization, but
the first goal is to get things working OK for smooth, precisely defined
functions. However, we have been looking at methods like SANN for
multimodal and noisy (i.e., imprecisely defined) functions. For those
problems, knowing when you have an acceptable or usable result is never
easy.

Comments and exchanges welcome -- off-list of course.

Cheers, JN


Prof Brian Ripley wrote:
> As the posting guide says, please read the help carefully before
> posting.  It does say:
> 
>      ?maxit? The maximum number of iterations. Defaults to ?100? for
>           the derivative-based methods, and ?500? for ?"Nelder-Mead"?.
>           For ?"SANN"? ?maxit? gives the total number of function
>           evaluations. There is no other stopping criterion.
>                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>           Defaults to ?10000?.
> 
> so this is indicating 'successful convergence' as documented.
> 
> On Tue, 20 Oct 2009, Prof. John C Nash wrote:
> 
>> I think SANN method in optim() is failing to report that it has not
>> converged. Here is an example
>>
>> genrose.f<- function(x, gs=NULL){ # objective function
>> ## One generalization of the Rosenbrock banana valley function (n
>> parameters)
>>     n <- length(x)
>>        if(is.null(gs)) { gs=100.0 }
>>     fval<-1.0 + sum (gs*(x[1:(n-1)]^2 - x[2:n])^2 + (x[2:n] - 1)^2)
>>        return(fval)
>> }
>>
>> xx<-rep(pi,10)
>> test<-optim(xx,genrose.f,method="SANN",control=list(maxit=1000,trace=1))
>> print(test)
>>
>>
>> Output is:
>>
>>> source("tsann.R")
>> sann objective function values
>> initial       value 40781.805639
>> iter      999 value 29.969529
>> final         value 29.969529
>> sann stopped after 999 iterations
>> $par
>> [1] 1.0135254 0.9886862 1.1348609 1.0798927 1.0327997 1.1087146 1.1642130
>> [8] 1.3038754 1.8628391 3.7569285
>>
>> $value
>> [1] 29.96953
>>
>> $counts
>> function gradient
>>    1000       NA
>>
>> $convergence
>> [1] 0  <------ THIS SHOULD BE 1 ACCORDING TO THE DOCS
> 
> It _should_ be 0 according to the help page.
> 
>>
>> $message
>> NULL
>>
>> Note terribly important, but maybe fixable.
>>
>> Cheers,
>>
>> John Nash
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel


From hb at stat.berkeley.edu  Tue Oct 27 03:44:29 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Mon, 26 Oct 2009 19:44:29 -0700
Subject: [Rd] Typo in help(parse_Rd, package="tools")
Message-ID: <59d7961d0910261944q5b231304m424eab2a18b513c8@mail.gmail.com>

Under See Also in help(parse_Rd, package="tools") it says:

Rd2HTML for the converters that use the output of parseRd.

Should be "parse_Rd" not "parseRd".

> sessionInfo()
R version 2.10.0 Patched (2009-10-26 r50212)
i386-pc-mingw32

locale:
[1] LC_COLLATE=English_United States.1252
[2] LC_CTYPE=English_United States.1252
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.10.0

/H


From hb at stat.berkeley.edu  Tue Oct 27 05:05:05 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Mon, 26 Oct 2009 21:05:05 -0700
Subject: [Rd] help.start() only recognizes forward slashes in R_LIBS_USER
	which is not the default case
Message-ID: <59d7961d0910262105h6a6cca00gccf4f2f2b6093a5d@mail.gmail.com>

I've found that the HTML help system started via help.start() requires
all forward slashes in R_LIBS_USER otherwise the Packages page is
corrupt/non-working.  Note that by default R_LIBS_USER is set by R on
startup.

Example 1:
With R_LIBS_USER=C:/Users/JohnDoe/R/win-library/2.10
> help.start() [and go to "Packages"]
If nothing happens, you should open
'http://127.0.0.1:6850/doc/html/index.html' yourself
This works!

Example 2:
With: R_LIBS_USER=C:\\Users\\JohnDoe\\R\\win-library\\2.10
> help.start() [and go to "Packages"]
If nothing happens, you should open
'http://127.0.0.1:6850/doc/html/index.html' yourself
Warning message:
In sub(paste(lib, "([^/]*)", "DESCRIPTION$", sep = "/"), "\\1",  :
  regcomp error:  'Invalid back reference'
> Making packages.html ...

with http://127.0.0.1:6850/doc/html/packages.html displaying:

Error in sub(paste(lib, "([^/]*)", "DESCRIPTION$", sep = "/"), "\\1",  :
  invalid regular expression
'C:\Users\JohnDoe\R\win-library\2.10/([^/]*)/DESCRIPTION$'

Example 3:
With R_LIBS_USER=C:\\Users\\JohnDoe/R/win-library/2.10
> help.start() [and go to "Packages"]
If nothing happens, you should open
'http://127.0.0.1:6850/doc/html/index.html' yourself

with http://127.0.0.1:6850/doc/html/packages.html displaying:

Packages in C:\Users\JohnDoe\R\win-library\2.10

C:\Users\JohnDoe/R/win-library/2.10/abind/DESCRIPTION	-- Title is missing --
C:\Users\JohnDoe/R/win-library/2.10/affxparser/DESCRIPTION	-- Title is
missing --
C:\Users\JohnDoe/R/win-library/2.10/affy/DESCRIPTION	-- Title is missing --

where the abind link is
http://127.0.0.1:6850/library/C:%5CUsers%JohnDoe/R/win-library/2.10/abind/DESCRIPTION/html/00Index.html
and similarly for affxparser and so on.

This third case may(?)/is(?) set by R on startup if R_LIBS_USER is not
set, cf. help(.libPaths):

     By default 'R_LIBS' is unset, and 'R_LIBS_USER' is set to
     subdirectory 'R/win-library/x.y' of the home directory, for R
     x.y.z.

because HOME=C:\Users\JohnDoe is set by Windows.

It seems like the HTML help server only recognizes forward slashes in
R_LIBS_USER.

The following patch solves the problem (can be added to ~/.Rprofile):

.libPaths(gsub("\\", "/", .libPaths(), fixed=TRUE));


/Henrik

> sessionInfo()
R version 2.10.0 Patched (2009-10-26 r50212)
i386-pc-mingw32

locale:
[1] LC_COLLATE=English_United States.1252
[2] LC_CTYPE=English_United States.1252
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.10.0


From murdoch at stats.uwo.ca  Tue Oct 27 10:12:00 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 27 Oct 2009 05:12:00 -0400
Subject: [Rd] Typo in help(parse_Rd, package="tools")
In-Reply-To: <59d7961d0910261944q5b231304m424eab2a18b513c8@mail.gmail.com>
References: <59d7961d0910261944q5b231304m424eab2a18b513c8@mail.gmail.com>
Message-ID: <4AE6B960.5000603@stats.uwo.ca>

On 26/10/2009 10:44 PM, Henrik Bengtsson wrote:
> Under See Also in help(parse_Rd, package="tools") it says:
> 
> Rd2HTML for the converters that use the output of parseRd.
> 
> Should be "parse_Rd" not "parseRd".

Thanks, fixed.

Duncan Murdoch

> 
>> sessionInfo()
> R version 2.10.0 Patched (2009-10-26 r50212)
> i386-pc-mingw32
> 
> locale:
> [1] LC_COLLATE=English_United States.1252
> [2] LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
> 
> /H
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From etiennelaliberte at gmail.com  Mon Oct 26 21:02:12 2009
From: etiennelaliberte at gmail.com (=?ISO-8859-1?Q?Etienne_Lalibert=E9?=)
Date: Tue, 27 Oct 2009 09:02:12 +1300
Subject: [Rd] R CMD check: Error in .C
In-Reply-To: <1256553864.6689.16.camel@imapc13.epfl.ch>
References: <554cd6450910251958o5925a818t313d7174754407ee@mail.gmail.com>
	<1256553864.6689.16.camel@imapc13.epfl.ch>
Message-ID: <554cd6450910261302i165e6342y7037f3df203df2f@mail.gmail.com>

Many thanks Mathieu, following your answer I did a bit more focused
research and found out that because "mypackage" had a NAMESPACE, I had
to create the following zzz.R file instead:

.onLoad <-function (lib, pkg) {
    library.dynam("mypackage", pkg, lib)
}

I then had a look in "Writing R extensions" to see if I had just
missed this precious info, but though they mention:

    "If the ?src? subdirectory of an add-on package contains source
code with one of the extensions
listed above or a file ?Makevars? but not a file Makefile, R CMD
INSTALL creates a shared object
(for loading into R in the .First.lib or .onLoad function of the
package) using the R CMD
SHLIB mechanism. If file ?Makevars? exists it is read first, then the
system makefile and then
any personal ?Makevars? files."

To a novice like me, I really think this is not clear enough. It would
be nice if "Writing R extensions" was a bit more explicit about this
zzz.R solution.


Le 26 octobre 2009 23:44, Mathieu Ribatet <mathieu.ribatet at epfl.ch> a ?crit :
>
> Dear Etienne,
>
> You probably want to create a zzz.R file in the /mypkg/R/ folder which
> is just
>
> ? ? ? ?.First.lib <- function(lib, pkg){
> ? ? ? ? ?library.dynam("MyPkgName", package = pkg, lib.loc = lib)
> ? ? ? ? ?return(invisible(0))
> ? ? ? ?}
>
> This would ensure that your shared library will be loaded.
>
> Best,
> Mathieu
>
> Le lundi 26 octobre 2009 ? 03:58 +0100, Etienne Lalibert? a ?crit :
> > Function/file names are hypothetical. Say I have written myfunction.R,
> > which calls myfunction.c via .C("myfunction", ...).
> >
> > I've compiled successfully myfunction.c via R CMD SHLIB myfunction.c
> > in the terminal. Then, in the R console:
> >
> > dyn.load("myfunction.so")
> > source("myfunction.R")
> > test <- myfunction() # works fine
> >
> > So everything is in order, myfunction works perfectly.
> >
> > Now I want to include myfunction() into a package called mypackage.
> > Here's what I did:
> >
> > 1) I've added PACKAGE = "mypackage" in the .C() line in myfunction.R.
> > 2) I put myfunction.R into the R folder of mypackage
> > 3) I put myfunction.c into the src folder of mypackage
> > 4) I created myfunction.Rd into the man folder
> >
> > I then build the package via R CMD build mypackage. All good. However,
> > when I run R CMD check mypackage, I get the following error (note that
> > I translated from french, might be a bit different in english):
> >
> > Error in .C("myfunction", ...): C symbol name "myfunction" cannot be
> > found in the DLL for package "mypackage"
> >
> > I would appreciate some help here. Please do not refer my to "Writing
> > R extensions" - if the answer's in there, I don't understand it.
> >
> > Many thanks.
> >
> > --
> > Etienne Lalibert?
> > ================================
> > Rural Ecology Research Group
> > School of Forestry
> > University of Canterbury
> > Private Bag 4800
> > Christchurch 8140, New Zealand
> > Phone: +64 3 366 7001 ext. 8365
> > Fax: +64 3 364 2124
> > www.elaliberte.info
> >
> > ______________________________________________
> > R-devel at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-devel
> --
> Institute of Mathematics
> Ecole Polytechnique F?d?rale de Lausanne
> STAT-IMA-FSB-EPFL, Station 8
> CH-1015 Lausanne ? Switzerland
> http://stat.epfl.ch/
> Tel: + 41 (0)21 693 7907
>



--
Etienne Lalibert?
================================
Rural Ecology Research Group
School of Forestry
University of Canterbury
Private Bag 4800
Christchurch 8140, New Zealand
Phone: +64 3 366 7001 ext. 8365
Fax: +64 3 364 2124
www.elaliberte.info


From j.burke at earthlink.net  Tue Oct 27 08:10:13 2009
From: j.burke at earthlink.net (j.burke at earthlink.net)
Date: Tue, 27 Oct 2009 08:10:13 +0100 (CET)
Subject: [Rd] Me or a bug? Package Install does not unzip (PR#14026)
Message-ID: <20091027071013.7DC90282EFFB@mail.pubhealth.ku.dk>

Today I installed R 2.10.0


1. I try to download maptools again.
2. Downloads to a temp subdirectory somewhere.
  
 > utils:::menuInstallPkgs()
trying URL 
'http://cran.cnr.Berkeley.edu/bin/windows/contrib/2.10/maptools_0.7-26.zip'
Content type 'application/zip' length 1038205 bytes (1013 Kb)
opened URL
downloaded 1013 Kb

package 'maptools' successfully unpacked and MD5 sums checked

The downloaded packages are in
        C:\Documents and Settings\Jim Burke\Local 
Settings\Temp\RtmpaNjPrZ\downloaded_packages


3. Does NOT automatically invoke the zip file. Does NOT unzip.


My zip program is jZip.
When I click on a zip suffixed file, it brings up the jZip program.
So file associations are OK.


Thanks for any suggestions,
Jim Burke


From friedrich.leisch at stat.uni-muenchen.de  Tue Oct 27 11:27:21 2009
From: friedrich.leisch at stat.uni-muenchen.de (Friedrich Leisch)
Date: Tue, 27 Oct 2009 11:27:21 +0100
Subject: [Rd] R CMD check: Error in .C
In-Reply-To: <554cd6450910261302i165e6342y7037f3df203df2f@mail.gmail.com>
References: <554cd6450910251958o5925a818t313d7174754407ee@mail.gmail.com>
	<1256553864.6689.16.camel@imapc13.epfl.ch>
	<554cd6450910261302i165e6342y7037f3df203df2f@mail.gmail.com>
Message-ID: <19174.51977.551370.417152@ridcully.stat.uni-muenchen.de>


[ Note that this discussion really belongs to r-help, not r-devel, but
a nyway.

>>>>> On Tue, 27 Oct 2009 09:02:12 +1300,
>>>>> Etienne Lalibert? (EL) wrote:

  > Many thanks Mathieu, following your answer I did a bit more focused
  > research and found out that because "mypackage" had a NAMESPACE, I had
  > to create the following zzz.R file instead:

  > .onLoad <-function (lib, pkg) {
  >     library.dynam("mypackage", pkg, lib)
  > }

If you have a namespace you only need a

  useDynLib(mypackage)

in the NAMESPACE file, everything else is done automatically for you
(no need for the above zzz.R).

Best,
Fritz

-- 
-----------------------------------------------------------------------
Prof. Dr. Friedrich Leisch 

Institut f?r Statistik                          Tel: (+49 89) 2180 3165
Ludwig-Maximilians-Universit?t                  Fax: (+49 89) 2180 5308
Ludwigstra?e 33
D-80539 M?nchen                     http://www.statistik.lmu.de/~leisch
-----------------------------------------------------------------------
   Journal Computational Statistics --- http://www.springer.com/180 
          M?nchner R Kurse --- http://www.statistik.lmu.de/R


From murdoch at stats.uwo.ca  Tue Oct 27 11:35:14 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 27 Oct 2009 06:35:14 -0400
Subject: [Rd] Me or a bug? Package Install does not unzip (PR#14026)
In-Reply-To: <20091027071013.7DC90282EFFB@mail.pubhealth.ku.dk>
References: <20091027071013.7DC90282EFFB@mail.pubhealth.ku.dk>
Message-ID: <4AE6CCE2.3030401@stats.uwo.ca>

On 27/10/2009 3:10 AM, j.burke at earthlink.net wrote:
> Today I installed R 2.10.0
> 
> 
> 1. I try to download maptools again.
> 2. Downloads to a temp subdirectory somewhere.
>   
>  > utils:::menuInstallPkgs()
> trying URL 
> 'http://cran.cnr.Berkeley.edu/bin/windows/contrib/2.10/maptools_0.7-26.zip'
> Content type 'application/zip' length 1038205 bytes (1013 Kb)
> opened URL
> downloaded 1013 Kb
> 
> package 'maptools' successfully unpacked and MD5 sums checked
> 
> The downloaded packages are in
>         C:\Documents and Settings\Jim Burke\Local 
> Settings\Temp\RtmpaNjPrZ\downloaded_packages
> 
> 
> 3. Does NOT automatically invoke the zip file. Does NOT unzip.

This doesn't look like a bug, it looks as though things are fine (it 
says "successfully unpacked").  What is not working?

Duncan Murdoch

> 
> 
> My zip program is jZip.
> When I click on a zip suffixed file, it brings up the jZip program.
> So file associations are OK.
> 
> 
> Thanks for any suggestions,
> Jim Burke
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From jvierine at gmail.com  Tue Oct 27 17:13:42 2009
From: jvierine at gmail.com (Juha Vierinen)
Date: Tue, 27 Oct 2009 16:13:42 +0000
Subject: [Rd] R on maemo
Message-ID: <b96098070910270913t1b838942g2bf4336c7b915b64@mail.gmail.com>

Has anyone tried to compile R on the Nokia maemo platform? I've been
thinking about buying the n900 phone when it comes out, but I guess
the main selling point would be a possibility to run R on it. I've
read some rumors that it is based on debian, and that it can run X11
apps. In theory, you wouldn't even need to write any GUI. You should
be able to run R in command line mode, with plots appearing as X11
windows.

http://cool900.blogspot.com/2009/10/comparing-freedom-on-maemo-and-android.html

juha


From romain.francois at dbmail.com  Tue Oct 27 17:51:22 2009
From: romain.francois at dbmail.com (Romain Francois)
Date: Tue, 27 Oct 2009 17:51:22 +0100
Subject: [Rd] recover and "called from" information
Message-ID: <4AE7250A.3090209@dbmail.com>

Hello,

When using recover, the called from information is always "eval(expr, 
envir, enclos)", which is not particularly useful.

 > f <- function( ){ g <- function(){ stop( "ouch") }; g() }
 > options( error = recover )
 > f()
Error in g() : ouch

Enter a frame number, or 0 to exit

1: f()
2: g()

Selection: 1
Called from: eval(expr, envir, enclos)


I'm using the following heuristic to guess if this was called from 
recover and grab the actual call, and was wondering if something similar 
could/should be integrated into R:

getcall <- function(){
	calls <- sys.calls()
	calls <- calls[ -length(calls) ]
	funs <- sapply( calls, function(x) as.character(x)[1L] )
	frames <- sys.frames()
	frames <- frames[ -length(frames) ]
	nc <- length(calls)
	
	if( nc >= 3L &&
		identical( tail(funs, 2L ), rep("eval", 2L) ) &&
		identical(
			paste( as.character( calls[[ nc - 1L ]] ), collapse = "--" ),
			"eval--quote(browser())--sys.frame(which)" )
			) {
		
		w <- get( "which", sys.frame(nc- 2L ), inherits = FALSE )
		if( typeof( w ) == "integer" && length(w) == 1L ){
			return( calls[[w]] )
		}
		
	}
	calls[[nc]]
	
}

I'd be happy to work on an internal version instead of this one in R.

Romain


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://tr.im/BcPw : celebrating R commit #50000
|- http://tr.im/ztCu : RGG #158:161: examples of package IDPmisc
`- http://tr.im/yw8E : New R package : sos


From simon.urbanek at r-project.org  Tue Oct 27 18:23:01 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 27 Oct 2009 13:23:01 -0400
Subject: [Rd] R on maemo
In-Reply-To: <b96098070910270913t1b838942g2bf4336c7b915b64@mail.gmail.com>
References: <b96098070910270913t1b838942g2bf4336c7b915b64@mail.gmail.com>
Message-ID: <4CEF8022-8110-41A9-BD8F-FEAA710E0AF9@r-project.org>


On Oct 27, 2009, at 12:13 , Juha Vierinen wrote:

> Has anyone tried to compile R on the Nokia maemo platform? I've been  
> thinking about buying the n900 phone when it comes out, but I guess  
> the main selling point would be a possibility to run R on it. I've  
> read some rumors that it is based on debian, and that it can run X11  
> apps. In theory, you wouldn't even need to write any GUI. You should  
> be able to run R in command line mode, with plots appearing as X11  
> windows.
>

I didn't actually do it but given that the hardware is almost  
identical to the iPhone I'd say the chances are pretty good that it  
should work (simply cross-compile using ARM target bi-arch R for host  
and target as discussed for iPhone and Android). As you pointed out  
the UI situation is even easier although the devil may be in the  
details. Still, I don't think R is a useful application on a mobile  
device -- IMHO  the future is in a thin mobile client accessing the  
cloud (which runs R among other things) since there is no point in  
trying to use the low-power CPUs for computing.

Cheers,
Simon


From bolker at ufl.edu  Tue Oct 27 20:05:14 2009
From: bolker at ufl.edu (Ben Bolker)
Date: Tue, 27 Oct 2009 12:05:14 -0700 (PDT)
Subject: [Rd] odd evaluation within correlation argument of glmmPQL
In-Reply-To: <AC6F23A2BA13C347A59BDCBCFF41E27B5F538D4640@UFEXCH-MBXCL03.ad.ufl.edu>
References: <AC6F23A2BA13C347A59BDCBCFF41E27B5F538D4640@UFEXCH-MBXCL03.ad.ufl.edu>
Message-ID: <26083255.post@talk.nabble.com>




Ben Bolker wrote:
> 
> 
>  [snip]
> 
>   It appears that glmmPQL looks in the global workspace, not
> within the data frame specified by the "data" argument, for
> the variables specified in the "form" argument of spatial
> correlation structures provided to the "correlation" argument.
> 
> [snip example and patches]
> 
> 

Replying to my own e-mail to bump this (it's been a week).

 The basic issue is that glmmPQL throws out data that are
not involved in the fixed or random model terms, or in the offset
term.  It doesn't save variables that are only found in the
correlation formula argument.  It's hard to imagine how
this behavior is anything other than a bug ... and the patch fixes it
in a straightforward way.

  cheers
   Ben Bolker

-- 
View this message in context: http://www.nabble.com/odd-evaluation-within-correlation-argument-of-glmmPQL-tp25986187p26083255.html
Sent from the R devel mailing list archive at Nabble.com.


From hpages at fhcrc.org  Tue Oct 27 21:25:38 2009
From: hpages at fhcrc.org (=?ISO-8859-1?Q?Herv=E9_Pag=E8s?=)
Date: Tue, 27 Oct 2009 13:25:38 -0700
Subject: [Rd] inaccurate integer conversion in coercion
Message-ID: <4AE75742.4070903@fhcrc.org>

Hi,

 > as.integer(10000000000)  # 10 billions
[1] NA
Warning message:
NAs introduced by coercion

 > as.integer(-10000000000)  # minus 10 billions
[1] NA
Warning message:
NAs introduced by coercion

 > as.integer("10000000000")  # 10 billions as a string
[1] 2147483647
Warning message:
inaccurate integer conversion in coercion

 > as.integer("-10000000000")  # minus 10 billions as a string
[1] NA
Warning message:
inaccurate integer conversion in coercion

Why is the "10 billions as a string" case treated differently?
(coerced to INT_MAX-1)

And for the "minus 10 billions as a string" case, is the warning
message really appropriate? Why isn't it just the usual "NAs
introduced by coercion"?

Thanks,
H.


From maechler at stat.math.ethz.ch  Wed Oct 28 09:06:34 2009
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 28 Oct 2009 09:06:34 +0100
Subject: [Rd] Segfault reporting: memory not mapped error
In-Reply-To: <6c35a4fc0910251242w6d340c35m83fe9340d5dd1ca4@mail.gmail.com>
References: <6c35a4fc0910251242w6d340c35m83fe9340d5dd1ca4@mail.gmail.com>
Message-ID: <19175.64394.883885.991422@lynne.math.ethz.ch>

>>>>> Blair Christian <blair.christian at gmail.com>
>>>>>     on Sun, 25 Oct 2009 15:42:36 -0400 writes:

    > Is this the right place to report segfaults?
    > spc$ R CMD BATCH driver.q rOut.txt
    > spc$ tail -16 rOut.txt /Library/Frameworks/R.framework/Resources/bin/BATCH:
    > line 60:  5461 Segmentation fault      ${R_HOME}/bin/R -f ${in} ${opts}
    > ${R_BATCH_OPTIONS} > ${out} 2>&1

    > *** caught segfault ***
    > address 0x3f095116, cause 'memory not mapped'

    > Traceback:
    > 1: .Call("La_dgesv", a, b, tol, PACKAGE = "base")
    > 2: solve.default(iV0)
    > 3: solve(iV0)
    > 4: standardGeneric("solve")
    > 5: solve(iV0)
    > 6: w0.fullCond(curr.sample, x at internals@values, x at priors@values)
    > 7: gsSampler(down.univ.gs)
    > 8: standardGeneric("gsSampler")
    > 9: gsSampler(down.univ.gs)
    > 10: univDownStatic(o3Jun21, internal.vals, prior.vals, init.vals,
    > param.dims)
    > aborting ...


    >> sessionInfo()
    > R version 2.9.2 (2009-08-24)
    > i386-apple-darwin8.11.1

    > locale:
    > en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

    > attached base packages:
    > [1] stats     graphics  grDevices utils     datasets  methods   base


    > I also got this error once:
    > Error: segfault from C stack overflow

    > Any thoughts would be appreciated.  I have no personal C code, and it looks
    > like the matrix I pass to solve is too ill conditioned?  
Yes, maybe.
But the underlying LAPACK code that is eventually called from
the above .Call(...)
should *never* seg.fault

On the other hand the  "C stack overflow" you've seen is a bad
sign (of other C code your R code calls).

    > Let me know what
    > other info I can use to help figure out the problem. I saw several of these
    > on the R-help but wasn't sure which was the best place to report.

    > Thx, Blair

The most important thing is to provide a self-contained
reproducible example (as the footer of every R-help message has:)
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.

Only then there's a good chance that the problem can be
addressed at all.

Martin Maechler, ETH Zurich


From ross at biostat.ucsf.edu  Wed Oct 28 20:14:04 2009
From: ross at biostat.ucsf.edu (Ross Boylan)
Date: Wed, 28 Oct 2009 12:14:04 -0700
Subject: [Rd] mysteriously persistent generic definition
In-Reply-To: <1256267219.30505.148.camel@corn.betterworld.us>
References: <1256267219.30505.148.camel@corn.betterworld.us>
Message-ID: <1256757244.10798.39.camel@corn.betterworld.us>

Here's a self-contained example of the problem:

> foo <- function(obj) {return(3);}
> setGeneric("foo")
[1] "foo"
> removeGeneric("foo")
[1] TRUE
> foo <- function(x) {return(4);}
> args(foo)
function (x) 
NULL
> setGeneric("foo")
[1] "foo"
> args(foo)
function (obj) 
NULL

R 2.7.1.  I get the same behavior whether or not I use ESS.

The reason this is more than a theoretical problem:

> setMethod("foo", signature(x="numeric"), function(x) {return(x+4);})
Error in match.call(fun, fcall) : unused argument(s) (x = "numeric")

Ross


From ross at biostat.ucsf.edu  Wed Oct 28 20:30:58 2009
From: ross at biostat.ucsf.edu (Ross Boylan)
Date: Wed, 28 Oct 2009 12:30:58 -0700
Subject: [Rd] mysteriously persistent generic definition
In-Reply-To: <1256757244.10798.39.camel@corn.betterworld.us>
References: <1256267219.30505.148.camel@corn.betterworld.us>
	<1256757244.10798.39.camel@corn.betterworld.us>
Message-ID: <1256758258.10798.43.camel@corn.betterworld.us>

R 2.8.1 on Windows behaves as I expected, i.e., the final args(foo)
returns a function of x.  The previous example (below) was on Debian
GNU/Linux.


On Wed, 2009-10-28 at 12:14 -0700, Ross Boylan wrote:
> Here's a self-contained example of the problem:
> 
> > foo <- function(obj) {return(3);}
> > setGeneric("foo")
> [1] "foo"
> > removeGeneric("foo")
> [1] TRUE
> > foo <- function(x) {return(4);}
> > args(foo)
> function (x) 
> NULL
> > setGeneric("foo")
> [1] "foo"
> > args(foo)
> function (obj) 
> NULL
> 
> R 2.7.1.  I get the same behavior whether or not I use ESS.
> 
> The reason this is more than a theoretical problem:
> 
> > setMethod("foo", signature(x="numeric"), function(x) {return(x+4);})
> Error in match.call(fun, fcall) : unused argument(s) (x = "numeric")
> 
> Ross 
>


From murdoch at stats.uwo.ca  Wed Oct 28 20:31:44 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 28 Oct 2009 15:31:44 -0400
Subject: [Rd] mysteriously persistent generic definition
In-Reply-To: <1256757244.10798.39.camel@corn.betterworld.us>
References: <1256267219.30505.148.camel@corn.betterworld.us>
	<1256757244.10798.39.camel@corn.betterworld.us>
Message-ID: <4AE89C20.1010209@stats.uwo.ca>

On 10/28/2009 3:14 PM, Ross Boylan wrote:
> Here's a self-contained example of the problem:
> 
>> foo <- function(obj) {return(3);}
>> setGeneric("foo")
> [1] "foo"
>> removeGeneric("foo")
> [1] TRUE
>> foo <- function(x) {return(4);}
>> args(foo)
> function (x) 
> NULL
>> setGeneric("foo")
> [1] "foo"
>> args(foo)
> function (obj) 
> NULL
> 
> R 2.7.1.  I get the same behavior whether or not I use ESS.
> 
> The reason this is more than a theoretical problem:
> 
>> setMethod("foo", signature(x="numeric"), function(x) {return(x+4);})
> Error in match.call(fun, fcall) : unused argument(s) (x = "numeric")

We just released 2.10.0.  It doesn't have this problem, nor does 2.9.2, 
or 2.8.1.  I think you'll just have to upgrade.

Duncan Murdoch


From chuckwhite8 at charter.net  Wed Oct 28 20:46:42 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Wed, 28 Oct 2009 15:46:42 -0400
Subject: [Rd] unable to compile mgcv
Message-ID: <20091028154642.Q5ZMF.7890684.root@mp19>

Hello -- I am trying to compile R-2.9.2 on IBM Power5 machine with AIX 5.3.  I have posted three previous posts. Over time I have made significant progress towards getting a successful build. I am now getting the following error:

==========================================================
begin installing recommended package mgcv
* Installing *source* package 'mgcv' ...
** libs
gmake[2]: Entering directory `/tmp/RtmpOtsRnd/R.INSTALL2781446b/mgcv/src'
gcc -maix64 -pthread -std=gnu99 -I/usr/local/builddir/include  -I/usr/local/include      -O2 -g -mcpu=power5 -c gcv.c -o gcv.o
gcc -maix64 -pthread -std=gnu99 -I/usr/local/builddir/include  -I/usr/local/include      -O2 -g -mcpu=power5 -c gdi.c -o gdi.o
gdi.c: In function 'qr_ldet_inv':
gdi.c:294: error: expected identifier or '(' before numeric constant
gdi.c:308: error: lvalue required as unary '&' operand
gdi.c:308: error: lvalue required as unary '&' operand
gdi.c:316: error: 'j' undeclared (first use in this function)
gdi.c:316: error: (Each undeclared identifier is reported only once
gdi.c:316: error: for each function it appears in.)
gdi.c: In function 'get_detS2a':
gdi.c:617: error: expected identifier or '(' before numeric constant
gdi.c:620: error: 'Mf' undeclared (first use in this function)
gdi.c:636: error: 'max_col' undeclared (first use in this function)
.....................................
ERROR: compilation failed for package 'mgcv'
* Removing '/usr/local/builddir/library/mgcv'
gmake[1]: *** [mgcv.ts] Error 1
gmake[1]: Leaving directory `/usr/local/builddir/src/library/Recommended'
gmake: *** [recommended-packages] Error 2
make: The error code from the last command is 2.

Stop.
==========================================================

Initially I had mgcv 1.5-5 and I downloaded mgcv 1.5-6 and tried again. I get the same error.

I would really appreciate any help with this.

Thanks.


From chuckwhite8 at charter.net  Wed Oct 28 20:57:28 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Wed, 28 Oct 2009 15:57:28 -0400
Subject: [Rd] unable to compile mgcv
Message-ID: <20091028155728.JX4KM.7891418.root@mp19>

Some more details on my being able to compile R 2.9.2 for AIX 5.3

export OBJECT_MODE=64
export AR="ar -X64"
export R_BROWSER=/opt/freeware/bin/firefox
export MAKE=/usr/bin/gmake
export R_SHELL=/usr/bin/bash
#export LIBICONV=/opt/freeware/lib
export CC="gcc -maix64 -pthread"
export CXX="g++ -maix64 -pthread"
export CFLAGS="-O2 -g -mcpu=power5"
export F77="gfortran -maix64 -pthread"
export FC="gfortran -maix64 -pthread"
export FFLAGS="-O2 -g -mcpu=power5"
export FCFLAGS="-O2 -g -mcpu=power5"
export CPPFLAGS="-I/usr/lpp/X11/include/X11"
export LDFLAGS="-L/usr/lib -L/usr/X11R6/lib -L/usr/local/lib -L/opt/freeware/lib -L/opt/freeware/lib64"

===============
../R-2.9.2/configure --enable-R-shlib --with-iconv=no > config_292.log 2>&1 ; make > make_292.log 2>&1


From wdunlap at tibco.com  Wed Oct 28 21:12:09 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 28 Oct 2009 13:12:09 -0700
Subject: [Rd] unable to compile mgcv
In-Reply-To: <20091028154642.Q5ZMF.7890684.root@mp19>
References: <20091028154642.Q5ZMF.7890684.root@mp19>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D7000209A10E@NA-PA-VBE03.na.tibco.com>

The first offending line in gdc.c is
    294   int *pivot,i,TRUE=1,j;
and TRUE must be #defined in some AIX
include file.  Change it to true or
add #undef TRUE prior to its use and it
may compile.

Bill Dunlap
Spotfire, TIBCO Software
wdunlap tibco.com  

> -----Original Message-----
> From: r-devel-bounces at r-project.org 
> [mailto:r-devel-bounces at r-project.org] On Behalf Of Chuck White
> Sent: Wednesday, October 28, 2009 12:47 PM
> To: r-devel at r-project.org
> Subject: [Rd] unable to compile mgcv
> 
> Hello -- I am trying to compile R-2.9.2 on IBM Power5 machine 
> with AIX 5.3.  I have posted three previous posts. Over time 
> I have made significant progress towards getting a successful 
> build. I am now getting the following error:
> 
> ==========================================================
> begin installing recommended package mgcv
> * Installing *source* package 'mgcv' ...
> ** libs
> gmake[2]: Entering directory 
> `/tmp/RtmpOtsRnd/R.INSTALL2781446b/mgcv/src'
> gcc -maix64 -pthread -std=gnu99 -I/usr/local/builddir/include 
>  -I/usr/local/include      -O2 -g -mcpu=power5 -c gcv.c -o gcv.o
> gcc -maix64 -pthread -std=gnu99 -I/usr/local/builddir/include 
>  -I/usr/local/include      -O2 -g -mcpu=power5 -c gdi.c -o gdi.o
> gdi.c: In function 'qr_ldet_inv':
> gdi.c:294: error: expected identifier or '(' before numeric constant
> gdi.c:308: error: lvalue required as unary '&' operand
> gdi.c:308: error: lvalue required as unary '&' operand
> gdi.c:316: error: 'j' undeclared (first use in this function)
> gdi.c:316: error: (Each undeclared identifier is reported only once
> gdi.c:316: error: for each function it appears in.)
> gdi.c: In function 'get_detS2a':
> gdi.c:617: error: expected identifier or '(' before numeric constant
> gdi.c:620: error: 'Mf' undeclared (first use in this function)
> gdi.c:636: error: 'max_col' undeclared (first use in this function)
> .....................................
> ERROR: compilation failed for package 'mgcv'
> * Removing '/usr/local/builddir/library/mgcv'
> gmake[1]: *** [mgcv.ts] Error 1
> gmake[1]: Leaving directory 
> `/usr/local/builddir/src/library/Recommended'
> gmake: *** [recommended-packages] Error 2
> make: The error code from the last command is 2.
> 
> Stop.
> ==========================================================
> 
> Initially I had mgcv 1.5-5 and I downloaded mgcv 1.5-6 and 
> tried again. I get the same error.
> 
> I would really appreciate any help with this.
> 
> Thanks.
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From chuckwhite8 at charter.net  Wed Oct 28 23:46:49 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Wed, 28 Oct 2009 18:46:49 -0400
Subject: [Rd] unable to compile mgcv
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D7000209A10E@NA-PA-VBE03.na.tibco.com>
Message-ID: <20091028184649.ZJ165.273963.root@mp17>

Thanks for your response.  Can you please point me to the make file where I would make this change. Thanks.

---- William Dunlap <wdunlap at tibco.com> wrote: 
> The first offending line in gdc.c is
>     294   int *pivot,i,TRUE=1,j;
> and TRUE must be #defined in some AIX
> include file.  Change it to true or
> add #undef TRUE prior to its use and it
> may compile.
> 
> Bill Dunlap
> Spotfire, TIBCO Software
> wdunlap tibco.com


From wdunlap at tibco.com  Thu Oct 29 00:20:18 2009
From: wdunlap at tibco.com (William Dunlap)
Date: Wed, 28 Oct 2009 16:20:18 -0700
Subject: [Rd] unable to compile mgcv
In-Reply-To: <20091028184649.ZJ165.273963.root@mp17>
References: <77EB52C6DD32BA4D87471DCD70C8D7000209A10E@NA-PA-VBE03.na.tibco.com>
	<20091028184649.ZJ165.273963.root@mp17>
Message-ID: <77EB52C6DD32BA4D87471DCD70C8D7000209A216@NA-PA-VBE03.na.tibco.com>


> -----Original Message-----
> From: Chuck White [mailto:chuckwhite8 at charter.net] 
> Sent: Wednesday, October 28, 2009 3:47 PM
> To: r-devel at r-project.org; William Dunlap
> Subject: RE: [Rd] unable to compile mgcv
> 
> Thanks for your response.  Can you please point me to the 
> make file where I would make this change. Thanks.

If you untar src/library/Recommended/mgcv.tgz (sp?)
this file will be in mgcv/src.  I'm not sure of the
best way to take care of it on AIX.  It may be possible
to #undef TRUE in include/R.h.  The AIX system includes
define it in many places, the most prominent of which
is in types.h.

If you cannot generally #undef TRUE in a global
R include file then you will have to edit the C or h files
in mgcv.

> 
> ---- William Dunlap <wdunlap at tibco.com> wrote: 
> > The first offending line in gdc.c is
> >     294   int *pivot,i,TRUE=1,j;
> > and TRUE must be #defined in some AIX
> > include file.  Change it to true or
> > add #undef TRUE prior to its use and it
> > may compile.
> > 
> > Bill Dunlap
> > Spotfire, TIBCO Software
> > wdunlap tibco.com  
> 
> 


From suharto_anggono at yahoo.com  Thu Oct 29 07:35:11 2009
From: suharto_anggono at yahoo.com (suharto_anggono at yahoo.com)
Date: Thu, 29 Oct 2009 07:35:11 +0100 (CET)
Subject: [Rd] In the result of applying 'bquote' to function definition with
	2 or more arguments, first function argument disappears (PR#14031)
Message-ID: <20091029063512.0339B282EF52@mail.pubhealth.ku.dk>

Full_Name: Suharto Anggono
Version: 2.8.1
OS: Windows
Submission from: (NULL) (125.165.81.124)


Sorry for repost. There is already PR#9602, but the problem is still there.
There is also a post "Re: [R] using bquote to construct function" in R-help
2008-10-02.

This illustrates the problem.


C:\Program Files\R\R-2.8.1\bin>R --vanilla

R version 2.8.1 (2008-12-22)
Copyright (C) 2008 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> h1 <- bquote(function(x, y) {
+ })
> h1
function(, y) {
}
> print(h1, useSource=FALSE)
function(, y) {
}
> eval(h1)
Error in eval(expr, envir, enclos) :
  invalid formal argument list for "function"
> h2 <- bquote(function(x, y) {})
> h2
function(x, y) {}

> print(h2, useSource=FALSE)
function(, y) {
}
> eval(h2)
Error in eval(expr, envir, enclos) :
  invalid formal argument list for "function"
> eval(bquote(function(x) {}))
function(x) {}
> eval(bquote(function() {}))
function() {}
> eval(bquote(function(...) {}))
function(...) {}
> eval(bquote(function(x, y, z) {}))
Error in eval(expr, envir, enclos) :
  invalid formal argument list for "function"
> version
               _
platform       i386-pc-mingw32
arch           i386
os             mingw32
system         i386, mingw32
status
major          2
minor          8.1
year           2008
month          12
day            22
svn rev        47281
language       R
version.string R version 2.8.1 (2008-12-22)
> sessionInfo()
R version 2.8.1 (2008-12-22)
i386-pc-mingw32

locale:
LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
States.1252;LC_MON
ETARY=English_United States.1252;LC_NUMERIC=C;LC_TIME=English_United
States.1252


attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base
>


R was installed from binary.

Above, h1 and h2 are results of applying 'bquote' to function definition with 2
arguments. Apparently, h1 and h2 are actually the same, just printed
differently. They are printed identically when useSource=FALSE. The first
argument disappears, error when 'eval'-ed.

But, apparently, if the function has one or zero argument, applying 'bquote'
results fine.


I try to debug. In the definition of 'bquote', there is 'unquote' function.


> bquote
function (expr, where = parent.frame())
{
    unquote <- function(e) {
        if (length(e) <= 1)
            e
        else if (e[[1]] == as.name("."))
            eval(e[[2]], where)
        else as.call(lapply(e, unquote))
    }
    unquote(substitute(expr))
}
<environment: namespace:base>
> unquote <- function(e) {
+ if (length(e) <= 1) e
+ else if (e[[1]] == as.name(".")) eval(e[[2]])
+ else as.call(lapply(e, unquote))
+ }
> h1e <- substitute(function(x, y) {
+ })
> unquote(h1e)
function(, y) {
}
> length(h1e)
[1] 4
> lapply(h1e, unquote)
[[1]]
`function`

[[2]]
``(y = )

[[3]]
{
}

[[4]]
"function(x, y) {"("}")

> as.call(.Last.value)
function(, y) {
}
> h1e[[2]]
$x


$y


> unquote(h1e[[2]])
``(y = )
> length(h1e[[2]])
[1] 2
> lapply(h1e[[2]], unquote)
$x


$y


> as.call(.Last.value)
``(y = )
>


After seeing the above result and reading the documentation of 'as.call', I
conclude that the first function argument (i.e. x) is missing because of
'as.call'. It should not be applied to the result for h1e[[2]]. However, it
should be applied to the result for h1e.


I don't know if this is worth to be fixed. But, if not, the documentation should
mention that 'bquote' is not to be applied to expression containing function
definition with two or more formal arguments.


From hkawakat at gmail.com  Thu Oct 29 11:39:39 2009
From: hkawakat at gmail.com (Hiroyuki Kawakatsu)
Date: Thu, 29 Oct 2009 10:39:39 +0000
Subject: [Rd] what should NCOL(NULL) return?
Message-ID: <307b90470910290339o6b245280u56a83842acac2527@mail.gmail.com>

Hi,

I get (using r50188)

> nrow(NULL)
NULL
> NROW(NULL)
[1] 0
> ncol(NULL)
NULL
> NCOL(NULL)
[1] 1

The last seems 'wrong' to me, though matrix(NA, 0, 1) appears to be
well defined.

> blackhole = matrix(NA, 0, 1)
> blackhole[,1] = 5
> blackhole
     [,1]

h.
-- 
+---
| Hiroyuki Kawakatsu
| Business School, Dublin City University
| Dublin 9, Ireland. Tel +353 (0)1 700 7496


From abhibera at gmail.com  Thu Oct 29 15:00:35 2009
From: abhibera at gmail.com (Abhijit Bera)
Date: Thu, 29 Oct 2009 19:00:35 +0500
Subject: [Rd] Help with lang4
Message-ID: <fc212e850910290700u4cb2be67n53d7efbfa787e7b6@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091029/612ac3d8/attachment.pl>

From abhibera at gmail.com  Thu Oct 29 15:38:31 2009
From: abhibera at gmail.com (Abhijit Bera)
Date: Thu, 29 Oct 2009 19:38:31 +0500
Subject: [Rd] Help with lang4
In-Reply-To: <4AE9A328.5050305@userprimary.net>
References: <fc212e850910290700u4cb2be67n53d7efbfa787e7b6@mail.gmail.com>
	<4AE9A328.5050305@userprimary.net>
Message-ID: <fc212e850910290738y1a6b901dk611f49b47e0893fa@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-devel/attachments/20091029/4bbf5db9/attachment.pl>

From seth at userprimary.net  Thu Oct 29 15:14:00 2009
From: seth at userprimary.net (Seth Falcon)
Date: Thu, 29 Oct 2009 07:14:00 -0700
Subject: [Rd] Help with lang4
In-Reply-To: <fc212e850910290700u4cb2be67n53d7efbfa787e7b6@mail.gmail.com>
References: <fc212e850910290700u4cb2be67n53d7efbfa787e7b6@mail.gmail.com>
Message-ID: <4AE9A328.5050305@userprimary.net>

On 10/29/09 7:00 AM, Abhijit Bera wrote:
> Hi
>
> I seem to have run into a situation where I have more than 3 arguments to
> pass to a function from C.
>
> the following functions help me build an expression for evaluation:
>
> lang
> lang2
> lang3
> lang4
>
> What should one do if there are more arguments than lang4 can handle?

If you take a look at the source code for those functions, something may 
suggest itself.  R function calls at the C level are composed like in 
lisp: a pair-list starting with the function cons'ed with the args.

+ seth


From murdoch at stats.uwo.ca  Thu Oct 29 15:46:27 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 29 Oct 2009 10:46:27 -0400
Subject: [Rd] Help with lang4
In-Reply-To: <fc212e850910290738y1a6b901dk611f49b47e0893fa@mail.gmail.com>
References: <fc212e850910290700u4cb2be67n53d7efbfa787e7b6@mail.gmail.com>	<4AE9A328.5050305@userprimary.net>
	<fc212e850910290738y1a6b901dk611f49b47e0893fa@mail.gmail.com>
Message-ID: <4AE9AAC3.7060101@stats.uwo.ca>

On 29/10/2009 10:38 AM, Abhijit Bera wrote:
> Can't find the source to Rf_lang* series of functions. :|

They're in src/include/Rinlinedfuns.h.

Duncan Murdoch

> 
> But I'm thinking it should be like this correct me if I'm wrong:
> 
> PROTECT(e=lang4(install("myfunction"),arg1,arg2,arg3);
> PROTECT(SETCAR(CDR(e),portConstraints));
> PROTECT(portVal=R_tryEval(e,R_GlobalEnv, NULL));
> 
> Regards
> Abhijit Bera
> 
> 
> On Thu, Oct 29, 2009 at 7:14 PM, Seth Falcon <seth at userprimary.net> wrote:
> 
>> On 10/29/09 7:00 AM, Abhijit Bera wrote:
>>
>>> Hi
>>>
>>> I seem to have run into a situation where I have more than 3 arguments to
>>> pass to a function from C.
>>>
>>> the following functions help me build an expression for evaluation:
>>>
>>> lang
>>> lang2
>>> lang3
>>> lang4
>>>
>>> What should one do if there are more arguments than lang4 can handle?
>>>
>> If you take a look at the source code for those functions, something may
>> suggest itself.  R function calls at the C level are composed like in lisp:
>> a pair-list starting with the function cons'ed with the args.
>>
>> + seth
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From tplate at acm.org  Thu Oct 29 16:14:59 2009
From: tplate at acm.org (Tony Plate)
Date: Thu, 29 Oct 2009 09:14:59 -0600
Subject: [Rd] what should NCOL(NULL) return?
In-Reply-To: <307b90470910290339o6b245280u56a83842acac2527@mail.gmail.com>
References: <307b90470910290339o6b245280u56a83842acac2527@mail.gmail.com>
Message-ID: <4AE9B173.7080304@acm.org>

Hiroyuki Kawakatsu wrote:
> Hi,
>
> I get (using r50188)
>
>   
>> nrow(NULL)
>>     
> NULL
>   
>> NROW(NULL)
>>     
> [1] 0
>   
>> ncol(NULL)
>>     
> NULL
>   
>> NCOL(NULL)
>>     
> [1] 1
>
> The last seems 'wrong' to me, though matrix(NA, 0, 1) appears to be
> well defined.
>   
Seems consistent with the documentation, which says:


      Description

|nrow| and |ncol| return the number of rows or columns present in |x|. 
|NCOL| and |NROW| do the same treating a vector as 1-column matrix.

Based on ?NCOL alone, I guess one might be able to quibble about how 
NULL should be treated, as the docs do describe the argument as "x a 
vector, array or data frame."  However, it's pretty common for functions 
that work with vectors and arrays to treat NULL the same as numeric(0).

-- Tony Plate

>   
>> blackhole = matrix(NA, 0, 1)
>> blackhole[,1] = 5
>> blackhole
>>     
>      [,1]
>
> h.
>


From saptarshi.guha at gmail.com  Thu Oct 29 16:47:32 2009
From: saptarshi.guha at gmail.com (Saptarshi Guha)
Date: Thu, 29 Oct 2009 11:47:32 -0400
Subject: [Rd] Makevars, cc files in multiple directories
Message-ID: <04B3F9E2-03F7-455F-A656-E934FA94383E@gmail.com>

Hello,
In the src folder of my R package I have

a.cc
b.cc
f/g/x.cc

my Makevars.in has

all: $(SHLIB)

upon installing only, a.o and b.o is build and the final dll is  
comprised of a.o and b.o

How can I instruct $(SHLIB) to pick up its source files from all  
subdirectories (or maybe a subset, though here it will be all)
in src ?

Much thanks
Saptarshi


From plroebuck at mdanderson.org  Thu Oct 29 17:46:07 2009
From: plroebuck at mdanderson.org (Paul Roebuck)
Date: Thu, 29 Oct 2009 11:46:07 -0500 (CDT)
Subject: [Rd] Makevars, cc files in multiple directories
In-Reply-To: <04B3F9E2-03F7-455F-A656-E934FA94383E@gmail.com>
References: <04B3F9E2-03F7-455F-A656-E934FA94383E@gmail.com>
Message-ID: <Pine.OSF.4.58.0910291118260.64323@wotan.mdacc.tmc.edu>

On Thu, 29 Oct 2009, Saptarshi Guha wrote:

> In the src folder of my R package I have
>
> a.cc
> b.cc
> f/g/x.cc
>
> my Makevars.in has
>
> all: $(SHLIB)
>
> upon installing only, a.o and b.o is build and the final dll is
> comprised of a.o and b.o
>
> How can I instruct $(SHLIB) to pick up its source files from all
> subdirectories (or maybe a subset, though here it will be all)
> in src ?
>

I have used something like the following to achieve a
similar goal. Create a library (foo.a) based on its
subdirectory makefile (foo_r.mk) and then have the package
link with it (foo.a).

HTH




---------------- Makevars ------------------
###
### MAKEVARS
###

FOODIR    = ./f/g
FOOSRC    = $(FOODIR)
FOOINCDIR = $(FOODIR)/include
FOOLIBDIR = $(FOODIR)
FOOLIB    = -lfoo

PKG_CPPFLAGS = -DNDEBUG -I$(FOOINCDIR)
PKG_LIBS = -L$(FOOLIBDIR) $(FOOLIB) $(LIBM)

##
## Targets
##
all: foo $(SHLIB)

foo:
	(cd $(FOOSRC) && $(MAKE) -f foo_r.mk)

.PHONY: foo all

---------------- foo.mk ---------------------
###
###
### Makefile for FOO library (R environment)
###
###

include $(R_HOME)/etc${R_ARCH}/Makeconf

               AR = ar clq
           RANLIB = ranlib

LIBRARY= foo
MAJOR  = 1
MINOR  = 0
SRCS   = x.c \
         y.c \
         z.c
OBJS   = ${SRCS:.c=.o}

##
## Targets
##
all: lib$(LIBRARY).a

lib$(LIBRARY).a: $(OBJS)
        $(RM) $@
        $(AR) $@ $(OBJS)
        $(RANLIB) $@

clean:
        $(RM) *.o core *.a

.PHONY: clean all

----------------------------------------------------------
SIGSIG -- signature too long (core dumped)


From seth at userprimary.net  Thu Oct 29 18:56:09 2009
From: seth at userprimary.net (Seth Falcon)
Date: Thu, 29 Oct 2009 10:56:09 -0700
Subject: [Rd] Help with lang4
In-Reply-To: <fc212e850910290738y1a6b901dk611f49b47e0893fa@mail.gmail.com>
References: <fc212e850910290700u4cb2be67n53d7efbfa787e7b6@mail.gmail.com>	
	<4AE9A328.5050305@userprimary.net>
	<fc212e850910290738y1a6b901dk611f49b47e0893fa@mail.gmail.com>
Message-ID: <4AE9D739.2060804@userprimary.net>

On 10/29/09 7:38 AM, Abhijit Bera wrote:
> Can't find the source to Rf_lang* series of functions. :|
>
> But I'm thinking it should be like this correct me if I'm wrong:
>
> PROTECT(e=lang4(install("myfunction"),arg1,arg2,arg3);
> PROTECT(SETCAR(CDR(e),portConstraints));
> PROTECT(portVal=R_tryEval(e,R_GlobalEnv, NULL));

Perhaps I'm misunderstanding your goal, but I do not think this is correct.

After this call:

     > PROTECT(e=lang4(install("myfunction"),arg1,arg2,arg3);

e can be visualized as:

            (myfunction (arg1 (arg2 (arg3 nil))))

If you want to end up with:

            (myfunction (arg1 (arg2 (arg3 (arg4 nil)))))

Then you either will want to build up the pair list from scratch or you 
could use some of the helpers, e.g. (all untested),

            SEXP last = lastElt(e);
            SEXP arg4Elt = lang1(arg4);
            SETCDR(last, arg4Elt);

Reading Rinlinedfuns.h should help some.

+ seth


From simon.urbanek at r-project.org  Thu Oct 29 19:47:45 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Oct 2009 14:47:45 -0400
Subject: [Rd] Help with lang4
In-Reply-To: <4AE9D739.2060804@userprimary.net>
References: <fc212e850910290700u4cb2be67n53d7efbfa787e7b6@mail.gmail.com>	
	<4AE9A328.5050305@userprimary.net>
	<fc212e850910290738y1a6b901dk611f49b47e0893fa@mail.gmail.com>
	<4AE9D739.2060804@userprimary.net>
Message-ID: <4DF619B0-F6FB-4BA3-9706-A263B427F039@r-project.org>


On Oct 29, 2009, at 13:56 , Seth Falcon wrote:

> On 10/29/09 7:38 AM, Abhijit Bera wrote:
>> Can't find the source to Rf_lang* series of functions. :|
>>
>> But I'm thinking it should be like this correct me if I'm wrong:
>>
>> PROTECT(e=lang4(install("myfunction"),arg1,arg2,arg3);
>> PROTECT(SETCAR(CDR(e),portConstraints));
>> PROTECT(portVal=R_tryEval(e,R_GlobalEnv, NULL));
>
> Perhaps I'm misunderstanding your goal, but I do not think this is  
> correct.
>
> After this call:
>
>    > PROTECT(e=lang4(install("myfunction"),arg1,arg2,arg3);
>
> e can be visualized as:
>
>           (myfunction (arg1 (arg2 (arg3 nil))))
>
> If you want to end up with:
>
>           (myfunction (arg1 (arg2 (arg3 (arg4 nil)))))
>
> Then you either will want to build up the pair list from scratch or  
> you could use some of the helpers, e.g. (all untested),
>
>           SEXP last = lastElt(e);
>           SEXP arg4Elt = lang1(arg4);
>           SETCDR(last, arg4Elt);
>

In general, I'd avoid SETCDR -- why not use CONS/LCONS? That is the  
generic way to do this (I'd suggest some reading about the  
fundamentals of it) -- langX/listX are just convenience macros  
(although not really macros ..).

Cheers,
Simon


From chuckwhite8 at charter.net  Thu Oct 29 20:01:44 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Thu, 29 Oct 2009 15:01:44 -0400
Subject: [Rd] unable to compile mgcv
In-Reply-To: <77EB52C6DD32BA4D87471DCD70C8D7000209A216@NA-PA-VBE03.na.tibco.com>
Message-ID: <20091029150144.371NZ.7717660.root@mp14>

Thanks for your response. In the past I have build R for RHEL and it was very simple. I did not have to do anything specific for certain libraries.

I do see the .tgz file (actually it is a link to the original file which has version number too). Questions
[1] do I need to unzip the tgz file, make changes, and zip it back again? Or would the makefile be able to handle the unzipped directory?
[2] is there a way to just compile that library only?
[3] what do I do to resume the compilation of the rest of the libraries. Re-running make would likely try to build the original version of mgcv again.

Thanks -- I would appreciate any document/instructions you can point me to.


---- William Dunlap <wdunlap at tibco.com> wrote: 
> 
> > -----Original Message-----
> > From: Chuck White [mailto:chuckwhite8 at charter.net] 
> > Sent: Wednesday, October 28, 2009 3:47 PM
> > To: r-devel at r-project.org; William Dunlap
> > Subject: RE: [Rd] unable to compile mgcv
> > 
> > Thanks for your response.  Can you please point me to the 
> > make file where I would make this change. Thanks.
> 
> If you untar src/library/Recommended/mgcv.tgz (sp?)
> this file will be in mgcv/src.  I'm not sure of the
> best way to take care of it on AIX.  It may be possible
> to #undef TRUE in include/R.h.  The AIX system includes
> define it in many places, the most prominent of which
> is in types.h.
> 
> If you cannot generally #undef TRUE in a global
> R include file then you will have to edit the C or h files
> in mgcv.
>


From Mark.Bravington at csiro.au  Fri Oct 30 05:50:13 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Fri, 30 Oct 2009 15:50:13 +1100
Subject: [Rd] parse_Rd and/or lazyload problem
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>

I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be something strange going on; my code is very similar to code that lives inside 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.

The examples below use files which can be found at ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to modify the paths. The file "scrunge.Rd" is just "Rdiff.Rd" from the 'tools' package. The file "fakepack.7z" should unzip to create a fake package with a DESCRIPTION file and a "man" directory that contains two Rd files.

Transcript of first example:
eglist <- list( scrunge=tools:::prepare_Rd(  'd:/temp/scrunge.Rd', 
    defines=.Platform$OS.type, stages='install', warningCalls=FALSE))
tools:::makeLazyLoadDB( eglist, 'd:/temp/ll', compress=FALSE)
tools:::fetchRdDB( 'd:/temp/ll')
# Error: cannot allocate vector of size 1.4 Gb

The second example triggers an error with 'tools:::.install_package_Rd_objects' itself. It doesn't happen the first time, but frequently does after the Rd files have been changed. Transcript:

# Make sure d:/temp/help/ is empty, then
test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
test> tools:::fetchRdDB( 'd:/temp/help/temp')
# All good. Next, I *removed* one of the two Rd files in "d:/temp/fakepack/man", ...
# ...deleted "d:/temp/help/temp*", and tried again
test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
test> tools:::fetchRdDB( 'd:/temp/help/temp')
Warning: Reached total allocation of 1535Mb: see help(memory.size)
Warning: Reached total allocation of 1535Mb: see help(memory.size)
Warning: Reached total allocation of 1535Mb: see help(memory.size)
Warning: Reached total allocation of 1535Mb: see help(memory.size)
Error: cannot allocate vector of size 1.9 Gb
# Or on other occasions I get
Error: internal error -3 in R_decompress1

Mark Bravington
CSIRO CMIS
Hobart
Australia

--please do not edit the information below--
Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = 
 major = 2
 minor = 10.0
 year = 2009
 month = 10
 day = 26
 svn rev = 50208
 language = R
 version.string = R version 2.10.0 (2009-10-26)
Windows XP (build 2600) Service Pack 2
Locale:
LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252
Search Path:
 .GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base

From arnima at hafro.is  Thu Oct 29 19:00:16 2009
From: arnima at hafro.is (arnima at hafro.is)
Date: Thu, 29 Oct 2009 19:00:16 +0100 (CET)
Subject: [Rd] weighted.mean uses zero when na.rm=TRUE (PR#14032)
Message-ID: <20091029180016.B4EEE282EFFB@mail.pubhealth.ku.dk>

The weighted.mean() function replaces NA values with 0.0 when the user 
specifies na.rm=TRUE:

   x <- c(101, 102, NA)
   mean(x, na.rm=TRUE)                         # 101.5, correct
   weighted.mean(x, na.rm=TRUE)                # 67.66667, wrong
   weighted.mean(x, w=c(1,1,1), na.rm=TRUE)    # 67.66667, wrong
   weighted.mean(x, w=c(1,1,1)/3, na.rm=TRUE)  # 67.66667, wrong

The weights are normalized w<-w/sum(w) before removing the NA values, 
effectively replacing x[is.na(x)]<-0. This bug was introduced between 
versions 2.9.2 and 2.10.0.

Thanks,

Arni


From j.van_den_hoff at fzd.de  Fri Oct 30 15:34:41 2009
From: j.van_den_hoff at fzd.de (Joerg van den Hoff)
Date: Fri, 30 Oct 2009 15:34:41 +0100
Subject: [Rd] bug in `pmatch' (error with too long 'choices')?
Message-ID: <20091030143441.GP5131@marco.fz-rossendorf.de>


I observed the following:

match.arg("white", colors()) 

yields 'white', but

match.arg("whit", colors())

yields:

`Error in match.arg("whit", colors()) : 
  'arg' should be one of "white", "aliceblue", '...

this message actually comes from `pmatch'. using a suitable subset of
`colors()' works OK. the precise length were the error occurs seems to
depend on `arg' and `choices'. e.g.

match.arg("whit", colors()[1:650])

works

but the limit seems not be fixed. in another setting it
happend around a length of `choices' of around 130. maybe a memory management related
bug? or am I missing something?

regards,
joerg



platform       powerpc-apple-darwin8.11.1  
arch           powerpc                     
os             darwin8.11.1                
system         powerpc, darwin8.11.1       
status                                     
major          2                           
minor          9.2                         
year           2009                        
month          08                          
day            24                          
svn rev        49384                       
language       R                           
version.string R version 2.9.2 (2009-08-24)


From p.dalgaard at biostat.ku.dk  Fri Oct 30 16:07:46 2009
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Fri, 30 Oct 2009 16:07:46 +0100
Subject: [Rd] weighted.mean uses zero when na.rm=TRUE (PR#14032)
In-Reply-To: <20091029180016.B4EEE282EFFB@mail.pubhealth.ku.dk>
References: <20091029180016.B4EEE282EFFB@mail.pubhealth.ku.dk>
Message-ID: <4AEB0142.40200@biostat.ku.dk>

arnima at hafro.is wrote:
> The weighted.mean() function replaces NA values with 0.0 when the user 
> specifies na.rm=TRUE:
> 
>    x <- c(101, 102, NA)
>    mean(x, na.rm=TRUE)                         # 101.5, correct
>    weighted.mean(x, na.rm=TRUE)                # 67.66667, wrong
>    weighted.mean(x, w=c(1,1,1), na.rm=TRUE)    # 67.66667, wrong
>    weighted.mean(x, w=c(1,1,1)/3, na.rm=TRUE)  # 67.66667, wrong
> 
> The weights are normalized w<-w/sum(w) before removing the NA values, 
> effectively replacing x[is.na(x)]<-0. This bug was introduced between 
> versions 2.9.2 and 2.10.0.

Yes,

r48644 on May 27, specifically.

-- 
    O__  ---- Peter Dalgaard             ?ster Farimagsgade 5, Entr.B
   c/ /'_ --- Dept. of Biostatistics     PO Box 2099, 1014 Cph. K
  (*) \(*) -- University of Copenhagen   Denmark      Ph:  (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)              FAX: (+45) 35327907


From tplate at acm.org  Fri Oct 30 18:38:07 2009
From: tplate at acm.org (Tony Plate)
Date: Fri, 30 Oct 2009 11:38:07 -0600
Subject: [Rd] bug in `pmatch' (error with too long 'choices')?
In-Reply-To: <20091030143441.GP5131@marco.fz-rossendorf.de>
References: <20091030143441.GP5131@marco.fz-rossendorf.de>
Message-ID: <4AEB247F.3030900@acm.org>

I believe the answer is that you are missing something: partial matching.

The 651'st elt of colors() is "whitesmoke", so it is ambiguous whether 
"whit" matches "white" or "whitesmoke". When you leave out the 651'st 
elt, "whit" happily matches "white".

 > which(substring(colors(), 1, 4)=="whit")
[1] 1 651
 > colors()[which(substring(colors(), 1, 4)=="whit")]
[1] "white" "whitesmoke"
 > match.arg("whit", colors()[1:650])
[1] "white"
 > match.arg("whit", colors())
Error in match.arg("whit", colors()) :
'arg' should be one of ?white?, ?aliceblue?, ...
 > match.arg("whit", colors()[c(1,651)])
Error in match.arg("whit", colors()[c(1, 651)]) :
'arg' should be one of ?white?, ?whitesmoke?
 >

-- Tony Plate

Joerg van den Hoff wrote:
> I observed the following:
>
> match.arg("white", colors()) 
>
> yields 'white', but
>
> match.arg("whit", colors())
>
> yields:
>
> `Error in match.arg("whit", colors()) : 
>   'arg' should be one of "white", "aliceblue", '...
>
> this message actually comes from `pmatch'. using a suitable subset of
> `colors()' works OK. the precise length were the error occurs seems to
> depend on `arg' and `choices'. e.g.
>
> match.arg("whit", colors()[1:650])
>
> works
>
> but the limit seems not be fixed. in another setting it
> happend around a length of `choices' of around 130. maybe a memory management related
> bug? or am I missing something?
>
> regards,
> joerg
>
>
>
> platform       powerpc-apple-darwin8.11.1  
> arch           powerpc                     
> os             darwin8.11.1                
> system         powerpc, darwin8.11.1       
> status                                     
> major          2                           
> minor          9.2                         
> year           2009                        
> month          08                          
> day            24                          
> svn rev        49384                       
> language       R                           
> version.string R version 2.9.2 (2009-08-24)
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From rkoenker at uiuc.edu  Fri Oct 30 21:28:32 2009
From: rkoenker at uiuc.edu (Roger Koenker)
Date: Fri, 30 Oct 2009 15:28:32 -0500
Subject: [Rd] evince pdf viewing
Message-ID: <0FB3C426-F074-48D3-8287-F85EB054C69C@uiuc.edu>

It was pointed out to me that scatter plots made on our rhel5 system  
(sessionInfo() below, have the curious
feature that when made with pdf() and viewed with evince show the  
points as "q" not "o".  Is this a known
problem with evince?  It is pretty clearly not a problem with R, since  
if I bring the pdf file back to my mac
and open in acrobat it looks normal.  So this is a just-in-case- 
someone-else-runs-into-this kind of post.

 > sessionInfo()
R version 2.10.0 alpha (2009-10-09 r50012)
x86_64-unknown-linux-gnu

locale:
  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
  [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
  [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] splines   stats     graphics  grDevices utils     datasets  methods
[8] base

other attached packages:
[1] survival_2.35-7 quantreg_4.42   SparseM_0.80

loaded via a namespace (and not attached):
[1] tools_2.10.0

url:    www.econ.uiuc.edu/~roger            Roger Koenker
email    rkoenker at uiuc.edu            Department of Economics
vox:     217-333-4558                University of Illinois
fax:       217-244-6678                Urbana, IL 61801


From rkoenker at uiuc.edu  Fri Oct 30 21:35:51 2009
From: rkoenker at uiuc.edu (Roger Koenker)
Date: Fri, 30 Oct 2009 15:35:51 -0500
Subject: [Rd] =?iso-8859-1?q?quoted_strings_in_foo=2ERd_rendered_as_=E2?=
Message-ID: <3BA551AF-1A86-46FC-813B-810A390BA111@uiuc.edu>

Another anomaly from our rhel5 system, again sessionInfo() below.
When I'm logged in remotely via ssh from my macpro and view  
documentation
files in my X11 window,  strings in single quotes in the files are all
abbreviated as ? .   The same files appear fine when rendered in X11
using the local R,  and also appear fine in a terminal window on the
linux machine, so this could easily also be some sort of ssh/X11 issue
not R at all, but if someone had any suggestion for further checking
it would be greatly appreciated.

Roger

 > sessionInfo()
R version 2.10.0 alpha (2009-10-09 r50012)
x86_64-unknown-linux-gnu

locale:
  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
  [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
  [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] splines   stats     graphics  grDevices utils     datasets  methods
[8] base

other attached packages:
[1] survival_2.35-7 quantreg_4.42   SparseM_0.80

loaded via a namespace (and not attached):
[1] tools_2.10.0


url:    www.econ.uiuc.edu/~roger            Roger Koenker
email    rkoenker at uiuc.edu            Department of Economics
vox:     217-333-4558                University of Illinois
fax:       217-244-6678                Urbana, IL 61801


From ripley at stats.ox.ac.uk  Fri Oct 30 22:11:44 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 30 Oct 2009 21:11:44 +0000 (GMT)
Subject: [Rd]
	=?iso-8859-15?q?quoted_strings_in_foo=2ERd_rendered_as_=E2?=
In-Reply-To: <3BA551AF-1A86-46FC-813B-810A390BA111@uiuc.edu>
References: <3BA551AF-1A86-46FC-813B-810A390BA111@uiuc.edu>
Message-ID: <alpine.OSX.1.00.0910302105500.94888@tystie.local>

First step to check: update to a released version of R 2.10.0!

If that does not help, using options(useFancyQuotes = TRUE) in the 
released version should (but possibly not as far back as your alpha 
pre-release).

I suspect that whatever you mean my 'my X11 window' (it is the 
application running in the window that matters, perhaps an xterm?) it 
is set to the wrong character set.  I simply use a Mac terminal 
window, and that ought to default to UTF-8 (but it can be changed, so 
check if you try one).

On Fri, 30 Oct 2009, Roger Koenker wrote:

> Another anomaly from our rhel5 system, again sessionInfo() below.
> When I'm logged in remotely via ssh from my macpro and view documentation
> files in my X11 window,  strings in single quotes in the files are all
> abbreviated as ? .   The same files appear fine when rendered in X11
> using the local R,  and also appear fine in a terminal window on the
> linux machine, so this could easily also be some sort of ssh/X11 issue
> not R at all, but if someone had any suggestion for further checking
> it would be greatly appreciated.
>
> Roger
>
>> sessionInfo()
> R version 2.10.0 alpha (2009-10-09 r50012)
> x86_64-unknown-linux-gnu
>
> locale:
> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
> [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
> [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
> [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
> [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] splines   stats     graphics  grDevices utils     datasets  methods
> [8] base
>
> other attached packages:
> [1] survival_2.35-7 quantreg_4.42   SparseM_0.80
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
>
>
> url:    www.econ.uiuc.edu/~roger            Roger Koenker
> email    rkoenker at uiuc.edu            Department of Economics
> vox:     217-333-4558                University of Illinois
> fax:       217-244-6678                Urbana, IL 61801
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Fri Oct 30 22:15:49 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 30 Oct 2009 21:15:49 +0000 (GMT)
Subject: [Rd] evince pdf viewing
In-Reply-To: <0FB3C426-F074-48D3-8287-F85EB054C69C@uiuc.edu>
References: <0FB3C426-F074-48D3-8287-F85EB054C69C@uiuc.edu>
Message-ID: <alpine.OSX.1.00.0910302112010.94888@tystie.local>

Yes, it is known: it is described with workarounds (thanks to Marc 
Schwarz, AFAIR) on the ?pdf help page.

On Fri, 30 Oct 2009, Roger Koenker wrote:

> It was pointed out to me that scatter plots made on our rhel5 system 
> (sessionInfo() below, have the curious
> feature that when made with pdf() and viewed with evince show the points as 
> "q" not "o".  Is this a known
> problem with evince?  It is pretty clearly not a problem with R, since if I 
> bring the pdf file back to my mac
> and open in acrobat it looks normal.  So this is a 
> just-in-case-someone-else-runs-into-this kind of post.
>
>> sessionInfo()
> R version 2.10.0 alpha (2009-10-09 r50012)
> x86_64-unknown-linux-gnu
>
> locale:
> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
> [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
> [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
> [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
> [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] splines   stats     graphics  grDevices utils     datasets  methods
> [8] base
>
> other attached packages:
> [1] survival_2.35-7 quantreg_4.42   SparseM_0.80
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
>
> url:    www.econ.uiuc.edu/~roger            Roger Koenker
> email    rkoenker at uiuc.edu            Department of Economics
> vox:     217-333-4558                University of Illinois
> fax:       217-244-6678                Urbana, IL 61801
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch at stats.uwo.ca  Fri Oct 30 22:59:32 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 30 Oct 2009 17:59:32 -0400
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>
Message-ID: <4AEB61C4.4050300@stats.uwo.ca>

On 30/10/2009 12:50 AM, Mark.Bravington at csiro.au wrote:
> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be something strange going on; my code is very similar to code that lives inside 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.

object.size() has problems when working on Rd objects, because it counts 
every environment separately, even though they may all be references to 
the same one. I haven't looked at your code, but that could be a problem.

Duncan Murdoch

> 
> The examples below use files which can be found at ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to modify the paths. The file "scrunge.Rd" is just "Rdiff.Rd" from the 'tools' package. The file "fakepack.7z" should unzip to create a fake package with a DESCRIPTION file and a "man" directory that contains two Rd files.
> 
> Transcript of first example:
> eglist <- list( scrunge=tools:::prepare_Rd(  'd:/temp/scrunge.Rd', 
>     defines=.Platform$OS.type, stages='install', warningCalls=FALSE))
> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll', compress=FALSE)
> tools:::fetchRdDB( 'd:/temp/ll')
> # Error: cannot allocate vector of size 1.4 Gb
> 
> The second example triggers an error with 'tools:::.install_package_Rd_objects' itself. It doesn't happen the first time, but frequently does after the Rd files have been changed. Transcript:
> 
> # Make sure d:/temp/help/ is empty, then
> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
> test> tools:::fetchRdDB( 'd:/temp/help/temp')
> # All good. Next, I *removed* one of the two Rd files in "d:/temp/fakepack/man", ...
> # ...deleted "d:/temp/help/temp*", and tried again
> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
> test> tools:::fetchRdDB( 'd:/temp/help/temp')
> Warning: Reached total allocation of 1535Mb: see help(memory.size)
> Warning: Reached total allocation of 1535Mb: see help(memory.size)
> Warning: Reached total allocation of 1535Mb: see help(memory.size)
> Warning: Reached total allocation of 1535Mb: see help(memory.size)
> Error: cannot allocate vector of size 1.9 Gb
> # Or on other occasions I get
> Error: internal error -3 in R_decompress1
> 
> Mark Bravington
> CSIRO CMIS
> Hobart
> Australia
> 
> --please do not edit the information below--
> Version:
>  platform = i386-pc-mingw32
>  arch = i386
>  os = mingw32
>  system = i386, mingw32
>  status = 
>  major = 2
>  minor = 10.0
>  year = 2009
>  month = 10
>  day = 26
>  svn rev = 50208
>  language = R
>  version.string = R version 2.10.0 (2009-10-26)
> Windows XP (build 2600) Service Pack 2
> Locale:
> LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252
> Search Path:
>  .GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From Mark.Bravington at csiro.au  Sat Oct 31 03:58:34 2009
From: Mark.Bravington at csiro.au (Mark.Bravington at csiro.au)
Date: Sat, 31 Oct 2009 13:58:34 +1100
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <4AEB61C4.4050300@stats.uwo.ca>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
Message-ID: <62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>

The errors are generated inside lazyLoadDBfetch; I don't call object.size, so unfortunately that's not the issue (unless o.s. is called somewhere inside the .Primitive for lazyLoadDBfetch).

> > I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-
> > load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions
> > that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be
> > something strange going on; my code is very similar to code that lives inside
> > 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
> 
> object.size() has problems when working on Rd objects, because it counts
> every environment separately, even though they may all be references to
> the same one. I haven't looked at your code, but that could be a problem.
> 
> 

Mark

________________________________________
From: Duncan Murdoch [murdoch at stats.uwo.ca]
Sent: 31 October 2009 08:59
To: Bravington, Mark (CMIS, Hobart)
Cc: r-devel at r-project.org
Subject: Re: [Rd] parse_Rd and/or lazyload problem

On 30/10/2009 12:50 AM, Mark.Bravington at csiro.au wrote:
> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be something strange going on; my code is very similar to code that lives inside 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.

object.size() has problems when working on Rd objects, because it counts
every environment separately, even though they may all be references to
the same one. I haven't looked at your code, but that could be a problem.

Duncan Murdoch

>
> The examples below use files which can be found at ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to modify the paths. The file "scrunge.Rd" is just "Rdiff.Rd" from the 'tools' package. The file "fakepack.7z" should unzip to create a fake package with a DESCRIPTION file and a "man" directory that contains two Rd files.
>
> Transcript of first example:
> eglist <- list( scrunge=tools:::prepare_Rd(  'd:/temp/scrunge.Rd',
>     defines=.Platform$OS.type, stages='install', warningCalls=FALSE))
> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll', compress=FALSE)
> tools:::fetchRdDB( 'd:/temp/ll')
> # Error: cannot allocate vector of size 1.4 Gb
>
> The second example triggers an error with 'tools:::.install_package_Rd_objects' itself. It doesn't happen the first time, but frequently does after the Rd files have been changed. Transcript:
>
> # Make sure d:/temp/help/ is empty, then
> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
> test> tools:::fetchRdDB( 'd:/temp/help/temp')
> # All good. Next, I *removed* one of the two Rd files in "d:/temp/fakepack/man", ...
> # ...deleted "d:/temp/help/temp*", and tried again
> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
> test> tools:::fetchRdDB( 'd:/temp/help/temp')
> Warning: Reached total allocation of 1535Mb: see help(memory.size)
> Warning: Reached total allocation of 1535Mb: see help(memory.size)
> Warning: Reached total allocation of 1535Mb: see help(memory.size)
> Warning: Reached total allocation of 1535Mb: see help(memory.size)
> Error: cannot allocate vector of size 1.9 Gb
> # Or on other occasions I get
> Error: internal error -3 in R_decompress1
>
> Mark Bravington
> CSIRO CMIS
> Hobart
> Australia
>
> --please do not edit the information below--
> Version:
>  platform = i386-pc-mingw32
>  arch = i386
>  os = mingw32
>  system = i386, mingw32
>  status =
>  major = 2
>  minor = 10.0
>  year = 2009
>  month = 10
>  day = 26
>  svn rev = 50208
>  language = R
>  version.string = R version 2.10.0 (2009-10-26)
> Windows XP (build 2600) Service Pack 2
> Locale:
> LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252
> Search Path:
>  .GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel

From hb at stat.berkeley.edu  Sat Oct 31 06:48:42 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Fri, 30 Oct 2009 22:48:42 -0700
Subject: [Rd] Suggestion for exception handling: More informative error
	message for "no applicable method..." (S3)
In-Reply-To: <59d7961d0910201244n6cf92c58p66f35ef68ce4680@mail.gmail.com>
References: <59d7961d0910201244n6cf92c58p66f35ef68ce4680@mail.gmail.com>
Message-ID: <59d7961d0910302248y52b3371dya72bf8b3d4706c40@mail.gmail.com>

Thanks for this silent update, whoever did it:

> foo <- function(...) UseMethod("foo")
> foo.ClassA <- function(object, ...) { cat("foo() for ClassA called.\n") }
> foo(structure(1, class="ClassA"))
foo() for ClassA called.
> foo(NULL)
Error in UseMethod("foo") :
  no applicable method for 'foo' applied to an object of class "NULL"
> foo(Sys.time())
Error in UseMethod("foo") :
  no applicable method for 'foo' applied to an object of class
"c('POSIXt', 'POSIXct')"

This is great.

> sessionInfo()
R version 2.10.0 Patched (2009-10-26 r50212)
i386-pc-mingw32

locale:
[1] LC_COLLATE=English_United States.1252
[2] LC_CTYPE=English_United States.1252
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

/Henrik


On Tue, Oct 20, 2009 at 12:44 PM, Henrik Bengtsson <hb at stat.berkeley.edu> wrote:
> I'd like to suggest that whenever there is no S3 method implementation
> available for a particular class, that the error message would also
> report the class structure of the object dispatched on.
>
> Example:
>
> foo <- function(...) UseMethod("foo")
> foo.ClassA <- function(object, ...) { cat("foo() for ClassA called.\n") }
>
>> foo(structure(1, class="ClassA"))
> foo() for ClassA called.
>
> Now:
>
>> foo(NULL)
> Error in UseMethod("foo") : no applicable method for "foo"
>
>> foo(Sys.time())
> Error in UseMethod("foo") : no applicable method for "foo"
>
> Suggestion:
>
>> foo(NULL)
> Error in UseMethod("foo") : no applicable foo() method: list
>
>> foo(Sys.time())
> Error in UseMethod("foo") : no applicable foo() method: POSIXt, POSIXct
>
> This would really help troubleshooting, especially when running in
> batch mode where you don't have direct access to the object without
> modifying the script and/or functions.
>
> /Henrik
>
> PS. I know that one as a workaround can create a "default" method that
> reports this, but I believe it is much better that the builtin
> exception handling should report this/carry this information.
>


From hb at stat.berkeley.edu  Sat Oct 31 10:06:02 2009
From: hb at stat.berkeley.edu (Henrik Bengtsson)
Date: Sat, 31 Oct 2009 02:06:02 -0700
Subject: [Rd] weighted.mean uses zero when na.rm=TRUE (PR#14032)
In-Reply-To: <4AEB0142.40200@biostat.ku.dk>
References: <20091029180016.B4EEE282EFFB@mail.pubhealth.ku.dk> 
	<4AEB0142.40200@biostat.ku.dk>
Message-ID: <59d7961d0910310206m3f37e236lab535925bd97a12b@mail.gmail.com>

Here some redundancy tests that may be useful (I use similar ones for
aroma.light::weightedMedian):

n <- 10
x <- 1:n

# No weights
m1 <- mean(x)
m2 <- weighted.mean(x)
stopifnot(all.equal(m1, m2))

# Equal weights on different scales
w1 <- rep(1, n)
m1 <- weighted.mean(x, w1)
w2 <- rep(100, n)
m2 <- weighted.mean(x, w2)
stopifnot(all.equal(m1,m2))

# Pull the mean towards first value
w1[1] <- 5000
m1 <- weighted.mean(x, w1)
w2[1] <- 500000
m2 <- weighted.mean(x, w2)
stopifnot(all.equal(m1,m2))

# Zero weights
x <- 1:n
w <- rep(1, n)
w[8:n] <- 0
m1 <- weighted.mean(x, w)
m2 <- mean(x[1:7])
stopifnot(all.equal(m1,m2))

# All weights set to zero
x <- 1:n
w <- rep(0, n)
m1 <- weighted.mean(x, w)
m2 <- mean(x[w > 0])
stopifnot(all.equal(m1,m2))

# Missing values
x <- 1:n
w <- rep(1, n)
x[4:5] <- NA
m1 <- weighted.mean(x, w, na.rm=TRUE)
m2 <- mean(x, na.rm=TRUE)
stopifnot(all.equal(m1,m2))

/Henrik


On Fri, Oct 30, 2009 at 8:07 AM, Peter Dalgaard
<p.dalgaard at biostat.ku.dk> wrote:
> arnima at hafro.is wrote:
>>
>> The weighted.mean() function replaces NA values with 0.0 when the user
>> specifies na.rm=TRUE:
>>
>> ? x <- c(101, 102, NA)
>> ? mean(x, na.rm=TRUE) ? ? ? ? ? ? ? ? ? ? ? ? # 101.5, correct
>> ? weighted.mean(x, na.rm=TRUE) ? ? ? ? ? ? ? ?# 67.66667, wrong
>> ? weighted.mean(x, w=c(1,1,1), na.rm=TRUE) ? ?# 67.66667, wrong
>> ? weighted.mean(x, w=c(1,1,1)/3, na.rm=TRUE) ?# 67.66667, wrong
>>
>> The weights are normalized w<-w/sum(w) before removing the NA values,
>> effectively replacing x[is.na(x)]<-0. This bug was introduced between
>> versions 2.9.2 and 2.10.0.
>
> Yes,
>
> r48644 on May 27, specifically.
>
> --
> ? O__ ?---- Peter Dalgaard ? ? ? ? ? ? ?ster Farimagsgade 5, Entr.B
> ?c/ /'_ --- Dept. of Biostatistics ? ? PO Box 2099, 1014 Cph. K
> ?(*) \(*) -- University of Copenhagen ? Denmark ? ? ?Ph: ?(+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk) ? ? ? ? ? ? ?FAX: (+45) 35327907
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From marc_schwartz at me.com  Sat Oct 31 14:02:54 2009
From: marc_schwartz at me.com (Marc Schwartz)
Date: Sat, 31 Oct 2009 08:02:54 -0500
Subject: [Rd] evince pdf viewing
In-Reply-To: <alpine.OSX.1.00.0910302112010.94888@tystie.local>
References: <0FB3C426-F074-48D3-8287-F85EB054C69C@uiuc.edu>
	<alpine.OSX.1.00.0910302112010.94888@tystie.local>
Message-ID: <217CBB02-34AE-44D7-BDE9-06F14FDEAF75@me.com>

In the interest of full disclosure, I did not provide that particular  
workaround.

It came via a thread on r-help back in January:

   https://stat.ethz.ch/pipermail/r-help/2009-January/185742.html

and was then moved to r-devel:

   https://stat.ethz.ch/pipermail/r-devel/2009-January/051891.html

The workaround was posted by Martin in the r-devel part of the thread,  
which in turn was retrieved from the bug report here:

   http://bugs.freedesktop.org/show_bug.cgi?id=18002

See comments #8 and #10 in the above.


Thanks!

Marc Schwartz


On Oct 30, 2009, at 4:15 PM, Prof Brian Ripley wrote:

> Yes, it is known: it is described with workarounds (thanks to Marc  
> Schwarz, AFAIR) on the ?pdf help page.
>
> On Fri, 30 Oct 2009, Roger Koenker wrote:
>
>> It was pointed out to me that scatter plots made on our rhel5  
>> system (sessionInfo() below, have the curious
>> feature that when made with pdf() and viewed with evince show the  
>> points as "q" not "o".  Is this a known
>> problem with evince?  It is pretty clearly not a problem with R,  
>> since if I bring the pdf file back to my mac
>> and open in acrobat it looks normal.  So this is a just-in-case- 
>> someone-else-runs-into-this kind of post.
>>
>>> sessionInfo()
>> R version 2.10.0 alpha (2009-10-09 r50012)
>> x86_64-unknown-linux-gnu
>>
>> locale:
>> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>> [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>> [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
>> [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>> [9] LC_ADDRESS=C               LC_TELEPHONE=C
>> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>>
>> attached base packages:
>> [1] splines   stats     graphics  grDevices utils     datasets   
>> methods
>> [8] base
>>
>> other attached packages:
>> [1] survival_2.35-7 quantreg_4.42   SparseM_0.80
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.10.0
>>
>> url:    www.econ.uiuc.edu/~roger            Roger Koenker
>> email    rkoenker at uiuc.edu            Department of Economics
>> vox:     217-333-4558                University of Illinois
>> fax:       217-244-6678                Urbana, IL 61801
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From murdoch at stats.uwo.ca  Sat Oct 31 15:27:32 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 31 Oct 2009 10:27:32 -0400
Subject: [Rd] parse_Rd and/or lazyload problem
In-Reply-To: <62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>
References: <62C82B39B8A85E4B95A18F7F7B852F87055595B001@exvic-mbx03.nexus.csiro.au>,
	<4AEB61C4.4050300@stats.uwo.ca>
	<62C82B39B8A85E4B95A18F7F7B852F87055595B002@exvic-mbx03.nexus.csiro.au>
Message-ID: <4AEC4954.9070400@stats.uwo.ca>

On 30/10/2009 10:58 PM, Mark.Bravington at csiro.au wrote:
> The errors are generated inside lazyLoadDBfetch; I don't call object.size, so unfortunately that's not the issue (unless o.s. is called somewhere inside the .Primitive for lazyLoadDBfetch).

Does this happen in R-patched?  I've seen similar errors in 2.10.0, but 
not in a current build.  (Still haven't got to your code, this was in 
mine.  I'm reluctant to spend time on code that is messing with 
internals, because you might be using things in a way not intended by 
the author.  Now, if you can show me some code that demonstrates the 
problem without using internals directly, I'll follow up.)

Duncan Murdoch

> 
>>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-
>>> load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions
>>> that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be
>>> something strange going on; my code is very similar to code that lives inside
>>> 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
>> object.size() has problems when working on Rd objects, because it counts
>> every environment separately, even though they may all be references to
>> the same one. I haven't looked at your code, but that could be a problem.
>>
>>
> 
> Mark
> 
> ________________________________________
> From: Duncan Murdoch [murdoch at stats.uwo.ca]
> Sent: 31 October 2009 08:59
> To: Bravington, Mark (CMIS, Hobart)
> Cc: r-devel at r-project.org
> Subject: Re: [Rd] parse_Rd and/or lazyload problem
> 
> On 30/10/2009 12:50 AM, Mark.Bravington at csiro.au wrote:
>> I'm encountering problems when making lazy-loadable databases of the output from 'parse_Rd'. The lazy-load database is of seemingly limitless size when I try to reload it... Admittedly I am using functions that I'm not really supposed to use, which is why this isn't a bug report, but there does seem to be something strange going on; my code is very similar to code that lives inside 'tools:::.install_package_Rd_objects'. The problems occur with just-released R2.10.0 on Windows.
> 
> object.size() has problems when working on Rd objects, because it counts
> every environment separately, even though they may all be references to
> the same one. I haven't looked at your code, but that could be a problem.
> 
> Duncan Murdoch
> 
>> The examples below use files which can be found at ftp://ftp.csiro.au/MarkBravington, but you'll obviously need to modify the paths. The file "scrunge.Rd" is just "Rdiff.Rd" from the 'tools' package. The file "fakepack.7z" should unzip to create a fake package with a DESCRIPTION file and a "man" directory that contains two Rd files.
>>
>> Transcript of first example:
>> eglist <- list( scrunge=tools:::prepare_Rd(  'd:/temp/scrunge.Rd',
>>     defines=.Platform$OS.type, stages='install', warningCalls=FALSE))
>> tools:::makeLazyLoadDB( eglist, 'd:/temp/ll', compress=FALSE)
>> tools:::fetchRdDB( 'd:/temp/ll')
>> # Error: cannot allocate vector of size 1.4 Gb
>>
>> The second example triggers an error with 'tools:::.install_package_Rd_objects' itself. It doesn't happen the first time, but frequently does after the Rd files have been changed. Transcript:
>>
>> # Make sure d:/temp/help/ is empty, then
>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>> # All good. Next, I *removed* one of the two Rd files in "d:/temp/fakepack/man", ...
>> # ...deleted "d:/temp/help/temp*", and tried again
>> test> tools:::.install_package_Rd_objects( 'd:/temp/fakepack', 'd:/temp')
>> test> tools:::fetchRdDB( 'd:/temp/help/temp')
>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>> Warning: Reached total allocation of 1535Mb: see help(memory.size)
>> Error: cannot allocate vector of size 1.9 Gb
>> # Or on other occasions I get
>> Error: internal error -3 in R_decompress1
>>
>> Mark Bravington
>> CSIRO CMIS
>> Hobart
>> Australia
>>
>> --please do not edit the information below--
>> Version:
>>  platform = i386-pc-mingw32
>>  arch = i386
>>  os = mingw32
>>  system = i386, mingw32
>>  status =
>>  major = 2
>>  minor = 10.0
>>  year = 2009
>>  month = 10
>>  day = 26
>>  svn rev = 50208
>>  language = R
>>  version.string = R version 2.10.0 (2009-10-26)
>> Windows XP (build 2600) Service Pack 2
>> Locale:
>> LC_COLLATE=English_Australia.1252;LC_CTYPE=English_Australia.1252;LC_MONETARY=English_Australia.1252;LC_NUMERIC=C;LC_TIME=English_Australia.1252
>> Search Path:
>>  .GlobalEnv, ROOT, package:grDevices, package:ad, package:chstuff, package:handy2, package:tweedie, package:statmod, package:handy, package:debug, package:mvbutils, mvb.session.info, package:tools, package:tcltk, package:stats, package:graphics, package:utils, package:methods, Autoloads, package:base
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel


From ripley at stats.ox.ac.uk  Sat Oct 31 18:05:29 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 31 Oct 2009 17:05:29 +0000 (GMT)
Subject: [Rd]
	=?iso-8859-15?q?quoted_strings_in_foo=2ERd_rendered_as_=E2?=
In-Reply-To: <465AFEC2-3978-46A0-8E7A-D7E129D30F31@illinois.edu>
References: <3BA551AF-1A86-46FC-813B-810A390BA111@uiuc.edu>
	<alpine.OSX.1.00.0910302105500.94888@tystie.local>
	<465AFEC2-3978-46A0-8E7A-D7E129D30F31@illinois.edu>
Message-ID: <alpine.LFD.2.00.0910311704190.26864@gannet.stats.ox.ac.uk>

On Sat, 31 Oct 2009, Roger Koenker wrote:

>
> On Oct 30, 2009, at 4:11 PM, Prof Brian Ripley wrote:
>
>> First step to check: update to a released version of R 2.10.0!
> I see the same behavior with:
> R version 2.10.0 (2009-10-26)
> x86_64-unknown-linux-gnu
>
> locale:
> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
> [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
> [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
> [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
> [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
>
>> 
>> If that does not help, using options(useFancyQuotes = TRUE) in the released 
>> version should (but possibly not as far back as your alpha pre-release).
>
> And also with options(useFancyQuotes = TRUE)

Oops, you want FALSE to suppress it: TRUE is the default.

>> I suspect that whatever you mean my 'my X11 window' (it is the application 
>> running in the window that matters, perhaps an xterm?) it is set to the 
>> wrong character set.  I simply use a Mac terminal window, and that ought to 
>> default to UTF-8 (but it can be changed, so check if you try one).
> Yes,  I did mean xterm, and yes in a mac terminal window I do get correct 
> rendering, so
> maybe I should just give up on xterm entirely, but old habits die hard.
>> 
>> On Fri, 30 Oct 2009, Roger Koenker wrote:
>> 
>>> Another anomaly from our rhel5 system, again sessionInfo() below.
>>> When I'm logged in remotely via ssh from my macpro and view documentation
>>> files in my X11 window,  strings in single quotes in the files are all
>>> abbreviated as ? .   The same files appear fine when rendered in X11
>>> using the local R,  and also appear fine in a terminal window on the
>>> linux machine, so this could easily also be some sort of ssh/X11 issue
>>> not R at all, but if someone had any suggestion for further checking
>>> it would be greatly appreciated.
>>> 
>>> Roger
>>> 
>>>> sessionInfo()
>>> R version 2.10.0 alpha (2009-10-09 r50012)
>>> x86_64-unknown-linux-gnu
>>> 
>>> locale:
>>> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>>> [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>>> [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
>>> [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>>> [9] LC_ADDRESS=C               LC_TELEPHONE=C
>>> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>>> 
>>> attached base packages:
>>> [1] splines   stats     graphics  grDevices utils     datasets  methods
>>> [8] base
>>> 
>>> other attached packages:
>>> [1] survival_2.35-7 quantreg_4.42   SparseM_0.80
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] tools_2.10.0
>>> 
>>> 
>>> url:    www.econ.uiuc.edu/~roger            Roger Koenker
>>> email    rkoenker at uiuc.edu            Department of Economics
>>> vox:     217-333-4558                University of Illinois
>>> fax:       217-244-6678                Urbana, IL 61801
>>> 
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From chuckwhite8 at charter.net  Sat Oct 31 19:04:05 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Sat, 31 Oct 2009 14:04:05 -0400
Subject: [Rd] unable to compile mgcv
Message-ID: <20091031140405.UR30K.6038568.root@mp15>

I have been able to compile mgcv 1.5-6 *successfully* on the AIX box with gcc.   I replaced all the TRUE/FALSE in magic.c and gdi.c with mgcvTRUE/mgcvFALSE.

Thanks to William Dunlap for his help.


From chuckwhite8 at charter.net  Sat Oct 31 19:13:09 2009
From: chuckwhite8 at charter.net (Chuck White)
Date: Sat, 31 Oct 2009 14:13:09 -0400
Subject: [Rd] unable to compile RODBC (R 2.9.2, AIX)
Message-ID: <20091031141309.HU21I.6038980.root@mp15>

Hello -- I am trying to compile (linker error, not compiler error) RODBC for R 2.9.2 on AIX 5.3 using gcc. I get the following error:

gcc -maix64 -pthread -std=gnu99 -shared -Wl,-brtl -Wl,-G -Wl,-bexpall -Wl,-bnoentry -lc -L/usr/lib -L/usr/X
11R6/lib -L/usr/local/lib -L/opt/freeware/lib -L/opt/freeware/lib64 -o RODBC.so RODBC.o -lodbc -lm -L/usr/l
ocal/builddir/lib -lR
ld: 0711-738 ERROR: Input file /usr/lib/libodbc.so:
        XCOFF32 object files are not allowed in 64-bit mode.
collect2: ld returned 8 exit status
gmake: *** [RODBC.so] Error 1
ERROR: compilation failed for package 'RODBC'

I would appreciate any help I can get in this regard.  Thanks.


From jayemerson at gmail.com  Sat Oct 31 20:36:30 2009
From: jayemerson at gmail.com (Jay Emerson)
Date: Sat, 31 Oct 2009 15:36:30 -0400
Subject: [Rd] promptMethods() in R-2.10.0
Message-ID: <d4588dec0910311236y148426d4o7568784baf08937d@mail.gmail.com>

I'm trying to improve my package documentation and tried out
promptMethods() in R-2.10.0 (Linux 64-bit Ubuntu). It generates
an Rd file with an extra \ before signature, such as:

\item{\code{\signature(x = "matrix")}}{ ... }

generating warnings upon package check such as the following:

prepare_Rd: mwhich-methods.Rd:16: unknown macro '\signature'

As expected, deleting this \ creates a perfectly reasonable Rd file.
Apologies in advance if this has already been reported and fixed;
my google search didn't turn up anything, and I didn't remember seeing
anything previously on R-devel.

Jay


--
John W. Emerson (Jay)
Associate Professor of Statistics
Department of Statistics
Yale University
http://www.stat.yale.edu/~jay


From rkoenker at illinois.edu  Sat Oct 31 16:26:35 2009
From: rkoenker at illinois.edu (Roger Koenker)
Date: Sat, 31 Oct 2009 10:26:35 -0500
Subject: [Rd] evince pdf viewing
In-Reply-To: <217CBB02-34AE-44D7-BDE9-06F14FDEAF75@me.com>
References: <0FB3C426-F074-48D3-8287-F85EB054C69C@uiuc.edu>
	<alpine.OSX.1.00.0910302112010.94888@tystie.local>
	<217CBB02-34AE-44D7-BDE9-06F14FDEAF75@me.com>
Message-ID: <CC930274-BEBE-42D5-B950-1EC2F65A382A@illinois.edu>

Thanks to all, the suggested fix has cleared this up.

Roger

On Oct 31, 2009, at 8:02 AM, Marc Schwartz wrote:

> In the interest of full disclosure, I did not provide that  
> particular workaround.
>
> It came via a thread on r-help back in January:
>
>  https://stat.ethz.ch/pipermail/r-help/2009-January/185742.html
>
> and was then moved to r-devel:
>
>  https://stat.ethz.ch/pipermail/r-devel/2009-January/051891.html
>
> The workaround was posted by Martin in the r-devel part of the  
> thread, which in turn was retrieved from the bug report here:
>
>  http://bugs.freedesktop.org/show_bug.cgi?id=18002
>
> See comments #8 and #10 in the above.
>
>
> Thanks!
>
> Marc Schwartz
>
>
> On Oct 30, 2009, at 4:15 PM, Prof Brian Ripley wrote:
>
>> Yes, it is known: it is described with workarounds (thanks to Marc  
>> Schwarz, AFAIR) on the ?pdf help page.
>>
>> On Fri, 30 Oct 2009, Roger Koenker wrote:
>>
>>> It was pointed out to me that scatter plots made on our rhel5  
>>> system (sessionInfo() below, have the curious
>>> feature that when made with pdf() and viewed with evince show the  
>>> points as "q" not "o".  Is this a known
>>> problem with evince?  It is pretty clearly not a problem with R,  
>>> since if I bring the pdf file back to my mac
>>> and open in acrobat it looks normal.  So this is a just-in-case- 
>>> someone-else-runs-into-this kind of post.
>>>
>>>> sessionInfo()
>>> R version 2.10.0 alpha (2009-10-09 r50012)
>>> x86_64-unknown-linux-gnu
>>>
>>> locale:
>>> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>>> [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>>> [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
>>> [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>>> [9] LC_ADDRESS=C               LC_TELEPHONE=C
>>> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>>>
>>> attached base packages:
>>> [1] splines   stats     graphics  grDevices utils     datasets   
>>> methods
>>> [8] base
>>>
>>> other attached packages:
>>> [1] survival_2.35-7 quantreg_4.42   SparseM_0.80
>>>
>>> loaded via a namespace (and not attached):
>>> [1] tools_2.10.0
>>>
>>> url:    www.econ.uiuc.edu/~roger            Roger Koenker
>>> email    rkoenker at uiuc.edu            Department of Economics
>>> vox:     217-333-4558                University of Illinois
>>> fax:       217-244-6678                Urbana, IL 61801
>>>
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel


From rkoenker at illinois.edu  Sat Oct 31 16:49:53 2009
From: rkoenker at illinois.edu (Roger Koenker)
Date: Sat, 31 Oct 2009 10:49:53 -0500
Subject: [Rd] =?iso-8859-1?q?quoted_strings_in_foo=2ERd_rendered_as_=E2?=
In-Reply-To: <alpine.OSX.1.00.0910302105500.94888@tystie.local>
References: <3BA551AF-1A86-46FC-813B-810A390BA111@uiuc.edu>
	<alpine.OSX.1.00.0910302105500.94888@tystie.local>
Message-ID: <465AFEC2-3978-46A0-8E7A-D7E129D30F31@illinois.edu>


On Oct 30, 2009, at 4:11 PM, Prof Brian Ripley wrote:

> First step to check: update to a released version of R 2.10.0!
I see the same behavior with:
R version 2.10.0 (2009-10-26)
x86_64-unknown-linux-gnu

locale:
  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
  [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
  [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.10.0

>
> If that does not help, using options(useFancyQuotes = TRUE) in the  
> released version should (but possibly not as far back as your alpha  
> pre-release).

And also with options(useFancyQuotes = TRUE)
>
> I suspect that whatever you mean my 'my X11 window' (it is the  
> application running in the window that matters, perhaps an xterm?)  
> it is set to the wrong character set.  I simply use a Mac terminal  
> window, and that ought to default to UTF-8 (but it can be changed,  
> so check if you try one).
Yes,  I did mean xterm, and yes in a mac terminal window I do get  
correct rendering, so
maybe I should just give up on xterm entirely, but old habits die hard.
>
> On Fri, 30 Oct 2009, Roger Koenker wrote:
>
>> Another anomaly from our rhel5 system, again sessionInfo() below.
>> When I'm logged in remotely via ssh from my macpro and view  
>> documentation
>> files in my X11 window,  strings in single quotes in the files are  
>> all
>> abbreviated as ? .   The same files appear fine when rendered in X11
>> using the local R,  and also appear fine in a terminal window on the
>> linux machine, so this could easily also be some sort of ssh/X11  
>> issue
>> not R at all, but if someone had any suggestion for further checking
>> it would be greatly appreciated.
>>
>> Roger
>>
>>> sessionInfo()
>> R version 2.10.0 alpha (2009-10-09 r50012)
>> x86_64-unknown-linux-gnu
>>
>> locale:
>> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>> [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>> [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
>> [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>> [9] LC_ADDRESS=C               LC_TELEPHONE=C
>> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>>
>> attached base packages:
>> [1] splines   stats     graphics  grDevices utils     datasets   
>> methods
>> [8] base
>>
>> other attached packages:
>> [1] survival_2.35-7 quantreg_4.42   SparseM_0.80
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.10.0
>>
>>
>> url:    www.econ.uiuc.edu/~roger            Roger Koenker
>> email    rkoenker at uiuc.edu            Department of Economics
>> vox:     217-333-4558                University of Illinois
>> fax:       217-244-6678                Urbana, IL 61801
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From rkoenker at illinois.edu  Sat Oct 31 18:26:06 2009
From: rkoenker at illinois.edu (Roger Koenker)
Date: Sat, 31 Oct 2009 12:26:06 -0500
Subject: [Rd] =?iso-8859-1?q?quoted_strings_in_foo=2ERd_rendered_as_=E2?=
In-Reply-To: <alpine.LFD.2.00.0910311704190.26864@gannet.stats.ox.ac.uk>
References: <3BA551AF-1A86-46FC-813B-810A390BA111@uiuc.edu>
	<alpine.OSX.1.00.0910302105500.94888@tystie.local>
	<465AFEC2-3978-46A0-8E7A-D7E129D30F31@illinois.edu>
	<alpine.LFD.2.00.0910311704190.26864@gannet.stats.ox.ac.uk>
Message-ID: <840E9B2D-E26A-4B60-B4A9-C157FAD8F562@illinois.edu>

Thanks again, options(useFancyQuotes = FALSE)  works perfectly!

Roger

On Oct 31, 2009, at 12:05 PM, Prof Brian Ripley wrote:

> On Sat, 31 Oct 2009, Roger Koenker wrote:
>
>>
>> On Oct 30, 2009, at 4:11 PM, Prof Brian Ripley wrote:
>>
>>> First step to check: update to a released version of R 2.10.0!
>> I see the same behavior with:
>> R version 2.10.0 (2009-10-26)
>> x86_64-unknown-linux-gnu
>>
>> locale:
>> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>> [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>> [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
>> [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>> [9] LC_ADDRESS=C               LC_TELEPHONE=C
>> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.10.0
>>
>>> If that does not help, using options(useFancyQuotes = TRUE) in the  
>>> released version should (but possibly not as far back as your  
>>> alpha pre-release).
>>
>> And also with options(useFancyQuotes = TRUE)
>
> Oops, you want FALSE to suppress it: TRUE is the default.
>
>>> I suspect that whatever you mean my 'my X11 window' (it is the  
>>> application running in the window that matters, perhaps an xterm?)  
>>> it is set to the wrong character set.  I simply use a Mac terminal  
>>> window, and that ought to default to UTF-8 (but it can be changed,  
>>> so check if you try one).
>> Yes,  I did mean xterm, and yes in a mac terminal window I do get  
>> correct rendering, so
>> maybe I should just give up on xterm entirely, but old habits die  
>> hard.
>>> On Fri, 30 Oct 2009, Roger Koenker wrote:
>>>> Another anomaly from our rhel5 system, again sessionInfo() below.
>>>> When I'm logged in remotely via ssh from my macpro and view  
>>>> documentation
>>>> files in my X11 window,  strings in single quotes in the files  
>>>> are all
>>>> abbreviated as ? .   The same files appear fine when rendered in  
>>>> X11
>>>> using the local R,  and also appear fine in a terminal window on  
>>>> the
>>>> linux machine, so this could easily also be some sort of ssh/X11  
>>>> issue
>>>> not R at all, but if someone had any suggestion for further  
>>>> checking
>>>> it would be greatly appreciated.
>>>> Roger
>>>>> sessionInfo()
>>>> R version 2.10.0 alpha (2009-10-09 r50012)
>>>> x86_64-unknown-linux-gnu
>>>> locale:
>>>> [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>>>> [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>>>> [5] LC_MONETARY=C              LC_MESSAGES=en_US.UTF-8
>>>> [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>>>> [9] LC_ADDRESS=C               LC_TELEPHONE=C
>>>> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>>>> attached base packages:
>>>> [1] splines   stats     graphics  grDevices utils     datasets   
>>>> methods
>>>> [8] base
>>>> other attached packages:
>>>> [1] survival_2.35-7 quantreg_4.42   SparseM_0.80
>>>> loaded via a namespace (and not attached):
>>>> [1] tools_2.10.0
>>>> url:    www.econ.uiuc.edu/~roger            Roger Koenker
>>>> email    rkoenker at uiuc.edu            Department of Economics
>>>> vox:     217-333-4558                University of Illinois
>>>> fax:       217-244-6678                Urbana, IL 61801
>>>> ______________________________________________
>>>> R-devel at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From edd at debian.org  Sat Oct 31 20:58:52 2009
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 31 Oct 2009 14:58:52 -0500
Subject: [Rd] Makevars, cc files in multiple directories
In-Reply-To: <04B3F9E2-03F7-455F-A656-E934FA94383E@gmail.com>
References: <04B3F9E2-03F7-455F-A656-E934FA94383E@gmail.com>
Message-ID: <19180.38652.613966.929943@ron.nulle.part>


On 29 October 2009 at 11:47, Saptarshi Guha wrote:
| Hello,
| In the src folder of my R package I have
| 
| a.cc
| b.cc
| f/g/x.cc
| 
| my Makevars.in has
| 
| all: $(SHLIB)
| 
| upon installing only, a.o and b.o is build and the final dll is  
| comprised of a.o and b.o
| 
| How can I instruct $(SHLIB) to pick up its source files from all  
| subdirectories (or maybe a subset, though here it will be all)
| in src ?

The Matrix package by D Bates and M Maechler has one of the more complex
setups, you could study their example. I include the (short) src/Makevars
below, it uses the (appropriate) Make directive SUBDIRS. And similar to
Paul's suggestionm it seems like static libraries are used to tie the
subdirectories together.

Hth, Dirk

-----------------------------------------------------------------------------
# -*- Makefile -*-

PKG_CPPFLAGS = -I./UFconfig
## we use the BLAS and the LAPACK library:
PKG_LIBS = $(SUBLIBS) $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS)

MkInclude = $(R_HOME)/etc${R_ARCH}/Makeconf

include scripts/SOURCES_C.mkf

OBJECTS = $(SOURCES_C:.c=.o)
SUBDIRS = CHOLMOD COLAMD AMD
SUBLIBS = $(SUBDIRS:=.a)

all: $(SHLIB)
## making src/*.o and in sublibs can be done simultaneously
# for development:
#$(SHLIB): $(OBJECTS)
# for real:
$(SHLIB): $(OBJECTS) sublibs

## We have to clean here, to clean up between architectures:
## INSTALL only cleans src/*.o src/*$(SHLIB_EXT) for each arch
sublibs: subclean
	@for d in $(SUBDIRS); do \
	  (cd $${d} && CFLAGS="$(CFLAGS)" CXXFLAGS="$(CXXFLAGS)" MkInclude="$(MkInclude)" $(MAKE) library) || exit 1; \
	done

clean: subclean
	@-rm -rf .libs _libs
	@-rm -f *.o $(SHLIB)

subclean:
	@-rm -f *.a
	@for d in $(SUBDIRS); do \
	  (cd $${d} && MkInclude="$(MkInclude)" $(MAKE) clean) || exit 1; \
	done


include scripts/DEPS.mkf
-----------------------------------------------------------------------------



-- 
Three out of two people have difficulties with fractions.


From ripley at stats.ox.ac.uk  Sat Oct 31 21:10:58 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 31 Oct 2009 20:10:58 +0000 (GMT)
Subject: [Rd] unable to compile RODBC (R 2.9.2, AIX)
In-Reply-To: <20091031141309.HU21I.6038980.root@mp15>
References: <20091031141309.HU21I.6038980.root@mp15>
Message-ID: <alpine.LFD.2.00.0910312004550.8383@gannet.stats.ox.ac.uk>

On Sat, 31 Oct 2009, Chuck White wrote:

> Hello -- I am trying to compile (linker error, not compiler error) RODBC for R 2.9.2 on AIX 5.3 using gcc. I get the following error:
>
> gcc -maix64 -pthread -std=gnu99 -shared -Wl,-brtl -Wl,-G -Wl,-bexpall -Wl,-bnoentry -lc -L/usr/lib -L/usr/X
> 11R6/lib -L/usr/local/lib -L/opt/freeware/lib -L/opt/freeware/lib64 -o RODBC.so RODBC.o -lodbc -lm -L/usr/l
> ocal/builddir/lib -lR
> ld: 0711-738 ERROR: Input file /usr/lib/libodbc.so:
>        XCOFF32 object files are not allowed in 64-bit mode.
> collect2: ld returned 8 exit status
> gmake: *** [RODBC.so] Error 1
> ERROR: compilation failed for package 'RODBC'
>
> I would appreciate any help I can get in this regard.  Thanks.

It looks simple: apparently you have a 64-bit R and a 32-bit ODBC 
library (and that's not an R issue, and we don't have enough to go on 
-- the posting guide does ask for 'at a minimum' information for good 
reasons).

Surely /opt/freeware/lib64 should precede (and hence have priority 
over) /opt/freeware/lib?  We don't know what linker you built gcc with 
-- some are clever enough to select libraries of the right 
architecture on e.g. Solaris, but I believe we've seen this before on 
(not so recent) versions of AIX.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From marc_schwartz at me.com  Sat Oct 31 21:13:40 2009
From: marc_schwartz at me.com (Marc Schwartz)
Date: Sat, 31 Oct 2009 15:13:40 -0500
Subject: [Rd] unable to compile RODBC (R 2.9.2, AIX)
In-Reply-To: <20091031141309.HU21I.6038980.root@mp15>
References: <20091031141309.HU21I.6038980.root@mp15>
Message-ID: <19407CE5-BB27-4FF4-B620-9A7E7DAB223E@me.com>

On Oct 31, 2009, at 1:13 PM, Chuck White wrote:

> Hello -- I am trying to compile (linker error, not compiler error)  
> RODBC for R 2.9.2 on AIX 5.3 using gcc. I get the following error:
>
> gcc -maix64 -pthread -std=gnu99 -shared -Wl,-brtl -Wl,-G -Wl,- 
> bexpall -Wl,-bnoentry -lc -L/usr/lib -L/usr/X
> 11R6/lib -L/usr/local/lib -L/opt/freeware/lib -L/opt/freeware/lib64 - 
> o RODBC.so RODBC.o -lodbc -lm -L/usr/l
> ocal/builddir/lib -lR
> ld: 0711-738 ERROR: Input file /usr/lib/libodbc.so:
>        XCOFF32 object files are not allowed in 64-bit mode.
> collect2: ld returned 8 exit status
> gmake: *** [RODBC.so] Error 1
> ERROR: compilation failed for package 'RODBC'
>
> I would appreciate any help I can get in this regard.  Thanks.

I don't have hands-on experience with AIX, but I am going to guess  
that you have a 32 bit version of unixODBC installed and that is what  
is being found on your system, raising the error. If you do have a 64  
bit version installed, I believe that the path is /usr/lib64, rather  
than /usr/lib. So you perhaps need to adjust the library paths for the  
RODBC package configuration and/or if not yet installed, be sure to  
install a 64 bit version of unixODBC.

Additional information is available in the RODBC package vignette,  
which is available online:

   http://cran.r-project.org/web/packages/RODBC/vignettes/RODBC.pdf

See Appendix A for Installation information.

BTW, for future reference, you might want to post to the R-sig-db list:

   https://stat.ethz.ch/mailman/listinfo/r-sig-db


HTH,

Marc Schwartz


From alexios at 4dscape.com  Sat Oct 31 23:05:13 2009
From: alexios at 4dscape.com (alexios at 4dscape.com)
Date: Sat, 31 Oct 2009 23:05:13 +0100 (CET)
Subject: [Rd] Request: bring back windows chm help support (PR#14034)
Message-ID: <20091031220513.2F324282EF3D@mail.pubhealth.ku.dk>

Full_Name: alex galanos
Version: 2.10.0
OS: windows vista
Submission from: (NULL) (86.11.78.110)


I respectfully request that the chm help support for windows, which was very
convenient, be reinstated...couldn't an online poll have been conducted to gauge
the support of this format by window's users?


