From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Dec  1 08:05:25 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 1 Dec 1998 09:05:25 +0100
Subject: Random Number Generators,  .Random.seed  and all that..
Message-ID: <199812010805.JAA05241@sophie.ethz.ch>

As some of you know,
we have been thinking of allowing the possibility of a
CHOICE of the kind of random number generator (=: RNG) to use in R.
The current R-release snapshot even has some code in it; 
however, this will be changed quite a bit.  Here is a kind of informal
RFC (request for comments / request for criticism / ..):

  1a.  With the new scheme, we still want that
       save(..)  & load(..)  restore the  state of the RNG.

      The new state is  [ RNGkind ; "seed" of that RNG ].
      "seed" really means the state of the chosen RNG

  1b. For compatibility reasons, it makes sense
      to keep this RNGstate in the integer vector  .Random.seed.

      Before each RN generation, .Random.seed is read into the internal
      RNG state variables; afterwards .Random.seed is restored from there.

  1c. In the future,  .Random.seed[1]    == <code of RNGkind>
		      .Random.seed[2:ns] == "seed" itself.

	===> INCOMPATIBILITY to currently saved or set  .Random.seeds.

	We could fudge backward compatibility by

		if(length(.Random.seed) == "desired length for RNGkind" - 1) {

			behave as if .Random.seed[0] == <current RNGkind code>
			.Random.seed[1:n] == <corrected .Random.seed>[2:(n+1)]
		}
	Should I provide this hack?
	If I don't people will more quickly have to change their code,
	setting proper  .Random.seed  whereever they assign one.

  1d. Each RNG has it's own "seed" (state vector).
      Randomize() is only called when .Random.seed isn't there, or
      (new)  if( length(.Random.seed) == 1  && 
		 .Random.seed[1] == "valid RNGkind code" )


  2. Default RNGkind == as now, "Wichmann-Hill"

  3. In addition to .Random.seed, the RNGkind can be queried and set by
	RNGkind()
     or, e.g.,
	RNGkind("Super-Duper")


	{{ my current code now provides all the above, with the exception of
	   the full backward compatibility hack}}

Comments (incl. praises :-}) welcome!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><

	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Dec  1 17:16:45 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 1 Dec 1998 12:16:45 -0500
Subject: [R] help files for libraries that aren't in the defaults library tree
References: <Pine.SOL.3.91.981201074948.10784A-100000@oriole.er.usgs.gov>
Message-ID: <98Dec1.150614est.13477@mailgate.bank-banque-canada.ca>

> "J" == J Andy Royle <jar@oriole.er.usgs.gov> writes:

>I created the library "myR" and installed this in /home/royle/R
>using:

>R INSTALL -l /home/royle/R   /home/royle/Rpackages/myR

The installation of (at least html) documentation for private libraries does not
work properly in 0.63.  (If r-devel is not aware of this the problem is that
R/doc/html/function.html and R/doc/html/packages.html get clobbered.)

If you do:

R INSTALL   myR

in the subdirectory /home/royle/Rpackages then the package will be installed in
the directory with other R packages and the documentation will be installed
correctly. (This assumes you have write permission on that directory.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From osman.buyukisik@ae.ge.com  Thu Dec  3 15:11:20 1998
From: osman.buyukisik@ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Thu,  3 Dec 1998 10:11:20 -0500 (EST)
Subject: Makefiles in contributed packages
Message-ID: <13926.43105.655679.260456@c1186.ae.ge.com>

Hello,
 I have a couple of suggestions that will help persons with
machines/OSs that use extensions other than ".so" for shared libs:

1) Use the variable SHLIBEXT (defined in Makeconf), DONT use "so" or "sl".
2) Use the method in "modreg" to load the dynamic lib:
 .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
    DO NOT USE
    library.dynam("eda.so")


Now, I have to edit every package Makefile and zzz.R files for
hpux10.20 installs. 

TIA
osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Dec  3 18:40:45 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 3 Dec 1998 13:40:45 -0500
Subject: gmake
Message-ID: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>

GNU make does not work for some of my other work so for compiling R I am trying
to use "gmake" which is a link to the correct version of gnu make. I'm not sure
if this should work but it looks like it is suppose to, as $(MAKE) gets expanded
to "gmake" most places. However, "make" gets used in

R-pre0.63.1/src/library/modreg/src

and fails. Is this a bug or should I not expect this to work? I'm trying to
compile an intermediate release.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Dec  3 20:42:08 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 3 Dec 1998 15:42:08 -0500
Subject: max(NULL)
Message-ID: <98Dec3.155312est.13444@mailgate.bank-banque-canada.ca>

In Splus 3.3 and previous to R 0.63  max(NULL) returned NA and now it returns

> max(NULL)
Warning in max(..., na.rm = na.rm) : no finite arguments to min/max; returning
extreme.
[1] -2147483647

Is this a bug or an intentional change?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Dec  3 21:14:32 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 3 Dec 1998 13:14:32 -0800 (PST)
Subject: max(NULL)
In-Reply-To: <98Dec3.155312est.13444@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9812031312550.25808-100000@wompom.biostat.washington.edu>

On Thu, 3 Dec 1998, Paul Gilbert wrote:

> In Splus 3.3 and previous to R 0.63  max(NULL) returned NA and now it returns
> 
> > max(NULL)
> Warning in max(..., na.rm = na.rm) : no finite arguments to min/max; returning
> extreme.
> [1] -2147483647
> 
> Is this a bug or an intentional change?

It's intentional: ie max of an empty set is -Inf, min is +Inf 
For a while it happened silently, but now you get warned.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Dec  3 21:32:55 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 3 Dec 1998 22:32:55 +0100 (CET)
Subject: gmake
In-Reply-To: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>
References: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>
Message-ID: <13927.903.791559.555331@pc87.maho.magnaeu.com>

>>>>> Paul Gilbert writes:

> GNU make does not work for some of my other work so for compiling R I
> am trying to use "gmake" which is a link to the correct version of gnu
> make. I'm not sure if this should work but it looks like it is suppose
> to, as $(MAKE) gets expanded to "gmake" most places. However, "make"
> gets used in

> R-pre0.63.1/src/library/modreg/src

> and fails. Is this a bug or should I not expect this to work? I'm
> trying to compile an intermediate release.

Not sure if I understand this but anyway:  if you want to use `foo',
say, for make, you should do (Bourne shell)

	MAKE=foo configure
	foo

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Dec  3 21:35:51 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 3 Dec 1998 13:35:51 -0800 (PST)
Subject: gmake
In-Reply-To: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9812031331520.25808-100000@wompom.biostat.washington.edu>

On Thu, 3 Dec 1998, Paul Gilbert wrote:

> GNU make does not work for some of my other work so for compiling R I am trying
> to use "gmake" which is a link to the correct version of gnu make. I'm not sure
> if this should work but it looks like it is suppose to, as $(MAKE) gets expanded
> to "gmake" most places. However, "make" gets used in
> 
> R-pre0.63.1/src/library/modreg/src
> 
> and fails. Is this a bug or should I not expect this to work? I'm trying to
> compile an intermediate release.

It is a bug, and you should expect it not to work. :)

The problem is that libraries are installed by R INSTALL, not by recursive
make. Using gmake at the top level means that it is used recursively in
all the subdirectories, but in order to change the behaviour of R INSTALL
you need to tell _configure_ to use gmake.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle	


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From itcmex@df1.telmex.net.mx  Fri Dec  4 06:14:47 1998
From: itcmex@df1.telmex.net.mx (itcmex@df1.telmex.net.mx)
Date: Fri, 04 Dec 1998 00:14:47 -0600 (CST)
Subject: Gift for your pc...!
Message-ID: <0F3F000U4G0LYQ@sims00.telmex.net.mx>

____________________________________________________
Get FREE a binary solutions for your PC!.No purchase it=B4s needed.
Visit  http://www.itcmex.com/2000.html (bilingual site)
Have a nice day!

Regards,

ITCMEX GROUP from Mexico.
http://www.itcmex.com

/////////////////////////////////////////////////////////////////////=
//
 =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
If you wish to be removed from this advertiser's future mailings, ple=
ase reply=20
with the subject "Remove" and this software will automatically block =
you=20
=66rom their future mailings.
/////////////////////////////////////////////////////////////////////=
//


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From colin@geology.gla.ac.uk  Fri Dec  4 15:09:19 1998
From: colin@geology.gla.ac.uk (Colin Farrow)
Date: Fri, 04 Dec 1998 15:09:19 +0000
Subject: Linux compile problem
Message-ID: <3667FB1F.DA32B4B6@geology.gla.ac.uk>

System setup is:

Redhat Linux 5.2, gcc-2.7.2.3-14, glibc-2.0.7-29, fort77, f2c

Compilation proceeds until final linking stage which produces


ld -export-dynamic -o ../../bin/R.binary arithmetic.o array.o attrib.o
bind.o
 builtin.o character.o coerce.o colors.o complex.o context.o cov.o cum.o
debu
g.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o
error
s.o eval.o format.o fourier.o gram.o graphics.o iosupport.o list.o
logic.o ma
in.o match.o memory.o model.o names.o objects.o optimize.o options.o
par.o pa
ste.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o
printutil
s.o random.o relop.o saveload.o scan.o seq.o sort.o source.o split.o
subassig
n.o subscript.o subset.o summary.o unique.o util.o version.o
../unix/libunix.
a ../appl/libappl.a ../nmath/libmath.a    -lf2c -lreadline -lz -ldl
-lncurses
 -lm -L/usr/X11R6/lib -lX11
ld: warning: cannot find entry symbol _start; defaulting to 08054610

and the resultant R.binary does not run

Suggestions welcome !


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Dec  4 16:18:39 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Dec 1998 17:18:39 +0100
Subject: Linux compile problem
In-Reply-To: Colin Farrow's message of Fri, 04 Dec 1998 15:09:19 +0000
References: <3667FB1F.DA32B4B6@geology.gla.ac.uk>
Message-ID: <x2ww47op7k.fsf@blueberry.kubism.ku.dk>

Colin Farrow <colin@geology.gla.ac.uk> writes:

> System setup is:
> 
> Redhat Linux 5.2, gcc-2.7.2.3-14, glibc-2.0.7-29, fort77, f2c
> 
> Compilation proceeds until final linking stage which produces
> 
> 
> ld -export-dynamic -o ../../bin/R.binary arithmetic.o array.o attrib

ld ??? 

> and the resultant R.binary does not run
> 
> Suggestions welcome !

Maybe if you set LDCMD=gcc .. (I'm not sure, but it's worth a try)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Dec  6 15:22:30 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 6 Dec 1998 16:22:30 +0100
Subject: Saving and replaying plots
Message-ID: <19981206162230.A588@sirio.stat.unipd.it>

Is a mechanism for saving and replaying later the content of the current
graphic device hidden somewhere? Or is it planned?

If not, I would like to have something of this sort so I can try to
implement it (when I will have some time,of course) and if:
1) it is simple as graphics.c/copyDisplayList(...) suggests, i.e,
   it is enough to duplicate, save and restore (device)->dpSaved and 
   (device)->DisplayList;
2) idea is sensible; in particular, I have no idea of how much
   memory is `eaten' by the DisplayList of a `medium size' plot.
   
guido   
   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Sun Dec  6 18:57:08 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Mon, 7 Dec 1998 07:57:08 +1300 (NZDT)
Subject: Saving and replaying plots
Message-ID: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>

I don't think the feature is available now, but it should be pretty
easy to implement.  The display list consists of a list of function
calls to the low level functions.  These can be quite large.

There are some potential difficulties in loading a previously
saved display list.  I'll have a bit of a look.
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Dec  6 19:52:54 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 6 Dec 1998 20:52:54 +0100
Subject: Saving and replaying plots
In-Reply-To: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>; from Ross Ihaka on Mon, Dec 07, 1998 at 07:57:08AM +1300
References: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>
Message-ID: <19981206205254.A778@sirio.stat.unipd.it>

On Mon, Dec 07, 1998 at 07:57:08AM +1300, Ross Ihaka wrote:
> 
> There are some potential difficulties in loading a previously
> saved display list.  I'll have a bit of a look.

  I don't know if this can help. But, I was thinking about the possibility
  to recall previously done plot during the same session not
                                            ~~~~
  between sessions.					    
  Typical usages that I have in mind: 
  1) do a plot, do some others to explore how something can be represented, 
     going back to the first  (or some other before), decide to add
     something to the third, final choice for it, add to it final
     details (e.g. legend, change color,...), print it.
  2) teaching: students work in a labs for sometimes, 
     I can review what they have done 
     (Ok, there are other solutions,i.e, they save plots in a postscript
     file and I review the file, but it would be very nice to do this
     from inside R without re-issuing all the commands again).
  3) .....................
  
  g.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Sun Dec  6 21:03:59 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Mon,  7 Dec 1998 10:03:59 +1300 (NZDT)
Subject: Saving and replaying plots
In-Reply-To: <19981206205254.A778@sirio.stat.unipd.it>
References: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>
 <19981206205254.A778@sirio.stat.unipd.it>
Message-ID: <13930.60958.724981.734442@g.ihaka.slip.auckland.ac.nz>

Guido Masarotto writes:
 >   I don't know if this can help. But, I was thinking about the possibility
 >   to recall previously done plot during the same session not
 >                                             ~~~~
 >   between sessions.					    
 >   Typical usages that I have in mind: 
 >   1) do a plot, do some others to explore how something can be represented, 
 >      going back to the first  (or some other before), decide to add
 >      something to the third, final choice for it, add to it final
 >      details (e.g. legend, change color,...), print it.
 >   2) teaching: students work in a labs for sometimes, 
 >      I can review what they have done 
 >      (Ok, there are other solutions,i.e, they save plots in a postscript
 >      file and I review the file, but it would be very nice to do this
 >      from inside R without re-issuing all the commands again).
 >   3) .....................

Do you have multiple graphics windows in your version?  You could
just spawn a new graphics window, experiment for a bit and then
go back to the original to continue there.

The display list can be stored as an ordinary R data stucture,
son there is no difficulty in saving and restoring between sessions
once you are able to get it from the device driver.

I've been wondering it it might be possible to edit the display list
before replaying it.  There are a lot of cool things that would be
possible then...
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From getmore@getmoretraffic.com  Sat Dec  5 00:34:49 1998
From: getmore@getmoretraffic.com (getmore@getmoretraffic.com)
Date: Fri, 04 Dec 1998 18:34:49 -0600
Subject: FREE DEMO of Web Promotion Software That Submits Your Site to 1100+
 Search Engines!
Message-ID: <btcjkdgp>

Greetings!

I thought I would take some time today to let you know about a wonderful new software package that will dramatically increase your web site's visibility.  It's called The Spider, and I have been using it for several months and enjoyed a tremendous increase in my website's traffic.

This software has impressed me so much that I decided to buy the reseller rights to it.  And now, we are offering it on a FREE DEMO basis.  Before I let you in on our secret download location, let me tell you a bit more about it.

1) 1100 + Supported Search Engines (Pro), 450 for standard edition

2) Batch Processing - allows you to take control of your website promotions - for all of your pages and sites. With a built in on-board database and batch processing, you can accurately register as many sites or pages as you like, all at once. 

3) Categorized submissions - accuracy is critical when placing your site; our program recognizes and properly places you in all of our supported search engines. Don't be fooled by the competition - the shotgun approach does not work!

4) True CGI based registration - while other programs simply email your site information to search engine webmasters in the vain hope they will manually enter your information, The Search Engine Spider interacts with the server directly, custom formatting your site information for each and every supported engine. 

5) Small Size, Fast Execution : The Spider is written entirely in the C programming language, and takes advantage of the true 32 bit multithreaded programming environment provided therein. It's fast: in our internal testing, the new program will perform 450 individual registrations in just under 18 minutes. Testing was done on a 28.8 dialup line.

6) Automatic Update Feature: No more weekly and monthly downloads! In an effort to keep up to date with search engine changes and updates, we have now incorporated a feature that will automate this task. Here's how it works:
a.. Each time the program is loaded, it will automatically connect to our server and verify that the current search engine database is loaded on your user's machine. If it is not, it will automatically initiate a download.
b. Once the download is complete (typically 20-30 seconds on a 28.8K connection), normal program operation will resume with the new database.

7) Improved Error Checking: anytime an error is generated during submission, by any user anywhere, the program updates our server with the search engine name, time and date of the error, and the nature of the error. Our resource manager for this project checks his log daily and investigates each and every error and has the ability to dynamically and instantly update the master database with the corrections. Once the correction is made, the Automatic Update Feature kicks in, distributing the updated registration database to every user worldwide the next time they use the program.

To get your FREE DEMO of this amazing software, please visit:
http://www.getmoretraffic.com

If you would prefer us to send you a CD with The Spider, along with free demos of over 10 of our other web promotion software packages, please visit:
http://www.getmoretraffic.com/order/process_cd.htm

If you are having problems connecting to the above links, please give us a call at 773-271-8484 and we will arrange another way for you to get your FREE DEMO.

Thanks again for your time and please let me know if you have any questions.

Best Regards,
Joe Halinsdorf
Master Promote, Inc.
120 Broadview Village Square
Suite 315
Broadview, IL 60153
773-271-8484
getmore@getmoretraffic.com

*********
To remove yourself from this mailing list, please visit http://www.getmoretraffic.com and type your email address(es) in the "Remove Me!" box, and we will promptly remove your name from future mailings.  Sorry for any inconvenience we may have caused.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Dec  7 12:38:11 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 7 Dec 1998 12:38:11 +0000 (GMT)
Subject: ESS with R and S-PLUS under Windows 9x/NT.
Message-ID: <199812071238.MAA17679@toucan.stats.ox.ac.uk>

> From: rossini@biostat.washington.edu (A.J. Rossini)
> Date: 23 Nov 1998 12:46:03 -0800
> 
> Thanks much.  I'm hacking Emacs/ESS on MS Windows platforms starting
> mid next month, thanks to some external prodding (and now, product
> availability from both R, Splus).  And I think XLispStat might be able
> to talk (at least DDE), as well, which would be nice
> 
> If anyone evaluates the situation before then (ESS/Emacs/R on MS
> Windows 95/98/NT), please send me some email with comments, to help me
> out! (MS isn't my native environment by a long shot :-).

I have a version of R that does work I believe with ESS on NTEmacs, at

http://www.stats.ox.ac.uk/pub/R/win32/new/bdr0631.zip

The only thing I had to do was to run .../bin/rterm.exe with the
starting argument --ess.  This convinces the R executable that it is
attached to a terminal and so to behave in interactive mode. I am no
great exponent (not fan) of inferior mode, but everything I tried
worked exactly as on Unix, even down to needing to go into the *R*
buffer to confirm options when quitting.

Two caveats:

-- Only tested so far on Windows 95. It may not work on NT, as the R
   executables won't run from the NT command line, yet.
-- This may depend on your shell setting for NTEmacs.


On the S-PLUS front, if you have

(setenv "ALWAYS_PROMPT" "T")

the s+3 inferior mode works right out of the box once you set the
executable to be SHOME/cmd/sqpe.exe.  This gives you everything except
access to graphsheets.  And my DDE solutions give modest success if
graphsheets are needed.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Dec  7 16:45:18 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 7 Dec 1998 17:45:18 +0100
Subject: -- spam -- sorry
Message-ID: <199812071645.RAA19836@sophie.ethz.ch>

Unfortunately, 'RegExp's exist in different flavors.
In my spam filter, 
I had an ``emacs lisp regexp'' which wasn't a ``perl regexp''
and hence missed that one...

Should n't happen anymore,
Martin

[ ``Re: xFREEx DEMO of Web Promotion Software That Submits Your Site to 1100+ 
  Search Engines!'']
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Dec 10 13:57:58 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 10 Dec 1998 14:57:58 +0100
Subject: [R & Unix ..] system("test",...)  gives funny results...
In-Reply-To: <199812100919.KAA12196@sophie.ethz.ch> (message from Martin
 Maechler on Thu, 10 Dec 1998 10:19:26 +0100)
Message-ID: <199812101357.OAA16642@sophie.ethz.ch>

[in an attempt to provide 

	  system.test <- 
		function(...) { system(paste("test", ...)) == 0 }
and then 
	  file.exists <- 
		function(file){sapply(file, function(f)system.test("-e", f))} 
 
  (which would provide S-plus [>= 4.x] compatibility)
]

Look at this -- ``the horror'' to me :

> (system("test -e /tmp"))
sh: test: argument expected
[1] 256
> system("type test")
test is a shell builtin
> system("echo $SHELL")
/usr/local/bin/tcsh

> (system("test -d /tmp")) # correct: it IS a directory
[1] 0
> (system("test -f /tmp")) # correct: it is NOT a plain file
[1] 256
> (system("/usr/local/bin/test -e /tmp"))  ## this is GNU test from sh-utils
[1] 0
> (system("/usr/bin/test -e /tmp")) ##- Solaris 2.5.x 
[1] 0
> (system("test -e /tmp"))
sh: test: argument expected
[1] 256

However, there doesn't seem to be a problem 
in the shell [/usr/local/bin/tcsh] :

    sophie{maechler}637> test -e /tmp; echo "$?"
    0
    sophie{maechler}638> test -e /tp; echo "$?"
    1

-----------------

Similar funny behavior  (in tcsh; $version gives the tcsh version)

In the shell

   sophie{maechler}639> echo $version
   tcsh 6.04.00 (Cornell) 93/07/03 (sun4) options 8b,nls,dl,al

In R :

   > (system("echo $version"))

   [1] 0

   > {system("echo $version > /tmp/qq"); scan("/tmp/qq",what="")}
   Read 0 items
   character(0)
   >

----------
One way to get an R internal "test" 
	-- even working in the Win/Mac version of R ?! --- 
would be to incorporate GNU sh-utils "test"
(standalone) and provide something like

	test <- function(...) .Internal(test(...))

However, this probably should have to be done by someone who understands
more than me about this kind of C codes.

----------
Comments, suggestions ?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 10 14:37:41 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 1998 15:37:41 +0100
Subject: [R & Unix ..] system("test",...)  gives funny results...
In-Reply-To: Martin Maechler's message of Thu, 10 Dec 1998 14:57:58 +0100
References: <199812101357.OAA16642@sophie.ethz.ch>
Message-ID: <x2zp8w6p1m.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> [in an attempt to provide 
> 
> 	  system.test <- 
> 		function(...) { system(paste("test", ...)) == 0 }
> and then 
> 	  file.exists <- 
> 		function(file){sapply(file, function(f)system.test("-e", f))} 
>  
>   (which would provide S-plus [>= 4.x] compatibility)
> ]
> 
> Look at this -- ``the horror'' to me :
> 
> > (system("test -e /tmp"))
> sh: test: argument expected
> [1] 256

Happens to me on Solaris too, but *not* on Linux!

> Similar funny behavior  (in tcsh; $version gives the tcsh version)
> 
> In the shell
> 
>    sophie{maechler}639> echo $version
>    tcsh 6.04.00 (Cornell) 93/07/03 (sun4) options 8b,nls,dl,al
> 
> In R :
> 
>    > (system("echo $version"))
> 
>    [1] 0
> 
>    > {system("echo $version > /tmp/qq"); scan("/tmp/qq",what="")}
>    Read 0 items
>    character(0)
>    >

Isn't this just because system() uses /bin/sh?

>  {system("echo $USER > /tmp/qq"); scan("/tmp/qq",what="")}
Read 1 items
[1] "pd"

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Dec 10 14:56:11 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 10 Dec 1998 09:56:11 -0500
Subject: [R & Unix ..] system("test",...)  gives funny results...
References: <199812101357.OAA16642@sophie.ethz.ch>
Message-ID: <98Dec10.100156est.13470@mailgate.bank-banque-canada.ca>

>One way to get an R internal "test"
>        -- even working in the Win/Mac version of R ?! ---
...
>However, this probably should have to be done by someone who understands
>more than me about this kind of C codes.

I've often wondered about this too. In my "compatibility library" I do a few
similar things like copying files and checking file dates. I haven't implemented
them other than in Unix and I've often thought some cross-platform issues would
be resolved by doing these in C. Of course, this may just move the problem. To
what extent are these kinds of things standardized across platforms in C?

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Dec 10 15:35:32 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 10 Dec 1998 16:35:32 +0100
Subject: [R & Unix ..] system("test",...)  gives funny results...
In-Reply-To: <x2zp8w6p1m.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 10 Dec 1998 15:37:41 +0100)
Message-ID: <199812101535.QAA17618@sophie.ethz.ch>

Peter Dalgaard provided the solution:

1) system(.) always uses /bin/sh  -- not regarding $SHELL or anything

2) On Solaris 2.5.1,  the /bin/sh builtin 'test'  doesn't work as expected
   as expected with  "test -e  file" :

    sophie{maechler}654> uname -a
    SunOS sophie 5.5.1 Generic_103640-08 sun4u sparc SUNW,Ultra-1

    sophie{maechler}655> /bin/sh

    $ test -e /tmp
    test: argument expected
    $ touch /tmp/q
    $ test -e /tmp/q
    test: argument expected
    $ test -d /tmp; echo $?
    0
    $ test -d /Tmp; echo $?
    1

[still interested to hear about the potential of an R builtin 'test',
 relying on GNU sh-utils].

--
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Dec 10 16:00:49 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 10 Dec 1998 16:00:49 +0000 (GMT)
Subject: [R & Unix ..] system("test",...)  gives funny results...
Message-ID: <199812101600.QAA00515@toucan.stats.ox.ac.uk>


> Date: Thu, 10 Dec 1998 14:57:58 +0100
> From: Martin Maechler <maechler@stat.math.ethz.ch>

> [in an attempt to provide 
> 
> 	  system.test <- 
> 		function(...) { system(paste("test", ...)) == 0 }
> and then 
> 	  file.exists <- 
> 		function(file){sapply(file, function(f)system.test("-e", f))} 
>  
>   (which would provide S-plus [>= 4.x] compatibility)
> ]
> 

But surely that is not the way to do this (and how is it going to work on
Windows?)  S-PLUS uses a system call for file.exists, presumably to
access(), even on Unix.

If you want to use test, do remember that what you get is shell-specific.
If you use

system("/usr/bin/test -e /tmp")

you have some chance of working on different shells. (Even Linux, RH5.2,
has test at /usr/bin/test!)


[still interested to hear about the potential of an R builtin 'test',
 relying on GNU sh-utils].

Why not use POSIX system calls instead?
-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Dec 11 15:53:03 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 11 Dec 1998 10:53:03 -0500
Subject: capital letters in html help
Message-ID: <98Dec11.105917est.13470@mailgate.bank-banque-canada.ca>

While looking for "Memory" in the html help I discovered that all the capital
letters are put in the first section with operators and global variables. I
think this a bug although perhaps Memory is a global variable.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Dec 15 09:15:39 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 15 Dec 1998 10:15:39 +0100 (CET)
Subject: capital letters in html help
In-Reply-To: <98Dec11.105917est.13470@mailgate.bank-banque-canada.ca>
References: <98Dec11.105917est.13470@mailgate.bank-banque-canada.ca>
Message-ID: <13942.10427.485344.572361@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 11 Dec 1998 10:53:03 -0500,
>>>>> Paul Gilbert (PG) wrote:

PG> While looking for "Memory" in the html help I discovered that all the capital
PG> letters are put in the first section with operators and global variables. I
PG> think this a bug although perhaps Memory is a global variable.

True, thanks.

The HTML help system will undergo a major revision once I've finished
my thesis (by christmas or so), including search for all pkgs etc.
I'll add that to the ever-growing 2do list ...

.f



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Dec 15 15:46:10 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 15 Dec 1998 10:46:10 -0500
Subject: legend
Message-ID: <98Dec15.104909est.13460@mailgate.bank-banque-canada.ca>

I am trying to put a legend below some plots as follows:

 x11()
 par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1))
 matplot(matrix(1:30,15,2), type="l", lty=1:2)
 par(mfg = c(2, 1, 2, 1))
 legend((par()$usr)[1:2], (par()$usr)[3:4], c("a","b"), lty = 1:2,  col=1:2, bty
= "y")

The letters "a" and "b" print but not the lines. If I omit par(mfg = c(2, 1, 2,
1)) then the
legend prints properly but on top of the plot in the first area.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Dec 15 17:15:11 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 15 Dec 1998 18:15:11 +0100
Subject: legend --> buglet in plot setup  +  legend()'s S/R incompatibility
In-Reply-To: <98Dec15.104909est.13460@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Tue, 15 Dec 1998 10:46:10 -0500)
Message-ID: <199812151715.SAA23840@sophie.ethz.ch>

Thank you Paul; 
One could argue that it is your fault, calling  legend() without a
preceding plot in that figure.  Help says ``add legends to plots''

However, I agree
this *is* a buglet somewhere.

Look at this [which is your code ++ ]

x11()
par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1), ask = TRUE)
(u <- par("usr"))
for(do.box in c(FALSE,TRUE)) {
    matplot(matrix(1:30,15,2), type="l", lty=1:2)
    par(mfg = c(2, 1, 2, 1))
    print(u <- par("usr"))
    if(do.box) 
	box()
    legend(u[1:2], u[3:4], c("a","b"), lty = 1:2,  col=1:2, bty = "y")
}

##--> The first time, the legend is not properly done;
##    the second time, after "box()" it is!

---> You can use this as a workaround for the moment:

Use 
	box(col = 0)

which gives an invisible box  and makes subsequent  legend(.) work okay!

---
However, I assume you won't get what you want and what S-plus does:

S: in legend(x,y,...) , if x & y of length 2, they specify opposite CORNERS

whereas in R, they always specify just one point
we have something like 
	if(length(x) > 1) { x <- mean(x); y <- mean(y) ; ...... }
That point is determined by xjust/yjust and defaults to the left-upper corner:

In R, the size and placing of the legend's box
is determined ``automagically'', using
	x.intersp,	y.intersp,  cex   &	text.width.

Maybe we need a way to circumwent the automatic legend-box size computation...
---

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Dec 15 17:45:53 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 15 Dec 1998 12:45:53 -0500
Subject: legend() buglet 2
Message-ID: <98Dec15.124852est.13443@mailgate.bank-banque-canada.ca>

Perhaps this is not a bug but rather my misunderstanding of lty and col. I would
like to
generate a legend for plots as follows:

par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1))
matplot(t(matrix(1:8,8,20)), type="l")
par(mfg = c(2, 1, 2, 1))
box(col = 0) #  Rbug workaround. Thanks Martin
legend((par()$usr)[1:2], (par()$usr)[3:4], as.character(1:8),
        lty=1:8, col=1:8, bty="y")

The lines for 7 and 8 do not appear in the legend.  If I do

matplot(t(matrix(1:8,8,20)), type="l", lty=1:8, col=1:8)

they do not appear in the graph. These appear to correspond to recycling of col
for lty. I've tried a few variations on this which all mismatch the lines or
colours. Is this a bug or how do I get the legend to match the plot?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Dec 16 13:22:56 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 16 Dec 1998 14:22:56 +0100
Subject: colors in R [was "Re: legend() buglet 2"]
In-Reply-To: <98Dec15.124852est.13443@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Tue, 15 Dec 1998 12:45:53 -0500)
Message-ID: <199812161322.OAA28146@sophie.ethz.ch>

	[CC: to "R-help", since this should be of wider interest ]

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> Perhaps this is not a bug but rather my misunderstanding of lty
    PaulG> and col. I would like to generate a legend for plots as follows:

No, there's definitely no bug here.

    PaulG> par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1))
    PaulG> matplot(t(matrix(1:8,8,20)), type="l")
    PaulG> par(mfg = c(2, 1, 2, 1))
    PaulG> box(col = 0) #  Rbug workaround. Thanks Martin
    PaulG> legend((par()$usr)[1:2], (par()$usr)[3:4], as.character(1:8),
    PaulG> 	lty=1:8, col=1:8, bty="y")

    PaulG> The lines for 7 and 8 do not appear in the legend.

No!  They do, but you don't see them easily:
> palette()
[1] "black"   "red"     "green3"  "blue"    "cyan"    "magenta" "yellow" 
[8] "white"  

I.e., col=7 is "yellow"  (per default, you can always change this!)
      col=8 is "white"
both of which are hard to see with a white background.

Try to say first

	par(bg = "gray80") # or something else between white and black

and you will see the  "yellow" and "white".


    PaulG> matplot(t(matrix(1:8,8,20)), type="l", lty=1:8, col=1:8)

    PaulG> they do not appear in the graph.

as above, they do, look at it after   par(bg = "gray")# or "gray80"

For further ``color manipulation'' in R,
please look at the help page for palette and its examples and the further
pages in 'see also'.

As another illustrative example for matplot(), try e.g.,

par(bg="light blue")
palette(heat.colors(20))
matplot(t(matrix(1:20,20, 2)), type="l", lty=1:4, col=1:20, lwd=2)

------

The other ``phenomenon'' you observe really comes from  
matplot()'s default of  "col = 1:6" (and then recycling).
It makes sense to only use ``a few'' different colors in a general matplot
(where lines cross,...).
S default even recycles only four colors  (col=1:4).

Martin
Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Dec 16 14:46:50 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 16 Dec 1998 09:46:50 -0500
Subject: [R] colors in R [was "Re: legend() buglet 2"]
References: <199812161322.OAA28146@sophie.ethz.ch>
Message-ID: <98Dec16.095018est.13455@mailgate.bank-banque-canada.ca>

Martin

I realized after I sent the last message that one of my colours was white, but I
didn't realize that matplot was cycling 1:6 and so I didn't understand why white
on the legend was not white on the plot. There do seem to be two more general
problems:

1/ There should be a reliable way to make sure the legend and the plots
correspond. (I almost got messed up really badly in the interpretation of my
results and the current situation seems prone to error.) I think what is needed
is a wrapping together of all the elements describing plot elements (e.g.. type,
bg, lty, col, lwd) in a way so that the same description can be passed to all
related routines such as plot, matplot, legend. Perhaps this is already
available as I know there have been discussions about plotting which I have not
followed very carefully?

2/ It would be nice if this could be done in a way that worked in both R and
Splus so that my plot methods work in both. (I don't necessarily expect the same
line types and colours, but I don't want to maintain two sets of code.)

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Dec 17 18:05:38 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 17 Dec 1998 10:05:38 -0800 (PST)
Subject: survival4 again
In-Reply-To: <199812100714.JAA26767@cc.oulu.fi>
Message-ID: <Pine.GSO.4.03.9812170957410.4504-100000@wompom.biostat.washington.edu>


Yet another release of survival4 (1.3-0) has been uploaded and will be
percolating to a CRAN site near you. It will initially be in
contrib/devel/

Notes: 	
    (1)  survival4 does not work correctly under R0.63.1 with
na.action=na.omit. This has been fixed in the current release snapshot

    (2) This newest version requires R0.63.1 or later; some of the
code has been migrated into base R to avoid conflicts (thanks to Terry
Therneau for permission).

    (3) I think this version fixes the scoping problems that prevented
coxph() working inside a function.

    (4) This will probably be the last release of survival4, since
survival5 is appearing Real Soon Now, with some very promising new
features.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 22 09:42:10 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 Dec 1998 09:42:10 +0000 (GMT)
Subject: Makefiles in contributed packages
In-Reply-To: <13926.43105.655679.260456@c1186.ae.ge.com>
Message-ID: <Pine.GSO.3.96.981222093254.26978B-100000@toucan.stats>

On Thu, 3 Dec 1998, U-E59264-Osman F Buyukisik wrote:

> Hello,
>  I have a couple of suggestions that will help persons with
> machines/OSs that use extensions other than ".so" for shared libs:
> 
> 1) Use the variable SHLIBEXT (defined in Makeconf), DONT use "so" or "sl".
> 2) Use the method in "modreg" to load the dynamic lib:
>  .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
>     DO NOT USE
>     library.dynam("eda.so")
> 
> 
> Now, I have to edit every package Makefile and zzz.R files for
> hpux10.20 installs. 

My experience (doing this for Windows, where it is .dll) suggests

-- in all cases bar funfits I can just delete the Makefile
-- R INSTALL  has a line

    cat `ls ${dir}/*.[RSqrs]` > ${lib}/${pkg}/R/${pkg}

Add an sed command there to change ${lib}.so to ${lib}.sl (or whatever).
[That is not really what is done under Windows, but is effectively what
Guido's Makefile does.]

Package funfits is a bit harder: I just deleted all the unused (with S/R)
source code, keeping the list in OBJS.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Dec 23 11:59:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 23 Dec 1998 12:59:03 +0100
Subject: hist(1) results in a segmentation fault (at least on my machine) (PR#86)
In-Reply-To: <199812230905.KAA19545@sophie.ethz.ch> (message from Martin
 Maechler on Wed, 23 Dec 1998 10:05:35 +0100)
Message-ID: <199812231159.MAA20817@sophie.ethz.ch>


I've fixed hist.default();
the case for  hist(0) and hist(-1)  also needed consideration.

Here is the patch I've committed:

cvs diff -bw -r1.2.2.1 src/library/base/R/hist.R
diff -b -w -r1.2.2.1 -r1.2.2.4
16,18c16,18
<     use.br <- !missing(breaks) && length(breaks) > 1
<     breaks <-
< 	if(use.br) sort(breaks)
---
>     use.br <- !missing(breaks) && (nB <- length(breaks)) > 1
>     if(use.br)
> 	breaks <- sort(breaks)
20,22c20,22
< 	    rx <- range(x)
< 	    pretty (rx + c(0, diff(rx)/1000),
< 		    n = if(missing(breaks)) 1 + log2(n)
---
> 	dx <- diff(rx <- range(x))
> 	nnb <-
> 	    if(missing(breaks)) 1 + log2(n)
27d26
< 		    })
28a28
> 	breaks <- pretty (rx + c(-1,1)/1000 * dx, n = nnb)
29a30,35
> 	if(nB == 1) {##	 search anew for breaks; dx is (always ?) 0.
> 	    breaks <-
> 		if(abs(breaks) > 1e-20) sort(breaks * c(.8, 1.2)) else c(-.2,.2)
> 	    nB <- length(breaks)
> 	}
>     }

As you may see, I've also changed
from a potentially asymmetric  rx + c(0, dx/1000)
to a symmetric interval	       rx + c(-1,1)/1000 * dx

Hope this okay even so it changes current behavior in some cases.

-------------

Merry Christmas to all!
I'm gone for the next few days..

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Dec  1 08:05:25 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 1 Dec 1998 09:05:25 +0100
Subject: Random Number Generators,  .Random.seed  and all that..
Message-ID: <199812010805.JAA05241@sophie.ethz.ch>

As some of you know,
we have been thinking of allowing the possibility of a
CHOICE of the kind of random number generator (=: RNG) to use in R.
The current R-release snapshot even has some code in it; 
however, this will be changed quite a bit.  Here is a kind of informal
RFC (request for comments / request for criticism / ..):

  1a.  With the new scheme, we still want that
       save(..)  & load(..)  restore the  state of the RNG.

      The new state is  [ RNGkind ; "seed" of that RNG ].
      "seed" really means the state of the chosen RNG

  1b. For compatibility reasons, it makes sense
      to keep this RNGstate in the integer vector  .Random.seed.

      Before each RN generation, .Random.seed is read into the internal
      RNG state variables; afterwards .Random.seed is restored from there.

  1c. In the future,  .Random.seed[1]    == <code of RNGkind>
		      .Random.seed[2:ns] == "seed" itself.

	===> INCOMPATIBILITY to currently saved or set  .Random.seeds.

	We could fudge backward compatibility by

		if(length(.Random.seed) == "desired length for RNGkind" - 1) {

			behave as if .Random.seed[0] == <current RNGkind code>
			.Random.seed[1:n] == <corrected .Random.seed>[2:(n+1)]
		}
	Should I provide this hack?
	If I don't people will more quickly have to change their code,
	setting proper  .Random.seed  whereever they assign one.

  1d. Each RNG has it's own "seed" (state vector).
      Randomize() is only called when .Random.seed isn't there, or
      (new)  if( length(.Random.seed) == 1  && 
		 .Random.seed[1] == "valid RNGkind code" )


  2. Default RNGkind == as now, "Wichmann-Hill"

  3. In addition to .Random.seed, the RNGkind can be queried and set by
	RNGkind()
     or, e.g.,
	RNGkind("Super-Duper")


	{{ my current code now provides all the above, with the exception of
	   the full backward compatibility hack}}

Comments (incl. praises :-}) welcome!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><

	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Dec  1 17:16:45 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 1 Dec 1998 12:16:45 -0500
Subject: [R] help files for libraries that aren't in the defaults library tree
References: <Pine.SOL.3.91.981201074948.10784A-100000@oriole.er.usgs.gov>
Message-ID: <98Dec1.150614est.13477@mailgate.bank-banque-canada.ca>

> "J" == J Andy Royle <jar@oriole.er.usgs.gov> writes:

>I created the library "myR" and installed this in /home/royle/R
>using:

>R INSTALL -l /home/royle/R   /home/royle/Rpackages/myR

The installation of (at least html) documentation for private libraries does not
work properly in 0.63.  (If r-devel is not aware of this the problem is that
R/doc/html/function.html and R/doc/html/packages.html get clobbered.)

If you do:

R INSTALL   myR

in the subdirectory /home/royle/Rpackages then the package will be installed in
the directory with other R packages and the documentation will be installed
correctly. (This assumes you have write permission on that directory.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From osman.buyukisik@ae.ge.com  Thu Dec  3 15:11:20 1998
From: osman.buyukisik@ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Thu,  3 Dec 1998 10:11:20 -0500 (EST)
Subject: Makefiles in contributed packages
Message-ID: <13926.43105.655679.260456@c1186.ae.ge.com>

Hello,
 I have a couple of suggestions that will help persons with
machines/OSs that use extensions other than ".so" for shared libs:

1) Use the variable SHLIBEXT (defined in Makeconf), DONT use "so" or "sl".
2) Use the method in "modreg" to load the dynamic lib:
 .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
    DO NOT USE
    library.dynam("eda.so")


Now, I have to edit every package Makefile and zzz.R files for
hpux10.20 installs. 

TIA
osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Dec  3 18:40:45 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 3 Dec 1998 13:40:45 -0500
Subject: gmake
Message-ID: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>

GNU make does not work for some of my other work so for compiling R I am trying
to use "gmake" which is a link to the correct version of gnu make. I'm not sure
if this should work but it looks like it is suppose to, as $(MAKE) gets expanded
to "gmake" most places. However, "make" gets used in

R-pre0.63.1/src/library/modreg/src

and fails. Is this a bug or should I not expect this to work? I'm trying to
compile an intermediate release.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Dec  3 20:42:08 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 3 Dec 1998 15:42:08 -0500
Subject: max(NULL)
Message-ID: <98Dec3.155312est.13444@mailgate.bank-banque-canada.ca>

In Splus 3.3 and previous to R 0.63  max(NULL) returned NA and now it returns

> max(NULL)
Warning in max(..., na.rm = na.rm) : no finite arguments to min/max; returning
extreme.
[1] -2147483647

Is this a bug or an intentional change?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Dec  3 21:14:32 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 3 Dec 1998 13:14:32 -0800 (PST)
Subject: max(NULL)
In-Reply-To: <98Dec3.155312est.13444@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9812031312550.25808-100000@wompom.biostat.washington.edu>

On Thu, 3 Dec 1998, Paul Gilbert wrote:

> In Splus 3.3 and previous to R 0.63  max(NULL) returned NA and now it returns
> 
> > max(NULL)
> Warning in max(..., na.rm = na.rm) : no finite arguments to min/max; returning
> extreme.
> [1] -2147483647
> 
> Is this a bug or an intentional change?

It's intentional: ie max of an empty set is -Inf, min is +Inf 
For a while it happened silently, but now you get warned.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Dec  3 21:32:55 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 3 Dec 1998 22:32:55 +0100 (CET)
Subject: gmake
In-Reply-To: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>
References: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>
Message-ID: <13927.903.791559.555331@pc87.maho.magnaeu.com>

>>>>> Paul Gilbert writes:

> GNU make does not work for some of my other work so for compiling R I
> am trying to use "gmake" which is a link to the correct version of gnu
> make. I'm not sure if this should work but it looks like it is suppose
> to, as $(MAKE) gets expanded to "gmake" most places. However, "make"
> gets used in

> R-pre0.63.1/src/library/modreg/src

> and fails. Is this a bug or should I not expect this to work? I'm
> trying to compile an intermediate release.

Not sure if I understand this but anyway:  if you want to use `foo',
say, for make, you should do (Bourne shell)

	MAKE=foo configure
	foo

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Dec  3 21:35:51 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 3 Dec 1998 13:35:51 -0800 (PST)
Subject: gmake
In-Reply-To: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9812031331520.25808-100000@wompom.biostat.washington.edu>

On Thu, 3 Dec 1998, Paul Gilbert wrote:

> GNU make does not work for some of my other work so for compiling R I am trying
> to use "gmake" which is a link to the correct version of gnu make. I'm not sure
> if this should work but it looks like it is suppose to, as $(MAKE) gets expanded
> to "gmake" most places. However, "make" gets used in
> 
> R-pre0.63.1/src/library/modreg/src
> 
> and fails. Is this a bug or should I not expect this to work? I'm trying to
> compile an intermediate release.

It is a bug, and you should expect it not to work. :)

The problem is that libraries are installed by R INSTALL, not by recursive
make. Using gmake at the top level means that it is used recursively in
all the subdirectories, but in order to change the behaviour of R INSTALL
you need to tell _configure_ to use gmake.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle	


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From itcmex@df1.telmex.net.mx  Fri Dec  4 06:14:47 1998
From: itcmex@df1.telmex.net.mx (itcmex@df1.telmex.net.mx)
Date: Fri, 04 Dec 1998 00:14:47 -0600 (CST)
Subject: Gift for your pc...!
Message-ID: <0F3F000U4G0LYQ@sims00.telmex.net.mx>

____________________________________________________
Get FREE a binary solutions for your PC!.No purchase it=B4s needed.
Visit  http://www.itcmex.com/2000.html (bilingual site)
Have a nice day!

Regards,

ITCMEX GROUP from Mexico.
http://www.itcmex.com

/////////////////////////////////////////////////////////////////////=
//
 =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
If you wish to be removed from this advertiser's future mailings, ple=
ase reply=20
with the subject "Remove" and this software will automatically block =
you=20
=66rom their future mailings.
/////////////////////////////////////////////////////////////////////=
//


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From colin@geology.gla.ac.uk  Fri Dec  4 15:09:19 1998
From: colin@geology.gla.ac.uk (Colin Farrow)
Date: Fri, 04 Dec 1998 15:09:19 +0000
Subject: Linux compile problem
Message-ID: <3667FB1F.DA32B4B6@geology.gla.ac.uk>

System setup is:

Redhat Linux 5.2, gcc-2.7.2.3-14, glibc-2.0.7-29, fort77, f2c

Compilation proceeds until final linking stage which produces


ld -export-dynamic -o ../../bin/R.binary arithmetic.o array.o attrib.o
bind.o
 builtin.o character.o coerce.o colors.o complex.o context.o cov.o cum.o
debu
g.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o
error
s.o eval.o format.o fourier.o gram.o graphics.o iosupport.o list.o
logic.o ma
in.o match.o memory.o model.o names.o objects.o optimize.o options.o
par.o pa
ste.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o
printutil
s.o random.o relop.o saveload.o scan.o seq.o sort.o source.o split.o
subassig
n.o subscript.o subset.o summary.o unique.o util.o version.o
../unix/libunix.
a ../appl/libappl.a ../nmath/libmath.a    -lf2c -lreadline -lz -ldl
-lncurses
 -lm -L/usr/X11R6/lib -lX11
ld: warning: cannot find entry symbol _start; defaulting to 08054610

and the resultant R.binary does not run

Suggestions welcome !


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Dec  4 16:18:39 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Dec 1998 17:18:39 +0100
Subject: Linux compile problem
In-Reply-To: Colin Farrow's message of Fri, 04 Dec 1998 15:09:19 +0000
References: <3667FB1F.DA32B4B6@geology.gla.ac.uk>
Message-ID: <x2ww47op7k.fsf@blueberry.kubism.ku.dk>

Colin Farrow <colin@geology.gla.ac.uk> writes:

> System setup is:
> 
> Redhat Linux 5.2, gcc-2.7.2.3-14, glibc-2.0.7-29, fort77, f2c
> 
> Compilation proceeds until final linking stage which produces
> 
> 
> ld -export-dynamic -o ../../bin/R.binary arithmetic.o array.o attrib

ld ??? 

> and the resultant R.binary does not run
> 
> Suggestions welcome !

Maybe if you set LDCMD=gcc .. (I'm not sure, but it's worth a try)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Dec  6 15:22:30 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 6 Dec 1998 16:22:30 +0100
Subject: Saving and replaying plots
Message-ID: <19981206162230.A588@sirio.stat.unipd.it>

Is a mechanism for saving and replaying later the content of the current
graphic device hidden somewhere? Or is it planned?

If not, I would like to have something of this sort so I can try to
implement it (when I will have some time,of course) and if:
1) it is simple as graphics.c/copyDisplayList(...) suggests, i.e,
   it is enough to duplicate, save and restore (device)->dpSaved and 
   (device)->DisplayList;
2) idea is sensible; in particular, I have no idea of how much
   memory is `eaten' by the DisplayList of a `medium size' plot.
   
guido   
   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Sun Dec  6 18:57:08 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Mon, 7 Dec 1998 07:57:08 +1300 (NZDT)
Subject: Saving and replaying plots
Message-ID: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>

I don't think the feature is available now, but it should be pretty
easy to implement.  The display list consists of a list of function
calls to the low level functions.  These can be quite large.

There are some potential difficulties in loading a previously
saved display list.  I'll have a bit of a look.
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Dec  6 19:52:54 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 6 Dec 1998 20:52:54 +0100
Subject: Saving and replaying plots
In-Reply-To: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>; from Ross Ihaka on Mon, Dec 07, 1998 at 07:57:08AM +1300
References: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>
Message-ID: <19981206205254.A778@sirio.stat.unipd.it>

On Mon, Dec 07, 1998 at 07:57:08AM +1300, Ross Ihaka wrote:
> 
> There are some potential difficulties in loading a previously
> saved display list.  I'll have a bit of a look.

  I don't know if this can help. But, I was thinking about the possibility
  to recall previously done plot during the same session not
                                            ~~~~
  between sessions.					    
  Typical usages that I have in mind: 
  1) do a plot, do some others to explore how something can be represented, 
     going back to the first  (or some other before), decide to add
     something to the third, final choice for it, add to it final
     details (e.g. legend, change color,...), print it.
  2) teaching: students work in a labs for sometimes, 
     I can review what they have done 
     (Ok, there are other solutions,i.e, they save plots in a postscript
     file and I review the file, but it would be very nice to do this
     from inside R without re-issuing all the commands again).
  3) .....................
  
  g.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Sun Dec  6 21:03:59 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Mon,  7 Dec 1998 10:03:59 +1300 (NZDT)
Subject: Saving and replaying plots
In-Reply-To: <19981206205254.A778@sirio.stat.unipd.it>
References: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>
 <19981206205254.A778@sirio.stat.unipd.it>
Message-ID: <13930.60958.724981.734442@g.ihaka.slip.auckland.ac.nz>

Guido Masarotto writes:
 >   I don't know if this can help. But, I was thinking about the possibility
 >   to recall previously done plot during the same session not
 >                                             ~~~~
 >   between sessions.					    
 >   Typical usages that I have in mind: 
 >   1) do a plot, do some others to explore how something can be represented, 
 >      going back to the first  (or some other before), decide to add
 >      something to the third, final choice for it, add to it final
 >      details (e.g. legend, change color,...), print it.
 >   2) teaching: students work in a labs for sometimes, 
 >      I can review what they have done 
 >      (Ok, there are other solutions,i.e, they save plots in a postscript
 >      file and I review the file, but it would be very nice to do this
 >      from inside R without re-issuing all the commands again).
 >   3) .....................

Do you have multiple graphics windows in your version?  You could
just spawn a new graphics window, experiment for a bit and then
go back to the original to continue there.

The display list can be stored as an ordinary R data stucture,
son there is no difficulty in saving and restoring between sessions
once you are able to get it from the device driver.

I've been wondering it it might be possible to edit the display list
before replaying it.  There are a lot of cool things that would be
possible then...
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From getmore@getmoretraffic.com  Sat Dec  5 00:34:49 1998
From: getmore@getmoretraffic.com (getmore@getmoretraffic.com)
Date: Fri, 04 Dec 1998 18:34:49 -0600
Subject: FREE DEMO of Web Promotion Software That Submits Your Site to 1100+
 Search Engines!
Message-ID: <btcjkdgp>

Greetings!

I thought I would take some time today to let you know about a wonderful new software package that will dramatically increase your web site's visibility.  It's called The Spider, and I have been using it for several months and enjoyed a tremendous increase in my website's traffic.

This software has impressed me so much that I decided to buy the reseller rights to it.  And now, we are offering it on a FREE DEMO basis.  Before I let you in on our secret download location, let me tell you a bit more about it.

1) 1100 + Supported Search Engines (Pro), 450 for standard edition

2) Batch Processing - allows you to take control of your website promotions - for all of your pages and sites. With a built in on-board database and batch processing, you can accurately register as many sites or pages as you like, all at once. 

3) Categorized submissions - accuracy is critical when placing your site; our program recognizes and properly places you in all of our supported search engines. Don't be fooled by the competition - the shotgun approach does not work!

4) True CGI based registration - while other programs simply email your site information to search engine webmasters in the vain hope they will manually enter your information, The Search Engine Spider interacts with the server directly, custom formatting your site information for each and every supported engine. 

5) Small Size, Fast Execution : The Spider is written entirely in the C programming language, and takes advantage of the true 32 bit multithreaded programming environment provided therein. It's fast: in our internal testing, the new program will perform 450 individual registrations in just under 18 minutes. Testing was done on a 28.8 dialup line.

6) Automatic Update Feature: No more weekly and monthly downloads! In an effort to keep up to date with search engine changes and updates, we have now incorporated a feature that will automate this task. Here's how it works:
a.. Each time the program is loaded, it will automatically connect to our server and verify that the current search engine database is loaded on your user's machine. If it is not, it will automatically initiate a download.
b. Once the download is complete (typically 20-30 seconds on a 28.8K connection), normal program operation will resume with the new database.

7) Improved Error Checking: anytime an error is generated during submission, by any user anywhere, the program updates our server with the search engine name, time and date of the error, and the nature of the error. Our resource manager for this project checks his log daily and investigates each and every error and has the ability to dynamically and instantly update the master database with the corrections. Once the correction is made, the Automatic Update Feature kicks in, distributing the updated registration database to every user worldwide the next time they use the program.

To get your FREE DEMO of this amazing software, please visit:
http://www.getmoretraffic.com

If you would prefer us to send you a CD with The Spider, along with free demos of over 10 of our other web promotion software packages, please visit:
http://www.getmoretraffic.com/order/process_cd.htm

If you are having problems connecting to the above links, please give us a call at 773-271-8484 and we will arrange another way for you to get your FREE DEMO.

Thanks again for your time and please let me know if you have any questions.

Best Regards,
Joe Halinsdorf
Master Promote, Inc.
120 Broadview Village Square
Suite 315
Broadview, IL 60153
773-271-8484
getmore@getmoretraffic.com

*********
To remove yourself from this mailing list, please visit http://www.getmoretraffic.com and type your email address(es) in the "Remove Me!" box, and we will promptly remove your name from future mailings.  Sorry for any inconvenience we may have caused.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Dec  7 12:38:11 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 7 Dec 1998 12:38:11 +0000 (GMT)
Subject: ESS with R and S-PLUS under Windows 9x/NT.
Message-ID: <199812071238.MAA17679@toucan.stats.ox.ac.uk>

> From: rossini@biostat.washington.edu (A.J. Rossini)
> Date: 23 Nov 1998 12:46:03 -0800
> 
> Thanks much.  I'm hacking Emacs/ESS on MS Windows platforms starting
> mid next month, thanks to some external prodding (and now, product
> availability from both R, Splus).  And I think XLispStat might be able
> to talk (at least DDE), as well, which would be nice
> 
> If anyone evaluates the situation before then (ESS/Emacs/R on MS
> Windows 95/98/NT), please send me some email with comments, to help me
> out! (MS isn't my native environment by a long shot :-).

I have a version of R that does work I believe with ESS on NTEmacs, at

http://www.stats.ox.ac.uk/pub/R/win32/new/bdr0631.zip

The only thing I had to do was to run .../bin/rterm.exe with the
starting argument --ess.  This convinces the R executable that it is
attached to a terminal and so to behave in interactive mode. I am no
great exponent (not fan) of inferior mode, but everything I tried
worked exactly as on Unix, even down to needing to go into the *R*
buffer to confirm options when quitting.

Two caveats:

-- Only tested so far on Windows 95. It may not work on NT, as the R
   executables won't run from the NT command line, yet.
-- This may depend on your shell setting for NTEmacs.


On the S-PLUS front, if you have

(setenv "ALWAYS_PROMPT" "T")

the s+3 inferior mode works right out of the box once you set the
executable to be SHOME/cmd/sqpe.exe.  This gives you everything except
access to graphsheets.  And my DDE solutions give modest success if
graphsheets are needed.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Dec  7 16:45:18 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 7 Dec 1998 17:45:18 +0100
Subject: -- spam -- sorry
Message-ID: <199812071645.RAA19836@sophie.ethz.ch>

Unfortunately, 'RegExp's exist in different flavors.
In my spam filter, 
I had an ``emacs lisp regexp'' which wasn't a ``perl regexp''
and hence missed that one...

Should n't happen anymore,
Martin

[ ``Re: xFREEx DEMO of Web Promotion Software That Submits Your Site to 1100+ 
  Search Engines!'']
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Dec 10 13:57:58 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 10 Dec 1998 14:57:58 +0100
Subject: [R & Unix ..] system("test",...)  gives funny results...
In-Reply-To: <199812100919.KAA12196@sophie.ethz.ch> (message from Martin
 Maechler on Thu, 10 Dec 1998 10:19:26 +0100)
Message-ID: <199812101357.OAA16642@sophie.ethz.ch>

[in an attempt to provide 

	  system.test <- 
		function(...) { system(paste("test", ...)) == 0 }
and then 
	  file.exists <- 
		function(file){sapply(file, function(f)system.test("-e", f))} 
 
  (which would provide S-plus [>= 4.x] compatibility)
]

Look at this -- ``the horror'' to me :

> (system("test -e /tmp"))
sh: test: argument expected
[1] 256
> system("type test")
test is a shell builtin
> system("echo $SHELL")
/usr/local/bin/tcsh

> (system("test -d /tmp")) # correct: it IS a directory
[1] 0
> (system("test -f /tmp")) # correct: it is NOT a plain file
[1] 256
> (system("/usr/local/bin/test -e /tmp"))  ## this is GNU test from sh-utils
[1] 0
> (system("/usr/bin/test -e /tmp")) ##- Solaris 2.5.x 
[1] 0
> (system("test -e /tmp"))
sh: test: argument expected
[1] 256

However, there doesn't seem to be a problem 
in the shell [/usr/local/bin/tcsh] :

    sophie{maechler}637> test -e /tmp; echo "$?"
    0
    sophie{maechler}638> test -e /tp; echo "$?"
    1

-----------------

Similar funny behavior  (in tcsh; $version gives the tcsh version)

In the shell

   sophie{maechler}639> echo $version
   tcsh 6.04.00 (Cornell) 93/07/03 (sun4) options 8b,nls,dl,al

In R :

   > (system("echo $version"))

   [1] 0

   > {system("echo $version > /tmp/qq"); scan("/tmp/qq",what="")}
   Read 0 items
   character(0)
   >

----------
One way to get an R internal "test" 
	-- even working in the Win/Mac version of R ?! --- 
would be to incorporate GNU sh-utils "test"
(standalone) and provide something like

	test <- function(...) .Internal(test(...))

However, this probably should have to be done by someone who understands
more than me about this kind of C codes.

----------
Comments, suggestions ?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 10 14:37:41 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 1998 15:37:41 +0100
Subject: [R & Unix ..] system("test",...)  gives funny results...
In-Reply-To: Martin Maechler's message of Thu, 10 Dec 1998 14:57:58 +0100
References: <199812101357.OAA16642@sophie.ethz.ch>
Message-ID: <x2zp8w6p1m.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> [in an attempt to provide 
> 
> 	  system.test <- 
> 		function(...) { system(paste("test", ...)) == 0 }
> and then 
> 	  file.exists <- 
> 		function(file){sapply(file, function(f)system.test("-e", f))} 
>  
>   (which would provide S-plus [>= 4.x] compatibility)
> ]
> 
> Look at this -- ``the horror'' to me :
> 
> > (system("test -e /tmp"))
> sh: test: argument expected
> [1] 256

Happens to me on Solaris too, but *not* on Linux!

> Similar funny behavior  (in tcsh; $version gives the tcsh version)
> 
> In the shell
> 
>    sophie{maechler}639> echo $version
>    tcsh 6.04.00 (Cornell) 93/07/03 (sun4) options 8b,nls,dl,al
> 
> In R :
> 
>    > (system("echo $version"))
> 
>    [1] 0
> 
>    > {system("echo $version > /tmp/qq"); scan("/tmp/qq",what="")}
>    Read 0 items
>    character(0)
>    >

Isn't this just because system() uses /bin/sh?

>  {system("echo $USER > /tmp/qq"); scan("/tmp/qq",what="")}
Read 1 items
[1] "pd"

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Dec 10 14:56:11 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 10 Dec 1998 09:56:11 -0500
Subject: [R & Unix ..] system("test",...)  gives funny results...
References: <199812101357.OAA16642@sophie.ethz.ch>
Message-ID: <98Dec10.100156est.13470@mailgate.bank-banque-canada.ca>

>One way to get an R internal "test"
>        -- even working in the Win/Mac version of R ?! ---
...
>However, this probably should have to be done by someone who understands
>more than me about this kind of C codes.

I've often wondered about this too. In my "compatibility library" I do a few
similar things like copying files and checking file dates. I haven't implemented
them other than in Unix and I've often thought some cross-platform issues would
be resolved by doing these in C. Of course, this may just move the problem. To
what extent are these kinds of things standardized across platforms in C?

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Dec 10 15:35:32 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 10 Dec 1998 16:35:32 +0100
Subject: [R & Unix ..] system("test",...)  gives funny results...
In-Reply-To: <x2zp8w6p1m.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 10 Dec 1998 15:37:41 +0100)
Message-ID: <199812101535.QAA17618@sophie.ethz.ch>

Peter Dalgaard provided the solution:

1) system(.) always uses /bin/sh  -- not regarding $SHELL or anything

2) On Solaris 2.5.1,  the /bin/sh builtin 'test'  doesn't work as expected
   as expected with  "test -e  file" :

    sophie{maechler}654> uname -a
    SunOS sophie 5.5.1 Generic_103640-08 sun4u sparc SUNW,Ultra-1

    sophie{maechler}655> /bin/sh

    $ test -e /tmp
    test: argument expected
    $ touch /tmp/q
    $ test -e /tmp/q
    test: argument expected
    $ test -d /tmp; echo $?
    0
    $ test -d /Tmp; echo $?
    1

[still interested to hear about the potential of an R builtin 'test',
 relying on GNU sh-utils].

--
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Dec 10 16:00:49 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 10 Dec 1998 16:00:49 +0000 (GMT)
Subject: [R & Unix ..] system("test",...)  gives funny results...
Message-ID: <199812101600.QAA00515@toucan.stats.ox.ac.uk>


> Date: Thu, 10 Dec 1998 14:57:58 +0100
> From: Martin Maechler <maechler@stat.math.ethz.ch>

> [in an attempt to provide 
> 
> 	  system.test <- 
> 		function(...) { system(paste("test", ...)) == 0 }
> and then 
> 	  file.exists <- 
> 		function(file){sapply(file, function(f)system.test("-e", f))} 
>  
>   (which would provide S-plus [>= 4.x] compatibility)
> ]
> 

But surely that is not the way to do this (and how is it going to work on
Windows?)  S-PLUS uses a system call for file.exists, presumably to
access(), even on Unix.

If you want to use test, do remember that what you get is shell-specific.
If you use

system("/usr/bin/test -e /tmp")

you have some chance of working on different shells. (Even Linux, RH5.2,
has test at /usr/bin/test!)


[still interested to hear about the potential of an R builtin 'test',
 relying on GNU sh-utils].

Why not use POSIX system calls instead?
-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Dec 11 15:53:03 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 11 Dec 1998 10:53:03 -0500
Subject: capital letters in html help
Message-ID: <98Dec11.105917est.13470@mailgate.bank-banque-canada.ca>

While looking for "Memory" in the html help I discovered that all the capital
letters are put in the first section with operators and global variables. I
think this a bug although perhaps Memory is a global variable.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Dec 15 09:15:39 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 15 Dec 1998 10:15:39 +0100 (CET)
Subject: capital letters in html help
In-Reply-To: <98Dec11.105917est.13470@mailgate.bank-banque-canada.ca>
References: <98Dec11.105917est.13470@mailgate.bank-banque-canada.ca>
Message-ID: <13942.10427.485344.572361@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 11 Dec 1998 10:53:03 -0500,
>>>>> Paul Gilbert (PG) wrote:

PG> While looking for "Memory" in the html help I discovered that all the capital
PG> letters are put in the first section with operators and global variables. I
PG> think this a bug although perhaps Memory is a global variable.

True, thanks.

The HTML help system will undergo a major revision once I've finished
my thesis (by christmas or so), including search for all pkgs etc.
I'll add that to the ever-growing 2do list ...

.f



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Dec 15 15:46:10 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 15 Dec 1998 10:46:10 -0500
Subject: legend
Message-ID: <98Dec15.104909est.13460@mailgate.bank-banque-canada.ca>

I am trying to put a legend below some plots as follows:

 x11()
 par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1))
 matplot(matrix(1:30,15,2), type="l", lty=1:2)
 par(mfg = c(2, 1, 2, 1))
 legend((par()$usr)[1:2], (par()$usr)[3:4], c("a","b"), lty = 1:2,  col=1:2, bty
= "y")

The letters "a" and "b" print but not the lines. If I omit par(mfg = c(2, 1, 2,
1)) then the
legend prints properly but on top of the plot in the first area.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Dec 15 17:15:11 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 15 Dec 1998 18:15:11 +0100
Subject: legend --> buglet in plot setup  +  legend()'s S/R incompatibility
In-Reply-To: <98Dec15.104909est.13460@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Tue, 15 Dec 1998 10:46:10 -0500)
Message-ID: <199812151715.SAA23840@sophie.ethz.ch>

Thank you Paul; 
One could argue that it is your fault, calling  legend() without a
preceding plot in that figure.  Help says ``add legends to plots''

However, I agree
this *is* a buglet somewhere.

Look at this [which is your code ++ ]

x11()
par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1), ask = TRUE)
(u <- par("usr"))
for(do.box in c(FALSE,TRUE)) {
    matplot(matrix(1:30,15,2), type="l", lty=1:2)
    par(mfg = c(2, 1, 2, 1))
    print(u <- par("usr"))
    if(do.box) 
	box()
    legend(u[1:2], u[3:4], c("a","b"), lty = 1:2,  col=1:2, bty = "y")
}

##--> The first time, the legend is not properly done;
##    the second time, after "box()" it is!

---> You can use this as a workaround for the moment:

Use 
	box(col = 0)

which gives an invisible box  and makes subsequent  legend(.) work okay!

---
However, I assume you won't get what you want and what S-plus does:

S: in legend(x,y,...) , if x & y of length 2, they specify opposite CORNERS

whereas in R, they always specify just one point
we have something like 
	if(length(x) > 1) { x <- mean(x); y <- mean(y) ; ...... }
That point is determined by xjust/yjust and defaults to the left-upper corner:

In R, the size and placing of the legend's box
is determined ``automagically'', using
	x.intersp,	y.intersp,  cex   &	text.width.

Maybe we need a way to circumwent the automatic legend-box size computation...
---

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Dec 15 17:45:53 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 15 Dec 1998 12:45:53 -0500
Subject: legend() buglet 2
Message-ID: <98Dec15.124852est.13443@mailgate.bank-banque-canada.ca>

Perhaps this is not a bug but rather my misunderstanding of lty and col. I would
like to
generate a legend for plots as follows:

par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1))
matplot(t(matrix(1:8,8,20)), type="l")
par(mfg = c(2, 1, 2, 1))
box(col = 0) #  Rbug workaround. Thanks Martin
legend((par()$usr)[1:2], (par()$usr)[3:4], as.character(1:8),
        lty=1:8, col=1:8, bty="y")

The lines for 7 and 8 do not appear in the legend.  If I do

matplot(t(matrix(1:8,8,20)), type="l", lty=1:8, col=1:8)

they do not appear in the graph. These appear to correspond to recycling of col
for lty. I've tried a few variations on this which all mismatch the lines or
colours. Is this a bug or how do I get the legend to match the plot?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Dec 16 13:22:56 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 16 Dec 1998 14:22:56 +0100
Subject: colors in R [was "Re: legend() buglet 2"]
In-Reply-To: <98Dec15.124852est.13443@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Tue, 15 Dec 1998 12:45:53 -0500)
Message-ID: <199812161322.OAA28146@sophie.ethz.ch>

	[CC: to "R-help", since this should be of wider interest ]

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> Perhaps this is not a bug but rather my misunderstanding of lty
    PaulG> and col. I would like to generate a legend for plots as follows:

No, there's definitely no bug here.

    PaulG> par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1))
    PaulG> matplot(t(matrix(1:8,8,20)), type="l")
    PaulG> par(mfg = c(2, 1, 2, 1))
    PaulG> box(col = 0) #  Rbug workaround. Thanks Martin
    PaulG> legend((par()$usr)[1:2], (par()$usr)[3:4], as.character(1:8),
    PaulG> 	lty=1:8, col=1:8, bty="y")

    PaulG> The lines for 7 and 8 do not appear in the legend.

No!  They do, but you don't see them easily:
> palette()
[1] "black"   "red"     "green3"  "blue"    "cyan"    "magenta" "yellow" 
[8] "white"  

I.e., col=7 is "yellow"  (per default, you can always change this!)
      col=8 is "white"
both of which are hard to see with a white background.

Try to say first

	par(bg = "gray80") # or something else between white and black

and you will see the  "yellow" and "white".


    PaulG> matplot(t(matrix(1:8,8,20)), type="l", lty=1:8, col=1:8)

    PaulG> they do not appear in the graph.

as above, they do, look at it after   par(bg = "gray")# or "gray80"

For further ``color manipulation'' in R,
please look at the help page for palette and its examples and the further
pages in 'see also'.

As another illustrative example for matplot(), try e.g.,

par(bg="light blue")
palette(heat.colors(20))
matplot(t(matrix(1:20,20, 2)), type="l", lty=1:4, col=1:20, lwd=2)

------

The other ``phenomenon'' you observe really comes from  
matplot()'s default of  "col = 1:6" (and then recycling).
It makes sense to only use ``a few'' different colors in a general matplot
(where lines cross,...).
S default even recycles only four colors  (col=1:4).

Martin
Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Dec 16 14:46:50 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 16 Dec 1998 09:46:50 -0500
Subject: [R] colors in R [was "Re: legend() buglet 2"]
References: <199812161322.OAA28146@sophie.ethz.ch>
Message-ID: <98Dec16.095018est.13455@mailgate.bank-banque-canada.ca>

Martin

I realized after I sent the last message that one of my colours was white, but I
didn't realize that matplot was cycling 1:6 and so I didn't understand why white
on the legend was not white on the plot. There do seem to be two more general
problems:

1/ There should be a reliable way to make sure the legend and the plots
correspond. (I almost got messed up really badly in the interpretation of my
results and the current situation seems prone to error.) I think what is needed
is a wrapping together of all the elements describing plot elements (e.g.. type,
bg, lty, col, lwd) in a way so that the same description can be passed to all
related routines such as plot, matplot, legend. Perhaps this is already
available as I know there have been discussions about plotting which I have not
followed very carefully?

2/ It would be nice if this could be done in a way that worked in both R and
Splus so that my plot methods work in both. (I don't necessarily expect the same
line types and colours, but I don't want to maintain two sets of code.)

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Dec 17 18:05:38 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 17 Dec 1998 10:05:38 -0800 (PST)
Subject: survival4 again
In-Reply-To: <199812100714.JAA26767@cc.oulu.fi>
Message-ID: <Pine.GSO.4.03.9812170957410.4504-100000@wompom.biostat.washington.edu>


Yet another release of survival4 (1.3-0) has been uploaded and will be
percolating to a CRAN site near you. It will initially be in
contrib/devel/

Notes: 	
    (1)  survival4 does not work correctly under R0.63.1 with
na.action=na.omit. This has been fixed in the current release snapshot

    (2) This newest version requires R0.63.1 or later; some of the
code has been migrated into base R to avoid conflicts (thanks to Terry
Therneau for permission).

    (3) I think this version fixes the scoping problems that prevented
coxph() working inside a function.

    (4) This will probably be the last release of survival4, since
survival5 is appearing Real Soon Now, with some very promising new
features.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 22 09:42:10 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 Dec 1998 09:42:10 +0000 (GMT)
Subject: Makefiles in contributed packages
In-Reply-To: <13926.43105.655679.260456@c1186.ae.ge.com>
Message-ID: <Pine.GSO.3.96.981222093254.26978B-100000@toucan.stats>

On Thu, 3 Dec 1998, U-E59264-Osman F Buyukisik wrote:

> Hello,
>  I have a couple of suggestions that will help persons with
> machines/OSs that use extensions other than ".so" for shared libs:
> 
> 1) Use the variable SHLIBEXT (defined in Makeconf), DONT use "so" or "sl".
> 2) Use the method in "modreg" to load the dynamic lib:
>  .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
>     DO NOT USE
>     library.dynam("eda.so")
> 
> 
> Now, I have to edit every package Makefile and zzz.R files for
> hpux10.20 installs. 

My experience (doing this for Windows, where it is .dll) suggests

-- in all cases bar funfits I can just delete the Makefile
-- R INSTALL  has a line

    cat `ls ${dir}/*.[RSqrs]` > ${lib}/${pkg}/R/${pkg}

Add an sed command there to change ${lib}.so to ${lib}.sl (or whatever).
[That is not really what is done under Windows, but is effectively what
Guido's Makefile does.]

Package funfits is a bit harder: I just deleted all the unused (with S/R)
source code, keeping the list in OBJS.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Dec 23 11:59:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 23 Dec 1998 12:59:03 +0100
Subject: hist(1) results in a segmentation fault (at least on my machine) (PR#86)
In-Reply-To: <199812230905.KAA19545@sophie.ethz.ch> (message from Martin
 Maechler on Wed, 23 Dec 1998 10:05:35 +0100)
Message-ID: <199812231159.MAA20817@sophie.ethz.ch>


I've fixed hist.default();
the case for  hist(0) and hist(-1)  also needed consideration.

Here is the patch I've committed:

cvs diff -bw -r1.2.2.1 src/library/base/R/hist.R
diff -b -w -r1.2.2.1 -r1.2.2.4
16,18c16,18
<     use.br <- !missing(breaks) && length(breaks) > 1
<     breaks <-
< 	if(use.br) sort(breaks)
---
>     use.br <- !missing(breaks) && (nB <- length(breaks)) > 1
>     if(use.br)
> 	breaks <- sort(breaks)
20,22c20,22
< 	    rx <- range(x)
< 	    pretty (rx + c(0, diff(rx)/1000),
< 		    n = if(missing(breaks)) 1 + log2(n)
---
> 	dx <- diff(rx <- range(x))
> 	nnb <-
> 	    if(missing(breaks)) 1 + log2(n)
27d26
< 		    })
28a28
> 	breaks <- pretty (rx + c(-1,1)/1000 * dx, n = nnb)
29a30,35
> 	if(nB == 1) {##	 search anew for breaks; dx is (always ?) 0.
> 	    breaks <-
> 		if(abs(breaks) > 1e-20) sort(breaks * c(.8, 1.2)) else c(-.2,.2)
> 	    nB <- length(breaks)
> 	}
>     }

As you may see, I've also changed
from a potentially asymmetric  rx + c(0, dx/1000)
to a symmetric interval	       rx + c(-1,1)/1000 * dx

Hope this okay even so it changes current behavior in some cases.

-------------

Merry Christmas to all!
I'm gone for the next few days..

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Dec  1 08:05:25 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 1 Dec 1998 09:05:25 +0100
Subject: Random Number Generators,  .Random.seed  and all that..
Message-ID: <199812010805.JAA05241@sophie.ethz.ch>

As some of you know,
we have been thinking of allowing the possibility of a
CHOICE of the kind of random number generator (=: RNG) to use in R.
The current R-release snapshot even has some code in it; 
however, this will be changed quite a bit.  Here is a kind of informal
RFC (request for comments / request for criticism / ..):

  1a.  With the new scheme, we still want that
       save(..)  & load(..)  restore the  state of the RNG.

      The new state is  [ RNGkind ; "seed" of that RNG ].
      "seed" really means the state of the chosen RNG

  1b. For compatibility reasons, it makes sense
      to keep this RNGstate in the integer vector  .Random.seed.

      Before each RN generation, .Random.seed is read into the internal
      RNG state variables; afterwards .Random.seed is restored from there.

  1c. In the future,  .Random.seed[1]    == <code of RNGkind>
		      .Random.seed[2:ns] == "seed" itself.

	===> INCOMPATIBILITY to currently saved or set  .Random.seeds.

	We could fudge backward compatibility by

		if(length(.Random.seed) == "desired length for RNGkind" - 1) {

			behave as if .Random.seed[0] == <current RNGkind code>
			.Random.seed[1:n] == <corrected .Random.seed>[2:(n+1)]
		}
	Should I provide this hack?
	If I don't people will more quickly have to change their code,
	setting proper  .Random.seed  whereever they assign one.

  1d. Each RNG has it's own "seed" (state vector).
      Randomize() is only called when .Random.seed isn't there, or
      (new)  if( length(.Random.seed) == 1  && 
		 .Random.seed[1] == "valid RNGkind code" )


  2. Default RNGkind == as now, "Wichmann-Hill"

  3. In addition to .Random.seed, the RNGkind can be queried and set by
	RNGkind()
     or, e.g.,
	RNGkind("Super-Duper")


	{{ my current code now provides all the above, with the exception of
	   the full backward compatibility hack}}

Comments (incl. praises :-}) welcome!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><

	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Dec  1 17:16:45 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 1 Dec 1998 12:16:45 -0500
Subject: [R] help files for libraries that aren't in the defaults library tree
References: <Pine.SOL.3.91.981201074948.10784A-100000@oriole.er.usgs.gov>
Message-ID: <98Dec1.150614est.13477@mailgate.bank-banque-canada.ca>

> "J" == J Andy Royle <jar@oriole.er.usgs.gov> writes:

>I created the library "myR" and installed this in /home/royle/R
>using:

>R INSTALL -l /home/royle/R   /home/royle/Rpackages/myR

The installation of (at least html) documentation for private libraries does not
work properly in 0.63.  (If r-devel is not aware of this the problem is that
R/doc/html/function.html and R/doc/html/packages.html get clobbered.)

If you do:

R INSTALL   myR

in the subdirectory /home/royle/Rpackages then the package will be installed in
the directory with other R packages and the documentation will be installed
correctly. (This assumes you have write permission on that directory.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From osman.buyukisik@ae.ge.com  Thu Dec  3 15:11:20 1998
From: osman.buyukisik@ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Thu,  3 Dec 1998 10:11:20 -0500 (EST)
Subject: Makefiles in contributed packages
Message-ID: <13926.43105.655679.260456@c1186.ae.ge.com>

Hello,
 I have a couple of suggestions that will help persons with
machines/OSs that use extensions other than ".so" for shared libs:

1) Use the variable SHLIBEXT (defined in Makeconf), DONT use "so" or "sl".
2) Use the method in "modreg" to load the dynamic lib:
 .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
    DO NOT USE
    library.dynam("eda.so")


Now, I have to edit every package Makefile and zzz.R files for
hpux10.20 installs. 

TIA
osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Dec  3 18:40:45 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 3 Dec 1998 13:40:45 -0500
Subject: gmake
Message-ID: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>

GNU make does not work for some of my other work so for compiling R I am trying
to use "gmake" which is a link to the correct version of gnu make. I'm not sure
if this should work but it looks like it is suppose to, as $(MAKE) gets expanded
to "gmake" most places. However, "make" gets used in

R-pre0.63.1/src/library/modreg/src

and fails. Is this a bug or should I not expect this to work? I'm trying to
compile an intermediate release.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Dec  3 20:42:08 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 3 Dec 1998 15:42:08 -0500
Subject: max(NULL)
Message-ID: <98Dec3.155312est.13444@mailgate.bank-banque-canada.ca>

In Splus 3.3 and previous to R 0.63  max(NULL) returned NA and now it returns

> max(NULL)
Warning in max(..., na.rm = na.rm) : no finite arguments to min/max; returning
extreme.
[1] -2147483647

Is this a bug or an intentional change?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Dec  3 21:14:32 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 3 Dec 1998 13:14:32 -0800 (PST)
Subject: max(NULL)
In-Reply-To: <98Dec3.155312est.13444@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9812031312550.25808-100000@wompom.biostat.washington.edu>

On Thu, 3 Dec 1998, Paul Gilbert wrote:

> In Splus 3.3 and previous to R 0.63  max(NULL) returned NA and now it returns
> 
> > max(NULL)
> Warning in max(..., na.rm = na.rm) : no finite arguments to min/max; returning
> extreme.
> [1] -2147483647
> 
> Is this a bug or an intentional change?

It's intentional: ie max of an empty set is -Inf, min is +Inf 
For a while it happened silently, but now you get warned.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Dec  3 21:32:55 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 3 Dec 1998 22:32:55 +0100 (CET)
Subject: gmake
In-Reply-To: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>
References: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>
Message-ID: <13927.903.791559.555331@pc87.maho.magnaeu.com>

>>>>> Paul Gilbert writes:

> GNU make does not work for some of my other work so for compiling R I
> am trying to use "gmake" which is a link to the correct version of gnu
> make. I'm not sure if this should work but it looks like it is suppose
> to, as $(MAKE) gets expanded to "gmake" most places. However, "make"
> gets used in

> R-pre0.63.1/src/library/modreg/src

> and fails. Is this a bug or should I not expect this to work? I'm
> trying to compile an intermediate release.

Not sure if I understand this but anyway:  if you want to use `foo',
say, for make, you should do (Bourne shell)

	MAKE=foo configure
	foo

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Dec  3 21:35:51 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 3 Dec 1998 13:35:51 -0800 (PST)
Subject: gmake
In-Reply-To: <98Dec3.135145est.13487@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.03.9812031331520.25808-100000@wompom.biostat.washington.edu>

On Thu, 3 Dec 1998, Paul Gilbert wrote:

> GNU make does not work for some of my other work so for compiling R I am trying
> to use "gmake" which is a link to the correct version of gnu make. I'm not sure
> if this should work but it looks like it is suppose to, as $(MAKE) gets expanded
> to "gmake" most places. However, "make" gets used in
> 
> R-pre0.63.1/src/library/modreg/src
> 
> and fails. Is this a bug or should I not expect this to work? I'm trying to
> compile an intermediate release.

It is a bug, and you should expect it not to work. :)

The problem is that libraries are installed by R INSTALL, not by recursive
make. Using gmake at the top level means that it is used recursively in
all the subdirectories, but in order to change the behaviour of R INSTALL
you need to tell _configure_ to use gmake.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle	


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From itcmex@df1.telmex.net.mx  Fri Dec  4 06:14:47 1998
From: itcmex@df1.telmex.net.mx (itcmex@df1.telmex.net.mx)
Date: Fri, 04 Dec 1998 00:14:47 -0600 (CST)
Subject: Gift for your pc...!
Message-ID: <0F3F000U4G0LYQ@sims00.telmex.net.mx>

____________________________________________________
Get FREE a binary solutions for your PC!.No purchase it=B4s needed.
Visit  http://www.itcmex.com/2000.html (bilingual site)
Have a nice day!

Regards,

ITCMEX GROUP from Mexico.
http://www.itcmex.com

/////////////////////////////////////////////////////////////////////=
//
 =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
If you wish to be removed from this advertiser's future mailings, ple=
ase reply=20
with the subject "Remove" and this software will automatically block =
you=20
=66rom their future mailings.
/////////////////////////////////////////////////////////////////////=
//


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From colin@geology.gla.ac.uk  Fri Dec  4 15:09:19 1998
From: colin@geology.gla.ac.uk (Colin Farrow)
Date: Fri, 04 Dec 1998 15:09:19 +0000
Subject: Linux compile problem
Message-ID: <3667FB1F.DA32B4B6@geology.gla.ac.uk>

System setup is:

Redhat Linux 5.2, gcc-2.7.2.3-14, glibc-2.0.7-29, fort77, f2c

Compilation proceeds until final linking stage which produces


ld -export-dynamic -o ../../bin/R.binary arithmetic.o array.o attrib.o
bind.o
 builtin.o character.o coerce.o colors.o complex.o context.o cov.o cum.o
debu
g.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o
error
s.o eval.o format.o fourier.o gram.o graphics.o iosupport.o list.o
logic.o ma
in.o match.o memory.o model.o names.o objects.o optimize.o options.o
par.o pa
ste.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o
printutil
s.o random.o relop.o saveload.o scan.o seq.o sort.o source.o split.o
subassig
n.o subscript.o subset.o summary.o unique.o util.o version.o
../unix/libunix.
a ../appl/libappl.a ../nmath/libmath.a    -lf2c -lreadline -lz -ldl
-lncurses
 -lm -L/usr/X11R6/lib -lX11
ld: warning: cannot find entry symbol _start; defaulting to 08054610

and the resultant R.binary does not run

Suggestions welcome !


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Dec  4 16:18:39 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Dec 1998 17:18:39 +0100
Subject: Linux compile problem
In-Reply-To: Colin Farrow's message of Fri, 04 Dec 1998 15:09:19 +0000
References: <3667FB1F.DA32B4B6@geology.gla.ac.uk>
Message-ID: <x2ww47op7k.fsf@blueberry.kubism.ku.dk>

Colin Farrow <colin@geology.gla.ac.uk> writes:

> System setup is:
> 
> Redhat Linux 5.2, gcc-2.7.2.3-14, glibc-2.0.7-29, fort77, f2c
> 
> Compilation proceeds until final linking stage which produces
> 
> 
> ld -export-dynamic -o ../../bin/R.binary arithmetic.o array.o attrib

ld ??? 

> and the resultant R.binary does not run
> 
> Suggestions welcome !

Maybe if you set LDCMD=gcc .. (I'm not sure, but it's worth a try)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Dec  6 15:22:30 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 6 Dec 1998 16:22:30 +0100
Subject: Saving and replaying plots
Message-ID: <19981206162230.A588@sirio.stat.unipd.it>

Is a mechanism for saving and replaying later the content of the current
graphic device hidden somewhere? Or is it planned?

If not, I would like to have something of this sort so I can try to
implement it (when I will have some time,of course) and if:
1) it is simple as graphics.c/copyDisplayList(...) suggests, i.e,
   it is enough to duplicate, save and restore (device)->dpSaved and 
   (device)->DisplayList;
2) idea is sensible; in particular, I have no idea of how much
   memory is `eaten' by the DisplayList of a `medium size' plot.
   
guido   
   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Sun Dec  6 18:57:08 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Mon, 7 Dec 1998 07:57:08 +1300 (NZDT)
Subject: Saving and replaying plots
Message-ID: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>

I don't think the feature is available now, but it should be pretty
easy to implement.  The display list consists of a list of function
calls to the low level functions.  These can be quite large.

There are some potential difficulties in loading a previously
saved display list.  I'll have a bit of a look.
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Dec  6 19:52:54 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 6 Dec 1998 20:52:54 +0100
Subject: Saving and replaying plots
In-Reply-To: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>; from Ross Ihaka on Mon, Dec 07, 1998 at 07:57:08AM +1300
References: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>
Message-ID: <19981206205254.A778@sirio.stat.unipd.it>

On Mon, Dec 07, 1998 at 07:57:08AM +1300, Ross Ihaka wrote:
> 
> There are some potential difficulties in loading a previously
> saved display list.  I'll have a bit of a look.

  I don't know if this can help. But, I was thinking about the possibility
  to recall previously done plot during the same session not
                                            ~~~~
  between sessions.					    
  Typical usages that I have in mind: 
  1) do a plot, do some others to explore how something can be represented, 
     going back to the first  (or some other before), decide to add
     something to the third, final choice for it, add to it final
     details (e.g. legend, change color,...), print it.
  2) teaching: students work in a labs for sometimes, 
     I can review what they have done 
     (Ok, there are other solutions,i.e, they save plots in a postscript
     file and I review the file, but it would be very nice to do this
     from inside R without re-issuing all the commands again).
  3) .....................
  
  g.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Sun Dec  6 21:03:59 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Mon,  7 Dec 1998 10:03:59 +1300 (NZDT)
Subject: Saving and replaying plots
In-Reply-To: <19981206205254.A778@sirio.stat.unipd.it>
References: <199812061857.HAA24850@stat1.stat.auckland.ac.nz>
 <19981206205254.A778@sirio.stat.unipd.it>
Message-ID: <13930.60958.724981.734442@g.ihaka.slip.auckland.ac.nz>

Guido Masarotto writes:
 >   I don't know if this can help. But, I was thinking about the possibility
 >   to recall previously done plot during the same session not
 >                                             ~~~~
 >   between sessions.					    
 >   Typical usages that I have in mind: 
 >   1) do a plot, do some others to explore how something can be represented, 
 >      going back to the first  (or some other before), decide to add
 >      something to the third, final choice for it, add to it final
 >      details (e.g. legend, change color,...), print it.
 >   2) teaching: students work in a labs for sometimes, 
 >      I can review what they have done 
 >      (Ok, there are other solutions,i.e, they save plots in a postscript
 >      file and I review the file, but it would be very nice to do this
 >      from inside R without re-issuing all the commands again).
 >   3) .....................

Do you have multiple graphics windows in your version?  You could
just spawn a new graphics window, experiment for a bit and then
go back to the original to continue there.

The display list can be stored as an ordinary R data stucture,
son there is no difficulty in saving and restoring between sessions
once you are able to get it from the device driver.

I've been wondering it it might be possible to edit the display list
before replaying it.  There are a lot of cool things that would be
possible then...
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From getmore@getmoretraffic.com  Sat Dec  5 00:34:49 1998
From: getmore@getmoretraffic.com (getmore@getmoretraffic.com)
Date: Fri, 04 Dec 1998 18:34:49 -0600
Subject: FREE DEMO of Web Promotion Software That Submits Your Site to 1100+
 Search Engines!
Message-ID: <btcjkdgp>

Greetings!

I thought I would take some time today to let you know about a wonderful new software package that will dramatically increase your web site's visibility.  It's called The Spider, and I have been using it for several months and enjoyed a tremendous increase in my website's traffic.

This software has impressed me so much that I decided to buy the reseller rights to it.  And now, we are offering it on a FREE DEMO basis.  Before I let you in on our secret download location, let me tell you a bit more about it.

1) 1100 + Supported Search Engines (Pro), 450 for standard edition

2) Batch Processing - allows you to take control of your website promotions - for all of your pages and sites. With a built in on-board database and batch processing, you can accurately register as many sites or pages as you like, all at once. 

3) Categorized submissions - accuracy is critical when placing your site; our program recognizes and properly places you in all of our supported search engines. Don't be fooled by the competition - the shotgun approach does not work!

4) True CGI based registration - while other programs simply email your site information to search engine webmasters in the vain hope they will manually enter your information, The Search Engine Spider interacts with the server directly, custom formatting your site information for each and every supported engine. 

5) Small Size, Fast Execution : The Spider is written entirely in the C programming language, and takes advantage of the true 32 bit multithreaded programming environment provided therein. It's fast: in our internal testing, the new program will perform 450 individual registrations in just under 18 minutes. Testing was done on a 28.8 dialup line.

6) Automatic Update Feature: No more weekly and monthly downloads! In an effort to keep up to date with search engine changes and updates, we have now incorporated a feature that will automate this task. Here's how it works:
a.. Each time the program is loaded, it will automatically connect to our server and verify that the current search engine database is loaded on your user's machine. If it is not, it will automatically initiate a download.
b. Once the download is complete (typically 20-30 seconds on a 28.8K connection), normal program operation will resume with the new database.

7) Improved Error Checking: anytime an error is generated during submission, by any user anywhere, the program updates our server with the search engine name, time and date of the error, and the nature of the error. Our resource manager for this project checks his log daily and investigates each and every error and has the ability to dynamically and instantly update the master database with the corrections. Once the correction is made, the Automatic Update Feature kicks in, distributing the updated registration database to every user worldwide the next time they use the program.

To get your FREE DEMO of this amazing software, please visit:
http://www.getmoretraffic.com

If you would prefer us to send you a CD with The Spider, along with free demos of over 10 of our other web promotion software packages, please visit:
http://www.getmoretraffic.com/order/process_cd.htm

If you are having problems connecting to the above links, please give us a call at 773-271-8484 and we will arrange another way for you to get your FREE DEMO.

Thanks again for your time and please let me know if you have any questions.

Best Regards,
Joe Halinsdorf
Master Promote, Inc.
120 Broadview Village Square
Suite 315
Broadview, IL 60153
773-271-8484
getmore@getmoretraffic.com

*********
To remove yourself from this mailing list, please visit http://www.getmoretraffic.com and type your email address(es) in the "Remove Me!" box, and we will promptly remove your name from future mailings.  Sorry for any inconvenience we may have caused.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Dec  7 12:38:11 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 7 Dec 1998 12:38:11 +0000 (GMT)
Subject: ESS with R and S-PLUS under Windows 9x/NT.
Message-ID: <199812071238.MAA17679@toucan.stats.ox.ac.uk>

> From: rossini@biostat.washington.edu (A.J. Rossini)
> Date: 23 Nov 1998 12:46:03 -0800
> 
> Thanks much.  I'm hacking Emacs/ESS on MS Windows platforms starting
> mid next month, thanks to some external prodding (and now, product
> availability from both R, Splus).  And I think XLispStat might be able
> to talk (at least DDE), as well, which would be nice
> 
> If anyone evaluates the situation before then (ESS/Emacs/R on MS
> Windows 95/98/NT), please send me some email with comments, to help me
> out! (MS isn't my native environment by a long shot :-).

I have a version of R that does work I believe with ESS on NTEmacs, at

http://www.stats.ox.ac.uk/pub/R/win32/new/bdr0631.zip

The only thing I had to do was to run .../bin/rterm.exe with the
starting argument --ess.  This convinces the R executable that it is
attached to a terminal and so to behave in interactive mode. I am no
great exponent (not fan) of inferior mode, but everything I tried
worked exactly as on Unix, even down to needing to go into the *R*
buffer to confirm options when quitting.

Two caveats:

-- Only tested so far on Windows 95. It may not work on NT, as the R
   executables won't run from the NT command line, yet.
-- This may depend on your shell setting for NTEmacs.


On the S-PLUS front, if you have

(setenv "ALWAYS_PROMPT" "T")

the s+3 inferior mode works right out of the box once you set the
executable to be SHOME/cmd/sqpe.exe.  This gives you everything except
access to graphsheets.  And my DDE solutions give modest success if
graphsheets are needed.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Dec  7 16:45:18 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 7 Dec 1998 17:45:18 +0100
Subject: -- spam -- sorry
Message-ID: <199812071645.RAA19836@sophie.ethz.ch>

Unfortunately, 'RegExp's exist in different flavors.
In my spam filter, 
I had an ``emacs lisp regexp'' which wasn't a ``perl regexp''
and hence missed that one...

Should n't happen anymore,
Martin

[ ``Re: xFREEx DEMO of Web Promotion Software That Submits Your Site to 1100+ 
  Search Engines!'']
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Dec 10 13:57:58 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 10 Dec 1998 14:57:58 +0100
Subject: [R & Unix ..] system("test",...)  gives funny results...
In-Reply-To: <199812100919.KAA12196@sophie.ethz.ch> (message from Martin
 Maechler on Thu, 10 Dec 1998 10:19:26 +0100)
Message-ID: <199812101357.OAA16642@sophie.ethz.ch>

[in an attempt to provide 

	  system.test <- 
		function(...) { system(paste("test", ...)) == 0 }
and then 
	  file.exists <- 
		function(file){sapply(file, function(f)system.test("-e", f))} 
 
  (which would provide S-plus [>= 4.x] compatibility)
]

Look at this -- ``the horror'' to me :

> (system("test -e /tmp"))
sh: test: argument expected
[1] 256
> system("type test")
test is a shell builtin
> system("echo $SHELL")
/usr/local/bin/tcsh

> (system("test -d /tmp")) # correct: it IS a directory
[1] 0
> (system("test -f /tmp")) # correct: it is NOT a plain file
[1] 256
> (system("/usr/local/bin/test -e /tmp"))  ## this is GNU test from sh-utils
[1] 0
> (system("/usr/bin/test -e /tmp")) ##- Solaris 2.5.x 
[1] 0
> (system("test -e /tmp"))
sh: test: argument expected
[1] 256

However, there doesn't seem to be a problem 
in the shell [/usr/local/bin/tcsh] :

    sophie{maechler}637> test -e /tmp; echo "$?"
    0
    sophie{maechler}638> test -e /tp; echo "$?"
    1

-----------------

Similar funny behavior  (in tcsh; $version gives the tcsh version)

In the shell

   sophie{maechler}639> echo $version
   tcsh 6.04.00 (Cornell) 93/07/03 (sun4) options 8b,nls,dl,al

In R :

   > (system("echo $version"))

   [1] 0

   > {system("echo $version > /tmp/qq"); scan("/tmp/qq",what="")}
   Read 0 items
   character(0)
   >

----------
One way to get an R internal "test" 
	-- even working in the Win/Mac version of R ?! --- 
would be to incorporate GNU sh-utils "test"
(standalone) and provide something like

	test <- function(...) .Internal(test(...))

However, this probably should have to be done by someone who understands
more than me about this kind of C codes.

----------
Comments, suggestions ?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 10 14:37:41 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 1998 15:37:41 +0100
Subject: [R & Unix ..] system("test",...)  gives funny results...
In-Reply-To: Martin Maechler's message of Thu, 10 Dec 1998 14:57:58 +0100
References: <199812101357.OAA16642@sophie.ethz.ch>
Message-ID: <x2zp8w6p1m.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> [in an attempt to provide 
> 
> 	  system.test <- 
> 		function(...) { system(paste("test", ...)) == 0 }
> and then 
> 	  file.exists <- 
> 		function(file){sapply(file, function(f)system.test("-e", f))} 
>  
>   (which would provide S-plus [>= 4.x] compatibility)
> ]
> 
> Look at this -- ``the horror'' to me :
> 
> > (system("test -e /tmp"))
> sh: test: argument expected
> [1] 256

Happens to me on Solaris too, but *not* on Linux!

> Similar funny behavior  (in tcsh; $version gives the tcsh version)
> 
> In the shell
> 
>    sophie{maechler}639> echo $version
>    tcsh 6.04.00 (Cornell) 93/07/03 (sun4) options 8b,nls,dl,al
> 
> In R :
> 
>    > (system("echo $version"))
> 
>    [1] 0
> 
>    > {system("echo $version > /tmp/qq"); scan("/tmp/qq",what="")}
>    Read 0 items
>    character(0)
>    >

Isn't this just because system() uses /bin/sh?

>  {system("echo $USER > /tmp/qq"); scan("/tmp/qq",what="")}
Read 1 items
[1] "pd"

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Dec 10 14:56:11 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 10 Dec 1998 09:56:11 -0500
Subject: [R & Unix ..] system("test",...)  gives funny results...
References: <199812101357.OAA16642@sophie.ethz.ch>
Message-ID: <98Dec10.100156est.13470@mailgate.bank-banque-canada.ca>

>One way to get an R internal "test"
>        -- even working in the Win/Mac version of R ?! ---
...
>However, this probably should have to be done by someone who understands
>more than me about this kind of C codes.

I've often wondered about this too. In my "compatibility library" I do a few
similar things like copying files and checking file dates. I haven't implemented
them other than in Unix and I've often thought some cross-platform issues would
be resolved by doing these in C. Of course, this may just move the problem. To
what extent are these kinds of things standardized across platforms in C?

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Dec 10 15:35:32 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 10 Dec 1998 16:35:32 +0100
Subject: [R & Unix ..] system("test",...)  gives funny results...
In-Reply-To: <x2zp8w6p1m.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 10 Dec 1998 15:37:41 +0100)
Message-ID: <199812101535.QAA17618@sophie.ethz.ch>

Peter Dalgaard provided the solution:

1) system(.) always uses /bin/sh  -- not regarding $SHELL or anything

2) On Solaris 2.5.1,  the /bin/sh builtin 'test'  doesn't work as expected
   as expected with  "test -e  file" :

    sophie{maechler}654> uname -a
    SunOS sophie 5.5.1 Generic_103640-08 sun4u sparc SUNW,Ultra-1

    sophie{maechler}655> /bin/sh

    $ test -e /tmp
    test: argument expected
    $ touch /tmp/q
    $ test -e /tmp/q
    test: argument expected
    $ test -d /tmp; echo $?
    0
    $ test -d /Tmp; echo $?
    1

[still interested to hear about the potential of an R builtin 'test',
 relying on GNU sh-utils].

--
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Dec 10 16:00:49 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 10 Dec 1998 16:00:49 +0000 (GMT)
Subject: [R & Unix ..] system("test",...)  gives funny results...
Message-ID: <199812101600.QAA00515@toucan.stats.ox.ac.uk>


> Date: Thu, 10 Dec 1998 14:57:58 +0100
> From: Martin Maechler <maechler@stat.math.ethz.ch>

> [in an attempt to provide 
> 
> 	  system.test <- 
> 		function(...) { system(paste("test", ...)) == 0 }
> and then 
> 	  file.exists <- 
> 		function(file){sapply(file, function(f)system.test("-e", f))} 
>  
>   (which would provide S-plus [>= 4.x] compatibility)
> ]
> 

But surely that is not the way to do this (and how is it going to work on
Windows?)  S-PLUS uses a system call for file.exists, presumably to
access(), even on Unix.

If you want to use test, do remember that what you get is shell-specific.
If you use

system("/usr/bin/test -e /tmp")

you have some chance of working on different shells. (Even Linux, RH5.2,
has test at /usr/bin/test!)


[still interested to hear about the potential of an R builtin 'test',
 relying on GNU sh-utils].

Why not use POSIX system calls instead?
-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Dec 11 15:53:03 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 11 Dec 1998 10:53:03 -0500
Subject: capital letters in html help
Message-ID: <98Dec11.105917est.13470@mailgate.bank-banque-canada.ca>

While looking for "Memory" in the html help I discovered that all the capital
letters are put in the first section with operators and global variables. I
think this a bug although perhaps Memory is a global variable.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Dec 15 09:15:39 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 15 Dec 1998 10:15:39 +0100 (CET)
Subject: capital letters in html help
In-Reply-To: <98Dec11.105917est.13470@mailgate.bank-banque-canada.ca>
References: <98Dec11.105917est.13470@mailgate.bank-banque-canada.ca>
Message-ID: <13942.10427.485344.572361@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 11 Dec 1998 10:53:03 -0500,
>>>>> Paul Gilbert (PG) wrote:

PG> While looking for "Memory" in the html help I discovered that all the capital
PG> letters are put in the first section with operators and global variables. I
PG> think this a bug although perhaps Memory is a global variable.

True, thanks.

The HTML help system will undergo a major revision once I've finished
my thesis (by christmas or so), including search for all pkgs etc.
I'll add that to the ever-growing 2do list ...

.f



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Dec 15 15:46:10 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 15 Dec 1998 10:46:10 -0500
Subject: legend
Message-ID: <98Dec15.104909est.13460@mailgate.bank-banque-canada.ca>

I am trying to put a legend below some plots as follows:

 x11()
 par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1))
 matplot(matrix(1:30,15,2), type="l", lty=1:2)
 par(mfg = c(2, 1, 2, 1))
 legend((par()$usr)[1:2], (par()$usr)[3:4], c("a","b"), lty = 1:2,  col=1:2, bty
= "y")

The letters "a" and "b" print but not the lines. If I omit par(mfg = c(2, 1, 2,
1)) then the
legend prints properly but on top of the plot in the first area.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Dec 15 17:15:11 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 15 Dec 1998 18:15:11 +0100
Subject: legend --> buglet in plot setup  +  legend()'s S/R incompatibility
In-Reply-To: <98Dec15.104909est.13460@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Tue, 15 Dec 1998 10:46:10 -0500)
Message-ID: <199812151715.SAA23840@sophie.ethz.ch>

Thank you Paul; 
One could argue that it is your fault, calling  legend() without a
preceding plot in that figure.  Help says ``add legends to plots''

However, I agree
this *is* a buglet somewhere.

Look at this [which is your code ++ ]

x11()
par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1), ask = TRUE)
(u <- par("usr"))
for(do.box in c(FALSE,TRUE)) {
    matplot(matrix(1:30,15,2), type="l", lty=1:2)
    par(mfg = c(2, 1, 2, 1))
    print(u <- par("usr"))
    if(do.box) 
	box()
    legend(u[1:2], u[3:4], c("a","b"), lty = 1:2,  col=1:2, bty = "y")
}

##--> The first time, the legend is not properly done;
##    the second time, after "box()" it is!

---> You can use this as a workaround for the moment:

Use 
	box(col = 0)

which gives an invisible box  and makes subsequent  legend(.) work okay!

---
However, I assume you won't get what you want and what S-plus does:

S: in legend(x,y,...) , if x & y of length 2, they specify opposite CORNERS

whereas in R, they always specify just one point
we have something like 
	if(length(x) > 1) { x <- mean(x); y <- mean(y) ; ...... }
That point is determined by xjust/yjust and defaults to the left-upper corner:

In R, the size and placing of the legend's box
is determined ``automagically'', using
	x.intersp,	y.intersp,  cex   &	text.width.

Maybe we need a way to circumwent the automatic legend-box size computation...
---

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Dec 15 17:45:53 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 15 Dec 1998 12:45:53 -0500
Subject: legend() buglet 2
Message-ID: <98Dec15.124852est.13443@mailgate.bank-banque-canada.ca>

Perhaps this is not a bug but rather my misunderstanding of lty and col. I would
like to
generate a legend for plots as follows:

par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1))
matplot(t(matrix(1:8,8,20)), type="l")
par(mfg = c(2, 1, 2, 1))
box(col = 0) #  Rbug workaround. Thanks Martin
legend((par()$usr)[1:2], (par()$usr)[3:4], as.character(1:8),
        lty=1:8, col=1:8, bty="y")

The lines for 7 and 8 do not appear in the legend.  If I do

matplot(t(matrix(1:8,8,20)), type="l", lty=1:8, col=1:8)

they do not appear in the graph. These appear to correspond to recycling of col
for lty. I've tried a few variations on this which all mismatch the lines or
colours. Is this a bug or how do I get the legend to match the plot?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Dec 16 13:22:56 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 16 Dec 1998 14:22:56 +0100
Subject: colors in R [was "Re: legend() buglet 2"]
In-Reply-To: <98Dec15.124852est.13443@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Tue, 15 Dec 1998 12:45:53 -0500)
Message-ID: <199812161322.OAA28146@sophie.ethz.ch>

	[CC: to "R-help", since this should be of wider interest ]

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> Perhaps this is not a bug but rather my misunderstanding of lty
    PaulG> and col. I would like to generate a legend for plots as follows:

No, there's definitely no bug here.

    PaulG> par(mfcol = c(2, 1), mar = c(5.1, 6.1, 4.1,  2.1))
    PaulG> matplot(t(matrix(1:8,8,20)), type="l")
    PaulG> par(mfg = c(2, 1, 2, 1))
    PaulG> box(col = 0) #  Rbug workaround. Thanks Martin
    PaulG> legend((par()$usr)[1:2], (par()$usr)[3:4], as.character(1:8),
    PaulG> 	lty=1:8, col=1:8, bty="y")

    PaulG> The lines for 7 and 8 do not appear in the legend.

No!  They do, but you don't see them easily:
> palette()
[1] "black"   "red"     "green3"  "blue"    "cyan"    "magenta" "yellow" 
[8] "white"  

I.e., col=7 is "yellow"  (per default, you can always change this!)
      col=8 is "white"
both of which are hard to see with a white background.

Try to say first

	par(bg = "gray80") # or something else between white and black

and you will see the  "yellow" and "white".


    PaulG> matplot(t(matrix(1:8,8,20)), type="l", lty=1:8, col=1:8)

    PaulG> they do not appear in the graph.

as above, they do, look at it after   par(bg = "gray")# or "gray80"

For further ``color manipulation'' in R,
please look at the help page for palette and its examples and the further
pages in 'see also'.

As another illustrative example for matplot(), try e.g.,

par(bg="light blue")
palette(heat.colors(20))
matplot(t(matrix(1:20,20, 2)), type="l", lty=1:4, col=1:20, lwd=2)

------

The other ``phenomenon'' you observe really comes from  
matplot()'s default of  "col = 1:6" (and then recycling).
It makes sense to only use ``a few'' different colors in a general matplot
(where lines cross,...).
S default even recycles only four colors  (col=1:4).

Martin
Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Dec 16 14:46:50 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 16 Dec 1998 09:46:50 -0500
Subject: [R] colors in R [was "Re: legend() buglet 2"]
References: <199812161322.OAA28146@sophie.ethz.ch>
Message-ID: <98Dec16.095018est.13455@mailgate.bank-banque-canada.ca>

Martin

I realized after I sent the last message that one of my colours was white, but I
didn't realize that matplot was cycling 1:6 and so I didn't understand why white
on the legend was not white on the plot. There do seem to be two more general
problems:

1/ There should be a reliable way to make sure the legend and the plots
correspond. (I almost got messed up really badly in the interpretation of my
results and the current situation seems prone to error.) I think what is needed
is a wrapping together of all the elements describing plot elements (e.g.. type,
bg, lty, col, lwd) in a way so that the same description can be passed to all
related routines such as plot, matplot, legend. Perhaps this is already
available as I know there have been discussions about plotting which I have not
followed very carefully?

2/ It would be nice if this could be done in a way that worked in both R and
Splus so that my plot methods work in both. (I don't necessarily expect the same
line types and colours, but I don't want to maintain two sets of code.)

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Dec 17 18:05:38 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 17 Dec 1998 10:05:38 -0800 (PST)
Subject: survival4 again
In-Reply-To: <199812100714.JAA26767@cc.oulu.fi>
Message-ID: <Pine.GSO.4.03.9812170957410.4504-100000@wompom.biostat.washington.edu>


Yet another release of survival4 (1.3-0) has been uploaded and will be
percolating to a CRAN site near you. It will initially be in
contrib/devel/

Notes: 	
    (1)  survival4 does not work correctly under R0.63.1 with
na.action=na.omit. This has been fixed in the current release snapshot

    (2) This newest version requires R0.63.1 or later; some of the
code has been migrated into base R to avoid conflicts (thanks to Terry
Therneau for permission).

    (3) I think this version fixes the scoping problems that prevented
coxph() working inside a function.

    (4) This will probably be the last release of survival4, since
survival5 is appearing Real Soon Now, with some very promising new
features.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 22 09:42:10 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 Dec 1998 09:42:10 +0000 (GMT)
Subject: Makefiles in contributed packages
In-Reply-To: <13926.43105.655679.260456@c1186.ae.ge.com>
Message-ID: <Pine.GSO.3.96.981222093254.26978B-100000@toucan.stats>

On Thu, 3 Dec 1998, U-E59264-Osman F Buyukisik wrote:

> Hello,
>  I have a couple of suggestions that will help persons with
> machines/OSs that use extensions other than ".so" for shared libs:
> 
> 1) Use the variable SHLIBEXT (defined in Makeconf), DONT use "so" or "sl".
> 2) Use the method in "modreg" to load the dynamic lib:
>  .First.lib <- function(lib, pkg) library.dynam("modreg", pkg, lib)
>     DO NOT USE
>     library.dynam("eda.so")
> 
> 
> Now, I have to edit every package Makefile and zzz.R files for
> hpux10.20 installs. 

My experience (doing this for Windows, where it is .dll) suggests

-- in all cases bar funfits I can just delete the Makefile
-- R INSTALL  has a line

    cat `ls ${dir}/*.[RSqrs]` > ${lib}/${pkg}/R/${pkg}

Add an sed command there to change ${lib}.so to ${lib}.sl (or whatever).
[That is not really what is done under Windows, but is effectively what
Guido's Makefile does.]

Package funfits is a bit harder: I just deleted all the unused (with S/R)
source code, keeping the list in OBJS.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Dec 23 11:59:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 23 Dec 1998 12:59:03 +0100
Subject: hist(1) results in a segmentation fault (at least on my machine) (PR#86)
In-Reply-To: <199812230905.KAA19545@sophie.ethz.ch> (message from Martin
 Maechler on Wed, 23 Dec 1998 10:05:35 +0100)
Message-ID: <199812231159.MAA20817@sophie.ethz.ch>


I've fixed hist.default();
the case for  hist(0) and hist(-1)  also needed consideration.

Here is the patch I've committed:

cvs diff -bw -r1.2.2.1 src/library/base/R/hist.R
diff -b -w -r1.2.2.1 -r1.2.2.4
16,18c16,18
<     use.br <- !missing(breaks) && length(breaks) > 1
<     breaks <-
< 	if(use.br) sort(breaks)
---
>     use.br <- !missing(breaks) && (nB <- length(breaks)) > 1
>     if(use.br)
> 	breaks <- sort(breaks)
20,22c20,22
< 	    rx <- range(x)
< 	    pretty (rx + c(0, diff(rx)/1000),
< 		    n = if(missing(breaks)) 1 + log2(n)
---
> 	dx <- diff(rx <- range(x))
> 	nnb <-
> 	    if(missing(breaks)) 1 + log2(n)
27d26
< 		    })
28a28
> 	breaks <- pretty (rx + c(-1,1)/1000 * dx, n = nnb)
29a30,35
> 	if(nB == 1) {##	 search anew for breaks; dx is (always ?) 0.
> 	    breaks <-
> 		if(abs(breaks) > 1e-20) sort(breaks * c(.8, 1.2)) else c(-.2,.2)
> 	    nB <- length(breaks)
> 	}
>     }

As you may see, I've also changed
from a potentially asymmetric  rx + c(0, dx/1000)
to a symmetric interval	       rx + c(-1,1)/1000 * dx

Hope this okay even so it changes current behavior in some cases.

-------------

Merry Christmas to all!
I'm gone for the next few days..

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

