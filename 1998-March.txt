From bates@stat.wisc.edu  Mon Mar  2 21:00:22 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Mon, 2 Mar 1998 15:00:22 -0600 (CST)
Subject: lme-2.8-1.tar.gz uploaded to src/contrib/devel
Message-ID: <m0y9cJy-0000XAC@verdi.stat.wisc.edu>

I have uploaded another snapshot of the R and C code for the lme
(linear mixed-effects models) library to the src/contrib/devel section of
the CRAN archives.  It will take a couple of days to get installed and 
exported to the mirrors.

I realized after I uploaded that I missed one symbolic link of
./lme/src-c should be linked as ./lme/src too.  Please run
 ln -s lme/src-c lme/src
before trying to install the library.

There is a file EXAMPLES included with this release.  It is a misnomer
- it only shows one example but at least you can see that one example
works - sort of.  I'm still having trouble with R/S-PLUS
inconsistencies in the model.matrix and data.frame functions.

This release really is for the devel section - brave beta-testers
only.

The good news is that the S-PLUS version does essentially everything
that SAS PROC MIXED does.  And, of course, it does it better :-)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Mar  3 09:36:49 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 3 Mar 1998 10:36:49 +0100
Subject: ":" (seq) bug -- should not always coerce to integer!
Message-ID: <199803030936.KAA02061@sophie.ethz.ch>


The problem seems that ":"  always coerces to integer, but should not..

9.9:12

## R:           [1]  9 10 11
## S-plus 3.4:  [1]  9.9 10.9 11.9

## and many more examples....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Mar  3 14:28:24 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 3 Mar 1998 15:28:24 +0100
Subject: ":" (seq) bug --> patch
In-Reply-To: <199803030936.KAA02061@sophie.ethz.ch> (message from Martin
 Maechler on Tue, 3 Mar 1998 10:36:49 +0100)
Message-ID: <199803031428.PAA02461@sophie.ethz.ch>

I corrected the bug myself.
Here is a patch

--- seq.c.~1~	Fri Jan 16 16:07:00 1998
+++ seq.c	Tue Mar  3 15:25:27 1998
@@ -1,6 +1,6 @@
 /*
- *  R : A Computer Langage for Statistical Data Analysis
- *  Copyright (C) 1995, 1996  Robert Gentleman and Ross Ihaka
+ *  R : A Computer Language for Statistical Data Analysis
+ *  Copyright (C) 1995-1998  Robert Gentleman and Ross Ihaka
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -17,12 +17,18 @@
  *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
  */
 
+/*  The `` x:y ''  primitive calls do_seq(.);
+ *
+ *  do_seq(.) calls  cross(.) if both arguments are factors
+ *	      and    seq(.)   otherwise.
+ */
+
 #include "Defn.h"
 #include "Mathlib.h"
 
 static SEXP seq(SEXP call, SEXP s1, SEXP s2)
 {
-	int i, n;
+	int i, n, in1;
 	double n1, n2;
 	SEXP ans;
 
@@ -37,28 +43,31 @@
 	if (ISNAN(n1) || ISNAN(n2))
 		errorcall(call, "NA/NaN argument\n");
 
-	if (n1 <= INT_MIN || n2 <= INT_MIN || n1 > INT_MAX || n2 > INT_MAX)
+	if (n1 <= INT_MIN || n2 <= INT_MIN || n1 > INT_MAX || n2 > INT_MAX
+	    || abs(n2 - n1) >= INT_MAX)
 		errorcall(call, "argument too large in magnitude\n");
 
-	if (n1 <= n2) {
-		n = n2 - n1 + 1 + FLT_EPSILON;
-		ans = allocVector(INTSXP, n);
-		for (i = 0; i < n; i++)
-			INTEGER(ans)[i] = n1 + i;
-	}
-	else {
-		n = n1 - n2 + 1 + FLT_EPSILON;
+	n = abs(n2 - n1) + 1 + FLT_EPSILON;
+	if (n1 == (in1 = (int)(n1))) {
 		ans = allocVector(INTSXP, n);
-		for (i = 0; i < n; i++)
-			INTEGER(ans)[i] = n1 - i;
+		if (n1 <= n2)
+			for (i = 0; i < n; i++) INTEGER(ans)[i] = in1 + i;
+		else
+			for (i = 0; i < n; i++) INTEGER(ans)[i] = in1 - i;
+	} else {
+		ans = allocVector(REALSXP, n);
+		if (n1 <= n2)
+			for (i = 0; i < n; i++) REAL(ans)[i] = n1 + i;
+		else
+			for (i = 0; i < n; i++) REAL(ans)[i] = n1 - i;
 	}
 	return ans;
 }
 
 	/*  cross  -  the "cross" of two factors  */
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar  4 15:05:06 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 4 Mar 1998 16:05:06 +0100
Subject: pretty(.) bug -- fix --> "compatibility" ?
Message-ID: <199803041505.QAA00847@sophie.ethz.ch>


In current versions of R,  

	pretty(333)

gives an infinite loop  
	(due to a silent integer overflow in  src/appl/pretty.c).

I've looked at this problem and also at what S-plus does,
(no code there to inspect, just experiments), and
then I have fixed  pretty.c.

I think that it now behaves much more reasonably 
	(both than before and than S / S-plus).

The only problem:
pretty(.) is not giving the same results any more in quite a few cases,
*and* is used in graphical functions such as
	hist(.)
and	contour(.)

----
Could this be a problem? [non-upward compatibility]
Currently, I plan to have the fixed  pretty(.) even in the upcoming
0.61.2 release which is termed
	"bug fix only"
The new pretty would however (very rarely) change the output of, e.g., hist(.).


Further, S-plus's pretty behaves wierdly in some cases  
which we don't want to emulate anyway.
In other cases pretty(1001.1001), however, it returns 1000 1500 
which is quite different from my improved R version which gives 1000 1002.

Is it okay for you if we do NOT strive for S-plus compatibility here?
Strict S-plus compatibility is not possible, since we don't have S-plus
code; but it is also not desirable in the cases where S's pretty() is
funny. 
However, with more experiments and thought, it ought to be possible
to come quite close to S's behavior.
But I don't want to spend that extra time if there are no stringent
reasons..

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Mar  4 15:36:26 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Mar 1998 16:36:26 +0100
Subject: pretty(.) bug -- fix --> "compatibility" ?
In-Reply-To: Martin Maechler's message of Wed, 4 Mar 1998 16:05:06 +0100
References: <199803041505.QAA00847@sophie.ethz.ch>
Message-ID: <x2u39eeadh.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> Is it okay for you if we do NOT strive for S-plus compatibility here?
> Strict S-plus compatibility is not possible, since we don't have S-plus
> code; but it is also not desirable in the cases where S's pretty() is
> funny. 
> However, with more experiments and thought, it ought to be possible
> to come quite close to S's behavior.
> But I don't want to spend that extra time if there are no stringent
> reasons..

We have a lot of these little differences. No reason to waste time on
them, unless we get actual complaints, I'd say.

(Here's a couple of additions to the list of differences:
 
   aovtable <- anova(KW.lm)$table
    Statistic <- aovtable["group","Sum Sq"]

    s <- summary(KW.lm)
    Statistic <- s$coefficients["group","t Value"] *
      s$sigma 

[anova returns a table, rather than a list containing a table, in S and
uses "Sum of Sq" and "t value"])

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Mar  5 21:03:39 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Thu, 5 Mar 1998 15:03:39 -0600 (CST)
Subject: User time and system time
Message-ID: <m0yAhnn-0000X5C@verdi.stat.wisc.edu>

I am running the R-0.62.0 snapshot on a Linux system.  This system has
128 Mb of real memory and almost never swaps.  I am trying to use
lme() on a very large example (7200 observations, 10 columns in the
fixed effects, 2 columns in the random effects).  We have the
optimization nicely tuned so that goes relatively quickly.  It seems,
though, that all the data manipulation steps before the optimization
are taking a rather long time.  I haven't compared on the same machine
but R is much slower - like an order of magnitude - than S-PLUS on
this problem.

It looks curious to me when I run system.time() on this that timing
vector shows almost no user time but a huge amount of system time.
 R> system.time(assign("fm2",
 +    lme(MathAch ~ MEANSES*CSES + Sector + CSES:Sector, ttt, ~ CSES | School,
 +        RML = TRUE )))
 iteration = 0
 Step:
 [1] 0 0 0
 Parameter:
 [1] 2.61400 0.16608 3.88195
 Function Value
 [1] 44964
 Gradient:
 [1] -0.014379 -0.143176 -0.646558

 iteration = 1
 Step:
 [1] 0.002888 0.028756 0.129857
 Parameter:
 [1] 2.61688 0.19483 4.01181
 Function Value
 [1] 44964
 Gradient:
 [1] -0.069529  0.539316  0.094097
 ... 
 iteration = 6
 Parameter:
 [1] 2.61636 0.17797 3.98709
 Function Value
 [1] 44964
 Gradient:
 [1] 8.3428e-06 1.3824e-04 3.1205e-04

 Relative gradient close to zero.
 Current iterate is probably solution.

 [1]   1.09 288.05 289.00   0.00   0.00

I can't really believe that it took only 1 second of user time and 288 
seconds of system time.  It didn't even do garbage collection in R (I
had gcinfo(T) set) and it wasn't swapping.

A call to proc.time() directly shows most of the time used is system
time.
 R> proc.time()
 [1]    16.30   577.01 13679.00     0.02     0.23

I looked at the code in src/unix/system.c and the structure seems
consistent.  Has anyone else tested system.time() extensively on a
Linux system?  Anyone have any ideas what might be going on?

Just for reference, this is a Debian GNU/Linux "hamm" system using
libc6.  I am running R with the options shown below. 
USER       PID %CPU %MEM  SIZE   RSS TTY STAT START   TIME COMMAND
bates    31073  3.8 41.1 54340 52620  p0 S    10:47   9:53 /usr/src/packages/r-base/r-base-0.62.0/bin/R.binary -v 40 -n 500000 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Mar  5 21:24:56 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Mar 1998 22:24:56 +0100
Subject: User time and system time
In-Reply-To: Douglas Bates's message of Thu, 5 Mar 1998 15:03:39 -0600 (CST)
References: <m0yAhnn-0000X5C@verdi.stat.wisc.edu>
Message-ID: <x2zpj4ltjr.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates@stat.wisc.edu> writes:

>  [1]   1.09 288.05 289.00   0.00   0.00
> 
> I can't really believe that it took only 1 second of user time and 288 
> seconds of system time.  It didn't even do garbage collection in R (I
> had gcinfo(T) set) and it wasn't swapping.

Does sound a bit extreme...

Could you be experiencing either libc code implemented as syscalls or
an effect of Linux's (mis?)feature of overcommitted memory (i.e. you
do a malloc, but all you really get is a bunch of virtual pages that
has to get cleaned when you access them the first time.

(Just talking through the top of my head, in case you didn't notice
that...) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Mar  5 23:16:18 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Thu, 5 Mar 1998 17:16:18 -0600 (CST)
Subject: system.time() results
Message-ID: <m0yAjsA-0000X5C@verdi.stat.wisc.edu>

Although I still think the results we saw for the system.time() on the
very large lme run are peculiar, we probably will be able to
circumvent the problem.  Jose' put in several calls to proc.time() in
the S-PLUS version and isolated the problem.  We have this very
elegant code that calculates a complicated of dimensions.  That one
piece of auxillary code that piece of code takes up about 90% of the
execution time.  It does a lot of cbind, rbind, and apply operations
where apply is working across rows.  It's a nice way to think of
things but it takes forever on large matrices.  Once we get that piece
of code cleaned up we will go back to the question of what
system.time() does under Linux.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ben@eno.Princeton.EDU  Sat Mar  7 17:44:13 1998
From: ben@eno.Princeton.EDU (Ben Bolker)
Date: Sat, 7 Mar 1998 12:44:13 -0500 (EST)
Subject: fairly trivial bug in box(): 0.61.1
Message-ID: <Pine.SUN.3.95.980307124032.8559A-100000@paca>


  box() doesn't appear to do anything with the "col=" parameter (it does
use "lwd=" correctly).
  I may fix this if I get around to it, for now I'll probably hack
PostScript.
  (Thanks, everyone, for all the work on R: I look forward to the spiffy
graphics once the "new and interesting bugs" are somewhat tamed ...)

Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben@eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Mon Mar  9 12:38:21 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Mon, 09 Mar 1998 12:38:21 -0000 ()
Subject: bug in menu, readline
Message-ID: <XFMail.980309130058.plummer@iarc.fr>

Neither do_menu nor do_readln (in src/main/scan.c) call the function
InitConsoleGetchar. They need to do this to reset ConsolePrompt.  If you
use "scan" to read in data from the terminal, then ConsolePrompt is set
to "n:" for some integer n and this prompt makes an unwelcome appearance
when you use the "menu" or "readline" functions.

Incidentally, could we have a "title" argument and a dummy "graphics"
argument for menu? This if for S-PLUS compatibility, if I may dare to
raise the topic.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Mar  9 13:44:44 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon,  9 Mar 1998 14:44:44 +0100 (CET)
Subject: bug in menu, readline
In-Reply-To: <XFMail.980309130058.plummer@iarc.fr>
References: <XFMail.980309130058.plummer@iarc.fr>
Message-ID: <13571.62010.128169.313124@pc25.none>

>>>>> Martyn Plummer writes:

> Neither do_menu nor do_readln (in src/main/scan.c) call the function
> InitConsoleGetchar. They need to do this to reset ConsolePrompt.  If you
> use "scan" to read in data from the terminal, then ConsolePrompt is set
> to "n:" for some integer n and this prompt makes an unwelcome appearance
> when you use the "menu" or "readline" functions.

> Incidentally, could we have a "title" argument and a dummy "graphics"
> argument for menu? This if for S-PLUS compatibility, if I may dare to
> raise the topic.

Sure.  I've already done this in 0.62.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 11 11:08:16 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 11 Mar 1998 12:08:16 +0100
Subject: prob./distr./quant./ran.num:  S compatibility in argument names??
Message-ID: <199803111108.MAA01354@sophie.ethz.ch>

Several of  R's   p/d/q/r (probability/density/quantile/random.number)
functions have argument names different from the ones S(-plus) uses
[e.g., pf(.), rbinom(.)].

Does everyone agree that we want to become compatible here?

Any volunteer for changing this in R?
If you do,
please give us/me a not, and
please get a current snapshot of the R development version from
				<<CRAN>>/src/devel/R-snapshot.tar.gz
e.g.	http://franz.stat.wisc.edu/pub/R/src/devel/R-snapshot.tar.gz

and edit	src/library/base/R/distn.R

and the MANY documentation files (where necessary)

     Beta.Rd
     Binomial.Rd
     Cauchy.Rd
     Chisquare.Rd
     Exponential.Rd
     F.Rd
     GammaDist.Rd
     Geometric.Rd
     Hypergeometric.Rd
     Logistic.Rd
     Lognormal.Rd
     NChisquare.Rd
     NegBinomial.Rd
     Normal.Rd
     Poisson.Rd
     T.Rd
     Uniform.Rd
     Weibull.Rd

in src/library/base/man/*.Rd

-------
Thanks in advance!
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 12 10:45:51 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 12 Mar 1998 11:45:51 +0100
Subject: p./d./q./r: S compatibility  and  time-series software for R?
In-Reply-To: <XFMail.980312095234.plummer@iarc.fr> (message from Martyn
 Plummer on Thu, 12 Mar 1998 09:49:31 -0000 ())
Message-ID: <199803121045.LAA12425@sophie.ethz.ch>

>>>>> "Martyn" == Martyn Plummer <plummer@iarc.fr> writes:

    Martyn> I will do this if you haven't been overrun with volunteers
    Martyn> already ;) 
No, you are the first to answer.
Thank you very much in advance!

---------------------

    Martyn> Some time ago you asked about a basic time series
    Martyn> library for R.  Did anything come of that?

Well, yes and no (more "no"):

1. Paul Gilbert has made his DSE (Dynamic Systems Estimation) library
   available for testing on  <<CRAN>>/src/contrib/devel/
   Unfortunately, I haven't yet had time to really look at it.

2. Ross Ihaka:
   Used to have a master's student looking at time series software.
   During the power failure break in Auckland (about 2 weeks ago),
   Ross said he was going home (because there was no electricity at his
   office) and would do some work on time-series stuff.

   He used to have time-series things (for R) in his private 
   directories,  and some of us have been begging him, to also
   ``release'' this could into <<CRAN>>/src/contrib/devel/ .
   Unfortunately, this has not yet happened.

3. Kurt Hornik has ported David James'  "chron" library
   (for chronological objects)
   and als put into <<CRAN>>/src/contrib/devel/  (why "devel"?).
   [Currently, the URL given in the above README doesn't work anymore..?]

4. Several other people seem to use some time-series R functions of their
   own.  There's no coordination and no common format / class, etc.

---
I think the important point here is to adopt a general common framework for
doing time-series in R.
The "tframe" (?) class in 'DSE' may be the most general and the way to go.
On the other hand, it looks somewhat complicated and delicate to work with.

Anyway, I think it would be a pain if we had several non-compatible classes
for time-series objects..
Also, S-plus compatibility (for some functions, not for all) may be an
issue.

Do we have a volunteer here?
-------
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Mar 12 15:24:27 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Mar 1998 10:24:27 -0500
Subject: S compatibility  and  time-series software for R, and more
References: <199803121045.LAA12425@sophie.ethz.ch>
Message-ID: <98Mar12.104103est.13449@mailgate.bank-banque-canada.ca>

As far as I know my time series package (dse) is working fairly well in R. There
are a few rough spots in the install and I haven't documented these very well,
so I haven't moved it out of devel, but it does seem to be working ok. There are
two things I use in Splus which I have only partly worked around in R.

1/ ar - I have a test version of this but it does not reproduce Splus results

2/ acf - I have type="correlation" working, but not type="partial"

I won't get to these for a long time, so if anyone is interested in working on
them I would be happy to provide what I have.

As far as other time series and related things are concerned:
-my package does not have much in the way of frequency domain, though I have
played with it a little bit and there are a few undocumented things that
possibly don't even work properly. If anyone is interested in working on this
then please contact me and I will provide what I have.
-I would really like to have the ability to use the same random number generator
in S and R, as lots of my work involves simulations and I like to be able to run
a common set of tests to make sure things aren't messing up. Martin has provided
me with code but I haven't had time to look at it. There do seem to be some
issues related to how one should specify what generator to use (e.g. an
environment variable is probably the easiest, but then reproducibility depends
on saving environment settings).

And beyond Splus compatibility:
-I have a set of programs for doing multivariate optimization (nonlinear simplex
and DFP) which I (would like to) use for mle. My use is for time series models,
but I  have it organized as an independent package. This is code which I wrote a
fair time ago, but put aside until the memory problems in S were fixed. I am
fairly sure this will work reasonably in R, but there are still a few bugs in
the code. If anyone is interested in working on this I can provide more details
and some assistance.
-I am starting to work on putting neural net time series models into my package.
I am playing with two possibilities: an interface to the SNNS package, and doing
it all in R. (This does actually seems to be possible in R, whereas in S it is a
disaster.) This is a new area for me, so things will be going slowly. If anyone
is interested in collaborating please let me know.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 12 17:17:14 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 12 Mar 1998 18:17:14 +0100
Subject: "`R notes' should be better"
In-Reply-To: <Pine.OSF.3.95.980312092714.1585B-100000@io.uwinnipeg.ca>
 (message from Bill Simpson on Thu, 12 Mar 1998 09:36:15 -0600 (CST))
Message-ID: <199803121717.SAA13033@sophie.ethz.ch>

	[CC'ed  to R-devel, not R-help]

>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

    Bill> Thanks very much Douglas for the pointer to nlm.  Maybe the
    Bill> "Notes on R" maintainer can add at least a mention of nlm in the
	   ======================
    Bill> section on nonlinear fitting?

    Bill>    .....

    Bill> (This example could replace the current nonlinear fitting section
    Bill> in "Notes on R")


You are talking of  <CRAN>/doc/Rnotes.ps, or Rnotes.tgz respectively,
yes?
The first page states both R & R as authors (beside Venables & D.Smith).
However, I doubt if they consider themselves as 'maintainers' 
of these notes (due to lack of time), or do you?

	Ross?  Robert?

The problem is that these notes need more work than just ('nls' <-> 'nlm').

Maybe I should ask again for volunteers, or maybe even a discussion 
on what could / should be done.

The notes have several sections (organized in different *.tex files) in
Rnotes.tgz.
Could(/should) we have different authors (ie. volunteers from among you)
for these sections?

About a year ago or so, Kurt Hornik proposed that these notes should become
chapter 1 -- n of ``the book'' where
the current things in  RHOME/doc/manual/Man.tex are just the appendices
(they already *are* appendices, currently).
R & R instead,  originally thought (and have also started ??) of completely
rewriting from scratch these chapters (1 -- n).

Which should be done (and by whom) ?

In the case of "R notes upgrading, 
it'd make sense if someone first works thru the current notes 
and makes them (somewhat) ``compatible'' with the  Rd.sty that we
currently use for the help-manual (i.e. the  doc/manual/... things).

------

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Thu Mar 12 17:46:45 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Thu, 12 Mar 1998 11:46:45 -0600 (CST)
Subject: "`R notes' should be better"
In-Reply-To: <199803121717.SAA13033@sophie.ethz.ch>
Message-ID: <Pine.OSF.3.95.980312114023.3505A-100000@io.uwinnipeg.ca>

Hi Martin et al.,

Well I started this BUT I didn't say "'R Notes' should be better"!!
I think the Notes are great!

> Maybe I should ask again for volunteers, or maybe even a discussion 
> on what could / should be done.
I would be happy to make the changes to this nonlinear fitting section,
once I know how to do nonlinear fitting with nlm.  However I use LyX
(which doesn't read *.tex files), and I would characterize myself as a
novice with R, with unix, with LaTeX, etc.

> In the case of "R notes upgrading, 
> it'd make sense if someone first works thru the current notes 
> and makes them (somewhat) ``compatible'' with the  Rd.sty that we
> currently use for the help-manual (i.e. the  doc/manual/... things).
I wouldn't be able to do this, due to ignorance.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Mar 12 21:05:18 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Mar 1998 16:05:18 -0500
Subject: R-beta: ctest_0_9-3_tar.tar
References: <199803121945.OAA14494@desire.stat.cmu.edu>
Message-ID: <98Mar12.162200est.13443@mailgate.bank-banque-canada.ca>

> > I'm having trouble un 'tar'ing the file ctest_0_9-3_tar.tar.
> >
> > When using the command "tar -xv" on a UNIX machine I get the
> > "checksum error" message. When trying to use WinZip on a Win95
> > machine it gives an error reading the header.

I've occassionaly had this sort of problem when I don't specify "binary" in ftp.
While this is not always necessary, some versions of ftp seem to be more
particular than others.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Mar 13 07:02:21 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 13 Mar 1998 08:02:21 +0100
Subject: p./d./q./r: S compatibility  and  time-series software for R?
In-Reply-To: <199803121045.LAA12425@sophie.ethz.ch>
References: <XFMail.980312095234.plummer@iarc.fr>
 <199803121045.LAA12425@sophie.ethz.ch>
Message-ID: <199803130702.IAA02821@aragorn.ci.tuwien.ac.at>

>>>>> Martin Maechler writes:

>>>>> "Martyn" == Martyn Plummer <plummer@iarc.fr> writes:
Martyn> I will do this if you haven't been overrun with volunteers
Martyn> already ;) 
> No, you are the first to answer.
> Thank you very much in advance!

> ---------------------

Martyn> Some time ago you asked about a basic time series
Martyn> library for R.  Did anything come of that?

> Well, yes and no (more "no"):

> 1. Paul Gilbert has made his DSE (Dynamic Systems Estimation) library
>    available for testing on  <<CRAN>>/src/contrib/devel/
>    Unfortunately, I haven't yet had time to really look at it.

> 2. Ross Ihaka:
>    Used to have a master's student looking at time series software.
>    During the power failure break in Auckland (about 2 weeks ago),
>    Ross said he was going home (because there was no electricity at his
>    office) and would do some work on time-series stuff.

>    He used to have time-series things (for R) in his private 
>    directories,  and some of us have been begging him, to also
>    ``release'' this could into <<CRAN>>/src/contrib/devel/ .
>    Unfortunately, this has not yet happened.

Yes, Ross, please :-)

> 3. Kurt Hornik has ported David James'  "chron" library
>    (for chronological objects)
>    and als put into <<CRAN>>/src/contrib/devel/  (why "devel"?).

Because it uses Inf and NaN, which are only available under 0.62.

>    [Currently, the URL given in the above README doesn't work anymore..?]

Yes, it's

http://netlib.bell-labs.com/cm/ms/departments/sia/project/misc/chron.html

now.  I'll make the change.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Mar 13 07:21:02 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 13 Mar 1998 08:21:02 +0100
Subject: "`R notes' should be better"
In-Reply-To: <199803121717.SAA13033@sophie.ethz.ch>
References: <Pine.OSF.3.95.980312092714.1585B-100000@io.uwinnipeg.ca>
 <199803121717.SAA13033@sophie.ethz.ch>
Message-ID: <199803130721.IAA05393@aragorn.ci.tuwien.ac.at>

>>>>> Martin Maechler writes:

> 	[CC'ed  to R-devel, not R-help]
>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

Bill> Thanks very much Douglas for the pointer to nlm.  Maybe the
Bill> "Notes on R" maintainer can add at least a mention of nlm in the
> 	   ======================
Bill> section on nonlinear fitting?

Bill> .....

Bill> (This example could replace the current nonlinear fitting section
Bill> in "Notes on R")


> You are talking of  <CRAN>/doc/Rnotes.ps, or Rnotes.tgz respectively,
> yes?

> The first page states both R & R as authors (beside Venables &
> D.Smith).  However, I doubt if they consider themselves as
> 'maintainers' of these notes (due to lack of time), or do you?

> 	Ross?  Robert?

> The problem is that these notes need more work than just ('nls' <->
> 'nlm').

> Maybe I should ask again for volunteers, or maybe even a discussion 
> on what could / should be done.

> The notes have several sections (organized in different *.tex files)
> in Rnotes.tgz.  Could(/should) we have different authors
> (ie. volunteers from among you) for these sections?

> About a year ago or so, Kurt Hornik proposed that these notes should
> become chapter 1 -- n of ``the book'' where the current things in
> RHOME/doc/manual/Man.tex are just the appendices (they already *are*
> appendices, currently).  R & R instead, originally thought (and have
> also started ??) of completely rewriting from scratch these chapters
> (1 -- n).

> Which should be done (and by whom) ?

> In the case of "R notes upgrading, it'd make sense if someone first
> works thru the current notes and makes them (somewhat) ``compatible''
> with the Rd.sty that we currently use for the help-manual (i.e. the
> doc/manual/... things).

We DEFINITELY need to do something about R notes very soon.  The 0.61
tree should be frozen by this weekend, 0.62 needs the bug fixes that we
know of, the re-implementation of factors (asap, please!) and docs for
the new graphics things (dev.xxx), but that's about it, I would say (we
can have the `real' make install things later).

Working on Rnotes should at least come right after that.

I am no longer sure about LaTeX and my suggestion from about a year ago,
though.  I would more be in favor of having a Texinfo version as I could
also use this on-line via info, but perhaps everyone else thinks that I
should use now-free Netscape for doing that (my experience is that the
conversion Texinfo -> HTML is trivial whereas I am never sure about
latex2html or hyperlatex).

In any case, I perhaps could try to go through Rnotes sometimes this
weekend to find out what most urgently needs fixing.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 13 08:41:30 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 13 Mar 1998 09:41:30 +0100
Subject: "`R notes' should be better"
In-Reply-To: <199803130721.IAA05393@aragorn.ci.tuwien.ac.at> (message from
 Kurt Hornik on Fri, 13 Mar 1998 08:21:02 +0100)
Message-ID: <199803130841.JAA14578@sophie.ethz.ch>

>>>>> "KH" == Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:

>>>>> Martin Maechler writes:
    >> [CC'ed to R-devel, not R-help]
>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

    Bill> Thanks very much Douglas for the pointer to nlm.  Maybe the
    Bill> "Notes on R" maintainer can add at least a mention of nlm in the
    >> ======================
    Bill> section on nonlinear fitting?

    Bill> .....

    Bill> (This example could replace the current nonlinear fitting section
    Bill> in "Notes on R")


    >> You are talking of <CRAN>/doc/Rnotes.ps, or Rnotes.tgz respectively,
    >> yes?

    >> The first page states both R & R as authors (beside Venables &
    >> D.Smith).  However, I doubt if they consider themselves as
    >> 'maintainers' of these notes (due to lack of time), or do you?

    >> Ross?  Robert?

    >> The problem is that these notes need more work than just ('nls' <->
    >> 'nlm').

    >> Maybe I should ask again for volunteers, or maybe even a discussion
    >> on what could / should be done.

    >> The notes have several sections (organized in different *.tex files)
    >> in Rnotes.tgz.  Could(/should) we have different authors
    >> (ie. volunteers from among you) for these sections?

    >> About a year ago or so, Kurt Hornik proposed that these notes should
    >> become chapter 1 -- n of ``the book'' where the current things in
    >> RHOME/doc/manual/Man.tex are just the appendices (they already *are*
    >> appendices, currently).  R & R instead, originally thought (and have
    >> also started ??) of completely rewriting from scratch these chapters
    >> (1 -- n).

    >> Which should be done (and by whom) ?

    >> In the case of "R notes upgrading, it'd make sense if someone first
    >> works thru the current notes and makes them (somewhat)
    >> ``compatible'' with the Rd.sty that we currently use for the
    >> help-manual (i.e. the doc/manual/... things).

    KH> We DEFINITELY need to do something about R notes very soon.  The
    KH> 0.61 tree should be frozen by this weekend, 0.62 needs the bug
    KH> fixes that we know of, the re-implementation of factors (asap,
    KH> please!) and docs for the new graphics things (dev.xxx), but that's
    KH> about it, I would say (we can have the `real' make install things
    KH> later).
there are a few more graphic things..  [  par(par()) should work.. ]

    KH> Working on Rnotes should at least come right after that.
ok

    KH> I am no longer sure about LaTeX and my suggestion from about a year
    KH> ago, though.  I would more be in favor of having a Texinfo version

Really?  I have to admit (my first reaction) that I wouldn't want to drop
all the LaTeX niceties [starting with "math", "real" tables (tabular), ...]

    KH> as I could also use this on-line via info, but perhaps everyone
    KH> else thinks that I should use now-free Netscape for doing that (my
    KH> experience is that the conversion Texinfo -> HTML is trivial
    KH> whereas I am never sure about latex2html or hyperlatex).
For me, latex2html has been quite satisfactory, as long as I am willing to
spend some time hand editing the result
(after the hand e

My feeling is that  latex2html  is really being improved and extended,
(being very configurable) constantly which is not/[much less] true for texinfo.
Also, AUC-tex (with font-latex) as the emacs interface to latex is such a
beauty compared to texinfo mode...

And then there's  PDFtex which produces foo.pdf instead of foo.dvi
where everything (ref/label, cite, index, tableofcontents, ...)
is linked with everything [but pdftex is alpha/beta,...].

Maybe, the main point should be:
	>>>>>> How are these notes used? <<<<
  If ``most of the time: on paper'',	  I think I'd prefer latex to texinfo
  If ``substantially: via Web browser'',  maybe texinfo is better.


    KH> In any case, I perhaps could try to go through Rnotes sometimes
    KH> this weekend to find out what most urgently needs fixing.
ok, thank you in advance.

Ross / Robert:	PLEASE we need some statement from you about this!
--------
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Andreas.Weingessel@ci.tuwien.ac.at  Fri Mar 13 11:22:40 1998
From: Andreas.Weingessel@ci.tuwien.ac.at (Andreas Weingessel)
Date: Fri, 13 Mar 1998 12:22:40 +0100
Subject: heat.colors
Message-ID: <199803131122.MAA09519@elendil.ci.tuwien.ac.at>


Currently, heat.colors gives the following code:

R> heat.colors(4)
[1] "#FF0000" "#FF7F00" "#FFFF00" "#FFFF7F"
R> heat.colors(5)
[1] "#FF0000" "#FF5400" "#FFA900" "#FFFF00" "#FFFF7F"
R> heat.colors(6)
[1] "#FF0000" "#FF3F00" "#FF7F00" "#FFBF00" "#FFFF00" "#FFFF7F"
R> heat.colors(7)
[1] "#FF0000" "#FF3300" "#FF6600" "#FF9900" "#FFCC00" "#FFFF00" "#FFFF7F"

That means, the distance between the last color and the last color but
one stays the same (7F), whereas the distances between other adjacent
colors drops with the number of coloros from 7F to 33.

The code for heat.colors(n) looks like
                j <- n%/%4
                i <- n - j
                c(rainbow(i, start = 0, end = 1/6), if (j > 0) hsv(h = 1/6, 
                        s = seq(from = 1 - 1/(2 * j), to = 1/(2 * 
                                j), length = j), v = 1))


If for example, n=16, j=4, i=12. That is, for the first 12 colors the
interval "#FF0000" to "#FFFF00" is divided into 12 pieces, for the
last 4 colors an interval of the same length "#FFFF00" to "#FFFFFF" is
only divided into 4 pieces.

Does this really provide n ``contiguous'' colors or are the first 12
colors closer together than the last 4?

	Andreas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Mar 13 17:22:47 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Fri, 13 Mar 1998 09:22:47 -0800 (PST)
Subject: "`R notes' should be better"
In-Reply-To: <199803130841.JAA14578@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980313091145.16696D-100000@chekov>

On Fri, 13 Mar 1998, Martin Maechler wrote:
> 
> Maybe, the main point should be:
> 	>>>>>> How are these notes used? <<<<
>   If ``most of the time: on paper'',	  I think I'd prefer latex to texinfo
>   If ``substantially: via Web browser'',  maybe texinfo is better.
> 

I think the notes should be intended primarily for paper.  There are
things hypertext is good for, but reading large chunks of mathematical
text isn't one of them (even on a 20 inch monitor). HTML/info would be
useful for cut-and-paste and for when the printed copy is lost, stolen or
strayed, but I'd much rather read from paper. 

I would be prepared to do some of the revision in June/July, in particular
the model formula/frame/matrix stuff and glms, if it doesn't get done by
someone else first. 

How will we handle notes on packages? Terry Therneau has really good
documentation for survival4, which we may be able to include somehow.


Thomas Lumley
-----------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Mar 15 15:05:05 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 15 Mar 1998 16:05:05 +0100 (CET)
Subject: "`R notes' should be better"
In-Reply-To: <Pine.SUN.3.95.980313091145.16696D-100000@chekov>
References: <199803130841.JAA14578@sophie.ethz.ch>
 <Pine.SUN.3.95.980313091145.16696D-100000@chekov>
Message-ID: <13579.60274.408545.483587@pc25.none>

>>>>> Thomas Lumley writes:

> On Fri, 13 Mar 1998, Martin Maechler wrote:
>> 
>> Maybe, the main point should be:
>> >>>>>> How are these notes used? <<<<
>> If ``most of the time: on paper'',	  I think I'd prefer latex to texinfo
>> If ``substantially: via Web browser'',  maybe texinfo is better.
>> 

> I think the notes should be intended primarily for paper.  There are
> things hypertext is good for, but reading large chunks of mathematical
> text isn't one of them (even on a 20 inch monitor). HTML/info would be
> useful for cut-and-paste and for when the printed copy is lost, stolen
> or strayed, but I'd much rather read from paper.

Actually, I am very much undecided on this.  Of course, we do have all
the help pages for on-line reading, but the question is whether they
contain everything one needs.  If someone wants to know what to do with
lists, for example, looking up the help page for list() and then perhaps
going through subscripting etc will be a little complicated.

Or, suppose someone eventually sat down and carefully explained what
expressions, names, ... are.  

To put it differently, the on-line thing I am looking for would NOT have
a lot of math in it.

As an aside, there is the additional issue that if someone writes R code
and quickly wants to look up the exact syntax of a function, it may be
great if one could do that without firing up R.

And yes, cut&paste would be great in a structured introduction.  But
this could also be in HTML obtained via latex2html/hyperlatex, so no
need for using Texinfo just for this purpose.

> I would be prepared to do some of the revision in June/July, in
> particular the model formula/frame/matrix stuff and glms, if it
> doesn't get done by someone else first.

Sounds great.

> How will we handle notes on packages? Terry Therneau has really good
> documentation for survival4, which we may be able to include somehow.

We could have a package `doc' subdirectory, and install its contents to
some place in the `doc' tree.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Mar 15 20:48:37 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Mar 1998 21:48:37 +0100
Subject: R-beta: R with gnuwin32
In-Reply-To: guido@sirio.stat.unipd.it's message of Sun, 15 Mar 1998 18:21:51 +0100 (GMT+0100)
References: <19980315172152.6154.qmail@sirio.stat.unipd.it>
Message-ID: <x290qbptne.fsf@blueberry.kubism.ku.dk>

	[I had to hand-approve this mail, since it contains "subscribe" 
	 in the first few lines.  Martin Maechler, list administrator]

1) This is very interesting stuff.

2) But it really belongs on R-devel, not R-help. R-help is for helping
users with installing and using R, not debating its future or
discussing technical issues. Could I ask you to subscribe and then we
move the discussion there? (Don't worry, R-devel is not a very high
volume list.)

guido@sirio.stat.unipd.it writes:

> I have been using R under Linux for more than a year and 
> I think that it is great.
> Last week, I downloaded the binary Ms Windows version. I wanted
> to test it for my students.  Our labs are under Bill Gates.
> I am not happy but I can do nothing.

Same thing here.


> R worked. But, I could not use the dyn.load command
...

> No dyn.load means no additional packages. Since I don't want
> to buy a commercial compiler to support free software, this
> morning I tried to recompile the 0.61.1 distribution with
> egcs.  Now, after more than 10000 grep's to understand
> the differences between the windows sources and the unix ones,
> I have a version of R-0.61.1 under Win95. It works.

I tried essentially the same stunt, but couldn't figure out how to get
the Windows console and graphics going, "Multiple Document Interface"
and all that. In particular, there's trouble with the gnuwin header
files versus the MS Platform SDK used in the sources. Does this mean
that you have a version running just like the "official" one? And
could it run under Win3 too? 

> It seems
> also a little faster than the october binary version 
> (perhaps since I compiled the fortran sources directly
> using g77).

I wouldn't be surprised, although Watcon does some register-passing
tricks, which one would think made it faster, (as well as incompatible
with other C compilers...!)

> But I have some questions:
> (a) The windows sources in R-0.61.1 are not the ones used
> to build the last windows distribution in CRAN. For example,
> the menus are different and also the src/library/base/R/system.win has no
> support for library. Where can I find the new sources?

In the R-snapshot at CRAN (src/devel), I think. The very latest
versions are on Roberts computer...	

> (b) I prepared a Makefile that build the system using the
> directory structure of R-0.61.1 under unix. But I don't known
> the differences between the the 0.61 version and the 0.50.xxx
> for which src/library/base/R/system.win. has been wrote.
> Where can I find a description of the differences?

Hmm. I don't know exactly what you mean here. I don't think that there
is a true writeup documenting any of this.

> (c) Is someone interested in this port? 

Definitely!

If yes, I can make it available.
> I tried to make rebuilding easy. Essentially, you untar a small archive 
> in src/ (essentially the makefiles and the pacthed windows sources). 
> Then
>   make RHOME=??? firstofall
>   make RHOME=??? HAVEG77=[YES,NO] 
>   make RHOME=??? HAVEG77=[YES,NO] packages
> should build and install the system with all the packages in src/library;
>   make RHOME=??? HAVEG77=[YES,NO] pkg-???
> will make the package ???. You need gnu-make+sed+rm+cp+ls.
> ( perhaps also a sh-like shell (I used bash)).
> I have not tried but this should work also with the Cygnus and
> the gcc-mingw32 port of gcc. Indeed, for this reason, I used the
> HAVEG77 flag.

How about the cross-compilers?

> I believe that is not appropriate to make a binary distribution available
> before (i) the base/R/system.win file has been fixed (or at least
> before I, or better, someone else understand, what is going);
> (ii) more testing.

Agreed, but binaries (of R *and* all the packages) will in a
not-so-long perspective be needed for practical people. 

> (d) I tried to recompile the regex library in the src/regex
> directory. But there is no regex.h file. So, I gave up.
>   (d1) Are the source there to let people without regex
>        to build the library? If yes, how?
>        Where can I find the regex.h file for that
>        version of the library which is not the gnu rl one?
>   (d2) Have someone tried to use some free regex library
>        under mingw32? 

Hmm. Does this line in src/regex/WHATSNEW ring a bell? (Not that I
know what I'm talking about, I just use grep...)

you have to build regex.h explicitly by "make h".  The two known bugs


> (e) The last point is a proposal for a medium term project.
> The modifications that I made were necessary to update the
> windows sources to the changes made in the system interface
> (R_ReadConsole, R_WriteConsole,....). Now, the gnuplot people
> has developed a layer between stdio and a windows console
> (a graphics not a ms-dos one). In this way, for example,
> just doing some #undef and some  #define, you can printf
> on the console. They also have a version of readline.
> If we borrow the layer we can hope to use the unix/system.c
> file without changes (or with few changes). And hence,
> it will be easier for the developers to bring the MsWindows
> version update with the main unix one.

This sounds interesting. An alternative that I have been playing with
is to use Tcl/Tk, with a longer term perspective of developing R/Tk
language bindings like in STk (Scheme/Tk). This could have the benefit
of automatic (hah!) *Mac* portability.

Note, BTW, that some substantial changes have been made in the
nonreleased 0.62 version (see aforementioned snapshot) to the parser
and I/O parts, specifically to cater for windowing systems.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Mon Mar 16 10:30:20 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Mon, 16 Mar 1998 11:30:20 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32
Message-ID: <19980316103021.6675.qmail@sirio.stat.unipd.it>


Peter Dalgaard BSA writes:
> .........
> 2) But it really belongs on R-devel, not R-help. R-help is for helping
> users with installing and using R, not debating its future or
> discussing technical issues. Could I ask you to do_subscribe and then we
> move the discussion there? (Don't worry, R-devel is not a very high
> volume list.)
> 
  Ok. I am here.
> 
> .......
> I tried essentially the same stunt, but couldn't figure out how to get
> the Windows console and graphics going, "Multiple Document Interface"
> and all that. In particular, there's trouble with the gnuwin header
> files versus the MS Platform SDK used in the sources. Does this mean
> that you have a version running just like the "official" one? And
> could it run under Win3 too? 
> 
  (a) The gnuwin header miss some definition used by R. I hand copied
  them (they are long but not too much) from the header of
  a old Borland compiler (16 bit; so I also crossed my finger).
  I do not know if hand copy is correct but I mean "a copy made
  by my finger not using the cut and paste". Since now
  the header are freely available but non redistribuible I 
  suppose that this is legal. 
  (b) So I have a version of R that "works".
      "works": - I could run all the demos but the dynload one (I didn't
                 tried;
	       - I played with it for an   hour preparing the
	         slides for my lesson of this afternoon (poisson regression
	         + graph)
	       - I make use of the functions in the eda library (dynloaded).
	         and I tried some silly homemade dll. 
  (c) Running as the "official" one? No. The basic problem are
      with the R sources that load data/library...
      The system.win file, the one that I used from R-0.61.1, has
      a not working "library" (also but perhaps I make some mistake a 
      broken "data")
      For example to run the demos I used a silly ad hoc data function
      of the type
      data<-function(a) source(paste(basedata,a),sep="")
      On the contrary, some of the command under unix are implemented
      by shell commands. So the src/library/base/system.unix can't be
      used.
      Hence this part must be fixed. This is why, yesterday, I asked
      for documentation of what must go in  src/library/base/system.
      Perhaps, it was an inappropriate request since I can
      look to the unix one. But, you know. After, some hours
      I had the system running but I could not do "data(iris)"
      and with "no iris data there is no statistics".
  (d) About Win30. I don't know. 
	       

> > It seems
> > also a little faster than the october binary version 
> > (perhaps since I compiled the fortran sources directly
> > using g77).
> 
> I wouldn't be surprised, although Watcon does some register-passing
> tricks, which one would think made it faster, (as well as incompatible
> with other C compilers...!)
I just compare the time of
  for (i in 1:1000) a<-solve(matrix(rnorm(100),10,10))
matrix and the gnuwin32 version was 20% faster. 
I suppose that this is not a  fair test since
is biased towards the comparison of the fortran code (and I used g77).


> > (c) Is someone interested in this port? 
> 
> Definitely!
> 
  If you want, I can make the patch available in a couple of days.
  I just want to recompile from the scratch so that you have not
  to bother about the fact that I have forgotten a file o something
  like this. But I have now time today and tomorrow (teaching,
  teaching,...)
> 
> How about the cross-compilers?
>
  I suppose that if you have gcc running somewhere and configured
  to support win32 as target you can cross-compile. 
  But, I have not tried.
  
> > I believe that is not appropriate to make a binary distribution available
> > before (i) the base/R/system.win file has been fixed (or at least
> > before I, or better, someone else understand, what is going);
> > (ii) more testing.
> 
> Agreed, but binaries (of R *and* all the packages) will in a
> not-so-long perspective be needed for practical people. 
> 
  Ok. But with a stable distribution.

> > (d) I tried to recompile the regex library in the src/regex
> 
> Hmm. Does this line in src/regex/WHATSNEW ring a bell? (Not that I
> know what I'm talking about, I just use grep...)
> 
> you have to build regex.h explicitly by "make h".  The two known bugs
> 
  Thanks. So regex.h must be built. The line before the one
  that you quoted say that regex.h is generated by mkh.
  What kind of monster mkh is?


guido masarotto
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Mar 16 11:41:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Mar 1998 12:41:25 +0100
Subject: R-beta: R with gnuwin32
In-Reply-To: guido@sirio.stat.unipd.it's message of Mon, 16 Mar 1998 11:30:20 +0100 (GMT+0100)
References: <19980316103021.6675.qmail@sirio.stat.unipd.it>
Message-ID: <x2d8fmvp5m.fsf@blueberry.kubism.ku.dk>

guido@sirio.stat.unipd.it writes:

> > > (d) I tried to recompile the regex library in the src/regex
> > 
> > Hmm. Does this line in src/regex/WHATSNEW ring a bell? (Not that I
> > know what I'm talking about, I just use grep...)
> > 
> > you have to build regex.h explicitly by "make h".  The two known bugs
> > 
>   Thanks. So regex.h must be built. The line before the one
>   that you quoted say that regex.h is generated by mkh.
>   What kind of monster mkh is?

Hmm. I still don't know what I'm talking about, but if you go to

http://ftpsearch.ntnu.no/

and look for regex, you'll find several ports to non-BSD systems
(mostly off of machines in Japan!), which contain regex.h's.

[Probably someone else on this group knows *exactly* what the regex
business is all about?]


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Mar 16 15:30:25 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 16 Mar 1998 09:30:25 -0600
Subject: R-beta: Re: dse+redhat 4.2 problem
In-Reply-To: Douglas Bates's message of 25 Feb 1998 12:24:36 -0600
References: <98Feb25.034218est.13443@mailgate.bank-banque-canada.ca> <98Feb25.120132est.13449@mailgate.bank-banque-canada.ca> <6rvhu3sftn.fsf@verdi.stat.wisc.edu>
Message-ID: <6rra42wt4e.fsf@verdi.stat.wisc.edu>

There was an old problem with the g77 compiler under RedHat Linux and
under the pre-release versions of Debian-2.0 Linux giving compiler
errors.  Paul Gilbert encountered it while compiling his dse library
for R.  Dirk E. also encountered it in compiling octave for Debian-2.0.

Over the weekend a new version of the binutils programs was made
available for the Debian-2.0 system (just in time for the code
freeze).  The problem seems to be solved on Debian-2.0 with these new
binutils.

 bash-2.01$ dpkg -s binutils
 Package: binutils
 Status: install ok installed
 Priority: standard
 Section: devel
 Installed-Size: 1895
 Maintainer: Galen Hazelwood <galenh@micron.net>
 Version: 2.8.1.0.23-1
 Provides: elf-binutils
 Depends: libc6
 Conflicts: gas, elf-binutils
 Description: The GNU assembler, linker and binary utilities.
  The programs in this package are used to assemble, link and manipulate
  binary and object files.  They may be used in conjunction with a compiler
  and various libraries to build programs for Linux.

These may be based on the egcs system rather than a stock gcc-2.8.
Galen has been creating a hybrid of gcc and egcs so the C++ compiler
from egcs can be used.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 18 07:47:36 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Mar 1998 08:47:36 +0100
Subject: ``nlm(.) with derivatives''
In-Reply-To: <m0yF5vn-0000XJC@verdi.stat.wisc.edu> (message from Douglas Bates
 on Tue, 17 Mar 1998 17:38:03 -0600 (CST))
Message-ID: <199803180747.IAA05505@sophie.ethz.ch>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> .......
    DougB> .......  { time comparisons in testing  lme(..) for R }
    DougB> .......

    DougB> This can be expected to run faster when a version of nlm that accepts
    DougB> gradients and Hessians is available.			---

Doug, do I understand properly that it won't be you 
who will work on this?

Do we have volunteers 
  [who also are knowledgable in numerical optimization,..]?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Wed Mar 18 09:35:59 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 18 Mar 1998 21:35:59 +1200 (NZST)
Subject: ``nlm(.) with derivatives''
Message-ID: <199803180935.VAA12482@stat1.stat.auckland.ac.nz>

> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: r-core@stat.math.ethz.ch, r-devel@stat.math.ethz.ch
> Subject: Re: ``nlm(.) with derivatives''
>
> >>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:
>
>     DougB> .......
>     DougB> .......  { time comparisons in testing  lme(..) for R }
>     DougB> .......
>
>     DougB> This can be expected to run faster when a version of nlm
>     DougB> that accepts gradients and Hessians is available.
>
> Doug, do I understand properly that it won't be you 
> who will work on this?
>
> Do we have volunteers 
>   [who also are knowledgable in numerical optimization,..]?


Using gradient and hessian information in the minimizer is a relatively
minor change.  BUT, do we want to continue with this particular bit of
code?  The code used is by Robert Schnabel and is based on the methods
in

	Dennis and Schnabel (1983).
	"Numerical Methods for Unconstrained Optimization
		and Nonlinear Equations".
	Prentice-Hall

I got it from CMLIB and I think it is pretty reputable code (much
better than the recent Applied Statistics one), but I don't know how
close it might be to the state-of-the-art.  Anyone know?

To make use of hessian information we would also need to upgrade the
"deriv" function so that the function it returns will also return the
hessian.  Again, this is not difficult, but does demand some
familiarity with R internals.

I would be quite keen to see this fixed, but I'm already a bit thinly
spread at present, so it probably won't be me that does it.
[ My major projects remain: contrasts, graphics and internal data
structures + the Mac :-)]

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Wed Mar 18 15:17:31 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 18 Mar 1998 09:17:31 -0600
Subject: ``nlm(.) with derivatives''
In-Reply-To: Martin Maechler's message of "Wed, 18 Mar 1998 08:47:36 +0100"
References: <199803180747.IAA05505@sophie.ethz.ch>
Message-ID: <6riupcf2pg.fsf@verdi.stat.wisc.edu>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> >>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:
> 
>     DougB> .......
>     DougB> .......  { time comparisons in testing  lme(..) for R }
>     DougB> .......
> 
>     DougB> This can be expected to run faster when a version of nlm that accepts
>     DougB> gradients and Hessians is available.			---
> 
> Doug, do I understand properly that it won't be you 
> who will work on this?

Like Ross I am spread a little thinly at the moment and I can't in
good conscience free up the time to work on this.  Sorry but you are
correct, I will not be working on this in the near future.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Wed Mar 18 15:48:24 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Wed, 18 Mar 1998 16:48:24 +0100 (MET)
Subject: POSIX regular expressions on Irix 5.3
Message-ID: <199803181548.QAA14037@wrin27.urz.uni-wuppertal.de>

Hello,

I installed R on an Irix 5.3 system. Obviously the Irix libraries
don't contain functions for POSIX regular expressions.

Is it possible use the regex, or better rx libraries from GNU, and how
can I do it? Or do I have to live without functions using POSIX
regular expressions (e.g. apropos, methods)?

I have no GCC and I won't install it ...

Thanks in advance,

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Wed Mar 18 16:05:28 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Wed, 18 Mar 1998 17:05:28 +0100 (MET)
Subject: Strange Results of summary()
Message-ID: <199803181605.RAA14113@wrin27.urz.uni-wuppertal.de>


--l4Siqd0eqV
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello,

I run the following job. Please, compare the results of summary and
table concerning berufl. From similar SPSS/PSPP runs, the result of
table is correct. 

Did I misunderstand anything or is there a bug? 

What does the difference come from?
What does '(other)' mean?
What about the strange order of the levels?

I attach the data file at the end.

Thanks in advance, HP.

> options(digits=10)
> MiniHag <- read.table("minihagR.dat",
+                       col.names=c(
+                         "befragnr",
+                         "geschl",
+                         "alter",
+                         "famstand",
+                         "schule",
+                         "beruf",
+                         "einkom",
+                         "w1",
+                         "w2",
+                         "w3",
+                         "w4",
+                         "w5",
+                         "w6",
+                         "w7"
+                         ),
+                       na.strings=c(NA,NA,"97","9","9","9","9999",
+                         "9","9","9","9","9","9","9")
+                       )
> 
> # Value Labels:
> 
> #MiniHag$geschll <- factor(MiniHag$geschl)
> #levels(MiniHag$geschll) <- c("maennlich", "weiblich")
> 
> MiniHag$geschll <- factor(MiniHag$geschl, labels=c("maennlich", "weiblich"))
> MiniHag$famstandl <- factor(MiniHag$famstand, levels=1:5,
+                             labels=c(
+                               "verheiratet, zusammenlebend",
+                               "verheiratet, getrennt lebend",
+                               "verwitwet",
+                               "geschieden",
+                               "ledig")
+                             )
> MiniHag$schulel <- factor(MiniHag$schule, levels=1:5,
+                           labels=c(
+                             "kein Abschluss",
+                             "Hauptschule",
+                             "Fachschulreife",
+                             "Fachhochschulreife",
+                             "Abitur")
+                           )
> MiniHag$berufl <- factor(MiniHag$beruf, levels=1:8,
+                          labels=c(
+                            "wissensch.-technisch",
+                            "Leiter Oeff. Dienst/Wirtschaft",
+                            "Bureaukraft",
+                            "Handel",
+                            "Dienstleistungsgewerbe/Soldat",
+                            "Gaertner/Jaeger",
+                            "Guetererzeugung",
+                            "sonstige")
+                          )
> 
> # "Descriptives":
> 
> summary(MiniHag)
     befragnr            geschl           alter            famstand     
 Min.   :  67.000   Min.   :1.0000   Min.   :18.0000   Min.   :1.0000  
 1st Qu.: 761.250   1st Qu.:1.0000   1st Qu.:33.0000   1st Qu.:1.0000  
 Median :1742.500   Median :2.0000   Median :48.0000   Median :1.0000  
 Mean   :1595.625   Mean   :1.5125   Mean   :47.4375   Mean   :2.0375  
 3rd Qu.:2409.250   3rd Qu.:2.0000   3rd Qu.:59.0000   3rd Qu.:3.0000  
 Max.   :2998.000   Max.   :2.0000   Max.   :83.0000   Max.   :5.0000  
                                                                       
      schule            beruf               einkom               w1        
 Min.   :1.00000   Min.   : 1.000000   Min.   : 350.000   Min.   :1.0000  
 1st Qu.:2.00000   1st Qu.: 3.000000   1st Qu.: 800.000   1st Qu.:6.0000  
 Median :3.00000   Median : 4.000000   Median :1500.000   Median :7.0000  
 Mean   :2.78481   Mean   : 4.621622   Mean   :1628.113   Mean   :6.0625  
 3rd Qu.:3.00000   3rd Qu.: 7.000000   3rd Qu.:2000.000   3rd Qu.:7.0000  
 Max.   :5.00000   Max.   : 8.000000   Max.   :5000.000   Max.   :7.0000  
 NA's   :1.00000   NA's   :43.000000   NA's   :  27.000                   
        w2              w3               w4               w5       
 Min.   :1.000   Min.   :1.0000   Min.   :1.0000   Min.   :1.000  
 1st Qu.:5.000   1st Qu.:5.0000   1st Qu.:4.0000   1st Qu.:3.750  
 Median :6.000   Median :6.0000   Median :6.0000   Median :4.500  
 Mean   :5.675   Mean   :5.7375   Mean   :5.4375   Mean   :4.475  
 3rd Qu.:7.000   3rd Qu.:7.0000   3rd Qu.:7.0000   3rd Qu.:6.000  
 Max.   :7.000   Max.   :7.0000   Max.   :7.0000   Max.   :7.000  
                                                                  
        w6               w7             geschll  
 Min.   :1.0000   Min.   :1.000   maennlich:39  
 1st Qu.:2.0000   1st Qu.:3.750   weiblich :41  
 Median :4.0000   Median :5.000                 
 Mean   :3.7125   Mean   :4.375                 
 3rd Qu.:5.0000   3rd Qu.:6.000                 
 Max.   :7.0000   Max.   :7.000                 
                                                
                         famstandl                schulel  
 verheiratet, zusammenlebend :54   kein Abschluss    : 1  
 verheiratet, getrennt lebend: 0   Hauptschule       :36  
 verwitwet                   :10   Fachschulreife    :29  
 geschieden                  : 1   Fachhochschulreife: 5  
 ledig                       :15   Abitur            : 8  
                                   NA's              : 1  
                                                          
                   berufl  
 Bureaukraft         :15  
 Guetererzeugung     : 9  
 sonstige            : 4  
 Handel              : 3  
 wissensch.-technisch: 3  
 (Other)             : 3  
 NA's                :43  
> 
> # "Frequencies":
> 
> attach(MiniHag)
> table(geschll)
maennlich  weiblich 
       39        41 
> table(famstandl)
 verheiratet, zusammenlebend verheiratet, getrennt lebend 
                          54                            0 
                   verwitwet                   geschieden 
                          10                            1 
                       ledig 
                          15 
> table(schulel)
    kein Abschluss        Hauptschule     Fachschulreife Fachhochschulreife 
                 1                 36                 29                  5 
            Abitur 
                 8 
> table(berufl)
          wissensch.-technisch Leiter Oeff. Dienst/Wirtschaft 
                             3                              0 
                   Bureaukraft                         Handel 
                            15                              3 
 Dienstleistungsgewerbe/Soldat                Gaertner/Jaeger 
                             2                              1 
               Guetererzeugung                       sonstige 
                             9                              4 
> detach(MiniHag)


--l4Siqd0eqV
Content-Type: application/octet-stream
Content-Description: Input Data
Content-Disposition: attachment;
	filename="minihagR.dat"
Content-Transfer-Encoding: base64

ICA2NyAxIDcxIDEgMiA5IDE1MDAgNiA0IDcgNyA1IDEgNQogIDg2IDIgMjggMSAzIDkgIDcw
MCA3IDUgNyA3IDQgMSA1CiAxMDUgMiA1OCAxIDIgOSA5OTk5IDcgNSA3IDcgNyA0IDYKIDE0
MCAyIDY5IDMgMiA5IDE2MDAgNyA1IDYgNiA2IDYgNQogMTc4IDEgNDIgMSAyIDMgMTcwMCA3
IDcgNyA1IDEgNCA1CiAxODYgMiAyOSAxIDUgOSAgNTUwIDUgNSA2IDYgNCAxIDMKIDIxOCAx
IDM0IDEgMyAzIDIxMDAgNyA0IDcgNyA1IDEgNAogMjU5IDIgNjEgMSAzIDkgOTk5OSA3IDcg
NyA2IDUgNiA0CiAyOTggMSA0MiAxIDIgOCAzMDAwIDYgNyA3IDQgNCA2IDQKIDMyMyAyIDcx
IDEgNSA5IDEwMDAgNiA2IDYgNiA1IDUgNAogMzM1IDEgNDQgMSAyIDcgMjEwMCA3IDcgNyA2
IDYgMyAyCiAzNDkgMSA0NSAxIDIgNCA5OTk5IDcgNyA3IDUgNSAxIDQKIDQ1MyAyIDU2IDEg
MyA5IDk5OTkgNyA2IDUgMyA0IDIgMQogNDU4IDEgNTMgMSAzIDcgOTk5OSA2IDcgNSA1IDQg
MyA2CiA1MjUgMiA0MyAxIDIgOSA5OTk5IDcgNCA3IDMgNyA3IDUKIDU1MCAxIDMxIDEgMyAz
IDI1MDAgNyA3IDYgNyAzIDIgNAogNTc4IDIgNzggMyAxIDkgMTU3MCA2IDQgNSA0IDQgNCA0
CiA2MDggMSAxOSA1IDkgOSA5OTk5IDcgNiA3IDcgNyA1IDYKIDY2MyAxIDI3IDUgMiA5ICA3
ODAgMSAzIDcgNSAyIDEgMQogNzMyIDIgNzcgMyAzIDkgMTQwMCA3IDcgNyA3IDYgNiA2CiA3
NzEgMSA1OSAzIDIgOSAxODUwIDYgNSA2IDUgNSA0IDQKIDc4MiAxIDMzIDEgMiA1IDI1MDAg
NyA1IDUgNCA2IDUgNQogODMzIDIgMjkgNSA1IDkgIDYwMCA0IDcgNyA1IDQgMSA0CiA5MTAg
MiA1MyAxIDIgMyAgNzAwIDcgNCA1IDYgNiA1IDQKIDkzMiAxIDY4IDEgNCA5IDMwMDAgNyA3
IDUgNyA3IDcgNwogOTcwIDEgNzUgMSAyIDkgMTM1MCA3IDcgNyA3IDcgNCA3CjEwNDcgMiA0
MyAxIDIgNyA5OTk5IDcgNyA1IDcgNCAzIDQKMTA4NiAyIDc2IDMgMiA5IDEwMDAgNCAxIDEg
MSA0IDQgMQoxMTcwIDIgNDkgMSAyIDkgOTk5OSA3IDcgNiA1IDUgMyAzCjEyMzcgMSA2NiAx
IDIgOSAxMjAwIDcgNiA1IDcgNyA1IDUKMTI2NiAxIDE5IDUgMiA3ICA0MjUgMyA3IDUgNiAx
IDEgNAoxMjY5IDEgMjAgNSAzIDkgOTk5OSA1IDcgNyA2IDEgMSA3CjEzNzggMSA2MCAxIDIg
OSA5OTk5IDMgNyA3IDcgNiA3IDEKMTM4MSAyIDQ2IDEgMyAzIDE0NTAgNiA0IDUgNCA0IDIg
MQoxNTMyIDIgNzEgMyAzIDkgIDkwMCA3IDcgNiA3IDcgNyA2CjE1NDUgMiA1MyAxIDIgOSA5
OTk5IDcgNCA2IDMgNiA1IDUKMTU5OCAyIDUwIDEgMyAzICA4MDAgNSA2IDUgNyA3IDIgNgox
NzE3IDEgNDggMSA1IDggMzUwMCA3IDUgNSA0IDUgNSA2CjE3MzEgMiA0MiAxIDMgMyA5OTk5
IDcgNyA1IDcgNSAzIDQKMTc0MSAxIDUyIDEgMiAzIDk5OTkgNyA3IDcgNyA2IDMgNwoxNzQ0
IDEgMTggNSAyIDYgIDM1MCA1IDYgNyA3IDEgMSA3CjE3NzcgMiAzMSAxIDMgMyAgNzUwIDcg
NSA1IDcgNyA0IDYKMTc4MSAxIDU5IDEgMyA4IDM4MDAgNyA3IDcgNyA3IDUgNQoxNzk0IDEg
NzAgMSAzIDkgMzAwMCA3IDcgNyA3IDcgNyA3CjE4MDEgMiA0MSAxIDMgMyAgODAwIDcgNCA0
IDUgNSA1IDQKMTgzMSAxIDU3IDEgMyAxIDk5OTkgNiA1IDUgNCA1IDMgMwoxODYyIDEgNjkg
MSAyIDkgMTYwMCA3IDYgNSA2IDYgNyAzCjE5NzMgMiAyNCA1IDUgOSA5OTk5IDYgNSA1IDYg
NSA1IDYKMjA0MCAyIDI0IDEgMyA4IDE0MDAgNCA3IDcgNSA0IDQgNQoyMDY0IDEgNTQgMSAz
IDMgMTgwMCA1IDYgMiA1IDIgMyA0CjIwNzIgMSA0MiAxIDIgNyAxNjUwIDcgNSA1IDYgNCA1
IDUKMjEwOCAxIDMzIDEgMiA3IDEzMDAgNyA3IDcgNCAxIDQgNwoyMTU2IDEgNTUgMSAzIDcg
NTAwMCA3IDcgNCA0IDQgNiA0CjIxOTcgMSAyNSA1IDMgMyAxNjI1IDcgNiAzIDIgMSA0IDUK
MjIyMSAyIDQ5IDQgMyA5IDk5OTkgNyA3IDMgNSA3IDIgNwoyMzIxIDIgNzMgMyA0IDkgMTEw
MCA3IDcgNCA0IDMgNSAyCjIzNTkgMiA0NSAxIDMgOSA5OTk5IDcgNCA2IDMgMiAzIDQKMjM2
OCAxIDI0IDUgNSA5IDE1MDAgMyA0IDUgNiAxIDEgMQoyMzczIDIgMjEgNSA1IDkgIDUwMCA0
IDYgNSA3IDUgMSA2CjIzOTEgMSAyMCA1IDMgOSAgNDAwIDMgNyA2IDYgMiA0IDQKMjQ2NCAy
IDUyIDMgMyA0IDQ1MDAgNiA1IDUgNCA0IDMgMQoyNTI0IDIgNTYgMSA0IDkgOTk5OSA3IDYg
NyA2IDQgMyAzCjI1NTYgMSA0MSAxIDMgMyAyNjAwIDYgNiA2IDYgMiAyIDUKMjU4NiAxIDU5
IDEgMiA1IDE2MDAgNiAyIDcgNSA3IDUgNQoyNTkwIDEgMjYgNSA0IDQgOTk5OSA3IDYgNyA3
IDQgNCA2CjI2MTcgMiA0OCAxIDIgOSA5OTk5IDcgNCA1IDcgNyA2IDEKMjYzMiAyIDQ5IDEg
NSAxIDIwMDAgNyA1IDUgNiA2IDQgMgoyNjQ5IDIgNDkgMSAyIDkgOTk5OSA0IDcgNyA2IDQg
MSA2CjI2NjkgMiA4MyAzIDIgOSAgNjQwIDcgNSA1IDYgNCA3IDIKMjY3MSAyIDMxIDEgMyAz
IDE4MDAgMiA3IDcgNiAyIDEgNgoyNjc1IDEgNDAgMSA0IDEgOTk5OSA3IDcgNiA2IDYgMyA1
CjI3MTUgMiA0MCAxIDIgOSA5OTk5IDcgNyA1IDQgNCA1IDUKMjc4MSAyIDQ1IDEgMyAzICA3
MDAgNyA1IDYgNyA0IDUgNQoyNzg3IDIgNzggNSAyIDkgOTk5OSA0IDQgNiA0IDMgNSAyCjI4
MDcgMiA1OSAxIDIgOSAgNjAwIDYgNSA0IDQgNSAzIDYKMjg0NyAxIDQ4IDUgMyA3IDE3MDAg
MSAyIDMgNCAxIDEgMQoyODc3IDIgMzUgMSAyIDkgOTk5OSA3IDQgNyA1IDcgNyA1CjI5NzAg
MiA2OCAzIDIgOSAyMDAwIDYgNyA1IDEgMiA0IDMKMjk5NSAxIDI1IDUgMiA5IDk5OTkgNyA1
IDcgNiAzIDIgNQoyOTk4IDEgMzkgMSAyIDcgMTgwMCA3IDcgNyA0IDMgMSA2Cg==

--l4Siqd0eqV
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html

--l4Siqd0eqV--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 18 17:59:46 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Mar 1998 18:59:46 +0100
Subject: Strange Results of summary()
In-Reply-To: <199803181605.RAA14113@wrin27.urz.uni-wuppertal.de>
 (palme@uni-wuppertal.de)
Message-ID: <199803181759.SAA06562@sophie.ethz.ch>


Huber Palme writes
>> I run the following job. Please, compare the results of summary and
>> table concerning berufl. From similar SPSS/PSPP runs, the result of
>> table is correct. 
>> 
>> Did I misunderstand anything or is there a bug? 
>> 
>> What does the difference come from?
>> What does '(other)' mean?
>> What about the strange order of the levels?
>> 
>> summary(....)
>>                                                           
>> ....
>>                    berufl  
>>  Bureaukraft         :15  
>>  Guetererzeugung     : 9  
>>  sonstige            : 4  
>>  Handel              : 3  
>>  wissensch.-technisch: 3  
>>  (Other)             : 3  
>>  NA's                :43  

.....

>> > table(berufl)
>>           wissensch.-technisch Leiter Oeff. Dienst/Wirtschaft 
>>                              3                              0 
>>                    Bureaukraft                         Handel 
>>                             15                              3 
>>  Dienstleistungsgewerbe/Soldat                Gaertner/Jaeger 
>>                              2                              1 
>>                Guetererzeugung                       sonstige 
>>                              9                              4 

What's the problem? 
	'(Other)' gives all the levels having (in your case) 0,1,2 observations,
	which sum to 3 observations.
"summary(.)" should give a summary  (think of a factor with 500 levels....)

table() is more detailed (but doesn't report the NA's),
  which is the only thing to critize here:

  S-plus's  table(..) has an extra argument  "exclude" which
  we should also have in R:

  S> args(table) 
	  function(..., exclude = c(NA, NaN))

  S> table(c(NA,1:5))
   1 2 3 4 5 
   1 1 1 1 1
  > table(c(NA,1:5), exclude=NULL)
   1 2 3 4 5 NA 
   1 1 1 1 1  1

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Wed Mar 18 19:46:36 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 19 Mar 1998 07:46:36 +1200 (NZST)
Subject: POSIX regular expressions on Irix 5.3
Message-ID: <199803181946.HAA14615@stat1.stat.auckland.ac.nz>

If you look in the R source tree in R/src/regex you will find a version
of Henry Spencer's regular expression library.  You could try compiling
and installing that (you will need to modify the Makefile).  Some SGI
compilers have trouble with it, but it may work for you.

If that doesn't work, there are a number of GNU regular expression
libraries, which you can get from the usual GNU places.  Install one
of them and then try again.  You may also want to pick up a recent version
of the readline library at the same time.

I'd be interested in a report if you are successful.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Osman.Buyukisik@ae.ge.com  Wed Mar 18 19:55:04 1998
From: Osman.Buyukisik@ae.ge.com (Buyukisik, Osman (GEAE))
Date: Wed, 18 Mar 1998 14:55:04 -0500
Subject: R-0.61.2  and March 17 snapshot
Message-ID: <0302875C631AD11198DE00600806C63747A02B@ev009msxaege.ae.ge.com>

I just built 0.61.2 on an hpux-10.2 system. WHen I do a demo I am getting :

> data(quakes)

[1] "quakes"
Warning: invalid 'cutoff' for deparse, used default

Every statement seems to trigger this response. I also built the march17
snapshot and it does not have this behavior. 

March 17 snapshot has one problem that I noticed: when I built a contributed lib
with data, and if the dataset has the same name as one in base distribution,
data(iris) pulls iris from the "base" 0.61.1 does not do this. If the lib is
loaded it seems like it searches the libraries data directory first. I think
this is more appropriate.

Osman



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Mar 18 20:13:57 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Mar 1998 21:13:57 +0100
Subject: R-0.61.2  and March 17 snapshot
In-Reply-To: "Buyukisik, Osman's message of Wed, 18 Mar 1998 14:55:04 -0500
References: <0302875C631AD11198DE00600806C63747A02B@ev009msxaege.ae.ge.com>
Message-ID: <x2afaneoze.fsf@blueberry.kubism.ku.dk>

"Buyukisik, Osman (GEAE)" <Osman.Buyukisik@ae.ge.com> writes:

> 
> I just built 0.61.2 on an hpux-10.2 system. WHen I do a demo I am getting :
> 
> > data(quakes)
> 
> [1] "quakes"
> Warning: invalid 'cutoff' for deparse, used default
> 
> Every statement seems to trigger this response. I also built the march17
> snapshot and it does not have this behavior. 

Doesn't seem to happen in Linux... 

Could you do us all a favour and try to pinpoint exactly what triggers
that message? (Start by saying debug(data)).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 19 09:34:44 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 19 Mar 1998 10:34:44 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
Message-ID: <199803190934.KAA07638@sophie.ethz.ch>

This is not a nice name (format is generic; cardinal is not a class) for a
nice function, which I would like in several places in R code and therefore
would like to become part of R  (under a better name !)

format.cardinal <- function(i, sep="")
        paste(i, c("st","nd","rd","th")[pmin(4,i)], sep=sep)

# Try
format.cardinal(sample(1:20))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From phlamber@luc.ac.be  Thu Mar 19 11:11:33 1998
From: phlamber@luc.ac.be (Philippe Lambert)
Date: Thu, 19 Mar 1998 12:11:33 +0100 (MET)
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803190934.KAA07638@sophie.ethz.ch>
Message-ID: <Pine.OSF.3.96.980319121016.15933F-100000@alpha>


On Thu, 19 Mar 1998, Martin Maechler wrote:

> This is not a nice name (format is generic; cardinal is not a class) for a
> nice function, which I would like in several places in R code and therefore
> would like to become part of R  (under a better name !)
> 
> format.cardinal <- function(i, sep="")
>         paste(i, c("st","nd","rd","th")[pmin(4,i)], sep=sep)
> 
> # Try
> format.cardinal(sample(1:20))

Isn't it a problem?
> format.cardinal(22)
[1] "22th"

Philippe

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 19 11:21:39 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 19 Mar 1998 12:21:39 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <Pine.OSF.3.96.980319121016.15933F-100000@alpha> (message from
 Philippe Lambert on Thu, 19 Mar 1998 12:11:33 +0100 (MET))
Message-ID: <199803191121.MAA07944@sophie.ethz.ch>


>>>>> "Philippe" == Philippe Lambert <phlamber@luc.ac.be> writes:

    Philippe> On Thu, 19 Mar 1998, Martin Maechler wrote:

    >> This is not a nice name (format is generic; cardinal is not a class)
    >> for a nice function, which I would like in several places in R code
    >> and therefore would like to become part of R (under a better name !)
    >> 
    >> format.cardinal <- function(i, sep="") paste(i,
    >> c("st","nd","rd","th")[pmin(4,i)], sep=sep)
    >> 
    >> # Try format.cardinal(sample(1:20))

    Philippe> Isn't it a problem?
Oh yes, course!
    >> format.cardinal(22)
    Philippe> [1] "22th"

Thank you Philippe!

So, the function will become a bit more complicated.
The following would be better, but is not yet the solution
[and yes, I must consult an English dictionnary or such...].

format.cardinal <- function(i, sep="")
   paste(i, c("st","nd","rd","th")[pmin(4,1+(i-1) %% 10)], sep=sep)

BTW:  This ``triggers'' an inconsistency  R <-> S-plus
      which I consider a bug in R:

R> -1 %% 10
[1] -1

S> -1 %% 10
[1] 9

------------

BTW:  I am still looking for a proper name for that function...,
	maybe "english.cardinal" ??

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Mar 19 11:25:13 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 19 Mar 1998 12:25:13 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803191121.MAA07944@sophie.ethz.ch>
References: <Pine.OSF.3.96.980319121016.15933F-100000@alpha>
 <199803191121.MAA07944@sophie.ethz.ch>
Message-ID: <199803191125.MAA22321@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 19 Mar 1998 12:21:39 +0100,
>>>>> Martin Maechler (MM) wrote:

>>>>> "Philippe" == Philippe Lambert <phlamber@luc.ac.be> writes:

Philippe> On Thu, 19 Mar 1998, Martin Maechler wrote:

>>> This is not a nice name (format is generic; cardinal is not a class)
>>> for a nice function, which I would like in several places in R code
>>> and therefore would like to become part of R (under a better name !)
>>> 
>>> format.cardinal <- function(i, sep="") paste(i,
>>> c("st","nd","rd","th")[pmin(4,i)], sep=sep)
>>> 
>>> # Try format.cardinal(sample(1:20))

Philippe> Isn't it a problem?
MM> Oh yes, course!
>>> format.cardinal(22)
Philippe> [1] "22th"

MM> Thank you Philippe!

MM> So, the function will become a bit more complicated.
MM> The following would be better, but is not yet the solution
MM> [and yes, I must consult an English dictionnary or such...].
                                              ^^

is probably a good idea :-)

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Thu Mar 19 13:34:18 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Thu, 19 Mar 1998 14:34:18 +0100 (MET)
Subject: Strange Results of summary()
In-Reply-To: <199803181759.SAA06562@sophie.ethz.ch>
References: <199803181605.RAA14113@wrin27.urz.uni-wuppertal.de>
 <199803181759.SAA06562@sophie.ethz.ch>
Message-ID: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>

Martin Maechler: 
 > >>                    berufl  
 > >>  Bureaukraft         :15  
 > >>  Guetererzeugung     : 9  
 > >>  sonstige            : 4  
 > >>  Handel              : 3  
 > >>  wissensch.-technisch: 3  
 > >>  (Other)             : 3  
 > >>  NA's                :43  
 > 
 > .....
 > 
 > >> > table(berufl)
 > >>           wissensch.-technisch Leiter Oeff. Dienst/Wirtschaft 
 > >>                              3                              0 
 > >>                    Bureaukraft                         Handel 
 > >>                             15                              3 
 > >>  Dienstleistungsgewerbe/Soldat                Gaertner/Jaeger 
 > >>                              2                              1 
 > >>                Guetererzeugung                       sonstige 
 > >>                              9                              4 
 > 
 > What's the problem? 
 > 	'(Other)' gives all the levels having (in your case) 0,1,2 observations,
 > 	which sum to 3 observations.

Do I understand you right, that the variables with low frequency are
put togehter in (other)? This should be explained to a newbie!!

- What criteria decides which variables are put into (other)?
- What kind of order do the values have? Frequency?

This is very irritating! Where can I get information about all this?

 > table() is more detailed (but doesn't report the NA's),
 >   which is the only thing to critize here:

I agree.

Thanks!

(Hmm... R is a very interesting and powerfull tool, but it's
philosophy and terminology need much accustomization for one being
familiar with SPSS & Co.)

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Mar 19 17:44:14 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Mar 1998 18:44:14 +0100
Subject: Apropos names.
In-Reply-To: Martin Maechler's message of Thu, 19 Mar 1998 15:55:06 +0100
References: <199803190934.KAA07638@sophie.ethz.ch>
 <199803191455.PAA08296@sophie.ethz.ch>
Message-ID: <x2zpimy3rl.fsf_-_@blueberry.kubism.ku.dk>


(from R-core)
> Btw, why can't object names contain a `@'?
> 
> -k

Speaking of names. I've been thinking whether it would not at some
point be wise to introduce namespaces into R. This would pretty
obviously break a lot of S code, but it would also make it possible to
avoid a lot of silly problems such as naming one's variables c, t, pt,
df, rm, ... 

A plan that might work relatively smoothly could involve:

- Separate functions from variables. We already do that to some extent
  ("looking for object of mode function...") [At the same time, one
  might get rid of everyone's favourite quirk: forgetting () and
  thus listing the function instead of calling it. I know: basic
  design, functions are just objects, etc., but really: Wouldn't it be
  nicer to type view(ls) the few times you actually wanted to see its
  contents?]

- All system functions and variables are really named something like
  sys::c() i.e. we introduce a namespace separator ::.
  Functions/variables that are intended for general use can be made
  public, by a special call.

- Assignments (interactive) to an existing public name causes a
  warning to be issued (or maybe an error).


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Mar 19 17:53:41 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 19 Mar 1998 09:53:41 -0800 (PST)
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803191121.MAA07944@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980319092833.11081A-100000@chekov>

On Thu, 19 Mar 1998, Martin Maechler wrote:> 
>     >> This is not a nice name (format is generic; cardinal is not a class)
>     >> for a nice function, which I would like in several places in R code
>     >> and therefore would like to become part of R (under a better name !)
>     >> 

I would have though "ordinal" would be a better name.  Those things are
called ordinals, not cardinals.  This would also allow a language argument
to produce

ordinal(1:3,"english") 
"1st" "2nd" "3rd"
ordinal(1:3,"francais")
"1re" "2me" "3me"

and so on (we probably have people on R-devel who can supply rules
for most common languages using the Latin alphabet). 

On the other hand, aren't there GNU internationali{s,z}ation libraries
that handle this sort of thing?


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Mar 19 20:12:17 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 19 Mar 1998 14:12:17 -0600
Subject: Copyrights on CRAN/src/contrib libraries
Message-ID: <6remzyzbha.fsf@verdi.stat.wisc.edu>

Sorry to bring up this old topic again but ...

The 2.0 release of Debian Linux is about to happen and the release
team requires copyright statements on any code included in the
release.  Presently there are 4 packages that I have created from R
source code and libraries and contributed to the release.  I think
this will help with the visibility of R when there is a well-regarded
release of an operating system that includes R as an integral part of
the operating system.  Regretably I will probably have to cut back to
3 packages because of copyright problems.

The packages are:
 r-base_0.61.2-0     - based on CRAN/src/base/R-0.61.2.tgz
                       All code is GPL or BSD-license or Artistic license
 r-cran_0.61.1-0     - includes from CRAN/src/contrib the libraries
                       class, ctest, e1071, jpn, nnet, oz, polynom,
                       quadprog, rational, spatial, and splines.
  All this code is described as having the GPL for a copyright except
  for jpn which is described as
 License: Created by Data Science Group in Keio University, Japan.  May
   freely be distributed with R.
  I may end up having to remove that library because the statement is
  too vague.

 r-mlbench_0.61.1-0  - the library from CRAN/src/contrib/mlbench.  Its 
  license is described as "free for non-commercial purposes".  There is
  a possibility I will have to remove this one as well but I don't think
  so.  All the code here was written by Fritz Leisch and is covered by
  the GPL.  All the rest of the library is data sets that were converted
  by Fritz.  I believe that data themselves cannot be copyrighted - only
  a particular representation of the data such as a table can be
  copyrighted.  In this case, since Fritz converted the data to a format
  to be read into R, the representation is covered by Fritz putting it
  under the GPL.  I would appreciate hearing from anyone who feels I am
  misinterpreting the copyright status here.
 
 r-cran-non-free_0.61.1-0 - remaining libraries with .DESCRIPTION
                            files from CRAN/src/contrib.  These include
                            bootstrap, fracdiff, principal.curve, and xgobi.
  I think these will have to be removed.  The bootstrap and
  principal.curve libraries have no clear statement of copyright.  The
  fracdiff library says "free for non-commercial purposes" but that is 
  not as specific as it needs to be.  The xgobi library is covered
  under a specific copyright but I think we will fold that into the
  xgobi package rather than the R packages.

Does anyone think I have misplaced one or more of the libraries?

Do you have further copyright clarifications that could help out?

Finally a plea.  Please, when you do contribute a library or other
code, make sure you state the copyright conditions clearly.  If you
don't want to make a big deal about copyright then I recommend that
you use the GPL.  Look at the Appendix at the end of the file COPYING
in the main directory of the R source code for instructions on how to
do this.
-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 20 08:34:17 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 20 Mar 1998 09:34:17 +0100
Subject: Strange Results of summary()
In-Reply-To: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>
 (palme@uni-wuppertal.de)
Message-ID: <199803200834.JAA09382@sophie.ethz.ch>

>>>>> "Hubert" == Hubert Palme <palme@uni-wuppertal.de> writes:

    Hubert> Martin Maechler:
    >> >> berufl >> Bureaukraft :15 >> Guetererzeugung : 9 >> sonstige : 4
    >> >> Handel : 3 >> wissensch.-technisch: 3 >> (Other) : 3 >> NA's :43
    >> 
    >> .....
    >> 
    >> >> > table(berufl) >> wissensch.-technisch Leiter
    >> Oeff. Dienst/Wirtschaft >> 3 0 >> Bureaukraft Handel >> 15 3 >>
    >> Dienstleistungsgewerbe/Soldat Gaertner/Jaeger >> 2 1 >>
    >> Guetererzeugung sonstige >> 9 4
    >> 
    >> What's the problem?  '(Other)' gives all the levels having (in your
    >> case) 0,1,2 observations, which sum to 3 observations.

    Hubert> Do I understand you right, that the variables with low
    Hubert> frequency are put togehter in (other)? This should be explained
    Hubert> to a newbie!!

    Hubert> - What criteria decides which variables are put into (other)?
    Hubert> - What kind of order do the values have? Frequency?

    Hubert> This is very irritating! Where can I get information about all
    Hubert> this?

Read the online help ?   Read the R-notes,  read books about S / S-plus...

More seriously:
1) In situations like these, I just look at the R code;
   in this case, you'll find  summary -> summary.data.frame -> summary.factor
   and you'll see that summary.data.frame  is
	     summary.data.frame(object, maxsum = 7, ...)
   where ``maxsum'' is the argument you may want to use differently..

2) The online help for summary  has been lacking.
   R 0.62  will have an improved help page, whose ASCII version I append at
   the end. 

    >> table() is more detailed (but doesn't report the NA's), which is the
    >> only thing to critize here:

    Hubert> I agree.

Should be in the 0.62 version...


    Hubert> (Hmm... R is a very interesting and powerfull tool, but it's
    Hubert> philosophy and terminology need much accustomization for one
    Hubert> being familiar with SPSS & Co.)

I agree;  implicitly we have often assumed that R users
	- either know  S / Splus
	- or	 are good programmers
Lack in documentation ``proves'' the above.
And yes, we welcome all collaboration in improving documentation!


Here is the new help page  [ ?summary or ?summary.factor or ....] :

    Object Summaries

	 summary(object, ...)

	 summary.default   (object, ..., digits = max(3, .Options$digits -3))
	 summary.data.frame(object, maxsum = 7, ...)
	 summary.factor    (object, maxsum = 100, ...)
	 summary.matrix    (object, ...)

    Arguments:

      object: an object for which a summary is desired.

      maxsum: integer, indicating how many levels should be
	      shown for `factor's.

	 ...: additional arguments affecting the summary pro-
	      duced.

    Description:

	 `summary' is a generic function used to produce result
	 summaries of the results of various model fitting func-
	 tions.  The function invokes particular `method's which
	 depend on the `class' of the first argument.

	 For `factor's, the frequency of the first `maxsum - 1'
	 most frequent levels is shown, where the less frequent
	 levels are summarized in `"(Others)"' (resulting in
	 `maxsum' frequencies).

	 The functions `summary.lm' and `summary.glm' are exam-
	 ples of particular methods which summarise the results
	 produced by `lm' and `glm'.

    Value:

	 The form of the value returned by `summary' depends on
	 the class of its argument.  See the documentation of
	 the particular methods for details of what is produced
	 by that method.

    See Also:

	 `anova', `summary.glm', `summary.lm'.

    Examples:

	 options(digits=5)
	 data(attenu)
	 summary(attenu) #-> summary.data.frame(..)
         summary(attenu $ station, maxsum = 20) #-> summary.factor(..)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 20 08:45:32 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 20 Mar 1998 09:45:32 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <Pine.SUN.3.95.980319092833.11081A-100000@chekov> (message from
 Thomas Lumley on Thu, 19 Mar 1998 09:53:41 -0800 (PST))
Message-ID: <199803200845.JAA09391@sophie.ethz.ch>

>>>>> "TL" =3D=3D Thomas Lumley <thomas@biostat.washington.edu> writes:

    TL> On Thu, 19 Mar 1998, Martin Maechler wrote:> 
    >> >> This is not a nice name (format is generic; cardinal is not a cla=
ss)
    >> >> for a nice function, which I would like in several places in R co=
de
    >> >> and therefore would like to become part of R (under a better name=
 !)
    >> >> 

    TL> I would have though "ordinal" would be a better name.  Those things
    TL> are called ordinals, not cardinals.
of course.

    TL> This would also allow a language argument to produce

    TL> ordinal(1:3,"english") 
    TL> "1st" "2nd" "3rd"
    TL> ordinal(1:3,"francais")
    TL> "1re" "2me" "3me"
    TL> and so on (we probably have people on R-devel who can supply rules
    TL> for most common languages using the Latin alphabet). 

Excellent!!
I'll adopt these;  
btw,  "deutsch" would be as easy as
=09"1." "2.", .....

    TL> ordinal(1:3,"francais")
    TL> "1re" "2me" "3me"
=09  ^^
=09is this okay, even for males? (premier / premi=E8re)

Maybe, we'd even need an argument "sex" ( or "gender" ?)
to have
=09> ordinal(1:3, "italian", "m")
=09[1] "1o" "2o" "3o"

=09> ordinal(1:3, "italian", "f")
=09[1] "1a" "2a" "3a"
(and same(?) for spanish).


    TL> On the other hand, aren't there GNU internationali{s,z}ation librar=
ies
    TL> that handle this sort of thing?
(called "i18n"), well, yes, in principle.  
I don't know the details, but I think to remember
that these are rather bigger things to be installed on a (Unix) system leve=
l.
=09=
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Fri Mar 20 09:12:11 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Fri, 20 Mar 1998 10:12:11 +0100 (MET)
Subject: Strange Results of summary()
In-Reply-To: <199803200834.JAA09382@sophie.ethz.ch>
References: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>
 <199803200834.JAA09382@sophie.ethz.ch>
Message-ID: <199803200912.KAA22659@wrin27.urz.uni-wuppertal.de>

Martin Maechler: 
 > 
 > Read the online help ?   Read the R-notes,  read books about S / S-plus...

Can you recommend me a book about S / S-plus? (it's difficult to
search for "S" in the library catalogue :-)

Perhaps one in German?

 > 
 > More seriously:
 > 1) In situations like these, I just look at the R code;
 >    in this case, you'll find  summary -> summary.data.frame -> summary.factor
 >    and you'll see that summary.data.frame  is
 > 	     summary.data.frame(object, maxsum = 7, ...)
 >    where ``maxsum'' is the argument you may want to use differently..
 > 
 > 2) The online help for summary  has been lacking.
 >    R 0.62  will have an improved help page, whose ASCII version I append at
 >    the end. 

Thanks. First I want to reinstall R with a regex library and readline, 
then I'll go on trying.

 > I agree;  implicitly we have often assumed that R users
 > 	- either know  S / Splus
 > 	- or	 are good programmers
 > Lack in documentation ``proves'' the above.

That's the point. It's good to know that you are aware of it :-)

Thanks for your help!

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Mar 20 09:26:00 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 20 Mar 1998 10:26:00 +0100
Subject: Strange Results of summary()
In-Reply-To: <199803200912.KAA22659@wrin27.urz.uni-wuppertal.de>
References: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>
 <199803200834.JAA09382@sophie.ethz.ch>
 <199803200912.KAA22659@wrin27.urz.uni-wuppertal.de>
Message-ID: <199803200926.KAA28203@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 20 Mar 1998 10:12:11 +0100 (MET),
>>>>> Hubert Palme (HP) wrote:

HP> Can you recommend me a book about S / S-plus? (it's difficult to
HP> search for "S" in the library catalogue :-)

Search for Splus ... most books have it either in the title or as
keyword.

HP> Perhaps one in German?

Andreas Krause: Einf=FChrung in S und S-Plus
Berlin [u.a.]: Springer, 1997. - . - XVIII, 319 S. : graph. Darst.=20

is a nice introduction in German at a very basic level. My students
liked it very much, better than some of the ``more advanced'' books.

It also mentions R in the appendix :-)

And then there are always the ``bibles'' like

	Venables & Ripley: Modern Applied Statistics with Splus
	Chambers & Hastie: Statistical Models in S

though these are English, of course.

Hope this helps,
Fritz

--=20
-------------------------------------------------------------------
                        Friedrich  Leisch                            =20
Institut f=FCr Statistik                      Tel: (+43 1) 58801 4541
Technische Universit=E4t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra=DFe 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Mar 20 12:51:03 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 20 Mar 1998 13:51:03 +0100 (CET)
Subject: Apropos names.
In-Reply-To: <x2zpimy3rl.fsf_-_@blueberry.kubism.ku.dk>
References: <199803190934.KAA07638@sophie.ethz.ch>
 <199803191455.PAA08296@sophie.ethz.ch>
 <x2zpimy3rl.fsf_-_@blueberry.kubism.ku.dk>
Message-ID: <13586.24524.719517.738131@pc25.none>

>>>>> Peter Dalgaard BSA writes:

> (from R-core)
>> Btw, why can't object names contain a `@'?
>> 
>> -k

> Speaking of names. I've been thinking whether it would not at some
> point be wise to introduce namespaces into R. This would pretty
> obviously break a lot of S code, but it would also make it possible to
> avoid a lot of silly problems such as naming one's variables c, t, pt,
> df, rm, ...

> A plan that might work relatively smoothly could involve:

> - Separate functions from variables. We already do that to some extent
>   ("looking for object of mode function...") [At the same time, one
>   might get rid of everyone's favourite quirk: forgetting () and
>   thus listing the function instead of calling it. I know: basic
>   design, functions are just objects, etc., but really: Wouldn't it be
>   nicer to type view(ls) the few times you actually wanted to see its
>   contents?]

Or print(ls)?  But then typing the name amounts to printing the object,
etc etc.

I am not sure what `separating' would amount to.  I think that as R is
really based on Lisp/Scheme, it should be obvious that we can have
functions objects and variable objects with the same name.  Of course,
the question is what happens if we do print("xyz") if there are both a
variable and a function called `xyz'.

> - All system functions and variables are really named something like
>   sys::c() i.e. we introduce a namespace separator ::.
>   Functions/variables that are intended for general use can be made
>   public, by a special call.

Yes, this would be great.  (Of course, making use of that feature means
that such R code could no longer be used with R-.)

The rule should/could be the following:  make object `obj' in
environment "package:xxx" directly accessible via "xxx::obj" rather than
having to go through get(obj, envir = "....").

A related issue is that of having modules, e.g. a `sys' module within
the base package.  It could be made ``public'' by some export/import
mechanism.  Hmm.  I think Luke had some suggestions on this about a year
ago.

> - Assignments (interactive) to an existing public name causes a
>   warning to be issued (or maybe an error).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Osman.Buyukisik@ae.ge.com  Fri Mar 20 14:22:02 1998
From: Osman.Buyukisik@ae.ge.com (Buyukisik, Osman (GEAE))
Date: Fri, 20 Mar 1998 09:22:02 -0500
Subject: mail-archive place?
Message-ID: <0302875C631AD11198DE00600806C63747A02D@ev009msxaege.ae.ge.com>

I tried ftp://stat.math.ethz.ch/pub/   ? as well as http://stat.math.ethz.ch,
but can't get there?? Where is the mail archive place??

TIA,
Osman


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Mar 20 14:45:05 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Mar 1998 15:45:05 +0100
Subject: mail-archive place?
In-Reply-To: "Buyukisik, Osman's message of Fri, 20 Mar 1998 09:22:02 -0500
References: <0302875C631AD11198DE00600806C63747A02D@ev009msxaege.ae.ge.com>
Message-ID: <x23egdzaj2.fsf@blueberry.kubism.ku.dk>

"Buyukisik, Osman (GEAE)" <Osman.Buyukisik@ae.ge.com> writes:

> 
> I tried ftp://stat.math.ethz.ch/pub/   ? as well as http://stat.math.ethz.ch,
> but can't get there?? Where is the mail archive place??
> 
> TIA,
> Osman

ftp://ftp.stat.math.ethz.ch/pub/Mail-archives

PS: Your return address is confusing GNUS, presumably it's the comma
in "Buyukisik, Osman (GEAE)". Is this a bug in GNUS or a non-compliant
address?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Mar 20 18:15:28 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Fri, 20 Mar 1998 10:15:28 -0800 (PST)
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803200845.JAA09391@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980320101215.13638B-100000@chekov>

On Fri, 20 Mar 1998, Martin Maechler wrote:
>=20
>     TL> ordinal(1:3,"francais")
>     TL> "1re" "2me" "3me"
> =09  ^^
> =09is this okay, even for males? (premier / premi=E8re)
>=20

good point.  It would be "1er", not "1re". We do need a gender argument.

=09-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Mar 20 21:19:32 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Mar 1998 22:19:32 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: Thomas Lumley's message of Fri, 20 Mar 1998 10:15:28 -0800 (PST)
References: <Pine.SUN.3.95.980320101215.13638B-100000@chekov>
Message-ID: <x24t0t3vrv.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas@biostat.washington.edu> writes:

>=20
> On Fri, 20 Mar 1998, Martin Maechler wrote:
> >=20
> >     TL> ordinal(1:3,"francais")
> >     TL> "1re" "2me" "3me"
> > =09  ^^
> > =09is this okay, even for males? (premier / premi=E8re)
> >=20
>=20
> good point.  It would be "1er", not "1re". We do need a gender argumen=
t.

I thought it was "1ere" "2eme", etc.?

We probably shouldn't go into "erster, zweiter, dritter,..." and the
Austrian and Swiss variants thereof, though. ;^)

--=20
   O__  ---- Peter Dalgaard             Blegdamsvej 3 =20
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N  =20
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Sat Mar 21 00:32:49 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Fri, 20 Mar 1998 18:32:49 -0600 (CST)
Subject: documentation for "vector"
Message-ID: <m0yGCDR-0000X5C@verdi.stat.wisc.edu>

The documentation for "vector" indicates that "length" will default to 0.

   Vector Types

        vector(type="logical", length=0)
        as.vector(x,mode="any")
        is.vector(x)

The function itself disagrees.
 R> vector("list")
 Error: 1 argument passed to "vector" which requires 2.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Sat Mar 21 00:36:21 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 20 Mar 1998 18:36:21 -0600
Subject: documentation for "vector"
In-Reply-To: Douglas Bates's message of "Fri, 20 Mar 1998 18:32:49 -0600 (CST)"
References: <m0yGCDR-0000X5C@verdi.stat.wisc.edu>
Message-ID: <6remzwhoca.fsf@verdi.stat.wisc.edu>

Douglas Bates <bates@stat.wisc.edu> writes:

> The documentation for "vector" indicates that "length" will default to 0.
> 
>    Vector Types
> 
>         vector(type="logical", length=0)
>         as.vector(x,mode="any")
>         is.vector(x)
> 
> The function itself disagrees.
>  R> vector("list")
>  Error: 1 argument passed to "vector" which requires 2.

I apologize for not indicating this in my earlier message.  This
behaviour is with

 R : Copyright 1998, Robert Gentleman and Ross Ihaka
 Version 0.61.2 Alpha (March 15, 1998)

on a Debian GNU/Linux system running libc6.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Sat Mar 21 01:20:08 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 21 Mar 1998 13:20:08 +1200 (NZST)
Subject: Apropos names.
Message-ID: <199803210120.NAA26311@stat1.stat.auckland.ac.nz>

> To: R-devel@stat.math.ethz.ch
> Subject: Apropos names.
> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
> Date: 19 Mar 1998 18:44:14 +0100
> MIME-Version: 1.0
> Content-Transfer-Encoding: 7bit


> (from R-core)
> > Btw, why can't object names contain a `@'?

Reserved for future use?

> Speaking of names. I've been thinking whether it would not at some
> point be wise to introduce namespaces into R. This would pretty
> obviously break a lot of S code, but it would also make it possible to
> avoid a lot of silly problems such as naming one's variables c, t, pt,
> df, rm, ... 
>
> A plan that might work relatively smoothly could involve:
>
> - Separate functions from variables. We already do that to some extent
>   ("looking for object of mode function...") [At the same time, one
>   might get rid of everyone's favourite quirk: forgetting () and
>   thus listing the function instead of calling it. I know: basic
>   design, functions are just objects, etc., but really: Wouldn't it be
>   nicer to type view(ls) the few times you actually wanted to see its
>   contents?]

This has been done in common lisp and it's ugly.  Consider

	apply(x, 1, mean)

How do we indicate that this is the function called mean rather
than the non-function mean?  The single namespace makes it much
easier to think about functions as data.

> - All system functions and variables are really named something like
>   sys::c() i.e. we introduce a namespace separator ::.
>   Functions/variables that are intended for general use can be made
>   public, by a special call.

This is a definite possibility, but there are higher priorities at present.

	Ross

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Mar 21 09:00:22 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 1998 10:00:22 +0100
Subject: Apropos names.
In-Reply-To: Ross Ihaka's message of Sat, 21 Mar 1998 13:20:08 +1200 (NZST)
References: <199803210120.NAA26311@stat1.stat.auckland.ac.nz>
Message-ID: <x2yay47715.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:


> 
> > Speaking of names. I've been thinking whether it would not at some
> > point be wise to introduce namespaces into R. This would pretty
> > obviously break a lot of S code, but it would also make it possible to
> > avoid a lot of silly problems such as naming one's variables c, t, pt,
> > df, rm, ... 
> >
> > A plan that might work relatively smoothly could involve:
> >
> > - Separate functions from variables. We already do that to some extent
> >   ("looking for object of mode function...") [At the same time, one
> >   design, functions are just objects, etc., but really: Wouldn't it be
> >   nicer to type view(ls) the few times you actually wanted to see its
> >   contents?]
> 
> This has been done in common lisp and it's ugly.  Consider
> 
> 	apply(x, 1, mean)
> 
> How do we indicate that this is the function called mean rather
> than the non-function mean?  The single namespace makes it much
> easier to think about functions as data.

Ugh. You're right. An even clearer bit of ugliness is 

mean<-mean(x) # you'll be surprised at how many people will do that!
as.list(mean) # which one??

Hmm. Plan B:

class(c)<-"system"
class(ls)<-"system"
...

print.system<-function(...)warning(-something-)

"<-.system"<- function(...)error(-something-)

if you catch my drift?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Mar 22 17:59:19 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Sun, 22 Mar 1998 18:59:19 +0100 (GMT+0100)
Subject: R-0.61.1 compiled with egcs-mingw32
Message-ID: <19980322175919.1333.qmail@sirio.stat.unipd.it>

I have made available the work of the last weekend that I mentioned
in my previous messages on ftp://sirio.stat.unipd.it/pub/R.
Many thanks to Peter D. and Ross I. for their suggestions.
If you think that the work is of some interest, I can upload it
to CRAN.
guido m.

This is the README enclosed in the distribution.
-------------------------------------------------------------------------
rgnwbin.tgz and rgnwsrc.tgz are the first results of an attempt to
build R for Win95 and WinNT using egcs-mingw32.

The advantages over the binaries for MsWindows that can be found in CRAN
are:
1. R seems to run faster. Some simple (perhaps too simple)
   benchmarks point to a 20% gain.
2. The port is based on a more recent version (0.61.1) and it is more
   complete (more "system calls": system, tempfile, unlink, 
   WinExec - to launch applications without waiting for the result;
   support for the standard help system: try help(), help(abline),
   help(line,eda), ?women, data(), library())
3. A new menu item "Stop current computation" make  possible 
   to interupt long computation (but only when  something is printed).
4. Since egcs-mingw32 uses the standard C calling convention, 
   you don't need a Watcom compiler to build dynamic link libraries.
   Indeed, this was my original motivation.
5. It should be easy to use some other gnu-win32 compilers (maybe
   running on a non MsWindows machine). It should be easy to 
   adapt the port to lcc-win32, too.
   
But remember: this is experimental code so
-----------------------------------------------------------------------------
                      USE IT AT YOUR RISK
-----------------------------------------------------------------------------

BINARY DISTRIBUTION
Just unpack rgwnbin.tgz somewhere.
The executable is R.GNW\bin\R.exe. This binary distribution
includes only the standard packages (base+eda+mva+stepfun).

SOURCE DISTRIBUTION
This is an add-on to the R-0.61.1 distribution.
So unpack R-0.61.1.tar.gz somewhere.
Then, from the same directory, unpack rgwnsrc.tgz.
To rebuild the system, go to R-0.61.1/src/gnuwin32.
Then
   > make
should build the standard stuff.
To add a new package, you should
a) download it; 
b) unpack it in the R-0.61.1/src directory.
c) go to the R-0.61.1/src/gnuwin32 directory and type
   > make pkg-xxx
   where xxx is the name of the package.
   You should get the directory R-0.61.1/library/xxx
   and its subdirectory R/ (the r-code) data/ (the 
   data of the package) R/libs (the dynamic link library) and
   the support for the help system (INDEX, TITLE, an updated
   LibIndex). Of course, the data and libs subdirectory
   can be missing.
d) if you want the documentation, you can download 
   the preformatted one.Then  unpack it in the R-0.61.1
   (not in the R-0.61.1/src) directory. If you don't need
   the LaTeX files, remove them.

Note:
(1) Of course, you need a compiler. As I have said I used 
    the egcs-mingw32 one:
    http://www.xraylith.wisc.edu/~khan/software/gnu-win32/
(2) You must also have a GNU make and some standard unix
    command (ls,cat,sed,rm). Furthemore, make and this
    command must be able to overcome the MsDOS limitation
    about the length of a command.
    I used the ones coming with the djgpp compiler.
    According to me, they are the best version for dos and
    windows. You can find it in any SIMTEL mirror.
    If you want, I can make available a small file with
    only the needed tools.
(3) The gnuwin32/Makefile use the g77 Fortran compiler.
    If you don't have it, or if you don't want to use it,
    you can use something like
      > make HAVEG77=NO 
    or
      > make HAVEG77=NO pkg-xxx
    For example, the g77 compiler in egcs-mingw32 was
    not able to compile the fortran code in the acepack package.
    However, I was able to build this package with the command
      > make HAVEG77=NO pkg-acepack
(4) When installing a package, if in R-0.61.1/src/library/xxx/R
    exist a file with name yyy.gnw then this file is used
    and files with name yyy or yyy.somethingelse are
    ignored. In this way, you can configure the R code
    of the package. An example is the base/R/system.gnw
    file.
(5) This is not a developer's distribution. For example, dependences
    are written in a silly way. Furthemore, all the code
    in src/appl/, src/appl-f,..... is compiled.
    No use of the original Makefile is done.
    Hence, you have to start from a cleaned distribution.


BUGS and TODO
(0) The English of this README.
(1) If you exit from the edit windows and this is empty you get a
    segmentation fault. This happens also on my Linux box. So,
    it seem to be a general problem.
(2) The dll's are statically linked with the other R code.
    So they get support for the routines that they need.
    In this way, they work but are big. We should have
    a large R.dll with all the standard code. Then 
    the executable and the dll's should simply import
    from R.dll.
(3) Try and adapt this port to other win32 compiler.
    It should be easy. So, why don't try?
(4) The system command does not work if the command to be
    execute require some user interaction. It is just a 
    "simulated  reading pipe for a broken OS".
(5) I inserted an event loop at the beginning of the
    function which print to the console. In this way,
    you can interupt the computation or, for example,
    give the focus to the graphics window.
    But only when you print. A call to the event loop
    must be inserted inside the "main" code.
    But, for the moment, I decided to leave the "main"
    code untouched.
(6) When building package xxx, all the C and Fortran files
    found in library/xxx/src (or library/xxx/src-c if
    you don't have the g77 compiler) are compiled
    and putted in a dll. On the contrary, we have to make
    use of the original Makefile.
(7) The Windows code must be cleaned. 
    

guido masarotto                             22 marzo 1998
guido@sirio.stat.unipd.it



    
    
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Mon Mar 23 08:08:42 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 23 Mar 1998 09:08:42 +0100
Subject: mail-archive place?
In-Reply-To: <x23egdzaj2.fsf@blueberry.kubism.ku.dk>
References: <0302875C631AD11198DE00600806C63747A02D@ev009msxaege.ae.ge.com>
 <x23egdzaj2.fsf@blueberry.kubism.ku.dk>
Message-ID: <199803230808.JAA27642@galadriel.ci.tuwien.ac.at>

>>>>> On 20 Mar 1998 15:45:05 +0100,
>>>>> Peter Dalgaard BSA (PDB) wrote:

PDB> "Buyukisik, Osman (GEAE)" <Osman.Buyukisik@ae.ge.com> writes:
>> 
>> I tried ftp://stat.math.ethz.ch/pub/   ? as well as http://stat.math.ethz.ch,
>> but can't get there?? Where is the mail archive place??
>> 
>> TIA,
>> Osman

PDB> ftp://ftp.stat.math.ethz.ch/pub/Mail-archives

PDB> PS: Your return address is confusing GNUS, presumably it's the comma
PDB> in "Buyukisik, Osman (GEAE)". Is this a bug in GNUS or a non-compliant
PDB> address?

You can also find the mail archives at every CRAN mirror, check

	http://www.ci.tuwien.ac.at/R

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Mar 23 15:15:05 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Mon, 23 Mar 1998 09:15:05 -0600 (CST)
Subject: Placement of attributes
Message-ID: <m0yH8wL-0000YWC@verdi.stat.wisc.edu>

In preparing data sets for the lme library, I bring the data into R,
convert it to the groupedData class, which is an extension of the
data.frame class, and use "dump" to create an R-readable version.  
To cut down on the size of these files I convert the row.names
attribute from expressions like c("1", "2", ..., "54") to 1:54.

I have run into a curious problem that seems to related to the
position of the row.names attribute in the R-readable representation.
The following transcript was generated under R-0.61.1 on a Debian
Linux system.  I apologize for the length of the transcript.

R> print.groupedData
function (x, ...) 
{
        cat("Grouped Data: ")
        print(attr(x, "formula"))
        NextMethod("print", x, ...)
}
R> "Machines" <-
+   structure(list
+   (Worker = structure(ordered(c(4, 4, 4, 2, 2, 2, 
+      5, 5, 5, 3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 
+      3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 3, 3, 3, 
+      6, 6, 6, 1, 1, 1), levels=1:6), class = c("ordered", "factor"),
+      .Label = c("6", "2", "4", "1", "3", "5")),
+    Machine = structure(factor(c(1, 
+      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 
+      2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 
+      3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3), levels=1:3), class = "factor",
+      .Label = c("A", "B", "C")),
+    score = c(52, 52.8, 
+      53.1, 51.8, 52.8, 53.1, 60, 60.2, 58.4, 51.1, 52.3, 50.3, 50.9, 
+      51.8, 51.4, 46.4, 44.8, 49.2, 62.1, 62.6, 64, 59.7, 60, 59, 68.6, 
+      65.8, 69.7, 63.2, 62.8, 62.2, 64.8, 65, 65.4, 43.7, 44.2, 43, 
+      67.5, 67.2, 66.9, 61.5, 61.7, 62.3, 70.8, 70.6, 71, 64.1, 66.2, 
+      64, 72.1, 72, 71.1, 62, 61.4, 60.5)),
+ class = c("nffGroupedData", "nfGroupedData", "groupedData", "data.frame"),
+ row.names = 1:54,
+ formula = score ~ 1 | Worker,
+ labels = list(y = "Productivity score"),
+ inner = ~ Machine)
R> Machines
Grouped Data: score ~ 1 | Worker
   Worker Machine score
1       1       A  52.0
2       1       A  52.8
3       1       A  53.1
4       2       A  51.8
5       2       A  52.8
6       2       A  53.1
7       3       A  60.0
8       3       A  60.2
9       3       A  58.4
10      4       A  51.1
11      4       A  52.3
12      4       A  50.3
13      5       A  50.9
14      5       A  51.8
15      5       A  51.4
16      6       A  46.4
17      6       A  44.8
18      6       A  49.2
19      1       B  62.1
20      1       B  62.6
21      1       B  64.0
22      2       B  59.7
23      2       B  60.0
24      2       B  59.0
25      3       B  68.6
26      3       B  65.8
27      3       B  69.7
28      4       B  63.2
29      4       B  62.8
30      4       B  62.2
31      5       B  64.8
32      5       B  65.0
33      5       B  65.4
34      6       B  43.7
35      6       B  44.2
36      6       B  43.0
37      1       C  67.5
38      1       C  67.2
39      1       C  66.9
40      2       C  61.5
41      2       C  61.7
42      2       C  62.3
43      3       C  70.8
44      3       C  70.6
45      3       C  71.0
46      4       C  64.1
47      4       C  66.2
48      4       C  64.0
49      5       C  72.1
50      5       C  72.0
51      5       C  71.1
52      6       C  62.0
53      6       C  61.4
54      6       C  60.5
R> "Machines" <-   # only change is position of "row.names" and "class" attributes
+   structure(list
+   (Worker = structure(ordered(c(4, 4, 4, 2, 2, 2, 
+      5, 5, 5, 3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 
+      3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 3, 3, 3, 
+      6, 6, 6, 1, 1, 1), levels=1:6), class = c("ordered", "factor"),
+      .Label = c("6", "2", "4", "1", "3", "5")),
+    Machine = structure(factor(c(1, 
+      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 
+      2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 
+      3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3), levels=1:3), class = "factor",
+      .Label = c("A", "B", "C")),
+    score = c(52, 52.8, 
+      53.1, 51.8, 52.8, 53.1, 60, 60.2, 58.4, 51.1, 52.3, 50.3, 50.9, 
+      51.8, 51.4, 46.4, 44.8, 49.2, 62.1, 62.6, 64, 59.7, 60, 59, 68.6, 
+      65.8, 69.7, 63.2, 62.8, 62.2, 64.8, 65, 65.4, 43.7, 44.2, 43, 
+      67.5, 67.2, 66.9, 61.5, 61.7, 62.3, 70.8, 70.6, 71, 64.1, 66.2, 
+      64, 72.1, 72, 71.1, 62, 61.4, 60.5)),
+ row.names = 1:54,
+ class = c("nffGroupedData", "nfGroupedData", "groupedData", "data.frame"),
+ formula = score ~ 1 | Worker,
+ labels = list(y = "Productivity score"),
+ inner = ~ Machine)
R> Machines
Grouped Data: score ~ 1 | Worker

Process R segmentation fault at Mon Mar 23 09:14:43 1998
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Mar 23 16:05:00 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Mar 1998 17:05:00 +0100
Subject: Placement of attributes
In-Reply-To: Douglas Bates's message of Mon, 23 Mar 1998 09:15:05 -0600 (CST)
References: <m0yH8wL-0000YWC@verdi.stat.wisc.edu>
Message-ID: <x27m5ll7f7.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates@stat.wisc.edu> writes:

> R> Machines
> Grouped Data: score ~ 1 | Worker
> 
> Process R segmentation fault at Mon Mar 23 09:14:43 1998

in 0.61.2, this behaves differently:

> Machines
Grouped Data: score ~ 1 | Worker
Error: attempt to type-coerce non-vector

In both cases, that is.

However, applying print.data.frame directly or indirectly by removing
the print method, on the structures gives a print of the data frame in
the 1st case and a segfault in the 2nd.

A quick tour into the debugger show that it dies trying to do
CHAR(x[i]) with x[0] == 1, -- and  x[1] == 2, etc. Methinks that
row.names<-as.character(1:54) might help! 

However, one should probably also do the explicit coercion of rownames
to character in  printDataFrame...

But where did the type-coerce error come from?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Mon Mar 23 17:12:14 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Mon, 23 Mar 1998 12:12:14 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <x27m5ll7f7.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 23 Mar 1998 17:05:00 +0100)
Message-ID: <199803231712.MAA08319@c0230.ae.ge.com>

Peter Dalgaard writes:

>>row.names<-as.character(1:54) might help! 

Yes, that does help.   
...

478          PROTECT(rl = getAttrib(x, install("row.names")));

....

545          if (!isNull(rl)) formatString(STRING(rl), r, &rlabw, 0);
 
I guess if row.names are not strings, then the above line causes seg
fault.

Somehow in the first example they are coerced into strings because
they came after c("xxx" , ...). In the second example row.names comes
after c(2 , ...) .

Is there a way to check to see it rl contains strings?

Osman



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Mon Mar 23 18:00:58 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Mon, 23 Mar 1998 13:00:58 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <199803231712.MAA08319@c0230.ae.ge.com> (message from
 U-E59264-Osman Buyukisik on Mon, 23 Mar 1998 12:12:14 -0500 (EST))
Message-ID: <199803231800.NAA09688@c0230.ae.ge.com>

Well, I found isString(), and coerceToString in coerce.c. Just added
the follwoing line to line 479 in file printarray.c:

479        PROTECT(rl = getAttrib(x, install("row.names")));
480        if(!isString(rl)) PROTECT(rl = coerceToString( rl )); <--- NEW
481        PROTECT(cl = getAttrib(x, R_NamesSymbol));

Now I don't get seg fault. Machines get printed out but at the end I
get a message :
stack imbalance in print.data.frame, 13 then 14

I guess I did not do this right :-) I had to remove "static " from
definition of  coerceToString in coerce.c. I think row.names should be
coerced to String as it is read in since the help on row.names says it
is a char vector.

P.S. I am playing with R-snapshot March 17 on hpux10.20.

Osman



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Mon Mar 23 19:47:43 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 24 Mar 1998 07:47:43 +1200 (NZST)
Subject: Placement of attributes
Message-ID: <199803231947.HAA26886@stat1.stat.auckland.ac.nz>

The PROTECT macro has to do with protecting an internal object from the
garbage collector.

	SEXP x;			/* x is an s-expression */
				/* i.e. an R object of some sort */

	x = allocate an object
	PROTECT(x) 	
	...
	UNPROTECT(x)

Every PROTECTED object must be UNPROTECTed before you exit from the
current function.  The interpreter keeps track of how may pointers
are protected at entry and checks that this is the same at exit.

I am hoping that medium term we will be able to switch from our
home-grown garbage-collector to the Boehm conservative collector.
This should fix all sorts of problems, but there are a couple of
save/restore problems which need to fixed before that.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Mon Mar 23 20:39:03 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Mon, 23 Mar 1998 15:39:03 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <199803231947.HAA26886@stat1.stat.auckland.ac.nz> (message from
 Ross Ihaka on Tue, 24 Mar 1998 07:47:43 +1200 (NZST))
Message-ID: <199803232039.PAA10645@c0230.ae.ge.com>

OK, I took the PROTECT() out of the line I added since it was already
protected. Now I don't get the stack imbalance message, and "Machines" prints out
without seg fault. But, I had to change "static SEXP
coerceToString()" to just "SEXP coerceToString()". Does that cause any
problems? Otherwise the linker was not resolving the call to
coerceToString from printarray.c file.
Again the would the best place to  coerce to string in dataframe.c
file? 
Osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Mar 23 21:31:55 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 23 Mar 1998 13:31:55 -0800 (PST)
Subject: R-beta: R with gnuwin32
In-Reply-To: <x290qbptne.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SUN.3.95.980323132457.18565B-100000@chekov>


There has been some talk about missing header files for compiling the
windows stuff under gcc .  A company called Willows (www.willows.com) 
produces a set of tools for porting Windows programs to other platforms,
including the necessary header files, all under the GNU LGPL.  This might
have the files we need (I don't know enough about the problem to tell for
sure).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Mar 23 23:36:01 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Mar 1998 00:36:01 +0100
Subject: R-beta: R with gnuwin32
In-Reply-To: Thomas Lumley's message of Mon, 23 Mar 1998 13:31:55 -0800 (PST)
References: <Pine.SUN.3.95.980323132457.18565B-100000@chekov>
Message-ID: <x2d8fdgeu6.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas@biostat.washington.edu> writes:

> 
> 
> There has been some talk about missing header files for compiling the
> windows stuff under gcc .  A company called Willows (www.willows.com) 
> produces a set of tools for porting Windows programs to other platforms,
> including the necessary header files, all under the GNU LGPL.  This might
> have the files we need (I don't know enough about the problem to tell for
> sure).
> 
> 	-thomas

These were checked out by someone on the Gnuwin32 list a couple of
weeks ago and were found inadequate. I also tried them myself without
luck at some point.

Basically, every time you try to lift header files off of another
package in this game you find that they are incompatible in some
*other* aspect and cause your programs to get burnt to cinders in an
astounding flurry of error messages...

As I understand Guido M's work, he's filled in the few gaps necessary
to get the current R/Windows functions to run by inserting the
relevant definitions by hand. I think most of these definitions are
already in *some* freeware toolkit, so they're not likely to cause
legal trouble (and the possibility of copyrighting the information
that WM_DDE_FIRST is 0x03E0 etc., is dubious in the first place). I
haven't gotten around to looking at the details (today was crazy
enough already!) but I expect that what he's done already should make
it possible to do what we want as far as current sources are
concerned. Trouble may arise as we try to improve the Win32 functions,
though.

There are two obvious pathways to proceed along in that case:

1) Figure out exactly what you *can* do with the gnu headers and use
that. Obviously requires knowledge of the Win32 API.

2) Use a portable toolkit. V, wxWindows, Tcl/Tk, with the latter
appealing quite a bit to me as I've already indicated on a number of
occasions.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Tue Mar 24 10:27:15 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Tue, 24 Mar 1998 11:27:15 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32 (fwd)
Message-ID: <19980324102715.4351.qmail@sirio.stat.unipd.it>

> Peter Dalgaard BSA writes:
> > 
> > As I understand Guido M's work, he's filled in the few gaps necessary
> > to get the current R/Windows functions to run by inserting the
> > relevant definitions by hand. I think most of these definitions are
> > already in *some* freeware toolkit, so they're not likely to cause
> > legal trouble (and the possibility of copyrighting the information
> > that WM_DDE_FIRST is 0x03E0 etc., is dubious in the first place). I
 Inserting by hand was by first approach. But in the distribution
 that I made available, I used, to avoid legal problem, part of the
 header included in lcc-win32 which is freeware. Look to the
 file lcc.h in rgwnsrc.tgz.
 What is missing in the gnu header are the definitions of the 
 Edit_something macros and of some constants. 
 Observe that the use of the first ones can be avoid 
 if in the source we substitute them with the appropriate
 SendMessage calls.
> > 
> > 2) Use a portable toolkit. V, wxWindows, Tcl/Tk, with the latter
> > appealing quite a bit to me as I've already indicated on a number of
> > occasions.
 Perhaps, this is the best solution. Another portable toolkit which is small,
 only C not C++, and so easy to use is GraphApp.
 guido m.
 
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From naras@stat.Stanford.EDU  Tue Mar 24 15:59:36 1998
From: naras@stat.Stanford.EDU (Balasubramanian Narasimhan)
Date: Tue, 24 Mar 1998 07:59:36 -0800
Subject: R-beta: R with gnuwin32
In-Reply-To: Your message of "24 Mar 1998 00:36:01 +0100"
References: <x2d8fdgeu6.fsf@blueberry.kubism.ku.dk>
Message-ID: <199803241559.HAA15294@rgmiller.Stanford.EDU>

>>>>> "Peter" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
>>>>> "Peter" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
    Peter> 2) Use a portable toolkit. V, wxWindows, Tcl/Tk, with the
    Peter> latter appealing quite a bit to me as I've already
    Peter> indicated on a number of occasions.

I have just started looking into the "latter". I've done some work
with Tcl/Tk but I am just looking seriously at R sources now. Should
we form a core group to coordinate this effort? This might help me come
up to speed quickly.

________________________________________________________________
B. Narasimhan                            naras@stat.stanford.edu
                             http://www-stat.stanford.edu/~naras





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Tue Mar 24 18:27:36 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Tue, 24 Mar 1998 13:27:36 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <6rvht4dn1b.fsf@verdi.stat.wisc.edu> (message from Douglas Bates
 on 24 Mar 1998 11:19:28 -0600)
Message-ID: <199803241827.NAA04434@c0230.ae.ge.com>

Well, it wasn't in dataframe.c, but in attrib.c file function
rownamesgets! coerceVector( , STRSEXP) was already there but due to
if(isFrame(vec))  line was not getting executed. I moved the
"If(isFrame..." line to right after PROTECT(val) (3 lines down). Now
it works :-). At least as far as running the test code. I don't know
why isFrame(vec) was returning false. We are reading in a data frame.

Osman
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Tue Mar 24 18:47:34 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Tue, 24 Mar 1998 19:47:34 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32
Message-ID: <19980324184735.5892.qmail@sirio.stat.unipd.it>

 I am sorry but, on sunday, I putted on the ftp server not the last
 version of my work.
 There are two bugs that I had already discovered:
 (a) to run all the demos, at least on my machine, you have
     to eliminate the max.parse.length=10000 at the end
     of the demo function (in the call to source).
 (b) the menu item which sources a file sometimes doesn't 
     work. The source(...) command should work. I had already
     correct the C source.
 
 Of course, there are some other zillion of bugs unknown.
 
 I apologize for the problems.
 guido m.
     
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 25 08:22:23 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 25 Mar 1998 09:22:23 +0100
Subject: R alpha/beta naming
Message-ID: <199803250822.JAA19152@sophie.ethz.ch>

Read this morning
>>>	R : Copyright 1998, Robert Gentleman and Ross Ihaka
>>>	Version 0.61.2 Alpha (March 15, 1998)
		       -----
So, there still is no  "R beta" around....

- If I didn't know R, would I use a statistics software, if it was still 
  in alpha testing state?
- Is this really what we want to tell people about R?

More to the point:
	I think, we could have called it beta, really.
	Even though there still are known bugs.

	S-plus 4.0 wasn't even called beta...

==> Should we plan to release  
    0.61.3 Beta ?
	   ----  (with only very minor changes from 0.61.2)

Other opinions?

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Wed Mar 25 08:35:15 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 25 Mar 1998 09:35:15 +0100
Subject: R alpha/beta naming
In-Reply-To: <199803250822.JAA19152@sophie.ethz.ch>
References: <199803250822.JAA19152@sophie.ethz.ch>
Message-ID: <199803250835.JAA07841@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 25 Mar 1998 09:22:23 +0100,
>>>>> Martin Maechler (MM) wrote:

MM> Read this morning
>>>> R : Copyright 1998, Robert Gentleman and Ross Ihaka
>>>> Version 0.61.2 Alpha (March 15, 1998)
MM> 		       -----
MM> So, there still is no  "R beta" around....

MM> - If I didn't know R, would I use a statistics software, if it was st=
ill=20
MM>   in alpha testing state?
MM> - Is this really what we want to tell people about R?

MM> More to the point:
MM> 	I think, we could have called it beta, really.
MM> 	Even though there still are known bugs.

MM> 	S-plus 4.0 wasn't even called beta...

MM> =3D=3D> Should we plan to release =20
MM>     0.61.3 Beta ?
MM> 	   ----  (with only very minor changes from 0.61.2)

MM> Other opinions?

Hmm, as long as we have a major version number of 0 I think we could
omit any ALPHA or BETA declaration, because the 0 implies that this is
not considered to be a final release. Then we could restart thinking
about alpha/beta statements once 1.0 is out ...

That's also the reason why I removed the text ``alpha and beta
versions'' from the CRAN main page and replaced it by a simple
``R source code''.

Just my 10g (=3Dsmallest coin in Austria),
Fritz

--=20
-------------------------------------------------------------------
                        Friedrich  Leisch                            =20
Institut f=FCr Statistik                      Tel: (+43 1) 58801 4541
Technische Universit=E4t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra=DFe 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Mar 25 08:39:20 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 25 Mar 1998 09:39:20 +0100 (CET)
Subject: R alpha/beta naming
In-Reply-To: <199803250822.JAA19152@sophie.ethz.ch>
References: <199803250822.JAA19152@sophie.ethz.ch>
Message-ID: <13592.49725.379491.144013@pc25.none>

>>>>> Martin Maechler writes:

> Read this morning
>>>> R : Copyright 1998, Robert Gentleman and Ross Ihaka
>>>> Version 0.61.2 Alpha (March 15, 1998)
> 		       -----
> So, there still is no  "R beta" around....

> - If I didn't know R, would I use a statistics software, if it was still 
>   in alpha testing state?
> - Is this really what we want to tell people about R?

> More to the point:
> 	I think, we could have called it beta, really.
> 	Even though there still are known bugs.

> 	S-plus 4.0 wasn't even called beta...

> ==> Should we plan to release  
>     0.61.3 Beta ?
> 	   ----  (with only very minor changes from 0.61.2)

> Other opinions?

stable releases        <=> BETA
development releases   <=> ALPHA

I.e., (btw, YES!),

	0.61.3 (BETA)
	0.62.0 (ALPHA)

which would be great anyway as then we don't have to worry about
even/odd version numbers ... (our numbering is the opposite of e.g.
the Linux kernel).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Wed Mar 25 10:14:56 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Wed, 25 Mar 1998 11:14:56 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32
In-Reply-To: <199803250901.29958.solva.ifi.uio.no@ifi.uio.no> from "Jan Kutylowski" at Mar 25, 98 10:01:43 am
Message-ID: <19980325101456.9617.qmail@sirio.stat.unipd.it>

Jan Kutylowski writes:
> 
> 
> 
> 
> I picked up your execs of R. First impression is that R apears faster.
> But running a demo does not stop the screen after it fills up, so
> it is unpleasant. Is there anything I can do about this?
The same happens also under unix (at least under linux).
If I understand the point, but someone else can give you better advice,
you have to look to the source function, try to compute the number
of line printed, and stop when .... I will give a look to the function.
> 
> I would very much welcome if you could update the binaries as you
> discover bugs etc. 
> 
> I believe gcc on Windows is THE way to go. Your work brings the light
> to the issues of the coexistence of updated Windows/Linux versions.

When I will have time, I want to prepare a version for my student
with many of the packages available. I can also try to fix bugs 
when these will be  discovered but my attempt was only an experiment.
guido m.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Mar 25 10:32:13 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Mar 1998 11:32:13 +0100
Subject: R alpha/beta naming
In-Reply-To: Kurt Hornik's message of Wed, 25 Mar 1998 09:39:20 +0100 (CET)
References: <199803250822.JAA19152@sophie.ethz.ch>
 <13592.49725.379491.144013@pc25.none>
Message-ID: <x2pvjbf4cy.fsf@blueberry.kubism.ku.dk>

Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:

> > Other opinions?
> 
> stable releases        <=> BETA
> development releases   <=> ALPHA
> 
> I.e., (btw, YES!),
> 
> 	0.61.3 (BETA)
> 	0.62.0 (ALPHA)
> 
> which would be great anyway as then we don't have to worry about
> even/odd version numbers ... (our numbering is the opposite of e.g.
> the Linux kernel).

No... The next release is 0.62.0, at which point we start patching
0.62.[1234..] while putting new features into 0.63.0. We simply don't
use the stable/unstable model, but a release/snapshot one. 

I'm with Fritz: Just forget about the alpha/beta designations, they
belong in another world. 

They *might* be used meaningfully as follows:

0.61.2 is the current release

0.62.0 alpha is the current snapshot
0.62.0 beta is the current snapshot when a code freeze is announced

Currently, the state of the patch branch is unavailable between
releases, which I'm not really sure is a good thing. If we made it
accessible then it could be

0.61.3 beta 

(with the solemn vow that the patch branch never enters an alpha
state!)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Wed Mar 25 15:01:21 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Wed, 25 Mar 1998 16:01:21 +0100 (MET)
Subject: POSIX regular expressions on Irix 5.3
In-Reply-To: <199803181946.HAA14615@stat1.stat.auckland.ac.nz>
References: <199803181946.HAA14615@stat1.stat.auckland.ac.nz>
Message-ID: <199803251501.QAA21283@wrin27.urz.uni-wuppertal.de>

OK, now I got it. But it is a pain to install R on Irix systems
without having gcc!

Ross Ihaka: 
 > If you look in the R source tree in R/src/regex you will find a version
 > of Henry Spencer's regular expression library.  You could try compiling
 > and installing that (you will need to modify the Makefile).  Some SGI
 > compilers have trouble with it, but it may work for you.

It doesn't compile. There is a header file missing.

 > 
 > If that doesn't work, there are a number of GNU regular expression
 > libraries, which you can get from the usual GNU places.  Install one
 > of them and then try again.  You may also want to pick up a recent version
 > of the readline library at the same time.
 > 
 > I'd be interested in a report if you are successful.
 > 
 > 	Ross

I installed the rx and readline libraries in /usr/local. Then I had to 
do a lot of changes changes to compile successfully. I append them.

I strongly recommend to make 'configure' smart enough to check for the
rx library (librx.a, rxposix.h) if necessary -- also in /usr/local! 


Another strange thing:

checking for main in -lreadline... yes
...
checking for readline/history.h... no

This file does exist! (in /usr/local/include -- is that the problem?) 


And, please, insert

SHELL = /bin/sh

in the Makefile's not generated by configure (those ones are OK)!


Thanks for R!

H.P.


Here are the changes:

*** src/include/Platform.h.origin       Tue Mar 24 15:47:24 1998
--- src/include/Platform.h      Tue Mar 24 15:56:43 1998
***************
*** 42,48 ****
  /* #undef USE_BUILTIN_RINT */
  
  /* POSIX Regular Expressions Available */
! /* #undef HAVE_REGCOMP */
  
  /* Compatibility for "memmove" on older BSD platforms */
  #define HAVE_MEMMOVE 1
--- 42,48 ----
  /* #undef USE_BUILTIN_RINT */
  
  /* POSIX Regular Expressions Available */
! #define HAVE_REGCOMP 1
  
  /* Compatibility for "memmove" on older BSD platforms */
  #define HAVE_MEMMOVE 1

*** src/main/Makefile.origin    Tue Mar 24 15:47:08 1998
--- src/main/Makefile   Tue Mar 24 16:26:14 1998
***************
*** 1,11 ****
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include
  LDCMD=cc
  DLLFLAGS=
  PICFLAGS=
  SHLIBLDFLAGS=-shared
! LIBS=-ldl -lreadline -ltermcap -lm 
  X_CFLAGS=
  X_LIBS= -lX11
  X_EXTRA_LIBS=
--- 1,11 ----
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include -I/usr/local/include
  LDCMD=cc
  DLLFLAGS=
  PICFLAGS=
  SHLIBLDFLAGS=-shared
! LIBS=-ldl -lreadline -ltermcap -lm -lrx 
  X_CFLAGS=
  X_LIBS= -lX11
  X_EXTRA_LIBS=

*** src/unix/Makefile.origin    Tue Mar 24 15:47:10 1998
--- src/unix/Makefile   Tue Mar 24 16:19:34 1998
***************
*** 1,6 ****
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include
  AR=ar
  RANLIB=:
  X_CFLAGS=
--- 1,6 ----
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include -I/usr/local/include
  AR=ar
  RANLIB=:
  X_CFLAGS=

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@math.sc.edu  Wed Mar 25 15:10:24 1998
From: rossini@math.sc.edu (Anthony Rossini)
Date: 25 Mar 1998 10:10:24 -0500
Subject: R alpha/beta naming
In-Reply-To: Peter Dalgaard BSA's message of "25 Mar 1998 11:32:13 +0100"
References: <199803250822.JAA19152@sophie.ethz.ch> 	<13592.49725.379491.144013@pc25.none> <x2pvjbf4cy.fsf@blueberry.kubism.ku.dk>
Message-ID: <wncn2ee24db.fsf@fhat.stat.sc.edu>



Until we get 1.0, I don't understand what the alpha/beta designations
mean.  I.e. from one view, it's beta, since the interface is
reasonably solid, and just some fixes need to be done.  Then one could 
consider that a whole new module will show up (implying alpha-status).

I think that stable/unstable would be better labels.

best,
-tony

---
Anthony Rossini
Manifold Graphics / Epimetrics
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 26 10:20:00 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Mar 1998 11:20:00 +0100
Subject: S Mailing List (and ``netiquette...'')
In-Reply-To: <1998Mar25.111514.1268.1100271@msmail.cnp.cldx.com>
 (JMorris@cldx.com)
Message-ID: <199803261020.LAA00727@sophie.ethz.ch>

>>>>> "Morris," == Morris, Jeffrey <JMorris@cldx.com> writes:

    Morris,> I know that the S Mailing list recently moved but am not sure
    Morris,> where.  I recently moved and would like to resubscribe to the
    Morris,> S Mailing list.  Could someone send me the latest info on
    Morris,> subscribing?

Every message on S-news now has the following ``trailer'':
>> -----------------------------------------------------------------------
>> This message was distributed by s-news@wubios.wustl.edu.  To unsubscribe
>> send e-mail to s-news-request@wubios.wustl.edu with the BODY of the
>> message:  unsubscribe s-news


Jeff, I think there would have been more appropriate ways for finding that
information than to send an e-mail to ~ 230 people
(one of them  un-subscribed in the sequence; 
 BTW: Every time we get a few ``inappropriate'' messages in R-help,
      a few people do unsubscribe...)
R-help subscribers want pertinent information, announcements, questions and
answers on R.


Regards:	
Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 26 10:28:22 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Mar 1998 11:28:22 +0100
Subject: R-beta: errors in R help docs
In-Reply-To: <Pine.OSF.3.95.980325105828.10239B-100000@io.uwinnipeg.ca>
 (message from Bill Simpson on Wed, 25 Mar 1998 11:02:38 -0600 (CST))
Message-ID: <199803261028.LAA00741@sophie.ethz.ch>

Thank you very much, Bill, 
for reporting this.

I will put yourfix into the source.

However,
for minor fixes like this one, I'd think "R-devel" would be have been more
appropriate.

Thank you, once more: Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Thu Mar 26 10:58:55 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 26 Mar 1998 22:58:55 +1200 (NZST)
Subject: We've got the power (almost)
Message-ID: <199803261058.WAA04058@stat1.stat.auckland.ac.nz>

Over the next few days Auckland will be back to full power levels.
I've been staying away from work as much as possible in the name of
power saving (it gets to be habit forming :-).  I hope to be a bit more
productive on R stuff soon.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 26 11:04:30 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Mar 1998 12:04:30 +0100
Subject: S programming style & "missing(.)" [was "regarding bugs in barplot" on R-core]
In-Reply-To: <199803260055.MAA22903@stat1.stat.auckland.ac.nz> (message from
 Paul Murrell on Thu, 26 Mar 1998 12:55:23 +1200 (NZST))
Message-ID: <199803261104.MAA00782@sophie.ethz.ch>

	[The part about S (S-plus and R being dialects of S) programming
	 (at the end) makes me cc'ing this to R-devel. MM]

On R-core,
>>>>> "Paul" == Paul Murrell <paul@stat.auckland.ac.nz> writes:

    Paul> hi (i) the problem with the positioning of the legend in your
    Paul> barplot example:

    Paul> barplot(matrix(1:12,ncol=3),bes=T,legend.text=c("ABC","B2","C3","D4"),col=1:4)
    Paul> was actually a bug in legend() (now fixed)

thank you for the fix (I'm probably also among the culprits..).
Since it's mentioned here, following is the patch against 0.61.2:

--- R-0.61.2/src/library/base/R/legend	Wed Nov 12 04:53:32 1997
+++ R-devel/src/library/base/R/legend.R	Thu Mar 26 06:02:23 1998
@@ -60,13 +60,17 @@
 		if(!merge) w <- w + x.intersp * xchar
 	if(merge) w <- w + x.intersp * xchar
 	## (w,h) are now the final box width/height. --> Adjust (x,y) :
-	x <- x - xjust * w
-	y <- y + (1 - yjust) * h
+	left <- x - xjust * w
+	top <- y + (1 - yjust) * h
+	right <- left+w
+	bottom <- top-h
+	if (xlog) { left <- 10^left; right <- 10^right }
+	if (ylog) { top <- 10^top; bottom <- 10^bottom }
 	if (bty != "n")
-		rect(x, y, x+w, y-h, col = bg)
+		rect(left, top, right, bottom, col = bg)
 	## (xt[],yt[]) := 'current' vectors of (x/y) legend text
-	xt <- rep(x, n.leg) + xchar
-	yt <- y - (1:n.leg) * ychar
+	xt <- rep(left, n.leg) + xchar
+	yt <- top - (1:n.leg) * ychar
 	if (!missing(fill)) {	#- draw filled boxes -------------
 		xx <- cbind(xt, xt + xbox)
 		if (xlog) xx <- 10^xx


    Paul> (ii) i am told that the "!missing(col)" condition that meant a
    Paul> legend would not be drawn if col was not specified is a
    Paul> historical "feature" (from when col did not have a default
    Paul> value).  i have removed the condition.

thank you, Paul.

May I add something  much more general here
 	(and also pertinent to barplot(.)):

	    ==================================	   
My point:  || almost never use	missing(arg) ||
	   || rather use	is.null(arg) ||
	    ==================================	   

(I have the impression that this rule is actually even observed by
 increasingly more S "programmers").

This actually goes back to a discussion on S-news of Dec. 20-22, 1994,
 Rick Becker started to give "S Programming Style" hints,
 John Maindonald added to them, giving the is.null(.) hint,
 and Rich Heiberger and me ``concluded'']

Here an excerpt of these December 1994 mailings:
RMH:
	My conclusion is that an explicit NULL default value is safer than
	a missing default.
MM:

MM94> I completely agree ---
MM94> it has the further advantage (hidden in RMH's example)
MM94> that you can explicitly set the parameter to NULL
MM94> which allows for the following  nice code in a calling function :
MM94> 
MM94> 	myfunction <- function(.........) {
MM94>          .....
MM94> 	 mm <- sub.function(x,y,z,u,v,w,  def.par = if(abcdef) pi )
MM94>          .....
MM94> 	}
MM94> 
MM94> The  ``if(CC) A'' as an expression returns NULL if CC evaluates to FALSE
MM94> such that in the example, the  def.par  argument
MM94> is either set to  pi  or NULL.
MM94> WITHIN  sub.function(.),
MM94>   missing(def.par)   evaluates to FALSE in BOTH cases,
MM94> whereas
MM94>   is.null(def.par)
MM94> tells you if the default is taken or not....
MM94> 
MM94> such that when  sub.function(.)  uses  missing(def.par)
MM94> the above code fragment would have to look more ugly, repeating the whole
MM94> argument list of sub.function [think of a LOOOONG list x,y,z,u,v,w,...]
MM94> 
MM94> 	myfunction <- function(.........) {
MM94>          .....
MM94> 	 mm <- if(abcdef) sub.function(x,y,z,u,v,w,  def.par = pi )
MM94>                 else      sub.function(x,y,z,u,v,w)
MM94>          .....
MM94> 	}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 27 14:33:02 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Mar 1998 15:33:02 +0100
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
Message-ID: <199803271433.PAA09656@sophie.ethz.ch>

I'm doing some systematic investigations about which functions are
<primitive> in R (and which of these should be changed to .Internal(...))...

I just discovered :

> x <- 1:10
> comment(x)
NULL
> comment(x) <- "x is just a vector"
> x
 [1]  1  2  3  4  5  6  7  8  9 10
> attributes(x)
$comment
[1] "x is just a vector"

> comment(x)
[1] "x is just a vector"

----------
Who of you (besides Ross?)  did know this feature.

"comment" is an *INVISIBLE* (for printing) 
attribute you can give to anything, including  functions and data.frames.

Any volunteer for writing a Rdoc file "comment.Rd" (for `?comment' to
work)?

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Fri Mar 27 21:31:21 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 28 Mar 1998 09:31:21 +1200 (NZST)
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
Message-ID: <199803272131.JAA24513@stat1.stat.auckland.ac.nz>

> From r-devel-owner@stat.math.ethz.ch Sat Mar 28 02:30 NZS 1998
> Date: Fri, 27 Mar 1998 15:33:02 +0100
> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: R-devel@stat.math.ethz.ch
> Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
> Mime-Version: 1.0 (generated by tm-edit 7.95)
>
> I'm doing some systematic investigations about which functions are
> <primitive> in R (and which of these should be changed to .Internal(...))...
>
> I just discovered :
>
> > x <- 1:10
> > comment(x)
> NULL
> > comment(x) <- "x is just a vector"
> > x
>  [1]  1  2  3  4  5  6  7  8  9 10
> > attributes(x)
> $comment
> [1] "x is just a vector"
>
> > comment(x)
> [1] "x is just a vector"
>
> ----------
> Who of you (besides Ross?)  did know this feature.

You are making the assumption that I know about this :-).
I do have a very vague memory of trying something like this as
and experiment.  Is it worth keeping?

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Mar 27 23:16:37 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Mar 1998 00:16:37 +0100
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
In-Reply-To: Ross Ihaka's message of Sat, 28 Mar 1998 09:31:21 +1200 (NZST)
References: <199803272131.JAA24513@stat1.stat.auckland.ac.nz>
Message-ID: <x2vhszafmy.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:

> > Who of you (besides Ross?)  did know this feature.
> 
> You are making the assumption that I know about this :-).
> I do have a very vague memory of trying something like this as
> and experiment.  Is it worth keeping?
> 
> 	Ross

Definitely. Not very long ago someone asked whether there was an R
equivalent of SPSS's description field...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From warnes@biostat.washington.edu  Sat Mar 28 00:43:22 1998
From: warnes@biostat.washington.edu (Gregory R. Warnes)
Date: Fri, 27 Mar 1998 16:43:22 -0800 (PST)
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
In-Reply-To: <199803272131.JAA24513@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.SOL.3.95.980327164112.23081B-100000@gorn>


On Sat, 28 Mar 1998, Ross Ihaka wrote:

> > From: Martin Maechler <maechler@stat.math.ethz.ch>
> > To: R-devel@stat.math.ethz.ch
> > Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
>
[...]
> and experiment.  Is it worth keeping?

I think it's worth keeping!  

-Greg

-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes@biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Mar 30 22:12:30 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 30 Mar 1998 16:12:30 -0500
Subject: R-beta: Not loading C library
References: <351FD4CA.798F14@kiefte.v-wave.com>
Message-ID: <98Mar30.161712est.13442@mailgate.bank-banque-canada.ca>

>I try sourcing test.R from the 'class' package, I get this error:
>EError in .C("VR_knn1", as.integer(ntr), as.integer(nte), as.integer(p),
>: C/Fortran function not in load table

I haven't used this package but you should be using library("class") rather than
source to get class.so loaded. Also beware,
(R-devel: I HOPE THIS SIMPLE BUG IS FIXED IN NEW RELEASES OF R BECAUSE IT HAS
THE POTENTIAL TO CAUSE A LOT
OF UNNECESSARY PROBLEMS)
there was a message once on r-devel about a bug in library.dynam which may be
causing the problem. I've lost the message, but as I recall, if you save your
workspace when you q() (ie. create the .RData file) then when R starts it
reloads  a variable .Dyn.libs which indicates libraries which have been loaded
(even
though they are not yet loaded in the new session). I think if you
    rm(.Dyn.libs)
before you do
    library("class")
then it may work.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Mar 31 08:31:07 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 31 Mar 1998 09:31:07 +0200
Subject: R-beta: Not loading C library
In-Reply-To: <98Mar30.161712est.13442@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Mon, 30 Mar 1998 16:12:30 -0500)
Message-ID: <199803310731.JAA00493@sophie.ethz.ch>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    >> I try sourcing test.R from the 'class' package, I get this error:
    >> EError in .C("VR_knn1", as.integer(ntr), as.integer(nte),
    >> as.integer(p), : C/Fortran function not in load table

    PaulG> I haven't used this package but you should be using
    PaulG> library("class") rather than source to get class.so loaded. Also
    PaulG> beware, (R-devel: I HOPE THIS SIMPLE BUG IS FIXED IN NEW
    PaulG> RELEASES OF R BECAUSE IT HAS THE POTENTIAL TO CAUSE A LOT OF
    PaulG> UNNECESSARY PROBLEMS)

You mean, "source(..)" instead of  "library(..)" ?

 ``No way!''

1) Packages (formerly know as "libraries") are attached to a different
   place on the search() list,  whereas  source(.) would mix the package
   objects with your own objects.
   Nobody should encourage this.

2) Packages may load compiled code (see below) which is done using
   library.dynam (in 0.61.x) or rather
   library.dynam WITHIN a .First.lib function (from 0.62.0 on).

    PaulG> there was a message once on r-devel about
    PaulG> a bug in library.dynam which may be causing the problem. I've
    PaulG> lost the message, but as I recall, if you save your workspace
    PaulG> when you q() (ie. create the .RData file) then when R starts it
    PaulG> reloads a variable .Dyn.libs which indicates libraries which
    PaulG> have been loaded (even though they are not yet loaded in the new
    PaulG> session). I think if you rm(.Dyn.libs) before you do
    PaulG> library("class") then it may work.

You are correct, Paul.
However, this bug was fixed ``from 0.61.1 to 0.61.2''.
As was said by our release master, Peter Dalgaard, 
0.61.2 has been a bug fix release where we have been careful not to
introduce any new bugs (and for that reason did not include 
several nice new features of the development version).

Martin.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Mar 31 21:46:53 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 31 Mar 1998 15:46:53 -0500
Subject: R-beta: Not loading C library
References: <199803310731.JAA00493@sophie.ethz.ch>
Message-ID: <98Mar31.155223est.13459@mailgate.bank-banque-canada.ca>

    PaulG> when you q() (ie. create the .RData file) then when R starts it
    PaulG> reloads a variable .Dyn.libs which indicates libraries which
    PaulG> have been loaded (even though they are not yet loaded in the new
    PaulG> session). I think if you rm(.Dyn.libs) before you do
    PaulG> library("class") then it may work.
>However, this bug was fixed ``from 0.61.1 to 0.61.2''.
>As was said by our release master, Peter Dalgaard,
>0.61.2 has been a bug fix release where we have been careful not to

Martin
I just confirmed that Michael Kiefte seems to be  experiencing this problem in
0.61.2 Alpha, so I'm not so sure it has been fixed. But, of course, I'm more
concerned that it is fixed in 0.62.
Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Mar 31 23:24:28 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Apr 1998 00:24:28 +0200
Subject: R-beta: Not loading C library
In-Reply-To: Paul Gilbert's message of Tue, 31 Mar 1998 15:46:53 -0500
References: <199803310731.JAA00493@sophie.ethz.ch>
 <98Mar31.155223est.13459@mailgate.bank-banque-canada.ca>
Message-ID: <x2afa6a483.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> 
>     PaulG> when you q() (ie. create the .RData file) then when R starts it
>     PaulG> reloads a variable .Dyn.libs which indicates libraries which
>     PaulG> have been loaded (even though they are not yet loaded in the new
>     PaulG> session). I think if you rm(.Dyn.libs) before you do
>     PaulG> library("class") then it may work.
> >However, this bug was fixed ``from 0.61.1 to 0.61.2''.
> >As was said by our release master, Peter Dalgaard,
> >0.61.2 has been a bug fix release where we have been careful not to
> 
> Martin
> I just confirmed that Michael Kiefte seems to be  experiencing this problem in
> 0.61.2 Alpha, so I'm not so sure it has been fixed. But, of course, I'm more
> concerned that it is fixed in 0.62.
> Paul

Argh. Right. The .Dyn.libs problem is still in 0.61.2. Like Martin, I
could have *sworn* that it was fixed...

A workaround is simply to remove .Dyn.libs in the startup code. It
should suffice to change the system Rprofile by having something like
this in it:

.First <- function() {
  .Dyn.libs<<-NULL; rm(.Dyn.libs,pos=1)
  if (interactive() && getenv("DISPLAY") != "") x11()
}

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Mar  2 21:00:22 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Mon, 2 Mar 1998 15:00:22 -0600 (CST)
Subject: lme-2.8-1.tar.gz uploaded to src/contrib/devel
Message-ID: <m0y9cJy-0000XAC@verdi.stat.wisc.edu>

I have uploaded another snapshot of the R and C code for the lme
(linear mixed-effects models) library to the src/contrib/devel section of
the CRAN archives.  It will take a couple of days to get installed and 
exported to the mirrors.

I realized after I uploaded that I missed one symbolic link of
./lme/src-c should be linked as ./lme/src too.  Please run
 ln -s lme/src-c lme/src
before trying to install the library.

There is a file EXAMPLES included with this release.  It is a misnomer
- it only shows one example but at least you can see that one example
works - sort of.  I'm still having trouble with R/S-PLUS
inconsistencies in the model.matrix and data.frame functions.

This release really is for the devel section - brave beta-testers
only.

The good news is that the S-PLUS version does essentially everything
that SAS PROC MIXED does.  And, of course, it does it better :-)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Mar  3 09:36:49 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 3 Mar 1998 10:36:49 +0100
Subject: ":" (seq) bug -- should not always coerce to integer!
Message-ID: <199803030936.KAA02061@sophie.ethz.ch>


The problem seems that ":"  always coerces to integer, but should not..

9.9:12

## R:           [1]  9 10 11
## S-plus 3.4:  [1]  9.9 10.9 11.9

## and many more examples....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Mar  3 14:28:24 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 3 Mar 1998 15:28:24 +0100
Subject: ":" (seq) bug --> patch
In-Reply-To: <199803030936.KAA02061@sophie.ethz.ch> (message from Martin
 Maechler on Tue, 3 Mar 1998 10:36:49 +0100)
Message-ID: <199803031428.PAA02461@sophie.ethz.ch>

I corrected the bug myself.
Here is a patch

--- seq.c.~1~	Fri Jan 16 16:07:00 1998
+++ seq.c	Tue Mar  3 15:25:27 1998
@@ -1,6 +1,6 @@
 /*
- *  R : A Computer Langage for Statistical Data Analysis
- *  Copyright (C) 1995, 1996  Robert Gentleman and Ross Ihaka
+ *  R : A Computer Language for Statistical Data Analysis
+ *  Copyright (C) 1995-1998  Robert Gentleman and Ross Ihaka
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -17,12 +17,18 @@
  *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
  */
 
+/*  The `` x:y ''  primitive calls do_seq(.);
+ *
+ *  do_seq(.) calls  cross(.) if both arguments are factors
+ *	      and    seq(.)   otherwise.
+ */
+
 #include "Defn.h"
 #include "Mathlib.h"
 
 static SEXP seq(SEXP call, SEXP s1, SEXP s2)
 {
-	int i, n;
+	int i, n, in1;
 	double n1, n2;
 	SEXP ans;
 
@@ -37,28 +43,31 @@
 	if (ISNAN(n1) || ISNAN(n2))
 		errorcall(call, "NA/NaN argument\n");
 
-	if (n1 <= INT_MIN || n2 <= INT_MIN || n1 > INT_MAX || n2 > INT_MAX)
+	if (n1 <= INT_MIN || n2 <= INT_MIN || n1 > INT_MAX || n2 > INT_MAX
+	    || abs(n2 - n1) >= INT_MAX)
 		errorcall(call, "argument too large in magnitude\n");
 
-	if (n1 <= n2) {
-		n = n2 - n1 + 1 + FLT_EPSILON;
-		ans = allocVector(INTSXP, n);
-		for (i = 0; i < n; i++)
-			INTEGER(ans)[i] = n1 + i;
-	}
-	else {
-		n = n1 - n2 + 1 + FLT_EPSILON;
+	n = abs(n2 - n1) + 1 + FLT_EPSILON;
+	if (n1 == (in1 = (int)(n1))) {
 		ans = allocVector(INTSXP, n);
-		for (i = 0; i < n; i++)
-			INTEGER(ans)[i] = n1 - i;
+		if (n1 <= n2)
+			for (i = 0; i < n; i++) INTEGER(ans)[i] = in1 + i;
+		else
+			for (i = 0; i < n; i++) INTEGER(ans)[i] = in1 - i;
+	} else {
+		ans = allocVector(REALSXP, n);
+		if (n1 <= n2)
+			for (i = 0; i < n; i++) REAL(ans)[i] = n1 + i;
+		else
+			for (i = 0; i < n; i++) REAL(ans)[i] = n1 - i;
 	}
 	return ans;
 }
 
 	/*  cross  -  the "cross" of two factors  */
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar  4 15:05:06 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 4 Mar 1998 16:05:06 +0100
Subject: pretty(.) bug -- fix --> "compatibility" ?
Message-ID: <199803041505.QAA00847@sophie.ethz.ch>


In current versions of R,  

	pretty(333)

gives an infinite loop  
	(due to a silent integer overflow in  src/appl/pretty.c).

I've looked at this problem and also at what S-plus does,
(no code there to inspect, just experiments), and
then I have fixed  pretty.c.

I think that it now behaves much more reasonably 
	(both than before and than S / S-plus).

The only problem:
pretty(.) is not giving the same results any more in quite a few cases,
*and* is used in graphical functions such as
	hist(.)
and	contour(.)

----
Could this be a problem? [non-upward compatibility]
Currently, I plan to have the fixed  pretty(.) even in the upcoming
0.61.2 release which is termed
	"bug fix only"
The new pretty would however (very rarely) change the output of, e.g., hist(.).


Further, S-plus's pretty behaves wierdly in some cases  
which we don't want to emulate anyway.
In other cases pretty(1001.1001), however, it returns 1000 1500 
which is quite different from my improved R version which gives 1000 1002.

Is it okay for you if we do NOT strive for S-plus compatibility here?
Strict S-plus compatibility is not possible, since we don't have S-plus
code; but it is also not desirable in the cases where S's pretty() is
funny. 
However, with more experiments and thought, it ought to be possible
to come quite close to S's behavior.
But I don't want to spend that extra time if there are no stringent
reasons..

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Mar  4 15:36:26 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Mar 1998 16:36:26 +0100
Subject: pretty(.) bug -- fix --> "compatibility" ?
In-Reply-To: Martin Maechler's message of Wed, 4 Mar 1998 16:05:06 +0100
References: <199803041505.QAA00847@sophie.ethz.ch>
Message-ID: <x2u39eeadh.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> Is it okay for you if we do NOT strive for S-plus compatibility here?
> Strict S-plus compatibility is not possible, since we don't have S-plus
> code; but it is also not desirable in the cases where S's pretty() is
> funny. 
> However, with more experiments and thought, it ought to be possible
> to come quite close to S's behavior.
> But I don't want to spend that extra time if there are no stringent
> reasons..

We have a lot of these little differences. No reason to waste time on
them, unless we get actual complaints, I'd say.

(Here's a couple of additions to the list of differences:
 
   aovtable <- anova(KW.lm)$table
    Statistic <- aovtable["group","Sum Sq"]

    s <- summary(KW.lm)
    Statistic <- s$coefficients["group","t Value"] *
      s$sigma 

[anova returns a table, rather than a list containing a table, in S and
uses "Sum of Sq" and "t value"])

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Mar  5 21:03:39 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Thu, 5 Mar 1998 15:03:39 -0600 (CST)
Subject: User time and system time
Message-ID: <m0yAhnn-0000X5C@verdi.stat.wisc.edu>

I am running the R-0.62.0 snapshot on a Linux system.  This system has
128 Mb of real memory and almost never swaps.  I am trying to use
lme() on a very large example (7200 observations, 10 columns in the
fixed effects, 2 columns in the random effects).  We have the
optimization nicely tuned so that goes relatively quickly.  It seems,
though, that all the data manipulation steps before the optimization
are taking a rather long time.  I haven't compared on the same machine
but R is much slower - like an order of magnitude - than S-PLUS on
this problem.

It looks curious to me when I run system.time() on this that timing
vector shows almost no user time but a huge amount of system time.
 R> system.time(assign("fm2",
 +    lme(MathAch ~ MEANSES*CSES + Sector + CSES:Sector, ttt, ~ CSES | School,
 +        RML = TRUE )))
 iteration = 0
 Step:
 [1] 0 0 0
 Parameter:
 [1] 2.61400 0.16608 3.88195
 Function Value
 [1] 44964
 Gradient:
 [1] -0.014379 -0.143176 -0.646558

 iteration = 1
 Step:
 [1] 0.002888 0.028756 0.129857
 Parameter:
 [1] 2.61688 0.19483 4.01181
 Function Value
 [1] 44964
 Gradient:
 [1] -0.069529  0.539316  0.094097
 ... 
 iteration = 6
 Parameter:
 [1] 2.61636 0.17797 3.98709
 Function Value
 [1] 44964
 Gradient:
 [1] 8.3428e-06 1.3824e-04 3.1205e-04

 Relative gradient close to zero.
 Current iterate is probably solution.

 [1]   1.09 288.05 289.00   0.00   0.00

I can't really believe that it took only 1 second of user time and 288 
seconds of system time.  It didn't even do garbage collection in R (I
had gcinfo(T) set) and it wasn't swapping.

A call to proc.time() directly shows most of the time used is system
time.
 R> proc.time()
 [1]    16.30   577.01 13679.00     0.02     0.23

I looked at the code in src/unix/system.c and the structure seems
consistent.  Has anyone else tested system.time() extensively on a
Linux system?  Anyone have any ideas what might be going on?

Just for reference, this is a Debian GNU/Linux "hamm" system using
libc6.  I am running R with the options shown below. 
USER       PID %CPU %MEM  SIZE   RSS TTY STAT START   TIME COMMAND
bates    31073  3.8 41.1 54340 52620  p0 S    10:47   9:53 /usr/src/packages/r-base/r-base-0.62.0/bin/R.binary -v 40 -n 500000 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Mar  5 21:24:56 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Mar 1998 22:24:56 +0100
Subject: User time and system time
In-Reply-To: Douglas Bates's message of Thu, 5 Mar 1998 15:03:39 -0600 (CST)
References: <m0yAhnn-0000X5C@verdi.stat.wisc.edu>
Message-ID: <x2zpj4ltjr.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates@stat.wisc.edu> writes:

>  [1]   1.09 288.05 289.00   0.00   0.00
> 
> I can't really believe that it took only 1 second of user time and 288 
> seconds of system time.  It didn't even do garbage collection in R (I
> had gcinfo(T) set) and it wasn't swapping.

Does sound a bit extreme...

Could you be experiencing either libc code implemented as syscalls or
an effect of Linux's (mis?)feature of overcommitted memory (i.e. you
do a malloc, but all you really get is a bunch of virtual pages that
has to get cleaned when you access them the first time.

(Just talking through the top of my head, in case you didn't notice
that...) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Mar  5 23:16:18 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Thu, 5 Mar 1998 17:16:18 -0600 (CST)
Subject: system.time() results
Message-ID: <m0yAjsA-0000X5C@verdi.stat.wisc.edu>

Although I still think the results we saw for the system.time() on the
very large lme run are peculiar, we probably will be able to
circumvent the problem.  Jose' put in several calls to proc.time() in
the S-PLUS version and isolated the problem.  We have this very
elegant code that calculates a complicated of dimensions.  That one
piece of auxillary code that piece of code takes up about 90% of the
execution time.  It does a lot of cbind, rbind, and apply operations
where apply is working across rows.  It's a nice way to think of
things but it takes forever on large matrices.  Once we get that piece
of code cleaned up we will go back to the question of what
system.time() does under Linux.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ben@eno.Princeton.EDU  Sat Mar  7 17:44:13 1998
From: ben@eno.Princeton.EDU (Ben Bolker)
Date: Sat, 7 Mar 1998 12:44:13 -0500 (EST)
Subject: fairly trivial bug in box(): 0.61.1
Message-ID: <Pine.SUN.3.95.980307124032.8559A-100000@paca>


  box() doesn't appear to do anything with the "col=" parameter (it does
use "lwd=" correctly).
  I may fix this if I get around to it, for now I'll probably hack
PostScript.
  (Thanks, everyone, for all the work on R: I look forward to the spiffy
graphics once the "new and interesting bugs" are somewhat tamed ...)

Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben@eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Mon Mar  9 12:38:21 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Mon, 09 Mar 1998 12:38:21 -0000 ()
Subject: bug in menu, readline
Message-ID: <XFMail.980309130058.plummer@iarc.fr>

Neither do_menu nor do_readln (in src/main/scan.c) call the function
InitConsoleGetchar. They need to do this to reset ConsolePrompt.  If you
use "scan" to read in data from the terminal, then ConsolePrompt is set
to "n:" for some integer n and this prompt makes an unwelcome appearance
when you use the "menu" or "readline" functions.

Incidentally, could we have a "title" argument and a dummy "graphics"
argument for menu? This if for S-PLUS compatibility, if I may dare to
raise the topic.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Mar  9 13:44:44 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon,  9 Mar 1998 14:44:44 +0100 (CET)
Subject: bug in menu, readline
In-Reply-To: <XFMail.980309130058.plummer@iarc.fr>
References: <XFMail.980309130058.plummer@iarc.fr>
Message-ID: <13571.62010.128169.313124@pc25.none>

>>>>> Martyn Plummer writes:

> Neither do_menu nor do_readln (in src/main/scan.c) call the function
> InitConsoleGetchar. They need to do this to reset ConsolePrompt.  If you
> use "scan" to read in data from the terminal, then ConsolePrompt is set
> to "n:" for some integer n and this prompt makes an unwelcome appearance
> when you use the "menu" or "readline" functions.

> Incidentally, could we have a "title" argument and a dummy "graphics"
> argument for menu? This if for S-PLUS compatibility, if I may dare to
> raise the topic.

Sure.  I've already done this in 0.62.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 11 11:08:16 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 11 Mar 1998 12:08:16 +0100
Subject: prob./distr./quant./ran.num:  S compatibility in argument names??
Message-ID: <199803111108.MAA01354@sophie.ethz.ch>

Several of  R's   p/d/q/r (probability/density/quantile/random.number)
functions have argument names different from the ones S(-plus) uses
[e.g., pf(.), rbinom(.)].

Does everyone agree that we want to become compatible here?

Any volunteer for changing this in R?
If you do,
please give us/me a not, and
please get a current snapshot of the R development version from
				<<CRAN>>/src/devel/R-snapshot.tar.gz
e.g.	http://franz.stat.wisc.edu/pub/R/src/devel/R-snapshot.tar.gz

and edit	src/library/base/R/distn.R

and the MANY documentation files (where necessary)

     Beta.Rd
     Binomial.Rd
     Cauchy.Rd
     Chisquare.Rd
     Exponential.Rd
     F.Rd
     GammaDist.Rd
     Geometric.Rd
     Hypergeometric.Rd
     Logistic.Rd
     Lognormal.Rd
     NChisquare.Rd
     NegBinomial.Rd
     Normal.Rd
     Poisson.Rd
     T.Rd
     Uniform.Rd
     Weibull.Rd

in src/library/base/man/*.Rd

-------
Thanks in advance!
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 12 10:45:51 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 12 Mar 1998 11:45:51 +0100
Subject: p./d./q./r: S compatibility  and  time-series software for R?
In-Reply-To: <XFMail.980312095234.plummer@iarc.fr> (message from Martyn
 Plummer on Thu, 12 Mar 1998 09:49:31 -0000 ())
Message-ID: <199803121045.LAA12425@sophie.ethz.ch>

>>>>> "Martyn" == Martyn Plummer <plummer@iarc.fr> writes:

    Martyn> I will do this if you haven't been overrun with volunteers
    Martyn> already ;) 
No, you are the first to answer.
Thank you very much in advance!

---------------------

    Martyn> Some time ago you asked about a basic time series
    Martyn> library for R.  Did anything come of that?

Well, yes and no (more "no"):

1. Paul Gilbert has made his DSE (Dynamic Systems Estimation) library
   available for testing on  <<CRAN>>/src/contrib/devel/
   Unfortunately, I haven't yet had time to really look at it.

2. Ross Ihaka:
   Used to have a master's student looking at time series software.
   During the power failure break in Auckland (about 2 weeks ago),
   Ross said he was going home (because there was no electricity at his
   office) and would do some work on time-series stuff.

   He used to have time-series things (for R) in his private 
   directories,  and some of us have been begging him, to also
   ``release'' this could into <<CRAN>>/src/contrib/devel/ .
   Unfortunately, this has not yet happened.

3. Kurt Hornik has ported David James'  "chron" library
   (for chronological objects)
   and als put into <<CRAN>>/src/contrib/devel/  (why "devel"?).
   [Currently, the URL given in the above README doesn't work anymore..?]

4. Several other people seem to use some time-series R functions of their
   own.  There's no coordination and no common format / class, etc.

---
I think the important point here is to adopt a general common framework for
doing time-series in R.
The "tframe" (?) class in 'DSE' may be the most general and the way to go.
On the other hand, it looks somewhat complicated and delicate to work with.

Anyway, I think it would be a pain if we had several non-compatible classes
for time-series objects..
Also, S-plus compatibility (for some functions, not for all) may be an
issue.

Do we have a volunteer here?
-------
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Mar 12 15:24:27 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Mar 1998 10:24:27 -0500
Subject: S compatibility  and  time-series software for R, and more
References: <199803121045.LAA12425@sophie.ethz.ch>
Message-ID: <98Mar12.104103est.13449@mailgate.bank-banque-canada.ca>

As far as I know my time series package (dse) is working fairly well in R. There
are a few rough spots in the install and I haven't documented these very well,
so I haven't moved it out of devel, but it does seem to be working ok. There are
two things I use in Splus which I have only partly worked around in R.

1/ ar - I have a test version of this but it does not reproduce Splus results

2/ acf - I have type="correlation" working, but not type="partial"

I won't get to these for a long time, so if anyone is interested in working on
them I would be happy to provide what I have.

As far as other time series and related things are concerned:
-my package does not have much in the way of frequency domain, though I have
played with it a little bit and there are a few undocumented things that
possibly don't even work properly. If anyone is interested in working on this
then please contact me and I will provide what I have.
-I would really like to have the ability to use the same random number generator
in S and R, as lots of my work involves simulations and I like to be able to run
a common set of tests to make sure things aren't messing up. Martin has provided
me with code but I haven't had time to look at it. There do seem to be some
issues related to how one should specify what generator to use (e.g. an
environment variable is probably the easiest, but then reproducibility depends
on saving environment settings).

And beyond Splus compatibility:
-I have a set of programs for doing multivariate optimization (nonlinear simplex
and DFP) which I (would like to) use for mle. My use is for time series models,
but I  have it organized as an independent package. This is code which I wrote a
fair time ago, but put aside until the memory problems in S were fixed. I am
fairly sure this will work reasonably in R, but there are still a few bugs in
the code. If anyone is interested in working on this I can provide more details
and some assistance.
-I am starting to work on putting neural net time series models into my package.
I am playing with two possibilities: an interface to the SNNS package, and doing
it all in R. (This does actually seems to be possible in R, whereas in S it is a
disaster.) This is a new area for me, so things will be going slowly. If anyone
is interested in collaborating please let me know.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 12 17:17:14 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 12 Mar 1998 18:17:14 +0100
Subject: "`R notes' should be better"
In-Reply-To: <Pine.OSF.3.95.980312092714.1585B-100000@io.uwinnipeg.ca>
 (message from Bill Simpson on Thu, 12 Mar 1998 09:36:15 -0600 (CST))
Message-ID: <199803121717.SAA13033@sophie.ethz.ch>

	[CC'ed  to R-devel, not R-help]

>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

    Bill> Thanks very much Douglas for the pointer to nlm.  Maybe the
    Bill> "Notes on R" maintainer can add at least a mention of nlm in the
	   ======================
    Bill> section on nonlinear fitting?

    Bill>    .....

    Bill> (This example could replace the current nonlinear fitting section
    Bill> in "Notes on R")


You are talking of  <CRAN>/doc/Rnotes.ps, or Rnotes.tgz respectively,
yes?
The first page states both R & R as authors (beside Venables & D.Smith).
However, I doubt if they consider themselves as 'maintainers' 
of these notes (due to lack of time), or do you?

	Ross?  Robert?

The problem is that these notes need more work than just ('nls' <-> 'nlm').

Maybe I should ask again for volunteers, or maybe even a discussion 
on what could / should be done.

The notes have several sections (organized in different *.tex files) in
Rnotes.tgz.
Could(/should) we have different authors (ie. volunteers from among you)
for these sections?

About a year ago or so, Kurt Hornik proposed that these notes should become
chapter 1 -- n of ``the book'' where
the current things in  RHOME/doc/manual/Man.tex are just the appendices
(they already *are* appendices, currently).
R & R instead,  originally thought (and have also started ??) of completely
rewriting from scratch these chapters (1 -- n).

Which should be done (and by whom) ?

In the case of "R notes upgrading, 
it'd make sense if someone first works thru the current notes 
and makes them (somewhat) ``compatible'' with the  Rd.sty that we
currently use for the help-manual (i.e. the  doc/manual/... things).

------

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Thu Mar 12 17:46:45 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Thu, 12 Mar 1998 11:46:45 -0600 (CST)
Subject: "`R notes' should be better"
In-Reply-To: <199803121717.SAA13033@sophie.ethz.ch>
Message-ID: <Pine.OSF.3.95.980312114023.3505A-100000@io.uwinnipeg.ca>

Hi Martin et al.,

Well I started this BUT I didn't say "'R Notes' should be better"!!
I think the Notes are great!

> Maybe I should ask again for volunteers, or maybe even a discussion 
> on what could / should be done.
I would be happy to make the changes to this nonlinear fitting section,
once I know how to do nonlinear fitting with nlm.  However I use LyX
(which doesn't read *.tex files), and I would characterize myself as a
novice with R, with unix, with LaTeX, etc.

> In the case of "R notes upgrading, 
> it'd make sense if someone first works thru the current notes 
> and makes them (somewhat) ``compatible'' with the  Rd.sty that we
> currently use for the help-manual (i.e. the  doc/manual/... things).
I wouldn't be able to do this, due to ignorance.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Mar 12 21:05:18 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Mar 1998 16:05:18 -0500
Subject: R-beta: ctest_0_9-3_tar.tar
References: <199803121945.OAA14494@desire.stat.cmu.edu>
Message-ID: <98Mar12.162200est.13443@mailgate.bank-banque-canada.ca>

> > I'm having trouble un 'tar'ing the file ctest_0_9-3_tar.tar.
> >
> > When using the command "tar -xv" on a UNIX machine I get the
> > "checksum error" message. When trying to use WinZip on a Win95
> > machine it gives an error reading the header.

I've occassionaly had this sort of problem when I don't specify "binary" in ftp.
While this is not always necessary, some versions of ftp seem to be more
particular than others.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Mar 13 07:02:21 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 13 Mar 1998 08:02:21 +0100
Subject: p./d./q./r: S compatibility  and  time-series software for R?
In-Reply-To: <199803121045.LAA12425@sophie.ethz.ch>
References: <XFMail.980312095234.plummer@iarc.fr>
 <199803121045.LAA12425@sophie.ethz.ch>
Message-ID: <199803130702.IAA02821@aragorn.ci.tuwien.ac.at>

>>>>> Martin Maechler writes:

>>>>> "Martyn" == Martyn Plummer <plummer@iarc.fr> writes:
Martyn> I will do this if you haven't been overrun with volunteers
Martyn> already ;) 
> No, you are the first to answer.
> Thank you very much in advance!

> ---------------------

Martyn> Some time ago you asked about a basic time series
Martyn> library for R.  Did anything come of that?

> Well, yes and no (more "no"):

> 1. Paul Gilbert has made his DSE (Dynamic Systems Estimation) library
>    available for testing on  <<CRAN>>/src/contrib/devel/
>    Unfortunately, I haven't yet had time to really look at it.

> 2. Ross Ihaka:
>    Used to have a master's student looking at time series software.
>    During the power failure break in Auckland (about 2 weeks ago),
>    Ross said he was going home (because there was no electricity at his
>    office) and would do some work on time-series stuff.

>    He used to have time-series things (for R) in his private 
>    directories,  and some of us have been begging him, to also
>    ``release'' this could into <<CRAN>>/src/contrib/devel/ .
>    Unfortunately, this has not yet happened.

Yes, Ross, please :-)

> 3. Kurt Hornik has ported David James'  "chron" library
>    (for chronological objects)
>    and als put into <<CRAN>>/src/contrib/devel/  (why "devel"?).

Because it uses Inf and NaN, which are only available under 0.62.

>    [Currently, the URL given in the above README doesn't work anymore..?]

Yes, it's

http://netlib.bell-labs.com/cm/ms/departments/sia/project/misc/chron.html

now.  I'll make the change.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Mar 13 07:21:02 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 13 Mar 1998 08:21:02 +0100
Subject: "`R notes' should be better"
In-Reply-To: <199803121717.SAA13033@sophie.ethz.ch>
References: <Pine.OSF.3.95.980312092714.1585B-100000@io.uwinnipeg.ca>
 <199803121717.SAA13033@sophie.ethz.ch>
Message-ID: <199803130721.IAA05393@aragorn.ci.tuwien.ac.at>

>>>>> Martin Maechler writes:

> 	[CC'ed  to R-devel, not R-help]
>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

Bill> Thanks very much Douglas for the pointer to nlm.  Maybe the
Bill> "Notes on R" maintainer can add at least a mention of nlm in the
> 	   ======================
Bill> section on nonlinear fitting?

Bill> .....

Bill> (This example could replace the current nonlinear fitting section
Bill> in "Notes on R")


> You are talking of  <CRAN>/doc/Rnotes.ps, or Rnotes.tgz respectively,
> yes?

> The first page states both R & R as authors (beside Venables &
> D.Smith).  However, I doubt if they consider themselves as
> 'maintainers' of these notes (due to lack of time), or do you?

> 	Ross?  Robert?

> The problem is that these notes need more work than just ('nls' <->
> 'nlm').

> Maybe I should ask again for volunteers, or maybe even a discussion 
> on what could / should be done.

> The notes have several sections (organized in different *.tex files)
> in Rnotes.tgz.  Could(/should) we have different authors
> (ie. volunteers from among you) for these sections?

> About a year ago or so, Kurt Hornik proposed that these notes should
> become chapter 1 -- n of ``the book'' where the current things in
> RHOME/doc/manual/Man.tex are just the appendices (they already *are*
> appendices, currently).  R & R instead, originally thought (and have
> also started ??) of completely rewriting from scratch these chapters
> (1 -- n).

> Which should be done (and by whom) ?

> In the case of "R notes upgrading, it'd make sense if someone first
> works thru the current notes and makes them (somewhat) ``compatible''
> with the Rd.sty that we currently use for the help-manual (i.e. the
> doc/manual/... things).

We DEFINITELY need to do something about R notes very soon.  The 0.61
tree should be frozen by this weekend, 0.62 needs the bug fixes that we
know of, the re-implementation of factors (asap, please!) and docs for
the new graphics things (dev.xxx), but that's about it, I would say (we
can have the `real' make install things later).

Working on Rnotes should at least come right after that.

I am no longer sure about LaTeX and my suggestion from about a year ago,
though.  I would more be in favor of having a Texinfo version as I could
also use this on-line via info, but perhaps everyone else thinks that I
should use now-free Netscape for doing that (my experience is that the
conversion Texinfo -> HTML is trivial whereas I am never sure about
latex2html or hyperlatex).

In any case, I perhaps could try to go through Rnotes sometimes this
weekend to find out what most urgently needs fixing.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 13 08:41:30 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 13 Mar 1998 09:41:30 +0100
Subject: "`R notes' should be better"
In-Reply-To: <199803130721.IAA05393@aragorn.ci.tuwien.ac.at> (message from
 Kurt Hornik on Fri, 13 Mar 1998 08:21:02 +0100)
Message-ID: <199803130841.JAA14578@sophie.ethz.ch>

>>>>> "KH" == Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:

>>>>> Martin Maechler writes:
    >> [CC'ed to R-devel, not R-help]
>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

    Bill> Thanks very much Douglas for the pointer to nlm.  Maybe the
    Bill> "Notes on R" maintainer can add at least a mention of nlm in the
    >> ======================
    Bill> section on nonlinear fitting?

    Bill> .....

    Bill> (This example could replace the current nonlinear fitting section
    Bill> in "Notes on R")


    >> You are talking of <CRAN>/doc/Rnotes.ps, or Rnotes.tgz respectively,
    >> yes?

    >> The first page states both R & R as authors (beside Venables &
    >> D.Smith).  However, I doubt if they consider themselves as
    >> 'maintainers' of these notes (due to lack of time), or do you?

    >> Ross?  Robert?

    >> The problem is that these notes need more work than just ('nls' <->
    >> 'nlm').

    >> Maybe I should ask again for volunteers, or maybe even a discussion
    >> on what could / should be done.

    >> The notes have several sections (organized in different *.tex files)
    >> in Rnotes.tgz.  Could(/should) we have different authors
    >> (ie. volunteers from among you) for these sections?

    >> About a year ago or so, Kurt Hornik proposed that these notes should
    >> become chapter 1 -- n of ``the book'' where the current things in
    >> RHOME/doc/manual/Man.tex are just the appendices (they already *are*
    >> appendices, currently).  R & R instead, originally thought (and have
    >> also started ??) of completely rewriting from scratch these chapters
    >> (1 -- n).

    >> Which should be done (and by whom) ?

    >> In the case of "R notes upgrading, it'd make sense if someone first
    >> works thru the current notes and makes them (somewhat)
    >> ``compatible'' with the Rd.sty that we currently use for the
    >> help-manual (i.e. the doc/manual/... things).

    KH> We DEFINITELY need to do something about R notes very soon.  The
    KH> 0.61 tree should be frozen by this weekend, 0.62 needs the bug
    KH> fixes that we know of, the re-implementation of factors (asap,
    KH> please!) and docs for the new graphics things (dev.xxx), but that's
    KH> about it, I would say (we can have the `real' make install things
    KH> later).
there are a few more graphic things..  [  par(par()) should work.. ]

    KH> Working on Rnotes should at least come right after that.
ok

    KH> I am no longer sure about LaTeX and my suggestion from about a year
    KH> ago, though.  I would more be in favor of having a Texinfo version

Really?  I have to admit (my first reaction) that I wouldn't want to drop
all the LaTeX niceties [starting with "math", "real" tables (tabular), ...]

    KH> as I could also use this on-line via info, but perhaps everyone
    KH> else thinks that I should use now-free Netscape for doing that (my
    KH> experience is that the conversion Texinfo -> HTML is trivial
    KH> whereas I am never sure about latex2html or hyperlatex).
For me, latex2html has been quite satisfactory, as long as I am willing to
spend some time hand editing the result
(after the hand e

My feeling is that  latex2html  is really being improved and extended,
(being very configurable) constantly which is not/[much less] true for texinfo.
Also, AUC-tex (with font-latex) as the emacs interface to latex is such a
beauty compared to texinfo mode...

And then there's  PDFtex which produces foo.pdf instead of foo.dvi
where everything (ref/label, cite, index, tableofcontents, ...)
is linked with everything [but pdftex is alpha/beta,...].

Maybe, the main point should be:
	>>>>>> How are these notes used? <<<<
  If ``most of the time: on paper'',	  I think I'd prefer latex to texinfo
  If ``substantially: via Web browser'',  maybe texinfo is better.


    KH> In any case, I perhaps could try to go through Rnotes sometimes
    KH> this weekend to find out what most urgently needs fixing.
ok, thank you in advance.

Ross / Robert:	PLEASE we need some statement from you about this!
--------
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Andreas.Weingessel@ci.tuwien.ac.at  Fri Mar 13 11:22:40 1998
From: Andreas.Weingessel@ci.tuwien.ac.at (Andreas Weingessel)
Date: Fri, 13 Mar 1998 12:22:40 +0100
Subject: heat.colors
Message-ID: <199803131122.MAA09519@elendil.ci.tuwien.ac.at>


Currently, heat.colors gives the following code:

R> heat.colors(4)
[1] "#FF0000" "#FF7F00" "#FFFF00" "#FFFF7F"
R> heat.colors(5)
[1] "#FF0000" "#FF5400" "#FFA900" "#FFFF00" "#FFFF7F"
R> heat.colors(6)
[1] "#FF0000" "#FF3F00" "#FF7F00" "#FFBF00" "#FFFF00" "#FFFF7F"
R> heat.colors(7)
[1] "#FF0000" "#FF3300" "#FF6600" "#FF9900" "#FFCC00" "#FFFF00" "#FFFF7F"

That means, the distance between the last color and the last color but
one stays the same (7F), whereas the distances between other adjacent
colors drops with the number of coloros from 7F to 33.

The code for heat.colors(n) looks like
                j <- n%/%4
                i <- n - j
                c(rainbow(i, start = 0, end = 1/6), if (j > 0) hsv(h = 1/6, 
                        s = seq(from = 1 - 1/(2 * j), to = 1/(2 * 
                                j), length = j), v = 1))


If for example, n=16, j=4, i=12. That is, for the first 12 colors the
interval "#FF0000" to "#FFFF00" is divided into 12 pieces, for the
last 4 colors an interval of the same length "#FFFF00" to "#FFFFFF" is
only divided into 4 pieces.

Does this really provide n ``contiguous'' colors or are the first 12
colors closer together than the last 4?

	Andreas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Mar 13 17:22:47 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Fri, 13 Mar 1998 09:22:47 -0800 (PST)
Subject: "`R notes' should be better"
In-Reply-To: <199803130841.JAA14578@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980313091145.16696D-100000@chekov>

On Fri, 13 Mar 1998, Martin Maechler wrote:
> 
> Maybe, the main point should be:
> 	>>>>>> How are these notes used? <<<<
>   If ``most of the time: on paper'',	  I think I'd prefer latex to texinfo
>   If ``substantially: via Web browser'',  maybe texinfo is better.
> 

I think the notes should be intended primarily for paper.  There are
things hypertext is good for, but reading large chunks of mathematical
text isn't one of them (even on a 20 inch monitor). HTML/info would be
useful for cut-and-paste and for when the printed copy is lost, stolen or
strayed, but I'd much rather read from paper. 

I would be prepared to do some of the revision in June/July, in particular
the model formula/frame/matrix stuff and glms, if it doesn't get done by
someone else first. 

How will we handle notes on packages? Terry Therneau has really good
documentation for survival4, which we may be able to include somehow.


Thomas Lumley
-----------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Mar 15 15:05:05 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 15 Mar 1998 16:05:05 +0100 (CET)
Subject: "`R notes' should be better"
In-Reply-To: <Pine.SUN.3.95.980313091145.16696D-100000@chekov>
References: <199803130841.JAA14578@sophie.ethz.ch>
 <Pine.SUN.3.95.980313091145.16696D-100000@chekov>
Message-ID: <13579.60274.408545.483587@pc25.none>

>>>>> Thomas Lumley writes:

> On Fri, 13 Mar 1998, Martin Maechler wrote:
>> 
>> Maybe, the main point should be:
>> >>>>>> How are these notes used? <<<<
>> If ``most of the time: on paper'',	  I think I'd prefer latex to texinfo
>> If ``substantially: via Web browser'',  maybe texinfo is better.
>> 

> I think the notes should be intended primarily for paper.  There are
> things hypertext is good for, but reading large chunks of mathematical
> text isn't one of them (even on a 20 inch monitor). HTML/info would be
> useful for cut-and-paste and for when the printed copy is lost, stolen
> or strayed, but I'd much rather read from paper.

Actually, I am very much undecided on this.  Of course, we do have all
the help pages for on-line reading, but the question is whether they
contain everything one needs.  If someone wants to know what to do with
lists, for example, looking up the help page for list() and then perhaps
going through subscripting etc will be a little complicated.

Or, suppose someone eventually sat down and carefully explained what
expressions, names, ... are.  

To put it differently, the on-line thing I am looking for would NOT have
a lot of math in it.

As an aside, there is the additional issue that if someone writes R code
and quickly wants to look up the exact syntax of a function, it may be
great if one could do that without firing up R.

And yes, cut&paste would be great in a structured introduction.  But
this could also be in HTML obtained via latex2html/hyperlatex, so no
need for using Texinfo just for this purpose.

> I would be prepared to do some of the revision in June/July, in
> particular the model formula/frame/matrix stuff and glms, if it
> doesn't get done by someone else first.

Sounds great.

> How will we handle notes on packages? Terry Therneau has really good
> documentation for survival4, which we may be able to include somehow.

We could have a package `doc' subdirectory, and install its contents to
some place in the `doc' tree.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Mar 15 20:48:37 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Mar 1998 21:48:37 +0100
Subject: R-beta: R with gnuwin32
In-Reply-To: guido@sirio.stat.unipd.it's message of Sun, 15 Mar 1998 18:21:51 +0100 (GMT+0100)
References: <19980315172152.6154.qmail@sirio.stat.unipd.it>
Message-ID: <x290qbptne.fsf@blueberry.kubism.ku.dk>

	[I had to hand-approve this mail, since it contains "subscribe" 
	 in the first few lines.  Martin Maechler, list administrator]

1) This is very interesting stuff.

2) But it really belongs on R-devel, not R-help. R-help is for helping
users with installing and using R, not debating its future or
discussing technical issues. Could I ask you to subscribe and then we
move the discussion there? (Don't worry, R-devel is not a very high
volume list.)

guido@sirio.stat.unipd.it writes:

> I have been using R under Linux for more than a year and 
> I think that it is great.
> Last week, I downloaded the binary Ms Windows version. I wanted
> to test it for my students.  Our labs are under Bill Gates.
> I am not happy but I can do nothing.

Same thing here.


> R worked. But, I could not use the dyn.load command
...

> No dyn.load means no additional packages. Since I don't want
> to buy a commercial compiler to support free software, this
> morning I tried to recompile the 0.61.1 distribution with
> egcs.  Now, after more than 10000 grep's to understand
> the differences between the windows sources and the unix ones,
> I have a version of R-0.61.1 under Win95. It works.

I tried essentially the same stunt, but couldn't figure out how to get
the Windows console and graphics going, "Multiple Document Interface"
and all that. In particular, there's trouble with the gnuwin header
files versus the MS Platform SDK used in the sources. Does this mean
that you have a version running just like the "official" one? And
could it run under Win3 too? 

> It seems
> also a little faster than the october binary version 
> (perhaps since I compiled the fortran sources directly
> using g77).

I wouldn't be surprised, although Watcon does some register-passing
tricks, which one would think made it faster, (as well as incompatible
with other C compilers...!)

> But I have some questions:
> (a) The windows sources in R-0.61.1 are not the ones used
> to build the last windows distribution in CRAN. For example,
> the menus are different and also the src/library/base/R/system.win has no
> support for library. Where can I find the new sources?

In the R-snapshot at CRAN (src/devel), I think. The very latest
versions are on Roberts computer...	

> (b) I prepared a Makefile that build the system using the
> directory structure of R-0.61.1 under unix. But I don't known
> the differences between the the 0.61 version and the 0.50.xxx
> for which src/library/base/R/system.win. has been wrote.
> Where can I find a description of the differences?

Hmm. I don't know exactly what you mean here. I don't think that there
is a true writeup documenting any of this.

> (c) Is someone interested in this port? 

Definitely!

If yes, I can make it available.
> I tried to make rebuilding easy. Essentially, you untar a small archive 
> in src/ (essentially the makefiles and the pacthed windows sources). 
> Then
>   make RHOME=??? firstofall
>   make RHOME=??? HAVEG77=[YES,NO] 
>   make RHOME=??? HAVEG77=[YES,NO] packages
> should build and install the system with all the packages in src/library;
>   make RHOME=??? HAVEG77=[YES,NO] pkg-???
> will make the package ???. You need gnu-make+sed+rm+cp+ls.
> ( perhaps also a sh-like shell (I used bash)).
> I have not tried but this should work also with the Cygnus and
> the gcc-mingw32 port of gcc. Indeed, for this reason, I used the
> HAVEG77 flag.

How about the cross-compilers?

> I believe that is not appropriate to make a binary distribution available
> before (i) the base/R/system.win file has been fixed (or at least
> before I, or better, someone else understand, what is going);
> (ii) more testing.

Agreed, but binaries (of R *and* all the packages) will in a
not-so-long perspective be needed for practical people. 

> (d) I tried to recompile the regex library in the src/regex
> directory. But there is no regex.h file. So, I gave up.
>   (d1) Are the source there to let people without regex
>        to build the library? If yes, how?
>        Where can I find the regex.h file for that
>        version of the library which is not the gnu rl one?
>   (d2) Have someone tried to use some free regex library
>        under mingw32? 

Hmm. Does this line in src/regex/WHATSNEW ring a bell? (Not that I
know what I'm talking about, I just use grep...)

you have to build regex.h explicitly by "make h".  The two known bugs


> (e) The last point is a proposal for a medium term project.
> The modifications that I made were necessary to update the
> windows sources to the changes made in the system interface
> (R_ReadConsole, R_WriteConsole,....). Now, the gnuplot people
> has developed a layer between stdio and a windows console
> (a graphics not a ms-dos one). In this way, for example,
> just doing some #undef and some  #define, you can printf
> on the console. They also have a version of readline.
> If we borrow the layer we can hope to use the unix/system.c
> file without changes (or with few changes). And hence,
> it will be easier for the developers to bring the MsWindows
> version update with the main unix one.

This sounds interesting. An alternative that I have been playing with
is to use Tcl/Tk, with a longer term perspective of developing R/Tk
language bindings like in STk (Scheme/Tk). This could have the benefit
of automatic (hah!) *Mac* portability.

Note, BTW, that some substantial changes have been made in the
nonreleased 0.62 version (see aforementioned snapshot) to the parser
and I/O parts, specifically to cater for windowing systems.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Mon Mar 16 10:30:20 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Mon, 16 Mar 1998 11:30:20 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32
Message-ID: <19980316103021.6675.qmail@sirio.stat.unipd.it>


Peter Dalgaard BSA writes:
> .........
> 2) But it really belongs on R-devel, not R-help. R-help is for helping
> users with installing and using R, not debating its future or
> discussing technical issues. Could I ask you to do_subscribe and then we
> move the discussion there? (Don't worry, R-devel is not a very high
> volume list.)
> 
  Ok. I am here.
> 
> .......
> I tried essentially the same stunt, but couldn't figure out how to get
> the Windows console and graphics going, "Multiple Document Interface"
> and all that. In particular, there's trouble with the gnuwin header
> files versus the MS Platform SDK used in the sources. Does this mean
> that you have a version running just like the "official" one? And
> could it run under Win3 too? 
> 
  (a) The gnuwin header miss some definition used by R. I hand copied
  them (they are long but not too much) from the header of
  a old Borland compiler (16 bit; so I also crossed my finger).
  I do not know if hand copy is correct but I mean "a copy made
  by my finger not using the cut and paste". Since now
  the header are freely available but non redistribuible I 
  suppose that this is legal. 
  (b) So I have a version of R that "works".
      "works": - I could run all the demos but the dynload one (I didn't
                 tried;
	       - I played with it for an   hour preparing the
	         slides for my lesson of this afternoon (poisson regression
	         + graph)
	       - I make use of the functions in the eda library (dynloaded).
	         and I tried some silly homemade dll. 
  (c) Running as the "official" one? No. The basic problem are
      with the R sources that load data/library...
      The system.win file, the one that I used from R-0.61.1, has
      a not working "library" (also but perhaps I make some mistake a 
      broken "data")
      For example to run the demos I used a silly ad hoc data function
      of the type
      data<-function(a) source(paste(basedata,a),sep="")
      On the contrary, some of the command under unix are implemented
      by shell commands. So the src/library/base/system.unix can't be
      used.
      Hence this part must be fixed. This is why, yesterday, I asked
      for documentation of what must go in  src/library/base/system.
      Perhaps, it was an inappropriate request since I can
      look to the unix one. But, you know. After, some hours
      I had the system running but I could not do "data(iris)"
      and with "no iris data there is no statistics".
  (d) About Win30. I don't know. 
	       

> > It seems
> > also a little faster than the october binary version 
> > (perhaps since I compiled the fortran sources directly
> > using g77).
> 
> I wouldn't be surprised, although Watcon does some register-passing
> tricks, which one would think made it faster, (as well as incompatible
> with other C compilers...!)
I just compare the time of
  for (i in 1:1000) a<-solve(matrix(rnorm(100),10,10))
matrix and the gnuwin32 version was 20% faster. 
I suppose that this is not a  fair test since
is biased towards the comparison of the fortran code (and I used g77).


> > (c) Is someone interested in this port? 
> 
> Definitely!
> 
  If you want, I can make the patch available in a couple of days.
  I just want to recompile from the scratch so that you have not
  to bother about the fact that I have forgotten a file o something
  like this. But I have now time today and tomorrow (teaching,
  teaching,...)
> 
> How about the cross-compilers?
>
  I suppose that if you have gcc running somewhere and configured
  to support win32 as target you can cross-compile. 
  But, I have not tried.
  
> > I believe that is not appropriate to make a binary distribution available
> > before (i) the base/R/system.win file has been fixed (or at least
> > before I, or better, someone else understand, what is going);
> > (ii) more testing.
> 
> Agreed, but binaries (of R *and* all the packages) will in a
> not-so-long perspective be needed for practical people. 
> 
  Ok. But with a stable distribution.

> > (d) I tried to recompile the regex library in the src/regex
> 
> Hmm. Does this line in src/regex/WHATSNEW ring a bell? (Not that I
> know what I'm talking about, I just use grep...)
> 
> you have to build regex.h explicitly by "make h".  The two known bugs
> 
  Thanks. So regex.h must be built. The line before the one
  that you quoted say that regex.h is generated by mkh.
  What kind of monster mkh is?


guido masarotto
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Mar 16 11:41:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Mar 1998 12:41:25 +0100
Subject: R-beta: R with gnuwin32
In-Reply-To: guido@sirio.stat.unipd.it's message of Mon, 16 Mar 1998 11:30:20 +0100 (GMT+0100)
References: <19980316103021.6675.qmail@sirio.stat.unipd.it>
Message-ID: <x2d8fmvp5m.fsf@blueberry.kubism.ku.dk>

guido@sirio.stat.unipd.it writes:

> > > (d) I tried to recompile the regex library in the src/regex
> > 
> > Hmm. Does this line in src/regex/WHATSNEW ring a bell? (Not that I
> > know what I'm talking about, I just use grep...)
> > 
> > you have to build regex.h explicitly by "make h".  The two known bugs
> > 
>   Thanks. So regex.h must be built. The line before the one
>   that you quoted say that regex.h is generated by mkh.
>   What kind of monster mkh is?

Hmm. I still don't know what I'm talking about, but if you go to

http://ftpsearch.ntnu.no/

and look for regex, you'll find several ports to non-BSD systems
(mostly off of machines in Japan!), which contain regex.h's.

[Probably someone else on this group knows *exactly* what the regex
business is all about?]


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Mar 16 15:30:25 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 16 Mar 1998 09:30:25 -0600
Subject: R-beta: Re: dse+redhat 4.2 problem
In-Reply-To: Douglas Bates's message of 25 Feb 1998 12:24:36 -0600
References: <98Feb25.034218est.13443@mailgate.bank-banque-canada.ca> <98Feb25.120132est.13449@mailgate.bank-banque-canada.ca> <6rvhu3sftn.fsf@verdi.stat.wisc.edu>
Message-ID: <6rra42wt4e.fsf@verdi.stat.wisc.edu>

There was an old problem with the g77 compiler under RedHat Linux and
under the pre-release versions of Debian-2.0 Linux giving compiler
errors.  Paul Gilbert encountered it while compiling his dse library
for R.  Dirk E. also encountered it in compiling octave for Debian-2.0.

Over the weekend a new version of the binutils programs was made
available for the Debian-2.0 system (just in time for the code
freeze).  The problem seems to be solved on Debian-2.0 with these new
binutils.

 bash-2.01$ dpkg -s binutils
 Package: binutils
 Status: install ok installed
 Priority: standard
 Section: devel
 Installed-Size: 1895
 Maintainer: Galen Hazelwood <galenh@micron.net>
 Version: 2.8.1.0.23-1
 Provides: elf-binutils
 Depends: libc6
 Conflicts: gas, elf-binutils
 Description: The GNU assembler, linker and binary utilities.
  The programs in this package are used to assemble, link and manipulate
  binary and object files.  They may be used in conjunction with a compiler
  and various libraries to build programs for Linux.

These may be based on the egcs system rather than a stock gcc-2.8.
Galen has been creating a hybrid of gcc and egcs so the C++ compiler
from egcs can be used.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 18 07:47:36 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Mar 1998 08:47:36 +0100
Subject: ``nlm(.) with derivatives''
In-Reply-To: <m0yF5vn-0000XJC@verdi.stat.wisc.edu> (message from Douglas Bates
 on Tue, 17 Mar 1998 17:38:03 -0600 (CST))
Message-ID: <199803180747.IAA05505@sophie.ethz.ch>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> .......
    DougB> .......  { time comparisons in testing  lme(..) for R }
    DougB> .......

    DougB> This can be expected to run faster when a version of nlm that accepts
    DougB> gradients and Hessians is available.			---

Doug, do I understand properly that it won't be you 
who will work on this?

Do we have volunteers 
  [who also are knowledgable in numerical optimization,..]?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Wed Mar 18 09:35:59 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 18 Mar 1998 21:35:59 +1200 (NZST)
Subject: ``nlm(.) with derivatives''
Message-ID: <199803180935.VAA12482@stat1.stat.auckland.ac.nz>

> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: r-core@stat.math.ethz.ch, r-devel@stat.math.ethz.ch
> Subject: Re: ``nlm(.) with derivatives''
>
> >>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:
>
>     DougB> .......
>     DougB> .......  { time comparisons in testing  lme(..) for R }
>     DougB> .......
>
>     DougB> This can be expected to run faster when a version of nlm
>     DougB> that accepts gradients and Hessians is available.
>
> Doug, do I understand properly that it won't be you 
> who will work on this?
>
> Do we have volunteers 
>   [who also are knowledgable in numerical optimization,..]?


Using gradient and hessian information in the minimizer is a relatively
minor change.  BUT, do we want to continue with this particular bit of
code?  The code used is by Robert Schnabel and is based on the methods
in

	Dennis and Schnabel (1983).
	"Numerical Methods for Unconstrained Optimization
		and Nonlinear Equations".
	Prentice-Hall

I got it from CMLIB and I think it is pretty reputable code (much
better than the recent Applied Statistics one), but I don't know how
close it might be to the state-of-the-art.  Anyone know?

To make use of hessian information we would also need to upgrade the
"deriv" function so that the function it returns will also return the
hessian.  Again, this is not difficult, but does demand some
familiarity with R internals.

I would be quite keen to see this fixed, but I'm already a bit thinly
spread at present, so it probably won't be me that does it.
[ My major projects remain: contrasts, graphics and internal data
structures + the Mac :-)]

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Wed Mar 18 15:17:31 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 18 Mar 1998 09:17:31 -0600
Subject: ``nlm(.) with derivatives''
In-Reply-To: Martin Maechler's message of "Wed, 18 Mar 1998 08:47:36 +0100"
References: <199803180747.IAA05505@sophie.ethz.ch>
Message-ID: <6riupcf2pg.fsf@verdi.stat.wisc.edu>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> >>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:
> 
>     DougB> .......
>     DougB> .......  { time comparisons in testing  lme(..) for R }
>     DougB> .......
> 
>     DougB> This can be expected to run faster when a version of nlm that accepts
>     DougB> gradients and Hessians is available.			---
> 
> Doug, do I understand properly that it won't be you 
> who will work on this?

Like Ross I am spread a little thinly at the moment and I can't in
good conscience free up the time to work on this.  Sorry but you are
correct, I will not be working on this in the near future.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Wed Mar 18 15:48:24 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Wed, 18 Mar 1998 16:48:24 +0100 (MET)
Subject: POSIX regular expressions on Irix 5.3
Message-ID: <199803181548.QAA14037@wrin27.urz.uni-wuppertal.de>

Hello,

I installed R on an Irix 5.3 system. Obviously the Irix libraries
don't contain functions for POSIX regular expressions.

Is it possible use the regex, or better rx libraries from GNU, and how
can I do it? Or do I have to live without functions using POSIX
regular expressions (e.g. apropos, methods)?

I have no GCC and I won't install it ...

Thanks in advance,

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Wed Mar 18 16:05:28 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Wed, 18 Mar 1998 17:05:28 +0100 (MET)
Subject: Strange Results of summary()
Message-ID: <199803181605.RAA14113@wrin27.urz.uni-wuppertal.de>


--l4Siqd0eqV
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello,

I run the following job. Please, compare the results of summary and
table concerning berufl. From similar SPSS/PSPP runs, the result of
table is correct. 

Did I misunderstand anything or is there a bug? 

What does the difference come from?
What does '(other)' mean?
What about the strange order of the levels?

I attach the data file at the end.

Thanks in advance, HP.

> options(digits=10)
> MiniHag <- read.table("minihagR.dat",
+                       col.names=c(
+                         "befragnr",
+                         "geschl",
+                         "alter",
+                         "famstand",
+                         "schule",
+                         "beruf",
+                         "einkom",
+                         "w1",
+                         "w2",
+                         "w3",
+                         "w4",
+                         "w5",
+                         "w6",
+                         "w7"
+                         ),
+                       na.strings=c(NA,NA,"97","9","9","9","9999",
+                         "9","9","9","9","9","9","9")
+                       )
> 
> # Value Labels:
> 
> #MiniHag$geschll <- factor(MiniHag$geschl)
> #levels(MiniHag$geschll) <- c("maennlich", "weiblich")
> 
> MiniHag$geschll <- factor(MiniHag$geschl, labels=c("maennlich", "weiblich"))
> MiniHag$famstandl <- factor(MiniHag$famstand, levels=1:5,
+                             labels=c(
+                               "verheiratet, zusammenlebend",
+                               "verheiratet, getrennt lebend",
+                               "verwitwet",
+                               "geschieden",
+                               "ledig")
+                             )
> MiniHag$schulel <- factor(MiniHag$schule, levels=1:5,
+                           labels=c(
+                             "kein Abschluss",
+                             "Hauptschule",
+                             "Fachschulreife",
+                             "Fachhochschulreife",
+                             "Abitur")
+                           )
> MiniHag$berufl <- factor(MiniHag$beruf, levels=1:8,
+                          labels=c(
+                            "wissensch.-technisch",
+                            "Leiter Oeff. Dienst/Wirtschaft",
+                            "Bureaukraft",
+                            "Handel",
+                            "Dienstleistungsgewerbe/Soldat",
+                            "Gaertner/Jaeger",
+                            "Guetererzeugung",
+                            "sonstige")
+                          )
> 
> # "Descriptives":
> 
> summary(MiniHag)
     befragnr            geschl           alter            famstand     
 Min.   :  67.000   Min.   :1.0000   Min.   :18.0000   Min.   :1.0000  
 1st Qu.: 761.250   1st Qu.:1.0000   1st Qu.:33.0000   1st Qu.:1.0000  
 Median :1742.500   Median :2.0000   Median :48.0000   Median :1.0000  
 Mean   :1595.625   Mean   :1.5125   Mean   :47.4375   Mean   :2.0375  
 3rd Qu.:2409.250   3rd Qu.:2.0000   3rd Qu.:59.0000   3rd Qu.:3.0000  
 Max.   :2998.000   Max.   :2.0000   Max.   :83.0000   Max.   :5.0000  
                                                                       
      schule            beruf               einkom               w1        
 Min.   :1.00000   Min.   : 1.000000   Min.   : 350.000   Min.   :1.0000  
 1st Qu.:2.00000   1st Qu.: 3.000000   1st Qu.: 800.000   1st Qu.:6.0000  
 Median :3.00000   Median : 4.000000   Median :1500.000   Median :7.0000  
 Mean   :2.78481   Mean   : 4.621622   Mean   :1628.113   Mean   :6.0625  
 3rd Qu.:3.00000   3rd Qu.: 7.000000   3rd Qu.:2000.000   3rd Qu.:7.0000  
 Max.   :5.00000   Max.   : 8.000000   Max.   :5000.000   Max.   :7.0000  
 NA's   :1.00000   NA's   :43.000000   NA's   :  27.000                   
        w2              w3               w4               w5       
 Min.   :1.000   Min.   :1.0000   Min.   :1.0000   Min.   :1.000  
 1st Qu.:5.000   1st Qu.:5.0000   1st Qu.:4.0000   1st Qu.:3.750  
 Median :6.000   Median :6.0000   Median :6.0000   Median :4.500  
 Mean   :5.675   Mean   :5.7375   Mean   :5.4375   Mean   :4.475  
 3rd Qu.:7.000   3rd Qu.:7.0000   3rd Qu.:7.0000   3rd Qu.:6.000  
 Max.   :7.000   Max.   :7.0000   Max.   :7.0000   Max.   :7.000  
                                                                  
        w6               w7             geschll  
 Min.   :1.0000   Min.   :1.000   maennlich:39  
 1st Qu.:2.0000   1st Qu.:3.750   weiblich :41  
 Median :4.0000   Median :5.000                 
 Mean   :3.7125   Mean   :4.375                 
 3rd Qu.:5.0000   3rd Qu.:6.000                 
 Max.   :7.0000   Max.   :7.000                 
                                                
                         famstandl                schulel  
 verheiratet, zusammenlebend :54   kein Abschluss    : 1  
 verheiratet, getrennt lebend: 0   Hauptschule       :36  
 verwitwet                   :10   Fachschulreife    :29  
 geschieden                  : 1   Fachhochschulreife: 5  
 ledig                       :15   Abitur            : 8  
                                   NA's              : 1  
                                                          
                   berufl  
 Bureaukraft         :15  
 Guetererzeugung     : 9  
 sonstige            : 4  
 Handel              : 3  
 wissensch.-technisch: 3  
 (Other)             : 3  
 NA's                :43  
> 
> # "Frequencies":
> 
> attach(MiniHag)
> table(geschll)
maennlich  weiblich 
       39        41 
> table(famstandl)
 verheiratet, zusammenlebend verheiratet, getrennt lebend 
                          54                            0 
                   verwitwet                   geschieden 
                          10                            1 
                       ledig 
                          15 
> table(schulel)
    kein Abschluss        Hauptschule     Fachschulreife Fachhochschulreife 
                 1                 36                 29                  5 
            Abitur 
                 8 
> table(berufl)
          wissensch.-technisch Leiter Oeff. Dienst/Wirtschaft 
                             3                              0 
                   Bureaukraft                         Handel 
                            15                              3 
 Dienstleistungsgewerbe/Soldat                Gaertner/Jaeger 
                             2                              1 
               Guetererzeugung                       sonstige 
                             9                              4 
> detach(MiniHag)


--l4Siqd0eqV
Content-Type: application/octet-stream
Content-Description: Input Data
Content-Disposition: attachment;
	filename="minihagR.dat"
Content-Transfer-Encoding: base64

ICA2NyAxIDcxIDEgMiA5IDE1MDAgNiA0IDcgNyA1IDEgNQogIDg2IDIgMjggMSAzIDkgIDcw
MCA3IDUgNyA3IDQgMSA1CiAxMDUgMiA1OCAxIDIgOSA5OTk5IDcgNSA3IDcgNyA0IDYKIDE0
MCAyIDY5IDMgMiA5IDE2MDAgNyA1IDYgNiA2IDYgNQogMTc4IDEgNDIgMSAyIDMgMTcwMCA3
IDcgNyA1IDEgNCA1CiAxODYgMiAyOSAxIDUgOSAgNTUwIDUgNSA2IDYgNCAxIDMKIDIxOCAx
IDM0IDEgMyAzIDIxMDAgNyA0IDcgNyA1IDEgNAogMjU5IDIgNjEgMSAzIDkgOTk5OSA3IDcg
NyA2IDUgNiA0CiAyOTggMSA0MiAxIDIgOCAzMDAwIDYgNyA3IDQgNCA2IDQKIDMyMyAyIDcx
IDEgNSA5IDEwMDAgNiA2IDYgNiA1IDUgNAogMzM1IDEgNDQgMSAyIDcgMjEwMCA3IDcgNyA2
IDYgMyAyCiAzNDkgMSA0NSAxIDIgNCA5OTk5IDcgNyA3IDUgNSAxIDQKIDQ1MyAyIDU2IDEg
MyA5IDk5OTkgNyA2IDUgMyA0IDIgMQogNDU4IDEgNTMgMSAzIDcgOTk5OSA2IDcgNSA1IDQg
MyA2CiA1MjUgMiA0MyAxIDIgOSA5OTk5IDcgNCA3IDMgNyA3IDUKIDU1MCAxIDMxIDEgMyAz
IDI1MDAgNyA3IDYgNyAzIDIgNAogNTc4IDIgNzggMyAxIDkgMTU3MCA2IDQgNSA0IDQgNCA0
CiA2MDggMSAxOSA1IDkgOSA5OTk5IDcgNiA3IDcgNyA1IDYKIDY2MyAxIDI3IDUgMiA5ICA3
ODAgMSAzIDcgNSAyIDEgMQogNzMyIDIgNzcgMyAzIDkgMTQwMCA3IDcgNyA3IDYgNiA2CiA3
NzEgMSA1OSAzIDIgOSAxODUwIDYgNSA2IDUgNSA0IDQKIDc4MiAxIDMzIDEgMiA1IDI1MDAg
NyA1IDUgNCA2IDUgNQogODMzIDIgMjkgNSA1IDkgIDYwMCA0IDcgNyA1IDQgMSA0CiA5MTAg
MiA1MyAxIDIgMyAgNzAwIDcgNCA1IDYgNiA1IDQKIDkzMiAxIDY4IDEgNCA5IDMwMDAgNyA3
IDUgNyA3IDcgNwogOTcwIDEgNzUgMSAyIDkgMTM1MCA3IDcgNyA3IDcgNCA3CjEwNDcgMiA0
MyAxIDIgNyA5OTk5IDcgNyA1IDcgNCAzIDQKMTA4NiAyIDc2IDMgMiA5IDEwMDAgNCAxIDEg
MSA0IDQgMQoxMTcwIDIgNDkgMSAyIDkgOTk5OSA3IDcgNiA1IDUgMyAzCjEyMzcgMSA2NiAx
IDIgOSAxMjAwIDcgNiA1IDcgNyA1IDUKMTI2NiAxIDE5IDUgMiA3ICA0MjUgMyA3IDUgNiAx
IDEgNAoxMjY5IDEgMjAgNSAzIDkgOTk5OSA1IDcgNyA2IDEgMSA3CjEzNzggMSA2MCAxIDIg
OSA5OTk5IDMgNyA3IDcgNiA3IDEKMTM4MSAyIDQ2IDEgMyAzIDE0NTAgNiA0IDUgNCA0IDIg
MQoxNTMyIDIgNzEgMyAzIDkgIDkwMCA3IDcgNiA3IDcgNyA2CjE1NDUgMiA1MyAxIDIgOSA5
OTk5IDcgNCA2IDMgNiA1IDUKMTU5OCAyIDUwIDEgMyAzICA4MDAgNSA2IDUgNyA3IDIgNgox
NzE3IDEgNDggMSA1IDggMzUwMCA3IDUgNSA0IDUgNSA2CjE3MzEgMiA0MiAxIDMgMyA5OTk5
IDcgNyA1IDcgNSAzIDQKMTc0MSAxIDUyIDEgMiAzIDk5OTkgNyA3IDcgNyA2IDMgNwoxNzQ0
IDEgMTggNSAyIDYgIDM1MCA1IDYgNyA3IDEgMSA3CjE3NzcgMiAzMSAxIDMgMyAgNzUwIDcg
NSA1IDcgNyA0IDYKMTc4MSAxIDU5IDEgMyA4IDM4MDAgNyA3IDcgNyA3IDUgNQoxNzk0IDEg
NzAgMSAzIDkgMzAwMCA3IDcgNyA3IDcgNyA3CjE4MDEgMiA0MSAxIDMgMyAgODAwIDcgNCA0
IDUgNSA1IDQKMTgzMSAxIDU3IDEgMyAxIDk5OTkgNiA1IDUgNCA1IDMgMwoxODYyIDEgNjkg
MSAyIDkgMTYwMCA3IDYgNSA2IDYgNyAzCjE5NzMgMiAyNCA1IDUgOSA5OTk5IDYgNSA1IDYg
NSA1IDYKMjA0MCAyIDI0IDEgMyA4IDE0MDAgNCA3IDcgNSA0IDQgNQoyMDY0IDEgNTQgMSAz
IDMgMTgwMCA1IDYgMiA1IDIgMyA0CjIwNzIgMSA0MiAxIDIgNyAxNjUwIDcgNSA1IDYgNCA1
IDUKMjEwOCAxIDMzIDEgMiA3IDEzMDAgNyA3IDcgNCAxIDQgNwoyMTU2IDEgNTUgMSAzIDcg
NTAwMCA3IDcgNCA0IDQgNiA0CjIxOTcgMSAyNSA1IDMgMyAxNjI1IDcgNiAzIDIgMSA0IDUK
MjIyMSAyIDQ5IDQgMyA5IDk5OTkgNyA3IDMgNSA3IDIgNwoyMzIxIDIgNzMgMyA0IDkgMTEw
MCA3IDcgNCA0IDMgNSAyCjIzNTkgMiA0NSAxIDMgOSA5OTk5IDcgNCA2IDMgMiAzIDQKMjM2
OCAxIDI0IDUgNSA5IDE1MDAgMyA0IDUgNiAxIDEgMQoyMzczIDIgMjEgNSA1IDkgIDUwMCA0
IDYgNSA3IDUgMSA2CjIzOTEgMSAyMCA1IDMgOSAgNDAwIDMgNyA2IDYgMiA0IDQKMjQ2NCAy
IDUyIDMgMyA0IDQ1MDAgNiA1IDUgNCA0IDMgMQoyNTI0IDIgNTYgMSA0IDkgOTk5OSA3IDYg
NyA2IDQgMyAzCjI1NTYgMSA0MSAxIDMgMyAyNjAwIDYgNiA2IDYgMiAyIDUKMjU4NiAxIDU5
IDEgMiA1IDE2MDAgNiAyIDcgNSA3IDUgNQoyNTkwIDEgMjYgNSA0IDQgOTk5OSA3IDYgNyA3
IDQgNCA2CjI2MTcgMiA0OCAxIDIgOSA5OTk5IDcgNCA1IDcgNyA2IDEKMjYzMiAyIDQ5IDEg
NSAxIDIwMDAgNyA1IDUgNiA2IDQgMgoyNjQ5IDIgNDkgMSAyIDkgOTk5OSA0IDcgNyA2IDQg
MSA2CjI2NjkgMiA4MyAzIDIgOSAgNjQwIDcgNSA1IDYgNCA3IDIKMjY3MSAyIDMxIDEgMyAz
IDE4MDAgMiA3IDcgNiAyIDEgNgoyNjc1IDEgNDAgMSA0IDEgOTk5OSA3IDcgNiA2IDYgMyA1
CjI3MTUgMiA0MCAxIDIgOSA5OTk5IDcgNyA1IDQgNCA1IDUKMjc4MSAyIDQ1IDEgMyAzICA3
MDAgNyA1IDYgNyA0IDUgNQoyNzg3IDIgNzggNSAyIDkgOTk5OSA0IDQgNiA0IDMgNSAyCjI4
MDcgMiA1OSAxIDIgOSAgNjAwIDYgNSA0IDQgNSAzIDYKMjg0NyAxIDQ4IDUgMyA3IDE3MDAg
MSAyIDMgNCAxIDEgMQoyODc3IDIgMzUgMSAyIDkgOTk5OSA3IDQgNyA1IDcgNyA1CjI5NzAg
MiA2OCAzIDIgOSAyMDAwIDYgNyA1IDEgMiA0IDMKMjk5NSAxIDI1IDUgMiA5IDk5OTkgNyA1
IDcgNiAzIDIgNQoyOTk4IDEgMzkgMSAyIDcgMTgwMCA3IDcgNyA0IDMgMSA2Cg==

--l4Siqd0eqV
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html

--l4Siqd0eqV--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 18 17:59:46 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Mar 1998 18:59:46 +0100
Subject: Strange Results of summary()
In-Reply-To: <199803181605.RAA14113@wrin27.urz.uni-wuppertal.de>
 (palme@uni-wuppertal.de)
Message-ID: <199803181759.SAA06562@sophie.ethz.ch>


Huber Palme writes
>> I run the following job. Please, compare the results of summary and
>> table concerning berufl. From similar SPSS/PSPP runs, the result of
>> table is correct. 
>> 
>> Did I misunderstand anything or is there a bug? 
>> 
>> What does the difference come from?
>> What does '(other)' mean?
>> What about the strange order of the levels?
>> 
>> summary(....)
>>                                                           
>> ....
>>                    berufl  
>>  Bureaukraft         :15  
>>  Guetererzeugung     : 9  
>>  sonstige            : 4  
>>  Handel              : 3  
>>  wissensch.-technisch: 3  
>>  (Other)             : 3  
>>  NA's                :43  

.....

>> > table(berufl)
>>           wissensch.-technisch Leiter Oeff. Dienst/Wirtschaft 
>>                              3                              0 
>>                    Bureaukraft                         Handel 
>>                             15                              3 
>>  Dienstleistungsgewerbe/Soldat                Gaertner/Jaeger 
>>                              2                              1 
>>                Guetererzeugung                       sonstige 
>>                              9                              4 

What's the problem? 
	'(Other)' gives all the levels having (in your case) 0,1,2 observations,
	which sum to 3 observations.
"summary(.)" should give a summary  (think of a factor with 500 levels....)

table() is more detailed (but doesn't report the NA's),
  which is the only thing to critize here:

  S-plus's  table(..) has an extra argument  "exclude" which
  we should also have in R:

  S> args(table) 
	  function(..., exclude = c(NA, NaN))

  S> table(c(NA,1:5))
   1 2 3 4 5 
   1 1 1 1 1
  > table(c(NA,1:5), exclude=NULL)
   1 2 3 4 5 NA 
   1 1 1 1 1  1

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Wed Mar 18 19:46:36 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 19 Mar 1998 07:46:36 +1200 (NZST)
Subject: POSIX regular expressions on Irix 5.3
Message-ID: <199803181946.HAA14615@stat1.stat.auckland.ac.nz>

If you look in the R source tree in R/src/regex you will find a version
of Henry Spencer's regular expression library.  You could try compiling
and installing that (you will need to modify the Makefile).  Some SGI
compilers have trouble with it, but it may work for you.

If that doesn't work, there are a number of GNU regular expression
libraries, which you can get from the usual GNU places.  Install one
of them and then try again.  You may also want to pick up a recent version
of the readline library at the same time.

I'd be interested in a report if you are successful.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Osman.Buyukisik@ae.ge.com  Wed Mar 18 19:55:04 1998
From: Osman.Buyukisik@ae.ge.com (Buyukisik, Osman (GEAE))
Date: Wed, 18 Mar 1998 14:55:04 -0500
Subject: R-0.61.2  and March 17 snapshot
Message-ID: <0302875C631AD11198DE00600806C63747A02B@ev009msxaege.ae.ge.com>

I just built 0.61.2 on an hpux-10.2 system. WHen I do a demo I am getting :

> data(quakes)

[1] "quakes"
Warning: invalid 'cutoff' for deparse, used default

Every statement seems to trigger this response. I also built the march17
snapshot and it does not have this behavior. 

March 17 snapshot has one problem that I noticed: when I built a contributed lib
with data, and if the dataset has the same name as one in base distribution,
data(iris) pulls iris from the "base" 0.61.1 does not do this. If the lib is
loaded it seems like it searches the libraries data directory first. I think
this is more appropriate.

Osman



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Mar 18 20:13:57 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Mar 1998 21:13:57 +0100
Subject: R-0.61.2  and March 17 snapshot
In-Reply-To: "Buyukisik, Osman's message of Wed, 18 Mar 1998 14:55:04 -0500
References: <0302875C631AD11198DE00600806C63747A02B@ev009msxaege.ae.ge.com>
Message-ID: <x2afaneoze.fsf@blueberry.kubism.ku.dk>

"Buyukisik, Osman (GEAE)" <Osman.Buyukisik@ae.ge.com> writes:

> 
> I just built 0.61.2 on an hpux-10.2 system. WHen I do a demo I am getting :
> 
> > data(quakes)
> 
> [1] "quakes"
> Warning: invalid 'cutoff' for deparse, used default
> 
> Every statement seems to trigger this response. I also built the march17
> snapshot and it does not have this behavior. 

Doesn't seem to happen in Linux... 

Could you do us all a favour and try to pinpoint exactly what triggers
that message? (Start by saying debug(data)).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 19 09:34:44 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 19 Mar 1998 10:34:44 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
Message-ID: <199803190934.KAA07638@sophie.ethz.ch>

This is not a nice name (format is generic; cardinal is not a class) for a
nice function, which I would like in several places in R code and therefore
would like to become part of R  (under a better name !)

format.cardinal <- function(i, sep="")
        paste(i, c("st","nd","rd","th")[pmin(4,i)], sep=sep)

# Try
format.cardinal(sample(1:20))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From phlamber@luc.ac.be  Thu Mar 19 11:11:33 1998
From: phlamber@luc.ac.be (Philippe Lambert)
Date: Thu, 19 Mar 1998 12:11:33 +0100 (MET)
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803190934.KAA07638@sophie.ethz.ch>
Message-ID: <Pine.OSF.3.96.980319121016.15933F-100000@alpha>


On Thu, 19 Mar 1998, Martin Maechler wrote:

> This is not a nice name (format is generic; cardinal is not a class) for a
> nice function, which I would like in several places in R code and therefore
> would like to become part of R  (under a better name !)
> 
> format.cardinal <- function(i, sep="")
>         paste(i, c("st","nd","rd","th")[pmin(4,i)], sep=sep)
> 
> # Try
> format.cardinal(sample(1:20))

Isn't it a problem?
> format.cardinal(22)
[1] "22th"

Philippe

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 19 11:21:39 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 19 Mar 1998 12:21:39 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <Pine.OSF.3.96.980319121016.15933F-100000@alpha> (message from
 Philippe Lambert on Thu, 19 Mar 1998 12:11:33 +0100 (MET))
Message-ID: <199803191121.MAA07944@sophie.ethz.ch>


>>>>> "Philippe" == Philippe Lambert <phlamber@luc.ac.be> writes:

    Philippe> On Thu, 19 Mar 1998, Martin Maechler wrote:

    >> This is not a nice name (format is generic; cardinal is not a class)
    >> for a nice function, which I would like in several places in R code
    >> and therefore would like to become part of R (under a better name !)
    >> 
    >> format.cardinal <- function(i, sep="") paste(i,
    >> c("st","nd","rd","th")[pmin(4,i)], sep=sep)
    >> 
    >> # Try format.cardinal(sample(1:20))

    Philippe> Isn't it a problem?
Oh yes, course!
    >> format.cardinal(22)
    Philippe> [1] "22th"

Thank you Philippe!

So, the function will become a bit more complicated.
The following would be better, but is not yet the solution
[and yes, I must consult an English dictionnary or such...].

format.cardinal <- function(i, sep="")
   paste(i, c("st","nd","rd","th")[pmin(4,1+(i-1) %% 10)], sep=sep)

BTW:  This ``triggers'' an inconsistency  R <-> S-plus
      which I consider a bug in R:

R> -1 %% 10
[1] -1

S> -1 %% 10
[1] 9

------------

BTW:  I am still looking for a proper name for that function...,
	maybe "english.cardinal" ??

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Mar 19 11:25:13 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 19 Mar 1998 12:25:13 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803191121.MAA07944@sophie.ethz.ch>
References: <Pine.OSF.3.96.980319121016.15933F-100000@alpha>
 <199803191121.MAA07944@sophie.ethz.ch>
Message-ID: <199803191125.MAA22321@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 19 Mar 1998 12:21:39 +0100,
>>>>> Martin Maechler (MM) wrote:

>>>>> "Philippe" == Philippe Lambert <phlamber@luc.ac.be> writes:

Philippe> On Thu, 19 Mar 1998, Martin Maechler wrote:

>>> This is not a nice name (format is generic; cardinal is not a class)
>>> for a nice function, which I would like in several places in R code
>>> and therefore would like to become part of R (under a better name !)
>>> 
>>> format.cardinal <- function(i, sep="") paste(i,
>>> c("st","nd","rd","th")[pmin(4,i)], sep=sep)
>>> 
>>> # Try format.cardinal(sample(1:20))

Philippe> Isn't it a problem?
MM> Oh yes, course!
>>> format.cardinal(22)
Philippe> [1] "22th"

MM> Thank you Philippe!

MM> So, the function will become a bit more complicated.
MM> The following would be better, but is not yet the solution
MM> [and yes, I must consult an English dictionnary or such...].
                                              ^^

is probably a good idea :-)

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Thu Mar 19 13:34:18 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Thu, 19 Mar 1998 14:34:18 +0100 (MET)
Subject: Strange Results of summary()
In-Reply-To: <199803181759.SAA06562@sophie.ethz.ch>
References: <199803181605.RAA14113@wrin27.urz.uni-wuppertal.de>
 <199803181759.SAA06562@sophie.ethz.ch>
Message-ID: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>

Martin Maechler: 
 > >>                    berufl  
 > >>  Bureaukraft         :15  
 > >>  Guetererzeugung     : 9  
 > >>  sonstige            : 4  
 > >>  Handel              : 3  
 > >>  wissensch.-technisch: 3  
 > >>  (Other)             : 3  
 > >>  NA's                :43  
 > 
 > .....
 > 
 > >> > table(berufl)
 > >>           wissensch.-technisch Leiter Oeff. Dienst/Wirtschaft 
 > >>                              3                              0 
 > >>                    Bureaukraft                         Handel 
 > >>                             15                              3 
 > >>  Dienstleistungsgewerbe/Soldat                Gaertner/Jaeger 
 > >>                              2                              1 
 > >>                Guetererzeugung                       sonstige 
 > >>                              9                              4 
 > 
 > What's the problem? 
 > 	'(Other)' gives all the levels having (in your case) 0,1,2 observations,
 > 	which sum to 3 observations.

Do I understand you right, that the variables with low frequency are
put togehter in (other)? This should be explained to a newbie!!

- What criteria decides which variables are put into (other)?
- What kind of order do the values have? Frequency?

This is very irritating! Where can I get information about all this?

 > table() is more detailed (but doesn't report the NA's),
 >   which is the only thing to critize here:

I agree.

Thanks!

(Hmm... R is a very interesting and powerfull tool, but it's
philosophy and terminology need much accustomization for one being
familiar with SPSS & Co.)

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Mar 19 17:44:14 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Mar 1998 18:44:14 +0100
Subject: Apropos names.
In-Reply-To: Martin Maechler's message of Thu, 19 Mar 1998 15:55:06 +0100
References: <199803190934.KAA07638@sophie.ethz.ch>
 <199803191455.PAA08296@sophie.ethz.ch>
Message-ID: <x2zpimy3rl.fsf_-_@blueberry.kubism.ku.dk>


(from R-core)
> Btw, why can't object names contain a `@'?
> 
> -k

Speaking of names. I've been thinking whether it would not at some
point be wise to introduce namespaces into R. This would pretty
obviously break a lot of S code, but it would also make it possible to
avoid a lot of silly problems such as naming one's variables c, t, pt,
df, rm, ... 

A plan that might work relatively smoothly could involve:

- Separate functions from variables. We already do that to some extent
  ("looking for object of mode function...") [At the same time, one
  might get rid of everyone's favourite quirk: forgetting () and
  thus listing the function instead of calling it. I know: basic
  design, functions are just objects, etc., but really: Wouldn't it be
  nicer to type view(ls) the few times you actually wanted to see its
  contents?]

- All system functions and variables are really named something like
  sys::c() i.e. we introduce a namespace separator ::.
  Functions/variables that are intended for general use can be made
  public, by a special call.

- Assignments (interactive) to an existing public name causes a
  warning to be issued (or maybe an error).


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Mar 19 17:53:41 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 19 Mar 1998 09:53:41 -0800 (PST)
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803191121.MAA07944@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980319092833.11081A-100000@chekov>

On Thu, 19 Mar 1998, Martin Maechler wrote:> 
>     >> This is not a nice name (format is generic; cardinal is not a class)
>     >> for a nice function, which I would like in several places in R code
>     >> and therefore would like to become part of R (under a better name !)
>     >> 

I would have though "ordinal" would be a better name.  Those things are
called ordinals, not cardinals.  This would also allow a language argument
to produce

ordinal(1:3,"english") 
"1st" "2nd" "3rd"
ordinal(1:3,"francais")
"1re" "2me" "3me"

and so on (we probably have people on R-devel who can supply rules
for most common languages using the Latin alphabet). 

On the other hand, aren't there GNU internationali{s,z}ation libraries
that handle this sort of thing?


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Mar 19 20:12:17 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 19 Mar 1998 14:12:17 -0600
Subject: Copyrights on CRAN/src/contrib libraries
Message-ID: <6remzyzbha.fsf@verdi.stat.wisc.edu>

Sorry to bring up this old topic again but ...

The 2.0 release of Debian Linux is about to happen and the release
team requires copyright statements on any code included in the
release.  Presently there are 4 packages that I have created from R
source code and libraries and contributed to the release.  I think
this will help with the visibility of R when there is a well-regarded
release of an operating system that includes R as an integral part of
the operating system.  Regretably I will probably have to cut back to
3 packages because of copyright problems.

The packages are:
 r-base_0.61.2-0     - based on CRAN/src/base/R-0.61.2.tgz
                       All code is GPL or BSD-license or Artistic license
 r-cran_0.61.1-0     - includes from CRAN/src/contrib the libraries
                       class, ctest, e1071, jpn, nnet, oz, polynom,
                       quadprog, rational, spatial, and splines.
  All this code is described as having the GPL for a copyright except
  for jpn which is described as
 License: Created by Data Science Group in Keio University, Japan.  May
   freely be distributed with R.
  I may end up having to remove that library because the statement is
  too vague.

 r-mlbench_0.61.1-0  - the library from CRAN/src/contrib/mlbench.  Its 
  license is described as "free for non-commercial purposes".  There is
  a possibility I will have to remove this one as well but I don't think
  so.  All the code here was written by Fritz Leisch and is covered by
  the GPL.  All the rest of the library is data sets that were converted
  by Fritz.  I believe that data themselves cannot be copyrighted - only
  a particular representation of the data such as a table can be
  copyrighted.  In this case, since Fritz converted the data to a format
  to be read into R, the representation is covered by Fritz putting it
  under the GPL.  I would appreciate hearing from anyone who feels I am
  misinterpreting the copyright status here.
 
 r-cran-non-free_0.61.1-0 - remaining libraries with .DESCRIPTION
                            files from CRAN/src/contrib.  These include
                            bootstrap, fracdiff, principal.curve, and xgobi.
  I think these will have to be removed.  The bootstrap and
  principal.curve libraries have no clear statement of copyright.  The
  fracdiff library says "free for non-commercial purposes" but that is 
  not as specific as it needs to be.  The xgobi library is covered
  under a specific copyright but I think we will fold that into the
  xgobi package rather than the R packages.

Does anyone think I have misplaced one or more of the libraries?

Do you have further copyright clarifications that could help out?

Finally a plea.  Please, when you do contribute a library or other
code, make sure you state the copyright conditions clearly.  If you
don't want to make a big deal about copyright then I recommend that
you use the GPL.  Look at the Appendix at the end of the file COPYING
in the main directory of the R source code for instructions on how to
do this.
-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 20 08:34:17 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 20 Mar 1998 09:34:17 +0100
Subject: Strange Results of summary()
In-Reply-To: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>
 (palme@uni-wuppertal.de)
Message-ID: <199803200834.JAA09382@sophie.ethz.ch>

>>>>> "Hubert" == Hubert Palme <palme@uni-wuppertal.de> writes:

    Hubert> Martin Maechler:
    >> >> berufl >> Bureaukraft :15 >> Guetererzeugung : 9 >> sonstige : 4
    >> >> Handel : 3 >> wissensch.-technisch: 3 >> (Other) : 3 >> NA's :43
    >> 
    >> .....
    >> 
    >> >> > table(berufl) >> wissensch.-technisch Leiter
    >> Oeff. Dienst/Wirtschaft >> 3 0 >> Bureaukraft Handel >> 15 3 >>
    >> Dienstleistungsgewerbe/Soldat Gaertner/Jaeger >> 2 1 >>
    >> Guetererzeugung sonstige >> 9 4
    >> 
    >> What's the problem?  '(Other)' gives all the levels having (in your
    >> case) 0,1,2 observations, which sum to 3 observations.

    Hubert> Do I understand you right, that the variables with low
    Hubert> frequency are put togehter in (other)? This should be explained
    Hubert> to a newbie!!

    Hubert> - What criteria decides which variables are put into (other)?
    Hubert> - What kind of order do the values have? Frequency?

    Hubert> This is very irritating! Where can I get information about all
    Hubert> this?

Read the online help ?   Read the R-notes,  read books about S / S-plus...

More seriously:
1) In situations like these, I just look at the R code;
   in this case, you'll find  summary -> summary.data.frame -> summary.factor
   and you'll see that summary.data.frame  is
	     summary.data.frame(object, maxsum = 7, ...)
   where ``maxsum'' is the argument you may want to use differently..

2) The online help for summary  has been lacking.
   R 0.62  will have an improved help page, whose ASCII version I append at
   the end. 

    >> table() is more detailed (but doesn't report the NA's), which is the
    >> only thing to critize here:

    Hubert> I agree.

Should be in the 0.62 version...


    Hubert> (Hmm... R is a very interesting and powerfull tool, but it's
    Hubert> philosophy and terminology need much accustomization for one
    Hubert> being familiar with SPSS & Co.)

I agree;  implicitly we have often assumed that R users
	- either know  S / Splus
	- or	 are good programmers
Lack in documentation ``proves'' the above.
And yes, we welcome all collaboration in improving documentation!


Here is the new help page  [ ?summary or ?summary.factor or ....] :

    Object Summaries

	 summary(object, ...)

	 summary.default   (object, ..., digits = max(3, .Options$digits -3))
	 summary.data.frame(object, maxsum = 7, ...)
	 summary.factor    (object, maxsum = 100, ...)
	 summary.matrix    (object, ...)

    Arguments:

      object: an object for which a summary is desired.

      maxsum: integer, indicating how many levels should be
	      shown for `factor's.

	 ...: additional arguments affecting the summary pro-
	      duced.

    Description:

	 `summary' is a generic function used to produce result
	 summaries of the results of various model fitting func-
	 tions.  The function invokes particular `method's which
	 depend on the `class' of the first argument.

	 For `factor's, the frequency of the first `maxsum - 1'
	 most frequent levels is shown, where the less frequent
	 levels are summarized in `"(Others)"' (resulting in
	 `maxsum' frequencies).

	 The functions `summary.lm' and `summary.glm' are exam-
	 ples of particular methods which summarise the results
	 produced by `lm' and `glm'.

    Value:

	 The form of the value returned by `summary' depends on
	 the class of its argument.  See the documentation of
	 the particular methods for details of what is produced
	 by that method.

    See Also:

	 `anova', `summary.glm', `summary.lm'.

    Examples:

	 options(digits=5)
	 data(attenu)
	 summary(attenu) #-> summary.data.frame(..)
         summary(attenu $ station, maxsum = 20) #-> summary.factor(..)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 20 08:45:32 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 20 Mar 1998 09:45:32 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <Pine.SUN.3.95.980319092833.11081A-100000@chekov> (message from
 Thomas Lumley on Thu, 19 Mar 1998 09:53:41 -0800 (PST))
Message-ID: <199803200845.JAA09391@sophie.ethz.ch>

>>>>> "TL" =3D=3D Thomas Lumley <thomas@biostat.washington.edu> writes:

    TL> On Thu, 19 Mar 1998, Martin Maechler wrote:> 
    >> >> This is not a nice name (format is generic; cardinal is not a cla=
ss)
    >> >> for a nice function, which I would like in several places in R co=
de
    >> >> and therefore would like to become part of R (under a better name=
 !)
    >> >> 

    TL> I would have though "ordinal" would be a better name.  Those things
    TL> are called ordinals, not cardinals.
of course.

    TL> This would also allow a language argument to produce

    TL> ordinal(1:3,"english") 
    TL> "1st" "2nd" "3rd"
    TL> ordinal(1:3,"francais")
    TL> "1re" "2me" "3me"
    TL> and so on (we probably have people on R-devel who can supply rules
    TL> for most common languages using the Latin alphabet). 

Excellent!!
I'll adopt these;  
btw,  "deutsch" would be as easy as
=09"1." "2.", .....

    TL> ordinal(1:3,"francais")
    TL> "1re" "2me" "3me"
=09  ^^
=09is this okay, even for males? (premier / premi=E8re)

Maybe, we'd even need an argument "sex" ( or "gender" ?)
to have
=09> ordinal(1:3, "italian", "m")
=09[1] "1o" "2o" "3o"

=09> ordinal(1:3, "italian", "f")
=09[1] "1a" "2a" "3a"
(and same(?) for spanish).


    TL> On the other hand, aren't there GNU internationali{s,z}ation librar=
ies
    TL> that handle this sort of thing?
(called "i18n"), well, yes, in principle.  
I don't know the details, but I think to remember
that these are rather bigger things to be installed on a (Unix) system leve=
l.
=09=
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Fri Mar 20 09:12:11 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Fri, 20 Mar 1998 10:12:11 +0100 (MET)
Subject: Strange Results of summary()
In-Reply-To: <199803200834.JAA09382@sophie.ethz.ch>
References: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>
 <199803200834.JAA09382@sophie.ethz.ch>
Message-ID: <199803200912.KAA22659@wrin27.urz.uni-wuppertal.de>

Martin Maechler: 
 > 
 > Read the online help ?   Read the R-notes,  read books about S / S-plus...

Can you recommend me a book about S / S-plus? (it's difficult to
search for "S" in the library catalogue :-)

Perhaps one in German?

 > 
 > More seriously:
 > 1) In situations like these, I just look at the R code;
 >    in this case, you'll find  summary -> summary.data.frame -> summary.factor
 >    and you'll see that summary.data.frame  is
 > 	     summary.data.frame(object, maxsum = 7, ...)
 >    where ``maxsum'' is the argument you may want to use differently..
 > 
 > 2) The online help for summary  has been lacking.
 >    R 0.62  will have an improved help page, whose ASCII version I append at
 >    the end. 

Thanks. First I want to reinstall R with a regex library and readline, 
then I'll go on trying.

 > I agree;  implicitly we have often assumed that R users
 > 	- either know  S / Splus
 > 	- or	 are good programmers
 > Lack in documentation ``proves'' the above.

That's the point. It's good to know that you are aware of it :-)

Thanks for your help!

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Mar 20 09:26:00 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 20 Mar 1998 10:26:00 +0100
Subject: Strange Results of summary()
In-Reply-To: <199803200912.KAA22659@wrin27.urz.uni-wuppertal.de>
References: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>
 <199803200834.JAA09382@sophie.ethz.ch>
 <199803200912.KAA22659@wrin27.urz.uni-wuppertal.de>
Message-ID: <199803200926.KAA28203@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 20 Mar 1998 10:12:11 +0100 (MET),
>>>>> Hubert Palme (HP) wrote:

HP> Can you recommend me a book about S / S-plus? (it's difficult to
HP> search for "S" in the library catalogue :-)

Search for Splus ... most books have it either in the title or as
keyword.

HP> Perhaps one in German?

Andreas Krause: Einf=FChrung in S und S-Plus
Berlin [u.a.]: Springer, 1997. - . - XVIII, 319 S. : graph. Darst.=20

is a nice introduction in German at a very basic level. My students
liked it very much, better than some of the ``more advanced'' books.

It also mentions R in the appendix :-)

And then there are always the ``bibles'' like

	Venables & Ripley: Modern Applied Statistics with Splus
	Chambers & Hastie: Statistical Models in S

though these are English, of course.

Hope this helps,
Fritz

--=20
-------------------------------------------------------------------
                        Friedrich  Leisch                            =20
Institut f=FCr Statistik                      Tel: (+43 1) 58801 4541
Technische Universit=E4t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra=DFe 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Mar 20 12:51:03 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 20 Mar 1998 13:51:03 +0100 (CET)
Subject: Apropos names.
In-Reply-To: <x2zpimy3rl.fsf_-_@blueberry.kubism.ku.dk>
References: <199803190934.KAA07638@sophie.ethz.ch>
 <199803191455.PAA08296@sophie.ethz.ch>
 <x2zpimy3rl.fsf_-_@blueberry.kubism.ku.dk>
Message-ID: <13586.24524.719517.738131@pc25.none>

>>>>> Peter Dalgaard BSA writes:

> (from R-core)
>> Btw, why can't object names contain a `@'?
>> 
>> -k

> Speaking of names. I've been thinking whether it would not at some
> point be wise to introduce namespaces into R. This would pretty
> obviously break a lot of S code, but it would also make it possible to
> avoid a lot of silly problems such as naming one's variables c, t, pt,
> df, rm, ...

> A plan that might work relatively smoothly could involve:

> - Separate functions from variables. We already do that to some extent
>   ("looking for object of mode function...") [At the same time, one
>   might get rid of everyone's favourite quirk: forgetting () and
>   thus listing the function instead of calling it. I know: basic
>   design, functions are just objects, etc., but really: Wouldn't it be
>   nicer to type view(ls) the few times you actually wanted to see its
>   contents?]

Or print(ls)?  But then typing the name amounts to printing the object,
etc etc.

I am not sure what `separating' would amount to.  I think that as R is
really based on Lisp/Scheme, it should be obvious that we can have
functions objects and variable objects with the same name.  Of course,
the question is what happens if we do print("xyz") if there are both a
variable and a function called `xyz'.

> - All system functions and variables are really named something like
>   sys::c() i.e. we introduce a namespace separator ::.
>   Functions/variables that are intended for general use can be made
>   public, by a special call.

Yes, this would be great.  (Of course, making use of that feature means
that such R code could no longer be used with R-.)

The rule should/could be the following:  make object `obj' in
environment "package:xxx" directly accessible via "xxx::obj" rather than
having to go through get(obj, envir = "....").

A related issue is that of having modules, e.g. a `sys' module within
the base package.  It could be made ``public'' by some export/import
mechanism.  Hmm.  I think Luke had some suggestions on this about a year
ago.

> - Assignments (interactive) to an existing public name causes a
>   warning to be issued (or maybe an error).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Osman.Buyukisik@ae.ge.com  Fri Mar 20 14:22:02 1998
From: Osman.Buyukisik@ae.ge.com (Buyukisik, Osman (GEAE))
Date: Fri, 20 Mar 1998 09:22:02 -0500
Subject: mail-archive place?
Message-ID: <0302875C631AD11198DE00600806C63747A02D@ev009msxaege.ae.ge.com>

I tried ftp://stat.math.ethz.ch/pub/   ? as well as http://stat.math.ethz.ch,
but can't get there?? Where is the mail archive place??

TIA,
Osman


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Mar 20 14:45:05 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Mar 1998 15:45:05 +0100
Subject: mail-archive place?
In-Reply-To: "Buyukisik, Osman's message of Fri, 20 Mar 1998 09:22:02 -0500
References: <0302875C631AD11198DE00600806C63747A02D@ev009msxaege.ae.ge.com>
Message-ID: <x23egdzaj2.fsf@blueberry.kubism.ku.dk>

"Buyukisik, Osman (GEAE)" <Osman.Buyukisik@ae.ge.com> writes:

> 
> I tried ftp://stat.math.ethz.ch/pub/   ? as well as http://stat.math.ethz.ch,
> but can't get there?? Where is the mail archive place??
> 
> TIA,
> Osman

ftp://ftp.stat.math.ethz.ch/pub/Mail-archives

PS: Your return address is confusing GNUS, presumably it's the comma
in "Buyukisik, Osman (GEAE)". Is this a bug in GNUS or a non-compliant
address?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Mar 20 18:15:28 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Fri, 20 Mar 1998 10:15:28 -0800 (PST)
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803200845.JAA09391@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980320101215.13638B-100000@chekov>

On Fri, 20 Mar 1998, Martin Maechler wrote:
>=20
>     TL> ordinal(1:3,"francais")
>     TL> "1re" "2me" "3me"
> =09  ^^
> =09is this okay, even for males? (premier / premi=E8re)
>=20

good point.  It would be "1er", not "1re". We do need a gender argument.

=09-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Mar 20 21:19:32 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Mar 1998 22:19:32 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: Thomas Lumley's message of Fri, 20 Mar 1998 10:15:28 -0800 (PST)
References: <Pine.SUN.3.95.980320101215.13638B-100000@chekov>
Message-ID: <x24t0t3vrv.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas@biostat.washington.edu> writes:

>=20
> On Fri, 20 Mar 1998, Martin Maechler wrote:
> >=20
> >     TL> ordinal(1:3,"francais")
> >     TL> "1re" "2me" "3me"
> > =09  ^^
> > =09is this okay, even for males? (premier / premi=E8re)
> >=20
>=20
> good point.  It would be "1er", not "1re". We do need a gender argumen=
t.

I thought it was "1ere" "2eme", etc.?

We probably shouldn't go into "erster, zweiter, dritter,..." and the
Austrian and Swiss variants thereof, though. ;^)

--=20
   O__  ---- Peter Dalgaard             Blegdamsvej 3 =20
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N  =20
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Sat Mar 21 00:32:49 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Fri, 20 Mar 1998 18:32:49 -0600 (CST)
Subject: documentation for "vector"
Message-ID: <m0yGCDR-0000X5C@verdi.stat.wisc.edu>

The documentation for "vector" indicates that "length" will default to 0.

   Vector Types

        vector(type="logical", length=0)
        as.vector(x,mode="any")
        is.vector(x)

The function itself disagrees.
 R> vector("list")
 Error: 1 argument passed to "vector" which requires 2.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Sat Mar 21 00:36:21 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 20 Mar 1998 18:36:21 -0600
Subject: documentation for "vector"
In-Reply-To: Douglas Bates's message of "Fri, 20 Mar 1998 18:32:49 -0600 (CST)"
References: <m0yGCDR-0000X5C@verdi.stat.wisc.edu>
Message-ID: <6remzwhoca.fsf@verdi.stat.wisc.edu>

Douglas Bates <bates@stat.wisc.edu> writes:

> The documentation for "vector" indicates that "length" will default to 0.
> 
>    Vector Types
> 
>         vector(type="logical", length=0)
>         as.vector(x,mode="any")
>         is.vector(x)
> 
> The function itself disagrees.
>  R> vector("list")
>  Error: 1 argument passed to "vector" which requires 2.

I apologize for not indicating this in my earlier message.  This
behaviour is with

 R : Copyright 1998, Robert Gentleman and Ross Ihaka
 Version 0.61.2 Alpha (March 15, 1998)

on a Debian GNU/Linux system running libc6.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Sat Mar 21 01:20:08 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 21 Mar 1998 13:20:08 +1200 (NZST)
Subject: Apropos names.
Message-ID: <199803210120.NAA26311@stat1.stat.auckland.ac.nz>

> To: R-devel@stat.math.ethz.ch
> Subject: Apropos names.
> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
> Date: 19 Mar 1998 18:44:14 +0100
> MIME-Version: 1.0
> Content-Transfer-Encoding: 7bit


> (from R-core)
> > Btw, why can't object names contain a `@'?

Reserved for future use?

> Speaking of names. I've been thinking whether it would not at some
> point be wise to introduce namespaces into R. This would pretty
> obviously break a lot of S code, but it would also make it possible to
> avoid a lot of silly problems such as naming one's variables c, t, pt,
> df, rm, ... 
>
> A plan that might work relatively smoothly could involve:
>
> - Separate functions from variables. We already do that to some extent
>   ("looking for object of mode function...") [At the same time, one
>   might get rid of everyone's favourite quirk: forgetting () and
>   thus listing the function instead of calling it. I know: basic
>   design, functions are just objects, etc., but really: Wouldn't it be
>   nicer to type view(ls) the few times you actually wanted to see its
>   contents?]

This has been done in common lisp and it's ugly.  Consider

	apply(x, 1, mean)

How do we indicate that this is the function called mean rather
than the non-function mean?  The single namespace makes it much
easier to think about functions as data.

> - All system functions and variables are really named something like
>   sys::c() i.e. we introduce a namespace separator ::.
>   Functions/variables that are intended for general use can be made
>   public, by a special call.

This is a definite possibility, but there are higher priorities at present.

	Ross

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Mar 21 09:00:22 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 1998 10:00:22 +0100
Subject: Apropos names.
In-Reply-To: Ross Ihaka's message of Sat, 21 Mar 1998 13:20:08 +1200 (NZST)
References: <199803210120.NAA26311@stat1.stat.auckland.ac.nz>
Message-ID: <x2yay47715.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:


> 
> > Speaking of names. I've been thinking whether it would not at some
> > point be wise to introduce namespaces into R. This would pretty
> > obviously break a lot of S code, but it would also make it possible to
> > avoid a lot of silly problems such as naming one's variables c, t, pt,
> > df, rm, ... 
> >
> > A plan that might work relatively smoothly could involve:
> >
> > - Separate functions from variables. We already do that to some extent
> >   ("looking for object of mode function...") [At the same time, one
> >   design, functions are just objects, etc., but really: Wouldn't it be
> >   nicer to type view(ls) the few times you actually wanted to see its
> >   contents?]
> 
> This has been done in common lisp and it's ugly.  Consider
> 
> 	apply(x, 1, mean)
> 
> How do we indicate that this is the function called mean rather
> than the non-function mean?  The single namespace makes it much
> easier to think about functions as data.

Ugh. You're right. An even clearer bit of ugliness is 

mean<-mean(x) # you'll be surprised at how many people will do that!
as.list(mean) # which one??

Hmm. Plan B:

class(c)<-"system"
class(ls)<-"system"
...

print.system<-function(...)warning(-something-)

"<-.system"<- function(...)error(-something-)

if you catch my drift?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Mar 22 17:59:19 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Sun, 22 Mar 1998 18:59:19 +0100 (GMT+0100)
Subject: R-0.61.1 compiled with egcs-mingw32
Message-ID: <19980322175919.1333.qmail@sirio.stat.unipd.it>

I have made available the work of the last weekend that I mentioned
in my previous messages on ftp://sirio.stat.unipd.it/pub/R.
Many thanks to Peter D. and Ross I. for their suggestions.
If you think that the work is of some interest, I can upload it
to CRAN.
guido m.

This is the README enclosed in the distribution.
-------------------------------------------------------------------------
rgnwbin.tgz and rgnwsrc.tgz are the first results of an attempt to
build R for Win95 and WinNT using egcs-mingw32.

The advantages over the binaries for MsWindows that can be found in CRAN
are:
1. R seems to run faster. Some simple (perhaps too simple)
   benchmarks point to a 20% gain.
2. The port is based on a more recent version (0.61.1) and it is more
   complete (more "system calls": system, tempfile, unlink, 
   WinExec - to launch applications without waiting for the result;
   support for the standard help system: try help(), help(abline),
   help(line,eda), ?women, data(), library())
3. A new menu item "Stop current computation" make  possible 
   to interupt long computation (but only when  something is printed).
4. Since egcs-mingw32 uses the standard C calling convention, 
   you don't need a Watcom compiler to build dynamic link libraries.
   Indeed, this was my original motivation.
5. It should be easy to use some other gnu-win32 compilers (maybe
   running on a non MsWindows machine). It should be easy to 
   adapt the port to lcc-win32, too.
   
But remember: this is experimental code so
-----------------------------------------------------------------------------
                      USE IT AT YOUR RISK
-----------------------------------------------------------------------------

BINARY DISTRIBUTION
Just unpack rgwnbin.tgz somewhere.
The executable is R.GNW\bin\R.exe. This binary distribution
includes only the standard packages (base+eda+mva+stepfun).

SOURCE DISTRIBUTION
This is an add-on to the R-0.61.1 distribution.
So unpack R-0.61.1.tar.gz somewhere.
Then, from the same directory, unpack rgwnsrc.tgz.
To rebuild the system, go to R-0.61.1/src/gnuwin32.
Then
   > make
should build the standard stuff.
To add a new package, you should
a) download it; 
b) unpack it in the R-0.61.1/src directory.
c) go to the R-0.61.1/src/gnuwin32 directory and type
   > make pkg-xxx
   where xxx is the name of the package.
   You should get the directory R-0.61.1/library/xxx
   and its subdirectory R/ (the r-code) data/ (the 
   data of the package) R/libs (the dynamic link library) and
   the support for the help system (INDEX, TITLE, an updated
   LibIndex). Of course, the data and libs subdirectory
   can be missing.
d) if you want the documentation, you can download 
   the preformatted one.Then  unpack it in the R-0.61.1
   (not in the R-0.61.1/src) directory. If you don't need
   the LaTeX files, remove them.

Note:
(1) Of course, you need a compiler. As I have said I used 
    the egcs-mingw32 one:
    http://www.xraylith.wisc.edu/~khan/software/gnu-win32/
(2) You must also have a GNU make and some standard unix
    command (ls,cat,sed,rm). Furthemore, make and this
    command must be able to overcome the MsDOS limitation
    about the length of a command.
    I used the ones coming with the djgpp compiler.
    According to me, they are the best version for dos and
    windows. You can find it in any SIMTEL mirror.
    If you want, I can make available a small file with
    only the needed tools.
(3) The gnuwin32/Makefile use the g77 Fortran compiler.
    If you don't have it, or if you don't want to use it,
    you can use something like
      > make HAVEG77=NO 
    or
      > make HAVEG77=NO pkg-xxx
    For example, the g77 compiler in egcs-mingw32 was
    not able to compile the fortran code in the acepack package.
    However, I was able to build this package with the command
      > make HAVEG77=NO pkg-acepack
(4) When installing a package, if in R-0.61.1/src/library/xxx/R
    exist a file with name yyy.gnw then this file is used
    and files with name yyy or yyy.somethingelse are
    ignored. In this way, you can configure the R code
    of the package. An example is the base/R/system.gnw
    file.
(5) This is not a developer's distribution. For example, dependences
    are written in a silly way. Furthemore, all the code
    in src/appl/, src/appl-f,..... is compiled.
    No use of the original Makefile is done.
    Hence, you have to start from a cleaned distribution.


BUGS and TODO
(0) The English of this README.
(1) If you exit from the edit windows and this is empty you get a
    segmentation fault. This happens also on my Linux box. So,
    it seem to be a general problem.
(2) The dll's are statically linked with the other R code.
    So they get support for the routines that they need.
    In this way, they work but are big. We should have
    a large R.dll with all the standard code. Then 
    the executable and the dll's should simply import
    from R.dll.
(3) Try and adapt this port to other win32 compiler.
    It should be easy. So, why don't try?
(4) The system command does not work if the command to be
    execute require some user interaction. It is just a 
    "simulated  reading pipe for a broken OS".
(5) I inserted an event loop at the beginning of the
    function which print to the console. In this way,
    you can interupt the computation or, for example,
    give the focus to the graphics window.
    But only when you print. A call to the event loop
    must be inserted inside the "main" code.
    But, for the moment, I decided to leave the "main"
    code untouched.
(6) When building package xxx, all the C and Fortran files
    found in library/xxx/src (or library/xxx/src-c if
    you don't have the g77 compiler) are compiled
    and putted in a dll. On the contrary, we have to make
    use of the original Makefile.
(7) The Windows code must be cleaned. 
    

guido masarotto                             22 marzo 1998
guido@sirio.stat.unipd.it



    
    
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Mon Mar 23 08:08:42 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 23 Mar 1998 09:08:42 +0100
Subject: mail-archive place?
In-Reply-To: <x23egdzaj2.fsf@blueberry.kubism.ku.dk>
References: <0302875C631AD11198DE00600806C63747A02D@ev009msxaege.ae.ge.com>
 <x23egdzaj2.fsf@blueberry.kubism.ku.dk>
Message-ID: <199803230808.JAA27642@galadriel.ci.tuwien.ac.at>

>>>>> On 20 Mar 1998 15:45:05 +0100,
>>>>> Peter Dalgaard BSA (PDB) wrote:

PDB> "Buyukisik, Osman (GEAE)" <Osman.Buyukisik@ae.ge.com> writes:
>> 
>> I tried ftp://stat.math.ethz.ch/pub/   ? as well as http://stat.math.ethz.ch,
>> but can't get there?? Where is the mail archive place??
>> 
>> TIA,
>> Osman

PDB> ftp://ftp.stat.math.ethz.ch/pub/Mail-archives

PDB> PS: Your return address is confusing GNUS, presumably it's the comma
PDB> in "Buyukisik, Osman (GEAE)". Is this a bug in GNUS or a non-compliant
PDB> address?

You can also find the mail archives at every CRAN mirror, check

	http://www.ci.tuwien.ac.at/R

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Mar 23 15:15:05 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Mon, 23 Mar 1998 09:15:05 -0600 (CST)
Subject: Placement of attributes
Message-ID: <m0yH8wL-0000YWC@verdi.stat.wisc.edu>

In preparing data sets for the lme library, I bring the data into R,
convert it to the groupedData class, which is an extension of the
data.frame class, and use "dump" to create an R-readable version.  
To cut down on the size of these files I convert the row.names
attribute from expressions like c("1", "2", ..., "54") to 1:54.

I have run into a curious problem that seems to related to the
position of the row.names attribute in the R-readable representation.
The following transcript was generated under R-0.61.1 on a Debian
Linux system.  I apologize for the length of the transcript.

R> print.groupedData
function (x, ...) 
{
        cat("Grouped Data: ")
        print(attr(x, "formula"))
        NextMethod("print", x, ...)
}
R> "Machines" <-
+   structure(list
+   (Worker = structure(ordered(c(4, 4, 4, 2, 2, 2, 
+      5, 5, 5, 3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 
+      3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 3, 3, 3, 
+      6, 6, 6, 1, 1, 1), levels=1:6), class = c("ordered", "factor"),
+      .Label = c("6", "2", "4", "1", "3", "5")),
+    Machine = structure(factor(c(1, 
+      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 
+      2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 
+      3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3), levels=1:3), class = "factor",
+      .Label = c("A", "B", "C")),
+    score = c(52, 52.8, 
+      53.1, 51.8, 52.8, 53.1, 60, 60.2, 58.4, 51.1, 52.3, 50.3, 50.9, 
+      51.8, 51.4, 46.4, 44.8, 49.2, 62.1, 62.6, 64, 59.7, 60, 59, 68.6, 
+      65.8, 69.7, 63.2, 62.8, 62.2, 64.8, 65, 65.4, 43.7, 44.2, 43, 
+      67.5, 67.2, 66.9, 61.5, 61.7, 62.3, 70.8, 70.6, 71, 64.1, 66.2, 
+      64, 72.1, 72, 71.1, 62, 61.4, 60.5)),
+ class = c("nffGroupedData", "nfGroupedData", "groupedData", "data.frame"),
+ row.names = 1:54,
+ formula = score ~ 1 | Worker,
+ labels = list(y = "Productivity score"),
+ inner = ~ Machine)
R> Machines
Grouped Data: score ~ 1 | Worker
   Worker Machine score
1       1       A  52.0
2       1       A  52.8
3       1       A  53.1
4       2       A  51.8
5       2       A  52.8
6       2       A  53.1
7       3       A  60.0
8       3       A  60.2
9       3       A  58.4
10      4       A  51.1
11      4       A  52.3
12      4       A  50.3
13      5       A  50.9
14      5       A  51.8
15      5       A  51.4
16      6       A  46.4
17      6       A  44.8
18      6       A  49.2
19      1       B  62.1
20      1       B  62.6
21      1       B  64.0
22      2       B  59.7
23      2       B  60.0
24      2       B  59.0
25      3       B  68.6
26      3       B  65.8
27      3       B  69.7
28      4       B  63.2
29      4       B  62.8
30      4       B  62.2
31      5       B  64.8
32      5       B  65.0
33      5       B  65.4
34      6       B  43.7
35      6       B  44.2
36      6       B  43.0
37      1       C  67.5
38      1       C  67.2
39      1       C  66.9
40      2       C  61.5
41      2       C  61.7
42      2       C  62.3
43      3       C  70.8
44      3       C  70.6
45      3       C  71.0
46      4       C  64.1
47      4       C  66.2
48      4       C  64.0
49      5       C  72.1
50      5       C  72.0
51      5       C  71.1
52      6       C  62.0
53      6       C  61.4
54      6       C  60.5
R> "Machines" <-   # only change is position of "row.names" and "class" attributes
+   structure(list
+   (Worker = structure(ordered(c(4, 4, 4, 2, 2, 2, 
+      5, 5, 5, 3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 
+      3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 3, 3, 3, 
+      6, 6, 6, 1, 1, 1), levels=1:6), class = c("ordered", "factor"),
+      .Label = c("6", "2", "4", "1", "3", "5")),
+    Machine = structure(factor(c(1, 
+      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 
+      2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 
+      3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3), levels=1:3), class = "factor",
+      .Label = c("A", "B", "C")),
+    score = c(52, 52.8, 
+      53.1, 51.8, 52.8, 53.1, 60, 60.2, 58.4, 51.1, 52.3, 50.3, 50.9, 
+      51.8, 51.4, 46.4, 44.8, 49.2, 62.1, 62.6, 64, 59.7, 60, 59, 68.6, 
+      65.8, 69.7, 63.2, 62.8, 62.2, 64.8, 65, 65.4, 43.7, 44.2, 43, 
+      67.5, 67.2, 66.9, 61.5, 61.7, 62.3, 70.8, 70.6, 71, 64.1, 66.2, 
+      64, 72.1, 72, 71.1, 62, 61.4, 60.5)),
+ row.names = 1:54,
+ class = c("nffGroupedData", "nfGroupedData", "groupedData", "data.frame"),
+ formula = score ~ 1 | Worker,
+ labels = list(y = "Productivity score"),
+ inner = ~ Machine)
R> Machines
Grouped Data: score ~ 1 | Worker

Process R segmentation fault at Mon Mar 23 09:14:43 1998
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Mar 23 16:05:00 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Mar 1998 17:05:00 +0100
Subject: Placement of attributes
In-Reply-To: Douglas Bates's message of Mon, 23 Mar 1998 09:15:05 -0600 (CST)
References: <m0yH8wL-0000YWC@verdi.stat.wisc.edu>
Message-ID: <x27m5ll7f7.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates@stat.wisc.edu> writes:

> R> Machines
> Grouped Data: score ~ 1 | Worker
> 
> Process R segmentation fault at Mon Mar 23 09:14:43 1998

in 0.61.2, this behaves differently:

> Machines
Grouped Data: score ~ 1 | Worker
Error: attempt to type-coerce non-vector

In both cases, that is.

However, applying print.data.frame directly or indirectly by removing
the print method, on the structures gives a print of the data frame in
the 1st case and a segfault in the 2nd.

A quick tour into the debugger show that it dies trying to do
CHAR(x[i]) with x[0] == 1, -- and  x[1] == 2, etc. Methinks that
row.names<-as.character(1:54) might help! 

However, one should probably also do the explicit coercion of rownames
to character in  printDataFrame...

But where did the type-coerce error come from?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Mon Mar 23 17:12:14 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Mon, 23 Mar 1998 12:12:14 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <x27m5ll7f7.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 23 Mar 1998 17:05:00 +0100)
Message-ID: <199803231712.MAA08319@c0230.ae.ge.com>

Peter Dalgaard writes:

>>row.names<-as.character(1:54) might help! 

Yes, that does help.   
...

478          PROTECT(rl = getAttrib(x, install("row.names")));

....

545          if (!isNull(rl)) formatString(STRING(rl), r, &rlabw, 0);
 
I guess if row.names are not strings, then the above line causes seg
fault.

Somehow in the first example they are coerced into strings because
they came after c("xxx" , ...). In the second example row.names comes
after c(2 , ...) .

Is there a way to check to see it rl contains strings?

Osman



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Mon Mar 23 18:00:58 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Mon, 23 Mar 1998 13:00:58 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <199803231712.MAA08319@c0230.ae.ge.com> (message from
 U-E59264-Osman Buyukisik on Mon, 23 Mar 1998 12:12:14 -0500 (EST))
Message-ID: <199803231800.NAA09688@c0230.ae.ge.com>

Well, I found isString(), and coerceToString in coerce.c. Just added
the follwoing line to line 479 in file printarray.c:

479        PROTECT(rl = getAttrib(x, install("row.names")));
480        if(!isString(rl)) PROTECT(rl = coerceToString( rl )); <--- NEW
481        PROTECT(cl = getAttrib(x, R_NamesSymbol));

Now I don't get seg fault. Machines get printed out but at the end I
get a message :
stack imbalance in print.data.frame, 13 then 14

I guess I did not do this right :-) I had to remove "static " from
definition of  coerceToString in coerce.c. I think row.names should be
coerced to String as it is read in since the help on row.names says it
is a char vector.

P.S. I am playing with R-snapshot March 17 on hpux10.20.

Osman



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Mon Mar 23 19:47:43 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 24 Mar 1998 07:47:43 +1200 (NZST)
Subject: Placement of attributes
Message-ID: <199803231947.HAA26886@stat1.stat.auckland.ac.nz>

The PROTECT macro has to do with protecting an internal object from the
garbage collector.

	SEXP x;			/* x is an s-expression */
				/* i.e. an R object of some sort */

	x = allocate an object
	PROTECT(x) 	
	...
	UNPROTECT(x)

Every PROTECTED object must be UNPROTECTed before you exit from the
current function.  The interpreter keeps track of how may pointers
are protected at entry and checks that this is the same at exit.

I am hoping that medium term we will be able to switch from our
home-grown garbage-collector to the Boehm conservative collector.
This should fix all sorts of problems, but there are a couple of
save/restore problems which need to fixed before that.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Mon Mar 23 20:39:03 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Mon, 23 Mar 1998 15:39:03 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <199803231947.HAA26886@stat1.stat.auckland.ac.nz> (message from
 Ross Ihaka on Tue, 24 Mar 1998 07:47:43 +1200 (NZST))
Message-ID: <199803232039.PAA10645@c0230.ae.ge.com>

OK, I took the PROTECT() out of the line I added since it was already
protected. Now I don't get the stack imbalance message, and "Machines" prints out
without seg fault. But, I had to change "static SEXP
coerceToString()" to just "SEXP coerceToString()". Does that cause any
problems? Otherwise the linker was not resolving the call to
coerceToString from printarray.c file.
Again the would the best place to  coerce to string in dataframe.c
file? 
Osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Mar 23 21:31:55 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 23 Mar 1998 13:31:55 -0800 (PST)
Subject: R-beta: R with gnuwin32
In-Reply-To: <x290qbptne.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SUN.3.95.980323132457.18565B-100000@chekov>


There has been some talk about missing header files for compiling the
windows stuff under gcc .  A company called Willows (www.willows.com) 
produces a set of tools for porting Windows programs to other platforms,
including the necessary header files, all under the GNU LGPL.  This might
have the files we need (I don't know enough about the problem to tell for
sure).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Mar 23 23:36:01 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Mar 1998 00:36:01 +0100
Subject: R-beta: R with gnuwin32
In-Reply-To: Thomas Lumley's message of Mon, 23 Mar 1998 13:31:55 -0800 (PST)
References: <Pine.SUN.3.95.980323132457.18565B-100000@chekov>
Message-ID: <x2d8fdgeu6.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas@biostat.washington.edu> writes:

> 
> 
> There has been some talk about missing header files for compiling the
> windows stuff under gcc .  A company called Willows (www.willows.com) 
> produces a set of tools for porting Windows programs to other platforms,
> including the necessary header files, all under the GNU LGPL.  This might
> have the files we need (I don't know enough about the problem to tell for
> sure).
> 
> 	-thomas

These were checked out by someone on the Gnuwin32 list a couple of
weeks ago and were found inadequate. I also tried them myself without
luck at some point.

Basically, every time you try to lift header files off of another
package in this game you find that they are incompatible in some
*other* aspect and cause your programs to get burnt to cinders in an
astounding flurry of error messages...

As I understand Guido M's work, he's filled in the few gaps necessary
to get the current R/Windows functions to run by inserting the
relevant definitions by hand. I think most of these definitions are
already in *some* freeware toolkit, so they're not likely to cause
legal trouble (and the possibility of copyrighting the information
that WM_DDE_FIRST is 0x03E0 etc., is dubious in the first place). I
haven't gotten around to looking at the details (today was crazy
enough already!) but I expect that what he's done already should make
it possible to do what we want as far as current sources are
concerned. Trouble may arise as we try to improve the Win32 functions,
though.

There are two obvious pathways to proceed along in that case:

1) Figure out exactly what you *can* do with the gnu headers and use
that. Obviously requires knowledge of the Win32 API.

2) Use a portable toolkit. V, wxWindows, Tcl/Tk, with the latter
appealing quite a bit to me as I've already indicated on a number of
occasions.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Tue Mar 24 10:27:15 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Tue, 24 Mar 1998 11:27:15 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32 (fwd)
Message-ID: <19980324102715.4351.qmail@sirio.stat.unipd.it>

> Peter Dalgaard BSA writes:
> > 
> > As I understand Guido M's work, he's filled in the few gaps necessary
> > to get the current R/Windows functions to run by inserting the
> > relevant definitions by hand. I think most of these definitions are
> > already in *some* freeware toolkit, so they're not likely to cause
> > legal trouble (and the possibility of copyrighting the information
> > that WM_DDE_FIRST is 0x03E0 etc., is dubious in the first place). I
 Inserting by hand was by first approach. But in the distribution
 that I made available, I used, to avoid legal problem, part of the
 header included in lcc-win32 which is freeware. Look to the
 file lcc.h in rgwnsrc.tgz.
 What is missing in the gnu header are the definitions of the 
 Edit_something macros and of some constants. 
 Observe that the use of the first ones can be avoid 
 if in the source we substitute them with the appropriate
 SendMessage calls.
> > 
> > 2) Use a portable toolkit. V, wxWindows, Tcl/Tk, with the latter
> > appealing quite a bit to me as I've already indicated on a number of
> > occasions.
 Perhaps, this is the best solution. Another portable toolkit which is small,
 only C not C++, and so easy to use is GraphApp.
 guido m.
 
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From naras@stat.Stanford.EDU  Tue Mar 24 15:59:36 1998
From: naras@stat.Stanford.EDU (Balasubramanian Narasimhan)
Date: Tue, 24 Mar 1998 07:59:36 -0800
Subject: R-beta: R with gnuwin32
In-Reply-To: Your message of "24 Mar 1998 00:36:01 +0100"
References: <x2d8fdgeu6.fsf@blueberry.kubism.ku.dk>
Message-ID: <199803241559.HAA15294@rgmiller.Stanford.EDU>

>>>>> "Peter" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
>>>>> "Peter" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
    Peter> 2) Use a portable toolkit. V, wxWindows, Tcl/Tk, with the
    Peter> latter appealing quite a bit to me as I've already
    Peter> indicated on a number of occasions.

I have just started looking into the "latter". I've done some work
with Tcl/Tk but I am just looking seriously at R sources now. Should
we form a core group to coordinate this effort? This might help me come
up to speed quickly.

________________________________________________________________
B. Narasimhan                            naras@stat.stanford.edu
                             http://www-stat.stanford.edu/~naras





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Tue Mar 24 18:27:36 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Tue, 24 Mar 1998 13:27:36 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <6rvht4dn1b.fsf@verdi.stat.wisc.edu> (message from Douglas Bates
 on 24 Mar 1998 11:19:28 -0600)
Message-ID: <199803241827.NAA04434@c0230.ae.ge.com>

Well, it wasn't in dataframe.c, but in attrib.c file function
rownamesgets! coerceVector( , STRSEXP) was already there but due to
if(isFrame(vec))  line was not getting executed. I moved the
"If(isFrame..." line to right after PROTECT(val) (3 lines down). Now
it works :-). At least as far as running the test code. I don't know
why isFrame(vec) was returning false. We are reading in a data frame.

Osman
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Tue Mar 24 18:47:34 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Tue, 24 Mar 1998 19:47:34 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32
Message-ID: <19980324184735.5892.qmail@sirio.stat.unipd.it>

 I am sorry but, on sunday, I putted on the ftp server not the last
 version of my work.
 There are two bugs that I had already discovered:
 (a) to run all the demos, at least on my machine, you have
     to eliminate the max.parse.length=10000 at the end
     of the demo function (in the call to source).
 (b) the menu item which sources a file sometimes doesn't 
     work. The source(...) command should work. I had already
     correct the C source.
 
 Of course, there are some other zillion of bugs unknown.
 
 I apologize for the problems.
 guido m.
     
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 25 08:22:23 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 25 Mar 1998 09:22:23 +0100
Subject: R alpha/beta naming
Message-ID: <199803250822.JAA19152@sophie.ethz.ch>

Read this morning
>>>	R : Copyright 1998, Robert Gentleman and Ross Ihaka
>>>	Version 0.61.2 Alpha (March 15, 1998)
		       -----
So, there still is no  "R beta" around....

- If I didn't know R, would I use a statistics software, if it was still 
  in alpha testing state?
- Is this really what we want to tell people about R?

More to the point:
	I think, we could have called it beta, really.
	Even though there still are known bugs.

	S-plus 4.0 wasn't even called beta...

==> Should we plan to release  
    0.61.3 Beta ?
	   ----  (with only very minor changes from 0.61.2)

Other opinions?

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Wed Mar 25 08:35:15 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 25 Mar 1998 09:35:15 +0100
Subject: R alpha/beta naming
In-Reply-To: <199803250822.JAA19152@sophie.ethz.ch>
References: <199803250822.JAA19152@sophie.ethz.ch>
Message-ID: <199803250835.JAA07841@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 25 Mar 1998 09:22:23 +0100,
>>>>> Martin Maechler (MM) wrote:

MM> Read this morning
>>>> R : Copyright 1998, Robert Gentleman and Ross Ihaka
>>>> Version 0.61.2 Alpha (March 15, 1998)
MM> 		       -----
MM> So, there still is no  "R beta" around....

MM> - If I didn't know R, would I use a statistics software, if it was st=
ill=20
MM>   in alpha testing state?
MM> - Is this really what we want to tell people about R?

MM> More to the point:
MM> 	I think, we could have called it beta, really.
MM> 	Even though there still are known bugs.

MM> 	S-plus 4.0 wasn't even called beta...

MM> =3D=3D> Should we plan to release =20
MM>     0.61.3 Beta ?
MM> 	   ----  (with only very minor changes from 0.61.2)

MM> Other opinions?

Hmm, as long as we have a major version number of 0 I think we could
omit any ALPHA or BETA declaration, because the 0 implies that this is
not considered to be a final release. Then we could restart thinking
about alpha/beta statements once 1.0 is out ...

That's also the reason why I removed the text ``alpha and beta
versions'' from the CRAN main page and replaced it by a simple
``R source code''.

Just my 10g (=3Dsmallest coin in Austria),
Fritz

--=20
-------------------------------------------------------------------
                        Friedrich  Leisch                            =20
Institut f=FCr Statistik                      Tel: (+43 1) 58801 4541
Technische Universit=E4t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra=DFe 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Mar 25 08:39:20 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 25 Mar 1998 09:39:20 +0100 (CET)
Subject: R alpha/beta naming
In-Reply-To: <199803250822.JAA19152@sophie.ethz.ch>
References: <199803250822.JAA19152@sophie.ethz.ch>
Message-ID: <13592.49725.379491.144013@pc25.none>

>>>>> Martin Maechler writes:

> Read this morning
>>>> R : Copyright 1998, Robert Gentleman and Ross Ihaka
>>>> Version 0.61.2 Alpha (March 15, 1998)
> 		       -----
> So, there still is no  "R beta" around....

> - If I didn't know R, would I use a statistics software, if it was still 
>   in alpha testing state?
> - Is this really what we want to tell people about R?

> More to the point:
> 	I think, we could have called it beta, really.
> 	Even though there still are known bugs.

> 	S-plus 4.0 wasn't even called beta...

> ==> Should we plan to release  
>     0.61.3 Beta ?
> 	   ----  (with only very minor changes from 0.61.2)

> Other opinions?

stable releases        <=> BETA
development releases   <=> ALPHA

I.e., (btw, YES!),

	0.61.3 (BETA)
	0.62.0 (ALPHA)

which would be great anyway as then we don't have to worry about
even/odd version numbers ... (our numbering is the opposite of e.g.
the Linux kernel).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Wed Mar 25 10:14:56 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Wed, 25 Mar 1998 11:14:56 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32
In-Reply-To: <199803250901.29958.solva.ifi.uio.no@ifi.uio.no> from "Jan Kutylowski" at Mar 25, 98 10:01:43 am
Message-ID: <19980325101456.9617.qmail@sirio.stat.unipd.it>

Jan Kutylowski writes:
> 
> 
> 
> 
> I picked up your execs of R. First impression is that R apears faster.
> But running a demo does not stop the screen after it fills up, so
> it is unpleasant. Is there anything I can do about this?
The same happens also under unix (at least under linux).
If I understand the point, but someone else can give you better advice,
you have to look to the source function, try to compute the number
of line printed, and stop when .... I will give a look to the function.
> 
> I would very much welcome if you could update the binaries as you
> discover bugs etc. 
> 
> I believe gcc on Windows is THE way to go. Your work brings the light
> to the issues of the coexistence of updated Windows/Linux versions.

When I will have time, I want to prepare a version for my student
with many of the packages available. I can also try to fix bugs 
when these will be  discovered but my attempt was only an experiment.
guido m.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Mar 25 10:32:13 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Mar 1998 11:32:13 +0100
Subject: R alpha/beta naming
In-Reply-To: Kurt Hornik's message of Wed, 25 Mar 1998 09:39:20 +0100 (CET)
References: <199803250822.JAA19152@sophie.ethz.ch>
 <13592.49725.379491.144013@pc25.none>
Message-ID: <x2pvjbf4cy.fsf@blueberry.kubism.ku.dk>

Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:

> > Other opinions?
> 
> stable releases        <=> BETA
> development releases   <=> ALPHA
> 
> I.e., (btw, YES!),
> 
> 	0.61.3 (BETA)
> 	0.62.0 (ALPHA)
> 
> which would be great anyway as then we don't have to worry about
> even/odd version numbers ... (our numbering is the opposite of e.g.
> the Linux kernel).

No... The next release is 0.62.0, at which point we start patching
0.62.[1234..] while putting new features into 0.63.0. We simply don't
use the stable/unstable model, but a release/snapshot one. 

I'm with Fritz: Just forget about the alpha/beta designations, they
belong in another world. 

They *might* be used meaningfully as follows:

0.61.2 is the current release

0.62.0 alpha is the current snapshot
0.62.0 beta is the current snapshot when a code freeze is announced

Currently, the state of the patch branch is unavailable between
releases, which I'm not really sure is a good thing. If we made it
accessible then it could be

0.61.3 beta 

(with the solemn vow that the patch branch never enters an alpha
state!)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Wed Mar 25 15:01:21 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Wed, 25 Mar 1998 16:01:21 +0100 (MET)
Subject: POSIX regular expressions on Irix 5.3
In-Reply-To: <199803181946.HAA14615@stat1.stat.auckland.ac.nz>
References: <199803181946.HAA14615@stat1.stat.auckland.ac.nz>
Message-ID: <199803251501.QAA21283@wrin27.urz.uni-wuppertal.de>

OK, now I got it. But it is a pain to install R on Irix systems
without having gcc!

Ross Ihaka: 
 > If you look in the R source tree in R/src/regex you will find a version
 > of Henry Spencer's regular expression library.  You could try compiling
 > and installing that (you will need to modify the Makefile).  Some SGI
 > compilers have trouble with it, but it may work for you.

It doesn't compile. There is a header file missing.

 > 
 > If that doesn't work, there are a number of GNU regular expression
 > libraries, which you can get from the usual GNU places.  Install one
 > of them and then try again.  You may also want to pick up a recent version
 > of the readline library at the same time.
 > 
 > I'd be interested in a report if you are successful.
 > 
 > 	Ross

I installed the rx and readline libraries in /usr/local. Then I had to 
do a lot of changes changes to compile successfully. I append them.

I strongly recommend to make 'configure' smart enough to check for the
rx library (librx.a, rxposix.h) if necessary -- also in /usr/local! 


Another strange thing:

checking for main in -lreadline... yes
...
checking for readline/history.h... no

This file does exist! (in /usr/local/include -- is that the problem?) 


And, please, insert

SHELL = /bin/sh

in the Makefile's not generated by configure (those ones are OK)!


Thanks for R!

H.P.


Here are the changes:

*** src/include/Platform.h.origin       Tue Mar 24 15:47:24 1998
--- src/include/Platform.h      Tue Mar 24 15:56:43 1998
***************
*** 42,48 ****
  /* #undef USE_BUILTIN_RINT */
  
  /* POSIX Regular Expressions Available */
! /* #undef HAVE_REGCOMP */
  
  /* Compatibility for "memmove" on older BSD platforms */
  #define HAVE_MEMMOVE 1
--- 42,48 ----
  /* #undef USE_BUILTIN_RINT */
  
  /* POSIX Regular Expressions Available */
! #define HAVE_REGCOMP 1
  
  /* Compatibility for "memmove" on older BSD platforms */
  #define HAVE_MEMMOVE 1

*** src/main/Makefile.origin    Tue Mar 24 15:47:08 1998
--- src/main/Makefile   Tue Mar 24 16:26:14 1998
***************
*** 1,11 ****
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include
  LDCMD=cc
  DLLFLAGS=
  PICFLAGS=
  SHLIBLDFLAGS=-shared
! LIBS=-ldl -lreadline -ltermcap -lm 
  X_CFLAGS=
  X_LIBS= -lX11
  X_EXTRA_LIBS=
--- 1,11 ----
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include -I/usr/local/include
  LDCMD=cc
  DLLFLAGS=
  PICFLAGS=
  SHLIBLDFLAGS=-shared
! LIBS=-ldl -lreadline -ltermcap -lm -lrx 
  X_CFLAGS=
  X_LIBS= -lX11
  X_EXTRA_LIBS=

*** src/unix/Makefile.origin    Tue Mar 24 15:47:10 1998
--- src/unix/Makefile   Tue Mar 24 16:19:34 1998
***************
*** 1,6 ****
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include
  AR=ar
  RANLIB=:
  X_CFLAGS=
--- 1,6 ----
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include -I/usr/local/include
  AR=ar
  RANLIB=:
  X_CFLAGS=

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@math.sc.edu  Wed Mar 25 15:10:24 1998
From: rossini@math.sc.edu (Anthony Rossini)
Date: 25 Mar 1998 10:10:24 -0500
Subject: R alpha/beta naming
In-Reply-To: Peter Dalgaard BSA's message of "25 Mar 1998 11:32:13 +0100"
References: <199803250822.JAA19152@sophie.ethz.ch> 	<13592.49725.379491.144013@pc25.none> <x2pvjbf4cy.fsf@blueberry.kubism.ku.dk>
Message-ID: <wncn2ee24db.fsf@fhat.stat.sc.edu>



Until we get 1.0, I don't understand what the alpha/beta designations
mean.  I.e. from one view, it's beta, since the interface is
reasonably solid, and just some fixes need to be done.  Then one could 
consider that a whole new module will show up (implying alpha-status).

I think that stable/unstable would be better labels.

best,
-tony

---
Anthony Rossini
Manifold Graphics / Epimetrics
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 26 10:20:00 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Mar 1998 11:20:00 +0100
Subject: S Mailing List (and ``netiquette...'')
In-Reply-To: <1998Mar25.111514.1268.1100271@msmail.cnp.cldx.com>
 (JMorris@cldx.com)
Message-ID: <199803261020.LAA00727@sophie.ethz.ch>

>>>>> "Morris," == Morris, Jeffrey <JMorris@cldx.com> writes:

    Morris,> I know that the S Mailing list recently moved but am not sure
    Morris,> where.  I recently moved and would like to resubscribe to the
    Morris,> S Mailing list.  Could someone send me the latest info on
    Morris,> subscribing?

Every message on S-news now has the following ``trailer'':
>> -----------------------------------------------------------------------
>> This message was distributed by s-news@wubios.wustl.edu.  To unsubscribe
>> send e-mail to s-news-request@wubios.wustl.edu with the BODY of the
>> message:  unsubscribe s-news


Jeff, I think there would have been more appropriate ways for finding that
information than to send an e-mail to ~ 230 people
(one of them  un-subscribed in the sequence; 
 BTW: Every time we get a few ``inappropriate'' messages in R-help,
      a few people do unsubscribe...)
R-help subscribers want pertinent information, announcements, questions and
answers on R.


Regards:	
Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 26 10:28:22 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Mar 1998 11:28:22 +0100
Subject: R-beta: errors in R help docs
In-Reply-To: <Pine.OSF.3.95.980325105828.10239B-100000@io.uwinnipeg.ca>
 (message from Bill Simpson on Wed, 25 Mar 1998 11:02:38 -0600 (CST))
Message-ID: <199803261028.LAA00741@sophie.ethz.ch>

Thank you very much, Bill, 
for reporting this.

I will put yourfix into the source.

However,
for minor fixes like this one, I'd think "R-devel" would be have been more
appropriate.

Thank you, once more: Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Thu Mar 26 10:58:55 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 26 Mar 1998 22:58:55 +1200 (NZST)
Subject: We've got the power (almost)
Message-ID: <199803261058.WAA04058@stat1.stat.auckland.ac.nz>

Over the next few days Auckland will be back to full power levels.
I've been staying away from work as much as possible in the name of
power saving (it gets to be habit forming :-).  I hope to be a bit more
productive on R stuff soon.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 26 11:04:30 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Mar 1998 12:04:30 +0100
Subject: S programming style & "missing(.)" [was "regarding bugs in barplot" on R-core]
In-Reply-To: <199803260055.MAA22903@stat1.stat.auckland.ac.nz> (message from
 Paul Murrell on Thu, 26 Mar 1998 12:55:23 +1200 (NZST))
Message-ID: <199803261104.MAA00782@sophie.ethz.ch>

	[The part about S (S-plus and R being dialects of S) programming
	 (at the end) makes me cc'ing this to R-devel. MM]

On R-core,
>>>>> "Paul" == Paul Murrell <paul@stat.auckland.ac.nz> writes:

    Paul> hi (i) the problem with the positioning of the legend in your
    Paul> barplot example:

    Paul> barplot(matrix(1:12,ncol=3),bes=T,legend.text=c("ABC","B2","C3","D4"),col=1:4)
    Paul> was actually a bug in legend() (now fixed)

thank you for the fix (I'm probably also among the culprits..).
Since it's mentioned here, following is the patch against 0.61.2:

--- R-0.61.2/src/library/base/R/legend	Wed Nov 12 04:53:32 1997
+++ R-devel/src/library/base/R/legend.R	Thu Mar 26 06:02:23 1998
@@ -60,13 +60,17 @@
 		if(!merge) w <- w + x.intersp * xchar
 	if(merge) w <- w + x.intersp * xchar
 	## (w,h) are now the final box width/height. --> Adjust (x,y) :
-	x <- x - xjust * w
-	y <- y + (1 - yjust) * h
+	left <- x - xjust * w
+	top <- y + (1 - yjust) * h
+	right <- left+w
+	bottom <- top-h
+	if (xlog) { left <- 10^left; right <- 10^right }
+	if (ylog) { top <- 10^top; bottom <- 10^bottom }
 	if (bty != "n")
-		rect(x, y, x+w, y-h, col = bg)
+		rect(left, top, right, bottom, col = bg)
 	## (xt[],yt[]) := 'current' vectors of (x/y) legend text
-	xt <- rep(x, n.leg) + xchar
-	yt <- y - (1:n.leg) * ychar
+	xt <- rep(left, n.leg) + xchar
+	yt <- top - (1:n.leg) * ychar
 	if (!missing(fill)) {	#- draw filled boxes -------------
 		xx <- cbind(xt, xt + xbox)
 		if (xlog) xx <- 10^xx


    Paul> (ii) i am told that the "!missing(col)" condition that meant a
    Paul> legend would not be drawn if col was not specified is a
    Paul> historical "feature" (from when col did not have a default
    Paul> value).  i have removed the condition.

thank you, Paul.

May I add something  much more general here
 	(and also pertinent to barplot(.)):

	    ==================================	   
My point:  || almost never use	missing(arg) ||
	   || rather use	is.null(arg) ||
	    ==================================	   

(I have the impression that this rule is actually even observed by
 increasingly more S "programmers").

This actually goes back to a discussion on S-news of Dec. 20-22, 1994,
 Rick Becker started to give "S Programming Style" hints,
 John Maindonald added to them, giving the is.null(.) hint,
 and Rich Heiberger and me ``concluded'']

Here an excerpt of these December 1994 mailings:
RMH:
	My conclusion is that an explicit NULL default value is safer than
	a missing default.
MM:

MM94> I completely agree ---
MM94> it has the further advantage (hidden in RMH's example)
MM94> that you can explicitly set the parameter to NULL
MM94> which allows for the following  nice code in a calling function :
MM94> 
MM94> 	myfunction <- function(.........) {
MM94>          .....
MM94> 	 mm <- sub.function(x,y,z,u,v,w,  def.par = if(abcdef) pi )
MM94>          .....
MM94> 	}
MM94> 
MM94> The  ``if(CC) A'' as an expression returns NULL if CC evaluates to FALSE
MM94> such that in the example, the  def.par  argument
MM94> is either set to  pi  or NULL.
MM94> WITHIN  sub.function(.),
MM94>   missing(def.par)   evaluates to FALSE in BOTH cases,
MM94> whereas
MM94>   is.null(def.par)
MM94> tells you if the default is taken or not....
MM94> 
MM94> such that when  sub.function(.)  uses  missing(def.par)
MM94> the above code fragment would have to look more ugly, repeating the whole
MM94> argument list of sub.function [think of a LOOOONG list x,y,z,u,v,w,...]
MM94> 
MM94> 	myfunction <- function(.........) {
MM94>          .....
MM94> 	 mm <- if(abcdef) sub.function(x,y,z,u,v,w,  def.par = pi )
MM94>                 else      sub.function(x,y,z,u,v,w)
MM94>          .....
MM94> 	}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 27 14:33:02 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Mar 1998 15:33:02 +0100
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
Message-ID: <199803271433.PAA09656@sophie.ethz.ch>

I'm doing some systematic investigations about which functions are
<primitive> in R (and which of these should be changed to .Internal(...))...

I just discovered :

> x <- 1:10
> comment(x)
NULL
> comment(x) <- "x is just a vector"
> x
 [1]  1  2  3  4  5  6  7  8  9 10
> attributes(x)
$comment
[1] "x is just a vector"

> comment(x)
[1] "x is just a vector"

----------
Who of you (besides Ross?)  did know this feature.

"comment" is an *INVISIBLE* (for printing) 
attribute you can give to anything, including  functions and data.frames.

Any volunteer for writing a Rdoc file "comment.Rd" (for `?comment' to
work)?

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Fri Mar 27 21:31:21 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 28 Mar 1998 09:31:21 +1200 (NZST)
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
Message-ID: <199803272131.JAA24513@stat1.stat.auckland.ac.nz>

> From r-devel-owner@stat.math.ethz.ch Sat Mar 28 02:30 NZS 1998
> Date: Fri, 27 Mar 1998 15:33:02 +0100
> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: R-devel@stat.math.ethz.ch
> Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
> Mime-Version: 1.0 (generated by tm-edit 7.95)
>
> I'm doing some systematic investigations about which functions are
> <primitive> in R (and which of these should be changed to .Internal(...))...
>
> I just discovered :
>
> > x <- 1:10
> > comment(x)
> NULL
> > comment(x) <- "x is just a vector"
> > x
>  [1]  1  2  3  4  5  6  7  8  9 10
> > attributes(x)
> $comment
> [1] "x is just a vector"
>
> > comment(x)
> [1] "x is just a vector"
>
> ----------
> Who of you (besides Ross?)  did know this feature.

You are making the assumption that I know about this :-).
I do have a very vague memory of trying something like this as
and experiment.  Is it worth keeping?

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Mar 27 23:16:37 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Mar 1998 00:16:37 +0100
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
In-Reply-To: Ross Ihaka's message of Sat, 28 Mar 1998 09:31:21 +1200 (NZST)
References: <199803272131.JAA24513@stat1.stat.auckland.ac.nz>
Message-ID: <x2vhszafmy.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:

> > Who of you (besides Ross?)  did know this feature.
> 
> You are making the assumption that I know about this :-).
> I do have a very vague memory of trying something like this as
> and experiment.  Is it worth keeping?
> 
> 	Ross

Definitely. Not very long ago someone asked whether there was an R
equivalent of SPSS's description field...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From warnes@biostat.washington.edu  Sat Mar 28 00:43:22 1998
From: warnes@biostat.washington.edu (Gregory R. Warnes)
Date: Fri, 27 Mar 1998 16:43:22 -0800 (PST)
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
In-Reply-To: <199803272131.JAA24513@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.SOL.3.95.980327164112.23081B-100000@gorn>


On Sat, 28 Mar 1998, Ross Ihaka wrote:

> > From: Martin Maechler <maechler@stat.math.ethz.ch>
> > To: R-devel@stat.math.ethz.ch
> > Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
>
[...]
> and experiment.  Is it worth keeping?

I think it's worth keeping!  

-Greg

-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes@biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Mar 30 22:12:30 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 30 Mar 1998 16:12:30 -0500
Subject: R-beta: Not loading C library
References: <351FD4CA.798F14@kiefte.v-wave.com>
Message-ID: <98Mar30.161712est.13442@mailgate.bank-banque-canada.ca>

>I try sourcing test.R from the 'class' package, I get this error:
>EError in .C("VR_knn1", as.integer(ntr), as.integer(nte), as.integer(p),
>: C/Fortran function not in load table

I haven't used this package but you should be using library("class") rather than
source to get class.so loaded. Also beware,
(R-devel: I HOPE THIS SIMPLE BUG IS FIXED IN NEW RELEASES OF R BECAUSE IT HAS
THE POTENTIAL TO CAUSE A LOT
OF UNNECESSARY PROBLEMS)
there was a message once on r-devel about a bug in library.dynam which may be
causing the problem. I've lost the message, but as I recall, if you save your
workspace when you q() (ie. create the .RData file) then when R starts it
reloads  a variable .Dyn.libs which indicates libraries which have been loaded
(even
though they are not yet loaded in the new session). I think if you
    rm(.Dyn.libs)
before you do
    library("class")
then it may work.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Mar 31 08:31:07 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 31 Mar 1998 09:31:07 +0200
Subject: R-beta: Not loading C library
In-Reply-To: <98Mar30.161712est.13442@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Mon, 30 Mar 1998 16:12:30 -0500)
Message-ID: <199803310731.JAA00493@sophie.ethz.ch>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    >> I try sourcing test.R from the 'class' package, I get this error:
    >> EError in .C("VR_knn1", as.integer(ntr), as.integer(nte),
    >> as.integer(p), : C/Fortran function not in load table

    PaulG> I haven't used this package but you should be using
    PaulG> library("class") rather than source to get class.so loaded. Also
    PaulG> beware, (R-devel: I HOPE THIS SIMPLE BUG IS FIXED IN NEW
    PaulG> RELEASES OF R BECAUSE IT HAS THE POTENTIAL TO CAUSE A LOT OF
    PaulG> UNNECESSARY PROBLEMS)

You mean, "source(..)" instead of  "library(..)" ?

 ``No way!''

1) Packages (formerly know as "libraries") are attached to a different
   place on the search() list,  whereas  source(.) would mix the package
   objects with your own objects.
   Nobody should encourage this.

2) Packages may load compiled code (see below) which is done using
   library.dynam (in 0.61.x) or rather
   library.dynam WITHIN a .First.lib function (from 0.62.0 on).

    PaulG> there was a message once on r-devel about
    PaulG> a bug in library.dynam which may be causing the problem. I've
    PaulG> lost the message, but as I recall, if you save your workspace
    PaulG> when you q() (ie. create the .RData file) then when R starts it
    PaulG> reloads a variable .Dyn.libs which indicates libraries which
    PaulG> have been loaded (even though they are not yet loaded in the new
    PaulG> session). I think if you rm(.Dyn.libs) before you do
    PaulG> library("class") then it may work.

You are correct, Paul.
However, this bug was fixed ``from 0.61.1 to 0.61.2''.
As was said by our release master, Peter Dalgaard, 
0.61.2 has been a bug fix release where we have been careful not to
introduce any new bugs (and for that reason did not include 
several nice new features of the development version).

Martin.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Mar 31 21:46:53 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 31 Mar 1998 15:46:53 -0500
Subject: R-beta: Not loading C library
References: <199803310731.JAA00493@sophie.ethz.ch>
Message-ID: <98Mar31.155223est.13459@mailgate.bank-banque-canada.ca>

    PaulG> when you q() (ie. create the .RData file) then when R starts it
    PaulG> reloads a variable .Dyn.libs which indicates libraries which
    PaulG> have been loaded (even though they are not yet loaded in the new
    PaulG> session). I think if you rm(.Dyn.libs) before you do
    PaulG> library("class") then it may work.
>However, this bug was fixed ``from 0.61.1 to 0.61.2''.
>As was said by our release master, Peter Dalgaard,
>0.61.2 has been a bug fix release where we have been careful not to

Martin
I just confirmed that Michael Kiefte seems to be  experiencing this problem in
0.61.2 Alpha, so I'm not so sure it has been fixed. But, of course, I'm more
concerned that it is fixed in 0.62.
Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Mar 31 23:24:28 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Apr 1998 00:24:28 +0200
Subject: R-beta: Not loading C library
In-Reply-To: Paul Gilbert's message of Tue, 31 Mar 1998 15:46:53 -0500
References: <199803310731.JAA00493@sophie.ethz.ch>
 <98Mar31.155223est.13459@mailgate.bank-banque-canada.ca>
Message-ID: <x2afa6a483.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> 
>     PaulG> when you q() (ie. create the .RData file) then when R starts it
>     PaulG> reloads a variable .Dyn.libs which indicates libraries which
>     PaulG> have been loaded (even though they are not yet loaded in the new
>     PaulG> session). I think if you rm(.Dyn.libs) before you do
>     PaulG> library("class") then it may work.
> >However, this bug was fixed ``from 0.61.1 to 0.61.2''.
> >As was said by our release master, Peter Dalgaard,
> >0.61.2 has been a bug fix release where we have been careful not to
> 
> Martin
> I just confirmed that Michael Kiefte seems to be  experiencing this problem in
> 0.61.2 Alpha, so I'm not so sure it has been fixed. But, of course, I'm more
> concerned that it is fixed in 0.62.
> Paul

Argh. Right. The .Dyn.libs problem is still in 0.61.2. Like Martin, I
could have *sworn* that it was fixed...

A workaround is simply to remove .Dyn.libs in the startup code. It
should suffice to change the system Rprofile by having something like
this in it:

.First <- function() {
  .Dyn.libs<<-NULL; rm(.Dyn.libs,pos=1)
  if (interactive() && getenv("DISPLAY") != "") x11()
}

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Mar  2 21:00:22 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Mon, 2 Mar 1998 15:00:22 -0600 (CST)
Subject: lme-2.8-1.tar.gz uploaded to src/contrib/devel
Message-ID: <m0y9cJy-0000XAC@verdi.stat.wisc.edu>

I have uploaded another snapshot of the R and C code for the lme
(linear mixed-effects models) library to the src/contrib/devel section of
the CRAN archives.  It will take a couple of days to get installed and 
exported to the mirrors.

I realized after I uploaded that I missed one symbolic link of
./lme/src-c should be linked as ./lme/src too.  Please run
 ln -s lme/src-c lme/src
before trying to install the library.

There is a file EXAMPLES included with this release.  It is a misnomer
- it only shows one example but at least you can see that one example
works - sort of.  I'm still having trouble with R/S-PLUS
inconsistencies in the model.matrix and data.frame functions.

This release really is for the devel section - brave beta-testers
only.

The good news is that the S-PLUS version does essentially everything
that SAS PROC MIXED does.  And, of course, it does it better :-)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Mar  3 09:36:49 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 3 Mar 1998 10:36:49 +0100
Subject: ":" (seq) bug -- should not always coerce to integer!
Message-ID: <199803030936.KAA02061@sophie.ethz.ch>


The problem seems that ":"  always coerces to integer, but should not..

9.9:12

## R:           [1]  9 10 11
## S-plus 3.4:  [1]  9.9 10.9 11.9

## and many more examples....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Mar  3 14:28:24 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 3 Mar 1998 15:28:24 +0100
Subject: ":" (seq) bug --> patch
In-Reply-To: <199803030936.KAA02061@sophie.ethz.ch> (message from Martin
 Maechler on Tue, 3 Mar 1998 10:36:49 +0100)
Message-ID: <199803031428.PAA02461@sophie.ethz.ch>

I corrected the bug myself.
Here is a patch

--- seq.c.~1~	Fri Jan 16 16:07:00 1998
+++ seq.c	Tue Mar  3 15:25:27 1998
@@ -1,6 +1,6 @@
 /*
- *  R : A Computer Langage for Statistical Data Analysis
- *  Copyright (C) 1995, 1996  Robert Gentleman and Ross Ihaka
+ *  R : A Computer Language for Statistical Data Analysis
+ *  Copyright (C) 1995-1998  Robert Gentleman and Ross Ihaka
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -17,12 +17,18 @@
  *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
  */
 
+/*  The `` x:y ''  primitive calls do_seq(.);
+ *
+ *  do_seq(.) calls  cross(.) if both arguments are factors
+ *	      and    seq(.)   otherwise.
+ */
+
 #include "Defn.h"
 #include "Mathlib.h"
 
 static SEXP seq(SEXP call, SEXP s1, SEXP s2)
 {
-	int i, n;
+	int i, n, in1;
 	double n1, n2;
 	SEXP ans;
 
@@ -37,28 +43,31 @@
 	if (ISNAN(n1) || ISNAN(n2))
 		errorcall(call, "NA/NaN argument\n");
 
-	if (n1 <= INT_MIN || n2 <= INT_MIN || n1 > INT_MAX || n2 > INT_MAX)
+	if (n1 <= INT_MIN || n2 <= INT_MIN || n1 > INT_MAX || n2 > INT_MAX
+	    || abs(n2 - n1) >= INT_MAX)
 		errorcall(call, "argument too large in magnitude\n");
 
-	if (n1 <= n2) {
-		n = n2 - n1 + 1 + FLT_EPSILON;
-		ans = allocVector(INTSXP, n);
-		for (i = 0; i < n; i++)
-			INTEGER(ans)[i] = n1 + i;
-	}
-	else {
-		n = n1 - n2 + 1 + FLT_EPSILON;
+	n = abs(n2 - n1) + 1 + FLT_EPSILON;
+	if (n1 == (in1 = (int)(n1))) {
 		ans = allocVector(INTSXP, n);
-		for (i = 0; i < n; i++)
-			INTEGER(ans)[i] = n1 - i;
+		if (n1 <= n2)
+			for (i = 0; i < n; i++) INTEGER(ans)[i] = in1 + i;
+		else
+			for (i = 0; i < n; i++) INTEGER(ans)[i] = in1 - i;
+	} else {
+		ans = allocVector(REALSXP, n);
+		if (n1 <= n2)
+			for (i = 0; i < n; i++) REAL(ans)[i] = n1 + i;
+		else
+			for (i = 0; i < n; i++) REAL(ans)[i] = n1 - i;
 	}
 	return ans;
 }
 
 	/*  cross  -  the "cross" of two factors  */
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar  4 15:05:06 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 4 Mar 1998 16:05:06 +0100
Subject: pretty(.) bug -- fix --> "compatibility" ?
Message-ID: <199803041505.QAA00847@sophie.ethz.ch>


In current versions of R,  

	pretty(333)

gives an infinite loop  
	(due to a silent integer overflow in  src/appl/pretty.c).

I've looked at this problem and also at what S-plus does,
(no code there to inspect, just experiments), and
then I have fixed  pretty.c.

I think that it now behaves much more reasonably 
	(both than before and than S / S-plus).

The only problem:
pretty(.) is not giving the same results any more in quite a few cases,
*and* is used in graphical functions such as
	hist(.)
and	contour(.)

----
Could this be a problem? [non-upward compatibility]
Currently, I plan to have the fixed  pretty(.) even in the upcoming
0.61.2 release which is termed
	"bug fix only"
The new pretty would however (very rarely) change the output of, e.g., hist(.).


Further, S-plus's pretty behaves wierdly in some cases  
which we don't want to emulate anyway.
In other cases pretty(1001.1001), however, it returns 1000 1500 
which is quite different from my improved R version which gives 1000 1002.

Is it okay for you if we do NOT strive for S-plus compatibility here?
Strict S-plus compatibility is not possible, since we don't have S-plus
code; but it is also not desirable in the cases where S's pretty() is
funny. 
However, with more experiments and thought, it ought to be possible
to come quite close to S's behavior.
But I don't want to spend that extra time if there are no stringent
reasons..

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Mar  4 15:36:26 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Mar 1998 16:36:26 +0100
Subject: pretty(.) bug -- fix --> "compatibility" ?
In-Reply-To: Martin Maechler's message of Wed, 4 Mar 1998 16:05:06 +0100
References: <199803041505.QAA00847@sophie.ethz.ch>
Message-ID: <x2u39eeadh.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> Is it okay for you if we do NOT strive for S-plus compatibility here?
> Strict S-plus compatibility is not possible, since we don't have S-plus
> code; but it is also not desirable in the cases where S's pretty() is
> funny. 
> However, with more experiments and thought, it ought to be possible
> to come quite close to S's behavior.
> But I don't want to spend that extra time if there are no stringent
> reasons..

We have a lot of these little differences. No reason to waste time on
them, unless we get actual complaints, I'd say.

(Here's a couple of additions to the list of differences:
 
   aovtable <- anova(KW.lm)$table
    Statistic <- aovtable["group","Sum Sq"]

    s <- summary(KW.lm)
    Statistic <- s$coefficients["group","t Value"] *
      s$sigma 

[anova returns a table, rather than a list containing a table, in S and
uses "Sum of Sq" and "t value"])

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Mar  5 21:03:39 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Thu, 5 Mar 1998 15:03:39 -0600 (CST)
Subject: User time and system time
Message-ID: <m0yAhnn-0000X5C@verdi.stat.wisc.edu>

I am running the R-0.62.0 snapshot on a Linux system.  This system has
128 Mb of real memory and almost never swaps.  I am trying to use
lme() on a very large example (7200 observations, 10 columns in the
fixed effects, 2 columns in the random effects).  We have the
optimization nicely tuned so that goes relatively quickly.  It seems,
though, that all the data manipulation steps before the optimization
are taking a rather long time.  I haven't compared on the same machine
but R is much slower - like an order of magnitude - than S-PLUS on
this problem.

It looks curious to me when I run system.time() on this that timing
vector shows almost no user time but a huge amount of system time.
 R> system.time(assign("fm2",
 +    lme(MathAch ~ MEANSES*CSES + Sector + CSES:Sector, ttt, ~ CSES | School,
 +        RML = TRUE )))
 iteration = 0
 Step:
 [1] 0 0 0
 Parameter:
 [1] 2.61400 0.16608 3.88195
 Function Value
 [1] 44964
 Gradient:
 [1] -0.014379 -0.143176 -0.646558

 iteration = 1
 Step:
 [1] 0.002888 0.028756 0.129857
 Parameter:
 [1] 2.61688 0.19483 4.01181
 Function Value
 [1] 44964
 Gradient:
 [1] -0.069529  0.539316  0.094097
 ... 
 iteration = 6
 Parameter:
 [1] 2.61636 0.17797 3.98709
 Function Value
 [1] 44964
 Gradient:
 [1] 8.3428e-06 1.3824e-04 3.1205e-04

 Relative gradient close to zero.
 Current iterate is probably solution.

 [1]   1.09 288.05 289.00   0.00   0.00

I can't really believe that it took only 1 second of user time and 288 
seconds of system time.  It didn't even do garbage collection in R (I
had gcinfo(T) set) and it wasn't swapping.

A call to proc.time() directly shows most of the time used is system
time.
 R> proc.time()
 [1]    16.30   577.01 13679.00     0.02     0.23

I looked at the code in src/unix/system.c and the structure seems
consistent.  Has anyone else tested system.time() extensively on a
Linux system?  Anyone have any ideas what might be going on?

Just for reference, this is a Debian GNU/Linux "hamm" system using
libc6.  I am running R with the options shown below. 
USER       PID %CPU %MEM  SIZE   RSS TTY STAT START   TIME COMMAND
bates    31073  3.8 41.1 54340 52620  p0 S    10:47   9:53 /usr/src/packages/r-base/r-base-0.62.0/bin/R.binary -v 40 -n 500000 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Mar  5 21:24:56 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Mar 1998 22:24:56 +0100
Subject: User time and system time
In-Reply-To: Douglas Bates's message of Thu, 5 Mar 1998 15:03:39 -0600 (CST)
References: <m0yAhnn-0000X5C@verdi.stat.wisc.edu>
Message-ID: <x2zpj4ltjr.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates@stat.wisc.edu> writes:

>  [1]   1.09 288.05 289.00   0.00   0.00
> 
> I can't really believe that it took only 1 second of user time and 288 
> seconds of system time.  It didn't even do garbage collection in R (I
> had gcinfo(T) set) and it wasn't swapping.

Does sound a bit extreme...

Could you be experiencing either libc code implemented as syscalls or
an effect of Linux's (mis?)feature of overcommitted memory (i.e. you
do a malloc, but all you really get is a bunch of virtual pages that
has to get cleaned when you access them the first time.

(Just talking through the top of my head, in case you didn't notice
that...) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Mar  5 23:16:18 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Thu, 5 Mar 1998 17:16:18 -0600 (CST)
Subject: system.time() results
Message-ID: <m0yAjsA-0000X5C@verdi.stat.wisc.edu>

Although I still think the results we saw for the system.time() on the
very large lme run are peculiar, we probably will be able to
circumvent the problem.  Jose' put in several calls to proc.time() in
the S-PLUS version and isolated the problem.  We have this very
elegant code that calculates a complicated of dimensions.  That one
piece of auxillary code that piece of code takes up about 90% of the
execution time.  It does a lot of cbind, rbind, and apply operations
where apply is working across rows.  It's a nice way to think of
things but it takes forever on large matrices.  Once we get that piece
of code cleaned up we will go back to the question of what
system.time() does under Linux.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ben@eno.Princeton.EDU  Sat Mar  7 17:44:13 1998
From: ben@eno.Princeton.EDU (Ben Bolker)
Date: Sat, 7 Mar 1998 12:44:13 -0500 (EST)
Subject: fairly trivial bug in box(): 0.61.1
Message-ID: <Pine.SUN.3.95.980307124032.8559A-100000@paca>


  box() doesn't appear to do anything with the "col=" parameter (it does
use "lwd=" correctly).
  I may fix this if I get around to it, for now I'll probably hack
PostScript.
  (Thanks, everyone, for all the work on R: I look forward to the spiffy
graphics once the "new and interesting bugs" are somewhat tamed ...)

Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben@eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Mon Mar  9 12:38:21 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Mon, 09 Mar 1998 12:38:21 -0000 ()
Subject: bug in menu, readline
Message-ID: <XFMail.980309130058.plummer@iarc.fr>

Neither do_menu nor do_readln (in src/main/scan.c) call the function
InitConsoleGetchar. They need to do this to reset ConsolePrompt.  If you
use "scan" to read in data from the terminal, then ConsolePrompt is set
to "n:" for some integer n and this prompt makes an unwelcome appearance
when you use the "menu" or "readline" functions.

Incidentally, could we have a "title" argument and a dummy "graphics"
argument for menu? This if for S-PLUS compatibility, if I may dare to
raise the topic.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Mar  9 13:44:44 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon,  9 Mar 1998 14:44:44 +0100 (CET)
Subject: bug in menu, readline
In-Reply-To: <XFMail.980309130058.plummer@iarc.fr>
References: <XFMail.980309130058.plummer@iarc.fr>
Message-ID: <13571.62010.128169.313124@pc25.none>

>>>>> Martyn Plummer writes:

> Neither do_menu nor do_readln (in src/main/scan.c) call the function
> InitConsoleGetchar. They need to do this to reset ConsolePrompt.  If you
> use "scan" to read in data from the terminal, then ConsolePrompt is set
> to "n:" for some integer n and this prompt makes an unwelcome appearance
> when you use the "menu" or "readline" functions.

> Incidentally, could we have a "title" argument and a dummy "graphics"
> argument for menu? This if for S-PLUS compatibility, if I may dare to
> raise the topic.

Sure.  I've already done this in 0.62.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 11 11:08:16 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 11 Mar 1998 12:08:16 +0100
Subject: prob./distr./quant./ran.num:  S compatibility in argument names??
Message-ID: <199803111108.MAA01354@sophie.ethz.ch>

Several of  R's   p/d/q/r (probability/density/quantile/random.number)
functions have argument names different from the ones S(-plus) uses
[e.g., pf(.), rbinom(.)].

Does everyone agree that we want to become compatible here?

Any volunteer for changing this in R?
If you do,
please give us/me a not, and
please get a current snapshot of the R development version from
				<<CRAN>>/src/devel/R-snapshot.tar.gz
e.g.	http://franz.stat.wisc.edu/pub/R/src/devel/R-snapshot.tar.gz

and edit	src/library/base/R/distn.R

and the MANY documentation files (where necessary)

     Beta.Rd
     Binomial.Rd
     Cauchy.Rd
     Chisquare.Rd
     Exponential.Rd
     F.Rd
     GammaDist.Rd
     Geometric.Rd
     Hypergeometric.Rd
     Logistic.Rd
     Lognormal.Rd
     NChisquare.Rd
     NegBinomial.Rd
     Normal.Rd
     Poisson.Rd
     T.Rd
     Uniform.Rd
     Weibull.Rd

in src/library/base/man/*.Rd

-------
Thanks in advance!
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 12 10:45:51 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 12 Mar 1998 11:45:51 +0100
Subject: p./d./q./r: S compatibility  and  time-series software for R?
In-Reply-To: <XFMail.980312095234.plummer@iarc.fr> (message from Martyn
 Plummer on Thu, 12 Mar 1998 09:49:31 -0000 ())
Message-ID: <199803121045.LAA12425@sophie.ethz.ch>

>>>>> "Martyn" == Martyn Plummer <plummer@iarc.fr> writes:

    Martyn> I will do this if you haven't been overrun with volunteers
    Martyn> already ;) 
No, you are the first to answer.
Thank you very much in advance!

---------------------

    Martyn> Some time ago you asked about a basic time series
    Martyn> library for R.  Did anything come of that?

Well, yes and no (more "no"):

1. Paul Gilbert has made his DSE (Dynamic Systems Estimation) library
   available for testing on  <<CRAN>>/src/contrib/devel/
   Unfortunately, I haven't yet had time to really look at it.

2. Ross Ihaka:
   Used to have a master's student looking at time series software.
   During the power failure break in Auckland (about 2 weeks ago),
   Ross said he was going home (because there was no electricity at his
   office) and would do some work on time-series stuff.

   He used to have time-series things (for R) in his private 
   directories,  and some of us have been begging him, to also
   ``release'' this could into <<CRAN>>/src/contrib/devel/ .
   Unfortunately, this has not yet happened.

3. Kurt Hornik has ported David James'  "chron" library
   (for chronological objects)
   and als put into <<CRAN>>/src/contrib/devel/  (why "devel"?).
   [Currently, the URL given in the above README doesn't work anymore..?]

4. Several other people seem to use some time-series R functions of their
   own.  There's no coordination and no common format / class, etc.

---
I think the important point here is to adopt a general common framework for
doing time-series in R.
The "tframe" (?) class in 'DSE' may be the most general and the way to go.
On the other hand, it looks somewhat complicated and delicate to work with.

Anyway, I think it would be a pain if we had several non-compatible classes
for time-series objects..
Also, S-plus compatibility (for some functions, not for all) may be an
issue.

Do we have a volunteer here?
-------
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Mar 12 15:24:27 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Mar 1998 10:24:27 -0500
Subject: S compatibility  and  time-series software for R, and more
References: <199803121045.LAA12425@sophie.ethz.ch>
Message-ID: <98Mar12.104103est.13449@mailgate.bank-banque-canada.ca>

As far as I know my time series package (dse) is working fairly well in R. There
are a few rough spots in the install and I haven't documented these very well,
so I haven't moved it out of devel, but it does seem to be working ok. There are
two things I use in Splus which I have only partly worked around in R.

1/ ar - I have a test version of this but it does not reproduce Splus results

2/ acf - I have type="correlation" working, but not type="partial"

I won't get to these for a long time, so if anyone is interested in working on
them I would be happy to provide what I have.

As far as other time series and related things are concerned:
-my package does not have much in the way of frequency domain, though I have
played with it a little bit and there are a few undocumented things that
possibly don't even work properly. If anyone is interested in working on this
then please contact me and I will provide what I have.
-I would really like to have the ability to use the same random number generator
in S and R, as lots of my work involves simulations and I like to be able to run
a common set of tests to make sure things aren't messing up. Martin has provided
me with code but I haven't had time to look at it. There do seem to be some
issues related to how one should specify what generator to use (e.g. an
environment variable is probably the easiest, but then reproducibility depends
on saving environment settings).

And beyond Splus compatibility:
-I have a set of programs for doing multivariate optimization (nonlinear simplex
and DFP) which I (would like to) use for mle. My use is for time series models,
but I  have it organized as an independent package. This is code which I wrote a
fair time ago, but put aside until the memory problems in S were fixed. I am
fairly sure this will work reasonably in R, but there are still a few bugs in
the code. If anyone is interested in working on this I can provide more details
and some assistance.
-I am starting to work on putting neural net time series models into my package.
I am playing with two possibilities: an interface to the SNNS package, and doing
it all in R. (This does actually seems to be possible in R, whereas in S it is a
disaster.) This is a new area for me, so things will be going slowly. If anyone
is interested in collaborating please let me know.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 12 17:17:14 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 12 Mar 1998 18:17:14 +0100
Subject: "`R notes' should be better"
In-Reply-To: <Pine.OSF.3.95.980312092714.1585B-100000@io.uwinnipeg.ca>
 (message from Bill Simpson on Thu, 12 Mar 1998 09:36:15 -0600 (CST))
Message-ID: <199803121717.SAA13033@sophie.ethz.ch>

	[CC'ed  to R-devel, not R-help]

>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

    Bill> Thanks very much Douglas for the pointer to nlm.  Maybe the
    Bill> "Notes on R" maintainer can add at least a mention of nlm in the
	   ======================
    Bill> section on nonlinear fitting?

    Bill>    .....

    Bill> (This example could replace the current nonlinear fitting section
    Bill> in "Notes on R")


You are talking of  <CRAN>/doc/Rnotes.ps, or Rnotes.tgz respectively,
yes?
The first page states both R & R as authors (beside Venables & D.Smith).
However, I doubt if they consider themselves as 'maintainers' 
of these notes (due to lack of time), or do you?

	Ross?  Robert?

The problem is that these notes need more work than just ('nls' <-> 'nlm').

Maybe I should ask again for volunteers, or maybe even a discussion 
on what could / should be done.

The notes have several sections (organized in different *.tex files) in
Rnotes.tgz.
Could(/should) we have different authors (ie. volunteers from among you)
for these sections?

About a year ago or so, Kurt Hornik proposed that these notes should become
chapter 1 -- n of ``the book'' where
the current things in  RHOME/doc/manual/Man.tex are just the appendices
(they already *are* appendices, currently).
R & R instead,  originally thought (and have also started ??) of completely
rewriting from scratch these chapters (1 -- n).

Which should be done (and by whom) ?

In the case of "R notes upgrading, 
it'd make sense if someone first works thru the current notes 
and makes them (somewhat) ``compatible'' with the  Rd.sty that we
currently use for the help-manual (i.e. the  doc/manual/... things).

------

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Thu Mar 12 17:46:45 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Thu, 12 Mar 1998 11:46:45 -0600 (CST)
Subject: "`R notes' should be better"
In-Reply-To: <199803121717.SAA13033@sophie.ethz.ch>
Message-ID: <Pine.OSF.3.95.980312114023.3505A-100000@io.uwinnipeg.ca>

Hi Martin et al.,

Well I started this BUT I didn't say "'R Notes' should be better"!!
I think the Notes are great!

> Maybe I should ask again for volunteers, or maybe even a discussion 
> on what could / should be done.
I would be happy to make the changes to this nonlinear fitting section,
once I know how to do nonlinear fitting with nlm.  However I use LyX
(which doesn't read *.tex files), and I would characterize myself as a
novice with R, with unix, with LaTeX, etc.

> In the case of "R notes upgrading, 
> it'd make sense if someone first works thru the current notes 
> and makes them (somewhat) ``compatible'' with the  Rd.sty that we
> currently use for the help-manual (i.e. the  doc/manual/... things).
I wouldn't be able to do this, due to ignorance.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Mar 12 21:05:18 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Mar 1998 16:05:18 -0500
Subject: R-beta: ctest_0_9-3_tar.tar
References: <199803121945.OAA14494@desire.stat.cmu.edu>
Message-ID: <98Mar12.162200est.13443@mailgate.bank-banque-canada.ca>

> > I'm having trouble un 'tar'ing the file ctest_0_9-3_tar.tar.
> >
> > When using the command "tar -xv" on a UNIX machine I get the
> > "checksum error" message. When trying to use WinZip on a Win95
> > machine it gives an error reading the header.

I've occassionaly had this sort of problem when I don't specify "binary" in ftp.
While this is not always necessary, some versions of ftp seem to be more
particular than others.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Mar 13 07:02:21 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 13 Mar 1998 08:02:21 +0100
Subject: p./d./q./r: S compatibility  and  time-series software for R?
In-Reply-To: <199803121045.LAA12425@sophie.ethz.ch>
References: <XFMail.980312095234.plummer@iarc.fr>
 <199803121045.LAA12425@sophie.ethz.ch>
Message-ID: <199803130702.IAA02821@aragorn.ci.tuwien.ac.at>

>>>>> Martin Maechler writes:

>>>>> "Martyn" == Martyn Plummer <plummer@iarc.fr> writes:
Martyn> I will do this if you haven't been overrun with volunteers
Martyn> already ;) 
> No, you are the first to answer.
> Thank you very much in advance!

> ---------------------

Martyn> Some time ago you asked about a basic time series
Martyn> library for R.  Did anything come of that?

> Well, yes and no (more "no"):

> 1. Paul Gilbert has made his DSE (Dynamic Systems Estimation) library
>    available for testing on  <<CRAN>>/src/contrib/devel/
>    Unfortunately, I haven't yet had time to really look at it.

> 2. Ross Ihaka:
>    Used to have a master's student looking at time series software.
>    During the power failure break in Auckland (about 2 weeks ago),
>    Ross said he was going home (because there was no electricity at his
>    office) and would do some work on time-series stuff.

>    He used to have time-series things (for R) in his private 
>    directories,  and some of us have been begging him, to also
>    ``release'' this could into <<CRAN>>/src/contrib/devel/ .
>    Unfortunately, this has not yet happened.

Yes, Ross, please :-)

> 3. Kurt Hornik has ported David James'  "chron" library
>    (for chronological objects)
>    and als put into <<CRAN>>/src/contrib/devel/  (why "devel"?).

Because it uses Inf and NaN, which are only available under 0.62.

>    [Currently, the URL given in the above README doesn't work anymore..?]

Yes, it's

http://netlib.bell-labs.com/cm/ms/departments/sia/project/misc/chron.html

now.  I'll make the change.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Mar 13 07:21:02 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 13 Mar 1998 08:21:02 +0100
Subject: "`R notes' should be better"
In-Reply-To: <199803121717.SAA13033@sophie.ethz.ch>
References: <Pine.OSF.3.95.980312092714.1585B-100000@io.uwinnipeg.ca>
 <199803121717.SAA13033@sophie.ethz.ch>
Message-ID: <199803130721.IAA05393@aragorn.ci.tuwien.ac.at>

>>>>> Martin Maechler writes:

> 	[CC'ed  to R-devel, not R-help]
>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

Bill> Thanks very much Douglas for the pointer to nlm.  Maybe the
Bill> "Notes on R" maintainer can add at least a mention of nlm in the
> 	   ======================
Bill> section on nonlinear fitting?

Bill> .....

Bill> (This example could replace the current nonlinear fitting section
Bill> in "Notes on R")


> You are talking of  <CRAN>/doc/Rnotes.ps, or Rnotes.tgz respectively,
> yes?

> The first page states both R & R as authors (beside Venables &
> D.Smith).  However, I doubt if they consider themselves as
> 'maintainers' of these notes (due to lack of time), or do you?

> 	Ross?  Robert?

> The problem is that these notes need more work than just ('nls' <->
> 'nlm').

> Maybe I should ask again for volunteers, or maybe even a discussion 
> on what could / should be done.

> The notes have several sections (organized in different *.tex files)
> in Rnotes.tgz.  Could(/should) we have different authors
> (ie. volunteers from among you) for these sections?

> About a year ago or so, Kurt Hornik proposed that these notes should
> become chapter 1 -- n of ``the book'' where the current things in
> RHOME/doc/manual/Man.tex are just the appendices (they already *are*
> appendices, currently).  R & R instead, originally thought (and have
> also started ??) of completely rewriting from scratch these chapters
> (1 -- n).

> Which should be done (and by whom) ?

> In the case of "R notes upgrading, it'd make sense if someone first
> works thru the current notes and makes them (somewhat) ``compatible''
> with the Rd.sty that we currently use for the help-manual (i.e. the
> doc/manual/... things).

We DEFINITELY need to do something about R notes very soon.  The 0.61
tree should be frozen by this weekend, 0.62 needs the bug fixes that we
know of, the re-implementation of factors (asap, please!) and docs for
the new graphics things (dev.xxx), but that's about it, I would say (we
can have the `real' make install things later).

Working on Rnotes should at least come right after that.

I am no longer sure about LaTeX and my suggestion from about a year ago,
though.  I would more be in favor of having a Texinfo version as I could
also use this on-line via info, but perhaps everyone else thinks that I
should use now-free Netscape for doing that (my experience is that the
conversion Texinfo -> HTML is trivial whereas I am never sure about
latex2html or hyperlatex).

In any case, I perhaps could try to go through Rnotes sometimes this
weekend to find out what most urgently needs fixing.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 13 08:41:30 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 13 Mar 1998 09:41:30 +0100
Subject: "`R notes' should be better"
In-Reply-To: <199803130721.IAA05393@aragorn.ci.tuwien.ac.at> (message from
 Kurt Hornik on Fri, 13 Mar 1998 08:21:02 +0100)
Message-ID: <199803130841.JAA14578@sophie.ethz.ch>

>>>>> "KH" == Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:

>>>>> Martin Maechler writes:
    >> [CC'ed to R-devel, not R-help]
>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

    Bill> Thanks very much Douglas for the pointer to nlm.  Maybe the
    Bill> "Notes on R" maintainer can add at least a mention of nlm in the
    >> ======================
    Bill> section on nonlinear fitting?

    Bill> .....

    Bill> (This example could replace the current nonlinear fitting section
    Bill> in "Notes on R")


    >> You are talking of <CRAN>/doc/Rnotes.ps, or Rnotes.tgz respectively,
    >> yes?

    >> The first page states both R & R as authors (beside Venables &
    >> D.Smith).  However, I doubt if they consider themselves as
    >> 'maintainers' of these notes (due to lack of time), or do you?

    >> Ross?  Robert?

    >> The problem is that these notes need more work than just ('nls' <->
    >> 'nlm').

    >> Maybe I should ask again for volunteers, or maybe even a discussion
    >> on what could / should be done.

    >> The notes have several sections (organized in different *.tex files)
    >> in Rnotes.tgz.  Could(/should) we have different authors
    >> (ie. volunteers from among you) for these sections?

    >> About a year ago or so, Kurt Hornik proposed that these notes should
    >> become chapter 1 -- n of ``the book'' where the current things in
    >> RHOME/doc/manual/Man.tex are just the appendices (they already *are*
    >> appendices, currently).  R & R instead, originally thought (and have
    >> also started ??) of completely rewriting from scratch these chapters
    >> (1 -- n).

    >> Which should be done (and by whom) ?

    >> In the case of "R notes upgrading, it'd make sense if someone first
    >> works thru the current notes and makes them (somewhat)
    >> ``compatible'' with the Rd.sty that we currently use for the
    >> help-manual (i.e. the doc/manual/... things).

    KH> We DEFINITELY need to do something about R notes very soon.  The
    KH> 0.61 tree should be frozen by this weekend, 0.62 needs the bug
    KH> fixes that we know of, the re-implementation of factors (asap,
    KH> please!) and docs for the new graphics things (dev.xxx), but that's
    KH> about it, I would say (we can have the `real' make install things
    KH> later).
there are a few more graphic things..  [  par(par()) should work.. ]

    KH> Working on Rnotes should at least come right after that.
ok

    KH> I am no longer sure about LaTeX and my suggestion from about a year
    KH> ago, though.  I would more be in favor of having a Texinfo version

Really?  I have to admit (my first reaction) that I wouldn't want to drop
all the LaTeX niceties [starting with "math", "real" tables (tabular), ...]

    KH> as I could also use this on-line via info, but perhaps everyone
    KH> else thinks that I should use now-free Netscape for doing that (my
    KH> experience is that the conversion Texinfo -> HTML is trivial
    KH> whereas I am never sure about latex2html or hyperlatex).
For me, latex2html has been quite satisfactory, as long as I am willing to
spend some time hand editing the result
(after the hand e

My feeling is that  latex2html  is really being improved and extended,
(being very configurable) constantly which is not/[much less] true for texinfo.
Also, AUC-tex (with font-latex) as the emacs interface to latex is such a
beauty compared to texinfo mode...

And then there's  PDFtex which produces foo.pdf instead of foo.dvi
where everything (ref/label, cite, index, tableofcontents, ...)
is linked with everything [but pdftex is alpha/beta,...].

Maybe, the main point should be:
	>>>>>> How are these notes used? <<<<
  If ``most of the time: on paper'',	  I think I'd prefer latex to texinfo
  If ``substantially: via Web browser'',  maybe texinfo is better.


    KH> In any case, I perhaps could try to go through Rnotes sometimes
    KH> this weekend to find out what most urgently needs fixing.
ok, thank you in advance.

Ross / Robert:	PLEASE we need some statement from you about this!
--------
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Andreas.Weingessel@ci.tuwien.ac.at  Fri Mar 13 11:22:40 1998
From: Andreas.Weingessel@ci.tuwien.ac.at (Andreas Weingessel)
Date: Fri, 13 Mar 1998 12:22:40 +0100
Subject: heat.colors
Message-ID: <199803131122.MAA09519@elendil.ci.tuwien.ac.at>


Currently, heat.colors gives the following code:

R> heat.colors(4)
[1] "#FF0000" "#FF7F00" "#FFFF00" "#FFFF7F"
R> heat.colors(5)
[1] "#FF0000" "#FF5400" "#FFA900" "#FFFF00" "#FFFF7F"
R> heat.colors(6)
[1] "#FF0000" "#FF3F00" "#FF7F00" "#FFBF00" "#FFFF00" "#FFFF7F"
R> heat.colors(7)
[1] "#FF0000" "#FF3300" "#FF6600" "#FF9900" "#FFCC00" "#FFFF00" "#FFFF7F"

That means, the distance between the last color and the last color but
one stays the same (7F), whereas the distances between other adjacent
colors drops with the number of coloros from 7F to 33.

The code for heat.colors(n) looks like
                j <- n%/%4
                i <- n - j
                c(rainbow(i, start = 0, end = 1/6), if (j > 0) hsv(h = 1/6, 
                        s = seq(from = 1 - 1/(2 * j), to = 1/(2 * 
                                j), length = j), v = 1))


If for example, n=16, j=4, i=12. That is, for the first 12 colors the
interval "#FF0000" to "#FFFF00" is divided into 12 pieces, for the
last 4 colors an interval of the same length "#FFFF00" to "#FFFFFF" is
only divided into 4 pieces.

Does this really provide n ``contiguous'' colors or are the first 12
colors closer together than the last 4?

	Andreas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Mar 13 17:22:47 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Fri, 13 Mar 1998 09:22:47 -0800 (PST)
Subject: "`R notes' should be better"
In-Reply-To: <199803130841.JAA14578@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980313091145.16696D-100000@chekov>

On Fri, 13 Mar 1998, Martin Maechler wrote:
> 
> Maybe, the main point should be:
> 	>>>>>> How are these notes used? <<<<
>   If ``most of the time: on paper'',	  I think I'd prefer latex to texinfo
>   If ``substantially: via Web browser'',  maybe texinfo is better.
> 

I think the notes should be intended primarily for paper.  There are
things hypertext is good for, but reading large chunks of mathematical
text isn't one of them (even on a 20 inch monitor). HTML/info would be
useful for cut-and-paste and for when the printed copy is lost, stolen or
strayed, but I'd much rather read from paper. 

I would be prepared to do some of the revision in June/July, in particular
the model formula/frame/matrix stuff and glms, if it doesn't get done by
someone else first. 

How will we handle notes on packages? Terry Therneau has really good
documentation for survival4, which we may be able to include somehow.


Thomas Lumley
-----------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Mar 15 15:05:05 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 15 Mar 1998 16:05:05 +0100 (CET)
Subject: "`R notes' should be better"
In-Reply-To: <Pine.SUN.3.95.980313091145.16696D-100000@chekov>
References: <199803130841.JAA14578@sophie.ethz.ch>
 <Pine.SUN.3.95.980313091145.16696D-100000@chekov>
Message-ID: <13579.60274.408545.483587@pc25.none>

>>>>> Thomas Lumley writes:

> On Fri, 13 Mar 1998, Martin Maechler wrote:
>> 
>> Maybe, the main point should be:
>> >>>>>> How are these notes used? <<<<
>> If ``most of the time: on paper'',	  I think I'd prefer latex to texinfo
>> If ``substantially: via Web browser'',  maybe texinfo is better.
>> 

> I think the notes should be intended primarily for paper.  There are
> things hypertext is good for, but reading large chunks of mathematical
> text isn't one of them (even on a 20 inch monitor). HTML/info would be
> useful for cut-and-paste and for when the printed copy is lost, stolen
> or strayed, but I'd much rather read from paper.

Actually, I am very much undecided on this.  Of course, we do have all
the help pages for on-line reading, but the question is whether they
contain everything one needs.  If someone wants to know what to do with
lists, for example, looking up the help page for list() and then perhaps
going through subscripting etc will be a little complicated.

Or, suppose someone eventually sat down and carefully explained what
expressions, names, ... are.  

To put it differently, the on-line thing I am looking for would NOT have
a lot of math in it.

As an aside, there is the additional issue that if someone writes R code
and quickly wants to look up the exact syntax of a function, it may be
great if one could do that without firing up R.

And yes, cut&paste would be great in a structured introduction.  But
this could also be in HTML obtained via latex2html/hyperlatex, so no
need for using Texinfo just for this purpose.

> I would be prepared to do some of the revision in June/July, in
> particular the model formula/frame/matrix stuff and glms, if it
> doesn't get done by someone else first.

Sounds great.

> How will we handle notes on packages? Terry Therneau has really good
> documentation for survival4, which we may be able to include somehow.

We could have a package `doc' subdirectory, and install its contents to
some place in the `doc' tree.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Mar 15 20:48:37 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Mar 1998 21:48:37 +0100
Subject: R-beta: R with gnuwin32
In-Reply-To: guido@sirio.stat.unipd.it's message of Sun, 15 Mar 1998 18:21:51 +0100 (GMT+0100)
References: <19980315172152.6154.qmail@sirio.stat.unipd.it>
Message-ID: <x290qbptne.fsf@blueberry.kubism.ku.dk>

	[I had to hand-approve this mail, since it contains "subscribe" 
	 in the first few lines.  Martin Maechler, list administrator]

1) This is very interesting stuff.

2) But it really belongs on R-devel, not R-help. R-help is for helping
users with installing and using R, not debating its future or
discussing technical issues. Could I ask you to subscribe and then we
move the discussion there? (Don't worry, R-devel is not a very high
volume list.)

guido@sirio.stat.unipd.it writes:

> I have been using R under Linux for more than a year and 
> I think that it is great.
> Last week, I downloaded the binary Ms Windows version. I wanted
> to test it for my students.  Our labs are under Bill Gates.
> I am not happy but I can do nothing.

Same thing here.


> R worked. But, I could not use the dyn.load command
...

> No dyn.load means no additional packages. Since I don't want
> to buy a commercial compiler to support free software, this
> morning I tried to recompile the 0.61.1 distribution with
> egcs.  Now, after more than 10000 grep's to understand
> the differences between the windows sources and the unix ones,
> I have a version of R-0.61.1 under Win95. It works.

I tried essentially the same stunt, but couldn't figure out how to get
the Windows console and graphics going, "Multiple Document Interface"
and all that. In particular, there's trouble with the gnuwin header
files versus the MS Platform SDK used in the sources. Does this mean
that you have a version running just like the "official" one? And
could it run under Win3 too? 

> It seems
> also a little faster than the october binary version 
> (perhaps since I compiled the fortran sources directly
> using g77).

I wouldn't be surprised, although Watcon does some register-passing
tricks, which one would think made it faster, (as well as incompatible
with other C compilers...!)

> But I have some questions:
> (a) The windows sources in R-0.61.1 are not the ones used
> to build the last windows distribution in CRAN. For example,
> the menus are different and also the src/library/base/R/system.win has no
> support for library. Where can I find the new sources?

In the R-snapshot at CRAN (src/devel), I think. The very latest
versions are on Roberts computer...	

> (b) I prepared a Makefile that build the system using the
> directory structure of R-0.61.1 under unix. But I don't known
> the differences between the the 0.61 version and the 0.50.xxx
> for which src/library/base/R/system.win. has been wrote.
> Where can I find a description of the differences?

Hmm. I don't know exactly what you mean here. I don't think that there
is a true writeup documenting any of this.

> (c) Is someone interested in this port? 

Definitely!

If yes, I can make it available.
> I tried to make rebuilding easy. Essentially, you untar a small archive 
> in src/ (essentially the makefiles and the pacthed windows sources). 
> Then
>   make RHOME=??? firstofall
>   make RHOME=??? HAVEG77=[YES,NO] 
>   make RHOME=??? HAVEG77=[YES,NO] packages
> should build and install the system with all the packages in src/library;
>   make RHOME=??? HAVEG77=[YES,NO] pkg-???
> will make the package ???. You need gnu-make+sed+rm+cp+ls.
> ( perhaps also a sh-like shell (I used bash)).
> I have not tried but this should work also with the Cygnus and
> the gcc-mingw32 port of gcc. Indeed, for this reason, I used the
> HAVEG77 flag.

How about the cross-compilers?

> I believe that is not appropriate to make a binary distribution available
> before (i) the base/R/system.win file has been fixed (or at least
> before I, or better, someone else understand, what is going);
> (ii) more testing.

Agreed, but binaries (of R *and* all the packages) will in a
not-so-long perspective be needed for practical people. 

> (d) I tried to recompile the regex library in the src/regex
> directory. But there is no regex.h file. So, I gave up.
>   (d1) Are the source there to let people without regex
>        to build the library? If yes, how?
>        Where can I find the regex.h file for that
>        version of the library which is not the gnu rl one?
>   (d2) Have someone tried to use some free regex library
>        under mingw32? 

Hmm. Does this line in src/regex/WHATSNEW ring a bell? (Not that I
know what I'm talking about, I just use grep...)

you have to build regex.h explicitly by "make h".  The two known bugs


> (e) The last point is a proposal for a medium term project.
> The modifications that I made were necessary to update the
> windows sources to the changes made in the system interface
> (R_ReadConsole, R_WriteConsole,....). Now, the gnuplot people
> has developed a layer between stdio and a windows console
> (a graphics not a ms-dos one). In this way, for example,
> just doing some #undef and some  #define, you can printf
> on the console. They also have a version of readline.
> If we borrow the layer we can hope to use the unix/system.c
> file without changes (or with few changes). And hence,
> it will be easier for the developers to bring the MsWindows
> version update with the main unix one.

This sounds interesting. An alternative that I have been playing with
is to use Tcl/Tk, with a longer term perspective of developing R/Tk
language bindings like in STk (Scheme/Tk). This could have the benefit
of automatic (hah!) *Mac* portability.

Note, BTW, that some substantial changes have been made in the
nonreleased 0.62 version (see aforementioned snapshot) to the parser
and I/O parts, specifically to cater for windowing systems.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Mon Mar 16 10:30:20 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Mon, 16 Mar 1998 11:30:20 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32
Message-ID: <19980316103021.6675.qmail@sirio.stat.unipd.it>


Peter Dalgaard BSA writes:
> .........
> 2) But it really belongs on R-devel, not R-help. R-help is for helping
> users with installing and using R, not debating its future or
> discussing technical issues. Could I ask you to do_subscribe and then we
> move the discussion there? (Don't worry, R-devel is not a very high
> volume list.)
> 
  Ok. I am here.
> 
> .......
> I tried essentially the same stunt, but couldn't figure out how to get
> the Windows console and graphics going, "Multiple Document Interface"
> and all that. In particular, there's trouble with the gnuwin header
> files versus the MS Platform SDK used in the sources. Does this mean
> that you have a version running just like the "official" one? And
> could it run under Win3 too? 
> 
  (a) The gnuwin header miss some definition used by R. I hand copied
  them (they are long but not too much) from the header of
  a old Borland compiler (16 bit; so I also crossed my finger).
  I do not know if hand copy is correct but I mean "a copy made
  by my finger not using the cut and paste". Since now
  the header are freely available but non redistribuible I 
  suppose that this is legal. 
  (b) So I have a version of R that "works".
      "works": - I could run all the demos but the dynload one (I didn't
                 tried;
	       - I played with it for an   hour preparing the
	         slides for my lesson of this afternoon (poisson regression
	         + graph)
	       - I make use of the functions in the eda library (dynloaded).
	         and I tried some silly homemade dll. 
  (c) Running as the "official" one? No. The basic problem are
      with the R sources that load data/library...
      The system.win file, the one that I used from R-0.61.1, has
      a not working "library" (also but perhaps I make some mistake a 
      broken "data")
      For example to run the demos I used a silly ad hoc data function
      of the type
      data<-function(a) source(paste(basedata,a),sep="")
      On the contrary, some of the command under unix are implemented
      by shell commands. So the src/library/base/system.unix can't be
      used.
      Hence this part must be fixed. This is why, yesterday, I asked
      for documentation of what must go in  src/library/base/system.
      Perhaps, it was an inappropriate request since I can
      look to the unix one. But, you know. After, some hours
      I had the system running but I could not do "data(iris)"
      and with "no iris data there is no statistics".
  (d) About Win30. I don't know. 
	       

> > It seems
> > also a little faster than the october binary version 
> > (perhaps since I compiled the fortran sources directly
> > using g77).
> 
> I wouldn't be surprised, although Watcon does some register-passing
> tricks, which one would think made it faster, (as well as incompatible
> with other C compilers...!)
I just compare the time of
  for (i in 1:1000) a<-solve(matrix(rnorm(100),10,10))
matrix and the gnuwin32 version was 20% faster. 
I suppose that this is not a  fair test since
is biased towards the comparison of the fortran code (and I used g77).


> > (c) Is someone interested in this port? 
> 
> Definitely!
> 
  If you want, I can make the patch available in a couple of days.
  I just want to recompile from the scratch so that you have not
  to bother about the fact that I have forgotten a file o something
  like this. But I have now time today and tomorrow (teaching,
  teaching,...)
> 
> How about the cross-compilers?
>
  I suppose that if you have gcc running somewhere and configured
  to support win32 as target you can cross-compile. 
  But, I have not tried.
  
> > I believe that is not appropriate to make a binary distribution available
> > before (i) the base/R/system.win file has been fixed (or at least
> > before I, or better, someone else understand, what is going);
> > (ii) more testing.
> 
> Agreed, but binaries (of R *and* all the packages) will in a
> not-so-long perspective be needed for practical people. 
> 
  Ok. But with a stable distribution.

> > (d) I tried to recompile the regex library in the src/regex
> 
> Hmm. Does this line in src/regex/WHATSNEW ring a bell? (Not that I
> know what I'm talking about, I just use grep...)
> 
> you have to build regex.h explicitly by "make h".  The two known bugs
> 
  Thanks. So regex.h must be built. The line before the one
  that you quoted say that regex.h is generated by mkh.
  What kind of monster mkh is?


guido masarotto
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Mar 16 11:41:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Mar 1998 12:41:25 +0100
Subject: R-beta: R with gnuwin32
In-Reply-To: guido@sirio.stat.unipd.it's message of Mon, 16 Mar 1998 11:30:20 +0100 (GMT+0100)
References: <19980316103021.6675.qmail@sirio.stat.unipd.it>
Message-ID: <x2d8fmvp5m.fsf@blueberry.kubism.ku.dk>

guido@sirio.stat.unipd.it writes:

> > > (d) I tried to recompile the regex library in the src/regex
> > 
> > Hmm. Does this line in src/regex/WHATSNEW ring a bell? (Not that I
> > know what I'm talking about, I just use grep...)
> > 
> > you have to build regex.h explicitly by "make h".  The two known bugs
> > 
>   Thanks. So regex.h must be built. The line before the one
>   that you quoted say that regex.h is generated by mkh.
>   What kind of monster mkh is?

Hmm. I still don't know what I'm talking about, but if you go to

http://ftpsearch.ntnu.no/

and look for regex, you'll find several ports to non-BSD systems
(mostly off of machines in Japan!), which contain regex.h's.

[Probably someone else on this group knows *exactly* what the regex
business is all about?]


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Mar 16 15:30:25 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 16 Mar 1998 09:30:25 -0600
Subject: R-beta: Re: dse+redhat 4.2 problem
In-Reply-To: Douglas Bates's message of 25 Feb 1998 12:24:36 -0600
References: <98Feb25.034218est.13443@mailgate.bank-banque-canada.ca> <98Feb25.120132est.13449@mailgate.bank-banque-canada.ca> <6rvhu3sftn.fsf@verdi.stat.wisc.edu>
Message-ID: <6rra42wt4e.fsf@verdi.stat.wisc.edu>

There was an old problem with the g77 compiler under RedHat Linux and
under the pre-release versions of Debian-2.0 Linux giving compiler
errors.  Paul Gilbert encountered it while compiling his dse library
for R.  Dirk E. also encountered it in compiling octave for Debian-2.0.

Over the weekend a new version of the binutils programs was made
available for the Debian-2.0 system (just in time for the code
freeze).  The problem seems to be solved on Debian-2.0 with these new
binutils.

 bash-2.01$ dpkg -s binutils
 Package: binutils
 Status: install ok installed
 Priority: standard
 Section: devel
 Installed-Size: 1895
 Maintainer: Galen Hazelwood <galenh@micron.net>
 Version: 2.8.1.0.23-1
 Provides: elf-binutils
 Depends: libc6
 Conflicts: gas, elf-binutils
 Description: The GNU assembler, linker and binary utilities.
  The programs in this package are used to assemble, link and manipulate
  binary and object files.  They may be used in conjunction with a compiler
  and various libraries to build programs for Linux.

These may be based on the egcs system rather than a stock gcc-2.8.
Galen has been creating a hybrid of gcc and egcs so the C++ compiler
from egcs can be used.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 18 07:47:36 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Mar 1998 08:47:36 +0100
Subject: ``nlm(.) with derivatives''
In-Reply-To: <m0yF5vn-0000XJC@verdi.stat.wisc.edu> (message from Douglas Bates
 on Tue, 17 Mar 1998 17:38:03 -0600 (CST))
Message-ID: <199803180747.IAA05505@sophie.ethz.ch>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> .......
    DougB> .......  { time comparisons in testing  lme(..) for R }
    DougB> .......

    DougB> This can be expected to run faster when a version of nlm that accepts
    DougB> gradients and Hessians is available.			---

Doug, do I understand properly that it won't be you 
who will work on this?

Do we have volunteers 
  [who also are knowledgable in numerical optimization,..]?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Wed Mar 18 09:35:59 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 18 Mar 1998 21:35:59 +1200 (NZST)
Subject: ``nlm(.) with derivatives''
Message-ID: <199803180935.VAA12482@stat1.stat.auckland.ac.nz>

> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: r-core@stat.math.ethz.ch, r-devel@stat.math.ethz.ch
> Subject: Re: ``nlm(.) with derivatives''
>
> >>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:
>
>     DougB> .......
>     DougB> .......  { time comparisons in testing  lme(..) for R }
>     DougB> .......
>
>     DougB> This can be expected to run faster when a version of nlm
>     DougB> that accepts gradients and Hessians is available.
>
> Doug, do I understand properly that it won't be you 
> who will work on this?
>
> Do we have volunteers 
>   [who also are knowledgable in numerical optimization,..]?


Using gradient and hessian information in the minimizer is a relatively
minor change.  BUT, do we want to continue with this particular bit of
code?  The code used is by Robert Schnabel and is based on the methods
in

	Dennis and Schnabel (1983).
	"Numerical Methods for Unconstrained Optimization
		and Nonlinear Equations".
	Prentice-Hall

I got it from CMLIB and I think it is pretty reputable code (much
better than the recent Applied Statistics one), but I don't know how
close it might be to the state-of-the-art.  Anyone know?

To make use of hessian information we would also need to upgrade the
"deriv" function so that the function it returns will also return the
hessian.  Again, this is not difficult, but does demand some
familiarity with R internals.

I would be quite keen to see this fixed, but I'm already a bit thinly
spread at present, so it probably won't be me that does it.
[ My major projects remain: contrasts, graphics and internal data
structures + the Mac :-)]

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Wed Mar 18 15:17:31 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 18 Mar 1998 09:17:31 -0600
Subject: ``nlm(.) with derivatives''
In-Reply-To: Martin Maechler's message of "Wed, 18 Mar 1998 08:47:36 +0100"
References: <199803180747.IAA05505@sophie.ethz.ch>
Message-ID: <6riupcf2pg.fsf@verdi.stat.wisc.edu>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> >>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:
> 
>     DougB> .......
>     DougB> .......  { time comparisons in testing  lme(..) for R }
>     DougB> .......
> 
>     DougB> This can be expected to run faster when a version of nlm that accepts
>     DougB> gradients and Hessians is available.			---
> 
> Doug, do I understand properly that it won't be you 
> who will work on this?

Like Ross I am spread a little thinly at the moment and I can't in
good conscience free up the time to work on this.  Sorry but you are
correct, I will not be working on this in the near future.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Wed Mar 18 15:48:24 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Wed, 18 Mar 1998 16:48:24 +0100 (MET)
Subject: POSIX regular expressions on Irix 5.3
Message-ID: <199803181548.QAA14037@wrin27.urz.uni-wuppertal.de>

Hello,

I installed R on an Irix 5.3 system. Obviously the Irix libraries
don't contain functions for POSIX regular expressions.

Is it possible use the regex, or better rx libraries from GNU, and how
can I do it? Or do I have to live without functions using POSIX
regular expressions (e.g. apropos, methods)?

I have no GCC and I won't install it ...

Thanks in advance,

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Wed Mar 18 16:05:28 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Wed, 18 Mar 1998 17:05:28 +0100 (MET)
Subject: Strange Results of summary()
Message-ID: <199803181605.RAA14113@wrin27.urz.uni-wuppertal.de>


--l4Siqd0eqV
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello,

I run the following job. Please, compare the results of summary and
table concerning berufl. From similar SPSS/PSPP runs, the result of
table is correct. 

Did I misunderstand anything or is there a bug? 

What does the difference come from?
What does '(other)' mean?
What about the strange order of the levels?

I attach the data file at the end.

Thanks in advance, HP.

> options(digits=10)
> MiniHag <- read.table("minihagR.dat",
+                       col.names=c(
+                         "befragnr",
+                         "geschl",
+                         "alter",
+                         "famstand",
+                         "schule",
+                         "beruf",
+                         "einkom",
+                         "w1",
+                         "w2",
+                         "w3",
+                         "w4",
+                         "w5",
+                         "w6",
+                         "w7"
+                         ),
+                       na.strings=c(NA,NA,"97","9","9","9","9999",
+                         "9","9","9","9","9","9","9")
+                       )
> 
> # Value Labels:
> 
> #MiniHag$geschll <- factor(MiniHag$geschl)
> #levels(MiniHag$geschll) <- c("maennlich", "weiblich")
> 
> MiniHag$geschll <- factor(MiniHag$geschl, labels=c("maennlich", "weiblich"))
> MiniHag$famstandl <- factor(MiniHag$famstand, levels=1:5,
+                             labels=c(
+                               "verheiratet, zusammenlebend",
+                               "verheiratet, getrennt lebend",
+                               "verwitwet",
+                               "geschieden",
+                               "ledig")
+                             )
> MiniHag$schulel <- factor(MiniHag$schule, levels=1:5,
+                           labels=c(
+                             "kein Abschluss",
+                             "Hauptschule",
+                             "Fachschulreife",
+                             "Fachhochschulreife",
+                             "Abitur")
+                           )
> MiniHag$berufl <- factor(MiniHag$beruf, levels=1:8,
+                          labels=c(
+                            "wissensch.-technisch",
+                            "Leiter Oeff. Dienst/Wirtschaft",
+                            "Bureaukraft",
+                            "Handel",
+                            "Dienstleistungsgewerbe/Soldat",
+                            "Gaertner/Jaeger",
+                            "Guetererzeugung",
+                            "sonstige")
+                          )
> 
> # "Descriptives":
> 
> summary(MiniHag)
     befragnr            geschl           alter            famstand     
 Min.   :  67.000   Min.   :1.0000   Min.   :18.0000   Min.   :1.0000  
 1st Qu.: 761.250   1st Qu.:1.0000   1st Qu.:33.0000   1st Qu.:1.0000  
 Median :1742.500   Median :2.0000   Median :48.0000   Median :1.0000  
 Mean   :1595.625   Mean   :1.5125   Mean   :47.4375   Mean   :2.0375  
 3rd Qu.:2409.250   3rd Qu.:2.0000   3rd Qu.:59.0000   3rd Qu.:3.0000  
 Max.   :2998.000   Max.   :2.0000   Max.   :83.0000   Max.   :5.0000  
                                                                       
      schule            beruf               einkom               w1        
 Min.   :1.00000   Min.   : 1.000000   Min.   : 350.000   Min.   :1.0000  
 1st Qu.:2.00000   1st Qu.: 3.000000   1st Qu.: 800.000   1st Qu.:6.0000  
 Median :3.00000   Median : 4.000000   Median :1500.000   Median :7.0000  
 Mean   :2.78481   Mean   : 4.621622   Mean   :1628.113   Mean   :6.0625  
 3rd Qu.:3.00000   3rd Qu.: 7.000000   3rd Qu.:2000.000   3rd Qu.:7.0000  
 Max.   :5.00000   Max.   : 8.000000   Max.   :5000.000   Max.   :7.0000  
 NA's   :1.00000   NA's   :43.000000   NA's   :  27.000                   
        w2              w3               w4               w5       
 Min.   :1.000   Min.   :1.0000   Min.   :1.0000   Min.   :1.000  
 1st Qu.:5.000   1st Qu.:5.0000   1st Qu.:4.0000   1st Qu.:3.750  
 Median :6.000   Median :6.0000   Median :6.0000   Median :4.500  
 Mean   :5.675   Mean   :5.7375   Mean   :5.4375   Mean   :4.475  
 3rd Qu.:7.000   3rd Qu.:7.0000   3rd Qu.:7.0000   3rd Qu.:6.000  
 Max.   :7.000   Max.   :7.0000   Max.   :7.0000   Max.   :7.000  
                                                                  
        w6               w7             geschll  
 Min.   :1.0000   Min.   :1.000   maennlich:39  
 1st Qu.:2.0000   1st Qu.:3.750   weiblich :41  
 Median :4.0000   Median :5.000                 
 Mean   :3.7125   Mean   :4.375                 
 3rd Qu.:5.0000   3rd Qu.:6.000                 
 Max.   :7.0000   Max.   :7.000                 
                                                
                         famstandl                schulel  
 verheiratet, zusammenlebend :54   kein Abschluss    : 1  
 verheiratet, getrennt lebend: 0   Hauptschule       :36  
 verwitwet                   :10   Fachschulreife    :29  
 geschieden                  : 1   Fachhochschulreife: 5  
 ledig                       :15   Abitur            : 8  
                                   NA's              : 1  
                                                          
                   berufl  
 Bureaukraft         :15  
 Guetererzeugung     : 9  
 sonstige            : 4  
 Handel              : 3  
 wissensch.-technisch: 3  
 (Other)             : 3  
 NA's                :43  
> 
> # "Frequencies":
> 
> attach(MiniHag)
> table(geschll)
maennlich  weiblich 
       39        41 
> table(famstandl)
 verheiratet, zusammenlebend verheiratet, getrennt lebend 
                          54                            0 
                   verwitwet                   geschieden 
                          10                            1 
                       ledig 
                          15 
> table(schulel)
    kein Abschluss        Hauptschule     Fachschulreife Fachhochschulreife 
                 1                 36                 29                  5 
            Abitur 
                 8 
> table(berufl)
          wissensch.-technisch Leiter Oeff. Dienst/Wirtschaft 
                             3                              0 
                   Bureaukraft                         Handel 
                            15                              3 
 Dienstleistungsgewerbe/Soldat                Gaertner/Jaeger 
                             2                              1 
               Guetererzeugung                       sonstige 
                             9                              4 
> detach(MiniHag)


--l4Siqd0eqV
Content-Type: application/octet-stream
Content-Description: Input Data
Content-Disposition: attachment;
	filename="minihagR.dat"
Content-Transfer-Encoding: base64

ICA2NyAxIDcxIDEgMiA5IDE1MDAgNiA0IDcgNyA1IDEgNQogIDg2IDIgMjggMSAzIDkgIDcw
MCA3IDUgNyA3IDQgMSA1CiAxMDUgMiA1OCAxIDIgOSA5OTk5IDcgNSA3IDcgNyA0IDYKIDE0
MCAyIDY5IDMgMiA5IDE2MDAgNyA1IDYgNiA2IDYgNQogMTc4IDEgNDIgMSAyIDMgMTcwMCA3
IDcgNyA1IDEgNCA1CiAxODYgMiAyOSAxIDUgOSAgNTUwIDUgNSA2IDYgNCAxIDMKIDIxOCAx
IDM0IDEgMyAzIDIxMDAgNyA0IDcgNyA1IDEgNAogMjU5IDIgNjEgMSAzIDkgOTk5OSA3IDcg
NyA2IDUgNiA0CiAyOTggMSA0MiAxIDIgOCAzMDAwIDYgNyA3IDQgNCA2IDQKIDMyMyAyIDcx
IDEgNSA5IDEwMDAgNiA2IDYgNiA1IDUgNAogMzM1IDEgNDQgMSAyIDcgMjEwMCA3IDcgNyA2
IDYgMyAyCiAzNDkgMSA0NSAxIDIgNCA5OTk5IDcgNyA3IDUgNSAxIDQKIDQ1MyAyIDU2IDEg
MyA5IDk5OTkgNyA2IDUgMyA0IDIgMQogNDU4IDEgNTMgMSAzIDcgOTk5OSA2IDcgNSA1IDQg
MyA2CiA1MjUgMiA0MyAxIDIgOSA5OTk5IDcgNCA3IDMgNyA3IDUKIDU1MCAxIDMxIDEgMyAz
IDI1MDAgNyA3IDYgNyAzIDIgNAogNTc4IDIgNzggMyAxIDkgMTU3MCA2IDQgNSA0IDQgNCA0
CiA2MDggMSAxOSA1IDkgOSA5OTk5IDcgNiA3IDcgNyA1IDYKIDY2MyAxIDI3IDUgMiA5ICA3
ODAgMSAzIDcgNSAyIDEgMQogNzMyIDIgNzcgMyAzIDkgMTQwMCA3IDcgNyA3IDYgNiA2CiA3
NzEgMSA1OSAzIDIgOSAxODUwIDYgNSA2IDUgNSA0IDQKIDc4MiAxIDMzIDEgMiA1IDI1MDAg
NyA1IDUgNCA2IDUgNQogODMzIDIgMjkgNSA1IDkgIDYwMCA0IDcgNyA1IDQgMSA0CiA5MTAg
MiA1MyAxIDIgMyAgNzAwIDcgNCA1IDYgNiA1IDQKIDkzMiAxIDY4IDEgNCA5IDMwMDAgNyA3
IDUgNyA3IDcgNwogOTcwIDEgNzUgMSAyIDkgMTM1MCA3IDcgNyA3IDcgNCA3CjEwNDcgMiA0
MyAxIDIgNyA5OTk5IDcgNyA1IDcgNCAzIDQKMTA4NiAyIDc2IDMgMiA5IDEwMDAgNCAxIDEg
MSA0IDQgMQoxMTcwIDIgNDkgMSAyIDkgOTk5OSA3IDcgNiA1IDUgMyAzCjEyMzcgMSA2NiAx
IDIgOSAxMjAwIDcgNiA1IDcgNyA1IDUKMTI2NiAxIDE5IDUgMiA3ICA0MjUgMyA3IDUgNiAx
IDEgNAoxMjY5IDEgMjAgNSAzIDkgOTk5OSA1IDcgNyA2IDEgMSA3CjEzNzggMSA2MCAxIDIg
OSA5OTk5IDMgNyA3IDcgNiA3IDEKMTM4MSAyIDQ2IDEgMyAzIDE0NTAgNiA0IDUgNCA0IDIg
MQoxNTMyIDIgNzEgMyAzIDkgIDkwMCA3IDcgNiA3IDcgNyA2CjE1NDUgMiA1MyAxIDIgOSA5
OTk5IDcgNCA2IDMgNiA1IDUKMTU5OCAyIDUwIDEgMyAzICA4MDAgNSA2IDUgNyA3IDIgNgox
NzE3IDEgNDggMSA1IDggMzUwMCA3IDUgNSA0IDUgNSA2CjE3MzEgMiA0MiAxIDMgMyA5OTk5
IDcgNyA1IDcgNSAzIDQKMTc0MSAxIDUyIDEgMiAzIDk5OTkgNyA3IDcgNyA2IDMgNwoxNzQ0
IDEgMTggNSAyIDYgIDM1MCA1IDYgNyA3IDEgMSA3CjE3NzcgMiAzMSAxIDMgMyAgNzUwIDcg
NSA1IDcgNyA0IDYKMTc4MSAxIDU5IDEgMyA4IDM4MDAgNyA3IDcgNyA3IDUgNQoxNzk0IDEg
NzAgMSAzIDkgMzAwMCA3IDcgNyA3IDcgNyA3CjE4MDEgMiA0MSAxIDMgMyAgODAwIDcgNCA0
IDUgNSA1IDQKMTgzMSAxIDU3IDEgMyAxIDk5OTkgNiA1IDUgNCA1IDMgMwoxODYyIDEgNjkg
MSAyIDkgMTYwMCA3IDYgNSA2IDYgNyAzCjE5NzMgMiAyNCA1IDUgOSA5OTk5IDYgNSA1IDYg
NSA1IDYKMjA0MCAyIDI0IDEgMyA4IDE0MDAgNCA3IDcgNSA0IDQgNQoyMDY0IDEgNTQgMSAz
IDMgMTgwMCA1IDYgMiA1IDIgMyA0CjIwNzIgMSA0MiAxIDIgNyAxNjUwIDcgNSA1IDYgNCA1
IDUKMjEwOCAxIDMzIDEgMiA3IDEzMDAgNyA3IDcgNCAxIDQgNwoyMTU2IDEgNTUgMSAzIDcg
NTAwMCA3IDcgNCA0IDQgNiA0CjIxOTcgMSAyNSA1IDMgMyAxNjI1IDcgNiAzIDIgMSA0IDUK
MjIyMSAyIDQ5IDQgMyA5IDk5OTkgNyA3IDMgNSA3IDIgNwoyMzIxIDIgNzMgMyA0IDkgMTEw
MCA3IDcgNCA0IDMgNSAyCjIzNTkgMiA0NSAxIDMgOSA5OTk5IDcgNCA2IDMgMiAzIDQKMjM2
OCAxIDI0IDUgNSA5IDE1MDAgMyA0IDUgNiAxIDEgMQoyMzczIDIgMjEgNSA1IDkgIDUwMCA0
IDYgNSA3IDUgMSA2CjIzOTEgMSAyMCA1IDMgOSAgNDAwIDMgNyA2IDYgMiA0IDQKMjQ2NCAy
IDUyIDMgMyA0IDQ1MDAgNiA1IDUgNCA0IDMgMQoyNTI0IDIgNTYgMSA0IDkgOTk5OSA3IDYg
NyA2IDQgMyAzCjI1NTYgMSA0MSAxIDMgMyAyNjAwIDYgNiA2IDYgMiAyIDUKMjU4NiAxIDU5
IDEgMiA1IDE2MDAgNiAyIDcgNSA3IDUgNQoyNTkwIDEgMjYgNSA0IDQgOTk5OSA3IDYgNyA3
IDQgNCA2CjI2MTcgMiA0OCAxIDIgOSA5OTk5IDcgNCA1IDcgNyA2IDEKMjYzMiAyIDQ5IDEg
NSAxIDIwMDAgNyA1IDUgNiA2IDQgMgoyNjQ5IDIgNDkgMSAyIDkgOTk5OSA0IDcgNyA2IDQg
MSA2CjI2NjkgMiA4MyAzIDIgOSAgNjQwIDcgNSA1IDYgNCA3IDIKMjY3MSAyIDMxIDEgMyAz
IDE4MDAgMiA3IDcgNiAyIDEgNgoyNjc1IDEgNDAgMSA0IDEgOTk5OSA3IDcgNiA2IDYgMyA1
CjI3MTUgMiA0MCAxIDIgOSA5OTk5IDcgNyA1IDQgNCA1IDUKMjc4MSAyIDQ1IDEgMyAzICA3
MDAgNyA1IDYgNyA0IDUgNQoyNzg3IDIgNzggNSAyIDkgOTk5OSA0IDQgNiA0IDMgNSAyCjI4
MDcgMiA1OSAxIDIgOSAgNjAwIDYgNSA0IDQgNSAzIDYKMjg0NyAxIDQ4IDUgMyA3IDE3MDAg
MSAyIDMgNCAxIDEgMQoyODc3IDIgMzUgMSAyIDkgOTk5OSA3IDQgNyA1IDcgNyA1CjI5NzAg
MiA2OCAzIDIgOSAyMDAwIDYgNyA1IDEgMiA0IDMKMjk5NSAxIDI1IDUgMiA5IDk5OTkgNyA1
IDcgNiAzIDIgNQoyOTk4IDEgMzkgMSAyIDcgMTgwMCA3IDcgNyA0IDMgMSA2Cg==

--l4Siqd0eqV
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html

--l4Siqd0eqV--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 18 17:59:46 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 18 Mar 1998 18:59:46 +0100
Subject: Strange Results of summary()
In-Reply-To: <199803181605.RAA14113@wrin27.urz.uni-wuppertal.de>
 (palme@uni-wuppertal.de)
Message-ID: <199803181759.SAA06562@sophie.ethz.ch>


Huber Palme writes
>> I run the following job. Please, compare the results of summary and
>> table concerning berufl. From similar SPSS/PSPP runs, the result of
>> table is correct. 
>> 
>> Did I misunderstand anything or is there a bug? 
>> 
>> What does the difference come from?
>> What does '(other)' mean?
>> What about the strange order of the levels?
>> 
>> summary(....)
>>                                                           
>> ....
>>                    berufl  
>>  Bureaukraft         :15  
>>  Guetererzeugung     : 9  
>>  sonstige            : 4  
>>  Handel              : 3  
>>  wissensch.-technisch: 3  
>>  (Other)             : 3  
>>  NA's                :43  

.....

>> > table(berufl)
>>           wissensch.-technisch Leiter Oeff. Dienst/Wirtschaft 
>>                              3                              0 
>>                    Bureaukraft                         Handel 
>>                             15                              3 
>>  Dienstleistungsgewerbe/Soldat                Gaertner/Jaeger 
>>                              2                              1 
>>                Guetererzeugung                       sonstige 
>>                              9                              4 

What's the problem? 
	'(Other)' gives all the levels having (in your case) 0,1,2 observations,
	which sum to 3 observations.
"summary(.)" should give a summary  (think of a factor with 500 levels....)

table() is more detailed (but doesn't report the NA's),
  which is the only thing to critize here:

  S-plus's  table(..) has an extra argument  "exclude" which
  we should also have in R:

  S> args(table) 
	  function(..., exclude = c(NA, NaN))

  S> table(c(NA,1:5))
   1 2 3 4 5 
   1 1 1 1 1
  > table(c(NA,1:5), exclude=NULL)
   1 2 3 4 5 NA 
   1 1 1 1 1  1

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Wed Mar 18 19:46:36 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 19 Mar 1998 07:46:36 +1200 (NZST)
Subject: POSIX regular expressions on Irix 5.3
Message-ID: <199803181946.HAA14615@stat1.stat.auckland.ac.nz>

If you look in the R source tree in R/src/regex you will find a version
of Henry Spencer's regular expression library.  You could try compiling
and installing that (you will need to modify the Makefile).  Some SGI
compilers have trouble with it, but it may work for you.

If that doesn't work, there are a number of GNU regular expression
libraries, which you can get from the usual GNU places.  Install one
of them and then try again.  You may also want to pick up a recent version
of the readline library at the same time.

I'd be interested in a report if you are successful.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Osman.Buyukisik@ae.ge.com  Wed Mar 18 19:55:04 1998
From: Osman.Buyukisik@ae.ge.com (Buyukisik, Osman (GEAE))
Date: Wed, 18 Mar 1998 14:55:04 -0500
Subject: R-0.61.2  and March 17 snapshot
Message-ID: <0302875C631AD11198DE00600806C63747A02B@ev009msxaege.ae.ge.com>

I just built 0.61.2 on an hpux-10.2 system. WHen I do a demo I am getting :

> data(quakes)

[1] "quakes"
Warning: invalid 'cutoff' for deparse, used default

Every statement seems to trigger this response. I also built the march17
snapshot and it does not have this behavior. 

March 17 snapshot has one problem that I noticed: when I built a contributed lib
with data, and if the dataset has the same name as one in base distribution,
data(iris) pulls iris from the "base" 0.61.1 does not do this. If the lib is
loaded it seems like it searches the libraries data directory first. I think
this is more appropriate.

Osman



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Mar 18 20:13:57 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Mar 1998 21:13:57 +0100
Subject: R-0.61.2  and March 17 snapshot
In-Reply-To: "Buyukisik, Osman's message of Wed, 18 Mar 1998 14:55:04 -0500
References: <0302875C631AD11198DE00600806C63747A02B@ev009msxaege.ae.ge.com>
Message-ID: <x2afaneoze.fsf@blueberry.kubism.ku.dk>

"Buyukisik, Osman (GEAE)" <Osman.Buyukisik@ae.ge.com> writes:

> 
> I just built 0.61.2 on an hpux-10.2 system. WHen I do a demo I am getting :
> 
> > data(quakes)
> 
> [1] "quakes"
> Warning: invalid 'cutoff' for deparse, used default
> 
> Every statement seems to trigger this response. I also built the march17
> snapshot and it does not have this behavior. 

Doesn't seem to happen in Linux... 

Could you do us all a favour and try to pinpoint exactly what triggers
that message? (Start by saying debug(data)).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 19 09:34:44 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 19 Mar 1998 10:34:44 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
Message-ID: <199803190934.KAA07638@sophie.ethz.ch>

This is not a nice name (format is generic; cardinal is not a class) for a
nice function, which I would like in several places in R code and therefore
would like to become part of R  (under a better name !)

format.cardinal <- function(i, sep="")
        paste(i, c("st","nd","rd","th")[pmin(4,i)], sep=sep)

# Try
format.cardinal(sample(1:20))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From phlamber@luc.ac.be  Thu Mar 19 11:11:33 1998
From: phlamber@luc.ac.be (Philippe Lambert)
Date: Thu, 19 Mar 1998 12:11:33 +0100 (MET)
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803190934.KAA07638@sophie.ethz.ch>
Message-ID: <Pine.OSF.3.96.980319121016.15933F-100000@alpha>


On Thu, 19 Mar 1998, Martin Maechler wrote:

> This is not a nice name (format is generic; cardinal is not a class) for a
> nice function, which I would like in several places in R code and therefore
> would like to become part of R  (under a better name !)
> 
> format.cardinal <- function(i, sep="")
>         paste(i, c("st","nd","rd","th")[pmin(4,i)], sep=sep)
> 
> # Try
> format.cardinal(sample(1:20))

Isn't it a problem?
> format.cardinal(22)
[1] "22th"

Philippe

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 19 11:21:39 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 19 Mar 1998 12:21:39 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <Pine.OSF.3.96.980319121016.15933F-100000@alpha> (message from
 Philippe Lambert on Thu, 19 Mar 1998 12:11:33 +0100 (MET))
Message-ID: <199803191121.MAA07944@sophie.ethz.ch>


>>>>> "Philippe" == Philippe Lambert <phlamber@luc.ac.be> writes:

    Philippe> On Thu, 19 Mar 1998, Martin Maechler wrote:

    >> This is not a nice name (format is generic; cardinal is not a class)
    >> for a nice function, which I would like in several places in R code
    >> and therefore would like to become part of R (under a better name !)
    >> 
    >> format.cardinal <- function(i, sep="") paste(i,
    >> c("st","nd","rd","th")[pmin(4,i)], sep=sep)
    >> 
    >> # Try format.cardinal(sample(1:20))

    Philippe> Isn't it a problem?
Oh yes, course!
    >> format.cardinal(22)
    Philippe> [1] "22th"

Thank you Philippe!

So, the function will become a bit more complicated.
The following would be better, but is not yet the solution
[and yes, I must consult an English dictionnary or such...].

format.cardinal <- function(i, sep="")
   paste(i, c("st","nd","rd","th")[pmin(4,1+(i-1) %% 10)], sep=sep)

BTW:  This ``triggers'' an inconsistency  R <-> S-plus
      which I consider a bug in R:

R> -1 %% 10
[1] -1

S> -1 %% 10
[1] 9

------------

BTW:  I am still looking for a proper name for that function...,
	maybe "english.cardinal" ??

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Mar 19 11:25:13 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 19 Mar 1998 12:25:13 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803191121.MAA07944@sophie.ethz.ch>
References: <Pine.OSF.3.96.980319121016.15933F-100000@alpha>
 <199803191121.MAA07944@sophie.ethz.ch>
Message-ID: <199803191125.MAA22321@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 19 Mar 1998 12:21:39 +0100,
>>>>> Martin Maechler (MM) wrote:

>>>>> "Philippe" == Philippe Lambert <phlamber@luc.ac.be> writes:

Philippe> On Thu, 19 Mar 1998, Martin Maechler wrote:

>>> This is not a nice name (format is generic; cardinal is not a class)
>>> for a nice function, which I would like in several places in R code
>>> and therefore would like to become part of R (under a better name !)
>>> 
>>> format.cardinal <- function(i, sep="") paste(i,
>>> c("st","nd","rd","th")[pmin(4,i)], sep=sep)
>>> 
>>> # Try format.cardinal(sample(1:20))

Philippe> Isn't it a problem?
MM> Oh yes, course!
>>> format.cardinal(22)
Philippe> [1] "22th"

MM> Thank you Philippe!

MM> So, the function will become a bit more complicated.
MM> The following would be better, but is not yet the solution
MM> [and yes, I must consult an English dictionnary or such...].
                                              ^^

is probably a good idea :-)

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Thu Mar 19 13:34:18 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Thu, 19 Mar 1998 14:34:18 +0100 (MET)
Subject: Strange Results of summary()
In-Reply-To: <199803181759.SAA06562@sophie.ethz.ch>
References: <199803181605.RAA14113@wrin27.urz.uni-wuppertal.de>
 <199803181759.SAA06562@sophie.ethz.ch>
Message-ID: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>

Martin Maechler: 
 > >>                    berufl  
 > >>  Bureaukraft         :15  
 > >>  Guetererzeugung     : 9  
 > >>  sonstige            : 4  
 > >>  Handel              : 3  
 > >>  wissensch.-technisch: 3  
 > >>  (Other)             : 3  
 > >>  NA's                :43  
 > 
 > .....
 > 
 > >> > table(berufl)
 > >>           wissensch.-technisch Leiter Oeff. Dienst/Wirtschaft 
 > >>                              3                              0 
 > >>                    Bureaukraft                         Handel 
 > >>                             15                              3 
 > >>  Dienstleistungsgewerbe/Soldat                Gaertner/Jaeger 
 > >>                              2                              1 
 > >>                Guetererzeugung                       sonstige 
 > >>                              9                              4 
 > 
 > What's the problem? 
 > 	'(Other)' gives all the levels having (in your case) 0,1,2 observations,
 > 	which sum to 3 observations.

Do I understand you right, that the variables with low frequency are
put togehter in (other)? This should be explained to a newbie!!

- What criteria decides which variables are put into (other)?
- What kind of order do the values have? Frequency?

This is very irritating! Where can I get information about all this?

 > table() is more detailed (but doesn't report the NA's),
 >   which is the only thing to critize here:

I agree.

Thanks!

(Hmm... R is a very interesting and powerfull tool, but it's
philosophy and terminology need much accustomization for one being
familiar with SPSS & Co.)

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Mar 19 17:44:14 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Mar 1998 18:44:14 +0100
Subject: Apropos names.
In-Reply-To: Martin Maechler's message of Thu, 19 Mar 1998 15:55:06 +0100
References: <199803190934.KAA07638@sophie.ethz.ch>
 <199803191455.PAA08296@sophie.ethz.ch>
Message-ID: <x2zpimy3rl.fsf_-_@blueberry.kubism.ku.dk>


(from R-core)
> Btw, why can't object names contain a `@'?
> 
> -k

Speaking of names. I've been thinking whether it would not at some
point be wise to introduce namespaces into R. This would pretty
obviously break a lot of S code, but it would also make it possible to
avoid a lot of silly problems such as naming one's variables c, t, pt,
df, rm, ... 

A plan that might work relatively smoothly could involve:

- Separate functions from variables. We already do that to some extent
  ("looking for object of mode function...") [At the same time, one
  might get rid of everyone's favourite quirk: forgetting () and
  thus listing the function instead of calling it. I know: basic
  design, functions are just objects, etc., but really: Wouldn't it be
  nicer to type view(ls) the few times you actually wanted to see its
  contents?]

- All system functions and variables are really named something like
  sys::c() i.e. we introduce a namespace separator ::.
  Functions/variables that are intended for general use can be made
  public, by a special call.

- Assignments (interactive) to an existing public name causes a
  warning to be issued (or maybe an error).


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Thu Mar 19 17:53:41 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Thu, 19 Mar 1998 09:53:41 -0800 (PST)
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803191121.MAA07944@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980319092833.11081A-100000@chekov>

On Thu, 19 Mar 1998, Martin Maechler wrote:> 
>     >> This is not a nice name (format is generic; cardinal is not a class)
>     >> for a nice function, which I would like in several places in R code
>     >> and therefore would like to become part of R (under a better name !)
>     >> 

I would have though "ordinal" would be a better name.  Those things are
called ordinals, not cardinals.  This would also allow a language argument
to produce

ordinal(1:3,"english") 
"1st" "2nd" "3rd"
ordinal(1:3,"francais")
"1re" "2me" "3me"

and so on (we probably have people on R-devel who can supply rules
for most common languages using the Latin alphabet). 

On the other hand, aren't there GNU internationali{s,z}ation libraries
that handle this sort of thing?


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Mar 19 20:12:17 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 19 Mar 1998 14:12:17 -0600
Subject: Copyrights on CRAN/src/contrib libraries
Message-ID: <6remzyzbha.fsf@verdi.stat.wisc.edu>

Sorry to bring up this old topic again but ...

The 2.0 release of Debian Linux is about to happen and the release
team requires copyright statements on any code included in the
release.  Presently there are 4 packages that I have created from R
source code and libraries and contributed to the release.  I think
this will help with the visibility of R when there is a well-regarded
release of an operating system that includes R as an integral part of
the operating system.  Regretably I will probably have to cut back to
3 packages because of copyright problems.

The packages are:
 r-base_0.61.2-0     - based on CRAN/src/base/R-0.61.2.tgz
                       All code is GPL or BSD-license or Artistic license
 r-cran_0.61.1-0     - includes from CRAN/src/contrib the libraries
                       class, ctest, e1071, jpn, nnet, oz, polynom,
                       quadprog, rational, spatial, and splines.
  All this code is described as having the GPL for a copyright except
  for jpn which is described as
 License: Created by Data Science Group in Keio University, Japan.  May
   freely be distributed with R.
  I may end up having to remove that library because the statement is
  too vague.

 r-mlbench_0.61.1-0  - the library from CRAN/src/contrib/mlbench.  Its 
  license is described as "free for non-commercial purposes".  There is
  a possibility I will have to remove this one as well but I don't think
  so.  All the code here was written by Fritz Leisch and is covered by
  the GPL.  All the rest of the library is data sets that were converted
  by Fritz.  I believe that data themselves cannot be copyrighted - only
  a particular representation of the data such as a table can be
  copyrighted.  In this case, since Fritz converted the data to a format
  to be read into R, the representation is covered by Fritz putting it
  under the GPL.  I would appreciate hearing from anyone who feels I am
  misinterpreting the copyright status here.
 
 r-cran-non-free_0.61.1-0 - remaining libraries with .DESCRIPTION
                            files from CRAN/src/contrib.  These include
                            bootstrap, fracdiff, principal.curve, and xgobi.
  I think these will have to be removed.  The bootstrap and
  principal.curve libraries have no clear statement of copyright.  The
  fracdiff library says "free for non-commercial purposes" but that is 
  not as specific as it needs to be.  The xgobi library is covered
  under a specific copyright but I think we will fold that into the
  xgobi package rather than the R packages.

Does anyone think I have misplaced one or more of the libraries?

Do you have further copyright clarifications that could help out?

Finally a plea.  Please, when you do contribute a library or other
code, make sure you state the copyright conditions clearly.  If you
don't want to make a big deal about copyright then I recommend that
you use the GPL.  Look at the Appendix at the end of the file COPYING
in the main directory of the R source code for instructions on how to
do this.
-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 20 08:34:17 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 20 Mar 1998 09:34:17 +0100
Subject: Strange Results of summary()
In-Reply-To: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>
 (palme@uni-wuppertal.de)
Message-ID: <199803200834.JAA09382@sophie.ethz.ch>

>>>>> "Hubert" == Hubert Palme <palme@uni-wuppertal.de> writes:

    Hubert> Martin Maechler:
    >> >> berufl >> Bureaukraft :15 >> Guetererzeugung : 9 >> sonstige : 4
    >> >> Handel : 3 >> wissensch.-technisch: 3 >> (Other) : 3 >> NA's :43
    >> 
    >> .....
    >> 
    >> >> > table(berufl) >> wissensch.-technisch Leiter
    >> Oeff. Dienst/Wirtschaft >> 3 0 >> Bureaukraft Handel >> 15 3 >>
    >> Dienstleistungsgewerbe/Soldat Gaertner/Jaeger >> 2 1 >>
    >> Guetererzeugung sonstige >> 9 4
    >> 
    >> What's the problem?  '(Other)' gives all the levels having (in your
    >> case) 0,1,2 observations, which sum to 3 observations.

    Hubert> Do I understand you right, that the variables with low
    Hubert> frequency are put togehter in (other)? This should be explained
    Hubert> to a newbie!!

    Hubert> - What criteria decides which variables are put into (other)?
    Hubert> - What kind of order do the values have? Frequency?

    Hubert> This is very irritating! Where can I get information about all
    Hubert> this?

Read the online help ?   Read the R-notes,  read books about S / S-plus...

More seriously:
1) In situations like these, I just look at the R code;
   in this case, you'll find  summary -> summary.data.frame -> summary.factor
   and you'll see that summary.data.frame  is
	     summary.data.frame(object, maxsum = 7, ...)
   where ``maxsum'' is the argument you may want to use differently..

2) The online help for summary  has been lacking.
   R 0.62  will have an improved help page, whose ASCII version I append at
   the end. 

    >> table() is more detailed (but doesn't report the NA's), which is the
    >> only thing to critize here:

    Hubert> I agree.

Should be in the 0.62 version...


    Hubert> (Hmm... R is a very interesting and powerfull tool, but it's
    Hubert> philosophy and terminology need much accustomization for one
    Hubert> being familiar with SPSS & Co.)

I agree;  implicitly we have often assumed that R users
	- either know  S / Splus
	- or	 are good programmers
Lack in documentation ``proves'' the above.
And yes, we welcome all collaboration in improving documentation!


Here is the new help page  [ ?summary or ?summary.factor or ....] :

    Object Summaries

	 summary(object, ...)

	 summary.default   (object, ..., digits = max(3, .Options$digits -3))
	 summary.data.frame(object, maxsum = 7, ...)
	 summary.factor    (object, maxsum = 100, ...)
	 summary.matrix    (object, ...)

    Arguments:

      object: an object for which a summary is desired.

      maxsum: integer, indicating how many levels should be
	      shown for `factor's.

	 ...: additional arguments affecting the summary pro-
	      duced.

    Description:

	 `summary' is a generic function used to produce result
	 summaries of the results of various model fitting func-
	 tions.  The function invokes particular `method's which
	 depend on the `class' of the first argument.

	 For `factor's, the frequency of the first `maxsum - 1'
	 most frequent levels is shown, where the less frequent
	 levels are summarized in `"(Others)"' (resulting in
	 `maxsum' frequencies).

	 The functions `summary.lm' and `summary.glm' are exam-
	 ples of particular methods which summarise the results
	 produced by `lm' and `glm'.

    Value:

	 The form of the value returned by `summary' depends on
	 the class of its argument.  See the documentation of
	 the particular methods for details of what is produced
	 by that method.

    See Also:

	 `anova', `summary.glm', `summary.lm'.

    Examples:

	 options(digits=5)
	 data(attenu)
	 summary(attenu) #-> summary.data.frame(..)
         summary(attenu $ station, maxsum = 20) #-> summary.factor(..)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 20 08:45:32 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 20 Mar 1998 09:45:32 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <Pine.SUN.3.95.980319092833.11081A-100000@chekov> (message from
 Thomas Lumley on Thu, 19 Mar 1998 09:53:41 -0800 (PST))
Message-ID: <199803200845.JAA09391@sophie.ethz.ch>

>>>>> "TL" =3D=3D Thomas Lumley <thomas@biostat.washington.edu> writes:

    TL> On Thu, 19 Mar 1998, Martin Maechler wrote:> 
    >> >> This is not a nice name (format is generic; cardinal is not a cla=
ss)
    >> >> for a nice function, which I would like in several places in R co=
de
    >> >> and therefore would like to become part of R (under a better name=
 !)
    >> >> 

    TL> I would have though "ordinal" would be a better name.  Those things
    TL> are called ordinals, not cardinals.
of course.

    TL> This would also allow a language argument to produce

    TL> ordinal(1:3,"english") 
    TL> "1st" "2nd" "3rd"
    TL> ordinal(1:3,"francais")
    TL> "1re" "2me" "3me"
    TL> and so on (we probably have people on R-devel who can supply rules
    TL> for most common languages using the Latin alphabet). 

Excellent!!
I'll adopt these;  
btw,  "deutsch" would be as easy as
=09"1." "2.", .....

    TL> ordinal(1:3,"francais")
    TL> "1re" "2me" "3me"
=09  ^^
=09is this okay, even for males? (premier / premi=E8re)

Maybe, we'd even need an argument "sex" ( or "gender" ?)
to have
=09> ordinal(1:3, "italian", "m")
=09[1] "1o" "2o" "3o"

=09> ordinal(1:3, "italian", "f")
=09[1] "1a" "2a" "3a"
(and same(?) for spanish).


    TL> On the other hand, aren't there GNU internationali{s,z}ation librar=
ies
    TL> that handle this sort of thing?
(called "i18n"), well, yes, in principle.  
I don't know the details, but I think to remember
that these are rather bigger things to be installed on a (Unix) system leve=
l.
=09=
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Fri Mar 20 09:12:11 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Fri, 20 Mar 1998 10:12:11 +0100 (MET)
Subject: Strange Results of summary()
In-Reply-To: <199803200834.JAA09382@sophie.ethz.ch>
References: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>
 <199803200834.JAA09382@sophie.ethz.ch>
Message-ID: <199803200912.KAA22659@wrin27.urz.uni-wuppertal.de>

Martin Maechler: 
 > 
 > Read the online help ?   Read the R-notes,  read books about S / S-plus...

Can you recommend me a book about S / S-plus? (it's difficult to
search for "S" in the library catalogue :-)

Perhaps one in German?

 > 
 > More seriously:
 > 1) In situations like these, I just look at the R code;
 >    in this case, you'll find  summary -> summary.data.frame -> summary.factor
 >    and you'll see that summary.data.frame  is
 > 	     summary.data.frame(object, maxsum = 7, ...)
 >    where ``maxsum'' is the argument you may want to use differently..
 > 
 > 2) The online help for summary  has been lacking.
 >    R 0.62  will have an improved help page, whose ASCII version I append at
 >    the end. 

Thanks. First I want to reinstall R with a regex library and readline, 
then I'll go on trying.

 > I agree;  implicitly we have often assumed that R users
 > 	- either know  S / Splus
 > 	- or	 are good programmers
 > Lack in documentation ``proves'' the above.

That's the point. It's good to know that you are aware of it :-)

Thanks for your help!

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Mar 20 09:26:00 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 20 Mar 1998 10:26:00 +0100
Subject: Strange Results of summary()
In-Reply-To: <199803200912.KAA22659@wrin27.urz.uni-wuppertal.de>
References: <199803191334.OAA18974@wrin27.urz.uni-wuppertal.de>
 <199803200834.JAA09382@sophie.ethz.ch>
 <199803200912.KAA22659@wrin27.urz.uni-wuppertal.de>
Message-ID: <199803200926.KAA28203@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 20 Mar 1998 10:12:11 +0100 (MET),
>>>>> Hubert Palme (HP) wrote:

HP> Can you recommend me a book about S / S-plus? (it's difficult to
HP> search for "S" in the library catalogue :-)

Search for Splus ... most books have it either in the title or as
keyword.

HP> Perhaps one in German?

Andreas Krause: Einf=FChrung in S und S-Plus
Berlin [u.a.]: Springer, 1997. - . - XVIII, 319 S. : graph. Darst.=20

is a nice introduction in German at a very basic level. My students
liked it very much, better than some of the ``more advanced'' books.

It also mentions R in the appendix :-)

And then there are always the ``bibles'' like

	Venables & Ripley: Modern Applied Statistics with Splus
	Chambers & Hastie: Statistical Models in S

though these are English, of course.

Hope this helps,
Fritz

--=20
-------------------------------------------------------------------
                        Friedrich  Leisch                            =20
Institut f=FCr Statistik                      Tel: (+43 1) 58801 4541
Technische Universit=E4t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra=DFe 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Mar 20 12:51:03 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 20 Mar 1998 13:51:03 +0100 (CET)
Subject: Apropos names.
In-Reply-To: <x2zpimy3rl.fsf_-_@blueberry.kubism.ku.dk>
References: <199803190934.KAA07638@sophie.ethz.ch>
 <199803191455.PAA08296@sophie.ethz.ch>
 <x2zpimy3rl.fsf_-_@blueberry.kubism.ku.dk>
Message-ID: <13586.24524.719517.738131@pc25.none>

>>>>> Peter Dalgaard BSA writes:

> (from R-core)
>> Btw, why can't object names contain a `@'?
>> 
>> -k

> Speaking of names. I've been thinking whether it would not at some
> point be wise to introduce namespaces into R. This would pretty
> obviously break a lot of S code, but it would also make it possible to
> avoid a lot of silly problems such as naming one's variables c, t, pt,
> df, rm, ...

> A plan that might work relatively smoothly could involve:

> - Separate functions from variables. We already do that to some extent
>   ("looking for object of mode function...") [At the same time, one
>   might get rid of everyone's favourite quirk: forgetting () and
>   thus listing the function instead of calling it. I know: basic
>   design, functions are just objects, etc., but really: Wouldn't it be
>   nicer to type view(ls) the few times you actually wanted to see its
>   contents?]

Or print(ls)?  But then typing the name amounts to printing the object,
etc etc.

I am not sure what `separating' would amount to.  I think that as R is
really based on Lisp/Scheme, it should be obvious that we can have
functions objects and variable objects with the same name.  Of course,
the question is what happens if we do print("xyz") if there are both a
variable and a function called `xyz'.

> - All system functions and variables are really named something like
>   sys::c() i.e. we introduce a namespace separator ::.
>   Functions/variables that are intended for general use can be made
>   public, by a special call.

Yes, this would be great.  (Of course, making use of that feature means
that such R code could no longer be used with R-.)

The rule should/could be the following:  make object `obj' in
environment "package:xxx" directly accessible via "xxx::obj" rather than
having to go through get(obj, envir = "....").

A related issue is that of having modules, e.g. a `sys' module within
the base package.  It could be made ``public'' by some export/import
mechanism.  Hmm.  I think Luke had some suggestions on this about a year
ago.

> - Assignments (interactive) to an existing public name causes a
>   warning to be issued (or maybe an error).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Osman.Buyukisik@ae.ge.com  Fri Mar 20 14:22:02 1998
From: Osman.Buyukisik@ae.ge.com (Buyukisik, Osman (GEAE))
Date: Fri, 20 Mar 1998 09:22:02 -0500
Subject: mail-archive place?
Message-ID: <0302875C631AD11198DE00600806C63747A02D@ev009msxaege.ae.ge.com>

I tried ftp://stat.math.ethz.ch/pub/   ? as well as http://stat.math.ethz.ch,
but can't get there?? Where is the mail archive place??

TIA,
Osman


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Mar 20 14:45:05 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Mar 1998 15:45:05 +0100
Subject: mail-archive place?
In-Reply-To: "Buyukisik, Osman's message of Fri, 20 Mar 1998 09:22:02 -0500
References: <0302875C631AD11198DE00600806C63747A02D@ev009msxaege.ae.ge.com>
Message-ID: <x23egdzaj2.fsf@blueberry.kubism.ku.dk>

"Buyukisik, Osman (GEAE)" <Osman.Buyukisik@ae.ge.com> writes:

> 
> I tried ftp://stat.math.ethz.ch/pub/   ? as well as http://stat.math.ethz.ch,
> but can't get there?? Where is the mail archive place??
> 
> TIA,
> Osman

ftp://ftp.stat.math.ethz.ch/pub/Mail-archives

PS: Your return address is confusing GNUS, presumably it's the comma
in "Buyukisik, Osman (GEAE)". Is this a bug in GNUS or a non-compliant
address?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Mar 20 18:15:28 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Fri, 20 Mar 1998 10:15:28 -0800 (PST)
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: <199803200845.JAA09391@sophie.ethz.ch>
Message-ID: <Pine.SUN.3.95.980320101215.13638B-100000@chekov>

On Fri, 20 Mar 1998, Martin Maechler wrote:
>=20
>     TL> ordinal(1:3,"francais")
>     TL> "1re" "2me" "3me"
> =09  ^^
> =09is this okay, even for males? (premier / premi=E8re)
>=20

good point.  It would be "1er", not "1re". We do need a gender argument.

=09-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Mar 20 21:19:32 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Mar 1998 22:19:32 +0100
Subject: a handy function "format.cardinal", looking for a proper name..
In-Reply-To: Thomas Lumley's message of Fri, 20 Mar 1998 10:15:28 -0800 (PST)
References: <Pine.SUN.3.95.980320101215.13638B-100000@chekov>
Message-ID: <x24t0t3vrv.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas@biostat.washington.edu> writes:

>=20
> On Fri, 20 Mar 1998, Martin Maechler wrote:
> >=20
> >     TL> ordinal(1:3,"francais")
> >     TL> "1re" "2me" "3me"
> > =09  ^^
> > =09is this okay, even for males? (premier / premi=E8re)
> >=20
>=20
> good point.  It would be "1er", not "1re". We do need a gender argumen=
t.

I thought it was "1ere" "2eme", etc.?

We probably shouldn't go into "erster, zweiter, dritter,..." and the
Austrian and Swiss variants thereof, though. ;^)

--=20
   O__  ---- Peter Dalgaard             Blegdamsvej 3 =20
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N  =20
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Sat Mar 21 00:32:49 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Fri, 20 Mar 1998 18:32:49 -0600 (CST)
Subject: documentation for "vector"
Message-ID: <m0yGCDR-0000X5C@verdi.stat.wisc.edu>

The documentation for "vector" indicates that "length" will default to 0.

   Vector Types

        vector(type="logical", length=0)
        as.vector(x,mode="any")
        is.vector(x)

The function itself disagrees.
 R> vector("list")
 Error: 1 argument passed to "vector" which requires 2.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Sat Mar 21 00:36:21 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: 20 Mar 1998 18:36:21 -0600
Subject: documentation for "vector"
In-Reply-To: Douglas Bates's message of "Fri, 20 Mar 1998 18:32:49 -0600 (CST)"
References: <m0yGCDR-0000X5C@verdi.stat.wisc.edu>
Message-ID: <6remzwhoca.fsf@verdi.stat.wisc.edu>

Douglas Bates <bates@stat.wisc.edu> writes:

> The documentation for "vector" indicates that "length" will default to 0.
> 
>    Vector Types
> 
>         vector(type="logical", length=0)
>         as.vector(x,mode="any")
>         is.vector(x)
> 
> The function itself disagrees.
>  R> vector("list")
>  Error: 1 argument passed to "vector" which requires 2.

I apologize for not indicating this in my earlier message.  This
behaviour is with

 R : Copyright 1998, Robert Gentleman and Ross Ihaka
 Version 0.61.2 Alpha (March 15, 1998)

on a Debian GNU/Linux system running libc6.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Sat Mar 21 01:20:08 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 21 Mar 1998 13:20:08 +1200 (NZST)
Subject: Apropos names.
Message-ID: <199803210120.NAA26311@stat1.stat.auckland.ac.nz>

> To: R-devel@stat.math.ethz.ch
> Subject: Apropos names.
> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
> Date: 19 Mar 1998 18:44:14 +0100
> MIME-Version: 1.0
> Content-Transfer-Encoding: 7bit


> (from R-core)
> > Btw, why can't object names contain a `@'?

Reserved for future use?

> Speaking of names. I've been thinking whether it would not at some
> point be wise to introduce namespaces into R. This would pretty
> obviously break a lot of S code, but it would also make it possible to
> avoid a lot of silly problems such as naming one's variables c, t, pt,
> df, rm, ... 
>
> A plan that might work relatively smoothly could involve:
>
> - Separate functions from variables. We already do that to some extent
>   ("looking for object of mode function...") [At the same time, one
>   might get rid of everyone's favourite quirk: forgetting () and
>   thus listing the function instead of calling it. I know: basic
>   design, functions are just objects, etc., but really: Wouldn't it be
>   nicer to type view(ls) the few times you actually wanted to see its
>   contents?]

This has been done in common lisp and it's ugly.  Consider

	apply(x, 1, mean)

How do we indicate that this is the function called mean rather
than the non-function mean?  The single namespace makes it much
easier to think about functions as data.

> - All system functions and variables are really named something like
>   sys::c() i.e. we introduce a namespace separator ::.
>   Functions/variables that are intended for general use can be made
>   public, by a special call.

This is a definite possibility, but there are higher priorities at present.

	Ross

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Mar 21 09:00:22 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 1998 10:00:22 +0100
Subject: Apropos names.
In-Reply-To: Ross Ihaka's message of Sat, 21 Mar 1998 13:20:08 +1200 (NZST)
References: <199803210120.NAA26311@stat1.stat.auckland.ac.nz>
Message-ID: <x2yay47715.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:


> 
> > Speaking of names. I've been thinking whether it would not at some
> > point be wise to introduce namespaces into R. This would pretty
> > obviously break a lot of S code, but it would also make it possible to
> > avoid a lot of silly problems such as naming one's variables c, t, pt,
> > df, rm, ... 
> >
> > A plan that might work relatively smoothly could involve:
> >
> > - Separate functions from variables. We already do that to some extent
> >   ("looking for object of mode function...") [At the same time, one
> >   design, functions are just objects, etc., but really: Wouldn't it be
> >   nicer to type view(ls) the few times you actually wanted to see its
> >   contents?]
> 
> This has been done in common lisp and it's ugly.  Consider
> 
> 	apply(x, 1, mean)
> 
> How do we indicate that this is the function called mean rather
> than the non-function mean?  The single namespace makes it much
> easier to think about functions as data.

Ugh. You're right. An even clearer bit of ugliness is 

mean<-mean(x) # you'll be surprised at how many people will do that!
as.list(mean) # which one??

Hmm. Plan B:

class(c)<-"system"
class(ls)<-"system"
...

print.system<-function(...)warning(-something-)

"<-.system"<- function(...)error(-something-)

if you catch my drift?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Sun Mar 22 17:59:19 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Sun, 22 Mar 1998 18:59:19 +0100 (GMT+0100)
Subject: R-0.61.1 compiled with egcs-mingw32
Message-ID: <19980322175919.1333.qmail@sirio.stat.unipd.it>

I have made available the work of the last weekend that I mentioned
in my previous messages on ftp://sirio.stat.unipd.it/pub/R.
Many thanks to Peter D. and Ross I. for their suggestions.
If you think that the work is of some interest, I can upload it
to CRAN.
guido m.

This is the README enclosed in the distribution.
-------------------------------------------------------------------------
rgnwbin.tgz and rgnwsrc.tgz are the first results of an attempt to
build R for Win95 and WinNT using egcs-mingw32.

The advantages over the binaries for MsWindows that can be found in CRAN
are:
1. R seems to run faster. Some simple (perhaps too simple)
   benchmarks point to a 20% gain.
2. The port is based on a more recent version (0.61.1) and it is more
   complete (more "system calls": system, tempfile, unlink, 
   WinExec - to launch applications without waiting for the result;
   support for the standard help system: try help(), help(abline),
   help(line,eda), ?women, data(), library())
3. A new menu item "Stop current computation" make  possible 
   to interupt long computation (but only when  something is printed).
4. Since egcs-mingw32 uses the standard C calling convention, 
   you don't need a Watcom compiler to build dynamic link libraries.
   Indeed, this was my original motivation.
5. It should be easy to use some other gnu-win32 compilers (maybe
   running on a non MsWindows machine). It should be easy to 
   adapt the port to lcc-win32, too.
   
But remember: this is experimental code so
-----------------------------------------------------------------------------
                      USE IT AT YOUR RISK
-----------------------------------------------------------------------------

BINARY DISTRIBUTION
Just unpack rgwnbin.tgz somewhere.
The executable is R.GNW\bin\R.exe. This binary distribution
includes only the standard packages (base+eda+mva+stepfun).

SOURCE DISTRIBUTION
This is an add-on to the R-0.61.1 distribution.
So unpack R-0.61.1.tar.gz somewhere.
Then, from the same directory, unpack rgwnsrc.tgz.
To rebuild the system, go to R-0.61.1/src/gnuwin32.
Then
   > make
should build the standard stuff.
To add a new package, you should
a) download it; 
b) unpack it in the R-0.61.1/src directory.
c) go to the R-0.61.1/src/gnuwin32 directory and type
   > make pkg-xxx
   where xxx is the name of the package.
   You should get the directory R-0.61.1/library/xxx
   and its subdirectory R/ (the r-code) data/ (the 
   data of the package) R/libs (the dynamic link library) and
   the support for the help system (INDEX, TITLE, an updated
   LibIndex). Of course, the data and libs subdirectory
   can be missing.
d) if you want the documentation, you can download 
   the preformatted one.Then  unpack it in the R-0.61.1
   (not in the R-0.61.1/src) directory. If you don't need
   the LaTeX files, remove them.

Note:
(1) Of course, you need a compiler. As I have said I used 
    the egcs-mingw32 one:
    http://www.xraylith.wisc.edu/~khan/software/gnu-win32/
(2) You must also have a GNU make and some standard unix
    command (ls,cat,sed,rm). Furthemore, make and this
    command must be able to overcome the MsDOS limitation
    about the length of a command.
    I used the ones coming with the djgpp compiler.
    According to me, they are the best version for dos and
    windows. You can find it in any SIMTEL mirror.
    If you want, I can make available a small file with
    only the needed tools.
(3) The gnuwin32/Makefile use the g77 Fortran compiler.
    If you don't have it, or if you don't want to use it,
    you can use something like
      > make HAVEG77=NO 
    or
      > make HAVEG77=NO pkg-xxx
    For example, the g77 compiler in egcs-mingw32 was
    not able to compile the fortran code in the acepack package.
    However, I was able to build this package with the command
      > make HAVEG77=NO pkg-acepack
(4) When installing a package, if in R-0.61.1/src/library/xxx/R
    exist a file with name yyy.gnw then this file is used
    and files with name yyy or yyy.somethingelse are
    ignored. In this way, you can configure the R code
    of the package. An example is the base/R/system.gnw
    file.
(5) This is not a developer's distribution. For example, dependences
    are written in a silly way. Furthemore, all the code
    in src/appl/, src/appl-f,..... is compiled.
    No use of the original Makefile is done.
    Hence, you have to start from a cleaned distribution.


BUGS and TODO
(0) The English of this README.
(1) If you exit from the edit windows and this is empty you get a
    segmentation fault. This happens also on my Linux box. So,
    it seem to be a general problem.
(2) The dll's are statically linked with the other R code.
    So they get support for the routines that they need.
    In this way, they work but are big. We should have
    a large R.dll with all the standard code. Then 
    the executable and the dll's should simply import
    from R.dll.
(3) Try and adapt this port to other win32 compiler.
    It should be easy. So, why don't try?
(4) The system command does not work if the command to be
    execute require some user interaction. It is just a 
    "simulated  reading pipe for a broken OS".
(5) I inserted an event loop at the beginning of the
    function which print to the console. In this way,
    you can interupt the computation or, for example,
    give the focus to the graphics window.
    But only when you print. A call to the event loop
    must be inserted inside the "main" code.
    But, for the moment, I decided to leave the "main"
    code untouched.
(6) When building package xxx, all the C and Fortran files
    found in library/xxx/src (or library/xxx/src-c if
    you don't have the g77 compiler) are compiled
    and putted in a dll. On the contrary, we have to make
    use of the original Makefile.
(7) The Windows code must be cleaned. 
    

guido masarotto                             22 marzo 1998
guido@sirio.stat.unipd.it



    
    
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Mon Mar 23 08:08:42 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 23 Mar 1998 09:08:42 +0100
Subject: mail-archive place?
In-Reply-To: <x23egdzaj2.fsf@blueberry.kubism.ku.dk>
References: <0302875C631AD11198DE00600806C63747A02D@ev009msxaege.ae.ge.com>
 <x23egdzaj2.fsf@blueberry.kubism.ku.dk>
Message-ID: <199803230808.JAA27642@galadriel.ci.tuwien.ac.at>

>>>>> On 20 Mar 1998 15:45:05 +0100,
>>>>> Peter Dalgaard BSA (PDB) wrote:

PDB> "Buyukisik, Osman (GEAE)" <Osman.Buyukisik@ae.ge.com> writes:
>> 
>> I tried ftp://stat.math.ethz.ch/pub/   ? as well as http://stat.math.ethz.ch,
>> but can't get there?? Where is the mail archive place??
>> 
>> TIA,
>> Osman

PDB> ftp://ftp.stat.math.ethz.ch/pub/Mail-archives

PDB> PS: Your return address is confusing GNUS, presumably it's the comma
PDB> in "Buyukisik, Osman (GEAE)". Is this a bug in GNUS or a non-compliant
PDB> address?

You can also find the mail archives at every CRAN mirror, check

	http://www.ci.tuwien.ac.at/R

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Mar 23 15:15:05 1998
From: bates@stat.wisc.edu (Douglas Bates)
Date: Mon, 23 Mar 1998 09:15:05 -0600 (CST)
Subject: Placement of attributes
Message-ID: <m0yH8wL-0000YWC@verdi.stat.wisc.edu>

In preparing data sets for the lme library, I bring the data into R,
convert it to the groupedData class, which is an extension of the
data.frame class, and use "dump" to create an R-readable version.  
To cut down on the size of these files I convert the row.names
attribute from expressions like c("1", "2", ..., "54") to 1:54.

I have run into a curious problem that seems to related to the
position of the row.names attribute in the R-readable representation.
The following transcript was generated under R-0.61.1 on a Debian
Linux system.  I apologize for the length of the transcript.

R> print.groupedData
function (x, ...) 
{
        cat("Grouped Data: ")
        print(attr(x, "formula"))
        NextMethod("print", x, ...)
}
R> "Machines" <-
+   structure(list
+   (Worker = structure(ordered(c(4, 4, 4, 2, 2, 2, 
+      5, 5, 5, 3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 
+      3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 3, 3, 3, 
+      6, 6, 6, 1, 1, 1), levels=1:6), class = c("ordered", "factor"),
+      .Label = c("6", "2", "4", "1", "3", "5")),
+    Machine = structure(factor(c(1, 
+      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 
+      2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 
+      3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3), levels=1:3), class = "factor",
+      .Label = c("A", "B", "C")),
+    score = c(52, 52.8, 
+      53.1, 51.8, 52.8, 53.1, 60, 60.2, 58.4, 51.1, 52.3, 50.3, 50.9, 
+      51.8, 51.4, 46.4, 44.8, 49.2, 62.1, 62.6, 64, 59.7, 60, 59, 68.6, 
+      65.8, 69.7, 63.2, 62.8, 62.2, 64.8, 65, 65.4, 43.7, 44.2, 43, 
+      67.5, 67.2, 66.9, 61.5, 61.7, 62.3, 70.8, 70.6, 71, 64.1, 66.2, 
+      64, 72.1, 72, 71.1, 62, 61.4, 60.5)),
+ class = c("nffGroupedData", "nfGroupedData", "groupedData", "data.frame"),
+ row.names = 1:54,
+ formula = score ~ 1 | Worker,
+ labels = list(y = "Productivity score"),
+ inner = ~ Machine)
R> Machines
Grouped Data: score ~ 1 | Worker
   Worker Machine score
1       1       A  52.0
2       1       A  52.8
3       1       A  53.1
4       2       A  51.8
5       2       A  52.8
6       2       A  53.1
7       3       A  60.0
8       3       A  60.2
9       3       A  58.4
10      4       A  51.1
11      4       A  52.3
12      4       A  50.3
13      5       A  50.9
14      5       A  51.8
15      5       A  51.4
16      6       A  46.4
17      6       A  44.8
18      6       A  49.2
19      1       B  62.1
20      1       B  62.6
21      1       B  64.0
22      2       B  59.7
23      2       B  60.0
24      2       B  59.0
25      3       B  68.6
26      3       B  65.8
27      3       B  69.7
28      4       B  63.2
29      4       B  62.8
30      4       B  62.2
31      5       B  64.8
32      5       B  65.0
33      5       B  65.4
34      6       B  43.7
35      6       B  44.2
36      6       B  43.0
37      1       C  67.5
38      1       C  67.2
39      1       C  66.9
40      2       C  61.5
41      2       C  61.7
42      2       C  62.3
43      3       C  70.8
44      3       C  70.6
45      3       C  71.0
46      4       C  64.1
47      4       C  66.2
48      4       C  64.0
49      5       C  72.1
50      5       C  72.0
51      5       C  71.1
52      6       C  62.0
53      6       C  61.4
54      6       C  60.5
R> "Machines" <-   # only change is position of "row.names" and "class" attributes
+   structure(list
+   (Worker = structure(ordered(c(4, 4, 4, 2, 2, 2, 
+      5, 5, 5, 3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 
+      3, 3, 3, 6, 6, 6, 1, 1, 1, 4, 4, 4, 2, 2, 2, 5, 5, 5, 3, 3, 3, 
+      6, 6, 6, 1, 1, 1), levels=1:6), class = c("ordered", "factor"),
+      .Label = c("6", "2", "4", "1", "3", "5")),
+    Machine = structure(factor(c(1, 
+      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 
+      2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 
+      3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3), levels=1:3), class = "factor",
+      .Label = c("A", "B", "C")),
+    score = c(52, 52.8, 
+      53.1, 51.8, 52.8, 53.1, 60, 60.2, 58.4, 51.1, 52.3, 50.3, 50.9, 
+      51.8, 51.4, 46.4, 44.8, 49.2, 62.1, 62.6, 64, 59.7, 60, 59, 68.6, 
+      65.8, 69.7, 63.2, 62.8, 62.2, 64.8, 65, 65.4, 43.7, 44.2, 43, 
+      67.5, 67.2, 66.9, 61.5, 61.7, 62.3, 70.8, 70.6, 71, 64.1, 66.2, 
+      64, 72.1, 72, 71.1, 62, 61.4, 60.5)),
+ row.names = 1:54,
+ class = c("nffGroupedData", "nfGroupedData", "groupedData", "data.frame"),
+ formula = score ~ 1 | Worker,
+ labels = list(y = "Productivity score"),
+ inner = ~ Machine)
R> Machines
Grouped Data: score ~ 1 | Worker

Process R segmentation fault at Mon Mar 23 09:14:43 1998
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Mar 23 16:05:00 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Mar 1998 17:05:00 +0100
Subject: Placement of attributes
In-Reply-To: Douglas Bates's message of Mon, 23 Mar 1998 09:15:05 -0600 (CST)
References: <m0yH8wL-0000YWC@verdi.stat.wisc.edu>
Message-ID: <x27m5ll7f7.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates@stat.wisc.edu> writes:

> R> Machines
> Grouped Data: score ~ 1 | Worker
> 
> Process R segmentation fault at Mon Mar 23 09:14:43 1998

in 0.61.2, this behaves differently:

> Machines
Grouped Data: score ~ 1 | Worker
Error: attempt to type-coerce non-vector

In both cases, that is.

However, applying print.data.frame directly or indirectly by removing
the print method, on the structures gives a print of the data frame in
the 1st case and a segfault in the 2nd.

A quick tour into the debugger show that it dies trying to do
CHAR(x[i]) with x[0] == 1, -- and  x[1] == 2, etc. Methinks that
row.names<-as.character(1:54) might help! 

However, one should probably also do the explicit coercion of rownames
to character in  printDataFrame...

But where did the type-coerce error come from?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Mon Mar 23 17:12:14 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Mon, 23 Mar 1998 12:12:14 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <x27m5ll7f7.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 23 Mar 1998 17:05:00 +0100)
Message-ID: <199803231712.MAA08319@c0230.ae.ge.com>

Peter Dalgaard writes:

>>row.names<-as.character(1:54) might help! 

Yes, that does help.   
...

478          PROTECT(rl = getAttrib(x, install("row.names")));

....

545          if (!isNull(rl)) formatString(STRING(rl), r, &rlabw, 0);
 
I guess if row.names are not strings, then the above line causes seg
fault.

Somehow in the first example they are coerced into strings because
they came after c("xxx" , ...). In the second example row.names comes
after c(2 , ...) .

Is there a way to check to see it rl contains strings?

Osman



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Mon Mar 23 18:00:58 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Mon, 23 Mar 1998 13:00:58 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <199803231712.MAA08319@c0230.ae.ge.com> (message from
 U-E59264-Osman Buyukisik on Mon, 23 Mar 1998 12:12:14 -0500 (EST))
Message-ID: <199803231800.NAA09688@c0230.ae.ge.com>

Well, I found isString(), and coerceToString in coerce.c. Just added
the follwoing line to line 479 in file printarray.c:

479        PROTECT(rl = getAttrib(x, install("row.names")));
480        if(!isString(rl)) PROTECT(rl = coerceToString( rl )); <--- NEW
481        PROTECT(cl = getAttrib(x, R_NamesSymbol));

Now I don't get seg fault. Machines get printed out but at the end I
get a message :
stack imbalance in print.data.frame, 13 then 14

I guess I did not do this right :-) I had to remove "static " from
definition of  coerceToString in coerce.c. I think row.names should be
coerced to String as it is read in since the help on row.names says it
is a char vector.

P.S. I am playing with R-snapshot March 17 on hpux10.20.

Osman



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Mon Mar 23 19:47:43 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 24 Mar 1998 07:47:43 +1200 (NZST)
Subject: Placement of attributes
Message-ID: <199803231947.HAA26886@stat1.stat.auckland.ac.nz>

The PROTECT macro has to do with protecting an internal object from the
garbage collector.

	SEXP x;			/* x is an s-expression */
				/* i.e. an R object of some sort */

	x = allocate an object
	PROTECT(x) 	
	...
	UNPROTECT(x)

Every PROTECTED object must be UNPROTECTed before you exit from the
current function.  The interpreter keeps track of how may pointers
are protected at entry and checks that this is the same at exit.

I am hoping that medium term we will be able to switch from our
home-grown garbage-collector to the Boehm conservative collector.
This should fix all sorts of problems, but there are a couple of
save/restore problems which need to fixed before that.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Mon Mar 23 20:39:03 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Mon, 23 Mar 1998 15:39:03 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <199803231947.HAA26886@stat1.stat.auckland.ac.nz> (message from
 Ross Ihaka on Tue, 24 Mar 1998 07:47:43 +1200 (NZST))
Message-ID: <199803232039.PAA10645@c0230.ae.ge.com>

OK, I took the PROTECT() out of the line I added since it was already
protected. Now I don't get the stack imbalance message, and "Machines" prints out
without seg fault. But, I had to change "static SEXP
coerceToString()" to just "SEXP coerceToString()". Does that cause any
problems? Otherwise the linker was not resolving the call to
coerceToString from printarray.c file.
Again the would the best place to  coerce to string in dataframe.c
file? 
Osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Mar 23 21:31:55 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 23 Mar 1998 13:31:55 -0800 (PST)
Subject: R-beta: R with gnuwin32
In-Reply-To: <x290qbptne.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SUN.3.95.980323132457.18565B-100000@chekov>


There has been some talk about missing header files for compiling the
windows stuff under gcc .  A company called Willows (www.willows.com) 
produces a set of tools for porting Windows programs to other platforms,
including the necessary header files, all under the GNU LGPL.  This might
have the files we need (I don't know enough about the problem to tell for
sure).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Mar 23 23:36:01 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Mar 1998 00:36:01 +0100
Subject: R-beta: R with gnuwin32
In-Reply-To: Thomas Lumley's message of Mon, 23 Mar 1998 13:31:55 -0800 (PST)
References: <Pine.SUN.3.95.980323132457.18565B-100000@chekov>
Message-ID: <x2d8fdgeu6.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas@biostat.washington.edu> writes:

> 
> 
> There has been some talk about missing header files for compiling the
> windows stuff under gcc .  A company called Willows (www.willows.com) 
> produces a set of tools for porting Windows programs to other platforms,
> including the necessary header files, all under the GNU LGPL.  This might
> have the files we need (I don't know enough about the problem to tell for
> sure).
> 
> 	-thomas

These were checked out by someone on the Gnuwin32 list a couple of
weeks ago and were found inadequate. I also tried them myself without
luck at some point.

Basically, every time you try to lift header files off of another
package in this game you find that they are incompatible in some
*other* aspect and cause your programs to get burnt to cinders in an
astounding flurry of error messages...

As I understand Guido M's work, he's filled in the few gaps necessary
to get the current R/Windows functions to run by inserting the
relevant definitions by hand. I think most of these definitions are
already in *some* freeware toolkit, so they're not likely to cause
legal trouble (and the possibility of copyrighting the information
that WM_DDE_FIRST is 0x03E0 etc., is dubious in the first place). I
haven't gotten around to looking at the details (today was crazy
enough already!) but I expect that what he's done already should make
it possible to do what we want as far as current sources are
concerned. Trouble may arise as we try to improve the Win32 functions,
though.

There are two obvious pathways to proceed along in that case:

1) Figure out exactly what you *can* do with the gnu headers and use
that. Obviously requires knowledge of the Win32 API.

2) Use a portable toolkit. V, wxWindows, Tcl/Tk, with the latter
appealing quite a bit to me as I've already indicated on a number of
occasions.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Tue Mar 24 10:27:15 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Tue, 24 Mar 1998 11:27:15 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32 (fwd)
Message-ID: <19980324102715.4351.qmail@sirio.stat.unipd.it>

> Peter Dalgaard BSA writes:
> > 
> > As I understand Guido M's work, he's filled in the few gaps necessary
> > to get the current R/Windows functions to run by inserting the
> > relevant definitions by hand. I think most of these definitions are
> > already in *some* freeware toolkit, so they're not likely to cause
> > legal trouble (and the possibility of copyrighting the information
> > that WM_DDE_FIRST is 0x03E0 etc., is dubious in the first place). I
 Inserting by hand was by first approach. But in the distribution
 that I made available, I used, to avoid legal problem, part of the
 header included in lcc-win32 which is freeware. Look to the
 file lcc.h in rgwnsrc.tgz.
 What is missing in the gnu header are the definitions of the 
 Edit_something macros and of some constants. 
 Observe that the use of the first ones can be avoid 
 if in the source we substitute them with the appropriate
 SendMessage calls.
> > 
> > 2) Use a portable toolkit. V, wxWindows, Tcl/Tk, with the latter
> > appealing quite a bit to me as I've already indicated on a number of
> > occasions.
 Perhaps, this is the best solution. Another portable toolkit which is small,
 only C not C++, and so easy to use is GraphApp.
 guido m.
 
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From naras@stat.Stanford.EDU  Tue Mar 24 15:59:36 1998
From: naras@stat.Stanford.EDU (Balasubramanian Narasimhan)
Date: Tue, 24 Mar 1998 07:59:36 -0800
Subject: R-beta: R with gnuwin32
In-Reply-To: Your message of "24 Mar 1998 00:36:01 +0100"
References: <x2d8fdgeu6.fsf@blueberry.kubism.ku.dk>
Message-ID: <199803241559.HAA15294@rgmiller.Stanford.EDU>

>>>>> "Peter" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
>>>>> "Peter" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
    Peter> 2) Use a portable toolkit. V, wxWindows, Tcl/Tk, with the
    Peter> latter appealing quite a bit to me as I've already
    Peter> indicated on a number of occasions.

I have just started looking into the "latter". I've done some work
with Tcl/Tk but I am just looking seriously at R sources now. Should
we form a core group to coordinate this effort? This might help me come
up to speed quickly.

________________________________________________________________
B. Narasimhan                            naras@stat.stanford.edu
                             http://www-stat.stanford.edu/~naras





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From buyuk@c0230.ae.ge.com  Tue Mar 24 18:27:36 1998
From: buyuk@c0230.ae.ge.com (U-E59264-Osman Buyukisik)
Date: Tue, 24 Mar 1998 13:27:36 -0500 (EST)
Subject: Placement of attributes
In-Reply-To: <6rvht4dn1b.fsf@verdi.stat.wisc.edu> (message from Douglas Bates
 on 24 Mar 1998 11:19:28 -0600)
Message-ID: <199803241827.NAA04434@c0230.ae.ge.com>

Well, it wasn't in dataframe.c, but in attrib.c file function
rownamesgets! coerceVector( , STRSEXP) was already there but due to
if(isFrame(vec))  line was not getting executed. I moved the
"If(isFrame..." line to right after PROTECT(val) (3 lines down). Now
it works :-). At least as far as running the test code. I don't know
why isFrame(vec) was returning false. We are reading in a data frame.

Osman
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Tue Mar 24 18:47:34 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Tue, 24 Mar 1998 19:47:34 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32
Message-ID: <19980324184735.5892.qmail@sirio.stat.unipd.it>

 I am sorry but, on sunday, I putted on the ftp server not the last
 version of my work.
 There are two bugs that I had already discovered:
 (a) to run all the demos, at least on my machine, you have
     to eliminate the max.parse.length=10000 at the end
     of the demo function (in the call to source).
 (b) the menu item which sources a file sometimes doesn't 
     work. The source(...) command should work. I had already
     correct the C source.
 
 Of course, there are some other zillion of bugs unknown.
 
 I apologize for the problems.
 guido m.
     
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Mar 25 08:22:23 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 25 Mar 1998 09:22:23 +0100
Subject: R alpha/beta naming
Message-ID: <199803250822.JAA19152@sophie.ethz.ch>

Read this morning
>>>	R : Copyright 1998, Robert Gentleman and Ross Ihaka
>>>	Version 0.61.2 Alpha (March 15, 1998)
		       -----
So, there still is no  "R beta" around....

- If I didn't know R, would I use a statistics software, if it was still 
  in alpha testing state?
- Is this really what we want to tell people about R?

More to the point:
	I think, we could have called it beta, really.
	Even though there still are known bugs.

	S-plus 4.0 wasn't even called beta...

==> Should we plan to release  
    0.61.3 Beta ?
	   ----  (with only very minor changes from 0.61.2)

Other opinions?

Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Wed Mar 25 08:35:15 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 25 Mar 1998 09:35:15 +0100
Subject: R alpha/beta naming
In-Reply-To: <199803250822.JAA19152@sophie.ethz.ch>
References: <199803250822.JAA19152@sophie.ethz.ch>
Message-ID: <199803250835.JAA07841@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 25 Mar 1998 09:22:23 +0100,
>>>>> Martin Maechler (MM) wrote:

MM> Read this morning
>>>> R : Copyright 1998, Robert Gentleman and Ross Ihaka
>>>> Version 0.61.2 Alpha (March 15, 1998)
MM> 		       -----
MM> So, there still is no  "R beta" around....

MM> - If I didn't know R, would I use a statistics software, if it was st=
ill=20
MM>   in alpha testing state?
MM> - Is this really what we want to tell people about R?

MM> More to the point:
MM> 	I think, we could have called it beta, really.
MM> 	Even though there still are known bugs.

MM> 	S-plus 4.0 wasn't even called beta...

MM> =3D=3D> Should we plan to release =20
MM>     0.61.3 Beta ?
MM> 	   ----  (with only very minor changes from 0.61.2)

MM> Other opinions?

Hmm, as long as we have a major version number of 0 I think we could
omit any ALPHA or BETA declaration, because the 0 implies that this is
not considered to be a final release. Then we could restart thinking
about alpha/beta statements once 1.0 is out ...

That's also the reason why I removed the text ``alpha and beta
versions'' from the CRAN main page and replaced it by a simple
``R source code''.

Just my 10g (=3Dsmallest coin in Austria),
Fritz

--=20
-------------------------------------------------------------------
                        Friedrich  Leisch                            =20
Institut f=FCr Statistik                      Tel: (+43 1) 58801 4541
Technische Universit=E4t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra=DFe 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Mar 25 08:39:20 1998
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 25 Mar 1998 09:39:20 +0100 (CET)
Subject: R alpha/beta naming
In-Reply-To: <199803250822.JAA19152@sophie.ethz.ch>
References: <199803250822.JAA19152@sophie.ethz.ch>
Message-ID: <13592.49725.379491.144013@pc25.none>

>>>>> Martin Maechler writes:

> Read this morning
>>>> R : Copyright 1998, Robert Gentleman and Ross Ihaka
>>>> Version 0.61.2 Alpha (March 15, 1998)
> 		       -----
> So, there still is no  "R beta" around....

> - If I didn't know R, would I use a statistics software, if it was still 
>   in alpha testing state?
> - Is this really what we want to tell people about R?

> More to the point:
> 	I think, we could have called it beta, really.
> 	Even though there still are known bugs.

> 	S-plus 4.0 wasn't even called beta...

> ==> Should we plan to release  
>     0.61.3 Beta ?
> 	   ----  (with only very minor changes from 0.61.2)

> Other opinions?

stable releases        <=> BETA
development releases   <=> ALPHA

I.e., (btw, YES!),

	0.61.3 (BETA)
	0.62.0 (ALPHA)

which would be great anyway as then we don't have to worry about
even/odd version numbers ... (our numbering is the opposite of e.g.
the Linux kernel).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Wed Mar 25 10:14:56 1998
From: guido@sirio.stat.unipd.it (guido@sirio.stat.unipd.it)
Date: Wed, 25 Mar 1998 11:14:56 +0100 (GMT+0100)
Subject: R-beta: R with gnuwin32
In-Reply-To: <199803250901.29958.solva.ifi.uio.no@ifi.uio.no> from "Jan Kutylowski" at Mar 25, 98 10:01:43 am
Message-ID: <19980325101456.9617.qmail@sirio.stat.unipd.it>

Jan Kutylowski writes:
> 
> 
> 
> 
> I picked up your execs of R. First impression is that R apears faster.
> But running a demo does not stop the screen after it fills up, so
> it is unpleasant. Is there anything I can do about this?
The same happens also under unix (at least under linux).
If I understand the point, but someone else can give you better advice,
you have to look to the source function, try to compute the number
of line printed, and stop when .... I will give a look to the function.
> 
> I would very much welcome if you could update the binaries as you
> discover bugs etc. 
> 
> I believe gcc on Windows is THE way to go. Your work brings the light
> to the issues of the coexistence of updated Windows/Linux versions.

When I will have time, I want to prepare a version for my student
with many of the packages available. I can also try to fix bugs 
when these will be  discovered but my attempt was only an experiment.
guido m.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Mar 25 10:32:13 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Mar 1998 11:32:13 +0100
Subject: R alpha/beta naming
In-Reply-To: Kurt Hornik's message of Wed, 25 Mar 1998 09:39:20 +0100 (CET)
References: <199803250822.JAA19152@sophie.ethz.ch>
 <13592.49725.379491.144013@pc25.none>
Message-ID: <x2pvjbf4cy.fsf@blueberry.kubism.ku.dk>

Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:

> > Other opinions?
> 
> stable releases        <=> BETA
> development releases   <=> ALPHA
> 
> I.e., (btw, YES!),
> 
> 	0.61.3 (BETA)
> 	0.62.0 (ALPHA)
> 
> which would be great anyway as then we don't have to worry about
> even/odd version numbers ... (our numbering is the opposite of e.g.
> the Linux kernel).

No... The next release is 0.62.0, at which point we start patching
0.62.[1234..] while putting new features into 0.63.0. We simply don't
use the stable/unstable model, but a release/snapshot one. 

I'm with Fritz: Just forget about the alpha/beta designations, they
belong in another world. 

They *might* be used meaningfully as follows:

0.61.2 is the current release

0.62.0 alpha is the current snapshot
0.62.0 beta is the current snapshot when a code freeze is announced

Currently, the state of the patch branch is unavailable between
releases, which I'm not really sure is a good thing. If we made it
accessible then it could be

0.61.3 beta 

(with the solemn vow that the patch branch never enters an alpha
state!)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From palme@uni-wuppertal.de  Wed Mar 25 15:01:21 1998
From: palme@uni-wuppertal.de (Hubert Palme)
Date: Wed, 25 Mar 1998 16:01:21 +0100 (MET)
Subject: POSIX regular expressions on Irix 5.3
In-Reply-To: <199803181946.HAA14615@stat1.stat.auckland.ac.nz>
References: <199803181946.HAA14615@stat1.stat.auckland.ac.nz>
Message-ID: <199803251501.QAA21283@wrin27.urz.uni-wuppertal.de>

OK, now I got it. But it is a pain to install R on Irix systems
without having gcc!

Ross Ihaka: 
 > If you look in the R source tree in R/src/regex you will find a version
 > of Henry Spencer's regular expression library.  You could try compiling
 > and installing that (you will need to modify the Makefile).  Some SGI
 > compilers have trouble with it, but it may work for you.

It doesn't compile. There is a header file missing.

 > 
 > If that doesn't work, there are a number of GNU regular expression
 > libraries, which you can get from the usual GNU places.  Install one
 > of them and then try again.  You may also want to pick up a recent version
 > of the readline library at the same time.
 > 
 > I'd be interested in a report if you are successful.
 > 
 > 	Ross

I installed the rx and readline libraries in /usr/local. Then I had to 
do a lot of changes changes to compile successfully. I append them.

I strongly recommend to make 'configure' smart enough to check for the
rx library (librx.a, rxposix.h) if necessary -- also in /usr/local! 


Another strange thing:

checking for main in -lreadline... yes
...
checking for readline/history.h... no

This file does exist! (in /usr/local/include -- is that the problem?) 


And, please, insert

SHELL = /bin/sh

in the Makefile's not generated by configure (those ones are OK)!


Thanks for R!

H.P.


Here are the changes:

*** src/include/Platform.h.origin       Tue Mar 24 15:47:24 1998
--- src/include/Platform.h      Tue Mar 24 15:56:43 1998
***************
*** 42,48 ****
  /* #undef USE_BUILTIN_RINT */
  
  /* POSIX Regular Expressions Available */
! /* #undef HAVE_REGCOMP */
  
  /* Compatibility for "memmove" on older BSD platforms */
  #define HAVE_MEMMOVE 1
--- 42,48 ----
  /* #undef USE_BUILTIN_RINT */
  
  /* POSIX Regular Expressions Available */
! #define HAVE_REGCOMP 1
  
  /* Compatibility for "memmove" on older BSD platforms */
  #define HAVE_MEMMOVE 1

*** src/main/Makefile.origin    Tue Mar 24 15:47:08 1998
--- src/main/Makefile   Tue Mar 24 16:26:14 1998
***************
*** 1,11 ****
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include
  LDCMD=cc
  DLLFLAGS=
  PICFLAGS=
  SHLIBLDFLAGS=-shared
! LIBS=-ldl -lreadline -ltermcap -lm 
  X_CFLAGS=
  X_LIBS= -lX11
  X_EXTRA_LIBS=
--- 1,11 ----
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include -I/usr/local/include
  LDCMD=cc
  DLLFLAGS=
  PICFLAGS=
  SHLIBLDFLAGS=-shared
! LIBS=-ldl -lreadline -ltermcap -lm -lrx 
  X_CFLAGS=
  X_LIBS= -lX11
  X_EXTRA_LIBS=

*** src/unix/Makefile.origin    Tue Mar 24 15:47:10 1998
--- src/unix/Makefile   Tue Mar 24 16:19:34 1998
***************
*** 1,6 ****
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include
  AR=ar
  RANLIB=:
  X_CFLAGS=
--- 1,6 ----
  # Generated automatically from Makefile.in by configure.
  CC=cc
! CFLAGS=-g -I../include -I/usr/local/include
  AR=ar
  RANLIB=:
  X_CFLAGS=

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme@uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@math.sc.edu  Wed Mar 25 15:10:24 1998
From: rossini@math.sc.edu (Anthony Rossini)
Date: 25 Mar 1998 10:10:24 -0500
Subject: R alpha/beta naming
In-Reply-To: Peter Dalgaard BSA's message of "25 Mar 1998 11:32:13 +0100"
References: <199803250822.JAA19152@sophie.ethz.ch> 	<13592.49725.379491.144013@pc25.none> <x2pvjbf4cy.fsf@blueberry.kubism.ku.dk>
Message-ID: <wncn2ee24db.fsf@fhat.stat.sc.edu>



Until we get 1.0, I don't understand what the alpha/beta designations
mean.  I.e. from one view, it's beta, since the interface is
reasonably solid, and just some fixes need to be done.  Then one could 
consider that a whole new module will show up (implying alpha-status).

I think that stable/unstable would be better labels.

best,
-tony

---
Anthony Rossini
Manifold Graphics / Epimetrics
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 26 10:20:00 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Mar 1998 11:20:00 +0100
Subject: S Mailing List (and ``netiquette...'')
In-Reply-To: <1998Mar25.111514.1268.1100271@msmail.cnp.cldx.com>
 (JMorris@cldx.com)
Message-ID: <199803261020.LAA00727@sophie.ethz.ch>

>>>>> "Morris," == Morris, Jeffrey <JMorris@cldx.com> writes:

    Morris,> I know that the S Mailing list recently moved but am not sure
    Morris,> where.  I recently moved and would like to resubscribe to the
    Morris,> S Mailing list.  Could someone send me the latest info on
    Morris,> subscribing?

Every message on S-news now has the following ``trailer'':
>> -----------------------------------------------------------------------
>> This message was distributed by s-news@wubios.wustl.edu.  To unsubscribe
>> send e-mail to s-news-request@wubios.wustl.edu with the BODY of the
>> message:  unsubscribe s-news


Jeff, I think there would have been more appropriate ways for finding that
information than to send an e-mail to ~ 230 people
(one of them  un-subscribed in the sequence; 
 BTW: Every time we get a few ``inappropriate'' messages in R-help,
      a few people do unsubscribe...)
R-help subscribers want pertinent information, announcements, questions and
answers on R.


Regards:	
Martin Maechler <maechler@stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 26 10:28:22 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Mar 1998 11:28:22 +0100
Subject: R-beta: errors in R help docs
In-Reply-To: <Pine.OSF.3.95.980325105828.10239B-100000@io.uwinnipeg.ca>
 (message from Bill Simpson on Wed, 25 Mar 1998 11:02:38 -0600 (CST))
Message-ID: <199803261028.LAA00741@sophie.ethz.ch>

Thank you very much, Bill, 
for reporting this.

I will put yourfix into the source.

However,
for minor fixes like this one, I'd think "R-devel" would be have been more
appropriate.

Thank you, once more: Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Thu Mar 26 10:58:55 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 26 Mar 1998 22:58:55 +1200 (NZST)
Subject: We've got the power (almost)
Message-ID: <199803261058.WAA04058@stat1.stat.auckland.ac.nz>

Over the next few days Auckland will be back to full power levels.
I've been staying away from work as much as possible in the name of
power saving (it gets to be habit forming :-).  I hope to be a bit more
productive on R stuff soon.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Mar 26 11:04:30 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 26 Mar 1998 12:04:30 +0100
Subject: S programming style & "missing(.)" [was "regarding bugs in barplot" on R-core]
In-Reply-To: <199803260055.MAA22903@stat1.stat.auckland.ac.nz> (message from
 Paul Murrell on Thu, 26 Mar 1998 12:55:23 +1200 (NZST))
Message-ID: <199803261104.MAA00782@sophie.ethz.ch>

	[The part about S (S-plus and R being dialects of S) programming
	 (at the end) makes me cc'ing this to R-devel. MM]

On R-core,
>>>>> "Paul" == Paul Murrell <paul@stat.auckland.ac.nz> writes:

    Paul> hi (i) the problem with the positioning of the legend in your
    Paul> barplot example:

    Paul> barplot(matrix(1:12,ncol=3),bes=T,legend.text=c("ABC","B2","C3","D4"),col=1:4)
    Paul> was actually a bug in legend() (now fixed)

thank you for the fix (I'm probably also among the culprits..).
Since it's mentioned here, following is the patch against 0.61.2:

--- R-0.61.2/src/library/base/R/legend	Wed Nov 12 04:53:32 1997
+++ R-devel/src/library/base/R/legend.R	Thu Mar 26 06:02:23 1998
@@ -60,13 +60,17 @@
 		if(!merge) w <- w + x.intersp * xchar
 	if(merge) w <- w + x.intersp * xchar
 	## (w,h) are now the final box width/height. --> Adjust (x,y) :
-	x <- x - xjust * w
-	y <- y + (1 - yjust) * h
+	left <- x - xjust * w
+	top <- y + (1 - yjust) * h
+	right <- left+w
+	bottom <- top-h
+	if (xlog) { left <- 10^left; right <- 10^right }
+	if (ylog) { top <- 10^top; bottom <- 10^bottom }
 	if (bty != "n")
-		rect(x, y, x+w, y-h, col = bg)
+		rect(left, top, right, bottom, col = bg)
 	## (xt[],yt[]) := 'current' vectors of (x/y) legend text
-	xt <- rep(x, n.leg) + xchar
-	yt <- y - (1:n.leg) * ychar
+	xt <- rep(left, n.leg) + xchar
+	yt <- top - (1:n.leg) * ychar
 	if (!missing(fill)) {	#- draw filled boxes -------------
 		xx <- cbind(xt, xt + xbox)
 		if (xlog) xx <- 10^xx


    Paul> (ii) i am told that the "!missing(col)" condition that meant a
    Paul> legend would not be drawn if col was not specified is a
    Paul> historical "feature" (from when col did not have a default
    Paul> value).  i have removed the condition.

thank you, Paul.

May I add something  much more general here
 	(and also pertinent to barplot(.)):

	    ==================================	   
My point:  || almost never use	missing(arg) ||
	   || rather use	is.null(arg) ||
	    ==================================	   

(I have the impression that this rule is actually even observed by
 increasingly more S "programmers").

This actually goes back to a discussion on S-news of Dec. 20-22, 1994,
 Rick Becker started to give "S Programming Style" hints,
 John Maindonald added to them, giving the is.null(.) hint,
 and Rich Heiberger and me ``concluded'']

Here an excerpt of these December 1994 mailings:
RMH:
	My conclusion is that an explicit NULL default value is safer than
	a missing default.
MM:

MM94> I completely agree ---
MM94> it has the further advantage (hidden in RMH's example)
MM94> that you can explicitly set the parameter to NULL
MM94> which allows for the following  nice code in a calling function :
MM94> 
MM94> 	myfunction <- function(.........) {
MM94>          .....
MM94> 	 mm <- sub.function(x,y,z,u,v,w,  def.par = if(abcdef) pi )
MM94>          .....
MM94> 	}
MM94> 
MM94> The  ``if(CC) A'' as an expression returns NULL if CC evaluates to FALSE
MM94> such that in the example, the  def.par  argument
MM94> is either set to  pi  or NULL.
MM94> WITHIN  sub.function(.),
MM94>   missing(def.par)   evaluates to FALSE in BOTH cases,
MM94> whereas
MM94>   is.null(def.par)
MM94> tells you if the default is taken or not....
MM94> 
MM94> such that when  sub.function(.)  uses  missing(def.par)
MM94> the above code fragment would have to look more ugly, repeating the whole
MM94> argument list of sub.function [think of a LOOOONG list x,y,z,u,v,w,...]
MM94> 
MM94> 	myfunction <- function(.........) {
MM94>          .....
MM94> 	 mm <- if(abcdef) sub.function(x,y,z,u,v,w,  def.par = pi )
MM94>                 else      sub.function(x,y,z,u,v,w)
MM94>          .....
MM94> 	}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Mar 27 14:33:02 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Mar 1998 15:33:02 +0100
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
Message-ID: <199803271433.PAA09656@sophie.ethz.ch>

I'm doing some systematic investigations about which functions are
<primitive> in R (and which of these should be changed to .Internal(...))...

I just discovered :

> x <- 1:10
> comment(x)
NULL
> comment(x) <- "x is just a vector"
> x
 [1]  1  2  3  4  5  6  7  8  9 10
> attributes(x)
$comment
[1] "x is just a vector"

> comment(x)
[1] "x is just a vector"

----------
Who of you (besides Ross?)  did know this feature.

"comment" is an *INVISIBLE* (for printing) 
attribute you can give to anything, including  functions and data.frames.

Any volunteer for writing a Rdoc file "comment.Rd" (for `?comment' to
work)?

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Fri Mar 27 21:31:21 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 28 Mar 1998 09:31:21 +1200 (NZST)
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
Message-ID: <199803272131.JAA24513@stat1.stat.auckland.ac.nz>

> From r-devel-owner@stat.math.ethz.ch Sat Mar 28 02:30 NZS 1998
> Date: Fri, 27 Mar 1998 15:33:02 +0100
> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: R-devel@stat.math.ethz.ch
> Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
> Mime-Version: 1.0 (generated by tm-edit 7.95)
>
> I'm doing some systematic investigations about which functions are
> <primitive> in R (and which of these should be changed to .Internal(...))...
>
> I just discovered :
>
> > x <- 1:10
> > comment(x)
> NULL
> > comment(x) <- "x is just a vector"
> > x
>  [1]  1  2  3  4  5  6  7  8  9 10
> > attributes(x)
> $comment
> [1] "x is just a vector"
>
> > comment(x)
> [1] "x is just a vector"
>
> ----------
> Who of you (besides Ross?)  did know this feature.

You are making the assumption that I know about this :-).
I do have a very vague memory of trying something like this as
and experiment.  Is it worth keeping?

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Mar 27 23:16:37 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Mar 1998 00:16:37 +0100
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
In-Reply-To: Ross Ihaka's message of Sat, 28 Mar 1998 09:31:21 +1200 (NZST)
References: <199803272131.JAA24513@stat1.stat.auckland.ac.nz>
Message-ID: <x2vhszafmy.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:

> > Who of you (besides Ross?)  did know this feature.
> 
> You are making the assumption that I know about this :-).
> I do have a very vague memory of trying something like this as
> and experiment.  Is it worth keeping?
> 
> 	Ross

Definitely. Not very long ago someone asked whether there was an R
equivalent of SPSS's description field...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From warnes@biostat.washington.edu  Sat Mar 28 00:43:22 1998
From: warnes@biostat.washington.edu (Gregory R. Warnes)
Date: Fri, 27 Mar 1998 16:43:22 -0800 (PST)
Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
In-Reply-To: <199803272131.JAA24513@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.SOL.3.95.980327164112.23081B-100000@gorn>


On Sat, 28 Mar 1998, Ross Ihaka wrote:

> > From: Martin Maechler <maechler@stat.math.ethz.ch>
> > To: R-devel@stat.math.ethz.ch
> > Subject: R: did you know  ``comment(.) and  comment(.) <- ...''
>
[...]
> and experiment.  Is it worth keeping?

I think it's worth keeping!  

-Greg

-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes@biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Mar 30 22:12:30 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 30 Mar 1998 16:12:30 -0500
Subject: R-beta: Not loading C library
References: <351FD4CA.798F14@kiefte.v-wave.com>
Message-ID: <98Mar30.161712est.13442@mailgate.bank-banque-canada.ca>

>I try sourcing test.R from the 'class' package, I get this error:
>EError in .C("VR_knn1", as.integer(ntr), as.integer(nte), as.integer(p),
>: C/Fortran function not in load table

I haven't used this package but you should be using library("class") rather than
source to get class.so loaded. Also beware,
(R-devel: I HOPE THIS SIMPLE BUG IS FIXED IN NEW RELEASES OF R BECAUSE IT HAS
THE POTENTIAL TO CAUSE A LOT
OF UNNECESSARY PROBLEMS)
there was a message once on r-devel about a bug in library.dynam which may be
causing the problem. I've lost the message, but as I recall, if you save your
workspace when you q() (ie. create the .RData file) then when R starts it
reloads  a variable .Dyn.libs which indicates libraries which have been loaded
(even
though they are not yet loaded in the new session). I think if you
    rm(.Dyn.libs)
before you do
    library("class")
then it may work.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Mar 31 08:31:07 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 31 Mar 1998 09:31:07 +0200
Subject: R-beta: Not loading C library
In-Reply-To: <98Mar30.161712est.13442@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Mon, 30 Mar 1998 16:12:30 -0500)
Message-ID: <199803310731.JAA00493@sophie.ethz.ch>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    >> I try sourcing test.R from the 'class' package, I get this error:
    >> EError in .C("VR_knn1", as.integer(ntr), as.integer(nte),
    >> as.integer(p), : C/Fortran function not in load table

    PaulG> I haven't used this package but you should be using
    PaulG> library("class") rather than source to get class.so loaded. Also
    PaulG> beware, (R-devel: I HOPE THIS SIMPLE BUG IS FIXED IN NEW
    PaulG> RELEASES OF R BECAUSE IT HAS THE POTENTIAL TO CAUSE A LOT OF
    PaulG> UNNECESSARY PROBLEMS)

You mean, "source(..)" instead of  "library(..)" ?

 ``No way!''

1) Packages (formerly know as "libraries") are attached to a different
   place on the search() list,  whereas  source(.) would mix the package
   objects with your own objects.
   Nobody should encourage this.

2) Packages may load compiled code (see below) which is done using
   library.dynam (in 0.61.x) or rather
   library.dynam WITHIN a .First.lib function (from 0.62.0 on).

    PaulG> there was a message once on r-devel about
    PaulG> a bug in library.dynam which may be causing the problem. I've
    PaulG> lost the message, but as I recall, if you save your workspace
    PaulG> when you q() (ie. create the .RData file) then when R starts it
    PaulG> reloads a variable .Dyn.libs which indicates libraries which
    PaulG> have been loaded (even though they are not yet loaded in the new
    PaulG> session). I think if you rm(.Dyn.libs) before you do
    PaulG> library("class") then it may work.

You are correct, Paul.
However, this bug was fixed ``from 0.61.1 to 0.61.2''.
As was said by our release master, Peter Dalgaard, 
0.61.2 has been a bug fix release where we have been careful not to
introduce any new bugs (and for that reason did not include 
several nice new features of the development version).

Martin.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Mar 31 21:46:53 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 31 Mar 1998 15:46:53 -0500
Subject: R-beta: Not loading C library
References: <199803310731.JAA00493@sophie.ethz.ch>
Message-ID: <98Mar31.155223est.13459@mailgate.bank-banque-canada.ca>

    PaulG> when you q() (ie. create the .RData file) then when R starts it
    PaulG> reloads a variable .Dyn.libs which indicates libraries which
    PaulG> have been loaded (even though they are not yet loaded in the new
    PaulG> session). I think if you rm(.Dyn.libs) before you do
    PaulG> library("class") then it may work.
>However, this bug was fixed ``from 0.61.1 to 0.61.2''.
>As was said by our release master, Peter Dalgaard,
>0.61.2 has been a bug fix release where we have been careful not to

Martin
I just confirmed that Michael Kiefte seems to be  experiencing this problem in
0.61.2 Alpha, so I'm not so sure it has been fixed. But, of course, I'm more
concerned that it is fixed in 0.62.
Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Mar 31 23:24:28 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Apr 1998 00:24:28 +0200
Subject: R-beta: Not loading C library
In-Reply-To: Paul Gilbert's message of Tue, 31 Mar 1998 15:46:53 -0500
References: <199803310731.JAA00493@sophie.ethz.ch>
 <98Mar31.155223est.13459@mailgate.bank-banque-canada.ca>
Message-ID: <x2afa6a483.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> 
>     PaulG> when you q() (ie. create the .RData file) then when R starts it
>     PaulG> reloads a variable .Dyn.libs which indicates libraries which
>     PaulG> have been loaded (even though they are not yet loaded in the new
>     PaulG> session). I think if you rm(.Dyn.libs) before you do
>     PaulG> library("class") then it may work.
> >However, this bug was fixed ``from 0.61.1 to 0.61.2''.
> >As was said by our release master, Peter Dalgaard,
> >0.61.2 has been a bug fix release where we have been careful not to
> 
> Martin
> I just confirmed that Michael Kiefte seems to be  experiencing this problem in
> 0.61.2 Alpha, so I'm not so sure it has been fixed. But, of course, I'm more
> concerned that it is fixed in 0.62.
> Paul

Argh. Right. The .Dyn.libs problem is still in 0.61.2. Like Martin, I
could have *sworn* that it was fixed...

A workaround is simply to remove .Dyn.libs in the startup code. It
should suffice to change the system Rprofile by having something like
this in it:

.First <- function() {
  .Dyn.libs<<-NULL; rm(.Dyn.libs,pos=1)
  if (interactive() && getenv("DISPLAY") != "") x11()
}

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

